var $k=Object.defineProperty;var Mk=(n,e,t)=>e in n?$k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var cr=(n,e,t)=>(Mk(n,typeof e!="symbol"?e+"":e,t),t);function OV(){import.meta.url,import("_").catch(()=>1);async function*n(){}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fs(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Ik(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var gx={exports:{}},lh={},yx={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ac=Symbol.for("react.element"),Ok=Symbol.for("react.portal"),_k=Symbol.for("react.fragment"),Dk=Symbol.for("react.strict_mode"),Lk=Symbol.for("react.profiler"),qk=Symbol.for("react.provider"),Bk=Symbol.for("react.context"),Fk=Symbol.for("react.forward_ref"),Uk=Symbol.for("react.suspense"),jk=Symbol.for("react.memo"),zk=Symbol.for("react.lazy"),Zb=Symbol.iterator;function Vk(n){return n===null||typeof n!="object"?null:(n=Zb&&n[Zb]||n["@@iterator"],typeof n=="function"?n:null)}var bx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vx=Object.assign,wx={};function fa(n,e,t){this.props=n,this.context=e,this.refs=wx,this.updater=t||bx}fa.prototype.isReactComponent={};fa.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};fa.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Ex(){}Ex.prototype=fa.prototype;function Ig(n,e,t){this.props=n,this.context=e,this.refs=wx,this.updater=t||bx}var Og=Ig.prototype=new Ex;Og.constructor=Ig;vx(Og,fa.prototype);Og.isPureReactComponent=!0;var e0=Array.isArray,xx=Object.prototype.hasOwnProperty,_g={current:null},Tx={key:!0,ref:!0,__self:!0,__source:!0};function Sx(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xx.call(e,i)&&!Tx.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ac,type:n,key:s,ref:o,props:r,_owner:_g.current}}function Hk(n,e){return{$$typeof:ac,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Dg(n){return typeof n=="object"&&n!==null&&n.$$typeof===ac}function Wk(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var t0=/\/+/g;function Mp(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Wk(""+n.key):e.toString(36)}function Ou(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case ac:case Ok:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Mp(o,0):i,e0(r)?(t="",n!=null&&(t=n.replace(t0,"$&/")+"/"),Ou(r,e,t,"",function(c){return c})):r!=null&&(Dg(r)&&(r=Hk(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(t0,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",e0(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Mp(s,a);o+=Ou(s,e,t,l,r)}else if(l=Vk(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Mp(s,a++),o+=Ou(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Wc(n,e,t){if(n==null)return n;var i=[],r=0;return Ou(n,i,"","",function(s){return e.call(t,s,r++)}),i}function Qk(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var xn={current:null},_u={transition:null},Gk={ReactCurrentDispatcher:xn,ReactCurrentBatchConfig:_u,ReactCurrentOwner:_g};je.Children={map:Wc,forEach:function(n,e,t){Wc(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Wc(n,function(){e++}),e},toArray:function(n){return Wc(n,function(e){return e})||[]},only:function(n){if(!Dg(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};je.Component=fa;je.Fragment=_k;je.Profiler=Lk;je.PureComponent=Ig;je.StrictMode=Dk;je.Suspense=Uk;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gk;je.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=vx({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=_g.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)xx.call(e,l)&&!Tx.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:ac,type:n.type,key:r,ref:s,props:i,_owner:o}};je.createContext=function(n){return n={$$typeof:Bk,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:qk,_context:n},n.Consumer=n};je.createElement=Sx;je.createFactory=function(n){var e=Sx.bind(null,n);return e.type=n,e};je.createRef=function(){return{current:null}};je.forwardRef=function(n){return{$$typeof:Fk,render:n}};je.isValidElement=Dg;je.lazy=function(n){return{$$typeof:zk,_payload:{_status:-1,_result:n},_init:Qk}};je.memo=function(n,e){return{$$typeof:jk,type:n,compare:e===void 0?null:e}};je.startTransition=function(n){var e=_u.transition;_u.transition={};try{n()}finally{_u.transition=e}};je.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};je.useCallback=function(n,e){return xn.current.useCallback(n,e)};je.useContext=function(n){return xn.current.useContext(n)};je.useDebugValue=function(){};je.useDeferredValue=function(n){return xn.current.useDeferredValue(n)};je.useEffect=function(n,e){return xn.current.useEffect(n,e)};je.useId=function(){return xn.current.useId()};je.useImperativeHandle=function(n,e,t){return xn.current.useImperativeHandle(n,e,t)};je.useInsertionEffect=function(n,e){return xn.current.useInsertionEffect(n,e)};je.useLayoutEffect=function(n,e){return xn.current.useLayoutEffect(n,e)};je.useMemo=function(n,e){return xn.current.useMemo(n,e)};je.useReducer=function(n,e,t){return xn.current.useReducer(n,e,t)};je.useRef=function(n){return xn.current.useRef(n)};je.useState=function(n){return xn.current.useState(n)};je.useSyncExternalStore=function(n,e,t){return xn.current.useSyncExternalStore(n,e,t)};je.useTransition=function(){return xn.current.useTransition()};je.version="18.2.0";yx.exports=je;var we=yx.exports;const ee=fs(we);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kk=we,Yk=Symbol.for("react.element"),Jk=Symbol.for("react.fragment"),Xk=Object.prototype.hasOwnProperty,Zk=Kk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eR={key:!0,ref:!0,__self:!0,__source:!0};function Cx(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Xk.call(e,i)&&!eR.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Yk,type:n,key:s,ref:o,props:r,_owner:Zk.current}}lh.Fragment=Jk;lh.jsx=Cx;lh.jsxs=Cx;gx.exports=lh;var z=gx.exports;/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var n0;(function(n){(function(e){var t=typeof Xb=="object"?Xb:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),i=r(n);typeof t.Reflect>"u"?t.Reflect=n:i=r(t.Reflect,i),e(i);function r(s,o){return function(a,l){typeof s[a]!="function"&&Object.defineProperty(s,a,{configurable:!0,writable:!0,value:l}),o&&o(a,l)}}})(function(e){var t=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",r=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",a={__proto__:[]}instanceof Array,l=!o&&!a,c={create:o?function(){return Ln(Object.create(null))}:a?function(){return Ln({__proto__:null})}:function(){return Ln({})},has:l?function(Q,re){return t.call(Q,re)}:function(Q,re){return re in Q},get:l?function(Q,re){return t.call(Q,re)?Q[re]:void 0}:function(Q,re){return Q[re]}},u=Object.getPrototypeOf(Function),d=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",h=!d&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:ji(),p=!d&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Vt(),g=!d&&typeof WeakMap=="function"?WeakMap:$t(),m=new g;function T(Q,re,de,C){if(J(de)){if(!gn(Q))throw new TypeError;if(!Lt(re))throw new TypeError;return H(Q,re)}else{if(!gn(Q))throw new TypeError;if(!Te(re))throw new TypeError;if(!Te(C)&&!J(C)&&!ce(C))throw new TypeError;return ce(C)&&(C=void 0),de=xt(de),A(Q,re,de,C)}}e("decorate",T);function w(Q,re){function de(C,y){if(!Te(C))throw new TypeError;if(!J(y)&&!Dn(y))throw new TypeError;ae(Q,re,C,y)}return de}e("metadata",w);function b(Q,re,de,C){if(!Te(de))throw new TypeError;return J(C)||(C=xt(C)),ae(Q,re,de,C)}e("defineMetadata",b);function v(Q,re,de){if(!Te(re))throw new TypeError;return J(de)||(de=xt(de)),D(Q,re,de)}e("hasMetadata",v);function N(Q,re,de){if(!Te(re))throw new TypeError;return J(de)||(de=xt(de)),G(Q,re,de)}e("hasOwnMetadata",N);function M(Q,re,de){if(!Te(re))throw new TypeError;return J(de)||(de=xt(de)),ne(Q,re,de)}e("getMetadata",M);function L(Q,re,de){if(!Te(re))throw new TypeError;return J(de)||(de=xt(de)),ue(Q,re,de)}e("getOwnMetadata",L);function I(Q,re){if(!Te(Q))throw new TypeError;return J(re)||(re=xt(re)),te(Q,re)}e("getMetadataKeys",I);function $(Q,re){if(!Te(Q))throw new TypeError;return J(re)||(re=xt(re)),Z(Q,re)}e("getOwnMetadataKeys",$);function k(Q,re,de){if(!Te(re))throw new TypeError;J(de)||(de=xt(de));var C=F(re,de,!1);if(J(C)||!C.delete(Q))return!1;if(C.size>0)return!0;var y=m.get(re);return y.delete(de),y.size>0||m.delete(re),!0}e("deleteMetadata",k);function H(Q,re){for(var de=Q.length-1;de>=0;--de){var C=Q[de],y=C(re);if(!J(y)&&!ce(y)){if(!Lt(y))throw new TypeError;re=y}}return re}function A(Q,re,de,C){for(var y=Q.length-1;y>=0;--y){var x=Q[y],R=x(re,de,C);if(!J(R)&&!ce(R)){if(!Te(R))throw new TypeError;C=R}}return C}function F(Q,re,de){var C=m.get(Q);if(J(C)){if(!de)return;C=new h,m.set(Q,C)}var y=C.get(re);if(J(y)){if(!de)return;y=new h,C.set(re,y)}return y}function D(Q,re,de){var C=G(Q,re,de);if(C)return!0;var y=tt(re);return ce(y)?!1:D(Q,y,de)}function G(Q,re,de){var C=F(re,de,!1);return J(C)?!1:_e(C.has(Q))}function ne(Q,re,de){var C=G(Q,re,de);if(C)return ue(Q,re,de);var y=tt(re);if(!ce(y))return ne(Q,y,de)}function ue(Q,re,de){var C=F(re,de,!1);if(!J(C))return C.get(Q)}function ae(Q,re,de,C){var y=F(de,C,!0);y.set(Q,re)}function te(Q,re){var de=Z(Q,re),C=tt(Q);if(C===null)return de;var y=te(C,re);if(y.length<=0)return de;if(de.length<=0)return y;for(var x=new p,R=[],_=0,U=de;_<U.length;_++){var Y=U[_],ge=x.has(Y);ge||(x.add(Y),R.push(Y))}for(var ye=0,We=y;ye<We.length;ye++){var Y=We[ye],ge=x.has(Y);ge||(x.add(Y),R.push(Y))}return R}function Z(Q,re){var de=[],C=F(Q,re,!1);if(J(C))return de;for(var y=C.keys(),x=or(y),R=0;;){var _=ar(x);if(!_)return de.length=R,de;var U=Ir(_);try{de[R]=U}catch(Y){try{Me(x)}finally{throw Y}}R++}}function j(Q){if(Q===null)return 1;switch(typeof Q){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return Q===null?1:6;default:return 6}}function J(Q){return Q===void 0}function ce(Q){return Q===null}function ve(Q){return typeof Q=="symbol"}function Te(Q){return typeof Q=="object"?Q!==null:typeof Q=="function"}function Ce(Q,re){switch(j(Q)){case 0:return Q;case 1:return Q;case 2:return Q;case 3:return Q;case 4:return Q;case 5:return Q}var de=re===3?"string":re===5?"number":"default",C=ft(Q,r);if(C!==void 0){var y=C.call(Q,de);if(Te(y))throw new TypeError;return y}return $e(Q,de==="default"?"number":de)}function $e(Q,re){if(re==="string"){var de=Q.toString;if(sn(de)){var C=de.call(Q);if(!Te(C))return C}var y=Q.valueOf;if(sn(y)){var C=y.call(Q);if(!Te(C))return C}}else{var y=Q.valueOf;if(sn(y)){var C=y.call(Q);if(!Te(C))return C}var x=Q.toString;if(sn(x)){var C=x.call(Q);if(!Te(C))return C}}throw new TypeError}function _e(Q){return!!Q}function pt(Q){return""+Q}function xt(Q){var re=Ce(Q,3);return ve(re)?re:pt(re)}function gn(Q){return Array.isArray?Array.isArray(Q):Q instanceof Object?Q instanceof Array:Object.prototype.toString.call(Q)==="[object Array]"}function sn(Q){return typeof Q=="function"}function Lt(Q){return typeof Q=="function"}function Dn(Q){switch(j(Q)){case 3:return!0;case 4:return!0;default:return!1}}function ft(Q,re){var de=Q[re];if(de!=null){if(!sn(de))throw new TypeError;return de}}function or(Q){var re=ft(Q,s);if(!sn(re))throw new TypeError;var de=re.call(Q);if(!Te(de))throw new TypeError;return de}function Ir(Q){return Q.value}function ar(Q){var re=Q.next();return re.done?!1:re}function Me(Q){var re=Q.return;re&&re.call(Q)}function tt(Q){var re=Object.getPrototypeOf(Q);if(typeof Q!="function"||Q===u||re!==u)return re;var de=Q.prototype,C=de&&Object.getPrototypeOf(de);if(C==null||C===Object.prototype)return re;var y=C.constructor;return typeof y!="function"||y===Q?re:y}function ji(){var Q={},re=[],de=function(){function R(_,U,Y){this._index=0,this._keys=_,this._values=U,this._selector=Y}return R.prototype["@@iterator"]=function(){return this},R.prototype[s]=function(){return this},R.prototype.next=function(){var _=this._index;if(_>=0&&_<this._keys.length){var U=this._selector(this._keys[_],this._values[_]);return _+1>=this._keys.length?(this._index=-1,this._keys=re,this._values=re):this._index++,{value:U,done:!1}}return{value:void 0,done:!0}},R.prototype.throw=function(_){throw this._index>=0&&(this._index=-1,this._keys=re,this._values=re),_},R.prototype.return=function(_){return this._index>=0&&(this._index=-1,this._keys=re,this._values=re),{value:_,done:!0}},R}();return function(){function R(){this._keys=[],this._values=[],this._cacheKey=Q,this._cacheIndex=-2}return Object.defineProperty(R.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),R.prototype.has=function(_){return this._find(_,!1)>=0},R.prototype.get=function(_){var U=this._find(_,!1);return U>=0?this._values[U]:void 0},R.prototype.set=function(_,U){var Y=this._find(_,!0);return this._values[Y]=U,this},R.prototype.delete=function(_){var U=this._find(_,!1);if(U>=0){for(var Y=this._keys.length,ge=U+1;ge<Y;ge++)this._keys[ge-1]=this._keys[ge],this._values[ge-1]=this._values[ge];return this._keys.length--,this._values.length--,_===this._cacheKey&&(this._cacheKey=Q,this._cacheIndex=-2),!0}return!1},R.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=Q,this._cacheIndex=-2},R.prototype.keys=function(){return new de(this._keys,this._values,C)},R.prototype.values=function(){return new de(this._keys,this._values,y)},R.prototype.entries=function(){return new de(this._keys,this._values,x)},R.prototype["@@iterator"]=function(){return this.entries()},R.prototype[s]=function(){return this.entries()},R.prototype._find=function(_,U){return this._cacheKey!==_&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=_)),this._cacheIndex<0&&U&&(this._cacheIndex=this._keys.length,this._keys.push(_),this._values.push(void 0)),this._cacheIndex},R}();function C(R,_){return R}function y(R,_){return _}function x(R,_){return[R,_]}}function Vt(){return function(){function Q(){this._map=new h}return Object.defineProperty(Q.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Q.prototype.has=function(re){return this._map.has(re)},Q.prototype.add=function(re){return this._map.set(re,re),this},Q.prototype.delete=function(re){return this._map.delete(re)},Q.prototype.clear=function(){this._map.clear()},Q.prototype.keys=function(){return this._map.keys()},Q.prototype.values=function(){return this._map.values()},Q.prototype.entries=function(){return this._map.entries()},Q.prototype["@@iterator"]=function(){return this.keys()},Q.prototype[s]=function(){return this.keys()},Q}()}function $t(){var Q=16,re=c.create(),de=C();return function(){function U(){this._key=C()}return U.prototype.has=function(Y){var ge=y(Y,!1);return ge!==void 0?c.has(ge,this._key):!1},U.prototype.get=function(Y){var ge=y(Y,!1);return ge!==void 0?c.get(ge,this._key):void 0},U.prototype.set=function(Y,ge){var ye=y(Y,!0);return ye[this._key]=ge,this},U.prototype.delete=function(Y){var ge=y(Y,!1);return ge!==void 0?delete ge[this._key]:!1},U.prototype.clear=function(){this._key=C()},U}();function C(){var U;do U="@@WeakMap@@"+_();while(c.has(re,U));return re[U]=!0,U}function y(U,Y){if(!t.call(U,de)){if(!Y)return;Object.defineProperty(U,de,{value:c.create()})}return U[de]}function x(U,Y){for(var ge=0;ge<Y;++ge)U[ge]=Math.random()*255|0;return U}function R(U){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(U)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(U)):x(new Uint8Array(U),U):x(new Array(U),U)}function _(){var U=R(Q);U[6]=U[6]&79|64,U[8]=U[8]&191|128;for(var Y="",ge=0;ge<Q;++ge){var ye=U[ge];(ge===4||ge===6||ge===8)&&(Y+="-"),ye<16&&(Y+="0"),Y+=ye.toString(16).toLowerCase()}return Y}}function Ln(Q){return Q.__=void 0,delete Q.__,Q}})})(n0||(n0={}));var Ax={exports:{}},Gn={},Nx={exports:{}},kx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(te,Z){var j=te.length;te.push(Z);e:for(;0<j;){var J=j-1>>>1,ce=te[J];if(0<r(ce,Z))te[J]=Z,te[j]=ce,j=J;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var Z=te[0],j=te.pop();if(j!==Z){te[0]=j;e:for(var J=0,ce=te.length,ve=ce>>>1;J<ve;){var Te=2*(J+1)-1,Ce=te[Te],$e=Te+1,_e=te[$e];if(0>r(Ce,j))$e<ce&&0>r(_e,Ce)?(te[J]=_e,te[$e]=j,J=$e):(te[J]=Ce,te[Te]=j,J=Te);else if($e<ce&&0>r(_e,j))te[J]=_e,te[$e]=j,J=$e;else break e}}return Z}function r(te,Z){var j=te.sortIndex-Z.sortIndex;return j!==0?j:te.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,g=!1,m=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(te){for(var Z=t(c);Z!==null;){if(Z.callback===null)i(c);else if(Z.startTime<=te)i(c),Z.sortIndex=Z.expirationTime,e(l,Z);else break;Z=t(c)}}function N(te){if(m=!1,v(te),!g)if(t(l)!==null)g=!0,ue(M);else{var Z=t(c);Z!==null&&ae(N,Z.startTime-te)}}function M(te,Z){g=!1,m&&(m=!1,w($),$=-1),p=!0;var j=h;try{for(v(Z),d=t(l);d!==null&&(!(d.expirationTime>Z)||te&&!A());){var J=d.callback;if(typeof J=="function"){d.callback=null,h=d.priorityLevel;var ce=J(d.expirationTime<=Z);Z=n.unstable_now(),typeof ce=="function"?d.callback=ce:d===t(l)&&i(l),v(Z)}else i(l);d=t(l)}if(d!==null)var ve=!0;else{var Te=t(c);Te!==null&&ae(N,Te.startTime-Z),ve=!1}return ve}finally{d=null,h=j,p=!1}}var L=!1,I=null,$=-1,k=5,H=-1;function A(){return!(n.unstable_now()-H<k)}function F(){if(I!==null){var te=n.unstable_now();H=te;var Z=!0;try{Z=I(!0,te)}finally{Z?D():(L=!1,I=null)}}else L=!1}var D;if(typeof b=="function")D=function(){b(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ne=G.port2;G.port1.onmessage=F,D=function(){ne.postMessage(null)}}else D=function(){T(F,0)};function ue(te){I=te,L||(L=!0,D())}function ae(te,Z){$=T(function(){te(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){g||p||(g=!0,ue(M))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(te){switch(h){case 1:case 2:case 3:var Z=3;break;default:Z=h}var j=h;h=Z;try{return te()}finally{h=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,Z){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var j=h;h=te;try{return Z()}finally{h=j}},n.unstable_scheduleCallback=function(te,Z,j){var J=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?J+j:J):j=J,te){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=j+ce,te={id:u++,callback:Z,priorityLevel:te,startTime:j,expirationTime:ce,sortIndex:-1},j>J?(te.sortIndex=j,e(c,te),t(l)===null&&te===t(c)&&(m?(w($),$=-1):m=!0,ae(N,j-J))):(te.sortIndex=ce,e(l,te),g||p||(g=!0,ue(M))),te},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(te){var Z=h;return function(){var j=h;h=Z;try{return te.apply(this,arguments)}finally{h=j}}}})(kx);Nx.exports=kx;var tR=Nx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rx=we,Qn=tR;function pe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Px=new Set,Ml={};function io(n,e){Xo(n,e),Xo(n+"Capture",e)}function Xo(n,e){for(Ml[n]=e,n=0;n<e.length;n++)Px.add(e[n])}var Cr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),em=Object.prototype.hasOwnProperty,nR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,i0={},r0={};function iR(n){return em.call(r0,n)?!0:em.call(i0,n)?!1:nR.test(n)?r0[n]=!0:(i0[n]=!0,!1)}function rR(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function sR(n,e,t,i){if(e===null||typeof e>"u"||rR(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){nn[n]=new Tn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];nn[e]=new Tn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){nn[n]=new Tn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){nn[n]=new Tn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){nn[n]=new Tn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){nn[n]=new Tn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){nn[n]=new Tn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){nn[n]=new Tn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){nn[n]=new Tn(n,5,!1,n.toLowerCase(),null,!1,!1)});var Lg=/[\-:]([a-z])/g;function qg(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Lg,qg);nn[e]=new Tn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Lg,qg);nn[e]=new Tn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Lg,qg);nn[e]=new Tn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){nn[n]=new Tn(n,1,!1,n.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){nn[n]=new Tn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Bg(n,e,t,i){var r=nn.hasOwnProperty(e)?nn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sR(e,t,r,i)&&(t=null),i||r===null?iR(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var $r=Rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qc=Symbol.for("react.element"),No=Symbol.for("react.portal"),ko=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),tm=Symbol.for("react.profiler"),$x=Symbol.for("react.provider"),Mx=Symbol.for("react.context"),Ug=Symbol.for("react.forward_ref"),nm=Symbol.for("react.suspense"),im=Symbol.for("react.suspense_list"),jg=Symbol.for("react.memo"),zr=Symbol.for("react.lazy"),Ix=Symbol.for("react.offscreen"),s0=Symbol.iterator;function Wa(n){return n===null||typeof n!="object"?null:(n=s0&&n[s0]||n["@@iterator"],typeof n=="function"?n:null)}var Et=Object.assign,Ip;function cl(n){if(Ip===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Ip=e&&e[1]||""}return"\n"+Ip+n}var Op=!1;function _p(n,e){if(!n||Op)return"";Op=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{Op=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?cl(n):""}function oR(n){switch(n.tag){case 5:return cl(n.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return n=_p(n.type,!1),n;case 11:return n=_p(n.type.render,!1),n;case 1:return n=_p(n.type,!0),n;default:return""}}function rm(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ko:return"Fragment";case No:return"Portal";case tm:return"Profiler";case Fg:return"StrictMode";case nm:return"Suspense";case im:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Mx:return(n.displayName||"Context")+".Consumer";case $x:return(n._context.displayName||"Context")+".Provider";case Ug:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case jg:return e=n.displayName||null,e!==null?e:rm(n.type)||"Memo";case zr:e=n._payload,n=n._init;try{return rm(n(e))}catch(t){}}return null}function aR(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rm(e);case 8:return e===Fg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ls(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ox(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lR(n){var e=Ox(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Gc(n){n._valueTracker||(n._valueTracker=lR(n))}function _x(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Ox(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function od(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch(e){return n.body}}function sm(n,e){var t=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function o0(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=ls(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Dx(n,e){e=e.checked,e!=null&&Bg(n,"checked",e,!1)}function om(n,e){Dx(n,e);var t=ls(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?am(n,e.type,t):e.hasOwnProperty("defaultValue")&&am(n,e.type,ls(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function a0(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function am(n,e,t){(e!=="number"||od(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var ul=Array.isArray;function Fo(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+ls(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function lm(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function l0(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(pe(92));if(ul(t)){if(1<t.length)throw Error(pe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ls(t)}}function Lx(n,e){var t=ls(e.value),i=ls(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function c0(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function qx(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cm(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?qx(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Kc,Bx=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Kc=Kc||document.createElement("div"),Kc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kc.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Il(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cR=["Webkit","ms","Moz","O"];Object.keys(yl).forEach(function(n){cR.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),yl[e]=yl[n]})});function Fx(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||yl.hasOwnProperty(n)&&yl[n]?(""+e).trim():e+"px"}function Ux(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=Fx(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var uR=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function um(n,e){if(e){if(uR[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function dm(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hm=null;function zg(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var pm=null,Uo=null,jo=null;function u0(n){if(n=uc(n)){if(typeof pm!="function")throw Error(pe(280));var e=n.stateNode;e&&(e=ph(e),pm(n.stateNode,n.type,e))}}function jx(n){Uo?jo?jo.push(n):jo=[n]:Uo=n}function zx(){if(Uo){var n=Uo,e=jo;if(jo=Uo=null,u0(n),e)for(n=0;n<e.length;n++)u0(e[n])}}function Vx(n,e){return n(e)}function Hx(){}var Dp=!1;function Wx(n,e,t){if(Dp)return n(e,t);Dp=!0;try{return Vx(n,e,t)}finally{Dp=!1,(Uo!==null||jo!==null)&&(Hx(),zx())}}function Ol(n,e){var t=n.stateNode;if(t===null)return null;var i=ph(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(pe(231,e,typeof t));return t}var fm=!1;if(Cr)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){fm=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch(n){fm=!1}function dR(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var bl=!1,ad=null,ld=!1,mm=null,hR={onError:function(n){bl=!0,ad=n}};function pR(n,e,t,i,r,s,o,a,l){bl=!1,ad=null,dR.apply(hR,arguments)}function fR(n,e,t,i,r,s,o,a,l){if(pR.apply(this,arguments),bl){if(bl){var c=ad;bl=!1,ad=null}else throw Error(pe(198));ld||(ld=!0,mm=c)}}function ro(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Qx(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function d0(n){if(ro(n)!==n)throw Error(pe(188))}function mR(n){var e=n.alternate;if(!e){if(e=ro(n),e===null)throw Error(pe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return d0(r),n;if(s===i)return d0(r),e;s=s.sibling}throw Error(pe(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(pe(189))}}if(t.alternate!==i)throw Error(pe(190))}if(t.tag!==3)throw Error(pe(188));return t.stateNode.current===t?n:e}function Gx(n){return n=mR(n),n!==null?Kx(n):null}function Kx(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Kx(n);if(e!==null)return e;n=n.sibling}return null}var Yx=Qn.unstable_scheduleCallback,h0=Qn.unstable_cancelCallback,gR=Qn.unstable_shouldYield,yR=Qn.unstable_requestPaint,Pt=Qn.unstable_now,bR=Qn.unstable_getCurrentPriorityLevel,Vg=Qn.unstable_ImmediatePriority,Jx=Qn.unstable_UserBlockingPriority,cd=Qn.unstable_NormalPriority,vR=Qn.unstable_LowPriority,Xx=Qn.unstable_IdlePriority,ch=null,er=null;function wR(n){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(ch,n,void 0,(n.current.flags&128)===128)}catch(e){}}var Oi=Math.clz32?Math.clz32:TR,ER=Math.log,xR=Math.LN2;function TR(n){return n>>>=0,n===0?32:31-(ER(n)/xR|0)|0}var Yc=64,Jc=4194304;function dl(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ud(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=dl(a):(s&=o,s!==0&&(i=dl(s)))}else o=t&~r,o!==0?i=dl(o):s!==0&&(i=dl(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Oi(e),r=1<<t,i|=n[t],e&=~r;return i}function SR(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CR(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Oi(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=SR(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function gm(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Zx(){var n=Yc;return Yc<<=1,!(Yc&4194240)&&(Yc=64),n}function Lp(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function lc(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Oi(e),n[e]=t}function AR(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Oi(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Hg(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Oi(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var nt=0;function eT(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var tT,Wg,nT,iT,rT,ym=!1,Xc=[],Zr=null,es=null,ts=null,_l=new Map,Dl=new Map,Wr=[],NR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function p0(n,e){switch(n){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":_l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(e.pointerId)}}function Ga(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=uc(e),e!==null&&Wg(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function kR(n,e,t,i,r){switch(e){case"focusin":return Zr=Ga(Zr,n,e,t,i,r),!0;case"dragenter":return es=Ga(es,n,e,t,i,r),!0;case"mouseover":return ts=Ga(ts,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return _l.set(s,Ga(_l.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Dl.set(s,Ga(Dl.get(s)||null,n,e,t,i,r)),!0}return!1}function sT(n){var e=ks(n.target);if(e!==null){var t=ro(e);if(t!==null){if(e=t.tag,e===13){if(e=Qx(t),e!==null){n.blockedOn=e,rT(n.priority,function(){nT(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Du(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=bm(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);hm=i,t.target.dispatchEvent(i),hm=null}else return e=uc(t),e!==null&&Wg(e),n.blockedOn=t,!1;e.shift()}return!0}function f0(n,e,t){Du(n)&&t.delete(e)}function RR(){ym=!1,Zr!==null&&Du(Zr)&&(Zr=null),es!==null&&Du(es)&&(es=null),ts!==null&&Du(ts)&&(ts=null),_l.forEach(f0),Dl.forEach(f0)}function Ka(n,e){n.blockedOn===e&&(n.blockedOn=null,ym||(ym=!0,Qn.unstable_scheduleCallback(Qn.unstable_NormalPriority,RR)))}function Ll(n){function e(r){return Ka(r,n)}if(0<Xc.length){Ka(Xc[0],n);for(var t=1;t<Xc.length;t++){var i=Xc[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Zr!==null&&Ka(Zr,n),es!==null&&Ka(es,n),ts!==null&&Ka(ts,n),_l.forEach(e),Dl.forEach(e),t=0;t<Wr.length;t++)i=Wr[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Wr.length&&(t=Wr[0],t.blockedOn===null);)sT(t),t.blockedOn===null&&Wr.shift()}var zo=$r.ReactCurrentBatchConfig,dd=!0;function PR(n,e,t,i){var r=nt,s=zo.transition;zo.transition=null;try{nt=1,Qg(n,e,t,i)}finally{nt=r,zo.transition=s}}function $R(n,e,t,i){var r=nt,s=zo.transition;zo.transition=null;try{nt=4,Qg(n,e,t,i)}finally{nt=r,zo.transition=s}}function Qg(n,e,t,i){if(dd){var r=bm(n,e,t,i);if(r===null)Qp(n,e,i,hd,t),p0(n,i);else if(kR(r,n,e,t,i))i.stopPropagation();else if(p0(n,i),e&4&&-1<NR.indexOf(n)){for(;r!==null;){var s=uc(r);if(s!==null&&tT(s),s=bm(n,e,t,i),s===null&&Qp(n,e,i,hd,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else Qp(n,e,i,null,t)}}var hd=null;function bm(n,e,t,i){if(hd=null,n=zg(i),n=ks(n),n!==null)if(e=ro(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Qx(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return hd=n,null}function oT(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bR()){case Vg:return 1;case Jx:return 4;case cd:case vR:return 16;case Xx:return 536870912;default:return 16}default:return 16}}var Yr=null,Gg=null,Lu=null;function aT(){if(Lu)return Lu;var n,e=Gg,t=e.length,i,r="value"in Yr?Yr.value:Yr.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Lu=r.slice(n,1<i?1-i:void 0)}function qu(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Zc(){return!0}function m0(){return!1}function Kn(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zc:m0,this.isPropagationStopped=m0,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Zc)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Zc)},persist:function(){},isPersistent:Zc}),e}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kg=Kn(ma),cc=Et({},ma,{view:0,detail:0}),MR=Kn(cc),qp,Bp,Ya,uh=Et({},cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yg,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ya&&(Ya&&n.type==="mousemove"?(qp=n.screenX-Ya.screenX,Bp=n.screenY-Ya.screenY):Bp=qp=0,Ya=n),qp)},movementY:function(n){return"movementY"in n?n.movementY:Bp}}),g0=Kn(uh),IR=Et({},uh,{dataTransfer:0}),OR=Kn(IR),_R=Et({},cc,{relatedTarget:0}),Fp=Kn(_R),DR=Et({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),LR=Kn(DR),qR=Et({},ma,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),BR=Kn(qR),FR=Et({},ma,{data:0}),y0=Kn(FR),UR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function VR(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=zR[n])?!!e[n]:!1}function Yg(){return VR}var HR=Et({},cc,{key:function(n){if(n.key){var e=UR[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=qu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?jR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yg,charCode:function(n){return n.type==="keypress"?qu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?qu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),WR=Kn(HR),QR=Et({},uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b0=Kn(QR),GR=Et({},cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yg}),KR=Kn(GR),YR=Et({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),JR=Kn(YR),XR=Et({},uh,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ZR=Kn(XR),eP=[9,13,27,32],Jg=Cr&&"CompositionEvent"in window,vl=null;Cr&&"documentMode"in document&&(vl=document.documentMode);var tP=Cr&&"TextEvent"in window&&!vl,lT=Cr&&(!Jg||vl&&8<vl&&11>=vl),v0=String.fromCharCode(32),w0=!1;function cT(n,e){switch(n){case"keyup":return eP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uT(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ro=!1;function nP(n,e){switch(n){case"compositionend":return uT(e);case"keypress":return e.which!==32?null:(w0=!0,v0);case"textInput":return n=e.data,n===v0&&w0?null:n;default:return null}}function iP(n,e){if(Ro)return n==="compositionend"||!Jg&&cT(n,e)?(n=aT(),Lu=Gg=Yr=null,Ro=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lT&&e.locale!=="ko"?null:e.data;default:return null}}var rP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function E0(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!rP[n.type]:e==="textarea"}function dT(n,e,t,i){jx(i),e=pd(e,"onChange"),0<e.length&&(t=new Kg("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var wl=null,ql=null;function sP(n){xT(n,0)}function dh(n){var e=Mo(n);if(_x(e))return n}function oP(n,e){if(n==="change")return e}var hT=!1;if(Cr){var Up;if(Cr){var jp="oninput"in document;if(!jp){var x0=document.createElement("div");x0.setAttribute("oninput","return;"),jp=typeof x0.oninput=="function"}Up=jp}else Up=!1;hT=Up&&(!document.documentMode||9<document.documentMode)}function T0(){wl&&(wl.detachEvent("onpropertychange",pT),ql=wl=null)}function pT(n){if(n.propertyName==="value"&&dh(ql)){var e=[];dT(e,ql,n,zg(n)),Wx(sP,e)}}function aP(n,e,t){n==="focusin"?(T0(),wl=e,ql=t,wl.attachEvent("onpropertychange",pT)):n==="focusout"&&T0()}function lP(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return dh(ql)}function cP(n,e){if(n==="click")return dh(e)}function uP(n,e){if(n==="input"||n==="change")return dh(e)}function dP(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Fi=typeof Object.is=="function"?Object.is:dP;function Bl(n,e){if(Fi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!em.call(e,r)||!Fi(n[r],e[r]))return!1}return!0}function S0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function C0(n,e){var t=S0(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=S0(t)}}function fT(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?fT(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function mT(){for(var n=window,e=od();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch(i){t=!1}if(t)n=e.contentWindow;else break;e=od(n.document)}return e}function Xg(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function hP(n){var e=mT(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&fT(t.ownerDocument.documentElement,t)){if(i!==null&&Xg(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=C0(t,s);var o=C0(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var pP=Cr&&"documentMode"in document&&11>=document.documentMode,Po=null,vm=null,El=null,wm=!1;function A0(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;wm||Po==null||Po!==od(i)||(i=Po,"selectionStart"in i&&Xg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),El&&Bl(El,i)||(El=i,i=pd(vm,"onSelect"),0<i.length&&(e=new Kg("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Po)))}function eu(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var $o={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},zp={},gT={};Cr&&(gT=document.createElement("div").style,"AnimationEvent"in window||(delete $o.animationend.animation,delete $o.animationiteration.animation,delete $o.animationstart.animation),"TransitionEvent"in window||delete $o.transitionend.transition);function hh(n){if(zp[n])return zp[n];if(!$o[n])return n;var e=$o[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in gT)return zp[n]=e[t];return n}var yT=hh("animationend"),bT=hh("animationiteration"),vT=hh("animationstart"),wT=hh("transitionend"),ET=new Map,N0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ms(n,e){ET.set(n,e),io(e,[n])}for(var Vp=0;Vp<N0.length;Vp++){var Hp=N0[Vp],fP=Hp.toLowerCase(),mP=Hp[0].toUpperCase()+Hp.slice(1);ms(fP,"on"+mP)}ms(yT,"onAnimationEnd");ms(bT,"onAnimationIteration");ms(vT,"onAnimationStart");ms("dblclick","onDoubleClick");ms("focusin","onFocus");ms("focusout","onBlur");ms(wT,"onTransitionEnd");Xo("onMouseEnter",["mouseout","mouseover"]);Xo("onMouseLeave",["mouseout","mouseover"]);Xo("onPointerEnter",["pointerout","pointerover"]);Xo("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gP=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function k0(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,fR(i,e,void 0,n),n.currentTarget=null}function xT(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;k0(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;k0(r,a,c),s=l}}}if(ld)throw n=mm,ld=!1,mm=null,n}function ct(n,e){var t=e[Cm];t===void 0&&(t=e[Cm]=new Set);var i=n+"__bubble";t.has(i)||(TT(e,n,2,!1),t.add(i))}function Wp(n,e,t){var i=0;e&&(i|=4),TT(t,n,i,e)}var tu="_reactListening"+Math.random().toString(36).slice(2);function Fl(n){if(!n[tu]){n[tu]=!0,Px.forEach(function(t){t!=="selectionchange"&&(gP.has(t)||Wp(t,!1,n),Wp(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[tu]||(e[tu]=!0,Wp("selectionchange",!1,e))}}function TT(n,e,t,i){switch(oT(e)){case 1:var r=PR;break;case 4:r=$R;break;default:r=Qg}t=r.bind(null,e,t,n),r=void 0,!fm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function Qp(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=ks(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Wx(function(){var c=s,u=zg(t),d=[];e:{var h=ET.get(n);if(h!==void 0){var p=Kg,g=n;switch(n){case"keypress":if(qu(t)===0)break e;case"keydown":case"keyup":p=WR;break;case"focusin":g="focus",p=Fp;break;case"focusout":g="blur",p=Fp;break;case"beforeblur":case"afterblur":p=Fp;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=g0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=OR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=KR;break;case yT:case bT:case vT:p=LR;break;case wT:p=JR;break;case"scroll":p=MR;break;case"wheel":p=ZR;break;case"copy":case"cut":case"paste":p=BR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=b0}var m=(e&4)!==0,T=!m&&n==="scroll",w=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,v;b!==null;){v=b;var N=v.stateNode;if(v.tag===5&&N!==null&&(v=N,w!==null&&(N=Ol(b,w),N!=null&&m.push(Ul(b,N,v)))),T)break;b=b.return}0<m.length&&(h=new p(h,g,null,t,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&t!==hm&&(g=t.relatedTarget||t.fromElement)&&(ks(g)||g[Ar]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=t.relatedTarget||t.toElement,p=c,g=g?ks(g):null,g!==null&&(T=ro(g),g!==T||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=c),p!==g)){if(m=g0,N="onMouseLeave",w="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(m=b0,N="onPointerLeave",w="onPointerEnter",b="pointer"),T=p==null?h:Mo(p),v=g==null?h:Mo(g),h=new m(N,b+"leave",p,t,u),h.target=T,h.relatedTarget=v,N=null,ks(u)===c&&(m=new m(w,b+"enter",g,t,u),m.target=v,m.relatedTarget=T,N=m),T=N,p&&g)t:{for(m=p,w=g,b=0,v=m;v;v=fo(v))b++;for(v=0,N=w;N;N=fo(N))v++;for(;0<b-v;)m=fo(m),b--;for(;0<v-b;)w=fo(w),v--;for(;b--;){if(m===w||w!==null&&m===w.alternate)break t;m=fo(m),w=fo(w)}m=null}else m=null;p!==null&&R0(d,h,p,m,!1),g!==null&&T!==null&&R0(d,T,g,m,!0)}}e:{if(h=c?Mo(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var M=oP;else if(E0(h))if(hT)M=uP;else{M=lP;var L=aP}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(M=cP);if(M&&(M=M(n,c))){dT(d,M,t,u);break e}L&&L(n,h,c),n==="focusout"&&(L=h._wrapperState)&&L.controlled&&h.type==="number"&&am(h,"number",h.value)}switch(L=c?Mo(c):window,n){case"focusin":(E0(L)||L.contentEditable==="true")&&(Po=L,vm=c,El=null);break;case"focusout":El=vm=Po=null;break;case"mousedown":wm=!0;break;case"contextmenu":case"mouseup":case"dragend":wm=!1,A0(d,t,u);break;case"selectionchange":if(pP)break;case"keydown":case"keyup":A0(d,t,u)}var I;if(Jg)e:{switch(n){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else Ro?cT(n,t)&&($="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&($="onCompositionStart");$&&(lT&&t.locale!=="ko"&&(Ro||$!=="onCompositionStart"?$==="onCompositionEnd"&&Ro&&(I=aT()):(Yr=u,Gg="value"in Yr?Yr.value:Yr.textContent,Ro=!0)),L=pd(c,$),0<L.length&&($=new y0($,n,null,t,u),d.push({event:$,listeners:L}),I?$.data=I:(I=uT(t),I!==null&&($.data=I)))),(I=tP?nP(n,t):iP(n,t))&&(c=pd(c,"onBeforeInput"),0<c.length&&(u=new y0("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=I))}xT(d,e)})}function Ul(n,e,t){return{instance:n,listener:e,currentTarget:t}}function pd(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Ol(n,t),s!=null&&i.unshift(Ul(n,s,r)),s=Ol(n,e),s!=null&&i.push(Ul(n,s,r))),n=n.return}return i}function fo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function R0(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=Ol(t,s),l!=null&&o.unshift(Ul(t,l,a))):r||(l=Ol(t,s),l!=null&&o.push(Ul(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var yP=/\r\n?/g,bP=/\u0000|\uFFFD/g;function P0(n){return(typeof n=="string"?n:""+n).replace(yP,"\n").replace(bP,"")}function nu(n,e,t){if(e=P0(e),P0(n)!==e&&t)throw Error(pe(425))}function fd(){}var Em=null,xm=null;function Tm(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sm=typeof setTimeout=="function"?setTimeout:void 0,vP=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,wP=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(n){return $0.resolve(null).then(n).catch(EP)}:Sm;function EP(n){setTimeout(function(){throw n})}function Gp(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Ll(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Ll(e)}function ns(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function M0(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ga=Math.random().toString(36).slice(2),Gi="__reactFiber$"+ga,jl="__reactProps$"+ga,Ar="__reactContainer$"+ga,Cm="__reactEvents$"+ga,xP="__reactListeners$"+ga,TP="__reactHandles$"+ga;function ks(n){var e=n[Gi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Ar]||t[Gi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=M0(n);n!==null;){if(t=n[Gi])return t;n=M0(n)}return e}n=t,t=n.parentNode}return null}function uc(n){return n=n[Gi]||n[Ar],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Mo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(pe(33))}function ph(n){return n[jl]||null}var Am=[],Io=-1;function gs(n){return{current:n}}function ht(n){0>Io||(n.current=Am[Io],Am[Io]=null,Io--)}function ot(n,e){Io++,Am[Io]=n.current,n.current=e}var cs={},pn=gs(cs),Mn=gs(!1),js=cs;function Zo(n,e){var t=n.type.contextTypes;if(!t)return cs;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function In(n){return n=n.childContextTypes,n!=null}function md(){ht(Mn),ht(pn)}function I0(n,e,t){if(pn.current!==cs)throw Error(pe(168));ot(pn,e),ot(Mn,t)}function ST(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(pe(108,aR(n)||"Unknown",r));return Et({},t,i)}function gd(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||cs,js=pn.current,ot(pn,n),ot(Mn,Mn.current),!0}function O0(n,e,t){var i=n.stateNode;if(!i)throw Error(pe(169));t?(n=ST(n,e,js),i.__reactInternalMemoizedMergedChildContext=n,ht(Mn),ht(pn),ot(pn,n)):ht(Mn),ot(Mn,t)}var pr=null,fh=!1,Kp=!1;function CT(n){pr===null?pr=[n]:pr.push(n)}function SP(n){fh=!0,CT(n)}function ys(){if(!Kp&&pr!==null){Kp=!0;var n=0,e=nt;try{var t=pr;for(nt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}pr=null,fh=!1}catch(r){throw pr!==null&&(pr=pr.slice(n+1)),Yx(Vg,ys),r}finally{nt=e,Kp=!1}}return null}var Oo=[],_o=0,yd=null,bd=0,oi=[],ai=0,zs=null,gr=1,yr="";function As(n,e){Oo[_o++]=bd,Oo[_o++]=yd,yd=n,bd=e}function AT(n,e,t){oi[ai++]=gr,oi[ai++]=yr,oi[ai++]=zs,zs=n;var i=gr;n=yr;var r=32-Oi(i)-1;i&=~(1<<r),t+=1;var s=32-Oi(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,gr=1<<32-Oi(e)+r|t<<r|i,yr=s+n}else gr=1<<s|t<<r|i,yr=n}function Zg(n){n.return!==null&&(As(n,1),AT(n,1,0))}function ey(n){for(;n===yd;)yd=Oo[--_o],Oo[_o]=null,bd=Oo[--_o],Oo[_o]=null;for(;n===zs;)zs=oi[--ai],oi[ai]=null,yr=oi[--ai],oi[ai]=null,gr=oi[--ai],oi[ai]=null}var Hn=null,Vn=null,bt=!1,ki=null;function NT(n,e){var t=ui(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function _0(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Hn=n,Vn=ns(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Hn=n,Vn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=zs!==null?{id:gr,overflow:yr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=ui(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Hn=n,Vn=null,!0):!1;default:return!1}}function Nm(n){return(n.mode&1)!==0&&(n.flags&128)===0}function km(n){if(bt){var e=Vn;if(e){var t=e;if(!_0(n,e)){if(Nm(n))throw Error(pe(418));e=ns(t.nextSibling);var i=Hn;e&&_0(n,e)?NT(i,t):(n.flags=n.flags&-4097|2,bt=!1,Hn=n)}}else{if(Nm(n))throw Error(pe(418));n.flags=n.flags&-4097|2,bt=!1,Hn=n}}}function D0(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Hn=n}function iu(n){if(n!==Hn)return!1;if(!bt)return D0(n),bt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Tm(n.type,n.memoizedProps)),e&&(e=Vn)){if(Nm(n))throw kT(),Error(pe(418));for(;e;)NT(n,e),e=ns(e.nextSibling)}if(D0(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(pe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Vn=ns(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Vn=null}}else Vn=Hn?ns(n.stateNode.nextSibling):null;return!0}function kT(){for(var n=Vn;n;)n=ns(n.nextSibling)}function ea(){Vn=Hn=null,bt=!1}function ty(n){ki===null?ki=[n]:ki.push(n)}var CP=$r.ReactCurrentBatchConfig;function Si(n,e){if(n&&n.defaultProps){e=Et({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var vd=gs(null),wd=null,Do=null,ny=null;function iy(){ny=Do=wd=null}function ry(n){var e=vd.current;ht(vd),n._currentValue=e}function Rm(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Vo(n,e){wd=n,ny=Do=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Pn=!0),n.firstContext=null)}function mi(n){var e=n._currentValue;if(ny!==n)if(n={context:n,memoizedValue:e,next:null},Do===null){if(wd===null)throw Error(pe(308));Do=n,wd.dependencies={lanes:0,firstContext:n}}else Do=Do.next=n;return e}var Rs=null;function sy(n){Rs===null?Rs=[n]:Rs.push(n)}function RT(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,sy(e)):(t.next=r.next,r.next=t),e.interleaved=t,Nr(n,i)}function Nr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Vr=!1;function oy(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PT(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function wr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function is(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Ge&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Nr(n,t)}return r=i.interleaved,r===null?(e.next=e,sy(i)):(e.next=r.next,r.next=e),i.interleaved=e,Nr(n,t)}function Bu(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Hg(n,t)}}function L0(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Ed(n,e,t,i){var r=n.updateQueue;Vr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,m=a;switch(h=e,p=t,m.tag){case 1:if(g=m.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=Et({},d,h);break e;case 2:Vr=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Hs|=o,n.lanes=o,n.memoizedState=d}}function q0(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(pe(191,r));r.call(i)}}}var $T=new Rx.Component().refs;function Pm(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Et({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var mh={isMounted:function(n){return(n=n._reactInternals)?ro(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=wn(),r=ss(n),s=wr(i,r);s.payload=e,t!=null&&(s.callback=t),e=is(n,s,r),e!==null&&(_i(e,n,r,i),Bu(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=wn(),r=ss(n),s=wr(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=is(n,s,r),e!==null&&(_i(e,n,r,i),Bu(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=wn(),i=ss(n),r=wr(t,i);r.tag=2,e!=null&&(r.callback=e),e=is(n,r,i),e!==null&&(_i(e,n,i,t),Bu(e,n,i))}};function B0(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Bl(t,i)||!Bl(r,s):!0}function MT(n,e,t){var i=!1,r=cs,s=e.contextType;return typeof s=="object"&&s!==null?s=mi(s):(r=In(e)?js:pn.current,i=e.contextTypes,s=(i=i!=null)?Zo(n,r):cs),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mh,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function F0(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&mh.enqueueReplaceState(e,e.state,null)}function $m(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=$T,oy(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=mi(s):(s=In(e)?js:pn.current,r.context=Zo(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pm(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&mh.enqueueReplaceState(r,r.state,null),Ed(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Ja(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(pe(309));var i=t.stateNode}if(!i)throw Error(pe(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===$T&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(pe(284));if(!t._owner)throw Error(pe(290,n))}return n}function ru(n,e){throw n=Object.prototype.toString.call(e),Error(pe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function U0(n){var e=n._init;return e(n._payload)}function IT(n){function e(w,b){if(n){var v=w.deletions;v===null?(w.deletions=[b],w.flags|=16):v.push(b)}}function t(w,b){if(!n)return null;for(;b!==null;)e(w,b),b=b.sibling;return null}function i(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function r(w,b){return w=os(w,b),w.index=0,w.sibling=null,w}function s(w,b,v){return w.index=v,n?(v=w.alternate,v!==null?(v=v.index,v<b?(w.flags|=2,b):v):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return n&&w.alternate===null&&(w.flags|=2),w}function a(w,b,v,N){return b===null||b.tag!==6?(b=nf(v,w.mode,N),b.return=w,b):(b=r(b,v),b.return=w,b)}function l(w,b,v,N){var M=v.type;return M===ko?u(w,b,v.props.children,N,v.key):b!==null&&(b.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===zr&&U0(M)===b.type)?(N=r(b,v.props),N.ref=Ja(w,b,v),N.return=w,N):(N=Hu(v.type,v.key,v.props,null,w.mode,N),N.ref=Ja(w,b,v),N.return=w,N)}function c(w,b,v,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==v.containerInfo||b.stateNode.implementation!==v.implementation?(b=rf(v,w.mode,N),b.return=w,b):(b=r(b,v.children||[]),b.return=w,b)}function u(w,b,v,N,M){return b===null||b.tag!==7?(b=Ds(v,w.mode,N,M),b.return=w,b):(b=r(b,v),b.return=w,b)}function d(w,b,v){if(typeof b=="string"&&b!==""||typeof b=="number")return b=nf(""+b,w.mode,v),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Qc:return v=Hu(b.type,b.key,b.props,null,w.mode,v),v.ref=Ja(w,null,b),v.return=w,v;case No:return b=rf(b,w.mode,v),b.return=w,b;case zr:var N=b._init;return d(w,N(b._payload),v)}if(ul(b)||Wa(b))return b=Ds(b,w.mode,v,null),b.return=w,b;ru(w,b)}return null}function h(w,b,v,N){var M=b!==null?b.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return M!==null?null:a(w,b,""+v,N);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Qc:return v.key===M?l(w,b,v,N):null;case No:return v.key===M?c(w,b,v,N):null;case zr:return M=v._init,h(w,b,M(v._payload),N)}if(ul(v)||Wa(v))return M!==null?null:u(w,b,v,N,null);ru(w,v)}return null}function p(w,b,v,N,M){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(v)||null,a(b,w,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Qc:return w=w.get(N.key===null?v:N.key)||null,l(b,w,N,M);case No:return w=w.get(N.key===null?v:N.key)||null,c(b,w,N,M);case zr:var L=N._init;return p(w,b,v,L(N._payload),M)}if(ul(N)||Wa(N))return w=w.get(v)||null,u(b,w,N,M,null);ru(b,N)}return null}function g(w,b,v,N){for(var M=null,L=null,I=b,$=b=0,k=null;I!==null&&$<v.length;$++){I.index>$?(k=I,I=null):k=I.sibling;var H=h(w,I,v[$],N);if(H===null){I===null&&(I=k);break}n&&I&&H.alternate===null&&e(w,I),b=s(H,b,$),L===null?M=H:L.sibling=H,L=H,I=k}if($===v.length)return t(w,I),bt&&As(w,$),M;if(I===null){for(;$<v.length;$++)I=d(w,v[$],N),I!==null&&(b=s(I,b,$),L===null?M=I:L.sibling=I,L=I);return bt&&As(w,$),M}for(I=i(w,I);$<v.length;$++)k=p(I,w,$,v[$],N),k!==null&&(n&&k.alternate!==null&&I.delete(k.key===null?$:k.key),b=s(k,b,$),L===null?M=k:L.sibling=k,L=k);return n&&I.forEach(function(A){return e(w,A)}),bt&&As(w,$),M}function m(w,b,v,N){var M=Wa(v);if(typeof M!="function")throw Error(pe(150));if(v=M.call(v),v==null)throw Error(pe(151));for(var L=M=null,I=b,$=b=0,k=null,H=v.next();I!==null&&!H.done;$++,H=v.next()){I.index>$?(k=I,I=null):k=I.sibling;var A=h(w,I,H.value,N);if(A===null){I===null&&(I=k);break}n&&I&&A.alternate===null&&e(w,I),b=s(A,b,$),L===null?M=A:L.sibling=A,L=A,I=k}if(H.done)return t(w,I),bt&&As(w,$),M;if(I===null){for(;!H.done;$++,H=v.next())H=d(w,H.value,N),H!==null&&(b=s(H,b,$),L===null?M=H:L.sibling=H,L=H);return bt&&As(w,$),M}for(I=i(w,I);!H.done;$++,H=v.next())H=p(I,w,$,H.value,N),H!==null&&(n&&H.alternate!==null&&I.delete(H.key===null?$:H.key),b=s(H,b,$),L===null?M=H:L.sibling=H,L=H);return n&&I.forEach(function(F){return e(w,F)}),bt&&As(w,$),M}function T(w,b,v,N){if(typeof v=="object"&&v!==null&&v.type===ko&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Qc:e:{for(var M=v.key,L=b;L!==null;){if(L.key===M){if(M=v.type,M===ko){if(L.tag===7){t(w,L.sibling),b=r(L,v.props.children),b.return=w,w=b;break e}}else if(L.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===zr&&U0(M)===L.type){t(w,L.sibling),b=r(L,v.props),b.ref=Ja(w,L,v),b.return=w,w=b;break e}t(w,L);break}else e(w,L);L=L.sibling}v.type===ko?(b=Ds(v.props.children,w.mode,N,v.key),b.return=w,w=b):(N=Hu(v.type,v.key,v.props,null,w.mode,N),N.ref=Ja(w,b,v),N.return=w,w=N)}return o(w);case No:e:{for(L=v.key;b!==null;){if(b.key===L)if(b.tag===4&&b.stateNode.containerInfo===v.containerInfo&&b.stateNode.implementation===v.implementation){t(w,b.sibling),b=r(b,v.children||[]),b.return=w,w=b;break e}else{t(w,b);break}else e(w,b);b=b.sibling}b=rf(v,w.mode,N),b.return=w,w=b}return o(w);case zr:return L=v._init,T(w,b,L(v._payload),N)}if(ul(v))return g(w,b,v,N);if(Wa(v))return m(w,b,v,N);ru(w,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,b!==null&&b.tag===6?(t(w,b.sibling),b=r(b,v),b.return=w,w=b):(t(w,b),b=nf(v,w.mode,N),b.return=w,w=b),o(w)):t(w,b)}return T}var ta=IT(!0),OT=IT(!1),dc={},tr=gs(dc),zl=gs(dc),Vl=gs(dc);function Ps(n){if(n===dc)throw Error(pe(174));return n}function ay(n,e){switch(ot(Vl,e),ot(zl,n),ot(tr,dc),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cm(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=cm(e,n)}ht(tr),ot(tr,e)}function na(){ht(tr),ht(zl),ht(Vl)}function _T(n){Ps(Vl.current);var e=Ps(tr.current),t=cm(e,n.type);e!==t&&(ot(zl,n),ot(tr,t))}function ly(n){zl.current===n&&(ht(tr),ht(zl))}var vt=gs(0);function xd(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Yp=[];function cy(){for(var n=0;n<Yp.length;n++)Yp[n]._workInProgressVersionPrimary=null;Yp.length=0}var Fu=$r.ReactCurrentDispatcher,Jp=$r.ReactCurrentBatchConfig,Vs=0,wt=null,Bt=null,Wt=null,Td=!1,xl=!1,Hl=0,AP=0;function an(){throw Error(pe(321))}function uy(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Fi(n[t],e[t]))return!1;return!0}function dy(n,e,t,i,r,s){if(Vs=s,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fu.current=n===null||n.memoizedState===null?PP:$P,n=t(i,r),xl){s=0;do{if(xl=!1,Hl=0,25<=s)throw Error(pe(301));s+=1,Wt=Bt=null,e.updateQueue=null,Fu.current=MP,n=t(i,r)}while(xl)}if(Fu.current=Sd,e=Bt!==null&&Bt.next!==null,Vs=0,Wt=Bt=wt=null,Td=!1,e)throw Error(pe(300));return n}function hy(){var n=Hl!==0;return Hl=0,n}function Qi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wt===null?wt.memoizedState=Wt=n:Wt=Wt.next=n,Wt}function gi(){if(Bt===null){var n=wt.alternate;n=n!==null?n.memoizedState:null}else n=Bt.next;var e=Wt===null?wt.memoizedState:Wt.next;if(e!==null)Wt=e,Bt=n;else{if(n===null)throw Error(pe(310));Bt=n,n={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Wt===null?wt.memoizedState=Wt=n:Wt=Wt.next=n}return Wt}function Wl(n,e){return typeof e=="function"?e(n):e}function Xp(n){var e=gi(),t=e.queue;if(t===null)throw Error(pe(311));t.lastRenderedReducer=n;var i=Bt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Vs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,wt.lanes|=u,Hs|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,Fi(i,e.memoizedState)||(Pn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,wt.lanes|=s,Hs|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Zp(n){var e=gi(),t=e.queue;if(t===null)throw Error(pe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);Fi(s,e.memoizedState)||(Pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function DT(){}function LT(n,e){var t=wt,i=gi(),r=e(),s=!Fi(i.memoizedState,r);if(s&&(i.memoizedState=r,Pn=!0),i=i.queue,py(FT.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Wt!==null&&Wt.memoizedState.tag&1){if(t.flags|=2048,Ql(9,BT.bind(null,t,i,r,e),void 0,null),Qt===null)throw Error(pe(349));Vs&30||qT(t,e,r)}return r}function qT(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function BT(n,e,t,i){e.value=t,e.getSnapshot=i,UT(e)&&jT(n)}function FT(n,e,t){return t(function(){UT(e)&&jT(n)})}function UT(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Fi(n,t)}catch(i){return!0}}function jT(n){var e=Nr(n,1);e!==null&&_i(e,n,1,-1)}function j0(n){var e=Qi();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wl,lastRenderedState:n},e.queue=n,n=n.dispatch=RP.bind(null,wt,n),[e.memoizedState,n]}function Ql(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function zT(){return gi().memoizedState}function Uu(n,e,t,i){var r=Qi();wt.flags|=n,r.memoizedState=Ql(1|e,t,void 0,i===void 0?null:i)}function gh(n,e,t,i){var r=gi();i=i===void 0?null:i;var s=void 0;if(Bt!==null){var o=Bt.memoizedState;if(s=o.destroy,i!==null&&uy(i,o.deps)){r.memoizedState=Ql(e,t,s,i);return}}wt.flags|=n,r.memoizedState=Ql(1|e,t,s,i)}function z0(n,e){return Uu(8390656,8,n,e)}function py(n,e){return gh(2048,8,n,e)}function VT(n,e){return gh(4,2,n,e)}function HT(n,e){return gh(4,4,n,e)}function WT(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function QT(n,e,t){return t=t!=null?t.concat([n]):null,gh(4,4,WT.bind(null,e,n),t)}function fy(){}function GT(n,e){var t=gi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&uy(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function KT(n,e){var t=gi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&uy(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function YT(n,e,t){return Vs&21?(Fi(t,e)||(t=Zx(),wt.lanes|=t,Hs|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Pn=!0),n.memoizedState=t)}function NP(n,e){var t=nt;nt=t!==0&&4>t?t:4,n(!0);var i=Jp.transition;Jp.transition={};try{n(!1),e()}finally{nt=t,Jp.transition=i}}function JT(){return gi().memoizedState}function kP(n,e,t){var i=ss(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},XT(n))ZT(e,t);else if(t=RT(n,e,t,i),t!==null){var r=wn();_i(t,n,i,r),e1(t,e,i)}}function RP(n,e,t){var i=ss(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(XT(n))ZT(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,Fi(a,o)){var l=e.interleaved;l===null?(r.next=r,sy(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch(c){}finally{}t=RT(n,e,r,i),t!==null&&(r=wn(),_i(t,n,i,r),e1(t,e,i))}}function XT(n){var e=n.alternate;return n===wt||e!==null&&e===wt}function ZT(n,e){xl=Td=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function e1(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Hg(n,t)}}var Sd={readContext:mi,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},PP={readContext:mi,useCallback:function(n,e){return Qi().memoizedState=[n,e===void 0?null:e],n},useContext:mi,useEffect:z0,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Uu(4194308,4,WT.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Uu(4194308,4,n,e)},useInsertionEffect:function(n,e){return Uu(4,2,n,e)},useMemo:function(n,e){var t=Qi();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Qi();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=kP.bind(null,wt,n),[i.memoizedState,n]},useRef:function(n){var e=Qi();return n={current:n},e.memoizedState=n},useState:j0,useDebugValue:fy,useDeferredValue:function(n){return Qi().memoizedState=n},useTransition:function(){var n=j0(!1),e=n[0];return n=NP.bind(null,n[1]),Qi().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=wt,r=Qi();if(bt){if(t===void 0)throw Error(pe(407));t=t()}else{if(t=e(),Qt===null)throw Error(pe(349));Vs&30||qT(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,z0(FT.bind(null,i,s,n),[n]),i.flags|=2048,Ql(9,BT.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Qi(),e=Qt.identifierPrefix;if(bt){var t=yr,i=gr;t=(i&~(1<<32-Oi(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Hl++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=AP++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},$P={readContext:mi,useCallback:GT,useContext:mi,useEffect:py,useImperativeHandle:QT,useInsertionEffect:VT,useLayoutEffect:HT,useMemo:KT,useReducer:Xp,useRef:zT,useState:function(){return Xp(Wl)},useDebugValue:fy,useDeferredValue:function(n){var e=gi();return YT(e,Bt.memoizedState,n)},useTransition:function(){var n=Xp(Wl)[0],e=gi().memoizedState;return[n,e]},useMutableSource:DT,useSyncExternalStore:LT,useId:JT,unstable_isNewReconciler:!1},MP={readContext:mi,useCallback:GT,useContext:mi,useEffect:py,useImperativeHandle:QT,useInsertionEffect:VT,useLayoutEffect:HT,useMemo:KT,useReducer:Zp,useRef:zT,useState:function(){return Zp(Wl)},useDebugValue:fy,useDeferredValue:function(n){var e=gi();return Bt===null?e.memoizedState=n:YT(e,Bt.memoizedState,n)},useTransition:function(){var n=Zp(Wl)[0],e=gi().memoizedState;return[n,e]},useMutableSource:DT,useSyncExternalStore:LT,useId:JT,unstable_isNewReconciler:!1};function ia(n,e){try{var t="",i=e;do t+=oR(i),i=i.return;while(i);var r=t}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:n,source:e,stack:r,digest:null}}function ef(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function Mm(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var IP=typeof WeakMap=="function"?WeakMap:Map;function t1(n,e,t){t=wr(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Ad||(Ad=!0,jm=i),Mm(n,e)},t}function n1(n,e,t){t=wr(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Mm(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Mm(n,e),typeof i!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function V0(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new IP;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=QP.bind(null,n,e,t),e.then(n,n))}function H0(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function W0(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=wr(-1,1),e.tag=2,is(t,e,1))),t.lanes|=1),n)}var OP=$r.ReactCurrentOwner,Pn=!1;function bn(n,e,t,i){e.child=n===null?OT(e,null,t,i):ta(e,n.child,t,i)}function Q0(n,e,t,i,r){t=t.render;var s=e.ref;return Vo(e,r),i=dy(n,e,t,i,s,r),t=hy(),n!==null&&!Pn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,kr(n,e,r)):(bt&&t&&Zg(e),e.flags|=1,bn(n,e,i,r),e.child)}function G0(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!xy(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,i1(n,e,s,i,r)):(n=Hu(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Bl,t(o,i)&&n.ref===e.ref)return kr(n,e,r)}return e.flags|=1,n=os(s,i),n.ref=e.ref,n.return=e,e.child=n}function i1(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Bl(s,i)&&n.ref===e.ref)if(Pn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Pn=!0);else return e.lanes=n.lanes,kr(n,e,r)}return Im(n,e,t,i,r)}function r1(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(qo,Bn),Bn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,ot(qo,Bn),Bn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,ot(qo,Bn),Bn|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,ot(qo,Bn),Bn|=i;return bn(n,e,r,t),e.child}function s1(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Im(n,e,t,i,r){var s=In(t)?js:pn.current;return s=Zo(e,s),Vo(e,r),t=dy(n,e,t,i,s,r),i=hy(),n!==null&&!Pn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,kr(n,e,r)):(bt&&i&&Zg(e),e.flags|=1,bn(n,e,t,r),e.child)}function K0(n,e,t,i,r){if(In(t)){var s=!0;gd(e)}else s=!1;if(Vo(e,r),e.stateNode===null)ju(n,e),MT(e,t,i),$m(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=mi(c):(c=In(t)?js:pn.current,c=Zo(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&F0(e,o,i,c),Vr=!1;var h=e.memoizedState;o.state=h,Ed(e,i,o,r),l=e.memoizedState,a!==i||h!==l||Mn.current||Vr?(typeof u=="function"&&(Pm(e,t,u,i),l=e.memoizedState),(a=Vr||B0(e,t,a,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,PT(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Si(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=mi(l):(l=In(t)?js:pn.current,l=Zo(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&F0(e,o,i,l),Vr=!1,h=e.memoizedState,o.state=h,Ed(e,i,o,r);var g=e.memoizedState;a!==d||h!==g||Mn.current||Vr?(typeof p=="function"&&(Pm(e,t,p,i),g=e.memoizedState),(c=Vr||B0(e,t,c,i,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return Om(n,e,t,i,s,r)}function Om(n,e,t,i,r,s){s1(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&O0(e,t,!1),kr(n,e,s);i=e.stateNode,OP.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=ta(e,n.child,null,s),e.child=ta(e,null,a,s)):bn(n,e,a,s),e.memoizedState=i.state,r&&O0(e,t,!0),e.child}function o1(n){var e=n.stateNode;e.pendingContext?I0(n,e.pendingContext,e.pendingContext!==e.context):e.context&&I0(n,e.context,!1),ay(n,e.containerInfo)}function Y0(n,e,t,i,r){return ea(),ty(r),e.flags|=256,bn(n,e,t,i),e.child}var _m={dehydrated:null,treeContext:null,retryLane:0};function Dm(n){return{baseLanes:n,cachePool:null,transitions:null}}function a1(n,e,t){var i=e.pendingProps,r=vt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),ot(vt,r&1),n===null)return km(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vh(o,i,0,null),n=Ds(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Dm(t),e.memoizedState=_m,n):my(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return _P(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=os(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=os(a,s):(s=Ds(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Dm(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=_m,i}return s=n.child,n=s.sibling,i=os(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function my(n,e){return e=vh({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function su(n,e,t,i){return i!==null&&ty(i),ta(e,n.child,null,t),n=my(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function _P(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=ef(Error(pe(422))),su(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=vh({mode:"visible",children:i.children},r,0,null),s=Ds(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&ta(e,n.child,null,o),e.child.memoizedState=Dm(o),e.memoizedState=_m,s);if(!(e.mode&1))return su(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(pe(419)),i=ef(s,i,void 0),su(n,e,o,i)}if(a=(o&n.childLanes)!==0,Pn||a){if(i=Qt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Nr(n,r),_i(i,n,r,-1))}return Ey(),i=ef(Error(pe(421))),su(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=GP.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Vn=ns(r.nextSibling),Hn=e,bt=!0,ki=null,n!==null&&(oi[ai++]=gr,oi[ai++]=yr,oi[ai++]=zs,gr=n.id,yr=n.overflow,zs=e),e=my(e,i.children),e.flags|=4096,e)}function J0(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Rm(n.return,e,t)}function tf(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function l1(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(bn(n,e,i.children,t),i=vt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&J0(n,t,e);else if(n.tag===19)J0(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(ot(vt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&xd(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),tf(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&xd(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}tf(e,!0,t,null,s);break;case"together":tf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ju(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function kr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Hs|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(pe(153));if(e.child!==null){for(n=e.child,t=os(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=os(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function DP(n,e,t){switch(e.tag){case 3:o1(e),ea();break;case 5:_T(e);break;case 1:In(e.type)&&gd(e);break;case 4:ay(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;ot(vd,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(ot(vt,vt.current&1),e.flags|=128,null):t&e.child.childLanes?a1(n,e,t):(ot(vt,vt.current&1),n=kr(n,e,t),n!==null?n.sibling:null);ot(vt,vt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return l1(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ot(vt,vt.current),i)break;return null;case 22:case 23:return e.lanes=0,r1(n,e,t)}return kr(n,e,t)}var c1,Lm,u1,d1;c1=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Lm=function(){};u1=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Ps(tr.current);var s=null;switch(t){case"input":r=sm(n,r),i=sm(n,i),s=[];break;case"select":r=Et({},r,{value:void 0}),i=Et({},i,{value:void 0}),s=[];break;case"textarea":r=lm(n,r),i=lm(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=fd)}um(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ml.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ml.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ct("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};d1=function(n,e,t,i){t!==i&&(e.flags|=4)};function Xa(n,e){if(!bt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function ln(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function LP(n,e,t){var i=e.pendingProps;switch(ey(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return In(e.type)&&md(),ln(e),null;case 3:return i=e.stateNode,na(),ht(Mn),ht(pn),cy(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(iu(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ki!==null&&(Hm(ki),ki=null))),Lm(n,e),ln(e),null;case 5:ly(e);var r=Ps(Vl.current);if(t=e.type,n!==null&&e.stateNode!=null)u1(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(pe(166));return ln(e),null}if(n=Ps(tr.current),iu(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Gi]=e,i[jl]=s,n=(e.mode&1)!==0,t){case"dialog":ct("cancel",i),ct("close",i);break;case"iframe":case"object":case"embed":ct("load",i);break;case"video":case"audio":for(r=0;r<hl.length;r++)ct(hl[r],i);break;case"source":ct("error",i);break;case"img":case"image":case"link":ct("error",i),ct("load",i);break;case"details":ct("toggle",i);break;case"input":o0(i,s),ct("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},ct("invalid",i);break;case"textarea":l0(i,s),ct("invalid",i)}um(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&nu(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&nu(i.textContent,a,n),r=["children",""+a]):Ml.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ct("scroll",i)}switch(t){case"input":Gc(i),a0(i,s,!0);break;case"textarea":Gc(i),c0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=fd)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=qx(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Gi]=e,n[jl]=i,c1(n,e,!1,!1),e.stateNode=n;e:{switch(o=dm(t,i),t){case"dialog":ct("cancel",n),ct("close",n),r=i;break;case"iframe":case"object":case"embed":ct("load",n),r=i;break;case"video":case"audio":for(r=0;r<hl.length;r++)ct(hl[r],n);r=i;break;case"source":ct("error",n),r=i;break;case"img":case"image":case"link":ct("error",n),ct("load",n),r=i;break;case"details":ct("toggle",n),r=i;break;case"input":o0(n,i),r=sm(n,i),ct("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=Et({},i,{value:void 0}),ct("invalid",n);break;case"textarea":l0(n,i),r=lm(n,i),ct("invalid",n);break;default:r=i}um(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ux(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bx(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&Il(n,l):typeof l=="number"&&Il(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ml.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ct("scroll",n):l!=null&&Bg(n,s,l,o))}switch(t){case"input":Gc(n),a0(n,i,!1);break;case"textarea":Gc(n),c0(n);break;case"option":i.value!=null&&n.setAttribute("value",""+ls(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Fo(n,!!i.multiple,s,!1):i.defaultValue!=null&&Fo(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=fd)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(n&&e.stateNode!=null)d1(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(pe(166));if(t=Ps(Vl.current),Ps(tr.current),iu(e)){if(i=e.stateNode,t=e.memoizedProps,i[Gi]=e,(s=i.nodeValue!==t)&&(n=Hn,n!==null))switch(n.tag){case 3:nu(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&nu(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Gi]=e,e.stateNode=i}return ln(e),null;case 13:if(ht(vt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(bt&&Vn!==null&&e.mode&1&&!(e.flags&128))kT(),ea(),e.flags|=98560,s=!1;else if(s=iu(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[Gi]=e}else ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),s=!1}else ki!==null&&(Hm(ki),ki=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||vt.current&1?jt===0&&(jt=3):Ey())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return na(),Lm(n,e),n===null&&Fl(e.stateNode.containerInfo),ln(e),null;case 10:return ry(e.type._context),ln(e),null;case 17:return In(e.type)&&md(),ln(e),null;case 19:if(ht(vt),s=e.memoizedState,s===null)return ln(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Xa(s,!1);else{if(jt!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=xd(n),o!==null){for(e.flags|=128,Xa(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return ot(vt,vt.current&1|2),e.child}n=n.sibling}s.tail!==null&&Pt()>ra&&(e.flags|=128,i=!0,Xa(s,!1),e.lanes=4194304)}else{if(!i)if(n=xd(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Xa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bt)return ln(e),null}else 2*Pt()-s.renderingStartTime>ra&&t!==1073741824&&(e.flags|=128,i=!0,Xa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,t=vt.current,ot(vt,i?t&1|2:t&1),e):(ln(e),null);case 22:case 23:return wy(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Bn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function qP(n,e){switch(ey(e),e.tag){case 1:return In(e.type)&&md(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return na(),ht(Mn),ht(pn),cy(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ly(e),null;case 13:if(ht(vt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));ea()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return ht(vt),null;case 4:return na(),null;case 10:return ry(e.type._context),null;case 22:case 23:return wy(),null;case 24:return null;default:return null}}var ou=!1,cn=!1,BP=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Lo(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){At(n,e,i)}else t.current=null}function qm(n,e,t){try{t()}catch(i){At(n,e,i)}}var X0=!1;function FP(n,e){if(Em=dd,n=mT(),Xg(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch(N){t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,h=null;t:for(;;){for(var p;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===n)break t;if(h===t&&++c===r&&(a=o),h===s&&++u===i&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(xm={focusedElem:n,selectionRange:t},dd=!1,xe=e;xe!==null;)if(e=xe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,xe=n;else for(;xe!==null;){e=xe;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,T=g.memoizedState,w=e.stateNode,b=w.getSnapshotBeforeUpdate(e.elementType===e.type?m:Si(e.type,m),T);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(N){At(e,e.return,N)}if(n=e.sibling,n!==null){n.return=e.return,xe=n;break}xe=e.return}return g=X0,X0=!1,g}function Tl(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&qm(e,t,s)}r=r.next}while(r!==i)}}function yh(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Bm(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function h1(n){var e=n.alternate;e!==null&&(n.alternate=null,h1(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Gi],delete e[jl],delete e[Cm],delete e[xP],delete e[TP])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function p1(n){return n.tag===5||n.tag===3||n.tag===4}function Z0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||p1(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Fm(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=fd));else if(i!==4&&(n=n.child,n!==null))for(Fm(n,e,t),n=n.sibling;n!==null;)Fm(n,e,t),n=n.sibling}function Um(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Um(n,e,t),n=n.sibling;n!==null;)Um(n,e,t),n=n.sibling}var Zt=null,Ci=!1;function qr(n,e,t){for(t=t.child;t!==null;)f1(n,e,t),t=t.sibling}function f1(n,e,t){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(ch,t)}catch(a){}switch(t.tag){case 5:cn||Lo(t,e);case 6:var i=Zt,r=Ci;Zt=null,qr(n,e,t),Zt=i,Ci=r,Zt!==null&&(Ci?(n=Zt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Zt.removeChild(t.stateNode));break;case 18:Zt!==null&&(Ci?(n=Zt,t=t.stateNode,n.nodeType===8?Gp(n.parentNode,t):n.nodeType===1&&Gp(n,t),Ll(n)):Gp(Zt,t.stateNode));break;case 4:i=Zt,r=Ci,Zt=t.stateNode.containerInfo,Ci=!0,qr(n,e,t),Zt=i,Ci=r;break;case 0:case 11:case 14:case 15:if(!cn&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&qm(t,e,o),r=r.next}while(r!==i)}qr(n,e,t);break;case 1:if(!cn&&(Lo(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){At(t,e,a)}qr(n,e,t);break;case 21:qr(n,e,t);break;case 22:t.mode&1?(cn=(i=cn)||t.memoizedState!==null,qr(n,e,t),cn=i):qr(n,e,t);break;default:qr(n,e,t)}}function ev(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new BP),e.forEach(function(i){var r=KP.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function wi(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Zt=a.stateNode,Ci=!1;break e;case 3:Zt=a.stateNode.containerInfo,Ci=!0;break e;case 4:Zt=a.stateNode.containerInfo,Ci=!0;break e}a=a.return}if(Zt===null)throw Error(pe(160));f1(s,o,r),Zt=null,Ci=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){At(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)m1(e,n),e=e.sibling}function m1(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(wi(e,n),Wi(n),i&4){try{Tl(3,n,n.return),yh(3,n)}catch(m){At(n,n.return,m)}try{Tl(5,n,n.return)}catch(m){At(n,n.return,m)}}break;case 1:wi(e,n),Wi(n),i&512&&t!==null&&Lo(t,t.return);break;case 5:if(wi(e,n),Wi(n),i&512&&t!==null&&Lo(t,t.return),n.flags&32){var r=n.stateNode;try{Il(r,"")}catch(m){At(n,n.return,m)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Dx(r,s),dm(a,o);var c=dm(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Ux(r,d):u==="dangerouslySetInnerHTML"?Bx(r,d):u==="children"?Il(r,d):Bg(r,u,d,c)}switch(a){case"input":om(r,s);break;case"textarea":Lx(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Fo(r,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Fo(r,!!s.multiple,s.defaultValue,!0):Fo(r,!!s.multiple,s.multiple?[]:"",!1))}r[jl]=s}catch(m){At(n,n.return,m)}}break;case 6:if(wi(e,n),Wi(n),i&4){if(n.stateNode===null)throw Error(pe(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(m){At(n,n.return,m)}}break;case 3:if(wi(e,n),Wi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Ll(e.containerInfo)}catch(m){At(n,n.return,m)}break;case 4:wi(e,n),Wi(n);break;case 13:wi(e,n),Wi(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(by=Pt())),i&4&&ev(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(cn=(c=cn)||u,wi(e,n),cn=c):wi(e,n),Wi(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(xe=n,u=n.child;u!==null;){for(d=xe=u;xe!==null;){switch(h=xe,p=h.child,h.tag){case 0:case 11:case 14:case 15:Tl(4,h,h.return);break;case 1:Lo(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){i=h,t=h.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){At(i,t,m)}}break;case 5:Lo(h,h.return);break;case 22:if(h.memoizedState!==null){nv(d);continue}}p!==null?(p.return=h,xe=p):nv(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Fx("display",o))}catch(m){At(n,n.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){At(n,n.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:wi(e,n),Wi(n),i&4&&ev(n);break;case 21:break;default:wi(e,n),Wi(n)}}function Wi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(p1(t)){var i=t;break e}t=t.return}throw Error(pe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Il(r,""),i.flags&=-33);var s=Z0(n);Um(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Z0(n);Fm(n,a,o);break;default:throw Error(pe(161))}}catch(l){At(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function UP(n,e,t){xe=n,g1(n)}function g1(n,e,t){for(var i=(n.mode&1)!==0;xe!==null;){var r=xe,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||ou;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||cn;a=ou;var c=cn;if(ou=o,(cn=l)&&!c)for(xe=r;xe!==null;)o=xe,l=o.child,o.tag===22&&o.memoizedState!==null?iv(r):l!==null?(l.return=o,xe=l):iv(r);for(;s!==null;)xe=s,g1(s),s=s.sibling;xe=r,ou=a,cn=c}tv(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,xe=s):tv(n)}}function tv(n){for(;xe!==null;){var e=xe;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:cn||yh(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!cn)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Si(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&q0(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}q0(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Ll(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}cn||e.flags&512&&Bm(e)}catch(h){At(e,e.return,h)}}if(e===n){xe=null;break}if(t=e.sibling,t!==null){t.return=e.return,xe=t;break}xe=e.return}}function nv(n){for(;xe!==null;){var e=xe;if(e===n){xe=null;break}var t=e.sibling;if(t!==null){t.return=e.return,xe=t;break}xe=e.return}}function iv(n){for(;xe!==null;){var e=xe;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{yh(4,e)}catch(l){At(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){At(e,r,l)}}var s=e.return;try{Bm(e)}catch(l){At(e,s,l)}break;case 5:var o=e.return;try{Bm(e)}catch(l){At(e,o,l)}}}catch(l){At(e,e.return,l)}if(e===n){xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xe=a;break}xe=e.return}}var jP=Math.ceil,Cd=$r.ReactCurrentDispatcher,gy=$r.ReactCurrentOwner,hi=$r.ReactCurrentBatchConfig,Ge=0,Qt=null,_t=null,tn=0,Bn=0,qo=gs(0),jt=0,Gl=null,Hs=0,bh=0,yy=0,Sl=null,An=null,by=0,ra=1/0,hr=null,Ad=!1,jm=null,rs=null,au=!1,Jr=null,Nd=0,Cl=0,zm=null,zu=-1,Vu=0;function wn(){return Ge&6?Pt():zu!==-1?zu:zu=Pt()}function ss(n){return n.mode&1?Ge&2&&tn!==0?tn&-tn:CP.transition!==null?(Vu===0&&(Vu=Zx()),Vu):(n=nt,n!==0||(n=window.event,n=n===void 0?16:oT(n.type)),n):1}function _i(n,e,t,i){if(50<Cl)throw Cl=0,zm=null,Error(pe(185));lc(n,t,i),(!(Ge&2)||n!==Qt)&&(n===Qt&&(!(Ge&2)&&(bh|=t),jt===4&&Qr(n,tn)),On(n,i),t===1&&Ge===0&&!(e.mode&1)&&(ra=Pt()+500,fh&&ys()))}function On(n,e){var t=n.callbackNode;CR(n,e);var i=ud(n,n===Qt?tn:0);if(i===0)t!==null&&h0(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&h0(t),e===1)n.tag===0?SP(rv.bind(null,n)):CT(rv.bind(null,n)),wP(function(){!(Ge&6)&&ys()}),t=null;else{switch(eT(i)){case 1:t=Vg;break;case 4:t=Jx;break;case 16:t=cd;break;case 536870912:t=Xx;break;default:t=cd}t=S1(t,y1.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function y1(n,e){if(zu=-1,Vu=0,Ge&6)throw Error(pe(327));var t=n.callbackNode;if(Ho()&&n.callbackNode!==t)return null;var i=ud(n,n===Qt?tn:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=kd(n,i);else{e=i;var r=Ge;Ge|=2;var s=v1();(Qt!==n||tn!==e)&&(hr=null,ra=Pt()+500,_s(n,e));do try{HP();break}catch(a){b1(n,a)}while(1);iy(),Cd.current=s,Ge=r,_t!==null?e=0:(Qt=null,tn=0,e=jt)}if(e!==0){if(e===2&&(r=gm(n),r!==0&&(i=r,e=Vm(n,r))),e===1)throw t=Gl,_s(n,0),Qr(n,i),On(n,Pt()),t;if(e===6)Qr(n,i);else{if(r=n.current.alternate,!(i&30)&&!zP(r)&&(e=kd(n,i),e===2&&(s=gm(n),s!==0&&(i=s,e=Vm(n,s))),e===1))throw t=Gl,_s(n,0),Qr(n,i),On(n,Pt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(pe(345));case 2:Ns(n,An,hr);break;case 3:if(Qr(n,i),(i&130023424)===i&&(e=by+500-Pt(),10<e)){if(ud(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){wn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Sm(Ns.bind(null,n,An,hr),e);break}Ns(n,An,hr);break;case 4:if(Qr(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Oi(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=Pt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*jP(i/1960))-i,10<i){n.timeoutHandle=Sm(Ns.bind(null,n,An,hr),i);break}Ns(n,An,hr);break;case 5:Ns(n,An,hr);break;default:throw Error(pe(329))}}}return On(n,Pt()),n.callbackNode===t?y1.bind(null,n):null}function Vm(n,e){var t=Sl;return n.current.memoizedState.isDehydrated&&(_s(n,e).flags|=256),n=kd(n,e),n!==2&&(e=An,An=t,e!==null&&Hm(e)),n}function Hm(n){An===null?An=n:An.push.apply(An,n)}function zP(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Fi(s(),r))return!1}catch(o){return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qr(n,e){for(e&=~yy,e&=~bh,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Oi(e),i=1<<t;n[t]=-1,e&=~i}}function rv(n){if(Ge&6)throw Error(pe(327));Ho();var e=ud(n,0);if(!(e&1))return On(n,Pt()),null;var t=kd(n,e);if(n.tag!==0&&t===2){var i=gm(n);i!==0&&(e=i,t=Vm(n,i))}if(t===1)throw t=Gl,_s(n,0),Qr(n,e),On(n,Pt()),t;if(t===6)throw Error(pe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ns(n,An,hr),On(n,Pt()),null}function vy(n,e){var t=Ge;Ge|=1;try{return n(e)}finally{Ge=t,Ge===0&&(ra=Pt()+500,fh&&ys())}}function Ws(n){Jr!==null&&Jr.tag===0&&!(Ge&6)&&Ho();var e=Ge;Ge|=1;var t=hi.transition,i=nt;try{if(hi.transition=null,nt=1,n)return n()}finally{nt=i,hi.transition=t,Ge=e,!(Ge&6)&&ys()}}function wy(){Bn=qo.current,ht(qo)}function _s(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,vP(t)),_t!==null)for(t=_t.return;t!==null;){var i=t;switch(ey(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&md();break;case 3:na(),ht(Mn),ht(pn),cy();break;case 5:ly(i);break;case 4:na();break;case 13:ht(vt);break;case 19:ht(vt);break;case 10:ry(i.type._context);break;case 22:case 23:wy()}t=t.return}if(Qt=n,_t=n=os(n.current,null),tn=Bn=e,jt=0,Gl=null,yy=bh=Hs=0,An=Sl=null,Rs!==null){for(e=0;e<Rs.length;e++)if(t=Rs[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Rs=null}return n}function b1(n,e){do{var t=_t;try{if(iy(),Fu.current=Sd,Td){for(var i=wt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Td=!1}if(Vs=0,Wt=Bt=wt=null,xl=!1,Hl=0,gy.current=null,t===null||t.return===null){jt=1,Gl=e,_t=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=tn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=H0(o);if(p!==null){p.flags&=-257,W0(p,o,a,s,e),p.mode&1&&V0(s,c,e),e=p,l=c;var g=e.updateQueue;if(g===null){var m=new Set;m.add(l),e.updateQueue=m}else g.add(l);break e}else{if(!(e&1)){V0(s,c,e),Ey();break e}l=Error(pe(426))}}else if(bt&&a.mode&1){var T=H0(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),W0(T,o,a,s,e),ty(ia(l,a));break e}}s=l=ia(l,a),jt!==4&&(jt=2),Sl===null?Sl=[s]:Sl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=t1(s,l,e);L0(s,w);break e;case 1:a=l;var b=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(rs===null||!rs.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=n1(s,a,e);L0(s,N);break e}}s=s.return}while(s!==null)}E1(t)}catch(M){e=M,_t===t&&t!==null&&(_t=t=t.return);continue}break}while(1)}function v1(){var n=Cd.current;return Cd.current=Sd,n===null?Sd:n}function Ey(){(jt===0||jt===3||jt===2)&&(jt=4),Qt===null||!(Hs&268435455)&&!(bh&268435455)||Qr(Qt,tn)}function kd(n,e){var t=Ge;Ge|=2;var i=v1();(Qt!==n||tn!==e)&&(hr=null,_s(n,e));do try{VP();break}catch(r){b1(n,r)}while(1);if(iy(),Ge=t,Cd.current=i,_t!==null)throw Error(pe(261));return Qt=null,tn=0,jt}function VP(){for(;_t!==null;)w1(_t)}function HP(){for(;_t!==null&&!gR();)w1(_t)}function w1(n){var e=T1(n.alternate,n,Bn);n.memoizedProps=n.pendingProps,e===null?E1(n):_t=e,gy.current=null}function E1(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=qP(t,e),t!==null){t.flags&=32767,_t=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{jt=6,_t=null;return}}else if(t=LP(t,e,Bn),t!==null){_t=t;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=n}while(e!==null);jt===0&&(jt=5)}function Ns(n,e,t){var i=nt,r=hi.transition;try{hi.transition=null,nt=1,WP(n,e,t,i)}finally{hi.transition=r,nt=i}return null}function WP(n,e,t,i){do Ho();while(Jr!==null);if(Ge&6)throw Error(pe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(pe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(AR(n,s),n===Qt&&(_t=Qt=null,tn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||au||(au=!0,S1(cd,function(){return Ho(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=hi.transition,hi.transition=null;var o=nt;nt=1;var a=Ge;Ge|=4,gy.current=null,FP(n,t),m1(t,n),hP(xm),dd=!!Em,xm=Em=null,n.current=t,UP(t),yR(),Ge=a,nt=o,hi.transition=s}else n.current=t;if(au&&(au=!1,Jr=n,Nd=r),s=n.pendingLanes,s===0&&(rs=null),wR(t.stateNode),On(n,Pt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Ad)throw Ad=!1,n=jm,jm=null,n;return Nd&1&&n.tag!==0&&Ho(),s=n.pendingLanes,s&1?n===zm?Cl++:(Cl=0,zm=n):Cl=0,ys(),null}function Ho(){if(Jr!==null){var n=eT(Nd),e=hi.transition,t=nt;try{if(hi.transition=null,nt=16>n?16:n,Jr===null)var i=!1;else{if(n=Jr,Jr=null,Nd=0,Ge&6)throw Error(pe(331));var r=Ge;for(Ge|=4,xe=n.current;xe!==null;){var s=xe,o=s.child;if(xe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(xe=c;xe!==null;){var u=xe;switch(u.tag){case 0:case 11:case 15:Tl(8,u,s)}var d=u.child;if(d!==null)d.return=u,xe=d;else for(;xe!==null;){u=xe;var h=u.sibling,p=u.return;if(h1(u),u===c){xe=null;break}if(h!==null){h.return=p,xe=h;break}xe=p}}}var g=s.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var T=m.sibling;m.sibling=null,m=T}while(m!==null)}}xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xe=o;else e:for(;xe!==null;){if(s=xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,xe=w;break e}xe=s.return}}var b=n.current;for(xe=b;xe!==null;){o=xe;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,xe=v;else e:for(o=b;xe!==null;){if(a=xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:yh(9,a)}}catch(M){At(a,a.return,M)}if(a===o){xe=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,xe=N;break e}xe=a.return}}if(Ge=r,ys(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(ch,n)}catch(M){}i=!0}return i}finally{nt=t,hi.transition=e}}return!1}function sv(n,e,t){e=ia(t,e),e=t1(n,e,1),n=is(n,e,1),e=wn(),n!==null&&(lc(n,1,e),On(n,e))}function At(n,e,t){if(n.tag===3)sv(n,n,t);else for(;e!==null;){if(e.tag===3){sv(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rs===null||!rs.has(i))){n=ia(t,n),n=n1(e,n,1),e=is(e,n,1),n=wn(),e!==null&&(lc(e,1,n),On(e,n));break}}e=e.return}}function QP(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=wn(),n.pingedLanes|=n.suspendedLanes&t,Qt===n&&(tn&t)===t&&(jt===4||jt===3&&(tn&130023424)===tn&&500>Pt()-by?_s(n,0):yy|=t),On(n,e)}function x1(n,e){e===0&&(n.mode&1?(e=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):e=1);var t=wn();n=Nr(n,e),n!==null&&(lc(n,e,t),On(n,t))}function GP(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),x1(n,t)}function KP(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(pe(314))}i!==null&&i.delete(e),x1(n,t)}var T1;T1=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Mn.current)Pn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Pn=!1,DP(n,e,t);Pn=!!(n.flags&131072)}else Pn=!1,bt&&e.flags&1048576&&AT(e,bd,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;ju(n,e),n=e.pendingProps;var r=Zo(e,pn.current);Vo(e,t),r=dy(null,e,i,n,r,t);var s=hy();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(i)?(s=!0,gd(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,oy(e),r.updater=mh,e.stateNode=r,r._reactInternals=e,$m(e,i,n,t),e=Om(null,e,i,!0,s,t)):(e.tag=0,bt&&s&&Zg(e),bn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(ju(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=JP(i),n=Si(i,n),r){case 0:e=Im(null,e,i,n,t);break e;case 1:e=K0(null,e,i,n,t);break e;case 11:e=Q0(null,e,i,n,t);break e;case 14:e=G0(null,e,i,Si(i.type,n),t);break e}throw Error(pe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Si(i,r),Im(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Si(i,r),K0(n,e,i,r,t);case 3:e:{if(o1(e),n===null)throw Error(pe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,PT(n,e),Ed(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=ia(Error(pe(423)),e),e=Y0(n,e,i,t,r);break e}else if(i!==r){r=ia(Error(pe(424)),e),e=Y0(n,e,i,t,r);break e}else for(Vn=ns(e.stateNode.containerInfo.firstChild),Hn=e,bt=!0,ki=null,t=OT(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(ea(),i===r){e=kr(n,e,t);break e}bn(n,e,i,t)}e=e.child}return e;case 5:return _T(e),n===null&&km(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Tm(i,r)?o=null:s!==null&&Tm(i,s)&&(e.flags|=32),s1(n,e),bn(n,e,o,t),e.child;case 6:return n===null&&km(e),null;case 13:return a1(n,e,t);case 4:return ay(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=ta(e,null,i,t):bn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Si(i,r),Q0(n,e,i,r,t);case 7:return bn(n,e,e.pendingProps,t),e.child;case 8:return bn(n,e,e.pendingProps.children,t),e.child;case 12:return bn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,ot(vd,i._currentValue),i._currentValue=o,s!==null)if(Fi(s.value,o)){if(s.children===r.children&&!Mn.current){e=kr(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=wr(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Rm(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(pe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Rm(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}bn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Vo(e,t),r=mi(r),i=i(r),e.flags|=1,bn(n,e,i,t),e.child;case 14:return i=e.type,r=Si(i,e.pendingProps),r=Si(i.type,r),G0(n,e,i,r,t);case 15:return i1(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Si(i,r),ju(n,e),e.tag=1,In(i)?(n=!0,gd(e)):n=!1,Vo(e,t),MT(e,i,r),$m(e,i,r,t),Om(null,e,i,!0,n,t);case 19:return l1(n,e,t);case 22:return r1(n,e,t)}throw Error(pe(156,e.tag))};function S1(n,e){return Yx(n,e)}function YP(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ui(n,e,t,i){return new YP(n,e,t,i)}function xy(n){return n=n.prototype,!(!n||!n.isReactComponent)}function JP(n){if(typeof n=="function")return xy(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ug)return 11;if(n===jg)return 14}return 2}function os(n,e){var t=n.alternate;return t===null?(t=ui(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Hu(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")xy(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case ko:return Ds(t.children,r,s,e);case Fg:o=8,r|=8;break;case tm:return n=ui(12,t,e,r|2),n.elementType=tm,n.lanes=s,n;case nm:return n=ui(13,t,e,r),n.elementType=nm,n.lanes=s,n;case im:return n=ui(19,t,e,r),n.elementType=im,n.lanes=s,n;case Ix:return vh(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case $x:o=10;break e;case Mx:o=9;break e;case Ug:o=11;break e;case jg:o=14;break e;case zr:o=16,i=null;break e}throw Error(pe(130,n==null?n:typeof n,""))}return e=ui(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ds(n,e,t,i){return n=ui(7,n,i,e),n.lanes=t,n}function vh(n,e,t,i){return n=ui(22,n,i,e),n.elementType=Ix,n.lanes=t,n.stateNode={isHidden:!1},n}function nf(n,e,t){return n=ui(6,n,null,e),n.lanes=t,n}function rf(n,e,t){return e=ui(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function XP(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lp(0),this.expirationTimes=Lp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lp(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Ty(n,e,t,i,r,s,o,a,l){return n=new XP(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ui(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},oy(s),n}function ZP(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function C1(n){if(!n)return cs;n=n._reactInternals;e:{if(ro(n)!==n||n.tag!==1)throw Error(pe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(n.tag===1){var t=n.type;if(In(t))return ST(n,t,e)}return e}function A1(n,e,t,i,r,s,o,a,l){return n=Ty(t,i,!0,n,r,s,o,a,l),n.context=C1(null),t=n.current,i=wn(),r=ss(t),s=wr(i,r),s.callback=e!=null?e:null,is(t,s,r),n.current.lanes=r,lc(n,r,i),On(n,i),n}function wh(n,e,t,i){var r=e.current,s=wn(),o=ss(r);return t=C1(t),e.context===null?e.context=t:e.pendingContext=t,e=wr(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=is(r,e,o),n!==null&&(_i(n,r,o,s),Bu(n,r,o)),o}function Rd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ov(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Sy(n,e){ov(n,e),(n=n.alternate)&&ov(n,e)}function e$(){return null}var N1=typeof reportError=="function"?reportError:function(n){console.error(n)};function Cy(n){this._internalRoot=n}Eh.prototype.render=Cy.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(pe(409));wh(n,e,null,null)};Eh.prototype.unmount=Cy.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ws(function(){wh(null,n,null,null)}),e[Ar]=null}};function Eh(n){this._internalRoot=n}Eh.prototype.unstable_scheduleHydration=function(n){if(n){var e=iT();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Wr.length&&e!==0&&e<Wr[t].priority;t++);Wr.splice(t,0,n),t===0&&sT(n)}};function Ay(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function av(){}function t$(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Rd(o);s.call(c)}}var o=A1(e,i,n,0,null,!1,!1,"",av);return n._reactRootContainer=o,n[Ar]=o.current,Fl(n.nodeType===8?n.parentNode:n),Ws(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Rd(l);a.call(c)}}var l=Ty(n,0,!1,null,null,!1,!1,"",av);return n._reactRootContainer=l,n[Ar]=l.current,Fl(n.nodeType===8?n.parentNode:n),Ws(function(){wh(e,l,t,i)}),l}function Th(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Rd(o);a.call(l)}}wh(e,o,n,r)}else o=t$(t,e,n,r,i);return Rd(o)}tT=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=dl(e.pendingLanes);t!==0&&(Hg(e,t|1),On(e,Pt()),!(Ge&6)&&(ra=Pt()+500,ys()))}break;case 13:Ws(function(){var i=Nr(n,1);if(i!==null){var r=wn();_i(i,n,1,r)}}),Sy(n,1)}};Wg=function(n){if(n.tag===13){var e=Nr(n,134217728);if(e!==null){var t=wn();_i(e,n,134217728,t)}Sy(n,134217728)}};nT=function(n){if(n.tag===13){var e=ss(n),t=Nr(n,e);if(t!==null){var i=wn();_i(t,n,e,i)}Sy(n,e)}};iT=function(){return nt};rT=function(n,e){var t=nt;try{return nt=n,e()}finally{nt=t}};pm=function(n,e,t){switch(e){case"input":if(om(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=ph(i);if(!r)throw Error(pe(90));_x(i),om(i,r)}}}break;case"textarea":Lx(n,t);break;case"select":e=t.value,e!=null&&Fo(n,!!t.multiple,e,!1)}};Vx=vy;Hx=Ws;var n$={usingClientEntryPoint:!1,Events:[uc,Mo,ph,jx,zx,vy]},Za={findFiberByHostInstance:ks,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},i$={bundleType:Za.bundleType,version:Za.version,rendererPackageName:Za.rendererPackageName,rendererConfig:Za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$r.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Gx(n),n===null?null:n.stateNode},findFiberByHostInstance:Za.findFiberByHostInstance||e$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{ch=lu.inject(i$),er=lu}catch(n){}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n$;Gn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ay(e))throw Error(pe(200));return ZP(n,e,null,t)};Gn.createRoot=function(n,e){if(!Ay(n))throw Error(pe(299));var t=!1,i="",r=N1;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Ty(n,1,!1,null,null,t,!1,i,r),n[Ar]=e.current,Fl(n.nodeType===8?n.parentNode:n),new Cy(e)};Gn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(pe(188)):(n=Object.keys(n).join(","),Error(pe(268,n)));return n=Gx(e),n=n===null?null:n.stateNode,n};Gn.flushSync=function(n){return Ws(n)};Gn.hydrate=function(n,e,t){if(!xh(e))throw Error(pe(200));return Th(null,n,e,!0,t)};Gn.hydrateRoot=function(n,e,t){if(!Ay(n))throw Error(pe(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=N1;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=A1(e,null,n,1,t!=null?t:null,r,!1,s,o),n[Ar]=e.current,Fl(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Eh(e)};Gn.render=function(n,e,t){if(!xh(e))throw Error(pe(200));return Th(null,n,e,!1,t)};Gn.unmountComponentAtNode=function(n){if(!xh(n))throw Error(pe(40));return n._reactRootContainer?(Ws(function(){Th(null,null,n,!1,function(){n._reactRootContainer=null,n[Ar]=null})}),!0):!1};Gn.unstable_batchedUpdates=vy;Gn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!xh(t))throw Error(pe(200));if(n==null||n._reactInternals===void 0)throw Error(pe(38));return Th(n,e,t,!1,i)};Gn.version="18.2.0-next-9e3b772b8-20220608";function k1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k1)}catch(n){console.error(n)}}k1(),Ax.exports=Gn;var Ny=Ax.exports;const r$=fs(Ny);var R1,lv=Ny;R1=lv.createRoot,lv.hydrateRoot;function Wm(n,e){return Wm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Wm(n,e)}function us(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Wm(n,e)}var P1={exports:{}},s$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",o$=s$,a$=o$;function $1(){}function M1(){}M1.resetWarningCache=$1;var l$=function(){function n(i,r,s,o,a,l){if(l!==a$){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:M1,resetWarningCache:$1};return t.PropTypes=t,t};P1.exports=l$();var c$=P1.exports;const cv=fs(c$);function _n(){return _n=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_n.apply(this,arguments)}function cu(n){return n.charAt(0)==="/"}function sf(n,e){for(var t=e,i=t+1,r=n.length;i<r;t+=1,i+=1)n[t]=n[i];n.pop()}function u$(n,e){e===void 0&&(e="");var t=n&&n.split("/")||[],i=e&&e.split("/")||[],r=n&&cu(n),s=e&&cu(e),o=r||s;if(n&&cu(n)?i=t:t.length&&(i.pop(),i=i.concat(t)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];d==="."?sf(i,u):d===".."?(sf(i,u),c++):c&&(sf(i,u),c--)}if(!o)for(;c--;c)i.unshift("..");o&&i[0]!==""&&(!i[0]||!cu(i[0]))&&i.unshift("");var h=i.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}function uv(n){return n.valueOf?n.valueOf():Object.prototype.valueOf.call(n)}function Wu(n,e){if(n===e)return!0;if(n==null||e==null)return!1;if(Array.isArray(n))return Array.isArray(e)&&n.length===e.length&&n.every(function(r,s){return Wu(r,e[s])});if(typeof n=="object"||typeof e=="object"){var t=uv(n),i=uv(e);return t!==n||i!==e?Wu(t,i):Object.keys(Object.assign({},n,e)).every(function(r){return Wu(n[r],e[r])})}return!1}var d$=!0,of="Invariant failed";function so(n,e){if(!n){if(d$)throw new Error(of);var t=typeof e=="function"?e():e,i=t?"".concat(of,": ").concat(t):of;throw new Error(i)}}function Al(n){return n.charAt(0)==="/"?n:"/"+n}function dv(n){return n.charAt(0)==="/"?n.substr(1):n}function h$(n,e){return n.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(n.charAt(e.length))!==-1}function I1(n,e){return h$(n,e)?n.substr(e.length):n}function O1(n){return n.charAt(n.length-1)==="/"?n.slice(0,-1):n}function p$(n){var e=n||"/",t="",i="",r=e.indexOf("#");r!==-1&&(i=e.substr(r),e=e.substr(0,r));var s=e.indexOf("?");return s!==-1&&(t=e.substr(s),e=e.substr(0,s)),{pathname:e,search:t==="?"?"":t,hash:i==="#"?"":i}}function ri(n){var e=n.pathname,t=n.search,i=n.hash,r=e||"/";return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function $n(n,e,t,i){var r;typeof n=="string"?(r=p$(n),r.state=e):(r=_n({},n),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return t&&(r.key=t),i?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=u$(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function f$(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash===e.hash&&n.key===e.key&&Wu(n.state,e.state)}function ky(){var n=null;function e(o){return n=o,function(){n===o&&(n=null)}}function t(o,a,l,c){if(n!=null){var u=typeof n=="function"?n(o,a):n;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var i=[];function r(o){var a=!0;function l(){a&&o.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(c){return c!==l})}}function s(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];i.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:t,appendListener:r,notifyListeners:s}}var _1=!!(typeof window<"u"&&window.document&&window.document.createElement);function D1(n,e){e(window.confirm(n))}function m$(){var n=window.navigator.userAgent;return(n.indexOf("Android 2.")!==-1||n.indexOf("Android 4.0")!==-1)&&n.indexOf("Mobile Safari")!==-1&&n.indexOf("Chrome")===-1&&n.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function g$(){return window.navigator.userAgent.indexOf("Trident")===-1}function y$(){return window.navigator.userAgent.indexOf("Firefox")===-1}function b$(n){return n.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var hv="popstate",pv="hashchange";function fv(){try{return window.history.state||{}}catch(n){return{}}}function v$(n){n===void 0&&(n={}),_1||so(!1);var e=window.history,t=m$(),i=!g$(),r=n,s=r.forceRefresh,o=s===void 0?!1:s,a=r.getUserConfirmation,l=a===void 0?D1:a,c=r.keyLength,u=c===void 0?6:c,d=n.basename?O1(Al(n.basename)):"";function h(Z){var j=Z||{},J=j.key,ce=j.state,ve=window.location,Te=ve.pathname,Ce=ve.search,$e=ve.hash,_e=Te+Ce+$e;return d&&(_e=I1(_e,d)),$n(_e,ce,J)}function p(){return Math.random().toString(36).substr(2,u)}var g=ky();function m(Z){_n(te,Z),te.length=e.length,g.notifyListeners(te.location,te.action)}function T(Z){b$(Z)||v(h(Z.state))}function w(){v(h(fv()))}var b=!1;function v(Z){if(b)b=!1,m();else{var j="POP";g.confirmTransitionTo(Z,j,l,function(J){J?m({action:j,location:Z}):N(Z)})}}function N(Z){var j=te.location,J=L.indexOf(j.key);J===-1&&(J=0);var ce=L.indexOf(Z.key);ce===-1&&(ce=0);var ve=J-ce;ve&&(b=!0,H(ve))}var M=h(fv()),L=[M.key];function I(Z){return d+ri(Z)}function $(Z,j){var J="PUSH",ce=$n(Z,j,p(),te.location);g.confirmTransitionTo(ce,J,l,function(ve){if(ve){var Te=I(ce),Ce=ce.key,$e=ce.state;if(t)if(e.pushState({key:Ce,state:$e},null,Te),o)window.location.href=Te;else{var _e=L.indexOf(te.location.key),pt=L.slice(0,_e+1);pt.push(ce.key),L=pt,m({action:J,location:ce})}else window.location.href=Te}})}function k(Z,j){var J="REPLACE",ce=$n(Z,j,p(),te.location);g.confirmTransitionTo(ce,J,l,function(ve){if(ve){var Te=I(ce),Ce=ce.key,$e=ce.state;if(t)if(e.replaceState({key:Ce,state:$e},null,Te),o)window.location.replace(Te);else{var _e=L.indexOf(te.location.key);_e!==-1&&(L[_e]=ce.key),m({action:J,location:ce})}else window.location.replace(Te)}})}function H(Z){e.go(Z)}function A(){H(-1)}function F(){H(1)}var D=0;function G(Z){D+=Z,D===1&&Z===1?(window.addEventListener(hv,T),i&&window.addEventListener(pv,w)):D===0&&(window.removeEventListener(hv,T),i&&window.removeEventListener(pv,w))}var ne=!1;function ue(Z){Z===void 0&&(Z=!1);var j=g.setPrompt(Z);return ne||(G(1),ne=!0),function(){return ne&&(ne=!1,G(-1)),j()}}function ae(Z){var j=g.appendListener(Z);return G(1),function(){G(-1),j()}}var te={length:e.length,action:"POP",location:M,createHref:I,push:$,replace:k,go:H,goBack:A,goForward:F,block:ue,listen:ae};return te}var mv="hashchange",w$={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+dv(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:dv,decodePath:Al},slash:{encodePath:Al,decodePath:Al}};function L1(n){var e=n.indexOf("#");return e===-1?n:n.slice(0,e)}function el(){var n=window.location.href,e=n.indexOf("#");return e===-1?"":n.substring(e+1)}function E$(n){window.location.hash=n}function af(n){window.location.replace(L1(window.location.href)+"#"+n)}function x$(n){n===void 0&&(n={}),_1||so(!1);var e=window.history;y$();var t=n,i=t.getUserConfirmation,r=i===void 0?D1:i,s=t.hashType,o=s===void 0?"slash":s,a=n.basename?O1(Al(n.basename)):"",l=w$[o],c=l.encodePath,u=l.decodePath;function d(){var j=u(el());return a&&(j=I1(j,a)),$n(j)}var h=ky();function p(j){_n(Z,j),Z.length=e.length,h.notifyListeners(Z.location,Z.action)}var g=!1,m=null;function T(j,J){return j.pathname===J.pathname&&j.search===J.search&&j.hash===J.hash}function w(){var j=el(),J=c(j);if(j!==J)af(J);else{var ce=d(),ve=Z.location;if(!g&&T(ve,ce)||m===ri(ce))return;m=null,b(ce)}}function b(j){if(g)g=!1,p();else{var J="POP";h.confirmTransitionTo(j,J,r,function(ce){ce?p({action:J,location:j}):v(j)})}}function v(j){var J=Z.location,ce=I.lastIndexOf(ri(J));ce===-1&&(ce=0);var ve=I.lastIndexOf(ri(j));ve===-1&&(ve=0);var Te=ce-ve;Te&&(g=!0,A(Te))}var N=el(),M=c(N);N!==M&&af(M);var L=d(),I=[ri(L)];function $(j){var J=document.querySelector("base"),ce="";return J&&J.getAttribute("href")&&(ce=L1(window.location.href)),ce+"#"+c(a+ri(j))}function k(j,J){var ce="PUSH",ve=$n(j,void 0,void 0,Z.location);h.confirmTransitionTo(ve,ce,r,function(Te){if(Te){var Ce=ri(ve),$e=c(a+Ce),_e=el()!==$e;if(_e){m=Ce,E$($e);var pt=I.lastIndexOf(ri(Z.location)),xt=I.slice(0,pt+1);xt.push(Ce),I=xt,p({action:ce,location:ve})}else p()}})}function H(j,J){var ce="REPLACE",ve=$n(j,void 0,void 0,Z.location);h.confirmTransitionTo(ve,ce,r,function(Te){if(Te){var Ce=ri(ve),$e=c(a+Ce),_e=el()!==$e;_e&&(m=Ce,af($e));var pt=I.indexOf(ri(Z.location));pt!==-1&&(I[pt]=Ce),p({action:ce,location:ve})}})}function A(j){e.go(j)}function F(){A(-1)}function D(){A(1)}var G=0;function ne(j){G+=j,G===1&&j===1?window.addEventListener(mv,w):G===0&&window.removeEventListener(mv,w)}var ue=!1;function ae(j){j===void 0&&(j=!1);var J=h.setPrompt(j);return ue||(ne(1),ue=!0),function(){return ue&&(ue=!1,ne(-1)),J()}}function te(j){var J=h.appendListener(j);return ne(1),function(){ne(-1),J()}}var Z={length:e.length,action:"POP",location:L,createHref:$,push:k,replace:H,go:A,goBack:F,goForward:D,block:ae,listen:te};return Z}function gv(n,e,t){return Math.min(Math.max(n,e),t)}function T$(n){n===void 0&&(n={});var e=n,t=e.getUserConfirmation,i=e.initialEntries,r=i===void 0?["/"]:i,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,l=a===void 0?6:a,c=ky();function u($){_n(I,$),I.length=I.entries.length,c.notifyListeners(I.location,I.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=gv(o,0,r.length-1),p=r.map(function($){return typeof $=="string"?$n($,void 0,d()):$n($,void 0,$.key||d())}),g=ri;function m($,k){var H="PUSH",A=$n($,k,d(),I.location);c.confirmTransitionTo(A,H,t,function(F){if(F){var D=I.index,G=D+1,ne=I.entries.slice(0);ne.length>G?ne.splice(G,ne.length-G,A):ne.push(A),u({action:H,location:A,index:G,entries:ne})}})}function T($,k){var H="REPLACE",A=$n($,k,d(),I.location);c.confirmTransitionTo(A,H,t,function(F){F&&(I.entries[I.index]=A,u({action:H,location:A}))})}function w($){var k=gv(I.index+$,0,I.entries.length-1),H="POP",A=I.entries[k];c.confirmTransitionTo(A,H,t,function(F){F?u({action:H,location:A,index:k}):u()})}function b(){w(-1)}function v(){w(1)}function N($){var k=I.index+$;return k>=0&&k<I.entries.length}function M($){return $===void 0&&($=!1),c.setPrompt($)}function L($){return c.appendListener($)}var I={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:g,push:m,replace:T,go:w,goBack:b,goForward:v,canGo:N,block:M,listen:L};return I}var ya={exports:{}},S$=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"},Pd=S$;ya.exports=F1;ya.exports.parse=Ry;ya.exports.compile=A$;ya.exports.tokensToFunction=q1;ya.exports.tokensToRegExp=B1;var C$=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Ry(n,e){for(var t=[],i=0,r=0,s="",o=e&&e.delimiter||"/",a;(a=C$.exec(n))!=null;){var l=a[0],c=a[1],u=a.index;if(s+=n.slice(r,u),r=u+l.length,c){s+=c[1];continue}var d=n[r],h=a[2],p=a[3],g=a[4],m=a[5],T=a[6],w=a[7];s&&(t.push(s),s="");var b=h!=null&&d!=null&&d!==h,v=T==="+"||T==="*",N=T==="?"||T==="*",M=a[2]||o,L=g||m;t.push({name:p||i++,prefix:h||"",delimiter:M,optional:N,repeat:v,partial:b,asterisk:!!w,pattern:L?R$(L):w?".*":"[^"+Qu(M)+"]+?"})}return r<n.length&&(s+=n.substr(r)),s&&t.push(s),t}function A$(n,e){return q1(Ry(n,e),e)}function N$(n){return encodeURI(n).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function k$(n){return encodeURI(n).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function q1(n,e){for(var t=new Array(n.length),i=0;i<n.length;i++)typeof n[i]=="object"&&(t[i]=new RegExp("^(?:"+n[i].pattern+")$",$y(e)));return function(r,s){for(var o="",a=r||{},l=s||{},c=l.pretty?N$:encodeURIComponent,u=0;u<n.length;u++){var d=n[u];if(typeof d=="string"){o+=d;continue}var h=a[d.name],p;if(h==null)if(d.optional){d.partial&&(o+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(Pd(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var g=0;g<h.length;g++){if(p=c(h[g]),!t[u].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(g===0?d.prefix:d.delimiter)+p}continue}if(p=d.asterisk?k$(h):c(h),!t[u].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');o+=d.prefix+p}return o}}function Qu(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function R$(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Py(n,e){return n.keys=e,n}function $y(n){return n&&n.sensitive?"":"i"}function P$(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var i=0;i<t.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Py(n,e)}function $$(n,e,t){for(var i=[],r=0;r<n.length;r++)i.push(F1(n[r],e,t).source);var s=new RegExp("(?:"+i.join("|")+")",$y(t));return Py(s,e)}function M$(n,e,t){return B1(Ry(n,t),e,t)}function B1(n,e,t){Pd(e)||(t=e||t,e=[]),t=t||{};for(var i=t.strict,r=t.end!==!1,s="",o=0;o<n.length;o++){var a=n[o];if(typeof a=="string")s+=Qu(a);else{var l=Qu(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",s+=c}}var u=Qu(t.delimiter||"/"),d=s.slice(-u.length)===u;return i||(s=(d?s.slice(0,-u.length):s)+"(?:"+u+"(?=$))?"),r?s+="$":s+=i&&d?"":"(?="+u+"|$)",Py(new RegExp("^"+s,$y(t)),e)}function F1(n,e,t){return Pd(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?P$(n,e):Pd(n)?$$(n,e,t):M$(n,e,t)}var I$=ya.exports;const U1=fs(I$);var rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yt=typeof Symbol=="function"&&Symbol.for,My=Yt?Symbol.for("react.element"):60103,Iy=Yt?Symbol.for("react.portal"):60106,Sh=Yt?Symbol.for("react.fragment"):60107,Ch=Yt?Symbol.for("react.strict_mode"):60108,Ah=Yt?Symbol.for("react.profiler"):60114,Nh=Yt?Symbol.for("react.provider"):60109,kh=Yt?Symbol.for("react.context"):60110,Oy=Yt?Symbol.for("react.async_mode"):60111,Rh=Yt?Symbol.for("react.concurrent_mode"):60111,Ph=Yt?Symbol.for("react.forward_ref"):60112,$h=Yt?Symbol.for("react.suspense"):60113,O$=Yt?Symbol.for("react.suspense_list"):60120,Mh=Yt?Symbol.for("react.memo"):60115,Ih=Yt?Symbol.for("react.lazy"):60116,_$=Yt?Symbol.for("react.block"):60121,D$=Yt?Symbol.for("react.fundamental"):60117,L$=Yt?Symbol.for("react.responder"):60118,q$=Yt?Symbol.for("react.scope"):60119;function Yn(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case My:switch(n=n.type,n){case Oy:case Rh:case Sh:case Ah:case Ch:case $h:return n;default:switch(n=n&&n.$$typeof,n){case kh:case Ph:case Ih:case Mh:case Nh:return n;default:return e}}case Iy:return e}}}function j1(n){return Yn(n)===Rh}rt.AsyncMode=Oy;rt.ConcurrentMode=Rh;rt.ContextConsumer=kh;rt.ContextProvider=Nh;rt.Element=My;rt.ForwardRef=Ph;rt.Fragment=Sh;rt.Lazy=Ih;rt.Memo=Mh;rt.Portal=Iy;rt.Profiler=Ah;rt.StrictMode=Ch;rt.Suspense=$h;rt.isAsyncMode=function(n){return j1(n)||Yn(n)===Oy};rt.isConcurrentMode=j1;rt.isContextConsumer=function(n){return Yn(n)===kh};rt.isContextProvider=function(n){return Yn(n)===Nh};rt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===My};rt.isForwardRef=function(n){return Yn(n)===Ph};rt.isFragment=function(n){return Yn(n)===Sh};rt.isLazy=function(n){return Yn(n)===Ih};rt.isMemo=function(n){return Yn(n)===Mh};rt.isPortal=function(n){return Yn(n)===Iy};rt.isProfiler=function(n){return Yn(n)===Ah};rt.isStrictMode=function(n){return Yn(n)===Ch};rt.isSuspense=function(n){return Yn(n)===$h};rt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Sh||n===Rh||n===Ah||n===Ch||n===$h||n===O$||typeof n=="object"&&n!==null&&(n.$$typeof===Ih||n.$$typeof===Mh||n.$$typeof===Nh||n.$$typeof===kh||n.$$typeof===Ph||n.$$typeof===D$||n.$$typeof===L$||n.$$typeof===q$||n.$$typeof===_$)};rt.typeOf=Yn;function z1(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var V1={exports:{}},it={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jt=typeof Symbol=="function"&&Symbol.for,_y=Jt?Symbol.for("react.element"):60103,Dy=Jt?Symbol.for("react.portal"):60106,Oh=Jt?Symbol.for("react.fragment"):60107,_h=Jt?Symbol.for("react.strict_mode"):60108,Dh=Jt?Symbol.for("react.profiler"):60114,Lh=Jt?Symbol.for("react.provider"):60109,qh=Jt?Symbol.for("react.context"):60110,Ly=Jt?Symbol.for("react.async_mode"):60111,Bh=Jt?Symbol.for("react.concurrent_mode"):60111,Fh=Jt?Symbol.for("react.forward_ref"):60112,Uh=Jt?Symbol.for("react.suspense"):60113,B$=Jt?Symbol.for("react.suspense_list"):60120,jh=Jt?Symbol.for("react.memo"):60115,zh=Jt?Symbol.for("react.lazy"):60116,F$=Jt?Symbol.for("react.block"):60121,U$=Jt?Symbol.for("react.fundamental"):60117,j$=Jt?Symbol.for("react.responder"):60118,z$=Jt?Symbol.for("react.scope"):60119;function Jn(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case _y:switch(n=n.type,n){case Ly:case Bh:case Oh:case Dh:case _h:case Uh:return n;default:switch(n=n&&n.$$typeof,n){case qh:case Fh:case zh:case jh:case Lh:return n;default:return e}}case Dy:return e}}}function H1(n){return Jn(n)===Bh}it.AsyncMode=Ly;it.ConcurrentMode=Bh;it.ContextConsumer=qh;it.ContextProvider=Lh;it.Element=_y;it.ForwardRef=Fh;it.Fragment=Oh;it.Lazy=zh;it.Memo=jh;it.Portal=Dy;it.Profiler=Dh;it.StrictMode=_h;it.Suspense=Uh;it.isAsyncMode=function(n){return H1(n)||Jn(n)===Ly};it.isConcurrentMode=H1;it.isContextConsumer=function(n){return Jn(n)===qh};it.isContextProvider=function(n){return Jn(n)===Lh};it.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===_y};it.isForwardRef=function(n){return Jn(n)===Fh};it.isFragment=function(n){return Jn(n)===Oh};it.isLazy=function(n){return Jn(n)===zh};it.isMemo=function(n){return Jn(n)===jh};it.isPortal=function(n){return Jn(n)===Dy};it.isProfiler=function(n){return Jn(n)===Dh};it.isStrictMode=function(n){return Jn(n)===_h};it.isSuspense=function(n){return Jn(n)===Uh};it.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Oh||n===Bh||n===Dh||n===_h||n===Uh||n===B$||typeof n=="object"&&n!==null&&(n.$$typeof===zh||n.$$typeof===jh||n.$$typeof===Lh||n.$$typeof===qh||n.$$typeof===Fh||n.$$typeof===U$||n.$$typeof===j$||n.$$typeof===z$||n.$$typeof===F$)};it.typeOf=Jn;V1.exports=it;var V$=V1.exports,qy=V$,H$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},W$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Q$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},W1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},By={};By[qy.ForwardRef]=Q$;By[qy.Memo]=W1;function yv(n){return qy.isMemo(n)?W1:By[n.$$typeof]||H$}var G$=Object.defineProperty,K$=Object.getOwnPropertyNames,bv=Object.getOwnPropertySymbols,Y$=Object.getOwnPropertyDescriptor,J$=Object.getPrototypeOf,vv=Object.prototype;function Q1(n,e,t){if(typeof e!="string"){if(vv){var i=J$(e);i&&i!==vv&&Q1(n,i,t)}var r=K$(e);bv&&(r=r.concat(bv(e)));for(var s=yv(n),o=yv(e),a=0;a<r.length;++a){var l=r[a];if(!W$[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var c=Y$(e,l);try{G$(n,l,c)}catch(u){}}}}return n}var X$=Q1;const Z$=fs(X$);var lf=1073741823,wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function eM(){var n="__global_unique_id__";return wv[n]=(wv[n]||0)+1}function tM(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function nM(n){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(r){return r!==i})},get:function(){return n},set:function(i,r){n=i,e.forEach(function(s){return s(n,r)})}}}function iM(n){return Array.isArray(n)?n[0]:n}function rM(n,e){var t,i,r="__create-react-context-"+eM()+"__",s=function(a){us(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=nM(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[r]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,p=d.value,g;tM(h,p)?g=0:(g=typeof e=="function"?e(h,p):lf,g|=0,g!==0&&this.emitter.set(d.value,g))}},c.render=function(){return this.props.children},l}(ee.Component);s.childContextTypes=(t={},t[r]=cv.object.isRequired,t);var o=function(a){us(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(g,m){var T=u.observedBits|0;T&m&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?lf:h},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?lf:d},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():n},c.render=function(){return iM(this.props.children)(this.state.value)},l}(ee.Component);return o.contextTypes=(i={},i[r]=cv.object,i),{Provider:s,Consumer:o}}var sM=ee.createContext||rM,G1=function(e){var t=sM();return t.displayName=e,t},oM=G1("Router-History"),sa=G1("Router"),hc=function(n){us(e,n),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(i){var r;return r=n.call(this,i)||this,r.state={location:i.history.location},r._isMounted=!1,r._pendingLocation=null,i.staticContext||(r.unlisten=i.history.listen(function(s){r._pendingLocation=s})),r}var t=e.prototype;return t.componentDidMount=function(){var r=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){r._isMounted&&r.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},t.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},t.render=function(){return ee.createElement(sa.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},ee.createElement(oM.Provider,{children:this.props.children||null,value:this.props.history}))},e}(ee.Component);ee.Component;var aM=function(n){us(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},t.componentDidUpdate=function(r){this.props.onUpdate&&this.props.onUpdate.call(this,this,r)},t.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},t.render=function(){return null},e}(ee.Component),cf={},lM=1e4,Ev=0;function cM(n){if(cf[n])return cf[n];var e=U1.compile(n);return Ev<lM&&(cf[n]=e,Ev++),e}function xv(n,e){return n===void 0&&(n="/"),e===void 0&&(e={}),n==="/"?n:cM(n)(e,{pretty:!0})}function uM(n){var e=n.computedMatch,t=n.to,i=n.push,r=i===void 0?!1:i;return ee.createElement(sa.Consumer,null,function(s){s||so(!1);var o=s.history,a=s.staticContext,l=r?o.push:o.replace,c=$n(e?typeof t=="string"?xv(t,e.params):_n({},t,{pathname:xv(t.pathname,e.params)}):t);return a?(l(c),null):ee.createElement(aM,{onMount:function(){l(c)},onUpdate:function(d,h){var p=$n(h.to);f$(p,_n({},c,{key:p.key}))||l(c)},to:t})})}var Tv={},dM=1e4,Sv=0;function hM(n,e){var t=""+e.end+e.strict+e.sensitive,i=Tv[t]||(Tv[t]={});if(i[n])return i[n];var r=[],s=U1(n,r,e),o={regexp:s,keys:r};return Sv<dM&&(i[n]=o,Sv++),o}function Qs(n,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var t=e,i=t.path,r=t.exact,s=r===void 0?!1:r,o=t.strict,a=o===void 0?!1:o,l=t.sensitive,c=l===void 0?!1:l,u=[].concat(i);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var p=hM(h,{end:s,strict:a,sensitive:c}),g=p.regexp,m=p.keys,T=g.exec(n);if(!T)return null;var w=T[0],b=T.slice(1),v=n===w;return s&&!v?null:{path:h,url:h==="/"&&w===""?"/":w,isExact:v,params:m.reduce(function(N,M,L){return N[M.name]=b[L],N},{})}},null)}function pM(n){return ee.Children.count(n)===0}var pl=function(n){us(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){var r=this;return ee.createElement(sa.Consumer,null,function(s){s||so(!1);var o=r.props.location||s.location,a=r.props.computedMatch?r.props.computedMatch:r.props.path?Qs(o.pathname,r.props):s.match,l=_n({},s,{location:o,match:a}),c=r.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&pM(u)&&(u=null),ee.createElement(sa.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?ee.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(ee.Component);function Fy(n){return n.charAt(0)==="/"?n:"/"+n}function fM(n,e){return n?_n({},e,{pathname:Fy(n)+e.pathname}):e}function mM(n,e){if(!n)return e;var t=Fy(n);return e.pathname.indexOf(t)!==0?e:_n({},e,{pathname:e.pathname.substr(t.length)})}function Cv(n){return typeof n=="string"?n:ri(n)}function uf(n){return function(){so(!1)}}function Av(){}ee.Component;ee.Component;function gM(n){var e="withRouter("+(n.displayName||n.name)+")",t=function(r){var s=r.wrappedComponentRef,o=z1(r,["wrappedComponentRef"]);return ee.createElement(sa.Consumer,null,function(a){return a||so(!1),ee.createElement(n,_n({},o,a,{ref:s}))})};return t.displayName=e,t.WrappedComponent=n,Z$(t,n)}ee.useContext;const yM="modulepreload",bM=function(n){return"/"+n},Nv={},en=function(e,t,i){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=bM(s),s in Nv)return;Nv[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let u=r.length-1;u>=0;u--){const d=r[u];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(s,'"]').concat(a)))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":yM,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error("Unable to preload CSS for ".concat(s))))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},wo={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,patchPseudoShadowDom:!1};let Eo,K1,Vh,Y1=!1,$d=!1,Uy=!1,Fn=!1,kv=null,Qm=!1;const vM={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},wM=n=>{const e=new URL(n,Kt.$resourcesUrl$);return e.origin!==fc.location.origin?e.href:e.pathname},Gs=(n,e="")=>()=>{},Rv="http://www.w3.org/1999/xlink",Pv={},EM="http://www.w3.org/2000/svg",xM="http://www.w3.org/1999/xhtml",TM=n=>n!=null,jy=n=>(n=typeof n,n==="object"||n==="function");function SM(n){var e,t,i;return(i=(t=(e=n.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||t===void 0?void 0:t.getAttribute("content"))!==null&&i!==void 0?i:void 0}const V=(n,e,...t)=>{let i=null,r=null,s=null,o=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((o=typeof n!="function"&&!jy(i))&&(i=String(i)),o&&a?l[l.length-1].$text$+=i:l.push(o?Md(null,i):i),a=o)};if(c(t),e){e.key&&(r=e.key),e.name&&(s=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof n=="function")return n(e===null?{}:e,l,AM);const u=Md(n,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=s,u},Md=(n,e)=>{const t={$flags$:0,$tag$:n,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t.$key$=null,t.$name$=null,t},Ke={},CM=n=>n&&n.$tag$===Ke,AM={forEach:(n,e)=>n.map($v).forEach(e),map:(n,e)=>n.map($v).map(e).map(NM)},$v=n=>({vattrs:n.$attrs$,vchildren:n.$children$,vkey:n.$key$,vname:n.$name$,vtag:n.$tag$,vtext:n.$text$}),NM=n=>{if(typeof n.vtag=="function"){const t=Object.assign({},n.vattrs);return n.vkey&&(t.key=n.vkey),n.vname&&(t.name=n.vname),V(n.vtag,t,...n.vchildren||[])}const e=Md(n.vtag,n.vtext);return e.$attrs$=n.vattrs,e.$children$=n.vchildren,e.$key$=n.vkey,e.$name$=n.vname,e},kM=n=>aS.map(e=>e(n)).find(e=>!!e),RM=n=>aS.push(n),PM=n=>ba(n).$modeName$,$M=(n,e)=>n!=null&&!jy(n)?e&4?n==="false"?!1:n===""||!!n:e&2?parseFloat(n):e&1?String(n):n:n,MM=n=>n,Ne=(n,e,t)=>{const i=MM(n);return{emit:r=>IM(i,e,{bubbles:!!(t&4),composed:!!(t&2),cancelable:!!(t&1),detail:r})}},IM=(n,e,t)=>{const i=Kt.ce(e,t);return n.dispatchEvent(i),i},Mv=new WeakMap,OM=(n,e,t)=>{let i=Od.get(n);oI&&t?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,Od.set(n,i)},_M=(n,e,t)=>{var i;const r=J1(e,t),s=Od.get(r);if(n=n.nodeType===11?n:Di,s)if(typeof s=="string"){n=n.head||n;let o=Mv.get(n),a;if(o||Mv.set(n,o=new Set),!o.has(r)){{a=Di.createElement("style"),a.innerHTML=s;const l=(i=Kt.$nonce$)!==null&&i!==void 0?i:SM(Di);l!=null&&a.setAttribute("nonce",l),n.insertBefore(a,n.querySelector("link"))}o&&o.add(r)}}else n.adoptedStyleSheets.includes(s)||(n.adoptedStyleSheets=[...n.adoptedStyleSheets,s]);return r},DM=n=>{const e=n.$cmpMeta$,t=n.$hostElement$,i=e.$flags$,r=Gs("attachStyles",e.$tagName$),s=_M(t.shadowRoot?t.shadowRoot:t.getRootNode(),e,n.$modeName$);i&10&&(t["s-sc"]=s,t.classList.add(s+"-h"),i&2&&t.classList.add(s+"-s")),r()},J1=(n,e)=>"sc-"+(e&&n.$flags$&32?n.$tagName$+"-"+e:n.$tagName$),Iv=(n,e,t,i,r,s)=>{if(t!==i){let o=qv(n,e),a=e.toLowerCase();if(e==="class"){const l=n.classList,c=Ov(t),u=Ov(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in t)(!i||i[l]==null)&&(l.includes("-")?n.style.removeProperty(l):n.style[l]="");for(const l in i)(!t||i[l]!==t[l])&&(l.includes("-")?n.style.setProperty(l,i[l]):n.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(n);else if(!n.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):qv(fc,a)?e=a.slice(2):e=a[2]+e.slice(3),t&&Kt.rel(n,e,t,!1),i&&Kt.ael(n,e,i,!1);else{const l=jy(i);if((o||l&&i!==null)&&!r)try{if(n.tagName.includes("-"))n[e]=i;else{const u=i==null?"":i;e==="list"?o=!1:(t==null||n[e]!=u)&&(n[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||n.getAttribute(e)==="")&&(c?n.removeAttributeNS(Rv,e):n.removeAttribute(e)):(!o||s&4||r)&&!l&&(i=i===!0?"":i,c?n.setAttributeNS(Rv,e,i):n.setAttribute(e,i))}}},LM=/\s/,Ov=n=>n?n.split(LM):[],X1=(n,e,t,i)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=n&&n.$attrs$||Pv,o=e.$attrs$||Pv;for(i in s)i in o||Iv(r,i,s[i],void 0,t,e.$flags$);for(i in o)Iv(r,i,s[i],o[i],t,e.$flags$)},Id=(n,e,t,i)=>{const r=e.$children$[t];let s=0,o,a,l;if(Y1||(Uy=!0,r.$tag$==="slot"&&(Eo&&i.classList.add(Eo+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)o=r.$elm$=Di.createTextNode(r.$text$);else if(r.$flags$&1)o=r.$elm$=Di.createTextNode("");else{if(Fn||(Fn=r.$tag$==="svg"),o=r.$elm$=Di.createElementNS(Fn?EM:xM,r.$flags$&2?"slot-fb":r.$tag$),Fn&&r.$tag$==="foreignObject"&&(Fn=!1),X1(null,r,Fn),TM(Eo)&&o["s-si"]!==Eo&&o.classList.add(o["s-si"]=Eo),r.$children$)for(s=0;s<r.$children$.length;++s)a=Id(n,r,s,o),a&&o.appendChild(a);r.$tag$==="svg"?Fn=!1:o.tagName==="foreignObject"&&(Fn=!0)}return o["s-hn"]=Vh,r.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=K1,o["s-sn"]=r.$name$||"",l=n&&n.$children$&&n.$children$[t],l&&l.$tag$===r.$tag$&&n.$elm$&&Kl(n.$elm$,!1)),o},Kl=(n,e)=>{Kt.$flags$|=1;const t=n.childNodes;for(let i=t.length-1;i>=0;i--){const r=t[i];r["s-hn"]!==Vh&&r["s-ol"]&&(tS(r).insertBefore(r,zy(r)),r["s-ol"].remove(),r["s-ol"]=void 0,Uy=!0),e&&Kl(r,e)}Kt.$flags$&=-2},Z1=(n,e,t,i,r,s)=>{let o=n["s-cr"]&&n["s-cr"].parentNode||n,a;for(o.shadowRoot&&o.tagName===Vh&&(o=o.shadowRoot);r<=s;++r)i[r]&&(a=Id(null,t,r,n),a&&(i[r].$elm$=a,o.insertBefore(a,zy(e))))},eS=(n,e,t)=>{for(let i=e;i<=t;++i){const r=n[i];if(r){const s=r.$elm$;rS(r),s&&($d=!0,s["s-ol"]?s["s-ol"].remove():Kl(s,!0),s.remove())}}},qM=(n,e,t,i)=>{let r=0,s=0,o=0,a=0,l=e.length-1,c=e[0],u=e[l],d=i.length-1,h=i[0],p=i[d],g,m;for(;r<=l&&s<=d;)if(c==null)c=e[++r];else if(u==null)u=e[--l];else if(h==null)h=i[++s];else if(p==null)p=i[--d];else if(uu(c,h))xo(c,h),c=e[++r],h=i[++s];else if(uu(u,p))xo(u,p),u=e[--l],p=i[--d];else if(uu(c,p))(c.$tag$==="slot"||p.$tag$==="slot")&&Kl(c.$elm$.parentNode,!1),xo(c,p),n.insertBefore(c.$elm$,u.$elm$.nextSibling),c=e[++r],p=i[--d];else if(uu(u,h))(c.$tag$==="slot"||p.$tag$==="slot")&&Kl(u.$elm$.parentNode,!1),xo(u,h),n.insertBefore(u.$elm$,c.$elm$),u=e[--l],h=i[++s];else{for(o=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===h.$key$){o=a;break}o>=0?(m=e[o],m.$tag$!==h.$tag$?g=Id(e&&e[s],t,o,n):(xo(m,h),e[o]=void 0,g=m.$elm$),h=i[++s]):(g=Id(e&&e[s],t,s,n),h=i[++s]),g&&tS(c.$elm$).insertBefore(g,zy(c.$elm$))}r>l?Z1(n,i[d+1]==null?null:i[d+1].$elm$,t,i,s,d):s>d&&eS(e,r,l)},uu=(n,e)=>n.$tag$===e.$tag$?n.$tag$==="slot"?n.$name$===e.$name$:n.$key$===e.$key$:!1,zy=n=>n&&n["s-ol"]||n,tS=n=>(n["s-ol"]?n["s-ol"]:n).parentNode,xo=(n,e)=>{const t=e.$elm$=n.$elm$,i=n.$children$,r=e.$children$,s=e.$tag$,o=e.$text$;let a;o===null?(Fn=s==="svg"?!0:s==="foreignObject"?!1:Fn,s==="slot"||X1(n,e,Fn),i!==null&&r!==null?qM(t,i,e,r):r!==null?(n.$text$!==null&&(t.textContent=""),Z1(t,null,e,r,0,r.length-1)):i!==null&&eS(i,0,i.length-1),Fn&&s==="svg"&&(Fn=!1)):(a=t["s-cr"])?a.parentNode.textContent=o:n.$text$!==o&&(t.data=o)},nS=n=>{const e=n.childNodes;let t,i,r,s,o,a;for(i=0,r=e.length;i<r;i++)if(t=e[i],t.nodeType===1){if(t["s-sr"]){for(o=t["s-sn"],t.hidden=!1,s=0;s<r;s++)if(a=e[s].nodeType,e[s]["s-hn"]!==t["s-hn"]||o!==""){if(a===1&&o===e[s].getAttribute("slot")){t.hidden=!0;break}}else if(a===1||a===3&&e[s].textContent.trim()!==""){t.hidden=!0;break}}nS(t)}},Ri=[],iS=n=>{let e,t,i,r,s,o,a=0;const l=n.childNodes,c=l.length;for(;a<c;a++){if(e=l[a],e["s-sr"]&&(t=e["s-cr"])&&t.parentNode)for(i=t.parentNode.childNodes,r=e["s-sn"],o=i.length-1;o>=0;o--)t=i[o],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==e["s-hn"]&&(_v(t,r)?(s=Ri.find(u=>u.$nodeToRelocate$===t),$d=!0,t["s-sn"]=t["s-sn"]||r,s?s.$slotRefNode$=e:Ri.push({$slotRefNode$:e,$nodeToRelocate$:t}),t["s-sr"]&&Ri.map(u=>{_v(u.$nodeToRelocate$,t["s-sn"])&&(s=Ri.find(d=>d.$nodeToRelocate$===t),s&&!u.$slotRefNode$&&(u.$slotRefNode$=s.$slotRefNode$))})):Ri.some(u=>u.$nodeToRelocate$===t)||Ri.push({$nodeToRelocate$:t}));e.nodeType===1&&iS(e)}},_v=(n,e)=>n.nodeType===1?n.getAttribute("slot")===null&&e===""||n.getAttribute("slot")===e:n["s-sn"]===e?!0:e==="",rS=n=>{n.$attrs$&&n.$attrs$.ref&&n.$attrs$.ref(null),n.$children$&&n.$children$.map(rS)},BM=(n,e,t=!1)=>{const i=n.$hostElement$,r=n.$cmpMeta$,s=n.$vnode$||Md(null,null),o=CM(e)?e:V(null,null,e);if(Vh=i.tagName,r.$attrsToReflect$&&(o.$attrs$=o.$attrs$||{},r.$attrsToReflect$.map(([a,l])=>o.$attrs$[l]=i[a])),t&&o.$attrs$)for(const a of Object.keys(o.$attrs$))i.hasAttribute(a)&&!["key","ref","style","class"].includes(a)&&(o.$attrs$[a]=i[a]);o.$tag$=null,o.$flags$|=4,n.$vnode$=o,o.$elm$=s.$elm$=i.shadowRoot||i,Eo=i["s-sc"],K1=i["s-cr"],Y1=(r.$flags$&1)!==0,$d=!1,xo(s,o);{if(Kt.$flags$|=1,Uy){iS(o.$elm$);let a,l,c,u,d,h,p=0;for(;p<Ri.length;p++)a=Ri[p],l=a.$nodeToRelocate$,l["s-ol"]||(c=Di.createTextNode(""),c["s-nr"]=l,l.parentNode.insertBefore(l["s-ol"]=c,l));for(p=0;p<Ri.length;p++)if(a=Ri[p],l=a.$nodeToRelocate$,a.$slotRefNode$){for(u=a.$slotRefNode$.parentNode,d=a.$slotRefNode$.nextSibling,c=l["s-ol"];c=c.previousSibling;)if(h=c["s-nr"],h&&h["s-sn"]===l["s-sn"]&&u===h.parentNode&&(h=h.nextSibling,!h||!h["s-nr"])){d=h;break}(!d&&u!==l.parentNode||l.nextSibling!==d)&&l!==d&&(!l["s-hn"]&&l["s-ol"]&&(l["s-hn"]=l["s-ol"].parentNode.nodeName),u.insertBefore(l,d))}else l.nodeType===1&&(l.hidden=!0)}$d&&nS(o.$elm$),Kt.$flags$&=-2,Ri.length=0}},FM=(n,e)=>{},Vy=(n,e)=>(n.$flags$|=16,FM(n,n.$ancestorComponent$),yi(()=>UM(n,e))),UM=(n,e)=>{const t=n.$hostElement$,i=Gs("scheduleUpdate",n.$cmpMeta$.$tagName$),r=t;let s;return e?s=Wo(r,"componentWillLoad"):s=Wo(r,"componentWillUpdate"),s=Dv(s,()=>Wo(r,"componentWillRender")),i(),Dv(s,()=>zM(n,r,e))},Dv=(n,e)=>jM(n)?n.then(e):e(),jM=n=>n instanceof Promise||n&&n.then&&typeof n.then=="function",zM=async(n,e,t)=>{const i=n.$hostElement$,r=Gs("update",n.$cmpMeta$.$tagName$);i["s-rc"],t&&DM(n);const s=Gs("render",n.$cmpMeta$.$tagName$);VM(n,e,i,t),s(),r(),HM(n)},VM=(n,e,t,i)=>{try{kv=e,e=e.render&&e.render(),n.$flags$&=-17,n.$flags$|=2,(wo.hasRenderFn||wo.reflect)&&(wo.vdomRender||wo.reflect)&&(wo.hydrateServerSide||BM(n,e,i))}catch(l){pc(l,n.$hostElement$)}return kv=null,null},HM=n=>{const e=n.$cmpMeta$.$tagName$,t=n.$hostElement$,i=Gs("postUpdate",e),r=t;n.$ancestorComponent$,Wo(r,"componentDidRender"),n.$flags$&64?(Wo(r,"componentDidUpdate"),i()):(n.$flags$|=64,Wo(r,"componentDidLoad"),i())},ds=n=>{{const e=ba(n),t=e.$hostElement$.isConnected;return t&&(e.$flags$&18)===2&&Vy(e,!1),t}},Wo=(n,e,t)=>{if(n&&n[e])try{return n[e](t)}catch(i){pc(i)}},WM=(n,e)=>ba(n).$instanceValues$.get(e),QM=(n,e,t,i)=>{const r=ba(n),s=n,o=r.$instanceValues$.get(e),a=r.$flags$,l=s;t=$M(t,i.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(t);if(t!==o&&!c){r.$instanceValues$.set(e,t);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](t,o,e)}catch(p){pc(p,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(t,o,e)===!1)return;Vy(r,!1)}}}},GM=(n,e,t)=>{if(e.$members$){n.watchers&&(e.$watchers$=n.watchers);const i=Object.entries(e.$members$),r=n.prototype;i.map(([s,[o]])=>{(o&31||o&32)&&Object.defineProperty(r,s,{get(){return WM(this,s)},set(a){QM(this,s,a,e)},configurable:!0,enumerable:!0})});{const s=new Map;r.attributeChangedCallback=function(o,a,l){Kt.jmp(()=>{const c=s.get(o);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},n.observedAttributes=i.filter(([o,a])=>a[0]&15).map(([o,a])=>{const l=a[1]||o;return s.set(l,o),a[0]&512&&e.$attrsToReflect$.push([o,l]),l})}}return n},KM=async(n,e,t,i,r)=>{if(!(e.$flags$&32)&&(e.$flags$|=32,r=n.constructor,customElements.whenDefined(t.$tagName$).then(()=>e.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[e.$modeName$=kM(n)]);const a=J1(t,e.$modeName$);if(!Od.has(a)){const l=Gs("registerStyles",t.$tagName$);OM(a,o,!!(t.$flags$&1)),l()}}e.$ancestorComponent$,(()=>Vy(e,!0))()},Lv=n=>{},YM=n=>{if(!(Kt.$flags$&1)){const e=ba(n),t=e.$cmpMeta$,i=Gs("connectedCallback",t.$tagName$);e.$flags$&1?(sS(n,e,t.$listeners$),e!=null&&e.$lazyInstance$?Lv(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>Lv(e.$lazyInstance$))):(e.$flags$|=1,t.$flags$&12&&JM(n),t.$members$&&Object.entries(t.$members$).map(([r,[s]])=>{if(s&31&&n.hasOwnProperty(r)){const o=n[r];delete n[r],n[r]=o}}),KM(n,e,t)),i()}},JM=n=>{const e=n["s-cr"]=Di.createComment("");e["s-cn"]=!0,n.insertBefore(e,n.firstChild)},XM=async n=>{if(!(Kt.$flags$&1)){const e=ba(n);e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0)}},Ye=(n,e)=>{const t={$flags$:e[0],$tagName$:e[1]};t.$members$=e[2],t.$listeners$=e[3],t.$watchers$=n.$watchers$,t.$attrsToReflect$=[];const i=n.prototype.connectedCallback,r=n.prototype.disconnectedCallback;return Object.assign(n.prototype,{__registerHost(){nI(this,t)},connectedCallback(){YM(this),i&&i.call(this)},disconnectedCallback(){XM(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)})}}),n.is=t.$tagName$,GM(n,t)},sS=(n,e,t,i)=>{t&&t.map(([r,s,o])=>{const a=eI(n,r),l=ZM(e,o),c=tI(r);Kt.ael(a,s,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Kt.rel(a,s,l,c))})},ZM=(n,e)=>t=>{try{wo.lazyLoad||n.$hostElement$[e](t)}catch(i){pc(i)}},eI=(n,e)=>e&4?Di:e&8?fc:e&16?Di.body:n,tI=n=>rI?{passive:(n&1)!==0,capture:(n&2)!==0}:(n&2)!==0,oS=new WeakMap,ba=n=>oS.get(n),nI=(n,e)=>{const t={$flags$:0,$hostElement$:n,$cmpMeta$:e,$instanceValues$:new Map};return sS(n,t,e.$listeners$),oS.set(n,t)},qv=(n,e)=>e in n,pc=(n,e)=>(0,console.error)(n,e),Od=new Map,aS=[],fc=typeof window<"u"?window:{},Di=fc.document||{head:{}},Je=fc.HTMLElement||class{},Kt={$flags$:0,$resourcesUrl$:"",jmp:n=>n(),raf:n=>requestAnimationFrame(n),ael:(n,e,t,i)=>n.addEventListener(e,t,i),rel:(n,e,t,i)=>n.removeEventListener(e,t,i),ce:(n,e)=>new CustomEvent(n,e)},iI=n=>{Object.assign(Kt,n)},rI=(()=>{let n=!1;try{Di.addEventListener("e",null,Object.defineProperty({},"passive",{get(){n=!0}}))}catch(e){}return n})(),sI=n=>Promise.resolve(n),oI=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(n){}return!1})(),Gm=[],lS=[],cS=(n,e)=>t=>{n.push(t),Qm||(Qm=!0,e&&Kt.$flags$&4?aI(Km):Kt.raf(Km))},Bv=n=>{for(let e=0;e<n.length;e++)try{n[e](performance.now())}catch(t){pc(t)}n.length=0},Km=()=>{Bv(Gm),Bv(lS),(Qm=Gm.length>0)&&Kt.raf(Km)},aI=n=>sI().then(n),Yl=cS(Gm,!1),yi=cS(lS,!0);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yt=typeof window<"u"?window:void 0,Qo=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ks=(n,e)=>{n.componentOnReady?n.componentOnReady().then(t=>e(t)):Ft(()=>e(n))},uS=n=>n.componentOnReady!==void 0,va=(n,e=[])=>{const t={};return e.forEach(i=>{n.hasAttribute(i)&&(n.getAttribute(i)!==null&&(t[i]=n.getAttribute(i)),n.removeAttribute(i))}),t},lI=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],oo=(n,e)=>{let t=lI;return e&&e.length>0&&(t=t.filter(i=>!e.includes(i))),va(n,t)},cI=(n,e,t,i)=>{var r;if(typeof window<"u"){const s=window,o=(r=s==null?void 0:s.Ionic)===null||r===void 0?void 0:r.config;if(o){const a=o.get("_ael");if(a)return a(n,e,t,i);if(o._ael)return o._ael(n,e,t,i)}}return n.addEventListener(e,t,i)},uI=(n,e,t,i)=>{var r;if(typeof window<"u"){const s=window,o=(r=s==null?void 0:s.Ionic)===null||r===void 0?void 0:r.config;if(o){const a=o.get("_rel");if(a)return a(n,e,t,i);if(o._rel)return o._rel(n,e,t,i)}}return n.removeEventListener(e,t,i)},hs=(n,e=n)=>n.shadowRoot||e,Ft=n=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(n):typeof requestAnimationFrame=="function"?requestAnimationFrame(n):setTimeout(n),dS=n=>!!n.shadowRoot&&!!n.attachShadow,Hy=n=>{const e=n.closest("ion-item");return e?e.querySelector("ion-label"):null},dI=n=>{if(n.focus(),n.classList.contains("ion-focusable")){const e=n.closest("ion-app");e&&e.setFocus([n])}},hI=(n,e)=>{let t;const i=n.getAttribute("aria-labelledby"),r=n.id;let s=i!==null&&i.trim()!==""?i:e+"-lbl",o=i!==null&&i.trim()!==""?document.getElementById(i):Hy(n);return o?(i===null&&(o.id=s),t=o.textContent,o.setAttribute("aria-hidden","true")):r.trim()!==""&&(o=document.querySelector('label[for="'.concat(r,'"]')),o&&(o.id!==""?s=o.id:o.id=s="".concat(r,"-lbl"),t=o.textContent)),{label:o,labelId:s,labelText:t}},Fv=(n,e,t,i,r)=>{if(n||dS(e)){let s=e.querySelector("input.aux-input");s||(s=e.ownerDocument.createElement("input"),s.type="hidden",s.classList.add("aux-input"),e.appendChild(s)),s.disabled=r,s.name=t,s.value=i||""}},Nn=(n,e,t)=>Math.max(n,Math.min(e,t)),Rt=(n,e)=>{if(!n){const t="ASSERT: "+e;console.error(t);debugger;throw new Error(t)}},_V=n=>n.timeStamp||Date.now(),DV=n=>{if(n){const e=n.changedTouches;if(e&&e.length>0){const t=e[0];return{x:t.clientX,y:t.clientY}}if(n.pageX!==void 0)return{x:n.pageX,y:n.pageY}}return{x:0,y:0}},Uv=n=>{const e=document.dir==="rtl";switch(n){case"start":return e;case"end":return!e;default:throw new Error('"'.concat(n,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},hS=(n,e)=>{const t=n._original||n;return{_original:n,emit:pI(t.emit.bind(t),e)}},pI=(n,e=0)=>{let t;return(...i)=>{clearTimeout(t),t=setTimeout(n,e,...i)}},pS=(n,e)=>{if(n!=null||(n={}),e!=null||(e={}),n===e)return!0;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(const i of t)if(!(i in e)||n[i]!==e[i])return!1;return!0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let df;const fI=n=>(n.forEach(e=>{for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];if(t==="easing"){const r="animation-timing-function";e[r]=i,delete e[t]}else{const r=mI(t);r!==t&&(e[r]=i,delete e[t])}}}),n),mI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Wy=n=>{if(df===void 0){const e=n.style.animationName!==void 0,t=n.style.webkitAnimationName!==void 0;df=!e&&t?"-webkit-":""}return df},mt=(n,e,t)=>{const i=e.startsWith("animation")?Wy(n):"";n.style.setProperty(i+e,t)},Ei=(n,e)=>{const t=e.startsWith("animation")?Wy(n):"";n.style.removeProperty(t+e)},gI=(n,e)=>{let t;const i={passive:!0},r=()=>{t&&t()},s=o=>{n===o.target&&(r(),e(o))};return n&&(n.addEventListener("webkitAnimationEnd",s,i),n.addEventListener("animationend",s,i),t=()=>{n.removeEventListener("webkitAnimationEnd",s,i),n.removeEventListener("animationend",s,i)}),r},yI=(n=[])=>n.map(e=>{const t=e.offset,i=[];for(const r in e)e.hasOwnProperty(r)&&r!=="offset"&&i.push("".concat(r,": ").concat(e[r],";"));return"".concat(t*100,"% { ").concat(i.join(" ")," }")}).join(" "),jv=[],bI=n=>{let e=jv.indexOf(n);return e<0&&(e=jv.push(n)-1),"ion-animation-".concat(e)},vI=n=>{const e=n.getRootNode!==void 0?n.getRootNode():n;return e.head||e},wI=(n,e,t)=>{var i;const r=vI(t),s=Wy(t),o=r.querySelector("#"+n);if(o)return o;const a=((i=t.ownerDocument)!==null&&i!==void 0?i:document).createElement("style");return a.id=n,a.textContent="@".concat(s,"keyframes ").concat(n," { ").concat(e," } @").concat(s,"keyframes ").concat(n,"-alt { ").concat(e," }"),r.appendChild(a),a},du=(n=[],e)=>{if(e!==void 0){const t=Array.isArray(e)?e:[e];return[...n,...t]}return n},Le=n=>{let e,t,i,r,s,o,a=[],l=[],c=[],u=!1,d,h={},p=[],g=[],m={},T=0,w=!1,b=!1,v,N,M,L,I=!0,$=!1,k=!0,H,A,F=!1;const D=n,G=[],ne=[],ue=[],ae=[],te=[],Z=[],j=[],J=[],ce=[],ve=[],Te=typeof AnimationEffect=="function"||yt!==void 0&&typeof yt.AnimationEffect=="function",Ce=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&Te,$e=100,_e=()=>ve,pt=X=>(ae.forEach(fe=>{fe.destroy(X)}),xt(X),ue.length=0,ae.length=0,a.length=0,Dn(),u=!1,k=!0,A),xt=X=>{ft(),X&&or()},gn=()=>{w=!1,b=!1,k=!0,N=void 0,M=void 0,L=void 0,T=0,$=!1,I=!0,F=!1},sn=()=>T!==0&&!F,Lt=(X,fe)=>((fe!=null&&fe.oneTimeCallback?ne:G).push({c:X,o:fe}),A),Dn=()=>(G.length=0,ne.length=0,A),ft=()=>{if(Ce)ve.forEach(X=>{X.cancel()}),ve.length=0;else{const X=ue.slice();Ft(()=>{X.forEach(fe=>{Ei(fe,"animation-name"),Ei(fe,"animation-duration"),Ei(fe,"animation-timing-function"),Ei(fe,"animation-iteration-count"),Ei(fe,"animation-delay"),Ei(fe,"animation-play-state"),Ei(fe,"animation-fill-mode"),Ei(fe,"animation-direction")})})}},or=()=>{te.forEach(X=>{X!=null&&X.parentNode&&X.parentNode.removeChild(X)}),te.length=0},Ir=X=>(Z.push(X),A),ar=X=>(j.push(X),A),Me=X=>(J.push(X),A),tt=X=>(ce.push(X),A),ji=X=>(l=du(l,X),A),Vt=X=>(c=du(c,X),A),$t=(X={})=>(h=X,A),Ln=(X=[])=>{for(const fe of X)h[fe]="";return A},Q=X=>(p=du(p,X),A),re=X=>(g=du(g,X),A),de=(X={})=>(m=X,A),C=(X=[])=>{for(const fe of X)m[fe]="";return A},y=()=>s!==void 0?s:d?d.getFill():"both",x=()=>N!==void 0?N:o!==void 0?o:d?d.getDirection():"normal",R=()=>w?"linear":i!==void 0?i:d?d.getEasing():"linear",_=()=>b?0:M!==void 0?M:t!==void 0?t:d?d.getDuration():0,U=()=>r!==void 0?r:d?d.getIterations():1,Y=()=>L!==void 0?L:e!==void 0?e:d?d.getDelay():0,ge=()=>a,ye=X=>(o=X,Cn(!0),A),We=X=>(s=X,Cn(!0),A),st=X=>(e=X,Cn(!0),A),qe=X=>(i=X,Cn(!0),A),wp=X=>(!Ce&&X===0&&(X=1),t=X,Cn(!0),A),zi=X=>(r=X,Cn(!0),A),$c=X=>(d=X,A),le=X=>{if(X!=null)if(X.nodeType===1)ue.push(X);else if(X.length>=0)for(let fe=0;fe<X.length;fe++)ue.push(X[fe]);else console.error("Invalid addElement value");return A},$a=X=>{if(X!=null)if(Array.isArray(X))for(const fe of X)fe.parent(A),ae.push(fe);else X.parent(A),ae.push(X);return A},on=X=>{const fe=a!==X;return a=X,fe&&bs(a),A},bs=X=>{Ce?_e().forEach(fe=>{if(fe.effect.setKeyframes)fe.effect.setKeyframes(X);else{const Se=new KeyframeEffect(fe.effect.target,X,fe.effect.getTiming());fe.effect=Se}}):Ia()},Ma=()=>{Z.forEach(Tt=>Tt()),j.forEach(Tt=>Tt());const X=l,fe=c,Se=h;ue.forEach(Tt=>{const qt=Tt.classList;X.forEach(yn=>qt.add(yn)),fe.forEach(yn=>qt.remove(yn));for(const yn in Se)Se.hasOwnProperty(yn)&&mt(Tt,yn,Se[yn])})},Mc=()=>{Or(),J.forEach(qt=>qt()),ce.forEach(qt=>qt());const X=I?1:0,fe=p,Se=g,Tt=m;ue.forEach(qt=>{const yn=qt.classList;fe.forEach(Vi=>yn.add(Vi)),Se.forEach(Vi=>yn.remove(Vi));for(const Vi in Tt)Tt.hasOwnProperty(Vi)&&mt(qt,Vi,Tt[Vi])}),G.forEach(qt=>qt.c(X,A)),ne.forEach(qt=>qt.c(X,A)),ne.length=0,k=!0,I&&($=!0),I=!0},Sn=()=>{T!==0&&(T--,T===0&&(Mc(),d&&d.animationFinish()))},Ia=(X=!0)=>{or();const fe=fI(a);ue.forEach(Se=>{if(fe.length>0){const Tt=yI(fe);H=n!==void 0?n:bI(Tt);const qt=wI(H,Tt,Se);te.push(qt),mt(Se,"animation-duration","".concat(_(),"ms")),mt(Se,"animation-timing-function",R()),mt(Se,"animation-delay","".concat(Y(),"ms")),mt(Se,"animation-fill-mode",y()),mt(Se,"animation-direction",x());const yn=U()===1/0?"infinite":U().toString();mt(Se,"animation-iteration-count",yn),mt(Se,"animation-play-state","paused"),X&&mt(Se,"animation-name","".concat(qt.id,"-alt")),Ft(()=>{mt(Se,"animation-name",qt.id||null)})}})},Ep=()=>{ue.forEach(X=>{const fe=X.animate(a,{id:D,delay:Y(),duration:_(),easing:R(),iterations:U(),fill:y(),direction:x()});fe.pause(),ve.push(fe)}),ve.length>0&&(ve[0].onfinish=()=>{Sn()})},Oa=(X=!0)=>{Ma(),a.length>0&&(Ce?Ep():Ia(X)),u=!0},Zn=X=>{if(X=Math.min(Math.max(X,0),.9999),Ce)ve.forEach(fe=>{fe.currentTime=fe.effect.getComputedTiming().delay+_()*X,fe.pause()});else{const fe="-".concat(_()*X,"ms");ue.forEach(Se=>{a.length>0&&(mt(Se,"animation-delay",fe),mt(Se,"animation-play-state","paused"))})}},_a=X=>{ve.forEach(fe=>{fe.effect.updateTiming({delay:Y(),duration:_(),easing:R(),iterations:U(),fill:y(),direction:x()})}),X!==void 0&&Zn(X)},Da=(X=!0,fe)=>{Ft(()=>{ue.forEach(Se=>{mt(Se,"animation-name",H||null),mt(Se,"animation-duration","".concat(_(),"ms")),mt(Se,"animation-timing-function",R()),mt(Se,"animation-delay",fe!==void 0?"-".concat(fe*_(),"ms"):"".concat(Y(),"ms")),mt(Se,"animation-fill-mode",y()||null),mt(Se,"animation-direction",x()||null);const Tt=U()===1/0?"infinite":U().toString();mt(Se,"animation-iteration-count",Tt),X&&mt(Se,"animation-name","".concat(H,"-alt")),Ft(()=>{mt(Se,"animation-name",H||null)})})})},Cn=(X=!1,fe=!0,Se)=>(X&&ae.forEach(Tt=>{Tt.update(X,fe,Se)}),Ce?_a(Se):Da(fe,Se),A),Ic=(X=!1,fe)=>(ae.forEach(Se=>{Se.progressStart(X,fe)}),qa(),w=X,u||Oa(),Cn(!1,!0,fe),A),xp=X=>(ae.forEach(fe=>{fe.progressStep(X)}),Zn(X),A),La=(X,fe,Se)=>(w=!1,ae.forEach(Tt=>{Tt.progressEnd(X,fe,Se)}),Se!==void 0&&(M=Se),$=!1,I=!0,X===0?(N=x()==="reverse"?"normal":"reverse",N==="reverse"&&(I=!1),Ce?(Cn(),Zn(1-fe)):(L=(1-fe)*_()*-1,Cn(!1,!1))):X===1&&(Ce?(Cn(),Zn(fe)):(L=fe*_()*-1,Cn(!1,!1))),X!==void 0&&(Lt(()=>{M=void 0,N=void 0,L=void 0},{oneTimeCallback:!0}),d||_r()),A),qa=()=>{u&&(Ce?ve.forEach(X=>{X.pause()}):ue.forEach(X=>{mt(X,"animation-play-state","paused")}),F=!0)},po=()=>(ae.forEach(X=>{X.pause()}),qa(),A),ei=()=>{v=void 0,Sn()},Or=()=>{v&&clearTimeout(v)},Ba=()=>{if(Or(),Ft(()=>{ue.forEach(X=>{a.length>0&&mt(X,"animation-play-state","running")})}),a.length===0||ue.length===0)Sn();else{const X=Y()||0,fe=_()||0,Se=U()||1;isFinite(Se)&&(v=setTimeout(ei,X+fe*Se+$e)),gI(ue[0],()=>{Or(),Ft(()=>{Oc(),Ft(Sn)})})}},Oc=()=>{ue.forEach(X=>{Ei(X,"animation-duration"),Ei(X,"animation-delay"),Ei(X,"animation-play-state")})},_c=()=>{ve.forEach(X=>{X.play()}),(a.length===0||ue.length===0)&&Sn()},Dc=()=>{Ce?(Zn(0),_a()):Da()},_r=X=>new Promise(fe=>{X!=null&&X.sync&&(b=!0,Lt(()=>b=!1,{oneTimeCallback:!0})),u||Oa(),$&&(Dc(),$=!1),k&&(T=ae.length+1,k=!1),Lt(()=>fe(),{oneTimeCallback:!0}),ae.forEach(Se=>{Se.play()}),Ce?_c():Ba(),F=!1}),Lc=()=>{ae.forEach(X=>{X.stop()}),u&&(ft(),u=!1),gn()},vs=(X,fe)=>{const Se=a[0];return Se!==void 0&&(Se.offset===void 0||Se.offset===0)?Se[X]=fe:a=[{offset:0,[X]:fe},...a],A};return A={parentAnimation:d,elements:ue,childAnimations:ae,id:D,animationFinish:Sn,from:vs,to:(X,fe)=>{const Se=a[a.length-1];return Se!==void 0&&(Se.offset===void 0||Se.offset===1)?Se[X]=fe:a=[...a,{offset:1,[X]:fe}],A},fromTo:(X,fe,Se)=>vs(X,fe).to(X,Se),parent:$c,play:_r,pause:po,stop:Lc,destroy:pt,keyframes:on,addAnimation:$a,addElement:le,update:Cn,fill:We,direction:ye,iterations:zi,duration:wp,easing:qe,delay:st,getWebAnimations:_e,getKeyframes:ge,getFill:y,getDirection:x,getDelay:Y,getIterations:U,getEasing:R,getDuration:_,afterAddRead:Me,afterAddWrite:tt,afterClearStyles:C,afterStyles:de,afterRemoveClass:re,afterAddClass:Q,beforeAddRead:Ir,beforeAddWrite:ar,beforeClearStyles:Ln,beforeStyles:$t,beforeRemoveClass:Vt,beforeAddClass:ji,onFinish:Lt,isRunning:sn,progressStart:Ic,progressStep:xp,progressEnd:La}},EI="ionViewWillEnter",xI="ionViewDidEnter",fS="ionViewWillLeave",mS="ionViewDidLeave",hf="ionViewWillUnload",TI=()=>en(()=>import("./ios.transition-af90320d.js"),[]),SI=()=>en(()=>import("./md.transition-22d9f512.js"),[]),gS=n=>new Promise((e,t)=>{yi(()=>{CI(n),AI(n).then(i=>{i.animation&&i.animation.destroy(),zv(n),e(i)},i=>{zv(n),t(i)})})}),CI=n=>{const e=n.enteringEl,t=n.leavingEl;II(e,t,n.direction),n.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),Ym(e,!1),e.style.setProperty("pointer-events","none"),t&&(Ym(t,!1),t.style.setProperty("pointer-events","none"))},AI=async n=>{const e=await NI(n);return e&&vM.isBrowser?kI(e,n):RI(n)},zv=n=>{const e=n.enteringEl,t=n.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),t!==void 0&&(t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"))},NI=async n=>!n.leavingEl||!n.animated||n.duration===0?void 0:n.animationBuilder?n.animationBuilder:n.mode==="ios"?(await TI()).iosTransitionAnimation:(await SI()).mdTransitionAnimation,kI=async(n,e)=>{await yS(e,!0);const t=n(e.baseEl,e);bS(e.enteringEl,e.leavingEl);const i=await $I(t,e);return e.progressCallback&&e.progressCallback(void 0),i&&vS(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:t}},RI=async n=>{const e=n.enteringEl,t=n.leavingEl;return await yS(n,!1),bS(e,t),vS(e,t),{hasCompleted:!0}},yS=async(n,e)=>{(n.deepWait!==void 0?n.deepWait:e)&&await Promise.all([_d(n.enteringEl),_d(n.leavingEl)]),await PI(n.viewIsReady,n.enteringEl)},PI=async(n,e)=>{n&&await n(e)},$I=(n,e)=>{const t=e.progressCallback,i=new Promise(r=>{n.onFinish(s=>r(s===1))});return t?(n.progressStart(!0),t(n)):n.play(),i},bS=(n,e)=>{mr(e,fS),mr(n,EI)},vS=(n,e)=>{mr(n,xI),mr(e,mS)},mr=(n,e)=>{if(n){const t=new CustomEvent(e,{bubbles:!1,cancelable:!1});n.dispatchEvent(t)}},MI=()=>new Promise(n=>Ft(()=>Ft(()=>n()))),_d=async n=>{const e=n;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>Ft(i));return}await Promise.all(Array.from(e.children).map(_d))}},Ym=(n,e)=>{e?(n.setAttribute("aria-hidden","true"),n.classList.add("ion-page-hidden")):(n.hidden=!1,n.removeAttribute("aria-hidden"),n.classList.remove("ion-page-hidden"))},II=(n,e,t)=>{n!==void 0&&(n.style.zIndex=t==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},LV=n=>{if(n.classList.contains("ion-page"))return n;const e=n.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||n};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ys=(n,e,t,i,r)=>_I(n[1],e[1],t[1],i[1],r).map(s=>OI(n[0],e[0],t[0],i[0],s)),OI=(n,e,t,i,r)=>{const s=3*e*Math.pow(r-1,2),o=-3*t*r+3*t+i*r,a=n*Math.pow(r-1,3);return r*(s+r*o)-a},_I=(n,e,t,i,r)=>(n-=r,e-=r,t-=r,i-=r,LI(i-3*t+3*e-n,3*t-6*e+3*n,3*e-3*n,n).filter(o=>o>=0&&o<=1)),DI=(n,e,t)=>{const i=e*e-4*n*t;return i<0?[]:[(-e+Math.sqrt(i))/(2*n),(-e-Math.sqrt(i))/(2*n)]},LI=(n,e,t,i)=>{if(n===0)return DI(e,t,i);e/=n,t/=n,i/=n;const r=(3*t-e*e)/3,s=(2*e*e*e-9*e*t+27*i)/27;if(r===0)return[Math.pow(-s,1/3)];if(s===0)return[Math.sqrt(-r),-Math.sqrt(-r)];const o=Math.pow(s/2,2)+Math.pow(r/3,3);if(o===0)return[Math.pow(s/2,1/2)-e/3];if(o>0)return[Math.pow(-(s/2)+Math.sqrt(o),1/3)-Math.pow(s/2+Math.sqrt(o),1/3)-e/3];const a=Math.sqrt(Math.pow(-(r/3),3)),l=Math.acos(-(s/(2*Math.sqrt(Math.pow(-(r/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class qI{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var t;return new BI(this,this.newID(),e.name,(t=e.priority)!==null&&t!==void 0?t:0,!!e.disableScroll)}createBlocker(e={}){return new FI(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,i){return this.canStart(e)?(this.requestedStart.set(t,i),!0):(this.requestedStart.delete(t),!1)}capture(e,t,i){if(!this.start(e,t,i))return!1;const r=this.requestedStart;let s=-1e4;if(r.forEach(o=>{s=Math.max(s,o)}),s===i){this.capturedId=t,r.clear();const o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(o),!0}return r.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let i=this.disabledGestures.get(e);i===void 0&&(i=new Set,this.disabledGestures.set(e,i)),i.add(t)}enableGesture(e,t){const i=this.disabledGestures.get(e);i!==void 0&&i.delete(t)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(Vv)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(Vv)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}}class BI{constructor(e,t,i,r,s){this.id=t,this.name=i,this.disableScroll=s,this.priority=r*1e6+t,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class FI{constructor(e,t,i,r){this.id=t,this.disable=i,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Vv="backdrop-no-scroll",Hh=new qI;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ts=(n,e,t,i)=>{const r=UI(n)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;let s,o;return n.__zone_symbol__addEventListener?(s="__zone_symbol__addEventListener",o="__zone_symbol__removeEventListener"):(s="addEventListener",o="removeEventListener"),n[s](e,t,r),()=>{n[o](e,t,r)}},UI=n=>{if(hu===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{hu=!0}});n.addEventListener("optsTest",()=>{},e)}catch(e){hu=!1}return!!hu};let hu;const jI=2e3,zI=(n,e,t,i,r)=>{let s,o,a,l,c,u,d,h=0;const p=L=>{h=Date.now()+jI,e(L)&&(!o&&t&&(o=Ts(n,"touchmove",t,r)),a||(a=Ts(L.target,"touchend",m,r)),l||(l=Ts(L.target,"touchcancel",m,r)))},g=L=>{h>Date.now()||e(L)&&(!u&&t&&(u=Ts(Hv(n),"mousemove",t,r)),d||(d=Ts(Hv(n),"mouseup",T,r)))},m=L=>{w(),i&&i(L)},T=L=>{b(),i&&i(L)},w=()=>{o&&o(),a&&a(),l&&l(),o=a=l=void 0},b=()=>{u&&u(),d&&d(),u=d=void 0},v=()=>{w(),b()},N=(L=!0)=>{L?(s||(s=Ts(n,"touchstart",p,r)),c||(c=Ts(n,"mousedown",g,r))):(s&&s(),c&&c(),s=c=void 0,v())};return{enable:N,stop:v,destroy:()=>{N(!1),i=t=e=void 0}}},Hv=n=>n instanceof Document?n:n.ownerDocument,VI=(n,e,t)=>{const i=t*(Math.PI/180),r=n==="x",s=Math.cos(i),o=e*e;let a=0,l=0,c=!1,u=0;return{start(d,h){a=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const p=d-a,g=h-l,m=p*p+g*g;if(m<o)return!1;const T=Math.sqrt(m),w=(r?p:g)/T;return w>s?u=1:w<-s?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},Wh=n=>{let e=!1,t=!1,i=!0,r=!1;const s=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},n),o=s.canStart,a=s.onWillStart,l=s.onStart,c=s.onEnd,u=s.notCaptured,d=s.onMove,h=s.threshold,p=s.passive,g=s.blurOnStart,m={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},T=VI(s.direction,s.threshold,s.maxAngle),w=Hh.createGesture({name:n.gestureName,priority:n.gesturePriority,disableScroll:n.disableScroll}),b=F=>{const D=ES(F);return t||!i||(wS(F,m),m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime=D,m.velocityX=m.velocityY=m.deltaX=m.deltaY=0,m.event=F,o&&o(m)===!1)||(w.release(),!w.start())?!1:(t=!0,h===0?M():(T.start(m.startX,m.startY),!0))},v=F=>{if(e){!r&&i&&(r=!0,pf(m,F),requestAnimationFrame(N));return}pf(m,F),T.detect(m.currentX,m.currentY)&&(!T.isGesture()||!M())&&A()},N=()=>{e&&(r=!1,d&&d(m))},M=()=>w.capture()?(e=!0,i=!1,m.startX=m.currentX,m.startY=m.currentY,m.startTime=m.currentTime,a?a(m).then(I):I(),!0):!1,L=()=>{if(typeof document<"u"){const F=document.activeElement;F!=null&&F.blur&&F.blur()}},I=()=>{g&&L(),l&&l(m),i=!0},$=()=>{e=!1,t=!1,r=!1,i=!0,w.release()},k=F=>{const D=e,G=i;if($(),!!G){if(pf(m,F),D){c&&c(m);return}u&&u(m)}},H=zI(s.el,b,v,k,{capture:!1,passive:p}),A=()=>{$(),H.stop(),u&&u(m)};return{enable(F=!0){F||(e&&k(void 0),$()),H.enable(F)},destroy(){w.destroy(),H.destroy()}}},pf=(n,e)=>{if(!e)return;const t=n.currentX,i=n.currentY,r=n.currentTime;wS(e,n);const s=n.currentX,o=n.currentY,l=(n.currentTime=ES(e))-r;if(l>0&&l<100){const c=(s-t)/l,u=(o-i)/l;n.velocityX=c*.7+n.velocityX*.3,n.velocityY=u*.7+n.velocityY*.3}n.deltaX=s-n.startX,n.deltaY=o-n.startY,n.event=e},wS=(n,e)=>{let t=0,i=0;if(n){const r=n.changedTouches;if(r&&r.length>0){const s=r[0];t=s.clientX,i=s.clientY}else n.pageX!==void 0&&(t=n.pageX,i=n.pageY)}e.currentX=t,e.currentY=i},ES=n=>n.timeStamp||Date.now(),xS=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:Hh,createGesture:Wh},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class HI{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const i=this.m.get(e);return i!==void 0?i:t}getBoolean(e,t=!1){const i=this.m.get(e);return i===void 0?t:typeof i=="string"?i==="true":!!i}getNumber(e,t){const i=parseFloat(this.m.get(e));return isNaN(i)?t!==void 0?t:NaN:i}set(e,t){this.m.set(e,t)}}const Ue=new HI,WI=n=>{try{const e=n.sessionStorage.getItem(TS);return e!==null?JSON.parse(e):{}}catch(e){return{}}},QI=(n,e)=>{try{n.sessionStorage.setItem(TS,JSON.stringify(e))}catch(t){return}},GI=n=>{const e={};return n.location.search.slice(1).split("&").map(t=>t.split("=")).map(([t,i])=>[decodeURIComponent(t),decodeURIComponent(i)]).filter(([t])=>KI(t,Wv)).map(([t,i])=>[t.slice(Wv.length),i]).forEach(([t,i])=>{e[t]=i}),e},KI=(n,e)=>n.substr(0,e.length)===e,Wv="ionic:",TS="ionic-persist-config",YI=n=>SS(n),br=(n,e)=>(typeof n=="string"&&(e=n,n=void 0),YI(n).includes(e)),SS=(n=window)=>{if(typeof n>"u")return[];n.Ionic=n.Ionic||{};let e=n.Ionic.platforms;return e==null&&(e=n.Ionic.platforms=JI(n),e.forEach(t=>n.document.documentElement.classList.add("plt-".concat(t)))),e},JI=n=>{const e=Ue.get("platform");return Object.keys(Qv).filter(t=>{const i=e==null?void 0:e[t];return typeof i=="function"?i(n):Qv[t](n)})},XI=n=>Qh(n)&&!AS(n),Qy=n=>!!(Js(n,/iPad/i)||Js(n,/Macintosh/i)&&Qh(n)),ZI=n=>Js(n,/iPhone/i),eO=n=>Js(n,/iPhone|iPod/i)||Qy(n),CS=n=>Js(n,/android|sink/i),tO=n=>CS(n)&&!Js(n,/mobile/i),nO=n=>{const e=n.innerWidth,t=n.innerHeight,i=Math.min(e,t),r=Math.max(e,t);return i>390&&i<520&&r>620&&r<800},iO=n=>{const e=n.innerWidth,t=n.innerHeight,i=Math.min(e,t),r=Math.max(e,t);return Qy(n)||tO(n)||i>460&&i<820&&r>780&&r<1400},Qh=n=>aO(n,"(any-pointer:coarse)"),rO=n=>!Qh(n),AS=n=>NS(n)||kS(n),NS=n=>!!(n.cordova||n.phonegap||n.PhoneGap),kS=n=>{const e=n.Capacitor;return!!(e!=null&&e.isNative)},sO=n=>Js(n,/electron/i),oO=n=>{var e;return!!(!((e=n.matchMedia)===null||e===void 0)&&e.call(n,"(display-mode: standalone)").matches||n.navigator.standalone)},Js=(n,e)=>e.test(n.navigator.userAgent),aO=(n,e)=>{var t;return(t=n.matchMedia)===null||t===void 0?void 0:t.call(n,e).matches},Qv={ipad:Qy,iphone:ZI,ios:eO,android:CS,phablet:nO,tablet:iO,cordova:NS,capacitor:kS,electron:sO,pwa:oO,mobile:Qh,mobileweb:XI,desktop:rO,hybrid:AS};let To;const Pe=n=>n&&PM(n)||To,lO=(n={})=>{if(typeof window>"u")return;const e=window.document,t=window,i=t.Ionic=t.Ionic||{},r={};n._ael&&(r.ael=n._ael),n._rel&&(r.rel=n._rel),n._ce&&(r.ce=n._ce),iI(r);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},WI(t)),{persistConfig:!1}),i.config),GI(t)),n);Ue.reset(s),Ue.getBoolean("persistConfig")&&QI(t,s),SS(t),i.config=Ue,i.mode=To=Ue.get("mode",e.documentElement.getAttribute("mode")||(br(t,"ios")?"ios":"md")),Ue.set("mode",To),e.documentElement.setAttribute("mode",To),e.documentElement.classList.add(To),Ue.getBoolean("_testing")&&Ue.set("animated",!1);const o=l=>{var c;return(c=l.tagName)===null||c===void 0?void 0:c.startsWith("ION-")},a=l=>["ios","md"].includes(l);RM(l=>{for(;l;){const c=l.mode||l.getAttribute("mode");if(c){if(a(c))return c;o(l)&&console.warn('Invalid ionic mode: "'+c+'", expected: "ios" or "md"')}l=l.parentElement}return To})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cO=n=>{try{if(n instanceof pO)return n.value;if(!uO()||typeof n!="string"||n==="")return n;if(n.includes("onload="))return"";const e=document.createDocumentFragment(),t=document.createElement("div");e.appendChild(t),t.innerHTML=n,hO.forEach(o=>{const a=e.querySelectorAll(o);for(let l=a.length-1;l>=0;l--){const c=a[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=Xm(c);for(let d=0;d<u.length;d++)Jm(u[d])}});const i=Xm(e);for(let o=0;o<i.length;o++)Jm(i[o]);const r=document.createElement("div");r.appendChild(e);const s=r.querySelector("div");return s!==null?s.innerHTML:r.innerHTML}catch(e){return console.error(e),""}},Jm=n=>{if(n.nodeType&&n.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(n.attributes instanceof NamedNodeMap)){n.remove();return}for(let t=n.attributes.length-1;t>=0;t--){const i=n.attributes.item(t),r=i.name;if(!dO.includes(r.toLowerCase())){n.removeAttribute(r);continue}const s=i.value,o=n[r];(s!=null&&s.toLowerCase().includes("javascript:")||o!=null&&o.toLowerCase().includes("javascript:"))&&n.removeAttribute(r)}const e=Xm(n);for(let t=0;t<e.length;t++)Jm(e[t])},Xm=n=>n.children!=null?n.children:n.childNodes,uO=()=>{var n;const e=window,t=(n=e==null?void 0:e.Ionic)===null||n===void 0?void 0:n.config;return t?t.get?t.get("sanitizerEnabled",!0):t.sanitizerEnabled===!0||t.sanitizerEnabled===void 0:!0},dO=["class","id","href","src","name","slot"],hO=["script","style","iframe","meta","link","object","embed"];class pO{constructor(e){this.value=e}}const fO=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mO=()=>{document.addEventListener("backbutton",()=>{})},gO=()=>{const n=document;let e=!1;n.addEventListener("backbutton",()=>{if(e)return;let t=0,i=[];const r=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(a,l){i.push({priority:a,handler:l,id:t++})}}});n.dispatchEvent(r);const s=async a=>{try{if(a!=null&&a.handler){const l=a.handler(o);l!=null&&await l}}catch(l){console.error(l)}},o=()=>{if(i.length>0){let a={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(l=>{l.priority>=a.priority&&(a=l)}),e=!0,i=i.filter(l=>l.id!==a.id),s(a).then(()=>e=!1)}};o()})},RS=100,PS=99,yO=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:PS,OVERLAY_BACK_BUTTON_PRIORITY:RS,blockHardwareBackButton:mO,startHardwareBackButton:gO},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Gy=n=>Le().duration(n?400:300),bO=n=>{let e,t;const i=n.width+8,r=Le(),s=Le();n.isEndSide?(e=i+"px",t="0px"):(e=-i+"px",t="0px"),r.addElement(n.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(t,")"));const a=Pe(n)==="ios",l=a?.2:.25;return s.addElement(n.backdropEl).fromTo("opacity",.01,l),Gy(a).addAnimation([r,s])},vO=n=>{let e,t;const i=Pe(n),r=n.width;n.isEndSide?(e=-r+"px",t=r+"px"):(e=r+"px",t=-r+"px");const s=Le().addElement(n.menuInnerEl).fromTo("transform","translateX(".concat(t,")"),"translateX(0px)"),o=Le().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),a=Le().addElement(n.backdropEl).fromTo("opacity",.01,.32);return Gy(i==="ios").addAnimation([s,o,a])},wO=n=>{const e=Pe(n),t=n.width*(n.isEndSide?-1:1)+"px",i=Le().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(t,")"));return Gy(e==="ios").addAnimation(i)},EO=()=>{const n=new Map,e=[],t=async $=>{const k=await c($);return k?k.open():!1},i=async $=>{const k=await($!==void 0?c($):u());return k!==void 0?k.close():!1},r=async $=>{const k=await c($);return k?k.toggle():!1},s=async($,k)=>{const H=await c(k);return H&&(H.disabled=!$),H},o=async($,k)=>{const H=await c(k);return H&&(H.swipeGesture=$),H},a=async $=>{if($!=null){const k=await c($);return k!==void 0&&k.isOpen()}else return await u()!==void 0},l=async $=>{const k=await c($);return k?!k.disabled:!1},c=async $=>{if(await I(),$==="start"||$==="end"){const H=L(A=>A.side===$&&!A.disabled);return H||L(A=>A.side===$)}else if($!=null)return L(H=>H.menuId===$);const k=L(H=>!H.disabled);return k||(e.length>0?e[0].el:void 0)},u=async()=>(await I(),v()),d=async()=>(await I(),N()),h=async()=>(await I(),M()),p=($,k)=>{n.set($,k)},g=$=>{e.indexOf($)<0&&($.disabled||T($),e.push($))},m=$=>{const k=e.indexOf($);k>-1&&e.splice(k,1)},T=$=>{const k=$.side;e.filter(H=>H.side===k&&H!==$).forEach(H=>H.disabled=!0)},w=async($,k,H)=>{if(M())return!1;if(k){const A=await u();A&&$.el!==A&&await A.setOpen(!1,!1)}return $._setOpen(k,H)},b=($,k)=>{const H=n.get($);if(!H)throw new Error("animation not registered");return H(k)},v=()=>L($=>$._isOpen),N=()=>e.map($=>$.el),M=()=>e.some($=>$.isAnimating),L=$=>{const k=e.find($);if(k!==void 0)return k.el},I=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map($=>new Promise(k=>Ks($,k))));return p("reveal",wO),p("push",vO),p("overlay",bO),typeof document<"u"&&document.addEventListener("ionBackButton",$=>{const k=v();k&&$.detail.register(PS,()=>k.close())}),{registerAnimation:p,get:c,getMenus:d,getOpen:u,isEnabled:l,swipeGesture:o,isAnimating:h,isOpen:a,enable:s,toggle:r,close:i,open:t,_getOpenSync:v,_createAnimation:b,_register:g,_unregister:m,_setOpen:w,_setActiveMenu:T}},fr=EO();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ky=async(n,e,t,i,r,s)=>{var o;if(n)return n.attachViewToDom(e,t,r,i);if(!s&&typeof t!="string"&&!(t instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof t=="string"?(o=e.ownerDocument)===null||o===void 0?void 0:o.createElement(t):t;return i&&i.forEach(l=>a.classList.add(l)),r&&Object.assign(a,r),e.appendChild(a),await new Promise(l=>Ks(a,l)),a},$S=(n,e)=>{if(e){if(n){const t=e.parentElement;return n.removeViewFromDom(t,e)}e.remove()}return Promise.resolve()},MS=()=>{let n,e;return{attachViewToDom:async(r,s,o={},a=[])=>{var l,c;if(n=r,s){const d=typeof s=="string"?(l=n.ownerDocument)===null||l===void 0?void 0:l.createElement(s):s;a.forEach(h=>d.classList.add(h)),Object.assign(d,o),n.appendChild(d),await new Promise(h=>Ks(d,h))}else if(n.children.length>0&&(n.tagName==="ION-MODAL"||n.tagName==="ION-POPOVER")&&!n.children[0].classList.contains("ion-delegate-host")){const h=(c=n.ownerDocument)===null||c===void 0?void 0:c.createElement("div");h.classList.add("ion-delegate-host"),a.forEach(p=>h.classList.add(p)),h.append(...n.children),n.appendChild(h)}const u=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),n.parentNode.insertBefore(e,n),u.appendChild(n),n},removeViewFromDom:()=>(n&&e&&(e.parentNode.insertBefore(n,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ut=(n,...e)=>console.warn("[Ionic Warning]: ".concat(n),...e),IS=(n,...e)=>console.error("[Ionic Error]: ".concat(n),...e),xO=(n,...e)=>console.error("<".concat(n.tagName.toLowerCase(),"> must be used inside ").concat(e.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Zm=0,TO=0;const Dd=new WeakMap,OS=n=>{typeof document<"u"&&AO(document);const e=Zm++;n.overlayIndex=e},_S=n=>(n.hasAttribute("id")||(n.id="ion-overlay-".concat(++TO)),n.id),Jl='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Gv=(n,e)=>{let t=n.querySelector(Jl);const i=t==null?void 0:t.shadowRoot;i&&(t=i.querySelector(Jl)||t),t?dI(t):e.focus()},SO=n=>n.classList.contains("overlay-hidden"),Kv=(n,e)=>{const t=Array.from(n.querySelectorAll(Jl));let i=t.length>0?t[t.length-1]:null;const r=i==null?void 0:i.shadowRoot;r&&(i=r.querySelector(Jl)||i),i?i.focus():e.focus()},CO=(n,e)=>{const t=Ld(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),i=n.target;if(!t||!i||t.classList.contains("ion-disable-focus-trap"))return;const r=()=>{if(t===i)t.lastFocus=void 0;else{const o=hs(t);if(!o.contains(i))return;const a=o.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(i)||i===o.querySelector("ion-backdrop"))t.lastFocus=i;else{const l=t.lastFocus;Gv(a,t),l===e.activeElement&&Kv(a,t),t.lastFocus=e.activeElement}}},s=()=>{if(t.contains(i))t.lastFocus=i;else{const o=t.lastFocus;Gv(t,t),o===e.activeElement&&Kv(t,t),t.lastFocus=e.activeElement}};t.shadowRoot?s():r()},AO=n=>{Zm===0&&(Zm=1,n.addEventListener("focus",e=>{CO(e,n)},!0),n.addEventListener("ionBackButton",e=>{const t=Ld(n);t!=null&&t.backdropDismiss&&e.detail.register(RS,()=>t.dismiss(void 0,Xl))}),n.addEventListener("keydown",e=>{if(e.key==="Escape"){const t=Ld(n);t!=null&&t.backdropDismiss&&t.dismiss(void 0,Xl)}}))},NO=(n,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(n.querySelectorAll(e)).filter(t=>t.overlayIndex>0)),Ld=(n,e,t)=>{const i=NO(n,e).filter(r=>!SO(r));return t===void 0?i[i.length-1]:i.find(r=>r.id===t)},DS=(n=!1)=>{const t=RO(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(n?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},LS=async(n,e,t,i,r)=>{var s,o;if(n.presented)return;DS(!0),n.presented=!0,n.willPresent.emit(),(s=n.willPresentShorthand)===null||s===void 0||s.emit();const a=Pe(n),l=n.enterAnimation?n.enterAnimation:Ue.get(e,a==="ios"?t:i);await BS(n,l,n.el,r)&&(n.didPresent.emit(),(o=n.didPresentShorthand)===null||o===void 0||o.emit()),n.el.tagName!=="ION-TOAST"&&kO(n.el),n.keyboardClose&&(document.activeElement===null||!n.el.contains(document.activeElement))&&n.el.focus()},kO=async n=>{let e=document.activeElement;if(!e)return;const t=e==null?void 0:e.shadowRoot;t&&(e=t.querySelector(Jl)||e),await n.onDidDismiss(),e.focus()},qS=async(n,e,t,i,r,s,o)=>{var a,l;if(!n.presented)return!1;DS(!1),n.presented=!1;try{n.el.style.setProperty("pointer-events","none"),n.willDismiss.emit({data:e,role:t}),(a=n.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:t});const c=Pe(n),u=n.leaveAnimation?n.leaveAnimation:Ue.get(i,c==="ios"?r:s);t!==Nl&&await BS(n,u,n.el,o),n.didDismiss.emit({data:e,role:t}),(l=n.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:t}),Dd.delete(n),n.el.classList.add("overlay-hidden"),n.el.style.removeProperty("pointer-events"),n.el.lastFocus!==void 0&&(n.el.lastFocus=void 0)}catch(c){console.error(c)}return n.el.remove(),!0},RO=n=>n.querySelector("ion-app")||n.body,BS=async(n,e,t,i)=>{t.classList.remove("overlay-hidden");const r=n.el,s=e(r,i);(!n.animated||!Ue.getBoolean("animated",!0))&&s.duration(0),n.keyboardClose&&s.beforeAddWrite(()=>{const a=t.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const o=Dd.get(n)||[];return Dd.set(n,[...o,s]),await s.play(),!0},qd=(n,e)=>{let t;const i=new Promise(r=>t=r);return PO(n,e,r=>{t(r.detail)}),i},PO=(n,e,t)=>{const i=r=>{uI(n,e,i),t(r)};cI(n,e,i)},Yv=n=>n==="cancel"||n===Xl,$O=n=>n(),ff=(n,e)=>{if(typeof n=="function")return Ue.get("_zoneGate",$O)(()=>{try{return n(e)}catch(i){throw i}})},Xl="backdrop",Nl="gesture",MO=n=>{let e=!1,t;const i=MS(),r=(a=!1)=>{if(t&&!a)return{delegate:t,inline:e};const{el:l,hasController:c,delegate:u}=n;return e=l.parentNode!==null&&!c,t=e?u||i:u,{inline:e,delegate:t}};return{attachViewToDom:async a=>{const{delegate:l}=r(!0);if(l)return await l.attachViewToDom(n.el,a);const{hasController:c}=n;if(c&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=r();a&&n.el!==void 0&&a.removeViewFromDom(n.el.parentElement,n.el)}}},FS=()=>{let n;const e=()=>{n&&(n(),n=void 0)};return{addClickListener:(i,r)=>{e();const s=r!==void 0?document.getElementById(r):null;if(!s){Ut('A trigger element with the ID "'.concat(r,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),i);return}n=((a,l)=>{const c=()=>{l.present()};return a.addEventListener("click",c),()=>{a.removeEventListener("click",c)}})(s,i)},removeClickListener:e}};function rn(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const IO="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",OO="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",Jv="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",Xv="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",Zv="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",_O="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",DO="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let mf;const LO=()=>{if(typeof window>"u")return new Map;if(!mf){const n=window;n.Ionicons=n.Ionicons||{},mf=n.Ionicons.map=n.Ionicons.map||new Map}return mf},qO=n=>{let e=gf(n.src);return e||(e=US(n.name,n.icon,n.mode,n.ios,n.md),e?BO(e):n.icon&&(e=gf(n.icon),e||(e=gf(n.icon[n.mode]),e))?e:null)},BO=n=>{const e=LO().get(n);return e||wM("svg/".concat(n,".svg"))},US=(n,e,t,i,r)=>(t=(t&&pu(t))==="ios"?"ios":"md",i&&t==="ios"?n=pu(i):r&&t==="md"?n=pu(r):(!n&&e&&!jS(e)&&(n=e),Bd(n)&&(n=pu(n))),!Bd(n)||n.trim()===""||n.replace(/[a-z]|-|\d/gi,"")!==""?null:n),gf=n=>Bd(n)&&(n=n.trim(),jS(n))?n:null,jS=n=>n.length>0&&/(\/|\.)/.test(n),Bd=n=>typeof n=="string",pu=n=>n.toLowerCase(),FO=(n,e=[])=>{const t={};return e.forEach(i=>{n.hasAttribute(i)&&(n.getAttribute(i)!==null&&(t[i]=n.getAttribute(i)),n.removeAttribute(i))}),t},UO=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",jO=n=>{const e=document.createElement("div");e.innerHTML=n;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const t=e.firstElementChild;if(t&&t.nodeName.toLowerCase()==="svg"){const i=t.getAttribute("class")||"";if(t.setAttribute("class",(i+" s-ion-icon").trim()),zS(t))return e.innerHTML}return""},zS=n=>{if(n.nodeType===1){if(n.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;if(Bd(t)&&t.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<n.childNodes.length;e++)if(!zS(n.childNodes[e]))return!1}return!0},zO=n=>n.startsWith("data:image/svg+xml"),VO=n=>n.indexOf(";utf8,")!==-1,$s=new Map,ew=new Map;let yf;const HO=(n,e)=>{let t=ew.get(n);if(!t)if(typeof fetch<"u"&&typeof document<"u")if(zO(n)&&VO(n)){yf||(yf=new DOMParser);const r=yf.parseFromString(n,"text/html").querySelector("svg");return r&&$s.set(n,r.outerHTML),Promise.resolve()}else t=fetch(n).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=jO(r)),$s.set(n,r||"")});$s.set(n,"")}),ew.set(n,t);else return $s.set(n,""),Promise.resolve();return t},WO=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",QO=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=GO(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=FO(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:t});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=qO(this);e&&($s.has(e)?this.svgContent=$s.get(e):HO(e,this.sanitize).then(()=>this.svgContent=$s.get(e)))}this.iconName=US(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{iconName:e,el:t,inheritedAttributes:i}=this,r=this.mode||"md",s=this.flipRtl||e&&(e.indexOf("arrow")>-1||e.indexOf("chevron")>-1)&&this.flipRtl!==!1;return V(Ke,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},KO(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":!!s&&UO(t)})},i),this.svgContent?V("div",{class:"icon-inner",innerHTML:this.svgContent}):V("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return WO}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),GO=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",KO=n=>n?{"ion-color":!0,["ion-color-".concat(n)]:!0}:null;function Yy(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,QO);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const YO=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",JO=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",XO=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=Ne(this,"ionBackdropTap",7),this.blocker=Hh.createBlocker({disableScroll:!0}),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}connectedCallback(){this.stopPropagation&&this.blocker.block()}disconnectedCallback(){this.blocker.unblock()}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=Pe(this);return V(Ke,{tabindex:"-1","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:YO,md:JO}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function Jy(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,XO);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Gt=(n,e)=>e.closest(n)!==null,fn=(n,e)=>typeof n=="string"&&n.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(n)]:!0},e):e,ZO=n=>n!==void 0?(Array.isArray(n)?n:n.split(" ")).filter(t=>t!=null).map(t=>t.trim()).filter(t=>t!==""):[],Ls=n=>{const e={};return ZO(n).forEach(t=>e[t]=!0),e},e_=/^[a-z][a-z0-9+\-.]*:/,Xy=async(n,e,t,i)=>{if(n!=null&&n[0]!=="#"&&!e_.test(n)){const r=document.querySelector("ion-router");if(r)return e!=null&&e.preventDefault(),r.push(n,t,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const t_=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px}",n_=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}",i_=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Pe(this);return V(Ke,{class:fn(this.color,{[e]:!0})},V("slot",null))}static get style(){return{ios:t_,md:n_}}},[33,"ion-badge",{color:[513]}]);function r_(){if(typeof customElements>"u")return;["ion-badge"].forEach(e=>{switch(e){case"ion-badge":customElements.get(e)||customElements.define(e,i_);break}})}const s_=r_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const o_=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:28px;line-height:0.67}",a_=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:48px;height:48px}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",l_=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=Pe(this);return V(Ke,{class:{[e]:!0,"buttons-collapse":this.collapse}})}static get style(){return{ios:o_,md:a_}}},[34,"ion-buttons",{collapse:[4]}]);function c_(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,l_);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const u_=c_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VS=n=>{const e=n;let t;return{hasLegacyControl:()=>{if(t===void 0){const r=e.label!==void 0||d_(e),s=e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")&&e.shadowRoot===null,o=Hy(e);t=e.legacy===!0||!r&&!s&&o!==null}return t}}},d_=n=>n.shadowRoot===null?!1:!!(h_.includes(n.tagName)&&n.querySelector('[slot="label"]')!==null||p_.includes(n.tagName)&&n.textContent!==""),h_=["ION-RANGE"],p_=["ION-TOGGLE","ION-CHECKBOX","ION-RADIO"];/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const f_=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",m_=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,t){return new Promise(i=>{Yl(()=>{const r=this.el.getBoundingClientRect(),s=r.width,o=r.height,a=Math.sqrt(s*s+o*o),l=Math.max(o,s),c=this.unbounded?l:a+y_,u=Math.floor(l*b_),d=c/u;let h=e-r.left,p=t-r.top;this.unbounded&&(h=s*.5,p=o*.5);const g=h-u*.5,m=p-u*.5,T=s*.5-h,w=o*.5-p;yi(()=>{const b=document.createElement("div");b.classList.add("ripple-effect");const v=b.style;v.top=m+"px",v.left=g+"px",v.width=v.height=u+"px",v.setProperty("--final-scale","".concat(d)),v.setProperty("--translate-end","".concat(T,"px, ").concat(w,"px")),(this.el.shadowRoot||this.el).appendChild(b),setTimeout(()=>{i(()=>{g_(b)})},225+100)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=Pe(this);return V(Ke,{role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return f_}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),g_=n=>{n.classList.add("fade-out"),setTimeout(()=>{n.remove()},200)},y_=10,b_=.5;function Gh(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,m_);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const v_={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},w_=n=>{if(n===void 0||n==="")return!0;if(window.matchMedia){const e=v_[n];return window.matchMedia(e).matches}return!1},E_=":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}",fu=typeof window<"u"?window:void 0,tw=fu&&!!(fu.CSS&&fu.CSS.supports&&fu.CSS.supports("--a: 0")),x_=["","xs","sm","md","lg","xl"],T_=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){ds(this)}getColumns(e){let t;for(const i of x_){const r=w_(i),s=this[e+i.charAt(0).toUpperCase()+i.slice(1)];r&&s!==void 0&&(t=s)}return t}calculateSize(){const e=this.getColumns("size");if(!e||e==="")return;const t=e==="auto"?"auto":tw?"calc(calc(".concat(e," / var(--ion-grid-columns, 12)) * 100%)"):e/12*100+"%";return{flex:"0 0 ".concat(t),width:"".concat(t),"max-width":"".concat(t)}}calculatePosition(e,t){const i=this.getColumns(e);if(!i)return;const r=tw?"calc(calc(".concat(i," / var(--ion-grid-columns, 12)) * 100%)"):i>0&&i<12?i/12*100+"%":"auto";return{[t]:r}}calculateOffset(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}calculatePull(e){return this.calculatePosition("pull",e?"left":"right")}calculatePush(e){return this.calculatePosition("push",e?"right":"left")}render(){const e=document.dir==="rtl",t=Pe(this);return V(Ke,{class:{[t]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},V("slot",null))}static get style(){return E_}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);function S_(){if(typeof customElements>"u")return;["ion-col"].forEach(e=>{switch(e){case"ion-col":customElements.get(e)||customElements.define(e,T_);break}})}const C_=S_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Gu=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const A_=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',N_=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=Ne(this,"ionScrollStart",7),this.ionScroll=Ne(this,"ionScroll",7),this.ionScrollEnd=Ne(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null}disconnectedCallback(){this.onScrollEnd()}onAppLoad(){this.resize()}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,t=Pe(this);return e===void 0?t==="ios"&&br("ios"):e}resize(){this.fullscreen?Yl(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,ds(this))}readDimensions(){const e=R_(this.el),t=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-t-this.el.offsetHeight,0);(t!==this.cTop||i!==this.cBottom)&&(this.cTop=t,this.cBottom=i,ds(this))}onScroll(e){const t=Date.now(),i=!this.isScrolling;this.lastScroll=t,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Yl(r=>{this.queued=!1,this.detail.event=e,P_(this.detail,this.scrollEl,r,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Ks(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Ks(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const t=await this.getScrollElement(),i=t.scrollHeight-t.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,t,i){const r=await this.getScrollElement();return this.scrollToPoint(e+r.scrollLeft,t+r.scrollTop,i)}async scrollToPoint(e,t,i=0){const r=await this.getScrollElement();if(i<32){t!=null&&(r.scrollTop=t),e!=null&&(r.scrollLeft=e);return}let s,o=0;const a=new Promise(p=>s=p),l=r.scrollTop,c=r.scrollLeft,u=t!=null?t-l:0,d=e!=null?e-c:0,h=p=>{const g=Math.min(1,(p-o)/i)-1,m=Math.pow(g,3)+1;u!==0&&(r.scrollTop=Math.floor(m*u+l)),d!==0&&(r.scrollLeft=Math.floor(m*d+c)),m<1?requestAnimationFrame(h):s()};return requestAnimationFrame(p=>{o=p,h(p)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{isMainContent:e,scrollX:t,scrollY:i,el:r}=this,s=Gu(r)?"rtl":"ltr",o=Pe(this),a=this.shouldForceOverscroll(),l=o==="ios",c=e?"main":"div";return this.resize(),V(Ke,{class:fn(this.color,{[o]:!0,"content-sizing":Gt("ion-popover",this.el),overscroll:a,["content-".concat(s)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},V("div",{ref:u=>this.backgroundContentEl=u,id:"background-content",part:"background"}),V(c,{class:{"inner-scroll":!0,"scroll-x":t,"scroll-y":i,overscroll:(t||i)&&a},ref:u=>this.scrollEl=u,onScroll:this.scrollEvents?u=>this.onScroll(u):void 0,part:"scroll"},V("slot",null)),l?V("div",{class:"transition-effect"},V("div",{class:"transition-cover"}),V("div",{class:"transition-shadow"})):null,V("slot",{name:"fixed"}))}get el(){return this}static get style(){return A_}},[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]]),k_=n=>{var e;return n.parentElement?n.parentElement:!((e=n.parentNode)===null||e===void 0)&&e.host?n.parentNode.host:null},R_=n=>{const e=n.closest("ion-tabs");if(e)return e;const t=n.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return t||k_(n)},P_=(n,e,t,i)=>{const r=n.currentX,s=n.currentY,o=n.currentTime,a=e.scrollLeft,l=e.scrollTop,c=t-o;if(i&&(n.startTime=t,n.startX=a,n.startY=l,n.velocityX=n.velocityY=0),n.currentTime=t,n.currentX=n.scrollLeft=a,n.currentY=n.scrollTop=l,n.deltaX=a-n.startX,n.deltaY=l-n.startY,c>0&&c<100){const u=(a-r)/c,d=(l-s)/c;n.velocityX=u*.7+n.velocityX*.3,n.velocityY=d*.7+n.velocityY*.3}};function $_(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,N_);break}})}const M_=$_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const I_=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:16px;font-weight:500;letter-spacing:0}:host(.in-buttons){font-size:17px;font-weight:400}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:17px;font-weight:normal}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:20px}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:13px}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}',O_=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:14px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:20px}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:13px}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',__=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=Ne(this,"ionFocus",7),this.ionBlur=Ne(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:t}=this;this.type==="button"?Xy(this.href,e,this.routerDirection,this.routerAnimation):dS(t)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:t}=this;if(t!==null&&e.contains(t))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,e.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=oo(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const t=document.getElementById(e);return t?t instanceof HTMLFormElement?t:(Ut('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(Ut('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return e!==void 0?(Ut('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=Pe(this),{buttonType:t,type:i,disabled:r,rel:s,target:o,size:a,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:p,inheritedAttributes:g}=this,m=a===void 0&&this.inItem?"small":a,T=l===void 0?"button":"a",w=T==="button"?{type:i}:{download:this.download,href:l,rel:s,target:o};let b=this.fill;return b==null&&(b=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),V(Ke,{onClick:this.handleClick,"aria-disabled":r?"true":null,class:fn(c,{[e]:!0,[t]:!0,["".concat(t,"-").concat(u)]:u!==void 0,["".concat(t,"-").concat(m)]:m!==void 0,["".concat(t,"-").concat(h)]:h!==void 0,["".concat(t,"-").concat(b)]:!0,["".concat(t,"-strong")]:p,"in-toolbar":Gt("ion-toolbar",this.el),"in-toolbar-color":Gt("ion-toolbar[color]",this.el),"in-buttons":Gt("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":r,"ion-activatable":!0,"ion-focusable":!0})},V(T,Object.assign({},w,{class:"button-native",part:"native",disabled:r,onFocus:this.onFocus,onBlur:this.onBlur},g),V("span",{class:"button-inner"},V("slot",{name:"icon-only"}),V("slot",{name:"start"}),V("slot",null),V("slot",{name:"end"})),e==="md"&&V("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:I_,md:O_}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const D_=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:16px}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:13px}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',L_=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:16px;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}@supports (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{inset-inline-start:var(--position-offset)}}@supports not (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{left:var(--position-offset)}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}@supports selector(:dir(rtl)){:host(.item-fill-outline) .item-highlight:dir(rtl){left:unset;right:unset;right:var(--position-offset)}}}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted([slot=end]){-webkit-margin-start:32px;margin-inline-start:32px}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:24px}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){-webkit-margin-end:8px;margin-inline-end:8px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:11px}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){-webkit-padding-end:16px;padding-inline-end:16px}::slotted(ion-note[slot=end]){-webkit-padding-start:16px;padding-inline-start:16px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:12px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid):dir(rtl){border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid.item-shape-round):dir(rtl){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{-webkit-padding-start:32px;padding-inline-start:32px}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}',q_=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=Jv,this.disabled=!1,this.download=void 0,this.fill=void 0,this.shape=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.counter=!1,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button",this.counterFormatter=void 0,this.counterString=void 0}counterFormatterChanged(){this.updateCounterOutput(this.getFirstInput())}handleIonInput(e){this.counter&&e.target===this.getFirstInput()&&this.updateCounterOutput(e.target)}labelColorChanged(e){const{color:t}=this;t===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const t=e.target.tagName,i=e.detail,r={},s=this.itemStyles.get(t)||{};let o=!1;Object.keys(i).forEach(a=>{if(i[a]){const l="item-".concat(a);s[l]||(o=!0),r[l]=!0}}),!o&&Object.keys(r).length!==Object.keys(s).length&&(o=!0),o&&(this.itemStyles.set(t,r),ds(this))}connectedCallback(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=va(this.el,["aria-label"])}componentDidLoad(){const{el:e,counter:t,counterFormatter:i,fill:r,shape:s}=this;e.querySelector('[slot="helper"]')!==null&&Ut('The "helper" slot has been deprecated in favor of using the "helperText" property on ion-input or ion-textarea.',e),e.querySelector('[slot="error"]')!==null&&Ut('The "error" slot has been deprecated in favor of using the "errorText" property on ion-input or ion-textarea.',e),t===!0&&Ut('The "counter" property has been deprecated in favor of using the "counter" property on ion-input or ion-textarea.',e),i!==void 0&&Ut('The "counterFormatter" property has been deprecated in favor of using the "counterFormatter" property on ion-input or ion-textarea.',e),r!==void 0&&Ut('The "fill" property has been deprecated in favor of using the "fill" property on ion-input or ion-textarea.',e),s!==void 0&&Ut('The "shape" property has been deprecated in favor of using the "shape" property on ion-input or ion-textarea.',e),Ft(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),t=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=e.length+t.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}getFirstInput(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}updateCounterOutput(e){var t,i;const{counter:r,counterFormatter:s,defaultCounterFormatter:o}=this;if(r&&!this.multipleInputs&&(e==null?void 0:e.maxlength)!==void 0){const a=(i=(t=e==null?void 0:e.value)===null||t===void 0?void 0:t.toString().length)!==null&&i!==void 0?i:0;if(s===void 0)this.counterString=o(a,e.maxlength);else try{this.counterString=s(a,e.maxlength)}catch(l){IS("Exception in provided `counterFormatter`.",l),this.counterString=o(a,e.maxlength)}}}defaultCounterFormatter(e,t){return"".concat(e," / ").concat(t)}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}render(){const{counterString:e,detail:t,detailIcon:i,download:r,fill:s,labelColorStyles:o,lines:a,disabled:l,href:c,rel:u,shape:d,target:h,routerAnimation:p,routerDirection:g,inheritedAriaAttributes:m}=this,T={},w=Pe(this),b=this.isClickable(),v=this.canActivate(),N=b?c===void 0?"button":"a":"div",M=N==="button"?{type:this.type}:{download:r,href:c,rel:u,target:h},L=b?{onClick:A=>{Xy(c,A,g,p)}}:{},I=t!==void 0?t:w==="ios"&&b;this.itemStyles.forEach(A=>{Object.assign(T,A)});const $=l||T["item-interactive-disabled"]?"true":null,k=s||"none",H=Gt("ion-list",this.el)&&!Gt("ion-radio-group",this.el);return V(Ke,{"aria-disabled":$,class:Object.assign(Object.assign(Object.assign({},T),o),fn(this.color,{item:!0,[w]:!0,"item-lines-default":a===void 0,["item-lines-".concat(a)]:a!==void 0,["item-fill-".concat(k)]:!0,["item-shape-".concat(d)]:d!==void 0,"item-disabled":l,"in-list":H,"item-multiple-inputs":this.multipleInputs,"ion-activatable":v,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:H?"listitem":null},V(N,Object.assign({},M,m,{class:"item-native",part:"native",disabled:l},L),V("slot",{name:"start"}),V("div",{class:"item-inner"},V("div",{class:"input-wrapper"},V("slot",null)),V("slot",{name:"end"}),I&&V("ion-icon",{icon:i,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":i===Jv}),V("div",{class:"item-inner-highlight"})),v&&w==="md"&&V("ion-ripple-effect",null),V("div",{class:"item-highlight"})),V("div",{class:"item-bottom"},V("slot",{name:"error"}),V("slot",{name:"helper"}),e&&V("ion-note",{class:"item-counter"},e)))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{counterFormatter:["counterFormatterChanged"]}}static get style(){return{ios:D_,md:L_}}},[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const B_=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{white-space:normal}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{font-size:14px;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:14px}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:22px;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:17px;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.4)}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",F_='.item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{white-space:normal}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(-6px) scale(0.75);transform:translateY(-6px) scale(0.75);position:relative;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content;background-color:var(--ion-item-background, var(--ion-background-color, #fff));overflow:visible;z-index:3}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{position:absolute;width:4px;height:100%;background-color:var(--ion-item-background, var(--ion-background-color, #fff));content:""}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before{left:calc(-1 * 4px)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{right:calc(-1 * 4px)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.sc-ion-label-md-h{-webkit-transform:translateX(-32px) translateY(-6px) scale(0.75);transform:translateX(-32px) translateY(-6px) scale(0.75)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating.label-rtl,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75);transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #3880ff)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.item-fill-solid.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-base)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:24px;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:16px;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:20px;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, #666666)}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}',U_=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.ionColor=Ne(this,"ionColor",7),this.ionStyle=Ne(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,["ion-color-".concat(e)]:e!==void 0})}emitStyle(){const{inRange:e,position:t}=this;e||this.ionStyle.emit({label:!0,["label-".concat(t)]:t!==void 0})}render(){const e=this.position,t=Pe(this);return V(Ke,{class:fn(this.color,{[t]:!0,"in-item-color":Gt("ion-item.ion-color",this.el),["label-".concat(e)]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})})}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:B_,md:F_}}},[34,"ion-label",{color:[513],position:[1],noAnimate:[32]}]);function j_(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,U_);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Go=()=>{if(yt!==void 0)return yt.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var eg;(function(n){n.Heavy="HEAVY",n.Medium="MEDIUM",n.Light="LIGHT"})(eg||(eg={}));var nw;(function(n){n.Success="SUCCESS",n.Warning="WARNING",n.Error="ERROR"})(nw||(nw={}));const Kh={getEngine(){const n=window.TapticEngine;if(n)return n;const e=Go();if(e!=null&&e.isPluginAvailable("Haptics"))return e.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=Go();return(e==null?void 0:e.getPlatform())==="web"?typeof navigator<"u"&&navigator.vibrate!==void 0:!0},isCordova(){return window.TapticEngine!==void 0},isCapacitor(){return Go()!==void 0},impact(n){const e=this.getEngine();if(!e)return;const t=this.isCapacitor()?n.style:n.style.toLowerCase();e.impact({style:t})},notification(n){const e=this.getEngine();if(!e)return;const t=this.isCapacitor()?n.type:n.type.toLowerCase();e.notification({type:t})},selection(){const n=this.isCapacitor()?eg.Light:"light";this.impact({style:n})},selectionStart(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionStart():n.gestureSelectionStart())},selectionChanged(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionChanged():n.gestureSelectionChanged())},selectionEnd(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionEnd():n.gestureSelectionEnd())}},Zy=()=>Kh.available(),z_=()=>{Zy()&&Kh.selectionStart()},V_=()=>{Zy()&&Kh.selectionChanged()},H_=()=>{Zy()&&Kh.selectionEnd()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const W_="ION-CONTENT",HS="ion-content",WS=".ion-content-scroll-host",QS="".concat(HS,", ").concat(WS),Xs=n=>n.tagName===W_,iw=async n=>Xs(n)?(await new Promise(e=>Ks(n,e)),n.getScrollElement()):n,tg=n=>{const e=n.querySelector(WS);return e||n.querySelector(QS)},GS=n=>n.closest(QS),GV=(n,e)=>Xs(n)?n.scrollToTop(e):Promise.resolve(n.scrollTo({top:0,left:0,behavior:e>0?"smooth":"auto"})),KV=(n,e,t,i)=>Xs(n)?n.scrollByPoint(e,t,i):Promise.resolve(n.scrollBy({top:t,left:e,behavior:i>0?"smooth":"auto"})),ng=n=>xO(n,HS),ig=n=>{if(Xs(n)){const e=n,t=e.scrollY;return e.scrollY=!1,t}else return n.style.setProperty("overflow","hidden"),!0},KS=(n,e)=>{Xs(n)?n.scrollY=e:n.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var rg;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(rg||(rg={}));var sg;(function(n){n.Body="body",n.Ionic="ionic",n.Native="native",n.None="none"})(sg||(sg={}));const YS={getEngine(){const n=Go();if(n!=null&&n.isPluginAvailable("Keyboard"))return n.Plugins.Keyboard},getResizeMode(){const n=this.getEngine();return n!=null&&n.getResizeMode?n.getResizeMode().catch(e=>{if(e.code!==rg.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const JS=n=>{if(Qo===void 0||n===sg.None||n===void 0)return null;const e=Qo.querySelector("ion-app");return e!=null?e:Qo.body},rw=n=>{const e=JS(n);return e===null?0:e.clientHeight},Q_=async n=>{let e,t,i,r;const s=async()=>{const u=await YS.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{r===void 0&&(r=rw(d)),i=!0,o(i,d)},t=()=>{i=!1,o(i,d)},yt==null||yt.addEventListener("keyboardWillShow",e),yt==null||yt.addEventListener("keyboardWillHide",t)},o=(u,d)=>{n&&n(u,a(d))},a=u=>{if(r===0||r===rw(u))return;const d=JS(u);if(d!==null)return new Promise(h=>{const p=()=>{d.clientHeight===r&&(g.disconnect(),h())},g=new ResizeObserver(p);g.observe(d)})},l=()=>{yt==null||yt.removeEventListener("keyboardWillShow",e),yt==null||yt.removeEventListener("keyboardWillHide",t),e=t=void 0},c=()=>i;return await s(),{init:s,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const G_=":host{-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;display:block;-ms-flex:1;flex:1}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}",K_=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.fixed=!1}render(){const e=Pe(this);return V(Ke,{class:{[e]:!0,"grid-fixed":this.fixed}},V("slot",null))}static get style(){return G_}},[1,"ion-grid",{fixed:[4]}]);function Y_(){if(typeof customElements>"u")return;["ion-grid"].forEach(e=>{switch(e){case"ion-grid":customElements.get(e)||customElements.define(e,K_);break}})}const J_=Y_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const X_="all 0.2s ease-in-out",sw=n=>{const e=document.querySelector("".concat(n,".ion-cloned-element"));if(e!==null)return e;const t=document.createElement(n);return t.classList.add("ion-cloned-element"),t.style.setProperty("display","none"),document.body.appendChild(t),t},ow=n=>{if(!n)return;const e=n.querySelectorAll("ion-toolbar");return{el:n,toolbars:Array.from(e).map(t=>{const i=t.querySelector("ion-title");return{el:t,background:t.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(t.querySelectorAll("ion-buttons"))}})}},Z_=(n,e,t)=>{Yl(()=>{const i=n.scrollTop,r=Nn(1,1+-i/500,1.1);t.querySelector("ion-refresher.refresher-native")===null&&yi(()=>{nD(e.toolbars,r)})})},eb=(n,e)=>{n.collapse!=="fade"&&(e===void 0?n.style.removeProperty("--opacity-scale"):n.style.setProperty("--opacity-scale",e.toString()))},eD=(n,e,t)=>{if(!n[0].isIntersecting)return;const i=n[0].intersectionRatio>.9||t<=0?0:(1-n[0].intersectionRatio)*100/75;eb(e.el,i===1?void 0:i)},tD=(n,e,t,i)=>{yi(()=>{const r=i.scrollTop;eD(n,e,r);const s=n[0],o=s.intersectionRect,a=o.width*o.height,l=s.rootBounds.width*s.rootBounds.height,c=a===0&&l===0,u=Math.abs(o.left-s.boundingClientRect.left),d=Math.abs(o.right-s.boundingClientRect.right),h=a>0&&(u>=5||d>=5);c||h||(s.isIntersecting?(fl(e,!1),fl(t)):(o.x===0&&o.y===0||o.width!==0&&o.height!==0)&&r>0&&(fl(e),fl(t,!1),eb(e.el)))})},fl=(n,e=!0)=>{const t=n.el;e?(t.classList.remove("header-collapse-condense-inactive"),t.removeAttribute("aria-hidden")):(t.classList.add("header-collapse-condense-inactive"),t.setAttribute("aria-hidden","true"))},nD=(n=[],e=1,t=!1)=>{n.forEach(i=>{const r=i.ionTitleEl,s=i.innerTitleEl;!r||r.size!=="large"||(s.style.transition=t?X_:"",s.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))})},aw=(n,e,t)=>{Yl(()=>{const i=n.scrollTop,r=e.clientHeight,s=t?t.clientHeight:0;if(t!==null&&i<s){e.style.setProperty("--opacity-scale","0"),n.style.setProperty("clip-path","inset(".concat(r,"px 0px 0px 0px)"));return}const o=i-s,l=Nn(0,o/10,1);yi(()=>{n.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},iD="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:1px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}",rD="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",sD=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,t)=>{const i=this.scrollEl=await iw(e);this.contentScrollCallback=()=>{aw(this.scrollEl,this.el,t)},i.addEventListener("scroll",this.contentScrollCallback),aw(this.scrollEl,this.el,t)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=oo(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if(Pe(this)!=="ios")return;const{collapse:t}=this,i=t==="condense",r=t==="fade";if(this.destroyCollapsibleHeader(),i){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?tg(s):null;yi(()=>{const a=sw("ion-title");a.size="large",sw("ion-back-button")}),await this.setupCondenseHeader(o,s)}else if(r){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?tg(s):null;if(!o){ng(this.el);return}const a=o.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(o,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,t){if(!e||!t){ng(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await iw(e);const i=t.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const r=ow(this.collapsibleMainHeader),s=ow(this.el);if(!r||!s)return;fl(r,!1),eb(r.el,0);const o=a=>{tD(a,r,s,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(o,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(s.toolbars[s.toolbars.length-1].el),this.contentScrollCallback=()=>{Z_(this.scrollEl,s,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),yi(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:t}=this,i=Pe(this),r=this.collapse||"none",s=Gt("ion-menu",this.el)?"none":"banner";return V(Ke,Object.assign({role:s,class:{[i]:!0,["header-".concat(i)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(r)]:!0,["header-translucent-".concat(i)]:this.translucent}},t),i==="ios"&&e&&V("div",{class:"header-background"}),V("slot",null))}get el(){return this}static get style(){return{ios:iD,md:rD}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function oD(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,sD);break}})}const aD=oD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lD=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",cD=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=Ne(this,"ionImgWillLoad",7),this.ionImgDidLoad=Ne(this,"ionImgDidLoad",7),this.ionError=Ne(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=va(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:t,onLoad:i,loadError:r,inheritedAttributes:s}=this,{draggable:o}=s;return V(Ke,{class:Pe(this)},V("img",{decoding:"async",src:e,alt:t,onLoad:i,onError:r,part:"image",draggable:uD(o)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return lD}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]}]),uD=n=>{switch(n){case"true":return!0;case"false":return!1;default:return}};function dD(){if(typeof customElements>"u")return;["ion-img"].forEach(e=>{switch(e){case"ion-img":customElements.get(e)||customElements.define(e,cD);break}})}const hD=dD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pD={bubbles:{dur:1e3,circles:9,fn:(n,e,t)=>{const i="".concat(n*e/t-n,"ms"),r=2*Math.PI*e/t;return{r:5,style:{top:"".concat(32*Math.sin(r),"%"),left:"".concat(32*Math.cos(r),"%"),"animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(n,e,t)=>{const i=e/t,r="".concat(n*i-n,"ms"),s=2*Math.PI*i;return{r:5,style:{top:"".concat(32*Math.sin(s),"%"),left:"".concat(32*Math.cos(s),"%"),"animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(n,e)=>{const t=-(110*e)+"ms";return{r:6,style:{left:"".concat(32-32*e,"%"),"animation-delay":t}}}},lines:{dur:1e3,lines:8,fn:(n,e,t)=>{const i="rotate(".concat(360/t*e+(e<t/2?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:14,y2:26,style:{transform:i,"animation-delay":r}}}},"lines-small":{dur:1e3,lines:8,fn:(n,e,t)=>{const i="rotate(".concat(360/t*e+(e<t/2?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}},"lines-sharp":{dur:1e3,lines:12,fn:(n,e,t)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:17,y2:29,style:{transform:i,"animation-delay":r}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(n,e,t)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}}},lw=pD,fD=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",mD=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||Ue.get("spinner"),t=Pe(this);return e||(t==="ios"?"lines":"circular")}render(){var e;const t=this,i=Pe(t),r=t.getName(),s=(e=lw[r])!==null&&e!==void 0?e:lw.lines,o=typeof t.duration=="number"&&t.duration>10?t.duration:s.dur,a=[];if(s.circles!==void 0)for(let l=0;l<s.circles;l++)a.push(gD(s,o,l,s.circles));else if(s.lines!==void 0)for(let l=0;l<s.lines;l++)a.push(yD(s,o,l,s.lines));return V(Ke,{class:fn(t.color,{[i]:!0,["spinner-".concat(r)]:!0,"spinner-paused":t.paused||Ue.getBoolean("_testing")}),role:"progressbar",style:s.elmDuration?{animationDuration:o+"ms"}:{}},a)}static get style(){return fD}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),gD=(n,e,t,i)=>{const r=n.fn(e,t,i);return r.style["animation-duration"]=e+"ms",V("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},V("circle",{transform:r.transform||"translate(32,32)",cx:r.cx,cy:r.cy,r:r.r,style:n.elmDuration?{animationDuration:e+"ms"}:{}}))},yD=(n,e,t,i)=>{const r=n.fn(e,t,i);return r.style["animation-duration"]=e+"ms",V("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},V("line",{transform:"translate(32,32)",y1:r.y1,y2:r.y2}))};function bD(){if(typeof customElements>"u")return;["ion-spinner"].forEach(e=>{switch(e){case"ion-spinner":customElements.get(e)||customElements.define(e,mD);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vD=(n,e,t)=>{let i;const r=()=>!(e()===void 0||n.label!==void 0||t()===null),s=()=>{r()&&Ft(()=>{o()})},o=()=>{const l=e();if(l===void 0)return;if(!r()){l.style.removeProperty("width");return}const c=t().scrollWidth;if(c===0&&l.offsetParent===null&&yt!==void 0&&"IntersectionObserver"in yt){if(i!==void 0)return;const u=i=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(o(),u.disconnect(),i=void 0)},{threshold:.01,root:n});u.observe(l);return}l.style.setProperty("width","".concat(c*.75,"px"))};return{calculateNotchWidth:s,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wD=(n,e,t)=>{let i,r;yt!==void 0&&"MutationObserver"in yt&&(i=new MutationObserver(l=>{for(const c of l)for(const u of c.addedNodes)if(u.nodeType===Node.ELEMENT_NODE&&u.slot===e){t(),Ft(()=>s(u));return}}),i.observe(n,{childList:!0}));const s=l=>{var c;r&&(r.disconnect(),r=void 0),r=new MutationObserver(u=>{t();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&a()}),r.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},o=()=>{i&&(i.disconnect(),i=void 0),a()},a=()=>{r&&(r.disconnect(),r=void 0)};return{destroy:o}},ED=(n,e,t)=>{const i=n==null?0:n.toString().length,r=xD(i,e);if(t===void 0)return r;try{return t(i,e)}catch(s){return IS("Exception in provided `counterFormatter`.",s),r}},xD=(n,e)=>"".concat(n," / ").concat(e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TD=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-ios-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-ios-h .native-input.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-ios-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-ios-h{--padding-start:0}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.legacy-input.ion-color.sc-ion-input-ios-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{left:0}[dir=rtl].sc-ion-input-ios-h .cloned-input.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-ios .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-ios:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.legacy-input.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.has-focus.sc-ion-input-ios-h{pointer-events:none}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h a.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h button.sc-ion-input-ios{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-ios-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-ios-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl),.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-focus.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));font-size:inherit}.legacy-input.sc-ion-input-ios-h{--padding-top:10px;--padding-end:8px;--padding-bottom:10px;--padding-start:0}.item-label-stacked.sc-ion-input-ios-h,.item-label-stacked .sc-ion-input-ios-h,.item-label-floating.sc-ion-input-ios-h,.item-label-floating .sc-ion-input-ios-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0px}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.sc-ion-input-ios-h:not(.legacy-input){min-height:44px}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.legacy-input.sc-ion-input-ios-h .native-input[disabled].sc-ion-input-ios,.input-disabled.sc-ion-input-ios-h{opacity:0.3}",SD=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-md-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-md-h .native-input.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-md-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-md-h{--padding-start:0}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.legacy-input.ion-color.sc-ion-input-md-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .cloned-input.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-md:disabled{opacity:1}.legacy-input.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.has-focus.sc-ion-input-md-h{pointer-events:none}.has-focus.sc-ion-input-md-h input.sc-ion-input-md,.has-focus.sc-ion-input-md-h a.sc-ion-input-md,.has-focus.sc-ion-input-md-h button.sc-ion-input-md{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-md-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-md-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, #f2f2f2);--border-color:var(--ion-color-step-500, gray);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, #e6e6e6);--border-color:var(--ion-color-step-750, #404040)}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, #d9d9d9);--border-color:var(--ion-color-step-750, #404040)}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl].input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}}.input-fill-solid.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, #b3b3b3);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, #404040)}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:2px;--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md:dir(rtl){border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px;-ms-flex-positive:1;flex-grow:1}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));font-size:inherit}.legacy-input.sc-ion-input-md-h{--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:8px}.item-label-stacked.sc-ion-input-md-h,.item-label-stacked .sc-ion-input-md-h,.item-label-floating.sc-ion-input-md-h,.item-label-floating .sc-ion-input-md-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.legacy-input.sc-ion-input-md-h .native-input[disabled].sc-ion-input-md,.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.sc-ion-input-md-h:not(.legacy-input){min-height:56px}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:2px;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}@supports (inset-inline-start: 0){.input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}@supports (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl].in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}",CD=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.ionInput=Ne(this,"ionInput",7),this.ionChange=Ne(this,"ionChange",7),this.ionBlur=Ne(this,"ionBlur",7),this.ionFocus=Ne(this,"ionFocus",7),this.ionStyle=Ne(this,"ionStyle",7),this.inputId="ion-input-".concat(AD++),this.inheritedAttributes={},this.isComposing=!1,this.hasLoggedDeprecationWarning=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const t=e.target;t&&(this.value=t.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.emitStyle(),this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.emitStyle(),this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.accept=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.legacy=void 0,this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.size=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:i}=this;this.ionInput=t===void 0?i!=null?i:e:hS(e,t)}disabledChanged(){this.emitStyle()}placeholderChanged(){this.emitStyle()}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&!this.isComposing&&(e.value=t),this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},oo(this.el)),va(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:e}=this;this.legacyFormController=VS(e),this.slotMutationController=wD(e,"label",()=>ds(this)),this.notchController=vD(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.emitStyle(),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}getInputElement(){return Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,i=t==null?t:t.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:t}=this,i=t==null?t:t.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:t}=this;return t===void 0?e==="password":t}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,input:!0,"has-placeholder":this.placeholder!==void 0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"interactive-disabled":this.disabled})}checkClearOnEdit(e){this.shouldClearOnEdit()&&(!this.didInputClearOnEdit&&this.hasValue()&&e.key!=="Enter"&&e.key!=="Tab"&&(this.value="",this.emitInputChange(e)),this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:t}=this;return[V("div",{class:"helper-text"},e),V("div",{class:"error-text"},t)]}renderCounter(){const{counter:e,maxlength:t,counterFormatter:i,value:r}=this;if(!(e!==!0||t===void 0))return V("div",{class:"counter"},ED(r,t,i))}renderBottomContent(){const{counter:e,helperText:t,errorText:i,maxlength:r}=this;if(!(!(t||i)&&!(e===!0&&r!==void 0)))return V("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return V("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?V("slot",{name:"label"}):V("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return Pe(this)==="md"&&this.fill==="outline"?[V("div",{class:"input-outline-container"},V("div",{class:"input-outline-start"}),V("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},V("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),V("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}renderInput(){const{disabled:e,fill:t,readonly:i,shape:r,inputId:s,labelPlacement:o}=this,a=Pe(this),l=this.getValue(),c=Gt("ion-item",this.el),u=a==="md"&&t!=="outline"&&!c;return V(Ke,{class:fn(this.color,{[a]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,["input-fill-".concat(t)]:t!==void 0,["input-shape-".concat(r)]:r!==void 0,["input-label-placement-".concat(o)]:!0,"in-item":c,"in-item-color":Gt("ion-item.ion-color",this.el),"input-disabled":e})},V("label",{class:"input-wrapper"},this.renderLabelContainer(),V("div",{class:"native-wrapper"},V("input",Object.assign({class:"native-input",ref:d=>this.nativeInput=d,id:s,disabled:e,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:l,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd},this.inheritedAttributes)),this.clearInput&&!i&&!e&&V("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:d=>{d.preventDefault()},onClick:this.clearTextInput},V("ion-icon",{"aria-hidden":"true",icon:a==="ios"?Xv:Zv}))),u&&V("div",{class:"input-highlight"})),this.renderBottomContent())}renderLegacyInput(){this.hasLoggedDeprecationWarning||(Ut('ion-input now requires providing a label with either the "label" property or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the "label" property or the "aria-label" attribute.\n\nExample: <ion-input label="Email"></ion-input>\nExample with aria-label: <ion-input aria-label="Email"></ion-input>\n\nFor inputs that do not render the label immediately next to the input, developers may continue to use "ion-label" but must manually associate the label with the input by using "aria-labelledby".\n\nDevelopers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.',this.el),this.legacy&&Ut('ion-input is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.\n\nDevelopers can dismiss this warning by removing their usage of the "legacy" property and using the new input syntax.',this.el),this.hasLoggedDeprecationWarning=!0);const e=Pe(this),t=this.getValue(),i=this.inputId+"-lbl",r=Hy(this.el);return r&&(r.id=i),V(Ke,{"aria-disabled":this.disabled?"true":null,class:fn(this.color,{[e]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"legacy-input":!0,"in-item-color":Gt("ion-item.ion-color",this.el)})},V("input",Object.assign({class:"native-input",ref:s=>this.nativeInput=s,"aria-labelledby":r?r.id:null,disabled:this.disabled,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:t,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown},this.inheritedAttributes)),this.clearInput&&!this.readonly&&!this.disabled&&V("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:s=>{s.preventDefault()},onClick:this.clearTextInput},V("ion-icon",{"aria-hidden":"true",icon:e==="ios"?Xv:Zv})))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyInput():this.renderInput()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],disabled:["disabledChanged"],placeholder:["placeholderChanged"],value:["valueChanged"]}}static get style(){return{ios:TD,md:SD}}},[38,"ion-input",{color:[513],accept:[1],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[4],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],legacy:[4],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[4],required:[4],shape:[1],spellcheck:[4],step:[1],size:[2],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]}]);let AD=0;function ND(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,CD);break;case"ion-icon":customElements.get(e)||Yy();break}})}const kD=ND;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const RD=j_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const PD="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:last-child{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",$D="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}@supports (inset-inline-start: 0){.list-md>.input:last-child::after{inset-inline-start:0}}@supports not (inset-inline-start: 0){.list-md>.input:last-child::after{left:0}:host-context([dir=rtl]) .list-md>.input:last-child::after{left:unset;right:unset;right:0}[dir=rtl] .list-md>.input:last-child::after{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.list-md>.input:last-child::after:dir(rtl){left:unset;right:unset;right:0}}}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:first-child{--border-radius:2px 2px 0 0}.list-md.list-inset ion-item:last-child{--border-radius:0 0 2px, 2px;--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",MD=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=Pe(this),{lines:t,inset:i}=this;return V(Ke,{role:"list",class:{[e]:!0,["list-".concat(e)]:!0,"list-inset":i,["list-lines-".concat(t)]:t!==void 0,["list-".concat(e,"-lines-").concat(t)]:t!==void 0}})}get el(){return this}static get style(){return{ios:PD,md:$D}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function ID(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,MD);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const OD=ID,_D=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start) .menu-inner:dir(rtl){left:unset;right:unset;left:auto;right:0}}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end) .menu-inner:dir(rtl){left:unset;right:unset;left:0;right:auto}}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none !important;transform:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}:host(.menu-pane-visible) ion-backdrop{display:hidden !important;}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",DD=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start) .menu-inner:dir(rtl){left:unset;right:unset;left:auto;right:0}}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end) .menu-inner:dir(rtl){left:unset;right:unset;left:0;right:auto}}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none !important;transform:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}:host(.menu-pane-visible) ion-backdrop{display:hidden !important;}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",LD="cubic-bezier(0.32,0.72,0,1)",qD="cubic-bezier(0.0,0.0,0.2,1)",BD="cubic-bezier(1, 0, 0.68, 0.28)",FD="cubic-bezier(0.4, 0, 0.6, 1)",cw='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',UD=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=Ne(this,"ionWillOpen",7),this.ionWillClose=Ne(this,"ionWillClose",7),this.ionDidOpen=Ne(this,"ionDidOpen",7),this.ionDidClose=Ne(this,"ionDidClose",7),this.ionMenuChange=Ne(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=Hh.createBlocker({disableScroll:!0}),this.didLoad=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const t=Ld(document);t&&!t.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,t){const i=this.contentEl;i&&(t!==void 0&&i.classList.remove("menu-content-".concat(t)),i.classList.add("menu-content-".concat(e)),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=Uv(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=Ue.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){console.error('Menu: must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&console.error('Menu: "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),fr._register(this),this.menuChanged(),this.gesture=(await en(()=>Promise.resolve().then(()=>xS),void 0)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:t=>this.canStart(t),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=oo(this.el)}async componentDidLoad(){this.didLoad=!0,this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),fr._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){this.isPaneVisible=e.detail.isPane(this.el),this.updateState()}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close())}onKeydown(e){e.key==="Escape"&&this.close()}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0){return this.setOpen(!1,e)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,t=!0){return fr._setOpen(this,e,t)}focusFirstDescendant(){const{el:e}=this,t=e.querySelector(cw);t?t.focus():e.focus()}focusLastDescendant(){const{el:e}=this,t=Array.from(e.querySelectorAll(cw)),i=t.length>0?t[t.length-1]:null;i?i.focus():e.focus()}trapKeyboardFocus(e,t){const i=e.target;i&&(this.el.contains(i)?this.lastFocus=i:(this.focusFirstDescendant(),this.lastFocus===t.activeElement&&this.focusLastDescendant()))}async _setOpen(e,t=!0){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e),await this.loadAnimation(),await this.startAnimation(e,t),this.afterAnimation(e),!0)}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,t=Uv(this.side);e===this.width&&this.animation!==void 0&&t===this.isEndSide||(this.width=e,this.isEndSide=t,this.animation&&(this.animation.destroy(),this.animation=void 0),this.animation=await fr._createAnimation(this.type,this),Ue.getBoolean("animated",!0)||this.animation.duration(0),this.animation.fill("both"))}async startAnimation(e,t){const i=!e,r=Pe(this),s=r==="ios"?LD:qD,o=r==="ios"?BD:FD,a=this.animation.direction(i?"reverse":"normal").easing(i?o:s).onFinish(()=>{a.getDirection()==="reverse"&&a.direction("normal")});t?await a.play():a.play({sync:!0})}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:fr._getOpenSync()?!1:jD(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){Rt(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){Rt(!1,"isAnimating has to be true");return}const i=uw(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-i:i)}onEnd(e){if(!this.isAnimating||!this.animation){Rt(!1,"isAnimating has to be true");return}const t=this._isOpen,i=this.isEndSide,r=uw(e.deltaX,t,i),s=this.width,o=r/s,a=e.velocityX,l=s/2,c=a>=0&&(a>.2||e.deltaX>l),u=a<=0&&(a<-.2||e.deltaX<-l),d=t?i?c:u:i?u:c;let h=!t&&d;t&&!d&&(h=!0),this.lastOnEnd=e.currentTime;let p=d?.001:-.001;const g=o<0?.01:o;p+=Ys([0,0],[.4,0],[.6,1],[1,1],Nn(0,g,.9999))[0]||0;const m=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(h),{oneTimeCallback:!0}).progressEnd(m?1:0,this._isOpen?1-p:p,300)}beforeAnimation(e){Rt(!this.isAnimating,"_before() should not be called while animating"),this.el.classList.add(dw),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(hw),this.contentEl&&(this.contentEl.classList.add(pw),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit()}afterAnimation(e){var t;Rt(this.isAnimating,"_before() should be called while animating"),this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(this.ionDidOpen.emit(),((t=document.activeElement)===null||t===void 0?void 0:t.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.classList.remove(dw),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(pw),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(hw),this.animation&&this.animation.stop(),this.ionDidClose.emit(),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),!e&&this._isOpen&&this.forceClosing(),Qo!=null&&Qo.contains(this.el)&&(this.disabled||fr._setActiveMenu(this)),Rt(!this.isAnimating,"can not be animating")}forceClosing(){Rt(this._isOpen,"menu cannot be closed"),this.isAnimating=!0,this.animation.direction("reverse").play({sync:!0}),this.afterAnimation(!1)}render(){const{type:e,disabled:t,isPaneVisible:i,inheritedAttributes:r,side:s}=this,o=Pe(this);return V(Ke,{role:"navigation","aria-label":r["aria-label"]||"menu",class:{[o]:!0,["menu-type-".concat(e)]:!0,"menu-enabled":!t,["menu-side-".concat(s)]:!0,"menu-pane-visible":i}},V("div",{class:"menu-inner",part:"container",ref:a=>this.menuInnerEl=a},V("slot",null)),V("ion-backdrop",{ref:a=>this.backdropEl=a,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:_D,md:DD}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]]),uw=(n,e,t)=>Math.max(0,e!==t?-n:n),jD=(n,e,t,i)=>t?e>=n.innerWidth-i:e<=i,dw="show-menu",hw="show-backdrop",pw="menu-content-open";function zD(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,UD);break;case"ion-backdrop":customElements.get(e)||Jy();break}})}const VD=zD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const XS=async n=>{const e=await fr.get(n);return!!(e&&await e.isActive())};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HD=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--padding-start:5px;--padding-end:5px;height:32px;font-size:31px}:host(.ion-activated){opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',WD=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:.04;--border-radius:50%;--color:initial;--padding-start:8px;--padding-end:8px;width:48px;height:48px;font-size:24px}:host(.ion-color.ion-focused)::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',QD=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async()=>fr.toggle(this.menu),this.visible=!1,this.color=void 0,this.disabled=!1,this.menu=void 0,this.autoHide=!0,this.type="button"}componentWillLoad(){this.inheritedAttributes=oo(this.el)}componentDidLoad(){this.visibilityChanged()}async visibilityChanged(){this.visible=await XS(this.menu)}render(){const{color:e,disabled:t,inheritedAttributes:i}=this,r=Pe(this),s=Ue.get("menuIcon",r==="ios"?_O:DO),o=this.autoHide&&!this.visible,a={type:this.type},l=i["aria-label"]||"menu";return V(Ke,{onClick:this.onClick,"aria-disabled":t?"true":null,"aria-hidden":o?"true":null,class:fn(e,{[r]:!0,button:!0,"menu-button-hidden":o,"menu-button-disabled":t,"in-toolbar":Gt("ion-toolbar",this.el),"in-toolbar-color":Gt("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0})},V("button",Object.assign({},a,{disabled:t,class:"button-native",part:"native","aria-label":l}),V("span",{class:"button-inner"},V("slot",null,V("ion-icon",{part:"icon",icon:s,mode:r,lazy:!1,"aria-hidden":"true"}))),r==="md"&&V("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:HD,md:WD}}},[33,"ion-menu-button",{color:[513],disabled:[4],menu:[1],autoHide:[4,"auto-hide"],type:[1],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function GD(){if(typeof customElements>"u")return;["ion-menu-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-menu-button":customElements.get(e)||customElements.define(e,QD);break;case"ion-icon":customElements.get(e)||Yy();break;case"ion-ripple-effect":customElements.get(e)||Gh();break}})}const KD=GD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const YD=":host(.menu-toggle-hidden){display:none}",JD=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>fr.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await XS(this.menu)}render(){const e=Pe(this),t=this.autoHide&&!this.visible;return V(Ke,{onClick:this.onClick,"aria-hidden":t?"true":null,class:{[e]:!0,"menu-toggle-hidden":t}},V("slot",null))}static get style(){return YD}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function XD(){if(typeof customElements>"u")return;["ion-menu-toggle"].forEach(e=>{switch(e){case"ion-menu-toggle":customElements.get(e)||customElements.define(e,JD);break}})}const ZD=XD,ZS=1,eC=2,Fd=3;class og{constructor(e,t){this.component=e,this.params=t,this.state=ZS}async init(e){if(this.state=eC,!this.element){const t=this.component;this.element=await Ky(this.delegate,e,t,["ion-page","ion-page-invisible"],this.params)}}_destroy(){Rt(this.state!==Fd,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=Fd}}const fw=(n,e,t)=>!n||n.component!==e?!1:pS(n.params,t),mw=(n,e)=>n?n instanceof og?n:new og(n,e):null,eL=n=>n.map(e=>e instanceof og?e:"component"in e?mw(e.component,e.componentProps===null?void 0:e.componentProps):mw(e,void 0)).filter(e=>e!==null),tL=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}",nL=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Ne(this,"ionNavWillLoad",7),this.ionNavWillChange=Ne(this,"ionNavWillChange",3),this.ionNavDidChange=Ne(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=Pe(this);this.swipeGesture=Ue.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await en(()=>import("./swipe-back-325fa612.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)mr(e.element,hf),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,t,i,r){return this.insert(-1,e,t,i,r)}insert(e,t,i,r,s){return this.insertPages(e,[{component:t,componentProps:i}],r,s)}insertPages(e,t,i,r){return this.queueTrns({insertStart:e,insertViews:t,opts:i},r)}pop(e,t){return this.removeIndex(-1,1,e,t)}popTo(e,t,i){const r={removeStart:-1,removeCount:-1,opts:t};return typeof e=="object"&&e.component?(r.removeView=e,r.removeStart=1):typeof e=="number"&&(r.removeStart=e+1),this.queueTrns(r,i)}popToRoot(e,t){return this.removeIndex(1,-1,e,t)}removeIndex(e,t=1,i,r){return this.queueTrns({removeStart:e,removeCount:t,opts:i},r)}setRoot(e,t,i,r){return this.setPages([{component:e,componentProps:t}],i,r)}setPages(e,t,i){return t!=null||(t={}),t.animated!==!0&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},i)}setRouteId(e,t,i,r){const s=this.getActiveSync();if(fw(s,e,t))return Promise.resolve({changed:!1,element:s.element});let o;const a=new Promise(u=>o=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(p=>d=p);return o({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(i==="root")l=this.setRoot(e,t,c);else{const u=this.views.find(d=>fw(d,e,t));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:r})):i==="forward"?l=this.push(e,t,Object.assign(Object.assign({},c),{animationBuilder:r})):i==="back"&&(l=this.setRoot(e,t,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:r})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const t=this.views,i=t.indexOf(e);return i>0?t[i-1]:void 0}async queueTrns(e,t){var i,r;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const s=new Promise((o,a)=>{e.resolve=o,e.reject=a});if(e.done=t,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const o=document.querySelector("ion-router");if(o){const a=await o.canTransition();if(a===!1)return!1;if(typeof a=="string")return o.push(a,e.opts.direction||"back"),!1}}return((r=e.insertViews)===null||r===void 0?void 0:r.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),s}success(e,t){if(this.destroyed){this.fireError("nav controller was destroyed",t);return}if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),t.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const r=e.direction==="back"?"back":"forward";i.navChanged(r)}}}failed(e,t){if(this.destroyed){this.fireError("nav controller was destroyed",t);return}this.transInstr.length=0,this.fireError(e,t)}fireError(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const t=this.getActiveSync(),i=this.getEnteringView(e,t);if(!t&&!i)throw new Error("no views in the stack to be removed");i&&i.state===ZS&&await i.init(this.el),this.postViewInit(i,t,e);const r=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==t;r&&e.opts&&t&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),t.animationBuilder=e.opts.animationBuilder);let s;r?s=await this.transition(i,t,e):s={hasCompleted:!0,requiresTransition:!1},this.success(s,e),this.ionNavDidChange.emit()}catch(t){this.failed(t,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var t,i,r;const s=this.views.length;if((t=e.opts)!==null&&t!==void 0||(e.opts={}),(i=(r=e.opts).delegate)!==null&&i!==void 0||(r.delegate=this.delegate),e.removeView!==void 0){Rt(e.removeStart!==void 0,"removeView needs removeStart"),Rt(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=s-1),e.removeCount<0&&(e.removeCount=s-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===s),e.insertViews&&((e.insertStart<0||e.insertStart>s)&&(e.insertStart=s),e.enteringRequiresTransition=e.insertStart===s);const o=e.insertViews;if(!o)return;Rt(o.length>0,"length can not be zero");const a=eL(o);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===Fd)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,t){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const r=e.removeStart;if(r!==void 0){const s=this.views,o=r+e.removeCount;for(let a=s.length-1;a>=0;a--){const l=s[a];if((a<r||a>=o)&&l!==t)return l}}}postViewInit(e,t,i){var r,s,o;Rt(t||e,"Both leavingView and enteringView are null"),Rt(i.resolve,"resolve must be valid"),Rt(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:c,removeCount:u}=i;let d;if(c!==void 0&&u!==void 0){Rt(c>=0,"removeStart can not be negative"),Rt(u>=0,"removeCount can not be negative"),d=[];for(let p=c;p<c+u;p++){const g=this.views[p];g!==void 0&&g!==e&&g!==t&&d.push(g)}(r=a.direction)!==null&&r!==void 0||(a.direction="back")}const h=this.views.length+((s=l==null?void 0:l.length)!==null&&s!==void 0?s:0)-(u!=null?u:0);if(Rt(h>=0,"final balance can not be negative"),h===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let p=i.insertStart;for(const g of l)this.insertViewAt(g,p),p++;i.enteringRequiresTransition&&((o=a.direction)!==null&&o!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const p of d)mr(p.element,fS),mr(p.element,mS),mr(p.element,hf);for(const p of d)this.destroyView(p)}}async transition(e,t,i){const r=i.opts,s=r.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,o=Pe(this),a=e.element,l=t&&t.element,c=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:s,animated:this.animated&&Ue.getBoolean("animated",!0),enteringEl:a,leavingEl:l},r),{animationBuilder:r.animationBuilder||this.animation||Ue.get("navAnimation")}),{hasCompleted:u}=await gS(c);return this.transitionFinish(u,e,t,r)}transitionFinish(e,t,i,r){const s=e?t:i;return s&&this.unmountInactiveViews(s),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:i,direction:r.direction}}insertViewAt(e,t){const i=this.views,r=i.indexOf(e);r>-1?(Rt(e.nav===this,"view is not part of the nav"),i.splice(r,1),i.splice(t,0,e)):(Rt(!e.nav,"nav is used"),e.nav=this,i.splice(t,0,e))}removeView(e){Rt(e.state===eC||e.state===Fd,"view state should be loaded or destroyed");const t=this.views,i=t.indexOf(e);Rt(i>-1,"view must be part of the stack"),i>=0&&t.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const t=this.views,i=t.indexOf(e);for(let r=t.length-1;r>=0;r--){const s=t[r],o=s.element;o&&(r>i?(mr(o,hf),this.destroyView(s)):r<i&&Ym(o,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,t,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=Ys([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=Ys([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,r,i)}else this.gestureOrAnimationInProgress=!1}render(){return V("slot",null)}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return tL}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]}]);function iL(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,nL);break}})}const rL=iL;function sL(n){return n%1===0?0:n.toString().split(".")[1].length}function oL(n,...e){const t=Math.max(...e.map(i=>sL(i)));return Number(n.toFixed(t))}const aL=":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}@supports (inset-inline-start: 0){.range-knob-handle{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob-handle{left:0}:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}[dir=rtl] .range-knob-handle{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}@supports (inset-inline-start: 0){.range-bar-container{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-bar-container{left:0}:host-context([dir=rtl]) .range-bar-container{left:unset;right:unset;right:0}[dir=rtl] .range-bar-container{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}@supports (inset-inline-start: 0){.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}}@supports not (inset-inline-start: 0){.range-knob{left:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}}}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host{--knob-border-radius:50%;--knob-background:#ffffff;--knob-box-shadow:0px 0.5px 4px rgba(0, 0, 0, 0.12), 0px 6px 13px rgba(0, 0, 0, 0.12);--knob-size:26px;--bar-height:4px;--bar-background:var(--ion-color-step-900, #e6e6e6);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:2px;--height:42px}:host(.legacy-range){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:8px;padding-bottom:8px}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-tick-active{background:var(--ion-color-base)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin){padding-top:20px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-bar-active.has-ticks{border-radius:0;-webkit-margin-start:-2px;margin-inline-start:-2px;-webkit-margin-end:-2px;margin-inline-end:-2px}.range-tick{-webkit-margin-start:-2px;margin-inline-start:-2px;border-radius:0;position:absolute;top:17px;width:4px;height:8px;background:var(--ion-color-step-900, #e6e6e6);pointer-events:none}.range-tick-active{background:var(--bar-background-active)}.range-pin{-webkit-transform:translate3d(0,  28px,  0) scale(0.01);transform:translate3d(0,  28px,  0) scale(0.01);-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;display:inline-block;position:relative;top:-20px;min-width:28px;-webkit-transition:-webkit-transform 120ms ease;transition:-webkit-transform 120ms ease;transition:transform 120ms ease;transition:transform 120ms ease, -webkit-transform 120ms ease;background:transparent;color:var(--ion-text-color, #000);font-size:12px;text-align:center}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0,  0,  0) scale(1);transform:translate3d(0,  0,  0) scale(1)}:host(.range-disabled){opacity:0.3}",lL=':host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}@supports (inset-inline-start: 0){.range-knob-handle{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob-handle{left:0}:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}[dir=rtl] .range-knob-handle{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}@supports (inset-inline-start: 0){.range-bar-container{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-bar-container{left:0}:host-context([dir=rtl]) .range-bar-container{left:unset;right:unset;right:0}[dir=rtl] .range-bar-container{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}@supports (inset-inline-start: 0){.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}}@supports not (inset-inline-start: 0){.range-knob{left:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}}}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host{--knob-border-radius:50%;--knob-background:var(--bar-background-active);--knob-box-shadow:none;--knob-size:18px;--bar-height:2px;--bar-background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.26);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:0;--height:42px;--pin-background:var(--ion-color-primary, #3880ff);--pin-color:var(--ion-color-primary-contrast, #fff);font-size:12px}::slotted([slot=label]),.label-text{font-size:initial}:host(.legacy-range){-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:8px;padding-bottom:8px}:host(.ion-color) .range-bar{background:rgba(var(--ion-color-base-rgb), 0.26)}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-knob,:host(.ion-color) .range-knob::before,:host(.ion-color) .range-pin,:host(.ion-color) .range-pin::before,:host(.ion-color) .range-tick{background:var(--ion-color-base);color:var(--ion-color-contrast)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:14px;margin-inline-end:14px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:14px;margin-inline-start:14px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin){padding-top:28px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-knob{-webkit-transform:scale(0.67);transform:scale(0.67);-webkit-transition-duration:120ms;transition-duration:120ms;-webkit-transition-property:background-color, border, -webkit-transform;transition-property:background-color, border, -webkit-transform;transition-property:transform, background-color, border;transition-property:transform, background-color, border, -webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;z-index:2}.range-knob::before{border-radius:50%;position:absolute;width:var(--knob-size);height:var(--knob-size);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:0.267s cubic-bezier(0, 0, 0.58, 1);transition:0.267s cubic-bezier(0, 0, 0.58, 1);background:var(--knob-background);content:"";opacity:0.13;pointer-events:none}@supports (inset-inline-start: 0){.range-knob::before{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob::before{left:0}:host-context([dir=rtl]) .range-knob::before{left:unset;right:unset;right:0}[dir=rtl] .range-knob::before{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob::before:dir(rtl){left:unset;right:unset;right:0}}}.range-tick{position:absolute;top:calc((var(--height) - var(--bar-height)) / 2);width:var(--bar-height);height:var(--bar-height);background:var(--bar-background-active);z-index:1;pointer-events:none}.range-tick-active{background:transparent}.range-pin{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;border-radius:50%;-webkit-transform:translate3d(0,  0,  0) scale(0.01);transform:translate3d(0,  0,  0) scale(0.01);display:inline-block;position:relative;min-width:28px;height:28px;-webkit-transition:background 120ms ease, -webkit-transform 120ms ease;transition:background 120ms ease, -webkit-transform 120ms ease;transition:transform 120ms ease, background 120ms ease;transition:transform 120ms ease, background 120ms ease, -webkit-transform 120ms ease;background:var(--pin-background);color:var(--pin-color);text-align:center}.range-pin::before{top:3px;-webkit-margin-start:-13px;margin-inline-start:-13px;border-radius:50% 50% 50% 0;position:absolute;width:26px;height:26px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:background 120ms ease;transition:background 120ms ease;background:var(--pin-background);content:"";z-index:-1}@supports (inset-inline-start: 0){.range-pin::before{inset-inline-start:50%}}@supports not (inset-inline-start: 0){.range-pin::before{left:50%}:host-context([dir=rtl]) .range-pin::before{left:unset;right:unset;right:50%}[dir=rtl] .range-pin::before{left:unset;right:unset;right:50%}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset;right:unset;right:50%}}}:host-context([dir=rtl]) .range-pin::before{left:unset}[dir=rtl] .range-pin::before{left:unset}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset}}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0,  -24px,  0) scale(1);transform:translate3d(0,  -24px,  0) scale(1)}@media (any-hover: hover){.range-knob-handle:hover .range-knob:before{-webkit-transform:scale(2);transform:scale(2);opacity:0.13}}.range-knob-handle.ion-activated .range-knob:before,.range-knob-handle.ion-focused .range-knob:before,.range-knob-handle.range-knob-pressed .range-knob:before{-webkit-transform:scale(2);transform:scale(2)}.range-knob-handle.ion-focused .range-knob::before{opacity:0.13}.range-knob-handle.ion-activated .range-knob::before,.range-knob-handle.range-knob-pressed .range-knob::before{opacity:0.25}:host(:not(.range-has-pin)) .range-knob-pressed .range-knob,:host(:not(.range-has-pin)) .range-knob-handle.ion-focused .range-knob{-webkit-transform:scale(1);transform:scale(1)}:host(.range-disabled) .range-bar-active,:host(.range-disabled) .range-bar,:host(.range-disabled) .range-tick{background-color:var(--ion-color-step-250, #bfbfbf)}:host(.range-disabled) .range-knob{-webkit-transform:scale(0.55);transform:scale(0.55);outline:5px solid #fff;background-color:var(--ion-color-step-250, #bfbfbf)}:host(.range-disabled) .label-text-wrapper,:host(.range-disabled) ::slotted([slot=start]),:host(.range-disabled) ::slotted([slot=end]){opacity:0.38}',cL=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=Ne(this,"ionChange",7),this.ionInput=Ne(this,"ionInput",7),this.ionStyle=Ne(this,"ionStyle",7),this.ionFocus=Ne(this,"ionFocus",7),this.ionBlur=Ne(this,"ionBlur",7),this.ionKnobMoveStart=Ne(this,"ionKnobMoveStart",7),this.ionKnobMoveEnd=Ne(this,"ionKnobMoveEnd",7),this.rangeId="ion-r-".concat(uL++),this.didLoad=!1,this.noUpdate=!1,this.hasFocus=!1,this.inheritedAttributes={},this.contentEl=null,this.initialContentScrollY=!0,this.hasLoggedDeprecationWarning=!1,this.clampBounds=e=>Nn(this.min,e,this.max),this.ensureValueInBounds=e=>this.dualKnobs?{lower:this.clampBounds(e.lower),upper:this.clampBounds(e.upper)}:this.clampBounds(e),this.setupGesture=async()=>{const e=this.rangeSlider;e&&(this.gesture=(await en(()=>Promise.resolve().then(()=>xS),void 0)).createGesture({el:e,gestureName:"range",gesturePriority:100,threshold:0,onStart:t=>this.onStart(t),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.gesture.enable(!this.disabled))},this.handleKeyboard=(e,t)=>{const{ensureValueInBounds:i}=this;let r=this.step;r=r>0?r:1,r=r/(this.max-this.min),t||(r*=-1),e==="A"?this.ratioA=Nn(0,this.ratioA+r,1):this.ratioB=Nn(0,this.ratioB+r,1),this.ionKnobMoveStart.emit({value:i(this.value)}),this.updateValue(),this.emitValueChange(),this.ionKnobMoveEnd.emit({value:i(this.value)})},this.onBlur=()=>{this.hasFocus&&(this.hasFocus=!1,this.ionBlur.emit(),this.emitStyle())},this.onFocus=()=>{this.hasFocus||(this.hasFocus=!0,this.ionFocus.emit(),this.emitStyle())},this.ratioA=0,this.ratioB=0,this.pressedKnob=void 0,this.color=void 0,this.debounce=void 0,this.name=this.rangeId,this.label=void 0,this.dualKnobs=!1,this.min=0,this.max=100,this.pin=!1,this.pinFormatter=e=>Math.round(e),this.snaps=!1,this.step=1,this.ticks=!0,this.activeBarStart=void 0,this.disabled=!1,this.value=0,this.labelPlacement="start",this.legacy=void 0}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:i}=this;this.ionInput=t===void 0?i!=null?i:e:hS(e,t)}minChanged(){this.noUpdate||this.updateRatio()}maxChanged(){this.noUpdate||this.updateRatio()}activeBarStartChanged(){const{activeBarStart:e}=this;e!==void 0&&(e>this.max?(Ut("Range: The value of activeBarStart (".concat(e,") is greater than the max (").concat(this.max,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.max):e<this.min&&(Ut("Range: The value of activeBarStart (".concat(e,") is less than the min (").concat(this.min,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.min))}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled),this.emitStyle()}valueChanged(){this.noUpdate||this.updateRatio()}componentWillLoad(){this.el.hasAttribute("id")&&(this.rangeId=this.el.getAttribute("id")),this.inheritedAttributes=oo(this.el)}componentDidLoad(){this.originalIonInput=this.ionInput,this.setupGesture(),this.didLoad=!0}connectedCallback(){const{el:e}=this;this.legacyFormController=VS(e),this.updateRatio(),this.debounceChanged(),this.disabledChanged(),this.activeBarStartChanged(),this.didLoad&&this.setupGesture(),this.contentEl=GS(this.el)}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}getValue(){var e;const t=(e=this.value)!==null&&e!==void 0?e:0;return this.dualKnobs?typeof t=="object"?t:{lower:0,upper:t}:typeof t=="object"?t.upper:t}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,"interactive-disabled":this.disabled})}emitValueChange(){this.value=this.ensureValueInBounds(this.value),this.ionChange.emit({value:this.value})}onStart(e){const{contentEl:t}=this;t&&(this.initialContentScrollY=ig(t));const i=this.rect=this.rangeSlider.getBoundingClientRect(),r=e.currentX;let s=Nn(0,(r-i.left)/i.width,1);Gu(this.el)&&(s=1-s),this.pressedKnob=!this.dualKnobs||Math.abs(this.ratioA-s)<Math.abs(this.ratioB-s)?"A":"B",this.setFocus(this.pressedKnob),this.update(r),this.ionKnobMoveStart.emit({value:this.ensureValueInBounds(this.value)})}onMove(e){this.update(e.currentX)}onEnd(e){const{contentEl:t,initialContentScrollY:i}=this;t&&KS(t,i),this.update(e.currentX),this.pressedKnob=void 0,this.emitValueChange(),this.ionKnobMoveEnd.emit({value:this.ensureValueInBounds(this.value)})}update(e){const t=this.rect;let i=Nn(0,(e-t.left)/t.width,1);Gu(this.el)&&(i=1-i),this.snaps&&(i=mo(bf(i,this.min,this.max,this.step),this.min,this.max)),this.pressedKnob==="A"?this.ratioA=i:this.ratioB=i,this.updateValue()}get valA(){return bf(this.ratioA,this.min,this.max,this.step)}get valB(){return bf(this.ratioB,this.min,this.max,this.step)}get ratioLower(){if(this.dualKnobs)return Math.min(this.ratioA,this.ratioB);const{activeBarStart:e}=this;return e==null?0:mo(e,this.min,this.max)}get ratioUpper(){return this.dualKnobs?Math.max(this.ratioA,this.ratioB):this.ratioA}updateRatio(){const e=this.getValue(),{min:t,max:i}=this;this.dualKnobs?(this.ratioA=mo(e.lower,t,i),this.ratioB=mo(e.upper,t,i)):this.ratioA=mo(e,t,i)}updateValue(){this.noUpdate=!0;const{valA:e,valB:t}=this;this.value=this.dualKnobs?{lower:Math.min(e,t),upper:Math.max(e,t)}:e,this.ionInput.emit({value:this.value}),this.noUpdate=!1}setFocus(e){if(this.el.shadowRoot){const t=this.el.shadowRoot.querySelector(e==="A"?".range-knob-a":".range-knob-b");t&&t.focus()}}renderLegacyRange(){this.hasLoggedDeprecationWarning||(Ut('ion-range now requires providing a label with either the label slot or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the component or the "aria-label" attribute.\n\nExample: <ion-range><div slot="label">Volume</div></ion-range>\nExample with aria-label: <ion-range aria-label="Volume"></ion-range>\n\nDevelopers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.',this.el),this.legacy&&Ut('ion-range is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.\n\nDevelopers can dismiss this warning by removing their usage of the "legacy" property and using the new range syntax.',this.el),this.hasLoggedDeprecationWarning=!0);const{el:e,pressedKnob:t,disabled:i,pin:r,rangeId:s}=this,o=Pe(this);return Fv(!0,e,this.name,JSON.stringify(this.getValue()),i),V(Ke,{onFocusin:this.onFocus,onFocusout:this.onBlur,id:s,class:fn(this.color,{[o]:!0,"in-item":Gt("ion-item",e),"range-disabled":i,"range-pressed":t!==void 0,"range-has-pin":r,"legacy-range":!0})},V("slot",{name:"start"}),this.renderRangeSlider(),V("slot",{name:"end"}))}renderRange(){const{disabled:e,el:t,rangeId:i,pin:r,pressedKnob:s,labelPlacement:o,label:a}=this,l=Pe(this);return Fv(!0,t,this.name,JSON.stringify(this.getValue()),e),V(Ke,{onFocusin:this.onFocus,onFocusout:this.onBlur,id:i,class:fn(this.color,{[l]:!0,"in-item":Gt("ion-item",t),"range-disabled":e,"range-pressed":s!==void 0,"range-has-pin":r,["range-label-placement-".concat(o)]:!0})},V("label",{class:"range-wrapper",id:"range-label"},V("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},a!==void 0?V("div",{class:"label-text"},a):V("slot",{name:"label"})),V("div",{class:"native-wrapper"},V("slot",{name:"start"}),this.renderRangeSlider(),V("slot",{name:"end"}))))}get hasLabel(){return this.label!==void 0||this.el.querySelector('[slot="label"]')!==null}renderRangeSlider(){var e;const{min:t,max:i,step:r,el:s,handleKeyboard:o,pressedKnob:a,disabled:l,pin:c,ratioLower:u,ratioUpper:d,inheritedAttributes:h,rangeId:p,pinFormatter:g}=this;let{labelText:m}=hI(s,p);m==null&&(m=h["aria-label"]);let T="".concat(u*100,"%"),w="".concat(100-d*100,"%");const b=Gu(this.el),v=b?"right":"left",N=b?"left":"right",M=k=>({[v]:k[v]});this.dualKnobs===!1&&(this.valA<((e=this.activeBarStart)!==null&&e!==void 0?e:this.min)?(T="".concat(d*100,"%"),w="".concat(100-u*100,"%")):(T="".concat(u*100,"%"),w="".concat(100-d*100,"%")));const L={[v]:T,[N]:w},I=[];if(this.snaps&&this.ticks)for(let k=t;k<=i;k+=r){const H=mo(k,t,i),A=Math.min(u,d),F=Math.max(u,d),D={ratio:H,active:H>=A&&H<=F};D[v]="".concat(H*100,"%"),I.push(D)}let $;return!this.legacyFormController.hasLegacyControl()&&this.hasLabel&&($="range-label"),V("div",{class:"range-slider",ref:k=>this.rangeSlider=k},I.map(k=>V("div",{style:M(k),role:"presentation",class:{"range-tick":!0,"range-tick-active":k.active},part:k.active?"tick-active":"tick"})),V("div",{class:"range-bar-container"},V("div",{class:"range-bar",role:"presentation",part:"bar"}),V("div",{class:{"range-bar":!0,"range-bar-active":!0,"has-ticks":I.length>0},role:"presentation",style:L,part:"bar-active"})),gw(b,{knob:"A",pressed:a==="A",value:this.valA,ratio:this.ratioA,pin:c,pinFormatter:g,disabled:l,handleKeyboard:o,min:t,max:i,labelText:m,labelledBy:$}),this.dualKnobs&&gw(b,{knob:"B",pressed:a==="B",value:this.valB,ratio:this.ratioB,pin:c,pinFormatter:g,disabled:l,handleKeyboard:o,min:t,max:i,labelText:m,labelledBy:$}))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyRange():this.renderRange()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}}static get style(){return{ios:aL,md:lL}}},[33,"ion-range",{color:[513],debounce:[2],name:[1],label:[1],dualKnobs:[4,"dual-knobs"],min:[2],max:[2],pin:[4],pinFormatter:[16],snaps:[4],step:[2],ticks:[4],activeBarStart:[1026,"active-bar-start"],disabled:[4],value:[1026],labelPlacement:[1,"label-placement"],legacy:[4],ratioA:[32],ratioB:[32],pressedKnob:[32]}]),gw=(n,{knob:e,value:t,ratio:i,min:r,max:s,disabled:o,pressed:a,pin:l,handleKeyboard:c,labelText:u,labelledBy:d,pinFormatter:h})=>{const p=n?"right":"left";return V("div",{onKeyDown:m=>{const T=m.key;T==="ArrowLeft"||T==="ArrowDown"?(c(e,!1),m.preventDefault(),m.stopPropagation()):(T==="ArrowRight"||T==="ArrowUp")&&(c(e,!0),m.preventDefault(),m.stopPropagation())},class:{"range-knob-handle":!0,"range-knob-a":e==="A","range-knob-b":e==="B","range-knob-pressed":a,"range-knob-min":t===r,"range-knob-max":t===s,"ion-activatable":!0,"ion-focusable":!0},style:(()=>{const m={};return m[p]="".concat(i*100,"%"),m})(),role:"slider",tabindex:o?-1:0,"aria-label":d===void 0?u:null,"aria-labelledby":d!==void 0?d:null,"aria-valuemin":r,"aria-valuemax":s,"aria-disabled":o?"true":null,"aria-valuenow":t},l&&V("div",{class:"range-pin",role:"presentation",part:"pin"},h(t)),V("div",{class:"range-knob",role:"presentation",part:"knob"}))},bf=(n,e,t,i)=>{let r=(t-e)*n;i>0&&(r=Math.round(r/i)*i+e);const s=Nn(e,r,t);return oL(s,e,t,i)},mo=(n,e,t)=>Nn(0,(n-e)/(t-e),1);let uL=0;function dL(){if(typeof customElements>"u")return;["ion-range"].forEach(e=>{switch(e){case"ion-range":customElements.get(e)||customElements.define(e,cL);break}})}const hL=dL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pL=":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",fL=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return V(Ke,{class:Pe(this)},V("slot",null))}static get style(){return pL}},[1,"ion-row"]);function mL(){if(typeof customElements>"u")return;["ion-row"].forEach(e=>{switch(e){case"ion-row":customElements.get(e)||customElements.define(e,fL);break}})}const gL=mL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yL=(n,e)=>{let t,i;const r=(a,l,c)=>{if(typeof document>"u")return;const u=document.elementFromPoint(a,l);if(!u||!e(u)){o();return}u!==t&&(o(),s(u,c))},s=(a,l)=>{t=a,i||(i=t);const c=t;yi(()=>c.classList.add("ion-activated")),l()},o=(a=!1)=>{if(!t)return;const l=t;yi(()=>l.classList.remove("ion-activated")),a&&i!==t&&t.click(),t=void 0};return Wh({el:n,gestureName:"buttonActiveDrag",threshold:0,onStart:a=>r(a.currentX,a.currentY,z_),onMove:a=>r(a.currentX,a.currentY,V_),onEnd:()=>{o(!0),H_(),i=void 0}})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bL=n=>{const e=Le(),t=Le(),i=Le();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,i])},vL=n=>{const e=Le(),t=Le(),i=Le();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,i])},wL=n=>{const e=Le(),t=Le(),i=Le();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(150).addAnimation([t,i])},EL=n=>{const e=Le(),t=Le(),i=Le();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(n.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),e.addElement(n).easing("ease-in-out").duration(150).addAnimation([t,i])},xL=".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px}[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios:dir(rtl){left:unset;right:unset;right:7px}}}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:9px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px}[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios:dir(rtl){left:unset;right:unset;right:9px}}}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}",TL=".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}@supports (inset-inline-start: 0){.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}}@supports not (inset-inline-start: 0){.alert-radio-icon.sc-ion-alert-md{left:26px}[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}@supports selector(:dir(rtl)){.alert-radio-icon.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:26px}}}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}@supports (inset-inline-start: 0){.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}}@supports not (inset-inline-start: 0){.alert-radio-inner.sc-ion-alert-md{left:3px}[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}@supports selector(:dir(rtl)){.alert-radio-inner.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:3px}}}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}@supports (inset-inline-start: 0){.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}}@supports not (inset-inline-start: 0){.alert-checkbox-icon.sc-ion-alert-md{left:26px}[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}@supports selector(:dir(rtl)){.alert-checkbox-icon.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:26px}}}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px}[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:3px}}}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}",SL=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.didPresent=Ne(this,"ionAlertDidPresent",7),this.willPresent=Ne(this,"ionAlertWillPresent",7),this.willDismiss=Ne(this,"ionAlertWillDismiss",7),this.didDismiss=Ne(this,"ionAlertDidDismiss",7),this.didPresentShorthand=Ne(this,"didPresent",7),this.willPresentShorthand=Ne(this,"willPresent",7),this.willDismissShorthand=Ne(this,"willDismiss",7),this.didDismissShorthand=Ne(this,"didDismiss",7),this.delegateController=MO(this),this.triggerController=FS(),this.customHTMLEnabled=Ue.get("innerHTMLTemplatesEnabled",fO),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Xl)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(Yv(t)){const i=this.processedButtons.find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:i}=this;e&&i.addClickListener(t,e)}onKeydown(e){if(!new Set(this.processedInputs.map(a=>a.type)).has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const i=this.el.querySelectorAll(".alert-radio"),r=Array.from(i).filter(a=>!a.disabled),s=r.findIndex(a=>a.id===e.target.id);let o;if(["ArrowDown","ArrowRight"].includes(e.key)&&(o=s===r.length-1?r[0]:r[s+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(o=s===0?r[r.length-1]:r[s-1]),o&&r.includes(o)){const a=this.processedInputs.find(l=>l.id===(o==null?void 0:o.id));a&&(this.rbClick(a),o.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map(t=>typeof t=="string"?{text:t,role:t.toLowerCase()==="cancel"?"cancel":void 0}:t)}inputsChanged(){const e=this.inputs,t=e.find(o=>!o.disabled),r=e.find(o=>o.checked&&!o.disabled)||t,s=new Set(e.map(o=>o.type));s.has("checkbox")&&s.has("radio")&&console.warn("Alert cannot mix input types: ".concat(Array.from(s.values()).join("/"),". Please see alert docs for more info.")),this.inputType=s.values().next().value,this.processedInputs=e.map((o,a)=>{var l;return{type:o.type||"text",name:o.name||"".concat(a),placeholder:o.placeholder||"",value:o.value,label:o.label,checked:!!o.checked,disabled:!!o.disabled,id:o.id||"alert-input-".concat(this.overlayIndex,"-").concat(a),handler:o.handler,min:o.min,max:o.max,cssClass:(l=o.cssClass)!==null&&l!==void 0?l:"",attributes:o.attributes||{},tabindex:o.type==="radio"&&o!==r?-1:0}})}connectedCallback(){OS(this.el),this.triggerChanged()}componentWillLoad(){_S(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&Pe(this)==="ios"&&this.wrapperEl&&(this.gesture=yL(this.wrapperEl,e=>e.classList.contains("alert-button")),this.gesture.enable(!0)),this.isOpen===!0&&Ft(()=>this.present())}async present(){this.currentTransition!==void 0&&await this.currentTransition,await this.delegateController.attachViewToDom(),this.currentTransition=LS(this,"alertEnter",bL,wL),await this.currentTransition,this.currentTransition=void 0}async dismiss(e,t){this.currentTransition=qS(this,e,t,"alertLeave",vL,EL);const i=await this.currentTransition;return i&&this.delegateController.removeViewFromDom(),i}onDidDismiss(){return qd(this.el,"ionAlertDidDismiss")}onWillDismiss(){return qd(this.el,"ionAlertWillDismiss")}rbClick(e){for(const t of this.processedInputs)t.checked=t===e,t.tabindex=t===e?0:-1;this.activeId=e.id,ff(e.handler,e),ds(this)}cbClick(e){e.checked=!e.checked,ff(e.handler,e),ds(this)}async buttonClick(e){const t=e.role,i=this.getValues();if(Yv(t))return this.dismiss({values:i},t);const r=await this.callButtonHandler(e,i);return r!==!1?this.dismiss(Object.assign({values:i},r),e.role):!1}async callButtonHandler(e,t){if(e!=null&&e.handler){const i=await ff(e.handler,t);if(i===!1)return!1;if(typeof i=="object")return i}return{}}getValues(){if(this.processedInputs.length===0)return;if(this.inputType==="radio"){const t=this.processedInputs.find(i=>!!i.checked);return t?t.value:void 0}if(this.inputType==="checkbox")return this.processedInputs.filter(t=>t.checked).map(t=>t.value);const e={};return this.processedInputs.forEach(t=>{e[t.name]=t.value||""}),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,t=Pe(this);return e.length===0?null:V("div",{class:"alert-checkbox-group"},e.map(i=>V("button",{type:"button",onClick:()=>this.cbClick(i),"aria-checked":"".concat(i.checked),id:i.id,disabled:i.disabled,tabIndex:i.tabindex,role:"checkbox",class:Object.assign(Object.assign({},Ls(i.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":i.disabled||!1})},V("div",{class:"alert-button-inner"},V("div",{class:"alert-checkbox-icon"},V("div",{class:"alert-checkbox-inner"})),V("div",{class:"alert-checkbox-label"},i.label)),t==="md"&&V("ion-ripple-effect",null))))}renderRadio(){const e=this.processedInputs;return e.length===0?null:V("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map(t=>V("button",{type:"button",onClick:()=>this.rbClick(t),"aria-checked":"".concat(t.checked),disabled:t.disabled,id:t.id,tabIndex:t.tabindex,class:Object.assign(Object.assign({},Ls(t.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":t.disabled||!1}),role:"radio"},V("div",{class:"alert-button-inner"},V("div",{class:"alert-radio-icon"},V("div",{class:"alert-radio-inner"})),V("div",{class:"alert-radio-label"},t.label)))))}renderInput(){const e=this.processedInputs;return e.length===0?null:V("div",{class:"alert-input-group"},e.map(t=>{var i,r,s,o;return t.type==="textarea"?V("div",{class:"alert-input-wrapper"},V("textarea",Object.assign({placeholder:t.placeholder,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(r=(i=t.attributes)===null||i===void 0?void 0:i.disabled)!==null&&r!==void 0?r:t.disabled,class:yw(t),onInput:a=>{var l;t.value=a.target.value,!((l=t.attributes)===null||l===void 0)&&l.onInput&&t.attributes.onInput(a)}}))):V("div",{class:"alert-input-wrapper"},V("input",Object.assign({placeholder:t.placeholder,type:t.type,min:t.min,max:t.max,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(o=(s=t.attributes)===null||s===void 0?void 0:s.disabled)!==null&&o!==void 0?o:t.disabled,class:yw(t),onInput:a=>{var l;t.value=a.target.value,!((l=t.attributes)===null||l===void 0)&&l.onInput&&t.attributes.onInput(a)}})))}))}renderAlertButtons(){const e=this.processedButtons,t=Pe(this),i={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return V("div",{class:i},e.map(r=>V("button",Object.assign({},r.htmlAttributes,{type:"button",id:r.id,class:CL(r),tabIndex:0,onClick:()=>this.buttonClick(r)}),V("span",{class:"alert-button-inner"},r.text),t==="md"&&V("ion-ripple-effect",null))))}renderAlertMessage(e){const{customHTMLEnabled:t,message:i}=this;return t?V("div",{id:e,class:"alert-message",innerHTML:cO(i)}):V("div",{id:e,class:"alert-message"},i)}render(){const{overlayIndex:e,header:t,subHeader:i,message:r,htmlAttributes:s}=this,o=Pe(this),a="alert-".concat(e,"-hdr"),l="alert-".concat(e,"-sub-hdr"),c="alert-".concat(e,"-msg"),u=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert";return V(Ke,Object.assign({role:u,"aria-modal":"true","aria-labelledby":t?a:i?l:null,"aria-describedby":r!==void 0?c:null,tabindex:"-1"},s,{style:{zIndex:"".concat(2e4+e)},class:Object.assign(Object.assign({},Ls(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),V("ion-backdrop",{tappable:this.backdropDismiss}),V("div",{tabindex:"0"}),V("div",{class:"alert-wrapper ion-overlay-wrapper",ref:h=>this.wrapperEl=h},V("div",{class:"alert-head"},t&&V("h2",{id:a,class:"alert-title"},t),i&&V("h2",{id:l,class:"alert-sub-title"},i)),this.renderAlertMessage(c),this.renderAlertInputs(),this.renderAlertButtons()),V("div",{tabindex:"0"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:xL,md:TL}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]]]),yw=n=>{var e,t,i;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":((t=(e=n.attributes)===null||e===void 0?void 0:e.disabled)!==null&&t!==void 0?t:n.disabled)||!1},Ls(n.cssClass)),Ls(n.attributes?(i=n.attributes.class)===null||i===void 0?void 0:i.toString():""))},CL=n=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,["alert-button-role-".concat(n.role)]:n.role!==void 0},Ls(n.cssClass));function AL(){if(typeof customElements>"u")return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,SL);break;case"ion-backdrop":customElements.get(e)||Jy();break;case"ion-ripple-effect":customElements.get(e)||Gh();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const NL=bD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kL=":host(.ion-color){color:var(--ion-color-base)}",RL=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Pe(this);return V(Ke,{class:fn(this.color,{[e]:!0})},V("slot",null))}static get style(){return kL}},[1,"ion-text",{color:[513]}]);function PL(){if(typeof customElements>"u")return;["ion-text"].forEach(e=>{switch(e){case"ion-text":customElements.get(e)||customElements.define(e,RL);break}})}const $L=PL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ML=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:17px;font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host:dir(rtl){left:unset;right:unset;right:0}}}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:13px;font-weight:normal}:host(.title-large){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:0;-webkit-transform-origin:left center;transform-origin:left center;bottom:0;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:34px;font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large) .toolbar-title:dir(rtl){-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",IL=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:20px;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:15px;font-weight:normal}",OL=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=Ne(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({["title-".concat(e)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=Pe(this),t=this.getSize();return V(Ke,{class:fn(this.color,{[e]:!0,["title-".concat(t)]:!0,"title-rtl":document.dir==="rtl"})},V("div",{class:"toolbar-title"},V("slot",null)))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:ML,md:IL}}},[33,"ion-title",{color:[513],size:[1]}]);function _L(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,OL);break}})}const DL=_L;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const LL=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}:host(.toolbar-searchbar) ::slotted(ion-back-button){height:38px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large){padding-bottom:7px}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",qL=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",BL=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),t=e.find(s=>s.slot==="start");t&&t.classList.add("buttons-first-slot");const i=e.reverse(),r=i.find(s=>s.slot==="end")||i.find(s=>s.slot==="primary")||i.find(s=>s.slot==="secondary");r&&r.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const t=e.target.tagName,i=e.detail,r={},s=this.childrenStyles.get(t)||{};let o=!1;Object.keys(i).forEach(a=>{const l="toolbar-".concat(a),c=i[a];c!==s[l]&&(o=!0),c&&(r[l]=!0)}),o&&(this.childrenStyles.set(t,r),ds(this))}render(){const e=Pe(this),t={};return this.childrenStyles.forEach(i=>{Object.assign(t,i)}),V(Ke,{class:Object.assign(Object.assign({},t),fn(this.color,{[e]:!0,"in-toolbar":Gt("ion-toolbar",this.el)}))},V("div",{class:"toolbar-background"}),V("div",{class:"toolbar-container"},V("slot",{name:"start"}),V("slot",{name:"secondary"}),V("div",{class:"toolbar-content"},V("slot",null)),V("slot",{name:"primary"}),V("slot",{name:"end"})))}get el(){return this}static get style(){return{ios:LL,md:qL}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function FL(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,BL);break}})}const UL=FL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jL=__;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zL=q_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VL=AL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ud="ionKeyboardDidShow",tC="ionKeyboardDidHide",HL=150;let jd={},Er={},wa=!1;const WL=()=>{jd={},Er={},wa=!1},QL=n=>{if(YS.getEngine())GL(n);else{if(!n.visualViewport)return;Er=rb(n.visualViewport),n.visualViewport.onresize=()=>{rC(n),nC()||iC(n)?tb(n):ib(n)&&nb(n)}}},GL=n=>{n.addEventListener("keyboardDidShow",e=>tb(n,e)),n.addEventListener("keyboardDidHide",()=>nb(n))},tb=(n,e)=>{KL(n,e),wa=!0},nb=n=>{YL(n),wa=!1},nC=()=>{const n=(jd.height-Er.height)*Er.scale;return!wa&&jd.width===Er.width&&n>HL},iC=n=>wa&&!ib(n),ib=n=>wa&&Er.height===n.innerHeight,KL=(n,e)=>{const t=e?e.keyboardHeight:n.innerHeight-Er.height,i=new CustomEvent(Ud,{detail:{keyboardHeight:t}});n.dispatchEvent(i)},YL=n=>{const e=new CustomEvent(tC);n.dispatchEvent(e)},rC=n=>{jd=Object.assign({},Er),Er=rb(n.visualViewport)},rb=n=>({width:Math.round(n.width),height:Math.round(n.height),offsetTop:n.offsetTop,offsetLeft:n.offsetLeft,pageTop:n.pageTop,pageLeft:n.pageLeft,scale:n.scale}),JL=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:tC,KEYBOARD_DID_OPEN:Ud,copyVisualViewport:rb,keyboardDidClose:ib,keyboardDidOpen:nC,keyboardDidResize:iC,resetKeyboardAssist:WL,setKeyboardClose:nb,setKeyboardOpen:tb,startKeyboardAssist:QL,trackViewportChanges:rC},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var oa;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(oa||(oa={}));const Zl={getEngine(){const n=Go();if(n!=null&&n.isPluginAvailable("StatusBar"))return n.Plugins.StatusBar},supportsDefaultStatusBarStyle(){const n=Go();return!!(n!=null&&n.PluginHeaders)},setStyle(n){const e=this.getEngine();e&&e.setStyle(n)},getStyle:async function(){const n=this.getEngine();if(!n)return oa.Default;const{style:e}=await n.getInfo();return e}},ag=(n,e)=>{if(e===1)return 0;const t=1/(1-e),i=-(e*t);return n*t+i},sC=()=>{!yt||yt.innerWidth>=768||!Zl.supportsDefaultStatusBarStyle()||Zl.setStyle({style:oa.Dark})},oC=(n=oa.Default)=>{!yt||yt.innerWidth>=768||!Zl.supportsDefaultStatusBarStyle()||Zl.setStyle({style:n})},aC=async(n,e)=>{typeof n.canDismiss!="function"||!await n.canDismiss(void 0,Nl)||(e.isRunning()?e.onFinish(()=>{n.dismiss(void 0,"handler")},{oneTimeCallback:!0}):n.dismiss(void 0,"handler"))},lg=n=>.00255275*2.71828**(-14.9619*n)-1.00255*2.71828**(-.0380968*n)+1,zd={MIN_PRESENTING_SCALE:.93},XL=(n,e,t,i)=>{const s=n.offsetHeight;let o=!1,a=!1,l=null,c=null;const u=.2;let d=!0,h=0;const p=()=>l&&Xs(l)?l.scrollY:!0,b=Wh({el:n,gestureName:"modalSwipeToClose",gesturePriority:39,direction:"y",threshold:10,canStart:v=>{const N=v.event.target;return N===null||!N.closest?!0:(l=GS(N),l?(Xs(l)?c=hs(l).querySelector(".inner-scroll"):c=l,!!!l.querySelector("ion-refresher")&&c.scrollTop===0):N.closest("ion-footer")===null)},onStart:v=>{const{deltaY:N}=v;d=p(),a=n.canDismiss!==void 0&&n.canDismiss!==!0,N>0&&l&&ig(l),e.progressStart(!0,o?1:0)},onMove:v=>{const{deltaY:N}=v;N>0&&l&&ig(l);const M=v.deltaY/s,L=M>=0&&a,I=L?u:.9999,$=L?lg(M/I):M,k=Nn(1e-4,$,I);e.progressStep(k),k>=.5&&h<.5?oC(t):k<.5&&h>=.5&&sC(),h=k},onEnd:v=>{const N=v.velocityY,M=v.deltaY/s,L=M>=0&&a,I=L?u:.9999,$=L?lg(M/I):M,k=Nn(1e-4,$,I),H=(v.deltaY+N*1e3)/s,A=!L&&H>=.5;let F=A?-.001:.001;A?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),F+=Ys([0,0],[.32,.72],[0,1],[1,1],k)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),F+=Ys([0,0],[1,0],[.68,.28],[1,1],k)[0]);const D=bw(A?M*s:(1-k)*s,N);o=A,b.enable(!1),l&&KS(l,d),e.onFinish(()=>{A||b.enable(!0)}).progressEnd(A?1:0,F,D),L&&k>I/4?aC(n,e):A&&i()}});return b},bw=(n,e)=>Nn(400,n/Math.abs(e*1.1),500),lC=n=>{const{currentBreakpoint:e,backdropBreakpoint:t}=n,i=t===void 0||t<e,r=i?"calc(var(--backdrop-opacity) * ".concat(e,")"):"0",s=Le("backdropAnimation").fromTo("opacity",0,r);return i&&s.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),{wrapperAnimation:Le("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:"translateY(".concat(100-e*100,"%)")}]),backdropAnimation:s}},cC=n=>{const{currentBreakpoint:e,backdropBreakpoint:t}=n,i="calc(var(--backdrop-opacity) * ".concat(ag(e,t),")"),r=[{offset:0,opacity:i},{offset:1,opacity:0}],s=[{offset:0,opacity:i},{offset:t,opacity:0},{offset:1,opacity:0}],o=Le("backdropAnimation").keyframes(t!==0?s:r);return{wrapperAnimation:Le("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(".concat(100-e*100,"%)")},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:o}},ZL=()=>{const n=Le().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=Le().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:n,wrapperAnimation:e}},vw=(n,e)=>{const{presentingEl:t,currentBreakpoint:i}=e,r=hs(n),{wrapperAnimation:s,backdropAnimation:o}=i!==void 0?lC(e):ZL();o.addElement(r.querySelector("ion-backdrop")),s.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const a=Le("entering-base").addElement(n).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(s);if(t){const l=window.innerWidth<768,c=t.tagName==="ION-MODAL"&&t.presentingElement!==void 0,u=hs(t),d=Le().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),h=document.body;if(l){const p=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",g=c?"-10px":p,m=zd.MIN_PRESENTING_SCALE,T="translateY(".concat(g,") scale(").concat(m,")");d.afterStyles({transform:T}).beforeAddWrite(()=>h.style.setProperty("background-color","black")).addElement(t).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:T,borderRadius:"10px 10px 0 0"}]),a.addAnimation(d)}else if(a.addAnimation(o),!c)s.fromTo("opacity","0","1");else{const p=c?zd.MIN_PRESENTING_SCALE:1,g="translateY(-10px) scale(".concat(p,")");d.afterStyles({transform:g}).addElement(u.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:g}]);const m=Le().afterStyles({transform:g}).addElement(u.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:g}]);a.addAnimation([d,m])}}else a.addAnimation(o);return a},e2=()=>{const n=Le().fromTo("opacity","var(--backdrop-opacity)",0),e=Le().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:n,wrapperAnimation:e}},ww=(n,e,t=500)=>{const{presentingEl:i,currentBreakpoint:r}=e,s=hs(n),{wrapperAnimation:o,backdropAnimation:a}=r!==void 0?cC(e):e2();a.addElement(s.querySelector("ion-backdrop")),o.addElement(s.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const l=Le("leaving-base").addElement(n).easing("cubic-bezier(0.32,0.72,0,1)").duration(t).addAnimation(o);if(i){const c=window.innerWidth<768,u=i.tagName==="ION-MODAL"&&i.presentingElement!==void 0,d=hs(i),h=Le().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(g=>{if(g!==1)return;i.style.setProperty("overflow",""),Array.from(p.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(T=>T.presentingElement!==void 0).length<=1&&p.style.setProperty("background-color","")}),p=document.body;if(c){const g=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",m=u?"-10px":g,T=zd.MIN_PRESENTING_SCALE,w="translateY(".concat(m,") scale(").concat(T,")");h.addElement(i).keyframes([{offset:0,filter:"contrast(0.85)",transform:w,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),l.addAnimation(h)}else if(l.addAnimation(a),!u)o.fromTo("opacity","1","0");else{const g=u?zd.MIN_PRESENTING_SCALE:1,m="translateY(-10px) scale(".concat(g,")");h.addElement(d.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:m},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const T=Le().addElement(d.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:m},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);l.addAnimation([h,T])}}else l.addAnimation(a);return l},t2=()=>{const n=Le().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=Le().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:n,wrapperAnimation:e}},n2=(n,e)=>{const{currentBreakpoint:t}=e,i=hs(n),{wrapperAnimation:r,backdropAnimation:s}=t!==void 0?lC(e):t2();return s.addElement(i.querySelector("ion-backdrop")),r.addElement(i.querySelector(".modal-wrapper")),Le().addElement(n).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([s,r])},i2=()=>{const n=Le().fromTo("opacity","var(--backdrop-opacity)",0),e=Le().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:n,wrapperAnimation:e}},r2=(n,e)=>{const{currentBreakpoint:t}=e,i=hs(n),{wrapperAnimation:r,backdropAnimation:s}=t!==void 0?cC(e):i2();return s.addElement(i.querySelector("ion-backdrop")),r.addElement(i.querySelector(".modal-wrapper")),Le().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([s,r])},s2=(n,e,t,i,r,s,o=[],a,l,c)=>{const u=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],d=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-r,opacity:0},{offset:1,opacity:0}],h={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:r!==0?d:u},p=n.querySelector("ion-content"),g=t.clientHeight;let m=i,T=0,w=!1;const b=.95,v=s.childAnimations.find(ne=>ne.id==="wrapperAnimation"),N=s.childAnimations.find(ne=>ne.id==="backdropAnimation"),M=o[o.length-1],L=o[0],I=()=>{n.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),n.classList.remove("ion-disable-focus-trap")},$=()=>{n.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),n.classList.add("ion-disable-focus-trap")};v&&N&&(v.keyframes([...h.WRAPPER_KEYFRAMES]),N.keyframes([...h.BACKDROP_KEYFRAMES]),s.progressStart(!0,1-m),m>r?I():$()),p&&m!==M&&(p.scrollY=!1);const k=ne=>{const ue=ne.event.target.closest("ion-content");return m=a(),!(m===1&&ue)},H=()=>{w=n.canDismiss!==void 0&&n.canDismiss!==!0&&L===0,p&&(p.scrollY=!1),Ft(()=>{n.focus()}),s.progressStart(!0,1-m)},A=ne=>{const ue=1-m,ae=o.length>1?1-o[1]:void 0,te=ue+ne.deltaY/g,Z=ae!==void 0&&te>=ae&&w,j=Z?b:.9999,J=Z&&ae!==void 0?ae+lg((te-ae)/(j-ae)):te;T=Nn(1e-4,J,j),s.progressStep(T)},F=ne=>{const ue=ne.velocityY,ae=(ne.deltaY+ue*350)/g,te=m-ae,Z=o.reduce((j,J)=>Math.abs(J-te)<Math.abs(j-te)?J:j);D({breakpoint:Z,breakpointOffset:T,canDismiss:w,animated:!0})},D=ne=>{const{breakpoint:ue,canDismiss:ae,breakpointOffset:te,animated:Z}=ne,j=ae&&ue===0,J=j?m:ue,ce=J!==0;return m=0,v&&N&&(v.keyframes([{offset:0,transform:"translateY(".concat(te*100,"%)")},{offset:1,transform:"translateY(".concat((1-J)*100,"%)")}]),N.keyframes([{offset:0,opacity:"calc(var(--backdrop-opacity) * ".concat(ag(1-te,r),")")},{offset:1,opacity:"calc(var(--backdrop-opacity) * ".concat(ag(J,r),")")}]),s.progressStep(0)),G.enable(!1),j?aC(n,s):ce||l(),new Promise(ve=>{s.onFinish(()=>{ce?v&&N?Ft(()=>{v.keyframes([...h.WRAPPER_KEYFRAMES]),N.keyframes([...h.BACKDROP_KEYFRAMES]),s.progressStart(!0,1-J),m=J,c(m),p&&m===o[o.length-1]&&(p.scrollY=!0),m>r?I():$(),G.enable(!0),ve()}):(G.enable(!0),ve()):ve()},{oneTimeCallback:!0}).progressEnd(1,0,Z?500:0)})},G=Wh({el:t,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:k,onStart:H,onMove:A,onEnd:F});return{gesture:G,moveSheetToBreakpoint:D}},o2=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.modal-card) .modal-wrapper:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.modal-sheet) .modal-wrapper:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}}',a2=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',l2=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=Ne(this,"ionModalDidPresent",7),this.willPresent=Ne(this,"ionModalWillPresent",7),this.willDismiss=Ne(this,"ionModalWillDismiss",7),this.didDismiss=Ne(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=Ne(this,"ionBreakpointDidChange",7),this.didPresentShorthand=Ne(this,"didPresent",7),this.willPresentShorthand=Ne(this,"willPresent",7),this.willDismissShorthand=Ne(this,"willDismiss",7),this.didDismissShorthand=Ne(this,"didDismiss",7),this.ionMount=Ne(this,"ionMount",7),this.triggerController=FS(),this.coreDelegate=MS(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:e,handleBehavior:t}=this;t!=="cycle"||e!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:e}=this;e===void 0&&this.dismiss(void 0,Xl)},this.onLifecycle=e=>{const t=this.usersElement,i=c2[e.type];if(t&&i){const r=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(r)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.canDismiss=!0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:i}=this;e&&i.addClickListener(t,e)}breakpointsChanged(e){e!==void 0&&(this.sortedBreakpoints=e.sort((t,i)=>t-i))}connectedCallback(){const{el:e}=this;OS(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){const{breakpoints:e,initialBreakpoint:t,el:i}=this,r=this.isSheetModal=e!==void 0&&t!==void 0;this.inheritedAttributes=va(i,["aria-label","role"]),r&&(this.currentBreakpoint=this.initialBreakpoint),e!==void 0&&t!==void 0&&!e.includes(t)&&Ut("Your breakpoints array must include the initialBreakpoint value."),_S(i)}componentDidLoad(){this.isOpen===!0&&Ft(()=>this.present()),this.breakpointsChanged(this.breakpoints)}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const t=this.el.parentNode,i=this.inline=t!==null&&!this.hasController,r=this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate;return{inline:i,delegate:r}}async checkCanDismiss(e,t){const{canDismiss:i}=this;return typeof i=="function"?i(e,t):i}async present(){if(this.presented)return;const{presentingElement:e,el:t}=this;this.currentTransition!==void 0&&await this.currentTransition,this.currentBreakpoint=this.initialBreakpoint;const{inline:i,delegate:r}=this.getDelegate(!0);this.usersElement=await Ky(r,t,this.component,["ion-page"],this.componentProps,i),this.ionMount.emit(),uS(t)?await _d(this.usersElement):this.keepContentsMounted||await MI(),yi(()=>this.el.classList.add("show-modal")),this.currentTransition=LS(this,"modalEnter",vw,n2,{presentingEl:e,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),Ft(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener(Ud,this.keyboardOpenCallback));const s=e!==void 0;s&&Pe(this)==="ios"&&(this.statusBarStyle=await Zl.getStyle(),sC()),await this.currentTransition,this.isSheetModal?this.initSheetGesture():s&&this.initSwipeToClose(),this.currentTransition=void 0}initSwipeToClose(){var e;if(Pe(this)!=="ios")return;const{el:t}=this,i=this.leaveAnimation||Ue.get("modalLeave",ww),r=this.animation=i(t,{presentingEl:this.presentingElement});if(!tg(t)){ng(t);return}const o=(e=this.statusBarStyle)!==null&&e!==void 0?e:oa.Default;this.gesture=XL(t,r,o,()=>{this.gestureAnimationDismissing=!0,this.animation.onFinish(async()=>{await this.dismiss(void 0,Nl),this.gestureAnimationDismissing=!1})}),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:e,initialBreakpoint:t,backdropBreakpoint:i}=this;if(!e||t===void 0)return;const r=this.enterAnimation||Ue.get("modalEnter",vw),s=this.animation=r(this.el,{presentingEl:this.presentingElement,currentBreakpoint:t,backdropBreakpoint:i});s.progressStart(!0,1);const{gesture:o,moveSheetToBreakpoint:a}=s2(this.el,this.backdropEl,e,t,i,s,this.sortedBreakpoints,()=>{var l;return(l=this.currentBreakpoint)!==null&&l!==void 0?l:0},()=>this.sheetOnDismiss(),l=>{this.currentBreakpoint!==l&&(this.currentBreakpoint=l,this.ionBreakpointDidChange.emit({breakpoint:l}))});this.gesture=o,this.moveSheetToBreakpoint=a,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,Nl),this.gestureAnimationDismissing=!1})}async dismiss(e,t){var i;if(this.gestureAnimationDismissing&&t!==Nl||t!=="handler"&&!await this.checkCanDismiss(e,t))return!1;const{presentingElement:r}=this;r!==void 0&&Pe(this)==="ios"&&oC(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener(Ud,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0),this.currentTransition!==void 0&&await this.currentTransition;const o=Dd.get(this)||[];this.currentTransition=qS(this,e,t,"modalLeave",ww,r2,{presentingEl:r,currentBreakpoint:(i=this.currentBreakpoint)!==null&&i!==void 0?i:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});const a=await this.currentTransition;if(a){const{delegate:l}=this.getDelegate();await $S(l,this.usersElement),yi(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy(),o.forEach(c=>c.destroy())}return this.currentBreakpoint=void 0,this.currentTransition=void 0,this.animation=void 0,a}onDidDismiss(){return qd(this.el,"ionModalDidDismiss")}onWillDismiss(){return qd(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(e){if(!this.isSheetModal){Ut("setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(e)){Ut("Attempted to set invalid breakpoint value ".concat(e,". Please double check that the breakpoint value is part of your defined breakpoints."));return}const{currentBreakpoint:t,moveSheetToBreakpoint:i,canDismiss:r,breakpoints:s,animated:o}=this;t!==e&&i&&(this.sheetTransition=i({breakpoint:e,breakpointOffset:1-t,canDismiss:r!==void 0&&r!==!0&&s[0]===0,animated:o}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:e,currentBreakpoint:t}=this;if(!e||t==null)return!1;const i=e.filter(a=>a!==0),s=(i.indexOf(t)+1)%i.length,o=i[s];return await this.setCurrentBreakpoint(o),!0}render(){const{handle:e,isSheetModal:t,presentingElement:i,htmlAttributes:r,handleBehavior:s,inheritedAttributes:o}=this,a=e!==!1&&t,l=Pe(this),c=i!==void 0&&l==="ios",u=s==="cycle";return V(Ke,Object.assign({"no-router":!0,tabindex:"-1"},r,{style:{zIndex:"".concat(2e4+this.overlayIndex)},class:Object.assign({[l]:!0,"modal-default":!c&&!t,"modal-card":c,"modal-sheet":t,"overlay-hidden":!0},Ls(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),V("ion-backdrop",{ref:d=>this.backdropEl=d,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),l==="ios"&&V("div",{class:"modal-shadow"}),V("div",Object.assign({role:"dialog"},o,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:d=>this.wrapperEl=d}),a&&V("button",{class:"modal-handle",tabIndex:u?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:u?this.onHandleClick:void 0,part:"handle"}),V("slot",null)))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:o2,md:a2}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]}]),c2={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function u2(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,l2);break;case"ion-backdrop":customElements.get(e)||Jy();break}})}const d2=u2,h2="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",p2=Ye(class extends Je{constructor(){super(),this.__registerHost()}componentDidLoad(){m2(async()=>{const e=br(window,"hybrid");if(Ue.getBoolean("_testing")||en(()=>import("./index9-5d678ba0.js"),[]).then(i=>i.startTapClick(Ue)),Ue.getBoolean("statusTap",e)&&en(()=>import("./status-tap-59a4eb7c.js"),[]).then(i=>i.startStatusTap()),Ue.getBoolean("inputShims",f2())){const i=br(window,"ios")?"ios":"android";en(()=>import("./input-shims-79d010f2.js"),[]).then(r=>r.startInputShims(Ue,i))}const t=await en(()=>Promise.resolve().then(()=>yO),void 0);Ue.getBoolean("hardwareBackButton",e)?t.startHardwareBackButton():t.blockHardwareBackButton(),typeof window<"u"&&en(()=>Promise.resolve().then(()=>JL),void 0).then(i=>i.startKeyboardAssist(window)),en(()=>import("./focus-visible-9c13edeb.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=Pe(this);return V(Ke,{class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":Ue.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return h2}},[0,"ion-app",{setFocus:[64]}]),f2=()=>!!(br(window,"ios")&&br(window,"mobile")||br(window,"android")&&br(window,"mobileweb")),m2=n=>{"requestIdleCallback"in window?window.requestIdleCallback(n):setTimeout(n,32)};function g2(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,p2);break}})}const y2=g2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const b2=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:17px}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',v2=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:24px;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:14px;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;height:48px}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',w2=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const t=this.el.closest("ion-nav");return e.preventDefault(),t&&await t.canGoBack()?t.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):Xy(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=oo(this.el),this.defaultHref===void 0&&(this.defaultHref=Ue.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:Pe(this)==="ios"?Ue.get("backButtonIcon",OO):Ue.get("backButtonIcon",IO)}get backButtonText(){const e=Pe(this)==="ios"?"Back":null;return this.text!=null?this.text:Ue.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:t,disabled:i,type:r,hasIconOnly:s,backButtonIcon:o,backButtonText:a,icon:l,inheritedAttributes:c}=this,u=t!==void 0,d=Pe(this),h=c["aria-label"]||a||"back";return V(Ke,{onClick:this.onClick,class:fn(e,{[d]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":s,"in-toolbar":Gt("ion-toolbar",this.el),"in-toolbar-color":Gt("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":u})},V("button",{type:r,disabled:i,class:"button-native",part:"native","aria-label":h},V("span",{class:"button-inner"},o&&V("ion-icon",{part:"icon",icon:o,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),a&&V("span",{part:"text","aria-hidden":"true",class:"button-text"},a)),d==="md"&&V("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get style(){return{ios:b2,md:v2}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function E2(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,w2);break;case"ion-icon":customElements.get(e)||Yy();break;case"ion-ripple-effect":customElements.get(e)||Gh();break}})}const x2=E2,T2=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}",S2=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Ne(this,"ionNavWillLoad",7),this.ionNavWillChange=Ne(this,"ionNavWillChange",3),this.ionNavDidChange=Ne(this,"ionNavDidChange",3),this.gestureOrAnimationInProgress=!1,this.mode=Pe(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await en(()=>import("./swipe-back-325fa612.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),t=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(t)},(t,i,r)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(t)},{oneTimeCallback:!0});let s=t?-.001:.001;t?s+=Ys([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=Ys([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(t?1:0,s,r)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,t,i){const r=await this.lock();let s=!1;try{s=await this.transition(e,t,i)}catch(o){console.error(o)}return r(),s}async setRouteId(e,t,i,r){return{changed:await this.setRoot(e,t,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:r}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,t,i){if(this.activeComponent===e&&pS(t,this.activeParams))return!1;const r=this.activeEl,s=await Ky(this.delegate,this.el,e,["ion-page","ion-page-invisible"],t);return this.activeComponent=e,this.activeEl=s,this.activeParams=t,await this.commit(s,r,i),await $S(this.delegate,r),!0}async transition(e,t,i={}){if(t===e)return!1;this.ionNavWillChange.emit();const{el:r,mode:s}=this,o=this.animated&&Ue.getBoolean("animated",!0),a=i.animationBuilder||this.animation||Ue.get("navAnimation");return await gS(Object.assign(Object.assign({mode:s,animated:o,enteringEl:e,leavingEl:t,baseEl:r,deepWait:uS(r),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}async lock(){const e=this.waitPromise;let t;return this.waitPromise=new Promise(i=>t=i),e!==void 0&&await e,t}render(){return V("slot",null)}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return T2}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]}]);function C2(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,S2);break}})}const A2=C2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const N2=":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",k2=":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, #595959));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}",R2=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=Ne(this,"ionTabBarChanged",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await Q_(async(e,t)=>{e===!1&&t!==void 0&&await t,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}render(){const{color:e,translucent:t,keyboardVisible:i}=this,r=Pe(this),s=i&&this.el.getAttribute("slot")!=="top";return V(Ke,{role:"tablist","aria-hidden":s?"true":null,class:fn(e,{[r]:!0,"tab-bar-translucent":t,"tab-bar-hidden":s})},V("slot",null))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:N2,md:k2}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]}]);function P2(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,R2);break}})}const $2=P2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const M2=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 12px)}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px)}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 35px)}}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px)}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 30px)}}}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',I2=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:80%}}}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',O2=Ye(class extends Je{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=Ne(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const t=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||t!=null&&t.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},va(this.el,["aria-label"])),this.layout===void 0&&(this.layout=Ue.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:t,hasLabel:i,href:r,rel:s,target:o,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=Pe(this),h={download:this.download,href:r,rel:s,target:o};return V(Ke,{onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":t,"tab-has-label-only":i&&!t,"tab-has-icon-only":t&&!i,["tab-layout-".concat(a)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},V("a",Object.assign({},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),V("span",{class:"button-inner"},V("slot",null)),d==="md"&&V("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:M2,md:I2}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function _2(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,O2);break;case"ion-ripple-effect":customElements.get(e)||Gh();break}})}const D2=_2,So={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let Co,uC,Yh,dC=!1,Vd=!1,sb=!1,Un=!1,Ew=null,cg=!1;const L2=n=>{const e=new URL(n,mn.$resourcesUrl$);return e.origin!==gc.location.origin?e.href:e.pathname},Zs=(n,e="")=>()=>{},xw="http://www.w3.org/1999/xlink",Tw={},q2="http://www.w3.org/2000/svg",B2="http://www.w3.org/1999/xhtml",F2=n=>n!=null,ob=n=>(n=typeof n,n==="object"||n==="function");function U2(n){var e,t,i;return(i=(t=(e=n.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||t===void 0?void 0:t.getAttribute("content"))!==null&&i!==void 0?i:void 0}const kl=(n,e,...t)=>{let i=null,r=null,s=null,o=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((o=typeof n!="function"&&!ob(i))&&(i=String(i)),o&&a?l[l.length-1].$text$+=i:l.push(o?Hd(null,i):i),a=o)};if(c(t),e){e.key&&(r=e.key),e.name&&(s=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof n=="function")return n(e===null?{}:e,l,z2);const u=Hd(n,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=s,u},Hd=(n,e)=>{const t={$flags$:0,$tag$:n,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t.$key$=null,t.$name$=null,t},hC={},j2=n=>n&&n.$tag$===hC,z2={forEach:(n,e)=>n.map(Sw).forEach(e),map:(n,e)=>n.map(Sw).map(e).map(V2)},Sw=n=>({vattrs:n.$attrs$,vchildren:n.$children$,vkey:n.$key$,vname:n.$name$,vtag:n.$tag$,vtext:n.$text$}),V2=n=>{if(typeof n.vtag=="function"){const t=Object.assign({},n.vattrs);return n.vkey&&(t.key=n.vkey),n.vname&&(t.name=n.vname),kl(n.vtag,t,...n.vchildren||[])}const e=Hd(n.vtag,n.vtext);return e.$attrs$=n.vattrs,e.$children$=n.vchildren,e.$key$=n.vkey,e.$name$=n.vname,e},H2=n=>yq.map(e=>e(n)).find(e=>!!e),W2=(n,e)=>n!=null&&!ob(n)?e&4?n==="false"?!1:n===""||!!n:e&2?parseFloat(n):e&1?String(n):n:n,Cw=new WeakMap,Q2=(n,e,t)=>{let i=Qd.get(n);Eq&&t?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,Qd.set(n,i)},G2=(n,e,t,i)=>{var r;let s=pC(e,t);const o=Qd.get(s);if(n=n.nodeType===11?n:Li,o)if(typeof o=="string"){n=n.head||n;let a=Cw.get(n),l;if(a||Cw.set(n,a=new Set),!a.has(s)){{l=Li.createElement("style"),l.innerHTML=o;const c=(r=mn.$nonce$)!==null&&r!==void 0?r:U2(Li);c!=null&&l.setAttribute("nonce",c),n.insertBefore(l,n.querySelector("link"))}a&&a.add(s)}}else n.adoptedStyleSheets.includes(o)||(n.adoptedStyleSheets=[...n.adoptedStyleSheets,o]);return s},K2=n=>{const e=n.$cmpMeta$,t=n.$hostElement$,i=e.$flags$,r=Zs("attachStyles",e.$tagName$),s=G2(t.shadowRoot?t.shadowRoot:t.getRootNode(),e,n.$modeName$);i&10&&(t["s-sc"]=s,t.classList.add(s+"-h"),i&2&&t.classList.add(s+"-s")),r()},pC=(n,e)=>"sc-"+(e&&n.$flags$&32?n.$tagName$+"-"+e:n.$tagName$),Aw=(n,e,t,i,r,s)=>{if(t!==i){let o=Pw(n,e),a=e.toLowerCase();if(e==="class"){const l=n.classList,c=Nw(t),u=Nw(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in t)(!i||i[l]==null)&&(l.includes("-")?n.style.removeProperty(l):n.style[l]="");for(const l in i)(!t||i[l]!==t[l])&&(l.includes("-")?n.style.setProperty(l,i[l]):n.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(n);else if(!n.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):Pw(gc,a)?e=a.slice(2):e=a[2]+e.slice(3),t&&mn.rel(n,e,t,!1),i&&mn.ael(n,e,i,!1);else{const l=ob(i);if((o||l&&i!==null)&&!r)try{if(n.tagName.includes("-"))n[e]=i;else{const u=i==null?"":i;e==="list"?o=!1:(t==null||n[e]!=u)&&(n[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||n.getAttribute(e)==="")&&(c?n.removeAttributeNS(xw,e):n.removeAttribute(e)):(!o||s&4||r)&&!l&&(i=i===!0?"":i,c?n.setAttributeNS(xw,e,i):n.setAttribute(e,i))}}},Y2=/\s/,Nw=n=>n?n.split(Y2):[],fC=(n,e,t,i)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=n&&n.$attrs$||Tw,o=e.$attrs$||Tw;for(i in s)i in o||Aw(r,i,s[i],void 0,t,e.$flags$);for(i in o)Aw(r,i,s[i],o[i],t,e.$flags$)},Wd=(n,e,t,i)=>{const r=e.$children$[t];let s=0,o,a,l;if(dC||(sb=!0,r.$tag$==="slot"&&(Co&&i.classList.add(Co+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)o=r.$elm$=Li.createTextNode(r.$text$);else if(r.$flags$&1)o=r.$elm$=Li.createTextNode("");else{if(Un||(Un=r.$tag$==="svg"),o=r.$elm$=Li.createElementNS(Un?q2:B2,r.$flags$&2?"slot-fb":r.$tag$),Un&&r.$tag$==="foreignObject"&&(Un=!1),fC(null,r,Un),F2(Co)&&o["s-si"]!==Co&&o.classList.add(o["s-si"]=Co),r.$children$)for(s=0;s<r.$children$.length;++s)a=Wd(n,r,s,o),a&&o.appendChild(a);r.$tag$==="svg"?Un=!1:o.tagName==="foreignObject"&&(Un=!0)}return o["s-hn"]=Yh,r.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=uC,o["s-sn"]=r.$name$||"",l=n&&n.$children$&&n.$children$[t],l&&l.$tag$===r.$tag$&&n.$elm$&&ec(n.$elm$,!1)),o},ec=(n,e)=>{mn.$flags$|=1;const t=n.childNodes;for(let i=t.length-1;i>=0;i--){const r=t[i];r["s-hn"]!==Yh&&r["s-ol"]&&(yC(r).insertBefore(r,ab(r)),r["s-ol"].remove(),r["s-ol"]=void 0,sb=!0),e&&ec(r,e)}mn.$flags$&=-2},mC=(n,e,t,i,r,s)=>{let o=n["s-cr"]&&n["s-cr"].parentNode||n,a;for(o.shadowRoot&&o.tagName===Yh&&(o=o.shadowRoot);r<=s;++r)i[r]&&(a=Wd(null,t,r,n),a&&(i[r].$elm$=a,o.insertBefore(a,ab(e))))},gC=(n,e,t,i,r)=>{for(;e<=t;++e)(i=n[e])&&(r=i.$elm$,wC(i),Vd=!0,r["s-ol"]?r["s-ol"].remove():ec(r,!0),r.remove())},J2=(n,e,t,i)=>{let r=0,s=0,o=0,a=0,l=e.length-1,c=e[0],u=e[l],d=i.length-1,h=i[0],p=i[d],g,m;for(;r<=l&&s<=d;)if(c==null)c=e[++r];else if(u==null)u=e[--l];else if(h==null)h=i[++s];else if(p==null)p=i[--d];else if(mu(c,h))Ao(c,h),c=e[++r],h=i[++s];else if(mu(u,p))Ao(u,p),u=e[--l],p=i[--d];else if(mu(c,p))(c.$tag$==="slot"||p.$tag$==="slot")&&ec(c.$elm$.parentNode,!1),Ao(c,p),n.insertBefore(c.$elm$,u.$elm$.nextSibling),c=e[++r],p=i[--d];else if(mu(u,h))(c.$tag$==="slot"||p.$tag$==="slot")&&ec(u.$elm$.parentNode,!1),Ao(u,h),n.insertBefore(u.$elm$,c.$elm$),u=e[--l],h=i[++s];else{for(o=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===h.$key$){o=a;break}o>=0?(m=e[o],m.$tag$!==h.$tag$?g=Wd(e&&e[s],t,o,n):(Ao(m,h),e[o]=void 0,g=m.$elm$),h=i[++s]):(g=Wd(e&&e[s],t,s,n),h=i[++s]),g&&yC(c.$elm$).insertBefore(g,ab(c.$elm$))}r>l?mC(n,i[d+1]==null?null:i[d+1].$elm$,t,i,s,d):s>d&&gC(e,r,l)},mu=(n,e)=>n.$tag$===e.$tag$?n.$tag$==="slot"?n.$name$===e.$name$:n.$key$===e.$key$:!1,ab=n=>n&&n["s-ol"]||n,yC=n=>(n["s-ol"]?n["s-ol"]:n).parentNode,Ao=(n,e)=>{const t=e.$elm$=n.$elm$,i=n.$children$,r=e.$children$,s=e.$tag$,o=e.$text$;let a;o===null?(Un=s==="svg"?!0:s==="foreignObject"?!1:Un,s==="slot"||fC(n,e,Un),i!==null&&r!==null?J2(t,i,e,r):r!==null?(n.$text$!==null&&(t.textContent=""),mC(t,null,e,r,0,r.length-1)):i!==null&&gC(i,0,i.length-1),Un&&s==="svg"&&(Un=!1)):(a=t["s-cr"])?a.parentNode.textContent=o:n.$text$!==o&&(t.data=o)},bC=n=>{const e=n.childNodes;let t,i,r,s,o,a;for(i=0,r=e.length;i<r;i++)if(t=e[i],t.nodeType===1){if(t["s-sr"]){for(o=t["s-sn"],t.hidden=!1,s=0;s<r;s++)if(a=e[s].nodeType,e[s]["s-hn"]!==t["s-hn"]||o!==""){if(a===1&&o===e[s].getAttribute("slot")){t.hidden=!0;break}}else if(a===1||a===3&&e[s].textContent.trim()!==""){t.hidden=!0;break}}bC(t)}},Pi=[],vC=n=>{let e,t,i,r,s,o,a=0;const l=n.childNodes,c=l.length;for(;a<c;a++){if(e=l[a],e["s-sr"]&&(t=e["s-cr"])&&t.parentNode)for(i=t.parentNode.childNodes,r=e["s-sn"],o=i.length-1;o>=0;o--)t=i[o],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==e["s-hn"]&&(kw(t,r)?(s=Pi.find(u=>u.$nodeToRelocate$===t),Vd=!0,t["s-sn"]=t["s-sn"]||r,s?s.$slotRefNode$=e:Pi.push({$slotRefNode$:e,$nodeToRelocate$:t}),t["s-sr"]&&Pi.map(u=>{kw(u.$nodeToRelocate$,t["s-sn"])&&(s=Pi.find(d=>d.$nodeToRelocate$===t),s&&!u.$slotRefNode$&&(u.$slotRefNode$=s.$slotRefNode$))})):Pi.some(u=>u.$nodeToRelocate$===t)||Pi.push({$nodeToRelocate$:t}));e.nodeType===1&&vC(e)}},kw=(n,e)=>n.nodeType===1?n.getAttribute("slot")===null&&e===""||n.getAttribute("slot")===e:n["s-sn"]===e?!0:e==="",wC=n=>{n.$attrs$&&n.$attrs$.ref&&n.$attrs$.ref(null),n.$children$&&n.$children$.map(wC)},X2=(n,e)=>{const t=n.$hostElement$,i=n.$cmpMeta$,r=n.$vnode$||Hd(null,null),s=j2(e)?e:kl(null,null,e);Yh=t.tagName,i.$attrsToReflect$&&(s.$attrs$=s.$attrs$||{},i.$attrsToReflect$.map(([o,a])=>s.$attrs$[a]=t[o])),s.$tag$=null,s.$flags$|=4,n.$vnode$=s,s.$elm$=r.$elm$=t.shadowRoot||t,Co=t["s-sc"],uC=t["s-cr"],dC=(i.$flags$&1)!==0,Vd=!1,Ao(r,s);{if(mn.$flags$|=1,sb){vC(s.$elm$);let o,a,l,c,u,d,h=0;for(;h<Pi.length;h++)o=Pi[h],a=o.$nodeToRelocate$,a["s-ol"]||(l=Li.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(h=0;h<Pi.length;h++)if(o=Pi[h],a=o.$nodeToRelocate$,o.$slotRefNode$){for(c=o.$slotRefNode$.parentNode,u=o.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(d=l["s-nr"],d&&d["s-sn"]===a["s-sn"]&&c===d.parentNode&&(d=d.nextSibling,!d||!d["s-nr"])){u=d;break}(!u&&c!==a.parentNode||a.nextSibling!==u)&&a!==u&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,u))}else a.nodeType===1&&(a.hidden=!0)}Vd&&bC(s.$elm$),mn.$flags$&=-2,Pi.length=0}},Z2=(n,e)=>{},EC=(n,e)=>(n.$flags$|=16,Z2(n,n.$ancestorComponent$),Sq(()=>eq(n,e))),eq=(n,e)=>{const t=n.$hostElement$,i=Zs("scheduleUpdate",n.$cmpMeta$.$tagName$),r=t;let s;return e?s=Ko(r,"componentWillLoad"):s=Ko(r,"componentWillUpdate"),s=Rw(s,()=>Ko(r,"componentWillRender")),i(),Rw(s,()=>tq(n,r,e))},tq=async(n,e,t)=>{const i=n.$hostElement$,r=Zs("update",n.$cmpMeta$.$tagName$);i["s-rc"],t&&K2(n);const s=Zs("render",n.$cmpMeta$.$tagName$);nq(n,e,i),s(),r(),iq(n)},nq=(n,e,t)=>{try{Ew=e,e=e.render&&e.render(),n.$flags$&=-17,n.$flags$|=2,(So.hasRenderFn||So.reflect)&&(So.vdomRender||So.reflect)&&(So.hydrateServerSide||X2(n,e))}catch(a){mc(a,n.$hostElement$)}return Ew=null,null},iq=n=>{const e=n.$cmpMeta$.$tagName$,t=n.$hostElement$,i=Zs("postUpdate",e),r=t;n.$ancestorComponent$,Ko(r,"componentDidRender"),n.$flags$&64?(Ko(r,"componentDidUpdate"),i()):(n.$flags$|=64,Ko(r,"componentDidLoad"),i())},Ko=(n,e,t)=>{if(n&&n[e])try{return n[e](t)}catch(i){mc(i)}},Rw=(n,e)=>n&&n.then?n.then(e):e(),rq=(n,e)=>Jh(n).$instanceValues$.get(e),sq=(n,e,t,i)=>{const r=Jh(n),s=n,o=r.$instanceValues$.get(e),a=r.$flags$,l=s;t=W2(t,i.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(t);if(t!==o&&!c){r.$instanceValues$.set(e,t);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](t,o,e)}catch(p){mc(p,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(t,o,e)===!1)return;EC(r,!1)}}}},oq=(n,e,t)=>{if(e.$members$){n.watchers&&(e.$watchers$=n.watchers);const i=Object.entries(e.$members$),r=n.prototype;i.map(([s,[o]])=>{(o&31||o&32)&&Object.defineProperty(r,s,{get(){return rq(this,s)},set(a){sq(this,s,a,e)},configurable:!0,enumerable:!0})});{const s=new Map;r.attributeChangedCallback=function(o,a,l){mn.jmp(()=>{const c=s.get(o);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},n.observedAttributes=i.filter(([o,a])=>a[0]&15).map(([o,a])=>{const l=a[1]||o;return s.set(l,o),a[0]&512&&e.$attrsToReflect$.push([o,l]),l})}}return n},aq=async(n,e,t,i,r)=>{if(!(e.$flags$&32)&&(r=n.constructor,e.$flags$|=32,customElements.whenDefined(t.$tagName$).then(()=>e.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[e.$modeName$=H2(n)]);const a=pC(t,e.$modeName$);if(!Qd.has(a)){const l=Zs("registerStyles",t.$tagName$);Q2(a,o,!!(t.$flags$&1)),l()}}e.$ancestorComponent$,(()=>EC(e,!0))()},lq=n=>{},cq=n=>{if(!(mn.$flags$&1)){const e=Jh(n),t=e.$cmpMeta$,i=Zs("connectedCallback",t.$tagName$);e.$flags$&1?(xC(n,e,t.$listeners$),lq(e.$lazyInstance$)):(e.$flags$|=1,t.$flags$&12&&uq(n),t.$members$&&Object.entries(t.$members$).map(([r,[s]])=>{if(s&31&&n.hasOwnProperty(r)){const o=n[r];delete n[r],n[r]=o}}),aq(n,e,t)),i()}},uq=n=>{const e=n["s-cr"]=Li.createComment("");e["s-cn"]=!0,n.insertBefore(e,n.firstChild)},dq=n=>{if(!(mn.$flags$&1)){const e=Jh(n);e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0)}},hq=(n,e)=>{const t={$flags$:e[0],$tagName$:e[1]};t.$members$=e[2],t.$listeners$=e[3],t.$watchers$=n.$watchers$,t.$attrsToReflect$=[];const i=n.prototype.connectedCallback,r=n.prototype.disconnectedCallback;return Object.assign(n.prototype,{__registerHost(){gq(this,t)},connectedCallback(){cq(this),i&&i.call(this)},disconnectedCallback(){dq(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)})}}),n.is=t.$tagName$,oq(n,t)},xC=(n,e,t,i)=>{t&&t.map(([r,s,o])=>{const a=fq(n,r),l=pq(e,o),c=mq(r);mn.ael(a,s,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>mn.rel(a,s,l,c))})},pq=(n,e)=>t=>{try{So.lazyLoad||n.$hostElement$[e](t)}catch(i){mc(i)}},fq=(n,e)=>e&4?Li:e&8?gc:e&16?Li.body:n,mq=n=>vq?{passive:(n&1)!==0,capture:(n&2)!==0}:(n&2)!==0,TC=new WeakMap,Jh=n=>TC.get(n),gq=(n,e)=>{const t={$flags$:0,$hostElement$:n,$cmpMeta$:e,$instanceValues$:new Map};return xC(n,t,e.$listeners$),TC.set(n,t)},Pw=(n,e)=>e in n,mc=(n,e)=>(0,console.error)(n,e),Qd=new Map,yq=[],gc=typeof window<"u"?window:{},Li=gc.document||{head:{}},bq=gc.HTMLElement||class{},mn={$flags$:0,$resourcesUrl$:"",jmp:n=>n(),raf:n=>requestAnimationFrame(n),ael:(n,e,t,i)=>n.addEventListener(e,t,i),rel:(n,e,t,i)=>n.removeEventListener(e,t,i),ce:(n,e)=>new CustomEvent(n,e)},vq=(()=>{let n=!1;try{Li.addEventListener("e",null,Object.defineProperty({},"passive",{get(){n=!0}}))}catch(e){}return n})(),wq=n=>Promise.resolve(n),Eq=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(n){}return!1})(),$w=[],SC=[],xq=(n,e)=>t=>{n.push(t),cg||(cg=!0,e&&mn.$flags$&4?Tq(ug):mn.raf(ug))},Mw=n=>{for(let e=0;e<n.length;e++)try{n[e](performance.now())}catch(t){mc(t)}n.length=0},ug=()=>{Mw($w),Mw(SC),(cg=$w.length>0)&&mn.raf(ug)},Tq=n=>wq().then(n),Sq=xq(SC,!0);let vf;const Cq=()=>{if(typeof window>"u")return new Map;if(!vf){const n=window;n.Ionicons=n.Ionicons||{},vf=n.Ionicons.map=n.Ionicons.map||new Map}return vf},Aq=n=>{let e=wf(n.src);return e||(e=CC(n.name,n.icon,n.mode,n.ios,n.md),e?Nq(e):n.icon&&(e=wf(n.icon),e||(e=wf(n.icon[n.mode]),e))?e:null)},Nq=n=>{const e=Cq().get(n);return e||L2("svg/".concat(n,".svg"))},CC=(n,e,t,i,r)=>(t=(t&&gu(t))==="ios"?"ios":"md",i&&t==="ios"?n=gu(i):r&&t==="md"?n=gu(r):(!n&&e&&!AC(e)&&(n=e),Gd(n)&&(n=gu(n))),!Gd(n)||n.trim()===""||n.replace(/[a-z]|-|\d/gi,"")!==""?null:n),wf=n=>Gd(n)&&(n=n.trim(),AC(n))?n:null,AC=n=>n.length>0&&/(\/|\.)/.test(n),Gd=n=>typeof n=="string",gu=n=>n.toLowerCase(),kq=(n,e=[])=>{const t={};return e.forEach(i=>{n.hasAttribute(i)&&(n.getAttribute(i)!==null&&(t[i]=n.getAttribute(i)),n.removeAttribute(i))}),t},Rq=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",Pq=n=>{const e=document.createElement("div");e.innerHTML=n;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const t=e.firstElementChild;if(t&&t.nodeName.toLowerCase()==="svg"){const i=t.getAttribute("class")||"";if(t.setAttribute("class",(i+" s-ion-icon").trim()),NC(t))return e.innerHTML}return""},NC=n=>{if(n.nodeType===1){if(n.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;if(Gd(t)&&t.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<n.childNodes.length;e++)if(!NC(n.childNodes[e]))return!1}return!0},$q=n=>n.startsWith("data:image/svg+xml"),Mq=n=>n.indexOf(";utf8,")!==-1,Ms=new Map,Iw=new Map;let Ef;const Iq=(n,e)=>{let t=Iw.get(n);if(!t)if(typeof fetch<"u"&&typeof document<"u")if($q(n)&&Mq(n)){Ef||(Ef=new DOMParser);const r=Ef.parseFromString(n,"text/html").querySelector("svg");return r&&Ms.set(n,r.outerHTML),Promise.resolve()}else t=fetch(n).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=Pq(r)),Ms.set(n,r||"")});Ms.set(n,"")}),Iw.set(n,t);else return Ms.set(n,""),Promise.resolve();return t},Oq=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",_q=hq(class extends bq{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=Dq(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=kq(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(n,e,t){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(r=>{r[0].isIntersecting&&(i.disconnect(),this.io=void 0,t())},{rootMargin:e});i.observe(n)}else t()}loadIcon(){if(this.isVisible){const n=Aq(this);n&&(Ms.has(n)?this.svgContent=Ms.get(n):Iq(n,this.sanitize).then(()=>this.svgContent=Ms.get(n)))}this.iconName=CC(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:n,iconName:e,inheritedAttributes:t,el:i}=this,r=this.mode||"md",s=e?(e.includes("arrow")||e.includes("chevron"))&&n!==!1:!1,o=n||s;return kl(hC,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},Lq(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":o,"icon-rtl":o&&Rq(i)})},t),this.svgContent?kl("div",{class:"icon-inner",innerHTML:this.svgContent}):kl("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return Oq}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),Dq=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",Lq=n=>n?{"ion-color":!0,["ion-color-".concat(n)]:!0}:null;function qq(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,_q);break}})}const Bq=qq,lb=ee.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{}}),Fq=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[]}onIonViewWillEnter(n){if(n.id){const e=this.ionViewWillEnterCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewWillEnterCallbacks[e]=n:this.ionViewWillEnterCallbacks.push(n)}else this.ionViewWillEnterCallbacks.push(n)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(n=>n())}onIonViewDidEnter(n){if(n.id){const e=this.ionViewDidEnterCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewDidEnterCallbacks[e]=n:this.ionViewDidEnterCallbacks.push(n)}else this.ionViewDidEnterCallbacks.push(n)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(n=>n())}onIonViewWillLeave(n){if(n.id){const e=this.ionViewWillLeaveCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewWillLeaveCallbacks[e]=n:this.ionViewWillLeaveCallbacks.push(n)}else this.ionViewWillLeaveCallbacks.push(n)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(n=>n())}onIonViewDidLeave(n){if(n.id){const e=this.ionViewDidLeaveCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewDidLeaveCallbacks[e]=n:this.ionViewDidLeaveCallbacks.push(n)}else this.ionViewDidLeaveCallbacks.push(n)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(n=>n()),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(n){this.componentCanBeDestroyedCallback=n}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},ir=ee.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:n=>{typeof window<"u"&&(typeof n=="string"?window.location.pathname=n:window.history.back())},navigate:n=>{typeof window<"u"&&(window.location.pathname=n)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(n,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(n,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),cb=n=>n.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),Xh=n=>n.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),ub=(n,e,t={})=>{if(n instanceof Element){const i=Uq(n.classList,e,t);i!==""&&(n.className=i),Object.keys(e).forEach(r=>{if(!(r==="children"||r==="style"||r==="ref"||r==="class"||r==="className"||r==="forwardedRef"))if(r.indexOf("on")===0&&r[2]===r[2].toUpperCase()){const s=r.substring(2),o=s[0].toLowerCase()+s.substring(1);yc(o)||zq(n,o,e[r])}else n[r]=e[r],typeof e[r]==="string"&&n.setAttribute(Xh(r),e[r])})}},Uq=(n,e,t)=>{const i=e.className||e.class,r=t.className||t.class,s=xf(n),o=xf(i?i.split(" "):[]),a=xf(r?r.split(" "):[]),l=[];return s.forEach(c=>{o.has(c)?(l.push(c),o.delete(c)):a.has(c)||l.push(c)}),o.forEach(c=>l.push(c)),l.join(" ")},jq=n=>{switch(n){case"doubleclick":return"dblclick"}return n};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const yc=n=>{if(typeof document>"u")return!0;{const e="on"+jq(n);let t=e in document;if(!t){const i=document.createElement("div");i.setAttribute(e,"return;"),t=typeof i[e]=="function"}return t}},zq=(n,e,t)=>{const i=n.__events||(n.__events={}),r=i[e];r&&n.removeEventListener(e,r),n.addEventListener(e,i[e]=function(o){t&&t.call(this,o)})},xf=n=>{const e=new Map;return n.forEach(t=>e.set(t,t)),e},Vq=(n,e)=>{typeof n=="function"?n(e):n!=null&&(n.current=e)},Zh=(...n)=>e=>{n.forEach(t=>{Vq(t,e)})},Hq=(n,e)=>{const t=(i,r)=>ee.createElement(n,Object.assign({},i,{forwardedRef:r}));return t.displayName=e,ee.forwardRef(t)},Wq=(n,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(n)&&customElements.define(n,e)},at=(n,e,t,i)=>{i!==void 0&&i();const r=cb(n),s=class extends ee.Component{constructor(o){super(o),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(o){ub(this.componentEl,this.props,o)}render(){const o=this.props,{children:a,forwardedRef:l,style:c,className:u,ref:d}=o,h=rn(o,["children","forwardedRef","style","className","ref"]);let p=Object.keys(h).reduce((m,T)=>{const w=h[T];if(T.indexOf("on")===0&&T[2]===T[2].toUpperCase()){const b=T.substring(2).toLowerCase();typeof document<"u"&&yc(b)&&(m[T]=w)}else{const b=typeof w;(b==="string"||b==="boolean"||b==="number")&&(m[Xh(T)]=w)}return m},{});t&&(p=t(this.props,p));const g=Object.assign(Object.assign({},p),{ref:Zh(l,this.setComponentElRef),style:c});return we.createElement(n,g,a)}static get displayName(){return r}};return e&&(s.contextType=e),Hq(s,r)},Qq=at("ion-badge",void 0,void 0,s_),bc=at("ion-buttons",void 0,void 0,u_),Ji=at("ion-col",void 0,void 0,C_),aa=at("ion-content",void 0,void 0,M_),Kd=at("ion-grid",void 0,void 0,J_),ps=at("ion-header",void 0,void 0,aD),Tf=at("ion-img",void 0,void 0,hD),Gq=at("ion-input",void 0,void 0,kD),as=at("ion-label",void 0,void 0,RD),Kq=at("ion-list",void 0,void 0,OD),Yq=at("ion-menu",void 0,void 0,VD),kC=at("ion-menu-button",void 0,void 0,KD),tl=at("ion-menu-toggle",void 0,void 0,ZD),Jq=at("ion-range",void 0,void 0,hL),qs=at("ion-row",void 0,void 0,gL),Xq=at("ion-spinner",void 0,void 0,NL),Sf=at("ion-text",void 0,void 0,$L),tc=at("ion-title",void 0,void 0,DL),la=at("ion-toolbar",void 0,void 0,UL),ao=(n,e)=>{const t=(i,r)=>ee.createElement(n,Object.assign({},i,{forwardedRef:r}));return t.displayName=e,ee.forwardRef(t)},Zq=n=>br(window,n),db=()=>{if(typeof window<"u"){const n=window.Ionic;if(n&&n.config)return n.config}return null},RC=(n,e)=>{Wq(n,e);const t=cb(n),i=class extends ee.Component{constructor(r){super(r),this.handleClick=s=>{const{routerLink:o,routerDirection:a,routerOptions:l,routerAnimation:c}=this.props;o!==void 0&&(s.preventDefault(),this.context.navigate(o,a,void 0,c,l))},this.ref=ee.createRef(),this.stableMergedRefs=Zh(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(r){const s=this.ref.current;ub(s,this.props,r)}render(){const r=this.props,{children:s,forwardedRef:o,style:a,className:l,ref:c}=r,u=rn(r,["children","forwardedRef","style","className","ref"]),d=Object.keys(u).reduce((p,g)=>{if(g.indexOf("on")===0&&g[2]===g[2].toUpperCase()){const m=g.substring(2).toLowerCase();yc(m)&&(p[g]=u[g])}else["string","boolean","number"].includes(typeof u[g])&&(p[Xh(g)]=u[g]);return p},{}),h=Object.assign(Object.assign({},d),{ref:this.stableMergedRefs,style:a});if(this.props.routerLink&&!this.props.href&&(h.href=this.props.routerLink),h.onClick){const p=h.onClick;h.onClick=g=>{p(g),g.defaultPrevented||this.handleClick(g)}}else h.onClick=this.handleClick;return we.createElement(n,h,s)}static get displayName(){return t}static get contextType(){return ir}};return ao(i,t)},kn=RC("ion-button",jL),Gr=RC("ion-item",zL),eB=(n,e)=>{n instanceof Element&&Object.keys(e).forEach(t=>{if(t.indexOf("on")===0&&t[2]===t[2].toUpperCase()){const i=t.substring(2),r=i[0].toLowerCase()+i.substring(1);yc(r)||tB(n,r)}})},tB=(n,e)=>{const t=n.__events||(n.__events={}),i=t[e];i&&(n.removeEventListener(e,i),t[e]=void 0)},PC=(n,e,t)=>{e&&e();const i=cb(n),r=class extends ee.Component{constructor(s){super(s),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=o=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(o)},this.handleDidDismiss=o=>{const a=this.wrapperRef.current,l=this.ref.current;a&&l&&(l.append(a),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(o)},this.ref=ee.createRef(),this.stableMergedRefs=Zh(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=ee.createRef()}componentDidMount(){var s,o,a;this.componentDidUpdate(this.props),(s=this.ref.current)===null||s===void 0||s.addEventListener("ionMount",this.handleIonMount),(o=this.ref.current)===null||o===void 0||o.addEventListener("willPresent",this.handleWillPresent),(a=this.ref.current)===null||a===void 0||a.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(s){const o=this.ref.current,a=this.props,l=rn(a,["onDidDismiss","onWillPresent"]);ub(o,l,s)}componentWillUnmount(){const s=this.ref.current;s&&this.state.isOpen&&(s.removeEventListener("didDismiss",this.handleDidDismiss),s.remove(),eB(s,this.props))}render(){const s=this.props,{children:o,forwardedRef:a,style:l,className:c,ref:u}=s,d=rn(s,["children","forwardedRef","style","className","ref"]),h=Object.keys(d).reduce((m,T)=>{if(T.indexOf("on")===0&&T[2]===T[2].toUpperCase()){const w=T.substring(2).toLowerCase();yc(w)&&(m[T]=d[T])}else["string","boolean","number"].includes(typeof d[T])&&(m[Xh(T)]=d[T]);return m},{}),p=Object.assign(Object.assign({},h),{ref:this.stableMergedRefs,style:l}),g=()=>t?"".concat(Ow," ion-page"):Ow;return we.createElement("template",{},we.createElement(n,p,this.state.isOpen||this.props.keepContentsMounted?we.createElement("div",{ref:this.wrapperRef,className:g()},o):null))}static get displayName(){return i}};return ao(r,i)},Ow="ion-delegate-host",$C=PC("ion-alert",VL),nB=PC("ion-modal",d2,!0),iB=ee.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),rB=({onAddOverlay:n,onRemoveOverlay:e})=>{const[t,i]=we.useState({}),r=we.useRef({});r.current=t,we.useEffect(()=>{n(s),e(o)},[]);const s=(l,c,u)=>{const d=Object.assign({},r.current);d[l]={component:c,containerElement:u},i(d)},o=l=>{const c=Object.assign({},r.current);delete c[l],i(c)},a=Object.keys(t);return ee.createElement(ee.Fragment,null,a.map(l=>{const c=t[l];return r$.createPortal(c.component,c.containerElement,"overlay-".concat(l))}))},sB=at("ion-tab-button",void 0,void 0,D2),oB=at("ion-tab-bar",void 0,void 0,$2),aB=at("ion-back-button",void 0,void 0,x2),dg=at("ion-router-outlet",void 0,void 0,A2),lB=at("ion-app",void 0,void 0,y2),cB=at("ion-icon",void 0,void 0,Bq),uB=(()=>class extends ee.Component{constructor(n){super(n),this.ionContext={addOverlay:(e,t,i)=>{this.addOverlayCallback&&this.addOverlayCallback(e,t,i)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return ee.createElement(iB.Provider,{value:this.ionContext},ee.createElement(lB,Object.assign({},this.props),this.props.children),ee.createElement(rB,{onAddOverlay:n=>{this.addOverlayCallback=n},onRemoveOverlay:n=>{this.removeOverlayCallback=n}}))}static get displayName(){return"IonApp"}})(),hb=ee.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class MC extends ee.PureComponent{constructor(e){super(e),this.ionPageElementRef=ee.createRef(),this.stableMergedRefs=Zh(this.ionPageElementRef,this.props.forwardedRef)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:t,children:i,routeInfo:r,forwardedRef:s}=e,o=rn(e,["className","children","routeInfo","forwardedRef"]);return ee.createElement(lb.Consumer,null,a=>(this.ionLifeCycleContext=a,ee.createElement("div",Object.assign({className:t?"".concat(t," ion-page"):"ion-page",ref:this.stableMergedRefs},o),i)))}static get contextType(){return hb}}class dB extends ee.Component{constructor(e){super(e)}render(){const e=this.props,{className:t,children:i,forwardedRef:r}=e,s=rn(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?ee.createElement(MC,Object.assign({className:t?"".concat(t):"",routeInfo:this.context.routeInfo,forwardedRef:r},s),i):ee.createElement("div",Object.assign({className:t?"ion-page ".concat(t):"ion-page",ref:r},s),i)}static get displayName(){return"IonPage"}static get contextType(){return ir}}const ep=ao(dB,"IonPage"),hB=(n,e)=>{const t=new WeakMap;return{attachViewToDom:async(s,o,a,l)=>{const c=document.createElement("div");l&&c.classList.add(...l),s.appendChild(c);const u=o(a),d=Ny.createPortal(u,c);return t.set(c,d),n(d),Promise.resolve(c)},removeViewFromDom:(s,o)=>{const a=t.get(o);return a&&e(a),o.remove(),Promise.resolve()}}},pB=at("ion-nav",void 0,void 0,rL),fB=n=>{var{children:e,forwardedRef:t}=n,i=rn(n,["children","forwardedRef"]);const[r,s]=we.useState([]),o=c=>s(u=>[...u,c]),a=c=>s(u=>u.filter(d=>d!==c)),l=we.useMemo(()=>hB(o,a),[]);return ee.createElement(pB,Object.assign({delegate:l,ref:t},i),r)};ao(fB,"IonNav");ee.createContext({activeTab:void 0,selectTab:()=>!1});const mB=typeof HTMLElement<"u"?HTMLElement:class{};class gB extends ee.Component{constructor(e){super(e),this.outletIsReady=!1}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Ks(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:t,children:i,routeInfo:r}=e,s=rn(e,["StackManager","children","routeInfo"]);return ee.createElement(lb.Consumer,null,o=>(this.ionLifeCycleContext=o,ee.createElement(t,{routeInfo:r},ee.createElement(dg,Object.assign({setRef:a=>this.ionRouterOutlet=a},s),i))))}static get contextType(){return hb}}class yB extends ee.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),t=this.props,{children:i,forwardedRef:r}=t,s=rn(t,["children","forwardedRef"]);return this.context.hasIonicRouter()?s.ionPage?ee.createElement(gB,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},s),i):ee.createElement(e,{routeInfo:this.context.routeInfo},ee.createElement(dg,Object.assign({},s,{forwardedRef:r}),i)):ee.createElement(dg,Object.assign({ref:r},this.props),this.props.children)}static get contextType(){return ir}}const bB=ao(yB,"IonRouterOutlet"),Yo=(()=>class extends ee.Component{constructor(n){super(n),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const n=this.props,e=rn(n,["onClick"]);return ee.createElement(sB,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}})();class vB extends ee.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=i=>{};const t={};ee.Children.forEach(e.children,i=>{var r,s,o,a;i!=null&&typeof i=="object"&&i.props&&(i.type===Yo||i.type.isTabButton)&&(t[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((r=e.routeInfo)===null||r===void 0?void 0:r.pathname)?(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions:void 0,currentRouteOptions:i.props.href===((o=e.routeInfo)===null||o===void 0?void 0:o.pathname)?(a=e.routeInfo)===null||a===void 0?void 0:a.routeOptions:void 0})}),this.state={tabs:t},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,i=Object.keys(e).find(r=>{const s=e[r].originalHref;return this.props.routeInfo.pathname.startsWith(s)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const t=this.state.tabs[e];return t?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,t){var i,r,s;const o=Object.assign({},t.tabs),l=Object.keys(t.tabs).find(u=>{const d=t.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});ee.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===Yo||u.type.isTabButton)){const d=o[u.props.tab];(!d||d.originalHref!==u.props.href)&&(o[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:c}=t;if(l&&c){const u=t.tabs[c].currentHref,d=t.tabs[c].currentRouteOptions;(l!==c||u!==((i=e.routeInfo)===null||i===void 0?void 0:i.pathname)||d!==((r=e.routeInfo)===null||r===void 0?void 0:r.routeOptions))&&(o[l]={originalHref:o[l].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:o[l].originalRouteOptions,currentRouteOptions:(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions},e.routeInfo.routeAction==="pop"&&l!==c&&(o[c]={originalHref:o[c].originalHref,currentHref:o[c].originalHref,originalRouteOptions:o[c].originalRouteOptions,currentRouteOptions:o[c].currentRouteOptions}))}return l&&e.onSetCurrentTab(l,e.routeInfo),{activeTab:l,tabs:o}}onTabButtonClick(e,t){const i=this.state.tabs[e.detail.tab],r=i.originalHref,s=e.detail.href,{activeTab:o}=this.state;t&&t(e),o===e.detail.tab?r!==s&&this.context.resetTab(e.detail.tab,r,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,s,e.detail.routeOptions))}renderTabButton(e){return t=>{var i,r;if(t!=null&&t.props&&(t.type===Yo||t.type.isTabButton)){const s=t.props.tab===e?(i=this.props.routeInfo)===null||i===void 0?void 0:i.pathname:this.state.tabs[t.props.tab].currentHref,o=t.props.tab===e?(r=this.props.routeInfo)===null||r===void 0?void 0:r.routeOptions:this.state.tabs[t.props.tab].currentRouteOptions;return ee.cloneElement(t,{href:s,routeOptions:o,onClick:a=>this.onTabButtonClick(a,t.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return ee.createElement(oB,Object.assign({},this.props,{selectedTab:e}),ee.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return ir}}const wB=ee.memo(n=>{var{forwardedRef:e}=n,t=rn(n,["forwardedRef"]);const i=we.useContext(ir);return ee.createElement(vB,Object.assign({ref:e},t,{routeInfo:t.routeInfo||i.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:i.setCurrentTab}),t.children)}),EB=ao(wB,"IonTabBar");class xB extends mB{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",xB));const TB=(()=>class extends ee.Component{constructor(){super(...arguments),this.clickButton=n=>{if(n.target&&n.target.closest("ion-nav")!==null)return;const{defaultHref:e,routerAnimation:t}=this.props;this.context.hasIonicRouter()?(n.stopPropagation(),this.context.goBack(e,t)):e!==void 0&&(window.location.href=e)}}render(){return ee.createElement(aB,Object.assign({onClick:this.clickButton},this.props))}static get displayName(){return"IonBackButton"}static get contextType(){return ir}})();class SB extends ee.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,t;const i=this.props,{icon:r,ios:s,md:o,mode:a}=i,l=rn(i,["icon","ios","md","mode"]);let c;const u=db(),d=a||(u==null?void 0:u.get("mode"));return s||o?d==="ios"?c=(e=s!=null?s:o)!==null&&e!==void 0?e:r:c=(t=o!=null?o:s)!==null&&t!==void 0?t:r:c=r,ee.createElement(cB,Object.assign({ref:this.props.forwardedRef,icon:c},l),this.props.children)}static get contextType(){return ir}}const zn=ao(SB,"IonIcon");class pb extends ee.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!pb?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):ee.createElement(e,Object.assign({},this.props))}static get contextType(){return ir}}class IC extends ee.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!IC?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):ee.createElement(e,Object.assign({},this.props))}static get contextType(){return ir}}const CB=ee.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class bH extends ee.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=Le(e.id)}setupAnimation(e){const t=this.animation;this.nodes.size>0&&t.addElement(Array.from(this.nodes.values())),_w(t,e),Dw(t,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const t=this.animation,i=this.props;_w(t,i,e),AB(t,i,e),Dw(t,i,e)}render(){const{children:e}=this.props;return ee.createElement(ee.Fragment,null,ee.Children.map(e,(t,i)=>ee.cloneElement(t,{ref:r=>this.nodes.set(i,r)})))}}const _w=(n,e={},t={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!i.includes(l)&&e[l]!==t[l]&&n[l](e[l]);const r=e.from;r&&r!==t.from&&(Array.isArray(r)?r:[r]).forEach(c=>n.from(c.property,c.value));const s=e.to;s&&s!==t.to&&(Array.isArray(s)?s:[s]).forEach(c=>n.to(c.property,c.value));const o=e.fromTo;o&&o!==t.fromTo&&(Array.isArray(o)?o:[o]).forEach(c=>n.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==t.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>n.onFinish(c.callback,c.opts))},AB=(n,e={},t={})=>{var i,r,s,o,a;const{progressStart:l,progressStep:c,progressEnd:u}=e;l&&(((i=t.progressStart)===null||i===void 0?void 0:i.forceLinearEasing)!==(l==null?void 0:l.forceLinearEasing)||((r=t.progressStart)===null||r===void 0?void 0:r.step)!==(l==null?void 0:l.step))&&n.progressStart(l.forceLinearEasing,l.step),c&&((s=t.progressStep)===null||s===void 0?void 0:s.step)!==(c==null?void 0:c.step)&&n.progressStep(c.step),u&&(((o=t.progressEnd)===null||o===void 0?void 0:o.playTo)!==(u==null?void 0:u.playTo)||((a=t.progressEnd)===null||a===void 0?void 0:a.step)!==(u==null?void 0:u.step)||(t==null?void 0:t.dur)!==(u==null?void 0:u.dur))&&n.progressEnd(u.playTo,u.step,u.dur)},Dw=(n,e={},t={})=>{!t.play&&e.play&&n.play(),!t.pause&&e.pause&&n.pause(),!t.stop&&e.stop&&n.stop(),!t.destroy&&e.destroy&&n.destroy()},Lw={main:0},Yd=(n="main")=>{var e;const t=((e=Lw[n])!==null&&e!==void 0?e:0)+1;return Lw[n]=t,t.toString()},NB=(n={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),lO(Object.assign({},n))},OC=ee.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class qw extends ee.Component{constructor(e){super(e),this.ionLifeCycleContext=new Fq,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return ee.createElement(lb.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class kB{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const t=this._getRouteInfosByKey(e);t&&(t.forEach(i=>{this.locationHistory=this.locationHistory.filter(r=>r.id!==i.id)}),this.tabHistory[e]=[])}update(e){const t=this.locationHistory.findIndex(r=>r.id===e.id);t>-1&&this.locationHistory.splice(t,1,e);const i=this.tabHistory[e.tab||""];if(i){const r=i.findIndex(s=>s.id===e.id);r>-1?i.splice(r,1,e):i.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const t=this._getRouteInfosByKey(e.tab);t&&(this._areRoutesEqual(t[t.length-1],e)&&t.pop(),t.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,t){return!e||!t?!1:e.pathname===t.pathname&&e.search===t.search}_pop(e){const t=this._getRouteInfosByKey(e.tab);t&&(t.pop(),t.pop(),t.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const t=this._getRouteInfosByKey(e.tab);t&&t.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(t=>this.tabHistory[t]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let t;return e&&(t=this.tabHistory[e],t||(t=this.tabHistory[e]=[])),t}getFirstRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[0]}getCurrentRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[t.length-1]}findLastLocation(e){const t=this._getRouteInfosByKey(e.tab);if(t)for(let i=t.length-2;i>=0;i--){const r=t[i];if(r&&r.pathname===e.pushedByRoute)return r}for(let i=this.locationHistory.length-2;i>=0;i--){const r=this.locationHistory[i];if(r&&r.pathname===e.pushedByRoute)return r}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class RB extends ee.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(t,i,r,s,o)=>{this.navigate(t,i,r,o,s)},back:t=>{this.goBack(void 0,t)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,t=>{this.nativeGoBack(),t()})}goBack(e,t){this.props.onNavigateBack(e,t)}nativeGoBack(){this.props.onNativeBack()}navigate(e,t="forward",i="push",r,s,o){this.props.onNavigate(e,i,t,r,s,o)}getPageManager(){return MC}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return ee.createElement(ir.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},ee.createElement(CB.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class PB{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:t}=e;this.viewStacks[t]?this.viewStacks[t].push(e):this.viewStacks[t]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:t}=e,i=this.viewStacks[t];if(i){const r=i.find(s=>s.id===e.id);r&&(r.mount=!1,this.viewStacks[t]=i.filter(s=>s.id!==r.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),t=[];return e.forEach(i=>{t.push(...this.viewStacks[i])}),t}}class $B extends ee.PureComponent{render(){return ee.createElement(pl,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}class MB extends PB{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,t,i,r){const s={id:Yd("viewItem"),outletId:e,ionPageElement:r,reactElement:t,mount:!0,ionRoute:!1},o={exact:t.props.exact,path:t.props.path||t.props.from,component:t.props.component},a=Qs(i.pathname,o);return t.type===pb&&(s.ionRoute=!0,s.disableIonPageManagement=t.props.disableIonPageManagement),s.routeData={match:a,childProps:t.props},s}getChildrenToRender(e,t,i){const r=this.getViewItemsForOutlet(e);return ee.Children.forEach(t.props.children,o=>{const a=r.find(l=>Bw(o,l.routeData.childProps.path||l.routeData.childProps.from));a&&(a.reactElement=o)}),r.map(o=>{let a;if(o.ionRoute&&!o.disableIonPageManagement)a=ee.createElement(qw,{key:"view-".concat(o.id),mount:o.mount,removeView:()=>this.remove(o)},ee.cloneElement(o.reactElement,{computedMatch:o.routeData.match}));else{const l=Bw(o.reactElement,i.pathname);a=ee.createElement(qw,{key:"view-".concat(o.id),mount:o.mount,removeView:()=>this.remove(o)},ee.cloneElement(o.reactElement,{computedMatch:o.routeData.match})),!l&&o.routeData.match&&(o.routeData.match=void 0,o.mount=!1)}return a})}findViewItemByRouteInfo(e,t,i){const{viewItem:r,match:s}=this.findViewItemByPath(e.pathname,t);return(i===void 0||i===!0)&&r&&s&&(r.routeData.match=s),r}findLeavingViewItemByRouteInfo(e,t,i=!0){const{viewItem:r}=this.findViewItemByPath(e.lastPathname,t,!1,i);return r}findViewItemByPathname(e,t){const{viewItem:i}=this.findViewItemByPath(e,t);return i}findViewItemByPath(e,t,i,r){let s,o,a;if(t)a=this.getViewItemsForOutlet(t),a.some(l),s||a.some(c);else{const u=this.getAllViewItems();u.some(l),s||u.some(c)}return{viewItem:s,match:o};function l(u){if(r&&!u.ionRoute)return!1;const d={exact:i?!0:u.routeData.childProps.exact,path:u.routeData.childProps.path||u.routeData.childProps.from,component:u.routeData.childProps.component},h=Qs(e,d);return h?(s=u,o=h,!0):!1}function c(u){return!u.routeData.childProps.path&&!u.routeData.childProps.from?(o={path:e,url:e,isExact:!0,params:{}},s=u,!0):!1}}}function Bw(n,e,t){const i={exact:t?!0:n.props.exact,path:n.props.path||n.props.from,component:n.props.component};return Qs(e,i)}function IB(n){let e;if(typeof n=="string"?e=n:e=n.outerHTML,document){const t=document.createElement("div");t.innerHTML=e,t.style.zIndex="";const i=t.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),t.firstChild}}const Fw=n=>!n.classList.contains("ion-page-invisible")&&!n.classList.contains("ion-page-hidden");class OB extends ee.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=Yd("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:t}=this.props.routeInfo,{pathname:i}=e.routeInfo;t!==i?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var t,i;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let r=this.context.findViewItemByRouteInfo(e,this.id),s=this.context.findLeavingViewItemByRouteInfo(e,this.id);!s&&e.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),s&&(e.routeAction==="replace"?s.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((t=e.routeOptions)===null||t===void 0)&&t.unmount&&(s.mount=!1):e.routeDirection!=="none"&&r!==s&&(s.mount=!1));const o=_B((i=this.ionRouterOutlet)===null||i===void 0?void 0:i.props.children,e);if(r?r.reactElement=o:o&&(r=this.context.createViewItem(this.id,o,e),this.context.addViewItem(r)),r&&r.ionPageElement){if(r===s&&r.routeData.match.url!==e.pathname||(!s&&this.props.routeInfo.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),Fw(r.ionPageElement)&&s!==void 0&&!Fw(s.ionPageElement)))return;this.transitionPage(e,r,s)}else s&&!o&&!r&&s.ionPageElement&&(s.ionPageElement.classList.add("ion-page-hidden"),s.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,t){const i=this.context.findViewItemByRouteInfo(t,this.id);if(i){const r=i.ionPageElement;if(i.ionPageElement=e,i.ionRoute=!0,r===e)return}this.handlePageTransition(t)}async setupRouterOutlet(e){const t=()=>{const s=db();if(!(s&&s.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},i=async()=>{const{routeInfo:s}=this.props,o=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(o,this.id,!1),l=this.context.findViewItemByRouteInfo(s,this.id,!1);return a&&l&&await this.transitionPage(s,a,l,"back",!0),Promise.resolve()},r=s=>{if(s)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:o}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(o,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:t,onStart:i,onEnd:r}}async transitionPage(e,t,i,r,s=!1){const o=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await a.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:s,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=r!=null?r:l;if(t&&t.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&t===i)if(DB(i.reactElement,e.pathname,!0)){const d=IB(i.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await o(t.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await o(t.ionPageElement,void 0);else await o(t.ionPageElement,i==null?void 0:i.ionPageElement),i&&i.ionPageElement&&!s&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,t=ee.Children.only(e);this.ionRouterOutlet=t;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return ee.createElement(hb.Provider,{value:this.stackContextValue},ee.cloneElement(t,{ref:r=>{t.props.setRef&&t.props.setRef(r),t.props.forwardedRef&&(t.props.forwardedRef.current=r),this.routerOutletElement=r;const{ref:s}=t;typeof s=="function"&&s(r)}},i))}static get contextType(){return OC}}function _B(n,e){let t;return ee.Children.forEach(n,i=>{const r={exact:i.props.exact,path:i.props.path||i.props.from,component:i.props.component};Qs(e.pathname,r)&&(t=i)}),t||(ee.Children.forEach(n,i=>{i.props.path||i.props.from||(t=i)}),t)}function DB(n,e,t){const i={exact:t?!0:n.props.exact,path:n.props.path||n.props.from,component:n.props.component};return Qs(e,i)}class LB extends ee.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new kB,this.viewStack=new MB,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const t={id:Yd("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(t),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:t}}handleChangeTab(e,t,i){if(!t)return;const r=this.locationHistory.getCurrentRouteInfoForTab(e),[s,o]=t.split("?");r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===s?(this.incomingRouteParams.routeOptions=i,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=s,this.incomingRouteParams.search=o?"?"+o:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(s+(o?"?"+o:"")))):this.handleNavigate(s,"push","none",void 0,i,e)}handleHistoryChange(e,t){var i,r,s;let o;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?o=this.locationHistory.previous():o=this.locationHistory.current():o=this.locationHistory.current(),o.pathname+o.search!==e.pathname){if(!this.incomingRouteParams){if(t==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),t==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((i=e.state)===null||i===void 0?void 0:i.direction)||"forward",routeOptions:(r=e.state)===null||r===void 0?void 0:r.routerOptions,tab:this.currentTab})}let l;if(!((s=this.incomingRouteParams)===null||s===void 0)&&s.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:Yd("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),c)l.tab=o.tab,l.pushedByRoute=o.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==o.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=(u==null?void 0:u.routeDirection)||l.routeDirection,l.routeAnimation=(u==null?void 0:u.routeAnimation)||l.routeAnimation}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,t,i,r,s,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:t,routeDirection:i,routeOptions:s,routeAnimation:r,tab:o}),t==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",t){const i=db();e=e||i&&i.get("backButtonDefaultHref");const r=this.locationHistory.current();if(r&&r.pushedByRoute){const s=this.locationHistory.findLastLocation(r);if(s)if(this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back",routeAnimation:t||r.routeAnimation}),r.lastPathname===r.pushedByRoute||s.pathname===r.pushedByRoute&&r.tab===""&&s.tab===""){const o=this.props.history;(o.goBack||o.back)()}else this.handleNavigate(s.pathname+(s.search||""),"pop","back",t);else this.handleNavigate(e,"pop","back",t)}else this.handleNavigate(e,"pop","back",t)}handleResetTab(e,t,i){const r=this.locationHistory.getFirstRouteInfoForTab(e);if(r){const s=Object.assign({},r);s.pathname=t,s.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(s.pathname+(s.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const t=Object.assign({},this.locationHistory.current());t.tab!==e&&(t.tab=e,this.locationHistory.update(t))}render(){return ee.createElement(OC.Provider,{value:this.routeMangerContextState},ee.createElement(RB,{ionRoute:$B,ionRedirect:{},stackManager:OB,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const tp=gM(LB);tp.displayName="IonRouter";class qB extends ee.Component{constructor(e){super(e);const{history:t}=e,i=rn(e,["history"]);this.history=t||v$(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const i=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,i=rn(e,["children"]);return ee.createElement(hc,Object.assign({history:this.history},i),ee.createElement(tp,{registerHistoryListener:this.registerHistoryListener},t))}}class vH extends ee.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const i=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,i=rn(e,["children"]);return ee.createElement(hc,Object.assign({},i),ee.createElement(tp,{registerHistoryListener:this.registerHistoryListener},t))}}class wH extends ee.Component{constructor(e){super(e);const{history:t}=e,i=rn(e,["history"]);this.history=t||x$(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const i=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,i=rn(e,["children"]);return ee.createElement(hc,Object.assign({history:this.history},i),ee.createElement(tp,{registerHistoryListener:this.registerHistoryListener},t))}}const BB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M321.94 98L158.82 237.78a24 24 0 000 36.44L321.94 414c15.57 13.34 39.62 2.28 39.62-18.22v-279.6c0-20.5-24.05-31.56-39.62-18.18z'/></svg>",FB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M190.06 414l163.12-139.78a24 24 0 000-36.44L190.06 98c-15.57-13.34-39.62-2.28-39.62 18.22v279.6c0 20.5 24.05 31.56 39.62 18.18z'/></svg>",UB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80a176 176 0 10176 176A176 176 0 00256 80z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296' stroke-linecap='round' stroke-miterlimit='10' stroke-width='28' class='ionicon-fill-none'/><circle cx='250' cy='348' r='20'/></svg>",jB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z'/><path d='M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z'/></svg>",zB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M480 257.35c0-123.7-100.3-224-224-224s-224 100.3-224 224c0 111.8 81.9 204.47 189 221.29V322.12h-56.89v-64.77H221V208c0-56.13 33.45-87.16 84.61-87.16 24.51 0 50.15 4.38 50.15 4.38v55.13H327.5c-27.81 0-36.51 17.26-36.51 35v42h62.12l-9.92 64.77H291v156.54c107.1-16.81 189-109.48 189-221.31z' fill-rule='evenodd'/></svg>",VB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M349.33 69.33a93.62 93.62 0 0193.34 93.34v186.66a93.62 93.62 0 01-93.34 93.34H162.67a93.62 93.62 0 01-93.34-93.34V162.67a93.62 93.62 0 0193.34-93.34h186.66m0-37.33H162.67C90.8 32 32 90.8 32 162.67v186.66C32 421.2 90.8 480 162.67 480h186.66C421.2 480 480 421.2 480 349.33V162.67C480 90.8 421.2 32 349.33 32z'/><path d='M377.33 162.67a28 28 0 1128-28 27.94 27.94 0 01-28 28zM256 181.33A74.67 74.67 0 11181.33 256 74.75 74.75 0 01256 181.33m0-37.33a112 112 0 10112 112 112 112 0 00-112-112z'/></svg>",HB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448.67 154.45L274.1 68.2a41.1 41.1 0 00-36.2 0L63.33 154.45A55.6 55.6 0 0032 204.53v184.61c0 30.88 25.42 56 56.67 56h334.66c31.25 0 56.67-25.12 56.67-56V204.53a55.6 55.6 0 00-31.33-50.08zM252.38 96.82a8.22 8.22 0 017.24 0L429 180.48l-172 85a8.22 8.22 0 01-7.24 0L80.35 181.81z'/></svg>",WB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M224 432h-80V80h80zM368 432h-80V80h80z'/></svg>",QB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M96 448l320-192L96 64v384z'/></svg>",GB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>",_C="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='272' r='16'/><path d='M280 81.5V72a24 24 0 00-48 0v9.5a191 191 0 00-84.43 32.13L137 103a24 24 0 00-34 34l8.6 8.6A191.17 191.17 0 0064 272c0 105.87 86.13 192 192 192s192-86.13 192-192c0-97.74-73.42-178.66-168-190.5zM256 320a48 48 0 01-16-93.25V152a16 16 0 0132 0v74.75A48 48 0 01256 320z'/></svg>",KB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M434.67 285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179 179 0 00-140.14 67.36m-38.53 82v29.8C76.8 355 157 435 256 435a180.45 180.45 0 00140-66.92' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M32 256l44-44 46 44M480 256l-44 44-46-44' class='ionicon-fill-none ionicon-stroke-width'/></svg>",YB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z'/></svg>",Uw=n=>{let e;const t=new Set,i=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const d=e;e=(c!=null?c:typeof u!="object")?u:Object.assign({},e,u),t.forEach(h=>h(e,d))}},r=()=>e,a={setState:i,getState:r,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>{t.clear()}};return e=n(i,r,a),a},JB=n=>n?Uw(n):Uw;var DC={exports:{}},LC={},qC={exports:{}},BC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ca=we;function XB(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ZB=typeof Object.is=="function"?Object.is:XB,e3=ca.useState,t3=ca.useEffect,n3=ca.useLayoutEffect,i3=ca.useDebugValue;function r3(n,e){var t=e(),i=e3({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return n3(function(){r.value=t,r.getSnapshot=e,Cf(r)&&s({inst:r})},[n,t,e]),t3(function(){return Cf(r)&&s({inst:r}),n(function(){Cf(r)&&s({inst:r})})},[n]),i3(t),t}function Cf(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ZB(n,t)}catch(i){return!0}}function s3(n,e){return e()}var o3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?s3:r3;BC.useSyncExternalStore=ca.useSyncExternalStore!==void 0?ca.useSyncExternalStore:o3;qC.exports=BC;var a3=qC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np=we,l3=a3;function c3(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var u3=typeof Object.is=="function"?Object.is:c3,d3=l3.useSyncExternalStore,h3=np.useRef,p3=np.useEffect,f3=np.useMemo,m3=np.useDebugValue;LC.useSyncExternalStoreWithSelector=function(n,e,t,i,r){var s=h3(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=f3(function(){function l(p){if(!c){if(c=!0,u=p,p=i(p),r!==void 0&&o.hasValue){var g=o.value;if(r(g,p))return d=g}return d=p}if(g=d,u3(u,p))return g;var m=i(p);return r!==void 0&&r(g,m)?g:(u=p,d=m)}var c=!1,u,d,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,i,r]);var a=d3(n,s[0],s[1]);return p3(function(){o.hasValue=!0,o.value=a},[a]),m3(a),a};DC.exports=LC;var g3=DC.exports;const y3=fs(g3),{useSyncExternalStoreWithSelector:b3}=y3;function v3(n,e=n.getState,t){const i=b3(n.subscribe,n.getState,n.getServerState||n.getState,e,t);return we.useDebugValue(i),i}const jw=n=>{const e=typeof n=="function"?JB(n):n,t=(i,r)=>v3(e,i,r);return Object.assign(t,e),t},w3=n=>n?jw(n):jw,hg=new Map,yu=n=>{const e=hg.get(n);return e?Object.fromEntries(Object.entries(e.stores).map(([t,i])=>[t,i.getState()])):{}},E3=(n,e,t)=>{if(n===void 0)return{type:"untracked",connection:e.connect(t)};const i=hg.get(t.name);if(i)return{type:"tracked",store:n,...i};const r={connection:e.connect(t),stores:{}};return hg.set(t.name,r),{type:"tracked",store:n,...r}},x3=(n,e={})=>(t,i,r)=>{const{enabled:s,anonymousActionType:o,store:a,...l}=e;let c;try{c=(s!=null?s:!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(m){}if(!c)return n(t,i,r);const{connection:u,...d}=E3(a,c,l);let h=!0;r.setState=(m,T,w)=>{const b=t(m,T);if(!h)return b;const v=w===void 0?{type:o||"anonymous"}:typeof w=="string"?{type:w}:w;return a===void 0?(u==null||u.send(v,i()),b):(u==null||u.send({...v,type:"".concat(a,"/").concat(v.type)},{...yu(l.name),[a]:r.getState()}),b)};const p=(...m)=>{const T=h;h=!1,t(...m),h=T},g=n(r.setState,i,r);if(d.type==="untracked"?u==null||u.init(g):(d.stores[d.store]=r,u==null||u.init(Object.fromEntries(Object.entries(d.stores).map(([m,T])=>[m,m===d.store?g:T.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){let m=!1;const T=r.dispatch;r.dispatch=(...w)=>{T(...w)}}return u.subscribe(m=>{var T;switch(m.type){case"ACTION":if(typeof m.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Af(m.payload,w=>{if(w.type==="__setState"){if(a===void 0){p(w.state);return}Object.keys(w.state).length!==1&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const b=w.state[a];if(b==null)return;JSON.stringify(r.getState())!==JSON.stringify(b)&&p(b);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(w)});case"DISPATCH":switch(m.payload.type){case"RESET":return p(g),a===void 0?u==null?void 0:u.init(r.getState()):u==null?void 0:u.init(yu(l.name));case"COMMIT":if(a===void 0){u==null||u.init(r.getState());return}return u==null?void 0:u.init(yu(l.name));case"ROLLBACK":return Af(m.state,w=>{if(a===void 0){p(w),u==null||u.init(r.getState());return}p(w[a]),u==null||u.init(yu(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Af(m.state,w=>{if(a===void 0){p(w);return}JSON.stringify(r.getState())!==JSON.stringify(w[a])&&p(w[a])});case"IMPORT_STATE":{const{nextLiftedState:w}=m.payload,b=(T=w.computedStates.slice(-1)[0])==null?void 0:T.state;if(!b)return;p(a===void 0?b:b[a]),u==null||u.send(null,w);return}case"PAUSE_RECORDING":return h=!h}return}}),g},T3=x3,Af=(n,e)=>{let t;try{t=JSON.parse(n)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}t!==void 0&&e(t)};function FC(n,e){let t;try{t=n()}catch(r){return}return{getItem:r=>{var s;const o=l=>l===null?null:JSON.parse(l,e==null?void 0:e.reviver),a=(s=t.getItem(r))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(r,s)=>t.setItem(r,JSON.stringify(s,e==null?void 0:e.replacer)),removeItem:r=>t.removeItem(r)}}const nc=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return nc(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return nc(i)(t)}}}},S3=(n,e)=>(t,i,r)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:T=>T,version:0,merge:(T,w)=>({...w,...T}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch(T){}if(!c)return n((...T)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),t(...T)},i,r);const u=nc(s.serialize),d=()=>{const T=s.partialize({...i()});let w;const b=u({state:T,version:s.version}).then(v=>c.setItem(s.name,v)).catch(v=>{w=v});if(w)throw w;return b},h=r.setState;r.setState=(T,w)=>{h(T,w),d()};const p=n((...T)=>{t(...T),d()},i,r);let g;const m=()=>{var T;if(!c)return;o=!1,a.forEach(b=>b(i()));const w=((T=s.onRehydrateStorage)==null?void 0:T.call(s,i()))||void 0;return nc(c.getItem.bind(c))(s.name).then(b=>{if(b)return s.deserialize(b)}).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var v;return g=s.merge(b,(v=i())!=null?v:p),t(g,!0),d()}).then(()=>{w==null||w(g,void 0),o=!0,l.forEach(b=>b(g))}).catch(b=>{w==null||w(void 0,b)})};return r.persist={setOptions:T=>{s={...s,...T},T.getStorage&&(c=T.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>o,onHydrate:T=>(a.add(T),()=>{a.delete(T)}),onFinishHydration:T=>(l.add(T),()=>{l.delete(T)})},m(),g||p},C3=(n,e)=>(t,i,r)=>{let s={storage:FC(()=>localStorage),partialize:m=>m,version:0,merge:(m,T)=>({...T,...m}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return n((...m)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),t(...m)},i,r);const u=()=>{const m=s.partialize({...i()});return c.setItem(s.name,{state:m,version:s.version})},d=r.setState;r.setState=(m,T)=>{d(m,T),u()};const h=n((...m)=>{t(...m),u()},i,r);let p;const g=()=>{var m,T;if(!c)return;o=!1,a.forEach(b=>{var v;return b((v=i())!=null?v:h)});const w=((T=s.onRehydrateStorage)==null?void 0:T.call(s,(m=i())!=null?m:h))||void 0;return nc(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate)return s.migrate(b.state,b.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return b.state}).then(b=>{var v;return p=s.merge(b,(v=i())!=null?v:h),t(p,!0),u()}).then(()=>{w==null||w(p,void 0),p=i(),o=!0,l.forEach(b=>b(p))}).catch(b=>{w==null||w(void 0,b)})};return r.persist={setOptions:m=>{s={...s,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},s.skipHydration||g(),p||h},A3=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?S3(n,e):C3(n,e),N3=A3,k3=n=>({timerInterval:25,setTimerInterval:e=>n(()=>({timerInterval:e}),!1,"setTimerInterval"),timerStatus:"idle",setTimerStatus:e=>n(()=>({timerStatus:e}),!1,"setTimerStatus"),timerKey:Date.now(),setTimerKey:()=>n(()=>({timerKey:Date.now()}),!1,"setTimerKey"),timerDuration:0,setTimerDuration:e=>n(()=>({timerDuration:Date.now()+e}),!1,"setTimerDuration"),timerPausedTime:0,setTimerPausedTime:()=>n(e=>({timerPausedTime:e.timerDuration-Date.now()}),!1,"setTimerPausedTime"),unsetTimer:()=>n(()=>({timerKey:Date.now(),timerStatus:"idle",timerDuration:0,timerPausedTime:0}),!1,"unsetTimer")});/*! Capacitor: https://capacitorjs.com/ - MIT License */const R3=n=>{const e=new Map;e.set("web",{name:"web"});const t=n.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},i=(s,o)=>{t.platforms.set(s,o)},r=s=>{t.platforms.has(s)&&(t.currentPlatform=t.platforms.get(s))};return t.addPlatform=i,t.setPlatform=r,t},P3=n=>n.CapacitorPlatforms=R3(n),UC=P3(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});UC.addPlatform;UC.setPlatform;var ua;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(ua||(ua={}));class Nf extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const $3=n=>{var e,t;return n!=null&&n.androidBridge?"android":!((t=(e=n==null?void 0:n.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},M3=n=>{var e,t,i,r,s;const o=n.CapacitorCustomPlatform||null,a=n.Capacitor||{},l=a.Plugins=a.Plugins||{},c=n.CapacitorPlatforms,u=()=>o!==null?o.name:$3(n),d=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||u,h=()=>d()!=="web",p=((t=c==null?void 0:c.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||h,g=I=>{const $=N.get(I);return!!($!=null&&$.platforms.has(d())||w(I))},m=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.isPluginAvailable)||g,T=I=>{var $;return($=a.PluginHeaders)===null||$===void 0?void 0:$.find(k=>k.name===I)},w=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||T,b=I=>n.console.error(I),v=(I,$,k)=>Promise.reject("".concat(k,' does not have an implementation of "').concat($,'".')),N=new Map,M=(I,$={})=>{const k=N.get(I);if(k)return console.warn('Capacitor plugin "'.concat(I,'" already registered. Cannot register plugins twice.')),k.proxy;const H=d(),A=w(I);let F;const D=async()=>(!F&&H in $?F=typeof $[H]=="function"?F=await $[H]():F=$[H]:o!==null&&!F&&"web"in $&&(F=typeof $.web=="function"?F=await $.web():F=$.web),F),G=(j,J)=>{var ce,ve;if(A){const Te=A==null?void 0:A.methods.find(Ce=>J===Ce.name);if(Te)return Te.rtype==="promise"?Ce=>a.nativePromise(I,J.toString(),Ce):(Ce,$e)=>a.nativeCallback(I,J.toString(),Ce,$e);if(j)return(ce=j[J])===null||ce===void 0?void 0:ce.bind(j)}else{if(j)return(ve=j[J])===null||ve===void 0?void 0:ve.bind(j);throw new Nf('"'.concat(I,'" plugin is not implemented on ').concat(H),ua.Unimplemented)}},ne=j=>{let J;const ce=(...ve)=>{const Te=D().then(Ce=>{const $e=G(Ce,j);if($e){const _e=$e(...ve);return J=_e==null?void 0:_e.remove,_e}else throw new Nf('"'.concat(I,".").concat(j,'()" is not implemented on ').concat(H),ua.Unimplemented)});return j==="addListener"&&(Te.remove=async()=>J()),Te};return ce.toString=()=>"".concat(j.toString(),"() { [capacitor code] }"),Object.defineProperty(ce,"name",{value:j,writable:!1,configurable:!1}),ce},ue=ne("addListener"),ae=ne("removeListener"),te=(j,J)=>{const ce=ue({eventName:j},J),ve=async()=>{const Ce=await ce;ae({eventName:j,callbackId:Ce},J)},Te=new Promise(Ce=>ce.then(()=>Ce({remove:ve})));return Te.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await ve()},Te},Z=new Proxy({},{get(j,J){switch(J){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return A?te:ue;case"removeListener":return ae;default:return ne(J)}}});return l[I]=Z,N.set(I,{name:I,proxy:Z,platforms:new Set([...Object.keys($),...A?[H]:[]])}),Z},L=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||M;return a.convertFileSrc||(a.convertFileSrc=I=>I),a.getPlatform=d,a.handleError=b,a.isNativePlatform=p,a.isPluginAvailable=m,a.pluginMethodNoop=v,a.registerPlugin=L,a.Exception=Nf,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},I3=n=>n.Capacitor=M3(n),eo=I3(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ea=eo.registerPlugin;eo.Plugins;class jC{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn('Capacitor WebPlugin "'.concat(e.name,'" config object was deprecated in v3 and will be removed in v4.')),this.config=e)}addListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const s=async()=>this.removeListener(e,t),o=Promise.resolve({remove:s});return Object.defineProperty(o,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()}}),o}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t){const i=this.listeners[e];i&&i.forEach(r=>r(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:i=>{this.notifyListeners(t,i)}}}unimplemented(e="not implemented"){return new eo.Exception(e,ua.Unimplemented)}unavailable(e="not available"){return new eo.Exception(e,ua.Unavailable)}async removeListener(e,t){const i=this.listeners[e];if(!i)return;const r=i.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const zw=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Vw=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class O3 extends jC{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[r,s]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=Vw(r).trim(),s=Vw(s).trim(),t[r]=s}),t}async setCookie(e){try{const t=zw(e.key),i=zw(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),s=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(i||"").concat(r,"; path=").concat(s,"; ").concat(o,";")}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date().toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Ea("CapacitorCookies",{web:()=>new O3});const _3=async n=>new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{const r=i.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},i.onerror=r=>t(r),i.readAsDataURL(n)}),D3=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(r=>r.toLocaleLowerCase()).reduce((r,s,o)=>(r[s]=n[e[o]],r),{})},L3=(n,e=!0)=>n?Object.entries(n).reduce((i,r)=>{const[s,o]=r;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+="".concat(s,"=").concat(a,"&")}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l="".concat(s,"=").concat(a)),"".concat(i,"&").concat(l)},"").substr(1):null,q3=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),r=D3(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(r.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,a]of Object.entries(n.data||{}))s.set(o,a);t.body=s.toString()}else if(r.includes("multipart/form-data")){const s=new FormData;if(n.data instanceof FormData)n.data.forEach((a,l)=>{s.append(l,a)});else for(const a of Object.keys(n.data))s.append(a,n.data[a]);t.body=s;const o=new Headers(t.headers);o.delete("content-type"),t.headers=o}else(r.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class B3 extends jC{async request(e){const t=q3(e,e.webFetchExtra),i=L3(e.params,e.shouldEncodeUrlParams),r=i?"".concat(e.url,"?").concat(i):e.url,s=await fetch(r,t),o=s.headers.get("content-type")||"";let{responseType:a="text"}=s.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await s.blob(),l=await _3(c);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const u={};return s.headers.forEach((d,h)=>{u[h]=d}),{data:l,headers:u,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Ea("CapacitorHttp",{web:()=>new B3});class F3{constructor(e){this.sqlite=e,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(e){return Promise.reject(e)}}async saveToStore(e){try{return await this.sqlite.saveToStore({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async saveToLocalDisk(e){try{return await this.sqlite.saveToLocalDisk({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async getFromLocalDiskToStore(e){const t=e!=null?e:!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async echo(e){try{const t=await this.sqlite.echo({value:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isSecretStored(){try{const e=await this.sqlite.isSecretStored();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async setEncryptionSecret(e){try{return await this.sqlite.setEncryptionSecret({passphrase:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async changeEncryptionSecret(e,t){try{return await this.sqlite.changeEncryptionSecret({passphrase:e,oldpassphrase:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(e){return Promise.reject(e)}}async checkEncryptionSecret(e){try{const t=await this.sqlite.checkEncryptionSecret({passphrase:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async addUpgradeStatement(e,t,i){const r={toVersion:t,statements:i};try{return e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:e,upgrade:[r]}),Promise.resolve()}catch(s){return Promise.reject(s)}}async createConnection(e,t,i,r,s){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.createConnection({database:e,encrypted:t,mode:i,version:r,readonly:s});const o=new Hw(e,s,this.sqlite),a=s?"RO_".concat(e):"RW_".concat(e);return this._connectionDict.set(a,o),Promise.resolve(o)}catch(o){return Promise.reject(o)}}async closeConnection(e,t){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.closeConnection({database:e,readonly:t});const i=t?"RO_".concat(e):"RW_".concat(e);return this._connectionDict.delete(i),Promise.resolve()}catch(i){return Promise.reject(i)}}async isConnection(e,t){const i={};e.endsWith(".db")&&(e=e.slice(0,-3));const r=t?"RO_".concat(e):"RW_".concat(e);return i.result=this._connectionDict.has(r),Promise.resolve(i)}async retrieveConnection(e,t){e.endsWith(".db")&&(e=e.slice(0,-3));const i=t?"RO_".concat(e):"RW_".concat(e);if(this._connectionDict.has(i)){const r=this._connectionDict.get(i);return typeof r<"u"?Promise.resolve(r):Promise.reject("Connection ".concat(e," is undefined"))}else return Promise.reject("Connection ".concat(e," does not exist"))}async getNCDatabasePath(e,t){try{const i=await this.sqlite.getNCDatabasePath({path:e,database:t});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async createNCConnection(e,t){try{await this.sqlite.createNCConnection({databasePath:e,version:t});const i=new Hw(e,!0,this.sqlite),r="RO_".concat(e,")");return this._connectionDict.set(r,i),Promise.resolve(i)}catch(i){return Promise.reject(i)}}async closeNCConnection(e){try{await this.sqlite.closeNCConnection({databasePath:e});const t="RO_".concat(e,")");return this._connectionDict.delete(t),Promise.resolve()}catch(t){return Promise.reject(t)}}async isNCConnection(e){const t={},i="RO_".concat(e,")");return t.result=this._connectionDict.has(i),Promise.resolve(t)}async retrieveNCConnection(e){if(this._connectionDict.has(e)){const t="RO_".concat(e,")"),i=this._connectionDict.get(t);return typeof i<"u"?Promise.resolve(i):Promise.reject("Connection ".concat(e," is undefined"))}else return Promise.reject("Connection ".concat(e," does not exist"))}async isNCDatabase(e){try{const t=await this.sqlite.isNCDatabase({databasePath:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const e=new Map;try{for(const t of this._connectionDict.keys()){const i=t.substring(3),r=t.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:i,readonly:r}),e.set(t,null)}for(const t of e.keys())this._connectionDict.delete(t);return Promise.resolve()}catch(t){return Promise.reject(t)}}async checkConnectionsConsistency(){try{const e=[...this._connectionDict.keys()],t=[],i=[];for(const s of e)t.push(s.substring(0,2)),i.push(s.substring(3));const r=await this.sqlite.checkConnectionsConsistency({dbNames:i,openModes:t});return r.result||(this._connectionDict=new Map),Promise.resolve(r)}catch(e){return this._connectionDict=new Map,Promise.reject(e)}}async importFromJson(e){try{const t=await this.sqlite.importFromJson({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isJsonValid(e){try{const t=await this.sqlite.isJsonValid({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async copyFromAssets(e){const t=e!=null?e:!0;try{return await this.sqlite.copyFromAssets({overwrite:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async getFromHTTPRequest(e,t){const i=t!=null?t:!0;try{return await this.sqlite.getFromHTTPRequest({url:e,overwrite:i}),Promise.resolve()}catch(r){return Promise.reject(r)}}async isDatabaseEncrypted(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=await this.sqlite.isDatabaseEncrypted({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isInConfigEncryption(){try{const e=await this.sqlite.isInConfigEncryption();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isInConfigBiometricAuth(){try{const e=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isDatabase(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=await this.sqlite.isDatabase({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getDatabaseList(){try{const t=(await this.sqlite.getDatabaseList()).values;t.sort();const i={values:t};return Promise.resolve(i)}catch(e){return Promise.reject(e)}}async getMigratableDbList(e){if(!e||e.length===0)return Promise.reject("You must provide a folder path");try{const t=await this.sqlite.getMigratableDbList({folderPath:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async addSQLiteSuffix(e,t){const i=e||"default",r=t||[];try{const s=await this.sqlite.addSQLiteSuffix({folderPath:i,dbNameList:r});return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async deleteOldDatabases(e,t){const i=e||"default",r=t||[];try{const s=await this.sqlite.deleteOldDatabases({folderPath:i,dbNameList:r});return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async moveDatabasesAndAddSuffix(e,t){const i=e||"default",r=t||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:i,dbNameList:r})}}class Hw{constructor(e,t,i){this.dbName=e,this.readonly=t,this.sqlite=i}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async beginTransaction(){try{const e=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async commitTransaction(){try{const e=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async rollbackTransaction(){try{const e=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTransactionActive(){try{const e=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async loadExtension(e){try{return await this.sqlite.loadExtension({database:this.dbName,path:e,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async enableLoadExtension(e){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:e,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async getUrl(){try{const e=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getVersion(){try{const e=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getTableList(){try{const e=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async execute(e,t=!0,i=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const r=await this.sqlite.execute({database:this.dbName,statements:e,transaction:t,readonly:!1,isSQL92:i});return Promise.resolve(r)}}catch(r){return Promise.reject(r)}}async query(e,t,i=!0){let r;try{return t&&t.length>0?r=await this.sqlite.query({database:this.dbName,statement:e,values:t,readonly:this.readonly,isSql92:!0}):r=await this.sqlite.query({database:this.dbName,statement:e,values:[],readonly:this.readonly,isSQL92:i}),r=await this.reorderRows(r),Promise.resolve(r)}catch(s){return Promise.reject(s)}}async run(e,t,i=!0,r="no",s=!0){let o;try{if(this.readonly)return Promise.reject("not allowed in read-only mode");if(t&&t.length>0){const a=e.toUpperCase().includes("RETURNING")?r:"no";o=await this.sqlite.run({database:this.dbName,statement:e,values:t,transaction:i,readonly:!1,returnMode:a,isSQL92:!0})}else{const a=e.toUpperCase().includes("RETURNING")?r:"no";o=await this.sqlite.run({database:this.dbName,statement:e,values:[],transaction:i,readonly:!1,returnMode:a,isSQL92:s})}return o.changes=await this.reorderRows(o.changes),Promise.resolve(o)}catch(a){return Promise.reject(a)}}async executeSet(e,t=!0,i="no",r=!0){let s;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(s=await this.sqlite.executeSet({database:this.dbName,set:e,transaction:t,readonly:!1,returnMode:i,isSQL92:r}),s.changes=await this.reorderRows(s.changes),Promise.resolve(s))}catch(o){return Promise.reject(o)}}async isExists(){try{const e=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTable(e){try{const t=await this.sqlite.isTableExists({database:this.dbName,table:e,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isDBOpen(){try{const e=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const e=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(e)}}catch(e){return Promise.reject(e)}}async setSyncDate(e){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:e,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async getSyncDate(){try{const e=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let t="";return e.syncDate>0&&(t=new Date(e.syncDate*1e3).toISOString()),Promise.resolve(t)}catch(e){return Promise.reject(e)}}async exportToJson(e,t=!1){try{const i=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:e,readonly:this.readonly,encrypted:t});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async executeTransaction(e,t=!0){let i=0,r=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");try{if(await this.sqlite.beginTransaction({database:this.dbName}),r=await this.sqlite.isTransactionActive({database:this.dbName}),!r)return Promise.reject("After Begin Transaction, no transaction active")}catch(s){return Promise.reject(s)}try{for(const o of e)if(o.values&&o.values.length>0){const a=o.statement.toUpperCase().includes("RETURNING")?"all":"no",l=await this.sqlite.run({database:this.dbName,statement:o.statement,values:o.values,transaction:!1,readonly:!1,returnMode:a,isSQL92:t});if(l.changes.changes<=0)throw new Error("Error in transaction method run ");i+=l.changes.changes}else{const a=await this.sqlite.execute({database:this.dbName,statements:o.statement,transaction:!1,readonly:!1});if(r=await this.sqlite.isTransactionActive({database:this.dbName}),a.changes.changes<0)throw new Error("Error in transaction method execute ");i+=a.changes.changes}if(r=await this.sqlite.isTransactionActive({database:this.dbName}),r){const o=await this.sqlite.commitTransaction({database:this.dbName});i+=o.changes.changes}const s={changes:{changes:i}};return Promise.resolve(s)}catch(s){const o=s.message?s.message:s;return r=await this.sqlite.isTransactionActive({database:this.dbName}),r&&await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(o)}}async reorderRows(e){const t=e;if(e!=null&&e.values&&typeof e.values[0]=="object"&&Object.keys(e.values[0]).includes("ios_columns")){const i=e.values[0].ios_columns,r=[];for(let s=1;s<e.values.length;s++){const o=e.values[s],a={};for(const l of i)a[l]=o[l];r.push(a)}t.values=r}return Promise.resolve(t)}}const U3=Ea("CapacitorSQLite",{web:()=>en(()=>import("./web-b268462c.js"),[]).then(n=>new n.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite});class Ku{static getInheritanceTree(e){const t=[e],i=r=>{const s=Object.getPrototypeOf(r);s&&s.name&&(t.push(s),i(s))};return i(e),t}static isInherited(e,t){return e.prototype instanceof t}static filterByTarget(e,t){return t?e.filter(i=>i.target&&t.indexOf(i.target)!==-1):e}}class zC{constructor(){this.tables=[],this.trees=[],this.entityRepositories=[],this.transactionEntityManagers=[],this.transactionRepositories=[],this.namingStrategies=[],this.entitySubscribers=[],this.indices=[],this.uniques=[],this.checks=[],this.exclusions=[],this.columns=[],this.generations=[],this.relations=[],this.joinColumns=[],this.joinTables=[],this.entityListeners=[],this.relationCounts=[],this.relationIds=[],this.embeddeds=[],this.inheritances=[],this.discriminatorValues=[]}filterTables(e){return this.filterByTarget(this.tables,e)}filterColumns(e){return this.filterByTargetAndWithoutDuplicateProperties(this.columns,e)}findGenerated(e,t){return this.generations.find(i=>(Array.isArray(e)?e.indexOf(i.target)!==-1:i.target===e)&&i.propertyName===t)}findTree(e){return this.trees.find(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterRelations(e){return this.filterByTargetAndWithoutDuplicateRelationProperties(this.relations,e)}filterRelationIds(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationIds,e)}filterRelationCounts(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationCounts,e)}filterIndices(e){return this.indices.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterUniques(e){return this.uniques.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterChecks(e){return this.checks.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterExclusions(e){return this.exclusions.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterListeners(e){return this.filterByTarget(this.entityListeners,e)}filterEmbeddeds(e){return this.filterByTargetAndWithoutDuplicateEmbeddedProperties(this.embeddeds,e)}findJoinTable(e,t){return this.joinTables.find(i=>i.target===e&&i.propertyName===t)}filterJoinColumns(e,t){return this.joinColumns.filter(i=>i.target===e&&i.propertyName===t)}filterSubscribers(e){return this.filterByTarget(this.entitySubscribers,e)}filterNamingStrategies(e){return this.filterByTarget(this.namingStrategies,e)}filterTransactionEntityManagers(e,t){return this.transactionEntityManagers.filter(i=>(Array.isArray(e)?e.indexOf(i.target)!==-1:i.target===e)&&i.methodName===t)}filterTransactionRepository(e,t){return this.transactionRepositories.filter(i=>(Array.isArray(e)?e.indexOf(i.target)!==-1:i.target===e)&&i.methodName===t)}filterSingleTableChildren(e){return this.tables.filter(t=>typeof t.target=="function"&&typeof e=="function"&&Ku.isInherited(t.target,e)&&t.type==="entity-child")}findInheritanceType(e){return this.inheritances.find(t=>t.target===e)}findDiscriminatorValue(e){return this.discriminatorValues.find(t=>t.target===e)}filterByTarget(e,t){return e.filter(i=>Array.isArray(t)?t.indexOf(i.target)!==-1:i.target===t)}filterByTargetAndWithoutDuplicateProperties(e,t){const i=[];return e.forEach(r=>{(Array.isArray(t)?t.indexOf(r.target)!==-1:r.target===t)&&(i.find(o=>o.propertyName===r.propertyName)||i.push(r))}),i}filterByTargetAndWithoutDuplicateRelationProperties(e,t){const i=[];return e.forEach(r=>{if(Array.isArray(t)?t.indexOf(r.target)!==-1:r.target===t){const o=i.findIndex(a=>a.propertyName===r.propertyName);if(Array.isArray(t)&&o!==-1&&t.indexOf(r.target)<t.indexOf(i[o].target)){const a=Object.create(i[o]);a.type=r.type,i[o]=a}else o===-1&&i.push(r)}}),i}filterByTargetAndWithoutDuplicateEmbeddedProperties(e,t){const i=[];return e.forEach(r=>{(Array.isArray(t)?t.indexOf(r.target)!==-1:r.target===t)&&(i.find(a=>a.prefix===r.prefix&&a.propertyName===r.propertyName)||i.push(r))}),i}}class ut{static getGlobalVariable(){return typeof window<"u"?window:global}static load(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: require("'.concat(e,'").'));return""}static pathNormalize(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: path.normalize("'.concat(e,'").'));return""}static pathExtname(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: path.extname("'.concat(e,'").'));return""}static pathResolve(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: path.resolve("'.concat(e,'").'));return""}static fileExist(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.existsSync("'.concat(e,'").'));return!1}static dotenv(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: dotenv.config({ path: "'.concat(e,'" }).'))}static getEnvVariable(e){}static readFileSync(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.readFileSync("'.concat(e,'").'));return null}static appendFileSync(e,t){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.appendFileSync("'.concat(e,'").'))}static writeFile(e,t){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.writeFile("'.concat(e,'").'));return Promise.reject(null)}static highlightSql(e){return e}static highlightJson(e){return e}static logInfo(e,t){console.info(e+" ",t)}static logError(e,t){console.error(e+" ",t)}static logWarn(e,t){console.warn(e+" ",t)}static log(e){console.log(e)}static warn(e){return e}}ut.type="browser";typeof window<"u"&&typeof require<"u"&&(window.Buffer=require("buffer/").Buffer);typeof global<"u"&&typeof require<"u"&&(global.Buffer=require("buffer/").Buffer);class Br{static sha1(e){let t=function(M,L){return M<<L|M>>>32-L},i=function(M){let L="",I,$;for(I=7;I>=0;I--)$=M>>>I*4&15,L+=$.toString(16);return L},r,s,o,a=new Array(80),l=1732584193,c=4023233417,u=2562383102,d=271733878,h=3285377520,p,g,m,T,w,b;e=encodeURIComponent(e);let v=e.length,N=[];for(s=0;s<v-3;s+=4)o=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),N.push(o);switch(v%4){case 0:s=2147483648;break;case 1:s=e.charCodeAt(v-1)<<24|8388608;break;case 2:s=e.charCodeAt(v-2)<<24|e.charCodeAt(v-1)<<16|32768;break;case 3:s=e.charCodeAt(v-3)<<24|e.charCodeAt(v-2)<<16|e.charCodeAt(v-1)<<8|128;break}for(N.push(s);N.length%16!==14;)N.push(0);for(N.push(v>>>29),N.push(v<<3&4294967295),r=0;r<N.length;r+=16){for(s=0;s<16;s++)a[s]=N[r+s];for(s=16;s<=79;s++)a[s]=t(a[s-3]^a[s-8]^a[s-14]^a[s-16],1);for(p=l,g=c,m=u,T=d,w=h,s=0;s<=19;s++)b=t(p,5)+(g&m|~g&T)+w+a[s]+1518500249&4294967295,w=T,T=m,m=t(g,30),g=p,p=b;for(s=20;s<=39;s++)b=t(p,5)+(g^m^T)+w+a[s]+1859775393&4294967295,w=T,T=m,m=t(g,30),g=p,p=b;for(s=40;s<=59;s++)b=t(p,5)+(g&m|g&T|m&T)+w+a[s]+2400959708&4294967295,w=T,T=m,m=t(g,30),g=p,p=b;for(s=60;s<=79;s++)b=t(p,5)+(g^m^T)+w+a[s]+3395469782&4294967295,w=T,T=m,m=t(g,30),g=p,p=b;l=l+p&4294967295,c=c+g&4294967295,u=u+m&4294967295,d=d+T&4294967295,h=h+w&4294967295}return b=i(l)+i(c)+i(u)+i(d)+i(h),b.toLowerCase()}}var VC={exports:{}},pg={exports:{}};typeof Object.create=="function"?pg.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:pg.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}};var xa=pg.exports,fg={exports:{}},fb={},ip={};ip.byteLength=V3;ip.toByteArray=W3;ip.fromByteArray=K3;var Ki=[],si=[],j3=typeof Uint8Array<"u"?Uint8Array:Array,kf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var go=0,z3=kf.length;go<z3;++go)Ki[go]=kf[go],si[kf.charCodeAt(go)]=go;si["-".charCodeAt(0)]=62;si["_".charCodeAt(0)]=63;function HC(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function V3(n){var e=HC(n),t=e[0],i=e[1];return(t+i)*3/4-i}function H3(n,e,t){return(e+t)*3/4-t}function W3(n){var e,t=HC(n),i=t[0],r=t[1],s=new j3(H3(n,i,r)),o=0,a=r>0?i-4:i,l;for(l=0;l<a;l+=4)e=si[n.charCodeAt(l)]<<18|si[n.charCodeAt(l+1)]<<12|si[n.charCodeAt(l+2)]<<6|si[n.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return r===2&&(e=si[n.charCodeAt(l)]<<2|si[n.charCodeAt(l+1)]>>4,s[o++]=e&255),r===1&&(e=si[n.charCodeAt(l)]<<10|si[n.charCodeAt(l+1)]<<4|si[n.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Q3(n){return Ki[n>>18&63]+Ki[n>>12&63]+Ki[n>>6&63]+Ki[n&63]}function G3(n,e,t){for(var i,r=[],s=e;s<t;s+=3)i=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),r.push(Q3(i));return r.join("")}function K3(n){for(var e,t=n.length,i=t%3,r=[],s=16383,o=0,a=t-i;o<a;o+=s)r.push(G3(n,o,o+s>a?a:o+s));return i===1?(e=n[t-1],r.push(Ki[e>>2]+Ki[e<<4&63]+"==")):i===2&&(e=(n[t-2]<<8)+n[t-1],r.push(Ki[e>>10]+Ki[e>>4&63]+Ki[e<<2&63]+"=")),r.join("")}var mb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */mb.read=function(n,e,t,i,r){var s,o,a=r*8-i-1,l=(1<<a)-1,c=l>>1,u=-7,d=t?r-1:0,h=t?-1:1,p=n[e+d];for(d+=h,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=s*256+n[e+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;u>0;o=o*256+n[e+d],d+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-c}return(p?-1:1)*o*Math.pow(2,s-i)};mb.write=function(n,e,t,i,r,s){var o,a,l,c=s*8-r-1,u=(1<<c)-1,d=u>>1,h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:s-1,g=i?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=h/l:e+=h*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*l-1)*Math.pow(2,r),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;n[t+p]=a&255,p+=g,a/=256,r-=8);for(o=o<<r|a,c+=r;c>0;n[t+p]=o&255,p+=g,o/=256,c-=8);n[t+p-g]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=ip,t=mb,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=b,n.INSPECT_MAX_BYTES=50;const r=2147483647;n.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const C=new Uint8Array(1),y={foo:function(){return 42}};return Object.setPrototypeOf(y,Uint8Array.prototype),Object.setPrototypeOf(C,y),C.foo()===42}catch(C){return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(C){if(C>r)throw new RangeError('The value "'+C+'" is invalid for option "size"');const y=new Uint8Array(C);return Object.setPrototypeOf(y,a.prototype),y}function a(C,y,x){if(typeof C=="number"){if(typeof y=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(C)}return l(C,y,x)}a.poolSize=8192;function l(C,y,x){if(typeof C=="string")return h(C,y);if(ArrayBuffer.isView(C))return g(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if($t(C,ArrayBuffer)||C&&$t(C.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($t(C,SharedArrayBuffer)||C&&$t(C.buffer,SharedArrayBuffer)))return m(C,y,x);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const R=C.valueOf&&C.valueOf();if(R!=null&&R!==C)return a.from(R,y,x);const _=T(C);if(_)return _;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return a.from(C[Symbol.toPrimitive]("string"),y,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}a.from=function(C,y,x){return l(C,y,x)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function u(C,y,x){return c(C),C<=0?o(C):y!==void 0?typeof x=="string"?o(C).fill(y,x):o(C).fill(y):o(C)}a.alloc=function(C,y,x){return u(C,y,x)};function d(C){return c(C),o(C<0?0:w(C)|0)}a.allocUnsafe=function(C){return d(C)},a.allocUnsafeSlow=function(C){return d(C)};function h(C,y){if((typeof y!="string"||y==="")&&(y="utf8"),!a.isEncoding(y))throw new TypeError("Unknown encoding: "+y);const x=v(C,y)|0;let R=o(x);const _=R.write(C,y);return _!==x&&(R=R.slice(0,_)),R}function p(C){const y=C.length<0?0:w(C.length)|0,x=o(y);for(let R=0;R<y;R+=1)x[R]=C[R]&255;return x}function g(C){if($t(C,Uint8Array)){const y=new Uint8Array(C);return m(y.buffer,y.byteOffset,y.byteLength)}return p(C)}function m(C,y,x){if(y<0||C.byteLength<y)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<y+(x||0))throw new RangeError('"length" is outside of buffer bounds');let R;return y===void 0&&x===void 0?R=new Uint8Array(C):x===void 0?R=new Uint8Array(C,y):R=new Uint8Array(C,y,x),Object.setPrototypeOf(R,a.prototype),R}function T(C){if(a.isBuffer(C)){const y=w(C.length)|0,x=o(y);return x.length===0||C.copy(x,0,0,y),x}if(C.length!==void 0)return typeof C.length!="number"||Ln(C.length)?o(0):p(C);if(C.type==="Buffer"&&Array.isArray(C.data))return p(C.data)}function w(C){if(C>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return C|0}function b(C){return+C!=C&&(C=0),a.alloc(+C)}a.isBuffer=function(y){return y!=null&&y._isBuffer===!0&&y!==a.prototype},a.compare=function(y,x){if($t(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),$t(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(y)||!a.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(y===x)return 0;let R=y.length,_=x.length;for(let U=0,Y=Math.min(R,_);U<Y;++U)if(y[U]!==x[U]){R=y[U],_=x[U];break}return R<_?-1:_<R?1:0},a.isEncoding=function(y){switch(String(y).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(y,x){if(!Array.isArray(y))throw new TypeError('"list" argument must be an Array of Buffers');if(y.length===0)return a.alloc(0);let R;if(x===void 0)for(x=0,R=0;R<y.length;++R)x+=y[R].length;const _=a.allocUnsafe(x);let U=0;for(R=0;R<y.length;++R){let Y=y[R];if($t(Y,Uint8Array))U+Y.length>_.length?(a.isBuffer(Y)||(Y=a.from(Y)),Y.copy(_,U)):Uint8Array.prototype.set.call(_,Y,U);else if(a.isBuffer(Y))Y.copy(_,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=Y.length}return _};function v(C,y){if(a.isBuffer(C))return C.length;if(ArrayBuffer.isView(C)||$t(C,ArrayBuffer))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const x=C.length,R=arguments.length>2&&arguments[2]===!0;if(!R&&x===0)return 0;let _=!1;for(;;)switch(y){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return ar(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return ji(C).length;default:if(_)return R?-1:ar(C).length;y=(""+y).toLowerCase(),_=!0}}a.byteLength=v;function N(C,y,x){let R=!1;if((y===void 0||y<0)&&(y=0),y>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,y>>>=0,x<=y))return"";for(C||(C="utf8");;)switch(C){case"hex":return Z(this,y,x);case"utf8":case"utf-8":return G(this,y,x);case"ascii":return ae(this,y,x);case"latin1":case"binary":return te(this,y,x);case"base64":return D(this,y,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,y,x);default:if(R)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),R=!0}}a.prototype._isBuffer=!0;function M(C,y,x){const R=C[y];C[y]=C[x],C[x]=R}a.prototype.swap16=function(){const y=this.length;if(y%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<y;x+=2)M(this,x,x+1);return this},a.prototype.swap32=function(){const y=this.length;if(y%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<y;x+=4)M(this,x,x+3),M(this,x+1,x+2);return this},a.prototype.swap64=function(){const y=this.length;if(y%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<y;x+=8)M(this,x,x+7),M(this,x+1,x+6),M(this,x+2,x+5),M(this,x+3,x+4);return this},a.prototype.toString=function(){const y=this.length;return y===0?"":arguments.length===0?G(this,0,y):N.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(y){if(!a.isBuffer(y))throw new TypeError("Argument must be a Buffer");return this===y?!0:a.compare(this,y)===0},a.prototype.inspect=function(){let y="";const x=n.INSPECT_MAX_BYTES;return y=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(y+=" ... "),"<Buffer "+y+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(y,x,R,_,U){if($t(y,Uint8Array)&&(y=a.from(y,y.offset,y.byteLength)),!a.isBuffer(y))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof y);if(x===void 0&&(x=0),R===void 0&&(R=y?y.length:0),_===void 0&&(_=0),U===void 0&&(U=this.length),x<0||R>y.length||_<0||U>this.length)throw new RangeError("out of range index");if(_>=U&&x>=R)return 0;if(_>=U)return-1;if(x>=R)return 1;if(x>>>=0,R>>>=0,_>>>=0,U>>>=0,this===y)return 0;let Y=U-_,ge=R-x;const ye=Math.min(Y,ge),We=this.slice(_,U),st=y.slice(x,R);for(let qe=0;qe<ye;++qe)if(We[qe]!==st[qe]){Y=We[qe],ge=st[qe];break}return Y<ge?-1:ge<Y?1:0};function L(C,y,x,R,_){if(C.length===0)return-1;if(typeof x=="string"?(R=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,Ln(x)&&(x=_?0:C.length-1),x<0&&(x=C.length+x),x>=C.length){if(_)return-1;x=C.length-1}else if(x<0)if(_)x=0;else return-1;if(typeof y=="string"&&(y=a.from(y,R)),a.isBuffer(y))return y.length===0?-1:I(C,y,x,R,_);if(typeof y=="number")return y=y&255,typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(C,y,x):Uint8Array.prototype.lastIndexOf.call(C,y,x):I(C,[y],x,R,_);throw new TypeError("val must be string, number or Buffer")}function I(C,y,x,R,_){let U=1,Y=C.length,ge=y.length;if(R!==void 0&&(R=String(R).toLowerCase(),R==="ucs2"||R==="ucs-2"||R==="utf16le"||R==="utf-16le")){if(C.length<2||y.length<2)return-1;U=2,Y/=2,ge/=2,x/=2}function ye(st,qe){return U===1?st[qe]:st.readUInt16BE(qe*U)}let We;if(_){let st=-1;for(We=x;We<Y;We++)if(ye(C,We)===ye(y,st===-1?0:We-st)){if(st===-1&&(st=We),We-st+1===ge)return st*U}else st!==-1&&(We-=We-st),st=-1}else for(x+ge>Y&&(x=Y-ge),We=x;We>=0;We--){let st=!0;for(let qe=0;qe<ge;qe++)if(ye(C,We+qe)!==ye(y,qe)){st=!1;break}if(st)return We}return-1}a.prototype.includes=function(y,x,R){return this.indexOf(y,x,R)!==-1},a.prototype.indexOf=function(y,x,R){return L(this,y,x,R,!0)},a.prototype.lastIndexOf=function(y,x,R){return L(this,y,x,R,!1)};function $(C,y,x,R){x=Number(x)||0;const _=C.length-x;R?(R=Number(R),R>_&&(R=_)):R=_;const U=y.length;R>U/2&&(R=U/2);let Y;for(Y=0;Y<R;++Y){const ge=parseInt(y.substr(Y*2,2),16);if(Ln(ge))return Y;C[x+Y]=ge}return Y}function k(C,y,x,R){return Vt(ar(y,C.length-x),C,x,R)}function H(C,y,x,R){return Vt(Me(y),C,x,R)}function A(C,y,x,R){return Vt(ji(y),C,x,R)}function F(C,y,x,R){return Vt(tt(y,C.length-x),C,x,R)}a.prototype.write=function(y,x,R,_){if(x===void 0)_="utf8",R=this.length,x=0;else if(R===void 0&&typeof x=="string")_=x,R=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(R)?(R=R>>>0,_===void 0&&(_="utf8")):(_=R,R=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const U=this.length-x;if((R===void 0||R>U)&&(R=U),y.length>0&&(R<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");let Y=!1;for(;;)switch(_){case"hex":return $(this,y,x,R);case"utf8":case"utf-8":return k(this,y,x,R);case"ascii":case"latin1":case"binary":return H(this,y,x,R);case"base64":return A(this,y,x,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,y,x,R);default:if(Y)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),Y=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(C,y,x){return y===0&&x===C.length?e.fromByteArray(C):e.fromByteArray(C.slice(y,x))}function G(C,y,x){x=Math.min(C.length,x);const R=[];let _=y;for(;_<x;){const U=C[_];let Y=null,ge=U>239?4:U>223?3:U>191?2:1;if(_+ge<=x){let ye,We,st,qe;switch(ge){case 1:U<128&&(Y=U);break;case 2:ye=C[_+1],(ye&192)===128&&(qe=(U&31)<<6|ye&63,qe>127&&(Y=qe));break;case 3:ye=C[_+1],We=C[_+2],(ye&192)===128&&(We&192)===128&&(qe=(U&15)<<12|(ye&63)<<6|We&63,qe>2047&&(qe<55296||qe>57343)&&(Y=qe));break;case 4:ye=C[_+1],We=C[_+2],st=C[_+3],(ye&192)===128&&(We&192)===128&&(st&192)===128&&(qe=(U&15)<<18|(ye&63)<<12|(We&63)<<6|st&63,qe>65535&&qe<1114112&&(Y=qe))}}Y===null?(Y=65533,ge=1):Y>65535&&(Y-=65536,R.push(Y>>>10&1023|55296),Y=56320|Y&1023),R.push(Y),_+=ge}return ue(R)}const ne=4096;function ue(C){const y=C.length;if(y<=ne)return String.fromCharCode.apply(String,C);let x="",R=0;for(;R<y;)x+=String.fromCharCode.apply(String,C.slice(R,R+=ne));return x}function ae(C,y,x){let R="";x=Math.min(C.length,x);for(let _=y;_<x;++_)R+=String.fromCharCode(C[_]&127);return R}function te(C,y,x){let R="";x=Math.min(C.length,x);for(let _=y;_<x;++_)R+=String.fromCharCode(C[_]);return R}function Z(C,y,x){const R=C.length;(!y||y<0)&&(y=0),(!x||x<0||x>R)&&(x=R);let _="";for(let U=y;U<x;++U)_+=Q[C[U]];return _}function j(C,y,x){const R=C.slice(y,x);let _="";for(let U=0;U<R.length-1;U+=2)_+=String.fromCharCode(R[U]+R[U+1]*256);return _}a.prototype.slice=function(y,x){const R=this.length;y=~~y,x=x===void 0?R:~~x,y<0?(y+=R,y<0&&(y=0)):y>R&&(y=R),x<0?(x+=R,x<0&&(x=0)):x>R&&(x=R),x<y&&(x=y);const _=this.subarray(y,x);return Object.setPrototypeOf(_,a.prototype),_};function J(C,y,x){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+y>x)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(y,x,R){y=y>>>0,x=x>>>0,R||J(y,x,this.length);let _=this[y],U=1,Y=0;for(;++Y<x&&(U*=256);)_+=this[y+Y]*U;return _},a.prototype.readUintBE=a.prototype.readUIntBE=function(y,x,R){y=y>>>0,x=x>>>0,R||J(y,x,this.length);let _=this[y+--x],U=1;for(;x>0&&(U*=256);)_+=this[y+--x]*U;return _},a.prototype.readUint8=a.prototype.readUInt8=function(y,x){return y=y>>>0,x||J(y,1,this.length),this[y]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(y,x){return y=y>>>0,x||J(y,2,this.length),this[y]|this[y+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(y,x){return y=y>>>0,x||J(y,2,this.length),this[y]<<8|this[y+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(y,x){return y=y>>>0,x||J(y,4,this.length),(this[y]|this[y+1]<<8|this[y+2]<<16)+this[y+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(y,x){return y=y>>>0,x||J(y,4,this.length),this[y]*16777216+(this[y+1]<<16|this[y+2]<<8|this[y+3])},a.prototype.readBigUInt64LE=re(function(y){y=y>>>0,Dn(y,"offset");const x=this[y],R=this[y+7];(x===void 0||R===void 0)&&ft(y,this.length-8);const _=x+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24,U=this[++y]+this[++y]*2**8+this[++y]*2**16+R*2**24;return BigInt(_)+(BigInt(U)<<BigInt(32))}),a.prototype.readBigUInt64BE=re(function(y){y=y>>>0,Dn(y,"offset");const x=this[y],R=this[y+7];(x===void 0||R===void 0)&&ft(y,this.length-8);const _=x*2**24+this[++y]*2**16+this[++y]*2**8+this[++y],U=this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+R;return(BigInt(_)<<BigInt(32))+BigInt(U)}),a.prototype.readIntLE=function(y,x,R){y=y>>>0,x=x>>>0,R||J(y,x,this.length);let _=this[y],U=1,Y=0;for(;++Y<x&&(U*=256);)_+=this[y+Y]*U;return U*=128,_>=U&&(_-=Math.pow(2,8*x)),_},a.prototype.readIntBE=function(y,x,R){y=y>>>0,x=x>>>0,R||J(y,x,this.length);let _=x,U=1,Y=this[y+--_];for(;_>0&&(U*=256);)Y+=this[y+--_]*U;return U*=128,Y>=U&&(Y-=Math.pow(2,8*x)),Y},a.prototype.readInt8=function(y,x){return y=y>>>0,x||J(y,1,this.length),this[y]&128?(255-this[y]+1)*-1:this[y]},a.prototype.readInt16LE=function(y,x){y=y>>>0,x||J(y,2,this.length);const R=this[y]|this[y+1]<<8;return R&32768?R|4294901760:R},a.prototype.readInt16BE=function(y,x){y=y>>>0,x||J(y,2,this.length);const R=this[y+1]|this[y]<<8;return R&32768?R|4294901760:R},a.prototype.readInt32LE=function(y,x){return y=y>>>0,x||J(y,4,this.length),this[y]|this[y+1]<<8|this[y+2]<<16|this[y+3]<<24},a.prototype.readInt32BE=function(y,x){return y=y>>>0,x||J(y,4,this.length),this[y]<<24|this[y+1]<<16|this[y+2]<<8|this[y+3]},a.prototype.readBigInt64LE=re(function(y){y=y>>>0,Dn(y,"offset");const x=this[y],R=this[y+7];(x===void 0||R===void 0)&&ft(y,this.length-8);const _=this[y+4]+this[y+5]*2**8+this[y+6]*2**16+(R<<24);return(BigInt(_)<<BigInt(32))+BigInt(x+this[++y]*2**8+this[++y]*2**16+this[++y]*2**24)}),a.prototype.readBigInt64BE=re(function(y){y=y>>>0,Dn(y,"offset");const x=this[y],R=this[y+7];(x===void 0||R===void 0)&&ft(y,this.length-8);const _=(x<<24)+this[++y]*2**16+this[++y]*2**8+this[++y];return(BigInt(_)<<BigInt(32))+BigInt(this[++y]*2**24+this[++y]*2**16+this[++y]*2**8+R)}),a.prototype.readFloatLE=function(y,x){return y=y>>>0,x||J(y,4,this.length),t.read(this,y,!0,23,4)},a.prototype.readFloatBE=function(y,x){return y=y>>>0,x||J(y,4,this.length),t.read(this,y,!1,23,4)},a.prototype.readDoubleLE=function(y,x){return y=y>>>0,x||J(y,8,this.length),t.read(this,y,!0,52,8)},a.prototype.readDoubleBE=function(y,x){return y=y>>>0,x||J(y,8,this.length),t.read(this,y,!1,52,8)};function ce(C,y,x,R,_,U){if(!a.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(y>_||y<U)throw new RangeError('"value" argument is out of bounds');if(x+R>C.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(y,x,R,_){if(y=+y,x=x>>>0,R=R>>>0,!_){const ge=Math.pow(2,8*R)-1;ce(this,y,x,R,ge,0)}let U=1,Y=0;for(this[x]=y&255;++Y<R&&(U*=256);)this[x+Y]=y/U&255;return x+R},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(y,x,R,_){if(y=+y,x=x>>>0,R=R>>>0,!_){const ge=Math.pow(2,8*R)-1;ce(this,y,x,R,ge,0)}let U=R-1,Y=1;for(this[x+U]=y&255;--U>=0&&(Y*=256);)this[x+U]=y/Y&255;return x+R},a.prototype.writeUint8=a.prototype.writeUInt8=function(y,x,R){return y=+y,x=x>>>0,R||ce(this,y,x,1,255,0),this[x]=y&255,x+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(y,x,R){return y=+y,x=x>>>0,R||ce(this,y,x,2,65535,0),this[x]=y&255,this[x+1]=y>>>8,x+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(y,x,R){return y=+y,x=x>>>0,R||ce(this,y,x,2,65535,0),this[x]=y>>>8,this[x+1]=y&255,x+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(y,x,R){return y=+y,x=x>>>0,R||ce(this,y,x,4,4294967295,0),this[x+3]=y>>>24,this[x+2]=y>>>16,this[x+1]=y>>>8,this[x]=y&255,x+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(y,x,R){return y=+y,x=x>>>0,R||ce(this,y,x,4,4294967295,0),this[x]=y>>>24,this[x+1]=y>>>16,this[x+2]=y>>>8,this[x+3]=y&255,x+4};function ve(C,y,x,R,_){Lt(y,R,_,C,x,7);let U=Number(y&BigInt(4294967295));C[x++]=U,U=U>>8,C[x++]=U,U=U>>8,C[x++]=U,U=U>>8,C[x++]=U;let Y=Number(y>>BigInt(32)&BigInt(4294967295));return C[x++]=Y,Y=Y>>8,C[x++]=Y,Y=Y>>8,C[x++]=Y,Y=Y>>8,C[x++]=Y,x}function Te(C,y,x,R,_){Lt(y,R,_,C,x,7);let U=Number(y&BigInt(4294967295));C[x+7]=U,U=U>>8,C[x+6]=U,U=U>>8,C[x+5]=U,U=U>>8,C[x+4]=U;let Y=Number(y>>BigInt(32)&BigInt(4294967295));return C[x+3]=Y,Y=Y>>8,C[x+2]=Y,Y=Y>>8,C[x+1]=Y,Y=Y>>8,C[x]=Y,x+8}a.prototype.writeBigUInt64LE=re(function(y,x=0){return ve(this,y,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=re(function(y,x=0){return Te(this,y,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(y,x,R,_){if(y=+y,x=x>>>0,!_){const ye=Math.pow(2,8*R-1);ce(this,y,x,R,ye-1,-ye)}let U=0,Y=1,ge=0;for(this[x]=y&255;++U<R&&(Y*=256);)y<0&&ge===0&&this[x+U-1]!==0&&(ge=1),this[x+U]=(y/Y>>0)-ge&255;return x+R},a.prototype.writeIntBE=function(y,x,R,_){if(y=+y,x=x>>>0,!_){const ye=Math.pow(2,8*R-1);ce(this,y,x,R,ye-1,-ye)}let U=R-1,Y=1,ge=0;for(this[x+U]=y&255;--U>=0&&(Y*=256);)y<0&&ge===0&&this[x+U+1]!==0&&(ge=1),this[x+U]=(y/Y>>0)-ge&255;return x+R},a.prototype.writeInt8=function(y,x,R){return y=+y,x=x>>>0,R||ce(this,y,x,1,127,-128),y<0&&(y=255+y+1),this[x]=y&255,x+1},a.prototype.writeInt16LE=function(y,x,R){return y=+y,x=x>>>0,R||ce(this,y,x,2,32767,-32768),this[x]=y&255,this[x+1]=y>>>8,x+2},a.prototype.writeInt16BE=function(y,x,R){return y=+y,x=x>>>0,R||ce(this,y,x,2,32767,-32768),this[x]=y>>>8,this[x+1]=y&255,x+2},a.prototype.writeInt32LE=function(y,x,R){return y=+y,x=x>>>0,R||ce(this,y,x,4,2147483647,-2147483648),this[x]=y&255,this[x+1]=y>>>8,this[x+2]=y>>>16,this[x+3]=y>>>24,x+4},a.prototype.writeInt32BE=function(y,x,R){return y=+y,x=x>>>0,R||ce(this,y,x,4,2147483647,-2147483648),y<0&&(y=4294967295+y+1),this[x]=y>>>24,this[x+1]=y>>>16,this[x+2]=y>>>8,this[x+3]=y&255,x+4},a.prototype.writeBigInt64LE=re(function(y,x=0){return ve(this,y,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=re(function(y,x=0){return Te(this,y,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(C,y,x,R,_,U){if(x+R>C.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function $e(C,y,x,R,_){return y=+y,x=x>>>0,_||Ce(C,y,x,4),t.write(C,y,x,R,23,4),x+4}a.prototype.writeFloatLE=function(y,x,R){return $e(this,y,x,!0,R)},a.prototype.writeFloatBE=function(y,x,R){return $e(this,y,x,!1,R)};function _e(C,y,x,R,_){return y=+y,x=x>>>0,_||Ce(C,y,x,8),t.write(C,y,x,R,52,8),x+8}a.prototype.writeDoubleLE=function(y,x,R){return _e(this,y,x,!0,R)},a.prototype.writeDoubleBE=function(y,x,R){return _e(this,y,x,!1,R)},a.prototype.copy=function(y,x,R,_){if(!a.isBuffer(y))throw new TypeError("argument should be a Buffer");if(R||(R=0),!_&&_!==0&&(_=this.length),x>=y.length&&(x=y.length),x||(x=0),_>0&&_<R&&(_=R),_===R||y.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(R<0||R>=this.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),y.length-x<_-R&&(_=y.length-x+R);const U=_-R;return this===y&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,R,_):Uint8Array.prototype.set.call(y,this.subarray(R,_),x),U},a.prototype.fill=function(y,x,R,_){if(typeof y=="string"){if(typeof x=="string"?(_=x,x=0,R=this.length):typeof R=="string"&&(_=R,R=this.length),_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!a.isEncoding(_))throw new TypeError("Unknown encoding: "+_);if(y.length===1){const Y=y.charCodeAt(0);(_==="utf8"&&Y<128||_==="latin1")&&(y=Y)}}else typeof y=="number"?y=y&255:typeof y=="boolean"&&(y=Number(y));if(x<0||this.length<x||this.length<R)throw new RangeError("Out of range index");if(R<=x)return this;x=x>>>0,R=R===void 0?this.length:R>>>0,y||(y=0);let U;if(typeof y=="number")for(U=x;U<R;++U)this[U]=y;else{const Y=a.isBuffer(y)?y:a.from(y,_),ge=Y.length;if(ge===0)throw new TypeError('The value "'+y+'" is invalid for argument "value"');for(U=0;U<R-x;++U)this[U+x]=Y[U%ge]}return this};const pt={};function xt(C,y,x){pt[C]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:y.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(C,"]"),this.stack,delete this.name}get code(){return C}set code(_){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_,writable:!0})}toString(){return"".concat(this.name," [").concat(C,"]: ").concat(this.message)}}}xt("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?"".concat(C," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),xt("ERR_INVALID_ARG_TYPE",function(C,y){return'The "'.concat(C,'" argument must be of type number. Received type ').concat(typeof y)},TypeError),xt("ERR_OUT_OF_RANGE",function(C,y,x){let R='The value of "'.concat(C,'" is out of range.'),_=x;return Number.isInteger(x)&&Math.abs(x)>2**32?_=gn(String(x)):typeof x=="bigint"&&(_=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(_=gn(_)),_+="n"),R+=" It must be ".concat(y,". Received ").concat(_),R},RangeError);function gn(C){let y="",x=C.length;const R=C[0]==="-"?1:0;for(;x>=R+4;x-=3)y="_".concat(C.slice(x-3,x)).concat(y);return"".concat(C.slice(0,x)).concat(y)}function sn(C,y,x){Dn(y,"offset"),(C[y]===void 0||C[y+x]===void 0)&&ft(y,C.length-(x+1))}function Lt(C,y,x,R,_,U){if(C>x||C<y){const Y=typeof y=="bigint"?"n":"";let ge;throw U>3?y===0||y===BigInt(0)?ge=">= 0".concat(Y," and < 2").concat(Y," ** ").concat((U+1)*8).concat(Y):ge=">= -(2".concat(Y," ** ").concat((U+1)*8-1).concat(Y,") and < 2 ** ")+"".concat((U+1)*8-1).concat(Y):ge=">= ".concat(y).concat(Y," and <= ").concat(x).concat(Y),new pt.ERR_OUT_OF_RANGE("value",ge,C)}sn(R,_,U)}function Dn(C,y){if(typeof C!="number")throw new pt.ERR_INVALID_ARG_TYPE(y,"number",C)}function ft(C,y,x){throw Math.floor(C)!==C?(Dn(C,x),new pt.ERR_OUT_OF_RANGE(x||"offset","an integer",C)):y<0?new pt.ERR_BUFFER_OUT_OF_BOUNDS:new pt.ERR_OUT_OF_RANGE(x||"offset",">= ".concat(x?1:0," and <= ").concat(y),C)}const or=/[^+/0-9A-Za-z-_]/g;function Ir(C){if(C=C.split("=")[0],C=C.trim().replace(or,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function ar(C,y){y=y||1/0;let x;const R=C.length;let _=null;const U=[];for(let Y=0;Y<R;++Y){if(x=C.charCodeAt(Y),x>55295&&x<57344){if(!_){if(x>56319){(y-=3)>-1&&U.push(239,191,189);continue}else if(Y+1===R){(y-=3)>-1&&U.push(239,191,189);continue}_=x;continue}if(x<56320){(y-=3)>-1&&U.push(239,191,189),_=x;continue}x=(_-55296<<10|x-56320)+65536}else _&&(y-=3)>-1&&U.push(239,191,189);if(_=null,x<128){if((y-=1)<0)break;U.push(x)}else if(x<2048){if((y-=2)<0)break;U.push(x>>6|192,x&63|128)}else if(x<65536){if((y-=3)<0)break;U.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((y-=4)<0)break;U.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return U}function Me(C){const y=[];for(let x=0;x<C.length;++x)y.push(C.charCodeAt(x)&255);return y}function tt(C,y){let x,R,_;const U=[];for(let Y=0;Y<C.length&&!((y-=2)<0);++Y)x=C.charCodeAt(Y),R=x>>8,_=x%256,U.push(_),U.push(R);return U}function ji(C){return e.toByteArray(Ir(C))}function Vt(C,y,x,R){let _;for(_=0;_<R&&!(_+x>=y.length||_>=C.length);++_)y[_+x]=C[_];return _}function $t(C,y){return C instanceof y||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===y.name}function Ln(C){return C!==C}const Q=function(){const C="0123456789abcdef",y=new Array(256);for(let x=0;x<16;++x){const R=x*16;for(let _=0;_<16;++_)y[R+_]=C[x]+C[_]}return y}();function re(C){return typeof BigInt>"u"?de:C}function de(){throw new Error("BigInt not supported")}})(fb);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,e){var t=fb,i=t.Buffer;function r(o,a){for(var l in o)a[l]=o[l]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?n.exports=t:(r(t,e),e.Buffer=s);function s(o,a,l){return i(o,a,l)}s.prototype=Object.create(i.prototype),r(i,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=i(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}})(fg,fg.exports);var lo=fg.exports,WC=lo.Buffer;function rp(n,e){this._block=WC.alloc(n),this._finalSize=e,this._blockSize=n,this._len=0}rp.prototype.update=function(n,e){typeof n=="string"&&(e=e||"utf8",n=WC.from(n,e));for(var t=this._block,i=this._blockSize,r=n.length,s=this._len,o=0;o<r;){for(var a=s%i,l=Math.min(r-o,i-a),c=0;c<l;c++)t[a+c]=n[o+c];s+=l,o+=l,s%i===0&&this._update(t)}return this._len+=r,this};rp.prototype.digest=function(n){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var t=this._len*8;if(t<=4294967295)this._block.writeUInt32BE(t,this._blockSize-4);else{var i=(t&4294967295)>>>0,r=(t-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=this._hash();return n?s.toString(n):s};rp.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Ta=rp,Y3=xa,QC=Ta,J3=lo.Buffer,X3=[1518500249,1859775393,-1894007588,-899497514],Z3=new Array(80);function vc(){this.init(),this._w=Z3,QC.call(this,64,56)}Y3(vc,QC);vc.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function eF(n){return n<<5|n>>>27}function tF(n){return n<<30|n>>>2}function nF(n,e,t,i){return n===0?e&t|~e&i:n===2?e&t|e&i|t&i:e^t^i}vc.prototype._update=function(n){for(var e=this._w,t=this._a|0,i=this._b|0,r=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=n.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var l=0;l<80;++l){var c=~~(l/20),u=eF(t)+nF(c,i,r,s)+o+e[l]+X3[c]|0;o=s,s=r,r=tF(i),i=t,t=u}this._a=t+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};vc.prototype._hash=function(){var n=J3.allocUnsafe(20);return n.writeInt32BE(this._a|0,0),n.writeInt32BE(this._b|0,4),n.writeInt32BE(this._c|0,8),n.writeInt32BE(this._d|0,12),n.writeInt32BE(this._e|0,16),n};var iF=vc,rF=xa,GC=Ta,sF=lo.Buffer,oF=[1518500249,1859775393,-1894007588,-899497514],aF=new Array(80);function wc(){this.init(),this._w=aF,GC.call(this,64,56)}rF(wc,GC);wc.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function lF(n){return n<<1|n>>>31}function cF(n){return n<<5|n>>>27}function uF(n){return n<<30|n>>>2}function dF(n,e,t,i){return n===0?e&t|~e&i:n===2?e&t|e&i|t&i:e^t^i}wc.prototype._update=function(n){for(var e=this._w,t=this._a|0,i=this._b|0,r=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=n.readInt32BE(a*4);for(;a<80;++a)e[a]=lF(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var l=0;l<80;++l){var c=~~(l/20),u=cF(t)+dF(c,i,r,s)+o+e[l]+oF[c]|0;o=s,s=r,r=uF(i),i=t,t=u}this._a=t+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};wc.prototype._hash=function(){var n=sF.allocUnsafe(20);return n.writeInt32BE(this._a|0,0),n.writeInt32BE(this._b|0,4),n.writeInt32BE(this._c|0,8),n.writeInt32BE(this._d|0,12),n.writeInt32BE(this._e|0,16),n};var hF=wc,pF=xa,KC=Ta,fF=lo.Buffer,mF=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],gF=new Array(64);function Ec(){this.init(),this._w=gF,KC.call(this,64,56)}pF(Ec,KC);Ec.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function yF(n,e,t){return t^n&(e^t)}function bF(n,e,t){return n&e|t&(n|e)}function vF(n){return(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10)}function wF(n){return(n>>>6|n<<26)^(n>>>11|n<<21)^(n>>>25|n<<7)}function EF(n){return(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3}function xF(n){return(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10}Ec.prototype._update=function(n){for(var e=this._w,t=this._a|0,i=this._b|0,r=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,l=this._g|0,c=this._h|0,u=0;u<16;++u)e[u]=n.readInt32BE(u*4);for(;u<64;++u)e[u]=xF(e[u-2])+e[u-7]+EF(e[u-15])+e[u-16]|0;for(var d=0;d<64;++d){var h=c+wF(o)+yF(o,a,l)+mF[d]+e[d]|0,p=vF(t)+bF(t,i,r)|0;c=l,l=a,a=o,o=s+h|0,s=r,r=i,i=t,t=h+p|0}this._a=t+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=l+this._g|0,this._h=c+this._h|0};Ec.prototype._hash=function(){var n=fF.allocUnsafe(32);return n.writeInt32BE(this._a,0),n.writeInt32BE(this._b,4),n.writeInt32BE(this._c,8),n.writeInt32BE(this._d,12),n.writeInt32BE(this._e,16),n.writeInt32BE(this._f,20),n.writeInt32BE(this._g,24),n.writeInt32BE(this._h,28),n};var YC=Ec,TF=xa,SF=YC,CF=Ta,AF=lo.Buffer,NF=new Array(64);function sp(){this.init(),this._w=NF,CF.call(this,64,56)}TF(sp,SF);sp.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};sp.prototype._hash=function(){var n=AF.allocUnsafe(28);return n.writeInt32BE(this._a,0),n.writeInt32BE(this._b,4),n.writeInt32BE(this._c,8),n.writeInt32BE(this._d,12),n.writeInt32BE(this._e,16),n.writeInt32BE(this._f,20),n.writeInt32BE(this._g,24),n};var kF=sp,RF=xa,JC=Ta,PF=lo.Buffer,Ww=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],$F=new Array(160);function xc(){this.init(),this._w=$F,JC.call(this,128,112)}RF(xc,JC);xc.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Qw(n,e,t){return t^n&(e^t)}function Gw(n,e,t){return n&e|t&(n|e)}function Kw(n,e){return(n>>>28|e<<4)^(e>>>2|n<<30)^(e>>>7|n<<25)}function Yw(n,e){return(n>>>14|e<<18)^(n>>>18|e<<14)^(e>>>9|n<<23)}function MF(n,e){return(n>>>1|e<<31)^(n>>>8|e<<24)^n>>>7}function IF(n,e){return(n>>>1|e<<31)^(n>>>8|e<<24)^(n>>>7|e<<25)}function OF(n,e){return(n>>>19|e<<13)^(e>>>29|n<<3)^n>>>6}function _F(n,e){return(n>>>19|e<<13)^(e>>>29|n<<3)^(n>>>6|e<<26)}function Ht(n,e){return n>>>0<e>>>0?1:0}xc.prototype._update=function(n){for(var e=this._w,t=this._ah|0,i=this._bh|0,r=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,l=this._gh|0,c=this._hh|0,u=this._al|0,d=this._bl|0,h=this._cl|0,p=this._dl|0,g=this._el|0,m=this._fl|0,T=this._gl|0,w=this._hl|0,b=0;b<32;b+=2)e[b]=n.readInt32BE(b*4),e[b+1]=n.readInt32BE(b*4+4);for(;b<160;b+=2){var v=e[b-30],N=e[b-15*2+1],M=MF(v,N),L=IF(N,v);v=e[b-2*2],N=e[b-2*2+1];var I=OF(v,N),$=_F(N,v),k=e[b-7*2],H=e[b-7*2+1],A=e[b-16*2],F=e[b-16*2+1],D=L+H|0,G=M+k+Ht(D,L)|0;D=D+$|0,G=G+I+Ht(D,$)|0,D=D+F|0,G=G+A+Ht(D,F)|0,e[b]=G,e[b+1]=D}for(var ne=0;ne<160;ne+=2){G=e[ne],D=e[ne+1];var ue=Gw(t,i,r),ae=Gw(u,d,h),te=Kw(t,u),Z=Kw(u,t),j=Yw(o,g),J=Yw(g,o),ce=Ww[ne],ve=Ww[ne+1],Te=Qw(o,a,l),Ce=Qw(g,m,T),$e=w+J|0,_e=c+j+Ht($e,w)|0;$e=$e+Ce|0,_e=_e+Te+Ht($e,Ce)|0,$e=$e+ve|0,_e=_e+ce+Ht($e,ve)|0,$e=$e+D|0,_e=_e+G+Ht($e,D)|0;var pt=Z+ae|0,xt=te+ue+Ht(pt,Z)|0;c=l,w=T,l=a,T=m,a=o,m=g,g=p+$e|0,o=s+_e+Ht(g,p)|0,s=r,p=h,r=i,h=d,i=t,d=u,u=$e+pt|0,t=_e+xt+Ht(u,$e)|0}this._al=this._al+u|0,this._bl=this._bl+d|0,this._cl=this._cl+h|0,this._dl=this._dl+p|0,this._el=this._el+g|0,this._fl=this._fl+m|0,this._gl=this._gl+T|0,this._hl=this._hl+w|0,this._ah=this._ah+t+Ht(this._al,u)|0,this._bh=this._bh+i+Ht(this._bl,d)|0,this._ch=this._ch+r+Ht(this._cl,h)|0,this._dh=this._dh+s+Ht(this._dl,p)|0,this._eh=this._eh+o+Ht(this._el,g)|0,this._fh=this._fh+a+Ht(this._fl,m)|0,this._gh=this._gh+l+Ht(this._gl,T)|0,this._hh=this._hh+c+Ht(this._hl,w)|0};xc.prototype._hash=function(){var n=PF.allocUnsafe(64);function e(t,i,r){n.writeInt32BE(t,r),n.writeInt32BE(i,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),n};var XC=xc,DF=xa,LF=XC,qF=Ta,BF=lo.Buffer,FF=new Array(160);function op(){this.init(),this._w=FF,qF.call(this,128,112)}DF(op,LF);op.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};op.prototype._hash=function(){var n=BF.allocUnsafe(48);function e(t,i,r){n.writeInt32BE(t,r),n.writeInt32BE(i,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),n};var UF=op,co=VC.exports=function(e){e=e.toLowerCase();var t=co[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};co.sha=iF;co.sha1=hF;co.sha224=kF;co.sha256=YC;co.sha384=UF;co.sha512=XC;var jF=VC.exports;const zF=fs(jF);function Rf(n,e=!1){return e&&(n=" "+n),n.replace(/^([A-Z])|[\s-_](\w)/g,function(t,i,r){return r?r.toUpperCase():i.toLowerCase()})}function Jw(n){return n.replace(/([A-Z])([A-Z])([a-z])/g,"$1_$2$3").replace(/([a-z0-9])([A-Z])/g,"$1_$2").toLowerCase()}function VF(n){return n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}function ZC(n,e={}){const{segmentLength:t=4,separator:i="__",termLength:r=2}=e;return n.split(i).reduce((a,l)=>{const c=l.replace(/([a-z\xE0-\xFF])([A-Z\xC0-\xDF])/g,"$1 $2").split(" "),u=c.length>1?r:t,d=c.map(h=>h.substr(0,u)).join("");return a.push(d),a},[]).join(i)}function HF(n,e={}){const t=zF("sha1");t.update(n,"utf8");const i=t.digest("hex");return e.length?i.slice(0,e.length):i}class WF{constructor(){this.nestedSetColumnNames={left:"nsleft",right:"nsright"},this.materializedPathColumnName="mpath"}getTableName(e){return typeof e!="string"&&(e=e.name),e.split(".").pop()}tableName(e,t){return t||Jw(e)}closureJunctionTableName(e){return e+"_closure"}columnName(e,t,i){const r=t||e;return i.length?Rf(i.join("_"))+VF(r):r}relationName(e){return e}primaryKeyName(e,t){const i=[...t];i.sort();const s=this.getTableName(e).replace(".","_"),o="".concat(s,"_").concat(i.join("_"));return"PK_"+Br.sha1(o).substr(0,27)}uniqueConstraintName(e,t){const i=[...t];i.sort();const s=this.getTableName(e).replace(".","_"),o="".concat(s,"_").concat(i.join("_"));return"UQ_"+Br.sha1(o).substr(0,27)}relationConstraintName(e,t,i){const r=[...t];r.sort();const o=this.getTableName(e).replace(".","_");let a="".concat(o,"_").concat(r.join("_"));return i&&(a+="_".concat(i)),"REL_"+Br.sha1(a).substr(0,26)}defaultConstraintName(e,t){const r=this.getTableName(e).replace(".","_"),s="".concat(r,"_").concat(t);return"DF_"+Br.sha1(s).substr(0,27)}foreignKeyName(e,t,i,r){const s=[...t];s.sort();const a=this.getTableName(e).replace(".","_"),l="".concat(a,"_").concat(s.join("_"));return"FK_"+Br.sha1(l).substr(0,27)}indexName(e,t,i){const r=[...t];r.sort();const o=this.getTableName(e).replace(".","_");let a="".concat(o,"_").concat(r.join("_"));return i&&(a+="_".concat(i)),"IDX_"+Br.sha1(a).substr(0,26)}checkConstraintName(e,t,i){const s=this.getTableName(e).replace(".","_"),o="".concat(s,"_").concat(t),a="CHK_"+Br.sha1(o).substr(0,26);return i?"".concat(a,"_ENUM"):a}exclusionConstraintName(e,t){const r=this.getTableName(e).replace(".","_"),s="".concat(r,"_").concat(t);return"XCL_"+Br.sha1(s).substr(0,26)}joinColumnName(e,t){return Rf(e+"_"+t)}joinTableName(e,t,i,r){return Jw(e+"_"+i.replace(/\./gi,"_")+"_"+t)}joinTableColumnDuplicationPrefix(e,t){return e+"_"+t}joinTableColumnName(e,t,i){return Rf(e+"_"+(i||t))}joinTableInverseColumnName(e,t,i){return this.joinTableColumnName(e,t,i)}prefixTableName(e,t){return e+t}eagerJoinRelationAlias(e,t){return e+"_"+t.replace(".","_")}}class B extends Error{get name(){return this.constructor.name}constructor(e){super(e),Object.setPrototypeOf?Object.setPrototypeOf(this,new.target.prototype):this.__proto__=new.target.prototype}}class bu extends B{constructor(e){super("Internal error. Subject ".concat(e.metadata.targetName," must have an identifier to perform operation."))}}class QF extends B{constructor(e){super('Cannot create a "'.concat(e,'" connection because connection to the database already established.'))}}class yo extends B{constructor(){super("Locking not supported on given driver.")}}class GF extends B{constructor(e,t){super();const i=e.primaryColumns.reduce((r,s,o)=>(s.setEntityValue(r,o+1),r),{});this.message='Cannot use given entity id "'.concat(t,'" because "').concat(e.targetName,'" contains multiple primary columns, you must provide object in following form: ').concat(JSON.stringify(i)," as an id.")}}class KF extends B{constructor(e){super("Cannot ".concat(e,", given value must be instance of entity class, ")+"instead object literal is given. Or you must specify an entity target to method call.")}}class YF extends B{constructor(e){super("Tree repositories are not supported in ".concat(e.options.type," driver."))}}class eA extends B{constructor(e){super("Custom repository ".concat(typeof e=="function"?e.name:e.constructor.name," was not found. ")+"Did you forgot to put @EntityRepository decorator on it?")}}class bi extends B{constructor(){super("Transaction is not started yet, start transaction before committing or rolling it back.")}}class JF extends B{constructor(){super("Transaction already started for the given connection, commit current transaction before starting a new one.")}}class Fe{static isObject(e){return e!==null&&typeof e=="object"}static isObjectWithName(e){return e!==null&&typeof e=="object"&&e.name!==void 0}static assign(e,...t){for(const i of t)for(const r of Object.getOwnPropertyNames(i))e[r]=i[r]}static mixedListToArray(e){return e!==null&&typeof e=="object"?Object.keys(e).map(t=>e[t]):e}}class W{static isMssqlParameter(e){return this.check(e,"MssqlParameter")}static isEntityMetadata(e){return this.check(e,"EntityMetadata")}static isColumnMetadata(e){return this.check(e,"ColumnMetadata")}static isSelectQueryBuilder(e){return this.check(e,"SelectQueryBuilder")}static isInsertQueryBuilder(e){return this.check(e,"InsertQueryBuilder")}static isDeleteQueryBuilder(e){return this.check(e,"DeleteQueryBuilder")}static isUpdateQueryBuilder(e){return this.check(e,"UpdateQueryBuilder")}static isSoftDeleteQueryBuilder(e){return this.check(e,"SoftDeleteQueryBuilder")}static isRelationQueryBuilder(e){return this.check(e,"RelationQueryBuilder")}static isBrackets(e){return this.check(e,"Brackets")||this.check(e,"NotBrackets")}static isNotBrackets(e){return this.check(e,"NotBrackets")}static isSubject(e){return this.check(e,"Subject")}static isRdbmsSchemaBuilder(e){return this.check(e,"RdbmsSchemaBuilder")}static isMongoEntityManager(e){return this.check(e,"MongoEntityManager")}static isSqljsEntityManager(e){return this.check(e,"SqljsEntityManager")}static isEntitySchema(e){return this.check(e,"EntitySchema")}static isBaseEntityConstructor(e){return typeof e=="function"&&typeof e.hasId=="function"&&typeof e.save=="function"&&typeof e.useDataSource=="function"}static isFindOperator(e){return this.check(e,"FindOperator")||this.check(e,"EqualOperator")}static isEqualOperator(e){return this.check(e,"EqualOperator")}static isQuery(e){return this.check(e,"Query")}static isTable(e){return this.check(e,"Table")}static isTableCheck(e){return this.check(e,"TableCheck")}static isTableColumn(e){return this.check(e,"TableColumn")}static isTableExclusion(e){return this.check(e,"TableExclusion")}static isTableForeignKey(e){return this.check(e,"TableForeignKey")}static isTableIndex(e){return this.check(e,"TableIndex")}static isTableUnique(e){return this.check(e,"TableUnique")}static isView(e){return this.check(e,"View")}static isDataSource(e){return this.check(e,"DataSource")}static check(e,t){return typeof e=="object"&&e!==null&&e["@instanceof"]===Symbol.for(t)}}class mg extends B{constructor(e,t){super(),this.message='Could not find any entity of type "'.concat(this.stringifyTarget(e),'" ')+"matching: ".concat(this.stringifyCriteria(t))}stringifyTarget(e){return W.isEntitySchema(e)?e.options.name:typeof e=="function"||Fe.isObject(e)&&"name"in e?e.name:e}stringifyCriteria(e){try{return JSON.stringify(e,null,4)}catch(t){}return""+e}}class XF extends B{constructor(e){super(),this.message='No metadata for "'.concat(this.stringifyTarget(e),'" was found.')}stringifyTarget(e){return W.isEntitySchema(e)?e.options.name:typeof e=="function"||Fe.isObject(e)&&"name"in e?e.name:e}}class ZF extends B{constructor(e,t){super("Cannot ".concat(e,', given value must be an entity, instead "').concat(t,'" is given.'))}}class Xw extends B{constructor(e,t,i){super("The optimistic lock on entity ".concat(e," failed, version ").concat(t," was expected, but is actually ").concat(i,"."))}}class e6 extends B{constructor(e,t){super("Primary column ".concat(e.constructor.name,"#").concat(t," cannot be nullable. ")+"Its not allowed for primary keys. Try to remove nullable option.")}}class t6 extends B{constructor(e){super("Custom entity repository ".concat(typeof e=="function"?e.name:e.constructor.name," ")+" cannot inherit Repository class without entity being set in the @EntityRepository decorator.")}}class tA extends B{constructor(){super("Database connection provided by a query runner was already released, cannot continue to use its querying methods anymore.")}}class Zw extends B{constructor(e){super('Cannot attach entity "'.concat(e,'" to its parent. Please make sure parent ')+"is saved in the database before saving children nodes.")}}class Pf extends B{constructor(e){super("Custom repository ".concat(typeof e=="function"?e.name:e.constructor.name," does not have managed entity. ")+"Did you forget to specify entity for it @EntityRepository(MyEntity)? ")}}class n6 extends B{constructor(e){super("Circular relations detected: ".concat(e,". To resolve this issue you need to ")+"set nullable: true somewhere in this dependency structure.")}}class i6 extends B{constructor(e){super('Entity "'.concat(e.name,'" does not have a primary column. Primary column is required to ')+"have in all your entities. Use @PrimaryColumn decorator to add a primary column to your entity.")}}class Yi extends B{constructor(e,t){super(e),Object.setPrototypeOf(this,Yi.prototype),this.message='Property "'.concat(e,'" was not found in "').concat(t.targetName,'". Make sure your query is correct.')}}class r6 extends B{constructor(e,t=[]){super('Wrong driver: "'.concat(e,'" given. Supported drivers are: ')+"".concat(t.map(i=>'"'.concat(i,'"')).join(", "),"."))}}class Sa extends B{constructor(e,t){super("".concat(e," package has not been found installed. ")+"Try to install it: npm install ".concat(t," --save"))}}class s6 extends B{constructor(e){super("Entity ".concat(e," does not have version or update date columns."))}}class nl extends B{constructor(){super("The optimistic lock can be used only with getOne() method.")}}class o6 extends B{constructor(e){super("Driver option (".concat(e,") is not set. ")+"Please set it to perform connection to the database.")}}class a6 extends B{constructor(e){super(),e.length===1?this.message='Relation "'.concat(e[0],'" was not found; please check if it is correct and really exists in your entity.'):this.message="Relations ".concat(e.map(t=>'"'.concat(t,'"')).join(", ")," were not found; please check if relations are correct and they exist in your entities.")}}class l6 extends B{constructor(){super("An open transaction is required for pessimistic lock.")}}class c6 extends B{constructor(e,t,i){super();const r=typeof t=="string"?t:t.name;this.message='Data type "'.concat(r,'" in "').concat(e.entityMetadata.targetName,".").concat(e.propertyName,'" is not supported by "').concat(i,'" database.')}}class u6 extends B{constructor(e){super("Array initializations are not allowed in entity relations. "+'Please remove array initialization (= []) from "'.concat(e.entityMetadata.targetName,"#").concat(e.propertyPath,'". ')+"This is ORM requirement to make relations to work properly. Refer docs for more information.")}}class nr extends B{constructor(e,t,i){if(super(i.toString().replace(/^error: /,"").replace(/^Error: /,"").replace(/^Request/,"")),this.query=e,this.parameters=t,this.driverError=i,i){const{name:r,...s}=i;Fe.assign(this,{...s})}}}class d6 extends B{constructor(){super("Entity manager is not using single database connection and cannot be released. Only entity managers created by connection#createEntityManagerWithSingleDatabaseConnection methods have a single database connection and they should be released.")}}class h6 extends B{constructor(e){super('Removed entity "'.concat(e.metadata.name,'" is also scheduled for update operation. ')+"Make sure you are not updating and removing same object (note that update or remove may be executed by cascade operations).")}}class nA extends B{constructor(e,t){super("Column type for ".concat(e.constructor.name,"#").concat(t," is not defined and cannot be guessed. ")+'Make sure you have turned on an "emitDecoratorMetadata": true option in tsconfig.json. Also make sure you have imported "reflect-metadata" on top of the main entry file in your application (before any entity imported).If you are using JavaScript instead of TypeScript you must explicitly provide a column type.')}}class En extends B{constructor(){super("Query runner already released. Cannot run queries anymore.")}}class p6 extends B{constructor(){super("RDBMS does not support OFFSET without LIMIT in SELECT statements. You must use limit in conjunction with offset function (or take in conjunction with skip function if you are using pagination).")}}class il extends B{constructor(e){super('Cannot execute operation on "'.concat(e,'" connection because connection is not yet established.'))}}class f6 extends B{constructor(e){super('Option "'.concat(e,'" is not set in your connection options, please ')+'define "'.concat(e,'" option in your connection options or ormconfig.json'))}}class m6 extends B{constructor(e){const t=e.map(i=>'"'.concat(i.name,'"'));super("Migrations ".concat(t.join(", "),' override the transaction mode, but the global transaction mode is "all"'))}}class Rn{constructor(e){this["@instanceof"]=Symbol.for("TableColumn"),this.isNullable=!1,this.isGenerated=!1,this.isPrimary=!1,this.isUnique=!1,this.isArray=!1,this.length="",this.zerofill=!1,this.unsigned=!1,e&&(this.name=e.name,this.type=e.type||"",this.length=e.length||"",this.width=e.width,this.charset=e.charset,this.collation=e.collation,this.precision=e.precision,this.scale=e.scale,this.zerofill=e.zerofill||!1,this.unsigned=this.zerofill?!0:e.unsigned||!1,this.default=e.default,this.onUpdate=e.onUpdate,this.isNullable=e.isNullable||!1,this.isGenerated=e.isGenerated||!1,this.generationStrategy=e.generationStrategy,this.generatedIdentity=e.generatedIdentity,this.isPrimary=e.isPrimary||!1,this.isUnique=e.isUnique||!1,this.isArray=e.isArray||!1,this.comment=e.comment,this.enum=e.enum,this.enumName=e.enumName,this.primaryKeyConstraintName=e.primaryKeyConstraintName,this.asExpression=e.asExpression,this.generatedType=e.generatedType,this.spatialFeatureType=e.spatialFeatureType,this.srid=e.srid)}clone(){return new Rn({name:this.name,type:this.type,length:this.length,width:this.width,charset:this.charset,collation:this.collation,precision:this.precision,scale:this.scale,zerofill:this.zerofill,unsigned:this.unsigned,enum:this.enum,enumName:this.enumName,primaryKeyConstraintName:this.primaryKeyConstraintName,asExpression:this.asExpression,generatedType:this.generatedType,default:this.default,onUpdate:this.onUpdate,isNullable:this.isNullable,isGenerated:this.isGenerated,generationStrategy:this.generationStrategy,generatedIdentity:this.generatedIdentity,isPrimary:this.isPrimary,isUnique:this.isUnique,isArray:this.isArray,comment:this.comment,spatialFeatureType:this.spatialFeatureType,srid:this.srid})}}class Nt{constructor(e){this["@instanceof"]=Symbol.for("TableIndex"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.isUnique=!!e.isUnique,this.isSpatial=!!e.isSpatial,this.isFulltext=!!e.isFulltext,this.isNullFiltered=!!e.isNullFiltered,this.parser=e.parser,this.where=e.where?e.where:""}clone(){return new Nt({name:this.name,columnNames:[...this.columnNames],isUnique:this.isUnique,isSpatial:this.isSpatial,isFulltext:this.isFulltext,isNullFiltered:this.isNullFiltered,parser:this.parser,where:this.where})}static create(e){return new Nt({name:e.name,columnNames:e.columns.map(t=>t.databaseName),isUnique:e.isUnique,isSpatial:e.isSpatial,isFulltext:e.isFulltext,isNullFiltered:e.isNullFiltered,parser:e.parser,where:e.where})}}class pi{constructor(e){this["@instanceof"]=Symbol.for("TableForeignKey"),this.columnNames=[],this.referencedColumnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.referencedColumnNames=e.referencedColumnNames,this.referencedDatabase=e.referencedDatabase,this.referencedSchema=e.referencedSchema,this.referencedTableName=e.referencedTableName,this.onDelete=e.onDelete,this.onUpdate=e.onUpdate,this.deferrable=e.deferrable}clone(){return new pi({name:this.name,columnNames:[...this.columnNames],referencedColumnNames:[...this.referencedColumnNames],referencedDatabase:this.referencedDatabase,referencedSchema:this.referencedSchema,referencedTableName:this.referencedTableName,onDelete:this.onDelete,onUpdate:this.onUpdate,deferrable:this.deferrable})}static create(e,t){return new pi({name:e.name,columnNames:e.columnNames,referencedColumnNames:e.referencedColumnNames,referencedDatabase:e.referencedEntityMetadata.database,referencedSchema:e.referencedEntityMetadata.schema,referencedTableName:e.referencedTablePath,onDelete:e.onDelete,onUpdate:e.onUpdate,deferrable:e.deferrable})}}class Yu{static createTableColumnOptions(e,t){return{name:e.databaseName,length:t.getColumnLength(e),width:e.width,charset:e.charset,collation:e.collation,precision:e.precision,scale:e.scale,zerofill:e.zerofill,unsigned:e.unsigned,asExpression:e.asExpression,generatedType:e.generatedType,default:t.normalizeDefault(e),onUpdate:e.onUpdate,comment:e.comment,isGenerated:e.isGenerated,generationStrategy:e.generationStrategy,generatedIdentity:e.generatedIdentity,isNullable:e.isNullable,type:t.normalizeType(e),isPrimary:e.isPrimary,isUnique:t.normalizeIsUnique(e),isArray:e.isArray||!1,enum:e.enum?e.enum.map(i=>i+""):e.enum,enumName:e.enumName,primaryKeyConstraintName:e.primaryKeyConstraintName,spatialFeatureType:e.spatialFeatureType,srid:e.srid}}}class hn{constructor(e){this["@instanceof"]=Symbol.for("TableUnique"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.deferrable=e.deferrable}clone(){return new hn({name:this.name,columnNames:[...this.columnNames],deferrable:this.deferrable})}static create(e){return new hn({name:e.name,columnNames:e.columns.map(t=>t.databaseName),deferrable:e.deferrable})}}class qi{constructor(e){this["@instanceof"]=Symbol.for("TableCheck"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.expression=e.expression}clone(){return new qi({name:this.name,columnNames:this.columnNames?[...this.columnNames]:[],expression:this.expression})}static create(e){return new qi({name:e.name,expression:e.expression})}}class to{constructor(e){this["@instanceof"]=Symbol.for("TableExclusion"),this.name=e.name,this.expression=e.expression}clone(){return new to({name:this.name,expression:this.expression})}static create(e){return new to({name:e.name,expression:e.expression})}}class gt{constructor(e){this["@instanceof"]=Symbol.for("Table"),this.columns=[],this.indices=[],this.foreignKeys=[],this.uniques=[],this.checks=[],this.exclusions=[],this.justCreated=!1,this.withoutRowid=!1,e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,e.columns&&(this.columns=e.columns.map(t=>new Rn(t))),e.indices&&(this.indices=e.indices.map(t=>new Nt(t))),e.foreignKeys&&(this.foreignKeys=e.foreignKeys.map(t=>new pi({...t,referencedDatabase:(t==null?void 0:t.referencedDatabase)||e.database,referencedSchema:(t==null?void 0:t.referencedSchema)||e.schema}))),e.uniques&&(this.uniques=e.uniques.map(t=>new hn(t))),e.checks&&(this.checks=e.checks.map(t=>new qi(t))),e.exclusions&&(this.exclusions=e.exclusions.map(t=>new to(t))),e.justCreated!==void 0&&(this.justCreated=e.justCreated),e.withoutRowid&&(this.withoutRowid=e.withoutRowid),this.engine=e.engine)}get primaryColumns(){return this.columns.filter(e=>e.isPrimary)}clone(){return new gt({schema:this.schema,database:this.database,name:this.name,columns:this.columns.map(e=>e.clone()),indices:this.indices.map(e=>e.clone()),foreignKeys:this.foreignKeys.map(e=>e.clone()),uniques:this.uniques.map(e=>e.clone()),checks:this.checks.map(e=>e.clone()),exclusions:this.exclusions.map(e=>e.clone()),justCreated:this.justCreated,withoutRowid:this.withoutRowid,engine:this.engine})}addColumn(e){this.columns.push(e)}removeColumn(e){const t=this.columns.find(i=>i.name===e.name);t&&this.columns.splice(this.columns.indexOf(t),1)}addUniqueConstraint(e){if(this.uniques.push(e),e.columnNames.length===1){const t=this.columns.find(i=>i.name===e.columnNames[0]);t&&(t.isUnique=!0)}}removeUniqueConstraint(e){const t=this.uniques.find(i=>i.name===e.name);if(t&&(this.uniques.splice(this.uniques.indexOf(t),1),t.columnNames.length===1)){const i=this.columns.find(r=>r.name===t.columnNames[0]);i&&(i.isUnique=!1)}}addCheckConstraint(e){this.checks.push(e)}removeCheckConstraint(e){const t=this.checks.find(i=>i.name===e.name);t&&this.checks.splice(this.checks.indexOf(t),1)}addExclusionConstraint(e){this.exclusions.push(e)}removeExclusionConstraint(e){const t=this.exclusions.find(i=>i.name===e.name);t&&this.exclusions.splice(this.exclusions.indexOf(t),1)}addForeignKey(e){this.foreignKeys.push(e)}removeForeignKey(e){const t=this.foreignKeys.find(i=>i.name===e.name);t&&this.foreignKeys.splice(this.foreignKeys.indexOf(t),1)}addIndex(e,t=!1){if(this.indices.push(e),e.columnNames.length===1&&e.isUnique&&t){const i=this.columns.find(r=>r.name===e.columnNames[0]);i&&(i.isUnique=!0)}}removeIndex(e,t=!1){const i=this.indices.find(r=>r.name===e.name);if(i&&(this.indices.splice(this.indices.indexOf(i),1),i.columnNames.length===1&&i.isUnique&&t)){const r=this.columns.find(s=>s.name===i.columnNames[0]);r&&(r.isUnique=this.indices.some(s=>s.columnNames.length===1&&s.columnNames[0]===r.name&&!!i.isUnique))}}findColumnByName(e){return this.columns.find(t=>t.name===e)}findColumnIndices(e){return this.indices.filter(t=>!!t.columnNames.find(i=>i===e.name))}findColumnForeignKeys(e){return this.foreignKeys.filter(t=>!!t.columnNames.find(i=>i===e.name))}findColumnUniques(e){return this.uniques.filter(t=>!!t.columnNames.find(i=>i===e.name))}findColumnChecks(e){return this.checks.filter(t=>!!t.columnNames.find(i=>i===e.name))}static create(e,t){const i=e.database===t.database?void 0:e.database,r=e.schema===t.options.schema?void 0:e.schema,s={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,r,i),withoutRowid:e.withoutRowid,engine:e.engine,columns:e.columns.filter(o=>o&&!o.isVirtualProperty).map(o=>Yu.createTableColumnOptions(o,t)),indices:e.indices.filter(o=>o.synchronize===!0).map(o=>Nt.create(o)),uniques:e.uniques.map(o=>hn.create(o)),checks:e.checks.map(o=>qi.create(o)),exclusions:e.exclusions.map(o=>to.create(o))};return new gt(s)}}class eE{constructor(e,t,i,r,s){this.id=e,this.timestamp=t,this.name=i,this.instance=r,this.transaction=s}}class Ai{constructor(e,t,...i){this.value=e,this.type=t,this["@instanceof"]=Symbol.for("MssqlParameter"),this.params=[],this.params=i||[]}}class $f{constructor(e,t){this.connection=e,this.queryRunner=t,this.transaction="all";const{schema:i}=this.connection.driver.options,r=this.connection.driver.database;this.migrationsDatabase=r,this.migrationsSchema=i,this.migrationsTableName=e.options.migrationsTableName||"migrations",this.migrationsTable=this.connection.driver.buildTableName(this.migrationsTableName,i,r)}async executeMigration(e){return this.withQueryRunner(async t=>{await this.createMigrationsTableIfNotExist(t);const i=this.connection.driver.createSchemaBuilder();return W.isRdbmsSchemaBuilder(i)&&await i.createMetadataTableIfNecessary(t),await t.beforeMigration(),await e.instance.up(t),await t.afterMigration(),await this.insertExecutedMigration(t,e),e})}async getAllMigrations(){return Promise.resolve(this.getMigrations())}async getExecutedMigrations(){return this.withQueryRunner(async e=>(await this.createMigrationsTableIfNotExist(e),await this.loadExecutedMigrations(e)))}async getPendingMigrations(){const e=await this.getAllMigrations(),t=await this.getExecutedMigrations();return e.filter(i=>!t.find(r=>r.name===i.name))}insertMigration(e){return this.withQueryRunner(t=>this.insertExecutedMigration(t,e))}deleteMigration(e){return this.withQueryRunner(t=>this.deleteExecutedMigration(t,e))}async showMigrations(){let e=!1;const t=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(t);const i=await this.loadExecutedMigrations(t),r=this.getMigrations();for(const s of r){const o=i.find(a=>a.name===s.name);o?this.connection.logger.logSchemaBuild("[X] ".concat(o.id," ").concat(s.name)):(e=!0,this.connection.logger.logSchemaBuild("[ ] ".concat(s.name)))}return this.queryRunner||await t.release(),e}async executePendingMigrations(){const e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);const t=this.connection.driver.createSchemaBuilder();W.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);const i=await this.loadExecutedMigrations(e);let r=this.getLatestTimestampMigration(i);const s=this.getMigrations(),o=[],a=s.filter(u=>!i.find(h=>h.name===u.name));if(!a.length)return this.connection.logger.logSchemaBuild("No migrations are pending"),this.queryRunner||await e.release(),[];if(this.connection.logger.logSchemaBuild("".concat(i.length," migrations are already loaded in the database.")),this.connection.logger.logSchemaBuild("".concat(s.length," migrations were found in the source code.")),r&&this.connection.logger.logSchemaBuild("".concat(r.name," is the last executed migration. It was executed on ").concat(new Date(r.timestamp).toString(),".")),this.connection.logger.logSchemaBuild("".concat(a.length," migrations are new migrations must be executed.")),this.transaction==="all"){const u=a.filter(d=>{var h;return((h=d.instance)===null||h===void 0?void 0:h.transaction)!==void 0});if(u.length>0){const d=new m6(u);throw this.connection.logger.logMigration("Migrations failed, error: ".concat(d.message)),d}}const l={each:!0,none:!1,all:!1}[this.transaction];for(const u of a)if(u.instance){const d=u.instance.transaction;d===void 0?u.transaction=l:u.transaction=d}let c=!1;this.transaction==="all"&&!e.isTransactionActive&&(await e.beforeMigration(),await e.startTransaction(),c=!0);try{for(const u of a){if(this.fake){await this.insertExecutedMigration(e,u);continue}u.transaction&&!e.isTransactionActive&&(await e.beforeMigration(),await e.startTransaction(),c=!0),await u.instance.up(e).catch(d=>{throw this.connection.logger.logMigration('Migration "'.concat(u.name,'" failed, error: ').concat(d==null?void 0:d.message)),d}).then(async()=>{await this.insertExecutedMigration(e,u),u.transaction&&c&&(await e.commitTransaction(),await e.afterMigration())}).then(()=>{o.push(u),this.connection.logger.logSchemaBuild("Migration ".concat(u.name," has been ").concat(this.fake?"(fake)":""," executed successfully."))})}this.transaction==="all"&&c&&(await e.commitTransaction(),await e.afterMigration())}catch(u){if(c)try{await e.rollbackTransaction()}catch(d){}throw u}finally{this.queryRunner||await e.release()}return o}async undoLastMigration(){const e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);const t=this.connection.driver.createSchemaBuilder();W.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);const i=await this.loadExecutedMigrations(e);let r=this.getLatestExecutedMigration(i);if(!r){this.connection.logger.logSchemaBuild("No migrations were found in the database. Nothing to revert!");return}const o=this.getMigrations().find(l=>l.name===r.name);if(!o)throw new B("No migration ".concat(r.name," was found in the source code. Make sure you have this migration in your codebase and its included in the connection options."));this.connection.logger.logSchemaBuild("".concat(i.length," migrations are already loaded in the database.")),this.connection.logger.logSchemaBuild("".concat(r.name," is the last executed migration. It was executed on ").concat(new Date(r.timestamp).toString(),".")),this.connection.logger.logSchemaBuild("Now reverting it...");let a=!1;this.transaction!=="none"&&!e.isTransactionActive&&(await e.startTransaction(),a=!0);try{this.fake||(await e.beforeMigration(),await o.instance.down(e),await e.afterMigration()),await this.deleteExecutedMigration(e,o),this.connection.logger.logSchemaBuild("Migration ".concat(o.name," has been ").concat(this.fake?"(fake)":""," reverted successfully.")),a&&await e.commitTransaction()}catch(l){if(a)try{await e.rollbackTransaction()}catch(c){}throw l}finally{this.queryRunner||await e.release()}}async createMigrationsTableIfNotExist(e){if(this.connection.driver.options.type==="mongodb")return;await e.hasTable(this.migrationsTable)||await e.createTable(new gt({database:this.migrationsDatabase,schema:this.migrationsSchema,name:this.migrationsTable,columns:[{name:"id",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationId}),isGenerated:!0,generationStrategy:"increment",isPrimary:!0,isNullable:!1},{name:"timestamp",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp}),isPrimary:!1,isNullable:!1},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}),isNullable:!1}]}))}async loadExecutedMigrations(e){return this.connection.driver.options.type==="mongodb"?e.cursor(this.migrationsTableName,{}).sort({_id:-1}).toArray():(await this.connection.manager.createQueryBuilder(e).select().orderBy(this.connection.driver.escape("id"),"DESC").from(this.migrationsTable,this.migrationsTableName).getRawMany()).map(i=>new eE(parseInt(i.id),parseInt(i.timestamp),i.name))}getMigrations(){const e=this.connection.migrations.map(t=>{const i=t.name||t.constructor.name,r=parseInt(i.substr(-13),10);if(!r||isNaN(r))throw new B("".concat(i," migration name is wrong. Migration class name should have a JavaScript timestamp appended."));return new eE(void 0,r,i,t)});return this.checkForDuplicateMigrations(e),e.sort((t,i)=>t.timestamp-i.timestamp)}checkForDuplicateMigrations(e){const t=e.map(r=>r.name),i=Array.from(new Set(t.filter((r,s)=>t.indexOf(r)<s)));if(i.length>0)throw Error("Duplicate migrations: ".concat(i.join(", ")))}getLatestTimestampMigration(e){const t=e.map(i=>i).sort((i,r)=>(i.timestamp-r.timestamp)*-1);return t.length>0?t[0]:void 0}getLatestExecutedMigration(e){return e.length>0?e[0]:void 0}async insertExecutedMigration(e,t){const i={};this.connection.driver.options.type==="mssql"?(i.timestamp=new Ai(t.timestamp,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp})),i.name=new Ai(t.name,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}))):(i.timestamp=t.timestamp,i.name=t.name),this.connection.driver.options.type==="mongodb"?await e.databaseConnection.db(this.connection.driver.database).collection(this.migrationsTableName).insertOne(i):await e.manager.createQueryBuilder().insert().into(this.migrationsTable).values(i).execute()}async deleteExecutedMigration(e,t){const i={};if(this.connection.driver.options.type==="mssql"?(i.timestamp=new Ai(t.timestamp,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp})),i.name=new Ai(t.name,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}))):(i.timestamp=t.timestamp,i.name=t.name),this.connection.driver.options.type==="mongodb")await e.databaseConnection.db(this.connection.driver.database).collection(this.migrationsTableName).deleteOne(i);else{const r=e.manager.createQueryBuilder();await r.delete().from(this.migrationsTable).where("".concat(r.escape("timestamp")," = :timestamp")).andWhere("".concat(r.escape("name")," = :name")).setParameters(i).execute()}}async withQueryRunner(e){const t=this.queryRunner||this.connection.createQueryRunner();try{return await e(t)}finally{this.queryRunner||await t.release()}}}function vu(n,e,t){let i=[],r={};return function s(o){r[o]=!0,i.push(o),n[o].forEach(function(a){if(!r[a])s(a);else if(i.indexOf(a)>=0)throw i.push(a),new B("Dependency Cycle Found: ".concat(i.join(" -> ")))}),i.pop(),(!e||n[o].length===0)&&t.indexOf(o)===-1&&t.push(o)}}class g6{constructor(){this.nodes={},this.outgoingEdges={},this.incomingEdges={}}addNode(e,t){this.hasNode(e)||(arguments.length===2?this.nodes[e]=t:this.nodes[e]=e,this.outgoingEdges[e]=[],this.incomingEdges[e]=[])}removeNode(e){this.hasNode(e)&&(delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],[this.incomingEdges,this.outgoingEdges].forEach(function(t){Object.keys(t).forEach(function(i){let r=t[i].indexOf(e);r>=0&&t[i].splice(r,1)},this)}))}hasNode(e){return this.nodes.hasOwnProperty(e)}getNodeData(e){if(this.hasNode(e))return this.nodes[e];throw new B("Node does not exist: ".concat(e))}setNodeData(e,t){if(this.hasNode(e))this.nodes[e]=t;else throw new B("Node does not exist: ".concat(e))}addDependency(e,t){if(!this.hasNode(e))throw new B("Node does not exist: ".concat(e));if(!this.hasNode(t))throw new B("Node does not exist: ".concat(t));return this.outgoingEdges[e].indexOf(t)===-1&&this.outgoingEdges[e].push(t),this.incomingEdges[t].indexOf(e)===-1&&this.incomingEdges[t].push(e),!0}removeDependency(e,t){let i;this.hasNode(e)&&(i=this.outgoingEdges[e].indexOf(t),i>=0&&this.outgoingEdges[e].splice(i,1)),this.hasNode(t)&&(i=this.incomingEdges[t].indexOf(e),i>=0&&this.incomingEdges[t].splice(i,1))}dependenciesOf(e,t){if(this.hasNode(e)){let i=[];vu(this.outgoingEdges,t,i)(e);let s=i.indexOf(e);return s>=0&&i.splice(s,1),i}else throw new B("Node does not exist: ".concat(e))}dependantsOf(e,t){if(this.hasNode(e)){let i=[];vu(this.incomingEdges,t,i)(e);let s=i.indexOf(e);return s>=0&&i.splice(s,1),i}else throw new B("Node does not exist: ".concat(e))}overallOrder(e){let t=this,i=[],r=Object.keys(this.nodes);if(r.length===0)return i;{let s=vu(this.outgoingEdges,!1,[]);r.forEach(function(a){s(a)});let o=vu(this.outgoingEdges,e,i);return r.filter(function(a){return t.incomingEdges[a].length===0}).forEach(function(a){o(a)}),i}}}class iA{static isGreaterOrEqual(e,t){const i=tE(e),r=tE(t);return i[0]>r[0]||i[0]===r[0]&&i[1]>r[1]||i[0]===r[0]&&i[1]===r[1]&&i[2]>=r[2]}}function tE(n=""){const e=[0,0,0];return n.split(".").forEach((t,i)=>e[i]=parseInt(t,10)),e}class me{static isSQLiteFamily(e){return["sqlite","cordova","react-native","nativescript","sqljs","expo","better-sqlite3","capacitor"].includes(e.options.type)}static isMySQLFamily(e){return["mysql","mariadb"].includes(e.options.type)}static isReleaseVersionOrGreater(e,t){return e.version!=null&&iA.isGreaterOrEqual(e.version,t)}static isPostgresFamily(e){return["postgres","aurora-postgres","cockroachdb"].includes(e.options.type)}static buildDriverOptions(e,t){if(e.url){const i=this.parseConnectionUrl(e.url);t&&t.useSid&&i.database&&(i.sid=i.database);for(const r of Object.keys(i))typeof i[r]>"u"&&delete i[r];return Object.assign({},e,i)}return Object.assign({},e)}static buildMongoDBDriverOptions(e,t){if(e.url){const i=this.parseMongoDBConnectionUrl(e.url);t&&t.useSid&&i.database&&(i.sid=i.database);for(const r of Object.keys(i))typeof i[r]>"u"&&delete i[r];return Object.assign({},e,i)}return Object.assign({},e)}static buildAlias({maxAliasLength:e},t,...i){const r=i.length===1?i[0]:i.join(t&&t.joiner?t.joiner:"_");if(e&&e>0&&r.length>e){if(t&&t.shorten===!0){const s=ZC(r);if(s.length<e)return s}return HF(r,{length:e})}return r}static buildColumnAlias({maxAliasLength:e},t,...i){return typeof t=="string"?(i.unshift(t),t={shorten:!1,joiner:"_"}):t=Object.assign({shorten:!1,joiner:"_"},t),this.buildAlias({maxAliasLength:e},t,...i)}static parseConnectionUrl(e){const t=e.split(":")[0],i=e.indexOf("//"),r=e.substr(i+2),s=r.indexOf("/"),o=s!==-1?r.substr(0,s):r;let a=s!==-1?r.substr(s+1):void 0;a&&a.indexOf("?")!==-1&&(a=a.substr(0,a.indexOf("?")));const l=o.lastIndexOf("@"),c=o.substr(0,l),u=o.substr(l+1);let d=c,h="";const p=c.indexOf(":");p!==-1&&(d=c.substr(0,p),h=c.substr(p+1));const[g,m]=u.split(":");return{type:t,host:g,username:decodeURIComponent(d),password:decodeURIComponent(h),port:m?parseInt(m):void 0,database:a||void 0}}static parseMongoDBConnectionUrl(e){const t=e.split(":")[0],i=e.indexOf("//"),r=e.substr(i+2),s=r.indexOf("/"),o=s!==-1?r.substr(0,s):r;let a=s!==-1?r.substr(s+1):void 0,l="",c,u,d,h,p={};if(a&&a.indexOf("?")!==-1){l=a.substr(a.indexOf("?")+1,a.length);const M=l.split("&");let L,I;M.forEach($=>{L=$.split("=")[0],I=$.split("=")[1],p[L]=I}),h=p.replicaSet,a=a.substr(0,a.indexOf("?"))}const g=o.lastIndexOf("@"),m=o.substr(0,g),T=o.substr(g+1);let w=m,b="";const v=m.indexOf(":");v!==-1&&(w=m.substr(0,v),b=m.substr(v+1)),h?d=T:[c,u]=T.split(":");let N={type:t,host:c,hostReplicaSet:d,username:decodeURIComponent(w),password:decodeURIComponent(b),port:u?parseInt(u):void 0,database:a||void 0};for(const[M,L]of Object.entries(p))N[M]=L;return N}}class y6{validateMany(e,t){e.forEach(i=>this.validate(i,e,t)),this.validateDependencies(e),this.validateEagerRelations(e)}validate(e,t,i){if(!e.primaryColumns.length&&!e.isJunction)throw new i6(e);if(e.primaryColumns.length>1&&!e.primaryColumns.every((o,a,l)=>o.primaryKeyConstraintName===l[0].primaryKeyConstraintName))throw new B("Entity ".concat(e.name," has multiple primary columns with different constraint names. Constraint names should be the equal."));if(e.inheritancePattern==="STI"||e.tableType==="entity-child"){if(!e.discriminatorColumn)throw new B("Entity ".concat(e.name," using single-table inheritance, it should also have a discriminator column. Did you forget to put discriminator column options?"));if(typeof e.discriminatorValue>"u")throw new B("Entity ".concat(e.name," has an undefined discriminator value. Discriminator value should be defined."));const s=t.find(o=>o!==e&&(o.inheritancePattern==="STI"||o.tableType==="entity-child")&&o.tableName===e.tableName&&o.discriminatorValue===e.discriminatorValue&&o.inheritanceTree.some(a=>e.inheritanceTree.indexOf(a)!==-1));if(s)throw new B("Entities ".concat(e.name," and ").concat(s.name," have the same discriminator values. Make sure they are different while using the @ChildEntity decorator."))}if(e.relationCounts.forEach(s=>{if(s.relation.isManyToOne||s.relation.isOneToOne)throw new B("Relation count can not be implemented on ManyToOne or OneToOne relations.")}),i.options.type!=="mongodb"&&e.columns.filter(s=>!s.isVirtualProperty).forEach(s=>{const o=i.normalizeType(s);if(i.supportedDataTypes.indexOf(o)===-1)throw new c6(s,o,i.options.type);if(s.length&&i.withLengthColumnTypes.indexOf(o)===-1)throw new B("Column ".concat(s.propertyName," of Entity ").concat(e.name," does not support length property."));if(s.type==="enum"&&!s.enum&&!s.enumName)throw new B('Column "'.concat(s.propertyName,'" of Entity "').concat(e.name,'" is defined as enum, but missing "enum" or "enumName" properties.'))}),(me.isMySQLFamily(i)||i.options.type==="aurora-mysql")&&e.columns.filter(o=>o.isGenerated&&o.generationStrategy!=="uuid").length>1)throw new B("Error in ".concat(e.name," entity. There can be only one auto-increment column in MySql table."));if(me.isMySQLFamily(i)&&t.filter(o=>o.database).length===0&&!i.database)throw new f6("database");if(i.options.type==="mssql"&&e.columns.filter(o=>o.charset).length>1)throw new B("Character set specifying is not supported in Sql Server");if(i.options.type==="postgres"){const s=e.columns.find(o=>o.asExpression&&(!o.generatedType||o.generatedType==="VIRTUAL"));if(s)throw new B('Column "'.concat(s.propertyName,'" of Entity "').concat(e.name,'" is defined as VIRTUAL, but Postgres supports only STORED generated columns.'))}const r=e.create(void 0,{fromDeserializer:!0});e.relations.forEach(s=>{if(s.isManyToMany||s.isOneToMany){if(s.persistenceEnabled===!1)return;const o=s.getEntityValue(r);if(Array.isArray(o))throw new u6(s)}}),e.relations.forEach(s=>{if(i.supportedOnDeleteTypes&&s.onDelete&&!i.supportedOnDeleteTypes.includes(s.onDelete))throw new B('OnDeleteType "'.concat(s.onDelete,'" is not supported for ').concat(i.options.type,"!"));if(i.supportedOnUpdateTypes&&s.onUpdate&&!i.supportedOnUpdateTypes.includes(s.onUpdate))throw new B('OnUpdateType "'.concat(s.onUpdate,'" is not valid for ').concat(i.options.type,"!"))}),e.relations.forEach(s=>{if(s.isCascadeRemove&&s.inverseRelation&&s.inverseRelation.isCascadeRemove)throw new B("Relation ".concat(e.name,"#").concat(s.propertyName," and ").concat(s.inverseRelation.entityMetadata.name,"#").concat(s.inverseRelation.propertyName," both has cascade remove set. ")+"This may lead to unexpected circular removals. Please set cascade remove only from one side of relationship.")}),e.eagerRelations.forEach(s=>{})}validateDependencies(e){const t=new g6;e.forEach(i=>{t.addNode(i.name)}),e.forEach(i=>{i.relationsWithJoinColumns.filter(r=>!r.isNullable).forEach(r=>{t.addDependency(i.name,r.inverseEntityMetadata.name)})});try{t.overallOrder()}catch(i){throw new n6(i.toString().replace("Error: Dependency Cycle Found: ",""))}}validateEagerRelations(e){e.forEach(t=>{t.eagerRelations.forEach(i=>{if(i.inverseRelation&&i.inverseRelation.isEager)throw new B("Circular eager relations are disallowed. "+"".concat(t.targetName,"#").concat(i.propertyPath,' contains "eager: true", and its inverse side ')+"".concat(i.inverseEntityMetadata.targetName,"#").concat(i.inverseRelation.propertyPath,' contains "eager: true" as well.')+' Remove "eager: true" from one side of the relation.')})})}}class b6{}class v6{}class w6{}class rA{}class E6{}class x6{}class T6{}class nE{}class S6{}class C6{}class A6{}class un{static isFindOneOptions(e){const t=e;return t&&(Array.isArray(t.select)||Array.isArray(t.relations)||typeof t.select=="object"||typeof t.relations=="object"||typeof t.where=="object"||typeof t.join=="object"||typeof t.order=="object"||typeof t.cache=="object"||typeof t.cache=="boolean"||typeof t.cache=="number"||typeof t.comment=="string"||typeof t.lock=="object"||typeof t.loadRelationIds=="object"||typeof t.loadRelationIds=="boolean"||typeof t.loadEagerRelations=="boolean"||typeof t.withDeleted=="boolean"||typeof t.relationLoadStrategy=="string"||typeof t.transaction=="boolean")}static isFindManyOptions(e){const t=e;return t&&(this.isFindOneOptions(t)||typeof t.skip=="number"||typeof t.take=="number"||typeof t.skip=="string"||typeof t.take=="string")}static extractFindManyOptionsAlias(e){if(this.isFindManyOptions(e)&&e.join)return e.join.alias}static applyOptionsToTreeQueryBuilder(e,t){if(t!=null&&t.relations){const i=[...t.relations];if(un.applyRelationsRecursively(e,i,e.expressionMap.mainAlias.name,e.expressionMap.mainAlias.metadata,""),i.length>0)throw new a6(i)}return e}static applyRelationsRecursively(e,t,i,r,s){let o=[];if(s){const a=new RegExp("^"+s.replace(".","\\.")+"\\.");o=t.filter(l=>l.match(a)).map(l=>r.findRelationWithPropertyPath(l.replace(a,""))).filter(l=>l)}else o=t.map(a=>r.findRelationWithPropertyPath(a)).filter(a=>a);o.forEach(a=>{let l=me.buildAlias(e.connection.driver,{joiner:"__"},i,a.propertyPath);const c=i+"."+a.propertyPath;e.expressionMap.relationLoadStrategy==="query"?e.concatRelationMetadata(a):e.leftJoinAndSelect(c,l),t.splice(t.indexOf(s?s+"."+a.propertyPath:a.propertyPath),1);let u,d;if(e.expressionMap.relationLoadStrategy==="query")u=a.inverseEntityMetadata,d=l;else{const h=e.expressionMap.joinAttributes.find(p=>p.entityOrProperty===c);u=h.metadata,d=h.alias.name}if(!d||!u)throw new Yi(a.propertyPath,r);if(this.applyRelationsRecursively(e,t,d,u,s?s+"."+a.propertyPath:a.propertyPath),e.expressionMap.relationLoadStrategy==="join"){const h=r.relations.find(p=>p.propertyName===a.propertyPath);h&&this.joinEagerRelations(e,l,h.inverseEntityMetadata)}})}static joinEagerRelations(e,t,i){i.eagerRelations.forEach(r=>{let s=me.buildAlias(e.connection.driver,{joiner:"__"},t,r.propertyPath),o=!0;for(const c of e.expressionMap.joinAttributes)if(!(c.condition!==void 0||c.mapToProperty!==void 0||c.isMappingMany!==void 0||c.direction!=="LEFT"||c.entityOrProperty!=="".concat(t,".").concat(r.propertyPath))){o=!1,s=c.alias.name;break}const a=!!e.expressionMap.joinAttributes.find(c=>c.alias.name===s);o&&!a&&e.leftJoin(t+"."+r.propertyPath,s);let l=!0;for(const c of e.expressionMap.selects)if(!(c.aliasName!==void 0||c.virtual!==void 0||c.selection!==s)){l=!1;break}l&&e.addSelect(s),this.joinEagerRelations(e,s,r.inverseEntityMetadata)})}}class Is{static createRelationMaps(e,t,i,r){return r.map(s=>{var o;const a=t.treeParentRelation.joinColumns[0],l=(o=a.referencedColumn)!==null&&o!==void 0?o:t.primaryColumns[0],c=a.givenDatabaseName||a.databaseName,u=l.givenDatabaseName||l.databaseName,d=s[i+"_"+u],h=s[i+"_"+c];return{id:e.connection.driver.prepareHydratedValue(d,l),parentId:e.connection.driver.prepareHydratedValue(h,a)}})}static buildChildrenEntityTree(e,t,i,r,s){var o;const a=e.treeChildrenRelation.propertyName;if(s.depth===0){t[a]=[];return}const c=(o=e.treeParentRelation.joinColumns[0].referencedColumn)!==null&&o!==void 0?o:e.primaryColumns[0],u=c.getEntityValue(t),d=r.filter(p=>p.parentId===u),h=new Set(d.map(p=>p.id));t[a]=i.filter(p=>h.has(c.getEntityValue(p))),t[a].forEach(p=>{Is.buildChildrenEntityTree(e,p,i,r,{...s,depth:s.depth-1})})}static buildParentEntityTree(e,t,i,r){var s;const o=e.treeParentRelation.propertyName,l=(s=e.treeParentRelation.joinColumns[0].referencedColumn)!==null&&s!==void 0?s:e.primaryColumns[0],c=l.getEntityValue(t),u=r.find(h=>h.id===c),d=i.find(h=>u?l.getEntityValue(h)===u.parentId:!1);d&&(t[o]=d,Is.buildParentEntityTree(e,t[o],i,r))}}class sA{get metadata(){return this.manager.connection.getMetadata(this.target)}constructor(e,t,i){this.target=e,this.manager=t,this.queryRunner=i}createQueryBuilder(e,t){return this.manager.createQueryBuilder(this.metadata.target,e||this.metadata.targetName,t||this.queryRunner)}hasId(e){return this.manager.hasId(this.metadata.target,e)}getId(e){return this.manager.getId(this.metadata.target,e)}create(e){return this.manager.create(this.metadata.target,e)}merge(e,...t){return this.manager.merge(this.metadata.target,e,...t)}preload(e){return this.manager.preload(this.metadata.target,e)}save(e,t){return this.manager.save(this.metadata.target,e,t)}remove(e,t){return this.manager.remove(this.metadata.target,e,t)}softRemove(e,t){return this.manager.softRemove(this.metadata.target,e,t)}recover(e,t){return this.manager.recover(this.metadata.target,e,t)}insert(e){return this.manager.insert(this.metadata.target,e)}update(e,t){return this.manager.update(this.metadata.target,e,t)}upsert(e,t){return this.manager.upsert(this.metadata.target,e,t)}delete(e){return this.manager.delete(this.metadata.target,e)}softDelete(e){return this.manager.softDelete(this.metadata.target,e)}restore(e){return this.manager.restore(this.metadata.target,e)}exist(e){return this.manager.exists(this.metadata.target,e)}count(e){return this.manager.count(this.metadata.target,e)}countBy(e){return this.manager.countBy(this.metadata.target,e)}sum(e,t){return this.manager.sum(this.metadata.target,e,t)}average(e,t){return this.manager.average(this.metadata.target,e,t)}minimum(e,t){return this.manager.minimum(this.metadata.target,e,t)}maximum(e,t){return this.manager.maximum(this.metadata.target,e,t)}async find(e){return this.manager.find(this.metadata.target,e)}async findBy(e){return this.manager.findBy(this.metadata.target,e)}findAndCount(e){return this.manager.findAndCount(this.metadata.target,e)}findAndCountBy(e){return this.manager.findAndCountBy(this.metadata.target,e)}async findByIds(e){return this.manager.findByIds(this.metadata.target,e)}async findOne(e){return this.manager.findOne(this.metadata.target,e)}async findOneBy(e){return this.manager.findOneBy(this.metadata.target,e)}async findOneById(e){return this.manager.findOneById(this.metadata.target,e)}async findOneOrFail(e){return this.manager.findOneOrFail(this.metadata.target,e)}async findOneByOrFail(e){return this.manager.findOneByOrFail(this.metadata.target,e)}query(e,t){return this.manager.query(e,t)}clear(){return this.manager.clear(this.metadata.target)}increment(e,t,i){return this.manager.increment(this.metadata.target,e,t,i)}decrement(e,t,i){return this.manager.decrement(this.metadata.target,e,t,i)}extend(e){const t=this.constructor,{target:i,manager:r,queryRunner:s}=this,o=new class extends t{}(i,r,s);return Object.assign(o,e),o}}class N6 extends sA{async findTrees(e){const t=await this.findRoots(e);return await Promise.all(t.map(i=>this.findDescendantsTree(i,e))),t}findRoots(e){const t=a=>this.manager.connection.driver.escape(a),i=a=>this.manager.connection.driver.escape(a),r=this.metadata.treeParentRelation.joinColumns[0],s=r.givenDatabaseName||r.databaseName,o=this.createQueryBuilder("treeEntity");return un.applyOptionsToTreeQueryBuilder(o,e),o.where("".concat(t("treeEntity"),".").concat(i(s)," IS NULL")).getMany()}findDescendants(e,t){const i=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);return un.applyOptionsToTreeQueryBuilder(i,t),i.getMany()}async findDescendantsTree(e,t){const i=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);un.applyOptionsToTreeQueryBuilder(i,t);const r=await i.getRawAndEntities(),s=Is.createRelationMaps(this.manager,this.metadata,"treeEntity",r.raw);return Is.buildChildrenEntityTree(this.metadata,e,r.entities,s,{depth:-1,...t}),e}countDescendants(e){return this.createDescendantsQueryBuilder("treeEntity","treeClosure",e).getCount()}createDescendantsQueryBuilder(e,t,i){const r=s=>this.manager.connection.driver.escape(s);if(this.metadata.treeType==="closure-table"){const s=this.metadata.closureJunctionTable.descendantColumns.map(l=>r(t)+"."+r(l.propertyPath)+" = "+r(e)+"."+r(l.referencedColumn.propertyPath)).join(" AND "),o={},a=this.metadata.closureJunctionTable.ancestorColumns.map(l=>(o[l.referencedColumn.propertyName]=l.referencedColumn.getEntityValue(i),r(t)+"."+r(l.propertyPath)+" = :"+l.referencedColumn.propertyName)).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,s).where(a).setParameters(o)}else if(this.metadata.treeType==="nested-set"){const s=e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN joined."+this.metadata.nestedSetLeftColumn.propertyPath+" AND joined."+this.metadata.nestedSetRightColumn.propertyPath,o={},a=this.metadata.treeParentRelation.joinColumns.map(l=>{const c=l.referencedColumn.propertyPath.replace(".","_");return o[c]=l.referencedColumn.getEntityValue(i),"joined."+l.referencedColumn.propertyPath+" = :"+c}).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",s).where(a,o)}else if(this.metadata.treeType==="materialized-path")return this.createQueryBuilder(e).where(s=>{const o=s.subQuery().select("".concat(this.metadata.targetName,".").concat(this.metadata.materializedPathColumn.propertyPath),"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(i));return me.isSQLiteFamily(this.manager.connection.driver)?"".concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath," LIKE ").concat(o.getQuery()," || '%'"):"".concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath," LIKE NULLIF(CONCAT(").concat(o.getQuery(),", '%'), '%')")});throw new B("Supported only in tree entities")}findAncestors(e,t){const i=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);return un.applyOptionsToTreeQueryBuilder(i,t),i.getMany()}async findAncestorsTree(e,t){const i=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);un.applyOptionsToTreeQueryBuilder(i,t);const r=await i.getRawAndEntities(),s=Is.createRelationMaps(this.manager,this.metadata,"treeEntity",r.raw);return Is.buildParentEntityTree(this.metadata,e,r.entities,s),e}countAncestors(e){return this.createAncestorsQueryBuilder("treeEntity","treeClosure",e).getCount()}createAncestorsQueryBuilder(e,t,i){if(this.metadata.treeType==="closure-table"){const r=this.metadata.closureJunctionTable.ancestorColumns.map(a=>t+"."+a.propertyPath+" = "+e+"."+a.referencedColumn.propertyPath).join(" AND "),s={},o=this.metadata.closureJunctionTable.descendantColumns.map(a=>(s[a.referencedColumn.propertyName]=a.referencedColumn.getEntityValue(i),t+"."+a.propertyPath+" = :"+a.referencedColumn.propertyName)).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,r).where(o).setParameters(s)}else if(this.metadata.treeType==="nested-set"){const r="joined."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN "+e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" AND "+e+"."+this.metadata.nestedSetRightColumn.propertyPath,s={},o=this.metadata.treeParentRelation.joinColumns.map(a=>{const l=a.referencedColumn.propertyPath.replace(".","_");return s[l]=a.referencedColumn.getEntityValue(i),"joined."+a.referencedColumn.propertyPath+" = :"+l}).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",r).where(o,s)}else if(this.metadata.treeType==="materialized-path")return this.createQueryBuilder(e).where(r=>{const s=r.subQuery().select("".concat(this.metadata.targetName,".").concat(this.metadata.materializedPathColumn.propertyPath),"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(i));return me.isSQLiteFamily(this.manager.connection.driver)?"".concat(s.getQuery()," LIKE ").concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath," || '%'"):"".concat(s.getQuery()," LIKE CONCAT(").concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath,", '%')")});throw new B("Supported only in tree entities")}}class k6{transform(e,t,i,r=!1){return this.groupAndTransform(e,t,i,r),e}groupAndTransform(e,t,i,r=!1){i.nonVirtualColumns.forEach(s=>{const o=s.getEntityValue(t);o!==void 0&&s.setEntityValue(e,o)}),i.relations.length&&i.relations.forEach(s=>{let o=s.getEntityValue(e);const a=s.getEntityValue(t,r);if(a!==void 0)if(s.isOneToMany||s.isManyToMany){if(!Array.isArray(a))return;o||(o=[],s.setEntityValue(e,o)),a.forEach(l=>{let c=o.find(d=>s.inverseEntityMetadata.compareEntities(l,d));const u=s.inverseEntityMetadata.findInheritanceMetadata(l);c||(c=u.create(void 0,{fromDeserializer:!0}),o.push(c)),this.groupAndTransform(c,l,u,r)})}else{if(!Fe.isObject(a)){Fe.isObject(o)||s.setEntityValue(e,a);return}const l=s.inverseEntityMetadata.findInheritanceMetadata(a);o||(o=l.create(void 0,{fromDeserializer:!0}),s.setEntityValue(e,o)),this.groupAndTransform(o,a,l,r)}})}}class R6{constructor(e,t,i,r){this.plainEntity=e,this.metadata=t,this.parentLoadMapItem=i,this.relation=r}get target(){return this.metadata.target}get id(){return this.metadata.getEntityIdMixedMap(this.plainEntity)}}class P6{constructor(){this.loadMapItems=[]}get mainLoadMapItem(){return this.loadMapItems.find(e=>!e.relation&&!e.parentLoadMapItem)}addLoadMap(e){this.loadMapItems.find(i=>i.target===e.target&&i.id===e.id)||this.loadMapItems.push(e)}fillEntities(e,t){t.forEach(i=>{const r=this.loadMapItems.find(s=>s.target===e&&s.metadata.compareEntities(i,s.plainEntity));r&&(r.entity=i)})}groupByTargetIds(){const e=[];return this.loadMapItems.forEach(t=>{let i=e.find(r=>r.target===t.target);i||(i={target:t.target,ids:[]},e.push(i)),i.ids.push(t.id)}),e}}class $6{constructor(e){this.manager=e}async transform(e,t){if(!t.hasAllPrimaryKeys(e))return Promise.reject("Given object does not have a primary column, cannot transform it to database entity.");const i=new P6,r=(s,o,a,l)=>{const c=new R6(s,o,a,l);i.addLoadMap(c),o.extractRelationValuesFromEntity(s,t.relations).filter(u=>u!=null).forEach(([u,d,h])=>r(d,h,c,u))};return r(e,t),await Promise.all(i.groupByTargetIds().map(s=>this.manager.findByIds(s.target,s.ids).then(o=>i.fillEntities(s.target,o)))),i.loadMapItems.forEach(s=>{!s.relation||!s.entity||!s.parentLoadMapItem||!s.parentLoadMapItem.entity||(s.relation.isManyToMany||s.relation.isOneToMany?(s.parentLoadMapItem.entity[s.relation.propertyName]||(s.parentLoadMapItem.entity[s.relation.propertyName]=[]),s.parentLoadMapItem.entity[s.relation.propertyName].push(s.entity)):s.parentLoadMapItem.entity[s.relation.propertyName]=s.entity)}),i.mainLoadMapItem?i.mainLoadMapItem.entity:void 0}}class M6{get repository(){const e=this.getCustomRepositoryTarget(this);if(!e)throw new Pf(this.constructor);return this.manager.getRepository(e)}get treeRepository(){const e=this.getCustomRepositoryTarget(this);if(!e)throw new Pf(this.constructor);return this.manager.getTreeRepository(e)}createQueryBuilder(e){const t=this.getCustomRepositoryTarget(this.constructor);if(!t)throw new Pf(this.constructor);return this.manager.getRepository(t).createQueryBuilder(e)}createQueryBuilderFor(e,t){return this.getRepositoryFor(e).createQueryBuilder(t)}getRepositoryFor(e){return this.manager.getRepository(e)}getTreeRepositoryFor(e){return this.manager.getTreeRepository(e)}getCustomRepositoryTarget(e){const t=$i().entityRepositories.find(i=>i.target===(typeof e=="function"?e:e.constructor));if(!t)throw new eA(e);return t.entity}}class iE{constructor(e){this.subjects=[...e],this.metadatas=this.getUniqueMetadatas(this.subjects)}sort(e){if(!this.metadatas.length)return this.subjects;const t=[];if(e==="delete"){const a=this.subjects.filter(l=>!l.entity&&!l.databaseEntity);t.push(...a),this.removeAlreadySorted(a)}const i=this.getNonNullableDependencies();let r=this.toposort(i);e==="insert"&&(r=r.reverse()),r.forEach(a=>{const l=this.subjects.filter(c=>c.metadata.targetName===a||c.metadata.inheritanceTree.some(u=>u.name===a));t.push(...l),this.removeAlreadySorted(l)});const s=this.getDependencies();let o=this.toposort(s);return e==="insert"&&(o=o.reverse()),o.forEach(a=>{const l=this.subjects.filter(c=>c.metadata.targetName===a);t.push(...l),this.removeAlreadySorted(l)}),t.push(...this.subjects),t}removeAlreadySorted(e){e.forEach(t=>{this.subjects.splice(this.subjects.indexOf(t),1)})}getUniqueMetadatas(e){const t=[];return e.forEach(i=>{t.indexOf(i.metadata)===-1&&t.push(i.metadata)}),t}getNonNullableDependencies(){return this.metadatas.reduce((e,t)=>(t.relationsWithJoinColumns.forEach(i=>{i.isNullable||e.push([t.targetName,i.inverseEntityMetadata.targetName])}),e),[])}getDependencies(){return this.metadatas.reduce((e,t)=>(t.relationsWithJoinColumns.forEach(i=>{i.inverseEntityMetadata!==t&&e.push([t.targetName,i.inverseEntityMetadata.targetName])}),e),[])}toposort(e){function t(c){let u=[];for(let d=0,h=c.length;d<h;d++){let p=c[d];u.indexOf(p[0])<0&&u.push(p[0]),u.indexOf(p[1])<0&&u.push(p[1])}return u}const i=t(e);let r=i.length,s=new Array(r),o={},a=r;for(;a--;)o[a]||l(i[a],a,[]);function l(c,u,d){if(d.indexOf(c)>=0)throw new B("Cyclic dependency: "+JSON.stringify(c));if(!~i.indexOf(c))throw new B("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(o[u])return;o[u]=!0;let h=e.filter(function(p){return p[0]===c});if(u=h.length){let p=d.concat(c);do{let g=h[--u][1];l(g,i.indexOf(g),p)}while(u)}s[--r]=c}return s}}function I6(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function O6(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}var oA=6e4,aA=36e5;function _6(n,e){var t;O6(1,arguments);var i=I6((t=e==null?void 0:e.additionalDigits)!==null&&t!==void 0?t:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var r=B6(n),s;if(r.date){var o=F6(r.date,i);s=U6(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(r.time&&(l=j6(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(c=z6(r.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+l+c)}var wu={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},D6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,L6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,q6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function B6(n){var e={},t=n.split(wu.dateTimeDelimiter),i;if(t.length>2)return e;if(/:/.test(t[0])?i=t[0]:(e.date=t[0],i=t[1],wu.timeZoneDelimiter.test(e.date)&&(e.date=n.split(wu.timeZoneDelimiter)[0],i=n.substr(e.date.length,n.length))),i){var r=wu.timezone.exec(i);r?(e.time=i.replace(r[1],""),e.timezone=r[1]):e.time=i}return e}function F6(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=n.match(t);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:n.slice((i[1]||i[2]).length)}}function U6(n,e){if(e===null)return new Date(NaN);var t=n.match(D6);if(!t)return new Date(NaN);var i=!!t[4],r=rl(t[1]),s=rl(t[2])-1,o=rl(t[3]),a=rl(t[4]),l=rl(t[5])-1;if(i)return G6(e,a,l)?V6(e,a,l):new Date(NaN);var c=new Date(0);return!W6(e,s,o)||!Q6(e,r)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(r,o)),c)}function rl(n){return n?parseInt(n):1}function j6(n){var e=n.match(L6);if(!e)return NaN;var t=Mf(e[1]),i=Mf(e[2]),r=Mf(e[3]);return K6(t,i,r)?t*aA+i*oA+r*1e3:NaN}function Mf(n){return n&&parseFloat(n.replace(",","."))||0}function z6(n){if(n==="Z")return 0;var e=n.match(q6);if(!e)return 0;var t=e[1]==="+"?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return Y6(i,r)?t*(i*aA+r*oA):NaN}function V6(n,e,t){var i=new Date(0);i.setUTCFullYear(n,0,4);var r=i.getUTCDay()||7,s=(e-1)*7+t+1-r;return i.setUTCDate(i.getUTCDate()+s),i}var H6=[31,null,31,30,31,30,31,31,30,31,30,31];function lA(n){return n%400===0||n%4===0&&n%100!==0}function W6(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(H6[e]||(lA(n)?29:28))}function Q6(n,e){return e>=1&&e<=(lA(n)?366:365)}function G6(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function K6(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function Y6(n,e){return e>=0&&e<=59}class Re{static normalizeHydratedDate(e){return e&&(typeof e=="string"?new Date(e):e)}static mixedDateToDateString(e){return e instanceof Date?this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate()):e}static mixedDateToDate(e,t=!1,i=!0){let r=typeof e=="string"?_6(e):e;return t&&(r=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())),i||r.setUTCMilliseconds(0),r}static mixedDateToTimeString(e,t=!1){return e instanceof Date?this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+(t?"":":"+this.formatZerolessValue(e.getSeconds())):e}static mixedTimeToDate(e){if(typeof e=="string"){const[t,i,r]=e.split(":"),s=new Date;return t&&s.setHours(parseInt(t)),i&&s.setMinutes(parseInt(i)),r&&s.setSeconds(parseInt(r)),s}return e}static mixedTimeToString(e,t=!1){return e=e instanceof Date?e.getHours()+":"+e.getMinutes()+(t?"":":"+e.getSeconds()):e,typeof e=="string"?e.split(":").map(i=>i.length===1?"0"+i:i).join(":"):e}static mixedDateToDatetimeString(e,t){if(typeof e=="string"&&(e=new Date(e)),e instanceof Date){let i=this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate())+" "+this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+":"+this.formatZerolessValue(e.getSeconds());t&&(i+=".".concat(this.formatMilliseconds(e.getMilliseconds()))),e=i}return e}static mixedDateToUtcDatetimeString(e){return typeof e=="string"&&(e=new Date(e)),e instanceof Date?this.formatZerolessValue(e.getUTCFullYear(),4)+"-"+this.formatZerolessValue(e.getUTCMonth()+1)+"-"+this.formatZerolessValue(e.getUTCDate())+" "+this.formatZerolessValue(e.getUTCHours())+":"+this.formatZerolessValue(e.getUTCMinutes())+":"+this.formatZerolessValue(e.getUTCSeconds())+"."+this.formatMilliseconds(e.getUTCMilliseconds()):e}static simpleArrayToString(e){return Array.isArray(e)?e.map(t=>String(t)).join(","):e}static stringToSimpleArray(e){return typeof e=="string"?e.length>0?e.split(","):[]:e}static simpleJsonToString(e){return JSON.stringify(e)}static stringToSimpleJson(e){return typeof e=="string"?JSON.parse(e):e}static simpleEnumToString(e){return""+e}static stringToSimpleEnum(e,t){return t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0&&(e=parseInt(e)),e}static formatZerolessValue(e,t=2){const i="0".repeat(t);return String("".concat(i).concat(e)).slice(-t)}static formatMilliseconds(e){return e<10?"00"+e:e<100?"0"+e:String(e)}}class Ee{static chunk(e,t){return Array.from(Array(Math.ceil(e.length/t)),(i,r)=>e.slice(r*t,r*t+t))}static splitClassesAndStrings(e){return[e.filter(t=>typeof t!="string"),e.filter(t=>typeof t=="string")]}static groupBy(e,t){return e.reduce((i,r)=>{const s=t(r);let o=i.find(a=>a.id===s);return o||(o={id:s,items:[]},i.push(o)),o.items.push(r),i},[])}static uniq(e,t){return e.reduce((i,r)=>{let s=!1;if(typeof t=="function"){const o=t(r);s=!!i.find(a=>t(a)===o)}else typeof t=="string"?s=!!i.find(o=>o[t]===r[t]):s=i.indexOf(r)!==-1;return s||i.push(r),i},[])}static isPlainObject(e){return e==null?!1:!e.constructor||e.constructor===Object}static mergeArrayKey(e,t,i,r){if(r.has(i)){e[t]=r.get(i);return}if(!(i instanceof Promise)){if(!this.isPlainObject(i)&&!Array.isArray(i)){e[t]=i;return}e[t]||(e[t]=Array.isArray(i)?[]:{}),r.set(i,e[t]),this.merge(e[t],i,r),r.delete(i)}}static mergeObjectKey(e,t,i,r){if(r.has(i)){Object.assign(e,{[t]:r.get(i)});return}if(!(i instanceof Promise)){if(!this.isPlainObject(i)&&!Array.isArray(i)){Object.assign(e,{[t]:i});return}e[t]||Object.assign(e,{[t]:Array.isArray(i)?[]:{}}),r.set(i,e[t]),this.merge(e[t],i,r),r.delete(i)}}static merge(e,t,i=new Map){if(this.isPlainObject(e)&&this.isPlainObject(t))for(const r of Object.keys(t))r!=="__proto__"&&this.mergeObjectKey(e,r,t[r],i);if(Array.isArray(e)&&Array.isArray(t))for(let r=0;r<t.length;r++)this.mergeArrayKey(e,r,t[r],i)}static mergeDeep(e,...t){if(!t.length)return e;for(const i of t)Ee.merge(e,i);return e}static deepCompare(...e){let t,i,r,s;if(arguments.length<1)return!0;for(t=1,i=arguments.length;t<i;t++)if(r=[],s=[],!this.compare2Objects(r,s,arguments[0],arguments[t]))return!1;return!0}static deepValue(e,t){const i=t.split(".");for(let r=0,s=i.length;r<s;r++)e=e[i[r]];return e}static replaceEmptyObjectsWithBooleans(e){for(let t in e)e[t]&&typeof e[t]=="object"&&(Object.keys(e[t]).length===0?e[t]=!0:this.replaceEmptyObjectsWithBooleans(e[t]))}static propertyPathsToTruthyObject(e){let t={};for(let i of e){const r=i.split(".");if(!r.length)continue;(!t[r[0]]||t[r[0]]===!0)&&(t[r[0]]={});let s=t[r[0]];for(let[o,a]of r.entries())o!==0&&(s[a]?s=s[a]:o===r.length-1?(s[a]={},s=null):(s[a]={},s=s[a]))}return this.replaceEmptyObjectsWithBooleans(t),t}static compareIds(e,t){return e==null||t===void 0||t===null?!1:(typeof e.id=="string"&&typeof t.id=="string"||typeof e.id=="number"&&typeof t.id=="number")&&Object.keys(e).length===1&&Object.keys(t).length===1?e.id===t.id:Ee.deepCompare(e,t)}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e==="true"||e==="1":typeof e=="number"?e>0:!1}static zipObject(e,t){return e.reduce((i,r,s)=>(i[r]=t[s],i),{})}static isArraysEqual(e,t){return e.length!==t.length?!1:e.every(i=>t.indexOf(i)!==-1)}static areMutuallyExclusive(...e){return!e.some(i=>{const r=e.filter(s=>s!==i);return i.some(s=>r.some(o=>o.includes(s)))})}static compare2Objects(e,t,i,r){let s;if(Number.isNaN(i)&&Number.isNaN(r)||i===r)return!0;if(i===null||r===null||i===void 0||r===void 0)return!1;if((typeof i.equals=="function"||typeof i.equals=="function")&&i.equals(r))return!0;if(typeof i=="function"&&typeof r=="function"||i instanceof Date&&r instanceof Date||i instanceof RegExp&&r instanceof RegExp||typeof i=="string"&&typeof r=="string"||typeof i=="number"&&typeof r=="number")return i.toString()===r.toString();if(!(typeof i=="object"&&typeof r=="object")||Object.prototype.isPrototypeOf.call(i,r)||Object.prototype.isPrototypeOf.call(r,i)||i.constructor!==r.constructor||i.prototype!==r.prototype||e.indexOf(i)>-1||t.indexOf(r)>-1)return!1;for(s in r){if(r.hasOwnProperty(s)!==i.hasOwnProperty(s))return!1;if(typeof r[s]!=typeof i[s])return!1}for(s in i){if(r.hasOwnProperty(s)!==i.hasOwnProperty(s))return!1;if(typeof r[s]!=typeof i[s])return!1;switch(typeof i[s]){case"object":case"function":if(e.push(i),t.push(r),!this.compare2Objects(e,t,i[s],r[s]))return!1;e.pop(),t.pop();break;default:if(i[s]!==r[s])return!1;break}}return!0}}class zt{static transformFrom(e,t){return Array.isArray(e)?e.slice().reverse().reduce((r,s)=>s.from(r),t):e.from(t)}static transformTo(e,t){return Array.isArray(e)?e.reduce((i,r)=>r.to(i),t):e.to(t)}}class J6{compute(e){e.forEach(t=>{this.computeDiffColumns(t),this.computeDiffRelationalColumns(e,t)})}computeDiffColumns(e){e.entity&&e.metadata.columns.forEach(t=>{if(t.isVirtual||t.isDiscriminator)return;const i=e.changeMaps.find(s=>s.column===t);i&&e.changeMaps.splice(e.changeMaps.indexOf(i),1);const r=t.getEntityValue(e.entity);if(r!==void 0){if(e.databaseEntity){const s=t.type!=="json"&&t.type!=="jsonb";let o=t.getEntityValue(e.databaseEntity,s);if(t.relationMetadata){const l=t.relationMetadata.getEntityValue(e.entity);if(l!=null)return}let a=r;if(r!==null){switch(t.type){case"date":a=Re.mixedDateToDateString(r);break;case"time":case"time with time zone":case"time without time zone":case"timetz":a=Re.mixedDateToTimeString(r);break;case"datetime":case"datetime2":case Date:case"timestamp":case"timestamp without time zone":case"timestamp with time zone":case"timestamp with local time zone":case"timestamptz":a=Re.mixedDateToUtcDatetimeString(r),o=Re.mixedDateToUtcDatetimeString(o);break;case"json":case"jsonb":if(Ee.deepCompare(r,o))return;break;case"simple-array":a=Re.simpleArrayToString(r),o=Re.simpleArrayToString(o);break;case"simple-enum":a=Re.simpleEnumToString(r),o=Re.simpleEnumToString(o);break;case"simple-json":a=Re.simpleJsonToString(r),o=Re.simpleJsonToString(o);break}t.transformer&&(a=zt.transformTo(t.transformer,r))}if(Buffer.isBuffer(a)&&Buffer.isBuffer(o)){if(a.equals(o))return}else if(a===o)return}e.diffColumns.includes(t)||e.diffColumns.push(t),e.changeMaps.push({column:t,value:r})}})}computeDiffRelationalColumns(e,t){t.entity&&t.metadata.relationsWithJoinColumns.forEach(i=>{let r=i.getEntityValue(t.entity);if(r===void 0)return;if(t.databaseEntity){let a=r;a!==null&&Fe.isObject(a)&&(a=i.getRelationIdMap(a));const l=i.getEntityValue(t.databaseEntity);if(Ee.compareIds(a,l))return;t.diffRelations.push(i)}const s=e.find(a=>a.mustBeInserted&&a.entity===r);s&&(r=s);const o=t.changeMaps.find(a=>a.relation===i);o?o.value=r:t.changeMaps.push({relation:i,value:r})})}}class gg{constructor(){this.count=0,this.promises=[]}async wait(){return this.promises.length>0&&await Promise.all(this.promises),this}}class rE extends B{constructor(){super("Nested sets do not support multiple root entities.")}}class If{constructor(e){this.queryRunner=e}async insert(e){const t=c=>this.queryRunner.connection.driver.escape(c),i=this.getTableName(e.metadata.tablePath),r=t(e.metadata.nestedSetLeftColumn.databaseName),s=t(e.metadata.nestedSetRightColumn.databaseName);let o=e.metadata.treeParentRelation.getEntityValue(e.entity);!o&&e.parentSubject&&e.parentSubject.entity&&(o=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);const a=e.metadata.getEntityIdMap(o);let l;if(a&&(l=await this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.nestedSetRightColumn.propertyPath,"right").from(e.metadata.target,e.metadata.targetName).whereInIds(a).getRawOne().then(c=>{const u=c?c.right:void 0;return typeof u=="string"?parseInt(u):u})),l!==void 0)await this.queryRunner.query("UPDATE ".concat(i," SET ")+"".concat(r," = CASE WHEN ").concat(r," > ").concat(l," THEN ").concat(r," + 2 ELSE ").concat(r," END,")+"".concat(s," = ").concat(s," + 2 ")+"WHERE ".concat(s," >= ").concat(l)),Ee.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(l),e.metadata.nestedSetRightColumn.createValueMap(l+1));else{if(!await this.isUniqueRootEntity(e,o))throw new rE;Ee.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(1),e.metadata.nestedSetRightColumn.createValueMap(2))}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;if(!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find(a=>Object.entries(e.identifier).every(([l,c])=>a[l]===c))),i===void 0||t===void 0)return;const r=e.metadata.treeParentRelation.getEntityValue(i),s=e.metadata.getEntityIdMap(r),o=e.metadata.getEntityIdMap(t);if(!Ee.compareIds(s,o)){if(t){const a=g=>this.queryRunner.connection.driver.escape(g),l=this.getTableName(e.metadata.tablePath),c=a(e.metadata.nestedSetLeftColumn.databaseName),u=a(e.metadata.nestedSetRightColumn.databaseName),d=e.metadata.getEntityIdMap(i);let h;d&&(h=(await this.getNestedSetIds(e.metadata,d))[0]);let p;if(o&&(p=(await this.getNestedSetIds(e.metadata,o))[0]),h!==void 0&&p!==void 0){const g=p.left>h.left,m=h.right-h.left+1;let T;g?T=p.left-h.right:T=p.right-h.left;const w="WHEN ".concat(c," >= ").concat(h.left," AND ")+"".concat(c," < ").concat(h.right," ")+"THEN ".concat(c," + ").concat(T," "),b="WHEN ".concat(u," > ").concat(h.left," AND ")+"".concat(u," <= ").concat(h.right," ")+"THEN ".concat(u," + ").concat(T," ");g?await this.queryRunner.query("UPDATE ".concat(l," ")+"SET ".concat(c," = CASE ")+"WHEN ".concat(c," > ").concat(h.right," AND ")+"".concat(c," <= ").concat(p.left," ")+"THEN ".concat(c," - ").concat(m," ")+w+"ELSE ".concat(c," ")+"END, "+"".concat(u," = CASE ")+"WHEN ".concat(u," > ").concat(h.right," AND ")+"".concat(u," < ").concat(p.left," ")+"THEN ".concat(u," - ").concat(m," ")+b+"ELSE ".concat(u," ")+"END"):await this.queryRunner.query("UPDATE ".concat(l," ")+"SET ".concat(c," = CASE ")+"WHEN ".concat(c," < ").concat(h.left," AND ")+"".concat(c," > ").concat(p.right," ")+"THEN ".concat(c," + ").concat(m," ")+w+"ELSE ".concat(c," ")+"END, "+"".concat(u," = CASE ")+"WHEN ".concat(u," < ").concat(h.left," AND ")+"".concat(u," >= ").concat(p.right," ")+"THEN ".concat(u," + ").concat(m," ")+b+"ELSE ".concat(u," ")+"END")}}else if(!await this.isUniqueRootEntity(e,t))throw new rE}}async remove(e){Array.isArray(e)||(e=[e]);const t=e[0].metadata,i=c=>this.queryRunner.connection.driver.escape(c),r=this.getTableName(t.tablePath),s=i(t.nestedSetLeftColumn.databaseName),o=i(t.nestedSetRightColumn.databaseName);let a=[];for(const c of e){const u=t.getEntityIdMap(c.entity);u&&a.push(u)}let l=await this.getNestedSetIds(t,a);for(const c of l){const u=c.right-c.left+1;await this.queryRunner.query("UPDATE ".concat(r," ")+"SET ".concat(s," = CASE ")+"WHEN ".concat(s," > ").concat(c.left," THEN ").concat(s," - ").concat(u," ")+"ELSE ".concat(s," ")+"END, "+"".concat(o," = CASE ")+"WHEN ".concat(o," > ").concat(c.right," THEN ").concat(o," - ").concat(u," ")+"ELSE ".concat(o," ")+"END")}}getNestedSetIds(e,t){const i={left:"".concat(e.targetName,".").concat(e.nestedSetLeftColumn.propertyPath),right:"".concat(e.targetName,".").concat(e.nestedSetRightColumn.propertyPath)},r=this.queryRunner.manager.createQueryBuilder();return Object.entries(i).forEach(([s,o])=>{r.addSelect(o,s)}),r.from(e.target,e.targetName).whereInIds(t).orderBy(i.right,"DESC").getRawMany().then(s=>{const o=[];for(const a of s){const l={};for(const c of Object.keys(i)){const u=a?a[c]:void 0;l[c]=typeof u=="string"?parseInt(u):u}o.push(l)}return o})}async isUniqueRootEntity(e,t){const i=c=>this.queryRunner.connection.driver.escape(c),r=this.getTableName(e.metadata.tablePath),s=[],o=e.metadata.treeParentRelation.joinColumns.map(c=>{const u=i(c.databaseName),d=c.getEntityValue(t);if(d==null)return"".concat(u," IS NULL");s.push(d);const h=this.queryRunner.connection.driver.createParameter("entity_"+c.databaseName,s.length-1);return"".concat(u," = ").concat(h)}).join(" AND "),a="count",l=await this.queryRunner.query("SELECT COUNT(1) AS ".concat(i(a)," FROM ").concat(r," WHERE ").concat(o),s,!0);return parseInt(l.records[0][a])===0}getTableName(e){return e.split(".").map(t=>t===""?t:this.queryRunner.connection.driver.escape(t)).join(".")}}class Of{constructor(e){this.queryRunner=e}async insert(e){const t={};e.metadata.closureJunctionTable.ancestorColumns.forEach(r=>{t[r.databaseName]=e.identifier}),e.metadata.closureJunctionTable.descendantColumns.forEach(r=>{t[r.databaseName]=e.identifier}),await this.queryRunner.manager.createQueryBuilder().insert().into(e.metadata.closureJunctionTable.tablePath).values(t).updateEntity(!1).callListeners(!1).execute();let i=e.metadata.treeParentRelation.getEntityValue(e.entity);if(!i&&e.parentSubject&&e.parentSubject.entity&&(i=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity),i){const r=d=>this.queryRunner.connection.driver.escape(d),s=this.getTableName(e.metadata.closureJunctionTable.tablePath),o=[],a=e.metadata.closureJunctionTable.ancestorColumns.map(d=>r(d.databaseName)),l=e.metadata.closureJunctionTable.descendantColumns.map(d=>r(d.databaseName)),c=e.metadata.primaryColumns.map(d=>(o.push(d.getEntityValue(e.insertedValueSet?e.insertedValueSet:e.entity)),this.queryRunner.connection.driver.createParameter("child_entity_"+d.databaseName,o.length-1))),u=e.metadata.closureJunctionTable.descendantColumns.map(d=>{const h=r(d.databaseName),p=d.referencedColumn.getEntityValue(i);if(!p)throw new Zw(e.metadata.name);o.push(p);const g=this.queryRunner.connection.driver.createParameter("parent_entity_"+d.referencedColumn.databaseName,o.length-1);return"".concat(h," = ").concat(g)});await this.queryRunner.query("INSERT INTO ".concat(s," (").concat([...a,...l].join(", "),") ")+"SELECT ".concat(a.join(", "),", ").concat(c.join(", ")," FROM ").concat(s," WHERE ").concat(u.join(" AND ")),o)}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;if(!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find(p=>Object.entries(e.identifier).every(([g,m])=>p[g]===m))),i===void 0||t===void 0)return;const r=e.metadata.treeParentRelation.getEntityValue(i),s=e.metadata.getEntityIdMap(r),o=e.metadata.getEntityIdMap(t);if(Ee.compareIds(s,o))return;const a=p=>this.queryRunner.connection.driver.escape(p),l=e.metadata.closureJunctionTable,c=l.ancestorColumns.map(p=>a(p.databaseName)),u=l.descendantColumns.map(p=>a(p.databaseName)),d=(p,g)=>{const m="sub".concat(g),T=p.createQueryBuilder().select(u.join(", ")).from(l.tablePath,m);for(const w of l.ancestorColumns)T.andWhere("".concat(a(m),".").concat(a(w.databaseName)," = :value_").concat(w.referencedColumn.databaseName));return p.createQueryBuilder().select(u.join(", ")).from("(".concat(T.getQuery(),")"),g).setParameters(T.getParameters()).getQuery()},h={};for(const p of e.metadata.primaryColumns)h["value_".concat(p.databaseName)]=i[p.databaseName];if(await this.queryRunner.manager.createQueryBuilder().delete().from(l.tablePath).where(p=>"(".concat(u.join(", "),") IN (").concat(d(p,"descendant"),")")).andWhere(p=>"(".concat(c.join(", "),") NOT IN (").concat(d(p,"ancestor"),")")).setParameters(h).execute(),t){const p=[],g=this.getTableName(l.tablePath),m=a("supertree"),T=a("subtree"),w=[...c.map(N=>"".concat(m,".").concat(N)),...u.map(N=>"".concat(T,".").concat(N))],b=e.metadata.closureJunctionTable.ancestorColumns.map(N=>{const M=a(N.databaseName),L=N.referencedColumn.getEntityValue(i);p.push(L);const I=this.queryRunner.connection.driver.createParameter("entity_"+N.referencedColumn.databaseName,p.length-1);return"".concat(T,".").concat(M," = ").concat(I)}),v=e.metadata.closureJunctionTable.descendantColumns.map(N=>{const M=a(N.databaseName),L=N.referencedColumn.getEntityValue(t);if(!L)throw new Zw(e.metadata.name);p.push(L);const I=this.queryRunner.connection.driver.createParameter("parent_entity_"+N.referencedColumn.databaseName,p.length-1);return"".concat(m,".").concat(M," = ").concat(I)});await this.queryRunner.query("INSERT INTO ".concat(g," (").concat([...c,...u].join(", "),") ")+"SELECT ".concat(w.join(", ")," ")+"FROM ".concat(g," AS ").concat(m,", ").concat(g," AS ").concat(T," ")+"WHERE ".concat([...b,...v].join(" AND ")),p)}}async remove(e){if(this.queryRunner.connection.driver.options.type!=="mssql")return;Array.isArray(e)||(e=[e]);const t=l=>this.queryRunner.connection.driver.escape(l),i=e.map(l=>l.identifier),r=e[0].metadata.closureJunctionTable,s=l=>l.map(c=>{const u=i.map(d=>d[c.referencedColumn.databaseName]);return"".concat(t(c.databaseName)," IN (").concat(u.join(", "),")")}).join(" AND "),o=s(r.ancestorColumns),a=s(r.descendantColumns);await this.queryRunner.manager.createQueryBuilder().delete().from(r.tablePath).where(o).orWhere(a).execute()}getTableName(e){return e.split(".").map(t=>t===""?t:this.queryRunner.connection.driver.escape(t)).join(".")}}class Bi{constructor(e){this["@instanceof"]=Symbol.for("EntityMetadata"),this.childEntityMetadatas=[],this.inheritanceTree=[],this.tableType="regular",this.withoutRowid=!1,this.synchronize=!0,this.hasNonNullableRelations=!1,this.isJunction=!1,this.isAlwaysUsingConstructor=!0,this.isClosureJunction=!1,this.hasMultiplePrimaryKeys=!1,this.hasUUIDGeneratedColumns=!1,this.ownColumns=[],this.columns=[],this.ancestorColumns=[],this.descendantColumns=[],this.nonVirtualColumns=[],this.ownerColumns=[],this.inverseColumns=[],this.generatedColumns=[],this.primaryColumns=[],this.ownRelations=[],this.relations=[],this.eagerRelations=[],this.lazyRelations=[],this.oneToOneRelations=[],this.ownerOneToOneRelations=[],this.oneToManyRelations=[],this.manyToOneRelations=[],this.manyToManyRelations=[],this.ownerManyToManyRelations=[],this.relationsWithJoinColumns=[],this.relationIds=[],this.relationCounts=[],this.foreignKeys=[],this.embeddeds=[],this.allEmbeddeds=[],this.ownIndices=[],this.indices=[],this.uniques=[],this.ownUniques=[],this.checks=[],this.exclusions=[],this.ownListeners=[],this.listeners=[],this.afterLoadListeners=[],this.beforeInsertListeners=[],this.afterInsertListeners=[],this.beforeUpdateListeners=[],this.afterUpdateListeners=[],this.beforeRemoveListeners=[],this.beforeSoftRemoveListeners=[],this.beforeRecoverListeners=[],this.afterRemoveListeners=[],this.afterSoftRemoveListeners=[],this.afterRecoverListeners=[],this.connection=e.connection,this.inheritanceTree=e.inheritanceTree||[],this.inheritancePattern=e.inheritancePattern,this.treeType=e.tableTree?e.tableTree.type:void 0,this.treeOptions=e.tableTree?e.tableTree.options:void 0,this.parentClosureEntityMetadata=e.parentClosureEntityMetadata,this.tableMetadataArgs=e.args,this.target=this.tableMetadataArgs.target,this.tableType=this.tableMetadataArgs.type,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid,this.dependsOn=this.tableMetadataArgs.dependsOn}create(e,t){const i=!!(t&&t.pojo===!0);let r;return typeof this.target=="function"&&!i?!(t!=null&&t.fromDeserializer)||this.isAlwaysUsingConstructor?r=new this.target:r=Object.create(this.target.prototype):r={},this.connection.options.typename&&(r[this.connection.options.typename]=this.targetName),this.lazyRelations.forEach(s=>this.connection.relationLoader.enableLazyLoad(s,r,e)),r}hasId(e){return e?this.primaryColumns.every(t=>{const i=t.getEntityValue(e);return i!=null&&i!==""}):!1}hasAllPrimaryKeys(e){return this.primaryColumns.every(t=>{const i=t.getEntityValue(e);return i!=null})}ensureEntityIdMap(e){if(Fe.isObject(e))return e;if(this.hasMultiplePrimaryKeys)throw new GF(this,e);return this.primaryColumns[0].createValueMap(e)}getEntityIdMap(e){if(e)return Bi.getValueMap(e,this.primaryColumns,{skipNulls:!0})}getEntityIdMixedMap(e){if(!e)return e;const t=this.getEntityIdMap(e);return this.hasMultiplePrimaryKeys?t:t&&this.primaryColumns[0].getEntityValue(t)}compareEntities(e,t){const i=this.getEntityIdMap(e);if(!i)return!1;const r=this.getEntityIdMap(t);return r?Ee.compareIds(i,r):!1}findColumnWithPropertyName(e){return this.columns.find(t=>t.propertyName===e)}findColumnWithDatabaseName(e){return this.columns.find(t=>t.databaseName===e)}hasColumnWithPropertyPath(e){return this.columns.some(i=>i.propertyPath===e)||this.hasRelationWithPropertyPath(e)}findColumnWithPropertyPath(e){const t=this.columns.find(r=>r.propertyPath===e);if(t)return t;const i=this.relations.find(r=>r.propertyPath===e);if(i&&i.joinColumns.length===1)return i.joinColumns[0]}findColumnWithPropertyPathStrict(e){return this.columns.find(t=>t.propertyPath===e)}findColumnsWithPropertyPath(e){const t=this.columns.find(r=>r.propertyPath===e);if(t)return[t];const i=this.findRelationWithPropertyPath(e);return i&&i.joinColumns?i.joinColumns:[]}hasRelationWithPropertyPath(e){return this.relations.some(t=>t.propertyPath===e)}findRelationWithPropertyPath(e){return this.relations.find(t=>t.propertyPath===e)}hasEmbeddedWithPropertyPath(e){return this.allEmbeddeds.some(t=>t.propertyPath===e)}findEmbeddedWithPropertyPath(e){return this.allEmbeddeds.find(t=>t.propertyPath===e)}mapPropertyPathsToColumns(e){return e.map(t=>{const i=this.findColumnWithPropertyPath(t);if(i==null)throw new Yi(t,this);return i})}extractRelationValuesFromEntity(e,t){const i=[];return t.forEach(r=>{const s=r.getEntityValue(e);Array.isArray(s)?s.forEach(o=>i.push([r,o,Bi.getInverseEntityMetadata(o,r)])):s&&i.push([r,s,Bi.getInverseEntityMetadata(s,r)])}),i}findInheritanceMetadata(e){if(this.inheritancePattern==="STI"&&this.childEntityMetadatas.length>0){let t;return this.discriminatorColumn&&(t=e[this.discriminatorColumn.propertyName]),this.childEntityMetadatas.find(i=>t===i.discriminatorValue||e.constructor===i.target)||this}return this}static getInverseEntityMetadata(e,t){return t.inverseEntityMetadata.findInheritanceMetadata(e)}static createPropertyPath(e,t,i=""){const r=[];return Object.keys(t).forEach(s=>{const o=i?i+"."+s:s;if(e.hasEmbeddedWithPropertyPath(o)){const a=this.createPropertyPath(e,t[s],o);r.push(...a)}else{const a=i?i+"."+s:s;r.push(a)}}),r}static difference(e,t){return e.filter(i=>!t.find(r=>Ee.compareIds(i,r)))}static getValueMap(e,t,i){return t.reduce((r,s)=>{const o=s.getEntityValueMap(e,i);if(!(r===void 0||o===null||o===void 0))return Ee.mergeDeep(r,o)},{})}build(){var e;const t=this.connection.namingStrategy,i=this.connection.options.entityPrefix,r=this.connection.options.entitySkipConstructor;this.engine=this.tableMetadataArgs.engine,this.database=this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.parentEntityMetadata.database:this.tableMetadataArgs.database,this.tableMetadataArgs.schema?this.schema=this.tableMetadataArgs.schema:this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.schema=this.parentEntityMetadata.schema:!((e=this.connection.options)===null||e===void 0)&&e.hasOwnProperty("schema")&&(this.schema=this.connection.options.schema),this.givenTableName=this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.parentEntityMetadata.givenTableName:this.tableMetadataArgs.name,this.synchronize=this.tableMetadataArgs.synchronize!==!1,this.targetName=typeof this.tableMetadataArgs.target=="function"?this.tableMetadataArgs.target.name:this.tableMetadataArgs.target,this.tableMetadataArgs.type==="closure-junction"?this.tableNameWithoutPrefix=t.closureJunctionTableName(this.givenTableName):this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.tableNameWithoutPrefix=t.tableName(this.parentEntityMetadata.targetName,this.parentEntityMetadata.givenTableName):(this.tableNameWithoutPrefix=t.tableName(this.targetName,this.givenTableName),this.tableMetadataArgs.type==="junction"&&this.connection.driver.maxAliasLength&&this.connection.driver.maxAliasLength>0&&this.tableNameWithoutPrefix.length>this.connection.driver.maxAliasLength&&(this.tableNameWithoutPrefix=ZC(this.tableNameWithoutPrefix,{separator:"_",segmentLength:3}))),this.tableName=i?t.prefixTableName(i,this.tableNameWithoutPrefix):this.tableNameWithoutPrefix,this.target=this.target?this.target:this.tableName,this.name=this.targetName?this.targetName:this.tableName,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid===!0,this.tablePath=this.connection.driver.buildTableName(this.tableName,this.schema,this.database),this.orderBy=typeof this.tableMetadataArgs.orderBy=="function"?this.tableMetadataArgs.orderBy(this.propertiesMap):this.tableMetadataArgs.orderBy,r!==void 0&&(this.isAlwaysUsingConstructor=!r),this.isJunction=this.tableMetadataArgs.type==="closure-junction"||this.tableMetadataArgs.type==="junction",this.isClosureJunction=this.tableMetadataArgs.type==="closure-junction"}registerColumn(e){this.ownColumns.indexOf(e)===-1&&(this.ownColumns.push(e),this.columns=this.embeddeds.reduce((t,i)=>t.concat(i.columnsFromTree),this.ownColumns),this.primaryColumns=this.columns.filter(t=>t.isPrimary),this.hasMultiplePrimaryKeys=this.primaryColumns.length>1,this.hasUUIDGeneratedColumns=this.columns.filter(t=>t.isGenerated||t.generationStrategy==="uuid").length>0,this.propertiesMap=this.createPropertiesMap(),this.childEntityMetadatas&&this.childEntityMetadatas.forEach(t=>t.registerColumn(e)))}createPropertiesMap(){const e={};return this.columns.forEach(t=>Ee.mergeDeep(e,t.createValueMap(t.propertyPath))),this.relations.forEach(t=>Ee.mergeDeep(e,t.createValueMap(t.propertyPath))),e}getInsertionReturningColumns(){return this.columns.filter(e=>e.default!==void 0||e.isGenerated||e.isCreateDate||e.isUpdateDate||e.isDeleteDate||e.isVersion)}}class Jd{constructor(e){this["@instanceof"]=Symbol.for("Brackets"),this.whereFactory=e}}class sE{constructor(e){this.queryRunner=e}async insert(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);const i=e.metadata.getEntityIdMap(t);let r="";i&&(r=await this.getEntityPath(e,i));const s=e.metadata.treeParentRelation.joinColumns.map(o=>o.referencedColumn.getEntityValue(e.insertedValueSet)).join("_");await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[e.metadata.materializedPathColumn.propertyPath]:r+s+"."}).where(e.identifier).execute()}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find(d=>Object.entries(e.identifier).every(([h,p])=>d[h]===p)));const r=e.metadata.treeParentRelation.getEntityValue(i),s=this.getEntityParentReferencedColumnMap(e,r),o=this.getEntityParentReferencedColumnMap(e,t);if(Ee.compareIds(s,o))return;let a="";o&&(a=await this.getEntityPath(e,o));let l="";s&&(l=await this.getEntityPath(e,s)||"");const c=e.metadata.treeParentRelation.joinColumns.map(d=>d.referencedColumn.getEntityValue(i)).join("_"),u=e.metadata.materializedPathColumn.propertyPath;await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[u]:()=>"REPLACE(".concat(this.queryRunner.connection.driver.escape(u),", '").concat(l).concat(c,".', '").concat(a).concat(c,".')")}).where("".concat(u," LIKE :path"),{path:"".concat(l).concat(c,".%")}).execute()}getEntityParentReferencedColumnMap(e,t){if(t)return Bi.getValueMap(t,e.metadata.treeParentRelation.joinColumns.map(i=>i.referencedColumn).filter(i=>i!=null),{skipNulls:!0})}getEntityPath(e,t){const i=e.metadata,r=(Array.isArray(t)?t:[t]).map(s=>i.ensureEntityIdMap(s));return this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.materializedPathColumn.propertyPath,"path").from(e.metadata.target,e.metadata.targetName).where(new Jd(s=>{for(const o of r)s.orWhere(new Jd(a=>a.where(o)))})).getRawOne().then(s=>s?s.path:"")}}class X6{constructor(e,t,i){this.hasExecutableOperations=!1,this.insertSubjects=[],this.updateSubjects=[],this.removeSubjects=[],this.softRemoveSubjects=[],this.recoverSubjects=[],this.queryRunner=e,this.allSubjects=t,this.options=i,this.validate(),this.recompute()}async execute(){let e;(!this.options||this.options.listeners!==!1)&&(e=this.broadcastBeforeEventsForAll(),e.promises.length>0&&await Promise.all(e.promises)),e&&e.count>0&&(this.insertSubjects.forEach(t=>t.recompute()),this.updateSubjects.forEach(t=>t.recompute()),this.removeSubjects.forEach(t=>t.recompute()),this.softRemoveSubjects.forEach(t=>t.recompute()),this.recoverSubjects.forEach(t=>t.recompute()),this.recompute()),this.insertSubjects=new iE(this.insertSubjects).sort("insert"),await this.executeInsertOperations(),this.updateSubjects=this.allSubjects.filter(t=>t.mustBeUpdated),await this.executeUpdateOperations(),this.removeSubjects=new iE(this.removeSubjects).sort("delete"),await this.executeRemoveOperations(),this.softRemoveSubjects=this.allSubjects.filter(t=>t.mustBeSoftRemoved),await this.executeSoftRemoveOperations(),this.recoverSubjects=this.allSubjects.filter(t=>t.mustBeRecovered),await this.executeRecoverOperations(),await this.updateSpecialColumnsInPersistedEntities(),(!this.options||this.options.listeners!==!1)&&(e=this.broadcastAfterEventsForAll(),e.promises.length>0&&await Promise.all(e.promises))}validate(){this.allSubjects.forEach(e=>{if(e.mustBeUpdated&&e.mustBeRemoved)throw new h6(e)})}recompute(){new J6().compute(this.allSubjects),this.insertSubjects=this.allSubjects.filter(e=>e.mustBeInserted),this.updateSubjects=this.allSubjects.filter(e=>e.mustBeUpdated),this.removeSubjects=this.allSubjects.filter(e=>e.mustBeRemoved),this.softRemoveSubjects=this.allSubjects.filter(e=>e.mustBeSoftRemoved),this.recoverSubjects=this.allSubjects.filter(e=>e.mustBeRecovered),this.hasExecutableOperations=this.insertSubjects.length>0||this.updateSubjects.length>0||this.removeSubjects.length>0||this.softRemoveSubjects.length>0||this.recoverSubjects.length>0}broadcastBeforeEventsForAll(){const e=new gg;return this.insertSubjects.length&&this.insertSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeInsertEvent(e,t.metadata,t.entity)),this.updateSubjects.length&&this.updateSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations)),this.removeSubjects.length&&this.removeSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.recoverSubjects.length&&this.recoverSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeRecoverEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),e}broadcastAfterEventsForAll(){const e=new gg;return this.insertSubjects.length&&this.insertSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterInsertEvent(e,t.metadata,t.entity)),this.updateSubjects.length&&this.updateSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations)),this.removeSubjects.length&&this.removeSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.recoverSubjects.length&&this.recoverSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterRecoverEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),e}async executeInsertOperations(){const[e,t]=this.groupBulkSubjects(this.insertSubjects,"insert");for(const i of t){const r=e[i],s=[],o=[],a=[];if(this.queryRunner.connection.driver.options.type==="mongodb"?r.forEach(l=>{l.metadata.createDateColumn&&l.entity&&(l.entity[l.metadata.createDateColumn.databaseName]=new Date),l.metadata.updateDateColumn&&l.entity&&(l.entity[l.metadata.updateDateColumn.databaseName]=new Date),l.createValueSetAndPopChangeMap(),o.push(l),s.push(l.entity)}):this.queryRunner.connection.driver.options.type==="oracle"?r.forEach(l=>{a.push(l)}):r.forEach(l=>{l.changeMaps.length===0||l.metadata.treeType||this.queryRunner.connection.driver.options.type==="oracle"||this.queryRunner.connection.driver.options.type==="sap"?a.push(l):(o.push(l),s.push(l.createValueSetAndPopChangeMap()))}),W.isMongoEntityManager(this.queryRunner.manager)){const l=await this.queryRunner.manager.insert(r[0].metadata.target,s);r.forEach((c,u)=>{c.identifier=l.identifiers[u],c.generatedMap=l.generatedMaps[u],c.insertedValueSet=s[u]})}else{if(s.length>0){const l=await this.queryRunner.manager.createQueryBuilder().insert().into(r[0].metadata.target).values(s).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1).execute();o.forEach((c,u)=>{c.identifier=l.identifiers[u],c.generatedMap=l.generatedMaps[u],c.insertedValueSet=s[u]})}if(a.length>0)for(const l of a)l.insertedValueSet=l.createValueSetAndPopChangeMap(),l.metadata.treeType==="nested-set"&&await new If(this.queryRunner).insert(l),await this.queryRunner.manager.createQueryBuilder().insert().into(l.metadata.target).values(l.insertedValueSet).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1).execute().then(c=>{l.identifier=c.identifiers[0],l.generatedMap=c.generatedMaps[0]}),l.metadata.treeType==="closure-table"?await new Of(this.queryRunner).insert(l):l.metadata.treeType==="materialized-path"&&await new sE(this.queryRunner).insert(l)}r.forEach(l=>{l.generatedMap&&l.metadata.columns.forEach(c=>{const u=c.getEntityValue(l.generatedMap);if(u!=null){const d=this.queryRunner.connection.driver.prepareHydratedValue(u,c);c.setEntityValue(l.generatedMap,d)}})})}}async executeUpdateOperations(){const e=async s=>{if(!s.identifier)throw new bu(s);if(W.isMongoEntityManager(this.queryRunner.manager)){const o=this.cloneMongoSubjectEntity(s);s.metadata.objectIdColumn&&s.metadata.objectIdColumn.propertyName&&delete o[s.metadata.objectIdColumn.propertyName],s.metadata.createDateColumn&&s.metadata.createDateColumn.propertyName&&delete o[s.metadata.createDateColumn.propertyName],s.metadata.updateDateColumn&&s.metadata.updateDateColumn.propertyName&&(o[s.metadata.updateDateColumn.propertyName]=new Date),await this.queryRunner.manager.update(s.metadata.target,s.identifier,o)}else{const o=s.createValueSetAndPopChangeMap();switch(s.metadata.treeType){case"nested-set":await new If(this.queryRunner).update(s);break;case"closure-table":await new Of(this.queryRunner).update(s);break;case"materialized-path":await new sE(this.queryRunner).update(s);break}const a=this.queryRunner.manager.createQueryBuilder().update(s.metadata.target).set(o).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);s.entity?a.whereEntity(s.identifier):a.where(s.identifier);let c=(await a.execute()).generatedMaps[0];c&&(s.metadata.columns.forEach(u=>{const d=u.getEntityValue(c);if(d!=null){const h=this.queryRunner.connection.driver.prepareHydratedValue(d,u);u.setEntityValue(c,h)}}),s.generatedMap||(s.generatedMap={}),Object.assign(s.generatedMap,c))}},t=[],i=[];for(const s of this.updateSubjects)s.metadata.treeType==="nested-set"?t.push(s):i.push(s);const r=new Promise(async(s,o)=>{for(const a of t)try{await e(a)}catch(l){o(l)}s()});await Promise.all([...i.map(e),r])}async executeRemoveOperations(){const[e,t]=this.groupBulkSubjects(this.removeSubjects,"delete");for(const i of t){const r=e[i],s=r.map(o=>{if(!o.identifier)throw new bu(o);return o.identifier});if(W.isMongoEntityManager(this.queryRunner.manager))await this.queryRunner.manager.delete(r[0].metadata.target,s);else{switch(r[0].metadata.treeType){case"nested-set":await new If(this.queryRunner).remove(r);break;case"closure-table":await new Of(this.queryRunner).remove(r);break}await this.queryRunner.manager.createQueryBuilder().delete().from(r[0].metadata.target).where(s).callListeners(!1).execute()}}}cloneMongoSubjectEntity(e){const t={};if(e.entity)for(const i of e.metadata.columns)Ee.mergeDeep(t,i.getEntityValueMap(e.entity));return t}async executeSoftRemoveOperations(){await Promise.all(this.softRemoveSubjects.map(async e=>{if(!e.identifier)throw new bu(e);let t;if(W.isMongoEntityManager(this.queryRunner.manager)){const i=this.cloneMongoSubjectEntity(e);e.metadata.objectIdColumn&&e.metadata.objectIdColumn.propertyName&&delete i[e.metadata.objectIdColumn.propertyName],e.metadata.createDateColumn&&e.metadata.createDateColumn.propertyName&&delete i[e.metadata.createDateColumn.propertyName],e.metadata.updateDateColumn&&e.metadata.updateDateColumn.propertyName&&(i[e.metadata.updateDateColumn.propertyName]=new Date),e.metadata.deleteDateColumn&&e.metadata.deleteDateColumn.propertyName&&(i[e.metadata.deleteDateColumn.propertyName]=new Date),t=await this.queryRunner.manager.update(e.metadata.target,e.identifier,i)}else{const i=this.queryRunner.manager.createQueryBuilder().softDelete().from(e.metadata.target).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);e.entity?i.whereEntity(e.identifier):i.where(e.identifier),t=await i.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach(i=>{const r=i.getEntityValue(e.generatedMap);if(r!=null){const s=this.queryRunner.connection.driver.prepareHydratedValue(r,i);i.setEntityValue(e.generatedMap,s)}})}))}async executeRecoverOperations(){await Promise.all(this.recoverSubjects.map(async e=>{if(!e.identifier)throw new bu(e);let t;if(W.isMongoEntityManager(this.queryRunner.manager)){const i=this.cloneMongoSubjectEntity(e);e.metadata.objectIdColumn&&e.metadata.objectIdColumn.propertyName&&delete i[e.metadata.objectIdColumn.propertyName],e.metadata.createDateColumn&&e.metadata.createDateColumn.propertyName&&delete i[e.metadata.createDateColumn.propertyName],e.metadata.updateDateColumn&&e.metadata.updateDateColumn.propertyName&&(i[e.metadata.updateDateColumn.propertyName]=new Date),e.metadata.deleteDateColumn&&e.metadata.deleteDateColumn.propertyName&&(i[e.metadata.deleteDateColumn.propertyName]=null),t=await this.queryRunner.manager.update(e.metadata.target,e.identifier,i)}else{const i=this.queryRunner.manager.createQueryBuilder().restore().from(e.metadata.target).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);e.entity?i.whereEntity(e.identifier):i.where(e.identifier),t=await i.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach(i=>{const r=i.getEntityValue(e.generatedMap);if(r!=null){const s=this.queryRunner.connection.driver.prepareHydratedValue(r,i);i.setEntityValue(e.generatedMap,s)}})}))}updateSpecialColumnsInPersistedEntities(){this.insertSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.insertSubjects),this.updateSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.updateSubjects),this.softRemoveSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.softRemoveSubjects),this.recoverSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.recoverSubjects),this.removeSubjects.length&&this.removeSubjects.forEach(e=>{e.entity&&e.metadata.primaryColumns.forEach(t=>{t.setEntityValue(e.entity,void 0)})}),this.allSubjects.forEach(e=>{e.entity&&(e.metadata.relationIds.forEach(t=>{t.setValue(e.entity)}),W.isMongoEntityManager(this.queryRunner.manager)&&e.metadata.objectIdColumn&&e.metadata.objectIdColumn.databaseName&&e.metadata.objectIdColumn.databaseName!==e.metadata.objectIdColumn.propertyName&&delete e.entity[e.metadata.objectIdColumn.databaseName])})}updateSpecialColumnsInInsertedAndUpdatedEntities(e){e.forEach(t=>{t.entity&&(t.metadata.columns.forEach(i=>{t.metadata.childEntityMetadatas.length>0&&t.metadata.childEntityMetadatas.map(r=>r.target).indexOf(i.target)!==-1||i.isVirtual||(i.isNullable&&i.getEntityValue(t.entity)===void 0&&i.setEntityValue(t.entity,null),t.updatedRelationMaps.length>0&&t.updatedRelationMaps.forEach(r=>{r.relation.joinColumns.forEach(s=>{s.isVirtual!==!0&&s.setEntityValue(t.entity,Fe.isObject(r.value)?s.referencedColumn.getEntityValue(r.value):r.value)})}))}),t.generatedMap&&this.queryRunner.manager.merge(t.metadata.target,t.entity,t.generatedMap))})}groupBulkSubjects(e,t){const i={},r=[],s=e.some(a=>a.metadata.getInsertionReturningColumns().length>0),o=t==="delete"||this.queryRunner.connection.driver.isReturningSqlSupported("insert")||s===!1;return e.forEach((a,l)=>{const c=o||a.metadata.isJunction?a.metadata.name:a.metadata.name+"_"+l;i[c]?i[c].push(a):(i[c]=[a],r.push(c))}),[i,r]}}class xr{constructor(e){this["@instanceof"]=Symbol.for("Subject"),this.identifier=void 0,this.entityWithFulfilledIds=void 0,this.databaseEntityLoaded=!1,this.changeMaps=[],this.canBeInserted=!1,this.canBeUpdated=!1,this.mustBeRemoved=!1,this.canBeSoftRemoved=!1,this.canBeRecovered=!1,this.updatedRelationMaps=[],this.diffColumns=[],this.diffRelations=[],this.metadata=e.metadata,this.entity=e.entity,this.parentSubject=e.parentSubject,e.canBeInserted!==void 0&&(this.canBeInserted=e.canBeInserted),e.canBeUpdated!==void 0&&(this.canBeUpdated=e.canBeUpdated),e.mustBeRemoved!==void 0&&(this.mustBeRemoved=e.mustBeRemoved),e.canBeSoftRemoved!==void 0&&(this.canBeSoftRemoved=e.canBeSoftRemoved),e.canBeRecovered!==void 0&&(this.canBeRecovered=e.canBeRecovered),e.identifier!==void 0&&(this.identifier=e.identifier),e.changeMaps!==void 0&&this.changeMaps.push(...e.changeMaps),this.recompute()}get mustBeInserted(){return this.canBeInserted&&!this.databaseEntity}get mustBeUpdated(){return this.canBeUpdated&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)&&this.changeMaps.length>0}get mustBeSoftRemoved(){return this.canBeSoftRemoved&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)}get mustBeRecovered(){return this.canBeRecovered&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)}createValueSetAndPopChangeMap(){const e=[],t=this.changeMaps.reduce((i,r)=>{let s=r.value;W.isSubject(s)&&(s=s.insertedValueSet?s.insertedValueSet:s.entity);let o;if(this.metadata.isJunction&&r.column)o=r.column.createValueMap(r.column.referencedColumn.getEntityValue(s));else if(r.column)o=r.column.createValueMap(s);else if(r.relation)if(Fe.isObject(s)&&!Buffer.isBuffer(s)){const a=r.relation.getRelationIdMap(s);if(a===void 0)return e.push(r),this.canBeUpdated=!0,i;o=r.relation.createValueMap(a),this.updatedRelationMaps.push({relation:r.relation,value:a})}else o=r.relation.createValueMap(s),this.updatedRelationMaps.push({relation:r.relation,value:s});return Ee.mergeDeep(i,o),i},{});return this.changeMaps=e,t}recompute(){this.entity?(this.entityWithFulfilledIds=Object.assign({},this.entity),this.parentSubject&&this.metadata.primaryColumns.forEach(e=>{if(e.relationMetadata&&e.relationMetadata.inverseEntityMetadata===this.parentSubject.metadata){const t=e.referencedColumn.getEntityValue(this.parentSubject.entity);e.setEntityValue(this.entityWithFulfilledIds,t)}}),this.identifier=this.metadata.getEntityIdMap(this.entityWithFulfilledIds)):this.databaseEntity&&(this.identifier=this.metadata.getEntityIdMap(this.databaseEntity))}}class Z6{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.metadata.oneToManyRelations.forEach(t=>{t.persistenceEnabled!==!1&&this.buildForSubjectRelation(e,t)})})}buildForSubjectRelation(e,t){var i;let r=[];if(e.databaseEntity){const a=t.getEntityValue(e.databaseEntity);a&&(r=a.map(l=>t.inverseEntityMetadata.getEntityIdMap(l)))}let s=t.getEntityValue(e.entity);if(s===null&&(s=[]),s===void 0)return;const o=[];s.forEach(a=>{let l=t.inverseEntityMetadata.getEntityIdMap(a),c=this.subjects.find(d=>d.entity===a);if(c&&(l=c.identifier),!l){if(!c)return;c.changeMaps.push({relation:t.inverseRelation,value:e});return}r.find(d=>Ee.compareIds(l,d))||(c||(c=new xr({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:l}),this.subjects.push(c)),c.changeMaps.push({relation:t.inverseRelation,value:e})),o.push(l)}),((i=t.inverseRelation)===null||i===void 0?void 0:i.orphanedRowAction)!=="disable"&&Bi.difference(r,o).forEach(a=>{const l=new xr({metadata:t.inverseEntityMetadata,parentSubject:e,identifier:a});!t.inverseRelation||t.inverseRelation.orphanedRowAction==="nullify"?(l.canBeUpdated=!0,l.changeMaps=[{relation:t.inverseRelation,value:null}]):t.inverseRelation.orphanedRowAction==="delete"?l.mustBeRemoved=!0:t.inverseRelation.orphanedRowAction==="soft-delete"&&(l.canBeSoftRemoved=!0),this.subjects.push(l)})}}class e4{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.metadata.oneToOneRelations.forEach(t=>{t.isOwning||t.persistenceEnabled===!1||this.buildForSubjectRelation(e,t)})})}buildForSubjectRelation(e,t){let i;e.databaseEntity&&(i=t.getEntityValue(e.databaseEntity));let r=t.getEntityValue(e.entity);if(r===void 0)return;if(r===null){if(i){const l=new xr({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:i,changeMaps:[{relation:t.inverseRelation,value:null}]});this.subjects.push(l)}return}let s=t.inverseEntityMetadata.getEntityIdMap(r),o=this.subjects.find(l=>!!l.entity&&l.entity===r);if(o&&(s=o.identifier),!s){if(!o)return;o.changeMaps.push({relation:t.inverseRelation,value:e})}i&&Ee.compareIds(s,i)||(o||(o=new xr({metadata:t.inverseEntityMetadata,canBeUpdated:!0,identifier:s}),this.subjects.push(o)),o.changeMaps.push({relation:t.inverseRelation,value:e}))}}class oE{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.entity&&e.metadata.manyToManyRelations.forEach(t=>{t.persistenceEnabled!==!1&&this.buildForSubjectRelation(e,t)})})}buildForAllRemoval(e){e.databaseEntity&&e.metadata.manyToManyRelations.forEach(t=>{if(t.persistenceEnabled===!1)return;t.getEntityValue(e.databaseEntity).forEach(r=>{const s=new xr({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,r)});this.subjects.push(s)})})}buildForSubjectRelation(e,t){let i=[];e.databaseEntity&&(i=t.getEntityValue(e.databaseEntity));let r=t.getEntityValue(e.entity);if(r===null&&(r=[]),!Array.isArray(r))return;r.forEach(a=>{let l=t.inverseEntityMetadata.getEntityIdMap(a);const c=this.subjects.find(g=>g.entity===a);if(c&&(l=c.identifier),!l&&!c||i.find(g=>Ee.compareIds(g,l)))return;const d=t.isOwning?e:c||a,h=t.isOwning?c||a:e,p=new xr({metadata:t.junctionEntityMetadata,parentSubject:e,canBeInserted:!0});this.subjects.push(p),t.junctionEntityMetadata.ownerColumns.forEach(g=>{p.changeMaps.push({column:g,value:d})}),t.junctionEntityMetadata.inverseColumns.forEach(g=>{p.changeMaps.push({column:g,value:h})})});const s=[];r.forEach(a=>{let l=t.inverseEntityMetadata.getEntityIdMap(a);const c=this.subjects.find(u=>u.entity===a);c&&(l=c.identifier),l!=null&&s.push(l)}),i.filter(a=>!s.find(l=>Ee.compareIds(l,a))).forEach(a=>{const l=new xr({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,a)});this.subjects.push(l)})}buildJunctionIdentifier(e,t,i){const r=t.isOwning?e.entity:i,s=t.isOwning?i:e.entity,o={};return t.junctionEntityMetadata.ownerColumns.forEach(a=>{Ee.mergeDeep(o,a.createValueMap(a.referencedColumn.getEntityValue(r)))}),t.junctionEntityMetadata.inverseColumns.forEach(a=>{Ee.mergeDeep(o,a.createValueMap(a.referencedColumn.getEntityValue(s)))}),o}}class t4{constructor(e,t){this.queryRunner=e,this.subjects=t}async load(e){const t=this.groupByEntityTargets().map(async i=>{const r=[],s=[];if(i.subjects.forEach(c=>{c.databaseEntity||!c.identifier||(r.push(c.identifier),s.push(c))}),!r.length)return;const o=[];e==="save"||e==="soft-remove"||e==="recover"?i.subjects.forEach(c=>{c.metadata.relations.forEach(u=>{u.getEntityValue(c.entityWithFulfilledIds)!==void 0&&o.indexOf(u.propertyPath)===-1&&o.push(u.propertyPath)})}):o.push(...i.subjects[0].metadata.manyToManyRelations.map(c=>c.propertyPath));const a={loadEagerRelations:!1,loadRelationIds:{relations:o,disableMixedMap:!0},withDeleted:!0};let l=[];this.queryRunner.connection.driver.options.type==="mongodb"?l=await this.queryRunner.manager.getRepository(i.target).findByIds(r,a):l=await this.queryRunner.manager.getRepository(i.target).createQueryBuilder().setFindOptions(a).whereInIds(r).getMany(),l.forEach(c=>{this.findByPersistEntityLike(i.target,c).forEach(d=>{d.databaseEntity=c,d.identifier||(d.identifier=d.metadata.hasAllPrimaryKeys(c)?d.metadata.getEntityIdMap(c):void 0)})});for(let c of s)c.databaseEntityLoaded=!0});await Promise.all(t)}findByPersistEntityLike(e,t){return this.subjects.filter(i=>i.entity?i.entity===t?!0:i.metadata.target===e&&i.metadata.compareEntities(i.entityWithFulfilledIds,t):!1)}groupByEntityTargets(){return this.subjects.reduce((e,t)=>{let i=e.find(r=>r.target===t.metadata.target);return i||(i={target:t.metadata.target,subjects:[]},e.push(i)),i.subjects.push(t),e},[])}}class n4{constructor(e){this.allSubjects=e}build(e,t){e.metadata.extractRelationValuesFromEntity(e.entity,e.metadata.relations).forEach(([i,r,s])=>{if(r==null||!i.isCascadeInsert&&!i.isCascadeUpdate&&!i.isCascadeSoftRemove&&!i.isCascadeRecover||!Fe.isObject(r))return;const o=this.findByPersistEntityLike(s.target,r);if(o){o.canBeInserted===!1&&(o.canBeInserted=i.isCascadeInsert===!0&&t==="save"),o.canBeUpdated===!1&&(o.canBeUpdated=i.isCascadeUpdate===!0&&t==="save"),o.canBeSoftRemoved===!1&&(o.canBeSoftRemoved=i.isCascadeSoftRemove===!0&&t==="soft-remove"),o.canBeRecovered===!1&&(o.canBeRecovered=i.isCascadeRecover===!0&&t==="recover");return}const a=new xr({metadata:s,parentSubject:e,entity:r,canBeInserted:i.isCascadeInsert===!0&&t==="save",canBeUpdated:i.isCascadeUpdate===!0&&t==="save",canBeSoftRemoved:i.isCascadeSoftRemove===!0&&t==="soft-remove",canBeRecovered:i.isCascadeRecover===!0&&t==="recover"});this.allSubjects.push(a),this.build(a,t)})}findByPersistEntityLike(e,t){return this.allSubjects.find(i=>i.entity?i.entity===t?!0:i.metadata.target===e&&i.metadata.compareEntities(i.entityWithFulfilledIds,t):!1)}}class Eu{constructor(e,t,i,r,s,o){this.connection=e,this.queryRunner=t,this.mode=i,this.target=r,this.entity=s,this.options=o}async execute(){if(!this.entity||typeof this.entity!="object")return Promise.reject(new ZF(this.mode,this.entity));await Promise.resolve();const e=this.queryRunner||this.connection.createQueryRunner();let t=e.data;this.options&&this.options.data&&(e.data=this.options.data);try{const i=Array.isArray(this.entity)?this.entity:[this.entity],r=this.options&&this.options.chunk&&this.options.chunk>0?Ee.chunk(i,this.options.chunk):[i],o=(await Promise.all(r.map(async l=>{const c=[];l.forEach(d=>{const h=this.target?this.target:d.constructor;if(h===Object)throw new KF(this.mode);let p=this.connection.getMetadata(h).findInheritanceMetadata(d);c.push(new xr({metadata:p,entity:d,canBeInserted:this.mode==="save",canBeUpdated:this.mode==="save",mustBeRemoved:this.mode==="remove",canBeSoftRemoved:this.mode==="soft-remove",canBeRecovered:this.mode==="recover"}))});const u=new n4(c);return c.forEach(d=>{u.build(d,this.mode)}),await new t4(e,c).load(this.mode),this.mode==="save"||this.mode==="soft-remove"||this.mode==="recover"?(new Z6(c).build(),new e4(c).build(),new oE(c).build()):c.forEach(d=>{d.mustBeRemoved&&new oE(c).buildForAllRemoval(d)}),new X6(e,c,this.options)}))).filter(l=>l.hasExecutableOperations);if(o.length===0)return;let a=!1;try{e.isTransactionActive||this.connection.driver.transactionSupport!=="none"&&(!this.options||this.options.transaction!==!1)&&(a=!0,await e.startTransaction());for(const l of o)await l.execute();a===!0&&await e.commitTransaction()}catch(l){if(a)try{await e.rollbackTransaction()}catch(c){}throw l}}finally{e.data=t,this.queryRunner||await e.release()}}}class cA{constructor(e,t){this["@instanceof"]=Symbol.for("EntityManager"),this.repositories=new Map,this.treeRepositories=[],this.plainObjectToEntityTransformer=new k6,this.connection=e,t&&(this.queryRunner=t,Fe.assign(this.queryRunner,{manager:this}))}async transaction(e,t){const i=typeof e=="string"?e:void 0,r=typeof e=="function"?e:t;if(!r)throw new B("Transaction method requires callback in second parameter if isolation level is supplied.");if(this.queryRunner&&this.queryRunner.isReleased)throw new tA;const s=this.queryRunner||this.connection.createQueryRunner();try{await s.startTransaction(i);const o=await r(s.manager);return await s.commitTransaction(),o}catch(o){try{await s.rollbackTransaction()}catch(a){}throw o}finally{this.queryRunner||await s.release()}}async query(e,t){return this.connection.query(e,t,this.queryRunner)}createQueryBuilder(e,t,i){return t?this.connection.createQueryBuilder(e,t,i||this.queryRunner):this.connection.createQueryBuilder(e||i||this.queryRunner)}hasId(e,t){const i=arguments.length===2?e:e.constructor,r=arguments.length===2?t:e;return this.connection.getMetadata(i).hasId(r)}getId(e,t){const i=arguments.length===2?e:e.constructor,r=arguments.length===2?t:e;return this.connection.getMetadata(i).getEntityIdMixedMap(r)}create(e,t){const i=this.connection.getMetadata(e);if(!t)return i.create(this.queryRunner);if(Array.isArray(t))return t.map(s=>this.create(e,s));const r=i.create(this.queryRunner);return this.plainObjectToEntityTransformer.transform(r,t,i,!0),r}merge(e,t,...i){const r=this.connection.getMetadata(e);return i.forEach(s=>this.plainObjectToEntityTransformer.transform(t,s,r)),t}async preload(e,t){const i=this.connection.getMetadata(e),s=await new $6(this.connection.manager).transform(t,i);if(s)return this.merge(e,s,t)}save(e,t,i){let r=arguments.length>1&&(typeof e=="function"||W.isEntitySchema(e)||typeof e=="string")?e:void 0;const s=r?t:e,o=r?i:t;return W.isEntitySchema(r)&&(r=r.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new Eu(this.connection,this.queryRunner,"save",r,s,o).execute().then(()=>s)}remove(e,t,i){const r=arguments.length>1&&(typeof e=="function"||W.isEntitySchema(e)||typeof e=="string")?e:void 0,s=r?t:e,o=r?i:t;return Array.isArray(s)&&s.length===0?Promise.resolve(s):new Eu(this.connection,this.queryRunner,"remove",r,s,o).execute().then(()=>s)}softRemove(e,t,i){let r=arguments.length>1&&(typeof e=="function"||W.isEntitySchema(e)||typeof e=="string")?e:void 0;const s=r?t:e,o=r?i:t;return W.isEntitySchema(r)&&(r=r.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new Eu(this.connection,this.queryRunner,"soft-remove",r,s,o).execute().then(()=>s)}recover(e,t,i){let r=arguments.length>1&&(typeof e=="function"||W.isEntitySchema(e)||typeof e=="string")?e:void 0;const s=r?t:e,o=r?i:t;return W.isEntitySchema(r)&&(r=r.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new Eu(this.connection,this.queryRunner,"recover",r,s,o).execute().then(()=>s)}async insert(e,t){return this.createQueryBuilder().insert().into(e).values(t).execute()}async upsert(e,t,i){const r=this.connection.getMetadata(e);let s;Array.isArray(i)?s={conflictPaths:i}:s=i;let o;Array.isArray(t)?o=t:o=[t];const a=r.mapPropertyPathsToColumns(Array.isArray(s.conflictPaths)?s.conflictPaths:Object.keys(s.conflictPaths)),l=r.columns.filter(c=>!a.includes(c)&&o.some(u=>typeof c.getEntityValue(u)<"u"));return this.createQueryBuilder().insert().into(e).values(o).orUpdate([...a,...l].map(c=>c.databaseName),a.map(c=>c.databaseName),{skipUpdateIfNoValuesChanged:s.skipUpdateIfNoValuesChanged,indexPredicate:s.indexPredicate,upsertType:s.upsertType||this.connection.driver.supportedUpsertTypes[0]}).execute()}update(e,t,i){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new B("Empty criteria(s) are not allowed for the update method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().update(e).set(i).whereInIds(t).execute():this.createQueryBuilder().update(e).set(i).where(t).execute()}delete(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new B("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().delete().from(e).whereInIds(t).execute():this.createQueryBuilder().delete().from(e).where(t).execute()}softDelete(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new B("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().softDelete().from(e).whereInIds(t).execute():this.createQueryBuilder().softDelete().from(e).where(t).execute()}restore(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new B("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().restore().from(e).whereInIds(t).execute():this.createQueryBuilder().restore().from(e).where(t).execute()}exists(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,un.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getExists()}count(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,un.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getCount()}countBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getCount()}sum(e,t,i){return this.callAggregateFun(e,"SUM",t,i)}average(e,t,i){return this.callAggregateFun(e,"AVG",t,i)}minimum(e,t,i){return this.callAggregateFun(e,"MIN",t,i)}maximum(e,t,i){return this.callAggregateFun(e,"MAX",t,i)}async callAggregateFun(e,t,i,r={}){const s=this.connection.getMetadata(e),o=await this.createQueryBuilder(e,s.name).setFindOptions({where:r}).select("".concat(t,"(").concat(this.connection.driver.escape(String(i)),")"),t).getRawOne();return o[t]===null?null:parseFloat(o[t])}async find(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,un.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getMany()}async findBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getMany()}findAndCount(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,un.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getManyAndCount()}findAndCountBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getManyAndCount()}async findByIds(e,t){if(!t.length)return Promise.resolve([]);const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).andWhereInIds(t).getMany()}async findOne(e,t){let r=this.connection.getMetadata(e).name;if(t&&t.join&&(r=t.join.alias),!t.where)throw new Error("You must provide selection conditions in order to find a single row.");return this.createQueryBuilder(e,r).setFindOptions({...t,take:1}).getOne()}async findOneBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t,take:1}).getOne()}async findOneById(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({take:1}).whereInIds(i.ensureEntityIdMap(t)).getOne()}async findOneOrFail(e,t){return this.findOne(e,t).then(i=>i===null?Promise.reject(new mg(e,t)):Promise.resolve(i))}async findOneByOrFail(e,t){return this.findOneBy(e,t).then(i=>i===null?Promise.reject(new mg(e,t)):Promise.resolve(i))}async clear(e){const t=this.connection.getMetadata(e),i=this.queryRunner||this.connection.createQueryRunner();try{return await i.clearTable(t.tablePath)}finally{this.queryRunner||await i.release()}}async increment(e,t,i,r){const s=this.connection.getMetadata(e),o=s.findColumnWithPropertyPath(i);if(!o)throw new B("Column ".concat(i," was not found in ").concat(s.targetName," entity."));if(isNaN(Number(r)))throw new B('Value "'.concat(r,'" is not a number.'));const a=i.split(".").reduceRight((l,c)=>({[c]:l}),()=>this.connection.driver.escape(o.databaseName)+" + "+r);return this.createQueryBuilder(e,"entity").update(e).set(a).where(t).execute()}async decrement(e,t,i,r){const s=this.connection.getMetadata(e),o=s.findColumnWithPropertyPath(i);if(!o)throw new B("Column ".concat(i," was not found in ").concat(s.targetName," entity."));if(isNaN(Number(r)))throw new B('Value "'.concat(r,'" is not a number.'));const a=i.split(".").reduceRight((l,c)=>({[c]:l}),()=>this.connection.driver.escape(o.databaseName)+" - "+r);return this.createQueryBuilder(e,"entity").update(e).set(a).where(t).execute()}getRepository(e){const t=this.repositories.get(e);if(t)return t;if(this.connection.driver.options.type==="mongodb"){const i=new w6(e,this,this.queryRunner);return this.repositories.set(e,i),i}else{const i=new sA(e,this,this.queryRunner);return this.repositories.set(e,i),i}}getTreeRepository(e){if(this.connection.driver.treeSupport===!1)throw new YF(this.connection.driver);const t=this.treeRepositories.find(r=>r.target===e);if(t)return t;const i=new N6(e,this,this.queryRunner);return this.treeRepositories.push(i),i}getMongoRepository(e){return this.connection.getMongoRepository(e)}withRepository(e){const t=e.constructor,{target:i,manager:r,queryRunner:s,...o}=e;return Object.assign(new t(e.target,this),{...o})}getCustomRepository(e){const t=$i().entityRepositories.find(s=>s.target===(typeof e=="function"?e:e.constructor));if(!t)throw new eA(e);const i=t.entity?this.connection.getMetadata(t.entity):void 0,r=new t.target(this,i);if(r instanceof M6)r.manager||(r.manager=this);else{if(!i)throw new t6(e);r.manager=this,r.metadata=i}return r}async release(){if(!this.queryRunner)throw new d6;return this.queryRunner.release()}}class i4 extends cA{constructor(e,t){super(e,t),this["@instanceof"]=Symbol.for("SqljsEntityManager"),this.driver=e.driver}async loadDatabase(e){await this.driver.load(e)}async saveDatabase(e){await this.driver.save(e)}exportDatabase(){return this.driver.export()}}class r4{create(e,t){return e.driver.options.type==="mongodb"?new v6(e):e.driver.options.type==="sqljs"?new i4(e,t):new cA(e,t)}}class Rr{constructor(e){this["@instanceof"]=Symbol.for("View"),this.indices=[],e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,this.expression=e.expression,this.materialized=!!e.materialized)}clone(){return new Rr({database:this.database,schema:this.schema,name:this.name,expression:this.expression,materialized:this.materialized})}addIndex(e){this.indices.push(e)}removeIndex(e){const t=this.indices.find(i=>i.name===e.name);t&&this.indices.splice(this.indices.indexOf(t),1)}static create(e,t){const i={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,e.schema,e.database),expression:e.expression,materialized:e.tableMetadataArgs.materialized};return new Rr(i)}}class aE{static viewMetadataCmp(e,t){return!e||!t?0:e.dependsOn&&(e.dependsOn.has(t.target)||e.dependsOn.has(t.name))?1:t.dependsOn&&(t.dependsOn.has(e.target)||t.dependsOn.has(e.name))?-1:0}}class ap{constructor(e){this.connection=e,this["@instanceof"]=Symbol.for("RdbmsSchemaBuilder")}async build(){this.queryRunner=this.connection.createQueryRunner(),this.currentDatabase=this.connection.driver.database,this.currentSchema=this.connection.driver.schema;const e=this.connection.driver.options.type!=="cockroachdb"&&this.connection.driver.options.type!=="spanner"&&this.connection.options.migrationsTransactionMode!=="none";await this.queryRunner.beforeMigration(),e&&await this.queryRunner.startTransaction();try{await this.createMetadataTableIfNecessary(this.queryRunner);const t=this.entityToSyncMetadatas.map(r=>this.getTablePath(r)),i=this.viewEntityToSyncMetadatas.map(r=>this.getTablePath(r));await this.queryRunner.getTables(t),await this.queryRunner.getViews(i),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),e&&await this.queryRunner.commitTransaction()}catch(t){try{e&&await this.queryRunner.rollbackTransaction()}catch(i){}throw t}finally{await this.queryRunner.afterMigration(),await this.queryRunner.release()}}async createMetadataTableIfNecessary(e){(this.viewEntityToSyncMetadatas.length>0||this.hasGeneratedColumns())&&await this.createTypeormMetadataTable(e)}async log(){this.queryRunner=this.connection.createQueryRunner();try{const e=this.entityToSyncMetadatas.map(i=>this.getTablePath(i)),t=this.viewEntityToSyncMetadatas.map(i=>this.getTablePath(i));return await this.queryRunner.getTables(e),await this.queryRunner.getViews(t),this.queryRunner.enableSqlMemory(),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),this.queryRunner.getMemorySql()}finally{this.queryRunner.disableSqlMemory(),await this.queryRunner.release()}}get entityToSyncMetadatas(){return this.connection.entityMetadatas.filter(e=>e.synchronize&&e.tableType!=="entity-child"&&e.tableType!=="view")}get viewEntityToSyncMetadatas(){return this.connection.entityMetadatas.filter(e=>e.tableType==="view"&&e.synchronize).sort(aE.viewMetadataCmp)}hasGeneratedColumns(){return this.connection.entityMetadatas.some(e=>e.columns.some(t=>t.generatedType))}async executeSchemaSyncOperationsInProperOrder(){await this.dropOldViews(),await this.dropOldForeignKeys(),await this.dropOldIndices(),await this.dropOldChecks(),await this.dropOldExclusions(),await this.dropCompositeUniqueConstraints(),await this.renameColumns(),await this.createNewTables(),await this.dropRemovedColumns(),await this.addNewColumns(),await this.updatePrimaryKeys(),await this.updateExistColumns(),await this.createNewIndices(),await this.createNewChecks(),await this.createNewExclusions(),await this.createCompositeUniqueConstraints(),await this.createForeignKeys(),await this.createViews(),await this.createNewViewIndices()}getTablePath(e){const t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema||this.currentSchema,t.database||this.currentDatabase)}async dropOldForeignKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.foreignKeys.filter(r=>{const s=e.foreignKeys.find(o=>r.name===o.name&&this.getTablePath(r)===this.getTablePath(o.referencedEntityMetadata));return!s||s.onDelete&&s.onDelete!==r.onDelete||s.onUpdate&&s.onUpdate!==r.onUpdate});i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old foreign keys of ".concat(t.name,": ").concat(i.map(r=>r.name).join(", "))),await this.queryRunner.dropForeignKeys(t,i))}}async renameTables(){}async renameColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===this.getTablePath(e));if(!t||e.columns.length!==t.columns.length)continue;const i=e.columns.filter(o=>!o.isVirtualProperty).filter(o=>!t.columns.find(a=>a.name===o.databaseName&&a.type===this.connection.driver.normalizeType(o)&&a.isNullable===o.isNullable&&a.isUnique===this.connection.driver.normalizeIsUnique(o)));if(i.length===0||i.length>1)continue;const r=t.columns.filter(o=>!e.columns.find(a=>!a.isVirtualProperty&&a.databaseName===o.name&&this.connection.driver.normalizeType(a)===o.type&&a.isNullable===o.isNullable&&this.connection.driver.normalizeIsUnique(a)===o.isUnique));if(r.length===0||r.length>1)continue;const s=r[0].clone();s.name=i[0].databaseName,this.connection.logger.logSchemaBuild('renaming column "'.concat(r[0].name,'" in "').concat(t.name,'" to "').concat(s.name,'"')),await this.queryRunner.renameColumn(t,r[0],s)}}async dropOldIndices(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.indices.filter(r=>{const s=e.indices.find(o=>o.name===r.name);return s?s.synchronize===!1?!1:s.isUnique!==r.isUnique||s.isSpatial!==r.isSpatial||this.connection.driver.isFullTextColumnTypeSupported()&&s.isFulltext!==r.isFulltext||s.columns.length!==r.columnNames.length?!0:!s.columns.every(o=>r.columnNames.indexOf(o.databaseName)!==-1):!0}).map(async r=>{this.connection.logger.logSchemaBuild('dropping an index: "'.concat(r.name,'" from table ').concat(t.name)),await this.queryRunner.dropIndex(t,r)});await Promise.all(i)}if(this.connection.options.type==="postgres"){const e=this.queryRunner;for(const t of this.viewEntityToSyncMetadatas){const i=this.queryRunner.loadedViews.find(s=>this.getTablePath(s)===this.getTablePath(t));if(!i)continue;const r=i.indices.filter(s=>{const o=t.indices.find(a=>a.name===s.name);return o?o.synchronize===!1?!1:o.isUnique!==s.isUnique||o.isSpatial!==s.isSpatial||this.connection.driver.isFullTextColumnTypeSupported()&&o.isFulltext!==s.isFulltext||o.columns.length!==s.columnNames.length?!0:!o.columns.every(a=>s.columnNames.indexOf(a.databaseName)!==-1):!0}).map(async s=>{this.connection.logger.logSchemaBuild('dropping an index: "'.concat(s.name,'" from view ').concat(i.name)),await e.dropViewIndex(i,s)});await Promise.all(r)}}}async dropOldChecks(){if(!(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"))for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.checks.filter(r=>!e.checks.find(s=>s.name===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old check constraint: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' from table "').concat(t.name,'"')),await this.queryRunner.dropCheckConstraints(t,i))}}async dropCompositeUniqueConstraints(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.uniques.filter(r=>r.columnNames.length>1&&!e.uniques.find(s=>s.name===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old unique constraint: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' from table "').concat(t.name,'"')),await this.queryRunner.dropUniqueConstraints(t,i))}}async dropOldExclusions(){if(this.connection.driver.options.type==="postgres")for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.exclusions.filter(r=>!e.exclusions.find(s=>s.name===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old exclusion constraint: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' from table "').concat(t.name,'"')),await this.queryRunner.dropExclusionConstraints(t,i))}}async createNewTables(){for(const e of this.entityToSyncMetadatas){if(this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e)))continue;this.connection.logger.logSchemaBuild("creating a new table: ".concat(this.getTablePath(e)));const i=gt.create(e,this.connection.driver);await this.queryRunner.createTable(i,!1,!1),this.queryRunner.loadedTables.push(i)}}async createViews(){for(const e of this.viewEntityToSyncMetadatas){if(this.queryRunner.loadedViews.find(r=>{const s=typeof r.expression=="string"?r.expression.trim():r.expression(this.connection).getQuery(),o=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.getTablePath(r)===this.getTablePath(e)&&s===o}))continue;this.connection.logger.logSchemaBuild("creating a new view: ".concat(this.getTablePath(e)));const i=Rr.create(e,this.connection.driver);await this.queryRunner.createView(i,!0),this.queryRunner.loadedViews.push(i)}}async dropOldViews(){const e=[],t=this.viewEntityToSyncMetadatas,i=new Map;for(const o of this.queryRunner.loadedViews){const a=t.find(l=>this.getTablePath(o)===this.getTablePath(l));a&&i.set(o,a)}for(const o of this.queryRunner.loadedViews){const a=i.get(o);if(!a)continue;const l=typeof o.expression=="string"?o.expression.trim():o.expression(this.connection).getQuery(),c=typeof a.expression=="string"?a.expression.trim():a.expression(this.connection).getQuery();l!==c&&(this.connection.logger.logSchemaBuild("dropping an old view: ".concat(o.name)),e.push(o))}const r=o=>{const a=i.get(o);let l=[o];if(!a)return l;for(const[c,u]of i.entries())c!==o&&u.dependsOn&&(u.dependsOn.has(a.target)||u.dependsOn.has(a.name))&&(l=l.concat(r(c)));return l},s=new Set(e.map(o=>r(o)).reduce((o,a)=>o.concat(a),[]).sort((o,a)=>aE.viewMetadataCmp(i.get(o),i.get(a))).reverse());for(const o of s)await this.queryRunner.dropView(o);this.queryRunner.loadedViews=this.queryRunner.loadedViews.filter(o=>!s.has(o))}async dropRemovedColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.columns.filter(r=>!e.columns.find(s=>s.isVirtualProperty||s.databaseName===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("columns dropped in ".concat(t.name,": ")+i.map(r=>r.name).join(", ")),await this.queryRunner.dropColumns(t,i))}}async addNewColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===this.getTablePath(e));if(!t)continue;const i=e.columns.filter(o=>!o.isVirtualProperty&&!t.columns.find(a=>a.name===o.databaseName));if(i.length===0)continue;const s=this.metadataColumnsToTableColumnOptions(i).map(o=>new Rn(o));s.length!==0&&(this.connection.logger.logSchemaBuild("new columns added: "+i.map(o=>o.databaseName).join(", ")),await this.queryRunner.addColumns(t,s))}}async updatePrimaryKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;const i=e.columns.filter(s=>s.isPrimary);if(t.columns.filter(s=>s.isPrimary).length!==i.length&&i.length>1){const s=i.map(o=>new Rn(Yu.createTableColumnOptions(o,this.connection.driver)));await this.queryRunner.updatePrimaryKeys(t,s)}}}async updateExistColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;const i=this.connection.driver.findChangedColumns(t.columns,e.columns);if(i.length===0)continue;for(const s of i)await this.dropColumnReferencedForeignKeys(this.getTablePath(e),s.databaseName);for(const s of i)await this.dropColumnCompositeIndices(this.getTablePath(e),s.databaseName);if(!(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="spanner"))for(const s of i)await this.dropColumnCompositeUniques(this.getTablePath(e),s.databaseName);const r=i.map(s=>{const o=t.columns.find(c=>c.name===s.databaseName),a=Yu.createTableColumnOptions(s,this.connection.driver),l=new Rn(a);return{oldColumn:o,newColumn:l}});r.length!==0&&(this.connection.logger.logSchemaBuild('columns changed in "'.concat(t.name,'". updating: ')+i.map(s=>s.databaseName).join(", ")),await this.queryRunner.changeColumns(t,r))}}async createNewIndices(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.indices.filter(r=>!t.indices.find(s=>s.name===r.name)&&r.synchronize===!0).map(r=>Nt.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new indices ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createIndices(t,i))}}async createNewViewIndices(){if(this.connection.options.type!=="postgres"||!me.isPostgresFamily(this.connection.driver))return;const e=this.queryRunner;for(const t of this.viewEntityToSyncMetadatas){const i=this.queryRunner.loadedViews.find(s=>{const o=typeof s.expression=="string"?s.expression.trim():s.expression(this.connection).getQuery(),a=typeof t.expression=="string"?t.expression.trim():t.expression(this.connection).getQuery();return this.getTablePath(s)===this.getTablePath(t)&&o===a});if(!i||!i.materialized)continue;const r=t.indices.filter(s=>!i.indices.find(o=>o.name===s.name)&&s.synchronize===!0).map(s=>Nt.create(s));r.length!==0&&(this.connection.logger.logSchemaBuild("adding new indices ".concat(r.map(s=>'"'.concat(s.name,'"')).join(", "),' in view "').concat(i.name,'"')),await e.createViewIndices(i,r))}}async createNewChecks(){if(!(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"))for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.checks.filter(r=>!t.checks.find(s=>s.name===r.name)).map(r=>qi.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new check constraints: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createCheckConstraints(t,i))}}async createCompositeUniqueConstraints(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.uniques.filter(r=>r.columns.length>1&&!t.uniques.find(s=>s.name===r.name)).map(r=>hn.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new unique constraints: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createUniqueConstraints(t,i))}}async createNewExclusions(){if(this.connection.driver.options.type==="postgres")for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.exclusions.filter(r=>!t.exclusions.find(s=>s.name===r.name)).map(r=>to.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new exclusion constraints: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createExclusionConstraints(t,i))}}async createForeignKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;const i=e.foreignKeys.filter(s=>!t.foreignKeys.find(o=>o.name===s.name&&this.getTablePath(o)===this.getTablePath(s.referencedEntityMetadata)));if(i.length===0)continue;const r=i.map(s=>pi.create(s,this.connection.driver));this.connection.logger.logSchemaBuild("creating a foreign keys: ".concat(i.map(s=>s.name).join(", "),' on table "').concat(t.name,'"')),await this.queryRunner.createForeignKeys(t,r)}}async dropColumnReferencedForeignKeys(e,t){const i=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===e);if(!i)return;const r=[],s=i.foreignKeys.find(o=>o.columnNames.indexOf(t)!==-1);if(s){const o=i.clone();o.foreignKeys=[s],r.push(o),i.removeForeignKey(s)}for(const o of this.queryRunner.loadedTables){const a=o.foreignKeys.filter(l=>this.getTablePath(l)===e&&l.referencedColumnNames.indexOf(t)!==-1);if(a.length>0){const l=o.clone();l.foreignKeys=a,r.push(l),a.forEach(c=>o.removeForeignKey(c))}}if(r.length>0)for(const o of r)this.connection.logger.logSchemaBuild("dropping related foreign keys of ".concat(o.name,": ").concat(o.foreignKeys.map(a=>a.name).join(", "))),await this.queryRunner.dropForeignKeys(o,o.foreignKeys)}async dropColumnCompositeIndices(e,t){const i=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===e);if(!i)return;const r=i.indices.filter(s=>s.columnNames.length>1&&s.columnNames.indexOf(t)!==-1);r.length!==0&&(this.connection.logger.logSchemaBuild('dropping related indices of "'.concat(e,'"."').concat(t,'": ').concat(r.map(s=>s.name).join(", "))),await this.queryRunner.dropIndices(i,r))}async dropColumnCompositeUniques(e,t){const i=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===e);if(!i)return;const r=i.uniques.filter(s=>s.columnNames.length>1&&s.columnNames.indexOf(t)!==-1);r.length!==0&&(this.connection.logger.logSchemaBuild('dropping related unique constraints of "'.concat(e,'"."').concat(t,'": ').concat(r.map(s=>s.name).join(", "))),await this.queryRunner.dropUniqueConstraints(i,r))}metadataColumnsToTableColumnOptions(e){return e.map(t=>Yu.createTableColumnOptions(t,this.connection.driver))}async createTypeormMetadataTable(e){const t=this.currentSchema,i=this.currentDatabase,r=this.connection.driver.buildTableName(this.connection.metadataTableName,t,i),s=this.connection.driver.options.type==="spanner";await e.createTable(new gt({database:i,schema:t,name:r,columns:[{name:"type",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataType}),isNullable:!1,isPrimary:s},{name:"database",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataDatabase}),isNullable:!0,isPrimary:s},{name:"schema",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataSchema}),isNullable:!0,isPrimary:s},{name:"table",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataTable}),isNullable:!0,isPrimary:s},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataName}),isNullable:!0,isPrimary:s},{name:"value",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataValue}),isNullable:!0,isPrimary:s}]}),!0)}}class Tc{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["int","integer","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8","integer","character","varchar","varying character","nchar","native character","nvarchar","text","clob","text","blob","real","double","double precision","float","real","numeric","decimal","boolean","date","time","datetime","json"],this.supportedUpsertTypes=["on-conflict-do-update"],this.withLengthColumnTypes=["character","varchar","varying character","nchar","native character","nvarchar","text","blob","clob"],this.spatialTypes=[],this.withPrecisionColumnTypes=["real","double","double precision","float","real","numeric","decimal","date","time","datetime"],this.withScaleColumnTypes=["real","double","double precision","float","real","numeric","decimal"],this.mappedDataTypes={createDate:"datetime",createDateDefault:"datetime('now')",updateDate:"datetime",updateDateDefault:"datetime('now')",deleteDate:"datetime",deleteDateNullable:!0,version:"integer",treeLevel:"integer",migrationId:"integer",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.cteCapabilities={enabled:!0,requiresRecursiveHint:!0},this.attachedDatabases={},this.connection=e,this.options=e.options,this.database=me.buildDriverOptions(this.options).database}async connect(){this.databaseConnection=await this.createDatabaseConnection()}afterConnect(){return Promise.resolve()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close(i=>i?t(i):e())})}hasAttachedDatabases(){return!!Object.keys(this.attachedDatabases).length}getAttachedDatabaseHandleByRelativePath(e){var t,i;return(i=(t=this.attachedDatabases)===null||t===void 0?void 0:t[e])===null||i===void 0?void 0:i.attachHandle}getAttachedDatabasePathRelativeByHandle(e){var t;return(t=Object.values(this.attachedDatabases).find(({attachHandle:i})=>e===i))===null||t===void 0?void 0:t.attachFilepathRelative}createSchemaBuilder(){return new ap(this.connection)}preparePersistentValue(e,t){return t.transformer&&(e=zt.transformTo(t.transformer,e)),e==null?e:t.type===Boolean||t.type==="boolean"?e===!0?1:0:t.type==="date"?Re.mixedDateToDateString(e):t.type==="time"?Re.mixedDateToTimeString(e):t.type==="datetime"||t.type===Date?Re.mixedDateToUtcDatetimeString(e):t.type==="json"||t.type==="simple-json"?Re.simpleJsonToString(e):t.type==="simple-array"?Re.simpleArrayToString(e):t.type==="simple-enum"?Re.simpleEnumToString(e):e}prepareHydratedValue(e,t){return e==null?t.transformer?zt.transformFrom(t.transformer,e):e:(t.type===Boolean||t.type==="boolean"?e=!!e:t.type==="datetime"||t.type===Date?(e&&typeof e=="string"&&(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d/.test(e)&&(e=e.replace(" ","T")),/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d(:\d\d(\.\d\d\d)?)?$/.test(e)&&(e+="Z")),e=Re.normalizeHydratedDate(e)):t.type==="date"?e=Re.mixedDateToDateString(e):t.type==="time"?e=Re.mixedTimeToString(e):t.type==="json"||t.type==="simple-json"?e=Re.stringToSimpleJson(e):t.type==="simple-array"?e=Re.stringToSimpleArray(e):t.type==="simple-enum"?e=Re.stringToSimpleEnum(e,t):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=zt.transformFrom(t.transformer,e)),e)}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>typeof i[s]=="boolean"?i[s]===!0?1:0:i[s]instanceof Date?Re.mixedDateToUtcDatetimeString(i[s]):i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):typeof l=="function"?l():typeof l=="number"?String(l):typeof l=="boolean"?(r.push(+l),this.createParameter(a,r.length-1)):l instanceof Date?(r.push(Re.mixedDateToUtcDatetimeString(l)),this.createParameter(a,r.length-1)):(r.push(l),this.createParameter(a,r.length-1))}),[e,r])}escape(e){return'"'+e+'"'}buildTableName(e,t,i){return e}parseTableName(e){var t;const i=this.database,r=void 0;if(W.isTable(e)||W.isView(e)){const o=this.parseTableName(e.schema?'"'.concat(e.schema,'"."').concat(e.name,'"'):e.name);return{database:e.database||o.database||i,schema:e.schema||o.schema||r,tableName:o.tableName}}if(W.isTableForeignKey(e)){const o=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||o.database||i,schema:e.referencedSchema||o.schema||r,tableName:o.tableName}}if(W.isEntityMetadata(e))return{database:e.database||i,schema:e.schema||r,tableName:e.tableName};const s=e.split(".");return s.length===3?{database:s[0]||i,schema:s[1]||r,tableName:s[2]}:s.length===2?{database:(t=this.getAttachedDatabasePathRelativeByHandle(s[0]))!==null&&t!==void 0?t:i,schema:s[0],tableName:s[1]}:{database:i,schema:r,tableName:e}}normalizeType(e){return e.type===Number||e.type==="int"?"integer":e.type===String?"varchar":e.type===Date?"datetime":e.type===Boolean?"boolean":e.type==="uuid"?"varchar":e.type==="simple-array"||e.type==="simple-json"?"text":e.type==="simple-enum"?"varchar":e.type||""}normalizeDefault(e){const t=e.default;if(typeof t=="number")return""+t;if(typeof t=="boolean")return t?"1":"0";if(typeof t=="function")return t();if(typeof t=="string")return"'".concat(t,"'");if(t!=null)return"".concat(t)}normalizeIsUnique(e){return e.entityMetadata.uniques.some(t=>t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){return e.length?e.length.toString():""}createFullType(e){let t=e.type;return e.enum?"varchar":(e.length?t+="("+e.length+")":e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="("+e.precision+","+e.scale+")":e.precision!==null&&e.precision!==void 0&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t)}obtainMasterConnection(){return Promise.resolve()}obtainSlaveConnection(){return Promise.resolve()}createGeneratedMap(e,t,i,r){const s=e.generatedColumns.reduce((o,a)=>{let l;return a.generationStrategy==="increment"&&t&&(l=t-r+i+1),l?Ee.mergeDeep(o,a.createValueMap(l)):o},{});return Object.keys(s).length>0?s:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);return r?r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==i.length||r.precision!==i.precision||r.scale!==i.scale||this.normalizeDefault(i)!==r.default||r.isPrimary!==i.isPrimary||r.isNullable!==i.isNullable||r.generatedType!==i.generatedType||r.asExpression!==i.asExpression||r.isUnique!==this.normalizeIsUnique(i)||r.enum&&i.enum&&!Ee.isArraysEqual(r.enum,i.enum.map(o=>o+""))||i.generationStrategy!=="uuid"&&r.isGenerated!==i.isGenerated:!1})}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"?"}createDatabaseConnection(){throw new B("Do not use AbstractSqlite directly, it has to be used with one of the sqlite drivers")}loadDependencies(){}}class O{constructor(e,t){this.query=e,this.parameters=t,this["@instanceof"]=Symbol.for("Query")}}class xu{constructor(){this.upQueries=[],this.downQueries=[]}}class lp{constructor(){this.isReleased=!1,this.isTransactionActive=!1,this.data={},this.loadedTables=[],this.loadedViews=[],this.sqlMemoryMode=!1,this.sqlInMemory=new xu,this.transactionDepth=0,this.cachedTablePaths={}}async beforeMigration(){}async afterMigration(){}async getTable(e){return this.loadedTables=await this.loadTables([e]),this.loadedTables.length>0?this.loadedTables[0]:void 0}async getTables(e){return e?(this.loadedTables=await this.loadTables(e),this.loadedTables):await this.loadTables(e)}async getView(e){return this.loadedViews=await this.loadViews([e]),this.loadedViews.length>0?this.loadedViews[0]:void 0}async getViews(e){return this.loadedViews=await this.loadViews(e),this.loadedViews}enableSqlMemory(){this.sqlInMemory=new xu,this.sqlMemoryMode=!0}disableSqlMemory(){this.sqlInMemory=new xu,this.sqlMemoryMode=!1}clearSqlMemory(){this.sqlInMemory=new xu}getMemorySql(){return this.sqlInMemory}async executeMemoryUpSql(){for(const{query:e,parameters:t}of this.sqlInMemory.upQueries)await this.query(e,t)}async executeMemoryDownSql(){for(const{query:e,parameters:t}of this.sqlInMemory.downQueries.reverse())await this.query(e,t)}getReplicationMode(){return this.mode}async getCachedView(e){const t=this.loadedViews.find(r=>r.name===e);if(t)return t;const i=await this.loadViews([e]);if(i.length>0)return this.loadedViews.push(i[0]),i[0];throw new B('View "'.concat(e,'" does not exist.'))}async getCachedTable(e){if(e in this.cachedTablePaths){const i=this.cachedTablePaths[e],r=this.loadedTables.find(s=>this.getTablePath(s)===i);if(r)return r}const t=await this.loadTables([e]);if(t.length>0){const i=this.getTablePath(t[0]),r=this.loadedTables.find(s=>this.getTablePath(s)===i);return r||(this.cachedTablePaths[e]=this.getTablePath(t[0]),this.loadedTables.push(t[0]),t[0])}else throw new B('Table "'.concat(e,'" does not exist.'))}replaceCachedTable(e,t){const i=this.getTablePath(e),r=this.loadedTables.find(s=>this.getTablePath(s)===i);for(const[s,o]of Object.entries(this.cachedTablePaths))o===i&&(this.cachedTablePaths[s]=this.getTablePath(t));r&&(r.database=t.database,r.schema=t.schema,r.name=t.name,r.columns=t.columns,r.indices=t.indices,r.foreignKeys=t.foreignKeys,r.uniques=t.uniques,r.checks=t.checks,r.justCreated=t.justCreated,r.engine=t.engine)}getTablePath(e){const t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema,t.database)}getTypeormMetadataTableName(){const e=this.connection.driver.options;return this.connection.driver.buildTableName(this.connection.metadataTableName,e.schema,e.database)}selectTypeormMetadataSql({database:e,schema:t,table:i,type:r,name:s}){const o=this.connection.createQueryBuilder(),a=o.select().from(this.getTypeormMetadataTableName(),"t").where("".concat(o.escape("type")," = :type"),{type:r}).andWhere("".concat(o.escape("name")," = :name"),{name:s});e&&a.andWhere("".concat(o.escape("database")," = :database"),{database:e}),t&&a.andWhere("".concat(o.escape("schema")," = :schema"),{schema:t}),i&&a.andWhere("".concat(o.escape("table")," = :table"),{table:i});const[l,c]=a.getQueryAndParameters();return new O(l,c)}insertTypeormMetadataSql({database:e,schema:t,table:i,type:r,name:s,value:o}){const[a,l]=this.connection.createQueryBuilder().insert().into(this.getTypeormMetadataTableName()).values({database:e,schema:t,table:i,type:r,name:s,value:o}).getQueryAndParameters();return new O(a,l)}deleteTypeormMetadataSql({database:e,schema:t,table:i,type:r,name:s}){const o=this.connection.createQueryBuilder(),a=o.delete().from(this.getTypeormMetadataTableName()).where("".concat(o.escape("type")," = :type"),{type:r}).andWhere("".concat(o.escape("name")," = :name"),{name:s});e&&a.andWhere("".concat(o.escape("database")," = :database"),{database:e}),t&&a.andWhere("".concat(o.escape("schema")," = :schema"),{schema:t}),i&&a.andWhere("".concat(o.escape("table")," = :table"),{table:i});const[l,c]=a.getQueryAndParameters();return new O(l,c)}isColumnChanged(e,t,i,r,s=!0){return e.charset!==t.charset||e.collation!==t.collation||e.precision!==t.precision||e.scale!==t.scale||e.width!==t.width||e.zerofill!==t.zerofill||e.unsigned!==t.unsigned||e.asExpression!==t.asExpression||i&&e.default!==t.default||e.onUpdate!==t.onUpdate||e.isNullable!==t.isNullable||r&&e.comment!==t.comment||s&&this.isEnumChanged(e,t)}isEnumChanged(e,t){return!Ee.isArraysEqual(e.enum||[],t.enum||[])}isDefaultColumnLength(e,t,i){if(this.connection.hasMetadata(e.name)){const s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&this.connection.driver.getColumnLength(s))return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].length?this.connection.driver.dataTypeDefaults[t.type].length.toString()===i.toString():!1}isDefaultColumnPrecision(e,t,i){if(this.connection.hasMetadata(e.name)){const s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&s.precision!==null&&s.precision!==void 0)return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].precision!==null&&this.connection.driver.dataTypeDefaults[t.type].precision!==void 0?this.connection.driver.dataTypeDefaults[t.type].precision===i:!1}isDefaultColumnScale(e,t,i){if(this.connection.hasMetadata(e.name)){const s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&s.scale!==null&&s.scale!==void 0)return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].scale!==null&&this.connection.driver.dataTypeDefaults[t.type].scale!==void 0?this.connection.driver.dataTypeDefaults[t.type].scale===i:!1}async executeQueries(e,t){if(W.isQuery(e)&&(e=[e]),W.isQuery(t)&&(t=[t]),this.sqlInMemory.upQueries.push(...e),this.sqlInMemory.downQueries.push(...t),this.sqlMemoryMode===!0)return Promise.resolve();for(const{query:i,parameters:r}of e)await this.query(i,r)}generateIndexName(e,t){return this.connection.namingStrategy.indexName(e,t.columnNames,t.where)}}var ke;(function(n){n.VIEW="VIEW",n.MATERIALIZED_VIEW="MATERIALIZED_VIEW",n.GENERATED_COLUMN="GENERATED_COLUMN"})(ke||(ke={}));class Ca extends lp{constructor(){super(),this.transactionPromise=null}connect(){return Promise.resolve(this.driver.databaseConnection)}release(){return this.loadedTables=[],this.clearSqlMemory(),Promise.resolve()}async startTransaction(e){if(this.driver.transactionSupport==="none")throw new B("Transactions aren't supported by ".concat(this.connection.driver.options.type,"."));if(this.isTransactionActive&&this.driver.transactionSupport==="simple")throw new JF;if(e&&e!=="READ UNCOMMITTED"&&e!=="SERIALIZABLE")throw new B("SQLite only supports SERIALIZABLE and READ UNCOMMITTED isolation");this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?(e&&(e==="READ UNCOMMITTED"?await this.query("PRAGMA read_uncommitted = true"):await this.query("PRAGMA read_uncommitted = false")),await this.query("BEGIN TRANSACTION")):await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new bi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("COMMIT"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new bi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("ROLLBACK"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}stream(e,t,i,r){throw new B("Stream is not supported by sqlite driver.")}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){return Promise.resolve(!1)}async getCurrentDatabase(){return Promise.resolve(void 0)}async hasSchema(e){throw new B("This driver does not support table schemas")}async getCurrentSchema(){return Promise.resolve(void 0)}async hasTable(e){const t=W.isTable(e)?e.name:e,i='SELECT * FROM "sqlite_master" WHERE "type" = \'table\' AND "name" = \''.concat(t,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=W.isTable(e)?e.name:e,r="PRAGMA table_xinfo(".concat(this.escapePath(i),")");return!!(await this.query(r)).find(o=>o.name===t)}async createDatabase(e,t){return Promise.resolve()}async dropDatabase(e,t){return Promise.resolve()}async createSchema(e,t){return Promise.resolve()}async dropSchema(e,t){return Promise.resolve()}async createTable(e,t=!1,i=!0,r=!0){const s=[],o=[];if(t&&await this.hasTable(e))return Promise.resolve();s.push(this.createTableSql(e,i)),o.push(this.dropTableSql(e)),r&&e.indices.forEach(l=>{l.name||(l.name=this.connection.namingStrategy.indexName(e,l.columnNames,l.where)),s.push(this.createIndexSql(e,l)),o.push(this.dropIndexSql(l))});const a=e.columns.filter(l=>l.generatedType&&l.asExpression);for(const l of a){const c=this.insertTypeormMetadataSql({table:e.name,type:ke.GENERATED_COLUMN,name:l.name,value:l.asExpression}),u=this.deleteTypeormMetadataSql({table:e.name,type:ke.GENERATED_COLUMN,name:l.name});s.push(c),o.push(u)}await this.executeQueries(s,o)}async dropTable(e,t,i=!0,r=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const s=i,o=W.isTable(e)?e:await this.getCachedTable(e),a=[],l=[];r&&o.indices.forEach(u=>{a.push(this.dropIndexSql(u)),l.push(this.createIndexSql(o,u))}),a.push(this.dropTableSql(o,t)),l.push(this.createTableSql(o,s));const c=o.columns.filter(u=>u.generatedType&&u.asExpression);for(const u of c){const d=this.deleteTypeormMetadataSql({table:o.name,type:ke.GENERATED_COLUMN,name:u.name}),h=this.insertTypeormMetadataSql({table:o.name,type:ke.GENERATED_COLUMN,name:u.name,value:u.asExpression});a.push(d),l.push(h)}await this.executeQueries(a,l)}async createView(e,t=!1){const i=[],r=[];i.push(this.createViewSql(e)),t&&i.push(this.insertViewDefinitionSql(e)),r.push(this.dropViewSql(e)),t&&r.push(this.deleteViewDefinitionSql(e)),await this.executeQueries(i,r)}async dropView(e){const t=W.isView(e)?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone();r.name=t;const s=new O("ALTER TABLE ".concat(this.escapePath(i.name)," RENAME TO ").concat(this.escapePath(t))),o=new O("ALTER TABLE ".concat(this.escapePath(t)," RENAME TO ").concat(this.escapePath(i.name)));await this.executeQueries(s,o),r.uniques.forEach(a=>{const l=this.connection.namingStrategy.uniqueConstraintName(i,a.columnNames);a.name===l&&(a.name=this.connection.namingStrategy.uniqueConstraintName(r,a.columnNames))}),r.foreignKeys.forEach(a=>{const l=this.connection.namingStrategy.foreignKeyName(i,a.columnNames,this.getTablePath(a),a.referencedColumnNames);a.name===l&&(a.name=this.connection.namingStrategy.foreignKeyName(r,a.columnNames,this.getTablePath(a),a.referencedColumnNames))}),r.indices.forEach(a=>{const l=this.connection.namingStrategy.indexName(i,a.columnNames,a.where);a.name===l&&(a.name=this.connection.namingStrategy.indexName(r,a.columnNames,a.where))}),i.name=r.name,await this.recreateTable(r,i)}async addColumn(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e);return this.addColumns(i,[t])}async addColumns(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addColumn(s)),await this.recreateTable(r,i)}async renameColumn(e,t,i){const r=W.isTable(e)?e:await this.getCachedTable(e),s=W.isTableColumn(t)?t:r.columns.find(a=>a.name===t);if(!s)throw new B('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;return W.isTableColumn(i)?o=i:(o=s.clone(),o.name=i),this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=W.isTable(e)?e:await this.getCachedTable(e),s=W.isTableColumn(t)?t:r.columns.find(o=>o.name===t);if(!s)throw new B('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));await this.changeColumns(r,[{oldColumn:s,newColumn:i}])}async changeColumns(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>{s.newColumn.name!==s.oldColumn.name&&(r.findColumnUniques(s.oldColumn).forEach(a=>{const l=this.connection.namingStrategy.uniqueConstraintName(i,a.columnNames);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===l&&(a.name=this.connection.namingStrategy.uniqueConstraintName(r,a.columnNames))}),r.findColumnForeignKeys(s.oldColumn).forEach(a=>{const l=this.connection.namingStrategy.foreignKeyName(i,a.columnNames,this.getTablePath(a),a.referencedColumnNames);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===l&&(a.name=this.connection.namingStrategy.foreignKeyName(r,a.columnNames,this.getTablePath(a),a.referencedColumnNames))}),r.findColumnIndices(s.oldColumn).forEach(a=>{const l=this.connection.namingStrategy.indexName(i,a.columnNames,a.where);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===l&&(a.name=this.connection.namingStrategy.indexName(r,a.columnNames,a.where))}));const o=r.columns.find(a=>a.name===s.oldColumn.name);o&&(r.columns[r.columns.indexOf(o)]=s.newColumn)}),await this.recreateTable(r,i)}async dropColumn(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableColumn(t)?t:i.findColumnByName(t);if(!r)throw new B('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));await this.dropColumns(i,[r])}async dropColumns(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>{const o=W.isTableColumn(s)?s:i.findColumnByName(s);if(!o)throw new Error('Column "'.concat(s,'" was not found in table "').concat(i.name,'"'));r.removeColumn(o),r.findColumnUniques(o).forEach(a=>r.removeUniqueConstraint(a)),r.findColumnIndices(o).forEach(a=>r.removeIndex(a)),r.findColumnForeignKeys(o).forEach(a=>r.removeForeignKey(a))}),await this.recreateTable(r,i)}async createPrimaryKey(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone();r.columns.forEach(s=>{t.find(o=>o===s.name)&&(s.isPrimary=!0)}),await this.recreateTable(r,i),i.columns.forEach(s=>{t.find(o=>o===s.name)&&(s.isPrimary=!0)})}async updatePrimaryKeys(e,t){await Promise.resolve()}async dropPrimaryKey(e){const t=W.isTable(e)?e:await this.getCachedTable(e),i=t.clone();i.primaryColumns.forEach(r=>{r.isPrimary=!1}),await this.recreateTable(i,t),t.primaryColumns.forEach(r=>{r.isPrimary=!1})}async createUniqueConstraint(e,t){await this.createUniqueConstraints(e,[t])}async createUniqueConstraints(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addUniqueConstraint(s)),await this.recreateTable(r,i)}async dropUniqueConstraint(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableUnique(t)?t:i.uniques.find(s=>s.name===t);if(!r)throw new B("Supplied unique constraint was not found in table ".concat(i.name));await this.dropUniqueConstraints(i,[r])}async dropUniqueConstraints(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.removeUniqueConstraint(s)),await this.recreateTable(r,i)}async createCheckConstraint(e,t){await this.createCheckConstraints(e,[t])}async createCheckConstraints(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addCheckConstraint(s)),await this.recreateTable(r,i)}async dropCheckConstraint(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableCheck(t)?t:i.checks.find(s=>s.name===t);if(!r)throw new B("Supplied check constraint was not found in table ".concat(i.name));await this.dropCheckConstraints(i,[r])}async dropCheckConstraints(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.removeCheckConstraint(s)),await this.recreateTable(r,i)}async createExclusionConstraint(e,t){throw new B("Sqlite does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new B("Sqlite does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new B("Sqlite does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new B("Sqlite does not support exclusion constraints.")}async createForeignKey(e,t){await this.createForeignKeys(e,[t])}async createForeignKeys(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addForeignKey(s)),await this.recreateTable(r,i)}async dropForeignKey(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableForeignKey(t)?t:i.foreignKeys.find(s=>s.name===t);if(!r)throw new B("Supplied foreign key was not found in table ".concat(i.name));await this.dropForeignKeys(e,[r])}async dropForeignKeys(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.removeForeignKey(s)),await this.recreateTable(r,i)}async createIndex(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(t);await this.executeQueries(r,s),i.addIndex(t)}async createIndices(e,t){const i=t.map(r=>this.createIndex(e,r));await Promise.all(i)}async dropIndex(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new B("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropIndices(e,t){const i=t.map(r=>this.dropIndex(e,r));await Promise.all(i)}async clearTable(e){await this.query("DELETE FROM ".concat(this.escapePath(e)))}async clearDatabase(e){let t;e&&this.driver.getAttachedDatabaseHandleByRelativePath(e)&&(t=this.driver.getAttachedDatabaseHandleByRelativePath(e)),await this.query("PRAGMA foreign_keys = OFF");const i=this.isTransactionActive;i||await this.startTransaction();try{const r=t?"SELECT 'DROP VIEW \"".concat(t,'"."\' || name || \'";\' as query FROM "').concat(t,'"."sqlite_master" WHERE "type" = \'view\''):"SELECT 'DROP VIEW \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'view'",s=await this.query(r);await Promise.all(s.map(l=>this.query(l.query)));const o=t?"SELECT 'DROP TABLE \"".concat(t,'"."\' || name || \'";\' as query FROM "').concat(t,'"."sqlite_master" WHERE "type" = \'table\' AND "name" != \'sqlite_sequence\''):"SELECT 'DROP TABLE \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'table' AND \"name\" != 'sqlite_sequence'",a=await this.query(o);await Promise.all(a.map(l=>this.query(l.query))),i||await this.commitTransaction()}catch(r){try{i||await this.rollbackTransaction()}catch(s){}throw r}finally{await this.query("PRAGMA foreign_keys = ON")}}async loadViews(e){if(!await this.hasTable(this.getTypeormMetadataTableName()))return[];e||(e=[]);const i=e.map(o=>"'"+o+"'").join(", ");let r='SELECT "t".* FROM "'.concat(this.getTypeormMetadataTableName(),'" "t" INNER JOIN "sqlite_master" s ON "s"."name" = "t"."name" AND "s"."type" = \'view\' WHERE "t"."type" = \'').concat(ke.VIEW,"'");return i.length>0&&(r+=' AND "t"."name" IN ('.concat(i,")")),(await this.query(r)).map(o=>{const a=new Rr;return a.name=o.name,a.expression=o.value,a})}async loadTableRecords(e,t){let i;const[r,s]=this.splitTablePath(e);return r&&this.driver.getAttachedDatabasePathRelativeByHandle(r)&&(i=this.driver.getAttachedDatabasePathRelativeByHandle(r)),this.query("SELECT ".concat(i?"'".concat(i,"'"):null," as database, ").concat(r?"'".concat(r,"'"):null," as schema, * FROM ").concat(r?'"'.concat(r,'".'):"").concat(this.escapePath("sqlite_master"),' WHERE "type" = \'').concat(t,"' AND \"").concat(t==="table"?"name":"tbl_name","\" IN ('").concat(s,"')"))}async loadPragmaRecords(e,t){const[,i]=this.splitTablePath(e);return this.query("PRAGMA ".concat(t,'("').concat(i,'")'))}async loadTables(e){if(e&&e.length===0)return[];let t=[],i;if(e){const r=e.filter(a=>a.split(".").length===1).map(a=>"'".concat(a,"'")),s=e.filter(a=>a.split(".").length>1),o=a=>{const l=[...s.map(c=>this.loadTableRecords(c,a))];return r.length&&l.push(this.query('SELECT * FROM "sqlite_master" WHERE "type" = \''.concat(a,"' AND \"").concat(a==="table"?"name":"tbl_name",'" IN (').concat(r,")"))),l};t=(await Promise.all(o("table"))).reduce((a,l)=>[...a,...l],[]).filter(Boolean),i=(await Promise.all(o("index"))).reduce((a,l)=>[...a,...l],[]).filter(Boolean)}else{const r='SELECT * FROM "sqlite_master" WHERE "type" = \'table\'';t.push(...await this.query(r));const s=t.map(({name:o})=>"'".concat(o,"'")).join(", ");i=await this.query('SELECT * FROM "sqlite_master" WHERE "type" = \'index\' AND "tbl_name" IN ('.concat(s,")"))}return t.length===0?[]:Promise.all(t.map(async r=>{const s=r.database&&this.driver.getAttachedDatabaseHandleByRelativePath(r.database)?"".concat(this.driver.getAttachedDatabaseHandleByRelativePath(r.database),".").concat(r.name):r.name,o=r.sql,a=o.includes("WITHOUT ROWID"),l=new gt({name:s,withoutRowid:a}),[c,u,d]=await Promise.all([this.loadPragmaRecords(s,"table_xinfo"),this.loadPragmaRecords(s,"index_list"),this.loadPragmaRecords(s,"foreign_key_list")]);let h;const p=r.sql;let g=p.toUpperCase().indexOf("AUTOINCREMENT");if(g!==-1){h=p.substr(0,g);const A=h.lastIndexOf(","),F=h.lastIndexOf("(");A!==-1?(h=h.substr(A),h=h.substr(0,h.lastIndexOf('"')),h=h.substr(h.indexOf('"')+1)):F!==-1&&(h=h.substr(F),h=h.substr(0,h.lastIndexOf('"')),h=h.substr(h.indexOf('"')+1))}l.columns=await Promise.all(c.map(async A=>{const F=new Rn;if(F.name=A.name,F.type=A.type.toLowerCase(),F.default=A.dflt_value!==null&&A.dflt_value!==void 0?A.dflt_value:void 0,F.isNullable=A.notnull===0,F.isPrimary=A.pk>0,F.comment="",F.isGenerated=h===A.name,F.isGenerated&&(F.generationStrategy="increment"),A.hidden===2||A.hidden===3){F.generatedType=A.hidden===2?"VIRTUAL":"STORED";const G=await this.selectTypeormMetadataSql({table:l.name,type:ke.GENERATED_COLUMN,name:F.name}),ne=await this.query(G.query,G.parameters);ne[0]&&ne[0].value?F.asExpression=ne[0].value:F.asExpression=""}if(F.type==="varchar"){const G=o.match(new RegExp('"('+F.name+")\" varchar CHECK\\s*\\(\\s*\"\\1\"\\s+IN\\s*\\(('[^']+'(?:\\s*,\\s*'[^']+')+)\\s*\\)\\s*\\)"));G&&(F.enum=G[2].substr(1,G[2].length-2).split("','"))}let D=F.type.indexOf("(");if(D!==-1){const G=F.type;let ne=G.substr(0,D);if(this.driver.withLengthColumnTypes.find(ue=>ue===ne)){let ue=parseInt(G.substring(D+1,G.length-1));ue&&(F.length=ue.toString(),F.type=ne)}if(this.driver.withPrecisionColumnTypes.find(ue=>ue===ne)){const ue=new RegExp("^".concat(ne,"\\((\\d+),?\\s?(\\d+)?\\)")),ae=G.match(ue);ae&&ae[1]&&(F.precision=+ae[1]),this.driver.withScaleColumnTypes.find(te=>te===ne)&&ae&&ae[2]&&(F.scale=+ae[2]),F.type=ne}}return F}));let m;const T=[],w=/CONSTRAINT "([^"]*)" FOREIGN KEY ?\((.*?)\) REFERENCES "([^"]*)"/g;for(;(m=w.exec(o))!==null;)T.push({name:m[1],columns:m[2].substr(1,m[2].length-2).split('", "'),referencedTableName:m[3]});const b=Ee.uniq(d,A=>A.id);l.foreignKeys=b.map(A=>{const F=d.filter(ue=>ue.id===A.id&&ue.table===A.table),D=F.map(ue=>ue.from),G=F.map(ue=>ue.to),ne=T.find(ue=>ue.referencedTableName===A.table&&ue.columns.every(ae=>D.indexOf(ae)!==-1));return new pi({name:ne==null?void 0:ne.name,columnNames:D,referencedTableName:A.table,referencedColumnNames:G,onDelete:A.on_delete,onUpdate:A.on_update})});let v;const N=[],M=/CONSTRAINT "([^"]*)" UNIQUE ?\((.*?)\)/g;for(;(v=M.exec(o))!==null;)N.push({name:v[1],columns:v[2].substr(1,v[2].length-2).split('", "')});const L=u.filter(A=>A.origin==="u").map(A=>A.name).filter((A,F,D)=>D.indexOf(A)===F).map(async A=>{const F=u.find(ue=>ue.name===A),G=(await this.query('PRAGMA index_info("'.concat(F.name,'")'))).sort((ue,ae)=>parseInt(ue.seqno)-parseInt(ae.seqno)).map(ue=>ue.name);if(G.length===1){const ue=l.columns.find(ae=>!!G.find(te=>te===ae.name));ue&&(ue.isUnique=!0)}const ne=N.find(ue=>ue.columns.every(ae=>G.indexOf(ae)!==-1));return new hn({name:ne?ne.name:this.connection.namingStrategy.uniqueConstraintName(l,G),columnNames:G})});l.uniques=await Promise.all(L);let I;const $=/CONSTRAINT "([^"]*)" CHECK ?(\(.*?\))([,]|[)]$)/g;for(;(I=$.exec(o))!==null;)l.checks.push(new qi({name:I[1],expression:I[2]}));const k=u.filter(A=>A.origin==="c").map(A=>A.name).filter((A,F,D)=>D.indexOf(A)===F).map(async A=>{const F=i.find(Z=>Z.name===A),D=/WHERE (.*)/.exec(F.sql),G=u.find(Z=>Z.name===A),ue=(await this.query('PRAGMA index_info("'.concat(G.name,'")'))).sort((Z,j)=>parseInt(Z.seqno)-parseInt(j.seqno)).map(Z=>Z.name),ae="".concat(r.database?"".concat(r.database,"."):"").concat(G.name),te=G.unique==="1"||G.unique===1;return new Nt({table:l,name:ae,columnNames:ue,isUnique:te,where:D?D[1]:void 0})}),H=await Promise.all(k);return l.indices=H.filter(A=>!!A),l}))}createTableSql(e,t,i){const r=e.columns.filter(p=>p.isPrimary),s=r.find(p=>p.isGenerated&&p.generationStrategy==="increment"),o=r.length>1;if(o&&s)throw new B("Sqlite does not support AUTOINCREMENT on composite primary key");const a=e.columns.map(p=>this.buildCreateColumnSql(p,o)).join(", "),[l]=this.splitTablePath(e.name);let c="CREATE TABLE ".concat(this.escapePath(e.name)," (").concat(a),[u,d]=this.splitTablePath(e.name);const h=i?"".concat(u?"".concat(u,"."):"").concat(d.replace(/^temporary_/,"")):e.name;if(e.columns.filter(p=>p.isUnique).forEach(p=>{e.uniques.some(m=>m.columnNames.length===1&&m.columnNames[0]===p.name)||e.uniques.push(new hn({name:this.connection.namingStrategy.uniqueConstraintName(e,[p.name]),columnNames:[p.name]}))}),e.uniques.length>0){const p=e.uniques.map(g=>{const m=g.name?g.name:this.connection.namingStrategy.uniqueConstraintName(h,g.columnNames),T=g.columnNames.map(w=>'"'.concat(w,'"')).join(", ");return'CONSTRAINT "'.concat(m,'" UNIQUE (').concat(T,")")}).join(", ");c+=", ".concat(p)}if(e.checks.length>0){const p=e.checks.map(g=>{const m=g.name?g.name:this.connection.namingStrategy.checkConstraintName(h,g.expression);return'CONSTRAINT "'.concat(m,'" CHECK (').concat(g.expression,")")}).join(", ");c+=", ".concat(p)}if(e.foreignKeys.length>0&&t){const p=e.foreignKeys.filter(g=>{const[m]=this.splitTablePath(g.referencedTableName);return m===l}).map(g=>{const[,m]=this.splitTablePath(g.referencedTableName),T=g.columnNames.map(v=>'"'.concat(v,'"')).join(", ");g.name||(g.name=this.connection.namingStrategy.foreignKeyName(h,g.columnNames,this.getTablePath(g),g.referencedColumnNames));const w=g.referencedColumnNames.map(v=>'"'.concat(v,'"')).join(", ");let b='CONSTRAINT "'.concat(g.name,'" FOREIGN KEY (').concat(T,') REFERENCES "').concat(m,'" (').concat(w,")");return g.onDelete&&(b+=" ON DELETE ".concat(g.onDelete)),g.onUpdate&&(b+=" ON UPDATE ".concat(g.onUpdate)),g.deferrable&&(b+=" DEFERRABLE ".concat(g.deferrable)),b}).join(", ");c+=", ".concat(p)}if(r.length>1){const p=r.map(g=>'"'.concat(g.name,'"')).join(", ");c+=", PRIMARY KEY (".concat(p,")")}return c+=")",e.withoutRowid&&(c+=" WITHOUT ROWID"),new O(c)}dropTableSql(e,t){const i=W.isTable(e)?e.name:e,r=t?"DROP TABLE IF EXISTS ".concat(this.escapePath(i)):"DROP TABLE ".concat(this.escapePath(i));return new O(r)}createViewSql(e){return typeof e.expression=="string"?new O('CREATE VIEW "'.concat(e.name,'" AS ').concat(e.expression)):new O('CREATE VIEW "'.concat(e.name,'" AS ').concat(e.expression(this.connection).getQuery()))}insertViewDefinitionSql(e){const t=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:ke.VIEW,name:e.name,value:t})}dropViewSql(e){const t=W.isView(e)?e.name:e;return new O('DROP VIEW "'.concat(t,'"'))}deleteViewDefinitionSql(e){const t=W.isView(e)?e.name:e;return this.deleteTypeormMetadataSql({type:ke.VIEW,name:t})}createIndexSql(e,t){const i=t.columnNames.map(o=>'"'.concat(o,'"')).join(", "),[r,s]=this.splitTablePath(e.name);return new O("CREATE ".concat(t.isUnique?"UNIQUE ":"","INDEX ").concat(r?'"'.concat(r,'".'):"").concat(this.escapePath(t.name),' ON "').concat(s,'" (').concat(i,") ").concat(t.where?"WHERE "+t.where:""))}dropIndexSql(e){let t=W.isTableIndex(e)?e.name:e;return new O("DROP INDEX ".concat(this.escapePath(t)))}buildCreateColumnSql(e,t){let i='"'+e.name+'"';return W.isColumnMetadata(e)?i+=" "+this.driver.normalizeType(e):i+=" "+this.connection.driver.createFullType(e),e.enum&&(i+=' CHECK( "'+e.name+'" IN ('+e.enum.map(r=>"'"+r+"'").join(",")+") )"),e.isPrimary&&!t&&(i+=" PRIMARY KEY"),e.isGenerated===!0&&e.generationStrategy==="increment"&&(i+=" AUTOINCREMENT"),e.collation&&(i+=" COLLATE "+e.collation),e.isNullable!==!0&&(i+=" NOT NULL"),e.asExpression?i+=" AS (".concat(e.asExpression,") ").concat(e.generatedType?e.generatedType:"VIRTUAL"):e.default!==void 0&&e.default!==null&&(i+=" DEFAULT ("+e.default+")"),i}async recreateTable(e,t,i=!0){const r=[],s=[];t.indices.forEach(c=>{r.push(this.dropIndexSql(c)),s.push(this.createIndexSql(t,c))});let[o,a]=this.splitTablePath(e.name),[,l]=this.splitTablePath(t.name);if(e.name=a="".concat(o?"".concat(o,"."):"","temporary_").concat(a),r.push(this.createTableSql(e,!0,!0)),s.push(this.dropTableSql(e)),i){let c=e.columns.filter(d=>!d.generatedType).map(d=>'"'.concat(d.name,'"')),u=t.columns.filter(d=>!d.generatedType).map(d=>'"'.concat(d.name,'"'));u.length<c.length?c=e.columns.filter(d=>{const h=t.columns.find(p=>p.name===d.name);return h&&h.generatedType?!1:!d.generatedType&&h}).map(d=>'"'.concat(d.name,'"')):u.length>c.length&&(u=t.columns.filter(d=>!d.generatedType&&e.columns.find(h=>h.name===d.name)).map(d=>'"'.concat(d.name,'"'))),r.push(new O("INSERT INTO ".concat(this.escapePath(e.name),"(").concat(c.join(", "),") SELECT ").concat(u.join(", ")," FROM ").concat(this.escapePath(t.name)))),s.push(new O("INSERT INTO ".concat(this.escapePath(t.name),"(").concat(u.join(", "),") SELECT ").concat(c.join(", ")," FROM ").concat(this.escapePath(e.name))))}r.push(this.dropTableSql(t)),s.push(this.createTableSql(t,!0)),r.push(new O("ALTER TABLE ".concat(this.escapePath(e.name)," RENAME TO ").concat(this.escapePath(l)))),s.push(new O("ALTER TABLE ".concat(this.escapePath(t.name)," RENAME TO ").concat(this.escapePath(a)))),e.name=t.name,e.indices.forEach(c=>{c.name||(c.name=this.connection.namingStrategy.indexName(e,c.columnNames,c.where)),r.push(this.createIndexSql(e,c)),s.push(this.dropIndexSql(c))}),t.columns.filter(c=>{const u=e.columns.find(d=>d.name===c.name);return c.generatedType&&c.asExpression&&(!u||!u.generatedType&&!u.asExpression)}).forEach(c=>{const u=this.deleteTypeormMetadataSql({table:t.name,type:ke.GENERATED_COLUMN,name:c.name}),d=this.insertTypeormMetadataSql({table:t.name,type:ke.GENERATED_COLUMN,name:c.name,value:c.asExpression});r.push(u),s.push(d)}),e.columns.filter(c=>c.generatedType&&c.asExpression&&!t.columns.some(u=>u.name===c.name)).forEach(c=>{const u=this.insertTypeormMetadataSql({table:e.name,type:ke.GENERATED_COLUMN,name:c.name,value:c.asExpression}),d=this.deleteTypeormMetadataSql({table:e.name,type:ke.GENERATED_COLUMN,name:c.name});r.push(u),s.push(d)}),e.columns.filter(c=>c.generatedType&&c.asExpression).forEach(c=>{const u=t.columns.find(m=>m.name===c.name&&m.generatedType&&c.generatedType&&m.asExpression!==c.asExpression);if(!u)return;const d=this.deleteTypeormMetadataSql({table:t.name,type:ke.GENERATED_COLUMN,name:u.name}),h=this.insertTypeormMetadataSql({table:e.name,type:ke.GENERATED_COLUMN,name:c.name,value:c.asExpression});r.push(d),r.push(h);const p=this.insertTypeormMetadataSql({table:e.name,type:ke.GENERATED_COLUMN,name:u.name,value:u.asExpression}),g=this.deleteTypeormMetadataSql({table:t.name,type:ke.GENERATED_COLUMN,name:c.name});s.push(p),s.push(g)}),await this.executeQueries(r,s),this.replaceCachedTable(t,e)}splitTablePath(e){return e.indexOf(".")!==-1?e.split("."):[void 0,e]}escapePath(e,t){return(W.isTable(e)||W.isView(e)?e.name:e).replace(/^\.+|\.+$/g,"").split(".").map(r=>t?r:'"'.concat(r,'"')).join(".")}}class Mr{constructor(e){this.queryRunner=e}async broadcast(e,...t){const i=new gg,r=this["broadcast".concat(e,"Event")];typeof r=="function"&&r.call(this,i,...t),await i.wait()}broadcastBeforeInsertEvent(e,t,i){i&&t.beforeInsertListeners.length&&t.beforeInsertListeners.forEach(r=>{if(r.isAllowed(i)){const s=r.execute(i);s instanceof Promise&&e.promises.push(s),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(r=>{if(this.isAllowedSubscriber(r,t.target)&&r.beforeInsert){const s=r.beforeInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t});s instanceof Promise&&e.promises.push(s),e.count++}})}broadcastBeforeUpdateEvent(e,t,i,r,s,o){i&&t.beforeUpdateListeners.length&&t.beforeUpdateListeners.forEach(a=>{if(a.isAllowed(i)){const l=a.execute(i);l instanceof Promise&&e.promises.push(l),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(a=>{if(this.isAllowedSubscriber(a,t.target)&&a.beforeUpdate){const l=a.beforeUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,updatedColumns:s||[],updatedRelations:o||[]});l instanceof Promise&&e.promises.push(l),e.count++}})}broadcastBeforeRemoveEvent(e,t,i,r,s){i&&t.beforeRemoveListeners.length&&t.beforeRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.beforeRemove){const a=o.beforeRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastBeforeSoftRemoveEvent(e,t,i,r,s){i&&t.beforeSoftRemoveListeners.length&&t.beforeSoftRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.beforeSoftRemove){const a=o.beforeSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastBeforeRecoverEvent(e,t,i,r,s){i&&t.beforeRecoverListeners.length&&t.beforeRecoverListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.beforeRecover){const a=o.beforeRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastAfterInsertEvent(e,t,i){i&&t.afterInsertListeners.length&&t.afterInsertListeners.forEach(r=>{if(r.isAllowed(i)){const s=r.execute(i);s instanceof Promise&&e.promises.push(s),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(r=>{if(this.isAllowedSubscriber(r,t.target)&&r.afterInsert){const s=r.afterInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t});s instanceof Promise&&e.promises.push(s),e.count++}})}broadcastBeforeTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionStart){const i=t.beforeTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionStart){const i=t.afterTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastBeforeTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionCommit){const i=t.beforeTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionCommit){const i=t.afterTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastBeforeTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionRollback){const i=t.beforeTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionRollback){const i=t.afterTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterUpdateEvent(e,t,i,r,s,o){i&&t.afterUpdateListeners.length&&t.afterUpdateListeners.forEach(a=>{if(a.isAllowed(i)){const l=a.execute(i);l instanceof Promise&&e.promises.push(l),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(a=>{if(this.isAllowedSubscriber(a,t.target)&&a.afterUpdate){const l=a.afterUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,updatedColumns:s||[],updatedRelations:o||[]});l instanceof Promise&&e.promises.push(l),e.count++}})}broadcastAfterRemoveEvent(e,t,i,r,s){i&&t.afterRemoveListeners.length&&t.afterRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.afterRemove){const a=o.afterRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastAfterSoftRemoveEvent(e,t,i,r,s){i&&t.afterSoftRemoveListeners.length&&t.afterSoftRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.afterSoftRemove){const a=o.afterSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastAfterRecoverEvent(e,t,i,r,s){i&&t.afterRecoverListeners.length&&t.afterRecoverListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.afterRecover){const a=o.afterRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastLoadEventsForAll(e,t,i){return this.broadcastLoadEvent(e,t,i)}broadcastLoadEvent(e,t,i){const r=this.queryRunner.connection.subscribers.filter(s=>this.isAllowedSubscriber(s,t.target)&&s.afterLoad);if(t.relations.length||t.afterLoadListeners.length||r.length){const s=i.filter(o=>!(o instanceof Promise));t.relations.length&&t.relations.forEach(o=>{s.forEach(a=>{if(o.isLazy&&!a.hasOwnProperty(o.propertyName))return;const l=o.getEntityValue(a);Fe.isObject(l)&&this.broadcastLoadEvent(e,o.inverseEntityMetadata,Array.isArray(l)?l:[l])})}),t.afterLoadListeners.length&&t.afterLoadListeners.forEach(o=>{s.forEach(a=>{if(o.isAllowed(a)){const l=o.execute(a);l instanceof Promise&&e.promises.push(l),e.count++}})}),r.forEach(o=>{s.forEach(a=>{const l=o.afterLoad(a,{entity:a,metadata:t,connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});l instanceof Promise&&e.promises.push(l),e.count++})})}}isAllowedSubscriber(e,t){return!e.listenTo||!e.listenTo()||e.listenTo()===Object||e.listenTo()===t||e.listenTo().isPrototypeOf(t)}}class rr{constructor(){this.records=[]}}class s4 extends Ca{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Mr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,i=!1){if(this.isReleased)throw new En;const r=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const s=+new Date;try{const o=await new Promise(async(d,h)=>{r.executeSql(e,t,p=>d(p),p=>h(p))}),a=this.driver.options.maxQueryExecutionTime,c=+new Date-s;a&&c>a&&this.driver.connection.logger.logQuerySlow(c,e,t,this);const u=new rr;if(e.substr(0,11)==="INSERT INTO")u.raw=o.insertId;else{let d=[];for(let h=0;h<o.rows.length;h++)d.push(o.rows.item(h));u.records=d,u.raw=d}return i?u:u.raw}catch(o){throw this.driver.connection.logger.logQueryError(o,e,t,this),new nr(e,t,o)}}async startTransaction(){throw new B("Transactions are not supported by the Cordova driver")}async commitTransaction(){throw new B("Transactions are not supported by the Cordova driver")}async rollbackTransaction(){throw new B("Transactions are not supported by the Cordova driver")}async clearDatabase(){await this.query("PRAGMA foreign_keys = OFF");try{const e="SELECT 'DROP VIEW \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'view'",t=await this.query(e),i="SELECT 'DROP TABLE \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'table' AND \"name\" != 'sqlite_sequence'",r=await this.query(i);await Promise.all(t.map(s=>this.query(s.query))),await Promise.all(r.map(s=>this.query(s.query)))}finally{await this.query("PRAGMA foreign_keys = ON")}}parametrize(e,t=0){return Object.keys(e).map((i,r)=>'"'.concat(i,'"')+"=?")}}class o4 extends Tc{constructor(e){super(e),this.transactionSupport="none",this.database=this.options.database,this.loadDependencies()}async disconnect(){return this.queryRunner=void 0,new Promise((e,t)=>{this.databaseConnection.close(e,t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new s4(this)),this.queryRunner}async createDatabaseConnection(){const e=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{}),t=await new Promise(i=>{this.sqlite.openDatabase(e,r=>i(r))});return await new Promise((i,r)=>{t.executeSql("PRAGMA foreign_keys = ON",[],()=>i(),s=>r(s))}),t}loadDependencies(){try{const e=this.options.driver||window.sqlitePlugin;this.sqlite=e}catch(e){throw new Sa("Cordova-SQLite","cordova-sqlite-storage")}}}class a4 extends Ca{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Mr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}query(e,t,i=!1){if(this.isReleased)throw new En;return new Promise(async(r,s)=>{const o=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const a=+new Date;o.executeSql(e,t,l=>{const c=this.driver.options.maxQueryExecutionTime,d=+new Date-a;c&&d>c&&this.driver.connection.logger.logQuerySlow(d,e,t,this);const h=new rr;if(l!=null&&l.hasOwnProperty("rowsAffected")&&(h.affected=l.rowsAffected),l!=null&&l.hasOwnProperty("rows")){let p=[];for(let g=0;g<l.rows.length;g++)p.push(l.rows.item(g));h.raw=p,h.records=p}e.substr(0,11)==="INSERT INTO"&&(h.raw=l.insertId),r(i?h:h.raw)},l=>{this.driver.connection.logger.logQueryError(l,e,t,this),s(new nr(e,t,l))})})}parametrize(e,t=0){return Object.keys(e).map((i,r)=>'"'.concat(i,'"')+"=?")}}class l4{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["int","integer","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8","integer","character","varchar","varying character","nchar","native character","nvarchar","text","clob","text","blob","real","double","double precision","float","real","numeric","decimal","boolean","date","time","datetime"],this.supportedUpsertTypes=["on-conflict-do-update"],this.withLengthColumnTypes=["character","varchar","varying character","nchar","native character","nvarchar","text","blob","clob"],this.spatialTypes=[],this.withPrecisionColumnTypes=["real","double","double precision","float","real","numeric","decimal","date","time","datetime"],this.withScaleColumnTypes=["real","double","double precision","float","real","numeric","decimal"],this.mappedDataTypes={createDate:"datetime",createDateDefault:"datetime('now')",updateDate:"datetime",updateDateDefault:"datetime('now')",deleteDate:"datetime",deleteDateNullable:!0,version:"integer",treeLevel:"integer",migrationId:"integer",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.cteCapabilities={enabled:!0,requiresRecursiveHint:!0},this.attachedDatabases={},this.connection=e,this.options=e.options,this.database=this.options.database,this.loadDependencies()}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new a4(this)),this.queryRunner}async connect(){this.databaseConnection=await this.createDatabaseConnection()}afterConnect(){return Promise.resolve()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close(e,t)})}hasAttachedDatabases(){return!!Object.keys(this.attachedDatabases).length}getAttachedDatabaseHandleByRelativePath(e){var t,i;return(i=(t=this.attachedDatabases)===null||t===void 0?void 0:t[e])===null||i===void 0?void 0:i.attachHandle}getAttachedDatabasePathRelativeByHandle(e){var t;return(t=Object.values(this.attachedDatabases).find(({attachHandle:i})=>e===i))===null||t===void 0?void 0:t.attachFilepathRelative}createSchemaBuilder(){return new ap(this.connection)}preparePersistentValue(e,t){return t.transformer&&(e=zt.transformTo(t.transformer,e)),e==null?e:t.type===Boolean||t.type==="boolean"?e===!0?1:0:t.type==="date"?Re.mixedDateToDateString(e):t.type==="time"?Re.mixedDateToTimeString(e):t.type==="datetime"||t.type===Date?Re.mixedDateToUtcDatetimeString(e):t.type==="simple-array"?Re.simpleArrayToString(e):t.type==="simple-json"?Re.simpleJsonToString(e):t.type==="simple-enum"?Re.simpleEnumToString(e):e}prepareHydratedValue(e,t){return e==null?t.transformer?zt.transformFrom(t.transformer,e):e:(t.type===Boolean||t.type==="boolean"?e=!!e:t.type==="datetime"||t.type===Date?(e&&typeof e=="string"&&(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d/.test(e)&&(e=e.replace(" ","T")),/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d(:\d\d(\.\d\d\d)?)?$/.test(e)&&(e+="Z")),e=Re.normalizeHydratedDate(e)):t.type==="date"?e=Re.mixedDateToDateString(e):t.type==="time"?e=Re.mixedTimeToString(e):t.type==="simple-array"?e=Re.stringToSimpleArray(e):t.type==="simple-json"?e=Re.stringToSimpleJson(e):t.type==="simple-enum"?e=Re.stringToSimpleEnum(e,t):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=zt.transformFrom(t.transformer,e)),e)}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>typeof i[s]=="boolean"?i[s]===!0?1:0:i[s]instanceof Date?Re.mixedDateToUtcDatetimeString(i[s]):i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):typeof l=="function"?l():typeof l=="number"?String(l):typeof l=="boolean"?(r.push(+l),this.createParameter(a,r.length-1)):l instanceof Date?(r.push(Re.mixedDateToUtcDatetimeString(l)),this.createParameter(a,r.length-1)):(r.push(l),this.createParameter(a,r.length-1))}),[e,r])}escape(e){return'"'+e+'"'}buildTableName(e,t,i){return e}parseTableName(e){var t;const i=this.database,r=void 0;if(W.isTable(e)||W.isView(e)){const o=this.parseTableName(e.schema?'"'.concat(e.schema,'"."').concat(e.name,'"'):e.name);return{database:e.database||o.database||i,schema:e.schema||o.schema||r,tableName:o.tableName}}if(W.isTableForeignKey(e)){const o=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||o.database||i,schema:e.referencedSchema||o.schema||r,tableName:o.tableName}}if(W.isEntityMetadata(e))return{database:e.database||i,schema:e.schema||r,tableName:e.tableName};const s=e.split(".");return s.length===3?{database:s[0]||i,schema:s[1]||r,tableName:s[2]}:s.length===2?{database:(t=this.getAttachedDatabasePathRelativeByHandle(s[0]))!==null&&t!==void 0?t:i,schema:s[0],tableName:s[1]}:{database:i,schema:r,tableName:e}}normalizeType(e){return e.type===Number||e.type==="int"?"integer":e.type===String?"varchar":e.type===Date?"datetime":e.type===Boolean?"boolean":e.type==="uuid"?"varchar":e.type==="simple-array"||e.type==="simple-json"?"text":e.type==="simple-enum"?"varchar":e.type||""}normalizeDefault(e){const t=e.default;if(typeof t=="number")return""+t;if(typeof t=="boolean")return t?"1":"0";if(typeof t=="function")return t();if(typeof t=="string")return"'".concat(t,"'");if(t!=null)return"".concat(t)}normalizeIsUnique(e){return e.entityMetadata.uniques.some(t=>t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){return e.length?e.length.toString():""}createFullType(e){let t=e.type;return e.enum?"varchar":(e.length?t+="("+e.length+")":e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="("+e.precision+","+e.scale+")":e.precision!==null&&e.precision!==void 0&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t)}obtainMasterConnection(){return Promise.resolve()}obtainSlaveConnection(){return Promise.resolve()}createGeneratedMap(e,t,i,r){const s=e.generatedColumns.reduce((o,a)=>{let l;return a.generationStrategy==="increment"&&t&&(l=t-r+i+1),l?Ee.mergeDeep(o,a.createValueMap(l)):o},{});return Object.keys(s).length>0?s:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);return r?r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==i.length||r.precision!==i.precision||r.scale!==i.scale||this.normalizeDefault(i)!==r.default||r.isPrimary!==i.isPrimary||r.isNullable!==i.isNullable||r.generatedType!==i.generatedType||r.asExpression!==i.asExpression||r.isUnique!==this.normalizeIsUnique(i)||r.enum&&i.enum&&!Ee.isArraysEqual(r.enum,i.enum.map(o=>o+""))||i.generationStrategy!=="uuid"&&r.isGenerated!==i.isGenerated:!1})}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"?"}createDatabaseConnection(){return new Promise((e,t)=>{const i=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{});this.sqlite.openDatabase(i,r=>{const s=r;s.executeSql("PRAGMA foreign_keys = ON",[],o=>{e(s)},o=>{t(o)})},r=>{t(r)})})}loadDependencies(){try{const e=this.options.driver||require("react-native-sqlite-storage");this.sqlite=e}catch(e){throw new Sa("React-Native","react-native-sqlite-storage")}}}class c4 extends Ca{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Mr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,i=!1){if(this.isReleased)throw new En;const r=this.driver.connection;return new Promise(async(s,o)=>{const a=await this.connect(),l=e.substr(0,11)==="INSERT INTO";r.logger.logQuery(e,t,this);const c=(d,h)=>{const p=this.driver.options.maxQueryExecutionTime,m=+new Date-u;p&&m>p&&r.logger.logQuerySlow(m,e,t,this),d&&(r.logger.logQueryError(d,e,t,this),o(new nr(e,t,d)));const T=new rr;T.raw=h,!l&&Array.isArray(h)&&(T.records=h),s(i?T:T.raw)},u=+new Date;l?a.execSQL(e,t,c):a.all(e,t,c)})}parametrize(e,t=0){return Object.keys(e).map((i,r)=>'"'.concat(i,'"')+"=?")}}class u4 extends Tc{constructor(e){super(e),this.connection=e,this.options=e.options,this.database=this.options.database,this.driver=this.options.driver,this.loadDependencies()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close().then(e).catch(t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new c4(this)),this.queryRunner}normalizeType(e){return e.type===Buffer?"blob":super.normalizeType(e)}createDatabaseConnection(){return new Promise((e,t)=>{const i=Object.assign({},{readOnly:this.options.readOnly,key:this.options.key,multithreading:this.options.multithreading,migrate:this.options.migrate,iosFlags:this.options.iosFlags,androidFlags:this.options.androidFlags},this.options.extra||{});new this.sqlite(this.options.database,i,(r,s)=>{if(r)return t(r);s.resultType(this.sqlite.RESULTSASOBJECT),s.execSQL("PRAGMA foreign_keys = ON",[],(o,a)=>{if(o)return t(o);e(s)})})})}loadDependencies(){if(this.sqlite=this.driver,!this.driver)throw new Sa("Nativescript","nativescript-sqlite")}}class d4 extends Ca{constructor(e){super(),this.isDirty=!1,this.driver=e,this.connection=e.connection,this.broadcaster=new Mr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async flush(){this.isDirty&&(await this.driver.autoSave(),this.isDirty=!1)}async release(){return await this.flush(),super.release()}async commitTransaction(){await super.commitTransaction(),this.isTransactionActive||await this.flush()}async query(e,t=[],i=!1){if(this.isReleased)throw new En;const r=e.trim().split(" ",1)[0],s=this.driver.databaseConnection;this.driver.connection.logger.logQuery(e,t,this);const o=+new Date;let a;try{a=s.prepare(e),t&&(t=t.map(p=>typeof p<"u"?p:null),a.bind(t));const l=this.driver.options.maxQueryExecutionTime,u=+new Date-o;l&&u>l&&this.driver.connection.logger.logQuerySlow(u,e,t,this);const d=[];for(;a.step();)d.push(a.getAsObject());const h=new rr;return h.affected=s.getRowsModified(),h.records=d,h.raw=d,a.free(),r!=="SELECT"&&(this.isDirty=!0),i?h:h.raw}catch(l){throw a&&a.free(),this.driver.connection.logger.logQueryError(l,e,t,this),new nr(e,t,l)}}}class h4 extends Tc{constructor(e){if(super(e),this.options.autoSave&&!this.options.location&&!this.options.autoSaveCallback)throw new o6("location or autoSaveCallback");this.loadDependencies()}async connect(){this.databaseConnection=await this.createDatabaseConnection()}async disconnect(){this.queryRunner=void 0,this.databaseConnection.close()}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new d4(this)),this.queryRunner}async load(e,t=!0){if(typeof e=="string")if(ut.type==="node")if(ut.fileExist(e)){const i=ut.readFileSync(e);return this.createDatabaseConnectionWithImport(i)}else{if(t)throw new B("File ".concat(e," does not exist"));return this.createDatabaseConnectionWithImport()}else{let i=null;if(this.options.useLocalForage)if(window.localforage)i=await window.localforage.getItem(e);else throw new B("localforage is not defined - please import localforage.js into your site");else i=ut.getGlobalVariable().localStorage.getItem(e);if(i!=null)return this.createDatabaseConnectionWithImport(JSON.parse(i));if(t)throw new B("File ".concat(e," does not exist"));return this.createDatabaseConnectionWithImport()}else return this.createDatabaseConnectionWithImport(e)}async save(e){if(!e&&!this.options.location)throw new B("No location is set, specify a location parameter or add the location option to your configuration");let t="";if(e?t=e:this.options.location&&(t=this.options.location),ut.type==="node")try{const i=Buffer.from(this.databaseConnection.export());await ut.writeFile(t,i)}catch(i){throw new B("Could not save database, error: ".concat(i))}else{const i=this.databaseConnection.export(),r=[].slice.call(i);if(this.options.useLocalForage)if(window.localforage)await window.localforage.setItem(t,JSON.stringify(r));else throw new B("localforage is not defined - please import localforage.js into your site");else ut.getGlobalVariable().localStorage.setItem(t,JSON.stringify(r))}}async autoSave(){var e;this.options.autoSave&&!(!((e=this.queryRunner)===null||e===void 0)&&e.isTransactionActive)&&(this.options.autoSaveCallback?await this.options.autoSaveCallback(this.export()):await this.save())}export(){return this.databaseConnection.export()}createGeneratedMap(e,t){const i=e.generatedColumns.reduce((r,s)=>{if(s.isPrimary&&s.generationStrategy==="increment"){const o="SELECT last_insert_rowid()";try{let a=this.databaseConnection.exec(o);return this.connection.logger.logQuery(o),Ee.mergeDeep(r,s.createValueMap(a[0].values[0][0]))}catch(a){this.connection.logger.logQueryError(a,o,[])}}return r},{});return Object.keys(i).length>0?i:void 0}createDatabaseConnection(){return this.options.location?this.load(this.options.location,!1):this.createDatabaseConnectionWithImport(this.options.database)}async createDatabaseConnectionWithImport(e){const i=typeof this.sqlite.Database=="function"?this.sqlite:await this.sqlite(this.options.sqlJsConfig);return e&&e.length>0?this.databaseConnection=new i.Database(e):this.databaseConnection=new i.Database,this.databaseConnection.exec("PRAGMA foreign_keys = ON"),this.databaseConnection}loadDependencies(){if(ut.type==="browser"){const e=this.options.driver||window.SQL;this.sqlite=e}else try{const e=this.options.driver||ut.load("sql.js");this.sqlite=e}catch(e){throw new Sa("sql.js","sql.js")}}}class p4 extends Ca{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Mr(this)}async startTransaction(){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(e){throw this.isTransactionActive=!1,e}this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive&&typeof this.transaction>"u")throw new bi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transaction=void 0,this.isTransactionActive=!1,this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive&&typeof this.transaction>"u")throw new bi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transaction=void 0,this.isTransactionActive=!1,this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async beforeMigration(){const e=await this.connect();return new Promise((t,i)=>{e.exec([{sql:"PRAGMA foreign_keys = OFF",args:[]}],!1,r=>r?i(r):t())})}async afterMigration(){const e=await this.connect();return new Promise((t,i)=>{e.exec([{sql:"PRAGMA foreign_keys = ON",args:[]}],!1,r=>r?i(r):t())})}async query(e,t,i=!1){if(this.isReleased)throw new En;return new Promise(async(r,s)=>{const o=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const a=+new Date;o.transaction(async l=>{typeof this.transaction>"u"&&(await this.startTransaction(),this.transaction=l),this.transaction.executeSql(e,t,(c,u)=>{const d=this.driver.options.maxQueryExecutionTime,p=+new Date-a;d&&p>d&&this.driver.connection.logger.logQuerySlow(p,e,t,this);const g=new rr;if(u!=null&&u.hasOwnProperty("rowsAffected")&&(g.affected=u.rowsAffected),u!=null&&u.hasOwnProperty("rows")){let m=[];for(let T=0;T<u.rows.length;T++)m.push(u.rows.item(T));g.raw=m,g.records=m}e.startsWith("INSERT INTO")&&(g.raw=u.insertId),r(i?g:g.raw)},(c,u)=>{this.driver.connection.logger.logQueryError(u,e,t,this),s(new nr(e,t,u))})},async l=>{await this.rollbackTransaction(),s(l)},()=>{this.isTransactionActive=!1,this.transaction=void 0})})}}class f4 extends Tc{constructor(e){super(e),this.database=this.options.database,this.sqlite=this.options.driver}async disconnect(){return new Promise((e,t)=>{try{this.queryRunner=void 0,this.databaseConnection._db.close(),this.databaseConnection=void 0,e()}catch(i){t(i)}})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new p4(this)),this.queryRunner}createDatabaseConnection(){return new Promise((e,t)=>{try{const i=this.sqlite.openDatabase(this.options.database);i.transaction(r=>{r.executeSql("PRAGMA foreign_keys = ON",[],(s,o)=>{e(i)},(s,o)=>{t({transaction:s,error:o})})},r=>{t(r)})}catch(i){t(i)}})}}class m4 extends lp{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.client=t,this.broadcaster=new Mr(this)}async connect(){return{}}release(){return this.isReleased=!0,this.databaseConnection&&this.databaseConnection.release(),Promise.resolve()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?await this.client.startTransaction():await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new bi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.commitTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new bi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.rollbackTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new En;const r=await this.client.query(e,t),s=new rr;return s.raw=r,r!=null&&r.hasOwnProperty("records")&&Array.isArray(r.records)&&(s.records=r.records),r!=null&&r.hasOwnProperty("numberOfRecordsUpdated")&&(s.affected=r.numberOfRecordsUpdated),i?s:s.raw}stream(e,t,i,r){if(this.isReleased)throw new En;return new Promise(async(s,o)=>{try{const l=(await this.connect()).query(e,t);i&&l.on("end",i),r&&l.on("error",r),s(l)}catch(a){o(a)}})}async getDatabases(){return Promise.resolve([])}async getSchemas(e){throw new B("MySql driver does not support table schemas")}async hasDatabase(e){return!!(await this.query("SELECT * FROM `INFORMATION_SCHEMA`.`SCHEMATA` WHERE `SCHEMA_NAME` = '".concat(e,"'"))).length}async getCurrentDatabase(){return(await this.query("SELECT DATABASE() AS `db_name`"))[0].db_name}async hasSchema(e){throw new B("MySql driver does not support table schemas")}async getCurrentSchema(){return(await this.query("SELECT SCHEMA() AS `schema_name`"))[0].schema_name}async hasTable(e){const t=this.driver.parseTableName(e),i="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = '".concat(t.database,"' AND `TABLE_NAME` = '").concat(t.tableName,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=this.driver.parseTableName(e),r=W.isTableColumn(t)?t.name:t,s="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = '".concat(i.database,"' AND `TABLE_NAME` = '").concat(i.tableName,"' AND `COLUMN_NAME` = '").concat(r,"'");return!!(await this.query(s)).length}async createDatabase(e,t){const i=t?"CREATE DATABASE IF NOT EXISTS `".concat(e,"`"):"CREATE DATABASE `".concat(e,"`"),r="DROP DATABASE `".concat(e,"`");await this.executeQueries(new O(i),new O(r))}async dropDatabase(e,t){const i=t?"DROP DATABASE IF EXISTS `".concat(e,"`"):"DROP DATABASE `".concat(e,"`"),r="CREATE DATABASE `".concat(e,"`");await this.executeQueries(new O(i),new O(r))}async createSchema(e,t){throw new B("Schema create queries are not supported by MySql driver.")}async dropSchema(e,t){throw new B("Schema drop queries are not supported by MySql driver.")}async createTable(e,t=!1,i=!0){if(t&&await this.hasTable(e))return Promise.resolve();const r=[],s=[];return r.push(this.createTableSql(e,i)),s.push(this.dropTableSql(e)),e.indices.forEach(o=>s.push(this.dropIndexSql(e,o))),i&&e.foreignKeys.forEach(o=>s.push(this.dropForeignKeySql(e,o))),this.executeQueries(r,s)}async dropTable(e,t,i=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const r=i,s=this.getTablePath(e),o=await this.getCachedTable(s),a=[],l=[];i&&o.foreignKeys.forEach(c=>a.push(this.dropForeignKeySql(o,c))),o.indices.forEach(c=>a.push(this.dropIndexSql(o,c))),a.push(this.dropTableSql(o)),l.push(this.createTableSql(o,r)),await this.executeQueries(a,l)}async createView(e,t=!1){const i=[],r=[];i.push(this.createViewSql(e)),t&&i.push(await this.insertViewDefinitionSql(e)),r.push(this.dropViewSql(e)),t&&r.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(i,r)}async dropView(e){const t=W.isView(e)?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(await this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(await this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){const i=[],r=[],s=W.isTable(e)?e:await this.getCachedTable(e),o=s.clone(),{database:a}=this.driver.parseTableName(s);o.name=a?"".concat(a,".").concat(t):t,i.push(new O("RENAME TABLE ".concat(this.escapePath(s)," TO ").concat(this.escapePath(o)))),r.push(new O("RENAME TABLE ".concat(this.escapePath(o)," TO ").concat(this.escapePath(s)))),o.indices.forEach(l=>{const c=l.columnNames.map(h=>"`".concat(h,"`")).join(", "),u=this.connection.namingStrategy.indexName(o,l.columnNames,l.where);let d="";l.isUnique&&(d+="UNIQUE "),l.isSpatial&&(d+="SPATIAL "),l.isFulltext&&(d+="FULLTEXT "),i.push(new O("ALTER TABLE ".concat(this.escapePath(o)," DROP INDEX `").concat(l.name,"`, ADD ").concat(d,"INDEX `").concat(u,"` (").concat(c,")"))),r.push(new O("ALTER TABLE ".concat(this.escapePath(o)," DROP INDEX `").concat(u,"`, ADD ").concat(d,"INDEX `").concat(l.name,"` (").concat(c,")"))),l.name=u}),o.foreignKeys.forEach(l=>{const c=l.columnNames.map(g=>"`".concat(g,"`")).join(", "),u=l.referencedColumnNames.map(g=>"`".concat(g,"`")).join(","),d=this.connection.namingStrategy.foreignKeyName(o,l.columnNames);let h="ALTER TABLE ".concat(this.escapePath(o)," DROP FOREIGN KEY `").concat(l.name,"`, ADD CONSTRAINT `").concat(d,"` FOREIGN KEY (").concat(c,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(l)),"(").concat(u,")");l.onDelete&&(h+=" ON DELETE ".concat(l.onDelete)),l.onUpdate&&(h+=" ON UPDATE ".concat(l.onUpdate));let p="ALTER TABLE ".concat(this.escapePath(o)," DROP FOREIGN KEY `").concat(d,"`, ADD CONSTRAINT `").concat(l.name,"` FOREIGN KEY (").concat(c,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(l)),"(").concat(u,")");l.onDelete&&(p+=" ON DELETE ".concat(l.onDelete)),l.onUpdate&&(p+=" ON UPDATE ".concat(l.onUpdate)),i.push(new O(h)),r.push(new O(p)),l.name=d}),await this.executeQueries(i,r),s.name=o.name,this.replaceCachedTable(s,o)}async addColumn(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=[],o=[],a=r.primaryColumns.length>0;if(s.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(t,a,!1)))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN `").concat(t.name,"`"))),t.isPrimary&&a){const c=r.columns.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(c){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,s.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(t.name,"` ").concat(this.buildCreateColumnSql(h,!0)))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(t,!0))))}const u=r.primaryColumns;let d=u.map(h=>"`".concat(h.name,"`")).join(", ");if(s.push(new O("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY"))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(d,")"))),u.push(t),d=u.map(h=>"`".concat(h.name,"`")).join(", "),s.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(d,")"))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY"))),c){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,s.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(t,!0)))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(t.name,"` ").concat(this.buildCreateColumnSql(h,!0))))}}const l=r.indices.find(c=>c.columnNames.length===1&&c.columnNames[0]===t.name);if(l)s.push(this.createIndexSql(i,l)),o.push(this.dropIndexSql(i,l));else if(t.isUnique){const c=new Nt({name:this.connection.namingStrategy.indexName(i,[t.name]),columnNames:[t.name],isUnique:!0});r.indices.push(c),r.uniques.push(new hn({name:c.name,columnNames:c.columnNames})),s.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD UNIQUE INDEX `").concat(c.name,"` (`").concat(t.name,"`)"))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," DROP INDEX `").concat(c.name,"`")))}await this.executeQueries(s,o),r.addColumn(t),this.replaceCachedTable(i,r)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const r=W.isTable(e)?e:await this.getCachedTable(e),s=W.isTableColumn(t)?t:r.columns.find(a=>a.name===t);if(!s)throw new B('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;W.isTableColumn(i)?o=i:(o=s.clone(),o.name=i),await this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=W.isTable(e)?e:await this.getCachedTable(e);let s=r.clone();const o=[],a=[],l=W.isTableColumn(t)?t:r.columns.find(c=>c.name===t);if(!l)throw new B('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));if(i.isGenerated!==l.isGenerated&&i.generationStrategy!=="uuid"||l.type!==i.type||l.length!==i.length||l.generatedType!==i.generatedType)await this.dropColumn(r,l),await this.addColumn(r,i),s=r.clone();else{if(i.name!==l.name){o.push(new O("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(l.name,"` `").concat(i.name,"` ").concat(this.buildCreateColumnSql(l,!0,!0)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(i.name,"` `").concat(l.name,"` ").concat(this.buildCreateColumnSql(l,!0,!0)))),s.findColumnIndices(l).forEach(u=>{u.columnNames.splice(u.columnNames.indexOf(l.name),1),u.columnNames.push(i.name);const d=u.columnNames.map(g=>"`".concat(g,"`")).join(", "),h=this.connection.namingStrategy.indexName(s,u.columnNames,u.where);let p="";u.isUnique&&(p+="UNIQUE "),u.isSpatial&&(p+="SPATIAL "),u.isFulltext&&(p+="FULLTEXT "),o.push(new O("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(u.name,"`, ADD ").concat(p,"INDEX `").concat(h,"` (").concat(d,")"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(h,"`, ADD ").concat(p,"INDEX `").concat(u.name,"` (").concat(d,")"))),u.name=h}),s.findColumnForeignKeys(l).forEach(u=>{u.columnNames.splice(u.columnNames.indexOf(l.name),1),u.columnNames.push(i.name);const d=u.columnNames.map(T=>"`".concat(T,"`")).join(", "),h=u.referencedColumnNames.map(T=>"`".concat(T,"`")).join(","),p=this.connection.namingStrategy.foreignKeyName(s,u.columnNames);let g="ALTER TABLE ".concat(this.escapePath(r)," DROP FOREIGN KEY `").concat(u.name,"`, ADD CONSTRAINT `").concat(p,"` FOREIGN KEY (").concat(d,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(u)),"(").concat(h,")");u.onDelete&&(g+=" ON DELETE ".concat(u.onDelete)),u.onUpdate&&(g+=" ON UPDATE ".concat(u.onUpdate));let m="ALTER TABLE ".concat(this.escapePath(r)," DROP FOREIGN KEY `").concat(p,"`, ADD CONSTRAINT `").concat(u.name,"` FOREIGN KEY (").concat(d,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(u)),"(").concat(h,")");u.onDelete&&(m+=" ON DELETE ".concat(u.onDelete)),u.onUpdate&&(m+=" ON UPDATE ".concat(u.onUpdate)),o.push(new O(g)),a.push(new O(m)),u.name=p});const c=s.columns.find(u=>u.name===l.name);s.columns[s.columns.indexOf(c)].name=i.name,l.name=i.name}if(this.isColumnChanged(l,i,!0)&&(o.push(new O("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(l.name,"` ").concat(this.buildCreateColumnSql(i,!0)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(i.name,"` ").concat(this.buildCreateColumnSql(l,!0))))),i.isPrimary!==l.isPrimary){const c=s.columns.find(d=>d.isGenerated&&d.generationStrategy==="increment");if(c){const d=c.clone();d.isGenerated=!1,d.generationStrategy=void 0,o.push(new O("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(d,!0)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(d.name,"` ").concat(this.buildCreateColumnSql(c,!0))))}const u=s.primaryColumns;if(u.length>0){const d=u.map(h=>"`".concat(h.name,"`")).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(r)," DROP PRIMARY KEY"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r)," ADD PRIMARY KEY (").concat(d,")")))}if(i.isPrimary===!0){u.push(i);const d=s.columns.find(p=>p.name===i.name);d.isPrimary=!0;const h=u.map(p=>"`".concat(p.name,"`")).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(r)," ADD PRIMARY KEY (").concat(h,")"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r)," DROP PRIMARY KEY")))}else{const d=u.find(p=>p.name===i.name);u.splice(u.indexOf(d),1);const h=s.columns.find(p=>p.name===i.name);if(h.isPrimary=!1,u.length>0){const p=u.map(g=>"`".concat(g.name,"`")).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(r)," ADD PRIMARY KEY (").concat(p,")"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r)," DROP PRIMARY KEY")))}}if(c){const d=c.clone();d.isGenerated=!1,d.generationStrategy=void 0,o.push(new O("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(d.name,"` ").concat(this.buildCreateColumnSql(c,!0)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(d,!0))))}}if(i.isUnique!==l.isUnique)if(i.isUnique===!0){const c=new Nt({name:this.connection.namingStrategy.indexName(r,[i.name]),columnNames:[i.name],isUnique:!0});s.indices.push(c),s.uniques.push(new hn({name:c.name,columnNames:c.columnNames})),o.push(new O("ALTER TABLE ".concat(this.escapePath(r)," ADD UNIQUE INDEX `").concat(c.name,"` (`").concat(i.name,"`)"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(c.name,"`")))}else{const c=s.indices.find(d=>d.columnNames.length===1&&d.isUnique===!0&&!!d.columnNames.find(h=>h===i.name));s.indices.splice(s.indices.indexOf(c),1);const u=s.uniques.find(d=>d.name===c.name);s.uniques.splice(s.uniques.indexOf(u),1),o.push(new O("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(c.name,"`"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r)," ADD UNIQUE INDEX `").concat(c.name,"` (`").concat(i.name,"`)")))}}await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:r}of t)await this.changeColumn(e,i,r)}async dropColumn(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableColumn(t)?t:i.findColumnByName(t);if(!r)throw new B('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));const s=i.clone(),o=[],a=[];if(r.isPrimary){const c=s.columns.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(c){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(h,!0)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(c,!0))))}const u=s.primaryColumns.map(h=>"`".concat(h.name,"`")).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(s)," DROP PRIMARY KEY"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(s)," ADD PRIMARY KEY (").concat(u,")")));const d=s.findColumnByName(r.name);if(d.isPrimary=!1,s.primaryColumns.length>0){const h=s.primaryColumns.map(p=>"`".concat(p.name,"`")).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(s)," ADD PRIMARY KEY (").concat(h,")"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(s)," DROP PRIMARY KEY")))}if(c&&c.name!==r.name){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(c,!0)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(h,!0))))}}const l=s.indices.find(c=>c.columnNames.length===1&&c.columnNames[0]===r.name);if(l)s.indices.splice(s.indices.indexOf(l),1),o.push(this.dropIndexSql(i,l)),a.push(this.createIndexSql(i,l));else if(r.isUnique){const c=this.connection.namingStrategy.uniqueConstraintName(i,[r.name]),u=s.uniques.find(p=>p.name===c);u&&s.uniques.splice(s.uniques.indexOf(u),1);const d=this.connection.namingStrategy.indexName(i,[r.name]),h=s.indices.find(p=>p.name===d);h&&s.indices.splice(s.indices.indexOf(h),1),o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," DROP INDEX `").concat(d,"`"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD UNIQUE INDEX `").concat(d,"` (`").concat(r.name,"`)")))}o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN `").concat(r.name,"`"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(r,!0)))),await this.executeQueries(o,a),s.removeColumn(r),this.replaceCachedTable(i,s)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=this.createPrimaryKeySql(i,t),o=this.dropPrimaryKeySql(i);await this.executeQueries(s,o),r.columns.forEach(a=>{t.find(l=>l===a.name)&&(a.isPrimary=!0)}),this.replaceCachedTable(i,r)}async updatePrimaryKeys(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=t.map(h=>h.name),o=[],a=[],l=r.columns.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(l){const h=l.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(l.name,"` ").concat(this.buildCreateColumnSql(h,!0)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(l,!0))))}const c=r.primaryColumns;if(c.length>0){const h=c.map(p=>"`".concat(p.name,"`")).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(h,")")))}r.columns.filter(h=>s.indexOf(h.name)!==-1).forEach(h=>h.isPrimary=!0);const u=s.map(h=>"`".concat(h,"`")).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(u,")"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY")));const d=l||t.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(d){const h=d.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(d,!0)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(d.name,"` ").concat(this.buildCreateColumnSql(h,!0))));const p=r.columns.find(g=>g.name===d.name);p.isGenerated=!0,p.generationStrategy="increment"}await this.executeQueries(o,a),this.replaceCachedTable(i,r)}async dropPrimaryKey(e){const t=W.isTable(e)?e:await this.getCachedTable(e),i=this.dropPrimaryKeySql(t),r=this.createPrimaryKeySql(t,t.primaryColumns.map(s=>s.name));await this.executeQueries(i,r),t.primaryColumns.forEach(s=>{s.isPrimary=!1})}async createUniqueConstraint(e,t){throw new B("MySql does not support unique constraints. Use unique index instead.")}async createUniqueConstraints(e,t){throw new B("MySql does not support unique constraints. Use unique index instead.")}async dropUniqueConstraint(e,t){throw new B("MySql does not support unique constraints. Use unique index instead.")}async dropUniqueConstraints(e,t){throw new B("MySql does not support unique constraints. Use unique index instead.")}async createCheckConstraint(e,t){throw new B("MySql does not support check constraints.")}async createCheckConstraints(e,t){throw new B("MySql does not support check constraints.")}async dropCheckConstraint(e,t){throw new B("MySql does not support check constraints.")}async dropCheckConstraints(e,t){throw new B("MySql does not support check constraints.")}async createExclusionConstraint(e,t){throw new B("MySql does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new B("MySql does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new B("MySql does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new B("MySql does not support exclusion constraints.")}async createForeignKey(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames));const r=this.createForeignKeySql(i,t),s=this.dropForeignKeySql(i,t);await this.executeQueries(r,s),i.addForeignKey(t)}async createForeignKeys(e,t){const i=t.map(r=>this.createForeignKey(e,r));await Promise.all(i)}async dropForeignKey(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableForeignKey(t)?t:i.foreignKeys.find(a=>a.name===t);if(!r)throw new B("Supplied foreign key was not found in table ".concat(i.name));const s=this.dropForeignKeySql(i,r),o=this.createForeignKeySql(i,r);await this.executeQueries(s,o),i.removeForeignKey(r)}async dropForeignKeys(e,t){const i=t.map(r=>this.dropForeignKey(e,r));await Promise.all(i)}async createIndex(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t,!0)}async createIndices(e,t){const i=t.map(r=>this.createIndex(e,r));await Promise.all(i)}async dropIndex(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new B("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r,!0)}async dropIndices(e,t){const i=t.map(r=>this.dropIndex(e,r));await Promise.all(i)}async clearTable(e){await this.query("TRUNCATE TABLE ".concat(this.escapePath(e)))}async clearDatabase(e){const t=e||this.driver.database;if(t){if(!await this.hasDatabase(t))return Promise.resolve()}else throw new B("Can not clear database. No database is specified");const i=this.isTransactionActive;i||await this.startTransaction();try{const r="SELECT concat('DROP VIEW IF EXISTS `', table_schema, '`.`', table_name, '`') AS `query` FROM `INFORMATION_SCHEMA`.`VIEWS` WHERE `TABLE_SCHEMA` = '".concat(t,"'"),s=await this.query(r);await Promise.all(s.map(u=>this.query(u.query)));const o="SET FOREIGN_KEY_CHECKS = 0;",a="SELECT concat('DROP TABLE IF EXISTS `', table_schema, '`.`', table_name, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_SCHEMA` = '".concat(t,"'"),l="SET FOREIGN_KEY_CHECKS = 1;";await this.query(o);const c=await this.query(a);await Promise.all(c.map(u=>this.query(u.query))),await this.query(l),i||await this.commitTransaction()}catch(r){try{i||await this.rollbackTransaction()}catch(s){}throw r}}async loadViews(e){if(!await this.hasTable(this.getTypeormMetadataTableName()))return[];e||(e=[]);const i=await this.getCurrentDatabase(),r=e.map(a=>{let{database:l,tableName:c}=this.driver.parseTableName(a);return l||(l=i),"(`t`.`schema` = '".concat(l,"' AND `t`.`name` = '").concat(c,"')")}).join(" OR "),s="SELECT `t`.*, `v`.`check_option` FROM ".concat(this.escapePath(this.getTypeormMetadataTableName())," `t` ")+"INNER JOIN `information_schema`.`views` `v` ON `v`.`table_schema` = `t`.`schema` AND `v`.`table_name` = `t`.`name` WHERE `t`.`type` = '".concat(ke.VIEW,"' ").concat(r?"AND (".concat(r,")"):"");return(await this.query(s)).map(a=>{const l=new Rr,c=a.schema===i?void 0:a.schema;return l.database=a.schema,l.name=this.driver.buildTableName(a.name,void 0,c),l.expression=a.value,l})}async loadTables(e){if(e&&e.length===0)return[];const t=[],i=await this.getCurrentDatabase();if(e){const b="SELECT TABLE_NAME, TABLE_SCHEMA FROM `INFORMATION_SCHEMA`.`TABLES` WHERE "+e.map(v=>{let[N,M]=v.split(".");return M||(M=N,N=this.driver.database||i),"(`TABLE_SCHEMA` = '".concat(N,"' AND `TABLE_NAME` = '").concat(M,"')")}).join(" OR ");t.push(...await this.query(b))}else{const w="SELECT TABLE_NAME, TABLE_SCHEMA FROM `INFORMATION_SCHEMA`.`TABLES`";t.push(...await this.query(w))}if(t.length===0)return[];const r=t.map(({TABLE_NAME:w,TABLE_SCHEMA:b})=>"(`TABLE_SCHEMA` = '".concat(b,"' AND `TABLE_NAME` = '").concat(w,"')")).join(" OR "),s="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE "+r,o="SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND (".concat(r,")"),a="SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`",l=t.map(({TABLE_NAME:w,TABLE_SCHEMA:b})=>"(`s`.`TABLE_SCHEMA` = '".concat(b,"' AND `s`.`TABLE_NAME` = '").concat(w,"')")).join(" OR "),c="SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` "+"WHERE (".concat(l,") AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL"),d="SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE "+t.map(({TABLE_NAME:w,TABLE_SCHEMA:b})=>"(`kcu`.`TABLE_SCHEMA` = '".concat(b,"' AND `kcu`.`TABLE_NAME` = '").concat(w,"')")).join(" OR "),[h,p,g,m,T]=await Promise.all([this.query(s),this.query(o),this.query(a),this.query(c),this.query(d)]);return Promise.all(t.map(async w=>{const b=new gt,v=g.find(k=>k.SCHEMA_NAME===w.TABLE_SCHEMA),N=v.COLLATION,M=v.CHARSET,L=w.TABLE_SCHEMA===i?void 0:w.TABLE_SCHEMA;b.database=w.TABLE_SCHEMA,b.name=this.driver.buildTableName(w.TABLE_NAME,void 0,L),b.columns=h.filter(k=>k.TABLE_NAME===w.TABLE_NAME&&k.TABLE_SCHEMA===w.TABLE_SCHEMA).map(k=>{const H=m.filter(ne=>ne.TABLE_NAME===w.TABLE_NAME&&ne.TABLE_SCHEMA===w.TABLE_SCHEMA&&ne.COLUMN_NAME===k.COLUMN_NAME&&parseInt(ne.NON_UNIQUE,10)===0),A=this.connection.entityMetadatas.find(ne=>this.getTablePath(b)===this.getTablePath(ne)),F=H.length>0&&A&&A.indices.some(ne=>H.some(ue=>ne.name===ue.INDEX_NAME&&ne.synchronize===!1)),D=H.every(ne=>m.some(ue=>ue.INDEX_NAME===ne.INDEX_NAME&&ue.COLUMN_NAME!==k.COLUMN_NAME)),G=new Rn;if(G.name=k.COLUMN_NAME,G.type=k.DATA_TYPE.toLowerCase(),G.unsigned=G.zerofill?!0:k.COLUMN_TYPE.indexOf("unsigned")!==-1,this.driver.withWidthColumnTypes.indexOf(G.type)!==-1){const ne=k.COLUMN_TYPE.substring(k.COLUMN_TYPE.indexOf("(")+1,k.COLUMN_TYPE.indexOf(")"));G.width=ne&&!this.isDefaultColumnWidth(b,G,parseInt(ne))?parseInt(ne):void 0}if(k.COLUMN_DEFAULT===null||k.COLUMN_DEFAULT===void 0?G.default=void 0:G.default=k.COLUMN_DEFAULT==="CURRENT_TIMESTAMP"?k.COLUMN_DEFAULT:"'".concat(k.COLUMN_DEFAULT,"'"),k.EXTRA.indexOf("on update")!==-1&&(G.onUpdate=k.EXTRA.substring(k.EXTRA.indexOf("on update")+10)),k.GENERATION_EXPRESSION&&(G.asExpression=k.GENERATION_EXPRESSION,G.generatedType=k.EXTRA.indexOf("VIRTUAL")!==-1?"VIRTUAL":"STORED"),G.isUnique=H.length>0&&!F&&!D,G.isNullable=k.IS_NULLABLE==="YES",G.isPrimary=p.some(ne=>ne.TABLE_NAME===k.TABLE_NAME&&ne.TABLE_SCHEMA===k.TABLE_SCHEMA&&ne.COLUMN_NAME===k.COLUMN_NAME),G.zerofill=k.COLUMN_TYPE.indexOf("zerofill")!==-1,G.isGenerated=k.EXTRA.indexOf("auto_increment")!==-1,G.isGenerated&&(G.generationStrategy="increment"),G.comment=typeof k.COLUMN_COMMENT=="string"&&k.COLUMN_COMMENT.length===0?void 0:k.COLUMN_COMMENT,k.CHARACTER_SET_NAME&&(G.charset=k.CHARACTER_SET_NAME===M?void 0:k.CHARACTER_SET_NAME),k.COLLATION_NAME&&(G.collation=k.COLLATION_NAME===N?void 0:k.COLLATION_NAME),this.driver.withLengthColumnTypes.indexOf(G.type)!==-1&&k.CHARACTER_MAXIMUM_LENGTH){const ne=k.CHARACTER_MAXIMUM_LENGTH.toString();G.length=this.isDefaultColumnLength(b,G,ne)?"":ne}if((G.type==="decimal"||G.type==="double"||G.type==="float")&&(k.NUMERIC_PRECISION!==null&&!this.isDefaultColumnPrecision(b,G,k.NUMERIC_PRECISION)&&(G.precision=parseInt(k.NUMERIC_PRECISION)),k.NUMERIC_SCALE!==null&&!this.isDefaultColumnScale(b,G,k.NUMERIC_SCALE)&&(G.scale=parseInt(k.NUMERIC_SCALE))),G.type==="enum"||G.type==="simple-enum"||G.type==="set"){const ne=k.COLUMN_TYPE,ue=ne.substring(ne.indexOf("(")+1,ne.lastIndexOf(")")).split(",");G.enum=ue.map(ae=>ae.substring(1,ae.length-1)),G.length=""}return(G.type==="datetime"||G.type==="time"||G.type==="timestamp")&&k.DATETIME_PRECISION!==null&&k.DATETIME_PRECISION!==void 0&&!this.isDefaultColumnPrecision(b,G,parseInt(k.DATETIME_PRECISION))&&(G.precision=parseInt(k.DATETIME_PRECISION)),G});const I=Ee.uniq(T.filter(k=>k.TABLE_NAME===w.TABLE_NAME&&k.TABLE_SCHEMA===w.TABLE_SCHEMA),k=>k.CONSTRAINT_NAME);b.foreignKeys=I.map(k=>{const H=T.filter(D=>D.CONSTRAINT_NAME===k.CONSTRAINT_NAME),A=k.REFERENCED_TABLE_SCHEMA===i?void 0:k.REFERENCED_TABLE_SCHEMA,F=this.driver.buildTableName(k.REFERENCED_TABLE_NAME,void 0,A);return new pi({name:k.CONSTRAINT_NAME,columnNames:H.map(D=>D.COLUMN_NAME),referencedDatabase:k.REFERENCED_TABLE_SCHEMA,referencedTableName:F,referencedColumnNames:H.map(D=>D.REFERENCED_COLUMN_NAME),onDelete:k.ON_DELETE,onUpdate:k.ON_UPDATE})});const $=Ee.uniq(m.filter(k=>k.TABLE_NAME===w.TABLE_NAME&&k.TABLE_SCHEMA===w.TABLE_SCHEMA),k=>k.INDEX_NAME);return b.indices=$.map(k=>{const H=m.filter(F=>F.TABLE_SCHEMA===k.TABLE_SCHEMA&&F.TABLE_NAME===k.TABLE_NAME&&F.INDEX_NAME===k.INDEX_NAME),A=parseInt(k.NON_UNIQUE,10);return new Nt({table:b,name:k.INDEX_NAME,columnNames:H.map(F=>F.COLUMN_NAME),isUnique:A===0,isSpatial:k.INDEX_TYPE==="SPATIAL",isFulltext:k.INDEX_TYPE==="FULLTEXT"})}),b}))}createTableSql(e,t){const i=e.columns.map(s=>this.buildCreateColumnSql(s,!0)).join(", ");let r="CREATE TABLE ".concat(this.escapePath(e)," (").concat(i);if(e.columns.filter(s=>s.isUnique).forEach(s=>{const o=e.indices.some(l=>l.columnNames.length===1&&!!l.isUnique&&l.columnNames.indexOf(s.name)!==-1),a=e.uniques.some(l=>l.columnNames.length===1&&l.columnNames.indexOf(s.name)!==-1);!o&&!a&&e.indices.push(new Nt({name:this.connection.namingStrategy.uniqueConstraintName(e,[s.name]),columnNames:[s.name],isUnique:!0}))}),e.uniques.length>0&&e.uniques.forEach(s=>{e.indices.some(a=>a.name===s.name)||e.indices.push(new Nt({name:s.name,columnNames:s.columnNames,isUnique:!0}))}),e.indices.length>0){const s=e.indices.map(o=>{const a=o.columnNames.map(c=>"`".concat(c,"`")).join(", ");o.name||(o.name=this.connection.namingStrategy.indexName(e,o.columnNames,o.where));let l="";return o.isUnique&&(l+="UNIQUE "),o.isSpatial&&(l+="SPATIAL "),o.isFulltext&&(l+="FULLTEXT "),"".concat(l,"INDEX `").concat(o.name,"` (").concat(a,")")}).join(", ");r+=", ".concat(s)}if(e.foreignKeys.length>0&&t){const s=e.foreignKeys.map(o=>{const a=o.columnNames.map(u=>"`".concat(u,"`")).join(", ");o.name||(o.name=this.connection.namingStrategy.foreignKeyName(e,o.columnNames));const l=o.referencedColumnNames.map(u=>"`".concat(u,"`")).join(", ");let c="CONSTRAINT `".concat(o.name,"` FOREIGN KEY (").concat(a,") REFERENCES ").concat(this.escapePath(this.getTablePath(o))," (").concat(l,")");return o.onDelete&&(c+=" ON DELETE ".concat(o.onDelete)),o.onUpdate&&(c+=" ON UPDATE ".concat(o.onUpdate)),c}).join(", ");r+=", ".concat(s)}if(e.primaryColumns.length>0){const s=e.primaryColumns.map(o=>"`".concat(o.name,"`")).join(", ");r+=", PRIMARY KEY (".concat(s,")")}return r+=") ENGINE=".concat(e.engine||"InnoDB"),new O(r)}dropTableSql(e){return new O("DROP TABLE ".concat(this.escapePath(e)))}createViewSql(e){return typeof e.expression=="string"?new O("CREATE VIEW ".concat(this.escapePath(e)," AS ").concat(e.expression)):new O("CREATE VIEW ".concat(this.escapePath(e)," AS ").concat(e.expression(this.connection).getQuery()))}async insertViewDefinitionSql(e){const t=await this.getCurrentDatabase(),i=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:ke.VIEW,schema:t,name:e.name,value:i})}dropViewSql(e){return new O("DROP VIEW ".concat(this.escapePath(e)))}async deleteViewDefinitionSql(e){const t=await this.getCurrentDatabase(),i=W.isView(e)?e.name:e;return this.deleteTypeormMetadataSql({type:ke.VIEW,schema:t,name:i})}createIndexSql(e,t){const i=t.columnNames.map(s=>"`".concat(s,"`")).join(", ");let r="";return t.isUnique&&(r+="UNIQUE "),t.isSpatial&&(r+="SPATIAL "),t.isFulltext&&(r+="FULLTEXT "),new O("CREATE ".concat(r,"INDEX `").concat(t.name,"` ON ").concat(this.escapePath(e)," (").concat(i,")"))}dropIndexSql(e,t){let i=W.isTableIndex(t)?t.name:t;return new O("DROP INDEX `".concat(i,"` ON ").concat(this.escapePath(e)))}createPrimaryKeySql(e,t){const i=t.map(r=>"`".concat(r,"`")).join(", ");return new O("ALTER TABLE ".concat(this.escapePath(e)," ADD PRIMARY KEY (").concat(i,")"))}dropPrimaryKeySql(e){return new O("ALTER TABLE ".concat(this.escapePath(e)," DROP PRIMARY KEY"))}createForeignKeySql(e,t){const i=t.columnNames.map(o=>"`".concat(o,"`")).join(", "),r=t.referencedColumnNames.map(o=>"`".concat(o,"`")).join(",");let s="ALTER TABLE ".concat(this.escapePath(e)," ADD CONSTRAINT `").concat(t.name,"` FOREIGN KEY (").concat(i,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(t)),"(").concat(r,")");return t.onDelete&&(s+=" ON DELETE ".concat(t.onDelete)),t.onUpdate&&(s+=" ON UPDATE ".concat(t.onUpdate)),new O(s)}dropForeignKeySql(e,t){const i=W.isTableForeignKey(t)?t.name:t;return new O("ALTER TABLE ".concat(this.escapePath(e)," DROP FOREIGN KEY `").concat(i,"`"))}escapeComment(e){return!e||e.length===0?"''":(e=e.replace(/\\/g,"\\\\").replace(/'/g,"''").replace(/\u0000/g,""),"'".concat(e,"'"))}escapePath(e){const{database:t,tableName:i}=this.driver.parseTableName(e);return t&&t!==this.driver.database?"`".concat(t,"`.`").concat(i,"`"):"`".concat(i,"`")}buildCreateColumnSql(e,t,i=!1){let r="";return i?r=this.connection.driver.createFullType(e):r="`".concat(e.name,"` ").concat(this.connection.driver.createFullType(e)),e.asExpression&&(r+=" AS (".concat(e.asExpression,") ").concat(e.generatedType?e.generatedType:"VIRTUAL")),e.zerofill?r+=" ZEROFILL":e.unsigned&&(r+=" UNSIGNED"),e.enum&&(r+=" (".concat(e.enum.map(s=>"'"+s+"'").join(", "),")")),e.charset&&(r+=' CHARACTER SET "'.concat(e.charset,'"')),e.collation&&(r+=' COLLATE "'.concat(e.collation,'"')),e.isNullable||(r+=" NOT NULL"),e.isNullable&&(r+=" NULL"),e.isPrimary&&!t&&(r+=" PRIMARY KEY"),e.isGenerated&&e.generationStrategy==="increment"&&(r+=" AUTO_INCREMENT"),e.comment&&(r+=" COMMENT ".concat(this.escapeComment(e.comment))),e.default!==void 0&&e.default!==null&&(r+=" DEFAULT ".concat(e.default)),e.onUpdate&&(r+=" ON UPDATE ".concat(e.onUpdate)),r}isDefaultColumnWidth(e,t,i){if(this.connection.hasMetadata(e.name)){const o=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(o&&o.width)return!1}const r=this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].width;if(r){const o=["int","tinyint","smallint","mediumint"].indexOf(t.type)!==-1;return t.unsigned&&o?r-1===i:r===i}return!1}}class g4{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["bit","int","integer","tinyint","smallint","mediumint","bigint","float","double","double precision","real","decimal","dec","numeric","fixed","bool","boolean","date","datetime","timestamp","time","year","char","nchar","national char","varchar","nvarchar","national varchar","blob","text","tinyblob","tinytext","mediumblob","mediumtext","longblob","longtext","enum","set","binary","varbinary","json","geometry","point","linestring","polygon","multipoint","multilinestring","multipolygon","geometrycollection"],this.supportedUpsertTypes=["on-duplicate-key-update"],this.spatialTypes=["geometry","point","linestring","polygon","multipoint","multilinestring","multipolygon","geometrycollection"],this.withLengthColumnTypes=["char","varchar","nvarchar","binary","varbinary"],this.withWidthColumnTypes=["bit","tinyint","smallint","mediumint","int","integer","bigint"],this.withPrecisionColumnTypes=["decimal","dec","numeric","fixed","float","double","double precision","real","time","datetime","timestamp"],this.withScaleColumnTypes=["decimal","dec","numeric","fixed","float","double","double precision","real"],this.unsignedAndZerofillTypes=["int","integer","smallint","tinyint","mediumint","bigint","decimal","dec","numeric","fixed","float","double","double precision","real"],this.mappedDataTypes={createDate:"datetime",createDatePrecision:6,createDateDefault:"CURRENT_TIMESTAMP(6)",updateDate:"datetime",updateDatePrecision:6,updateDateDefault:"CURRENT_TIMESTAMP(6)",deleteDate:"datetime",deleteDatePrecision:6,deleteDateNullable:!0,version:"int",treeLevel:"int",migrationId:"int",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.dataTypeDefaults={varchar:{length:255},nvarchar:{length:255},"national varchar":{length:255},char:{length:1},binary:{length:1},varbinary:{length:255},decimal:{precision:10,scale:0},dec:{precision:10,scale:0},numeric:{precision:10,scale:0},fixed:{precision:10,scale:0},float:{precision:12},double:{precision:22},time:{precision:0},datetime:{precision:0},timestamp:{precision:0},bit:{width:1},int:{width:11},integer:{width:11},tinyint:{width:4},smallint:{width:6},mediumint:{width:9},bigint:{width:20}},this.maxAliasLength=63,this.cteCapabilities={enabled:!1},this.connection=e,this.options=e.options,this.loadDependencies(),this.client=new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions),this.database=me.buildDriverOptions(this.options).database}async connect(){if(!this.database){const e=await this.createQueryRunner("master");this.database=await e.getCurrentDatabase(),await e.release()}}afterConnect(){return Promise.resolve()}async disconnect(){}createSchemaBuilder(){return new ap(this.connection)}createQueryRunner(e){return new m4(this,new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions))}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):typeof l=="function"?l():(r.push(l),this.createParameter(a,r.length-1))}),[e,r])}escape(e){return"`"+e+"`"}buildTableName(e,t,i){let r=[e];return i&&r.unshift(i),r.join(".")}parseTableName(e){const t=this.database,i=void 0;if(W.isTable(e)||W.isView(e)){const s=this.parseTableName(e.name);return{database:e.database||s.database||t,schema:e.schema||s.schema||i,tableName:s.tableName}}if(W.isTableForeignKey(e)){const s=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||s.database||t,schema:e.referencedSchema||s.schema||i,tableName:s.tableName}}if(W.isEntityMetadata(e))return{database:e.database||t,schema:e.schema||i,tableName:e.tableName};const r=e.split(".");return{database:(r.length>1?r[0]:void 0)||t,schema:i,tableName:r.length>1?r[1]:r[0]}}preparePersistentValue(e,t){return t.transformer&&(e=zt.transformTo(t.transformer,e)),!this.options.formatOptions||this.options.formatOptions.castParameters!==!1?this.client.preparePersistentValue(e,t):e==null?e:t.type===Boolean?e===!0?1:0:t.type==="date"?Re.mixedDateToDateString(e):t.type==="time"?Re.mixedDateToTimeString(e):t.type==="json"?JSON.stringify(e):t.type==="timestamp"||t.type==="datetime"||t.type===Date?Re.mixedDateToDate(e):t.type==="simple-array"||t.type==="set"?Re.simpleArrayToString(e):t.type==="simple-json"?Re.simpleJsonToString(e):t.type==="enum"||t.type==="simple-enum"?""+e:e}prepareHydratedValue(e,t){return e==null?t.transformer?zt.transformFrom(t.transformer,e):e:!this.options.formatOptions||this.options.formatOptions.castParameters!==!1?this.client.prepareHydratedValue(e,t):(t.type===Boolean||t.type==="bool"||t.type==="boolean"?e=!!e:t.type==="datetime"||t.type===Date?e=Re.normalizeHydratedDate(e):t.type==="date"?e=Re.mixedDateToDateString(e):t.type==="json"?e=typeof e=="string"?JSON.parse(e):e:t.type==="time"?e=Re.mixedTimeToString(e):t.type==="simple-array"||t.type==="set"?e=Re.stringToSimpleArray(e):t.type==="simple-json"?e=Re.stringToSimpleJson(e):(t.type==="enum"||t.type==="simple-enum")&&t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0?e=parseInt(e):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=zt.transformFrom(t.transformer,e)),e)}normalizeType(e){return e.type===Number||e.type==="integer"?"int":e.type===String?"varchar":e.type===Date?"datetime":e.type===Buffer?"blob":e.type===Boolean?"tinyint":e.type==="uuid"?"varchar":e.type==="simple-array"||e.type==="simple-json"?"text":e.type==="simple-enum"?"enum":e.type==="double precision"||e.type==="real"?"double":e.type==="dec"||e.type==="numeric"||e.type==="fixed"?"decimal":e.type==="bool"||e.type==="boolean"?"tinyint":e.type==="nvarchar"||e.type==="national varchar"?"varchar":e.type==="nchar"||e.type==="national char"?"char":e.type||""}normalizeDefault(e){const t=e.default;if(t!==null){if((e.type==="enum"||e.type==="simple-enum")&&t!==void 0)return"'".concat(t,"'");if(e.type==="set"&&t!==void 0)return"'".concat(Re.simpleArrayToString(t),"'");if(typeof t=="number")return"".concat(t);if(typeof t=="boolean")return t?"1":"0";if(typeof t=="function")return t();if(typeof t=="string")return"'".concat(t,"'");if(t!==void 0)return"".concat(t)}}normalizeIsUnique(e){return e.entityMetadata.indices.some(t=>t.isUnique&&t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){if(e.length)return e.length.toString();if(e.generationStrategy==="uuid")return"36";switch(e.type){case String:case"varchar":case"nvarchar":case"national varchar":return"255";case"varbinary":return"255";default:return""}}createFullType(e){let t=e.type;return this.getColumnLength(e)?t+="(".concat(this.getColumnLength(e),")"):e.width?t+="(".concat(e.width,")"):e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="(".concat(e.precision,",").concat(e.scale,")"):e.precision!==null&&e.precision!==void 0&&(t+="(".concat(e.precision,")")),e.isArray&&(t+=" array"),t}obtainMasterConnection(){return new Promise((e,t)=>{this.poolCluster?this.poolCluster.getConnection("MASTER",(i,r)=>{i?t(i):e(this.prepareDbConnection(r))}):this.pool?this.pool.getConnection((i,r)=>{i?t(i):e(this.prepareDbConnection(r))}):t(new B("Connection is not established with mysql database"))})}obtainSlaveConnection(){return this.poolCluster?new Promise((e,t)=>{this.poolCluster.getConnection("SLAVE*",(i,r)=>{i?t(i):e(this.prepareDbConnection(r))})}):this.obtainMasterConnection()}createGeneratedMap(e,t,i){const r=e.generatedColumns.reduce((s,o)=>{let a;return o.generationStrategy==="increment"&&t.insertId&&(a=t.insertId+i),Ee.mergeDeep(s,o.createValueMap(a))},{});return Object.keys(r).length>0?r:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);if(!r)return!1;let s=i.length;return!s&&i.generationStrategy==="uuid"&&(s=this.getColumnLength(i)),r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==s||r.width!==i.width||r.precision!==i.precision||r.scale!==i.scale||r.zerofill!==i.zerofill||r.unsigned!==i.unsigned||r.asExpression!==i.asExpression||r.generatedType!==i.generatedType||r.comment!==this.escapeComment(i.comment)||!this.compareDefaultValues(this.normalizeDefault(i),r.default)||r.enum&&i.enum&&!Ee.isArraysEqual(r.enum,i.enum.map(o=>o+""))||r.onUpdate!==i.onUpdate||r.isPrimary!==i.isPrimary||r.isNullable!==i.isNullable||r.isUnique!==this.normalizeIsUnique(i)||i.generationStrategy!=="uuid"&&r.isGenerated!==i.isGenerated})}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!0}createParameter(e,t){return"?"}loadDependencies(){const e=this.options.driver||ut.load("typeorm-aurora-data-api-driver");this.DataApiDriver=e,this.DataApiDriver=this.DataApiDriver.default||this.DataApiDriver}createConnectionOptions(e,t){return t=Object.assign({},t,me.buildDriverOptions(t)),Object.assign({},{resourceArn:e.resourceArn,secretArn:e.secretArn,database:e.database,region:e.region,type:e.type},{host:t.host,user:t.username,password:t.password,database:t.database,port:t.port,ssl:e.ssl},e.extra||{})}async createPool(e){return{}}prepareDbConnection(e){const{logger:t}=this.connection;return e.listeners("error").length===0&&e.on("error",i=>t.log("warn","MySQL connection raised an error. ".concat(i))),e}compareDefaultValues(e,t){return typeof e=="string"&&typeof t=="string"&&(e=e.replace(/^'+|'+$/g,""),t=t.replace(/^'+|'+$/g,"")),e===t}escapeComment(e){return e&&(e=e.replace(/\u0000/g,""),e)}}class y4 extends lp{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.mode=t,this.broadcaster=new Mr(this)}connect(){return this.databaseConnection?Promise.resolve(this.databaseConnection):this.databaseConnectionPromise?this.databaseConnectionPromise:(this.mode==="slave"&&this.driver.isReplicated?this.databaseConnectionPromise=this.driver.obtainSlaveConnection().then(([e,t])=>{this.driver.connectedQueryRunners.push(this),this.databaseConnection=e;const i=r=>this.releasePostgresConnection(r);return this.releaseCallback=r=>{this.databaseConnection.removeListener("error",i),t(r)},this.databaseConnection.on("error",i),this.databaseConnection}):this.databaseConnectionPromise=this.driver.obtainMasterConnection().then(([e,t])=>{this.driver.connectedQueryRunners.push(this),this.databaseConnection=e;const i=r=>this.releasePostgresConnection(r);return this.releaseCallback=r=>{this.databaseConnection.removeListener("error",i),t(r)},this.databaseConnection.on("error",i),this.databaseConnection}),this.databaseConnectionPromise)}async releasePostgresConnection(e){if(this.isReleased)return;this.isReleased=!0,this.releaseCallback&&(this.releaseCallback(e),this.releaseCallback=void 0);const t=this.driver.connectedQueryRunners.indexOf(this);t!==-1&&this.driver.connectedQueryRunners.splice(t,1)}release(){return this.releasePostgresConnection()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?(await this.query("START TRANSACTION"),e&&await this.query("SET TRANSACTION ISOLATION LEVEL "+e)):await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new bi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("COMMIT"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new bi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("ROLLBACK"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new En;const r=await this.connect();this.driver.connection.logger.logQuery(e,t,this);try{const s=+new Date,o=await r.query(e,t),a=this.driver.options.maxQueryExecutionTime,c=+new Date-s;a&&c>a&&this.driver.connection.logger.logQuerySlow(c,e,t,this);const u=new rr;if(o){switch(o.hasOwnProperty("rows")&&(u.records=o.rows),o.hasOwnProperty("rowCount")&&(u.affected=o.rowCount),o.command){case"DELETE":case"UPDATE":u.raw=[o.rows,o.rowCount];break;default:u.raw=o.rows}if(!i)return u.raw}return u}catch(s){throw this.driver.connection.logger.logQueryError(s,e,t,this),new nr(e,t,s)}}async stream(e,t,i,r){const s=this.driver.loadStreamDependency();if(this.isReleased)throw new En;const o=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const a=o.query(new s(e,t));return i&&a.on("end",i),r&&a.on("error",r),a}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){return!!(await this.query("SELECT * FROM pg_database WHERE datname='".concat(e,"';"))).length}async getCurrentDatabase(){return(await this.query("SELECT * FROM current_database()"))[0].current_database}async hasSchema(e){return!!(await this.query('SELECT * FROM "information_schema"."schemata" WHERE "schema_name" = \''.concat(e,"'"))).length}async getCurrentSchema(){return(await this.query("SELECT * FROM current_schema()"))[0].current_schema}async hasTable(e){const t=this.driver.parseTableName(e);t.schema||(t.schema=await this.getCurrentSchema());const i='SELECT * FROM "information_schema"."tables" WHERE "table_schema" = \''.concat(t.schema,"' AND \"table_name\" = '").concat(t.tableName,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=this.driver.parseTableName(e);i.schema||(i.schema=await this.getCurrentSchema());const r='SELECT * FROM "information_schema"."columns" WHERE "table_schema" = \''.concat(i.schema,"' AND \"table_name\" = '").concat(i.tableName,"' AND \"column_name\" = '").concat(t,"'");return!!(await this.query(r)).length}async createDatabase(e,t){if(t&&await this.hasDatabase(e))return Promise.resolve();const i='CREATE DATABASE "'.concat(e,'"'),r='DROP DATABASE "'.concat(e,'"');await this.executeQueries(new O(i),new O(r))}async dropDatabase(e,t){const i=t?'DROP DATABASE IF EXISTS "'.concat(e,'"'):'DROP DATABASE "'.concat(e,'"'),r='CREATE DATABASE "'.concat(e,'"');await this.executeQueries(new O(i),new O(r))}async createSchema(e,t){const i=e.indexOf(".")===-1?e:e.split(".")[1],r=t?'CREATE SCHEMA IF NOT EXISTS "'.concat(i,'"'):'CREATE SCHEMA "'.concat(i,'"'),s='DROP SCHEMA "'.concat(i,'" CASCADE');await this.executeQueries(new O(r),new O(s))}async dropSchema(e,t,i){const r=e.indexOf(".")===-1?e:e.split(".")[1],s=t?'DROP SCHEMA IF EXISTS "'.concat(r,'" ').concat(i?"CASCADE":""):'DROP SCHEMA "'.concat(r,'" ').concat(i?"CASCADE":""),o='CREATE SCHEMA "'.concat(r,'"');await this.executeQueries(new O(s),new O(o))}async createTable(e,t=!1,i=!0,r=!0){if(t&&await this.hasTable(e))return Promise.resolve();const s=[],o=[],a=e.columns.filter(u=>u.type==="enum"||u.type==="simple-enum"),l=[];for(const u of a){const d=await this.hasEnumType(e,u),h=this.buildEnumName(e,u);!d&&l.indexOf(h)===-1&&(l.push(h),s.push(this.createEnumTypeSql(e,u,h)),o.push(this.dropEnumTypeSql(e,u,h)))}const c=e.columns.filter(u=>u.generatedType==="STORED"&&u.asExpression);for(const u of c){const d=(await this.getTableNameWithSchema(e.name)).split("."),h=d[1],p=d[0],g=this.insertTypeormMetadataSql({database:this.driver.database,schema:p,table:h,type:ke.GENERATED_COLUMN,name:u.name,value:u.asExpression}),m=this.deleteTypeormMetadataSql({database:this.driver.database,schema:p,table:h,type:ke.GENERATED_COLUMN,name:u.name});s.push(g),o.push(m)}s.push(this.createTableSql(e,i)),o.push(this.dropTableSql(e)),i&&e.foreignKeys.forEach(u=>o.push(this.dropForeignKeySql(e,u))),r&&e.indices.forEach(u=>{u.name||(u.name=this.connection.namingStrategy.indexName(e,u.columnNames,u.where)),s.push(this.createIndexSql(e,u)),o.push(this.dropIndexSql(e,u))}),await this.executeQueries(s,o)}async dropTable(e,t,i=!0,r=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const s=i,o=this.getTablePath(e),a=await this.getCachedTable(o),l=[],c=[];r&&a.indices.forEach(d=>{l.push(this.dropIndexSql(a,d)),c.push(this.createIndexSql(a,d))}),i&&a.foreignKeys.forEach(d=>l.push(this.dropForeignKeySql(a,d))),l.push(this.dropTableSql(a)),c.push(this.createTableSql(a,s));const u=a.columns.filter(d=>d.generatedType&&d.asExpression);for(const d of u){const h=(await this.getTableNameWithSchema(a.name)).split("."),p=h[1],g=h[0],m=this.deleteTypeormMetadataSql({database:this.driver.database,schema:g,table:p,type:ke.GENERATED_COLUMN,name:d.name}),T=this.insertTypeormMetadataSql({database:this.driver.database,schema:g,table:p,type:ke.GENERATED_COLUMN,name:d.name,value:d.asExpression});l.push(m),c.push(T)}await this.executeQueries(l,c)}async createView(e,t=!1){const i=[],r=[];i.push(this.createViewSql(e)),t&&i.push(await this.insertViewDefinitionSql(e)),r.push(this.dropViewSql(e)),t&&r.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(i,r)}async dropView(e){const t=W.isView(e)?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(await this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(await this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){const i=[],r=[],s=W.isTable(e)?e:await this.getCachedTable(e),o=s.clone(),{schema:a,tableName:l}=this.driver.parseTableName(s);if(o.name=a?"".concat(a,".").concat(t):t,i.push(new O("ALTER TABLE ".concat(this.escapePath(s),' RENAME TO "').concat(t,'"'))),r.push(new O("ALTER TABLE ".concat(this.escapePath(o),' RENAME TO "').concat(l,'"'))),o.primaryColumns.length>0&&!o.primaryColumns[0].primaryKeyConstraintName){const u=o.primaryColumns.map(p=>p.name),d=this.connection.namingStrategy.primaryKeyName(s,u),h=this.connection.namingStrategy.primaryKeyName(o,u);i.push(new O("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(d,'" TO "').concat(h,'"'))),r.push(new O("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(h,'" TO "').concat(d,'"')))}o.columns.map(u=>{if(u.isGenerated&&u.generationStrategy==="increment"){const d=this.buildSequencePath(s,u.name),h=this.buildSequenceName(s,u.name),p=this.buildSequencePath(o,u.name),g=this.buildSequenceName(o,u.name),m="ALTER SEQUENCE ".concat(this.escapePath(d),' RENAME TO "').concat(g,'"'),T="ALTER SEQUENCE ".concat(this.escapePath(p),' RENAME TO "').concat(h,'"');i.push(new O(m)),r.push(new O(T))}}),o.uniques.forEach(u=>{const d=this.connection.namingStrategy.uniqueConstraintName(s,u.columnNames);if(u.name!==d)return;const h=this.connection.namingStrategy.uniqueConstraintName(o,u.columnNames);i.push(new O("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(u.name,'" TO "').concat(h,'"'))),r.push(new O("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(h,'" TO "').concat(u.name,'"'))),u.name=h}),o.indices.forEach(u=>{const d=this.connection.namingStrategy.indexName(s,u.columnNames,u.where);if(u.name!==d)return;const{schema:h}=this.driver.parseTableName(o),p=this.connection.namingStrategy.indexName(o,u.columnNames,u.where),g=h?'ALTER INDEX "'.concat(h,'"."').concat(u.name,'" RENAME TO "').concat(p,'"'):'ALTER INDEX "'.concat(u.name,'" RENAME TO "').concat(p,'"'),m=h?'ALTER INDEX "'.concat(h,'"."').concat(p,'" RENAME TO "').concat(u.name,'"'):'ALTER INDEX "'.concat(p,'" RENAME TO "').concat(u.name,'"');i.push(new O(g)),r.push(new O(m)),u.name=p}),o.foreignKeys.forEach(u=>{const d=this.connection.namingStrategy.foreignKeyName(s,u.columnNames,this.getTablePath(u),u.referencedColumnNames);if(u.name!==d)return;const h=this.connection.namingStrategy.foreignKeyName(o,u.columnNames,this.getTablePath(u),u.referencedColumnNames);i.push(new O("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(u.name,'" TO "').concat(h,'"'))),r.push(new O("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(h,'" TO "').concat(u.name,'"'))),u.name=h});const c=o.columns.filter(u=>u.type==="enum"||u.type==="simple-enum");for(let u of c){if(u.enumName)continue;const d=await this.getUserDefinedTypeName(s,u);i.push(new O('ALTER TYPE "'.concat(d.schema,'"."').concat(d.name,'" RENAME TO ').concat(this.buildEnumName(o,u,!1)))),r.push(new O("ALTER TYPE ".concat(this.buildEnumName(o,u),' RENAME TO "').concat(d.name,'"')))}await this.executeQueries(i,r)}async addColumn(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=[],o=[];if((t.type==="enum"||t.type==="simple-enum")&&(await this.hasEnumType(i,t)||(s.push(this.createEnumTypeSql(i,t)),o.push(this.dropEnumTypeSql(i,t)))),s.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(i,t)))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i),' DROP COLUMN "').concat(t.name,'"'))),t.isPrimary){const l=r.primaryColumns;if(l.length>0){const d=l[0].primaryKeyConstraintName?l[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,l.map(p=>p.name)),h=l.map(p=>'"'.concat(p.name,'"')).join(", ");s.push(new O("ALTER TABLE ".concat(this.escapePath(i),' DROP CONSTRAINT "').concat(d,'"'))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i),' ADD CONSTRAINT "').concat(d,'" PRIMARY KEY (').concat(h,")")))}l.push(t);const c=l[0].primaryKeyConstraintName?l[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,l.map(d=>d.name)),u=l.map(d=>'"'.concat(d.name,'"')).join(", ");s.push(new O("ALTER TABLE ".concat(this.escapePath(i),' ADD CONSTRAINT "').concat(c,'" PRIMARY KEY (').concat(u,")"))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i),' DROP CONSTRAINT "').concat(c,'"')))}const a=r.indices.find(l=>l.columnNames.length===1&&l.columnNames[0]===t.name);if(a&&(s.push(this.createIndexSql(i,a)),o.push(this.dropIndexSql(i,a))),t.isUnique){const l=new hn({name:this.connection.namingStrategy.uniqueConstraintName(i,[t.name]),columnNames:[t.name]});r.uniques.push(l),s.push(new O("ALTER TABLE ".concat(this.escapePath(i),' ADD CONSTRAINT "').concat(l.name,'" UNIQUE ("').concat(t.name,'")'))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i),' DROP CONSTRAINT "').concat(l.name,'"')))}if(t.generatedType==="STORED"&&t.asExpression){const l=(await this.getTableNameWithSchema(i.name)).split("."),c=l[1],u=l[0],d=this.insertTypeormMetadataSql({database:this.driver.database,schema:u,table:c,type:ke.GENERATED_COLUMN,name:t.name,value:t.asExpression}),h=this.deleteTypeormMetadataSql({database:this.driver.database,schema:u,table:c,type:ke.GENERATED_COLUMN,name:t.name});s.push(d),o.push(h)}t.comment&&(s.push(new O("COMMENT ON COLUMN ".concat(this.escapePath(i),'."').concat(t.name,'" IS ').concat(this.escapeComment(t.comment)))),o.push(new O("COMMENT ON COLUMN ".concat(this.escapePath(i),'."').concat(t.name,'" IS ').concat(this.escapeComment(t.comment))))),await this.executeQueries(s,o),r.addColumn(t),this.replaceCachedTable(i,r)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const r=W.isTable(e)?e:await this.getCachedTable(e),s=W.isTableColumn(t)?t:r.columns.find(a=>a.name===t);if(!s)throw new B('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;return W.isTableColumn(i)?o=i:(o=s.clone(),o.name=i),this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=W.isTable(e)?e:await this.getCachedTable(e);let s=r.clone();const o=[],a=[];let l=!1;const c=W.isTableColumn(t)?t:r.columns.find(u=>u.name===t);if(!c)throw new B('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));if(c.type!==i.type||c.length!==i.length||i.isArray!==c.isArray||!c.generatedType&&i.generatedType==="STORED"||c.asExpression!==i.asExpression&&i.generatedType==="STORED")await this.dropColumn(r,c),await this.addColumn(r,i),s=r.clone();else{if(c.name!==i.name){if(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' RENAME COLUMN "').concat(c.name,'" TO "').concat(i.name,'"'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' RENAME COLUMN "').concat(i.name,'" TO "').concat(c.name,'"'))),c.type==="enum"||c.type==="simple-enum"){const d=await this.getUserDefinedTypeName(r,c);o.push(new O('ALTER TYPE "'.concat(d.schema,'"."').concat(d.name,'" RENAME TO ').concat(this.buildEnumName(r,i,!1)))),a.push(new O("ALTER TYPE ".concat(this.buildEnumName(r,i),' RENAME TO "').concat(d.name,'"')))}if(c.isPrimary===!0&&!c.primaryKeyConstraintName){const h=s.primaryColumns.map(m=>m.name),p=this.connection.namingStrategy.primaryKeyName(s,h);h.splice(h.indexOf(c.name),1),h.push(i.name);const g=this.connection.namingStrategy.primaryKeyName(s,h);o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(p,'" TO "').concat(g,'"'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(g,'" TO "').concat(p,'"')))}if(c.isGenerated===!0&&i.generationStrategy==="increment"){const d=this.buildSequencePath(r,c.name),h=this.buildSequenceName(r,c.name),p=this.buildSequencePath(r,i.name),g=this.buildSequenceName(r,i.name),m="ALTER SEQUENCE ".concat(this.escapePath(d),' RENAME TO "').concat(g,'"'),T="ALTER SEQUENCE ".concat(this.escapePath(p),' RENAME TO "').concat(h,'"');o.push(new O(m)),a.push(new O(T))}s.findColumnUniques(c).forEach(d=>{const h=this.connection.namingStrategy.uniqueConstraintName(s,d.columnNames);if(d.name!==h)return;d.columnNames.splice(d.columnNames.indexOf(c.name),1),d.columnNames.push(i.name);const p=this.connection.namingStrategy.uniqueConstraintName(s,d.columnNames);o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(d.name,'" TO "').concat(p,'"'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(p,'" TO "').concat(d.name,'"'))),d.name=p}),s.findColumnIndices(c).forEach(d=>{const h=this.connection.namingStrategy.indexName(s,d.columnNames,d.where);if(d.name!==h)return;d.columnNames.splice(d.columnNames.indexOf(c.name),1),d.columnNames.push(i.name);const{schema:p}=this.driver.parseTableName(r),g=this.connection.namingStrategy.indexName(s,d.columnNames,d.where),m=p?'ALTER INDEX "'.concat(p,'"."').concat(d.name,'" RENAME TO "').concat(g,'"'):'ALTER INDEX "'.concat(d.name,'" RENAME TO "').concat(g,'"'),T=p?'ALTER INDEX "'.concat(p,'"."').concat(g,'" RENAME TO "').concat(d.name,'"'):'ALTER INDEX "'.concat(g,'" RENAME TO "').concat(d.name,'"');o.push(new O(m)),a.push(new O(T)),d.name=g}),s.findColumnForeignKeys(c).forEach(d=>{const h=this.connection.namingStrategy.foreignKeyName(s,d.columnNames,this.getTablePath(d),d.referencedColumnNames);if(d.name!==h)return;d.columnNames.splice(d.columnNames.indexOf(c.name),1),d.columnNames.push(i.name);const p=this.connection.namingStrategy.foreignKeyName(s,d.columnNames,this.getTablePath(d),d.referencedColumnNames);o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(d.name,'" TO "').concat(p,'"'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(p,'" TO "').concat(d.name,'"'))),d.name=p});const u=s.columns.find(d=>d.name===c.name);s.columns[s.columns.indexOf(u)].name=i.name,c.name=i.name}if((i.precision!==c.precision||i.scale!==c.scale)&&(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(i)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(c))))),(i.type==="enum"||i.type==="simple-enum")&&(c.type==="enum"||c.type==="simple-enum")&&(!Ee.isArraysEqual(i.enum,c.enum)||i.enumName!==c.enumName)){const u=i.isArray?"[]":"",d=this.buildEnumName(r,i),h=this.buildEnumName(r,c),p=this.buildEnumName(r,c,!1),g=this.buildEnumName(r,c,!0,!1,!0),m=this.buildEnumName(r,c,!1,!1,!0);o.push(new O("ALTER TYPE ".concat(h," RENAME TO ").concat(m))),a.push(new O("ALTER TYPE ".concat(g," RENAME TO ").concat(p))),o.push(this.createEnumTypeSql(r,i,d)),a.push(this.dropEnumTypeSql(r,i,d)),c.default!==null&&c.default!==void 0&&(l=!0,o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP DEFAULT'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET DEFAULT ').concat(c.default))));const T="".concat(d).concat(u,' USING "').concat(i.name,'"::"text"::').concat(d).concat(u),w="".concat(g).concat(u,' USING "').concat(i.name,'"::"text"::').concat(g).concat(u);o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(T))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(w))),i.default!==null&&i.default!==void 0&&(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(i.default))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))),o.push(this.dropEnumTypeSql(r,c,g)),a.push(this.createEnumTypeSql(r,c,g))}if(c.isNullable!==i.isNullable&&(i.isNullable?(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP NOT NULL'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET NOT NULL')))):(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET NOT NULL'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP NOT NULL'))))),c.comment!==i.comment&&(o.push(new O("COMMENT ON COLUMN ".concat(this.escapePath(r),'."').concat(c.name,'" IS ').concat(this.escapeComment(i.comment)))),a.push(new O("COMMENT ON COLUMN ".concat(this.escapePath(r),'."').concat(i.name,'" IS ').concat(this.escapeComment(c.comment))))),i.isPrimary!==c.isPrimary){const u=s.primaryColumns;if(u.length>0){const d=u[0].primaryKeyConstraintName?u[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,u.map(p=>p.name)),h=u.map(p=>'"'.concat(p.name,'"')).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(d,'"'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(d,'" PRIMARY KEY (').concat(h,")")))}if(i.isPrimary===!0){u.push(i);const d=s.columns.find(g=>g.name===i.name);d.isPrimary=!0;const h=u[0].primaryKeyConstraintName?u[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,u.map(g=>g.name)),p=u.map(g=>'"'.concat(g.name,'"')).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(h,'" PRIMARY KEY (').concat(p,")"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(h,'"')))}else{const d=u.find(p=>p.name===i.name);u.splice(u.indexOf(d),1);const h=s.columns.find(p=>p.name===i.name);if(h.isPrimary=!1,u.length>0){const p=u[0].primaryKeyConstraintName?u[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,u.map(m=>m.name)),g=u.map(m=>'"'.concat(m.name,'"')).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(p,'" PRIMARY KEY (').concat(g,")"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(p,'"')))}}}if(i.isUnique!==c.isUnique)if(i.isUnique===!0){const u=new hn({name:this.connection.namingStrategy.uniqueConstraintName(r,[i.name]),columnNames:[i.name]});s.uniques.push(u),o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(u.name,'" UNIQUE ("').concat(i.name,'")'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(u.name,'"')))}else{const u=s.uniques.find(d=>d.columnNames.length===1&&!!d.columnNames.find(h=>h===i.name));s.uniques.splice(s.uniques.indexOf(u),1),o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(u.name,'"'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(u.name,'" UNIQUE ("').concat(i.name,'")')))}if(c.isGenerated!==i.isGenerated&&(c.isGenerated&&(c.generationStrategy==="uuid"?(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP DEFAULT'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET DEFAULT ').concat(this.driver.uuidGenerator)))):c.generationStrategy==="increment"&&(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,"\" SET DEFAULT nextval('").concat(this.escapePath(this.buildSequencePath(r,i)),"')"))),o.push(new O("DROP SEQUENCE ".concat(this.escapePath(this.buildSequencePath(r,i))))),a.push(new O("CREATE SEQUENCE IF NOT EXISTS ".concat(this.escapePath(this.buildSequencePath(r,i))," OWNED BY ").concat(this.escapePath(r),'."').concat(i.name,'"'))))),i.generationStrategy==="uuid"?i.isGenerated===!0?(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(this.driver.uuidGenerator))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))):(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(this.driver.uuidGenerator)))):i.generationStrategy==="increment"&&(i.isGenerated===!0?(o.push(new O("CREATE SEQUENCE IF NOT EXISTS ".concat(this.escapePath(this.buildSequencePath(r,i))," OWNED BY ").concat(this.escapePath(r),'."').concat(i.name,'"'))),a.push(new O("DROP SEQUENCE ".concat(this.escapePath(this.buildSequencePath(r,i))))),o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,"\" SET DEFAULT nextval('").concat(this.escapePath(this.buildSequencePath(r,i)),"')"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))):(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,"\" SET DEFAULT nextval('").concat(this.escapePath(this.buildSequencePath(r,i)),"')"))),o.push(new O("DROP SEQUENCE ".concat(this.escapePath(this.buildSequencePath(r,i))))),a.push(new O("CREATE SEQUENCE IF NOT EXISTS ".concat(this.escapePath(this.buildSequencePath(r,i))," OWNED BY ").concat(this.escapePath(r),'."').concat(i.name,'"')))))),i.default!==c.default&&!l&&(i.default!==null&&i.default!==void 0?(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(i.default))),c.default!==null&&c.default!==void 0?a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(c.default))):a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))):c.default!==null&&c.default!==void 0&&(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(c.default))))),((i.spatialFeatureType||"").toLowerCase()!==(c.spatialFeatureType||"").toLowerCase()||i.srid!==c.srid)&&(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(i)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(c))))),i.generatedType!==c.generatedType&&(!i.generatedType||i.generatedType==="VIRTUAL")){const u=(await this.getTableNameWithSchema(r.name)).split("."),d=u[1],h=u[0];o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' RENAME COLUMN "').concat(c.name,'" TO "TEMP_OLD_').concat(c.name,'"'))),o.push(new O("ALTER TABLE ".concat(this.escapePath(r)," ADD ").concat(this.buildCreateColumnSql(r,i)))),o.push(new O("UPDATE ".concat(this.escapePath(r),' SET "').concat(i.name,'" = "TEMP_OLD_').concat(c.name,'"'))),o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' DROP COLUMN "TEMP_OLD_').concat(c.name,'"'))),o.push(this.deleteTypeormMetadataSql({database:this.driver.database,schema:h,table:d,type:ke.GENERATED_COLUMN,name:c.name})),a.push(this.insertTypeormMetadataSql({database:this.driver.database,schema:h,table:d,type:ke.GENERATED_COLUMN,name:c.name,value:c.asExpression})),a.push(new O("ALTER TABLE ".concat(this.escapePath(r)," ADD ").concat(this.buildCreateColumnSql(r,c)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' DROP COLUMN "').concat(i.name,'"')))}}await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:r}of t)await this.changeColumn(e,i,r)}async dropColumn(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableColumn(t)?t:i.findColumnByName(t);if(!r)throw new B('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));const s=i.clone(),o=[],a=[];if(r.isPrimary){const d=r.primaryKeyConstraintName?r.primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,s.primaryColumns.map(g=>g.name)),h=s.primaryColumns.map(g=>'"'.concat(g.name,'"')).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(s),' DROP CONSTRAINT "').concat(d,'"'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(s),' ADD CONSTRAINT "').concat(d,'" PRIMARY KEY (').concat(h,")")));const p=s.findColumnByName(r.name);if(p.isPrimary=!1,s.primaryColumns.length>0){const g=s.primaryColumns[0].primaryKeyConstraintName?s.primaryColumns[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,s.primaryColumns.map(T=>T.name)),m=s.primaryColumns.map(T=>'"'.concat(T.name,'"')).join(", ");o.push(new O("ALTER TABLE ".concat(this.escapePath(s),' ADD CONSTRAINT "').concat(g,'" PRIMARY KEY (').concat(m,")"))),a.push(new O("ALTER TABLE ".concat(this.escapePath(s),' DROP CONSTRAINT "').concat(g,'"')))}}const l=s.indices.find(d=>d.columnNames.length===1&&d.columnNames[0]===r.name);l&&(s.indices.splice(s.indices.indexOf(l),1),o.push(this.dropIndexSql(i,l)),a.push(this.createIndexSql(i,l)));const c=s.checks.find(d=>!!d.columnNames&&d.columnNames.length===1&&d.columnNames[0]===r.name);c&&(s.checks.splice(s.checks.indexOf(c),1),o.push(this.dropCheckConstraintSql(i,c)),a.push(this.createCheckConstraintSql(i,c)));const u=s.uniques.find(d=>d.columnNames.length===1&&d.columnNames[0]===r.name);if(u&&(s.uniques.splice(s.uniques.indexOf(u),1),o.push(this.dropUniqueConstraintSql(i,u)),a.push(this.createUniqueConstraintSql(i,u))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i),' DROP COLUMN "').concat(r.name,'"'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(i,r)))),(r.type==="enum"||r.type==="simple-enum")&&await this.hasEnumType(i,r)){const h=await this.getUserDefinedTypeName(i,r),p='"'.concat(h.schema,'"."').concat(h.name,'"');o.push(this.dropEnumTypeSql(i,r,p)),a.push(this.createEnumTypeSql(i,r,p))}if(r.generatedType==="STORED"){const d=(await this.getTableNameWithSchema(i.name)).split("."),h=d[1],p=d[0],g=this.deleteTypeormMetadataSql({database:this.driver.database,schema:p,table:h,type:ke.GENERATED_COLUMN,name:r.name}),m=this.insertTypeormMetadataSql({database:this.driver.database,schema:p,table:h,type:ke.GENERATED_COLUMN,name:r.name,value:r.asExpression});o.push(g),a.push(m)}await this.executeQueries(o,a),s.removeColumn(r),this.replaceCachedTable(i,s)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t,i){const r=W.isTable(e)?e:await this.getCachedTable(e),s=r.clone(),o=this.createPrimaryKeySql(r,t,i);s.columns.forEach(l=>{t.find(c=>c===l.name)&&(l.isPrimary=!0)});const a=this.dropPrimaryKeySql(s);await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async updatePrimaryKeys(e,t){var i;const r=W.isTable(e)?e:await this.getCachedTable(e),s=r.clone(),o=t.map(h=>h.name),a=[],l=[],c=s.primaryColumns;if(c.length>0){const h=c[0].primaryKeyConstraintName?c[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,c.map(g=>g.name)),p=c.map(g=>'"'.concat(g.name,'"')).join(", ");a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(h,'"'))),l.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(h,'" PRIMARY KEY (').concat(p,")")))}s.columns.filter(h=>o.indexOf(h.name)!==-1).forEach(h=>h.isPrimary=!0);const u=!((i=c[0])===null||i===void 0)&&i.primaryKeyConstraintName?c[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,o),d=o.map(h=>'"'.concat(h,'"')).join(", ");a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(u,'" PRIMARY KEY (').concat(d,")"))),l.push(new O("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(u,'"'))),await this.executeQueries(a,l),this.replaceCachedTable(r,s)}async dropPrimaryKey(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=this.dropPrimaryKeySql(i),s=this.createPrimaryKeySql(i,i.primaryColumns.map(o=>o.name),t);await this.executeQueries(r,s),i.primaryColumns.forEach(o=>{o.isPrimary=!1})}async createUniqueConstraint(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.uniqueConstraintName(i,t.columnNames));const r=this.createUniqueConstraintSql(i,t),s=this.dropUniqueConstraintSql(i,t);await this.executeQueries(r,s),i.addUniqueConstraint(t)}async createUniqueConstraints(e,t){for(const i of t)await this.createUniqueConstraint(e,i)}async dropUniqueConstraint(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableUnique(t)?t:i.uniques.find(a=>a.name===t);if(!r)throw new B("Supplied unique constraint was not found in table ".concat(i.name));const s=this.dropUniqueConstraintSql(i,r),o=this.createUniqueConstraintSql(i,r);await this.executeQueries(s,o),i.removeUniqueConstraint(r)}async dropUniqueConstraints(e,t){for(const i of t)await this.dropUniqueConstraint(e,i)}async createCheckConstraint(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.checkConstraintName(i,t.expression));const r=this.createCheckConstraintSql(i,t),s=this.dropCheckConstraintSql(i,t);await this.executeQueries(r,s),i.addCheckConstraint(t)}async createCheckConstraints(e,t){const i=t.map(r=>this.createCheckConstraint(e,r));await Promise.all(i)}async dropCheckConstraint(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableCheck(t)?t:i.checks.find(a=>a.name===t);if(!r)throw new B("Supplied check constraint was not found in table ".concat(i.name));const s=this.dropCheckConstraintSql(i,r),o=this.createCheckConstraintSql(i,r);await this.executeQueries(s,o),i.removeCheckConstraint(r)}async dropCheckConstraints(e,t){const i=t.map(r=>this.dropCheckConstraint(e,r));await Promise.all(i)}async createExclusionConstraint(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.exclusionConstraintName(i,t.expression));const r=this.createExclusionConstraintSql(i,t),s=this.dropExclusionConstraintSql(i,t);await this.executeQueries(r,s),i.addExclusionConstraint(t)}async createExclusionConstraints(e,t){const i=t.map(r=>this.createExclusionConstraint(e,r));await Promise.all(i)}async dropExclusionConstraint(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableExclusion(t)?t:i.exclusions.find(a=>a.name===t);if(!r)throw new B("Supplied exclusion constraint was not found in table ".concat(i.name));const s=this.dropExclusionConstraintSql(i,r),o=this.createExclusionConstraintSql(i,r);await this.executeQueries(s,o),i.removeExclusionConstraint(r)}async dropExclusionConstraints(e,t){const i=t.map(r=>this.dropExclusionConstraint(e,r));await Promise.all(i)}async createForeignKey(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames,this.getTablePath(t),t.referencedColumnNames));const r=this.createForeignKeySql(i,t),s=this.dropForeignKeySql(i,t);await this.executeQueries(r,s),i.addForeignKey(t)}async createForeignKeys(e,t){for(const i of t)await this.createForeignKey(e,i)}async dropForeignKey(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableForeignKey(t)?t:i.foreignKeys.find(a=>a.name===t);if(!r)throw new B("Supplied foreign key was not found in table ".concat(i.name));r.name||(r.name=this.connection.namingStrategy.foreignKeyName(i,r.columnNames,this.getTablePath(r),r.referencedColumnNames));const s=this.dropForeignKeySql(i,r),o=this.createForeignKeySql(i,r);await this.executeQueries(s,o),i.removeForeignKey(r)}async dropForeignKeys(e,t){for(const i of t)await this.dropForeignKey(e,i)}async createIndex(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t)}async createViewIndex(e,t){const i=W.isView(e)?e:await this.getCachedView(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createViewIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t)}async createIndices(e,t){for(const i of t)await this.createIndex(e,i)}async createViewIndices(e,t){for(const i of t)await this.createViewIndex(e,i)}async dropIndex(e,t){const i=W.isTable(e)?e:await this.getCachedTable(e),r=W.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new B("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropViewIndex(e,t){const i=W.isView(e)?e:await this.getCachedView(e),r=W.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new B("Supplied index ".concat(t," was not found in view ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createViewIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropIndices(e,t){for(const i of t)await this.dropIndex(e,i)}async clearTable(e){await this.query("TRUNCATE TABLE ".concat(this.escapePath(e)))}async clearDatabase(){const e=[];this.connection.entityMetadatas.filter(r=>r.schema).forEach(r=>{!!e.find(o=>o===r.schema)||e.push(r.schema)}),e.push(this.driver.options.schema||"current_schema()");const t=e.map(r=>r==="current_schema()"?r:"'"+r+"'").join(", "),i=this.isTransactionActive;i||await this.startTransaction();try{const r=await this.getVersion(),s="SELECT 'DROP VIEW IF EXISTS \"' || schemaname || '\".\"' || viewname || '\" CASCADE;' as \"query\" "+'FROM "pg_views" WHERE "schemaname" IN ('.concat(t,") AND \"viewname\" NOT IN ('geography_columns', 'geometry_columns', 'raster_columns', 'raster_overviews')"),o=await this.query(s);if(await Promise.all(o.map(c=>this.query(c.query))),iA.isGreaterOrEqual(r,"9.3")){const c="SELECT 'DROP MATERIALIZED VIEW IF EXISTS \"' || schemaname || '\".\"' || matviewname || '\" CASCADE;' as \"query\" "+'FROM "pg_matviews" WHERE "schemaname" IN ('.concat(t,")"),u=await this.query(c);await Promise.all(u.map(d=>this.query(d.query)))}const a='SELECT \'DROP TABLE IF EXISTS "\' || schemaname || \'"."\' || tablename || \'" CASCADE;\' as "query" FROM "pg_tables" WHERE "schemaname" IN ('.concat(t,") AND \"tablename\" NOT IN ('spatial_ref_sys')"),l=await this.query(a);await Promise.all(l.map(c=>this.query(c.query))),await this.dropEnumTypes(t),i||await this.commitTransaction()}catch(r){try{i||await this.rollbackTransaction()}catch(s){}throw r}}async loadViews(e){if(!await this.hasTable(this.getTypeormMetadataTableName()))return[];e||(e=[]);const i=await this.getCurrentDatabase(),r=await this.getCurrentSchema(),s=e.length===0?"1=1":e.map(d=>this.driver.parseTableName(d)).map(({schema:d,tableName:h})=>(d||(d=this.driver.options.schema||r),'("t"."schema" = \''.concat(d,'\' AND "t"."name" = \'').concat(h,"')"))).join(" OR "),o=e.length===0?"1=1":e.map(d=>this.driver.parseTableName(d)).map(({schema:d,tableName:h})=>(d||(d=this.driver.options.schema||r),'("ns"."nspname" = \''.concat(d,'\' AND "t"."relname" = \'').concat(h,"')"))).join(" OR "),a='SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN \'t\' THEN \'TRUE\' ELSE\'FALSE\' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" '+'WHERE "t"."relkind" IN (\'m\') AND "cnst"."contype" IS NULL AND ('.concat(o,")"),l='SELECT "t".* FROM '.concat(this.escapePath(this.getTypeormMetadataTableName()),' "t" ')+'INNER JOIN "pg_catalog"."pg_class" "c" ON "c"."relname" = "t"."name" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "c"."relnamespace" AND "n"."nspname" = "t"."schema" '+'WHERE "t"."type" IN (\''.concat(ke.VIEW,"', '").concat(ke.MATERIALIZED_VIEW,"') ").concat(s?"AND (".concat(s,")"):""),c=await this.query(l),u=await this.query(a);return c.map(d=>{const h=Ee.uniq(u.filter(m=>m.table_name===d.name&&m.table_schema===d.schema),m=>m.constraint_name),p=new Rr,g=d.schema===r&&!this.driver.options.schema?void 0:d.schema;return p.database=i,p.schema=d.schema,p.name=this.driver.buildTableName(d.name,g),p.expression=d.value,p.materialized=d.type===ke.MATERIALIZED_VIEW,p.indices=h.map(m=>{const T=u.filter(w=>w.table_schema===m.table_schema&&w.table_name===m.table_name&&w.constraint_name===m.constraint_name);return new Nt({view:p,name:m.constraint_name,columnNames:T.map(w=>w.column_name),isUnique:m.is_unique==="TRUE",where:m.condition,isFulltext:!1})}),p})}async loadTables(e){if(e&&e.length===0)return[];const t=await this.getCurrentSchema(),i=await this.getCurrentDatabase(),r=[];if(e){const v='SELECT "table_schema", "table_name" FROM "information_schema"."tables" WHERE '+e.map(N=>this.driver.parseTableName(N)).map(({schema:N,tableName:M})=>'("table_schema" = \''.concat(N||t,"' AND \"table_name\" = '").concat(M,"')")).join(" OR ");r.push(...await this.query(v))}else{const b='SELECT "table_schema", "table_name" FROM "information_schema"."tables"';r.push(...await this.query(b))}if(r.length===0)return[];const o='SELECT columns.*, pg_catalog.col_description((\'"\' || table_catalog || \'"."\' || table_schema || \'"."\' || table_name || \'"\')::regclass::oid, ordinal_position) AS description, (\'"\' || "udt_schema" || \'"."\' || "udt_name" || \'"\')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE '+r.map(({table_schema:b,table_name:v})=>'("table_schema" = \''.concat(b,"' AND \"table_name\" = '").concat(v,"')")).join(" OR "),a=r.map(({table_schema:b,table_name:v})=>'("ns"."nspname" = \''.concat(b,'\' AND "t"."relname" = \'').concat(v,"')")).join(" OR "),l='SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN \'p\' THEN \'PRIMARY\' WHEN \'u\' THEN \'UNIQUE\' WHEN \'c\' THEN \'CHECK\' WHEN \'x\' THEN \'EXCLUDE\' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") '+"WHERE \"t\".\"relkind\" IN ('r', 'p') AND (".concat(a,")"),c='SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN \'t\' THEN \'TRUE\' ELSE\'FALSE\' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" '+'WHERE "t"."relkind" IN (\'r\', \'p\') AND "cnst"."contype" IS NULL AND ('.concat(a,")"),u=r.map(({table_schema:b,table_name:v})=>'("ns"."nspname" = \''.concat(b,'\' AND "cl"."relname" = \'').concat(v,"')")).join(" OR "),h=await this.hasSupportForPartitionedTables()?' AND "cl"."relispartition" = \'f\'':"",p='SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN \'INITIALLY DEFERRED\' ELSE \'INITIALLY IMMEDIATE\' END as condeferred, CASE "con1"."confdeltype" WHEN \'a\' THEN \'NO ACTION\' WHEN \'r\' THEN \'RESTRICT\' WHEN \'c\' THEN \'CASCADE\' WHEN \'n\' THEN \'SET NULL\' WHEN \'d\' THEN \'SET DEFAULT\' END as "confdeltype", CASE "con1"."confupdtype" WHEN \'a\' THEN \'NO ACTION\' WHEN \'r\' THEN \'RESTRICT\' WHEN \'c\' THEN \'CASCADE\' WHEN \'n\' THEN \'SET NULL\' WHEN \'d\' THEN \'SET DEFAULT\' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" '+'WHERE "con1"."contype" = \'f\' AND ('.concat(u,") ")+') "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" '+'INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid" '.concat(h)+'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"',[g,m,T,w]=await Promise.all([this.query(o),this.query(l),this.query(c),this.query(p)]);return Promise.all(r.map(async b=>{const v=new gt,N=(A,F)=>A[F]===t&&(!this.driver.options.schema||this.driver.options.schema===t)?void 0:A[F],M=N(b,"table_schema");v.database=i,v.schema=b.table_schema,v.name=this.driver.buildTableName(b.table_name,M),v.columns=await Promise.all(g.filter(A=>A.table_name===b.table_name&&A.table_schema===b.table_schema).map(async A=>{const F=m.filter(ae=>ae.table_name===A.table_name&&ae.table_schema===A.table_schema&&ae.column_name===A.column_name),D=new Rn;if(D.name=A.column_name,D.type=A.regtype.toLowerCase(),(D.type==="numeric"||D.type==="decimal"||D.type==="float")&&(A.numeric_precision!==null&&!this.isDefaultColumnPrecision(v,D,A.numeric_precision)?D.precision=A.numeric_precision:A.numeric_scale!==null&&!this.isDefaultColumnScale(v,D,A.numeric_scale)&&(D.precision=void 0),A.numeric_scale!==null&&!this.isDefaultColumnScale(v,D,A.numeric_scale)?D.scale=A.numeric_scale:A.numeric_precision!==null&&!this.isDefaultColumnPrecision(v,D,A.numeric_precision)&&(D.scale=void 0)),(D.type==="interval"||D.type==="time without time zone"||D.type==="time with time zone"||D.type==="timestamp without time zone"||D.type==="timestamp with time zone")&&(D.precision=this.isDefaultColumnPrecision(v,D,A.datetime_precision)?void 0:A.datetime_precision),A.data_type==="USER-DEFINED"||A.data_type==="ARRAY"){const{name:ae}=await this.getUserDefinedTypeName(v,D),Z=this.buildEnumName(v,D,!1,!0)!==ae?ae:void 0,j='SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" '+'WHERE "n"."nspname" = \''.concat(b.table_schema,'\' AND "t"."typname" = \'').concat(Z||ae,"'"),J=await this.query(j);if(J.length&&(D.type="enum",D.enum=J.map(ce=>ce.value),D.enumName=Z),A.data_type==="ARRAY"){D.isArray=!0;const ce=D.type.replace("[]","");D.type=this.connection.driver.normalizeType({type:ce})}}if(D.type==="geometry"||D.type==="geography"){const ae='SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", '+'"f_'.concat(D.type,'_column" "column_name", "srid", "type" ')+'FROM "'.concat(D.type,'_columns"')+") AS _ "+'WHERE "column_name" = \''.concat(A.column_name,"' AND ")+'"table_schema" = \''.concat(A.table_schema,"' AND ")+'"table_name" = \''.concat(A.table_name,"'"),te=await this.query(ae);te.length>0&&(D.spatialFeatureType=te[0].type,D.srid=te[0].srid)}if(this.driver.withLengthColumnTypes.indexOf(D.type)!==-1){let ae;if(D.isArray){const te=/\((\d+)\)/.exec(A.format_type);ae=te?te[1]:void 0}else A.character_maximum_length&&(ae=A.character_maximum_length.toString());ae&&(D.length=this.isDefaultColumnLength(v,D,ae)?"":ae)}D.isNullable=A.is_nullable==="YES";const G=F.find(ae=>ae.constraint_type==="PRIMARY");if(G){D.isPrimary=!0;const te=m.filter(j=>j.table_name===A.table_name&&j.table_schema===A.table_schema&&j.column_name!==A.column_name&&j.constraint_type==="PRIMARY").map(j=>j.column_name);te.push(A.column_name);const Z=this.connection.namingStrategy.primaryKeyName(v,te);G.constraint_name!==Z&&(D.primaryKeyConstraintName=G.constraint_name)}const ne=F.filter(ae=>ae.constraint_type==="UNIQUE"),ue=ne.every(ae=>m.some(te=>te.constraint_type==="UNIQUE"&&te.constraint_name===ae.constraint_name&&te.column_name!==A.column_name));if(D.isUnique=ne.length>0&&!ue,A.is_identity==="YES")D.isGenerated=!0,D.generationStrategy="identity",D.generatedIdentity=A.identity_generation;else if(A.column_default!==null&&A.column_default!==void 0){const ae="nextval('".concat(this.buildSequenceName(v,A.column_name),"'::regclass)"),te="nextval('".concat(this.buildSequencePath(v,A.column_name),"'::regclass)"),Z=A.column_default.replace(/"/g,"");Z===ae||Z===te?(D.isGenerated=!0,D.generationStrategy="increment"):A.column_default==="gen_random_uuid()"||/^uuid_generate_v\d\(\)/.test(A.column_default)?D.type==="uuid"?(D.isGenerated=!0,D.generationStrategy="uuid"):D.default=A.column_default:A.column_default==="now()"||A.column_default.indexOf("'now'::text")!==-1?D.default=A.column_default:(D.default=A.column_default.replace(/::[\w\s.\[\]\-"]+/g,""),D.default=D.default.replace(/^(-?\d+)$/,"'$1'"))}if(A.is_generated==="ALWAYS"&&A.generation_expression){D.generatedType="STORED";const ae=await this.selectTypeormMetadataSql({database:i,schema:b.table_schema,table:b.table_name,type:ke.GENERATED_COLUMN,name:D.name}),te=await this.query(ae.query,ae.parameters);te[0]&&te[0].value?D.asExpression=te[0].value:D.asExpression=""}return D.comment=A.description?A.description:void 0,A.character_set_name&&(D.charset=A.character_set_name),A.collation_name&&(D.collation=A.collation_name),D}));const L=Ee.uniq(m.filter(A=>A.table_name===b.table_name&&A.table_schema===b.table_schema&&A.constraint_type==="UNIQUE"),A=>A.constraint_name);v.uniques=L.map(A=>{const F=m.filter(D=>D.constraint_name===A.constraint_name);return new hn({name:A.constraint_name,columnNames:F.map(D=>D.column_name),deferrable:A.deferrable?A.deferred:void 0})});const I=Ee.uniq(m.filter(A=>A.table_name===b.table_name&&A.table_schema===b.table_schema&&A.constraint_type==="CHECK"),A=>A.constraint_name);v.checks=I.map(A=>{const F=m.filter(D=>D.constraint_name===A.constraint_name);return new qi({name:A.constraint_name,columnNames:F.map(D=>D.column_name),expression:A.expression.replace(/^\s*CHECK\s*\((.*)\)\s*$/i,"$1")})});const $=Ee.uniq(m.filter(A=>A.table_name===b.table_name&&A.table_schema===b.table_schema&&A.constraint_type==="EXCLUDE"),A=>A.constraint_name);v.exclusions=$.map(A=>new to({name:A.constraint_name,expression:A.expression.substring(8)}));const k=Ee.uniq(w.filter(A=>A.table_name===b.table_name&&A.table_schema===b.table_schema),A=>A.constraint_name);v.foreignKeys=k.map(A=>{const F=w.filter(ne=>ne.constraint_name===A.constraint_name),D=N(A,"referenced_table_schema"),G=this.driver.buildTableName(A.referenced_table_name,D);return new pi({name:A.constraint_name,columnNames:F.map(ne=>ne.column_name),referencedSchema:A.referenced_table_schema,referencedTableName:G,referencedColumnNames:F.map(ne=>ne.referenced_column_name),onDelete:A.on_delete,onUpdate:A.on_update,deferrable:A.deferrable?A.deferred:void 0})});const H=Ee.uniq(T.filter(A=>A.table_name===b.table_name&&A.table_schema===b.table_schema),A=>A.constraint_name);return v.indices=H.map(A=>{const F=T.filter(D=>D.table_schema===A.table_schema&&D.table_name===A.table_name&&D.constraint_name===A.constraint_name);return new Nt({table:v,name:A.constraint_name,columnNames:F.map(D=>D.column_name),isUnique:A.is_unique==="TRUE",where:A.condition,isSpatial:F.every(D=>this.driver.spatialTypes.indexOf(D.type_name)>=0),isFulltext:!1})}),v}))}createTableSql(e,t){const i=e.columns.map(o=>this.buildCreateColumnSql(e,o)).join(", ");let r="CREATE TABLE ".concat(this.escapePath(e)," (").concat(i);if(e.columns.filter(o=>o.isUnique).forEach(o=>{e.uniques.some(l=>l.columnNames.length===1&&l.columnNames[0]===o.name)||e.uniques.push(new hn({name:this.connection.namingStrategy.uniqueConstraintName(e,[o.name]),columnNames:[o.name]}))}),e.uniques.length>0){const o=e.uniques.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.uniqueConstraintName(e,a.columnNames),c=a.columnNames.map(d=>'"'.concat(d,'"')).join(", ");let u='CONSTRAINT "'.concat(l,'" UNIQUE (').concat(c,")");return a.deferrable&&(u+=" DEFERRABLE ".concat(a.deferrable)),u}).join(", ");r+=", ".concat(o)}if(e.checks.length>0){const o=e.checks.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.checkConstraintName(e,a.expression);return'CONSTRAINT "'.concat(l,'" CHECK (').concat(a.expression,")")}).join(", ");r+=", ".concat(o)}if(e.exclusions.length>0){const o=e.exclusions.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.exclusionConstraintName(e,a.expression);return'CONSTRAINT "'.concat(l,'" EXCLUDE ').concat(a.expression)}).join(", ");r+=", ".concat(o)}if(e.foreignKeys.length>0&&t){const o=e.foreignKeys.map(a=>{const l=a.columnNames.map(d=>'"'.concat(d,'"')).join(", ");a.name||(a.name=this.connection.namingStrategy.foreignKeyName(e,a.columnNames,this.getTablePath(a),a.referencedColumnNames));const c=a.referencedColumnNames.map(d=>'"'.concat(d,'"')).join(", ");let u='CONSTRAINT "'.concat(a.name,'" FOREIGN KEY (').concat(l,") REFERENCES ").concat(this.escapePath(this.getTablePath(a))," (").concat(c,")");return a.onDelete&&(u+=" ON DELETE ".concat(a.onDelete)),a.onUpdate&&(u+=" ON UPDATE ".concat(a.onUpdate)),a.deferrable&&(u+=" DEFERRABLE ".concat(a.deferrable)),u}).join(", ");r+=", ".concat(o)}const s=e.columns.filter(o=>o.isPrimary);if(s.length>0){const o=s[0].primaryKeyConstraintName?s[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(e,s.map(l=>l.name)),a=s.map(l=>'"'.concat(l.name,'"')).join(", ");r+=', CONSTRAINT "'.concat(o,'" PRIMARY KEY (').concat(a,")")}return r+=")",e.columns.filter(o=>o.comment).forEach(o=>r+="; COMMENT ON COLUMN ".concat(this.escapePath(e),'."').concat(o.name,'" IS ').concat(this.escapeComment(o.comment))),new O(r)}async getVersion(){return(await this.query("SELECT version()"))[0].version.replace(/^PostgreSQL ([\d\.]+) .*$/,"$1")}dropTableSql(e){return new O("DROP TABLE ".concat(this.escapePath(e)))}createViewSql(e){const t=e.materialized?"MATERIALIZED ":"",i=this.escapePath(e);return typeof e.expression=="string"?new O("CREATE ".concat(t,"VIEW ").concat(i," AS ").concat(e.expression)):new O("CREATE ".concat(t,"VIEW ").concat(i," AS ").concat(e.expression(this.connection).getQuery()))}async insertViewDefinitionSql(e){const t=await this.getCurrentSchema();let{schema:i,tableName:r}=this.driver.parseTableName(e);i||(i=t);const s=e.materialized?ke.MATERIALIZED_VIEW:ke.VIEW,o=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:s,schema:i,name:r,value:o})}dropViewSql(e){const t=e.materialized?"MATERIALIZED ":"";return new O("DROP ".concat(t,"VIEW ").concat(this.escapePath(e)))}async deleteViewDefinitionSql(e){const t=await this.getCurrentSchema();let{schema:i,tableName:r}=this.driver.parseTableName(e);i||(i=t);const s=e.materialized?ke.MATERIALIZED_VIEW:ke.VIEW;return this.deleteTypeormMetadataSql({type:s,schema:i,name:r})}async dropEnumTypes(e){const t='SELECT \'DROP TYPE IF EXISTS "\' || n.nspname || \'"."\' || t.typname || \'" CASCADE;\' as "query" FROM "pg_type" "t" INNER JOIN "pg_enum" "e" ON "e"."enumtypid" = "t"."oid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" '+'WHERE "n"."nspname" IN ('.concat(e,') GROUP BY "n"."nspname", "t"."typname"'),i=await this.query(t);await Promise.all(i.map(r=>this.query(r.query)))}async hasEnumType(e,t){let{schema:i}=this.driver.parseTableName(e);i||(i=await this.getCurrentSchema());const r=this.buildEnumName(e,t,!1,!0),s='SELECT "n"."nspname", "t"."typname" FROM "pg_type" "t" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" '+'WHERE "n"."nspname" = \''.concat(i,'\' AND "t"."typname" = \'').concat(r,"'");return!!(await this.query(s)).length}createEnumTypeSql(e,t,i){i||(i=this.buildEnumName(e,t));const r=t.enum.map(s=>"'".concat(s.replace("'","''"),"'")).join(", ");return new O("CREATE TYPE ".concat(i," AS ENUM(").concat(r,")"))}dropEnumTypeSql(e,t,i){return i||(i=this.buildEnumName(e,t)),new O("DROP TYPE ".concat(i))}createIndexSql(e,t){const i=t.columnNames.map(r=>'"'.concat(r,'"')).join(", ");return new O("CREATE ".concat(t.isUnique?"UNIQUE ":"",'INDEX "').concat(t.name,'" ON ').concat(this.escapePath(e)," ").concat(t.isSpatial?"USING GiST ":"","(").concat(i,") ").concat(t.where?"WHERE "+t.where:""))}createViewIndexSql(e,t){const i=t.columnNames.map(r=>'"'.concat(r,'"')).join(", ");return new O("CREATE ".concat(t.isUnique?"UNIQUE ":"",'INDEX "').concat(t.name,'" ON ').concat(this.escapePath(e)," (").concat(i,") ").concat(t.where?"WHERE "+t.where:""))}dropIndexSql(e,t){let i=W.isTableIndex(t)?t.name:t;const{schema:r}=this.driver.parseTableName(e);return r?new O('DROP INDEX "'.concat(r,'"."').concat(i,'"')):new O('DROP INDEX "'.concat(i,'"'))}createPrimaryKeySql(e,t,i){const r=i||this.connection.namingStrategy.primaryKeyName(e,t),s=t.map(o=>'"'.concat(o,'"')).join(", ");return new O("ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(r,'" PRIMARY KEY (').concat(s,")"))}dropPrimaryKeySql(e){if(!e.primaryColumns.length)throw new B("Table ".concat(e," has no primary keys."));const t=e.primaryColumns.map(s=>s.name),i=e.primaryColumns[0].primaryKeyConstraintName,r=i||this.connection.namingStrategy.primaryKeyName(e,t);return new O("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(r,'"'))}createUniqueConstraintSql(e,t){const i=t.columnNames.map(s=>'"'+s+'"').join(", ");let r="ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" UNIQUE (').concat(i,")");return t.deferrable&&(r+=" DEFERRABLE ".concat(t.deferrable)),new O(r)}dropUniqueConstraintSql(e,t){const i=W.isTableUnique(t)?t.name:t;return new O("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}createCheckConstraintSql(e,t){return new O("ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" CHECK (').concat(t.expression,")"))}dropCheckConstraintSql(e,t){const i=W.isTableCheck(t)?t.name:t;return new O("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}createExclusionConstraintSql(e,t){return new O("ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" EXCLUDE ').concat(t.expression))}dropExclusionConstraintSql(e,t){const i=W.isTableExclusion(t)?t.name:t;return new O("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}createForeignKeySql(e,t){const i=t.columnNames.map(o=>'"'+o+'"').join(", "),r=t.referencedColumnNames.map(o=>'"'+o+'"').join(",");let s="ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" FOREIGN KEY (').concat(i,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(t)),"(").concat(r,")");return t.onDelete&&(s+=" ON DELETE ".concat(t.onDelete)),t.onUpdate&&(s+=" ON UPDATE ".concat(t.onUpdate)),t.deferrable&&(s+=" DEFERRABLE ".concat(t.deferrable)),new O(s)}dropForeignKeySql(e,t){const i=W.isTableForeignKey(t)?t.name:t;return new O("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}buildSequenceName(e,t){const{tableName:i}=this.driver.parseTableName(e),r=W.isTableColumn(t)?t.name:t;let s="".concat(i,"_").concat(r,"_seq");return s.length>this.connection.driver.maxAliasLength&&(s="".concat(i.substring(0,29),"_").concat(r.substring(0,Math.max(29,63-e.name.length-5)),"_seq")),s}buildSequencePath(e,t){const{schema:i}=this.driver.parseTableName(e);return i?"".concat(i,".").concat(this.buildSequenceName(e,t)):this.buildSequenceName(e,t)}buildEnumName(e,t,i=!0,r,s){const{schema:o,tableName:a}=this.driver.parseTableName(e);let l=t.enumName?t.enumName:"".concat(a,"_").concat(t.name.toLowerCase(),"_enum");return o&&i&&(l="".concat(o,".").concat(l)),s&&(l=l+"_old"),l.split(".").map(c=>r?c:'"'.concat(c,'"')).join(".")}async getUserDefinedTypeName(e,t){let{schema:i,tableName:r}=this.driver.parseTableName(e);i||(i=await this.getCurrentSchema());const s=await this.query('SELECT "udt_schema", "udt_name" '+'FROM "information_schema"."columns" WHERE "table_schema" = \''.concat(i,"' AND \"table_name\" = '").concat(r,"' AND \"column_name\"='").concat(t.name,"'"));let o=s[0].udt_name;return o.indexOf("_")===0&&(o=o.substr(1,o.length)),{schema:s[0].udt_schema,name:o}}escapeComment(e){return!e||e.length===0?"NULL":(e=e.replace(/'/g,"''").replace(/\u0000/g,""),"'".concat(e,"'"))}escapePath(e){const{schema:t,tableName:i}=this.driver.parseTableName(e);return t&&t!==this.driver.searchSchema?'"'.concat(t,'"."').concat(i,'"'):'"'.concat(i,'"')}async getTableNameWithSchema(e){const t=W.isTable(e)?e.name:e;if(t.indexOf(".")===-1){const r=(await this.query("SELECT current_schema()"))[0].current_schema;return"".concat(r,".").concat(t)}else return"".concat(t.split(".")[0],".").concat(t.split(".")[1])}buildCreateColumnSql(e,t){let i='"'+t.name+'"';if(t.isGenerated===!0&&t.generationStrategy!=="uuid")if(t.generationStrategy==="identity"){const r=t.generatedIdentity||"BY DEFAULT";i+=" ".concat(t.type," GENERATED ").concat(r," AS IDENTITY")}else(t.type==="integer"||t.type==="int"||t.type==="int4")&&(i+=" SERIAL"),(t.type==="smallint"||t.type==="int2")&&(i+=" SMALLSERIAL"),(t.type==="bigint"||t.type==="int8")&&(i+=" BIGSERIAL");return t.type==="enum"||t.type==="simple-enum"?(i+=" "+this.buildEnumName(e,t),t.isArray&&(i+=" array")):(!t.isGenerated||t.type==="uuid")&&(i+=" "+this.connection.driver.createFullType(t)),t.generatedType==="STORED"&&t.asExpression&&(i+=" GENERATED ALWAYS AS (".concat(t.asExpression,") STORED")),t.charset&&(i+=' CHARACTER SET "'+t.charset+'"'),t.collation&&(i+=' COLLATE "'+t.collation+'"'),t.isNullable!==!0&&(i+=" NOT NULL"),t.default!==void 0&&t.default!==null&&(i+=" DEFAULT "+t.default),t.isGenerated&&t.generationStrategy==="uuid"&&!t.default&&(i+=" DEFAULT ".concat(this.driver.uuidGenerator)),i}async hasSupportForPartitionedTables(){return!!(await this.query("SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'")).length}}class b4 extends y4{constructor(e,t){super(e,t)}}class v4 extends b4{constructor(e,t,i){super(e,i),this.client=t}connect(){return this.databaseConnection?Promise.resolve(this.databaseConnection):this.databaseConnectionPromise?this.databaseConnectionPromise:(this.mode==="slave"&&this.driver.isReplicated?this.databaseConnectionPromise=this.driver.obtainSlaveConnection().then(([e,t])=>(this.driver.connectedQueryRunners.push(this),this.databaseConnection=e,this.releaseCallback=t,this.databaseConnection)):this.databaseConnectionPromise=this.driver.obtainMasterConnection().then(([e,t])=>(this.driver.connectedQueryRunners.push(this),this.databaseConnection=e,this.releaseCallback=t,this.databaseConnection)),this.databaseConnectionPromise)}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?await this.client.startTransaction():await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new bi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.commitTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new bi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.rollbackTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new En;const r=await this.client.query(e,t),s=new rr;return s.raw=r,r!=null&&r.hasOwnProperty("records")&&Array.isArray(r.records)&&(s.records=r.records),r!=null&&r.hasOwnProperty("numberOfRecordsUpdated")&&(s.affected=r.numberOfRecordsUpdated),i?s:s.raw}}class w4 extends rA{}class E4 extends w4{constructor(e){super(),this.transactionSupport="nested",this.connection=e,this.options=e.options,this.isReplicated=!1,this.loadDependencies(),this.client=new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions),this.database=me.buildDriverOptions(this.options).database}async connect(){}async disconnect(){}createQueryRunner(e){return new v4(this,new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions),e)}preparePersistentValue(e,t){return this.options.formatOptions&&this.options.formatOptions.castParameters===!1?super.preparePersistentValue(e,t):(t.transformer&&(e=zt.transformTo(t.transformer,e)),this.client.preparePersistentValue(e,t))}prepareHydratedValue(e,t){return this.options.formatOptions&&this.options.formatOptions.castParameters===!1?super.prepareHydratedValue(e,t):(t.transformer&&(e=zt.transformFrom(t.transformer,e)),this.client.prepareHydratedValue(e,t))}loadDependencies(){const e=this.options.driver||ut.load("typeorm-aurora-data-api-driver"),{pg:t}=e;this.DataApiDriver=t}executeQuery(e,t){return this.connection.query(t)}async afterConnect(){const e=await this.checkMetadataForExtensions();return e.hasExtensions&&await this.enableExtensions(e,this.connection),Promise.resolve()}}class x4 extends Ca{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Mr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async executeSet(e){if(this.isReleased)throw new En;return(await this.connect()).executeSet(e,!1)}async query(e,t,i=!1){if(this.isReleased)throw new En;const r=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const s=e.substr(0,e.indexOf(" "));try{let o;["BEGIN","ROLLBACK","COMMIT","CREATE","ALTER","DROP"].indexOf(s)!==-1?o=await r.execute(e,!1):["INSERT","UPDATE","DELETE"].indexOf(s)!==-1?o=await r.run(e,t,!1):o=await r.query(e,t||[]);const a=new rr;return o!=null&&o.hasOwnProperty("values")&&(a.raw=o.values,a.records=o.values),o!=null&&o.hasOwnProperty("changes")&&(a.affected=o.changes.changes,a.raw=o.changes.lastId||o.changes.changes),i?a:a.raw}catch(o){throw this.driver.connection.logger.logQueryError(o,e,t,this),new nr(e,t,o)}}parametrize(e){return Object.keys(e).map(t=>'"'.concat(t,'"')+"=?")}}class T4 extends Tc{constructor(e){super(e),this.database=this.options.database,this.driver=this.options.driver,this.sqlite=this.options.driver}async connect(){this.databaseConnection=this.createDatabaseConnection(),await this.databaseConnection}async disconnect(){return this.queryRunner=void 0,(await this.databaseConnection).close().then(()=>{this.databaseConnection=void 0})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new x4(this)),this.queryRunner}async createDatabaseConnection(){const e=this.options.mode||"no-encryption",t=e!=="no-encryption",i=typeof this.options.version>"u"?1:this.options.version,r=await this.sqlite.createConnection(this.options.database,t,e,i);return await r.open(),await r.query("PRAGMA foreign_keys = ON"),this.options.journalMode&&["DELETE","TRUNCATE","PERSIST","MEMORY","WAL","OFF"].indexOf(this.options.journalMode)!==-1&&await r.query("PRAGMA journal_mode = ".concat(this.options.journalMode)),r}loadDependencies(){if(this.sqlite=this.driver,!this.driver)throw new Sa("Capacitor","@capacitor-community/sqlite")}}class S4 extends lp{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.mode=t,this.broadcaster=new Mr(this)}async connect(){if(this.session)return Promise.resolve(this.session);const[e]=await this.driver.instanceDatabase.createSession({});return this.session=e,this.sessionTransaction=await e.transaction(),this.session}async release(){return this.isReleased=!0,this.session&&await this.session.delete(),this.session=void 0,Promise.resolve()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}await this.connect(),await this.sessionTransaction.begin(),this.connection.logger.logQuery("START TRANSACTION"),await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive||!this.sessionTransaction)throw new bi;await this.broadcaster.broadcast("BeforeTransactionCommit"),await this.sessionTransaction.commit(),this.connection.logger.logQuery("COMMIT"),this.isTransactionActive=!1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive||!this.sessionTransaction)throw new bi;await this.broadcaster.broadcast("BeforeTransactionRollback"),await this.sessionTransaction.rollback(),this.connection.logger.logQuery("ROLLBACK"),this.isTransactionActive=!1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new En;try{const r=+new Date;await this.connect();let s;const o=e.startsWith("SELECT"),a=o&&!this.isTransactionActive?this.driver.instanceDatabase:this.sessionTransaction;!this.isTransactionActive&&!o&&await this.sessionTransaction.begin();try{this.driver.connection.logger.logQuery(e,t,this),s=await a.run({sql:e,params:t?t.reduce((h,p,g)=>(h["param"+g]=p,h),{}):void 0,json:!0}),!this.isTransactionActive&&!o&&await this.sessionTransaction.commit()}catch(h){try{!this.isTransactionActive&&!o&&await this.sessionTransaction.rollback()}catch(p){}throw h}const l=this.driver.options.maxQueryExecutionTime,u=+new Date-r;l&&u>l&&this.driver.connection.logger.logQuerySlow(u,e,t,this);const d=new rr;return d.raw=s,d.records=s?s[0]:[],s&&s[1]&&s[1].rowCountExact&&(d.affected=parseInt(s[1].rowCountExact)),i?d:d.records}catch(r){throw this.driver.connection.logger.logQueryError(r,e,t,this),new nr(e,t,r)}finally{}}async updateDDL(e,t){if(this.isReleased)throw new En;this.driver.connection.logger.logQuery(e,t,this);try{const i=+new Date,[r]=await this.driver.instanceDatabase.updateSchema(e);await r.promise();const s=this.driver.options.maxQueryExecutionTime,a=+new Date-i;s&&a>s&&this.driver.connection.logger.logQuerySlow(a,e,t,this)}catch(i){throw this.driver.connection.logger.logQueryError(i,e,t,this),new nr(e,t,i)}}async stream(e,t,i,r){if(this.isReleased)throw new En;try{this.driver.connection.logger.logQuery(e,t,this);const s={sql:e,params:t?t.reduce((a,l,c)=>(a["param"+c]=l,a),{}):void 0,json:!0},o=this.driver.instanceDatabase.runStream(s);return i&&o.on("end",i),r&&o.on("error",r),o}catch(s){throw this.driver.connection.logger.logQueryError(s,e,t,this),new nr(e,t,s)}}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){throw new B("Check database queries are not supported by Spanner driver.")}async getCurrentDatabase(){throw new B("Check database queries are not supported by Spanner driver.")}async hasSchema(e){return!!(await this.query('SELECT * FROM "information_schema"."schemata" WHERE "schema_name" = \''.concat(e,"'"))).length}async getCurrentSchema(){throw new B("Check schema queries are not supported by Spanner driver.")}async hasTable(e){const t=e instanceof gt?e.name:e,i="SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE' "+"AND `TABLE_NAME` = '".concat(t,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=e instanceof gt?e.name:e,r="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' "+"AND `TABLE_NAME` = '".concat(i,"' AND `COLUMN_NAME` = '").concat(t,"'");return!!(await this.query(r)).length}async createDatabase(e,t){if(t&&await this.hasDatabase(e))return Promise.resolve();const i='CREATE DATABASE "'.concat(e,'"'),r='DROP DATABASE "'.concat(e,'"');await this.executeQueries(new O(i),new O(r))}async dropDatabase(e,t){const i=t?'DROP DATABASE IF EXISTS "'.concat(e,'"'):'DROP DATABASE "'.concat(e,'"'),r='CREATE DATABASE "'.concat(e,'"');await this.executeQueries(new O(i),new O(r))}async createSchema(e,t){return Promise.resolve()}async dropSchema(e,t,i){return Promise.resolve()}async createTable(e,t=!1,i=!0,r=!0){if(t&&await this.hasTable(e))return Promise.resolve();const s=[],o=[];s.push(this.createTableSql(e,i)),o.push(this.dropTableSql(e)),i&&e.foreignKeys.forEach(l=>o.push(this.dropForeignKeySql(e,l))),r&&e.indices.forEach(l=>{l.name||(l.name=this.connection.namingStrategy.indexName(e,l.columnNames,l.where)),s.push(this.createIndexSql(e,l)),o.push(this.dropIndexSql(e,l))});const a=e.columns.filter(l=>l.generatedType&&l.asExpression);for(const l of a){const c=this.insertTypeormMetadataSql({table:e.name,type:ke.GENERATED_COLUMN,name:l.name,value:l.asExpression}),u=this.deleteTypeormMetadataSql({table:e.name,type:ke.GENERATED_COLUMN,name:l.name});s.push(c),o.push(u)}await this.executeQueries(s,o)}async dropTable(e,t,i=!0,r=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const s=i,o=this.getTablePath(e),a=await this.getCachedTable(o),l=[],c=[];r&&a.indices.forEach(d=>{l.push(this.dropIndexSql(a,d)),c.push(this.createIndexSql(a,d))}),i&&a.foreignKeys.forEach(d=>l.push(this.dropForeignKeySql(a,d))),l.push(this.dropTableSql(a)),c.push(this.createTableSql(a,s));const u=a.columns.filter(d=>d.generatedType&&d.asExpression);for(const d of u){const h=this.deleteTypeormMetadataSql({table:a.name,type:ke.GENERATED_COLUMN,name:d.name}),p=this.insertTypeormMetadataSql({table:a.name,type:ke.GENERATED_COLUMN,name:d.name,value:d.asExpression});l.push(h),c.push(p)}await this.executeQueries(l,c)}async createView(e){const t=[],i=[];t.push(this.createViewSql(e)),t.push(await this.insertViewDefinitionSql(e)),i.push(this.dropViewSql(e)),i.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(t,i)}async dropView(e){const t=e instanceof Rr?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(await this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(await this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){throw new B("Rename table queries are not supported by Spanner driver.")}async addColumn(e,t){const i=e instanceof gt?e:await this.getCachedTable(e),r=i.clone(),s=[],o=[];s.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(t)))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN ").concat(this.driver.escape(t.name))));const a=r.indices.find(l=>l.columnNames.length===1&&l.columnNames[0]===t.name);if(a)s.push(this.createIndexSql(i,a)),o.push(this.dropIndexSql(i,a));else if(t.isUnique){const l=new Nt({name:this.connection.namingStrategy.indexName(i,[t.name]),columnNames:[t.name],isUnique:!0});r.indices.push(l),r.uniques.push(new hn({name:l.name,columnNames:l.columnNames})),s.push(this.createIndexSql(i,l)),o.push(this.dropIndexSql(i,l))}if(t.generatedType&&t.asExpression){const l=this.insertTypeormMetadataSql({table:i.name,type:ke.GENERATED_COLUMN,name:t.name,value:t.asExpression}),c=this.deleteTypeormMetadataSql({table:i.name,type:ke.GENERATED_COLUMN,name:t.name});s.push(l),o.push(c)}await this.executeQueries(s,o),r.addColumn(t),this.replaceCachedTable(i,r)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const r=e instanceof gt?e:await this.getCachedTable(e),s=t instanceof Rn?t:r.columns.find(a=>a.name===t);if(!s)throw new B('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;return i instanceof Rn?o=i:(o=s.clone(),o.name=i),this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=e instanceof gt?e:await this.getCachedTable(e);let s=r.clone();const o=[],a=[],l=t instanceof Rn?t:r.columns.find(c=>c.name===t);if(!l)throw new B('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));if(l.name!==i.name||l.type!==i.type||l.length!==i.length||l.isArray!==i.isArray||l.generatedType!==i.generatedType||l.asExpression!==i.asExpression)await this.dropColumn(r,l),await this.addColumn(r,i),s=r.clone();else if((i.precision!==l.precision||i.scale!==l.scale)&&(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(i)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(l))))),l.isNullable!==i.isNullable&&(i.isNullable?(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" DROP NOT NULL'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" SET NOT NULL')))):(o.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" SET NOT NULL'))),a.push(new O("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" DROP NOT NULL'))))),i.isUnique!==l.isUnique)if(i.isUnique===!0){const c=new Nt({name:this.connection.namingStrategy.indexName(r,[i.name]),columnNames:[i.name],isUnique:!0});s.indices.push(c),s.uniques.push(new hn({name:c.name,columnNames:c.columnNames})),o.push(this.createIndexSql(r,c)),a.push(this.dropIndexSql(r,c))}else{const c=s.indices.find(d=>d.columnNames.length===1&&d.isUnique===!0&&!!d.columnNames.find(h=>h===i.name));s.indices.splice(s.indices.indexOf(c),1);const u=s.uniques.find(d=>d.name===c.name);s.uniques.splice(s.uniques.indexOf(u),1),o.push(this.dropIndexSql(r,c)),a.push(this.createIndexSql(r,c))}await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:r}of t)await this.changeColumn(e,i,r)}async dropColumn(e,t){const i=e instanceof gt?e:await this.getCachedTable(e),r=t instanceof Rn?t:i.findColumnByName(t);if(!r)throw new B('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));const s=i.clone(),o=[],a=[],l=s.indices.find(u=>u.columnNames.length===1&&u.columnNames[0]===r.name);l&&(s.indices.splice(s.indices.indexOf(l),1),o.push(this.dropIndexSql(i,l)),a.push(this.createIndexSql(i,l)));const c=s.checks.find(u=>!!u.columnNames&&u.columnNames.length===1&&u.columnNames[0]===r.name);if(c&&(s.checks.splice(s.checks.indexOf(c),1),o.push(this.dropCheckConstraintSql(i,c)),a.push(this.createCheckConstraintSql(i,c))),o.push(new O("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN ").concat(this.driver.escape(r.name)))),a.push(new O("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(r)))),r.generatedType&&r.asExpression){const u=this.deleteTypeormMetadataSql({table:i.name,type:ke.GENERATED_COLUMN,name:r.name}),d=this.insertTypeormMetadataSql({table:i.name,type:ke.GENERATED_COLUMN,name:r.name,value:r.asExpression});o.push(u),a.push(d)}await this.executeQueries(o,a),s.removeColumn(r),this.replaceCachedTable(i,s)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async updatePrimaryKeys(e,t){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async dropPrimaryKey(e){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async createUniqueConstraint(e,t){throw new B("Spanner does not support unique constraints. Use unique index instead.")}async createUniqueConstraints(e,t){throw new B("Spanner does not support unique constraints. Use unique index instead.")}async dropUniqueConstraint(e,t){throw new B("Spanner does not support unique constraints. Use unique index instead.")}async dropUniqueConstraints(e,t){throw new B("Spanner does not support unique constraints. Use unique index instead.")}async createCheckConstraint(e,t){const i=e instanceof gt?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.checkConstraintName(i,t.expression));const r=this.createCheckConstraintSql(i,t),s=this.dropCheckConstraintSql(i,t);await this.executeQueries(r,s),i.addCheckConstraint(t)}async createCheckConstraints(e,t){const i=t.map(r=>this.createCheckConstraint(e,r));await Promise.all(i)}async dropCheckConstraint(e,t){const i=e instanceof gt?e:await this.getCachedTable(e),r=t instanceof qi?t:i.checks.find(a=>a.name===t);if(!r)throw new B("Supplied check constraint was not found in table ".concat(i.name));const s=this.dropCheckConstraintSql(i,r),o=this.createCheckConstraintSql(i,r);await this.executeQueries(s,o),i.removeCheckConstraint(r)}async dropCheckConstraints(e,t){const i=t.map(r=>this.dropCheckConstraint(e,r));await Promise.all(i)}async createExclusionConstraint(e,t){throw new B("Spanner does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new B("Spanner does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new B("Spanner does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new B("Spanner does not support exclusion constraints.")}async createForeignKey(e,t){const i=e instanceof gt?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames,this.getTablePath(t),t.referencedColumnNames));const r=this.createForeignKeySql(i,t),s=this.dropForeignKeySql(i,t);await this.executeQueries(r,s),i.addForeignKey(t)}async createForeignKeys(e,t){for(const i of t)await this.createForeignKey(e,i)}async dropForeignKey(e,t){const i=e instanceof gt?e:await this.getCachedTable(e),r=t instanceof pi?t:i.foreignKeys.find(a=>a.name===t);if(!r)throw new B("Supplied foreign key was not found in table ".concat(i.name));const s=this.dropForeignKeySql(i,r),o=this.createForeignKeySql(i,r);await this.executeQueries(s,o),i.removeForeignKey(r)}async dropForeignKeys(e,t){for(const i of t)await this.dropForeignKey(e,i)}async createIndex(e,t){const i=e instanceof gt?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t)}async createIndices(e,t){for(const i of t)await this.createIndex(e,i)}async dropIndex(e,t){const i=e instanceof gt?e:await this.getCachedTable(e),r=t instanceof Nt?t:i.indices.find(a=>a.name===t);if(!r)throw new B("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropIndices(e,t){for(const i of t)await this.dropIndex(e,i)}async clearTable(e){await this.query("DELETE FROM ".concat(this.escapePath(e)," WHERE true"))}async clearDatabase(){const e="SELECT concat('DROP INDEX `', INDEX_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`INDEXES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `INDEX_TYPE` = 'INDEX' AND `SPANNER_IS_MANAGED` = false",t=await this.query(e),i="SELECT concat('ALTER TABLE `', TABLE_NAME, '`', ' DROP CONSTRAINT `', CONSTRAINT_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `CONSTRAINT_TYPE` = 'FOREIGN KEY'",r=await this.query(i),s="SELECT concat('DROP TABLE `', TABLE_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE'",o=await this.query(s);if(!t.length&&!r.length&&!o.length)return;const a=this.isTransactionActive;a||await this.startTransaction();try{for(let l of t)await this.updateDDL(l.query);for(let l of r)await this.updateDDL(l.query);for(let l of o)await this.updateDDL(l.query);await this.commitTransaction()}catch(l){try{a||await this.rollbackTransaction()}catch(c){}throw l}}async executeMemoryUpSql(){for(const{query:e,parameters:t}of this.sqlInMemory.upQueries)this.isDMLQuery(e)?await this.query(e,t):await this.updateDDL(e,t)}async executeMemoryDownSql(){for(const{query:e,parameters:t}of this.sqlInMemory.downQueries.reverse())this.isDMLQuery(e)?await this.query(e,t):await this.updateDDL(e,t)}async loadViews(e){return Promise.resolve([])}async loadTables(e){if(e&&e.length===0)return[];const t=[];if(!e||!e.length){const g="SELECT `TABLE_NAME` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE'";t.push(...await this.query(g))}else{const g="SELECT `TABLE_NAME` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE' "+"AND `TABLE_NAME` IN (".concat(e.map(m=>"'".concat(m,"'")).join(", "),")");t.push(...await this.query(g))}if(!t.length)return[];const i=t.map(g=>"'".concat(g.TABLE_NAME,"'")).join(", "),r="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_NAME` IN (".concat(i,")"),s="SELECT `KCU`.`TABLE_NAME`, `KCU`.`COLUMN_NAME` FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` `TC` INNER JOIN `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `KCU` ON `KCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` WHERE `TC`.`TABLE_CATALOG` = '' AND `TC`.`TABLE_SCHEMA` = '' AND `TC`.`CONSTRAINT_TYPE` = 'PRIMARY KEY' "+"AND `TC`.`TABLE_NAME` IN (".concat(i,")"),o="SELECT `I`.`TABLE_NAME`, `I`.`INDEX_NAME`, `I`.`IS_UNIQUE`, `I`.`IS_NULL_FILTERED`, `IC`.`COLUMN_NAME` FROM `INFORMATION_SCHEMA`.`INDEXES` `I` INNER JOIN `INFORMATION_SCHEMA`.`INDEX_COLUMNS` `IC` ON `IC`.`INDEX_NAME` = `I`.`INDEX_NAME` AND `IC`.`TABLE_NAME` = `I`.`TABLE_NAME` "+"WHERE `I`.`TABLE_CATALOG` = '' AND `I`.`TABLE_SCHEMA` = '' AND `I`.`TABLE_NAME` IN (".concat(i,") ")+"AND `I`.`INDEX_TYPE` = 'INDEX' AND `I`.`SPANNER_IS_MANAGED` = false",a="SELECT `TC`.`TABLE_NAME`, `TC`.`CONSTRAINT_NAME`, `CC`.`CHECK_CLAUSE`, `CCU`.`COLUMN_NAME`FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` `TC` INNER JOIN `INFORMATION_SCHEMA`.`CONSTRAINT_COLUMN_USAGE` `CCU` ON `CCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`CHECK_CONSTRAINTS` `CC` ON `CC`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` WHERE `TC`.`TABLE_CATALOG` = '' AND `TC`.`TABLE_SCHEMA` = '' AND `TC`.`CONSTRAINT_TYPE` = 'CHECK' "+"AND `TC`.`TABLE_NAME` IN (".concat(i,") AND `TC`.`CONSTRAINT_NAME` NOT LIKE 'CK_IS_NOT_NULL%'"),l="SELECT `TC`.`TABLE_NAME`, `TC`.`CONSTRAINT_NAME`, `KCU`.`COLUMN_NAME`, `CTU`.`TABLE_NAME` AS `REFERENCED_TABLE_NAME`, `CCU`.`COLUMN_NAME` AS `REFERENCED_COLUMN_NAME`, `RC`.`UPDATE_RULE`, `RC`.`DELETE_RULE` FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` `TC` INNER JOIN `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `KCU` ON `KCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`CONSTRAINT_TABLE_USAGE` `CTU` ON `CTU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `RC` ON `RC`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`CONSTRAINT_COLUMN_USAGE` `CCU` ON `CCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` WHERE `TC`.`TABLE_CATALOG` = '' AND `TC`.`TABLE_SCHEMA` = '' AND `TC`.`CONSTRAINT_TYPE` = 'FOREIGN KEY' "+"AND `TC`.`TABLE_NAME` IN (".concat(i,")"),[c,u,d,h,p]=await Promise.all([this.query(r),this.query(s),this.query(o),this.query(a),this.query(l)]);return Promise.all(t.map(async g=>{const m=new gt;m.name=this.driver.buildTableName(g.TABLE_NAME),m.columns=await Promise.all(c.filter(v=>v.TABLE_NAME===g.TABLE_NAME).map(async v=>{const N=d.filter(H=>H.TABLE_NAME===g.TABLE_NAME&&H.COLUMN_NAME===v.COLUMN_NAME&&H.IS_UNIQUE===!0),M=this.connection.entityMetadatas.find(H=>this.getTablePath(m)===this.getTablePath(H)),L=N.length>0&&M&&M.indices.some(H=>N.some(A=>H.name===A.INDEX_NAME&&H.synchronize===!1)),I=N.every(H=>d.some(A=>A.INDEX_NAME===H.INDEX_NAME&&A.COLUMN_NAME!==v.COLUMN_NAME)),$=new Rn;$.name=v.COLUMN_NAME;let k=v.SPANNER_TYPE.toLowerCase();if(k.indexOf("array")!==-1&&($.isArray=!0,k=k.substring(k.indexOf("<")+1,k.indexOf(">"))),k.indexOf("(")!==-1?$.type=k.substring(0,k.indexOf("(")):$.type=k,this.driver.withLengthColumnTypes.indexOf($.type)!==-1&&($.length=k.substring(k.indexOf("(")+1,k.indexOf(")"))),v.IS_GENERATED==="ALWAYS"){$.asExpression=v.GENERATION_EXPRESSION,$.generatedType="STORED";const H=await this.selectTypeormMetadataSql({table:g.TABLE_NAME,type:ke.GENERATED_COLUMN,name:$.name}),A=await this.query(H.query,H.parameters);A[0]&&A[0].value?$.asExpression=A[0].value:$.asExpression=""}return $.isUnique=N.length>0&&!L&&!I,$.isNullable=v.IS_NULLABLE==="YES",$.isPrimary=u.some(H=>H.TABLE_NAME===v.TABLE_NAME&&H.COLUMN_NAME===v.COLUMN_NAME),$}));const T=p.filter(v=>v.TABLE_NAME===g.TABLE_NAME);m.foreignKeys=Ee.uniq(T,v=>v.CONSTRAINT_NAME).map(v=>{const N=T.filter(M=>M.CONSTRAINT_NAME===v.CONSTRAINT_NAME);return new pi({name:v.CONSTRAINT_NAME,columnNames:Ee.uniq(N.map(M=>M.COLUMN_NAME)),referencedDatabase:v.REFERENCED_TABLE_SCHEMA,referencedTableName:v.REFERENCED_TABLE_NAME,referencedColumnNames:Ee.uniq(N.map(M=>M.REFERENCED_COLUMN_NAME)),onDelete:v.DELETE_RULE,onUpdate:v.UPDATE_RULE})});const w=d.filter(v=>v.TABLE_NAME===g.TABLE_NAME);m.indices=Ee.uniq(w,v=>v.INDEX_NAME).map(v=>{const N=w.filter(M=>M.INDEX_NAME===v.INDEX_NAME);return new Nt({table:m,name:v.INDEX_NAME,columnNames:N.map(M=>M.COLUMN_NAME),isUnique:v.IS_UNIQUE,isNullFiltered:v.IS_NULL_FILTERED})});const b=h.filter(v=>v.TABLE_NAME===g.TABLE_NAME);return m.checks=Ee.uniq(b,v=>v.CONSTRAINT_NAME).map(v=>{const N=b.filter(M=>M.CONSTRAINT_NAME===v.CONSTRAINT_NAME);return new qi({name:v.CONSTRAINT_NAME,columnNames:N.map(M=>M.COLUMN_NAME),expression:v.CHECK_CLAUSE})}),m}))}createTableSql(e,t){const i=e.columns.map(o=>this.buildCreateColumnSql(o)).join(", ");let r="CREATE TABLE ".concat(this.escapePath(e)," (").concat(i);if(e.columns.filter(o=>o.isUnique).forEach(o=>{const a=e.indices.some(c=>c.columnNames.length===1&&!!c.isUnique&&c.columnNames.indexOf(o.name)!==-1),l=e.uniques.some(c=>c.columnNames.length===1&&c.columnNames.indexOf(o.name)!==-1);!a&&!l&&e.indices.push(new Nt({name:this.connection.namingStrategy.uniqueConstraintName(e,[o.name]),columnNames:[o.name],isUnique:!0}))}),e.uniques.length>0&&e.uniques.forEach(o=>{e.indices.some(l=>l.name===o.name)||e.indices.push(new Nt({name:o.name,columnNames:o.columnNames,isUnique:!0}))}),e.checks.length>0){const o=e.checks.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.checkConstraintName(e,a.expression);return"CONSTRAINT `".concat(l,"` CHECK (").concat(a.expression,")")}).join(", ");r+=", ".concat(o)}if(e.foreignKeys.length>0&&t){const o=e.foreignKeys.map(a=>{const l=a.columnNames.map(u=>"`".concat(u,"`")).join(", ");a.name||(a.name=this.connection.namingStrategy.foreignKeyName(e,a.columnNames,this.getTablePath(a),a.referencedColumnNames));const c=a.referencedColumnNames.map(u=>"`".concat(u,"`")).join(", ");return"CONSTRAINT `".concat(a.name,"` FOREIGN KEY (").concat(l,") REFERENCES ").concat(this.escapePath(this.getTablePath(a))," (").concat(c,")")}).join(", ");r+=", ".concat(o)}r+=")";const s=e.columns.filter(o=>o.isPrimary);if(s.length>0){const o=s.map(a=>this.driver.escape(a.name)).join(", ");r+=" PRIMARY KEY (".concat(o,")")}return new O(r)}dropTableSql(e){return new O("DROP TABLE ".concat(this.escapePath(e)))}createViewSql(e){const t=e.materialized?"MATERIALIZED ":"",i=this.escapePath(e),r=typeof e.expression=="string"?e.expression:e.expression(this.connection).getQuery();return new O("CREATE ".concat(t,"VIEW ").concat(i," SQL SECURITY INVOKER AS ").concat(r))}async insertViewDefinitionSql(e){let{schema:t,tableName:i}=this.driver.parseTableName(e);const r=e.materialized?ke.MATERIALIZED_VIEW:ke.VIEW,s=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:r,schema:t,name:i,value:s})}dropViewSql(e){const t=e.materialized?"MATERIALIZED ":"";return new O("DROP ".concat(t,"VIEW ").concat(this.escapePath(e)))}async deleteViewDefinitionSql(e){let{schema:t,tableName:i}=this.driver.parseTableName(e);const r=e.materialized?ke.MATERIALIZED_VIEW:ke.VIEW;return this.deleteTypeormMetadataSql({type:r,schema:t,name:i})}createIndexSql(e,t){const i=t.columnNames.map(s=>this.driver.escape(s)).join(", ");let r="";return t.isUnique&&(r+="UNIQUE "),t.isNullFiltered&&(r+="NULL_FILTERED "),new O("CREATE ".concat(r,"INDEX `").concat(t.name,"` ON ").concat(this.escapePath(e)," (").concat(i,")"))}dropIndexSql(e,t){let i=t instanceof Nt?t.name:t;return new O("DROP INDEX `".concat(i,"`"))}createCheckConstraintSql(e,t){return new O("ALTER TABLE ".concat(this.escapePath(e)," ADD CONSTRAINT `").concat(t.name,"` CHECK (").concat(t.expression,")"))}dropCheckConstraintSql(e,t){const i=t instanceof qi?t.name:t;return new O("ALTER TABLE ".concat(this.escapePath(e)," DROP CONSTRAINT `").concat(i,"`"))}createForeignKeySql(e,t){const i=t.columnNames.map(o=>this.driver.escape(o)).join(", "),r=t.referencedColumnNames.map(o=>this.driver.escape(o)).join(",");let s="ALTER TABLE ".concat(this.escapePath(e)," ADD CONSTRAINT `").concat(t.name,"` FOREIGN KEY (").concat(i,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(t))," (").concat(r,")");return new O(s)}dropForeignKeySql(e,t){const i=t instanceof pi?t.name:t;return new O("ALTER TABLE ".concat(this.escapePath(e)," DROP CONSTRAINT `").concat(i,"`"))}escapePath(e){const{tableName:t}=this.driver.parseTableName(e);return"`".concat(t,"`")}buildCreateColumnSql(e){let t="".concat(this.driver.escape(e.name)," ").concat(this.connection.driver.createFullType(e));return e.generatedType==="STORED"&&e.asExpression?t+=" AS (".concat(e.asExpression,") STORED"):e.isNullable||(t+=" NOT NULL"),t}async executeQueries(e,t){if(e instanceof O&&(e=[e]),t instanceof O&&(t=[t]),this.sqlInMemory.upQueries.push(...e),this.sqlInMemory.downQueries.push(...t),this.sqlMemoryMode===!0)return Promise.resolve();for(const{query:i,parameters:r}of e)this.isDMLQuery(i)?await this.query(i,r):await this.updateDDL(i,r)}isDMLQuery(e){return e.startsWith("INSERT")||e.startsWith("UPDATE")||e.startsWith("DELETE")}}class C4{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="none",this.supportedDataTypes=["bool","int64","float64","numeric","string","json","bytes","date","timestamp","array"],this.supportedUpsertTypes=[],this.spatialTypes=[],this.withLengthColumnTypes=["string","bytes"],this.withWidthColumnTypes=[],this.withPrecisionColumnTypes=[],this.withScaleColumnTypes=[],this.mappedDataTypes={createDate:"timestamp",createDateDefault:"",updateDate:"timestamp",updateDateDefault:"",deleteDate:"timestamp",deleteDateNullable:!0,version:"int64",treeLevel:"int64",migrationId:"int64",migrationName:"string",migrationTimestamp:"int64",cacheId:"string",cacheIdentifier:"string",cacheTime:"int64",cacheDuration:"int64",cacheQuery:"string",cacheResult:"string",metadataType:"string",metadataDatabase:"string",metadataSchema:"string",metadataTable:"string",metadataName:"string",metadataValue:"string"},this.dataTypeDefaults={},this.maxAliasLength=63,this.cteCapabilities={enabled:!0},this._isReturningSqlSupported={delete:!1,insert:!1,update:!1},this.connection=e,this.options=e.options,this.isReplicated=!!this.options.replication,this.loadDependencies()}async connect(){this.instance=this.spanner.instance(this.options.instanceId),this.instanceDatabase=this.instance.database(this.options.databaseId)}afterConnect(){return Promise.resolve()}async disconnect(){this.instanceDatabase.close()}createSchemaBuilder(){return new ap(this.connection)}createQueryRunner(e){return new S4(this,e)}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return l===null?s:o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):l instanceof Function?l():(r.push(l),this.createParameter(a,r.length-1))}),e=e.replace(/([ ]+)?=([ ]+)?:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a,l,c)=>t.hasOwnProperty(c)&&t[c]===null?" IS NULL":s),[e,r])}escape(e){return"`".concat(e,"`")}buildTableName(e,t,i){let r=[e];return i&&r.unshift(i),r.join(".")}parseTableName(e){const t=this.database,i=void 0;if(e instanceof gt||e instanceof Rr){const s=this.parseTableName(e.name);return{database:e.database||s.database||t,schema:e.schema||s.schema||i,tableName:s.tableName}}if(e instanceof pi){const s=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||s.database||t,schema:e.referencedSchema||s.schema||i,tableName:s.tableName}}if(e instanceof Bi)return{database:e.database||t,schema:e.schema||i,tableName:e.tableName};const r=e.split(".");return{database:(r.length>1?r[0]:void 0)||t,schema:i,tableName:r.length>1?r[1]:r[0]}}preparePersistentValue(e,t){return t.transformer&&(e=zt.transformTo(t.transformer,e)),e==null?e:t.type==="numeric"?(this.options.driver||ut.load("spanner")).Spanner.numeric(e):t.type==="date"?Re.mixedDateToDateString(e):t.type==="json"?e:t.type==="timestamp"||t.type===Date?Re.mixedDateToDate(e):e}prepareHydratedValue(e,t){return e==null?t.transformer?zt.transformFrom(t.transformer,e):e:(t.type===Boolean||t.type==="bool"?e=!!e:t.type==="timestamp"||t.type===Date?e=new Date(e):t.type==="numeric"?e=e.value:t.type==="date"?e=Re.mixedDateToDateString(e):t.type==="json"?e=typeof e=="string"?JSON.parse(e):e:t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=zt.transformFrom(t.transformer,e)),e)}normalizeType(e){return e.type===Number?"int64":e.type===String||e.type==="uuid"?"string":e.type===Date?"timestamp":e.type===Buffer?"bytes":e.type===Boolean?"bool":e.type||""}normalizeDefault(e){return e.default===""?'"'.concat(e.default,'"'):"".concat(e.default)}normalizeIsUnique(e){return e.entityMetadata.indices.some(t=>t.isUnique&&t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){if(e.length)return e.length.toString();if(e.generationStrategy==="uuid")return"36";switch(e.type){case String:case"string":case"bytes":return"max";default:return""}}createFullType(e){let t=e.type;return this.getColumnLength(e)?t+="(".concat(this.getColumnLength(e),")"):e.width?t+="(".concat(e.width,")"):e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="(".concat(e.precision,",").concat(e.scale,")"):e.precision!==null&&e.precision!==void 0&&(t+="(".concat(e.precision,")")),e.isArray&&(t="array<".concat(t,">")),t}obtainMasterConnection(){return this.instanceDatabase}obtainSlaveConnection(){return this.instanceDatabase}createGeneratedMap(e,t,i){if(!t)return;if(t.insertId===void 0)return Object.keys(t).reduce((s,o)=>{const a=e.findColumnWithDatabaseName(o);return a&&Ee.mergeDeep(s,a.createValueMap(t[o])),s},{});const r=e.generatedColumns.reduce((s,o)=>{let a;return o.generationStrategy==="increment"&&t.insertId&&(a=t.insertId+i),Ee.mergeDeep(s,o.createValueMap(a))},{});return Object.keys(r).length>0?r:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);return r?r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==this.getColumnLength(i)||r.asExpression!==i.asExpression||r.generatedType!==i.generatedType||r.isPrimary!==i.isPrimary||!this.compareNullableValues(i,r)||r.isUnique!==this.normalizeIsUnique(i):!1})}isReturningSqlSupported(e){return this._isReturningSqlSupported[e]}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"@param"+t}loadDependencies(){try{const e=this.options.driver||ut.load("spanner");this.spanner=new e.Spanner({projectId:this.options.projectId})}catch(e){throw console.error(e),new Sa("Spanner","@google-cloud/spanner")}}compareNullableValues(e,t){return e.generatedType?!0:e.isNullable===t.isNullable}compareDefaultValues(e,t){return typeof e=="string"&&typeof t=="string"&&(e=e.replace(/^'+|'+$/g,""),t=t.replace(/^'+|'+$/g,"")),e===t}normalizeDatetimeFunction(e){if(!e)return e;if(e.toUpperCase().indexOf("CURRENT_TIMESTAMP")!==-1||e.toUpperCase().indexOf("NOW")!==-1){const i=e.match(/\(\d+\)/);return i?"CURRENT_TIMESTAMP".concat(i[0]):"CURRENT_TIMESTAMP"}else return e}escapeComment(e){return e&&(e=e.replace(/\u0000/g,""),e)}}class A4{create(e){const{type:t}=e.options;switch(t){case"mysql":return new nE(e);case"postgres":return new rA(e);case"cockroachdb":return new E6(e);case"sap":return new T6(e);case"mariadb":return new nE(e);case"sqlite":return new C6(e);case"better-sqlite3":return new A6(e);case"cordova":return new o4(e);case"nativescript":return new u4(e);case"react-native":return new l4(e);case"sqljs":return new h4(e);case"oracle":return new S6(e);case"mssql":return new x6(e);case"mongodb":return new b6(e);case"expo":return new f4(e);case"aurora-mysql":return new g4(e);case"aurora-postgres":return new E4(e);case"capacitor":return new T4(e);case"spanner":return new C4(e);default:throw new r6(t,["aurora-mysql","aurora-postgres","better-sqlite3","capacitor","cockroachdb","cordova","expo","mariadb","mongodb","mssql","mysql","nativescript","oracle","postgres","react-native","sap","sqlite","sqljs","spanner"])}}}function _f(n,e,t=[".js",".cjs",".ts"]){return[]}const N4=new class{constructor(){this.instances=[]}get(n){let e=this.instances.find(t=>t.type===n);return e||(e={type:n,object:new n},this.instances.push(e)),e.object}};function lE(n){return N4.get(n)}class li{constructor(e){this["@instanceof"]=Symbol.for("ColumnMetadata"),this.length="",this.isPrimary=!1,this.isGenerated=!1,this.isNullable=!1,this.isSelect=!0,this.isInsert=!0,this.isUpdate=!0,this.zerofill=!1,this.unsigned=!1,this.isArray=!1,this.isVirtual=!1,this.isVirtualProperty=!1,this.isDiscriminator=!1,this.isTreeLevel=!1,this.isCreateDate=!1,this.isUpdateDate=!1,this.isDeleteDate=!1,this.isVersion=!1,this.isObjectId=!1,this.isNestedSetLeft=!1,this.isNestedSetRight=!1,this.isMaterializedPath=!1,this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.referencedColumn=e.referencedColumn,e.args.target&&(this.target=e.args.target),e.args.propertyName&&(this.propertyName=e.args.propertyName),e.args.options.name&&(this.givenDatabaseName=e.args.options.name),e.args.options.type&&(this.type=e.args.options.type),e.args.options.length&&(this.length=e.args.options.length?e.args.options.length.toString():""),e.args.options.width&&(this.width=e.args.options.width),e.args.options.charset&&(this.charset=e.args.options.charset),e.args.options.collation&&(this.collation=e.args.options.collation),e.args.options.primary&&(this.isPrimary=e.args.options.primary),e.args.options.default===null&&(this.isNullable=!0),e.args.options.nullable!==void 0&&(this.isNullable=e.args.options.nullable),e.args.options.select!==void 0&&(this.isSelect=e.args.options.select),e.args.options.insert!==void 0&&(this.isInsert=e.args.options.insert),e.args.options.update!==void 0&&(this.isUpdate=e.args.options.update),e.args.options.readonly!==void 0&&(this.isUpdate=!e.args.options.readonly),e.args.options.comment&&(this.comment=e.args.options.comment),e.args.options.default!==void 0&&(this.default=e.args.options.default),e.args.options.onUpdate&&(this.onUpdate=e.args.options.onUpdate),e.args.options.generatedIdentity&&(this.generatedIdentity=e.args.options.generatedIdentity),e.args.options.scale!==null&&e.args.options.scale!==void 0&&(this.scale=e.args.options.scale),e.args.options.zerofill&&(this.zerofill=e.args.options.zerofill,this.unsigned=!0),e.args.options.unsigned&&(this.unsigned=e.args.options.unsigned),e.args.options.precision!==null&&(this.precision=e.args.options.precision),e.args.options.enum&&(Fe.isObject(e.args.options.enum)&&!Array.isArray(e.args.options.enum)?this.enum=Object.keys(e.args.options.enum).filter(t=>isNaN(+t)&&typeof e.args.options.enum[t]!="function").map(t=>e.args.options.enum[t]):this.enum=e.args.options.enum),e.args.options.enumName&&(this.enumName=e.args.options.enumName),e.args.options.primaryKeyConstraintName&&(this.primaryKeyConstraintName=e.args.options.primaryKeyConstraintName),e.args.options.foreignKeyConstraintName&&(this.foreignKeyConstraintName=e.args.options.foreignKeyConstraintName),e.args.options.asExpression&&(this.asExpression=e.args.options.asExpression,this.generatedType=e.args.options.generatedType?e.args.options.generatedType:"VIRTUAL"),e.args.options.hstoreType&&(this.hstoreType=e.args.options.hstoreType),e.args.options.array&&(this.isArray=e.args.options.array),e.args.mode&&(this.isVirtualProperty=e.args.mode==="virtual-property",this.isVirtual=e.args.mode==="virtual",this.isTreeLevel=e.args.mode==="treeLevel",this.isCreateDate=e.args.mode==="createDate",this.isUpdateDate=e.args.mode==="updateDate",this.isDeleteDate=e.args.mode==="deleteDate",this.isVersion=e.args.mode==="version",this.isObjectId=e.args.mode==="objectId"),this.isVirtualProperty&&(this.isInsert=!1,this.isUpdate=!1),e.args.options.transformer&&(this.transformer=e.args.options.transformer),e.args.options.spatialFeatureType&&(this.spatialFeatureType=e.args.options.spatialFeatureType),e.args.options.srid!==void 0&&(this.srid=e.args.options.srid),e.args.options.query&&(this.query=e.args.options.query),this.isTreeLevel&&(this.type=e.connection.driver.mappedDataTypes.treeLevel),this.isCreateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.createDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.createDateDefault),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.createDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.createDatePrecision)),this.isUpdateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.updateDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.updateDateDefault),this.onUpdate||(this.onUpdate=e.connection.driver.mappedDataTypes.updateDateDefault),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.updateDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.updateDatePrecision)),this.isDeleteDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.deleteDate),this.isNullable||(this.isNullable=e.connection.driver.mappedDataTypes.deleteDateNullable),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.deleteDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.deleteDatePrecision)),this.isVersion&&(this.type=e.connection.driver.mappedDataTypes.version),e.closureType&&(this.closureType=e.closureType),e.nestedSetLeft&&(this.isNestedSetLeft=e.nestedSetLeft),e.nestedSetRight&&(this.isNestedSetRight=e.nestedSetRight),e.materializedPath&&(this.isMaterializedPath=e.materializedPath)}createValueMap(e,t=!1){if(this.embeddedMetadata){const i=[...this.embeddedMetadata.parentPropertyNames],r=(s,o)=>{const a=s.shift();return a?(o[a]={},r(s,o[a]),o):((this.generationStrategy==="increment"||this.generationStrategy==="rowid")&&this.type==="bigint"&&e!==null&&(e=String(e)),o[t?this.databaseName:this.propertyName]=e,o)};return r(i,{})}else return(this.generationStrategy==="increment"||this.generationStrategy==="rowid")&&this.type==="bigint"&&e!==null&&(e=String(e)),{[t?this.databaseName:this.propertyName]:e}}getEntityValueMap(e,t){var i;if(this.embeddedMetadata){const s=[...this.embeddedMetadata.parentPropertyNames],o=this.embeddedMetadata.isArray,a=(c,u)=>{if(u===void 0)return{};const d=c.shift();if(d){const h=a(c,u[d]);return Object.keys(h).length>0?{[d]:h}:{}}return o&&Array.isArray(u)?u.map(h=>({[this.propertyName]:h[this.propertyName]})):u[this.propertyName]!==void 0?{[this.propertyName]:u[this.propertyName]}:{}},l=a(s,e);return Object.keys(l).length>0?l:void 0}else if(this.relationMetadata&&!(!((i=Object.getOwnPropertyDescriptor(e,this.relationMetadata.propertyName))===null||i===void 0)&&i.get)&&e[this.relationMetadata.propertyName]&&Fe.isObject(e[this.relationMetadata.propertyName])){const s=this.relationMetadata.joinColumns.reduce((o,a)=>{const l=a.referencedColumn.getEntityValueMap(e[this.relationMetadata.propertyName]);return l===void 0?o:Ee.mergeDeep(o,l)},{});return Object.keys(s).length>0?{[this.propertyName]:s}:void 0}else return e[this.propertyName]!==void 0?{[this.propertyName]:e[this.propertyName]}:void 0}getEntityValue(e,t=!1){if(e==null)return;let i;if(this.embeddedMetadata){const r=[...this.embeddedMetadata.parentPropertyNames],s=this.embeddedMetadata.isArray,o=(l,c)=>{const u=l.shift();return u&&c?o(l,c[u]):c},a=o(r,e);if(a)if(this.relationMetadata&&this.referencedColumn){const l=this.relationMetadata.getEntityValue(a);l&&Fe.isObject(l)&&!W.isFindOperator(l)&&!Buffer.isBuffer(l)?i=this.referencedColumn.getEntityValue(l):a[this.propertyName]&&Fe.isObject(a[this.propertyName])&&!W.isFindOperator(a[this.propertyName])&&!Buffer.isBuffer(a[this.propertyName])&&!(a[this.propertyName]instanceof Date)?i=this.referencedColumn.getEntityValue(a[this.propertyName]):i=a[this.propertyName]}else this.referencedColumn?i=this.referencedColumn.getEntityValue(a[this.propertyName]):s&&Array.isArray(a)?i=a.map(l=>l[this.propertyName]):i=a[this.propertyName]}else if(this.relationMetadata&&this.referencedColumn){const r=this.relationMetadata.getEntityValue(e);r&&Fe.isObject(r)&&!W.isFindOperator(r)&&typeof r!="function"&&!Buffer.isBuffer(r)?i=this.referencedColumn.getEntityValue(r):e[this.propertyName]&&Fe.isObject(e[this.propertyName])&&!W.isFindOperator(e[this.propertyName])&&typeof e[this.propertyName]!="function"&&!Buffer.isBuffer(e[this.propertyName])&&!(e[this.propertyName]instanceof Date)?i=this.referencedColumn.getEntityValue(e[this.propertyName]):i=e[this.propertyName]}else this.referencedColumn?i=this.referencedColumn.getEntityValue(e[this.propertyName]):i=e[this.propertyName];return t&&this.transformer&&(i=zt.transformTo(this.transformer,i)),i}setEntityValue(e,t){if(this.embeddedMetadata){const i=(r,s)=>{const o=r.shift();return o?(s[o.propertyName]||(s[o.propertyName]=o.create()),i(r,s[o.propertyName]),s):(s[this.propertyName]=t,s)};return i([...this.embeddedMetadata.embeddedMetadataTree],e)}else!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName?(this.propertyName in e||(e[this.propertyName]={}),e[this.propertyName][this.referencedColumn.propertyName]=t):e[this.propertyName]=t}compareEntityValue(e,t){const i=this.getEntityValue(e);return Fe.isObject(i)?i.equals(t):i===t}build(e){return this.propertyPath=this.buildPropertyPath(),this.propertyAliasName=this.propertyPath.replace(".","_"),this.databaseName=this.buildDatabaseName(e),this.databasePath=this.buildDatabasePath(),this.databaseNameWithoutPrefixes=e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,[]),this}buildPropertyPath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.propertyName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName&&(e+="."+this.referencedColumn.propertyName),e}buildDatabasePath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.databaseName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.databaseName!==this.databaseName&&(e+="."+this.referencedColumn.databaseName),e}buildDatabaseName(e){let t=this.embeddedMetadata?this.embeddedMetadata.parentPrefixes:[];return e.driver.options.type==="mongodb"&&(t=[]),e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,t)}}class Ni{constructor(e){this.isUnique=!1,this.isSpatial=!1,this.isFulltext=!1,this.isNullFiltered=!1,this.synchronize=!0,this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,e.args.synchronize!==null&&e.args.synchronize!==void 0&&(this.synchronize=e.args.synchronize),this.isUnique=!!e.args.unique,this.isSpatial=!!e.args.spatial,this.isFulltext=!!e.args.fulltext,this.isNullFiltered=!!e.args.nullFiltered,this.parser=e.args.parser,this.where=e.args.where,this.isSparse=e.args.sparse,this.isBackground=e.args.background,this.expireAfterSeconds=e.args.expireAfterSeconds,this.givenName=e.args.name,this.givenColumnNames=e.args.columns)}build(e){if(this.synchronize===!1)return this.name=this.givenName,this;const t={};if(this.givenColumnNames){let i=[];if(Array.isArray(this.givenColumnNames))i=this.givenColumnNames.map(r=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+r:r.trim()),i.forEach(r=>t[r]=1);else{const r=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(r)?(i=r.map(s=>String(s)),i.forEach(s=>t[s]=1)):(i=Object.keys(r).map(s=>String(s)),Object.keys(r).forEach(s=>t[s]=r[s]))}this.columns=i.map(r=>{const s=this.entityMetadata.columns.find(c=>c.propertyPath===r);if(s)return[s];const o=this.entityMetadata.relations.find(c=>c.isWithJoinColumn&&c.propertyName===r);if(o)return o.joinColumns;const a=this.givenName?'"'+this.givenName+'" ':"",l=this.entityMetadata.targetName;throw new B("Index ".concat(a,"contains column that is missing in the entity (").concat(l,"): ")+r)}).reduce((r,s)=>r.concat(s))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce((i,r)=>{const s=this.entityMetadata.columns.find(o=>o.propertyPath===r);return s&&(i[s.databasePath]=t[r]),i},{}),this.name=this.givenName?this.givenName:e.indexName(this.entityMetadata.tableName,this.columns.map(i=>i.databaseName),this.where),this}}class cE{constructor(e){this.isTreeParent=!1,this.isTreeChildren=!1,this.isPrimary=!1,this.isLazy=!1,this.isEager=!1,this.persistenceEnabled=!0,this.isCascadeInsert=!1,this.isCascadeUpdate=!1,this.isCascadeRemove=!1,this.isCascadeSoftRemove=!1,this.isCascadeRecover=!1,this.isNullable=!0,this.createForeignKeyConstraints=!0,this.isOwning=!1,this.isOneToOne=!1,this.isOneToOneOwner=!1,this.isWithJoinColumn=!1,this.isOneToOneNotOwner=!1,this.isOneToMany=!1,this.isManyToOne=!1,this.isManyToMany=!1,this.isManyToManyOwner=!1,this.isManyToManyNotOwner=!1,this.foreignKeys=[],this.joinColumns=[],this.inverseJoinColumns=[],this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata;const t=e.args;this.target=t.target,this.propertyName=t.propertyName,this.relationType=t.relationType,t.inverseSideProperty&&(this.givenInverseSidePropertyFactory=t.inverseSideProperty),this.isLazy=t.isLazy||!1,this.isCascadeInsert=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("insert")!==-1,this.isCascadeUpdate=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("update")!==-1,this.isCascadeRemove=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("remove")!==-1,this.isCascadeSoftRemove=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("soft-remove")!==-1,this.isCascadeRecover=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("recover")!==-1,this.isNullable=!(t.options.nullable===!1||this.isPrimary),this.onDelete=t.options.onDelete,this.onUpdate=t.options.onUpdate,this.deferrable=t.options.deferrable,this.createForeignKeyConstraints=t.options.createForeignKeyConstraints!==!1,this.isEager=t.options.eager||!1,this.persistenceEnabled=t.options.persistence!==!1,this.orphanedRowAction=t.options.orphanedRowAction||"nullify",this.isTreeParent=t.isTreeParent||!1,this.isTreeChildren=t.isTreeChildren||!1,typeof t.type=="function"?this.type=typeof t.type=="function"?t.type():t.type:W.isEntitySchema(t.type)?this.type=t.type.options.name:Fe.isObject(t.type)&&typeof t.type.name=="string"?this.type=t.type.name:this.type=t.type,this.isOneToOne=this.relationType==="one-to-one",this.isOneToMany=this.relationType==="one-to-many",this.isManyToOne=this.relationType==="many-to-one",this.isManyToMany=this.relationType==="many-to-many",this.isOneToOneNotOwner=!!this.isOneToOne,this.isManyToManyNotOwner=!!this.isManyToMany}getRelationIdMap(e){const i=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map(r=>r.referencedColumn);return Bi.getValueMap(e,i)}ensureRelationIdMap(e){if(Fe.isObject(e))return e;const i=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map(r=>r.referencedColumn);if(i.length>1)throw new B("Cannot create relation id map for a single value because relation contains multiple referenced columns.");return i[0].createValueMap(e)}getEntityValue(e,t=!1){if(e!=null)if(this.embeddedMetadata){const i=[...this.embeddedMetadata.parentPropertyNames],r=(o,a)=>{const l=o.shift();return l?a[l]?r(o,a[l]):void 0:a},s=r(i,e);return this.isLazy?s["__"+this.propertyName+"__"]!==void 0?s["__"+this.propertyName+"__"]:t===!0?s[this.propertyName]:void 0:s?s[this.isLazy?"__"+this.propertyName+"__":this.propertyName]:void 0}else return this.isLazy?e["__"+this.propertyName+"__"]!==void 0?e["__"+this.propertyName+"__"]:t===!0?e[this.propertyName]:void 0:e[this.propertyName]}setEntityValue(e,t){const i=this.isLazy?"__"+this.propertyName+"__":this.propertyName;if(this.embeddedMetadata){const r=(s,o)=>{const a=s.shift();return a?(o[a.propertyName]||(o[a.propertyName]=a.create()),r(s,o[a.propertyName]),o):(o[i]=t,o)};return r([...this.embeddedMetadata.embeddedMetadataTree],e)}else e[i]=t}createValueMap(e){if(this.embeddedMetadata){const t=[...this.embeddedMetadata.parentPropertyNames],i=(r,s)=>{const o=r.shift();return o?(s[o]={},i(r,s[o]),s):(s[this.propertyName]=e,s)};return i(t,{})}else return{[this.propertyName]:e}}build(){this.propertyPath=this.buildPropertyPath()}registerForeignKeys(...e){this.foreignKeys.push(...e)}registerJoinColumns(e=[],t=[]){this.joinColumns=e,this.inverseJoinColumns=t,this.isOwning=this.isManyToOne||(this.isManyToMany||this.isOneToOne)&&this.joinColumns.length>0,this.isOneToOneOwner=this.isOneToOne&&this.isOwning,this.isOneToOneNotOwner=this.isOneToOne&&!this.isOwning,this.isManyToManyOwner=this.isManyToMany&&this.isOwning,this.isManyToManyNotOwner=this.isManyToMany&&!this.isOwning,this.isWithJoinColumn=this.isManyToOne||this.isOneToOneOwner}registerJunctionEntityMetadata(e){this.junctionEntityMetadata=e,this.joinTableName=e.tableName,this.inverseRelation&&(this.inverseRelation.junctionEntityMetadata=e,this.joinTableName=e.tableName)}buildInverseSidePropertyPath(){if(this.givenInverseSidePropertyFactory){const e=this.inverseEntityMetadata.propertiesMap;if(typeof this.givenInverseSidePropertyFactory=="function")return this.givenInverseSidePropertyFactory(e);if(typeof this.givenInverseSidePropertyFactory=="string")return this.givenInverseSidePropertyFactory}else{if(this.isTreeParent&&this.entityMetadata.treeChildrenRelation)return this.entityMetadata.treeChildrenRelation.propertyName;if(this.isTreeChildren&&this.entityMetadata.treeParentRelation)return this.entityMetadata.treeParentRelation.propertyName}return""}buildPropertyPath(){return!this.embeddedMetadata||!this.embeddedMetadata.parentPropertyNames.length?this.propertyName:this.embeddedMetadata.parentPropertyNames.join(".")+"."+this.propertyName}}class k4{constructor(e){this.columns=[],this.relations=[],this.listeners=[],this.indices=[],this.uniques=[],this.relationIds=[],this.relationCounts=[],this.embeddeds=[],this.isAlwaysUsingConstructor=!0,this.isArray=!1,this.parentPropertyNames=[],this.parentPrefixes=[],this.embeddedMetadataTree=[],this.columnsFromTree=[],this.relationsFromTree=[],this.listenersFromTree=[],this.indicesFromTree=[],this.uniquesFromTree=[],this.relationIdsFromTree=[],this.relationCountsFromTree=[],this.entityMetadata=e.entityMetadata,this.type=e.args.type(),this.propertyName=e.args.propertyName,this.customPrefix=e.args.prefix,this.isArray=e.args.isArray}create(e){return typeof this.type!="function"?{}:e!=null&&e.fromDeserializer||!this.isAlwaysUsingConstructor?Object.create(this.type.prototype):new this.type}build(e){return this.embeddeds.forEach(t=>t.build(e)),this.prefix=this.buildPrefix(e),this.parentPropertyNames=this.buildParentPropertyNames(),this.parentPrefixes=this.buildParentPrefixes(),this.propertyPath=this.parentPropertyNames.join("."),this.embeddedMetadataTree=this.buildEmbeddedMetadataTree(),this.columnsFromTree=this.buildColumnsFromTree(),this.relationsFromTree=this.buildRelationsFromTree(),this.listenersFromTree=this.buildListenersFromTree(),this.indicesFromTree=this.buildIndicesFromTree(),this.uniquesFromTree=this.buildUniquesFromTree(),this.relationIdsFromTree=this.buildRelationIdsFromTree(),this.relationCountsFromTree=this.buildRelationCountsFromTree(),e.options.entitySkipConstructor&&(this.isAlwaysUsingConstructor=!e.options.entitySkipConstructor),this}buildPartialPrefix(){if(this.customPrefix===void 0||this.customPrefix===!0)return[this.propertyName];if(this.customPrefix===""||this.customPrefix===!1)return[];if(typeof this.customPrefix=="string")return[this.customPrefix];throw new B("Invalid prefix option given for ".concat(this.entityMetadata.targetName,"#").concat(this.propertyName))}buildPrefix(e){if(e.driver.options.type==="mongodb")return this.propertyName;let t=[];return this.parentEmbeddedMetadata&&t.push(this.parentEmbeddedMetadata.buildPrefix(e)),t.push(...this.buildPartialPrefix()),t.join("_")}buildParentPropertyNames(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPropertyNames().concat(this.propertyName):[this.propertyName]}buildParentPrefixes(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPrefixes().concat(this.buildPartialPrefix()):this.buildPartialPrefix()}buildEmbeddedMetadataTree(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildEmbeddedMetadataTree().concat(this):[this]}buildColumnsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildColumnsFromTree()),this.columns)}buildRelationsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationsFromTree()),this.relations)}buildListenersFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildListenersFromTree()),this.listeners)}buildIndicesFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildIndicesFromTree()),this.indices)}buildUniquesFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildUniquesFromTree()),this.uniques)}buildRelationIdsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationIdsFromTree()),this.relationIds)}buildRelationCountsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationCountsFromTree()),this.relationCounts)}}class uE{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}setValue(e){const t=this.relation.getEntityValue(e);if(Array.isArray(t))e[this.propertyName]=t.map(i=>this.relation.inverseEntityMetadata.getEntityIdMixedMap(i)).filter(i=>i!=null);else{const i=this.relation.inverseEntityMetadata.getEntityIdMixedMap(t);i!==void 0&&(e[this.propertyName]=i)}}build(){const e=typeof this.relationNameOrFactory=="function"?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new B("Cannot find relation ".concat(e,". Wrong relation specified for @RelationId decorator."));this.relation=t}}class dE{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}build(){const e=typeof this.relationNameOrFactory=="function"?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new B("Cannot find relation ".concat(e,". Wrong relation specified for @RelationCount decorator."));this.relation=t}}class Ct{}Ct.AFTER_LOAD="after-load";Ct.BEFORE_INSERT="before-insert";Ct.AFTER_INSERT="after-insert";Ct.BEFORE_UPDATE="before-update";Ct.AFTER_UPDATE="after-update";Ct.BEFORE_REMOVE="before-remove";Ct.AFTER_REMOVE="after-remove";Ct.BEFORE_SOFT_REMOVE="before-soft-remove";Ct.AFTER_SOFT_REMOVE="after-soft-remove";Ct.BEFORE_RECOVER="before-recover";Ct.AFTER_RECOVER="after-recover";class ic{constructor(e){this.columns=[],this.referencedColumns=[],this.columnNames=[],this.referencedColumnNames=[],this.entityMetadata=e.entityMetadata,this.referencedEntityMetadata=e.referencedEntityMetadata,this.columns=e.columns,this.referencedColumns=e.referencedColumns,this.onDelete=e.onDelete||"NO ACTION",this.onUpdate=e.onUpdate||"NO ACTION",this.deferrable=e.deferrable,this.givenName=e.name,e.namingStrategy&&this.build(e.namingStrategy)}build(e){this.columnNames=this.columns.map(t=>t.databaseName),this.referencedColumnNames=this.referencedColumns.map(t=>t.databaseName),this.referencedTablePath=this.referencedEntityMetadata.tablePath,this.name=this.givenName?this.givenName:e.foreignKeyName(this.entityMetadata.tableName,this.columnNames,this.referencedEntityMetadata.tableName,this.referencedColumnNames)}}class R4{constructor(e){this.connection=e}build(e,t){var i,r;const s=this.collectReferencedColumns(e,t),o=this.collectInverseReferencedColumns(e,t),a=t.name||this.connection.namingStrategy.joinTableName(e.entityMetadata.tableNameWithoutPrefix,e.inverseEntityMetadata.tableNameWithoutPrefix,e.propertyPath,e.inverseRelation?e.inverseRelation.propertyName:""),l=new Bi({connection:this.connection,args:{target:"",name:a,type:"junction",database:t.database||e.entityMetadata.database,schema:t.schema||e.entityMetadata.schema,synchronize:t.synchronize}});l.build();const c=s.map(d=>{const h=t.joinColumns?t.joinColumns.find(g=>(!g.referencedColumnName||g.referencedColumnName===d.propertyName)&&!!g.name):void 0,p=h&&h.name?h.name:this.connection.namingStrategy.joinTableColumnName(e.entityMetadata.tableNameWithoutPrefix,d.propertyName,d.databaseName);return new li({connection:this.connection,entityMetadata:l,referencedColumn:d,args:{target:"",mode:"virtual",propertyName:p,options:{name:p,length:!d.length&&(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&this.connection.driver.normalizeType(d)!=="uuid"&&(d.generationStrategy==="uuid"||d.type==="uuid")?"36":d.length,width:d.width,type:d.type,precision:d.precision,scale:d.scale,charset:d.charset,collation:d.collation,zerofill:d.zerofill,unsigned:d.zerofill?!0:d.unsigned,enum:d.enum,enumName:d.enumName,foreignKeyConstraintName:h==null?void 0:h.foreignKeyConstraintName,nullable:!1,primary:!0}}})}),u=o.map(d=>{const h=t.inverseJoinColumns?t.inverseJoinColumns.find(g=>(!g.referencedColumnName||g.referencedColumnName===d.propertyName)&&!!g.name):void 0,p=h&&h.name?h.name:this.connection.namingStrategy.joinTableInverseColumnName(e.inverseEntityMetadata.tableNameWithoutPrefix,d.propertyName,d.databaseName);return new li({connection:this.connection,entityMetadata:l,referencedColumn:d,args:{target:"",mode:"virtual",propertyName:p,options:{length:!d.length&&(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&this.connection.driver.normalizeType(d)!=="uuid"&&(d.generationStrategy==="uuid"||d.type==="uuid")?"36":d.length,width:d.width,type:d.type,precision:d.precision,scale:d.scale,charset:d.charset,collation:d.collation,zerofill:d.zerofill,unsigned:d.zerofill?!0:d.unsigned,enum:d.enum,enumName:d.enumName,foreignKeyConstraintName:h==null?void 0:h.foreignKeyConstraintName,name:p,nullable:!1,primary:!0}}})});return this.changeDuplicatedColumnNames(c,u),l.ownerColumns=c,l.inverseColumns=u,l.ownColumns=[...c,...u],l.ownColumns.forEach(d=>d.relationMetadata=e),l.foreignKeys=e.createForeignKeyConstraints?[new ic({entityMetadata:l,referencedEntityMetadata:e.entityMetadata,columns:c,referencedColumns:s,name:(i=c[0])===null||i===void 0?void 0:i.foreignKeyConstraintName,onDelete:this.connection.driver.options.type==="spanner"?"NO ACTION":e.onDelete||"CASCADE",onUpdate:this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="spanner"?"NO ACTION":e.onUpdate||"CASCADE"}),new ic({entityMetadata:l,referencedEntityMetadata:e.inverseEntityMetadata,columns:u,referencedColumns:o,name:(r=u[0])===null||r===void 0?void 0:r.foreignKeyConstraintName,onDelete:this.connection.driver.options.type==="spanner"?"NO ACTION":e.inverseRelation?e.inverseRelation.onDelete:"CASCADE",onUpdate:this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="spanner"?"NO ACTION":e.inverseRelation?e.inverseRelation.onUpdate:"CASCADE"})]:[],l.ownIndices=[new Ni({entityMetadata:l,columns:c,args:{target:l.target,synchronize:!0}}),new Ni({entityMetadata:l,columns:u,args:{target:l.target,synchronize:!0}})],l}collectReferencedColumns(e,t){const i=t.joinColumns?t.joinColumns.find(r=>!!r.referencedColumnName):!1;return!t.joinColumns||t.joinColumns&&!i?e.entityMetadata.columns.filter(r=>r.isPrimary):t.joinColumns.map(r=>{const s=e.entityMetadata.columns.find(o=>o.propertyName===r.referencedColumnName);if(!s)throw new B("Referenced column ".concat(r.referencedColumnName," was not found in entity ").concat(e.entityMetadata.name));return s})}collectInverseReferencedColumns(e,t){const i=!!t.inverseJoinColumns,r=i?t.inverseJoinColumns.find(s=>!!s.referencedColumnName):!1;return!i||i&&!r?e.inverseEntityMetadata.primaryColumns:t.inverseJoinColumns.map(s=>{const o=e.inverseEntityMetadata.ownColumns.find(a=>a.propertyName===s.referencedColumnName);if(!o)throw new B("Referenced column ".concat(s.referencedColumnName," was not found in entity ").concat(e.inverseEntityMetadata.name));return o})}changeDuplicatedColumnNames(e,t){e.forEach(i=>{t.forEach(r=>{if(i.givenDatabaseName===r.givenDatabaseName){const s=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(i.propertyName,1);i.propertyName=s,i.givenDatabaseName=s;const o=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(r.propertyName,2);r.propertyName=o,r.givenDatabaseName=o}})})}}class P4{constructor(e){this.connection=e}build(e){const t=new Bi({parentClosureEntityMetadata:e,connection:this.connection,args:{target:"",name:e.treeOptions&&e.treeOptions.closureTableName?e.treeOptions.closureTableName:e.tableNameWithoutPrefix,type:"closure-junction"}});return t.build(),e.primaryColumns.forEach(i=>{t.ownColumns.push(new li({connection:this.connection,entityMetadata:t,closureType:"ancestor",referencedColumn:i,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.ancestorColumnName?e.treeOptions.ancestorColumnName(i):i.propertyName+"_ancestor",options:{primary:!0,length:i.length,type:i.type}}})),t.ownColumns.push(new li({connection:this.connection,entityMetadata:t,closureType:"descendant",referencedColumn:i,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.descendantColumnName?e.treeOptions.descendantColumnName(i):i.propertyName+"_descendant",options:{primary:!0,length:i.length,type:i.type}}}))}),t.ownIndices=[new Ni({entityMetadata:t,columns:[t.ownColumns[0]],args:{target:t.target,synchronize:!0}}),new Ni({entityMetadata:t,columns:[t.ownColumns[1]],args:{target:t.target,synchronize:!0}})],e.treeLevelColumn&&t.ownColumns.push(new li({connection:this.connection,entityMetadata:t,args:{target:"",mode:"virtual",propertyName:"level",options:{type:this.connection.driver.mappedDataTypes.treeLevel}}})),t.foreignKeys=[new ic({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[0]],referencedColumns:e.primaryColumns,onDelete:this.connection.driver.options.type==="mssql"?"NO ACTION":"CASCADE"}),new ic({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[1]],referencedColumns:e.primaryColumns,onDelete:this.connection.driver.options.type==="mssql"?"NO ACTION":"CASCADE"})],t}}class Ju{constructor(e){this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,this.givenName=e.args.name,this.givenColumnNames=e.args.columns,this.deferrable=e.args.deferrable)}build(e){const t={};if(this.givenColumnNames){let i=[];if(Array.isArray(this.givenColumnNames))i=this.givenColumnNames.map(r=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+r:r.trim()),i.forEach(r=>t[r]=1);else{const r=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(r)?(i=r.map(s=>String(s)),i.forEach(s=>t[s]=1)):(i=Object.keys(r).map(s=>String(s)),Object.keys(r).forEach(s=>t[s]=r[s]))}this.columns=i.map(r=>{const s=this.entityMetadata.columns.find(c=>c.propertyPath===r);if(s)return[s];const o=this.entityMetadata.relations.find(c=>c.isWithJoinColumn&&c.propertyName===r);if(o)return o.joinColumns;const a=this.givenName?'"'+this.givenName+'" ':"",l=this.entityMetadata.targetName;throw new B("Unique constraint ".concat(a,"contains column that is missing in the entity (").concat(l,"): ")+r)}).reduce((r,s)=>r.concat(s))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce((i,r)=>{const s=this.entityMetadata.columns.find(o=>o.propertyPath===r);return s&&(i[s.databasePath]=t[r]),i},{}),this.name=this.givenName?this.givenName:e.uniqueConstraintName(this.entityMetadata.tableName,this.columns.map(i=>i.databaseName)),this}}class $4{constructor(e){this.connection=e}build(e,t){var i;const r=this.collectReferencedColumns(e,t),s=this.collectColumns(e,t,r);if(!r.length||!t.createForeignKeyConstraints)return{foreignKey:void 0,columns:s,uniqueConstraint:void 0};const o=new ic({name:(i=e[0])===null||i===void 0?void 0:i.foreignKeyConstraintName,entityMetadata:t.entityMetadata,referencedEntityMetadata:t.inverseEntityMetadata,namingStrategy:this.connection.namingStrategy,columns:s,referencedColumns:r,onDelete:t.onDelete,onUpdate:t.onUpdate,deferrable:t.deferrable});if(s.every(l=>l.isPrimary)||!t.isOneToOne)return{foreignKey:o,columns:s,uniqueConstraint:void 0};const a=new Ju({entityMetadata:t.entityMetadata,columns:o.columns,args:{name:this.connection.namingStrategy.relationConstraintName(t.entityMetadata.tableName,o.columns.map(l=>l.databaseName)),target:t.entityMetadata.target}});return a.build(this.connection.namingStrategy),{foreignKey:o,columns:s,uniqueConstraint:a}}collectReferencedColumns(e,t){const i=e.find(o=>!!o.referencedColumnName),r=e.length===0&&t.isManyToOne,s=e.length>0&&!i;return r||s?t.inverseEntityMetadata.primaryColumns:e.map(o=>{const a=t.inverseEntityMetadata.ownColumns.find(l=>l.propertyName===o.referencedColumnName);if(!a)throw new B("Referenced column ".concat(o.referencedColumnName," was not found in entity ").concat(t.inverseEntityMetadata.name));return a})}collectColumns(e,t,i){return i.map(r=>{const s=e.find(c=>(!c.referencedColumnName||c.referencedColumnName===r.propertyName)&&!!c.name),o=s?s.name:this.connection.namingStrategy.joinColumnName(t.propertyName,r.propertyName);let l=(t.embeddedMetadata?t.embeddedMetadata.columns:t.entityMetadata.ownColumns).find(c=>c.databaseNameWithoutPrefixes===o);return l||(l=new li({connection:this.connection,entityMetadata:t.entityMetadata,embeddedMetadata:t.embeddedMetadata,args:{target:"",mode:"virtual",propertyName:t.propertyName,options:{name:o,type:r.type,length:!r.length&&(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&this.connection.driver.normalizeType(r)!=="uuid"&&(r.generationStrategy==="uuid"||r.type==="uuid")?"36":r.length,width:r.width,charset:r.charset,collation:r.collation,precision:r.precision,scale:r.scale,zerofill:r.zerofill,unsigned:r.unsigned,comment:r.comment,enum:r.enum,enumName:r.enumName,primary:t.isPrimary,nullable:t.isNullable}}}),t.entityMetadata.registerColumn(l)),l.referencedColumn=r,l.type=r.type,l.relationMetadata=t,l.build(this.connection),l})}}class hE{constructor(e){this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.type=e.args.type}isAllowed(e){return this.entityMetadata.target===e.constructor||typeof this.entityMetadata.target=="function"&&e.constructor.prototype instanceof this.entityMetadata.target}execute(e){if(!this.embeddedMetadata)return e[this.propertyName]();this.callEntityEmbeddedMethod(e,this.embeddedMetadata.propertyPath.split("."))}callEntityEmbeddedMethod(e,t){const i=t.shift();!i||!e[i]||(t.length===0?Array.isArray(e[i])?e[i].map(r=>r[this.propertyName]()):e[i][this.propertyName]():e[i]&&this.callEntityEmbeddedMethod(e[i],t))}}class M4{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.checkConstraintName(this.entityMetadata.tableName,this.expression),this}}class I4{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.exclusionConstraintName(this.entityMetadata.tableName,this.expression),this}}class pE{constructor(e,t){this.connection=e,this.metadataArgsStorage=t,this.junctionEntityMetadataBuilder=new R4(e),this.closureJunctionEntityMetadataBuilder=new P4(e),this.relationJoinColumnBuilder=new $4(e)}build(e){const r=(e?this.metadataArgsStorage.filterTables(e):this.metadataArgsStorage.tables).filter(s=>s.type==="regular"||s.type==="closure"||s.type==="entity-child"||s.type==="view").map(s=>this.createEntityMetadata(s));return r.forEach(s=>this.computeParentEntityMetadata(r,s)),r.forEach(s=>{s.childEntityMetadatas=r.filter(o=>typeof s.target=="function"&&typeof o.target=="function"&&Ku.isInherited(o.target,s.target))}),r.filter(s=>s.tableType!=="entity-child").forEach(s=>s.build()),r.filter(s=>s.tableType==="entity-child").forEach(s=>s.build()),r.filter(s=>s.tableType!=="entity-child").forEach(s=>this.computeEntityMetadataStep1(r,s)),r.filter(s=>s.tableType==="entity-child").forEach(s=>this.computeEntityMetadataStep1(r,s)),r.forEach(s=>this.computeEntityMetadataStep2(s)),r.forEach(s=>this.computeInverseProperties(s,r)),r.filter(s=>s.tableType!=="entity-child").forEach(s=>{s.relations.filter(o=>o.isOneToOne||o.isManyToOne).forEach(o=>{const a=this.metadataArgsStorage.filterJoinColumns(o.target,o.propertyName),{foreignKey:l,columns:c,uniqueConstraint:u}=this.relationJoinColumnBuilder.build(a,o);if(l&&(o.registerForeignKeys(l),s.foreignKeys.push(l)),c&&o.registerJoinColumns(c),u)if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="mssql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){const d=new Ni({entityMetadata:u.entityMetadata,columns:u.columns,args:{target:u.target,name:u.name,unique:!0,synchronize:!0}});this.connection.driver.options.type==="mssql"&&(d.where=d.columns.map(h=>"".concat(this.connection.driver.escape(h.databaseName)," IS NOT NULL")).join(" AND ")),this.connection.driver.options.type==="spanner"&&(d.isNullFiltered=!0),o.embeddedMetadata?o.embeddedMetadata.indices.push(d):o.entityMetadata.ownIndices.push(d),this.computeEntityMetadataStep2(s)}else o.embeddedMetadata?o.embeddedMetadata.uniques.push(u):o.entityMetadata.ownUniques.push(u),this.computeEntityMetadataStep2(s);if(l&&this.connection.driver.options.type==="cockroachdb"){const d=new Ni({entityMetadata:o.entityMetadata,columns:l.columns,args:{target:o.entityMetadata.target,synchronize:!0}});o.embeddedMetadata?o.embeddedMetadata.indices.push(d):o.entityMetadata.ownIndices.push(d),this.computeEntityMetadataStep2(s)}}),s.relations.filter(o=>o.isManyToMany).forEach(o=>{const a=this.metadataArgsStorage.findJoinTable(o.target,o.propertyName);if(!a)return;const l=this.junctionEntityMetadataBuilder.build(o,a);o.registerForeignKeys(...l.foreignKeys),o.registerJoinColumns(l.ownIndices[0].columns,l.ownIndices[1].columns),o.registerJunctionEntityMetadata(l),this.computeEntityMetadataStep2(l),this.computeInverseProperties(l,r),r.push(l)})}),r.forEach(s=>{s.relationsWithJoinColumns=s.relations.filter(o=>o.isWithJoinColumn),s.hasNonNullableRelations=s.relationsWithJoinColumns.some(o=>!o.isNullable||o.isPrimary)}),r.filter(s=>s.treeType==="closure-table").forEach(s=>{const o=this.closureJunctionEntityMetadataBuilder.build(s);s.closureJunctionTable=o,this.computeEntityMetadataStep2(o),this.computeInverseProperties(o,r),r.push(o)}),r.filter(s=>s.inheritancePattern==="STI"&&s.discriminatorColumn).forEach(s=>this.createKeysForTableInheritance(s)),r.forEach(s=>{s.indices.forEach(o=>o.build(this.connection.namingStrategy))}),r.forEach(s=>{s.uniques.forEach(o=>o.build(this.connection.namingStrategy))}),r.forEach(s=>{s.checks.forEach(o=>o.build(this.connection.namingStrategy))}),r.forEach(s=>{s.exclusions.forEach(o=>o.build(this.connection.namingStrategy))}),r.filter(s=>typeof s.target=="function").forEach(s=>{s.relations.filter(o=>o.isLazy).forEach(o=>{this.connection.relationLoader.enableLazyLoad(o,s.target.prototype)})}),r.forEach(s=>{s.columns.forEach(o=>{const a=this.metadataArgsStorage.findGenerated(o.target,o.propertyName);a&&(o.isGenerated=!0,o.generationStrategy=a.strategy,a.strategy==="uuid"?o.type="uuid":a.strategy==="rowid"?o.type="int":o.type=o.type||Number,o.build(this.connection),this.computeEntityMetadataStep2(s))})}),r}createEntityMetadata(e){const t=typeof e.target=="function"?Ku.getInheritanceTree(e.target):[e.target],i=this.metadataArgsStorage.findInheritanceType(e.target),r=this.metadataArgsStorage.findTree(e.target);let s;return(i&&i.pattern==="STI"||e.type==="entity-child")&&(s=this.metadataArgsStorage.filterSingleTableChildren(e.target).map(o=>o.target).filter(o=>typeof o=="function"),t.push(...s)),new Bi({connection:this.connection,args:e,inheritanceTree:t,tableTree:r,inheritancePattern:i?i.pattern:void 0})}computeParentEntityMetadata(e,t){t.tableType==="entity-child"&&(t.parentEntityMetadata=e.find(i=>i.inheritanceTree.indexOf(t.target)!==-1&&i.inheritancePattern==="STI"))}computeEntityMetadataStep1(e,t){const i=this.metadataArgsStorage.findInheritanceType(t.target),r=this.metadataArgsStorage.findDiscriminatorValue(t.target);if(typeof r<"u"?t.discriminatorValue=r.value:t.discriminatorValue=t.target.name,t.embeddeds=this.createEmbeddedsRecursively(t,this.metadataArgsStorage.filterEmbeddeds(t.inheritanceTree)).map(o=>(t.inheritancePattern==="STI"&&(o.columns=o.columns.map(a=>(a.isNullable=!0,a))),o)),t.ownColumns=this.metadataArgsStorage.filterColumns(t.inheritanceTree).map(o=>{if(t.tableType==="entity-child")return t.parentEntityMetadata.ownColumns.find(c=>c.propertyName===o.propertyName);const a=new li({connection:this.connection,entityMetadata:t,args:o});return e.find(c=>c.tableType==="entity-child"&&c.target===o.target)&&(a.isNullable=!0),a}),i&&i.column){const o=i.column&&i.column.name?i.column.name:"type";let a=t.ownColumns.find(l=>l.propertyName===o);a?a.isDiscriminator=!0:(a=new li({connection:this.connection,entityMetadata:t,args:{target:t.target,mode:"virtual",propertyName:o,options:i.column||{name:o,type:"varchar",nullable:!1}}}),a.isVirtual=!0,a.isDiscriminator=!0,t.ownColumns.push(a))}if(t.tableType==="entity-child"){const o=t.parentEntityMetadata.ownColumns.find(a=>a.isDiscriminator);o&&!t.ownColumns.find(a=>a===o)&&t.ownColumns.push(o),t.inheritancePattern=t.parentEntityMetadata.inheritancePattern,!t.treeType&&t.parentEntityMetadata.treeType&&(t.treeType=t.parentEntityMetadata.treeType,t.treeOptions=t.parentEntityMetadata.treeOptions,t.treeParentRelation=t.parentEntityMetadata.treeParentRelation,t.treeLevelColumn=t.parentEntityMetadata.treeLevelColumn)}const{namingStrategy:s}=this.connection;if(t.treeType==="materialized-path")t.ownColumns.push(new li({connection:this.connection,entityMetadata:t,materializedPath:!0,args:{target:t.target,mode:"virtual",propertyName:"mpath",options:{name:s.materializedPathColumnName,type:String,nullable:!0,default:""}}}));else if(t.treeType==="nested-set"){const{left:o,right:a}=s.nestedSetColumnNames;t.ownColumns.push(new li({connection:this.connection,entityMetadata:t,nestedSetLeft:!0,args:{target:t.target,mode:"virtual",propertyName:o,options:{name:o,type:Number,nullable:!1,default:1}}})),t.ownColumns.push(new li({connection:this.connection,entityMetadata:t,nestedSetRight:!0,args:{target:t.target,mode:"virtual",propertyName:a,options:{name:a,type:Number,nullable:!1,default:2}}}))}if(t.ownRelations=this.metadataArgsStorage.filterRelations(t.inheritanceTree).map(o=>{if(t.tableType==="entity-child"){const a=t.parentEntityMetadata.ownRelations.find(c=>c.propertyName===o.propertyName),l=typeof o.type=="function"?o.type():o.type;if(a.type!==l){const c=Object.create(a);return c.type=l,c}return a}return new cE({entityMetadata:t,args:o})}),t.relationIds=this.metadataArgsStorage.filterRelationIds(t.inheritanceTree).map(o=>t.tableType==="entity-child"?t.parentEntityMetadata.relationIds.find(a=>a.propertyName===o.propertyName):new uE({entityMetadata:t,args:o})),t.relationCounts=this.metadataArgsStorage.filterRelationCounts(t.inheritanceTree).map(o=>t.tableType==="entity-child"?t.parentEntityMetadata.relationCounts.find(a=>a.propertyName===o.propertyName):new dE({entityMetadata:t,args:o})),t.ownListeners=this.metadataArgsStorage.filterListeners(t.inheritanceTree).map(o=>new hE({entityMetadata:t,args:o})),t.checks=this.metadataArgsStorage.filterChecks(t.inheritanceTree).map(o=>new M4({entityMetadata:t,args:o})),this.connection.driver.options.type==="postgres"&&(t.exclusions=this.metadataArgsStorage.filterExclusions(t.inheritanceTree).map(o=>new I4({entityMetadata:t,args:o}))),this.connection.driver.options.type==="cockroachdb"){t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter(a=>!a.unique).map(a=>new Ni({entityMetadata:t,args:a}));const o=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter(a=>a.unique).map(a=>new Ju({entityMetadata:t,args:{target:a.target,name:a.name,columns:a.columns}}));t.ownUniques.push(...o)}else t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).map(o=>new Ni({entityMetadata:t,args:o}));if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){const o=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map(a=>new Ni({entityMetadata:t,args:{target:a.target,name:a.name,columns:a.columns,unique:!0,synchronize:!0}}));t.ownIndices.push(...o)}else{const o=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map(a=>new Ju({entityMetadata:t,args:a}));t.ownUniques.push(...o)}}createEmbeddedsRecursively(e,t){return t.map(i=>{const r=new k4({entityMetadata:e,args:i}),s=typeof r.type=="function"?Ku.getInheritanceTree(r.type):[r.type];return r.columns=this.metadataArgsStorage.filterColumns(s).map(o=>new li({connection:this.connection,entityMetadata:e,embeddedMetadata:r,args:o})),r.relations=this.metadataArgsStorage.filterRelations(s).map(o=>new cE({entityMetadata:e,embeddedMetadata:r,args:o})),r.listeners=this.metadataArgsStorage.filterListeners(s).map(o=>new hE({entityMetadata:e,embeddedMetadata:r,args:o})),r.indices=this.metadataArgsStorage.filterIndices(s).map(o=>new Ni({entityMetadata:e,embeddedMetadata:r,args:o})),r.uniques=this.metadataArgsStorage.filterUniques(s).map(o=>new Ju({entityMetadata:e,embeddedMetadata:r,args:o})),r.relationIds=this.metadataArgsStorage.filterRelationIds(s).map(o=>new uE({entityMetadata:e,args:o})),r.relationCounts=this.metadataArgsStorage.filterRelationCounts(s).map(o=>new dE({entityMetadata:e,args:o})),r.embeddeds=this.createEmbeddedsRecursively(e,this.metadataArgsStorage.filterEmbeddeds(s)),r.embeddeds.forEach(o=>o.parentEmbeddedMetadata=r),e.allEmbeddeds.push(r),r})}computeEntityMetadataStep2(e){e.embeddeds.forEach(t=>t.build(this.connection)),e.embeddeds.forEach(t=>{t.columnsFromTree.forEach(i=>i.build(this.connection)),t.relationsFromTree.forEach(i=>i.build())}),e.ownColumns.forEach(t=>t.build(this.connection)),e.ownRelations.forEach(t=>t.build()),e.relations=e.embeddeds.reduce((t,i)=>t.concat(i.relationsFromTree),e.ownRelations),e.eagerRelations=e.relations.filter(t=>t.isEager),e.lazyRelations=e.relations.filter(t=>t.isLazy),e.oneToOneRelations=e.relations.filter(t=>t.isOneToOne),e.oneToManyRelations=e.relations.filter(t=>t.isOneToMany),e.manyToOneRelations=e.relations.filter(t=>t.isManyToOne),e.manyToManyRelations=e.relations.filter(t=>t.isManyToMany),e.ownerOneToOneRelations=e.relations.filter(t=>t.isOneToOneOwner),e.ownerManyToManyRelations=e.relations.filter(t=>t.isManyToManyOwner),e.treeParentRelation=e.relations.find(t=>t.isTreeParent),e.treeChildrenRelation=e.relations.find(t=>t.isTreeChildren),e.columns=e.embeddeds.reduce((t,i)=>t.concat(i.columnsFromTree),e.ownColumns),e.listeners=e.embeddeds.reduce((t,i)=>t.concat(i.listenersFromTree),e.ownListeners),e.afterLoadListeners=e.listeners.filter(t=>t.type===Ct.AFTER_LOAD),e.afterInsertListeners=e.listeners.filter(t=>t.type===Ct.AFTER_INSERT),e.afterUpdateListeners=e.listeners.filter(t=>t.type===Ct.AFTER_UPDATE),e.afterRemoveListeners=e.listeners.filter(t=>t.type===Ct.AFTER_REMOVE),e.afterSoftRemoveListeners=e.listeners.filter(t=>t.type===Ct.AFTER_SOFT_REMOVE),e.afterRecoverListeners=e.listeners.filter(t=>t.type===Ct.AFTER_RECOVER),e.beforeInsertListeners=e.listeners.filter(t=>t.type===Ct.BEFORE_INSERT),e.beforeUpdateListeners=e.listeners.filter(t=>t.type===Ct.BEFORE_UPDATE),e.beforeRemoveListeners=e.listeners.filter(t=>t.type===Ct.BEFORE_REMOVE),e.beforeSoftRemoveListeners=e.listeners.filter(t=>t.type===Ct.BEFORE_SOFT_REMOVE),e.beforeRecoverListeners=e.listeners.filter(t=>t.type===Ct.BEFORE_RECOVER),e.indices=e.embeddeds.reduce((t,i)=>t.concat(i.indicesFromTree),e.ownIndices),e.uniques=e.embeddeds.reduce((t,i)=>t.concat(i.uniquesFromTree),e.ownUniques),e.primaryColumns=e.columns.filter(t=>t.isPrimary),e.nonVirtualColumns=e.columns.filter(t=>!t.isVirtual),e.ancestorColumns=e.columns.filter(t=>t.closureType==="ancestor"),e.descendantColumns=e.columns.filter(t=>t.closureType==="descendant"),e.hasMultiplePrimaryKeys=e.primaryColumns.length>1,e.generatedColumns=e.columns.filter(t=>t.isGenerated||t.isObjectId),e.hasUUIDGeneratedColumns=e.columns.filter(t=>t.isGenerated||t.generationStrategy==="uuid").length>0,e.createDateColumn=e.columns.find(t=>t.isCreateDate),e.updateDateColumn=e.columns.find(t=>t.isUpdateDate),e.deleteDateColumn=e.columns.find(t=>t.isDeleteDate),e.versionColumn=e.columns.find(t=>t.isVersion),e.discriminatorColumn=e.columns.find(t=>t.isDiscriminator),e.treeLevelColumn=e.columns.find(t=>t.isTreeLevel),e.nestedSetLeftColumn=e.columns.find(t=>t.isNestedSetLeft),e.nestedSetRightColumn=e.columns.find(t=>t.isNestedSetRight),e.materializedPathColumn=e.columns.find(t=>t.isMaterializedPath),e.objectIdColumn=e.columns.find(t=>t.isObjectId),e.foreignKeys.forEach(t=>t.build(this.connection.namingStrategy)),e.propertiesMap=e.createPropertiesMap(),e.relationIds.forEach(t=>t.build()),e.relationCounts.forEach(t=>t.build()),e.embeddeds.forEach(t=>{t.relationIdsFromTree.forEach(i=>i.build()),t.relationCountsFromTree.forEach(i=>i.build())})}computeInverseProperties(e,t){e.relations.forEach(i=>{const r=t.find(s=>s.target===i.type||typeof i.type=="string"&&(s.targetName===i.type||s.givenTableName===i.type));if(!r)throw new B("Entity metadata for "+e.name+"#"+i.propertyPath+" was not found. Check if you specified a correct entity object and if it's connected in the connection options.");i.inverseEntityMetadata=r,i.inverseSidePropertyPath=i.buildInverseSidePropertyPath(),i.inverseRelation=r.relations.find(s=>s.propertyPath===i.inverseSidePropertyPath)})}createKeysForTableInheritance(e){e.indices.push(new Ni({entityMetadata:e,columns:[e.discriminatorColumn],args:{target:e.target,unique:!1}}))}}class Xd extends B{static createEntitySchemaIsRequiredException(e){return new Xd("EntitySchema is required for ".concat(e," embedded field"))}static createTargetIsRequired(e){return new Xd("Target field is required for ".concat(e," embedded EntitySchema"))}constructor(e){super(e)}}class O4{transform(e){const t=new zC;return e.forEach(i=>{var r;const s=i.options,o={target:s.target||s.name,name:s.tableName,database:s.database,schema:s.schema,type:s.type||"regular",orderBy:s.orderBy,synchronize:s.synchronize,withoutRowid:!!s.withoutRowid,expression:s.expression};t.tables.push(o);const{inheritance:a}=s;a&&t.inheritances.push({target:s.target,pattern:(r=a.pattern)!==null&&r!==void 0?r:"STI",column:a.column?typeof a.column=="string"?{name:a.column}:a.column:void 0}),this.transformColumnsRecursive(s,t)}),t}transformColumnsRecursive(e,t){Object.keys(e.columns).forEach(i=>{const s=e.columns[i];let o="regular";s.createDate&&(o="createDate"),s.updateDate&&(o="updateDate"),s.deleteDate&&(o="deleteDate"),s.version&&(o="version"),s.treeChildrenCount&&(o="treeChildrenCount"),s.treeLevel&&(o="treeLevel"),s.objectId&&(o="objectId");const a={target:e.target||e.name,mode:o,propertyName:i,options:{type:s.type,name:s.objectId?"_id":s.name,primaryKeyConstraintName:s.primaryKeyConstraintName,length:s.length,width:s.width,nullable:s.nullable,readonly:s.readonly,update:s.update,select:s.select,insert:s.insert,primary:s.primary,unique:s.unique,comment:s.comment,default:s.default,onUpdate:s.onUpdate,precision:s.precision,scale:s.scale,zerofill:s.zerofill,unsigned:s.unsigned,charset:s.charset,collation:s.collation,enum:s.enum,enumName:s.enumName,asExpression:s.asExpression,generatedType:s.generatedType,hstoreType:s.hstoreType,array:s.array,transformer:s.transformer,spatialFeatureType:s.spatialFeatureType,srid:s.srid}};if(t.columns.push(a),s.generated){const l={target:e.target||e.name,propertyName:i,strategy:typeof s.generated=="string"?s.generated:"increment"};t.generations.push(l)}s.unique&&t.uniques.push({target:e.target||e.name,columns:[i]})}),e.relations&&Object.keys(e.relations).forEach(i=>{const r=e.relations[i],s={target:e.target||e.name,propertyName:i,relationType:r.type,isLazy:r.lazy||!1,type:r.target,inverseSideProperty:r.inverseSide,isTreeParent:r.treeParent,isTreeChildren:r.treeChildren,options:{eager:r.eager||!1,cascade:r.cascade,nullable:r.nullable,onDelete:r.onDelete,onUpdate:r.onUpdate,deferrable:r.deferrable,createForeignKeyConstraints:r.createForeignKeyConstraints,persistence:r.persistence,orphanedRowAction:r.orphanedRowAction}};if(t.relations.push(s),r.joinColumn)if(typeof r.joinColumn=="boolean"){const o={target:e.target||e.name,propertyName:i};t.joinColumns.push(o)}else{const o=Array.isArray(r.joinColumn)?r.joinColumn:[r.joinColumn];for(const a of o){const l={target:e.target||e.name,propertyName:i,name:a.name,referencedColumnName:a.referencedColumnName,foreignKeyConstraintName:a.foreignKeyConstraintName};t.joinColumns.push(l)}}if(r.joinTable)if(typeof r.joinTable=="boolean"){const o={target:e.target||e.name,propertyName:i};t.joinTables.push(o)}else{const o={target:e.target||e.name,propertyName:i,name:r.joinTable.name,database:r.joinTable.database,schema:r.joinTable.schema,joinColumns:r.joinTable.joinColumn?[r.joinTable.joinColumn]:r.joinTable.joinColumns,inverseJoinColumns:r.joinTable.inverseJoinColumn?[r.joinTable.inverseJoinColumn]:r.joinTable.inverseJoinColumns};t.joinTables.push(o)}}),e.relationIds&&Object.keys(e.relationIds).forEach(i=>{const r=e.relationIds[i],s={propertyName:i,relation:r.relationName,target:e.target||e.name,alias:r.alias,queryBuilderFactory:r.queryBuilderFactory};t.relationIds.push(s)}),e.indices&&e.indices.forEach(i=>{const r={target:e.target||e.name,name:i.name,unique:i.unique===!0,spatial:i.spatial===!0,fulltext:i.fulltext===!0,nullFiltered:i.nullFiltered===!0,parser:i.parser,synchronize:i.synchronize!==!1,where:i.where,sparse:i.sparse,columns:i.columns};t.indices.push(r)}),e.uniques&&e.uniques.forEach(i=>{const r={target:e.target||e.name,name:i.name,columns:i.columns,deferrable:i.deferrable};t.uniques.push(r)}),e.checks&&e.checks.forEach(i=>{const r={target:e.target||e.name,name:i.name,expression:i.expression};t.checks.push(r)}),e.exclusions&&e.exclusions.forEach(i=>{const r={target:e.target||e.name,name:i.name,expression:i.expression};t.exclusions.push(r)}),e.embeddeds&&Object.keys(e.embeddeds).forEach(i=>{const r=e.embeddeds[i];if(!r.schema)throw Xd.createEntitySchemaIsRequiredException(i);const s=r.schema.options;t.embeddeds.push({target:e.target||e.name,propertyName:i,isArray:r.array===!0,prefix:r.prefix!==void 0?r.prefix:void 0,type:()=>(s==null?void 0:s.target)||s.name}),this.transformColumnsRecursive(s,t)})}}class _4{constructor(e){this.connection=e}async buildMigrations(e){const[t,i]=Ee.splitClassesAndStrings(e);return[...t,...await _f(this.connection.logger)].map(s=>lE(s))}async buildSubscribers(e){const[t,i]=Ee.splitClassesAndStrings(e||[]),r=[...t,...await _f(this.connection.logger)];return $i().filterSubscribers(r).map(s=>lE(s.target))}async buildEntityMetadatas(e){const[t,i]=Ee.splitClassesAndStrings(e||[]),r=t.filter(u=>!W.isEntitySchema(u)),s=t.filter(u=>W.isEntitySchema(u)),o=[...r,...await _f(this.connection.logger)];o.forEach(u=>{W.isEntitySchema(u)&&s.push(u)});const a=new pE(this.connection,$i()).build(o),l=new O4().transform(s),c=new pE(this.connection,l).build();return[...a,...c]}}class D4{constructor(e,t,i,r,s){this.expressionMap=e,this.driver=t,this.rawRelationIdResults=i,this.rawRelationCountResults=r,this.queryRunner=s}transform(e,t){const i=this.group(e,t),r=[];return i.forEach(s=>{const o=this.transformRawResultsGroup(s,t);o!==void 0&&!Object.values(o).every(a=>a===null)&&r.push(o)}),r}group(e,t){const i=new Map,r=[];return t.metadata.tableType==="view"?r.push(...t.metadata.columns.map(s=>me.buildAlias(this.driver,void 0,t.name,s.databaseName))):r.push(...t.metadata.primaryColumns.map(s=>me.buildAlias(this.driver,void 0,t.name,s.databaseName))),e.forEach(s=>{const o=r.map(l=>{const c=s[l];return Buffer.isBuffer(c)?c.toString("hex"):Fe.isObject(c)?JSON.stringify(c):c}).join("_"),a=i.get(o);a?a.push(s):i.set(o,[s])}),i}transformRawResultsGroup(e,t){let i=t.metadata;if(i.discriminatorColumn){const u=e.map(h=>h[me.buildAlias(this.driver,void 0,t.name,t.metadata.discriminatorColumn.databaseName)]),d=i.childEntityMetadatas.find(h=>typeof u.find(p=>p===h.discriminatorValue)<"u");d&&(i=d)}let r=i.create(this.queryRunner,{fromDeserializer:!0,pojo:this.expressionMap.options.indexOf("create-pojo")!==-1});const s=this.transformColumns(e,t,r,i),o=this.transformJoins(e,r,t,i),a=this.transformRelationIds(e,t,r,i),l=this.transformRelationCounts(e,t,r);if(s||i.primaryColumns.filter(u=>u.isVirtual===!1).length===0&&(o||a||l))return r}transformColumns(e,t,i,r){let s=!1;return r.columns.forEach(o=>{if(r.childEntityMetadatas.length>0&&r.childEntityMetadatas.findIndex(l=>l.target===o.target)!==-1)return;const a=e[0][me.buildAlias(this.driver,void 0,t.name,o.databaseName)];a===void 0||o.isVirtual||this.expressionMap.selects.find(l=>l.selection===t.name||l.selection===t.name+"."+o.propertyPath)&&(o.setEntityValue(i,this.driver.prepareHydratedValue(a,o)),a!==null&&(s=!0))}),s}transformJoins(e,t,i,r){let s=!1;return this.expressionMap.joinAttributes.forEach(o=>{if(!o.metadata||!o.isSelected||o.relation&&!r.relations.find(l=>l===o.relation))return;if(o.mapToProperty){if(o.mapToPropertyParentAlias!==i.name)return}else if(!o.relation||o.parentAlias!==i.name||o.relationPropertyPath!==o.relation.propertyPath)return;let a=this.transform(e,o.alias);a=o.isMany?a:a[0],a=!o.isMany&&a===void 0?null:a,a!==void 0&&(o.mapToPropertyPropertyName?t[o.mapToPropertyPropertyName]=a:o.relation.setEntityValue(t,a),s=!0)}),s}transformRelationIds(e,t,i,r){let s=!1;return this.rawRelationIdResults.forEach((o,a)=>{if(o.relationIdAttribute.parentAlias!==t.name)return;const l=o.relationIdAttribute.relation,c=this.createValueMapFromJoinColumns(l,o.relationIdAttribute.parentAlias,e);if(c==null)return;this.prepareDataForTransformRelationIds();const u=this.hashEntityIds(l,c),d=this.relationIdMaps[a][u]||[],h=o.relationIdAttribute.mapToPropertyPropertyPath.split("."),p=(g,m,T)=>{const w=g.shift();if(w&&g.length===0)return m[w]=T,m;if(w&&g.length>0)p(g,m[w],T);else return m};l.isOneToOne||l.isManyToOne?d[0]!==void 0&&(p(h,i,d[0]),s=!0):(p(h,i,d),s=s||d.length>0)}),s}transformRelationCounts(e,t,i){let r=!1;return this.rawRelationCountResults.filter(s=>s.relationCountAttribute.parentAlias===t.name).forEach(s=>{const o=s.relationCountAttribute.relation;let a;o.isOneToMany?a=o.inverseRelation.joinColumns[0].referencedColumn.databaseName:a=o.isOwning?o.joinColumns[0].referencedColumn.databaseName:o.inverseRelation.joinColumns[0].referencedColumn.databaseName;const l=e[0][me.buildAlias(this.driver,void 0,t.name,a)];l!=null&&(i[s.relationCountAttribute.mapToPropertyPropertyName]=0,s.results.filter(c=>c.parentId===l).forEach(c=>{i[s.relationCountAttribute.mapToPropertyPropertyName]=parseInt(c.cnt),r=!0}))}),r}createValueMapFromJoinColumns(e,t,i){let r;return e.isManyToOne||e.isOneToOneOwner?r=e.entityMetadata.primaryColumns.map(s=>s):e.isOneToMany||e.isOneToOneNotOwner?r=e.inverseRelation.joinColumns.map(s=>s):e.isOwning?r=e.joinColumns.map(s=>s):r=e.inverseRelation.inverseJoinColumns.map(s=>s),r.reduce((s,o)=>(i.forEach(a=>{e.isManyToOne||e.isOneToOneOwner?s[o.databaseName]=this.driver.prepareHydratedValue(a[me.buildAlias(this.driver,void 0,t,o.databaseName)],o):s[o.databaseName]=this.driver.prepareHydratedValue(a[me.buildAlias(this.driver,void 0,t,o.referencedColumn.databaseName)],o.referencedColumn)}),s),{})}extractEntityPrimaryIds(e,t){let i;return e.isManyToOne||e.isOneToOneOwner?i=e.entityMetadata.primaryColumns.map(r=>r):e.isOneToMany||e.isOneToOneNotOwner?i=e.inverseRelation.joinColumns.map(r=>r):e.isOwning?i=e.joinColumns.map(r=>r):i=e.inverseRelation.inverseJoinColumns.map(r=>r),i.reduce((r,s)=>(r[s.databaseName]=t[s.databaseName],r),{})}prepareDataForTransformRelationIds(){this.relationIdMaps||(this.relationIdMaps=this.rawRelationIdResults.map(e=>{const t=e.relationIdAttribute.relation;let i;return t.isManyToOne||t.isOneToOneOwner?i=t.joinColumns:t.isOneToMany||t.isOneToOneNotOwner?i=t.inverseEntityMetadata.primaryColumns:t.isOwning?i=t.inverseJoinColumns:i=t.inverseRelation.joinColumns,e.results.reduce((r,s)=>{let o=i.reduce((a,l)=>{let c=s[l.databaseName];return t.isOneToMany||t.isOneToOneNotOwner?(l.isVirtual&&l.referencedColumn&&l.referencedColumn.propertyName!==l.propertyName&&(c=l.referencedColumn.createValueMap(c)),Ee.mergeDeep(a,l.createValueMap(c))):(!l.isPrimary&&l.referencedColumn.referencedColumn&&(c=l.referencedColumn.referencedColumn.createValueMap(c)),Ee.mergeDeep(a,l.referencedColumn.createValueMap(c)))},{});if(i.length===1&&!e.relationIdAttribute.disableMixedMap&&(t.isOneToMany||t.isOneToOneNotOwner?o=i[0].getEntityValue(o):o=i[0].referencedColumn.getEntityValue(o)),o!==void 0){const a=this.hashEntityIds(t,s);r[a]?r[a].push(o):r[a]=[o]}return r},{})}))}hashEntityIds(e,t){const i=this.extractEntityPrimaryIds(e,t);return JSON.stringify(i)}}class Xi{static isAliasProperty(e){if(typeof e!="string"||e.indexOf(".")===-1)return!1;const[t,i]=e.split(".");return!(!t||!i||e.indexOf("(")!==-1||e.indexOf(")")!==-1)}}class uA{constructor(e,t,i){this.connection=e,this.queryExpressionMap=t,this.isSelectedEvaluated=!1,this.relationEvaluated=!1,i&&Fe.assign(this,i)}get isMany(){return this.isMappingMany!==void 0?this.isMappingMany:this.relation?this.relation.isManyToMany||this.relation.isOneToMany:!1}get isSelected(){if(!this.isSelectedEvaluated){let e=()=>{for(const t of this.queryExpressionMap.selects)if(t.selection===this.alias.name||this.metadata&&this.metadata.columns.find(i=>t.selection===this.alias.name+"."+i.propertyPath))return!0;return!1};this.isSelectedCache=e(),this.isSelectedEvaluated=!0}return this.isSelectedCache}get tablePath(){return this.metadata?this.metadata.tablePath:this.entityOrProperty}get parentAlias(){if(Xi.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."))}get relationPropertyPath(){if(Xi.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(this.entityOrProperty.indexOf(".")+1)}get relation(){if(!this.relationEvaluated){let e=()=>{if(!Xi.isAliasProperty(this.entityOrProperty))return;const t=this.queryExpressionMap.findAliasByName(this.parentAlias);let i=t.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(i||t.metadata.parentEntityMetadata&&(i=t.metadata.parentEntityMetadata.findRelationWithPropertyPath(this.relationPropertyPath),i))return i;throw new B("Relation with property path ".concat(this.relationPropertyPath," in entity was not found."))};this.relationCache=e.bind(this)(),this.relationEvaluated=!0}return this.relationCache}get metadata(){if(this.relation)return this.relation.inverseEntityMetadata;if(this.connection.hasMetadata(this.entityOrProperty))return this.connection.getMetadata(this.entityOrProperty);if(this.mapAsEntity&&this.connection.hasMetadata(this.mapAsEntity))return this.connection.getMetadata(this.mapAsEntity)}get junctionAlias(){if(!this.relation)throw new B("Cannot get junction table for join without relation.");if(typeof this.entityOrProperty!="string")throw new B("Junction property is not defined.");const e=this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."));return this.relation.isOwning?me.buildAlias(this.connection.driver,void 0,e,this.alias.name):me.buildAlias(this.connection.driver,void 0,this.alias.name,e)}get mapToPropertyParentAlias(){if(this.mapToProperty)return this.mapToProperty.split(".")[0]}get mapToPropertyPropertyName(){if(this.mapToProperty)return this.mapToProperty.split(".")[1]}}class gb{constructor(e,t){this.queryExpressionMap=e,this.disableMixedMap=!1,Fe.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!Xi.isAliasProperty(this.relationName))throw new B("Given value must be a string representation of alias property");return this.relationName.substr(0,this.relationName.indexOf("."))}get relationPropertyPath(){if(!Xi.isAliasProperty(this.relationName))throw new B("Given value must be a string representation of alias property");return this.relationName.substr(this.relationName.indexOf(".")+1)}get relation(){if(!Xi.isAliasProperty(this.relationName))throw new B("Given value must be a string representation of alias property");const t=this.queryExpressionMap.findAliasByName(this.parentAlias).metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!t)throw new B("Relation with property path ".concat(this.relationPropertyPath," in entity was not found."));return t}get junctionAlias(){const[e,t]=this.relationName.split(".");return e+"_"+t+"_rid"}get junctionMetadata(){return this.relation.junctionEntityMetadata}get mapToPropertyParentAlias(){return this.mapToProperty.substr(0,this.mapToProperty.indexOf("."))}get mapToPropertyPropertyPath(){return this.mapToProperty.substr(this.mapToProperty.indexOf(".")+1)}}class yb{constructor(e,t){this.expressionMap=e,Fe.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!Xi.isAliasProperty(this.relationName))throw new B("Given value must be a string representation of alias property");return this.relationName.split(".")[0]}get relationProperty(){if(!Xi.isAliasProperty(this.relationName))throw new B("Given value is a string representation of alias property");return this.relationName.split(".")[1]}get junctionAlias(){const[e,t]=this.relationName.split(".");return e+"_"+t+"_rc"}get relation(){if(!Xi.isAliasProperty(this.relationName))throw new B("Given value is a string representation of alias property");const[e,t]=this.relationName.split("."),r=this.expressionMap.findAliasByName(e).metadata.findRelationWithPropertyPath(t);if(!r)throw new B("Relation with property path ".concat(t," in entity was not found."));return r}get metadata(){if(!Xi.isAliasProperty(this.relationName))throw new B("Given value is a string representation of alias property");const e=this.relationName.split(".")[0];return this.expressionMap.findAliasByName(e).metadata}get mapToPropertyPropertyName(){return this.mapToProperty.split(".")[1]}}let L4=class{constructor(e,t,i){this.connection=e,this.queryRunner=t,this.relationIdAttributes=i}async load(e){const t=this.relationIdAttributes.map(async i=>{if(i.relation.isManyToOne||i.relation.isOneToOneOwner){if(i.queryBuilderFactory)throw new B("Additional condition can not be used with ManyToOne or OneToOne owner relations.");const r={},s=e.map(o=>{const a={},l=[];i.relation.joinColumns.forEach(u=>{a[u.databaseName]=this.connection.driver.prepareHydratedValue(o[me.buildAlias(this.connection.driver,void 0,i.parentAlias,u.databaseName)],u.referencedColumn);const d="".concat(u.databaseName,":").concat(a[u.databaseName]);l.indexOf(d)===-1&&l.push(d)}),i.relation.entityMetadata.primaryColumns.forEach(u=>{a[u.databaseName]=this.connection.driver.prepareHydratedValue(o[me.buildAlias(this.connection.driver,void 0,i.parentAlias,u.databaseName)],u);const d="".concat(u.databaseName,":").concat(a[u.databaseName]);l.indexOf(d)===-1&&l.push(d)}),l.sort();const c=l.join("::");return r[c]?null:(r[c]=!0,a)}).filter(o=>o);return{relationIdAttribute:i,results:s}}else if(i.relation.isOneToMany||i.relation.isOneToOneNotOwner){const r=i.relation,s=r.isOwning?r.joinColumns:r.inverseRelation.joinColumns,o=r.inverseEntityMetadata.target,a=r.inverseEntityMetadata.tableName,l=i.alias||a,c={},u={},d=e.map((m,T)=>{const w=[],b={},v=s.map(M=>{const L=M.databaseName+T,I=m[me.buildAlias(this.connection.driver,void 0,i.parentAlias,M.referencedColumn.databaseName)],$="".concat(l,":").concat(M.propertyPath,":").concat(I);return w.indexOf($)!==-1?"":(w.push($),b[L]=I,l+"."+M.propertyPath+" = :"+L)}).filter(M=>M).join(" AND ");w.sort();const N=w.join("::");return c[N]?"":(c[N]=!0,Object.assign(u,b),v)}).filter(m=>m).map(m=>"("+m+")").join(" OR ");if(!d)return{relationIdAttribute:i,results:[]};const h=this.connection.createQueryBuilder(this.queryRunner);Ee.uniq([...s,...r.inverseRelation.entityMetadata.primaryColumns],m=>m.propertyPath).forEach(m=>{h.addSelect(l+"."+m.propertyPath,m.databaseName)}),h.from(o,l).where("("+d+")").setParameters(u),i.queryBuilderFactory&&i.queryBuilderFactory(h);const g=await h.getRawMany();return g.forEach(m=>{s.forEach(T=>{m[T.databaseName]=this.connection.driver.prepareHydratedValue(m[T.databaseName],T.referencedColumn)}),r.inverseRelation.entityMetadata.primaryColumns.forEach(T=>{m[T.databaseName]=this.connection.driver.prepareHydratedValue(m[T.databaseName],T)})}),{relationIdAttribute:i,results:g}}else{const r=i.relation,s=r.isOwning?r.joinColumns:r.inverseRelation.inverseJoinColumns,o=r.isOwning?r.inverseJoinColumns:r.inverseRelation.joinColumns,a=i.junctionAlias,l=i.joinInverseSideMetadata.tableName,c=i.alias||l,u=r.isOwning?r.junctionEntityMetadata.tableName:r.inverseRelation.junctionEntityMetadata.tableName,d=e.map(v=>s.reduce((N,M)=>(N[M.propertyPath]=v[me.buildAlias(this.connection.driver,void 0,i.parentAlias,M.referencedColumn.databaseName)],N),{}));if(d.length===0)return{relationIdAttribute:i,results:[]};const h={},p={},g=d.map((v,N)=>{const M=[],L={},I=Object.keys(v).map(k=>{const H=k+N,A=v[k],F="".concat(a,":").concat(k,":").concat(A);return M.indexOf(F)!==-1?"":(M.push(F),L[H]=A,a+"."+k+" = :"+H)}).filter(k=>k).join(" AND ");M.sort();const $=M.join("::");return p[$]?"":(p[$]=!0,Object.assign(h,L),I)}).filter(v=>v),m=o.map(v=>a+"."+v.propertyPath+" = "+c+"."+v.referencedColumn.propertyPath).join(" AND "),T=g.map(v=>"("+v+" AND "+m+")").join(" OR "),w=this.connection.createQueryBuilder(this.queryRunner);o.forEach(v=>{w.addSelect(a+"."+v.propertyPath,v.databaseName).addOrderBy(a+"."+v.propertyPath)}),s.forEach(v=>{w.addSelect(a+"."+v.propertyPath,v.databaseName).addOrderBy(a+"."+v.propertyPath)}),w.from(l,c).innerJoin(u,a,T).setParameters(h),i.queryBuilderFactory&&i.queryBuilderFactory(w);const b=await w.getRawMany();return b.forEach(v=>{[...s,...o].forEach(N=>{v[N.databaseName]=this.connection.driver.prepareHydratedValue(v[N.databaseName],N.referencedColumn)})}),{relationIdAttribute:i,results:b}}});return Promise.all(t)}};class dA{constructor(e,t){this.connection=e,this.queryRunner=t}load(e,t,i){const r=Array.isArray(t)?t:[t],s=Array.isArray(i)?i:i?[i]:void 0;return e.isManyToMany?this.loadForManyToMany(e,r,s):e.isManyToOne||e.isOneToOneOwner?this.loadForManyToOneAndOneToOneOwner(e,r,s):this.loadForOneToManyAndOneToOneNotOwner(e,r,s)}async loadManyToManyRelationIdsAndGroup(e,t,i,r){const s=e.isManyToMany||e.isOneToMany,o=Array.isArray(t)?t:[t];if(!i&&(i=await this.connection.relationLoader.load(e,t,this.queryRunner,r),!i.length))return o.map(d=>({entity:d,related:s?[]:void 0}));const a=await this.load(e,t,i),l=Array.isArray(i)?i:[i];let c=[],u=[];return e.isManyToManyOwner?(c=e.junctionEntityMetadata.inverseColumns.map(d=>d.referencedColumn),u=e.junctionEntityMetadata.ownerColumns.map(d=>d.referencedColumn)):e.isManyToManyNotOwner?(c=e.junctionEntityMetadata.ownerColumns.map(d=>d.referencedColumn),u=e.junctionEntityMetadata.inverseColumns.map(d=>d.referencedColumn)):e.isManyToOne||e.isOneToOneOwner?(c=e.joinColumns.map(d=>d.referencedColumn),u=e.entityMetadata.primaryColumns):(e.isOneToMany||e.isOneToOneNotOwner)&&(c=e.inverseRelation.entityMetadata.primaryColumns,u=e.inverseRelation.joinColumns.map(d=>d.referencedColumn)),o.map(d=>{const h={entity:d,related:s?[]:void 0},p=a.filter(g=>u.every(m=>m.compareEntityValue(d,g[m.entityMetadata.name+"_"+m.propertyAliasName])));return p.length&&l.forEach(g=>{p.forEach(m=>{c.every(w=>w.compareEntityValue(g,m[me.buildAlias(this.connection.driver,void 0,w.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+w.propertyPath.replace(".","_"))]))&&(s?h.related.push(g):h.related=g)})}),h})}loadForManyToMany(e,t,i){const r=e.junctionEntityMetadata,s=r.name,o=e.isOwning?r.ownerColumns:r.inverseColumns,a=e.isOwning?r.inverseColumns:r.ownerColumns,l=this.connection.createQueryBuilder(this.queryRunner);o.forEach(h=>{const p=me.buildAlias(this.connection.driver,void 0,h.referencedColumn.entityMetadata.name+"_"+h.referencedColumn.propertyPath.replace(".","_"));l.addSelect(s+"."+h.propertyPath,p)}),a.forEach(h=>{const p=me.buildAlias(this.connection.driver,void 0,h.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+h.referencedColumn.propertyPath.replace(".","_"));l.addSelect(s+"."+h.propertyPath,p)});let c="";if(o.length===1){const h=t.map(g=>o[0].referencedColumn.getEntityValue(g));h.every(g=>typeof g=="number")?c="".concat(s,".").concat(o[0].propertyPath," IN (").concat(h.join(", "),")"):(l.setParameter("values1",h),c=s+"."+o[0].propertyPath+" IN (:...values1)")}else c="("+t.map((h,p)=>o.map(g=>{const m="entity1_"+p+"_"+g.propertyName;return l.setParameter(m,g.referencedColumn.getEntityValue(h)),s+"."+g.propertyPath+" = :"+m}).join(" AND ")).map(h=>"("+h+")").join(" OR ")+")";let u="";if(i)if(a.length===1){const h=i.map(g=>a[0].referencedColumn.getEntityValue(g));h.every(g=>typeof g=="number")?u="".concat(s,".").concat(a[0].propertyPath," IN (").concat(h.join(", "),")"):(l.setParameter("values2",h),u=s+"."+a[0].propertyPath+" IN (:...values2)")}else u="("+i.map((h,p)=>a.map(g=>{const m="entity2_"+p+"_"+g.propertyName;return l.setParameter(m,g.referencedColumn.getEntityValue(h)),s+"."+g.propertyPath+" = :"+m}).join(" AND ")).map(h=>"("+h+")").join(" OR ")+")";const d=[c,u].filter(h=>h.length>0).join(" AND ");return l.from(r.target,s).where(d).getRawMany()}loadForManyToOneAndOneToOneOwner(e,t,i){const r=e.entityMetadata.targetName,s=e.joinColumns.every(l=>!!e.entityMetadata.nonVirtualColumns.find(c=>c===l));if(i&&s){let l=[];if(t.forEach(c=>{let u={};e.entityMetadata.primaryColumns.forEach(d=>{const h=d.entityMetadata.name+"_"+d.propertyPath.replace(".","_");u[h]=d.getEntityValue(c)}),i.forEach(d=>{e.joinColumns.forEach(h=>{const p=h.getEntityValue(c),g=h.referencedColumn.getEntityValue(d);if(!(p===void 0||g===void 0)&&p===g){const m=h.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+h.referencedColumn.propertyPath.replace(".","_");u[m]=g}})}),Object.keys(u).length===e.entityMetadata.primaryColumns.length+e.joinColumns.length&&l.push(u)}),l.length===t.length)return Promise.resolve(l)}const o=this.connection.createQueryBuilder(this.queryRunner);e.entityMetadata.primaryColumns.forEach(l=>{const c=me.buildAlias(this.connection.driver,void 0,l.entityMetadata.name+"_"+l.propertyPath.replace(".","_"));o.addSelect(r+"."+l.propertyPath,c)}),e.joinColumns.forEach(l=>{const c=me.buildAlias(this.connection.driver,void 0,l.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+l.referencedColumn.propertyPath.replace(".","_"));o.addSelect(r+"."+l.propertyPath,c)});let a="";if(e.entityMetadata.primaryColumns.length===1){const l=t.map(u=>e.entityMetadata.primaryColumns[0].getEntityValue(u));l.every(u=>typeof u=="number")?a="".concat(r,".").concat(e.entityMetadata.primaryColumns[0].propertyPath," IN (").concat(l.join(", "),")"):(o.setParameter("values",l),a=r+"."+e.entityMetadata.primaryColumns[0].propertyPath+" IN (:...values)")}else a=t.map((l,c)=>e.entityMetadata.primaryColumns.map((u,d)=>{const h="entity"+c+"_"+d;return o.setParameter(h,u.getEntityValue(l)),r+"."+u.propertyPath+" = :"+h}).join(" AND ")).map(l=>"("+l+")").join(" OR ");return o.from(e.entityMetadata.target,r).where(a).getRawMany()}loadForOneToManyAndOneToOneNotOwner(e,t,i){if(e=e.inverseRelation,e.entityMetadata.primaryColumns.length===e.joinColumns.length&&e.entityMetadata.primaryColumns.every(l=>e.joinColumns.indexOf(l)!==-1))return Promise.resolve(t.map(l=>{const c={};return e.joinColumns.forEach(function(u){const d=u.referencedColumn.getEntityValue(l),h=u.referencedColumn.entityMetadata.name+"_"+u.referencedColumn.propertyPath.replace(".","_"),p=u.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+u.propertyPath.replace(".","_");c[h]=d,c[p]=d}),c}));const r=e.entityMetadata.targetName,s=this.connection.createQueryBuilder(this.queryRunner);e.entityMetadata.primaryColumns.forEach(a=>{const l=me.buildAlias(this.connection.driver,void 0,a.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+a.propertyPath.replace(".","_"));s.addSelect(r+"."+a.propertyPath,l)}),e.joinColumns.forEach(a=>{const l=me.buildAlias(this.connection.driver,void 0,a.referencedColumn.entityMetadata.name+"_"+a.referencedColumn.propertyPath.replace(".","_"));s.addSelect(r+"."+a.propertyPath,l)});let o="";if(e.joinColumns.length===1){const a=t.map(c=>e.joinColumns[0].referencedColumn.getEntityValue(c));a.every(c=>typeof c=="number")?o="".concat(r,".").concat(e.joinColumns[0].propertyPath," IN (").concat(a.join(", "),")"):(s.setParameter("values",a),o=r+"."+e.joinColumns[0].propertyPath+" IN (:...values)")}else o=t.map((a,l)=>e.joinColumns.map((c,u)=>{const d="entity"+l+"_"+u;return s.setParameter(d,c.referencedColumn.getEntityValue(a)),r+"."+c.propertyPath+" = :"+d}).join(" AND ")).map(a=>"("+a+")").join(" OR ");return s.from(e.entityMetadata.target,r).where(o).getRawMany()}}class q4{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationIds.forEach(e=>{const t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationIdAttributes.push(t)}),this.expressionMap.joinAttributes.forEach(e=>{!e.metadata||e.metadata.isJunction||e.metadata.relationIds.forEach(t=>{const i=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationIdAttributes.push(i)})})}metadataToAttribute(e,t){return new gb(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}}class B4{constructor(e,t,i){this.connection=e,this.queryRunner=t,this.relationCountAttributes=i}async load(e){const t=(r,s,o)=>o.indexOf(r)===s,i=this.relationCountAttributes.map(async r=>{if(r.relation.isOneToMany){const s=r.relation,o=s.inverseRelation,a=o.joinColumns[0].referencedColumn.propertyName,l=s.inverseEntityMetadata.target,c=s.inverseEntityMetadata.tableName,u=r.alias||c,d=o.propertyName;let h=e.map(g=>g[r.parentAlias+"_"+a]).filter(g=>!!g);if(h=h.filter(t),h.length===0)return{relationCountAttribute:r,results:[]};const p=this.connection.createQueryBuilder(this.queryRunner);return p.select(u+"."+d,"parentId").addSelect("COUNT(*)","cnt").from(l,u).where(u+"."+d+" IN (:...ids)").addGroupBy(u+"."+d).setParameter("ids",h),r.queryBuilderFactory&&r.queryBuilderFactory(p),{relationCountAttribute:r,results:await p.getRawMany()}}else{let s,o,a,l;r.relation.isOwning?(s=r.relation.joinColumns[0].referencedColumn.databaseName,o=r.relation.inverseJoinColumns[0].referencedColumn.databaseName,a=r.relation.junctionEntityMetadata.columns[0],l=r.relation.junctionEntityMetadata.columns[1]):(s=r.relation.inverseRelation.inverseJoinColumns[0].referencedColumn.databaseName,o=r.relation.inverseRelation.joinColumns[0].referencedColumn.databaseName,a=r.relation.junctionEntityMetadata.columns[1],l=r.relation.junctionEntityMetadata.columns[0]);let c=e.map(T=>T[r.parentAlias+"_"+s]).filter(T=>!!T);if(c=c.filter(t),c.length===0)return{relationCountAttribute:r,results:[]};const u=r.junctionAlias,d=r.joinInverseSideMetadata.tableName,h=r.alias||d,p=r.relation.junctionEntityMetadata.tableName,g=u+"."+a.propertyName+" IN ("+c.map(T=>isNaN(T)?"'"+T+"'":T)+") AND "+u+"."+l.propertyName+" = "+h+"."+o,m=this.connection.createQueryBuilder(this.queryRunner);return m.select(u+"."+a.propertyName,"parentId").addSelect("COUNT("+m.escape(h)+"."+m.escape(o)+")","cnt").from(d,h).innerJoin(p,u,g).addGroupBy(u+"."+a.propertyName),r.queryBuilderFactory&&r.queryBuilderFactory(m),{relationCountAttribute:r,results:await m.getRawMany()}}});return Promise.all(i)}}class F4{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationCounts.forEach(e=>{const t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationCountAttributes.push(t)}),this.expressionMap.joinAttributes.forEach(e=>{!e.metadata||e.metadata.isJunction||e.metadata.relationCounts.forEach(t=>{const i=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationCountAttributes.push(i)})})}metadataToAttribute(e,t){return new yb(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}}class fE{constructor(e){Fe.assign(this,e||{})}get target(){return this.metadata.target}get hasMetadata(){return!!this._metadata}set metadata(e){this._metadata=e}get metadata(){if(!this._metadata)throw new B('Cannot get entity metadata for the given alias "'.concat(this.name,'"'));return this._metadata}}class bb{constructor(e){var t;this.connection=e,this.relationLoadStrategy="join",this.queryEntity=!1,this.aliases=[],this.queryType="select",this.selects=[],this.maxExecutionTime=0,this.selectDistinct=!1,this.selectDistinctOn=[],this.extraReturningColumns=[],this.onConflict="",this.onIgnore=!1,this.joinAttributes=[],this.relationIdAttributes=[],this.relationCountAttributes=[],this.wheres=[],this.havings=[],this.orderBys={},this.groupBys=[],this.withDeleted=!1,this.parameters={},this.disableEscaping=!0,this.enableRelationIdValues=!1,this.extraAppendedAndWhereCondition="",this.subQuery=!1,this.aliasNamePrefixingEnabled=!0,this.cache=!1,this.options=[],this.insertColumns=[],this.whereEntities=[],this.updateEntity=!0,this.callListeners=!0,this.useTransaction=!1,this.nativeParameters={},this.locallyGenerated={},this.commonTableExpressions=[],e.options.relationLoadStrategy&&(this.relationLoadStrategy=e.options.relationLoadStrategy),this.timeTravel=((t=e.options)===null||t===void 0?void 0:t.timeTravelQueries)||!1}get allOrderBys(){if(!Object.keys(this.orderBys).length&&this.mainAlias.hasMetadata&&this.options.indexOf("disable-global-order")===-1){const e=this.mainAlias.metadata.orderBy||{};return Object.keys(e).reduce((t,i)=>(t[this.mainAlias.name+"."+i]=e[i],t),{})}return this.orderBys}setMainAlias(e){return this.mainAlias=e,e}createAlias(e){let t=e.name;!t&&e.tablePath&&(t=e.tablePath),!t&&typeof e.target=="function"&&(t=e.target.name),!t&&typeof e.target=="string"&&(t=e.target);const i=new fE;return i.type=e.type,t&&(i.name=t),e.metadata&&(i.metadata=e.metadata),e.target&&!i.hasMetadata&&(i.metadata=this.connection.getMetadata(e.target)),e.tablePath&&(i.tablePath=e.tablePath),e.subQuery&&(i.subQuery=e.subQuery),this.aliases.push(i),i}findAliasByName(e){const t=this.aliases.find(i=>i.name===e);if(!t)throw new B('"'.concat(e,'" alias was not found. Maybe you forgot to join it?'));return t}findColumnByAliasExpression(e){const[t,i]=e.split(".");return this.findAliasByName(t).metadata.findColumnWithPropertyName(i)}get relationMetadata(){if(!this.mainAlias)throw new B("Entity to work with is not specified!");const e=this.mainAlias.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!e)throw new B("Relation ".concat(this.relationPropertyPath," was not found in entity ").concat(this.mainAlias.name));return e}clone(){const e=new bb(this.connection);return e.queryType=this.queryType,e.selects=this.selects.map(t=>t),e.maxExecutionTime=this.maxExecutionTime,e.selectDistinct=this.selectDistinct,e.selectDistinctOn=this.selectDistinctOn,this.aliases.forEach(t=>e.aliases.push(new fE(t))),e.relationLoadStrategy=this.relationLoadStrategy,e.mainAlias=this.mainAlias,e.valuesSet=this.valuesSet,e.returning=this.returning,e.onConflict=this.onConflict,e.onIgnore=this.onIgnore,e.onUpdate=this.onUpdate,e.joinAttributes=this.joinAttributes.map(t=>new uA(this.connection,this,t)),e.relationIdAttributes=this.relationIdAttributes.map(t=>new gb(this,t)),e.relationCountAttributes=this.relationCountAttributes.map(t=>new yb(this,t)),e.wheres=this.wheres.map(t=>({...t})),e.havings=this.havings.map(t=>({...t})),e.orderBys=Object.assign({},this.orderBys),e.groupBys=this.groupBys.map(t=>t),e.limit=this.limit,e.offset=this.offset,e.skip=this.skip,e.take=this.take,e.lockMode=this.lockMode,e.onLocked=this.onLocked,e.lockVersion=this.lockVersion,e.lockTables=this.lockTables,e.withDeleted=this.withDeleted,e.parameters=Object.assign({},this.parameters),e.disableEscaping=this.disableEscaping,e.enableRelationIdValues=this.enableRelationIdValues,e.extraAppendedAndWhereCondition=this.extraAppendedAndWhereCondition,e.subQuery=this.subQuery,e.aliasNamePrefixingEnabled=this.aliasNamePrefixingEnabled,e.cache=this.cache,e.cacheId=this.cacheId,e.cacheDuration=this.cacheDuration,e.relationPropertyPath=this.relationPropertyPath,e.of=this.of,e.insertColumns=this.insertColumns,e.whereEntities=this.whereEntities,e.updateEntity=this.updateEntity,e.callListeners=this.callListeners,e.useTransaction=this.useTransaction,e.timeTravel=this.timeTravel,e.nativeParameters=Object.assign({},this.nativeParameters),e.comment=this.comment,e.commonTableExpressions=this.commonTableExpressions.map(t=>({alias:t.alias,queryBuilder:typeof t.queryBuilder=="string"?t.queryBuilder:t.queryBuilder.clone(),options:t.options})),e}}class Sc{constructor(e,t,i=!0,r=!1,s,o){this["@instanceof"]=Symbol.for("FindOperator"),this._type=e,this._value=t,this._useParameter=i,this._multipleParameters=r,this._getSql=s,this._objectLiteralParameters=o}get useParameter(){return W.isFindOperator(this._value)?this._value.useParameter:this._useParameter}get multipleParameters(){return W.isFindOperator(this._value)?this._value.multipleParameters:this._multipleParameters}get type(){return this._type}get value(){return W.isFindOperator(this._value)?this._value.value:this._value}get objectLiteralParameters(){return W.isFindOperator(this._value)?this._value.objectLiteralParameters:this._objectLiteralParameters}get child(){if(W.isFindOperator(this._value))return this._value}get getSql(){return W.isFindOperator(this._value)?this._value.getSql:this._getSql}transformValue(e){this._value instanceof Sc?this._value.transformValue(e):this._value=Array.isArray(this._value)&&this._multipleParameters?this._value.map(t=>e&&zt.transformTo(e,t)):zt.transformTo(e,this._value)}}function U4(n){return new Sc("in",n,!0,!0)}const j4=/[.*+\-?^${}()|[\]\\]/g,z4=n=>n.replace(j4,"\\$&");class V4{constructor(e,t){this["@instanceof"]=Symbol.for("QueryBuilder"),this.parameterIndex=0,W.isDataSource(e)?(this.connection=e,this.queryRunner=t,this.expressionMap=new bb(this.connection)):(this.connection=e.connection,this.queryRunner=e.queryRunner,this.expressionMap=e.expressionMap.clone())}get alias(){if(!this.expressionMap.mainAlias)throw new B("Main alias is not set");return this.expressionMap.mainAlias.name}select(e,t){this.expressionMap.queryType="select",Array.isArray(e)?this.expressionMap.selects=e.map(r=>({selection:r})):e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);const i=require("./SelectQueryBuilder").SelectQueryBuilder;return W.isSelectQueryBuilder(this)?this:new i(this)}insert(){this.expressionMap.queryType="insert";const e=require("./InsertQueryBuilder").InsertQueryBuilder;return W.isInsertQueryBuilder(this)?this:new e(this)}update(e,t){const i=t||e;if(e=W.isEntitySchema(e)?e.options.name:e,typeof e=="function"||typeof e=="string"){const s=this.createFromAlias(e);this.expressionMap.setMainAlias(s)}this.expressionMap.queryType="update",this.expressionMap.valuesSet=i;const r=require("./UpdateQueryBuilder").UpdateQueryBuilder;return W.isUpdateQueryBuilder(this)?this:new r(this)}delete(){this.expressionMap.queryType="delete";const e=require("./DeleteQueryBuilder").DeleteQueryBuilder;return W.isDeleteQueryBuilder(this)?this:new e(this)}softDelete(){this.expressionMap.queryType="soft-delete";const e=require("./SoftDeleteQueryBuilder").SoftDeleteQueryBuilder;return W.isSoftDeleteQueryBuilder(this)?this:new e(this)}restore(){this.expressionMap.queryType="restore";const e=require("./SoftDeleteQueryBuilder").SoftDeleteQueryBuilder;return W.isSoftDeleteQueryBuilder(this)?this:new e(this)}relation(e,t){const i=arguments.length===2?e:void 0,r=arguments.length===2?t:e;if(this.expressionMap.queryType="relation",this.expressionMap.relationPropertyPath=r,i){const o=this.createFromAlias(i);this.expressionMap.setMainAlias(o)}const s=require("./RelationQueryBuilder").RelationQueryBuilder;return W.isRelationQueryBuilder(this)?this:new s(this)}hasRelation(e,t){const i=this.connection.getMetadata(e);return(Array.isArray(t)?t:[t]).every(s=>!!i.findRelationWithPropertyPath(s))}hasParameter(e){var t;return((t=this.parentQueryBuilder)===null||t===void 0?void 0:t.hasParameter(e))||e in this.expressionMap.parameters}setParameter(e,t){if(typeof t=="function")throw new B("Function parameter isn't supported in the parameters. Please check \"".concat(e,'" parameter.'));if(!e.match(/^([A-Za-z0-9_.]+)$/))throw new B("QueryBuilder parameter keys may only contain numbers, letters, underscores, or periods.");return this.parentQueryBuilder&&this.parentQueryBuilder.setParameter(e,t),this.expressionMap.parameters[e]=t,this}setParameters(e){for(const[t,i]of Object.entries(e))this.setParameter(t,i);return this}createParameter(e){let t;do t="orm_param_".concat(this.parameterIndex++);while(this.hasParameter(t));return this.setParameter(t,e),":".concat(t)}setNativeParameters(e){return this.parentQueryBuilder&&this.parentQueryBuilder.setNativeParameters(e),Object.keys(e).forEach(t=>{this.expressionMap.nativeParameters[t]=e[t]}),this}getParameters(){const e=Object.assign({},this.expressionMap.parameters);if(this.expressionMap.mainAlias&&this.expressionMap.mainAlias.hasMetadata){const t=this.expressionMap.mainAlias.metadata;if(t.discriminatorColumn&&t.parentEntityMetadata){const i=t.childEntityMetadatas.filter(r=>r.discriminatorColumn).map(r=>r.discriminatorValue);i.push(t.discriminatorValue),e.discriminatorColumnValues=i}}return e}printSql(){const[e,t]=this.getQueryAndParameters();return this.connection.logger.logQuery(e,t),this}getSql(){return this.getQueryAndParameters()[0]}getQueryAndParameters(){const e=this.getQuery(),t=this.getParameters();return this.connection.driver.escapeQueryWithParameters(e,t,this.expressionMap.nativeParameters)}async execute(){const[e,t]=this.getQueryAndParameters(),i=this.obtainQueryRunner();try{return await i.query(e,t)}finally{i!==this.queryRunner&&await i.release()}}createQueryBuilder(){return new this.constructor(this.connection,this.queryRunner)}clone(){return new this.constructor(this)}comment(e){return this.expressionMap.comment=e,this}disableEscaping(){return this.expressionMap.disableEscaping=!1,this}escape(e){return this.expressionMap.disableEscaping?this.connection.driver.escape(e):e}setQueryRunner(e){return this.queryRunner=e,this}callListeners(e){return this.expressionMap.callListeners=e,this}useTransaction(e){return this.expressionMap.useTransaction=e,this}addCommonTableExpression(e,t,i){return this.expressionMap.commonTableExpressions.push({queryBuilder:e,alias:t,options:i||{}}),this}getTableName(e){return e.split(".").map(t=>t===""?t:this.escape(t)).join(".")}getMainTableName(){if(!this.expressionMap.mainAlias)throw new B('Entity where values should be inserted is not specified. Call "qb.into(entity)" method to specify it.');return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.tablePath:this.expressionMap.mainAlias.tablePath}createFromAlias(e,t){if(this.connection.hasMetadata(e)){const i=this.connection.getMetadata(e);return this.expressionMap.createAlias({type:"from",name:t,metadata:this.connection.getMetadata(e),tablePath:i.tablePath})}else{if(typeof e=="string"){const s=e.substr(0,1)==="("&&e.substr(-1)===")";return this.expressionMap.createAlias({type:"from",name:t,tablePath:s?void 0:e,subQuery:s?e:void 0})}const i=e(this.subQuery());this.setParameters(i.getParameters());const r=i.getQuery();return this.expressionMap.createAlias({type:"from",name:t,subQuery:r})}}replacePropertyNames(e){return e}replacePropertyNamesForTheWholeQuery(e){const t={};for(const s of this.expressionMap.aliases){if(!s.hasMetadata)continue;const o=this.expressionMap.aliasNamePrefixingEnabled&&s.name?"".concat(s.name,"."):"";t[o]||(t[o]={});for(const a of s.metadata.relations)a.joinColumns.length>0&&(t[o][a.propertyPath]=a.joinColumns[0].databaseName);for(const a of s.metadata.relations){const l=[...a.joinColumns,...a.inverseJoinColumns];for(const c of l){const u="".concat(a.propertyPath,".").concat(c.referencedColumn.propertyPath);t[o][u]=c.databaseName}}for(const a of s.metadata.columns)t[o][a.databaseName]=a.databaseName;for(const a of s.metadata.columns)t[o][a.propertyName]=a.databaseName;for(const a of s.metadata.columns)t[o][a.propertyPath]=a.databaseName}const i=Object.keys(t),r=i.map(s=>z4(s)).join("|");return i.length>0&&(e=e.replace(new RegExp("([ =(]|^.{0})"+"".concat(r?"("+r+")":"","([^ =(),]+)")+"(?=[ =),]|.{0}$)","gm"),(...s)=>{let o,a,l;if(r){if(o=s[0],a=s[1],l=s[3],t[s[2]][l])return"".concat(a).concat(this.escape(s[2].substring(0,s[2].length-1)),".").concat(this.escape(t[s[2]][l]))}else if(o=s[0],a=s[1],l=s[2],t[""][l])return"".concat(a).concat(this.escape(t[""][l]));return o})),e}createComment(){return this.expressionMap.comment?"/* ".concat(this.expressionMap.comment.replace("*/","")," */ "):""}createTimeTravelQuery(){return this.expressionMap.queryType==="select"&&this.expressionMap.timeTravel?" AS OF SYSTEM TIME ".concat(this.expressionMap.timeTravel):""}createWhereExpression(){const e=[],t=this.createWhereClausesExpression(this.expressionMap.wheres);if(t.length>0&&t!=="1=1"&&e.push(this.replacePropertyNames(t)),this.expressionMap.mainAlias.hasMetadata){const r=this.expressionMap.mainAlias.metadata;if(this.expressionMap.queryType==="select"&&!this.expressionMap.withDeleted&&r.deleteDateColumn){const s=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+r.deleteDateColumn.propertyName:r.deleteDateColumn.propertyName,o="".concat(this.replacePropertyNames(s)," IS NULL");e.push(o)}if(r.discriminatorColumn&&r.parentEntityMetadata){const s=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+r.discriminatorColumn.databaseName:r.discriminatorColumn.databaseName,o="".concat(this.replacePropertyNames(s)," IN (:...discriminatorColumnValues)");e.push(o)}}if(this.expressionMap.extraAppendedAndWhereCondition){const r=this.replacePropertyNames(this.expressionMap.extraAppendedAndWhereCondition);e.push(r)}let i="";return i+=this.createTimeTravelQuery(),e.length?e.length===1?i+=" WHERE ".concat(e[0]):i+=" WHERE ( ".concat(e.join(" ) AND ( ")," )"):i+="",i}createReturningExpression(e){const t=this.getReturningColumns(),i=this.connection.driver;if(typeof this.expressionMap.returning!="string"&&this.expressionMap.extraReturningColumns.length>0&&i.isReturningSqlSupported(e)&&t.push(...this.expressionMap.extraReturningColumns.filter(r=>t.indexOf(r)===-1)),t.length){let r=t.map(s=>{const o=this.escape(s.databaseName);return i.options.type==="mssql"?this.expressionMap.queryType==="insert"||this.expressionMap.queryType==="update"||this.expressionMap.queryType==="soft-delete"||this.expressionMap.queryType==="restore"?"INSERTED."+o:this.escape(this.getMainTableName())+"."+o:o}).join(", ");return i.options.type==="oracle"&&(r+=" INTO "+t.map(s=>this.createParameter({type:i.columnTypeToNativeParameter(s.type),dir:i.oracle.BIND_OUT})).join(", ")),i.options.type==="mssql"&&(this.expressionMap.queryType==="insert"||this.expressionMap.queryType==="update")&&(r+=" INTO @OutputTable"),r}else if(typeof this.expressionMap.returning=="string")return this.expressionMap.returning;return""}getReturningColumns(){const e=[];return Array.isArray(this.expressionMap.returning)&&this.expressionMap.returning.forEach(t=>{this.expressionMap.mainAlias.hasMetadata&&e.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(t))}),e}createWhereClausesExpression(e){return e.map((t,i)=>{const r=this.createWhereConditionExpression(t.condition);switch(t.type){case"and":return(i>0?"AND ":"")+r;case"or":return(i>0?"OR ":"")+r}return r}).join(" ").trim()}createWhereConditionExpression(e,t=!1){if(typeof e=="string")return e;if(Array.isArray(e))return e.length===0?"1=1":e.length===1&&!t?this.createWhereClausesExpression(e):"("+this.createWhereClausesExpression(e)+")";const{driver:i}=this.connection;switch(e.operator){case"lessThan":return"".concat(e.parameters[0]," < ").concat(e.parameters[1]);case"lessThanOrEqual":return"".concat(e.parameters[0]," <= ").concat(e.parameters[1]);case"arrayContains":return"".concat(e.parameters[0]," @> ").concat(e.parameters[1]);case"jsonContains":return"".concat(e.parameters[0]," ::jsonb @> ").concat(e.parameters[1]);case"arrayContainedBy":return"".concat(e.parameters[0]," <@ ").concat(e.parameters[1]);case"arrayOverlap":return"".concat(e.parameters[0]," && ").concat(e.parameters[1]);case"moreThan":return"".concat(e.parameters[0]," > ").concat(e.parameters[1]);case"moreThanOrEqual":return"".concat(e.parameters[0]," >= ").concat(e.parameters[1]);case"notEqual":return"".concat(e.parameters[0]," != ").concat(e.parameters[1]);case"equal":return"".concat(e.parameters[0]," = ").concat(e.parameters[1]);case"ilike":return i.options.type==="postgres"||i.options.type==="cockroachdb"?"".concat(e.parameters[0]," ILIKE ").concat(e.parameters[1]):"UPPER(".concat(e.parameters[0],") LIKE UPPER(").concat(e.parameters[1],")");case"like":return"".concat(e.parameters[0]," LIKE ").concat(e.parameters[1]);case"between":return"".concat(e.parameters[0]," BETWEEN ").concat(e.parameters[1]," AND ").concat(e.parameters[2]);case"in":return e.parameters.length<=1?"0=1":"".concat(e.parameters[0]," IN (").concat(e.parameters.slice(1).join(", "),")");case"any":return i.options.type==="cockroachdb"?"".concat(e.parameters[0],"::STRING = ANY(").concat(e.parameters[1],"::STRING[])"):"".concat(e.parameters[0]," = ANY(").concat(e.parameters[1],")");case"isNull":return"".concat(e.parameters[0]," IS NULL");case"not":return"NOT(".concat(this.createWhereConditionExpression(e.condition),")");case"brackets":return"".concat(this.createWhereConditionExpression(e.condition,!0));case"and":return e.parameters.join(" AND ")}throw new TypeError("Unsupported FindOperator ".concat(Sc.constructor.name))}createCteExpression(){if(!this.hasCommonTableExpressions())return"";const e=this.connection.driver.cteCapabilities.requiresRecursiveHint;return"WITH "+this.expressionMap.commonTableExpressions.map(i=>{const r=typeof i.queryBuilder=="string"?i.queryBuilder:i.queryBuilder.getQuery();if(typeof i.queryBuilder!="string"){if(i.queryBuilder.hasCommonTableExpressions())throw new B("Nested CTEs aren't supported (CTE: ".concat(i.alias,")"));if(!this.connection.driver.cteCapabilities.writable&&!W.isSelectQueryBuilder(i.queryBuilder))throw new B("Only select queries are supported in CTEs in ".concat(this.connection.options.type," (CTE: ").concat(i.alias,")"));this.setParameters(i.queryBuilder.getParameters())}let s=this.escape(i.alias);if(i.options.columnNames){const l=i.options.columnNames.map(c=>this.escape(c));if(W.isSelectQueryBuilder(i.queryBuilder)&&i.queryBuilder.expressionMap.selects.length&&i.options.columnNames.length!==i.queryBuilder.expressionMap.selects.length)throw new B("cte.options.columnNames length (".concat(i.options.columnNames.length,") doesn't match subquery select list length ").concat(i.queryBuilder.expressionMap.selects.length," (CTE: ").concat(i.alias,")"));s+="(".concat(l.join(", "),")")}const o=i.options.recursive&&e?"RECURSIVE":"";let a="";return this.connection.driver.cteCapabilities.materializedHint&&i.options.materialized!==void 0&&(a=i.options.materialized?"MATERIALIZED":"NOT MATERIALIZED"),[o,s,"AS",a,"(".concat(r,")")].filter(Boolean).join(" ")}).join(", ")+" "}getWhereInIdsCondition(e){const t=this.expressionMap.mainAlias.metadata,i=(Array.isArray(e)?e:[e]).map(r=>t.ensureEntityIdMap(r));if(!t.hasMultiplePrimaryKeys){const r=t.primaryColumns[0];if(!r.transformer&&!r.relationMetadata&&!r.embeddedMetadata)return{[r.propertyName]:U4(i.map(s=>r.getEntityValue(s,!1)))}}return new Jd(r=>{for(const s of i)r.orWhere(new Jd(o=>o.where(s)))})}getExistsCondition(e){const t=e.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select("1").setOption("disable-global-order");return["EXISTS (".concat(t.getQuery(),")"),t.getParameters()]}findColumnsForPropertyPath(e){let t=this.expressionMap.mainAlias;const i=[],r=e.split(".");for(;r.length>1;){const a=r[0];if(!(t!=null&&t.hasMetadata))break;if(t.metadata.hasEmbeddedWithPropertyPath(a)){r.unshift("".concat(r.shift(),".").concat(r.shift()));continue}if(t.metadata.hasRelationWithPropertyPath(a)){const l=this.expressionMap.joinAttributes.find(c=>c.relationPropertyPath===a);if(!(l!=null&&l.alias)){const c=i.length>0?"".concat(i.join("."),".").concat(a):a;throw new Error("Cannot find alias for relation at ".concat(c))}t=l.alias,i.push(...a.split(".")),r.shift();continue}break}if(!t)throw new Error("Cannot find alias for property ".concat(e));const s=r.join("."),o=t.metadata.findColumnsWithPropertyPath(s);if(!o.length)throw new Yi(e,t.metadata);return[t,i,o]}createPropertyPath(e,t,i=""){const r=[];for(const s of Object.keys(t)){const o=i?"".concat(i,".").concat(s):s;if(t[s]===null||typeof t[s]!="object"||W.isFindOperator(t[s])){r.push(o);continue}if(e.hasEmbeddedWithPropertyPath(o)){const a=this.createPropertyPath(e,t[s],o);r.push(...a);continue}if(e.hasRelationWithPropertyPath(o)){const a=e.findRelationWithPropertyPath(o);if(a.relationType==="one-to-one"||a.relationType==="many-to-one"){const d=a.joinColumns.map(p=>p.referencedColumn).filter(p=>!!p);if(d.length>0&&d.every(p=>p.getEntityValue(t[s],!1))){r.push(o);continue}}if(a.relationType==="one-to-many"||a.relationType==="many-to-many")throw new Error("Cannot query across ".concat(a.relationType," for property ").concat(o));const l=a.inverseEntityMetadata.primaryColumns;if(l.length>0&&l.every(d=>d.getEntityValue(t[s],!1))){const d=l.map(h=>"".concat(o,".").concat(h.propertyPath));r.push(...d);continue}const u=this.createPropertyPath(a.inverseEntityMetadata,t[s]).map(d=>"".concat(o,".").concat(d));r.push(...u);continue}r.push(o)}return r}*getPredicates(e){if(this.expressionMap.mainAlias.hasMetadata){const t=this.createPropertyPath(this.expressionMap.mainAlias.metadata,e);for(const i of t){const[r,s,o]=this.findColumnsForPropertyPath(i);for(const a of o){let l=e;for(const d of s){if(!l||!(d in l)){l={};break}l=l[d]}const c=this.expressionMap.aliasNamePrefixingEnabled?"".concat(r.name,".").concat(a.propertyPath):a.propertyPath,u=a.getEntityValue(l,!0);yield[c,u]}}}else for(const t of Object.keys(e)){const i=e[t];yield[this.expressionMap.aliasNamePrefixingEnabled?"".concat(this.alias,".").concat(t):t,i]}}getWherePredicateCondition(e,t){if(W.isFindOperator(t)){let i=[];if(t.useParameter)if(t.objectLiteralParameters)this.setParameters(t.objectLiteralParameters);else if(t.multipleParameters)for(const r of t.value)i.push(this.createParameter(r));else i.push(this.createParameter(t.value));if(t.type==="raw")return t.getSql?t.getSql(e):{operator:"equal",parameters:[e,t.value]};if(t.type==="not")return t.child?{operator:t.type,condition:this.getWherePredicateCondition(e,t.child)}:{operator:"notEqual",parameters:[e,...i]};if(t.type==="and"){const r=t.value;return{operator:t.type,parameters:r.map(s=>this.createWhereConditionExpression(this.getWherePredicateCondition(e,s)))}}else return{operator:t.type,parameters:[e,...i]}}else return{operator:"equal",parameters:[e,this.createParameter(t)]}}getWhereCondition(e){if(typeof e=="string")return e;if(W.isBrackets(e)){const r=this.createQueryBuilder();return r.parentQueryBuilder=this,r.expressionMap.mainAlias=this.expressionMap.mainAlias,r.expressionMap.aliasNamePrefixingEnabled=this.expressionMap.aliasNamePrefixingEnabled,r.expressionMap.parameters=this.expressionMap.parameters,r.expressionMap.nativeParameters=this.expressionMap.nativeParameters,r.expressionMap.wheres=[],e.whereFactory(r),{operator:W.isNotBrackets(e)?"not":"brackets",condition:r.expressionMap.wheres}}if(typeof e=="function")return e(this);const t=Array.isArray(e)?e:[e],i=[];for(const r of t){const s=[];for(const[o,a]of this.getPredicates(r))s.push({type:"and",condition:this.getWherePredicateCondition(o,a)});i.push({type:"or",condition:s})}return i.length===1?i[0].condition:i}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner()}hasCommonTableExpressions(){return this.expressionMap.commonTableExpressions.length>0}}class Zd extends V4{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("SelectQueryBuilder"),this.findOptions={},this.selects=[],this.joins=[],this.conditions="",this.orderBys=[],this.relationMetadatas=[]}getQuery(){let e=this.createComment();return e+=this.createCteExpression(),e+=this.createSelectExpression(),e+=this.createJoinExpression(),e+=this.createWhereExpression(),e+=this.createGroupByExpression(),e+=this.createHavingExpression(),e+=this.createOrderByExpression(),e+=this.createLimitOffsetExpression(),e+=this.createLockExpression(),e=e.trim(),this.expressionMap.subQuery&&(e="("+e+")"),this.replacePropertyNamesForTheWholeQuery(e)}setFindOptions(e){return this.findOptions=e,this.applyFindOptions(),this}subQuery(){const e=this.createQueryBuilder();return e.expressionMap.subQuery=!0,e.parentQueryBuilder=this,e}select(e,t){if(this.expressionMap.queryType="select",Array.isArray(e))this.expressionMap.selects=e.map(i=>({selection:i}));else if(typeof e=="function"){const i=e(this.subQuery());this.setParameters(i.getParameters()),this.expressionMap.selects.push({selection:i.getQuery(),aliasName:t})}else e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);return this}addSelect(e,t){if(!e)return this;if(Array.isArray(e))this.expressionMap.selects=this.expressionMap.selects.concat(e.map(i=>({selection:i})));else if(typeof e=="function"){const i=e(this.subQuery());this.setParameters(i.getParameters()),this.expressionMap.selects.push({selection:i.getQuery(),aliasName:t})}else e&&this.expressionMap.selects.push({selection:e,aliasName:t});return this}maxExecutionTime(e){return this.expressionMap.maxExecutionTime=e,this}distinct(e=!0){return this.expressionMap.selectDistinct=e,this}distinctOn(e){return this.expressionMap.selectDistinctOn=e,this}fromDummy(){var e;return this.from((e=this.connection.driver.dummyTableName)!==null&&e!==void 0?e:"(SELECT 1 AS dummy_column)","dummy_table")}from(e,t){const i=this.createFromAlias(e,t);return this.expressionMap.setMainAlias(i),this}addFrom(e,t){const i=this.createFromAlias(e,t);return this.expressionMap.mainAlias||this.expressionMap.setMainAlias(i),this}innerJoin(e,t,i,r){return this.join("INNER",e,t,i,r),this}leftJoin(e,t,i,r){return this.join("LEFT",e,t,i,r),this}innerJoinAndSelect(e,t,i,r){return this.addSelect(t),this.innerJoin(e,t,i,r),this}leftJoinAndSelect(e,t,i,r){return this.addSelect(t),this.leftJoin(e,t,i,r),this}innerJoinAndMapMany(e,t,i,r,s){return this.addSelect(i),this.join("INNER",t,i,r,s,e,!0),this}innerJoinAndMapOne(e,t,i,r,s,o){return this.addSelect(i),this.join("INNER",t,i,r,s,e,!1,o),this}leftJoinAndMapMany(e,t,i,r,s){return this.addSelect(i),this.join("LEFT",t,i,r,s,e,!0),this}leftJoinAndMapOne(e,t,i,r,s,o){return this.addSelect(i),this.join("LEFT",t,i,r,s,e,!1,o),this}loadRelationIdAndMap(e,t,i,r){const s=new gb(this.expressionMap);return s.mapToProperty=e,s.relationName=t,typeof i=="string"&&(s.alias=i),typeof i=="object"&&i.disableMixedMap&&(s.disableMixedMap=!0),s.queryBuilderFactory=r,this.expressionMap.relationIdAttributes.push(s),s.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:s.junctionAlias,metadata:s.relation.junctionEntityMetadata}),this}loadRelationCountAndMap(e,t,i,r){const s=new yb(this.expressionMap);return s.mapToProperty=e,s.relationName=t,s.alias=i,s.queryBuilderFactory=r,this.expressionMap.relationCountAttributes.push(s),this.expressionMap.createAlias({type:"other",name:s.junctionAlias}),s.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:s.junctionAlias,metadata:s.relation.junctionEntityMetadata}),this}loadAllRelationIds(e){return this.expressionMap.mainAlias.metadata.relations.forEach(t=>{e!==void 0&&e.relations!==void 0&&e.relations.indexOf(t.propertyPath)===-1||this.loadRelationIdAndMap(this.expressionMap.mainAlias.name+"."+t.propertyPath,this.expressionMap.mainAlias.name+"."+t.propertyPath,e)}),this}where(e,t){this.expressionMap.wheres=[];const i=this.getWhereCondition(e);return i&&(this.expressionMap.wheres=[{type:"simple",condition:i}]),t&&this.setParameters(t),this}andWhere(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}orWhere(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}whereExists(e){return this.where(...this.getExistsCondition(e))}andWhereExists(e){return this.andWhere(...this.getExistsCondition(e))}orWhereExists(e){return this.orWhere(...this.getExistsCondition(e))}whereInIds(e){return this.where(this.getWhereInIdsCondition(e))}andWhereInIds(e){return this.andWhere(this.getWhereInIdsCondition(e))}orWhereInIds(e){return this.orWhere(this.getWhereInIdsCondition(e))}having(e,t){return this.expressionMap.havings.push({type:"simple",condition:e}),t&&this.setParameters(t),this}andHaving(e,t){return this.expressionMap.havings.push({type:"and",condition:e}),t&&this.setParameters(t),this}orHaving(e,t){return this.expressionMap.havings.push({type:"or",condition:e}),t&&this.setParameters(t),this}groupBy(e){return e?this.expressionMap.groupBys=[e]:this.expressionMap.groupBys=[],this}addGroupBy(e){return this.expressionMap.groupBys.push(e),this}timeTravelQuery(e){return this.connection.driver.options.type==="cockroachdb"&&(e===void 0?this.expressionMap.timeTravel="follower_read_timestamp()":this.expressionMap.timeTravel=e),this}orderBy(e,t="ASC",i){if(t!==void 0&&t!=="ASC"&&t!=="DESC")throw new B('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(i!==void 0&&i!=="NULLS FIRST"&&i!=="NULLS LAST")throw new B('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return e?typeof e=="object"?this.expressionMap.orderBys=e:i?this.expressionMap.orderBys={[e]:{order:t,nulls:i}}:this.expressionMap.orderBys={[e]:t}:this.expressionMap.orderBys={},this}addOrderBy(e,t="ASC",i){if(t!==void 0&&t!=="ASC"&&t!=="DESC")throw new B('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(i!==void 0&&i!=="NULLS FIRST"&&i!=="NULLS LAST")throw new B('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return i?this.expressionMap.orderBys[e]={order:t,nulls:i}:this.expressionMap.orderBys[e]=t,this}limit(e){if(this.expressionMap.limit=this.normalizeNumber(e),this.expressionMap.limit!==void 0&&isNaN(this.expressionMap.limit))throw new B('Provided "limit" value is not a number. Please provide a numeric value.');return this}offset(e){if(this.expressionMap.offset=this.normalizeNumber(e),this.expressionMap.offset!==void 0&&isNaN(this.expressionMap.offset))throw new B('Provided "offset" value is not a number. Please provide a numeric value.');return this}take(e){if(this.expressionMap.take=this.normalizeNumber(e),this.expressionMap.take!==void 0&&isNaN(this.expressionMap.take))throw new B('Provided "take" value is not a number. Please provide a numeric value.');return this}skip(e){if(this.expressionMap.skip=this.normalizeNumber(e),this.expressionMap.skip!==void 0&&isNaN(this.expressionMap.skip))throw new B('Provided "skip" value is not a number. Please provide a numeric value.');return this}useIndex(e){return this.expressionMap.useIndex=e,this}setLock(e,t,i){return this.expressionMap.lockMode=e,this.expressionMap.lockVersion=t,this.expressionMap.lockTables=i,this}setOnLocked(e){return this.expressionMap.onLocked=e,this}withDeleted(){return this.expressionMap.withDeleted=!0,this}async getRawOne(){return(await this.getRawMany())[0]}async getRawMany(){if(this.expressionMap.lockMode==="optimistic")throw new nl;this.expressionMap.queryEntity=!1;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0);const i=await this.loadRawResults(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getRawAndEntities(){const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;const i=await this.executeEntitiesAndRawResults(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getOne(){const t=(await this.getRawAndEntities()).entities[0];if(t&&this.expressionMap.lockMode==="optimistic"&&this.expressionMap.lockVersion){const i=this.expressionMap.mainAlias.metadata;if(this.expressionMap.lockVersion instanceof Date){const r=i.updateDateColumn.getEntityValue(t);if(r.getTime()!==this.expressionMap.lockVersion.getTime())throw new Xw(i.name,this.expressionMap.lockVersion,r)}else{const r=i.versionColumn.getEntityValue(t);if(r!==this.expressionMap.lockVersion)throw new Xw(i.name,this.expressionMap.lockVersion,r)}}return t===void 0?null:t}async getOneOrFail(){const e=await this.getOne();if(!e)throw new mg(this.expressionMap.mainAlias.target,this.expressionMap.parameters);return e}async getMany(){if(this.expressionMap.lockMode==="optimistic")throw new nl;return(await this.getRawAndEntities()).entities}async getCount(){if(this.expressionMap.lockMode==="optimistic")throw new nl;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!1;const i=await this.executeCountQuery(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getExists(){if(this.expressionMap.lockMode==="optimistic")throw new nl;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!1;const i=await this.executeExistsQuery(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getManyAndCount(){if(this.expressionMap.lockMode==="optimistic")throw new nl;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;const i=await this.executeEntitiesAndRawResults(e);this.expressionMap.queryEntity=!1;const r=this.expressionMap.cacheId;this.expressionMap.cacheId=r&&"".concat(r,"-count");const s=await this.executeCountQuery(e),o=[i.entities,s];return t&&await e.commitTransaction(),o}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async stream(){this.expressionMap.queryEntity=!1;const[e,t]=this.getQueryAndParameters(),i=this.obtainQueryRunner();let r=!1;try{this.expressionMap.useTransaction===!0&&i.isTransactionActive===!1&&(await i.startTransaction(),r=!0);const s=()=>{if(i!==this.queryRunner)return i.release()},o=i.stream(e,t,s,s);return r&&await i.commitTransaction(),o}catch(s){if(r)try{await i.rollbackTransaction()}catch(o){}throw s}}cache(e,t){return typeof e=="boolean"?this.expressionMap.cache=e:typeof e=="number"?(this.expressionMap.cache=!0,this.expressionMap.cacheDuration=e):(typeof e=="string"||typeof e=="number")&&(this.expressionMap.cache=!0,this.expressionMap.cacheId=e),t&&(this.expressionMap.cacheDuration=t),this}setOption(e){return this.expressionMap.options.push(e),this}join(e,t,i,r,s,o,a,l){s&&this.setParameters(s);const c=new uA(this.connection,this.expressionMap);c.direction=e,c.mapAsEntity=l,c.mapToProperty=o,c.isMappingMany=a,c.entityOrProperty=t,c.condition=r,this.expressionMap.joinAttributes.push(c);const u=c.metadata;if(u){if(u.deleteDateColumn&&!this.expressionMap.withDeleted){const d="".concat(i,".").concat(u.deleteDateColumn.propertyName," IS NULL");c.condition=c.condition?" ".concat(c.condition," AND ").concat(d):"".concat(d)}c.alias=this.expressionMap.createAlias({type:"join",name:i,metadata:u}),c.relation&&c.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"join",name:c.junctionAlias,metadata:c.relation.junctionEntityMetadata})}else{let d="";if(typeof t=="function"){const p=t(this.subQuery());this.setParameters(p.getParameters()),d=p.getQuery()}else d=t;const h=typeof t=="function"||t.substr(0,1)==="("&&t.substr(-1)===")";c.alias=this.expressionMap.createAlias({type:"join",name:i,tablePath:h===!1?t:void 0,subQuery:h===!0?d:void 0})}}createSelectExpression(){if(!this.expressionMap.mainAlias)throw new B("Cannot build query because main alias is not set (call qb#from method)");const e=[],t=[];if(this.expressionMap.mainAlias.hasMetadata){const a=this.expressionMap.mainAlias.metadata;e.push(...this.buildEscapedEntityColumnSelects(this.expressionMap.mainAlias.name,a)),t.push(...this.findEntityColumnSelects(this.expressionMap.mainAlias.name,a))}this.expressionMap.joinAttributes.forEach(a=>{if(a.metadata)e.push(...this.buildEscapedEntityColumnSelects(a.alias.name,a.metadata)),t.push(...this.findEntityColumnSelects(a.alias.name,a.metadata));else if(this.expressionMap.selects.some(c=>c.selection===a.alias.name)){e.push({selection:this.escape(a.alias.name)+".*"});const c=this.expressionMap.selects.find(u=>u.selection===a.alias.name);t.push(c)}}),this.expressionMap.selects.filter(a=>t.indexOf(a)===-1).forEach(a=>e.push({selection:this.replacePropertyNames(a.selection),aliasName:a.aliasName})),e.length===0&&e.push({selection:"*"});let i="";this.expressionMap.useIndex&&me.isMySQLFamily(this.connection.driver)&&(i=" USE INDEX (".concat(this.expressionMap.useIndex,")"));const r=this.expressionMap.aliases.filter(a=>a.type==="from"&&(a.tablePath||a.subQuery)).map(a=>a.subQuery?a.subQuery+" "+this.escape(a.name):this.getTableName(a.tablePath)+" "+this.escape(a.name)),s=this.createSelectDistinctExpression(),o=e.map(a=>a.selection+(a.aliasName?" AS "+this.escape(a.aliasName):"")).join(", ");return s+o+" FROM "+r.join(", ")+this.createTableLockExpression()+i}createSelectDistinctExpression(){const{selectDistinct:e,selectDistinctOn:t,maxExecutionTime:i}=this.expressionMap,{driver:r}=this.connection;let s="SELECT ";if(i>0&&me.isMySQLFamily(r)&&(s+="/*+ MAX_EXECUTION_TIME(".concat(this.expressionMap.maxExecutionTime,") */ ")),me.isPostgresFamily(r)&&t.length>0){const o=t.map(a=>this.replacePropertyNames(a)).join(", ");s="SELECT DISTINCT ON (".concat(o,") ")}else e&&(s="SELECT DISTINCT ");return s}createJoinExpression(){return this.expressionMap.joinAttributes.map(t=>{const i=t.relation,r=t.tablePath,s=t.alias.name;let o=t.condition?" AND ("+t.condition+")":"";const a=t.parentAlias;if(!a||!i){const l=t.alias.subQuery?t.alias.subQuery:this.getTableName(r);return" "+t.direction+" JOIN "+l+" "+this.escape(s)+this.createTableLockExpression()+(t.condition?" ON "+this.replacePropertyNames(t.condition):"")}if(i.isManyToOne||i.isOneToOneOwner){const l=i.joinColumns.map(c=>s+"."+c.referencedColumn.propertyPath+"="+a+"."+i.propertyPath+"."+c.referencedColumn.propertyPath).join(" AND ");return" "+t.direction+" JOIN "+this.getTableName(r)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(l+o)}else if(i.isOneToMany||i.isOneToOneNotOwner){const l=i.inverseRelation.joinColumns.map(c=>(i.inverseEntityMetadata.tableType==="entity-child"&&i.inverseEntityMetadata.discriminatorColumn&&(o+=" AND "+s+"."+i.inverseEntityMetadata.discriminatorColumn.databaseName+"='"+i.inverseEntityMetadata.discriminatorValue+"'"),s+"."+i.inverseRelation.propertyPath+"."+c.referencedColumn.propertyPath+"="+a+"."+c.referencedColumn.propertyPath)).join(" AND ");return" "+t.direction+" JOIN "+this.getTableName(r)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(l+o)}else{const l=i.junctionEntityMetadata.tablePath,c=t.junctionAlias;let u="",d="";return i.isOwning?(u=i.joinColumns.map(h=>c+"."+h.propertyPath+"="+a+"."+h.referencedColumn.propertyPath).join(" AND "),d=i.inverseJoinColumns.map(h=>s+"."+h.referencedColumn.propertyPath+"="+c+"."+h.propertyPath).join(" AND ")):(u=i.inverseRelation.inverseJoinColumns.map(h=>c+"."+h.propertyPath+"="+a+"."+h.referencedColumn.propertyPath).join(" AND "),d=i.inverseRelation.joinColumns.map(h=>s+"."+h.referencedColumn.propertyPath+"="+c+"."+h.propertyPath).join(" AND "))," "+t.direction+" JOIN "+this.getTableName(l)+" "+this.escape(c)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(u)+" "+t.direction+" JOIN "+this.getTableName(r)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(d+o)}}).join(" ")}createGroupByExpression(){return!this.expressionMap.groupBys||!this.expressionMap.groupBys.length?"":" GROUP BY "+this.replacePropertyNames(this.expressionMap.groupBys.join(", "))}createOrderByExpression(){const e=this.expressionMap.allOrderBys;return Object.keys(e).length===0?"":" ORDER BY "+Object.keys(e).map(t=>{const i=typeof e[t]=="string"?e[t]:e[t].order+" "+e[t].nulls,r=this.expressionMap.selects.find(s=>s.selection===t);if(r&&!r.aliasName&&t.indexOf(".")!==-1){const s=t.split("."),o=s[0],a=s.slice(1).join("."),l=this.expressionMap.aliases.find(c=>c.name===o);if(l){const c=l.metadata.findColumnWithPropertyPath(a);if(c){const u=me.buildAlias(this.connection.driver,void 0,o,c.databaseName);return this.escape(u)+" "+i}}}return this.replacePropertyNames(t)+" "+i}).join(", ")}createLimitOffsetExpression(){let e=this.expressionMap.offset,t=this.expressionMap.limit;if(!e&&!t&&this.expressionMap.joinAttributes.length===0&&(e=this.expressionMap.skip,t=this.expressionMap.take),this.connection.driver.options.type==="mssql"){let i="";if((t||e)&&Object.keys(this.expressionMap.allOrderBys).length<=0&&(i=" ORDER BY (SELECT NULL)"),t&&e)return i+" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return i+" OFFSET 0 ROWS FETCH NEXT "+t+" ROWS ONLY";if(e)return i+" OFFSET "+e+" ROWS"}else if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)throw new p6}else if(me.isSQLiteFamily(this.connection.driver)){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" LIMIT -1 OFFSET "+e}else if(this.connection.driver.options.type==="oracle"){if(t&&e)return" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return" FETCH NEXT "+t+" ROWS ONLY";if(e)return" OFFSET "+e+" ROWS"}else{if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" OFFSET "+e}return""}createTableLockExpression(){if(this.connection.driver.options.type==="mssql")switch(this.expressionMap.lockMode){case"pessimistic_read":return" WITH (HOLDLOCK, ROWLOCK)";case"pessimistic_write":return" WITH (UPDLOCK, ROWLOCK)";case"dirty_read":return" WITH (NOLOCK)"}return""}createLockExpression(){const e=this.connection.driver;let t="";if(this.expressionMap.lockTables){if(!(me.isPostgresFamily(e)||e.options.type==="cockroachdb"))throw new B("Lock tables not supported in selected driver");if(this.expressionMap.lockTables.length<1)throw new B("lockTables cannot be an empty array");t=" OF "+this.expressionMap.lockTables.join(", ")}let i="";switch(this.expressionMap.onLocked==="nowait"?i=" NOWAIT":this.expressionMap.onLocked==="skip_locked"&&(i=" SKIP LOCKED"),this.expressionMap.lockMode){case"pessimistic_read":if(e.options.type==="mysql"||e.options.type==="aurora-mysql")return me.isReleaseVersionOrGreater(e,"8.0.0")?" FOR SHARE"+t+i:" LOCK IN SHARE MODE";if(e.options.type==="mariadb")return" LOCK IN SHARE MODE";if(me.isPostgresFamily(e))return" FOR SHARE"+t+i;if(e.options.type==="oracle")return" FOR UPDATE";if(e.options.type==="mssql")return"";throw new yo;case"pessimistic_write":if(me.isMySQLFamily(e)||e.options.type==="aurora-mysql"||e.options.type==="oracle")return" FOR UPDATE"+i;if(me.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR UPDATE"+t+i;if(e.options.type==="mssql")return"";throw new yo;case"pessimistic_partial_write":if(me.isPostgresFamily(e))return" FOR UPDATE"+t+" SKIP LOCKED";if(me.isMySQLFamily(e))return" FOR UPDATE SKIP LOCKED";throw new yo;case"pessimistic_write_or_fail":if(me.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR UPDATE"+t+" NOWAIT";if(me.isMySQLFamily(e))return" FOR UPDATE NOWAIT";throw new yo;case"for_no_key_update":if(me.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR NO KEY UPDATE"+t+i;throw new yo;case"for_key_share":if(me.isPostgresFamily(e))return" FOR KEY SHARE"+t+i;throw new yo;default:return""}}createHavingExpression(){if(!this.expressionMap.havings||!this.expressionMap.havings.length)return"";const e=this.expressionMap.havings.map((t,i)=>{switch(t.type){case"and":return(i>0?"AND ":"")+this.replacePropertyNames(t.condition);case"or":return(i>0?"OR ":"")+this.replacePropertyNames(t.condition);default:return this.replacePropertyNames(t.condition)}}).join(" ");return e.length?" HAVING "+e:""}buildEscapedEntityColumnSelects(e,t){const i=this.expressionMap.selects.some(c=>c.selection===e),r=[];if(i&&r.push(...t.columns.filter(c=>c.isSelect===!0)),r.push(...t.columns.filter(c=>this.expressionMap.selects.some(u=>u.selection===e+"."+c.propertyPath))),r.length===0)return[];const s=this.expressionMap.queryEntity?t.primaryColumns.filter(c=>r.indexOf(c)===-1):[],o=[...r,...s],a=[],l=this.escape(e);return o.forEach(c=>{let u=l+"."+this.escape(c.databaseName);if(c.isVirtualProperty&&c.query&&(u="(".concat(c.query(l),")")),this.connection.driver.spatialTypes.indexOf(c.type)!==-1){if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"){const p=this.connection.driver.options.legacySpatialSupport?"AsText":"ST_AsText";u="".concat(p,"(").concat(u,")")}me.isPostgresFamily(this.connection.driver)&&(c.precision?u="ST_AsGeoJSON(".concat(u,", ").concat(c.precision,")::json"):u="ST_AsGeoJSON(".concat(u,")::json")),this.connection.driver.options.type==="mssql"&&(u="".concat(u,".ToString()"))}const d=this.expressionMap.selects.filter(h=>h.selection===e+"."+c.propertyPath);d.length?d.forEach(h=>{a.push({selection:u,aliasName:h.aliasName?h.aliasName:me.buildAlias(this.connection.driver,void 0,e,c.databaseName),virtual:h.virtual})}):a.push({selection:u,aliasName:me.buildAlias(this.connection.driver,void 0,e,c.databaseName),virtual:i})}),a}findEntityColumnSelects(e,t){const i=this.expressionMap.selects.find(r=>r.selection===e);return i?[i]:this.expressionMap.selects.filter(r=>t.columns.some(s=>r.selection===e+"."+s.propertyPath))}computeCountExpression(){const e=this.expressionMap.mainAlias.name,i=this.expressionMap.mainAlias.metadata.primaryColumns,r=this.escape(e);if(this.expressionMap.joinAttributes.length===0&&this.expressionMap.relationIdAttributes.length===0&&this.expressionMap.relationCountAttributes.length===0)return"COUNT(1)";if(this.connection.driver.options.type==="cockroachdb"||me.isPostgresFamily(this.connection.driver))return"COUNT(DISTINCT("+i.map(s=>"".concat(r,".").concat(this.escape(s.databaseName))).join(", ")+"))";if(me.isMySQLFamily(this.connection.driver))return"COUNT(DISTINCT "+i.map(s=>"".concat(r,".").concat(this.escape(s.databaseName))).join(", ")+")";if(this.connection.driver.options.type==="mssql"){const s=i.map(o=>"".concat(r,".").concat(this.escape(o.databaseName))).join(", '|;|', ");return i.length===1?"COUNT(DISTINCT(".concat(s,"))"):"COUNT(DISTINCT(CONCAT(".concat(s,")))")}if(this.connection.driver.options.type==="spanner"){if(i.length===1)return"COUNT(DISTINCT(".concat(r,".").concat(this.escape(i[0].databaseName),"))");const s=i.map(o=>"CAST(".concat(r,".").concat(this.escape(o.databaseName)," AS STRING)")).join(", '|;|', ");return"COUNT(DISTINCT(CONCAT(".concat(s,")))")}return"COUNT(DISTINCT("+i.map(s=>"".concat(r,".").concat(this.escape(s.databaseName))).join(" || '|;|' || ")+"))"}async executeCountQuery(e){const t=this.computeCountExpression(),i=await this.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select(t,"cnt").setOption("disable-global-order").loadRawResults(e);return!i||!i[0]||!i[0].cnt?0:parseInt(i[0].cnt)}async executeExistsQuery(e){return(await this.connection.createQueryBuilder().fromDummy().select("1","row_exists").whereExists(this).limit(1).loadRawResults(e)).length>0}applyFindOptions(){if(this.expressionMap.mainAlias.metadata){if(this.findOptions.relationLoadStrategy&&(this.expressionMap.relationLoadStrategy=this.findOptions.relationLoadStrategy),this.findOptions.comment&&this.comment(this.findOptions.comment),this.findOptions.withDeleted&&this.withDeleted(),this.findOptions.select){const e=Array.isArray(this.findOptions.select)?Ee.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select;this.buildSelect(e,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.select(this.selects),this.selects=[],this.findOptions.relations){const e=Array.isArray(this.findOptions.relations)?Ee.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations;this.buildRelations(e,typeof this.findOptions.select=="object"?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.findOptions.loadEagerRelations!==!1&&this.expressionMap.relationLoadStrategy==="join"&&this.buildEagerRelations(e,typeof this.findOptions.select=="object"?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.addSelect(this.selects),this.findOptions.where&&(this.conditions=this.buildWhere(this.findOptions.where,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.conditions.length&&this.andWhere(this.conditions.substr(0,1)!=="("?"("+this.conditions+")":this.conditions)),this.findOptions.order&&this.buildOrder(this.findOptions.order,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.joins.length&&this.joins.forEach(e=>{e.select&&!e.selection?e.type==="inner"?this.innerJoinAndSelect("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias):this.leftJoinAndSelect("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias):e.type==="inner"?this.innerJoin("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias):this.leftJoin("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias)}),this.findOptions.skip!==void 0&&this.skip(this.findOptions.skip),this.findOptions.take!==void 0&&this.take(this.findOptions.take),typeof this.findOptions.cache=="number"?this.cache(this.findOptions.cache):typeof this.findOptions.cache=="boolean"?this.cache(this.findOptions.cache):typeof this.findOptions.cache=="object"&&this.cache(this.findOptions.cache.id,this.findOptions.cache.milliseconds),this.findOptions.join&&(this.findOptions.join.leftJoin&&Object.keys(this.findOptions.join.leftJoin).forEach(e=>{this.leftJoin(this.findOptions.join.leftJoin[e],e)}),this.findOptions.join.innerJoin&&Object.keys(this.findOptions.join.innerJoin).forEach(e=>{this.innerJoin(this.findOptions.join.innerJoin[e],e)}),this.findOptions.join.leftJoinAndSelect&&Object.keys(this.findOptions.join.leftJoinAndSelect).forEach(e=>{this.leftJoinAndSelect(this.findOptions.join.leftJoinAndSelect[e],e)}),this.findOptions.join.innerJoinAndSelect&&Object.keys(this.findOptions.join.innerJoinAndSelect).forEach(e=>{this.innerJoinAndSelect(this.findOptions.join.innerJoinAndSelect[e],e)})),this.findOptions.lock){if(this.findOptions.lock.mode==="optimistic")this.setLock(this.findOptions.lock.mode,this.findOptions.lock.version);else if(this.findOptions.lock.mode==="pessimistic_read"||this.findOptions.lock.mode==="pessimistic_write"||this.findOptions.lock.mode==="dirty_read"||this.findOptions.lock.mode==="pessimistic_partial_write"||this.findOptions.lock.mode==="pessimistic_write_or_fail"||this.findOptions.lock.mode==="for_no_key_update"||this.findOptions.lock.mode==="for_key_share"){const e=this.findOptions.lock.tables?this.findOptions.lock.tables.map(t=>{const i=this.expressionMap.aliases.find(r=>r.metadata.tableNameWithoutPrefix===t);if(!i)throw new B('"'.concat(t,'" is not part of this query'));return this.escape(i.name)}):void 0;this.setLock(this.findOptions.lock.mode,void 0,e),this.findOptions.lock.onLocked&&this.setOnLocked(this.findOptions.lock.onLocked)}}this.findOptions.loadRelationIds===!0?this.loadAllRelationIds():typeof this.findOptions.loadRelationIds=="object"&&this.loadAllRelationIds(this.findOptions.loadRelationIds),this.findOptions.loadEagerRelations!==!1&&un.joinEagerRelations(this,this.expressionMap.mainAlias.name,this.expressionMap.mainAlias.metadata),this.findOptions.transaction===!0&&(this.expressionMap.useTransaction=!0)}}concatRelationMetadata(e){this.relationMetadatas.push(e)}async executeEntitiesAndRawResults(e){if(!this.expressionMap.mainAlias)throw new B('Alias is not set. Use "from" method to set an alias.');if((this.expressionMap.lockMode==="pessimistic_read"||this.expressionMap.lockMode==="pessimistic_write"||this.expressionMap.lockMode==="pessimistic_partial_write"||this.expressionMap.lockMode==="pessimistic_write_or_fail"||this.expressionMap.lockMode==="for_no_key_update"||this.expressionMap.lockMode==="for_key_share")&&!e.isTransactionActive)throw new l6;if(this.expressionMap.lockMode==="optimistic"){const l=this.expressionMap.mainAlias.metadata;if(!l.versionColumn&&!l.updateDateColumn)throw new s6(l.name)}const t=new L4(this.connection,e,this.expressionMap.relationIdAttributes),i=new B4(this.connection,e,this.expressionMap.relationCountAttributes);new q4(this.expressionMap).transform(),new F4(this.expressionMap).transform();let o=[],a=[];if((this.expressionMap.skip||this.expressionMap.take)&&this.expressionMap.joinAttributes.length>0){const[l,c]=this.createOrderByCombinedWithSelectExpression("distinctAlias"),u=this.expressionMap.mainAlias.metadata,d=this.expressionMap.mainAlias.name,h=u.primaryColumns.map(m=>{const T=this.escape("distinctAlias"),w=this.escape(me.buildAlias(this.connection.driver,void 0,d,m.databaseName));c[w]||(c[w]="ASC");const b=me.buildAlias(this.connection.driver,void 0,"ids_"+d,m.databaseName);return"".concat(T,".").concat(w," AS ").concat(this.escape(b))}),p=this.clone(),g=p.expressionMap.timeTravel;if(o=await new Zd(this.connection,e).select("DISTINCT ".concat(h.join(", "))).addSelect(l).from("(".concat(p.orderBy().timeTravelQuery(!1).getQuery(),")"),"distinctAlias").timeTravelQuery(g).offset(this.expressionMap.skip).limit(this.expressionMap.take).orderBy(c).cache(this.expressionMap.cache&&this.expressionMap.cacheId?"".concat(this.expressionMap.cacheId,"-pagination"):this.expressionMap.cache,this.expressionMap.cacheDuration).setParameters(this.getParameters()).setNativeParameters(this.expressionMap.nativeParameters).getRawMany(),o.length>0){let m="";const T={};if(u.hasMultiplePrimaryKeys)m=o.map((w,b)=>u.primaryColumns.map(v=>{const N="orm_distinct_ids_".concat(b,"_").concat(v.databaseName),M=me.buildAlias(this.connection.driver,void 0,"ids_"+d,v.databaseName);return T[N]=w[M],"".concat(d,".").concat(v.propertyPath,"=:").concat(N)}).join(" AND ")).join(" OR ");else{const w=me.buildAlias(this.connection.driver,void 0,"ids_"+d,u.primaryColumns[0].databaseName),b=o.map(N=>N[w]);b.every(N=>typeof N=="number")?m="".concat(d,".").concat(u.primaryColumns[0].propertyPath," IN (").concat(b.join(", "),")"):(T.orm_distinct_ids=b,m=d+"."+u.primaryColumns[0].propertyPath+" IN (:...orm_distinct_ids)")}o=await this.clone().mergeExpressionMap({extraAppendedAndWhereCondition:m}).setParameters(T).loadRawResults(e)}}else o=await this.loadRawResults(e);if(o.length>0){const l=await t.load(o),c=await i.load(o);a=new D4(this.expressionMap,this.connection.driver,l,c,this.queryRunner).transform(o,this.expressionMap.mainAlias),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await e.broadcaster.broadcast("Load",this.expressionMap.mainAlias.metadata,a)}if(this.expressionMap.relationLoadStrategy==="query"){const l=new dA(this.connection,e);await Promise.all(this.relationMetadatas.map(async c=>{const u=c.inverseEntityMetadata.target,d=c.inverseEntityMetadata.targetName,h=Array.isArray(this.findOptions.select)?Ee.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select,p=Array.isArray(this.findOptions.relations)?Ee.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations,g=this.createQueryBuilder().select(d).from(u,d).setFindOptions({select:h?Ee.deepValue(h,c.propertyPath):void 0,order:this.findOptions.order?Ee.deepValue(this.findOptions.order,c.propertyPath):void 0,relations:p?Ee.deepValue(p,c.propertyPath):void 0,withDeleted:this.findOptions.withDeleted,relationLoadStrategy:this.findOptions.relationLoadStrategy});if(a.length>0){const m=await l.loadManyToManyRelationIdsAndGroup(c,a,void 0,g);a.forEach(T=>{const w=m.find(b=>b.entity===T);if(w){const b=w.related===void 0?null:w.related;c.setEntityValue(T,b)}})}}))}return{raw:o,entities:a}}createOrderByCombinedWithSelectExpression(e){const t=this.expressionMap.allOrderBys,i=Object.keys(t).map(s=>{if(s.indexOf(".")!==-1){const o=s.split("."),a=o[0],l=o.slice(1).join("."),u=this.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyPath(l);return this.escape(e)+"."+this.escape(me.buildAlias(this.connection.driver,void 0,a,u.databaseName))}else return this.expressionMap.selects.find(o=>o.selection===s||o.aliasName===s)?this.escape(e)+"."+this.escape(s):""}).join(", "),r={};return Object.keys(t).forEach(s=>{if(s.indexOf(".")!==-1){const o=s.split("."),a=o[0],l=o.slice(1).join("."),u=this.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyPath(l);r[this.escape(e)+"."+this.escape(me.buildAlias(this.connection.driver,void 0,a,u.databaseName))]=t[s]}else this.expressionMap.selects.find(o=>o.selection===s||o.aliasName===s)?r[this.escape(e)+"."+this.escape(s)]=t[s]:r[s]=t[s]}),[i,r]}async loadRawResults(e){const[t,i]=this.getQueryAndParameters(),r=t+" -- PARAMETERS: "+JSON.stringify(i),s=typeof this.connection.options.cache=="object"?this.connection.options.cache:{};let o;const a=s.alwaysEnabled&&this.expressionMap.cache||this.expressionMap.cache;let l=!1;if(this.connection.queryResultCache&&a)try{if(o=await this.connection.queryResultCache.getFromCache({identifier:this.expressionMap.cacheId,query:r,duration:this.expressionMap.cacheDuration||s.duration||1e3},e),o&&!this.connection.queryResultCache.isExpired(o))return JSON.parse(o.result)}catch(u){if(!s.ignoreErrors)throw u;l=!0}const c=await e.query(t,i,!0);if(!l&&this.connection.queryResultCache&&a)try{await this.connection.queryResultCache.storeInCache({identifier:this.expressionMap.cacheId,query:r,time:new Date().getTime(),duration:this.expressionMap.cacheDuration||s.duration||1e3,result:JSON.stringify(c.records)},o,e)}catch(u){if(!s.ignoreErrors)throw u}return c.records}mergeExpressionMap(e){return Fe.assign(this.expressionMap,e),this}normalizeNumber(e){return typeof e=="number"||e===void 0||e===null?e:Number(e)}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner("slave")}buildSelect(e,t,i,r){for(let s in e){if(e[s]===void 0||e[s]===!1)continue;const o=r?r+"."+s:s,a=t.findColumnWithPropertyPathStrict(o),l=t.findEmbeddedWithPropertyPath(o),c=t.findRelationWithPropertyPath(o);if(!l&&!a&&!c)throw new Yi(o,t);a?this.selects.push(i+"."+o):l&&this.buildSelect(e[s],t,i,o)}}buildRelations(e,t,i,r,s){e&&Object.keys(e).forEach(o=>{const a=e[o],l=s?s+"."+o:o,c=i.findEmbeddedWithPropertyPath(l),u=i.findRelationWithPropertyPath(l);if(!c&&!u)throw new Yi(l,i);if(c)this.buildRelations(a,typeof t=="object"?Ee.deepValue(t,c.propertyPath):void 0,i,r,l);else if(u){let d=r+"_"+l.replace(".","_");d=me.buildAlias(this.connection.driver,{joiner:"__"},r,d),(a===!0||typeof a=="object")&&(this.expressionMap.relationLoadStrategy==="query"?this.concatRelationMetadata(u):(this.joins.push({type:"left",select:!0,selection:t&&typeof t[o]=="object"?t[o]:void 0,alias:d,parentAlias:r,relationMetadata:u}),t&&typeof t[o]=="object"&&this.buildSelect(t[o],u.inverseEntityMetadata,d))),typeof a=="object"&&this.expressionMap.relationLoadStrategy==="join"&&this.buildRelations(a,typeof t=="object"?Ee.deepValue(t,u.propertyPath):void 0,u.inverseEntityMetadata,d,void 0)}})}buildEagerRelations(e,t,i,r,s){e&&Object.keys(e).forEach(o=>{const a=e[o],l=s?s+"."+o:o,c=i.findEmbeddedWithPropertyPath(l),u=i.findRelationWithPropertyPath(l);if(!c&&!u)throw new Yi(l,i);if(c)this.buildEagerRelations(a,typeof t=="object"?Ee.deepValue(t,c.propertyPath):void 0,i,r,l);else if(u){let d=r+"_"+l.replace(".","_");d=me.buildAlias(this.connection.driver,{joiner:"__"},r,d),(a===!0||typeof a=="object")&&u.inverseEntityMetadata.eagerRelations.forEach(h=>{let p=d+"_"+h.propertyPath.replace(".","_");p=me.buildAlias(this.connection.driver,{joiner:"__"},d,p),this.joins.find(m=>m.alias===p)||this.joins.push({type:"left",select:!0,alias:p,parentAlias:d,selection:void 0,relationMetadata:h}),t&&typeof t[o]=="object"&&this.buildSelect(t[o],u.inverseEntityMetadata,d)}),typeof a=="object"&&this.buildEagerRelations(a,typeof t=="object"?Ee.deepValue(t,u.propertyPath):void 0,u.inverseEntityMetadata,d,void 0)}})}buildOrder(e,t,i,r){for(let s in e){if(e[s]===void 0)continue;const o=r?r+"."+s:s,a=t.findColumnWithPropertyPathStrict(o),l=t.findEmbeddedWithPropertyPath(o),c=t.findRelationWithPropertyPath(o);if(!l&&!a&&!c)throw new Yi(o,t);if(a){let u=typeof e[s]=="object"?e[s].direction:e[s];u=u==="DESC"||u==="desc"||u===-1?"DESC":"ASC";let d=typeof e[s]=="object"?e[s].nulls:void 0;d=(d==null?void 0:d.toLowerCase())==="first"?"NULLS FIRST":(d==null?void 0:d.toLowerCase())==="last"?"NULLS LAST":void 0;let h="".concat(i,".").concat(o);this.addOrderBy(h,u,d)}else if(l)this.buildOrder(e[s],t,i,o);else if(c){let u=i+"_"+o.replace(".","_");u=me.buildAlias(this.connection.driver,{joiner:"__"},i,u),this.joins.find(h=>h.alias===u)||this.joins.push({type:"left",select:!1,alias:u,parentAlias:i,selection:void 0,relationMetadata:c}),this.buildOrder(e[s],c.inverseEntityMetadata,u)}}}buildWhere(e,t,i,r){let s="";if(Array.isArray(e)&&e.length)s="("+e.map(o=>this.buildWhere(o,t,i,r)).filter(o=>!!o).map(o=>"("+o+")").join(" OR ")+")";else{let o=[];for(let a in e){if(e[a]===void 0||e[a]===null)continue;const l=r?r+"."+a:a,c=t.findColumnWithPropertyPathStrict(l),u=t.findEmbeddedWithPropertyPath(l),d=t.findRelationWithPropertyPath(l);if(!u&&!c&&!d)throw new Yi(l,t);if(c){let h="".concat(i,".").concat(l);c.isVirtualProperty&&c.query&&(h="(".concat(c.query(i),")"));let p=e[a];W.isEqualOperator(e[a])&&(p=e[a].value),c.transformer&&(p instanceof Sc?p.transformValue(c.transformer):p=zt.transformTo(c.transformer,p)),o.push(this.createWhereConditionExpression(this.getWherePredicateCondition(h,p)))}else if(u){const h=this.buildWhere(e[a],t,i,l);h&&o.push(h)}else if(d){if(typeof e[a]=="object"&&Object.keys(e[a]).every(p=>e[a][p]===void 0))continue;if(W.isFindOperator(e[a]))if(e[a].type==="moreThan"||e[a].type==="lessThan"||e[a].type==="moreThanOrEqual"||e[a].type==="lessThanOrEqual"){let h="";e[a].type==="moreThan"?h=">":e[a].type==="lessThan"?h="<":e[a].type==="moreThanOrEqual"?h=">=":e[a].type==="lessThanOrEqual"&&(h="<=");const p=this.subQuery();if(d.isManyToManyOwner)p.select("COUNT(*)").from(d.joinTableName,d.joinTableName).where(d.joinColumns.map(g=>"".concat(d.joinTableName,".").concat(g.propertyName," = ").concat(i,".").concat(g.referencedColumn.propertyName)).join(" AND "));else if(d.isManyToManyNotOwner)p.select("COUNT(*)").from(d.inverseRelation.joinTableName,d.inverseRelation.joinTableName).where(d.inverseRelation.inverseJoinColumns.map(g=>"".concat(d.inverseRelation.joinTableName,".").concat(g.propertyName," = ").concat(i,".").concat(g.referencedColumn.propertyName)).join(" AND "));else if(d.isOneToMany)p.select("COUNT(*)").from(d.inverseEntityMetadata.target,d.inverseEntityMetadata.tableName).where(d.inverseRelation.joinColumns.map(g=>"".concat(d.inverseEntityMetadata.tableName,".").concat(g.propertyName," = ").concat(i,".").concat(g.referencedColumn.propertyName)).join(" AND "));else throw new Error("This relation isn't supported by given find operator");this.andWhere(p.getSql()+" "+h+" "+parseInt(e[a].value))}else if(d.isManyToOne||d.isOneToOne&&d.isOneToOneOwner){const h="".concat(i,".").concat(l);o.push(this.createWhereConditionExpression(this.getWherePredicateCondition(h,e[a])))}else throw new Error("This relation isn't supported by given find operator");else{let h=i+"_"+d.propertyPath.replace(".","_");h=me.buildAlias(this.connection.driver,{joiner:"__"},i,h),this.joins.find(m=>m.alias===h)||this.joins.push({type:"left",select:!1,selection:void 0,alias:h,parentAlias:i,relationMetadata:d});const g=this.buildWhere(e[a],d.inverseEntityMetadata,h);g&&o.push(g)}}}s=o.join(" AND ")}return s}}class vb{constructor(e){this.options=e}logQuery(e,t,i){this.isLogEnabledFor("query")&&this.writeLog("query",{type:"query",prefix:"query",message:e,format:"sql",parameters:t},i)}logQueryError(e,t,i,r){this.isLogEnabledFor("query-error")&&this.writeLog("warn",[{type:"query-error",prefix:"query failed",message:t,format:"sql",parameters:i},{type:"query-error",prefix:"error",message:e}],r)}logQuerySlow(e,t,i,r){this.isLogEnabledFor("query-slow")&&this.writeLog("warn",[{type:"query-slow",prefix:"query is slow",message:t,format:"sql",parameters:i,additionalInfo:{time:e}},{type:"query-slow",prefix:"execution time",message:e}],r)}logSchemaBuild(e,t){this.isLogEnabledFor("schema-build")&&this.writeLog("schema",{type:"schema-build",message:e},t)}logMigration(e,t){this.isLogEnabledFor("migration")||this.writeLog("log",{type:"migration",message:e},t)}log(e,t,i){switch(e){case"log":if(!this.isLogEnabledFor("log"))return;this.writeLog("log",{type:"log",message:t},i);break;case"info":if(!this.isLogEnabledFor("info"))return;this.writeLog("info",{type:"info",prefix:"info",message:t},i);break;case"warn":if(!this.isLogEnabledFor("warn"))return;this.writeLog("warn",{type:"warn",message:t},i);break}}isLogEnabledFor(e){switch(e){case"query":return this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("query")!==-1;case"error":case"query-error":return this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("error")!==-1;case"query-slow":return!0;case"schema":case"schema-build":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("schema")!==-1;case"migration":return!0;case"log":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("log")!==-1;case"info":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("info")!==-1;case"warn":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("warn")!==-1;default:return!1}}prepareLogMessages(e,t){t={addColonToPrefix:!0,appendParameterAsComment:!0,highlightSql:!0,...t};const i=Array.isArray(e)?e:[e];for(let r of i){if(typeof r!="object"&&(r={message:r}),r.format==="sql"){let s=String(r.message);t.appendParameterAsComment&&r.parameters&&r.parameters.length&&(s+=" -- PARAMETERS: ".concat(this.stringifyParams(r.parameters))),t.highlightSql&&(s=ut.highlightSql(s)),r.message=s}t.addColonToPrefix&&r.prefix&&(r.prefix+=":")}return i}stringifyParams(e){try{return JSON.stringify(e)}catch(t){return e}}}class H4 extends vb{writeLog(e,t,i){var r;const s=this.prepareLogMessages(t,{highlightSql:!1});for(let o of s)switch((r=o.type)!==null&&r!==void 0?r:e){case"log":case"schema-build":case"migration":console.log(o.message);break;case"info":case"query":o.prefix?console.info(o.prefix,o.message):console.info(o.message);break;case"warn":case"query-slow":o.prefix?console.warn(o.prefix,o.message):console.warn(o.message);break;case"error":case"query-error":o.prefix?console.error(o.prefix,o.message):console.error(o.message);break}}}class mE extends vb{writeLog(e,t,i){var r;const s=this.prepareLogMessages(t);for(let o of s)switch((r=o.type)!==null&&r!==void 0?r:e){case"log":case"schema-build":case"migration":ut.log(String(o.message));break;case"info":case"query":o.prefix?ut.logInfo(o.prefix,o.message):ut.log(String(o.message));break;case"warn":case"query-slow":o.prefix?ut.logWarn(o.prefix,o.message):console.warn(ut.warn(String(o.message)));break;case"error":case"query-error":o.prefix?ut.logError(o.prefix,String(o.message)):console.error(ut.error(String(o.message)));break}}}class W4{logQuery(){throw new Error("This logger is not applicable in a browser context")}logQueryError(){throw new Error("This logger is not applicable in a browser context")}logQuerySlow(){throw new Error("This logger is not applicable in a browser context")}logSchemaBuild(){throw new Error("This logger is not applicable in a browser context")}logMigration(){throw new Error("This logger is not applicable in a browser context")}log(){throw new Error("This logger is not applicable in a browser context")}}class Q4 extends W4{}var yg={exports:{}},Df,gE;function G4(){if(gE)return Df;gE=1;var n=1e3,e=n*60,t=e*60,i=t*24,r=i*7,s=i*365.25;Df=function(u,d){d=d||{};var h=typeof u;if(h==="string"&&u.length>0)return o(u);if(h==="number"&&isFinite(u))return d.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var h=parseFloat(d[1]),p=(d[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*r;case"days":case"day":case"d":return h*i;case"hours":case"hour":case"hrs":case"hr":case"h":return h*t;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(u){var d=Math.abs(u);return d>=i?Math.round(u/i)+"d":d>=t?Math.round(u/t)+"h":d>=e?Math.round(u/e)+"m":d>=n?Math.round(u/n)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=i?c(u,d,i,"day"):d>=t?c(u,d,t,"hour"):d>=e?c(u,d,e,"minute"):d>=n?c(u,d,n,"second"):u+" ms"}function c(u,d,h,p){var g=d>=h*1.5;return Math.round(u/h)+" "+p+(g?"s":"")}return Df}function K4(n){t.debug=t,t.default=t,t.coerce=l,t.disable=s,t.enable=r,t.enabled=o,t.humanize=G4(),t.destroy=c,Object.keys(n).forEach(u=>{t[u]=n[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(u){let d,h=null,p,g;function m(...T){if(!m.enabled)return;const w=m,b=Number(new Date),v=b-(d||b);w.diff=v,w.prev=d,w.curr=b,d=b,T[0]=t.coerce(T[0]),typeof T[0]!="string"&&T.unshift("%O");let N=0;T[0]=T[0].replace(/%([a-zA-Z%])/g,(L,I)=>{if(L==="%%")return"%";N++;const $=t.formatters[I];if(typeof $=="function"){const k=T[N];L=$.call(w,k),T.splice(N,1),N--}return L}),t.formatArgs.call(w,T),(w.log||t.log).apply(w,T)}return m.namespace=u,m.useColors=t.useColors(),m.color=t.selectColor(u),m.extend=i,m.destroy=t.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==t.namespaces&&(p=t.namespaces,g=t.enabled(u)),g),set:T=>{h=T}}),typeof t.init=="function"&&t.init(m),m}function i(u,d){const h=t(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function r(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let d;const h=(typeof u=="string"?u:"").split(/[\s,]+/),p=h.length;for(d=0;d<p;d++)h[d]&&(u=h[d].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.slice(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...t.names.map(a),...t.skips.map(a).map(d=>"-"+d)].join(",");return t.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let d,h;for(d=0,h=t.skips.length;d<h;d++)if(t.skips[d].test(u))return!1;for(d=0,h=t.names.length;d<h;d++)if(t.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var Y4=K4;(function(n,e){e.formatArgs=i,e.save=r,e.load=s,e.useColors=t,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,d=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(d=u))}),l.splice(d,0,c)}e.log=console.debug||console.log||(()=>{});function r(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch(c){}}function s(){let l;try{l=e.storage.getItem("debug")}catch(c){}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function o(){try{return localStorage}catch(l){}}n.exports=Y4(e);const{formatters:a}=n.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(yg,yg.exports);var ur=yg.exports;class J4 extends vb{constructor(){super(...arguments),this.logger={log:ur.debug("typeorm:log"),info:ur.debug("typeorm:info"),warn:ur.debug("typeorm:warn"),error:ur.debug("typeorm:error"),query:ur.debug("typeorm:query:log"),"query-error":ur.debug("typeorm:query:error"),"query-slow":ur.debug("typeorm:query:slow"),"schema-build":ur.debug("typeorm:schema"),migration:ur.debug("typeorm:migration")}}isLogEnabledFor(e){switch(e){case"query":return this.logger.query.enabled;case"query-error":return this.logger["query-error"].enabled;case"query-slow":return!0;case"schema":case"schema-build":return this.logger["schema-build"].enabled;case"migration":return this.logger.migration.enabled;case"log":return this.logger.log.enabled;case"info":return this.logger.info.enabled;case"warn":return this.logger.warn.enabled;default:return!1}}writeLog(e,t,i){var r;const s=this.prepareLogMessages(t,{appendParameterAsComment:!1});for(let o of s){const a=(r=o.type)!==null&&r!==void 0?r:e;a in this.logger&&(o.prefix?this.logger[a](o.prefix,o.message):this.logger[a](o.message),o.parameters&&o.parameters.length&&this.logger[a]("parameters:",o.parameters))}}}class yE{create(e,t){if(Fe.isObject(e))return e;if(e)switch(e){case"simple-console":return new H4(t);case"file":return new Q4(t);case"advanced-console":return new mE(t);case"debug":return new J4}return new mE(t)}}class X4{constructor(e,t){this.connection=e,this.clientType=t,this.redis=this.loadRedis()}async connect(){const e=this.connection.options.cache;if(this.clientType==="redis")this.client=this.redis.createClient({...e==null?void 0:e.options,legacyMode:!0}),typeof this.connection.options.cache=="object"&&this.connection.options.cache.ignoreErrors&&this.client.on("error",t=>{this.connection.logger.log("warn",t)}),"connect"in this.client&&await this.client.connect();else if(this.clientType==="ioredis")e&&e.port?e.options?this.client=new this.redis(e.port,e.options):this.client=new this.redis(e.port):e&&e.options?this.client=new this.redis(e.options):this.client=new this.redis;else if(this.clientType==="ioredis/cluster")if(e&&e.options&&Array.isArray(e.options))this.client=new this.redis.Cluster(e.options);else if(e&&e.options&&e.options.startupNodes)this.client=new this.redis.Cluster(e.options.startupNodes,e.options.options);else throw new B("options.startupNodes required for ".concat(this.clientType,"."))}async disconnect(){return new Promise((e,t)=>{this.client.quit((i,r)=>{if(i)return t(i);e(),this.client=void 0})})}async synchronize(e){}getFromCache(e,t){return new Promise((i,r)=>{e.identifier?this.client.get(e.identifier,(s,o)=>{if(s)return r(s);i(JSON.parse(o))}):e.query?this.client.get(e.query,(s,o)=>{if(s)return r(s);i(JSON.parse(o))}):i(void 0)})}isExpired(e){return e.time+e.duration<new Date().getTime()}async storeInCache(e,t,i){return new Promise((r,s)=>{e.identifier?this.client.set(e.identifier,JSON.stringify(e),"PX",e.duration,(o,a)=>{if(o)return s(o);r()}):e.query&&this.client.set(e.query,JSON.stringify(e),"PX",e.duration,(o,a)=>{if(o)return s(o);r()})})}async clear(e){return new Promise((t,i)=>{this.client.flushdb((r,s)=>{if(r)return i(r);t()})})}async remove(e,t){await Promise.all(e.map(i=>this.deleteKey(i)))}deleteKey(e){return new Promise((t,i)=>{this.client.del(e,(r,s)=>{if(r)return i(r);t()})})}loadRedis(){try{return this.clientType==="ioredis/cluster"?ut.load("ioredis"):ut.load(this.clientType)}catch(e){throw new B("Cannot use cache because ".concat(this.clientType,' is not installed. Please run "npm i ').concat(this.clientType,' --save".'))}}}let Tu;const Z4=new Uint8Array(16);function eU(){if(!Tu&&(Tu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Tu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Tu(Z4)}const Xt=[];for(let n=0;n<256;++n)Xt.push((n+256).toString(16).slice(1));function tU(n,e=0){return Xt[n[e+0]]+Xt[n[e+1]]+Xt[n[e+2]]+Xt[n[e+3]]+"-"+Xt[n[e+4]]+Xt[n[e+5]]+"-"+Xt[n[e+6]]+Xt[n[e+7]]+"-"+Xt[n[e+8]]+Xt[n[e+9]]+"-"+Xt[n[e+10]]+Xt[n[e+11]]+Xt[n[e+12]]+Xt[n[e+13]]+Xt[n[e+14]]+Xt[n[e+15]]}const nU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bE={randomUUID:nU};function iU(n,e,t){if(bE.randomUUID&&!e&&!n)return bE.randomUUID();n=n||{};const i=n.random||(n.rng||eU)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(let r=0;r<16;++r)e[t+r]=i[r];return e}return tU(i)}class rU{constructor(e){this.connection=e;const{schema:t}=this.connection.driver.options,i=this.connection.driver.database,s=(typeof this.connection.options.cache=="object"?this.connection.options.cache:{}).tableName||"query-result-cache";this.queryResultCacheDatabase=i,this.queryResultCacheSchema=t,this.queryResultCacheTable=this.connection.driver.buildTableName(s,t,i)}async connect(){}async disconnect(){}async synchronize(e){e=this.getQueryRunner(e);const t=this.connection.driver;await e.hasTable(this.queryResultCacheTable)||await e.createTable(new gt({database:this.queryResultCacheDatabase,schema:this.queryResultCacheSchema,name:this.queryResultCacheTable,columns:[{name:"id",isPrimary:!0,isNullable:!1,type:t.normalizeType({type:t.mappedDataTypes.cacheId}),generationStrategy:t.options.type==="spanner"?"uuid":"increment",isGenerated:!0},{name:"identifier",type:t.normalizeType({type:t.mappedDataTypes.cacheIdentifier}),isNullable:!0},{name:"time",type:t.normalizeType({type:t.mappedDataTypes.cacheTime}),isPrimary:!1,isNullable:!1},{name:"duration",type:t.normalizeType({type:t.mappedDataTypes.cacheDuration}),isPrimary:!1,isNullable:!1},{name:"query",type:t.normalizeType({type:t.mappedDataTypes.cacheQuery}),isPrimary:!1,isNullable:!1},{name:"result",type:t.normalizeType({type:t.mappedDataTypes.cacheResult}),isNullable:!1}]}))}getFromCache(e,t){t=this.getQueryRunner(t);const i=this.connection.createQueryBuilder(t).select().from(this.queryResultCacheTable,"cache");return e.identifier?i.where("".concat(i.escape("cache"),".").concat(i.escape("identifier")," = :identifier")).setParameters({identifier:this.connection.driver.options.type==="mssql"?new Ai(e.identifier,"nvarchar"):e.identifier}).getRawOne():e.query?this.connection.driver.options.type==="oracle"?i.where("dbms_lob.compare(".concat(i.escape("cache"),".").concat(i.escape("query"),", :query) = 0"),{query:e.query}).getRawOne():i.where("".concat(i.escape("cache"),".").concat(i.escape("query")," = :query")).setParameters({query:this.connection.driver.options.type==="mssql"?new Ai(e.query,"nvarchar"):e.query}).getRawOne():Promise.resolve(void 0)}isExpired(e){const t=typeof e.duration=="string"?parseInt(e.duration):e.duration;return(typeof e.time=="string"?parseInt(e.time):e.time)+t<new Date().getTime()}async storeInCache(e,t,i){const r=i===void 0||(i==null?void 0:i.getReplicationMode())==="slave";(i===void 0||r)&&(i=this.connection.createQueryRunner("master"));let s=e;if(this.connection.driver.options.type==="mssql"&&(s={identifier:new Ai(e.identifier,"nvarchar"),time:new Ai(e.time,"bigint"),duration:new Ai(e.duration,"int"),query:new Ai(e.query,"nvarchar"),result:new Ai(e.result,"nvarchar")}),t&&t.identifier){const o=i.manager.createQueryBuilder().update(this.queryResultCacheTable).set(s);o.where("".concat(o.escape("identifier")," = :condition"),{condition:s.identifier}),await o.execute()}else if(t&&t.query){const o=i.manager.createQueryBuilder().update(this.queryResultCacheTable).set(s);this.connection.driver.options.type==="oracle"?o.where('dbms_lob.compare("query", :condition) = 0',{condition:s.query}):o.where("".concat(o.escape("query")," = :condition"),{condition:s.query}),await o.execute()}else this.connection.driver.options.type==="spanner"&&!s.id&&(s.id=iU()),await i.manager.createQueryBuilder().insert().into(this.queryResultCacheTable).values(s).execute();r&&await i.release()}async clear(e){return this.getQueryRunner(e).clearTable(this.queryResultCacheTable)}async remove(e,t){let i=t||this.getQueryRunner();await Promise.all(e.map(r=>{const s=i.manager.createQueryBuilder();return s.delete().from(this.queryResultCacheTable).where("".concat(s.escape("identifier")," = :identifier"),{identifier:r}).execute()})),t||await i.release()}getQueryRunner(e){return e||this.connection.createQueryRunner()}}class vE{constructor(e){this.connection=e}create(){if(!this.connection.options.cache)throw new B("To use cache you need to enable it in connection options by setting cache: true or providing some caching options. Example: { host: ..., username: ..., cache: true }");const e=this.connection.options.cache;return e.provider&&typeof e.provider=="function"?e.provider(this.connection):e.type==="redis"||e.type==="ioredis"||e.type==="ioredis/cluster"?new X4(this.connection,e.type):new rU(this.connection)}}class sU{constructor(e){this.connection=e}load(e,t,i,r){return i&&i.isReleased&&(i=void 0),e.isManyToOne||e.isOneToOneOwner?this.loadManyToOneOrOneToOneOwner(e,t,i,r):e.isOneToMany||e.isOneToOneNotOwner?this.loadOneToManyOrOneToOneNotOwner(e,t,i,r):e.isManyToManyOwner?this.loadManyToManyOwner(e,t,i,r):this.loadManyToManyNotOwner(e,t,i,r)}loadManyToOneOrOneToOneOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=e.entityMetadata.name,a=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),l=a.expressionMap.mainAlias.name,c=e.entityMetadata.primaryColumns,d=(e.isOwning?e.joinColumns:e.inverseRelation.joinColumns).map(h=>"".concat(e.entityMetadata.name,".").concat(h.propertyName," = ").concat(l,".").concat(h.referencedColumn.propertyName)).join(" AND ");if(a.innerJoin(e.entityMetadata.target,o,d),c.length===1)a.where("".concat(o,".").concat(c[0].propertyPath," IN (:...").concat(o+"_"+c[0].propertyName,")")),a.setParameter(o+"_"+c[0].propertyName,s.map(h=>c[0].getEntityValue(h,!0)));else{const h=s.map((p,g)=>c.map((m,T)=>{const w=o+"_entity_"+g+"_"+T;return a.setParameter(w,m.getEntityValue(p,!0)),o+"."+m.propertyPath+" = :"+w}).join(" AND ")).map(p=>"("+p+")").join(" OR ");a.where(h)}return un.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadOneToManyOrOneToOneNotOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=e.inverseRelation.joinColumns,a=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.inverseRelation.entityMetadata.target,e.propertyName),l=a.expressionMap.mainAlias.name;if(o.length===1)a.where("".concat(l,".").concat(o[0].propertyPath," IN (:...").concat(l+"_"+o[0].propertyName,")")),a.setParameter(l+"_"+o[0].propertyName,s.map(c=>o[0].referencedColumn.getEntityValue(c,!0)));else{const c=s.map((u,d)=>o.map((h,p)=>{const g=l+"_entity_"+d+"_"+p;return a.setParameter(g,h.referencedColumn.getEntityValue(u,!0)),l+"."+h.propertyPath+" = :"+g}).join(" AND ")).map(u=>"("+u+")").join(" OR ");a.where(c)}return un.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadManyToManyOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=e.joinColumns.reduce((h,p)=>(h[p.propertyName]=s.map(g=>p.referencedColumn.getEntityValue(g,!0)),h),{}),a=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),l=a.expressionMap.mainAlias.name,c=e.junctionEntityMetadata.tableName,u=e.joinColumns.map(h=>"".concat(c,".").concat(h.propertyName," IN (:...").concat(h.propertyName,")")),d=e.inverseJoinColumns.map(h=>"".concat(c,".").concat(h.propertyName,"=").concat(l,".").concat(h.referencedColumn.propertyName));return a.innerJoin(c,c,[...u,...d].join(" AND ")).setParameters(o),un.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadManyToManyNotOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),a=o.expressionMap.mainAlias.name,l=e.junctionEntityMetadata.tableName,c=e.inverseRelation.joinColumns.map(h=>"".concat(l,".").concat(h.propertyName," = ").concat(a,".").concat(h.referencedColumn.propertyName)),u=e.inverseRelation.inverseJoinColumns.map(h=>"".concat(l,".").concat(h.propertyName," IN (:...").concat(h.propertyName,")")),d=e.inverseRelation.inverseJoinColumns.reduce((h,p)=>(h[p.propertyName]=s.map(g=>p.referencedColumn.getEntityValue(g,!0)),h),{});return o.innerJoin(l,l,[...c,...u].join(" AND ")).setParameters(d),un.joinEagerRelations(o,o.alias,o.expressionMap.mainAlias.metadata),o.getMany()}enableLazyLoad(e,t,i){const r=this,s="__"+e.propertyName+"__",o="__promise_"+e.propertyName+"__",a="__has_"+e.propertyName+"__",l=(u,d)=>(u[s]=d,u[a]=!0,delete u[o],d),c=(u,d)=>(delete u[a],delete u[s],u[o]=d,d.then(h=>u[o]===d?l(u,h):h),d);Object.defineProperty(t,e.propertyName,{get:function(){if(this[a]===!0||this[s]!==void 0)return Promise.resolve(this[s]);if(this[o])return this[o];const u=r.load(e,this,i).then(d=>e.isOneToOne||e.isManyToOne?d.length===0?null:d[0]:d);return c(this,u)},set:function(u){u instanceof Promise?c(this,u):l(this,u)},configurable:!0,enumerable:!1})}}class wE{constructor(e){this["@instanceof"]=Symbol.for("DataSource"),this.migrations=[],this.subscribers=[],this.entityMetadatas=[],this.entityMetadatasMap=new Map,this.name=e.name||"default",this.options=e,this.logger=new yE().create(this.options.logger,this.options.logging),this.driver=new A4().create(this),this.manager=this.createEntityManager(),this.namingStrategy=e.namingStrategy||new WF,this.metadataTableName=e.metadataTableName||"typeorm_metadata",this.queryResultCache=e.cache?new vE(this).create():void 0,this.relationLoader=new sU(this),this.relationIdLoader=new dA(this),this.isInitialized=!1}get isConnected(){return this.isInitialized}get mongoManager(){if(!W.isMongoEntityManager(this.manager))throw new B("MongoEntityManager is only available for MongoDB databases.");return this.manager}get sqljsManager(){if(!W.isSqljsEntityManager(this.manager))throw new B("SqljsEntityManager is only available for Sqljs databases.");return this.manager}setOptions(e){return Object.assign(this.options,e),(e.logger||e.logging)&&(this.logger=new yE().create(e.logger||this.options.logger,e.logging||this.options.logging)),e.namingStrategy&&(this.namingStrategy=e.namingStrategy),e.cache&&(this.queryResultCache=new vE(this).create()),e.database&&(this.driver.database=me.buildDriverOptions(this.options).database),this}async initialize(){if(this.isInitialized)throw new QF(this.name);await this.driver.connect(),this.queryResultCache&&await this.queryResultCache.connect(),Fe.assign(this,{isInitialized:!0});try{await this.buildMetadatas(),await this.driver.afterConnect(),this.options.dropSchema&&await this.dropDatabase(),this.options.migrationsRun&&await this.runMigrations({transaction:this.options.migrationsTransactionMode}),this.options.synchronize&&await this.synchronize()}catch(e){throw await this.destroy(),e}return this}async connect(){return this.initialize()}async destroy(){if(!this.isInitialized)throw new il(this.name);await this.driver.disconnect(),this.queryResultCache&&await this.queryResultCache.disconnect(),Fe.assign(this,{isInitialized:!1})}async close(){return this.destroy()}async synchronize(e=!1){if(!this.isInitialized)throw new il(this.name);e&&await this.dropDatabase(),await this.driver.createSchemaBuilder().build()}async dropDatabase(){const e=this.createQueryRunner();try{if(this.driver.options.type==="mssql"||me.isMySQLFamily(this.driver)||this.driver.options.type==="aurora-mysql"||me.isSQLiteFamily(this.driver)){const t=[];if(this.entityMetadatas.forEach(i=>{i.database&&t.indexOf(i.database)===-1&&t.push(i.database)}),t.length===0&&this.driver.database&&t.push(this.driver.database),t.length===0)await e.clearDatabase();else for(const i of t)await e.clearDatabase(i)}else await e.clearDatabase()}finally{await e.release()}}async runMigrations(e){if(!this.isInitialized)throw new il(this.name);const t=new $f(this);return t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1,await t.executePendingMigrations()}async undoLastMigration(e){if(!this.isInitialized)throw new il(this.name);const t=new $f(this);t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1,await t.undoLastMigration()}async showMigrations(){if(!this.isInitialized)throw new il(this.name);return await new $f(this).showMigrations()}hasMetadata(e){return!!this.findMetadata(e)}getMetadata(e){const t=this.findMetadata(e);if(!t)throw new XF(e);return t}getRepository(e){return this.manager.getRepository(e)}getTreeRepository(e){return this.manager.getTreeRepository(e)}getMongoRepository(e){if(this.driver.options.type!=="mongodb")throw new B("You can use getMongoRepository only for MongoDB connections.");return this.manager.getRepository(e)}getCustomRepository(e){return this.manager.getCustomRepository(e)}async transaction(e,t){return this.manager.transaction(e,t)}async query(e,t,i){if(W.isMongoEntityManager(this.manager))throw new B("Queries aren't supported by MongoDB.");if(i&&i.isReleased)throw new tA;const r=i||this.createQueryRunner();try{return await r.query(e,t)}finally{i||await r.release()}}createQueryBuilder(e,t,i){if(W.isMongoEntityManager(this.manager))throw new B("Query Builder is not supported by MongoDB.");if(t){t=me.buildAlias(this.driver,void 0,t);const r=this.getMetadata(e);return new Zd(this,i).select(t).from(r.target,t)}else return new Zd(this,e)}createQueryRunner(e="master"){const t=this.driver.createQueryRunner(e),i=this.createEntityManager(t);return Object.assign(t,{manager:i}),t}getManyToManyMetadata(e,t){const i=this.getMetadata(e).findRelationWithPropertyPath(t);if(!i)throw new B('Relation "'.concat(t,'" was not found in ').concat(e," entity."));if(!i.isManyToMany)throw new B('Relation "'.concat(e,"#").concat(t,'" does not have a many-to-many relationship.')+"You can use this method only on many-to-many relations.");return i.junctionEntityMetadata}createEntityManager(e){return new r4().create(this,e)}findMetadata(e){const t=this.entityMetadatasMap.get(e);if(t)return t;for(let[i,r]of this.entityMetadatasMap){if(W.isEntitySchema(e)&&r.name===e.options.name)return r;if(typeof e=="string"){if(e.indexOf(".")!==-1){if(r.tablePath===e)return r}else if(r.name===e||r.tableName===e)return r}if(Fe.isObjectWithName(e)&&typeof e.name=="string"){if(e.name.indexOf(".")!==-1){if(r.tablePath===e.name)return r}else if(r.name===e.name||r.tableName===e.name)return r}}}async buildMetadatas(){const e=new _4(this),t=new y6,i=Fe.mixedListToArray(this.options.subscribers||[]),r=await e.buildSubscribers(i);Fe.assign(this,{subscribers:r});const s=Fe.mixedListToArray(this.options.entities||[]),o=await e.buildEntityMetadatas(s);Fe.assign(this,{entityMetadatas:o,entityMetadatasMap:new Map(o.map(c=>[c.target,c]))});const a=Fe.mixedListToArray(this.options.migrations||[]),l=await e.buildMigrations(a);Fe.assign(this,{migrations:l}),t.validateMany(this.entityMetadatas.filter(c=>c.tableType!=="view"),this.driver);for(let c of o)W.isBaseEntityConstructor(c.target)&&c.target.useDataSource(this)}}function $i(){const n=ut.getGlobalVariable();return n.typeormMetadataArgsStorage||(n.typeormMetadataArgsStorage=new zC),n.typeormMetadataArgsStorage}function wb(n,e){return function(t,i){let r;typeof n=="string"||typeof n=="function"?r=n:n&&(e=n,r=n.type),e||(e={});const s=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",t,i):void 0;if(!r&&s&&(r=s),!e.type&&r&&(e.type=r),e.type==="hstore"&&!e.hstoreType&&(e.hstoreType=s===Object?"object":"string"),typeof n=="function")$i().embeddeds.push({target:t.constructor,propertyName:i,isArray:s===Array||e.array===!0,prefix:e.prefix!==void 0?e.prefix:void 0,type:n});else{if(!e.type)throw new nA(t,i);e.unique===!0&&$i().uniques.push({target:t.constructor,columns:[i]}),$i().columns.push({target:t.constructor,propertyName:i,mode:"regular",options:e}),e.generated&&$i().generations.push({target:t.constructor,propertyName:i,strategy:typeof e.generated=="string"?e.generated:"increment"})}}}function hA(n,e){return function(t,i){let r;typeof n=="string"||n===String||n===Boolean||n===Number?r=n:e=Object.assign({},n),e||(e={});const s=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",t,i):void 0;if(!r&&s&&(r=s),!e.type&&r&&(e.type=r),!e.type)throw new nA(t,i);if(e.nullable)throw new e6(t,i);e.primary=!0,$i().columns.push({target:t.constructor,propertyName:i,mode:"regular",options:e}),e.generated&&$i().generations.push({target:t.constructor,propertyName:i,strategy:typeof e.generated=="string"?e.generated:"increment"})}}function pA(n,e){const t=(Fe.isObject(n)?n:e)||{},i=typeof n=="string"?n:t.name;return function(r){$i().tables.push({target:r,name:i,type:"regular",orderBy:t.orderBy?t.orderBy:void 0,engine:t.engine?t.engine:void 0,database:t.database?t.database:void 0,schema:t.schema?t.schema:void 0,synchronize:t.synchronize,withoutRowid:t.withoutRowid})}}var oU=Object.defineProperty,aU=Object.getOwnPropertyDescriptor,cp=(n,e,t,i)=>{for(var r=i>1?void 0:i?aU(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&oU(e,t,r),r};let Tr=class{constructor(){cr(this,"id");cr(this,"isActive");cr(this,"file")}};cp([hA({type:"varchar"})],Tr.prototype,"id",2);cp([wb({type:"boolean"})],Tr.prototype,"isActive",2);cp([wb({type:"blob",length:255})],Tr.prototype,"file",2);Tr=cp([pA("test")],Tr);var lU=Object.defineProperty,cU=Object.getOwnPropertyDescriptor,Eb=(n,e,t,i)=>{for(var r=i>1?void 0:i?cU(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&lU(e,t,r),r};let da=class{constructor(){cr(this,"id");cr(this,"store")}};Eb([hA({type:"varchar"})],da.prototype,"id",2);Eb([wb({type:"text"})],da.prototype,"store",2);da=Eb([pA("state")],da);class uU{async up(e){await e.query('\n            CREATE TABLE "test" (\n                "id" integer PRIMARY KEY NOT NULL,\n                "isActive" boolean NOT NULL,\n                "file" blob NOT NULL\n            )\n        ')}async down(e){await e.query('\n            DROP TABLE "test"\n        ')}}class dU{async up(e){await e.query('\n            CREATE TABLE "state" (\n                "id" text PRIMARY KEY NOT NULL,\n                "store" text NOT NULL\n            )\n        ')}async down(e){await e.query('\n            DROP TABLE "state"\n        ')}}var fA={exports:{}};const hU={},pU=Object.freeze(Object.defineProperty({__proto__:null,default:hU},Symbol.toStringTag,{value:"Module"})),Su=Ik(pU);(function(n,e){var t=void 0,i=function(r){return t||(t=new Promise(function(s,o){var a=typeof r<"u"?r:{},l=a.onAbort;a.onAbort=function(f){o(new Error(f)),l&&l(f)},a.postRun=a.postRun||[],a.postRun.push(function(){s(a)}),n=void 0;var c;c||(c=typeof a<"u"?a:{}),c.onRuntimeInitialized=function(){function f(K,he){switch(typeof he){case"boolean":kk(K,he?1:0);break;case"number":Ck(K,he);break;case"string":Ak(K,he,-1,-1);break;case"object":if(he===null)Yb(K);else if(he.length!=null){var Ae=$p(he);Nk(K,Ae,he.length,-1),zc(Ae)}else Hc(K,"Wrong API use : tried to return a value of an unknown type ("+he+").",-1);break;default:Yb(K)}}function E(K,he){for(var Ae=[],Ie=0;Ie<K;Ie+=1){var Be=Vt(he+4*Ie,"i32"),et=wk(Be);if(et===1||et===2)Be=Sk(Be);else if(et===3)Be=xk(Be);else if(et===4){et=Be,Be=Ek(et),et=Tk(et);for(var Hi=new Uint8Array(Be),qn=0;qn<Be;qn+=1)Hi[qn]=ae[et+qn];Be=Hi}else Be=null;Ae.push(Be)}return Ae}function S(K,he){this.La=K,this.db=he,this.Ja=1,this.fb=[]}function P(K,he){if(this.db=he,he=ne(K)+1,this.Ya=jc(he),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");G(K,te,this.Ya,he),this.eb=this.Ya,this.Ua=this.ib=null}function q(K){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),K!=null){var he=this.filename,Ae="/",Ie=he;if(Ae&&(Ae=typeof Ae=="string"?Ae:bs(Ae),Ie=he?Q(Ae+"/"+he):Ae),he=Lb(!0,!0),Ie=po(Ie,(he!==void 0?he:438)&4095|32768,0),K){if(typeof K=="string"){Ae=Array(K.length);for(var Be=0,et=K.length;Be<et;++Be)Ae[Be]=K.charCodeAt(Be);K=Ae}vs(Ie,he|146),Ae=ws(Ie,577),Tt(Ae,K,0,K.length,0),X(Ae),vs(Ie,he)}}this.handleError(Oe(this.filename,ie)),this.db=Vt(ie,"i32"),Rk(this.db),this.Za={},this.Na={}}var ie=Lr(4),se=c.cwrap,Oe=se("sqlite3_open","number",["string","number"]),Xe=se("sqlite3_close_v2","number",["number"]),Ve=se("sqlite3_exec","number",["number","string","number","number","number"]),kt=se("sqlite3_changes","number",["number"]),lr=se("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Hb=se("sqlite3_sql","string",["number"]),ik=se("sqlite3_normalized_sql","string",["number"]),Wb=se("sqlite3_prepare_v2","number",["number","number","number","number","number"]),rk=se("sqlite3_bind_text","number",["number","number","number","number","number"]),Qb=se("sqlite3_bind_blob","number",["number","number","number","number","number"]),sk=se("sqlite3_bind_double","number",["number","number","number"]),ok=se("sqlite3_bind_int","number",["number","number","number"]),ak=se("sqlite3_bind_parameter_index","number",["number","string"]),lk=se("sqlite3_step","number",["number"]),ck=se("sqlite3_errmsg","string",["number"]),uk=se("sqlite3_column_count","number",["number"]),dk=se("sqlite3_data_count","number",["number"]),hk=se("sqlite3_column_double","number",["number","number"]),Gb=se("sqlite3_column_text","string",["number","number"]),pk=se("sqlite3_column_blob","number",["number","number"]),fk=se("sqlite3_column_bytes","number",["number","number"]),mk=se("sqlite3_column_type","number",["number","number"]),gk=se("sqlite3_column_name","string",["number","number"]),yk=se("sqlite3_reset","number",["number"]),bk=se("sqlite3_clear_bindings","number",["number"]),vk=se("sqlite3_finalize","number",["number"]),Kb=se("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),wk=se("sqlite3_value_type","number",["number"]),Ek=se("sqlite3_value_bytes","number",["number"]),xk=se("sqlite3_value_text","string",["number"]),Tk=se("sqlite3_value_blob","number",["number"]),Sk=se("sqlite3_value_double","number",["number"]),Ck=se("sqlite3_result_double","",["number","number"]),Yb=se("sqlite3_result_null","",["number"]),Ak=se("sqlite3_result_text","",["number","string","number","number"]),Nk=se("sqlite3_result_blob","",["number","number","number","number"]),kk=se("sqlite3_result_int","",["number","number"]),Hc=se("sqlite3_result_error","",["number","string","number"]),Jb=se("sqlite3_aggregate_context","number",["number","number"]),Rk=se("RegisterExtensionFunctions","number",["number"]);S.prototype.bind=function(K){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(K)?this.xb(K):K!=null&&typeof K=="object"?this.yb(K):!0},S.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var K=lk(this.La);switch(K){case 100:return!0;case 101:return!1;default:throw this.db.handleError(K)}},S.prototype.sb=function(K){return K==null&&(K=this.Ja,this.Ja+=1),hk(this.La,K)},S.prototype.Cb=function(K){if(K==null&&(K=this.Ja,this.Ja+=1),K=Gb(this.La,K),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(K)},S.prototype.Db=function(K){return K==null&&(K=this.Ja,this.Ja+=1),Gb(this.La,K)},S.prototype.getBlob=function(K){K==null&&(K=this.Ja,this.Ja+=1);var he=fk(this.La,K);K=pk(this.La,K);for(var Ae=new Uint8Array(he),Ie=0;Ie<he;Ie+=1)Ae[Ie]=ae[K+Ie];return Ae},S.prototype.get=function(K,he){he=he||{},K!=null&&this.bind(K)&&this.step(),K=[];for(var Ae=dk(this.La),Ie=0;Ie<Ae;Ie+=1)switch(mk(this.La,Ie)){case 1:var Be=he.useBigInt?this.Cb(Ie):this.sb(Ie);K.push(Be);break;case 2:K.push(this.sb(Ie));break;case 3:K.push(this.Db(Ie));break;case 4:K.push(this.getBlob(Ie));break;default:K.push(null)}return K},S.prototype.getColumnNames=function(){for(var K=[],he=uk(this.La),Ae=0;Ae<he;Ae+=1)K.push(gk(this.La,Ae));return K},S.prototype.getAsObject=function(K,he){K=this.get(K,he),he=this.getColumnNames();for(var Ae={},Ie=0;Ie<he.length;Ie+=1)Ae[he[Ie]]=K[Ie];return Ae},S.prototype.getSQL=function(){return Hb(this.La)},S.prototype.getNormalizedSQL=function(){return ik(this.La)},S.prototype.run=function(K){return K!=null&&this.bind(K),this.step(),this.reset()},S.prototype.nb=function(K,he){he==null&&(he=this.Ja,this.Ja+=1),K=x(K);var Ae=$p(K);this.fb.push(Ae),this.db.handleError(rk(this.La,he,Ae,K.length-1,0))},S.prototype.wb=function(K,he){he==null&&(he=this.Ja,this.Ja+=1);var Ae=$p(K);this.fb.push(Ae),this.db.handleError(Qb(this.La,he,Ae,K.length,0))},S.prototype.mb=function(K,he){he==null&&(he=this.Ja,this.Ja+=1),this.db.handleError((K===(K|0)?ok:sk)(this.La,he,K))},S.prototype.zb=function(K){K==null&&(K=this.Ja,this.Ja+=1),Qb(this.La,K,0,0,0)},S.prototype.ob=function(K,he){switch(he==null&&(he=this.Ja,this.Ja+=1),typeof K){case"string":this.nb(K,he);return;case"number":this.mb(K,he);return;case"bigint":this.nb(K.toString(),he);return;case"boolean":this.mb(K+0,he);return;case"object":if(K===null){this.zb(he);return}if(K.length!=null){this.wb(K,he);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+K+")."},S.prototype.yb=function(K){var he=this;return Object.keys(K).forEach(function(Ae){var Ie=ak(he.La,Ae);Ie!==0&&he.ob(K[Ae],Ie)}),!0},S.prototype.xb=function(K){for(var he=0;he<K.length;he+=1)this.ob(K[he],he+1);return!0},S.prototype.reset=function(){return this.freemem(),bk(this.La)===0&&yk(this.La)===0},S.prototype.freemem=function(){for(var K;(K=this.fb.pop())!==void 0;)zc(K)},S.prototype.free=function(){this.freemem();var K=vk(this.La)===0;return delete this.db.Za[this.La],this.La=0,K},P.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var K=za(),he=Lr(4);$t(ie),$t(he);try{this.db.handleError(Wb(this.db.db,this.eb,-1,ie,he)),this.eb=Vt(he,"i32");var Ae=Vt(ie,"i32");return Ae===0?(this.gb(),{done:!0}):(this.Ua=new S(Ae,this.db),this.db.Za[Ae]=this.Ua,{value:this.Ua,done:!1})}catch(Ie){throw this.ib=D(this.eb),this.gb(),Ie}finally{Va(K)}},P.prototype.gb=function(){zc(this.Ya),this.Ya=null},P.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:D(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(P.prototype[Symbol.iterator]=function(){return this}),q.prototype.run=function(K,he){if(!this.db)throw"Database closed";if(he){K=this.prepare(K,he);try{K.step()}finally{K.free()}}else this.handleError(Ve(this.db,K,0,0,ie));return this},q.prototype.exec=function(K,he,Ae){if(!this.db)throw"Database closed";var Ie=za(),Be=null;try{var et=ne(K)+1,Hi=Lr(et);G(K,ae,Hi,et);var qn=Hi,ti=Lr(4);for(K=[];Vt(qn,"i8")!==0;){$t(ie),$t(ti),this.handleError(Wb(this.db,qn,-1,ie,ti));var ni=Vt(ie,"i32");if(qn=Vt(ti,"i32"),ni!==0){for(et=null,Be=new S(ni,this),he!=null&&Be.bind(he);Be.step();)et===null&&(et={columns:Be.getColumnNames(),values:[]},K.push(et)),et.values.push(Be.get(null,Ae));Be.free()}}return K}catch(Ha){throw Be&&Be.free(),Ha}finally{Va(Ie)}},q.prototype.each=function(K,he,Ae,Ie,Be){typeof he=="function"&&(Ie=Ae,Ae=he,he=void 0),K=this.prepare(K,he);try{for(;K.step();)Ae(K.getAsObject(null,Be))}finally{K.free()}if(typeof Ie=="function")return Ie()},q.prototype.prepare=function(K,he){if($t(ie),this.handleError(lr(this.db,K,-1,ie,0)),K=Vt(ie,"i32"),K===0)throw"Nothing to prepare";var Ae=new S(K,this);return he!=null&&Ae.bind(he),this.Za[K]=Ae},q.prototype.iterateStatements=function(K){return new P(K,this)},q.prototype.export=function(){Object.values(this.Za).forEach(function(he){he.free()}),Object.values(this.Na).forEach(ja),this.Na={},this.handleError(Xe(this.db));var K=qt(this.filename);return this.handleError(Oe(this.filename,ie)),this.db=Vt(ie,"i32"),K},q.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(K){K.free()}),Object.values(this.Na).forEach(ja),this.Na={},this.handleError(Xe(this.db)),_c("/"+this.filename),this.db=null)},q.prototype.handleError=function(K){if(K===0)return null;throw K=ck(this.db),Error(K)},q.prototype.getRowsModified=function(){return kt(this.db)},q.prototype.create_function=function(K,he){Object.prototype.hasOwnProperty.call(this.Na,K)&&(ja(this.Na[K]),delete this.Na[K]);var Ae=Pp(function(Ie,Be,et){Be=E(Be,et);try{var Hi=he.apply(null,Be)}catch(qn){Hc(Ie,qn,-1);return}f(Ie,Hi)},"viii");return this.Na[K]=Ae,this.handleError(Kb(this.db,K,he.length,1,0,Ae,0,0,0)),this},q.prototype.create_aggregate=function(K,he){var Ae=he.init||function(){return null},Ie=he.finalize||function(ti){return ti},Be=he.step;if(!Be)throw"An aggregate function must have a step function in "+K;var et={};Object.hasOwnProperty.call(this.Na,K)&&(ja(this.Na[K]),delete this.Na[K]),he=K+"__finalize",Object.hasOwnProperty.call(this.Na,he)&&(ja(this.Na[he]),delete this.Na[he]);var Hi=Pp(function(ti,ni,Ha){var xs=Jb(ti,1);Object.hasOwnProperty.call(et,xs)||(et[xs]=Ae()),ni=E(ni,Ha),ni=[et[xs]].concat(ni);try{et[xs]=Be.apply(null,ni)}catch(Pk){delete et[xs],Hc(ti,Pk,-1)}},"viii"),qn=Pp(function(ti){var ni=Jb(ti,1);try{var Ha=Ie(et[ni])}catch(xs){delete et[ni],Hc(ti,xs,-1);return}f(ti,Ha),delete et[ni]},"vi");return this.Na[K]=Hi,this.Na[he]=qn,this.handleError(Kb(this.db,K,Be.length-1,1,0,0,Hi,qn,0)),this},c.Database=q};var u=Object.assign({},c),d="./this.program",h=typeof window=="object",p=typeof importScripts=="function",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",m="",T,w,b,v,N,M;g?(m=p?Su.dirname(m)+"/":__dirname+"/",M=()=>{N||(v=Su,N=Su)},T=function(f,E){return M(),f=N.normalize(f),v.readFileSync(f,E?void 0:"utf8")},b=f=>(f=T(f,!0),f.buffer||(f=new Uint8Array(f)),f),w=(f,E,S)=>{M(),f=N.normalize(f),v.readFile(f,function(P,q){P?S(P):E(q.buffer)})},1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),n.exports=c,c.inspect=function(){return"[Emscripten Module object]"}):(h||p)&&(p?m=self.location.href:typeof document<"u"&&document.currentScript&&(m=document.currentScript.src),m=m.indexOf("blob:")!==0?m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):"",T=f=>{var E=new XMLHttpRequest;return E.open("GET",f,!1),E.send(null),E.responseText},p&&(b=f=>{var E=new XMLHttpRequest;return E.open("GET",f,!1),E.responseType="arraybuffer",E.send(null),new Uint8Array(E.response)}),w=(f,E,S)=>{var P=new XMLHttpRequest;P.open("GET",f,!0),P.responseType="arraybuffer",P.onload=()=>{P.status==200||P.status==0&&P.response?E(P.response):S()},P.onerror=S,P.send(null)});var L=c.print||console.log.bind(console),I=c.printErr||console.warn.bind(console);Object.assign(c,u),u=null,c.thisProgram&&(d=c.thisProgram);var $;c.wasmBinary&&($=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&Lt("no native wasm support detected");var k,H=!1,A=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function F(f,E,S){var P=E+S;for(S=E;f[S]&&!(S>=P);)++S;if(16<S-E&&f.buffer&&A)return A.decode(f.subarray(E,S));for(P="";E<S;){var q=f[E++];if(q&128){var ie=f[E++]&63;if((q&224)==192)P+=String.fromCharCode((q&31)<<6|ie);else{var se=f[E++]&63;q=(q&240)==224?(q&15)<<12|ie<<6|se:(q&7)<<18|ie<<12|se<<6|f[E++]&63,65536>q?P+=String.fromCharCode(q):(q-=65536,P+=String.fromCharCode(55296|q>>10,56320|q&1023))}}else P+=String.fromCharCode(q)}return P}function D(f,E){return f?F(te,f,E):""}function G(f,E,S,P){if(!(0<P))return 0;var q=S;P=S+P-1;for(var ie=0;ie<f.length;++ie){var se=f.charCodeAt(ie);if(55296<=se&&57343>=se){var Oe=f.charCodeAt(++ie);se=65536+((se&1023)<<10)|Oe&1023}if(127>=se){if(S>=P)break;E[S++]=se}else{if(2047>=se){if(S+1>=P)break;E[S++]=192|se>>6}else{if(65535>=se){if(S+2>=P)break;E[S++]=224|se>>12}else{if(S+3>=P)break;E[S++]=240|se>>18,E[S++]=128|se>>12&63}E[S++]=128|se>>6&63}E[S++]=128|se&63}}return E[S]=0,S-q}function ne(f){for(var E=0,S=0;S<f.length;++S){var P=f.charCodeAt(S);127>=P?E++:2047>=P?E+=2:55296<=P&&57343>=P?(E+=4,++S):E+=3}return E}var ue,ae,te,Z,j,J,ce,ve;function Te(){var f=k.buffer;ue=f,c.HEAP8=ae=new Int8Array(f),c.HEAP16=Z=new Int16Array(f),c.HEAP32=j=new Int32Array(f),c.HEAPU8=te=new Uint8Array(f),c.HEAPU16=new Uint16Array(f),c.HEAPU32=J=new Uint32Array(f),c.HEAPF32=ce=new Float32Array(f),c.HEAPF64=ve=new Float64Array(f)}var Ce,$e=[],_e=[],pt=[];function xt(){var f=c.preRun.shift();$e.unshift(f)}var gn=0,sn=null;function Lt(f){throw c.onAbort&&c.onAbort(f),f="Aborted("+f+")",I(f),H=!0,new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info.")}function Dn(){return ft.startsWith("data:application/octet-stream;base64,")}var ft;if(ft="sql-wasm.wasm",!Dn()){var or=ft;ft=c.locateFile?c.locateFile(or,m):m+or}function Ir(){var f=ft;try{if(f==ft&&$)return new Uint8Array($);if(b)return b(f);throw"both async and sync fetching of the wasm failed"}catch(E){Lt(E)}}function ar(){if(!$&&(h||p)){if(typeof fetch=="function"&&!ft.startsWith("file://"))return fetch(ft,{credentials:"same-origin"}).then(function(f){if(!f.ok)throw"failed to load wasm binary file at '"+ft+"'";return f.arrayBuffer()}).catch(function(){return Ir()});if(w)return new Promise(function(f,E){w(ft,function(S){f(new Uint8Array(S))},E)})}return Promise.resolve().then(function(){return Ir()})}var Me,tt;function ji(f){for(;0<f.length;)f.shift()(c)}function Vt(f,E="i8"){switch(E.endsWith("*")&&(E="*"),E){case"i1":return ae[f>>0];case"i8":return ae[f>>0];case"i16":return Z[f>>1];case"i32":return j[f>>2];case"i64":return j[f>>2];case"float":return ce[f>>2];case"double":return ve[f>>3];case"*":return J[f>>2];default:Lt("invalid type for getValue: "+E)}return null}function $t(f){var E="i32";switch(E.endsWith("*")&&(E="*"),E){case"i1":ae[f>>0]=0;break;case"i8":ae[f>>0]=0;break;case"i16":Z[f>>1]=0;break;case"i32":j[f>>2]=0;break;case"i64":tt=[0,(Me=0,1<=+Math.abs(Me)?0<Me?(Math.min(+Math.floor(Me/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Me-+(~~Me>>>0))/4294967296)>>>0:0)],j[f>>2]=tt[0],j[f+4>>2]=tt[1];break;case"float":ce[f>>2]=0;break;case"double":ve[f>>3]=0;break;case"*":J[f>>2]=0;break;default:Lt("invalid type for setValue: "+E)}}var Ln=(f,E)=>{for(var S=0,P=f.length-1;0<=P;P--){var q=f[P];q==="."?f.splice(P,1):q===".."?(f.splice(P,1),S++):S&&(f.splice(P,1),S--)}if(E)for(;S;S--)f.unshift("..");return f},Q=f=>{var E=f.charAt(0)==="/",S=f.substr(-1)==="/";return(f=Ln(f.split("/").filter(P=>!!P),!E).join("/"))||E||(f="."),f&&S&&(f+="/"),(E?"/":"")+f},re=f=>{var E=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=E[0],E=E[1],!f&&!E?".":(E&&(E=E.substr(0,E.length-1)),f+E)},de=f=>{if(f==="/")return"/";f=Q(f),f=f.replace(/\/$/,"");var E=f.lastIndexOf("/");return E===-1?f:f.substr(E+1)};function C(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var f=new Uint8Array(1);return()=>(crypto.getRandomValues(f),f[0])}if(g)try{var E=Su;return()=>E.randomBytes(1)[0]}catch(S){}return()=>Lt("randomDevice")}function y(){for(var f="",E=!1,S=arguments.length-1;-1<=S&&!E;S--){if(E=0<=S?arguments[S]:"/",typeof E!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!E)return"";f=E+"/"+f,E=E.charAt(0)==="/"}return f=Ln(f.split("/").filter(P=>!!P),!E).join("/"),(E?"/":"")+f||"."}function x(f,E){var S=Array(ne(f)+1);return f=G(f,S,0,S.length),E&&(S.length=f),S}var R=[];function _(f,E){R[f]={input:[],output:[],Xa:E},La(f,U)}var U={open:function(f){var E=R[f.node.rdev];if(!E)throw new le(43);f.tty=E,f.seekable=!1},close:function(f){f.tty.Xa.fsync(f.tty)},fsync:function(f){f.tty.Xa.fsync(f.tty)},read:function(f,E,S,P){if(!f.tty||!f.tty.Xa.tb)throw new le(60);for(var q=0,ie=0;ie<P;ie++){try{var se=f.tty.Xa.tb(f.tty)}catch(Oe){throw new le(29)}if(se===void 0&&q===0)throw new le(6);if(se==null)break;q++,E[S+ie]=se}return q&&(f.node.timestamp=Date.now()),q},write:function(f,E,S,P){if(!f.tty||!f.tty.Xa.jb)throw new le(60);try{for(var q=0;q<P;q++)f.tty.Xa.jb(f.tty,E[S+q])}catch(ie){throw new le(29)}return P&&(f.node.timestamp=Date.now()),q}},Y={tb:function(f){if(!f.input.length){var E=null;if(g){var S=Buffer.alloc(256),P=0;try{P=v.readSync(process.stdin.fd,S,0,256,-1)}catch(q){if(q.toString().includes("EOF"))P=0;else throw q}0<P?E=S.slice(0,P).toString("utf-8"):E=null}else typeof window<"u"&&typeof window.prompt=="function"?(E=window.prompt("Input: "),E!==null&&(E+="\n")):typeof readline=="function"&&(E=readline(),E!==null&&(E+="\n"));if(!E)return null;f.input=x(E,!0)}return f.input.shift()},jb:function(f,E){E===null||E===10?(L(F(f.output,0)),f.output=[]):E!=0&&f.output.push(E)},fsync:function(f){f.output&&0<f.output.length&&(L(F(f.output,0)),f.output=[])}},ge={jb:function(f,E){E===null||E===10?(I(F(f.output,0)),f.output=[]):E!=0&&f.output.push(E)},fsync:function(f){f.output&&0<f.output.length&&(I(F(f.output,0)),f.output=[])}},ye={Qa:null,Ra:function(){return ye.createNode(null,"/",16895,0)},createNode:function(f,E,S,P){if((S&61440)===24576||(S&61440)===4096)throw new le(63);return ye.Qa||(ye.Qa={dir:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa,lookup:ye.Ga.lookup,ab:ye.Ga.ab,rename:ye.Ga.rename,unlink:ye.Ga.unlink,rmdir:ye.Ga.rmdir,readdir:ye.Ga.readdir,symlink:ye.Ga.symlink},stream:{Ta:ye.Ha.Ta}},file:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa},stream:{Ta:ye.Ha.Ta,read:ye.Ha.read,write:ye.Ha.write,lb:ye.Ha.lb,bb:ye.Ha.bb,cb:ye.Ha.cb}},link:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa,readlink:ye.Ga.readlink},stream:{}},pb:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa},stream:xp}}),S=Ia(f,E,S,P),(S.mode&61440)===16384?(S.Ga=ye.Qa.dir.node,S.Ha=ye.Qa.dir.stream,S.Ia={}):(S.mode&61440)===32768?(S.Ga=ye.Qa.file.node,S.Ha=ye.Qa.file.stream,S.Ma=0,S.Ia=null):(S.mode&61440)===40960?(S.Ga=ye.Qa.link.node,S.Ha=ye.Qa.link.stream):(S.mode&61440)===8192&&(S.Ga=ye.Qa.pb.node,S.Ha=ye.Qa.pb.stream),S.timestamp=Date.now(),f&&(f.Ia[E]=S,f.timestamp=S.timestamp),S},Jb:function(f){return f.Ia?f.Ia.subarray?f.Ia.subarray(0,f.Ma):new Uint8Array(f.Ia):new Uint8Array(0)},qb:function(f,E){var S=f.Ia?f.Ia.length:0;S>=E||(E=Math.max(E,S*(1048576>S?2:1.125)>>>0),S!=0&&(E=Math.max(E,256)),S=f.Ia,f.Ia=new Uint8Array(E),0<f.Ma&&f.Ia.set(S.subarray(0,f.Ma),0))},Gb:function(f,E){if(f.Ma!=E)if(E==0)f.Ia=null,f.Ma=0;else{var S=f.Ia;f.Ia=new Uint8Array(E),S&&f.Ia.set(S.subarray(0,Math.min(E,f.Ma))),f.Ma=E}},Ga:{Pa:function(f){var E={};return E.dev=(f.mode&61440)===8192?f.id:1,E.ino=f.id,E.mode=f.mode,E.nlink=1,E.uid=0,E.gid=0,E.rdev=f.rdev,(f.mode&61440)===16384?E.size=4096:(f.mode&61440)===32768?E.size=f.Ma:(f.mode&61440)===40960?E.size=f.link.length:E.size=0,E.atime=new Date(f.timestamp),E.mtime=new Date(f.timestamp),E.ctime=new Date(f.timestamp),E.Ab=4096,E.blocks=Math.ceil(E.size/E.Ab),E},Oa:function(f,E){E.mode!==void 0&&(f.mode=E.mode),E.timestamp!==void 0&&(f.timestamp=E.timestamp),E.size!==void 0&&ye.Gb(f,E.size)},lookup:function(){throw $a[44]},ab:function(f,E,S,P){return ye.createNode(f,E,S,P)},rename:function(f,E,S){if((f.mode&61440)===16384){try{var P=Sn(E,S)}catch(ie){}if(P)for(var q in P.Ia)throw new le(55)}delete f.parent.Ia[f.name],f.parent.timestamp=Date.now(),f.name=S,E.Ia[S]=f,E.timestamp=f.parent.timestamp,f.parent=E},unlink:function(f,E){delete f.Ia[E],f.timestamp=Date.now()},rmdir:function(f,E){var S=Sn(f,E),P;for(P in S.Ia)throw new le(55);delete f.Ia[E],f.timestamp=Date.now()},readdir:function(f){var E=[".",".."],S;for(S in f.Ia)f.Ia.hasOwnProperty(S)&&E.push(S);return E},symlink:function(f,E,S){return f=ye.createNode(f,E,41471,0),f.link=S,f},readlink:function(f){if((f.mode&61440)!==40960)throw new le(28);return f.link}},Ha:{read:function(f,E,S,P,q){var ie=f.node.Ia;if(q>=f.node.Ma)return 0;if(f=Math.min(f.node.Ma-q,P),8<f&&ie.subarray)E.set(ie.subarray(q,q+f),S);else for(P=0;P<f;P++)E[S+P]=ie[q+P];return f},write:function(f,E,S,P,q,ie){if(E.buffer===ae.buffer&&(ie=!1),!P)return 0;if(f=f.node,f.timestamp=Date.now(),E.subarray&&(!f.Ia||f.Ia.subarray)){if(ie)return f.Ia=E.subarray(S,S+P),f.Ma=P;if(f.Ma===0&&q===0)return f.Ia=E.slice(S,S+P),f.Ma=P;if(q+P<=f.Ma)return f.Ia.set(E.subarray(S,S+P),q),P}if(ye.qb(f,q+P),f.Ia.subarray&&E.subarray)f.Ia.set(E.subarray(S,S+P),q);else for(ie=0;ie<P;ie++)f.Ia[q+ie]=E[S+ie];return f.Ma=Math.max(f.Ma,q+P),P},Ta:function(f,E,S){if(S===1?E+=f.position:S===2&&(f.node.mode&61440)===32768&&(E+=f.node.Ma),0>E)throw new le(28);return E},lb:function(f,E,S){ye.qb(f.node,E+S),f.node.Ma=Math.max(f.node.Ma,E+S)},bb:function(f,E,S,P,q){if((f.node.mode&61440)!==32768)throw new le(43);if(f=f.node.Ia,q&2||f.buffer!==ue){if((0<S||S+E<f.length)&&(f.subarray?f=f.subarray(S,S+E):f=Array.prototype.slice.call(f,S,S+E)),S=!0,E=65536*Math.ceil(E/65536),(q=zb(65536,E))?(te.fill(0,q,q+E),E=q):E=0,!E)throw new le(48);ae.set(f,E)}else S=!1,E=f.byteOffset;return{Fb:E,vb:S}},cb:function(f,E,S,P,q){if((f.node.mode&61440)!==32768)throw new le(43);return q&2||ye.Ha.write(f,E,0,P,S,!1),0}}},We=null,st={},qe=[],wp=1,zi=null,$c=!0,le=null,$a={},on=(f,E={})=>{if(f=y("/",f),!f)return{path:"",node:null};if(E=Object.assign({rb:!0,kb:0},E),8<E.kb)throw new le(32);f=Ln(f.split("/").filter(se=>!!se),!1);for(var S=We,P="/",q=0;q<f.length;q++){var ie=q===f.length-1;if(ie&&E.parent)break;if(S=Sn(S,f[q]),P=Q(P+"/"+f[q]),S.Va&&(!ie||ie&&E.rb)&&(S=S.Va.root),!ie||E.Sa){for(ie=0;(S.mode&61440)===40960;)if(S=Dc(P),P=y(re(P),S),S=on(P,{kb:E.kb+1}).node,40<ie++)throw new le(32)}}return{path:P,node:S}},bs=f=>{for(var E;;){if(f===f.parent)return f=f.Ra.ub,E?f[f.length-1]!=="/"?f+"/"+E:f+E:f;E=E?f.name+"/"+E:f.name,f=f.parent}},Ma=(f,E)=>{for(var S=0,P=0;P<E.length;P++)S=(S<<5)-S+E.charCodeAt(P)|0;return(f+S>>>0)%zi.length},Mc=f=>{var E=Ma(f.parent.id,f.name);if(zi[E]===f)zi[E]=f.Wa;else for(E=zi[E];E;){if(E.Wa===f){E.Wa=f.Wa;break}E=E.Wa}},Sn=(f,E)=>{var S;if(S=(S=Zn(f,"x"))?S:f.Ga.lookup?0:2)throw new le(S,f);for(S=zi[Ma(f.id,E)];S;S=S.Wa){var P=S.name;if(S.parent.id===f.id&&P===E)return S}return f.Ga.lookup(f,E)},Ia=(f,E,S,P)=>(f=new Ub(f,E,S,P),E=Ma(f.parent.id,f.name),f.Wa=zi[E],zi[E]=f),Ep={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Oa=f=>{var E=["r","w","rw"][f&3];return f&512&&(E+="w"),E},Zn=(f,E)=>{if($c)return 0;if(!E.includes("r")||f.mode&292){if(E.includes("w")&&!(f.mode&146)||E.includes("x")&&!(f.mode&73))return 2}else return 2;return 0},_a=(f,E)=>{try{return Sn(f,E),20}catch(S){}return Zn(f,"wx")},Da=(f,E,S)=>{try{var P=Sn(f,E)}catch(q){return q.Ka}if(f=Zn(f,"wx"))return f;if(S){if((P.mode&61440)!==16384)return 54;if(P===P.parent||bs(P)==="/")return 10}else if((P.mode&61440)===16384)return 31;return 0},Cn=(f=0)=>{for(;4096>=f;f++)if(!qe[f])return f;throw new le(33)},Ic=(f,E)=>(Ua||(Ua=function(){this.$a={}},Ua.prototype={},Object.defineProperties(Ua.prototype,{object:{get:function(){return this.node},set:function(S){this.node=S}},flags:{get:function(){return this.$a.flags},set:function(S){this.$a.flags=S}},position:{get:function(){return this.$a.position},set:function(S){this.$a.position=S}}})),f=Object.assign(new Ua,f),E=Cn(E),f.fd=E,qe[E]=f),xp={open:f=>{f.Ha=st[f.node.rdev].Ha,f.Ha.open&&f.Ha.open(f)},Ta:()=>{throw new le(70)}},La=(f,E)=>{st[f]={Ha:E}},qa=(f,E)=>{var S=E==="/",P=!E;if(S&&We)throw new le(10);if(!S&&!P){var q=on(E,{rb:!1});if(E=q.path,q=q.node,q.Va)throw new le(10);if((q.mode&61440)!==16384)throw new le(54)}E={type:f,Kb:{},ub:E,Eb:[]},f=f.Ra(E),f.Ra=E,E.root=f,S?We=f:q&&(q.Va=E,q.Ra&&q.Ra.Eb.push(E))},po=(f,E,S)=>{var P=on(f,{parent:!0}).node;if(f=de(f),!f||f==="."||f==="..")throw new le(28);var q=_a(P,f);if(q)throw new le(q);if(!P.Ga.ab)throw new le(63);return P.Ga.ab(P,f,E,S)},ei=(f,E)=>po(f,(E!==void 0?E:511)&1023|16384,0),Or=(f,E,S)=>{typeof S>"u"&&(S=E,E=438),po(f,E|8192,S)},Ba=(f,E)=>{if(!y(f))throw new le(44);var S=on(E,{parent:!0}).node;if(!S)throw new le(44);E=de(E);var P=_a(S,E);if(P)throw new le(P);if(!S.Ga.symlink)throw new le(63);S.Ga.symlink(S,E,f)},Oc=f=>{var E=on(f,{parent:!0}).node;f=de(f);var S=Sn(E,f),P=Da(E,f,!0);if(P)throw new le(P);if(!E.Ga.rmdir)throw new le(63);if(S.Va)throw new le(10);E.Ga.rmdir(E,f),Mc(S)},_c=f=>{var E=on(f,{parent:!0}).node;if(!E)throw new le(44);f=de(f);var S=Sn(E,f),P=Da(E,f,!1);if(P)throw new le(P);if(!E.Ga.unlink)throw new le(63);if(S.Va)throw new le(10);E.Ga.unlink(E,f),Mc(S)},Dc=f=>{if(f=on(f).node,!f)throw new le(44);if(!f.Ga.readlink)throw new le(28);return y(bs(f.parent),f.Ga.readlink(f))},_r=(f,E)=>{if(f=on(f,{Sa:!E}).node,!f)throw new le(44);if(!f.Ga.Pa)throw new le(63);return f.Ga.Pa(f)},Lc=f=>_r(f,!0),vs=(f,E)=>{if(f=typeof f=="string"?on(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new le(63);f.Ga.Oa(f,{mode:E&4095|f.mode&-4096,timestamp:Date.now()})},Tp=(f,E)=>{if(0>E)throw new le(28);if(f=typeof f=="string"?on(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new le(63);if((f.mode&61440)===16384)throw new le(31);if((f.mode&61440)!==32768)throw new le(28);var S=Zn(f,"w");if(S)throw new le(S);f.Ga.Oa(f,{size:E,timestamp:Date.now()})},ws=(f,E,S)=>{if(f==="")throw new le(44);if(typeof E=="string"){var P=Ep[E];if(typeof P>"u")throw Error("Unknown file open mode: "+E);E=P}if(S=E&64?(typeof S>"u"?438:S)&4095|32768:0,typeof f=="object")var q=f;else{f=Q(f);try{q=on(f,{Sa:!(E&131072)}).node}catch(ie){}}if(P=!1,E&64)if(q){if(E&128)throw new le(20)}else q=po(f,S,0),P=!0;if(!q)throw new le(44);if((q.mode&61440)===8192&&(E&=-513),E&65536&&(q.mode&61440)!==16384)throw new le(54);if(!P&&(S=q?(q.mode&61440)===40960?32:(q.mode&61440)===16384&&(Oa(E)!=="r"||E&512)?31:Zn(q,Oa(E)):44))throw new le(S);return E&512&&!P&&Tp(q,0),E&=-131713,q=Ic({node:q,path:bs(q),flags:E,seekable:!0,position:0,Ha:q.Ha,Ib:[],error:!1}),q.Ha.open&&q.Ha.open(q),!c.logReadFiles||E&1||(qc||(qc={}),f in qc||(qc[f]=1)),q},X=f=>{if(f.fd===null)throw new le(8);f.hb&&(f.hb=null);try{f.Ha.close&&f.Ha.close(f)}catch(E){throw E}finally{qe[f.fd]=null}f.fd=null},fe=(f,E,S)=>{if(f.fd===null)throw new le(8);if(!f.seekable||!f.Ha.Ta)throw new le(70);if(S!=0&&S!=1&&S!=2)throw new le(28);f.position=f.Ha.Ta(f,E,S),f.Ib=[]},Se=(f,E,S,P,q)=>{if(0>P||0>q)throw new le(28);if(f.fd===null)throw new le(8);if((f.flags&2097155)===1)throw new le(8);if((f.node.mode&61440)===16384)throw new le(31);if(!f.Ha.read)throw new le(28);var ie=typeof q<"u";if(!ie)q=f.position;else if(!f.seekable)throw new le(70);return E=f.Ha.read(f,E,S,P,q),ie||(f.position+=E),E},Tt=(f,E,S,P,q)=>{if(0>P||0>q)throw new le(28);if(f.fd===null)throw new le(8);if(!(f.flags&2097155))throw new le(8);if((f.node.mode&61440)===16384)throw new le(31);if(!f.Ha.write)throw new le(28);f.seekable&&f.flags&1024&&fe(f,0,2);var ie=typeof q<"u";if(!ie)q=f.position;else if(!f.seekable)throw new le(70);return E=f.Ha.write(f,E,S,P,q,void 0),ie||(f.position+=E),E},qt=f=>{var E,S=ws(f,S||0);f=_r(f).size;var P=new Uint8Array(f);return Se(S,P,0,f,0),E=P,X(S),E},yn=()=>{le||(le=function(f,E){this.node=E,this.Hb=function(S){this.Ka=S},this.Hb(f),this.message="FS error"},le.prototype=Error(),le.prototype.constructor=le,[44].forEach(f=>{$a[f]=new le(f),$a[f].stack="<generic error, no stack>"}))},Vi,Lb=(f,E)=>{var S=0;return f&&(S|=365),E&&(S|=146),S},Fa=(f,E,S)=>{f=Q("/dev/"+f);var P=Lb(!!E,!!S);Sp||(Sp=64);var q=Sp++<<8|0;La(q,{open:ie=>{ie.seekable=!1},close:()=>{S&&S.buffer&&S.buffer.length&&S(10)},read:(ie,se,Oe,Xe)=>{for(var Ve=0,kt=0;kt<Xe;kt++){try{var lr=E()}catch(Hb){throw new le(29)}if(lr===void 0&&Ve===0)throw new le(6);if(lr==null)break;Ve++,se[Oe+kt]=lr}return Ve&&(ie.node.timestamp=Date.now()),Ve},write:(ie,se,Oe,Xe)=>{for(var Ve=0;Ve<Xe;Ve++)try{S(se[Oe+Ve])}catch(kt){throw new le(29)}return Xe&&(ie.node.timestamp=Date.now()),Ve}}),Or(f,P,q)},Sp,lt={},Ua,qc;function Es(f,E,S){if(E.charAt(0)==="/")return E;if(f=f===-100?"/":vi(f).path,E.length==0){if(!S)throw new le(44);return f}return Q(f+"/"+E)}function Bc(f,E,S){try{var P=f(E)}catch(q){if(q&&q.node&&Q(E)!==Q(bs(q.node)))return-54;throw q}return j[S>>2]=P.dev,j[S+8>>2]=P.ino,j[S+12>>2]=P.mode,J[S+16>>2]=P.nlink,j[S+20>>2]=P.uid,j[S+24>>2]=P.gid,j[S+28>>2]=P.rdev,tt=[P.size>>>0,(Me=P.size,1<=+Math.abs(Me)?0<Me?(Math.min(+Math.floor(Me/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Me-+(~~Me>>>0))/4294967296)>>>0:0)],j[S+40>>2]=tt[0],j[S+44>>2]=tt[1],j[S+48>>2]=4096,j[S+52>>2]=P.blocks,tt=[Math.floor(P.atime.getTime()/1e3)>>>0,(Me=Math.floor(P.atime.getTime()/1e3),1<=+Math.abs(Me)?0<Me?(Math.min(+Math.floor(Me/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Me-+(~~Me>>>0))/4294967296)>>>0:0)],j[S+56>>2]=tt[0],j[S+60>>2]=tt[1],J[S+64>>2]=0,tt=[Math.floor(P.mtime.getTime()/1e3)>>>0,(Me=Math.floor(P.mtime.getTime()/1e3),1<=+Math.abs(Me)?0<Me?(Math.min(+Math.floor(Me/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Me-+(~~Me>>>0))/4294967296)>>>0:0)],j[S+72>>2]=tt[0],j[S+76>>2]=tt[1],J[S+80>>2]=0,tt=[Math.floor(P.ctime.getTime()/1e3)>>>0,(Me=Math.floor(P.ctime.getTime()/1e3),1<=+Math.abs(Me)?0<Me?(Math.min(+Math.floor(Me/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Me-+(~~Me>>>0))/4294967296)>>>0:0)],j[S+88>>2]=tt[0],j[S+92>>2]=tt[1],J[S+96>>2]=0,tt=[P.ino>>>0,(Me=P.ino,1<=+Math.abs(Me)?0<Me?(Math.min(+Math.floor(Me/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Me-+(~~Me>>>0))/4294967296)>>>0:0)],j[S+104>>2]=tt[0],j[S+108>>2]=tt[1],0}var Fc=void 0;function Uc(){return Fc+=4,j[Fc-4>>2]}function vi(f){if(f=qe[f],!f)throw new le(8);return f}function Cp(f){return J[f>>2]+4294967296*j[f+4>>2]}function qb(f){var E=ne(f)+1,S=jc(E);return S&&G(f,ae,S,E),S}function ek(f,E,S){function P(Xe){return(Xe=Xe.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Xe[1]:"GMT"}var q=new Date().getFullYear(),ie=new Date(q,0,1),se=new Date(q,6,1);q=ie.getTimezoneOffset();var Oe=se.getTimezoneOffset();j[f>>2]=60*Math.max(q,Oe),j[E>>2]=+(q!=Oe),f=P(ie),E=P(se),f=qb(f),E=qb(E),Oe<q?(J[S>>2]=f,J[S+4>>2]=E):(J[S>>2]=E,J[S+4>>2]=f)}function Ap(f,E,S){Ap.Bb||(Ap.Bb=!0,ek(f,E,S))}var Bb;Bb=g?()=>{var f=process.hrtime();return 1e3*f[0]+f[1]/1e6}:()=>performance.now();var Np={};function Fb(){if(!kp){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},E;for(E in Np)Np[E]===void 0?delete f[E]:f[E]=Np[E];var S=[];for(E in f)S.push(E+"="+f[E]);kp=S}return kp}var kp,Dr=void 0,Rp=[];function Pp(f,E){if(!Dr){Dr=new WeakMap;var S=Ce.length;if(Dr)for(var P=0;P<0+S;P++){var q=Ce.get(P);q&&Dr.set(q,P)}}if(Dr.has(f))return Dr.get(f);if(Rp.length)S=Rp.pop();else{try{Ce.grow(1)}catch(Oe){throw Oe instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Oe}S=Ce.length-1}try{Ce.set(S,f)}catch(Oe){if(!(Oe instanceof TypeError))throw Oe;if(typeof WebAssembly.Function=="function"){P=WebAssembly.Function,q={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var ie={parameters:[],results:E[0]=="v"?[]:[q[E[0]]]},se=1;se<E.length;++se)ie.parameters.push(q[E[se]]);E=new P(ie,f)}else{for(P=[1,96],q=E.slice(0,1),E=E.slice(1),ie={i:127,p:127,j:126,f:125,d:124},se=E.length,128>se?P.push(se):P.push(se%128|128,se>>7),se=0;se<E.length;++se)P.push(ie[E[se]]);q=="v"?P.push(0):P.push(1,ie[q]),E=[0,97,115,109,1,0,0,0,1],q=P.length,128>q?E.push(q):E.push(q%128|128,q>>7),E.push.apply(E,P),E.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),E=new WebAssembly.Module(new Uint8Array(E)),E=new WebAssembly.Instance(E,{e:{f}}).exports.f}Ce.set(S,E)}return Dr.set(f,S),S}function ja(f){Dr.delete(Ce.get(f)),Rp.push(f)}function $p(f){var E=jc(f.length);return f.subarray||f.slice||(f=new Uint8Array(f)),te.set(f,E),E}function tk(f,E,S,P){var q={string:Ve=>{var kt=0;if(Ve!=null&&Ve!==0){var lr=(Ve.length<<2)+1;kt=Lr(lr),G(Ve,te,kt,lr)}return kt},array:Ve=>{var kt=Lr(Ve.length);return ae.set(Ve,kt),kt}};f=c["_"+f];var ie=[],se=0;if(P)for(var Oe=0;Oe<P.length;Oe++){var Xe=q[S[Oe]];Xe?(se===0&&(se=za()),ie[Oe]=Xe(P[Oe])):ie[Oe]=P[Oe]}return S=f.apply(null,ie),S=function(Ve){return se!==0&&Va(se),E==="string"?D(Ve):E==="boolean"?!!Ve:Ve}(S)}function Ub(f,E,S,P){f||(f=this),this.parent=f,this.Ra=f.Ra,this.Va=null,this.id=wp++,this.name=E,this.mode=S,this.Ga={},this.Ha={},this.rdev=P}Object.defineProperties(Ub.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(f){f?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(f){f?this.mode|=146:this.mode&=-147}}}),yn(),zi=Array(4096),qa(ye,"/"),ei("/tmp"),ei("/home"),ei("/home/web_user"),(()=>{ei("/dev"),La(259,{read:()=>0,write:(E,S,P,q)=>q}),Or("/dev/null",259),_(1280,Y),_(1536,ge),Or("/dev/tty",1280),Or("/dev/tty1",1536);var f=C();Fa("random",f),Fa("urandom",f),ei("/dev/shm"),ei("/dev/shm/tmp")})(),(()=>{ei("/proc");var f=ei("/proc/self");ei("/proc/self/fd"),qa({Ra:()=>{var E=Ia(f,"fd",16895,73);return E.Ga={lookup:(S,P)=>{var q=qe[+P];if(!q)throw new le(8);return S={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>q.path}},S.parent=S}},E}},"/proc/self/fd")})();var nk={a:function(f,E,S,P){Lt("Assertion failed: "+D(f)+", at: "+[E?D(E):"unknown filename",S,P?D(P):"unknown function"])},h:function(f,E){try{return f=D(f),vs(f,E),0}catch(S){if(typeof lt>"u"||!(S instanceof le))throw S;return-S.Ka}},H:function(f,E,S){try{if(E=D(E),E=Es(f,E),S&-8)return-28;var P=on(E,{Sa:!0}).node;return P?(f="",S&4&&(f+="r"),S&2&&(f+="w"),S&1&&(f+="x"),f&&Zn(P,f)?-2:0):-44}catch(q){if(typeof lt>"u"||!(q instanceof le))throw q;return-q.Ka}},i:function(f,E){try{var S=qe[f];if(!S)throw new le(8);return vs(S.node,E),0}catch(P){if(typeof lt>"u"||!(P instanceof le))throw P;return-P.Ka}},g:function(f){try{var E=qe[f];if(!E)throw new le(8);var S=E.node,P=typeof S=="string"?on(S,{Sa:!0}).node:S;if(!P.Ga.Oa)throw new le(63);return P.Ga.Oa(P,{timestamp:Date.now()}),0}catch(q){if(typeof lt>"u"||!(q instanceof le))throw q;return-q.Ka}},b:function(f,E,S){Fc=S;try{var P=vi(f);switch(E){case 0:var q=Uc();return 0>q?-28:Ic(P,q).fd;case 1:case 2:return 0;case 3:return P.flags;case 4:return q=Uc(),P.flags|=q,0;case 5:return q=Uc(),Z[q+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return j[jb()>>2]=28,-1;default:return-28}}catch(ie){if(typeof lt>"u"||!(ie instanceof le))throw ie;return-ie.Ka}},G:function(f,E){try{var S=vi(f);return Bc(_r,S.path,E)}catch(P){if(typeof lt>"u"||!(P instanceof le))throw P;return-P.Ka}},l:function(f,E,S){try{if(E=S+2097152>>>0<4194305-!!E?(E>>>0)+4294967296*S:NaN,isNaN(E))return-61;var P=qe[f];if(!P)throw new le(8);if(!(P.flags&2097155))throw new le(28);return Tp(P.node,E),0}catch(q){if(typeof lt>"u"||!(q instanceof le))throw q;return-q.Ka}},B:function(f,E){try{if(E===0)return-28;var S=ne("/")+1;return E<S?-68:(G("/",te,f,E),S)}catch(P){if(typeof lt>"u"||!(P instanceof le))throw P;return-P.Ka}},E:function(f,E){try{return f=D(f),Bc(Lc,f,E)}catch(S){if(typeof lt>"u"||!(S instanceof le))throw S;return-S.Ka}},y:function(f,E,S){try{return E=D(E),E=Es(f,E),E=Q(E),E[E.length-1]==="/"&&(E=E.substr(0,E.length-1)),ei(E,S),0}catch(P){if(typeof lt>"u"||!(P instanceof le))throw P;return-P.Ka}},D:function(f,E,S,P){try{E=D(E);var q=P&256;return E=Es(f,E,P&4096),Bc(q?Lc:_r,E,S)}catch(ie){if(typeof lt>"u"||!(ie instanceof le))throw ie;return-ie.Ka}},v:function(f,E,S,P){Fc=P;try{E=D(E),E=Es(f,E);var q=P?Uc():0;return ws(E,S,q).fd}catch(ie){if(typeof lt>"u"||!(ie instanceof le))throw ie;return-ie.Ka}},t:function(f,E,S,P){try{if(E=D(E),E=Es(f,E),0>=P)return-28;var q=Dc(E),ie=Math.min(P,ne(q)),se=ae[S+ie];return G(q,te,S,P+1),ae[S+ie]=se,ie}catch(Oe){if(typeof lt>"u"||!(Oe instanceof le))throw Oe;return-Oe.Ka}},s:function(f){try{return f=D(f),Oc(f),0}catch(E){if(typeof lt>"u"||!(E instanceof le))throw E;return-E.Ka}},F:function(f,E){try{return f=D(f),Bc(_r,f,E)}catch(S){if(typeof lt>"u"||!(S instanceof le))throw S;return-S.Ka}},p:function(f,E,S){try{return E=D(E),E=Es(f,E),S===0?_c(E):S===512?Oc(E):Lt("Invalid flags passed to unlinkat"),0}catch(P){if(typeof lt>"u"||!(P instanceof le))throw P;return-P.Ka}},o:function(f,E,S){try{if(E=D(E),E=Es(f,E,!0),S){var P=Cp(S),q=j[S+8>>2];ie=1e3*P+q/1e6,S+=16,P=Cp(S),q=j[S+8>>2],se=1e3*P+q/1e6}else var ie=Date.now(),se=ie;f=ie;var Oe=on(E,{Sa:!0}).node;return Oe.Ga.Oa(Oe,{timestamp:Math.max(f,se)}),0}catch(Xe){if(typeof lt>"u"||!(Xe instanceof le))throw Xe;return-Xe.Ka}},e:function(){return Date.now()},j:function(f,E){f=new Date(1e3*Cp(f)),j[E>>2]=f.getSeconds(),j[E+4>>2]=f.getMinutes(),j[E+8>>2]=f.getHours(),j[E+12>>2]=f.getDate(),j[E+16>>2]=f.getMonth(),j[E+20>>2]=f.getFullYear()-1900,j[E+24>>2]=f.getDay();var S=new Date(f.getFullYear(),0,1);j[E+28>>2]=(f.getTime()-S.getTime())/864e5|0,j[E+36>>2]=-(60*f.getTimezoneOffset());var P=new Date(f.getFullYear(),6,1).getTimezoneOffset();S=S.getTimezoneOffset(),j[E+32>>2]=(P!=S&&f.getTimezoneOffset()==Math.min(S,P))|0},w:function(f,E,S,P,q,ie){try{var se=vi(P);if(E&2&&!(S&2)&&(se.flags&2097155)!==2)throw new le(2);if((se.flags&2097155)===1)throw new le(2);if(!se.Ha.bb)throw new le(43);var Oe=se.Ha.bb(se,f,q,E,S),Xe=Oe.Fb;return j[ie>>2]=Oe.vb,Xe}catch(Ve){if(typeof lt>"u"||!(Ve instanceof le))throw Ve;return-Ve.Ka}},x:function(f,E,S,P,q,ie){try{var se=vi(q);if(S&2){var Oe=te.slice(f,f+E);se&&se.Ha.cb&&se.Ha.cb(se,Oe,ie,E,P)}}catch(Xe){if(typeof lt>"u"||!(Xe instanceof le))throw Xe;return-Xe.Ka}},n:Ap,q:function(){return 2147483648},d:Bb,c:function(f){var E=te.length;if(f>>>=0,2147483648<f)return!1;for(var S=1;4>=S;S*=2){var P=E*(1+.2/S);P=Math.min(P,f+100663296);var q=Math;P=Math.max(f,P),q=q.min.call(q,2147483648,P+(65536-P%65536)%65536);e:{try{k.grow(q-ue.byteLength+65535>>>16),Te();var ie=1;break e}catch(se){}ie=void 0}if(ie)return!0}return!1},z:function(f,E){var S=0;return Fb().forEach(function(P,q){var ie=E+S;for(q=J[f+4*q>>2]=ie,ie=0;ie<P.length;++ie)ae[q++>>0]=P.charCodeAt(ie);ae[q>>0]=0,S+=P.length+1}),0},A:function(f,E){var S=Fb();J[f>>2]=S.length;var P=0;return S.forEach(function(q){P+=q.length+1}),J[E>>2]=P,0},f:function(f){try{var E=vi(f);return X(E),0}catch(S){if(typeof lt>"u"||!(S instanceof le))throw S;return S.Ka}},m:function(f,E){try{var S=vi(f);return ae[E>>0]=S.tty?2:(S.mode&61440)===16384?3:(S.mode&61440)===40960?7:4,0}catch(P){if(typeof lt>"u"||!(P instanceof le))throw P;return P.Ka}},u:function(f,E,S,P){try{e:{var q=vi(f);f=E;for(var ie=E=0;ie<S;ie++){var se=J[f>>2],Oe=J[f+4>>2];f+=8;var Xe=Se(q,ae,se,Oe);if(0>Xe){var Ve=-1;break e}if(E+=Xe,Xe<Oe)break}Ve=E}return J[P>>2]=Ve,0}catch(kt){if(typeof lt>"u"||!(kt instanceof le))throw kt;return kt.Ka}},k:function(f,E,S,P,q){try{if(E=S+2097152>>>0<4194305-!!E?(E>>>0)+4294967296*S:NaN,isNaN(E))return 61;var ie=vi(f);return fe(ie,E,P),tt=[ie.position>>>0,(Me=ie.position,1<=+Math.abs(Me)?0<Me?(Math.min(+Math.floor(Me/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Me-+(~~Me>>>0))/4294967296)>>>0:0)],j[q>>2]=tt[0],j[q+4>>2]=tt[1],ie.hb&&E===0&&P===0&&(ie.hb=null),0}catch(se){if(typeof lt>"u"||!(se instanceof le))throw se;return se.Ka}},C:function(f){try{var E=vi(f);return E.Ha&&E.Ha.fsync?E.Ha.fsync(E):0}catch(S){if(typeof lt>"u"||!(S instanceof le))throw S;return S.Ka}},r:function(f,E,S,P){try{e:{var q=vi(f);f=E;for(var ie=E=0;ie<S;ie++){var se=J[f>>2],Oe=J[f+4>>2];f+=8;var Xe=Tt(q,ae,se,Oe);if(0>Xe){var Ve=-1;break e}E+=Xe}Ve=E}return J[P>>2]=Ve,0}catch(kt){if(typeof lt>"u"||!(kt instanceof le))throw kt;return kt.Ka}}};(function(){function f(q){c.asm=q.exports,k=c.asm.I,Te(),Ce=c.asm.Aa,_e.unshift(c.asm.J),gn--,c.monitorRunDependencies&&c.monitorRunDependencies(gn),gn==0&&sn&&(q=sn,sn=null,q())}function E(q){f(q.instance)}function S(q){return ar().then(function(ie){return WebAssembly.instantiate(ie,P)}).then(function(ie){return ie}).then(q,function(ie){I("failed to asynchronously prepare wasm: "+ie),Lt(ie)})}var P={a:nk};if(gn++,c.monitorRunDependencies&&c.monitorRunDependencies(gn),c.instantiateWasm)try{return c.instantiateWasm(P,f)}catch(q){return I("Module.instantiateWasm callback failed with error: "+q),!1}return function(){return $||typeof WebAssembly.instantiateStreaming!="function"||Dn()||ft.startsWith("file://")||g||typeof fetch!="function"?S(E):fetch(ft,{credentials:"same-origin"}).then(function(q){return WebAssembly.instantiateStreaming(q,P).then(E,function(ie){return I("wasm streaming compile failed: "+ie),I("falling back to ArrayBuffer instantiation"),S(E)})})}(),{}})(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.J).apply(null,arguments)},c._sqlite3_free=function(){return(c._sqlite3_free=c.asm.K).apply(null,arguments)},c._sqlite3_value_double=function(){return(c._sqlite3_value_double=c.asm.L).apply(null,arguments)},c._sqlite3_value_text=function(){return(c._sqlite3_value_text=c.asm.M).apply(null,arguments)};var jb=c.___errno_location=function(){return(jb=c.___errno_location=c.asm.N).apply(null,arguments)};c._sqlite3_prepare_v2=function(){return(c._sqlite3_prepare_v2=c.asm.O).apply(null,arguments)},c._sqlite3_step=function(){return(c._sqlite3_step=c.asm.P).apply(null,arguments)},c._sqlite3_finalize=function(){return(c._sqlite3_finalize=c.asm.Q).apply(null,arguments)},c._sqlite3_reset=function(){return(c._sqlite3_reset=c.asm.R).apply(null,arguments)},c._sqlite3_value_int=function(){return(c._sqlite3_value_int=c.asm.S).apply(null,arguments)},c._sqlite3_clear_bindings=function(){return(c._sqlite3_clear_bindings=c.asm.T).apply(null,arguments)},c._sqlite3_value_blob=function(){return(c._sqlite3_value_blob=c.asm.U).apply(null,arguments)},c._sqlite3_value_bytes=function(){return(c._sqlite3_value_bytes=c.asm.V).apply(null,arguments)},c._sqlite3_value_type=function(){return(c._sqlite3_value_type=c.asm.W).apply(null,arguments)},c._sqlite3_result_blob=function(){return(c._sqlite3_result_blob=c.asm.X).apply(null,arguments)},c._sqlite3_result_double=function(){return(c._sqlite3_result_double=c.asm.Y).apply(null,arguments)},c._sqlite3_result_error=function(){return(c._sqlite3_result_error=c.asm.Z).apply(null,arguments)},c._sqlite3_result_int=function(){return(c._sqlite3_result_int=c.asm._).apply(null,arguments)},c._sqlite3_result_int64=function(){return(c._sqlite3_result_int64=c.asm.$).apply(null,arguments)},c._sqlite3_result_null=function(){return(c._sqlite3_result_null=c.asm.aa).apply(null,arguments)},c._sqlite3_result_text=function(){return(c._sqlite3_result_text=c.asm.ba).apply(null,arguments)},c._sqlite3_sql=function(){return(c._sqlite3_sql=c.asm.ca).apply(null,arguments)},c._sqlite3_aggregate_context=function(){return(c._sqlite3_aggregate_context=c.asm.da).apply(null,arguments)},c._sqlite3_column_count=function(){return(c._sqlite3_column_count=c.asm.ea).apply(null,arguments)},c._sqlite3_data_count=function(){return(c._sqlite3_data_count=c.asm.fa).apply(null,arguments)},c._sqlite3_column_blob=function(){return(c._sqlite3_column_blob=c.asm.ga).apply(null,arguments)},c._sqlite3_column_bytes=function(){return(c._sqlite3_column_bytes=c.asm.ha).apply(null,arguments)},c._sqlite3_column_double=function(){return(c._sqlite3_column_double=c.asm.ia).apply(null,arguments)},c._sqlite3_column_text=function(){return(c._sqlite3_column_text=c.asm.ja).apply(null,arguments)},c._sqlite3_column_type=function(){return(c._sqlite3_column_type=c.asm.ka).apply(null,arguments)},c._sqlite3_column_name=function(){return(c._sqlite3_column_name=c.asm.la).apply(null,arguments)},c._sqlite3_bind_blob=function(){return(c._sqlite3_bind_blob=c.asm.ma).apply(null,arguments)},c._sqlite3_bind_double=function(){return(c._sqlite3_bind_double=c.asm.na).apply(null,arguments)},c._sqlite3_bind_int=function(){return(c._sqlite3_bind_int=c.asm.oa).apply(null,arguments)},c._sqlite3_bind_text=function(){return(c._sqlite3_bind_text=c.asm.pa).apply(null,arguments)},c._sqlite3_bind_parameter_index=function(){return(c._sqlite3_bind_parameter_index=c.asm.qa).apply(null,arguments)},c._sqlite3_normalized_sql=function(){return(c._sqlite3_normalized_sql=c.asm.ra).apply(null,arguments)},c._sqlite3_errmsg=function(){return(c._sqlite3_errmsg=c.asm.sa).apply(null,arguments)},c._sqlite3_exec=function(){return(c._sqlite3_exec=c.asm.ta).apply(null,arguments)},c._sqlite3_changes=function(){return(c._sqlite3_changes=c.asm.ua).apply(null,arguments)},c._sqlite3_close_v2=function(){return(c._sqlite3_close_v2=c.asm.va).apply(null,arguments)},c._sqlite3_create_function_v2=function(){return(c._sqlite3_create_function_v2=c.asm.wa).apply(null,arguments)},c._sqlite3_open=function(){return(c._sqlite3_open=c.asm.xa).apply(null,arguments)};var jc=c._malloc=function(){return(jc=c._malloc=c.asm.ya).apply(null,arguments)},zc=c._free=function(){return(zc=c._free=c.asm.za).apply(null,arguments)};c._RegisterExtensionFunctions=function(){return(c._RegisterExtensionFunctions=c.asm.Ba).apply(null,arguments)};var zb=c._emscripten_builtin_memalign=function(){return(zb=c._emscripten_builtin_memalign=c.asm.Ca).apply(null,arguments)},za=c.stackSave=function(){return(za=c.stackSave=c.asm.Da).apply(null,arguments)},Va=c.stackRestore=function(){return(Va=c.stackRestore=c.asm.Ea).apply(null,arguments)},Lr=c.stackAlloc=function(){return(Lr=c.stackAlloc=c.asm.Fa).apply(null,arguments)};c.UTF8ToString=D,c.stackAlloc=Lr,c.stackSave=za,c.stackRestore=Va,c.cwrap=function(f,E,S,P){S=S||[];var q=S.every(ie=>ie==="number"||ie==="boolean");return E!=="string"&&q&&!P?c["_"+f]:function(){return tk(f,E,S,arguments)}};var Vc;sn=function f(){Vc||Vb(),Vc||(sn=f)};function Vb(){function f(){if(!Vc&&(Vc=!0,c.calledRun=!0,!H)){if(c.noFSInit||Vi||(Vi=!0,yn(),c.stdin=c.stdin,c.stdout=c.stdout,c.stderr=c.stderr,c.stdin?Fa("stdin",c.stdin):Ba("/dev/tty","/dev/stdin"),c.stdout?Fa("stdout",null,c.stdout):Ba("/dev/tty","/dev/stdout"),c.stderr?Fa("stderr",null,c.stderr):Ba("/dev/tty1","/dev/stderr"),ws("/dev/stdin",0),ws("/dev/stdout",1),ws("/dev/stderr",1)),$c=!1,ji(_e),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var E=c.postRun.shift();pt.unshift(E)}ji(pt)}}if(!(0<gn)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)xt();ji($e),0<gn||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),f()},1)):f())}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Vb(),a}),t)};n.exports=i,n.exports.default=i})(fA);var fU=fA.exports;const mU=fs(fU),EE={entities:[Tr,da],migrations:[uU,dU],migrationsRun:!0,logging:["error","query","schema"]},Mt=class Mt{static async initLocalForage(){try{const e=await en(()=>import("./localforage-1ed2bf52.js").then(t=>t.l),[]);Mt.localForage=e.default,window.localforage=Mt.localForage}catch(e){console.log("Error with initLocalForage: ",e)}}static async initSqlJs(){try{const e=await mU({locateFile:t=>"/static/assets/sql.js/".concat(t)});window.SQL=e}catch(e){console.log("Error with initSqlite: ",e)}}static configureNativeConnection(){try{const e=new F3(U3);return Mt.connection=new wE({type:"capacitor",database:Mt.dbName,driver:e,migrationsTransactionMode:"none",...EE}),Mt.connection}catch(e){console.log("Error with configureNativeConnection: ",e)}}static configureWebConnection(){try{return Mt.localForage.config({description:"quest",driver:Mt.localForage.INDEXEDDB}),Mt.connection=new wE({type:"sqljs",autoSave:!0,location:Mt.dbName,useLocalForage:!0,...EE}),Mt.connection}catch(e){console.log("Error with configureWebConnection: ",e)}}static async initConnection(){try{if(Mt.connection)return;await Mt.initLocalForage(),await Mt.initSqlJs();let e;eo.getPlatform()==="web"?e=Mt.configureWebConnection():e=Mt.configureNativeConnection(),await(e==null?void 0:e.initialize())}catch(e){console.log("Error with initConnection: ",e)}}};cr(Mt,"dbName","fitrem_db"),cr(Mt,"connection",null),cr(Mt,"localForage");let Bs=Mt;const xE=async()=>{var n;return(n=Bs.connection)==null?void 0:n.getRepository(da)};class gU{async getItem(e){await Bs.initConnection();try{const t=await xE(),i=await(t==null?void 0:t.findOne({where:{id:e}}));return i?(console.log("***GET_ITEM",i==null?void 0:i.store),i.store):null}catch(t){return console.log("Error GET_ITEM:",t),null}}async setItem(e,t){try{const i=await xE();await(i==null?void 0:i.upsert({id:e,store:t},{conflictPaths:["id"],skipUpdateIfNoValuesChanged:!0})),console.log("***SET_ITEM: ",await(i==null?void 0:i.find({})))}catch(i){console.log("Error with SET_ITEM",i)}}async removeItem(e){await new Promise(t=>t(e)).then(t=>console.log(t))}}const yU=n=>({rehydrated:!1}),bU=["timerStatus"],vU=new gU,rc=w3()(T3(N3((...n)=>({...yU(...n),...k3(...n)}),{name:"combineStore",partialize:n=>Object.fromEntries(Object.entries(n).filter(([e])=>!bU.includes(e))),storage:FC(()=>vU),onRehydrateStorage:n=>(console.log("hydration starts"),(e,t)=>{t?console.log("an error happened during hydration",t):(rc.setState({rehydrated:!0}),console.log("hydration finished",e))})})));function wU({isOpen:n,setIsOpen:e}){return z.jsx($C,{isOpen:n,header:"",subHeader:"Nice choice",message:"Let's do it!",buttons:["OK"],onDidDismiss:()=>{e(!1),history.back()}})}const EU=()=>{const{unsetTimer:n}=rc(),{timerInterval:e,setTimerInterval:t}=rc(),[i,r]=we.useState(e),[s,o]=we.useState(!1),a=()=>{t(i),o(!0),n()};return z.jsxs(ep,{id:"main-content",children:[z.jsx(ps,{children:z.jsx(la,{color:"warning",children:z.jsx(bc,{slot:"start",children:z.jsx(TB,{defaultHref:"/timer"})})})}),z.jsxs(aa,{children:[z.jsxs(Kd,{children:[z.jsx(qs,{children:z.jsxs(Ji,{children:[z.jsxs(Sf,{children:[z.jsx("h2",{children:"Timer Settings"}),z.jsxs("p",{children:["Your timer is set to ring in ",i.toString()," seconds.",z.jsx(zn,{slot:"icon-only",icon:UB,color:"primary"})]})]}),z.jsxs(Jq,{min:5,max:60,step:5,snaps:!0,color:"primary",value:i,onIonChange:l=>r(l.detail.value),children:[z.jsx(as,{slot:"start",children:"5 sec"}),z.jsx(as,{slot:"end",children:"60 sec"})]}),z.jsx(Sf,{children:z.jsx("small",{children:"If you wish to change the settings drag the nob to the desired time interval (5 to 60 seconds)."})})]})}),z.jsx(qs,{children:z.jsx(Ji,{children:z.jsx(Sf,{})})}),z.jsx(qs,{children:z.jsx(Ji,{children:z.jsx(kn,{expand:"block",onClick:a,children:"Save"})})})]}),z.jsx(wU,{isOpen:s,setIsOpen:o})]})]})};var TE=typeof window>"u"?we.useEffect:we.useLayoutEffect,xU=({isPlaying:n,duration:e,startAt:t=0,updateInterval:i=0,onComplete:r,onUpdate:s})=>{let[o,a]=we.useState(t),l=we.useRef(0),c=we.useRef(t),u=we.useRef(t*-1e3),d=we.useRef(null),h=we.useRef(null),p=we.useRef(null),g=w=>{let b=w/1e3;if(h.current===null){h.current=b,d.current=requestAnimationFrame(g);return}let v=b-h.current,N=l.current+v;h.current=b,l.current=N;let M=c.current+(i===0?N:(N/i|0)*i),L=c.current+N,I=typeof e=="number"&&L>=e;a(I?e:M),I||(d.current=requestAnimationFrame(g))},m=()=>{d.current&&cancelAnimationFrame(d.current),p.current&&clearTimeout(p.current),h.current=null},T=we.useCallback(w=>{m(),l.current=0;let b=typeof w=="number"?w:t;c.current=b,a(b),n&&(d.current=requestAnimationFrame(g))},[n,t]);return TE(()=>{if(s==null||s(o),e&&o>=e){u.current+=e*1e3;let{shouldRepeat:w=!1,delay:b=0,newStartAt:v}=(r==null?void 0:r(u.current/1e3))||{};w&&(p.current=setTimeout(()=>T(v),b*1e3))}},[o,e]),TE(()=>(n&&(d.current=requestAnimationFrame(g)),m),[n,e,i]),{elapsedTime:o,reset:T}},TU=(n,e,t)=>{let i=n/2,r=e/2,s=i-r,o=2*s,a=t==="clockwise"?"1,0":"0,1",l=2*Math.PI*s;return{path:"m ".concat(i,",").concat(r," a ").concat(s,",").concat(s," 0 ").concat(a," 0,").concat(o," a ").concat(s,",").concat(s," 0 ").concat(a," 0,-").concat(o),pathLength:l}},SE=(n,e)=>n===0||n===e?0:typeof e=="number"?n-e:0,SU=n=>({position:"relative",width:n,height:n}),CU={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},mA=(n,e,t,i,r)=>{if(i===0)return e;let s=(r?i-n:n)/i;return e+t*s},CE=n=>{var e,t;return(t=(e=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(i,r,s,o)=>"#".concat(r).concat(r).concat(s).concat(s).concat(o).concat(o)).substring(1).match(/.{2}/g))==null?void 0:e.map(i=>parseInt(i,16)))!=null?t:[]},AU=(n,e)=>{var t;let{colors:i,colorsTime:r,isSmoothColorTransition:s=!0}=n;if(typeof i=="string")return i;let o=(t=r==null?void 0:r.findIndex((h,p)=>h>=e&&e>=r[p+1]))!=null?t:-1;if(!r||o===-1)return i[0];if(!s)return i[o];let a=r[o]-e,l=r[o]-r[o+1],c=CE(i[o]),u=CE(i[o+1]),d=!!n.isGrowing;return"rgb(".concat(c.map((h,p)=>mA(a,h,u[p]-h,l,d)|0).join(","),")")},NU=n=>{let{duration:e,initialRemainingTime:t,updateInterval:i,size:r=180,strokeWidth:s=12,trailStrokeWidth:o,isPlaying:a=!1,isGrowing:l=!1,rotation:c="clockwise",onComplete:u,onUpdate:d}=n,h=we.useRef(),p=Math.max(s,o!=null?o:0),{path:g,pathLength:m}=TU(r,p,c),{elapsedTime:T}=xU({isPlaying:a,duration:e,startAt:SE(e,t),updateInterval:i,onUpdate:typeof d=="function"?b=>{let v=Math.ceil(e-b);v!==h.current&&(h.current=v,d(v))}:void 0,onComplete:typeof u=="function"?b=>{var v;let{shouldRepeat:N,delay:M,newInitialRemainingTime:L}=(v=u(b))!=null?v:{};if(N)return{shouldRepeat:N,delay:M,newStartAt:SE(e,L)}}:void 0}),w=e-T;return{elapsedTime:T,path:g,pathLength:m,remainingTime:Math.ceil(w),rotation:c,size:r,stroke:AU(n,w),strokeDashoffset:mA(T,0,m,e,l),strokeWidth:s}},gA=n=>{let{children:e,strokeLinecap:t,trailColor:i,trailStrokeWidth:r}=n,{path:s,pathLength:o,stroke:a,strokeDashoffset:l,remainingTime:c,elapsedTime:u,size:d,strokeWidth:h}=NU(n);return ee.createElement("div",{style:SU(d)},ee.createElement("svg",{viewBox:"0 0 ".concat(d," ").concat(d),width:d,height:d,xmlns:"http://www.w3.org/2000/svg"},ee.createElement("path",{d:s,fill:"none",stroke:i!=null?i:"#d9d9d9",strokeWidth:r!=null?r:h}),ee.createElement("path",{d:s,fill:"none",stroke:a,strokeLinecap:t!=null?t:"round",strokeWidth:h,strokeDasharray:o,strokeDashoffset:l})),typeof e=="function"&&ee.createElement("div",{style:CU},e({remainingTime:c,elapsedTime:u,color:a})))};gA.displayName="CountdownCircleTimer";class uo extends Error{}class kU extends uo{constructor(e){super("Invalid DateTime: ".concat(e.toMessage()))}}class RU extends uo{constructor(e){super("Invalid Interval: ".concat(e.toMessage()))}}class PU extends uo{constructor(e){super("Invalid Duration: ".concat(e.toMessage()))}}class ml extends uo{}class yA extends uo{constructor(e){super("Invalid unit ".concat(e))}}class ci extends uo{}class Fr extends uo{constructor(){super("Zone is an abstract class")}}const be="numeric",Ui="short",Wn="long",eh={year:be,month:be,day:be},bA={year:be,month:Ui,day:be},$U={year:be,month:Ui,day:be,weekday:Ui},vA={year:be,month:Wn,day:be},wA={year:be,month:Wn,day:be,weekday:Wn},EA={hour:be,minute:be},xA={hour:be,minute:be,second:be},TA={hour:be,minute:be,second:be,timeZoneName:Ui},SA={hour:be,minute:be,second:be,timeZoneName:Wn},CA={hour:be,minute:be,hourCycle:"h23"},AA={hour:be,minute:be,second:be,hourCycle:"h23"},NA={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Ui},kA={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Wn},RA={year:be,month:be,day:be,hour:be,minute:be},PA={year:be,month:be,day:be,hour:be,minute:be,second:be},$A={year:be,month:Ui,day:be,hour:be,minute:be},MA={year:be,month:Ui,day:be,hour:be,minute:be,second:be},MU={year:be,month:Ui,day:be,weekday:Ui,hour:be,minute:be},IA={year:be,month:Wn,day:be,hour:be,minute:be,timeZoneName:Ui},OA={year:be,month:Wn,day:be,hour:be,minute:be,second:be,timeZoneName:Ui},_A={year:be,month:Wn,day:be,weekday:Wn,hour:be,minute:be,timeZoneName:Wn},DA={year:be,month:Wn,day:be,weekday:Wn,hour:be,minute:be,second:be,timeZoneName:Wn};class Cc{get type(){throw new Fr}get name(){throw new Fr}get ianaName(){return this.name}get isUniversal(){throw new Fr}offsetName(e,t){throw new Fr}formatOffset(e,t){throw new Fr}offset(e){throw new Fr}equals(e){throw new Fr}get isValid(){throw new Fr}}let Lf=null;class up extends Cc{static get instance(){return Lf===null&&(Lf=new up),Lf}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return qA(e,t,i)}formatOffset(e,t){return Pl(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Xu={};function IU(n){return Xu[n]||(Xu[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Xu[n]}const OU={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function _U(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,r,s,o,a,l,c,u]=i;return[o,r,s,a,l,c,u]}function DU(n,e){const t=n.formatToParts(e),i=[];for(let r=0;r<t.length;r++){const{type:s,value:o}=t[r],a=OU[s];s==="era"?i[a]=o:ze(a)||(i[a]=parseInt(o,10))}return i}let Cu={};class Pr extends Cc{static create(e){return Cu[e]||(Cu[e]=new Pr(e)),Cu[e]}static resetCache(){Cu={},Xu={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=Pr.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return qA(e,t,i,this.name)}formatOffset(e,t){return Pl(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=IU(this.name);let[r,s,o,a,l,c,u]=i.formatToParts?DU(i,t):_U(i,t);a==="BC"&&(r=-Math.abs(r)+1);const h=hp({year:r,month:s,day:o,hour:l===24?0:l,minute:c,second:u,millisecond:0});let p=+t;const g=p%1e3;return p-=g>=0?g:1e3+g,(h-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let AE={};function LU(n,e={}){const t=JSON.stringify([n,e]);let i=AE[t];return i||(i=new Intl.ListFormat(n,e),AE[t]=i),i}let bg={};function vg(n,e={}){const t=JSON.stringify([n,e]);let i=bg[t];return i||(i=new Intl.DateTimeFormat(n,e),bg[t]=i),i}let wg={};function qU(n,e={}){const t=JSON.stringify([n,e]);let i=wg[t];return i||(i=new Intl.NumberFormat(n,e),wg[t]=i),i}let Eg={};function BU(n,e={}){const{base:t,...i}=e,r=JSON.stringify([n,i]);let s=Eg[r];return s||(s=new Intl.RelativeTimeFormat(n,e),Eg[r]=s),s}let gl=null;function FU(){return gl||(gl=new Intl.DateTimeFormat().resolvedOptions().locale,gl)}function UU(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let i,r;try{i=vg(n).resolvedOptions(),r=n}catch(a){const l=n.substring(0,t);i=vg(l).resolvedOptions(),r=l}const{numberingSystem:s,calendar:o}=i;return[r,s,o]}}function jU(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+="-ca-".concat(t)),e&&(n+="-nu-".concat(e))),n}function zU(n){const e=[];for(let t=1;t<=12;t++){const i=De.utc(2009,t,1);e.push(n(i))}return e}function VU(n){const e=[];for(let t=1;t<=7;t++){const i=De.utc(2016,11,13+t);e.push(n(i))}return e}function Au(n,e,t,i){const r=n.listingMode();return r==="error"?null:r==="en"?t(e):i(e)}function HU(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class WU{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...o}=i;if(!t||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=qU(e,a)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Tb(e,3);return Ot(t,this.padTo)}}}class QU{constructor(e,t,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?"Etc/GMT+".concat(o):"Etc/GMT".concat(o);e.offset!==0&&Pr.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=vg(t,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:i}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class GU{constructor(e,t,i){this.opts={style:"long",...i},!t&&LA()&&(this.rtf=BU(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):dj(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class dt{static fromOpts(e){return dt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,i,r=!1){const s=e||It.defaultLocale,o=s||(r?"en-US":FU()),a=t||It.defaultNumberingSystem,l=i||It.defaultOutputCalendar;return new dt(o,a,l,s)}static resetCache(){gl=null,bg={},wg={},Eg={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:i}={}){return dt.create(e,t,i)}constructor(e,t,i,r){const[s,o,a]=UU(e);this.locale=s,this.numberingSystem=t||o||null,this.outputCalendar=i||a||null,this.intl=jU(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=HU(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:dt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Au(this,e,UA,()=>{const i=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=zU(s=>this.extract(s,i,"month"))),this.monthsCache[r][e]})}weekdays(e,t=!1){return Au(this,e,VA,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=VU(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return Au(this,void 0,()=>HA,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[De.utc(2016,11,13,9),De.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Au(this,e,WA,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[De.utc(-40,1,1),De.utc(2017,1,1)].map(i=>this.extract(i,t,"era"))),this.eraCache[e]})}extract(e,t,i){const r=this.dtFormatter(e,t),s=r.formatToParts(),o=s.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(e={}){return new WU(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new QU(e,this.intl,t)}relFormatter(e={}){return new GU(this.intl,this.isEnglish(),e)}listFormatter(e={}){return LU(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let qf=null;class vn extends Cc{static get utcInstance(){return qf===null&&(qf=new vn(0)),qf}static instance(e){return e===0?vn.utcInstance:new vn(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new vn(pp(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":"UTC".concat(Pl(this.fixed,"narrow"))}get ianaName(){return this.fixed===0?"Etc/UTC":"Etc/GMT".concat(Pl(-this.fixed,"narrow"))}offsetName(){return this.name}formatOffset(e,t){return Pl(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class KU extends Cc{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Kr(n,e){if(ze(n)||n===null)return e;if(n instanceof Cc)return n;if(YU(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?up.instance:t==="utc"||t==="gmt"?vn.utcInstance:vn.parseSpecifier(t)||Pr.create(n)}else return Fs(n)?vn.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new KU(n)}let NE=()=>Date.now(),kE="system",RE=null,PE=null,$E=null,ME=60,IE;class It{static get now(){return NE}static set now(e){NE=e}static set defaultZone(e){kE=e}static get defaultZone(){return Kr(kE,up.instance)}static get defaultLocale(){return RE}static set defaultLocale(e){RE=e}static get defaultNumberingSystem(){return PE}static set defaultNumberingSystem(e){PE=e}static get defaultOutputCalendar(){return $E}static set defaultOutputCalendar(e){$E=e}static get twoDigitCutoffYear(){return ME}static set twoDigitCutoffYear(e){ME=e%100}static get throwOnInvalid(){return IE}static set throwOnInvalid(e){IE=e}static resetCaches(){dt.resetCache(),Pr.resetCache()}}function ze(n){return typeof n>"u"}function Fs(n){return typeof n=="number"}function dp(n){return typeof n=="number"&&n%1===0}function YU(n){return typeof n=="string"}function JU(n){return Object.prototype.toString.call(n)==="[object Date]"}function LA(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch(n){return!1}}function XU(n){return Array.isArray(n)?n:[n]}function OE(n,e,t){if(n.length!==0)return n.reduce((i,r)=>{const s=[e(r),r];return i&&t(i[0],s[0])===i[0]?i:s},null)[1]}function ZU(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}function ha(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function vr(n,e,t){return dp(n)&&n>=e&&n<=t}function ej(n,e){return n-e*Math.floor(n/e)}function Ot(n,e=2){const t=n<0;let i;return t?i="-"+(""+-n).padStart(e,"0"):i=(""+n).padStart(e,"0"),i}function Hr(n){if(!(ze(n)||n===null||n===""))return parseInt(n,10)}function Ss(n){if(!(ze(n)||n===null||n===""))return parseFloat(n)}function xb(n){if(!(ze(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function Tb(n,e,t=!1){const i=10**e;return(t?Math.trunc:Math.round)(n*i)/i}function Ac(n){return n%4===0&&(n%100!==0||n%400===0)}function Rl(n){return Ac(n)?366:365}function th(n,e){const t=ej(e-1,12)+1,i=n+(e-t)/12;return t===2?Ac(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function hp(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function nh(n){const e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,i=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||i===3?53:52}function xg(n){return n>99?n:n>It.twoDigitCutoffYear?1900+n:2e3+n}function qA(n,e,t,i=null){const r=new Date(n),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(t,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function pp(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,r=t<0||Object.is(t,-0)?-i:i;return t*60+r}function BA(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new ci("Invalid unit value ".concat(n));return e}function ih(n,e){const t={};for(const i in n)if(ha(n,i)){const r=n[i];if(r==null)continue;t[e(i)]=BA(r)}return t}function Pl(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(e){case"short":return"".concat(r).concat(Ot(t,2),":").concat(Ot(i,2));case"narrow":return"".concat(r).concat(t).concat(i>0?":".concat(i):"");case"techie":return"".concat(r).concat(Ot(t,2)).concat(Ot(i,2));default:throw new RangeError("Value format ".concat(e," is out of range for property format"))}}function fp(n){return ZU(n,["hour","minute","second","millisecond"])}const tj=["January","February","March","April","May","June","July","August","September","October","November","December"],FA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nj=["J","F","M","A","M","J","J","A","S","O","N","D"];function UA(n){switch(n){case"narrow":return[...nj];case"short":return[...FA];case"long":return[...tj];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const jA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],zA=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ij=["M","T","W","T","F","S","S"];function VA(n){switch(n){case"narrow":return[...ij];case"short":return[...zA];case"long":return[...jA];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const HA=["AM","PM"],rj=["Before Christ","Anno Domini"],sj=["BC","AD"],oj=["B","A"];function WA(n){switch(n){case"narrow":return[...oj];case"short":return[...sj];case"long":return[...rj];default:return null}}function aj(n){return HA[n.hour<12?0:1]}function lj(n,e){return VA(e)[n.weekday-1]}function cj(n,e){return UA(e)[n.month-1]}function uj(n,e){return WA(e)[n.year<0?0:1]}function dj(n,e,t="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){const d=n==="days";switch(e){case 1:return d?"tomorrow":"next ".concat(r[n][0]);case-1:return d?"yesterday":"last ".concat(r[n][0]);case 0:return d?"today":"this ".concat(r[n][0])}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=r[n],u=i?l?c[1]:c[2]||c[1]:l?r[n][0]:n;return o?"".concat(a," ").concat(u," ago"):"in ".concat(a," ").concat(u)}function _E(n,e){let t="";for(const i of n)i.literal?t+=i.val:t+=e(i.val);return t}const hj={D:eh,DD:bA,DDD:vA,DDDD:wA,t:EA,tt:xA,ttt:TA,tttt:SA,T:CA,TT:AA,TTT:NA,TTTT:kA,f:RA,ff:$A,fff:IA,ffff:_A,F:PA,FF:MA,FFF:OA,FFFF:DA};class dn{static create(e,t={}){return new dn(e,t)}static parseFormat(e){let t=null,i="",r=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),t=null,i="",r=!r):r||a===t?i+=a:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=a,t=a)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return hj[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return Ot(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(p,g)=>this.loc.extract(e,p,g),o=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",a=()=>i?aj(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,g)=>i?cj(e,p):s(g?{month:p}:{month:p,day:"numeric"},"month"),c=(p,g)=>i?lj(e,p):s(g?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),u=p=>{const g=dn.macroTokenToFormatOpts(p);return g?this.formatWithSystemDefault(e,g):p},d=p=>i?uj(e,p):s({era:p},"era"),h=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(p)}};return _E(dn.parseFormat(t),h)}formatDurationFromString(e,t){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>c=>{const u=i(c);return u?this.num(l.get(u),c.length):c},s=dn.parseFormat(t),o=s.reduce((l,{literal:c,val:u})=>c?l:l.concat(u),[]),a=e.shiftTo(...o.map(i).filter(l=>l));return _E(s,r(a))}}class Mi{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?"".concat(this.reason,": ").concat(this.explanation):this.reason}}const QA=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Aa(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp("^".concat(e,"$"))}function Na(...n){return e=>n.reduce(([t,i,r],s)=>{const[o,a,l]=s(e,r);return[{...t,...o},a||i,l]},[{},null,1]).slice(0,2)}function ka(n,...e){if(n==null)return[null,null];for(const[t,i]of e){const r=t.exec(n);if(r)return i(r)}return[null,null]}function GA(...n){return(e,t)=>{const i={};let r;for(r=0;r<n.length;r++)i[n[r]]=Hr(e[t+r]);return[i,null,t+r]}}const KA=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,pj="(?:".concat(KA.source,"?(?:\\[(").concat(QA.source,")\\])?)?"),Sb=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,YA=RegExp("".concat(Sb.source).concat(pj)),Cb=RegExp("(?:T".concat(YA.source,")?")),fj=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,mj=/(\d{4})-?W(\d\d)(?:-?(\d))?/,gj=/(\d{4})-?(\d{3})/,yj=GA("weekYear","weekNumber","weekDay"),bj=GA("year","ordinal"),vj=/(\d{4})-(\d\d)-(\d\d)/,JA=RegExp("".concat(Sb.source," ?(?:").concat(KA.source,"|(").concat(QA.source,"))?")),wj=RegExp("(?: ".concat(JA.source,")?"));function Jo(n,e,t){const i=n[e];return ze(i)?t:Hr(i)}function Ej(n,e){return[{year:Jo(n,e),month:Jo(n,e+1,1),day:Jo(n,e+2,1)},null,e+3]}function Ra(n,e){return[{hours:Jo(n,e,0),minutes:Jo(n,e+1,0),seconds:Jo(n,e+2,0),milliseconds:xb(n[e+3])},null,e+4]}function Nc(n,e){const t=!n[e]&&!n[e+1],i=pp(n[e+1],n[e+2]),r=t?null:vn.instance(i);return[{},r,e+3]}function kc(n,e){const t=n[e]?Pr.create(n[e]):null;return[{},t,e+1]}const xj=RegExp("^T?".concat(Sb.source,"$")),Tj=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Sj(n){const[e,t,i,r,s,o,a,l,c]=n,u=e[0]==="-",d=l&&l[0]==="-",h=(p,g=!1)=>p!==void 0&&(g||p&&u)?-p:p;return[{years:h(Ss(t)),months:h(Ss(i)),weeks:h(Ss(r)),days:h(Ss(s)),hours:h(Ss(o)),minutes:h(Ss(a)),seconds:h(Ss(l),l==="-0"),milliseconds:h(xb(c),d)}]}const Cj={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ab(n,e,t,i,r,s,o){const a={year:e.length===2?xg(Hr(e)):Hr(e),month:FA.indexOf(t)+1,day:Hr(i),hour:Hr(r),minute:Hr(s)};return o&&(a.second=Hr(o)),n&&(a.weekday=n.length>3?jA.indexOf(n)+1:zA.indexOf(n)+1),a}const Aj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Nj(n){const[,e,t,i,r,s,o,a,l,c,u,d]=n,h=Ab(e,r,i,t,s,o,a);let p;return l?p=Cj[l]:c?p=0:p=pp(u,d),[h,new vn(p)]}function kj(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Rj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Pj=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,$j=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function DE(n){const[,e,t,i,r,s,o,a]=n;return[Ab(e,r,i,t,s,o,a),vn.utcInstance]}function Mj(n){const[,e,t,i,r,s,o,a]=n;return[Ab(e,a,t,i,r,s,o),vn.utcInstance]}const Ij=Aa(fj,Cb),Oj=Aa(mj,Cb),_j=Aa(gj,Cb),Dj=Aa(YA),XA=Na(Ej,Ra,Nc,kc),Lj=Na(yj,Ra,Nc,kc),qj=Na(bj,Ra,Nc,kc),Bj=Na(Ra,Nc,kc);function Fj(n){return ka(n,[Ij,XA],[Oj,Lj],[_j,qj],[Dj,Bj])}function Uj(n){return ka(kj(n),[Aj,Nj])}function jj(n){return ka(n,[Rj,DE],[Pj,DE],[$j,Mj])}function zj(n){return ka(n,[Tj,Sj])}const Vj=Na(Ra);function Hj(n){return ka(n,[xj,Vj])}const Wj=Aa(vj,wj),Qj=Aa(JA),Gj=Na(Ra,Nc,kc);function Kj(n){return ka(n,[Wj,XA],[Qj,Gj])}const LE="Invalid Duration",ZA={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Yj={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...ZA},ii=146097/400,bo=146097/4800,Jj={years:{quarters:4,months:12,weeks:ii/7,days:ii,hours:ii*24,minutes:ii*24*60,seconds:ii*24*60*60,milliseconds:ii*24*60*60*1e3},quarters:{months:3,weeks:ii/28,days:ii/4,hours:ii*24/4,minutes:ii*24*60/4,seconds:ii*24*60*60/4,milliseconds:ii*24*60*60*1e3/4},months:{weeks:bo/7,days:bo,hours:bo*24,minutes:bo*24*60,seconds:bo*24*60*60,milliseconds:bo*24*60*60*1e3},...ZA},Os=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Xj=Os.slice(0).reverse();function Ur(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new He(i)}function eN(n,e){var i;let t=(i=e.milliseconds)!=null?i:0;for(const r of Xj.slice(1))e[r]&&(t+=e[r]*n[r].milliseconds);return t}function qE(n,e){const t=eN(n,e)<0?-1:1;Os.reduceRight((i,r)=>{if(ze(e[r]))return i;if(i){const s=e[i]*t,o=n[r][i],a=Math.floor(s/o);e[r]+=a*t,e[i]-=a*o*t}return r},null),Os.reduce((i,r)=>{if(ze(e[r]))return i;if(i){const s=e[i]%1;e[i]-=s,e[r]+=s*n[i][r]}return r},null)}function Zj(n){const e={};for(const[t,i]of Object.entries(n))i!==0&&(e[t]=i);return e}class He{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let i=t?Jj:Yj;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||dt.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return He.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new ci("Duration.fromObject: argument expected to be an object, got ".concat(e===null?"null":typeof e));return new He({values:ih(e,He.normalizeUnit),loc:dt.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Fs(e))return He.fromMillis(e);if(He.isDuration(e))return e;if(typeof e=="object")return He.fromObject(e);throw new ci("Unknown duration argument ".concat(e," of type ").concat(typeof e))}static fromISO(e,t){const[i]=zj(e);return i?He.fromObject(i,t):He.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static fromISOTime(e,t){const[i]=Hj(e);return i?He.fromObject(i,t):He.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static invalid(e,t=null){if(!e)throw new ci("need to specify a reason the Duration is invalid");const i=e instanceof Mi?e:new Mi(e,t);if(It.throwOnInvalid)throw new PU(i);return new He({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new yA(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?dn.create(this.loc,i).formatDurationFromString(this,e):LE}toHuman(e={}){if(!this.isValid)return LE;const t=Os.map(i=>{const r=this.values[i];return ze(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Tb(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},De.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?eN(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=He.fromDurationLike(e),i={};for(const r of Os)(ha(t.values,r)||ha(this.values,r))&&(i[r]=t.get(r)+this.get(r));return Ur(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=He.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=BA(e(this.values[i],i));return Ur(this,{values:t},!0)}get(e){return this[He.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...ih(e,He.normalizeUnit)};return Ur(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:r}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:i};return Ur(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return qE(this.matrix,e),Ur(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=Zj(this.normalize().shiftToAll().toObject());return Ur(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>He.normalizeUnit(o));const t={},i={},r=this.toObject();let s;for(const o of Os)if(e.indexOf(o)>=0){s=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;Fs(r[o])&&(a+=r[o]);const l=Math.trunc(a);t[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else Fs(r[o])&&(i[o]=r[o]);for(const o in i)i[o]!==0&&(t[s]+=o===s?i[o]:i[o]/this.matrix[s][o]);return qE(this.matrix,t),Ur(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Ur(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of Os)if(!t(this.values[i],e.values[i]))return!1;return!0}}const vo="Invalid Interval";function ez(n,e){return!n||!n.isValid?St.invalid("missing or invalid start"):!e||!e.isValid?St.invalid("missing or invalid end"):e<n?St.invalid("end before start","The end of an interval must be after its start, but you had start=".concat(n.toISO()," and end=").concat(e.toISO())):null}class St{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new ci("need to specify a reason the Interval is invalid");const i=e instanceof Mi?e:new Mi(e,t);if(It.throwOnInvalid)throw new RU(i);return new St({invalid:i})}static fromDateTimes(e,t){const i=ol(e),r=ol(t),s=ez(i,r);return s==null?new St({start:i,end:r}):s}static after(e,t){const i=He.fromDurationLike(t),r=ol(e);return St.fromDateTimes(r,r.plus(i))}static before(e,t){const i=He.fromDurationLike(t),r=ol(e);return St.fromDateTimes(r.minus(i),r)}static fromISO(e,t){const[i,r]=(e||"").split("/",2);if(i&&r){let s,o;try{s=De.fromISO(i,t),o=s.isValid}catch(c){o=!1}let a,l;try{a=De.fromISO(r,t),l=a.isValid}catch(c){l=!1}if(o&&l)return St.fromDateTimes(s,a);if(o){const c=He.fromISO(r,t);if(c.isValid)return St.after(s,c)}else if(l){const c=He.fromISO(i,t);if(c.isValid)return St.before(a,c)}}return St.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),i=this.end.startOf(e);return Math.floor(i.diff(t,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?St.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(ol).filter(o=>this.contains(o)).sort(),i=[];let{s:r}=this,s=0;for(;r<this.e;){const o=t[s]||this.e,a=+o>+this.e?this.e:o;i.push(St.fromDateTimes(r,a)),r=a,s+=1}return i}splitBy(e){const t=He.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,r=1,s;const o=[];for(;i<this.e;){const a=this.start.plus(t.mapUnits(l=>l*r));s=+a>+this.e?this.e:a,o.push(St.fromDateTimes(i,s)),i=s,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:St.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return St.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((r,s)=>r.s-s.s).reduce(([r,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[r,s.union(o)]:[r.concat([s]),o]:[r,o],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const r=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?t=l.time:(t&&+t!=+l.time&&r.push(St.fromDateTimes(t,l.time)),t=null);return St.merge(r)}difference(...e){return St.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?"[".concat(this.s.toISO(),"  ").concat(this.e.toISO(),")"):vo}toLocaleString(e=eh,t={}){return this.isValid?dn.create(this.s.loc.clone(t),e).formatInterval(this):vo}toISO(e){return this.isValid?"".concat(this.s.toISO(e),"/").concat(this.e.toISO(e)):vo}toISODate(){return this.isValid?"".concat(this.s.toISODate(),"/").concat(this.e.toISODate()):vo}toISOTime(e){return this.isValid?"".concat(this.s.toISOTime(e),"/").concat(this.e.toISOTime(e)):vo}toFormat(e,{separator:t="  "}={}){return this.isValid?"".concat(this.s.toFormat(e)).concat(t).concat(this.e.toFormat(e)):vo}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):He.invalid(this.invalidReason)}mapEndpoints(e){return St.fromDateTimes(e(this.s),e(this.e))}}class Nu{static hasDST(e=It.defaultZone){const t=De.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Pr.isValidZone(e)}static normalizeZone(e){return Kr(e,It.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||dt.create(t,i,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||dt.create(t,i,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||dt.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||dt.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return dt.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return dt.create(t,null,"gregory").eras(e)}static features(){return{relative:LA()}}}function BE(n,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor(He.fromMillis(i).as("days"))}function tz(n,e,t){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const u=BE(l,c);return(u-u%7)/7}],["days",BE]],r={},s=n;let o,a;for(const[l,c]of i)t.indexOf(l)>=0&&(o=l,r[l]=c(n,e),a=s.plus(r),a>e?(r[l]--,n=s.plus(r),n>e&&(a=n,r[l]--,n=s.plus(r))):n=a);return[n,r,a,o]}function nz(n,e,t,i){let[r,s,o,a]=tz(n,e,t);const l=e-r,c=t.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(s[a]=(s[a]||0)+l/(o-r)));const u=He.fromObject(s,i);return c.length>0?He.fromMillis(l,i).shiftTo(...c).plus(u):u}const Nb={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},FE={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},iz=Nb.hanidec.replace(/[\[|\]]/g,"").split("");function rz(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(n[t].search(Nb.hanidec)!==-1)e+=iz.indexOf(n[t]);else for(const r in FE){const[s,o]=FE[r];i>=s&&i<=o&&(e+=i-s)}}return parseInt(e,10)}else return e}function xi({numberingSystem:n},e=""){return new RegExp("".concat(Nb[n||"latn"]).concat(e))}const sz="missing Intl.DateTimeFormat.formatToParts support";function Ze(n,e=t=>t){return{regex:n,deser:([t])=>e(rz(t))}}const oz=String.fromCharCode(160),tN="[ ".concat(oz,"]"),nN=new RegExp(tN,"g");function az(n){return n.replace(/\./g,"\\.?").replace(nN,tN)}function UE(n){return n.replace(/\./g,"").replace(nN," ").toLowerCase()}function Ti(n,e){return n===null?null:{regex:RegExp(n.map(az).join("|")),deser:([t])=>n.findIndex(i=>UE(t)===UE(i))+e}}function jE(n,e){return{regex:n,deser:([,t,i])=>pp(t,i),groups:e}}function ku(n){return{regex:n,deser:([e])=>e}}function lz(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function cz(n,e){const t=xi(e),i=xi(e,"{2}"),r=xi(e,"{3}"),s=xi(e,"{4}"),o=xi(e,"{6}"),a=xi(e,"{1,2}"),l=xi(e,"{1,3}"),c=xi(e,"{1,6}"),u=xi(e,"{1,9}"),d=xi(e,"{2,4}"),h=xi(e,"{4,6}"),p=T=>({regex:RegExp(lz(T.val)),deser:([w])=>w,literal:!0}),m=(T=>{if(n.literal)return p(T);switch(T.val){case"G":return Ti(e.eras("short"),0);case"GG":return Ti(e.eras("long"),0);case"y":return Ze(c);case"yy":return Ze(d,xg);case"yyyy":return Ze(s);case"yyyyy":return Ze(h);case"yyyyyy":return Ze(o);case"M":return Ze(a);case"MM":return Ze(i);case"MMM":return Ti(e.months("short",!0),1);case"MMMM":return Ti(e.months("long",!0),1);case"L":return Ze(a);case"LL":return Ze(i);case"LLL":return Ti(e.months("short",!1),1);case"LLLL":return Ti(e.months("long",!1),1);case"d":return Ze(a);case"dd":return Ze(i);case"o":return Ze(l);case"ooo":return Ze(r);case"HH":return Ze(i);case"H":return Ze(a);case"hh":return Ze(i);case"h":return Ze(a);case"mm":return Ze(i);case"m":return Ze(a);case"q":return Ze(a);case"qq":return Ze(i);case"s":return Ze(a);case"ss":return Ze(i);case"S":return Ze(l);case"SSS":return Ze(r);case"u":return ku(u);case"uu":return ku(a);case"uuu":return Ze(t);case"a":return Ti(e.meridiems(),0);case"kkkk":return Ze(s);case"kk":return Ze(d,xg);case"W":return Ze(a);case"WW":return Ze(i);case"E":case"c":return Ze(t);case"EEE":return Ti(e.weekdays("short",!1),1);case"EEEE":return Ti(e.weekdays("long",!1),1);case"ccc":return Ti(e.weekdays("short",!0),1);case"cccc":return Ti(e.weekdays("long",!0),1);case"Z":case"ZZ":return jE(new RegExp("([+-]".concat(a.source,")(?::(").concat(i.source,"))?")),2);case"ZZZ":return jE(new RegExp("([+-]".concat(a.source,")(").concat(i.source,")?")),2);case"z":return ku(/[a-z_+-/]{1,256}?/i);case" ":return ku(/[^\S\n\r]/);default:return p(T)}})(n)||{invalidReason:sz};return m.token=n,m}const uz={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function dz(n,e,t){const{type:i,value:r}=n;if(i==="literal"){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}const s=e[i];let o=i;i==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=t.hour12?"hour12":"hour24");let a=uz[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function hz(n){const e=n.map(t=>t.regex).reduce((t,i)=>"".concat(t,"(").concat(i.source,")"),"");return["^".concat(e,"$"),n]}function pz(n,e,t){const i=n.match(e);if(i){const r={};let s=1;for(const o in t)if(ha(t,o)){const a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,r]}else return[i,{}]}function fz(n){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return ze(n.z)||(t=Pr.create(n.z)),ze(n.Z)||(t||(t=new vn(n.Z)),i=n.Z),ze(n.q)||(n.M=(n.q-1)*3+1),ze(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),ze(n.u)||(n.S=xb(n.u)),[Object.keys(n).reduce((s,o)=>{const a=e(o);return a&&(s[a]=n[o]),s},{}),t,i]}let Bf=null;function mz(){return Bf||(Bf=De.fromMillis(1555555555555)),Bf}function gz(n,e){if(n.literal)return n;const t=dn.macroTokenToFormatOpts(n.val),i=sN(t,e);return i==null||i.includes(void 0)?n:i}function iN(n,e){return Array.prototype.concat(...n.map(t=>gz(t,e)))}function rN(n,e,t){const i=iN(dn.parseFormat(t),n),r=i.map(o=>cz(o,n)),s=r.find(o=>o.invalidReason);if(s)return{input:e,tokens:i,invalidReason:s.invalidReason};{const[o,a]=hz(r),l=RegExp(o,"i"),[c,u]=pz(e,l,a),[d,h,p]=u?fz(u):[null,null,void 0];if(ha(u,"a")&&ha(u,"H"))throw new ml("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:l,rawMatches:c,matches:u,result:d,zone:h,specificOffset:p}}}function yz(n,e,t){const{result:i,zone:r,specificOffset:s,invalidReason:o}=rN(n,e,t);return[i,r,s,o]}function sN(n,e){if(!n)return null;const i=dn.create(e,n).dtFormatter(mz()),r=i.formatToParts(),s=i.resolvedOptions();return r.map(o=>dz(o,n,s))}const oN=[0,31,59,90,120,151,181,212,243,273,304,334],aN=[0,31,60,91,121,152,182,213,244,274,305,335];function di(n,e){return new Mi("unit out of range","you specified ".concat(e," (of type ").concat(typeof e,") as a ").concat(n,", which is invalid"))}function lN(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function cN(n,e,t){return t+(Ac(n)?aN:oN)[e-1]}function uN(n,e){const t=Ac(n)?aN:oN,i=t.findIndex(s=>s<e),r=e-t[i];return{month:i+1,day:r}}function Tg(n){const{year:e,month:t,day:i}=n,r=cN(e,t,i),s=lN(e,t,i);let o=Math.floor((r-s+10)/7),a;return o<1?(a=e-1,o=nh(a)):o>nh(e)?(a=e+1,o=1):a=e,{weekYear:a,weekNumber:o,weekday:s,...fp(n)}}function zE(n){const{weekYear:e,weekNumber:t,weekday:i}=n,r=lN(e,1,4),s=Rl(e);let o=t*7+i-r-3,a;o<1?(a=e-1,o+=Rl(a)):o>s?(a=e+1,o-=Rl(e)):a=e;const{month:l,day:c}=uN(a,o);return{year:a,month:l,day:c,...fp(n)}}function Ff(n){const{year:e,month:t,day:i}=n,r=cN(e,t,i);return{year:e,ordinal:r,...fp(n)}}function VE(n){const{year:e,ordinal:t}=n,{month:i,day:r}=uN(e,t);return{year:e,month:i,day:r,...fp(n)}}function bz(n){const e=dp(n.weekYear),t=vr(n.weekNumber,1,nh(n.weekYear)),i=vr(n.weekday,1,7);return e?t?i?!1:di("weekday",n.weekday):di("week",n.week):di("weekYear",n.weekYear)}function vz(n){const e=dp(n.year),t=vr(n.ordinal,1,Rl(n.year));return e?t?!1:di("ordinal",n.ordinal):di("year",n.year)}function dN(n){const e=dp(n.year),t=vr(n.month,1,12),i=vr(n.day,1,th(n.year,n.month));return e?t?i?!1:di("day",n.day):di("month",n.month):di("year",n.year)}function hN(n){const{hour:e,minute:t,second:i,millisecond:r}=n,s=vr(e,0,23)||e===24&&t===0&&i===0&&r===0,o=vr(t,0,59),a=vr(i,0,59),l=vr(r,0,999);return s?o?a?l?!1:di("millisecond",r):di("second",i):di("minute",t):di("hour",e)}const Uf="Invalid DateTime",HE=864e13;function Ru(n){return new Mi("unsupported zone",'the zone "'.concat(n.name,'" is not supported'))}function jf(n){return n.weekData===null&&(n.weekData=Tg(n.c)),n.weekData}function Cs(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new De({...t,...e,old:t})}function pN(n,e,t){let i=n-e*60*1e3;const r=t.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const s=t.offset(i);return r===s?[i,r]:[n-Math.min(r,s)*60*1e3,Math.max(r,s)]}function Pu(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Zu(n,e,t){return pN(hp(n),e,t)}function WE(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),r=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...n.c,year:i,month:r,day:Math.min(n.c.day,th(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=He.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=hp(s);let[l,c]=pN(a,t,n.zone);return o!==0&&(l+=o,c=n.zone.offset(l)),{ts:l,o:c}}function sl(n,e,t,i,r,s){const{setZone:o,zone:a}=t;if(n&&Object.keys(n).length!==0||e){const l=e||a,c=De.fromObject(n,{...t,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return De.invalid(new Mi("unparsable",'the input "'.concat(r,"\" can't be parsed as ").concat(i)))}function $u(n,e,t=!0){return n.isValid?dn.create(dt.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function zf(n,e){const t=n.c.year>9999||n.c.year<0;let i="";return t&&n.c.year>=0&&(i+="+"),i+=Ot(n.c.year,t?6:4),e?(i+="-",i+=Ot(n.c.month),i+="-",i+=Ot(n.c.day)):(i+=Ot(n.c.month),i+=Ot(n.c.day)),i}function QE(n,e,t,i,r,s){let o=Ot(n.c.hour);return e?(o+=":",o+=Ot(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(o+=":")):o+=Ot(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(o+=Ot(n.c.second),(n.c.millisecond!==0||!i)&&(o+=".",o+=Ot(n.c.millisecond,3))),r&&(n.isOffsetFixed&&n.offset===0&&!s?o+="Z":n.o<0?(o+="-",o+=Ot(Math.trunc(-n.o/60)),o+=":",o+=Ot(Math.trunc(-n.o%60))):(o+="+",o+=Ot(Math.trunc(n.o/60)),o+=":",o+=Ot(Math.trunc(n.o%60)))),s&&(o+="["+n.zone.ianaName+"]"),o}const fN={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},wz={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ez={ordinal:1,hour:0,minute:0,second:0,millisecond:0},mN=["year","month","day","hour","minute","second","millisecond"],xz=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Tz=["year","ordinal","hour","minute","second","millisecond"];function GE(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new yA(n);return e}function KE(n,e){const t=Kr(e.zone,It.defaultZone),i=dt.fromObject(e),r=It.now();let s,o;if(ze(n.year))s=r;else{for(const c of mN)ze(n[c])&&(n[c]=fN[c]);const a=dN(n)||hN(n);if(a)return De.invalid(a);const l=t.offset(r);[s,o]=Zu(n,l,t)}return new De({ts:s,zone:t,loc:i,o})}function YE(n,e,t){const i=ze(t.round)?!0:t.round,r=(o,a)=>(o=Tb(o,i||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(o,a)),s=o=>t.calendary?e.hasSame(n,o)?0:e.startOf(o).diff(n.startOf(o),o).get(o):e.diff(n,o).get(o);if(t.unit)return r(s(t.unit),t.unit);for(const o of t.units){const a=s(o);if(Math.abs(a)>=1)return r(a,o)}return r(n>e?-0:0,t.units[t.units.length-1])}function JE(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class De{constructor(e){const t=e.zone||It.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Mi("invalid input"):null)||(t.isValid?null:Ru(t));this.ts=ze(e.ts)?It.now():e.ts;let r=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,s]=[e.old.c,e.old.o];else{const a=t.offset(this.ts);r=Pu(this.ts,a),i=Number.isNaN(r.year)?new Mi("invalid input"):null,r=i?null:r,s=i?null:a}this._zone=t,this.loc=e.loc||dt.create(),this.invalid=i,this.weekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new De({})}static local(){const[e,t]=JE(arguments),[i,r,s,o,a,l,c]=t;return KE({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,t]=JE(arguments),[i,r,s,o,a,l,c]=t;return e.zone=vn.utcInstance,KE({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,t={}){const i=JU(e)?e.valueOf():NaN;if(Number.isNaN(i))return De.invalid("invalid input");const r=Kr(t.zone,It.defaultZone);return r.isValid?new De({ts:i,zone:r,loc:dt.fromObject(t)}):De.invalid(Ru(r))}static fromMillis(e,t={}){if(Fs(e))return e<-HE||e>HE?De.invalid("Timestamp out of range"):new De({ts:e,zone:Kr(t.zone,It.defaultZone),loc:dt.fromObject(t)});throw new ci("fromMillis requires a numerical input, but received a ".concat(typeof e," with value ").concat(e))}static fromSeconds(e,t={}){if(Fs(e))return new De({ts:e*1e3,zone:Kr(t.zone,It.defaultZone),loc:dt.fromObject(t)});throw new ci("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=Kr(t.zone,It.defaultZone);if(!i.isValid)return De.invalid(Ru(i));const r=It.now(),s=ze(t.specificOffset)?i.offset(r):t.specificOffset,o=ih(e,GE),a=!ze(o.ordinal),l=!ze(o.year),c=!ze(o.month)||!ze(o.day),u=l||c,d=o.weekYear||o.weekNumber,h=dt.fromObject(t);if((u||a)&&d)throw new ml("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new ml("Can't mix ordinal dates with month/day");const p=d||o.weekday&&!u;let g,m,T=Pu(r,s);p?(g=xz,m=wz,T=Tg(T)):a?(g=Tz,m=Ez,T=Ff(T)):(g=mN,m=fN);let w=!1;for(const $ of g){const k=o[$];ze(k)?w?o[$]=m[$]:o[$]=T[$]:w=!0}const b=p?bz(o):a?vz(o):dN(o),v=b||hN(o);if(v)return De.invalid(v);const N=p?zE(o):a?VE(o):o,[M,L]=Zu(N,s,i),I=new De({ts:M,zone:i,o:L,loc:h});return o.weekday&&u&&e.weekday!==I.weekday?De.invalid("mismatched weekday","you can't specify both a weekday of ".concat(o.weekday," and a date of ").concat(I.toISO())):I}static fromISO(e,t={}){const[i,r]=Fj(e);return sl(i,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,r]=Uj(e);return sl(i,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,r]=jj(e);return sl(i,r,t,"HTTP",t)}static fromFormat(e,t,i={}){if(ze(e)||ze(t))throw new ci("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,o=dt.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[a,l,c,u]=yz(o,e,t);return u?De.invalid(u):sl(a,l,i,"format ".concat(t),e,c)}static fromString(e,t,i={}){return De.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,r]=Kj(e);return sl(i,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new ci("need to specify a reason the DateTime is invalid");const i=e instanceof Mi?e:new Mi(e,t);if(It.throwOnInvalid)throw new kU(i);return new De({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=sN(e,dt.fromObject(t));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,t={}){return iN(dn.parseFormat(e),dt.fromObject(t)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?jf(this).weekYear:NaN}get weekNumber(){return this.isValid?jf(this).weekNumber:NaN}get weekday(){return this.isValid?jf(this).weekday:NaN}get ordinal(){return this.isValid?Ff(this.c).ordinal:NaN}get monthShort(){return this.isValid?Nu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Nu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Nu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Nu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=hp(this.c),r=this.zone.offset(i-e),s=this.zone.offset(i+e),o=this.zone.offset(i-r*t),a=this.zone.offset(i-s*t);if(o===a)return[this];const l=i-o*t,c=i-a*t,u=Pu(l,o),d=Pu(c,a);return u.hour===d.hour&&u.minute===d.minute&&u.second===d.second&&u.millisecond===d.millisecond?[Cs(this,{ts:l}),Cs(this,{ts:c})]:[this]}get isInLeapYear(){return Ac(this.year)}get daysInMonth(){return th(this.year,this.month)}get daysInYear(){return this.isValid?Rl(this.year):NaN}get weeksInWeekYear(){return this.isValid?nh(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:r}=dn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(vn.instance(e),t)}toLocal(){return this.setZone(It.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=Kr(e,It.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||i){const s=e.offset(this.ts),o=this.toObject();[r]=Zu(o,s,e)}return Cs(this,{ts:r,zone:e})}else return De.invalid(Ru(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return Cs(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=ih(e,GE),i=!ze(t.weekYear)||!ze(t.weekNumber)||!ze(t.weekday),r=!ze(t.ordinal),s=!ze(t.year),o=!ze(t.month)||!ze(t.day),a=s||o,l=t.weekYear||t.weekNumber;if((a||r)&&l)throw new ml("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&r)throw new ml("Can't mix ordinal dates with month/day");let c;i?c=zE({...Tg(this.c),...t}):ze(t.ordinal)?(c={...this.toObject(),...t},ze(t.day)&&(c.day=Math.min(th(c.year,c.month),c.day))):c=VE({...Ff(this.c),...t});const[u,d]=Zu(c,this.o,this.zone);return Cs(this,{ts:u,o:d})}plus(e){if(!this.isValid)return this;const t=He.fromDurationLike(e);return Cs(this,WE(this,t))}minus(e){if(!this.isValid)return this;const t=He.fromDurationLike(e).negate();return Cs(this,WE(this,t))}startOf(e){if(!this.isValid)return this;const t={},i=He.normalizeUnit(e);switch(i){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(i==="weeks"&&(t.weekday=1),i==="quarters"){const r=Math.ceil(this.month/3);t.month=(r-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?dn.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Uf}toLocaleString(e=eh,t={}){return this.isValid?dn.create(this.loc.clone(t),e).formatDateTime(this):Uf}toLocaleParts(e={}){return this.isValid?dn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=zf(this,o);return a+="T",a+=QE(this,o,t,i,r,s),a}toISODate({format:e="extended"}={}){return this.isValid?zf(this,e==="extended"):null}toISOWeekDate(){return $u(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(r?"T":"")+QE(this,o==="extended",t,e,i,s):null}toRFC2822(){return $u(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return $u(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?zf(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(i&&(r+=" "),t?r+="z":e&&(r+="ZZ")),$u(this,r,!0)}toSQL(e={}){return this.isValid?"".concat(this.toSQLDate()," ").concat(this.toSQLTime(e)):null}toString(){return this.isValid?this.toISO():Uf}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return He.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=XU(t).map(He.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=nz(a,l,s,r);return o?c.negate():c}diffNow(e="milliseconds",t={}){return this.diff(De.now(),e,t)}until(e){return this.isValid?St.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const i=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=i&&i<=r.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||De.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),YE(t,this.plus(i),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?YE(e.base||De.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(De.isDateTime))throw new ci("min requires all arguments be DateTimes");return OE(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(De.isDateTime))throw new ci("max requires all arguments be DateTimes");return OE(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:r=null,numberingSystem:s=null}=i,o=dt.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return rN(o,e,t)}static fromStringExplain(e,t,i={}){return De.fromFormatExplain(e,t,i)}static get DATE_SHORT(){return eh}static get DATE_MED(){return bA}static get DATE_MED_WITH_WEEKDAY(){return $U}static get DATE_FULL(){return vA}static get DATE_HUGE(){return wA}static get TIME_SIMPLE(){return EA}static get TIME_WITH_SECONDS(){return xA}static get TIME_WITH_SHORT_OFFSET(){return TA}static get TIME_WITH_LONG_OFFSET(){return SA}static get TIME_24_SIMPLE(){return CA}static get TIME_24_WITH_SECONDS(){return AA}static get TIME_24_WITH_SHORT_OFFSET(){return NA}static get TIME_24_WITH_LONG_OFFSET(){return kA}static get DATETIME_SHORT(){return RA}static get DATETIME_SHORT_WITH_SECONDS(){return PA}static get DATETIME_MED(){return $A}static get DATETIME_MED_WITH_SECONDS(){return MA}static get DATETIME_MED_WITH_WEEKDAY(){return MU}static get DATETIME_FULL(){return IA}static get DATETIME_FULL_WITH_SECONDS(){return OA}static get DATETIME_HUGE(){return _A}static get DATETIME_HUGE_WITH_SECONDS(){return DA}}function ol(n){if(De.isDateTime(n))return n;if(n&&n.valueOf&&Fs(n.valueOf()))return De.fromJSDate(n);if(n&&typeof n=="object")return De.fromObject(n);throw new ci("Unknown datetime argument: ".concat(n,", of type ").concat(typeof n))}const Sz=({timerInterval:n,timerKey:e,timerDuration:t,timerActive:i,unsetTimer:r})=>{const o=t?(t-Date.now())/1e3:n*1,a=(l,c)=>{const u=He.fromMillis(l*1e3).toFormat("mm:ss");return z.jsxs("div",{className:"time-wrapper",children:[z.jsx("div",{children:c?"NEXT BREAK IS IN":"CLICK PLAY BUTTON"}),z.jsx("div",{className:"timer-digits",children:z.jsx("div",{children:u})})]})};return z.jsx(gA,{isPlaying:i,size:300,strokeWidth:22,colors:["#004777","#F7B801","#A30000","#A30000"],colorsTime:[7,5,2,0],rotation:"clockwise",duration:n*1,initialRemainingTime:o>0?o:n*1,onComplete:()=>{r()},children:({remainingTime:l})=>a(l,i)},e)},Cz=({timerStatus:n,timerHandler:e})=>z.jsx(kn,{color:"success",expand:"full",onClick:e,children:z.jsx(zn,{icon:n==="running"?WB:QB,size:"large"})});const gN=()=>{const n=()=>{window.location.href="https://backpackgym.com"};return z.jsxs(Yq,{contentId:"main-content",children:[z.jsx(ps,{children:z.jsx(la,{color:"tertiary",children:z.jsx(tc,{children:"Menu"})})}),z.jsxs(aa,{className:"ion-padding",children:[z.jsxs(Kq,{children:[z.jsx(tl,{children:z.jsxs(Gr,{lines:"full",button:!0,routerLink:"/timer",children:[z.jsx(zn,{slot:"start",icon:_C}),z.jsx(as,{children:"Start Your Workout"})]})}),z.jsx(tl,{children:z.jsxs(Gr,{lines:"full",button:!0,href:"https://backpackgym.com/contact",children:[z.jsx(zn,{slot:"start",icon:YB}),z.jsx(as,{children:"Video Tutorial"})]})}),z.jsx(tl,{children:z.jsxs(Gr,{lines:"full",button:!0,href:"https://backpackgym.com/contact",children:[z.jsx(zn,{slot:"start",icon:HB}),z.jsx(as,{children:"Contact"})]})}),z.jsx(tl,{children:z.jsx(Gr,{lines:"none",children:z.jsxs(bc,{slot:"end",children:[z.jsx(kn,{href:"https://facebook.com/backpackgym",children:z.jsx(zn,{slot:"icon-only",icon:zB})}),z.jsx(kn,{href:"https://facebook.com/backpackgym",children:z.jsx(zn,{slot:"icon-only",icon:VB})})]})})}),z.jsx(tl,{children:z.jsx(Gr,{className:"bpg-block",onClick:n})})]}),z.jsx("div",{slot:"fixed",className:"app-info",children:z.jsxs("p",{children:["Presented by Backpack Gym ",z.jsx("br",{}),"App version 1.0.1"]})})]})]})};const yN=()=>z.jsxs(EB,{slot:"bottom",color:"warning",children:[z.jsxs(Yo,{className:"my-tab-button",tab:"home",href:"/home",children:[z.jsx(zn,{icon:jB}),z.jsx(as,{children:"Home"}),z.jsx(Qq,{color:"danger",children:"1"})]}),z.jsxs(Yo,{className:"my-tab-button",tab:"timer",href:"/timer",children:[z.jsx(zn,{icon:_C}),z.jsx(as,{children:"Timer"})]}),z.jsxs(Yo,{className:"my-tab-button",tab:"settings",href:"/timer-configuration",children:[z.jsx(zn,{icon:GB}),z.jsx(as,{children:"Settings"})]})]}),Az=({timerStatus:n,unsetTimer:e})=>z.jsx(kn,{color:"danger",expand:"full",disabled:n==="running",onClick:e,children:z.jsx(zn,{icon:KB,size:"large"})});var XE;(function(n){n[n.Sunday=1]="Sunday",n[n.Monday=2]="Monday",n[n.Tuesday=3]="Tuesday",n[n.Wednesday=4]="Wednesday",n[n.Thursday=5]="Thursday",n[n.Friday=6]="Friday",n[n.Saturday=7]="Saturday"})(XE||(XE={}));const Sg=Ea("LocalNotifications",{web:()=>en(()=>import("./web-cf8dccc3.js"),[]).then(n=>new n.LocalNotificationsWeb)}),ZE=async n=>{try{if((await Sg.requestPermissions()).display!=="granted")throw new Error("Permissions haven't been granted");await Sg.schedule({notifications:[{title:"Friendly Reminder",body:"Get up and workout",id:1,schedule:{at:new Date(Date.now()+n)},extra:{data:"Pass data to your handler"},iconColor:"#FF7F50",sound:"birds.wav"}]})}catch(e){console.log(e)}},Nz=async()=>{Sg.cancel({notifications:[{id:1}]})};function ex(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function kb(n,e){n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:ex(e[t])&&ex(n[t])&&Object.keys(e[t]).length>0&&kb(n[t],e[t])})}const bN={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ho(){const n=typeof document<"u"?document:{};return kb(n,bN),n}const kz={document:bN,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Xn(){const n=typeof window<"u"?window:{};return kb(n,kz),n}function Rz(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch(i){}try{delete e[t]}catch(i){}})}function Cg(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function rh(){return Date.now()}function Pz(n){const e=Xn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function $z(n,e){e===void 0&&(e="x");const t=Xn();let i,r,s;const o=Pz(n);return t.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function Mu(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Mz(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function jn(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!Mz(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(Mu(n[a])&&Mu(i[a])?i[a].__swiper__?n[a]=i[a]:jn(n[a],i[a]):!Mu(n[a])&&Mu(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:jn(n[a],i[a])):n[a]=i[a])}}}return n}function Iu(n,e,t){n.style.setProperty(e,t)}function vN(n){let{swiper:e,targetPosition:t,side:i}=n;const r=Xn(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=t>s?"next":"prev",u=(h,p)=>c==="next"&&h>=p||c==="prev"&&h<=p,d=()=>{a=new Date().getTime(),o===null&&(o=a);const h=Math.max(Math.min((a-o)/l,1),0),p=.5-Math.cos(h*Math.PI)/2;let g=s+p*(t-s);if(u(g,t)&&(g=t),e.wrapperEl.scrollTo({[i]:g}),u(g,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:g})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(d)};d()}function Zi(n,e){return e===void 0&&(e=""),[...n.children].filter(t=>t.matches(e))}function Bo(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:[e]),t}function Iz(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function Oz(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function Xr(n,e){return Xn().getComputedStyle(n,null).getPropertyValue(e)}function sh(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function wN(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function Ag(n,e,t){const i=Xn();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}let Vf;function _z(){const n=Xn(),e=ho();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function EN(){return Vf||(Vf=_z()),Vf}let Hf;function Dz(n){let{userAgent:e}=n===void 0?{}:n;const t=EN(),i=Xn(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p=r==="Win32";let g=r==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&t.touch&&m.indexOf("".concat(a,"x").concat(l))>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!p&&(o.os="android",o.android=!0),(u||h||d)&&(o.os="ios",o.ios=!0),o}function Lz(n){return n===void 0&&(n={}),Hf||(Hf=Dz(n)),Hf}let Wf;function qz(){const n=Xn();let e=!1;function t(){const i=n.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(t()){const i=String(n.navigator.userAgent);if(i.includes("Version/")){const[r,s]=i.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));e=r<16||r===16&&s<2}}return{isSafari:e||t(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}function Bz(){return Wf||(Wf=qz()),Wf}function Fz(n){let{swiper:e,on:t,emit:i}=n;const r=Xn();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{o=r.requestAnimationFrame(()=>{const{width:h,height:p}=e;let g=h,m=p;d.forEach(T=>{let{contentBoxSize:w,contentRect:b,target:v}=T;v&&v!==e.el||(g=b?b.width:(w[0]||w).inlineSize,m=b?b.height:(w[0]||w).blockSize)}),(g!==h||m!==p)&&a()})}),s.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})}function Uz(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=[],o=Xn(),a=function(u,d){d===void 0&&(d={});const h=o.MutationObserver||o.WebkitMutationObserver,p=new h(g=>{if(e.__preventObserver__)return;if(g.length===1){r("observerUpdate",g[0]);return}const m=function(){r("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});p.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(p)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=wN(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var jz={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=t?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),i=n):(e=s[0].events,t=s[0].data,i=s[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(i,t)})}),n}};function zz(){const n=this;let e,t;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Xr(i,"padding-left")||0,10)-parseInt(Xr(i,"padding-right")||0,10),t=t-parseInt(Xr(i,"padding-top")||0,10)-parseInt(Xr(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function Vz(){const n=this;function e(A){return n.isHorizontal()?A:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[A]}function t(A,F){return parseFloat(A.getPropertyValue(e(F))||0)}const i=n.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:a,wrongRTL:l}=n,c=n.virtual&&i.virtual.enabled,u=c?n.virtual.slides.length:n.slides.length,d=Zi(s,".".concat(n.params.slideClass,", swiper-slide")),h=c?n.virtual.slides.length:d.length;let p=[];const g=[],m=[];let T=i.slidesOffsetBefore;typeof T=="function"&&(T=i.slidesOffsetBefore.call(n));let w=i.slidesOffsetAfter;typeof w=="function"&&(w=i.slidesOffsetAfter.call(n));const b=n.snapGrid.length,v=n.slidesGrid.length;let N=i.spaceBetween,M=-T,L=0,I=0;if(typeof o>"u")return;typeof N=="string"&&N.indexOf("%")>=0?N=parseFloat(N.replace("%",""))/100*o:typeof N=="string"&&(N=parseFloat(N)),n.virtualSize=-N,d.forEach(A=>{a?A.style.marginLeft="":A.style.marginRight="",A.style.marginBottom="",A.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(Iu(r,"--swiper-centered-offset-before",""),Iu(r,"--swiper-centered-offset-after",""));const $=i.grid&&i.grid.rows>1&&n.grid;$&&n.grid.initSlides(h);let k;const H=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(A=>typeof i.breakpoints[A].slidesPerView<"u").length>0;for(let A=0;A<h;A+=1){k=0;let F;if(d[A]&&(F=d[A]),$&&n.grid.updateSlide(A,F,h,e),!(d[A]&&Xr(F,"display")==="none")){if(i.slidesPerView==="auto"){H&&(d[A].style[e("width")]="");const D=getComputedStyle(F),G=F.style.transform,ne=F.style.webkitTransform;if(G&&(F.style.transform="none"),ne&&(F.style.webkitTransform="none"),i.roundLengths)k=n.isHorizontal()?Ag(F,"width",!0):Ag(F,"height",!0);else{const ue=t(D,"width"),ae=t(D,"padding-left"),te=t(D,"padding-right"),Z=t(D,"margin-left"),j=t(D,"margin-right"),J=D.getPropertyValue("box-sizing");if(J&&J==="border-box")k=ue+Z+j;else{const{clientWidth:ce,offsetWidth:ve}=F;k=ue+ae+te+Z+j+(ve-ce)}}G&&(F.style.transform=G),ne&&(F.style.webkitTransform=ne),i.roundLengths&&(k=Math.floor(k))}else k=(o-(i.slidesPerView-1)*N)/i.slidesPerView,i.roundLengths&&(k=Math.floor(k)),d[A]&&(d[A].style[e("width")]="".concat(k,"px"));d[A]&&(d[A].swiperSlideSize=k),m.push(k),i.centeredSlides?(M=M+k/2+L/2+N,L===0&&A!==0&&(M=M-o/2-N),A===0&&(M=M-o/2-N),Math.abs(M)<1/1e3&&(M=0),i.roundLengths&&(M=Math.floor(M)),I%i.slidesPerGroup===0&&p.push(M),g.push(M)):(i.roundLengths&&(M=Math.floor(M)),(I-Math.min(n.params.slidesPerGroupSkip,I))%n.params.slidesPerGroup===0&&p.push(M),g.push(M),M=M+k+N),n.virtualSize+=k+N,L=k,I+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+w,a&&l&&(i.effect==="slide"||i.effect==="coverflow")&&(r.style.width="".concat(n.virtualSize+N,"px")),i.setWrapperSize&&(r.style[e("width")]="".concat(n.virtualSize+N,"px")),$&&n.grid.updateWrapperSize(k,p,e),!i.centeredSlides){const A=[];for(let F=0;F<p.length;F+=1){let D=p[F];i.roundLengths&&(D=Math.floor(D)),p[F]<=n.virtualSize-o&&A.push(D)}p=A,Math.floor(n.virtualSize-o)-Math.floor(p[p.length-1])>1&&p.push(n.virtualSize-o)}if(c&&i.loop){const A=m[0]+N;if(i.slidesPerGroup>1){const F=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/i.slidesPerGroup),D=A*i.slidesPerGroup;for(let G=0;G<F;G+=1)p.push(p[p.length-1]+D)}for(let F=0;F<n.virtual.slidesBefore+n.virtual.slidesAfter;F+=1)i.slidesPerGroup===1&&p.push(p[p.length-1]+A),g.push(g[g.length-1]+A),n.virtualSize+=A}if(p.length===0&&(p=[0]),N!==0){const A=n.isHorizontal()&&a?"marginLeft":e("marginRight");d.filter((F,D)=>!i.cssMode||i.loop?!0:D!==d.length-1).forEach(F=>{F.style[A]="".concat(N,"px")})}if(i.centeredSlides&&i.centeredSlidesBounds){let A=0;m.forEach(D=>{A+=D+(N||0)}),A-=N;const F=A-o;p=p.map(D=>D<=0?-T:D>F?F+w:D)}if(i.centerInsufficientSlides){let A=0;if(m.forEach(F=>{A+=F+(N||0)}),A-=N,A<o){const F=(o-A)/2;p.forEach((D,G)=>{p[G]=D-F}),g.forEach((D,G)=>{g[G]=D+F})}}if(Object.assign(n,{slides:d,snapGrid:p,slidesGrid:g,slidesSizesGrid:m}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){Iu(r,"--swiper-centered-offset-before","".concat(-p[0],"px")),Iu(r,"--swiper-centered-offset-after","".concat(n.size/2-m[m.length-1]/2,"px"));const A=-n.snapGrid[0],F=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(D=>D+A),n.slidesGrid=n.slidesGrid.map(D=>D+F)}if(h!==u&&n.emit("slidesLengthChange"),p.length!==b&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),g.length!==v&&n.emit("slidesGridLengthChange"),i.watchSlidesProgress&&n.updateSlidesOffset(),!c&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const A="".concat(i.containerModifierClass,"backface-hidden"),F=n.el.classList.contains(A);h<=i.maxBackfaceHiddenSlides?F||n.el.classList.add(A):F&&n.el.classList.remove(A)}}function Hz(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!i)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const a=t[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height="".concat(r,"px"))}function Wz(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}function Qz(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-n;r&&(o=n),i.forEach(l=>{l.classList.remove(t.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=(o-s[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),p=-(o-u),g=p+e.slidesSizesGrid[l];(p>=0&&p<e.size-1||g>1&&g<=e.size||p<=0&&g>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),i[l].classList.add(t.slideVisibleClass)),c.progress=r?-d:d,c.originalProgress=r?-h:h}}function Gz(n){const e=this;if(typeof n>"u"){const u=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*u||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(i===0)r=0,s=!0,o=!0;else{r=(n-e.minTranslate())/i;const u=Math.abs(n-e.minTranslate())<1,d=Math.abs(n-e.maxTranslate())<1;s=u||r<=0,o=d||r>=1,u&&(r=0),d&&(r=1)}if(t.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],p=e.slidesGrid[d],g=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(n);m>=h?a=(m-h)/g:a=(m+g-p)/g,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}function Kz(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:r}=n,s=n.virtual&&t.virtual.enabled,o=l=>Zi(i,".".concat(t.slideClass).concat(l,", swiper-slide").concat(l))[0];e.forEach(l=>{l.classList.remove(t.slideActiveClass,t.slideNextClass,t.slidePrevClass)});let a;if(s)if(t.loop){let l=r-n.virtual.slidesBefore;l<0&&(l=n.virtual.slides.length+l),l>=n.virtual.slides.length&&(l-=n.virtual.slides.length),a=o('[data-swiper-slide-index="'.concat(l,'"]'))}else a=o('[data-swiper-slide-index="'.concat(r,'"]'));else a=e[r];if(a){a.classList.add(t.slideActiveClass);let l=Oz(a,".".concat(t.slideClass,", swiper-slide"))[0];t.loop&&!l&&(l=e[0]),l&&l.classList.add(t.slideNextClass);let c=Iz(a,".".concat(t.slideClass,", swiper-slide"))[0];t.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(t.slidePrevClass)}n.emitSlidesClasses()}const ed=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":".".concat(n.params.slideClass),i=e.closest(t());if(i){let r=i.querySelector(".".concat(n.params.lazyPreloaderClass));!r&&n.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(".".concat(n.params.lazyPreloaderClass)):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(".".concat(n.params.lazyPreloaderClass)),r&&r.remove())})),r&&r.remove()}},Qf=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},Ng=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),n.slides.forEach((l,c)=>{a.includes(l.column)&&Qf(n,c)});return}const s=r+i-1;if(n.params.rewind||n.params.loop)for(let o=r-e;o<=s+e;o+=1){const a=(o%t+t)%t;(a<r||a>s)&&Qf(n,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,t-1);o+=1)o!==r&&(o>s||o<r)&&Qf(n,o)};function Yz(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return t.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function Jz(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=n,c;const u=h=>{let p=h-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof l>"u"&&(l=Yz(e)),i.indexOf(t)>=0)c=i.indexOf(t);else{const h=Math.min(r.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=u(l));return}let d;e.virtual&&r.virtual.enabled&&r.loop?d=u(l):e.slides[l]?d=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):d=l,Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:d,previousIndex:s,activeIndex:l}),e.initialized&&Ng(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==d&&e.emit("realIndexChange"),e.emit("slideChange"))}function Xz(n,e){const t=this,i=t.params;let r=n.closest(".".concat(i.slideClass,", swiper-slide"));!r&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(".".concat(i.slideClass,", swiper-slide"))&&(r=a)});let s=!1,o;if(r){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===r){s=!0,o=a;break}}if(r&&s)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var Zz={updateSize:zz,updateSlides:Vz,updateAutoHeight:Hz,updateSlidesOffset:Wz,updateSlidesProgress:Qz,updateProgress:Gz,updateSlidesClasses:Kz,updateActiveIndex:Jz,updateClickedSlide:Xz};function e5(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let o=$z(s,n);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function t5(n,e){const t=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=t;let a=0,l=0;const c=0;t.isHorizontal()?a=i?-n:n:l=n,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:l,r.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-l:r.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),s.style.transform="translate3d(".concat(a,"px, ").concat(l,"px, ").concat(c,"px)"));let u;const d=t.maxTranslate()-t.minTranslate();d===0?u=0:u=(n-t.minTranslate())/d,u!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function n5(){return-this.snapGrid[0]}function i5(){return-this.snapGrid[this.snapGrid.length-1]}function r5(n,e,t,i,r){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(i&&n>l?u=l:i&&n<c?u=c:u=n,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return vN({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var s5={getTranslate:e5,setTranslate:t5,minTranslate:n5,maxTranslate:i5,translateTo:r5};function o5(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration="".concat(n,"ms"),t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function xN(n){let{swiper:e,runCallbacks:t,direction:i,step:r}=n;const{activeIndex:s,previousIndex:o}=e;let a=i;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit("transition".concat(r)),t&&s!==o){if(a==="reset"){e.emit("slideResetTransition".concat(r));return}e.emit("slideChangeTransition".concat(r)),a==="next"?e.emit("slideNextTransition".concat(r)):e.emit("slidePrevTransition".concat(r))}}function a5(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),xN({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function l5(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),xN({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var c5={setTransition:o5,transitionStart:a5,transitionEnd:l5};function u5(n,e,t,i,r){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;let o=n;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:p,enabled:g}=s;if(s.animating&&a.preventInteractionOnTransition||!g&&!i&&!r)return!1;const m=Math.min(s.params.slidesPerGroupSkip,o);let T=m+Math.floor((o-m)/s.params.slidesPerGroup);T>=l.length&&(T=l.length-1);const w=-l[T];if(a.normalizeSlideIndex)for(let v=0;v<c.length;v+=1){const N=-Math.floor(w*100),M=Math.floor(c[v]*100),L=Math.floor(c[v+1]*100);typeof c[v+1]<"u"?N>=M&&N<L-(L-M)/2?o=v:N>=M&&N<L&&(o=v+1):N>=M&&(o=v)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(h?w>s.translate&&w>s.minTranslate():w<s.translate&&w<s.minTranslate())||!s.allowSlidePrev&&w>s.translate&&w>s.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(w);let b;if(o>d?b="next":o<d?b="prev":b="reset",h&&-w===s.translate||!h&&w===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(w),b!=="reset"&&(s.transitionStart(t,b),s.transitionEnd(t,b)),!1;if(a.cssMode){const v=s.isHorizontal(),N=h?w:-w;if(e===0){const M=s.virtual&&s.params.virtual.enabled;M&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),M&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{p[v?"scrollLeft":"scrollTop"]=N})):p[v?"scrollLeft":"scrollTop"]=N,M&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return vN({swiper:s,targetPosition:N,side:v?"left":"top"}),!0;p.scrollTo({[v?"left":"top"]:N,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(w),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,b),e===0?s.transitionEnd(t,b):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(N){!s||s.destroyed||N.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,b))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function d5(n,e,t,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const r=this;let s=n;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?s=s+r.virtual.slidesBefore:s=r.getSlideIndexByData(s)),r.slideTo(s,e,t,i)}function h5(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r)return i;let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a,c=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,n,e,t)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+l,n,e,t)}function p5(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l)return i;const u=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!u&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=a?i.translate:-i.translate;function h(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const p=h(d),g=s.map(w=>h(w));let m=s[g.indexOf(p)-1];if(typeof m>"u"&&r.cssMode){let w;s.forEach((b,v)=>{p>=b&&(w=v)}),typeof w<"u"&&(m=s[w>0?w-1:w])}let T=0;if(typeof m<"u"&&(T=o.indexOf(m),T<0&&(T=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(T=T-i.slidesPerViewDynamic("previous",!0)+1,T=Math.max(T,0))),r.rewind&&i.isBeginning){const w=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(w,n,e,t)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(T,n,e,t)}),!0;return i.slideTo(T,n,e,t)}function f5(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const i=this;return i.slideTo(i.activeIndex,n,e,t)}function m5(n,e,t,i){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a],u=r.snapGrid[a+1];l-c>(u-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],u=r.snapGrid[a];l-c<=(u-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)}function g5(){const n=this,{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let r=n.clickedIndex,s;const o=n.isElement?"swiper-slide":".".concat(e.slideClass);if(e.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(Zi(t,"".concat(o,'[data-swiper-slide-index="').concat(s,'"]'))[0]),Cg(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(Zi(t,"".concat(o,'[data-swiper-slide-index="').concat(s,'"]'))[0]),Cg(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}var y5={slideTo:u5,slideToLoop:d5,slideNext:h5,slidePrev:p5,slideReset:f5,slideToClosest:m5,slideToClickedSlide:g5};function b5(n){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;Zi(i,".".concat(t.slideClass,", swiper-slide")).forEach((s,o)=>{s.setAttribute("data-swiper-slide-index",o)}),e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function v5(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:o,byMousewheel:a}=n===void 0?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:h,params:p}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled){t&&(!p.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}const g=p.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(p.slidesPerView,10));let m=p.loopedSlides||g;m%p.slidesPerGroup!==0&&(m+=p.slidesPerGroup-m%p.slidesPerGroup),l.loopedSlides=m;const T=[],w=[];let b=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(l.slides.filter(I=>I.classList.contains(p.slideActiveClass))[0]):b=s;const v=i==="next"||!i,N=i==="prev"||!i;let M=0,L=0;if(s<m){M=Math.max(m-s,p.slidesPerGroup);for(let I=0;I<m-s;I+=1){const $=I-Math.floor(I/c.length)*c.length;T.push(c.length-$-1)}}else if(s>l.slides.length-m*2){L=Math.max(s-(l.slides.length-m*2),p.slidesPerGroup);for(let I=0;I<L;I+=1){const $=I-Math.floor(I/c.length)*c.length;w.push($)}}if(N&&T.forEach(I=>{l.slides[I].swiperLoopMoveDOM=!0,h.prepend(l.slides[I]),l.slides[I].swiperLoopMoveDOM=!1}),v&&w.forEach(I=>{l.slides[I].swiperLoopMoveDOM=!0,h.append(l.slides[I]),l.slides[I].swiperLoopMoveDOM=!1}),l.recalcSlides(),p.slidesPerView==="auto"&&l.updateSlides(),p.watchSlidesProgress&&l.updateSlidesOffset(),t){if(T.length>0&&N)if(typeof e>"u"){const I=l.slidesGrid[b],k=l.slidesGrid[b+M]-I;a?l.setTranslate(l.translate-k):(l.slideTo(b+M,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=k,l.touchEventsData.currentTranslate=l.translate))}else r&&(l.slideToLoop(e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(w.length>0&&v)if(typeof e>"u"){const I=l.slidesGrid[b],k=l.slidesGrid[b-L]-I;a?l.setTranslate(l.translate-k):(l.slideTo(b-L,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=k,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(e,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const I={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach($=>{!$.destroyed&&$.params.loop&&$.loopFix({...I,slideTo:$.params.slidesPerView===p.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...I,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView?t:!1})}l.emit("loopFix")}function w5(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{t.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var E5={loopCreate:b5,loopFix:v5,loopDestroy:w5};function x5(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function T5(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var S5={setGrabCursor:x5,unsetGrabCursor:T5};function C5(n,e){e===void 0&&(e=this);function t(i){if(!i||i===ho()||i===Xn())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return!r&&!i.getRootNode?null:r||t(i.getRootNode().host)}return t(e)}function A5(n){const e=this,t=ho(),i=Xn(),r=e.touchEventsData;r.evCache.push(n);const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&n.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=n;l.originalEvent&&(l=l.originalEvent);let c=l.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in l&&l.which===3||"button"in l&&l.button>0||r.isTouched&&r.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",d=n.composedPath?n.composedPath():n.path;u&&l.target&&l.target.shadowRoot&&d&&(c=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:".".concat(s.noSwipingClass),p=!!(l.target&&l.target.shadowRoot);if(s.noSwiping&&(p?C5(h,c):c.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;o.currentX=l.pageX,o.currentY=l.pageY;const g=o.currentX,m=o.currentY,T=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,w=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(T&&(g<=w||g>=i.innerWidth-w))if(T==="prevent")n.preventDefault();else return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=m,r.touchStartTime=rh(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let b=!0;c.matches(r.focusableElements)&&(b=!1,c.nodeName==="SELECT"&&(r.isTouched=!1)),t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==c&&t.activeElement.blur();const v=b&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||v)&&!c.isContentEditable&&l.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function N5(n){const e=ho(),t=this,i=t.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=t;if(!a||!r.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",l);return}const c=i.evCache.findIndex(I=>I.pointerId===l.pointerId);c>=0&&(i.evCache[c]=l);const u=i.evCache.length>1?i.evCache[0]:l,d=u.pageX,h=u.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!t.allowTouchMove){l.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:d,startY:h,prevX:t.touches.currentX,prevY:t.touches.currentY,currentX:d,currentY:h}),i.touchStartTime=rh());return}if(r.touchReleaseOnEdges&&!r.loop){if(t.isVertical()){if(h<s.startY&&t.translate<=t.maxTranslate()||h>s.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<s.startX&&t.translate<=t.maxTranslate()||d>s.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}if(i.allowTouchCallbacks&&t.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=d,s.currentY=h;const p=s.currentX-s.startX,g=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(p**2+g**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let I;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:p*p+g*g>=25&&(I=Math.atan2(Math.abs(g),Math.abs(p))*180/Math.PI,i.isScrolling=t.isHorizontal()?I>r.touchAngle:90-I>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||t.zoom&&t.params.zoom&&t.params.zoom.enabled&&i.evCache.length>1){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let m=t.isHorizontal()?p:g,T=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(m=Math.abs(m)*(o?1:-1),T=Math.abs(T)*(o?1:-1)),s.diff=m,m*=r.touchRatio,o&&(m=-m,T=-T);const w=t.touchesDirection;t.swipeDirection=m>0?"prev":"next",t.touchesDirection=T>0?"prev":"next";const b=t.params.loop&&!r.cssMode,v=t.swipeDirection==="next"&&t.allowSlideNext||t.swipeDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(b&&v&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const I=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(I)}i.allowMomentumBounce=!1,r.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let N;i.isMoved&&w!==t.touchesDirection&&b&&v&&Math.abs(m)>=1&&(t.loopFix({direction:t.swipeDirection,setTranslate:!0}),N=!0),t.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=m+i.startTranslate;let M=!0,L=r.resistanceRatio;if(r.touchReleaseOnEdges&&(L=0),m>0?(b&&v&&!N&&i.currentTranslate>(r.centeredSlides?t.minTranslate()-t.size/2:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(M=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+m)**L))):m<0&&(b&&v&&!N&&i.currentTranslate<(r.centeredSlides?t.maxTranslate()+t.size/2:t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(r.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(M=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-m)**L))),M&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(m)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function k5(n){const e=this,t=e.touchEventsData,i=t.evCache.findIndex(v=>v.pointerId===n.pointerId);if(i>=0&&t.evCache.splice(i,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:r,touches:s,rtlTranslate:o,slidesGrid:a,enabled:l}=e;if(!l||!r.simulateTouch&&n.pointerType==="mouse")return;let c=n;if(c.originalEvent&&(c=c.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",c),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&r.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}r.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=rh(),d=u-t.touchStartTime;if(e.allowClick){const v=c.path||c.composedPath&&c.composedPath();e.updateClickedSlide(v&&v[0]||c.target,v),e.emit("tap click",c),d<300&&u-t.lastClickTime<300&&e.emit("doubleTap doubleClick",c)}if(t.lastClickTime=rh(),Cg(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||s.diff===0||t.currentTranslate===t.startTranslate){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let h;if(r.followFinger?h=o?e.translate:-e.translate:h=-t.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let p=0,g=e.slidesSizesGrid[0];for(let v=0;v<a.length;v+=v<r.slidesPerGroupSkip?1:r.slidesPerGroup){const N=v<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof a[v+N]<"u"?h>=a[v]&&h<a[v+N]&&(p=v,g=a[v+N]-a[v]):h>=a[v]&&(p=v,g=a[a.length-1]-a[a.length-2])}let m=null,T=null;r.rewind&&(e.isBeginning?T=r.virtual&&r.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const w=(h-a[p])/g,b=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(w>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?m:p+b):e.slideTo(p)),e.swipeDirection==="prev"&&(w>1-r.longSwipesRatio?e.slideTo(p+b):T!==null&&w<0&&Math.abs(w)>r.longSwipesRatio?e.slideTo(T):e.slideTo(p))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(c.target===e.navigation.nextEl||c.target===e.navigation.prevEl)?c.target===e.navigation.nextEl?e.slideTo(p+b):e.slideTo(p):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:p+b),e.swipeDirection==="prev"&&e.slideTo(T!==null?T:p))}}function tx(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!a?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function R5(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function P5(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let r;const s=n.maxTranslate()-n.minTranslate();s===0?r=0:r=(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function $5(n){const e=this;ed(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let nx=!1;function M5(){}const TN=(n,e)=>{const t=ho(),{params:i,el:r,wrapperEl:s,device:o}=n,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;r[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",n.onClick,!0),i.cssMode&&s[l]("scroll",n.onScroll),i.updateOnWindowResize?n[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",tx,!0):n[c]("observerUpdate",tx,!0),r[l]("load",n.onLoad,{capture:!0})};function I5(){const n=this,e=ho(),{params:t}=n;n.onTouchStart=A5.bind(n),n.onTouchMove=N5.bind(n),n.onTouchEnd=k5.bind(n),t.cssMode&&(n.onScroll=P5.bind(n)),n.onClick=R5.bind(n),n.onLoad=$5.bind(n),nx||(e.addEventListener("touchstart",M5),nx=!0),TN(n,"on")}function O5(){TN(this,"off")}var _5={attachEvents:I5,detachEvents:O5};const ix=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function D5(){const n=this,{realIndex:e,initialized:t,params:i,el:r}=n,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=n.getBreakpoint(s,n.params.breakpointsBase,n.el);if(!o||n.currentBreakpoint===o)return;const l=(o in s?s[o]:void 0)||n.originalParams,c=ix(n,i),u=ix(n,l),d=i.enabled;c&&!u?(r.classList.remove("".concat(i.containerModifierClass,"grid"),"".concat(i.containerModifierClass,"grid-column")),n.emitContainerClasses()):!c&&u&&(r.classList.add("".concat(i.containerModifierClass,"grid")),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&r.classList.add("".concat(i.containerModifierClass,"grid-column")),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(w=>{if(typeof l[w]>"u")return;const b=i[w]&&i[w].enabled,v=l[w]&&l[w].enabled;b&&!v&&n[w].disable(),!b&&v&&n[w].enable()});const h=l.direction&&l.direction!==i.direction,p=i.loop&&(l.slidesPerView!==i.slidesPerView||h),g=i.loop;h&&t&&n.changeDirection(),jn(n.params,l);const m=n.params.enabled,T=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),d&&!m?n.disable():!d&&m&&n.enable(),n.currentBreakpoint=o,n.emit("_beforeBreakpoint",l),t&&(p?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!g&&T?(n.loopCreate(e),n.updateSlides()):g&&!T&&n.loopDestroy()),n.emit("breakpoint",l)}function L5(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1;const r=Xn(),s=e==="window"?r.innerHeight:t.clientHeight,o=Object.keys(n).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?r.matchMedia("(min-width: ".concat(c,"px)")).matches&&(i=l):c<=t.clientWidth&&(i=l)}return i||"max"}var q5={setBreakpoint:D5,getBreakpoint:L5};function B5(n,e){const t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):typeof i=="string"&&t.push(e+i)}),t}function F5(){const n=this,{classNames:e,params:t,rtl:i,el:r,device:s}=n,o=B5(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),r.classList.add(...e),n.emitContainerClasses()}function U5(){const n=this,{el:e,classNames:t}=n;e.classList.remove(...t),n.emitContainerClasses()}var j5={addClasses:F5,removeClasses:U5};function z5(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const r=n.slides.length-1,s=n.slidesGrid[r]+n.slidesSizesGrid[r]+i*2;n.isLocked=n.size>s}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var V5={checkOverflow:z5},kg={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function H5(n,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){jn(e,i);return}if(n[r]===!0&&(n[r]={enabled:!0}),r==="navigation"&&n[r]&&n[r].enabled&&!n[r].prevEl&&!n[r].nextEl&&(n[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&n[r]&&n[r].enabled&&!n[r].el&&(n[r].auto=!0),!(r in n&&"enabled"in s)){jn(e,i);return}typeof n[r]=="object"&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),jn(e,i)}}const Gf={eventsEmitter:jz,update:Zz,translate:s5,transition:c5,slide:y5,loop:E5,grabCursor:S5,events:_5,breakpoints:q5,checkOverflow:V5,classes:j5},Kf={};let Rb=class dr{constructor(){let e,t;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?t=r[0]:[e,t]=r,t||(t={}),t=jn({},t),e&&!t.el&&(t.el=e);const o=ho();if(t.el&&typeof t.el=="string"&&o.querySelectorAll(t.el).length>1){const u=[];return o.querySelectorAll(t.el).forEach(d=>{const h=jn({},t,{el:d});u.push(new dr(h))}),u}const a=this;a.__swiper__=!0,a.support=EN(),a.device=Lz({userAgent:t.userAgent}),a.browser=Bz(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const l={};a.modules.forEach(u=>{u({params:t,swiper:a,extendParams:H5(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=jn({},kg,l);return a.params=jn({},c,Kf,t),a.originalParams=jn({},a.params),a.passedParams=jn({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getSlideIndex(e){const{slidesEl:t,params:i}=this,r=Zi(t,".".concat(i.slideClass,", swiper-slide")),s=sh(r[0]);return sh(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=Zi(t,".".concat(i.slideClass,", swiper-slide"))}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let u=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let d=s[c]?s[c].swiperSlideSize:0,h;for(let p=c+1;p<s.length;p+=1)s[p]&&!h&&(d+=s[p].swiperSlideSize,u+=1,d>l&&(h=!0));for(let p=c-1;p>=0;p-=1)s[p]&&!h&&(d+=s[p].swiperSlideSize,u+=1,d>l&&(h=!0))}else if(e==="current")for(let d=c+1;d<s.length;d+=1)(t?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ed(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove("".concat(i.params.containerModifierClass).concat(r)),i.el.classList.add("".concat(i.params.containerModifierClass).concat(e)),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.el.classList.remove("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(t.isElement=!0);const r=()=>".".concat((t.params.wrapperClass||"").trim().split(" ").join("."));let o=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Zi(i,r())[0])();return!o&&t.params.createElements&&(o=Bo("div",t.params.wrapperClass),i.append(o),Zi(i,".".concat(t.params.slideClass)).forEach(a=>{o.append(a)})),Object.assign(t,{el:i,wrapperEl:o,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Xr(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Xr(i,"direction")==="rtl"),wrongRTL:Xr(o,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const r=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&r.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?ed(t,s):s.addEventListener("load",o=>{ed(t,o.target)})}),Ng(t),t.initialized=!0,Ng(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),s.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el.swiper=null,Rz(i)),i.destroyed=!0),null}static extendDefaults(e){jn(Kf,e)}static get extendedDefaults(){return Kf}static get defaults(){return kg}static installModule(e){dr.prototype.__modules__||(dr.prototype.__modules__=[]);const t=dr.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>dr.installModule(t)),dr):(dr.installModule(e),dr)}};Object.keys(Gf).forEach(n=>{Object.keys(Gf[n]).forEach(e=>{Rb.prototype[e]=Gf[n][e]})});Rb.use([Fz,Uz]);const SN=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function no(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function Us(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:no(e[i])&&no(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:Us(n[i],e[i]):n[i]=e[i]})}function CN(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function AN(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function NN(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function kN(n){n===void 0&&(n="");const e=n.split(" ").map(i=>i.trim()).filter(i=>!!i),t=[];return e.forEach(i=>{t.indexOf(i)<0&&t.push(i)}),t.join(" ")}function W5(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:"swiper-wrapper ".concat(n):"swiper-wrapper"}function Q5(n){let{swiper:e,slides:t,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=n;const c=r.filter(k=>k!=="children"&&k!=="direction"&&k!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:p,virtual:g,thumbs:m}=e;let T,w,b,v,N,M,L,I;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(T=!0),r.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(w=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(b=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&p&&!p.el&&(v=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(N=!0);const $=k=>{e[k]&&(e[k].destroy(),k==="navigation"?(e.isElement&&(e[k].prevEl.remove(),e[k].nextEl.remove()),u[k].prevEl=void 0,u[k].nextEl=void 0,e[k].prevEl=void 0,e[k].nextEl=void 0):(e.isElement&&e[k].el.remove(),u[k].el=void 0,e[k].el=void 0))};r.includes("loop")&&e.isElement&&(u.loop&&!i.loop?M=!0:!u.loop&&i.loop?L=!0:I=!0),c.forEach(k=>{if(no(u[k])&&no(i[k]))Us(u[k],i[k]),(k==="navigation"||k==="pagination"||k==="scrollbar")&&"enabled"in i[k]&&!i[k].enabled&&$(k);else{const H=i[k];(H===!0||H===!1)&&(k==="navigation"||k==="pagination"||k==="scrollbar")?H===!1&&$(k):u[k]=i[k]}}),c.includes("controller")&&!w&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),r.includes("children")&&t&&g&&u.virtual.enabled&&(g.slides=t,g.update(!0)),r.includes("children")&&t&&u.loop&&(I=!0),T&&m.init()&&m.update(!0),w&&(e.controller.control=u.controller.control),b&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),v&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),p.init(),p.updateSize(),p.setTranslate()),N&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),h.init(),h.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(M||I)&&e.loopDestroy(),(L||I)&&e.loopCreate(),e.update()}function G5(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},i={},r={};Us(t,kg),t._emitClasses=!0,t.init=!1;const s={},o=SN.map(l=>l.replace(/_/,"")),a=Object.assign({},n);return Object.keys(a).forEach(l=>{typeof n[l]>"u"||(o.indexOf(l)>=0?no(n[l])?(t[l]={},r[l]={},Us(t[l],n[l]),Us(r[l],n[l])):(t[l]=n[l],r[l]=n[l]):l.search(/on[A-Z]/)===0&&typeof n[l]=="function"?e?i["".concat(l[2].toLowerCase()).concat(l.substr(3))]=n[l]:t.on["".concat(l[2].toLowerCase()).concat(l.substr(3))]=n[l]:s[l]=n[l])}),["navigation","pagination","scrollbar"].forEach(l=>{t[l]===!0&&(t[l]={}),t[l]===!1&&delete t[l]}),{params:t,passedParams:r,rest:s,events:i}}function K5(n,e){let{el:t,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:a}=n;CN(e)&&i&&r&&(a.params.navigation.nextEl=i,a.originalParams.navigation.nextEl=i,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),AN(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),NN(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(t)}function Y5(n,e,t,i,r){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(t&&i){const l=i.map(r),c=t.map(r);l.join("")!==c.join("")&&o("children"),i.length!==t.length&&o("children")}return SN.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in n&&l in e)if(no(n[l])&&no(e[l])){const c=Object.keys(n[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{n[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{n[l][d]!==e[l][d]&&o(l)}))}else n[l]!==e[l]&&o(l)}),s}const J5=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function oh(){return oh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},oh.apply(this,arguments)}function RN(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function PN(n){const e=[];return ee.Children.toArray(n).forEach(t=>{RN(t)?e.push(t):t.props&&t.props.children&&PN(t.props.children).forEach(i=>e.push(i))}),e}function X5(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ee.Children.toArray(n).forEach(i=>{if(RN(i))e.push(i);else if(i.props&&i.props.slot&&t[i.props.slot])t[i.props.slot].push(i);else if(i.props&&i.props.children){const r=PN(i.props.children);r.length>0?r.forEach(s=>e.push(s)):t["container-end"].push(i)}else t["container-end"].push(i)}),{slides:e,slots:t}}function Z5(n,e,t){if(!t)return null;const i=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},r=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:"".concat(t.offset,"px")}:{top:"".concat(t.offset,"px")},{from:s,to:o}=t,a=n.params.loop?-e.length:0,l=n.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=s&&u<=o&&c.push(e[i(u)]);return c.map((u,d)=>ee.cloneElement(u,{swiper:n,style:r,key:"slide-".concat(d)}))}function $l(n,e){return typeof window>"u"?we.useEffect(n,e):we.useLayoutEffect(n,e)}const rx=we.createContext(null),$N=we.createContext(null),e8=()=>we.useContext($N),MN=we.forwardRef(function(n,e){let{className:t,tag:i="div",wrapperTag:r="div",children:s,onSwiper:o,...a}=n===void 0?{}:n,l=!1;const[c,u]=we.useState("swiper"),[d,h]=we.useState(null),[p,g]=we.useState(!1),m=we.useRef(!1),T=we.useRef(null),w=we.useRef(null),b=we.useRef(null),v=we.useRef(null),N=we.useRef(null),M=we.useRef(null),L=we.useRef(null),I=we.useRef(null),{params:$,passedParams:k,rest:H,events:A}=G5(a),{slides:F,slots:D}=X5(s),G=()=>{g(!p)};Object.assign($.on,{_containerClasses(Z,j){u(j)}});const ne=()=>{Object.assign($.on,A),l=!0;const Z={...$};if(delete Z.wrapperClass,w.current=new Rb(Z),w.current.virtual&&w.current.params.virtual.enabled){w.current.virtual.slides=F;const j={cache:!1,slides:F,renderExternal:h,renderExternalUpdate:!1};Us(w.current.params.virtual,j),Us(w.current.originalParams.virtual,j)}};T.current||ne(),w.current&&w.current.on("_beforeBreakpoint",G);const ue=()=>{l||!A||!w.current||Object.keys(A).forEach(Z=>{w.current.on(Z,A[Z])})},ae=()=>{!A||!w.current||Object.keys(A).forEach(Z=>{w.current.off(Z,A[Z])})};we.useEffect(()=>()=>{w.current&&w.current.off("_beforeBreakpoint",G)}),we.useEffect(()=>{!m.current&&w.current&&(w.current.emitSlidesClasses(),m.current=!0)}),$l(()=>{if(e&&(e.current=T.current),!!T.current)return w.current.destroyed&&ne(),K5({el:T.current,nextEl:N.current,prevEl:M.current,paginationEl:L.current,scrollbarEl:I.current,swiper:w.current},$),o&&o(w.current),()=>{w.current&&!w.current.destroyed&&w.current.destroy(!0,!1)}},[]),$l(()=>{ue();const Z=Y5(k,b.current,F,v.current,j=>j.key);return b.current=k,v.current=F,Z.length&&w.current&&!w.current.destroyed&&Q5({swiper:w.current,slides:F,passedParams:k,changedParams:Z,nextEl:N.current,prevEl:M.current,scrollbarEl:I.current,paginationEl:L.current}),()=>{ae()}}),$l(()=>{J5(w.current)},[d]);function te(){return $.virtual?Z5(w.current,F,d):F.map((Z,j)=>ee.cloneElement(Z,{swiper:w.current,swiperSlideIndex:j}))}return ee.createElement(i,oh({ref:T,className:kN("".concat(c).concat(t?" ".concat(t):""))},H),ee.createElement($N.Provider,{value:w.current},D["container-start"],ee.createElement(r,{className:W5($.wrapperClass)},D["wrapper-start"],te(),D["wrapper-end"]),CN($)&&ee.createElement(ee.Fragment,null,ee.createElement("div",{ref:M,className:"swiper-button-prev"}),ee.createElement("div",{ref:N,className:"swiper-button-next"})),NN($)&&ee.createElement("div",{ref:I,className:"swiper-scrollbar"}),AN($)&&ee.createElement("div",{ref:L,className:"swiper-pagination"}),D["container-end"]))});MN.displayName="Swiper";const td=we.forwardRef(function(n,e){let{tag:t="div",children:i,className:r="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...u}=n===void 0?{}:n;const d=we.useRef(null),[h,p]=we.useState("swiper-slide"),[g,m]=we.useState(!1);function T(N,M,L){M===d.current&&p(L)}$l(()=>{if(typeof c<"u"&&(d.current.swiperSlideIndex=c),e&&(e.current=d.current),!(!d.current||!s)){if(s.destroyed){h!=="swiper-slide"&&p("swiper-slide");return}return s.on("_slideClass",T),()=>{s&&s.off("_slideClass",T)}}}),$l(()=>{s&&d.current&&!s.destroyed&&p(s.getSlideClasses(d.current))},[s]);const w={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},b=()=>typeof i=="function"?i(w):i,v=()=>{m(!0)};return ee.createElement(t,oh({ref:d,className:kN("".concat(h).concat(r?" ".concat(r):"")),"data-swiper-slide-index":l,onLoad:v},u),o&&ee.createElement(rx.Provider,{value:w},ee.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},b(),a&&!g&&ee.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&ee.createElement(rx.Provider,{value:w},b(),a&&!g&&ee.createElement("div",{className:"swiper-lazy-preloader"})))});td.displayName="SwiperSlide";function IN(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(r=>{if(!t[r]&&t.auto===!0){let s=Zi(n.el,".".concat(i[r]))[0];s||(s=Bo("div",i[r]),s.className=i[r],n.el.append(s)),t[r]=s,e[r]=s}}),t}function t8(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;t({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};const s=m=>(Array.isArray(m)?m:[m]).filter(T=>!!T);function o(m){let T;return m&&typeof m=="string"&&e.isElement&&(T=e.el.querySelector(m),T)?T:(m&&(typeof m=="string"&&(T=[...document.querySelectorAll(m)]),e.params.uniqueNavElements&&typeof m=="string"&&T.length>1&&e.el.querySelectorAll(m).length===1&&(T=e.el.querySelector(m))),m&&!T?m:T)}function a(m,T){const w=e.params.navigation;m=s(m),m.forEach(b=>{b&&(b.classList[T?"add":"remove"](...w.disabledClass.split(" ")),b.tagName==="BUTTON"&&(b.disabled=T),e.params.watchOverflow&&e.enabled&&b.classList[e.isLocked?"add":"remove"](w.lockClass))})}function l(){const{nextEl:m,prevEl:T}=e.navigation;if(e.params.loop){a(T,!1),a(m,!1);return}a(T,e.isBeginning&&!e.params.rewind),a(m,e.isEnd&&!e.params.rewind)}function c(m){m.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),r("navigationPrev"))}function u(m){m.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),r("navigationNext"))}function d(){const m=e.params.navigation;if(e.params.navigation=IN(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(m.nextEl||m.prevEl))return;let T=o(m.nextEl),w=o(m.prevEl);Object.assign(e.navigation,{nextEl:T,prevEl:w}),T=s(T),w=s(w);const b=(v,N)=>{v&&v.addEventListener("click",N==="next"?u:c),!e.enabled&&v&&v.classList.add(...m.lockClass.split(" "))};T.forEach(v=>b(v,"next")),w.forEach(v=>b(v,"prev"))}function h(){let{nextEl:m,prevEl:T}=e.navigation;m=s(m),T=s(T);const w=(b,v)=>{b.removeEventListener("click",v==="next"?u:c),b.classList.remove(...e.params.navigation.disabledClass.split(" "))};m.forEach(b=>w(b,"next")),T.forEach(b=>w(b,"prev"))}i("init",()=>{e.params.navigation.enabled===!1?g():(d(),l())}),i("toEdge fromEdge lock unlock",()=>{l()}),i("destroy",()=>{h()}),i("enable disable",()=>{let{nextEl:m,prevEl:T}=e.navigation;if(m=s(m),T=s(T),e.enabled){l();return}[...m,...T].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),i("click",(m,T)=>{let{nextEl:w,prevEl:b}=e.navigation;w=s(w),b=s(b);const v=T.target;if(e.params.navigation.hideOnClick&&!b.includes(v)&&!w.includes(v)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===v||e.pagination.el.contains(v)))return;let N;w.length?N=w[0].classList.contains(e.params.navigation.hiddenClass):b.length&&(N=b[0].classList.contains(e.params.navigation.hiddenClass)),r(N===!0?"navigationShow":"navigationHide"),[...w,...b].filter(M=>!!M).forEach(M=>M.classList.toggle(e.params.navigation.hiddenClass))}});const p=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),d(),l()},g=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(e.navigation,{enable:p,disable:g,update:l,init:d,destroy:h})}function al(n){return n===void 0&&(n=""),".".concat(n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,"."))}function n8(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:b=>b,formatFractionTotal:b=>b,bulletClass:"".concat(s,"-bullet"),bulletActiveClass:"".concat(s,"-bullet-active"),modifierClass:"".concat(s,"-"),currentClass:"".concat(s,"-current"),totalClass:"".concat(s,"-total"),hiddenClass:"".concat(s,"-hidden"),progressbarFillClass:"".concat(s,"-progressbar-fill"),progressbarOppositeClass:"".concat(s,"-progressbar-opposite"),clickableClass:"".concat(s,"-clickable"),lockClass:"".concat(s,"-lock"),horizontalClass:"".concat(s,"-horizontal"),verticalClass:"".concat(s,"-vertical"),paginationDisabledClass:"".concat(s,"-disabled")}}),e.pagination={el:null,bullets:[]};let o,a=0;const l=b=>(Array.isArray(b)?b:[b]).filter(v=>!!v);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(b,v){const{bulletActiveClass:N}=e.params.pagination;b&&(b=b["".concat(v==="prev"?"previous":"next","ElementSibling")],b&&(b.classList.add("".concat(N,"-").concat(v)),b=b["".concat(v==="prev"?"previous":"next","ElementSibling")],b&&b.classList.add("".concat(N,"-").concat(v,"-").concat(v))))}function d(b){const v=b.target.closest(al(e.params.pagination.bulletClass));if(!v)return;b.preventDefault();const N=sh(v)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===N)return;const M=e.realIndex,L=e.getSlideIndexByData(N),I=e.getSlideIndexByData(e.realIndex),$=k=>{const H=e.activeIndex;e.loopFix({direction:k,activeSlideIndex:L,slideTo:!1});const A=e.activeIndex;H===A&&e.slideToLoop(M,0,!1,!0)};if(L>e.slides.length-e.loopedSlides)$(L>I?"next":"prev");else if(e.params.centeredSlides){const k=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(e.params.slidesPerView,10));L<Math.floor(k/2)&&$("prev")}e.slideToLoop(N)}else e.slideTo(N)}function h(){const b=e.rtl,v=e.params.pagination;if(c())return;let N=e.pagination.el;N=l(N);let M,L;const I=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,$=e.params.loop?Math.ceil(I/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(L=e.previousRealIndex||0,M=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(M=e.snapIndex,L=e.previousSnapIndex):(L=e.previousIndex||0,M=e.activeIndex||0),v.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const k=e.pagination.bullets;let H,A,F;if(v.dynamicBullets&&(o=Ag(k[0],e.isHorizontal()?"width":"height",!0),N.forEach(D=>{D.style[e.isHorizontal()?"width":"height"]="".concat(o*(v.dynamicMainBullets+4),"px")}),v.dynamicMainBullets>1&&L!==void 0&&(a+=M-(L||0),a>v.dynamicMainBullets-1?a=v.dynamicMainBullets-1:a<0&&(a=0)),H=Math.max(M-a,0),A=H+(Math.min(k.length,v.dynamicMainBullets)-1),F=(A+H)/2),k.forEach(D=>{const G=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(ne=>"".concat(v.bulletActiveClass).concat(ne))].map(ne=>typeof ne=="string"&&ne.includes(" ")?ne.split(" "):ne).flat();D.classList.remove(...G)}),N.length>1)k.forEach(D=>{const G=sh(D);G===M?D.classList.add(...v.bulletActiveClass.split(" ")):e.isElement&&D.setAttribute("part","bullet"),v.dynamicBullets&&(G>=H&&G<=A&&D.classList.add(..."".concat(v.bulletActiveClass,"-main").split(" ")),G===H&&u(D,"prev"),G===A&&u(D,"next"))});else{const D=k[M];if(D&&D.classList.add(...v.bulletActiveClass.split(" ")),e.isElement&&k.forEach((G,ne)=>{G.setAttribute("part",ne===M?"bullet-active":"bullet")}),v.dynamicBullets){const G=k[H],ne=k[A];for(let ue=H;ue<=A;ue+=1)k[ue]&&k[ue].classList.add(..."".concat(v.bulletActiveClass,"-main").split(" "));u(G,"prev"),u(ne,"next")}}if(v.dynamicBullets){const D=Math.min(k.length,v.dynamicMainBullets+4),G=(o*D-o)/2-F*o,ne=b?"right":"left";k.forEach(ue=>{ue.style[e.isHorizontal()?ne:"top"]="".concat(G,"px")})}}N.forEach((k,H)=>{if(v.type==="fraction"&&(k.querySelectorAll(al(v.currentClass)).forEach(A=>{A.textContent=v.formatFractionCurrent(M+1)}),k.querySelectorAll(al(v.totalClass)).forEach(A=>{A.textContent=v.formatFractionTotal($)})),v.type==="progressbar"){let A;v.progressbarOpposite?A=e.isHorizontal()?"vertical":"horizontal":A=e.isHorizontal()?"horizontal":"vertical";const F=(M+1)/$;let D=1,G=1;A==="horizontal"?D=F:G=F,k.querySelectorAll(al(v.progressbarFillClass)).forEach(ne=>{ne.style.transform="translate3d(0,0,0) scaleX(".concat(D,") scaleY(").concat(G,")"),ne.style.transitionDuration="".concat(e.params.speed,"ms")})}v.type==="custom"&&v.renderCustom?(k.innerHTML=v.renderCustom(e,M+1,$),H===0&&r("paginationRender",k)):(H===0&&r("paginationRender",k),r("paginationUpdate",k)),e.params.watchOverflow&&e.enabled&&k.classList[e.isLocked?"add":"remove"](v.lockClass)})}function p(){const b=e.params.pagination;if(c())return;const v=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let N=e.pagination.el;N=l(N);let M="";if(b.type==="bullets"){let L=e.params.loop?Math.ceil(v/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&L>v&&(L=v);for(let I=0;I<L;I+=1)b.renderBullet?M+=b.renderBullet.call(e,I,b.bulletClass):M+="<".concat(b.bulletElement," ").concat(e.isElement?'part="bullet"':"",' class="').concat(b.bulletClass,'"></').concat(b.bulletElement,">")}b.type==="fraction"&&(b.renderFraction?M=b.renderFraction.call(e,b.currentClass,b.totalClass):M='<span class="'.concat(b.currentClass,'"></span>')+" / "+'<span class="'.concat(b.totalClass,'"></span>')),b.type==="progressbar"&&(b.renderProgressbar?M=b.renderProgressbar.call(e,b.progressbarFillClass):M='<span class="'.concat(b.progressbarFillClass,'"></span>')),e.pagination.bullets=[],N.forEach(L=>{b.type!=="custom"&&(L.innerHTML=M||""),b.type==="bullets"&&e.pagination.bullets.push(...L.querySelectorAll(al(b.bulletClass)))}),b.type!=="custom"&&r("paginationRender",N[0])}function g(){e.params.pagination=IN(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const b=e.params.pagination;if(!b.el)return;let v;typeof b.el=="string"&&e.isElement&&(v=e.el.querySelector(b.el)),!v&&typeof b.el=="string"&&(v=[...document.querySelectorAll(b.el)]),v||(v=b.el),!(!v||v.length===0)&&(e.params.uniqueNavElements&&typeof b.el=="string"&&Array.isArray(v)&&v.length>1&&(v=[...e.el.querySelectorAll(b.el)],v.length>1&&(v=v.filter(N=>wN(N,".swiper")[0]===e.el)[0])),Array.isArray(v)&&v.length===1&&(v=v[0]),Object.assign(e.pagination,{el:v}),v=l(v),v.forEach(N=>{b.type==="bullets"&&b.clickable&&N.classList.add(...(b.clickableClass||"").split(" ")),N.classList.add(b.modifierClass+b.type),N.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.type==="bullets"&&b.dynamicBullets&&(N.classList.add("".concat(b.modifierClass).concat(b.type,"-dynamic")),a=0,b.dynamicMainBullets<1&&(b.dynamicMainBullets=1)),b.type==="progressbar"&&b.progressbarOpposite&&N.classList.add(b.progressbarOppositeClass),b.clickable&&N.addEventListener("click",d),e.enabled||N.classList.add(b.lockClass)}))}function m(){const b=e.params.pagination;if(c())return;let v=e.pagination.el;v&&(v=l(v),v.forEach(N=>{N.classList.remove(b.hiddenClass),N.classList.remove(b.modifierClass+b.type),N.classList.remove(e.isHorizontal()?b.horizontalClass:b.verticalClass),b.clickable&&(N.classList.remove(...(b.clickableClass||"").split(" ")),N.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(N=>N.classList.remove(...b.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const b=e.params.pagination;let{el:v}=e.pagination;v=l(v),v.forEach(N=>{N.classList.remove(b.horizontalClass,b.verticalClass),N.classList.add(e.isHorizontal()?b.horizontalClass:b.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?w():(g(),p(),h())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),i("snapIndexChange",()=>{h()}),i("snapGridLengthChange",()=>{p(),h()}),i("destroy",()=>{m()}),i("enable disable",()=>{let{el:b}=e.pagination;b&&(b=l(b),b.forEach(v=>v.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{h()}),i("click",(b,v)=>{const N=v.target,M=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&M&&M.length>0&&!N.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&N===e.navigation.nextEl||e.navigation.prevEl&&N===e.navigation.prevEl))return;const L=M[0].classList.contains(e.params.pagination.hiddenClass);r(L===!0?"paginationShow":"paginationHide"),M.forEach(I=>I.classList.toggle(e.params.pagination.hiddenClass))}});const T=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=l(b),b.forEach(v=>v.classList.remove(e.params.pagination.paginationDisabledClass))),g(),p(),h()},w=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:b}=e.pagination;b&&(b=l(b),b.forEach(v=>v.classList.add(e.params.pagination.paginationDisabledClass))),m()};Object.assign(e.pagination,{enable:T,disable:w,render:p,update:h,init:g,destroy:m})}function i8(n){const{effect:e,swiper:t,on:i,setTranslate:r,setTransition:s,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=n;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push("".concat(t.params.containerModifierClass).concat(e)),a&&a()&&t.classNames.push("".concat(t.params.containerModifierClass,"3d"));const d=o?o():{};Object.assign(t.params,d),Object.assign(t.originalParams,d)}),i("setTranslate",()=>{t.params.effect===e&&r()}),i("setTransition",(d,h)=>{t.params.effect===e&&s(h)}),i("transitionEnd",()=>{if(t.params.effect===e&&l){if(!c||!c().slideShadows)return;t.slides.forEach(d=>{d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>h.remove())}),l()}});let u;i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(u=!0),requestAnimationFrame(()=>{u&&t.slides&&t.slides.length&&(r(),u=!1)}))})}function r8(n){let{swiper:e,extendParams:t,on:i}=n;t({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(l,c,u)=>{let d=u?l.querySelector(".swiper-slide-shadow-left"):l.querySelector(".swiper-slide-shadow-top"),h=u?l.querySelector(".swiper-slide-shadow-right"):l.querySelector(".swiper-slide-shadow-bottom");d||(d=Bo("div","swiper-slide-shadow-cube swiper-slide-shadow-".concat(u?"left":"top").split(" ")),l.append(d)),h||(h=Bo("div","swiper-slide-shadow-cube swiper-slide-shadow-".concat(u?"right":"bottom").split(" ")),l.append(h)),d&&(d.style.opacity=Math.max(-c,0)),h&&(h.style.opacity=Math.max(c,0))};i8({effect:"cube",swiper:e,on:i,setTranslate:()=>{const{el:l,wrapperEl:c,slides:u,width:d,height:h,rtlTranslate:p,size:g,browser:m}=e,T=e.params.cubeEffect,w=e.isHorizontal(),b=e.virtual&&e.params.virtual.enabled;let v=0,N;T.shadow&&(w?(N=e.wrapperEl.querySelector(".swiper-cube-shadow"),N||(N=Bo("div","swiper-cube-shadow"),e.wrapperEl.append(N)),N.style.height="".concat(d,"px")):(N=l.querySelector(".swiper-cube-shadow"),N||(N=Bo("div","swiper-cube-shadow"),l.append(N))));for(let L=0;L<u.length;L+=1){const I=u[L];let $=L;b&&($=parseInt(I.getAttribute("data-swiper-slide-index"),10));let k=$*90,H=Math.floor(k/360);p&&(k=-k,H=Math.floor(-k/360));const A=Math.max(Math.min(I.progress,1),-1);let F=0,D=0,G=0;$%4===0?(F=-H*4*g,G=0):($-1)%4===0?(F=0,G=-H*4*g):($-2)%4===0?(F=g+H*4*g,G=g):($-3)%4===0&&(F=-g,G=3*g+g*4*H),p&&(F=-F),w||(D=F,F=0);const ne="rotateX(".concat(w?0:-k,"deg) rotateY(").concat(w?k:0,"deg) translate3d(").concat(F,"px, ").concat(D,"px, ").concat(G,"px)");A<=1&&A>-1&&(v=$*90+A*90,p&&(v=-$*90-A*90)),I.style.transform=ne,T.slideShadows&&r(I,A,w)}if(c.style.transformOrigin="50% 50% -".concat(g/2,"px"),c.style["-webkit-transform-origin"]="50% 50% -".concat(g/2,"px"),T.shadow)if(w)N.style.transform="translate3d(0px, ".concat(d/2+T.shadowOffset,"px, ").concat(-d/2,"px) rotateX(90deg) rotateZ(0deg) scale(").concat(T.shadowScale,")");else{const L=Math.abs(v)-Math.floor(Math.abs(v)/90)*90,I=1.5-(Math.sin(L*2*Math.PI/360)/2+Math.cos(L*2*Math.PI/360)/2),$=T.shadowScale,k=T.shadowScale/I,H=T.shadowOffset;N.style.transform="scale3d(".concat($,", 1, ").concat(k,") translate3d(0px, ").concat(h/2+H,"px, ").concat(-h/2/k,"px) rotateX(-90deg)")}const M=(m.isSafari||m.isWebView)&&m.needPerspectiveFix?-g/2:0;c.style.transform="translate3d(0px,0,".concat(M,"px) rotateX(").concat(e.isHorizontal()?0:v,"deg) rotateY(").concat(e.isHorizontal()?-v:0,"deg)"),c.style.setProperty("--swiper-cube-translate-z","".concat(M,"px"))},setTransition:l=>{const{el:c,slides:u}=e;if(u.forEach(d=>{d.style.transitionDuration="".concat(l,"ms"),d.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(h=>{h.style.transitionDuration="".concat(l,"ms")})}),e.params.cubeEffect.shadow&&!e.isHorizontal()){const d=c.querySelector(".swiper-cube-shadow");d&&(d.style.transitionDuration="".concat(l,"ms"))}},recreateShadows:()=>{const l=e.isHorizontal();e.slides.forEach(c=>{const u=Math.max(Math.min(c.progress,1),-1);r(c,u,l)})},getEffectParams:()=>e.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}const s8=()=>{const n=e8();return z.jsx("div",{className:"test",children:z.jsxs("div",{className:"swiper__container",children:[z.jsx("button",{className:"swiper__btn_left",onClick:()=>{n.slidePrev()},children:z.jsx(zn,{icon:BB,className:"swiper__icon_left"})}),z.jsx("button",{className:"swiper__btn_right",onClick:()=>{n.slideNext()},children:z.jsx(zn,{icon:FB,size:"large",className:"swiper__icon_right"})})]})})};const o8=Ea("CapacitorVideoPlayer",{web:()=>en(()=>import("./web-21c719a8.js"),[]).then(n=>new n.CapacitorVideoPlayerWeb)}),a8=({attachment:n})=>(we.useEffect(()=>{(async()=>{const t=n.path?n.path:n.temporary_url;console.log("url: ".concat(t));const i=await o8.initPlayer({mode:"fullscreen",url:t,playerId:"fullscreen",componentTag:"div"});console.log("init ".concat(JSON.stringify(i)))})()}),z.jsx("div",{id:"fullscreen",slot:"fixed"}));function l8({isOpen:n,setIsOpen:e}){const[t,i]=we.useState({temporary_url:"https://brenopolanski.github.io/html5-video-webvtt-example/MIB2.mp4"});return z.jsxs(ep,{children:[z.jsx(ps,{children:z.jsx(la,{children:z.jsx(tc,{children:"Inline Modal"})})}),z.jsx(aa,{className:"ion-padding",children:z.jsxs(nB,{isOpen:n,children:[z.jsx(ps,{children:z.jsxs(la,{children:[z.jsx(tc,{children:"Explanation"}),z.jsx(bc,{slot:"end",children:z.jsx(kn,{onClick:()=>e(!1),children:"Close"})})]})}),z.jsx(aa,{className:"ion-padding",children:z.jsx(a8,{attachment:t})})]})})]})}const c8=()=>{eo.getPlatform();const[n,e]=we.useState(!1);return z.jsxs(z.Fragment,{children:[z.jsxs("div",{children:[z.jsx(Kd,{children:z.jsx(qs,{children:z.jsxs(Ji,{class:"ion-no-padding",children:[z.jsx("p",{className:"track__exercises",children:"Biceps Curls"}),z.jsx("div",{className:"ion-text-uppercase",children:z.jsx("p",{className:"track__category",children:"Track: Upper Body"})})]})})}),z.jsxs(MN,{modules:[n8,t8,r8],slidesPerView:1,loop:!0,pagination:{clickable:!0},simulateTouch:!1,touchRatio:0,speed:800,observer:!0,observeParents:!0,observeSlideChildren:!0,className:"mySwiper",children:[z.jsx(td,{children:z.jsx(Tf,{src:"/assets/icons/step_000.jpg",alt:"img",className:"swiper__image"})}),z.jsx(td,{children:z.jsx(Tf,{src:"/assets/icons/step_015.jpg",alt:"img",className:"swiper__image"})}),z.jsx(td,{children:z.jsx(Tf,{src:"/assets/icons/step_030.jpg",alt:"img",className:"swiper__image"})}),z.jsx(s8,{})]}),z.jsx(Kd,{children:z.jsxs(qs,{children:[z.jsx(Ji,{children:z.jsx(kn,{expand:"full",onClick:()=>e(!0),children:"EXPLAIN"})}),z.jsx(Ji,{children:z.jsx(kn,{expand:"full",children:"MARK DOWN"})}),z.jsx(Ji,{children:z.jsx(kn,{expand:"full",children:"SKIP"})})]})})]}),n?z.jsx(l8,{isOpen:n,setIsOpen:e}):null]})},u8=()=>{const[n,e]=we.useState(!0),{timerInterval:t,timerStatus:i,timerKey:r,timerDuration:s,timerPausedTime:o,setTimerStatus:a,setTimerDuration:l,setTimerPausedTime:c,unsetTimer:u}=rc(),d=()=>{a("pause"),c(),Nz()},h=()=>{o?(l(o),ZE(o)):(l(t*1e3),ZE(t*1e3)),a("running")};return z.jsxs(z.Fragment,{children:[z.jsx(gN,{}),z.jsxs(ep,{id:"main-content",children:[z.jsx(ps,{children:z.jsx(ps,{children:z.jsxs(la,{color:"warning",children:[z.jsx(bc,{slot:"start",children:z.jsx(kC,{})}),z.jsx(tc,{children:"Timer"})]})})}),z.jsx(aa,{children:n?z.jsx(c8,{}):z.jsxs(Kd,{children:[z.jsx(qs,{children:z.jsx(Ji,{className:"timer-content",children:z.jsx(Sz,{timerKey:r,timerInterval:t,timerDuration:o?Date.now()+o:s,timerActive:i==="running",unsetTimer:u})})}),z.jsxs(qs,{className:"ion-text-center",children:[z.jsx(Ji,{children:z.jsx(Cz,{timerHandler:i==="running"?d:h,timerStatus:i})}),z.jsx(Ji,{children:z.jsx(Az,{unsetTimer:u,timerStatus:i})})]})]})}),z.jsx(yN,{})]})]})};function ON(n,e){return function(){return n.apply(e,arguments)}}const{toString:d8}=Object.prototype,{getPrototypeOf:Pb}=Object,mp=(n=>e=>{const t=d8.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),sr=n=>(n=n.toLowerCase(),e=>mp(e)===n),gp=n=>e=>typeof e===n,{isArray:Pa}=Array,sc=gp("undefined");function h8(n){return n!==null&&!sc(n)&&n.constructor!==null&&!sc(n.constructor)&&fi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const _N=sr("ArrayBuffer");function p8(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&_N(n.buffer),e}const f8=gp("string"),fi=gp("function"),DN=gp("number"),yp=n=>n!==null&&typeof n=="object",m8=n=>n===!0||n===!1,nd=n=>{if(mp(n)!=="object")return!1;const e=Pb(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},g8=sr("Date"),y8=sr("File"),b8=sr("Blob"),v8=sr("FileList"),w8=n=>yp(n)&&fi(n.pipe),E8=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||fi(n.append)&&((e=mp(n))==="formdata"||e==="object"&&fi(n.toString)&&n.toString()==="[object FormData]"))},x8=sr("URLSearchParams"),T8=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Rc(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),Pa(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,n[a],a,n)}}function LN(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const qN=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),BN=n=>!sc(n)&&n!==qN;function Rg(){const{caseless:n}=BN(this)&&this||{},e={},t=(i,r)=>{const s=n&&LN(e,r)||r;nd(e[s])&&nd(i)?e[s]=Rg(e[s],i):nd(i)?e[s]=Rg({},i):Pa(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&Rc(arguments[i],t);return e}const S8=(n,e,t,{allOwnKeys:i}={})=>(Rc(e,(r,s)=>{t&&fi(r)?n[s]=ON(r,t):n[s]=r},{allOwnKeys:i}),n),C8=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),A8=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},N8=(n,e,t,i)=>{let r,s,o;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&Pb(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},k8=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},R8=n=>{if(!n)return null;if(Pa(n))return n;let e=n.length;if(!DN(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},P8=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Pb(Uint8Array)),$8=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},M8=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},I8=sr("HTMLFormElement"),O8=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),sx=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),_8=sr("RegExp"),FN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Rc(t,(r,s)=>{let o;(o=e(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},D8=n=>{FN(n,(e,t)=>{if(fi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(fi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},L8=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return Pa(n)?i(n):i(String(n).split(e)),t},q8=()=>{},B8=(n,e)=>(n=+n,Number.isFinite(n)?n:e),Yf="abcdefghijklmnopqrstuvwxyz",ox="0123456789",UN={DIGIT:ox,ALPHA:Yf,ALPHA_DIGIT:Yf+Yf.toUpperCase()+ox},F8=(n=16,e=UN.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function U8(n){return!!(n&&fi(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const j8=n=>{const e=new Array(10),t=(i,r)=>{if(yp(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=Pa(i)?[]:{};return Rc(i,(o,a)=>{const l=t(o,r+1);!sc(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return t(n,0)},z8=sr("AsyncFunction"),V8=n=>n&&(yp(n)||fi(n))&&fi(n.then)&&fi(n.catch),oe={isArray:Pa,isArrayBuffer:_N,isBuffer:h8,isFormData:E8,isArrayBufferView:p8,isString:f8,isNumber:DN,isBoolean:m8,isObject:yp,isPlainObject:nd,isUndefined:sc,isDate:g8,isFile:y8,isBlob:b8,isRegExp:_8,isFunction:fi,isStream:w8,isURLSearchParams:x8,isTypedArray:P8,isFileList:v8,forEach:Rc,merge:Rg,extend:S8,trim:T8,stripBOM:C8,inherits:A8,toFlatObject:N8,kindOf:mp,kindOfTest:sr,endsWith:k8,toArray:R8,forEachEntry:$8,matchAll:M8,isHTMLForm:I8,hasOwnProperty:sx,hasOwnProp:sx,reduceDescriptors:FN,freezeMethods:D8,toObjectSet:L8,toCamelCase:O8,noop:q8,toFiniteNumber:B8,findKey:LN,global:qN,isContextDefined:BN,ALPHABET:UN,generateString:F8,isSpecCompliantForm:U8,toJSONObject:j8,isAsyncFn:z8,isThenable:V8};function Qe(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r)}oe.inherits(Qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const jN=Qe.prototype,zN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{zN[n]={value:n}});Object.defineProperties(Qe,zN);Object.defineProperty(jN,"isAxiosError",{value:!0});Qe.from=(n,e,t,i,r,s)=>{const o=Object.create(jN);return oe.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Qe.call(o,n.message,e,t,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const H8=null;function Pg(n){return oe.isPlainObject(n)||oe.isArray(n)}function VN(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function ax(n,e,t){return n?n.concat(e).map(function(r,s){return r=VN(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function W8(n){return oe.isArray(n)&&!n.some(Pg)}const Q8=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function bp(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,T){return!oe.isUndefined(T[m])});const i=t.metaTokens,r=t.visitor||u,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(r))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(oe.isDate(g))return g.toISOString();if(!l&&oe.isBlob(g))throw new Qe("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(g)||oe.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,m,T){let w=g;if(g&&!T&&typeof g=="object"){if(oe.endsWith(m,"{}"))m=i?m:m.slice(0,-2),g=JSON.stringify(g);else if(oe.isArray(g)&&W8(g)||(oe.isFileList(g)||oe.endsWith(m,"[]"))&&(w=oe.toArray(g)))return m=VN(m),w.forEach(function(v,N){!(oe.isUndefined(v)||v===null)&&e.append(o===!0?ax([m],N,s):o===null?m:m+"[]",c(v))}),!1}return Pg(g)?!0:(e.append(ax(T,m,s),c(g)),!1)}const d=[],h=Object.assign(Q8,{defaultVisitor:u,convertValue:c,isVisitable:Pg});function p(g,m){if(!oe.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+m.join("."));d.push(g),oe.forEach(g,function(w,b){(!(oe.isUndefined(w)||w===null)&&r.call(e,w,oe.isString(b)?b.trim():b,m,h))===!0&&p(w,m?m.concat(b):[b])}),d.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return p(n),e}function lx(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function $b(n,e){this._pairs=[],n&&bp(n,this,e)}const HN=$b.prototype;HN.append=function(e,t){this._pairs.push([e,t])};HN.toString=function(e){const t=e?function(i){return e.call(this,i,lx)}:lx;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function G8(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function WN(n,e,t){if(!e)return n;const i=t&&t.encode||G8,r=t&&t.serialize;let s;if(r?s=r(e,t):s=oe.isURLSearchParams(e)?e.toString():new $b(e,t).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class K8{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(i){i!==null&&e(i)})}}const cx=K8,QN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y8=typeof URLSearchParams<"u"?URLSearchParams:$b,J8=typeof FormData<"u"?FormData:null,X8=typeof Blob<"u"?Blob:null,Z8=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),eV=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ii={isBrowser:!0,classes:{URLSearchParams:Y8,FormData:J8,Blob:X8},isStandardBrowserEnv:Z8,isStandardBrowserWebWorkerEnv:eV,protocols:["http","https","file","blob","url","data"]};function tV(n,e){return bp(n,new Ii.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,s){return Ii.isNode&&oe.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function nV(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iV(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function GN(n){function e(t,i,r,s){let o=t[s++];const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&oe.isArray(r)?r.length:o,l?(oe.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!oe.isObject(r[o]))&&(r[o]=[]),e(t,i,r[o],s)&&oe.isArray(r[o])&&(r[o]=iV(r[o])),!a)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(i,r)=>{e(nV(i),r,t,0)}),t}return null}function rV(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Mb={transitional:QN,adapter:Ii.isNode?"http":"xhr",transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return r&&r?JSON.stringify(GN(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return tV(e,this.formSerializer).toString();if((a=oe.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return bp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),rV(e)):e}],transformResponse:[function(e){const t=this.transitional||Mb.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(e&&oe.isString(e)&&(i&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Qe.from(a,Qe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ii.classes.FormData,Blob:Ii.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{Mb.headers[n]={}});const Ib=Mb,sV=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),oV=n=>{const e={};let t,i,r;return n&&n.split("\n").forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!t||e[t]&&sV[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},ux=Symbol("internals");function ll(n){return n&&String(n).trim().toLowerCase()}function id(n){return n===!1||n==null?n:oe.isArray(n)?n.map(id):String(n)}function aV(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const lV=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Jf(n,e,t,i,r){if(oe.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!oe.isString(e)){if(oe.isString(i))return e.indexOf(i)!==-1;if(oe.isRegExp(i))return i.test(e)}}function cV(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function uV(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class vp{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(a,l,c){const u=ll(l);if(!u)throw new Error("header name must be a non-empty string");const d=oe.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=id(a))}const o=(a,l)=>oe.forEach(a,(c,u)=>s(c,u,l));return oe.isPlainObject(e)||e instanceof this.constructor?o(e,t):oe.isString(e)&&(e=e.trim())&&!lV(e)?o(oV(e),t):e!=null&&s(t,e,i),this}get(e,t){if(e=ll(e),e){const i=oe.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return aV(r);if(oe.isFunction(t))return t.call(this,r,i);if(oe.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ll(e),e){const i=oe.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Jf(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(o){if(o=ll(o),o){const a=oe.findKey(i,o);a&&(!t||Jf(i,i[a],a,t))&&(delete i[a],r=!0)}}return oe.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||Jf(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return oe.forEach(this,(r,s)=>{const o=oe.findKey(i,s);if(o){t[o]=id(r),delete t[s];return}const a=e?cV(s):String(s).trim();a!==s&&delete t[s],t[a]=id(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&oe.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[ux]=this[ux]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=ll(o);i[a]||(uV(r,o),i[a]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}}vp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(vp.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});oe.freezeMethods(vp);const Sr=vp;function Xf(n,e){const t=this||Ib,i=e||t,r=Sr.from(i.headers);let s=i.data;return oe.forEach(n,function(a){s=a.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function KN(n){return!!(n&&n.__CANCEL__)}function Pc(n,e,t){Qe.call(this,n==null?"canceled":n,Qe.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(Pc,Qe,{__CANCEL__:!0});function dV(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Qe("Request failed with status code "+t.status,[Qe.ERR_BAD_REQUEST,Qe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const hV=Ii.isStandardBrowserEnv?function(){return{write:function(t,i,r,s,o,a){const l=[];l.push(t+"="+encodeURIComponent(i)),oe.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),oe.isString(s)&&l.push("path="+s),oe.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function pV(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function fV(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function YN(n,e){return n&&!pV(e)?fV(n,e):e}const mV=Ii.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function r(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=r(window.location.href),function(o){const a=oe.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function gV(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function yV(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),t[r]=l,i[r]=c;let d=s,h=0;for(;d!==r;)h+=t[d++],d=d%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),c-o<e)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function dx(n,e){let t=0;const i=yV(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-t,l=i(a),c=s<=o;t=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:r};u[e?"download":"upload"]=!0,n(u)}}const bV=typeof XMLHttpRequest<"u",vV=bV&&function(n){return new Promise(function(t,i){let r=n.data;const s=Sr.from(n.headers).normalize(),o=n.responseType;let a;function l(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}oe.isFormData(r)&&(Ii.isStandardBrowserEnv||Ii.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(n.auth){const p=n.auth.username||"",g=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+g))}const u=YN(n.baseURL,n.url);c.open(n.method.toUpperCase(),WN(u,n.params,n.paramsSerializer),!0),c.timeout=n.timeout;function d(){if(!c)return;const p=Sr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),m={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:n,request:c};dV(function(w){t(w),l()},function(w){i(w),l()},m),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(i(new Qe("Request aborted",Qe.ECONNABORTED,n,c)),c=null)},c.onerror=function(){i(new Qe("Network Error",Qe.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let g=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const m=n.transitional||QN;n.timeoutErrorMessage&&(g=n.timeoutErrorMessage),i(new Qe(g,m.clarifyTimeoutError?Qe.ETIMEDOUT:Qe.ECONNABORTED,n,c)),c=null},Ii.isStandardBrowserEnv){const p=(n.withCredentials||mV(u))&&n.xsrfCookieName&&hV.read(n.xsrfCookieName);p&&s.set(n.xsrfHeaderName,p)}r===void 0&&s.setContentType(null),"setRequestHeader"in c&&oe.forEach(s.toJSON(),function(g,m){c.setRequestHeader(m,g)}),oe.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),o&&o!=="json"&&(c.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&c.addEventListener("progress",dx(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",dx(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=p=>{c&&(i(!p||p.type?new Pc(null,n,c):p),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const h=gV(u);if(h&&Ii.protocols.indexOf(h)===-1){i(new Qe("Unsupported protocol "+h+":",Qe.ERR_BAD_REQUEST,n));return}c.send(r||null)})},rd={http:H8,xhr:vV};oe.forEach(rd,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch(t){}Object.defineProperty(n,"adapterName",{value:e})}});const JN={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:e}=n;let t,i;for(let r=0;r<e&&(t=n[r],!(i=oe.isString(t)?rd[t.toLowerCase()]:t));r++);if(!i)throw i===!1?new Qe("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT"):new Error(oe.hasOwnProp(rd,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"));if(!oe.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:rd};function Zf(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Pc(null,n)}function hx(n){return Zf(n),n.headers=Sr.from(n.headers),n.data=Xf.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),JN.getAdapter(n.adapter||Ib.adapter)(n).then(function(i){return Zf(n),i.data=Xf.call(n,n.transformResponse,i),i.headers=Sr.from(i.headers),i},function(i){return KN(i)||(Zf(n),i&&i.response&&(i.response.data=Xf.call(n,n.transformResponse,i.response),i.response.headers=Sr.from(i.response.headers))),Promise.reject(i)})}const px=n=>n instanceof Sr?n.toJSON():n;function pa(n,e){e=e||{};const t={};function i(c,u,d){return oe.isPlainObject(c)&&oe.isPlainObject(u)?oe.merge.call({caseless:d},c,u):oe.isPlainObject(u)?oe.merge({},u):oe.isArray(u)?u.slice():u}function r(c,u,d){if(oe.isUndefined(u)){if(!oe.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function s(c,u){if(!oe.isUndefined(u))return i(void 0,u)}function o(c,u){if(oe.isUndefined(u)){if(!oe.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in n)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>r(px(c),px(u),!0)};return oe.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||r,h=d(n[u],e[u],u);oe.isUndefined(h)&&d!==a||(t[u]=h)}),t}const XN="1.5.0",Ob={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ob[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const fx={};Ob.transitional=function(e,t,i){function r(s,o){return"[Axios v"+XN+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new Qe(r(o," has been removed"+(t?" in "+t:"")),Qe.ERR_DEPRECATED);return t&&!fx[o]&&(fx[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function wV(n,e,t){if(typeof n!="object")throw new Qe("options must be an object",Qe.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new Qe("option "+s+" must be "+l,Qe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Qe("Unknown option "+s,Qe.ERR_BAD_OPTION)}}const $g={assertOptions:wV,validators:Ob},jr=$g.validators;class ah{constructor(e){this.defaults=e,this.interceptors={request:new cx,response:new cx}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=pa(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&$g.assertOptions(i,{silentJSONParsing:jr.transitional(jr.boolean),forcedJSONParsing:jr.transitional(jr.boolean),clarifyTimeoutError:jr.transitional(jr.boolean)},!1),r!=null&&(oe.isFunction(r)?t.paramsSerializer={serialize:r}:$g.assertOptions(r,{encode:jr.function,serialize:jr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&oe.merge(s.common,s[t.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),t.headers=Sr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(t)===!1||(l=l&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const c=[];this.interceptors.response.forEach(function(m){c.push(m.fulfilled,m.rejected)});let u,d=0,h;if(!l){const g=[hx.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),h=g.length,u=Promise.resolve(t);d<h;)u=u.then(g[d++],g[d++]);return u}h=a.length;let p=t;for(d=0;d<h;){const g=a[d++],m=a[d++];try{p=g(p)}catch(T){m.call(this,T);break}}try{u=hx.call(this,p)}catch(g){return Promise.reject(g)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=pa(this.defaults,e);const t=YN(e.baseURL,e.url);return WN(t,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(e){ah.prototype[e]=function(t,i){return this.request(pa(i||{},{method:e,url:t,data:(i||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(pa(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}ah.prototype[e]=t(),ah.prototype[e+"Form"]=t(!0)});const sd=ah;class _b{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new Pc(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new _b(function(r){e=r}),cancel:e}}}const EV=_b;function xV(n){return function(t){return n.apply(null,t)}}function TV(n){return oe.isObject(n)&&n.isAxiosError===!0}const Mg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mg).forEach(([n,e])=>{Mg[e]=n});const SV=Mg;function ZN(n){const e=new sd(n),t=ON(sd.prototype.request,e);return oe.extend(t,sd.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return ZN(pa(n,r))},t}const Dt=ZN(Ib);Dt.Axios=sd;Dt.CanceledError=Pc;Dt.CancelToken=EV;Dt.isCancel=KN;Dt.VERSION=XN;Dt.toFormData=bp;Dt.AxiosError=Qe;Dt.Cancel=Dt.CanceledError;Dt.all=function(e){return Promise.all(e)};Dt.spread=xV;Dt.isAxiosError=TV;Dt.mergeConfig=pa;Dt.AxiosHeaders=Sr;Dt.formToJSON=n=>GN(oe.isHTMLForm(n)?new FormData(n):n);Dt.getAdapter=JN.getAdapter;Dt.HttpStatusCode=SV;Dt.default=Dt;const CV=Dt,AV=()=>{const[n,e]=we.useState(!1),[t,i]=we.useState(""),[r,s]=we.useState(),o=(c,u)=>{i(c),s(()=>u),e(!0)},a=()=>{r&&r(),e(!1)},l=()=>{e(!1)};return{showConfirmationAlert:o,ConfirmationAlert:z.jsx($C,{isOpen:n,message:t,buttons:[{text:"Cancel",role:"cancel",handler:l},{text:"Confirm",handler:a}]})}};var oc;(function(n){n.Documents="DOCUMENTS",n.Data="DATA",n.Library="LIBRARY",n.Cache="CACHE",n.External="EXTERNAL",n.ExternalStorage="EXTERNAL_STORAGE"})(oc||(oc={}));var mx;(function(n){n.UTF8="utf8",n.ASCII="ascii",n.UTF16="utf16"})(mx||(mx={}));const Db=Ea("Filesystem",{web:()=>en(()=>import("./web-c70fbe56.js"),[]).then(n=>new n.FilesystemWeb)});async function NV(n){const e=await fetch(n).then(t=>t.blob());return new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onerror=i,r.onload=()=>{typeof r.result=="string"?t(r.result):i("base64 format isn't string")}})}const kV=async(n,e)=>{try{const t=await NV(n),i=await Db.writeFile({path:"".concat(e),data:t,directory:oc.Data});return Zq("hybrid")?(console.log("Base64 file for hybrid platform"),{filePath:i.uri,webviewPath:eo.convertFileSrc(i.uri)}):(console.log("Base64 file for web platform"),{filePath:e,webviewPath:"".concat(e)})}catch(t){console.log("Error with writing base64 file ",t)}},RV=async n=>{try{const e=await Db.readFile({path:n,directory:oc.Data});return console.log("*********** read"),e.data}catch(e){return console.error("Error with reading",e),null}},PV=async n=>{try{await Db.deleteFile({path:n,directory:oc.Data}),console.log("Track was removed successfully")}catch(e){console.log("Error with removing track ",e)}},$V=()=>{const n="track.mp4",e="/assets/icons/Step_jacks_wo_bounce0030-0150.mp4",[t,i]=we.useState();we.useEffect(()=>{},[]);const r=()=>RV(n).then(m=>i(m)),[s,o]=we.useState("");we.useState();const{showConfirmationAlert:a,ConfirmationAlert:l}=AV(),[c,u]=we.useState();we.useEffect(()=>{d()},[]);const d=async()=>{var w;const m=(w=Bs.connection)==null?void 0:w.getRepository(Tr),T=await(m==null?void 0:m.find({}));u(T)},h=e,p=async()=>{var b;const m=await CV.request({url:h,method:"get",responseType:"arraybuffer"}),T=(b=Bs.connection)==null?void 0:b.getRepository(Tr);await(T==null?void 0:T.save({id:Date.now().toString(),isActive:!0,isActive2:!1,name:s,jsonTest:JSON.stringify({id:Math.random(),nest:{nested:!0}}),file:Buffer.from(m.data).toString("base64")}));const w=await(T==null?void 0:T.find({}));u(w)},g=async m=>{var T;try{const w=(T=Bs.connection)==null?void 0:T.getRepository(Tr);if(w){const v=await w.findOne({where:{id:m}});v?await w.remove(v):console.log("can't rename input:",v.id)}else console.log("Connection to DB is absent");const b=await(w==null?void 0:w.find({}));u(b)}catch(w){alert(w.message)}};return z.jsxs(z.Fragment,{children:[z.jsx(gN,{}),z.jsxs(ep,{id:"main-content",children:[z.jsx(ps,{children:z.jsx(ps,{children:z.jsxs(la,{color:"warning",children:[z.jsx(bc,{slot:"start",children:z.jsx(kC,{})}),z.jsx(tc,{children:"Home"})]})})}),z.jsxs(aa,{fullscreen:!0,className:"ion-padding",children:[z.jsx(Gr,{children:z.jsx("iframe",{width:"560",height:"315",src:"data:video/mp4;base64, "+t,title:"TestFitRem",allowFullScreen:!0})}),z.jsxs(Gr,{children:[z.jsx(Gq,{type:"text",value:s,onIonInput:m=>o(m.target.value)}),z.jsx(kn,{slot:"end",onClick:p,disabled:s.trim()==="",children:"ADD"}),z.jsx(kn,{slot:"end",onClick:()=>kV(e,n),children:"ADD TRACK"}),z.jsx(kn,{slot:"end",onClick:()=>PV(n),children:"DELETE"}),z.jsx(kn,{slot:"end",onClick:r,children:"READ"})]}),z.jsx("h3",{children:"THE SQLITE DATA"}),c==null?void 0:c.map(m=>z.jsxs(Gr,{children:[z.jsx("iframe",{width:"300",height:"315",src:"data:video/mp4;base64, "+m.file,title:"TestFitRem",allowFullScreen:!0}),z.jsx(kn,{onClick:()=>g(m==null?void 0:m.id),children:"DELETE"})]},m==null?void 0:m.id)),l]}),z.jsx(yN,{})]})]})};NB();const MV=()=>{const{rehydrated:n}=rc();return z.jsx(uB,{children:n?z.jsx(qB,{children:z.jsxs(bB,{children:[z.jsx(pl,{exact:!0,path:"/home",children:z.jsx($V,{})}),z.jsx(pl,{exact:!0,path:"/timer",children:z.jsx(u8,{})}),z.jsx(pl,{exact:!0,path:"/timer-configuration",children:z.jsx(EU,{})}),z.jsx(pl,{exact:!0,path:"/",children:z.jsx(uM,{to:"/home"})})]})}):z.jsx(Xq,{className:"spinner"})})};window.addEventListener("DOMContentLoaded",async()=>{try{const n=document.getElementById("root");R1(n).render(z.jsx(MV,{}))}catch(n){console.log(n)}});window.Buffer=fb.Buffer;export{mx as E,YS as K,jC as W,OV as __vite_legacy_guard,Nn as a,Ks as b,Wh as c,Qo as d,cI as e,GS as f,uI as g,sg as h,Gu as i,Ft as j,iw as k,KV as l,fs as m,_V as n,Xb as o,DV as p,Le as q,Yl as r,GV as s,LV as t,q3 as u,yi as w};
