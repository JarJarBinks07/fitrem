var HN=Object.defineProperty;var WN=(n,e,t)=>e in n?HN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var lr=(n,e,t)=>(WN(n,typeof e!="symbol"?e+"":e,t),t);function I8(){import.meta.url,import("_").catch(()=>1);async function*n(){}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var kb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function us(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function QN(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var QE={exports:{}},Vd={},GE={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),GN=Symbol.for("react.portal"),KN=Symbol.for("react.fragment"),YN=Symbol.for("react.strict_mode"),JN=Symbol.for("react.profiler"),XN=Symbol.for("react.provider"),ZN=Symbol.for("react.context"),ek=Symbol.for("react.forward_ref"),tk=Symbol.for("react.suspense"),nk=Symbol.for("react.memo"),ik=Symbol.for("react.lazy"),Rb=Symbol.iterator;function rk(n){return n===null||typeof n!="object"?null:(n=Rb&&n[Rb]||n["@@iterator"],typeof n=="function"?n:null)}var KE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YE=Object.assign,JE={};function ra(n,e,t){this.props=n,this.context=e,this.refs=JE,this.updater=t||KE}ra.prototype.isReactComponent={};ra.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ra.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function XE(){}XE.prototype=ra.prototype;function fg(n,e,t){this.props=n,this.context=e,this.refs=JE,this.updater=t||KE}var pg=fg.prototype=new XE;pg.constructor=fg;YE(pg,ra.prototype);pg.isPureReactComponent=!0;var Pb=Array.isArray,ZE=Object.prototype.hasOwnProperty,mg={current:null},ex={key:!0,ref:!0,__self:!0,__source:!0};function tx(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ZE.call(e,i)&&!ex.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Wl,type:n,key:s,ref:o,props:r,_owner:mg.current}}function sk(n,e){return{$$typeof:Wl,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function gg(n){return typeof n=="object"&&n!==null&&n.$$typeof===Wl}function ok(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var $b=/\/+/g;function gf(n,e){return typeof n=="object"&&n!==null&&n.key!=null?ok(""+n.key):e.toString(36)}function Eu(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Wl:case GN:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+gf(o,0):i,Pb(r)?(t="",n!=null&&(t=n.replace($b,"$&/")+"/"),Eu(r,e,t,"",function(c){return c})):r!=null&&(gg(r)&&(r=sk(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace($b,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",Pb(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+gf(s,a);o+=Eu(s,e,t,l,r)}else if(l=rk(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+gf(s,a++),o+=Eu(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ic(n,e,t){if(n==null)return n;var i=[],r=0;return Eu(n,i,"","",function(s){return e.call(t,s,r++)}),i}function ak(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var En={current:null},xu={transition:null},lk={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:xu,ReactCurrentOwner:mg};Fe.Children={map:Ic,forEach:function(n,e,t){Ic(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Ic(n,function(){e++}),e},toArray:function(n){return Ic(n,function(e){return e})||[]},only:function(n){if(!gg(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Fe.Component=ra;Fe.Fragment=KN;Fe.Profiler=JN;Fe.PureComponent=fg;Fe.StrictMode=YN;Fe.Suspense=tk;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lk;Fe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=YE({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=mg.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)ZE.call(e,l)&&!ex.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Wl,type:n.type,key:r,ref:s,props:i,_owner:o}};Fe.createContext=function(n){return n={$$typeof:ZN,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:XN,_context:n},n.Consumer=n};Fe.createElement=tx;Fe.createFactory=function(n){var e=tx.bind(null,n);return e.type=n,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(n){return{$$typeof:ek,render:n}};Fe.isValidElement=gg;Fe.lazy=function(n){return{$$typeof:ik,_payload:{_status:-1,_result:n},_init:ak}};Fe.memo=function(n,e){return{$$typeof:nk,type:n,compare:e===void 0?null:e}};Fe.startTransition=function(n){var e=xu.transition;xu.transition={};try{n()}finally{xu.transition=e}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(n,e){return En.current.useCallback(n,e)};Fe.useContext=function(n){return En.current.useContext(n)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(n){return En.current.useDeferredValue(n)};Fe.useEffect=function(n,e){return En.current.useEffect(n,e)};Fe.useId=function(){return En.current.useId()};Fe.useImperativeHandle=function(n,e,t){return En.current.useImperativeHandle(n,e,t)};Fe.useInsertionEffect=function(n,e){return En.current.useInsertionEffect(n,e)};Fe.useLayoutEffect=function(n,e){return En.current.useLayoutEffect(n,e)};Fe.useMemo=function(n,e){return En.current.useMemo(n,e)};Fe.useReducer=function(n,e,t){return En.current.useReducer(n,e,t)};Fe.useRef=function(n){return En.current.useRef(n)};Fe.useState=function(n){return En.current.useState(n)};Fe.useSyncExternalStore=function(n,e,t){return En.current.useSyncExternalStore(n,e,t)};Fe.useTransition=function(){return En.current.useTransition()};Fe.version="18.2.0";GE.exports=Fe;var Ee=GE.exports;const Z=us(Ee);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ck=Ee,uk=Symbol.for("react.element"),dk=Symbol.for("react.fragment"),hk=Object.prototype.hasOwnProperty,fk=ck.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pk={key:!0,ref:!0,__self:!0,__source:!0};function nx(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)hk.call(e,i)&&!pk.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:uk,type:n,key:s,ref:o,props:r,_owner:fk.current}}Vd.Fragment=dk;Vd.jsx=nx;Vd.jsxs=nx;QE.exports=Vd;var Y=QE.exports;/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Mb;(function(n){(function(e){var t=typeof kb=="object"?kb:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),i=r(n);typeof t.Reflect>"u"?t.Reflect=n:i=r(t.Reflect,i),e(i);function r(s,o){return function(a,l){typeof s[a]!="function"&&Object.defineProperty(s,a,{configurable:!0,writable:!0,value:l}),o&&o(a,l)}}})(function(e){var t=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",r=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",a={__proto__:[]}instanceof Array,l=!o&&!a,c={create:o?function(){return On(Object.create(null))}:a?function(){return On({__proto__:null})}:function(){return On({})},has:l?function(W,ie){return t.call(W,ie)}:function(W,ie){return ie in W},get:l?function(W,ie){return t.call(W,ie)?W[ie]:void 0}:function(W,ie){return W[ie]}},u=Object.getPrototypeOf(Function),d=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",h=!d&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Fi(),f=!d&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:jt(),g=!d&&typeof WeakMap=="function"?WeakMap:Rt(),b=new g;function C(W,ie,ue,S){if(X(ue)){if(!mn(W))throw new TypeError;if(!Dt(ie))throw new TypeError;return H(W,ie)}else{if(!mn(W))throw new TypeError;if(!Te(ie))throw new TypeError;if(!Te(S)&&!X(S)&&!le(S))throw new TypeError;return le(S)&&(S=void 0),ue=wt(ue),A(W,ie,ue,S)}}e("decorate",C);function x(W,ie){function ue(S,m){if(!Te(S))throw new TypeError;if(!X(m)&&!In(m))throw new TypeError;ce(W,ie,S,m)}return ue}e("metadata",x);function y(W,ie,ue,S){if(!Te(ue))throw new TypeError;return X(S)||(S=wt(S)),ce(W,ie,ue,S)}e("defineMetadata",y);function E(W,ie,ue){if(!Te(ie))throw new TypeError;return X(ue)||(ue=wt(ue)),D(W,ie,ue)}e("hasMetadata",E);function N(W,ie,ue){if(!Te(ie))throw new TypeError;return X(ue)||(ue=wt(ue)),K(W,ie,ue)}e("hasOwnMetadata",N);function I(W,ie,ue){if(!Te(ie))throw new TypeError;return X(ue)||(ue=wt(ue)),re(W,ie,ue)}e("getMetadata",I);function B(W,ie,ue){if(!Te(ie))throw new TypeError;return X(ue)||(ue=wt(ue)),he(W,ie,ue)}e("getOwnMetadata",B);function O(W,ie){if(!Te(W))throw new TypeError;return X(ie)||(ie=wt(ie)),te(W,ie)}e("getMetadataKeys",O);function $(W,ie){if(!Te(W))throw new TypeError;return X(ie)||(ie=wt(ie)),ee(W,ie)}e("getOwnMetadataKeys",$);function R(W,ie,ue){if(!Te(ie))throw new TypeError;X(ue)||(ue=wt(ue));var S=U(ie,ue,!1);if(X(S)||!S.delete(W))return!1;if(S.size>0)return!0;var m=b.get(ie);return m.delete(ue),m.size>0||b.delete(ie),!0}e("deleteMetadata",R);function H(W,ie){for(var ue=W.length-1;ue>=0;--ue){var S=W[ue],m=S(ie);if(!X(m)&&!le(m)){if(!Dt(m))throw new TypeError;ie=m}}return ie}function A(W,ie,ue,S){for(var m=W.length-1;m>=0;--m){var w=W[m],k=w(ie,ue,S);if(!X(k)&&!le(k)){if(!Te(k))throw new TypeError;S=k}}return S}function U(W,ie,ue){var S=b.get(W);if(X(S)){if(!ue)return;S=new h,b.set(W,S)}var m=S.get(ie);if(X(m)){if(!ue)return;m=new h,S.set(ie,m)}return m}function D(W,ie,ue){var S=K(W,ie,ue);if(S)return!0;var m=et(ie);return le(m)?!1:D(W,m,ue)}function K(W,ie,ue){var S=U(ie,ue,!1);return X(S)?!1:_e(S.has(W))}function re(W,ie,ue){var S=K(W,ie,ue);if(S)return he(W,ie,ue);var m=et(ie);if(!le(m))return re(W,m,ue)}function he(W,ie,ue){var S=U(ie,ue,!1);if(!X(S))return S.get(W)}function ce(W,ie,ue,S){var m=U(ue,S,!0);m.set(W,ie)}function te(W,ie){var ue=ee(W,ie),S=et(W);if(S===null)return ue;var m=te(S,ie);if(m.length<=0)return ue;if(ue.length<=0)return m;for(var w=new f,k=[],_=0,F=ue;_<F.length;_++){var G=F[_],ge=w.has(G);ge||(w.add(G),k.push(G))}for(var ye=0,He=m;ye<He.length;ye++){var G=He[ye],ge=w.has(G);ge||(w.add(G),k.push(G))}return k}function ee(W,ie){var ue=[],S=U(W,ie,!1);if(X(S))return ue;for(var m=S.keys(),w=sr(m),k=0;;){var _=or(w);if(!_)return ue.length=k,ue;var F=$r(_);try{ue[k]=F}catch(G){try{Pe(w)}finally{throw G}}k++}}function j(W){if(W===null)return 1;switch(typeof W){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return W===null?1:6;default:return 6}}function X(W){return W===void 0}function le(W){return W===null}function xe(W){return typeof W=="symbol"}function Te(W){return typeof W=="object"?W!==null:typeof W=="function"}function Ce(W,ie){switch(j(W)){case 0:return W;case 1:return W;case 2:return W;case 3:return W;case 4:return W;case 5:return W}var ue=ie===3?"string":ie===5?"number":"default",S=ft(W,r);if(S!==void 0){var m=S.call(W,ue);if(Te(m))throw new TypeError;return m}return Re(W,ue==="default"?"number":ue)}function Re(W,ie){if(ie==="string"){var ue=W.toString;if(tn(ue)){var S=ue.call(W);if(!Te(S))return S}var m=W.valueOf;if(tn(m)){var S=m.call(W);if(!Te(S))return S}}else{var m=W.valueOf;if(tn(m)){var S=m.call(W);if(!Te(S))return S}var w=W.toString;if(tn(w)){var S=w.call(W);if(!Te(S))return S}}throw new TypeError}function _e(W){return!!W}function ht(W){return""+W}function wt(W){var ie=Ce(W,3);return xe(ie)?ie:ht(ie)}function mn(W){return Array.isArray?Array.isArray(W):W instanceof Object?W instanceof Array:Object.prototype.toString.call(W)==="[object Array]"}function tn(W){return typeof W=="function"}function Dt(W){return typeof W=="function"}function In(W){switch(j(W)){case 3:return!0;case 4:return!0;default:return!1}}function ft(W,ie){var ue=W[ie];if(ue!=null){if(!tn(ue))throw new TypeError;return ue}}function sr(W){var ie=ft(W,s);if(!tn(ie))throw new TypeError;var ue=ie.call(W);if(!Te(ue))throw new TypeError;return ue}function $r(W){return W.value}function or(W){var ie=W.next();return ie.done?!1:ie}function Pe(W){var ie=W.return;ie&&ie.call(W)}function et(W){var ie=Object.getPrototypeOf(W);if(typeof W!="function"||W===u||ie!==u)return ie;var ue=W.prototype,S=ue&&Object.getPrototypeOf(ue);if(S==null||S===Object.prototype)return ie;var m=S.constructor;return typeof m!="function"||m===W?ie:m}function Fi(){var W={},ie=[],ue=function(){function k(_,F,G){this._index=0,this._keys=_,this._values=F,this._selector=G}return k.prototype["@@iterator"]=function(){return this},k.prototype[s]=function(){return this},k.prototype.next=function(){var _=this._index;if(_>=0&&_<this._keys.length){var F=this._selector(this._keys[_],this._values[_]);return _+1>=this._keys.length?(this._index=-1,this._keys=ie,this._values=ie):this._index++,{value:F,done:!1}}return{value:void 0,done:!0}},k.prototype.throw=function(_){throw this._index>=0&&(this._index=-1,this._keys=ie,this._values=ie),_},k.prototype.return=function(_){return this._index>=0&&(this._index=-1,this._keys=ie,this._values=ie),{value:_,done:!0}},k}();return function(){function k(){this._keys=[],this._values=[],this._cacheKey=W,this._cacheIndex=-2}return Object.defineProperty(k.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),k.prototype.has=function(_){return this._find(_,!1)>=0},k.prototype.get=function(_){var F=this._find(_,!1);return F>=0?this._values[F]:void 0},k.prototype.set=function(_,F){var G=this._find(_,!0);return this._values[G]=F,this},k.prototype.delete=function(_){var F=this._find(_,!1);if(F>=0){for(var G=this._keys.length,ge=F+1;ge<G;ge++)this._keys[ge-1]=this._keys[ge],this._values[ge-1]=this._values[ge];return this._keys.length--,this._values.length--,_===this._cacheKey&&(this._cacheKey=W,this._cacheIndex=-2),!0}return!1},k.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=W,this._cacheIndex=-2},k.prototype.keys=function(){return new ue(this._keys,this._values,S)},k.prototype.values=function(){return new ue(this._keys,this._values,m)},k.prototype.entries=function(){return new ue(this._keys,this._values,w)},k.prototype["@@iterator"]=function(){return this.entries()},k.prototype[s]=function(){return this.entries()},k.prototype._find=function(_,F){return this._cacheKey!==_&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=_)),this._cacheIndex<0&&F&&(this._cacheIndex=this._keys.length,this._keys.push(_),this._values.push(void 0)),this._cacheIndex},k}();function S(k,_){return k}function m(k,_){return _}function w(k,_){return[k,_]}}function jt(){return function(){function W(){this._map=new h}return Object.defineProperty(W.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),W.prototype.has=function(ie){return this._map.has(ie)},W.prototype.add=function(ie){return this._map.set(ie,ie),this},W.prototype.delete=function(ie){return this._map.delete(ie)},W.prototype.clear=function(){this._map.clear()},W.prototype.keys=function(){return this._map.keys()},W.prototype.values=function(){return this._map.values()},W.prototype.entries=function(){return this._map.entries()},W.prototype["@@iterator"]=function(){return this.keys()},W.prototype[s]=function(){return this.keys()},W}()}function Rt(){var W=16,ie=c.create(),ue=S();return function(){function F(){this._key=S()}return F.prototype.has=function(G){var ge=m(G,!1);return ge!==void 0?c.has(ge,this._key):!1},F.prototype.get=function(G){var ge=m(G,!1);return ge!==void 0?c.get(ge,this._key):void 0},F.prototype.set=function(G,ge){var ye=m(G,!0);return ye[this._key]=ge,this},F.prototype.delete=function(G){var ge=m(G,!1);return ge!==void 0?delete ge[this._key]:!1},F.prototype.clear=function(){this._key=S()},F}();function S(){var F;do F="@@WeakMap@@"+_();while(c.has(ie,F));return ie[F]=!0,F}function m(F,G){if(!t.call(F,ue)){if(!G)return;Object.defineProperty(F,ue,{value:c.create()})}return F[ue]}function w(F,G){for(var ge=0;ge<G;++ge)F[ge]=Math.random()*255|0;return F}function k(F){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(F)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(F)):w(new Uint8Array(F),F):w(new Array(F),F)}function _(){var F=k(W);F[6]=F[6]&79|64,F[8]=F[8]&191|128;for(var G="",ge=0;ge<W;++ge){var ye=F[ge];(ge===4||ge===6||ge===8)&&(G+="-"),ye<16&&(G+="0"),G+=ye.toString(16).toLowerCase()}return G}}function On(W){return W.__=void 0,delete W.__,W}})})(Mb||(Mb={}));var ix={exports:{}},Hn={},rx={exports:{}},sx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(te,ee){var j=te.length;te.push(ee);e:for(;0<j;){var X=j-1>>>1,le=te[X];if(0<r(le,ee))te[X]=ee,te[j]=le,j=X;else break e}}function t(te){return te.length===0?null:te[0]}function i(te){if(te.length===0)return null;var ee=te[0],j=te.pop();if(j!==ee){te[0]=j;e:for(var X=0,le=te.length,xe=le>>>1;X<xe;){var Te=2*(X+1)-1,Ce=te[Te],Re=Te+1,_e=te[Re];if(0>r(Ce,j))Re<le&&0>r(_e,Ce)?(te[X]=_e,te[Re]=j,X=Re):(te[X]=Ce,te[Te]=j,X=Te);else if(Re<le&&0>r(_e,j))te[X]=_e,te[Re]=j,X=Re;else break e}}return ee}function r(te,ee){var j=te.sortIndex-ee.sortIndex;return j!==0?j:te.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,g=!1,b=!1,C=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(te){for(var ee=t(c);ee!==null;){if(ee.callback===null)i(c);else if(ee.startTime<=te)i(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=t(c)}}function N(te){if(b=!1,E(te),!g)if(t(l)!==null)g=!0,he(I);else{var ee=t(c);ee!==null&&ce(N,ee.startTime-te)}}function I(te,ee){g=!1,b&&(b=!1,x($),$=-1),f=!0;var j=h;try{for(E(ee),d=t(l);d!==null&&(!(d.expirationTime>ee)||te&&!A());){var X=d.callback;if(typeof X=="function"){d.callback=null,h=d.priorityLevel;var le=X(d.expirationTime<=ee);ee=n.unstable_now(),typeof le=="function"?d.callback=le:d===t(l)&&i(l),E(ee)}else i(l);d=t(l)}if(d!==null)var xe=!0;else{var Te=t(c);Te!==null&&ce(N,Te.startTime-ee),xe=!1}return xe}finally{d=null,h=j,f=!1}}var B=!1,O=null,$=-1,R=5,H=-1;function A(){return!(n.unstable_now()-H<R)}function U(){if(O!==null){var te=n.unstable_now();H=te;var ee=!0;try{ee=O(!0,te)}finally{ee?D():(B=!1,O=null)}}else B=!1}var D;if(typeof y=="function")D=function(){y(U)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,re=K.port2;K.port1.onmessage=U,D=function(){re.postMessage(null)}}else D=function(){C(U,0)};function he(te){O=te,B||(B=!0,D())}function ce(te,ee){$=C(function(){te(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){g||f||(g=!0,he(I))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(te){switch(h){case 1:case 2:case 3:var ee=3;break;default:ee=h}var j=h;h=ee;try{return te()}finally{h=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,ee){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var j=h;h=te;try{return ee()}finally{h=j}},n.unstable_scheduleCallback=function(te,ee,j){var X=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?X+j:X):j=X,te){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=j+le,te={id:u++,callback:ee,priorityLevel:te,startTime:j,expirationTime:le,sortIndex:-1},j>X?(te.sortIndex=j,e(c,te),t(l)===null&&te===t(c)&&(b?(x($),$=-1):b=!0,ce(N,j-X))):(te.sortIndex=le,e(l,te),g||f||(g=!0,he(I))),te},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(te){var ee=h;return function(){var j=h;h=ee;try{return te.apply(this,arguments)}finally{h=j}}}})(sx);rx.exports=sx;var mk=rx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox=Ee,Vn=mk;function fe(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ax=new Set,vl={};function Gs(n,e){zo(n,e),zo(n+"Capture",e)}function zo(n,e){for(vl[n]=e,n=0;n<e.length;n++)ax.add(e[n])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dp=Object.prototype.hasOwnProperty,gk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ib={},Ob={};function yk(n){return Dp.call(Ob,n)?!0:Dp.call(Ib,n)?!1:gk.test(n)?Ob[n]=!0:(Ib[n]=!0,!1)}function bk(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function vk(n,e,t,i){if(e===null||typeof e>"u"||bk(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Zt[n]=new xn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Zt[e]=new xn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Zt[n]=new xn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Zt[n]=new xn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Zt[n]=new xn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Zt[n]=new xn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Zt[n]=new xn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Zt[n]=new xn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Zt[n]=new xn(n,5,!1,n.toLowerCase(),null,!1,!1)});var yg=/[\-:]([a-z])/g;function bg(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(yg,bg);Zt[e]=new xn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(yg,bg);Zt[e]=new xn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(yg,bg);Zt[e]=new xn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Zt[n]=new xn(n,1,!1,n.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Zt[n]=new xn(n,1,!1,n.toLowerCase(),null,!0,!0)});function vg(n,e,t,i){var r=Zt.hasOwnProperty(e)?Zt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vk(e,t,r,i)&&(t=null),i||r===null?yk(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Rr=ox.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oc=Symbol.for("react.element"),bo=Symbol.for("react.portal"),vo=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),qp=Symbol.for("react.profiler"),lx=Symbol.for("react.provider"),cx=Symbol.for("react.context"),Eg=Symbol.for("react.forward_ref"),Bp=Symbol.for("react.suspense"),Fp=Symbol.for("react.suspense_list"),xg=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),ux=Symbol.for("react.offscreen"),_b=Symbol.iterator;function Ia(n){return n===null||typeof n!="object"?null:(n=_b&&n[_b]||n["@@iterator"],typeof n=="function"?n:null)}var vt=Object.assign,yf;function Ya(n){if(yf===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);yf=e&&e[1]||""}return"\n"+yf+n}var bf=!1;function vf(n,e){if(!n||bf)return"";bf=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{bf=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ya(n):""}function wk(n){switch(n.tag){case 5:return Ya(n.type);case 16:return Ya("Lazy");case 13:return Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 2:case 15:return n=vf(n.type,!1),n;case 11:return n=vf(n.type.render,!1),n;case 1:return n=vf(n.type,!0),n;default:return""}}function Up(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case vo:return"Fragment";case bo:return"Portal";case qp:return"Profiler";case wg:return"StrictMode";case Bp:return"Suspense";case Fp:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case cx:return(n.displayName||"Context")+".Consumer";case lx:return(n._context.displayName||"Context")+".Provider";case Eg:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case xg:return e=n.displayName||null,e!==null?e:Up(n.type)||"Memo";case Ur:e=n._payload,n=n._init;try{return Up(n(e))}catch(t){}}return null}function Ek(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Up(e);case 8:return e===wg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function os(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function dx(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xk(n){var e=dx(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function _c(n){n._valueTracker||(n._valueTracker=xk(n))}function hx(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=dx(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Gu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch(e){return n.body}}function jp(n,e){var t=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function Lb(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=os(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fx(n,e){e=e.checked,e!=null&&vg(n,"checked",e,!1)}function zp(n,e){fx(n,e);var t=os(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Vp(n,e.type,t):e.hasOwnProperty("defaultValue")&&Vp(n,e.type,os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Db(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Vp(n,e,t){(e!=="number"||Gu(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Ja=Array.isArray;function Po(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+os(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Hp(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(fe(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function qb(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(fe(92));if(Ja(t)){if(1<t.length)throw Error(fe(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:os(t)}}function px(n,e){var t=os(e.value),i=os(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function Bb(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function mx(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wp(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?mx(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Lc,gx=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Lc=Lc||document.createElement("div"),Lc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lc.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function wl(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tk=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(n){Tk.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),rl[e]=rl[n]})});function yx(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||rl.hasOwnProperty(n)&&rl[n]?(""+e).trim():e+"px"}function bx(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=yx(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var Sk=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qp(n,e){if(e){if(Sk[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(fe(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(fe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(fe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(fe(62))}}function Gp(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=null;function Tg(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Yp=null,$o=null,Mo=null;function Fb(n){if(n=Kl(n)){if(typeof Yp!="function")throw Error(fe(280));var e=n.stateNode;e&&(e=Kd(e),Yp(n.stateNode,n.type,e))}}function vx(n){$o?Mo?Mo.push(n):Mo=[n]:$o=n}function wx(){if($o){var n=$o,e=Mo;if(Mo=$o=null,Fb(n),e)for(n=0;n<e.length;n++)Fb(e[n])}}function Ex(n,e){return n(e)}function xx(){}var wf=!1;function Tx(n,e,t){if(wf)return n(e,t);wf=!0;try{return Ex(n,e,t)}finally{wf=!1,($o!==null||Mo!==null)&&(xx(),wx())}}function El(n,e){var t=n.stateNode;if(t===null)return null;var i=Kd(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(fe(231,e,typeof t));return t}var Jp=!1;if(Tr)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){Jp=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch(n){Jp=!1}function Ck(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var sl=!1,Ku=null,Yu=!1,Xp=null,Ak={onError:function(n){sl=!0,Ku=n}};function Nk(n,e,t,i,r,s,o,a,l){sl=!1,Ku=null,Ck.apply(Ak,arguments)}function kk(n,e,t,i,r,s,o,a,l){if(Nk.apply(this,arguments),sl){if(sl){var c=Ku;sl=!1,Ku=null}else throw Error(fe(198));Yu||(Yu=!0,Xp=c)}}function Ks(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Sx(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Ub(n){if(Ks(n)!==n)throw Error(fe(188))}function Rk(n){var e=n.alternate;if(!e){if(e=Ks(n),e===null)throw Error(fe(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return Ub(r),n;if(s===i)return Ub(r),e;s=s.sibling}throw Error(fe(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(fe(189))}}if(t.alternate!==i)throw Error(fe(190))}if(t.tag!==3)throw Error(fe(188));return t.stateNode.current===t?n:e}function Cx(n){return n=Rk(n),n!==null?Ax(n):null}function Ax(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Ax(n);if(e!==null)return e;n=n.sibling}return null}var Nx=Vn.unstable_scheduleCallback,jb=Vn.unstable_cancelCallback,Pk=Vn.unstable_shouldYield,$k=Vn.unstable_requestPaint,kt=Vn.unstable_now,Mk=Vn.unstable_getCurrentPriorityLevel,Sg=Vn.unstable_ImmediatePriority,kx=Vn.unstable_UserBlockingPriority,Ju=Vn.unstable_NormalPriority,Ik=Vn.unstable_LowPriority,Rx=Vn.unstable_IdlePriority,Hd=null,Xi=null;function Ok(n){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot(Hd,n,void 0,(n.current.flags&128)===128)}catch(e){}}var Mi=Math.clz32?Math.clz32:Dk,_k=Math.log,Lk=Math.LN2;function Dk(n){return n>>>=0,n===0?32:31-(_k(n)/Lk|0)|0}var Dc=64,qc=4194304;function Xa(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Xu(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Xa(a):(s&=o,s!==0&&(i=Xa(s)))}else o=t&~r,o!==0?i=Xa(o):s!==0&&(i=Xa(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Mi(e),r=1<<t,i|=n[t],e&=~r;return i}function qk(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bk(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Mi(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=qk(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Zp(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Px(){var n=Dc;return Dc<<=1,!(Dc&4194240)&&(Dc=64),n}function Ef(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ql(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Mi(e),n[e]=t}function Fk(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Mi(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Cg(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Mi(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var tt=0;function $x(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Mx,Ag,Ix,Ox,_x,em=!1,Bc=[],Jr=null,Xr=null,Zr=null,xl=new Map,Tl=new Map,Vr=[],Uk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zb(n,e){switch(n){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(e.pointerId)}}function _a(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Kl(e),e!==null&&Ag(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function jk(n,e,t,i,r){switch(e){case"focusin":return Jr=_a(Jr,n,e,t,i,r),!0;case"dragenter":return Xr=_a(Xr,n,e,t,i,r),!0;case"mouseover":return Zr=_a(Zr,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return xl.set(s,_a(xl.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Tl.set(s,_a(Tl.get(s)||null,n,e,t,i,r)),!0}return!1}function Lx(n){var e=Ss(n.target);if(e!==null){var t=Ks(e);if(t!==null){if(e=t.tag,e===13){if(e=Sx(t),e!==null){n.blockedOn=e,_x(n.priority,function(){Ix(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Tu(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=tm(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Kp=i,t.target.dispatchEvent(i),Kp=null}else return e=Kl(t),e!==null&&Ag(e),n.blockedOn=t,!1;e.shift()}return!0}function Vb(n,e,t){Tu(n)&&t.delete(e)}function zk(){em=!1,Jr!==null&&Tu(Jr)&&(Jr=null),Xr!==null&&Tu(Xr)&&(Xr=null),Zr!==null&&Tu(Zr)&&(Zr=null),xl.forEach(Vb),Tl.forEach(Vb)}function La(n,e){n.blockedOn===e&&(n.blockedOn=null,em||(em=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,zk)))}function Sl(n){function e(r){return La(r,n)}if(0<Bc.length){La(Bc[0],n);for(var t=1;t<Bc.length;t++){var i=Bc[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Jr!==null&&La(Jr,n),Xr!==null&&La(Xr,n),Zr!==null&&La(Zr,n),xl.forEach(e),Tl.forEach(e),t=0;t<Vr.length;t++)i=Vr[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Vr.length&&(t=Vr[0],t.blockedOn===null);)Lx(t),t.blockedOn===null&&Vr.shift()}var Io=Rr.ReactCurrentBatchConfig,Zu=!0;function Vk(n,e,t,i){var r=tt,s=Io.transition;Io.transition=null;try{tt=1,Ng(n,e,t,i)}finally{tt=r,Io.transition=s}}function Hk(n,e,t,i){var r=tt,s=Io.transition;Io.transition=null;try{tt=4,Ng(n,e,t,i)}finally{tt=r,Io.transition=s}}function Ng(n,e,t,i){if(Zu){var r=tm(n,e,t,i);if(r===null)$f(n,e,i,ed,t),zb(n,i);else if(jk(r,n,e,t,i))i.stopPropagation();else if(zb(n,i),e&4&&-1<Uk.indexOf(n)){for(;r!==null;){var s=Kl(r);if(s!==null&&Mx(s),s=tm(n,e,t,i),s===null&&$f(n,e,i,ed,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else $f(n,e,i,null,t)}}var ed=null;function tm(n,e,t,i){if(ed=null,n=Tg(i),n=Ss(n),n!==null)if(e=Ks(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Sx(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return ed=n,null}function Dx(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Mk()){case Sg:return 1;case kx:return 4;case Ju:case Ik:return 16;case Rx:return 536870912;default:return 16}default:return 16}}var Gr=null,kg=null,Su=null;function qx(){if(Su)return Su;var n,e=kg,t=e.length,i,r="value"in Gr?Gr.value:Gr.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return Su=r.slice(n,1<i?1-i:void 0)}function Cu(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Fc(){return!0}function Hb(){return!1}function Wn(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fc:Hb,this.isPropagationStopped=Hb,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Fc)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Fc)},persist:function(){},isPersistent:Fc}),e}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rg=Wn(sa),Gl=vt({},sa,{view:0,detail:0}),Wk=Wn(Gl),xf,Tf,Da,Wd=vt({},Gl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pg,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Da&&(Da&&n.type==="mousemove"?(xf=n.screenX-Da.screenX,Tf=n.screenY-Da.screenY):Tf=xf=0,Da=n),xf)},movementY:function(n){return"movementY"in n?n.movementY:Tf}}),Wb=Wn(Wd),Qk=vt({},Wd,{dataTransfer:0}),Gk=Wn(Qk),Kk=vt({},Gl,{relatedTarget:0}),Sf=Wn(Kk),Yk=vt({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Jk=Wn(Yk),Xk=vt({},sa,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Zk=Wn(Xk),eR=vt({},sa,{data:0}),Qb=Wn(eR),tR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rR(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=iR[n])?!!e[n]:!1}function Pg(){return rR}var sR=vt({},Gl,{key:function(n){if(n.key){var e=tR[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Cu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?nR[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pg,charCode:function(n){return n.type==="keypress"?Cu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Cu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),oR=Wn(sR),aR=vt({},Wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gb=Wn(aR),lR=vt({},Gl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pg}),cR=Wn(lR),uR=vt({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),dR=Wn(uR),hR=vt({},Wd,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fR=Wn(hR),pR=[9,13,27,32],$g=Tr&&"CompositionEvent"in window,ol=null;Tr&&"documentMode"in document&&(ol=document.documentMode);var mR=Tr&&"TextEvent"in window&&!ol,Bx=Tr&&(!$g||ol&&8<ol&&11>=ol),Kb=String.fromCharCode(32),Yb=!1;function Fx(n,e){switch(n){case"keyup":return pR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ux(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var wo=!1;function gR(n,e){switch(n){case"compositionend":return Ux(e);case"keypress":return e.which!==32?null:(Yb=!0,Kb);case"textInput":return n=e.data,n===Kb&&Yb?null:n;default:return null}}function yR(n,e){if(wo)return n==="compositionend"||!$g&&Fx(n,e)?(n=qx(),Su=kg=Gr=null,wo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bx&&e.locale!=="ko"?null:e.data;default:return null}}var bR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!bR[n.type]:e==="textarea"}function jx(n,e,t,i){vx(i),e=td(e,"onChange"),0<e.length&&(t=new Rg("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var al=null,Cl=null;function vR(n){Zx(n,0)}function Qd(n){var e=To(n);if(hx(e))return n}function wR(n,e){if(n==="change")return e}var zx=!1;if(Tr){var Cf;if(Tr){var Af="oninput"in document;if(!Af){var Xb=document.createElement("div");Xb.setAttribute("oninput","return;"),Af=typeof Xb.oninput=="function"}Cf=Af}else Cf=!1;zx=Cf&&(!document.documentMode||9<document.documentMode)}function Zb(){al&&(al.detachEvent("onpropertychange",Vx),Cl=al=null)}function Vx(n){if(n.propertyName==="value"&&Qd(Cl)){var e=[];jx(e,Cl,n,Tg(n)),Tx(vR,e)}}function ER(n,e,t){n==="focusin"?(Zb(),al=e,Cl=t,al.attachEvent("onpropertychange",Vx)):n==="focusout"&&Zb()}function xR(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Qd(Cl)}function TR(n,e){if(n==="click")return Qd(e)}function SR(n,e){if(n==="input"||n==="change")return Qd(e)}function CR(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var qi=typeof Object.is=="function"?Object.is:CR;function Al(n,e){if(qi(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Dp.call(e,r)||!qi(n[r],e[r]))return!1}return!0}function e0(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function t0(n,e){var t=e0(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=e0(t)}}function Hx(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Hx(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Wx(){for(var n=window,e=Gu();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch(i){t=!1}if(t)n=e.contentWindow;else break;e=Gu(n.document)}return e}function Mg(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function AR(n){var e=Wx(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Hx(t.ownerDocument.documentElement,t)){if(i!==null&&Mg(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=t0(t,s);var o=t0(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var NR=Tr&&"documentMode"in document&&11>=document.documentMode,Eo=null,nm=null,ll=null,im=!1;function n0(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;im||Eo==null||Eo!==Gu(i)||(i=Eo,"selectionStart"in i&&Mg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ll&&Al(ll,i)||(ll=i,i=td(nm,"onSelect"),0<i.length&&(e=new Rg("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Eo)))}function Uc(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var xo={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionend:Uc("Transition","TransitionEnd")},Nf={},Qx={};Tr&&(Qx=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Gd(n){if(Nf[n])return Nf[n];if(!xo[n])return n;var e=xo[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Qx)return Nf[n]=e[t];return n}var Gx=Gd("animationend"),Kx=Gd("animationiteration"),Yx=Gd("animationstart"),Jx=Gd("transitionend"),Xx=new Map,i0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(n,e){Xx.set(n,e),Gs(e,[n])}for(var kf=0;kf<i0.length;kf++){var Rf=i0[kf],kR=Rf.toLowerCase(),RR=Rf[0].toUpperCase()+Rf.slice(1);ds(kR,"on"+RR)}ds(Gx,"onAnimationEnd");ds(Kx,"onAnimationIteration");ds(Yx,"onAnimationStart");ds("dblclick","onDoubleClick");ds("focusin","onFocus");ds("focusout","onBlur");ds(Jx,"onTransitionEnd");zo("onMouseEnter",["mouseout","mouseover"]);zo("onMouseLeave",["mouseout","mouseover"]);zo("onPointerEnter",["pointerout","pointerover"]);zo("onPointerLeave",["pointerout","pointerover"]);Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Za));function r0(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,kk(i,e,void 0,n),n.currentTarget=null}function Zx(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;r0(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;r0(r,a,c),s=l}}}if(Yu)throw n=Xp,Yu=!1,Xp=null,n}function lt(n,e){var t=e[lm];t===void 0&&(t=e[lm]=new Set);var i=n+"__bubble";t.has(i)||(eT(e,n,2,!1),t.add(i))}function Pf(n,e,t){var i=0;e&&(i|=4),eT(t,n,i,e)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Nl(n){if(!n[jc]){n[jc]=!0,ax.forEach(function(t){t!=="selectionchange"&&(PR.has(t)||Pf(t,!1,n),Pf(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[jc]||(e[jc]=!0,Pf("selectionchange",!1,e))}}function eT(n,e,t,i){switch(Dx(e)){case 1:var r=Vk;break;case 4:r=Hk;break;default:r=Ng}t=r.bind(null,e,t,n),r=void 0,!Jp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function $f(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=Ss(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Tx(function(){var c=s,u=Tg(t),d=[];e:{var h=Xx.get(n);if(h!==void 0){var f=Rg,g=n;switch(n){case"keypress":if(Cu(t)===0)break e;case"keydown":case"keyup":f=oR;break;case"focusin":g="focus",f=Sf;break;case"focusout":g="blur",f=Sf;break;case"beforeblur":case"afterblur":f=Sf;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Wb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Gk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=cR;break;case Gx:case Kx:case Yx:f=Jk;break;case Jx:f=dR;break;case"scroll":f=Wk;break;case"wheel":f=fR;break;case"copy":case"cut":case"paste":f=Zk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Gb}var b=(e&4)!==0,C=!b&&n==="scroll",x=b?h!==null?h+"Capture":null:h;b=[];for(var y=c,E;y!==null;){E=y;var N=E.stateNode;if(E.tag===5&&N!==null&&(E=N,x!==null&&(N=El(y,x),N!=null&&b.push(kl(y,N,E)))),C)break;y=y.return}0<b.length&&(h=new f(h,g,null,t,u),d.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",f=n==="mouseout"||n==="pointerout",h&&t!==Kp&&(g=t.relatedTarget||t.fromElement)&&(Ss(g)||g[Sr]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=t.relatedTarget||t.toElement,f=c,g=g?Ss(g):null,g!==null&&(C=Ks(g),g!==C||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=c),f!==g)){if(b=Wb,N="onMouseLeave",x="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(b=Gb,N="onPointerLeave",x="onPointerEnter",y="pointer"),C=f==null?h:To(f),E=g==null?h:To(g),h=new b(N,y+"leave",f,t,u),h.target=C,h.relatedTarget=E,N=null,Ss(u)===c&&(b=new b(x,y+"enter",g,t,u),b.target=E,b.relatedTarget=C,N=b),C=N,f&&g)t:{for(b=f,x=g,y=0,E=b;E;E=ro(E))y++;for(E=0,N=x;N;N=ro(N))E++;for(;0<y-E;)b=ro(b),y--;for(;0<E-y;)x=ro(x),E--;for(;y--;){if(b===x||x!==null&&b===x.alternate)break t;b=ro(b),x=ro(x)}b=null}else b=null;f!==null&&s0(d,h,f,b,!1),g!==null&&C!==null&&s0(d,C,g,b,!0)}}e:{if(h=c?To(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var I=wR;else if(Jb(h))if(zx)I=SR;else{I=xR;var B=ER}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=TR);if(I&&(I=I(n,c))){jx(d,I,t,u);break e}B&&B(n,h,c),n==="focusout"&&(B=h._wrapperState)&&B.controlled&&h.type==="number"&&Vp(h,"number",h.value)}switch(B=c?To(c):window,n){case"focusin":(Jb(B)||B.contentEditable==="true")&&(Eo=B,nm=c,ll=null);break;case"focusout":ll=nm=Eo=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,n0(d,t,u);break;case"selectionchange":if(NR)break;case"keydown":case"keyup":n0(d,t,u)}var O;if($g)e:{switch(n){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else wo?Fx(n,t)&&($="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&($="onCompositionStart");$&&(Bx&&t.locale!=="ko"&&(wo||$!=="onCompositionStart"?$==="onCompositionEnd"&&wo&&(O=qx()):(Gr=u,kg="value"in Gr?Gr.value:Gr.textContent,wo=!0)),B=td(c,$),0<B.length&&($=new Qb($,n,null,t,u),d.push({event:$,listeners:B}),O?$.data=O:(O=Ux(t),O!==null&&($.data=O)))),(O=mR?gR(n,t):yR(n,t))&&(c=td(c,"onBeforeInput"),0<c.length&&(u=new Qb("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=O))}Zx(d,e)})}function kl(n,e,t){return{instance:n,listener:e,currentTarget:t}}function td(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=El(n,t),s!=null&&i.unshift(kl(n,s,r)),s=El(n,e),s!=null&&i.push(kl(n,s,r))),n=n.return}return i}function ro(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function s0(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=El(t,s),l!=null&&o.unshift(kl(t,l,a))):r||(l=El(t,s),l!=null&&o.push(kl(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var $R=/\r\n?/g,MR=/\u0000|\uFFFD/g;function o0(n){return(typeof n=="string"?n:""+n).replace($R,"\n").replace(MR,"")}function zc(n,e,t){if(e=o0(e),o0(n)!==e&&t)throw Error(fe(425))}function nd(){}var rm=null,sm=null;function om(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var am=typeof setTimeout=="function"?setTimeout:void 0,IR=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,OR=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(n){return a0.resolve(null).then(n).catch(_R)}:am;function _R(n){setTimeout(function(){throw n})}function Mf(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Sl(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Sl(e)}function es(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function l0(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var oa=Math.random().toString(36).slice(2),Wi="__reactFiber$"+oa,Rl="__reactProps$"+oa,Sr="__reactContainer$"+oa,lm="__reactEvents$"+oa,LR="__reactListeners$"+oa,DR="__reactHandles$"+oa;function Ss(n){var e=n[Wi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Sr]||t[Wi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=l0(n);n!==null;){if(t=n[Wi])return t;n=l0(n)}return e}n=t,t=n.parentNode}return null}function Kl(n){return n=n[Wi]||n[Sr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function To(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(fe(33))}function Kd(n){return n[Rl]||null}var cm=[],So=-1;function hs(n){return{current:n}}function dt(n){0>So||(n.current=cm[So],cm[So]=null,So--)}function st(n,e){So++,cm[So]=n.current,n.current=e}var as={},hn=hs(as),Rn=hs(!1),Ls=as;function Vo(n,e){var t=n.type.contextTypes;if(!t)return as;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Pn(n){return n=n.childContextTypes,n!=null}function id(){dt(Rn),dt(hn)}function c0(n,e,t){if(hn.current!==as)throw Error(fe(168));st(hn,e),st(Rn,t)}function tT(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(fe(108,Ek(n)||"Unknown",r));return vt({},t,i)}function rd(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||as,Ls=hn.current,st(hn,n),st(Rn,Rn.current),!0}function u0(n,e,t){var i=n.stateNode;if(!i)throw Error(fe(169));t?(n=tT(n,e,Ls),i.__reactInternalMemoizedMergedChildContext=n,dt(Rn),dt(hn),st(hn,n)):dt(Rn),st(Rn,t)}var hr=null,Yd=!1,If=!1;function nT(n){hr===null?hr=[n]:hr.push(n)}function qR(n){Yd=!0,nT(n)}function fs(){if(!If&&hr!==null){If=!0;var n=0,e=tt;try{var t=hr;for(tt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}hr=null,Yd=!1}catch(r){throw hr!==null&&(hr=hr.slice(n+1)),Nx(Sg,fs),r}finally{tt=e,If=!1}}return null}var Co=[],Ao=0,sd=null,od=0,ii=[],ri=0,Ds=null,mr=1,gr="";function xs(n,e){Co[Ao++]=od,Co[Ao++]=sd,sd=n,od=e}function iT(n,e,t){ii[ri++]=mr,ii[ri++]=gr,ii[ri++]=Ds,Ds=n;var i=mr;n=gr;var r=32-Mi(i)-1;i&=~(1<<r),t+=1;var s=32-Mi(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,mr=1<<32-Mi(e)+r|t<<r|i,gr=s+n}else mr=1<<s|t<<r|i,gr=n}function Ig(n){n.return!==null&&(xs(n,1),iT(n,1,0))}function Og(n){for(;n===sd;)sd=Co[--Ao],Co[Ao]=null,od=Co[--Ao],Co[Ao]=null;for(;n===Ds;)Ds=ii[--ri],ii[ri]=null,gr=ii[--ri],ii[ri]=null,mr=ii[--ri],ii[ri]=null}var jn=null,Un=null,gt=!1,Ci=null;function rT(n,e){var t=li(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function d0(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,jn=n,Un=es(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,jn=n,Un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ds!==null?{id:mr,overflow:gr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=li(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,jn=n,Un=null,!0):!1;default:return!1}}function um(n){return(n.mode&1)!==0&&(n.flags&128)===0}function dm(n){if(gt){var e=Un;if(e){var t=e;if(!d0(n,e)){if(um(n))throw Error(fe(418));e=es(t.nextSibling);var i=jn;e&&d0(n,e)?rT(i,t):(n.flags=n.flags&-4097|2,gt=!1,jn=n)}}else{if(um(n))throw Error(fe(418));n.flags=n.flags&-4097|2,gt=!1,jn=n}}}function h0(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;jn=n}function Vc(n){if(n!==jn)return!1;if(!gt)return h0(n),gt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!om(n.type,n.memoizedProps)),e&&(e=Un)){if(um(n))throw sT(),Error(fe(418));for(;e;)rT(n,e),e=es(e.nextSibling)}if(h0(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(fe(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Un=es(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Un=null}}else Un=jn?es(n.stateNode.nextSibling):null;return!0}function sT(){for(var n=Un;n;)n=es(n.nextSibling)}function Ho(){Un=jn=null,gt=!1}function _g(n){Ci===null?Ci=[n]:Ci.push(n)}var BR=Rr.ReactCurrentBatchConfig;function Ei(n,e){if(n&&n.defaultProps){e=vt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var ad=hs(null),ld=null,No=null,Lg=null;function Dg(){Lg=No=ld=null}function qg(n){var e=ad.current;dt(ad),n._currentValue=e}function hm(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function Oo(n,e){ld=n,Lg=No=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Nn=!0),n.firstContext=null)}function fi(n){var e=n._currentValue;if(Lg!==n)if(n={context:n,memoizedValue:e,next:null},No===null){if(ld===null)throw Error(fe(308));No=n,ld.dependencies={lanes:0,firstContext:n}}else No=No.next=n;return e}var Cs=null;function Bg(n){Cs===null?Cs=[n]:Cs.push(n)}function oT(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Bg(e)):(t.next=r.next,r.next=t),e.interleaved=t,Cr(n,i)}function Cr(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var jr=!1;function Fg(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aT(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function vr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function ts(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Qe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Cr(n,t)}return r=i.interleaved,r===null?(e.next=e,Bg(i)):(e.next=r.next,r.next=e),i.interleaved=e,Cr(n,t)}function Au(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Cg(n,t)}}function f0(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function cd(n,e,t,i){var r=n.updateQueue;jr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,b=a;switch(h=e,f=t,b.tag){case 1:if(g=b.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=vt({},d,h);break e;case 2:jr=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Bs|=o,n.lanes=o,n.memoizedState=d}}function p0(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(fe(191,r));r.call(i)}}}var lT=new ox.Component().refs;function fm(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:vt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Jd={isMounted:function(n){return(n=n._reactInternals)?Ks(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=vn(),r=is(n),s=vr(i,r);s.payload=e,t!=null&&(s.callback=t),e=ts(n,s,r),e!==null&&(Ii(e,n,r,i),Au(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=vn(),r=is(n),s=vr(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=ts(n,s,r),e!==null&&(Ii(e,n,r,i),Au(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=vn(),i=is(n),r=vr(t,i);r.tag=2,e!=null&&(r.callback=e),e=ts(n,r,i),e!==null&&(Ii(e,n,i,t),Au(e,n,i))}};function m0(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Al(t,i)||!Al(r,s):!0}function cT(n,e,t){var i=!1,r=as,s=e.contextType;return typeof s=="object"&&s!==null?s=fi(s):(r=Pn(e)?Ls:hn.current,i=e.contextTypes,s=(i=i!=null)?Vo(n,r):as),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jd,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function g0(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Jd.enqueueReplaceState(e,e.state,null)}function pm(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=lT,Fg(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=fi(s):(s=Pn(e)?Ls:hn.current,r.context=Vo(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fm(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Jd.enqueueReplaceState(r,r.state,null),cd(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function qa(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(fe(309));var i=t.stateNode}if(!i)throw Error(fe(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===lT&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(fe(284));if(!t._owner)throw Error(fe(290,n))}return n}function Hc(n,e){throw n=Object.prototype.toString.call(e),Error(fe(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function y0(n){var e=n._init;return e(n._payload)}function uT(n){function e(x,y){if(n){var E=x.deletions;E===null?(x.deletions=[y],x.flags|=16):E.push(y)}}function t(x,y){if(!n)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function i(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function r(x,y){return x=rs(x,y),x.index=0,x.sibling=null,x}function s(x,y,E){return x.index=E,n?(E=x.alternate,E!==null?(E=E.index,E<y?(x.flags|=2,y):E):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return n&&x.alternate===null&&(x.flags|=2),x}function a(x,y,E,N){return y===null||y.tag!==6?(y=Ff(E,x.mode,N),y.return=x,y):(y=r(y,E),y.return=x,y)}function l(x,y,E,N){var I=E.type;return I===vo?u(x,y,E.props.children,N,E.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ur&&y0(I)===y.type)?(N=r(y,E.props),N.ref=qa(x,y,E),N.return=x,N):(N=Mu(E.type,E.key,E.props,null,x.mode,N),N.ref=qa(x,y,E),N.return=x,N)}function c(x,y,E,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=Uf(E,x.mode,N),y.return=x,y):(y=r(y,E.children||[]),y.return=x,y)}function u(x,y,E,N,I){return y===null||y.tag!==7?(y=Ms(E,x.mode,N,I),y.return=x,y):(y=r(y,E),y.return=x,y)}function d(x,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ff(""+y,x.mode,E),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Oc:return E=Mu(y.type,y.key,y.props,null,x.mode,E),E.ref=qa(x,null,y),E.return=x,E;case bo:return y=Uf(y,x.mode,E),y.return=x,y;case Ur:var N=y._init;return d(x,N(y._payload),E)}if(Ja(y)||Ia(y))return y=Ms(y,x.mode,E,null),y.return=x,y;Hc(x,y)}return null}function h(x,y,E,N){var I=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return I!==null?null:a(x,y,""+E,N);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Oc:return E.key===I?l(x,y,E,N):null;case bo:return E.key===I?c(x,y,E,N):null;case Ur:return I=E._init,h(x,y,I(E._payload),N)}if(Ja(E)||Ia(E))return I!==null?null:u(x,y,E,N,null);Hc(x,E)}return null}function f(x,y,E,N,I){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(E)||null,a(y,x,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Oc:return x=x.get(N.key===null?E:N.key)||null,l(y,x,N,I);case bo:return x=x.get(N.key===null?E:N.key)||null,c(y,x,N,I);case Ur:var B=N._init;return f(x,y,E,B(N._payload),I)}if(Ja(N)||Ia(N))return x=x.get(E)||null,u(y,x,N,I,null);Hc(y,N)}return null}function g(x,y,E,N){for(var I=null,B=null,O=y,$=y=0,R=null;O!==null&&$<E.length;$++){O.index>$?(R=O,O=null):R=O.sibling;var H=h(x,O,E[$],N);if(H===null){O===null&&(O=R);break}n&&O&&H.alternate===null&&e(x,O),y=s(H,y,$),B===null?I=H:B.sibling=H,B=H,O=R}if($===E.length)return t(x,O),gt&&xs(x,$),I;if(O===null){for(;$<E.length;$++)O=d(x,E[$],N),O!==null&&(y=s(O,y,$),B===null?I=O:B.sibling=O,B=O);return gt&&xs(x,$),I}for(O=i(x,O);$<E.length;$++)R=f(O,x,$,E[$],N),R!==null&&(n&&R.alternate!==null&&O.delete(R.key===null?$:R.key),y=s(R,y,$),B===null?I=R:B.sibling=R,B=R);return n&&O.forEach(function(A){return e(x,A)}),gt&&xs(x,$),I}function b(x,y,E,N){var I=Ia(E);if(typeof I!="function")throw Error(fe(150));if(E=I.call(E),E==null)throw Error(fe(151));for(var B=I=null,O=y,$=y=0,R=null,H=E.next();O!==null&&!H.done;$++,H=E.next()){O.index>$?(R=O,O=null):R=O.sibling;var A=h(x,O,H.value,N);if(A===null){O===null&&(O=R);break}n&&O&&A.alternate===null&&e(x,O),y=s(A,y,$),B===null?I=A:B.sibling=A,B=A,O=R}if(H.done)return t(x,O),gt&&xs(x,$),I;if(O===null){for(;!H.done;$++,H=E.next())H=d(x,H.value,N),H!==null&&(y=s(H,y,$),B===null?I=H:B.sibling=H,B=H);return gt&&xs(x,$),I}for(O=i(x,O);!H.done;$++,H=E.next())H=f(O,x,$,H.value,N),H!==null&&(n&&H.alternate!==null&&O.delete(H.key===null?$:H.key),y=s(H,y,$),B===null?I=H:B.sibling=H,B=H);return n&&O.forEach(function(U){return e(x,U)}),gt&&xs(x,$),I}function C(x,y,E,N){if(typeof E=="object"&&E!==null&&E.type===vo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Oc:e:{for(var I=E.key,B=y;B!==null;){if(B.key===I){if(I=E.type,I===vo){if(B.tag===7){t(x,B.sibling),y=r(B,E.props.children),y.return=x,x=y;break e}}else if(B.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ur&&y0(I)===B.type){t(x,B.sibling),y=r(B,E.props),y.ref=qa(x,B,E),y.return=x,x=y;break e}t(x,B);break}else e(x,B);B=B.sibling}E.type===vo?(y=Ms(E.props.children,x.mode,N,E.key),y.return=x,x=y):(N=Mu(E.type,E.key,E.props,null,x.mode,N),N.ref=qa(x,y,E),N.return=x,x=N)}return o(x);case bo:e:{for(B=E.key;y!==null;){if(y.key===B)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){t(x,y.sibling),y=r(y,E.children||[]),y.return=x,x=y;break e}else{t(x,y);break}else e(x,y);y=y.sibling}y=Uf(E,x.mode,N),y.return=x,x=y}return o(x);case Ur:return B=E._init,C(x,y,B(E._payload),N)}if(Ja(E))return g(x,y,E,N);if(Ia(E))return b(x,y,E,N);Hc(x,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(t(x,y.sibling),y=r(y,E),y.return=x,x=y):(t(x,y),y=Ff(E,x.mode,N),y.return=x,x=y),o(x)):t(x,y)}return C}var Wo=uT(!0),dT=uT(!1),Yl={},Zi=hs(Yl),Pl=hs(Yl),$l=hs(Yl);function As(n){if(n===Yl)throw Error(fe(174));return n}function Ug(n,e){switch(st($l,e),st(Pl,n),st(Zi,Yl),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wp(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=Wp(e,n)}dt(Zi),st(Zi,e)}function Qo(){dt(Zi),dt(Pl),dt($l)}function hT(n){As($l.current);var e=As(Zi.current),t=Wp(e,n.type);e!==t&&(st(Pl,n),st(Zi,t))}function jg(n){Pl.current===n&&(dt(Zi),dt(Pl))}var yt=hs(0);function ud(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Of=[];function zg(){for(var n=0;n<Of.length;n++)Of[n]._workInProgressVersionPrimary=null;Of.length=0}var Nu=Rr.ReactCurrentDispatcher,_f=Rr.ReactCurrentBatchConfig,qs=0,bt=null,Bt=null,Vt=null,dd=!1,cl=!1,Ml=0,FR=0;function rn(){throw Error(fe(321))}function Vg(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!qi(n[t],e[t]))return!1;return!0}function Hg(n,e,t,i,r,s){if(qs=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nu.current=n===null||n.memoizedState===null?VR:HR,n=t(i,r),cl){s=0;do{if(cl=!1,Ml=0,25<=s)throw Error(fe(301));s+=1,Vt=Bt=null,e.updateQueue=null,Nu.current=WR,n=t(i,r)}while(cl)}if(Nu.current=hd,e=Bt!==null&&Bt.next!==null,qs=0,Vt=Bt=bt=null,dd=!1,e)throw Error(fe(300));return n}function Wg(){var n=Ml!==0;return Ml=0,n}function Hi(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?bt.memoizedState=Vt=n:Vt=Vt.next=n,Vt}function pi(){if(Bt===null){var n=bt.alternate;n=n!==null?n.memoizedState:null}else n=Bt.next;var e=Vt===null?bt.memoizedState:Vt.next;if(e!==null)Vt=e,Bt=n;else{if(n===null)throw Error(fe(310));Bt=n,n={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Vt===null?bt.memoizedState=Vt=n:Vt=Vt.next=n}return Vt}function Il(n,e){return typeof e=="function"?e(n):e}function Lf(n){var e=pi(),t=e.queue;if(t===null)throw Error(fe(311));t.lastRenderedReducer=n;var i=Bt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((qs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,bt.lanes|=u,Bs|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,qi(i,e.memoizedState)||(Nn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,bt.lanes|=s,Bs|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function Df(n){var e=pi(),t=e.queue;if(t===null)throw Error(fe(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);qi(s,e.memoizedState)||(Nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function fT(){}function pT(n,e){var t=bt,i=pi(),r=e(),s=!qi(i.memoizedState,r);if(s&&(i.memoizedState=r,Nn=!0),i=i.queue,Qg(yT.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Vt!==null&&Vt.memoizedState.tag&1){if(t.flags|=2048,Ol(9,gT.bind(null,t,i,r,e),void 0,null),Ht===null)throw Error(fe(349));qs&30||mT(t,e,r)}return r}function mT(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function gT(n,e,t,i){e.value=t,e.getSnapshot=i,bT(e)&&vT(n)}function yT(n,e,t){return t(function(){bT(e)&&vT(n)})}function bT(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!qi(n,t)}catch(i){return!0}}function vT(n){var e=Cr(n,1);e!==null&&Ii(e,n,1,-1)}function b0(n){var e=Hi();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Il,lastRenderedState:n},e.queue=n,n=n.dispatch=zR.bind(null,bt,n),[e.memoizedState,n]}function Ol(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function wT(){return pi().memoizedState}function ku(n,e,t,i){var r=Hi();bt.flags|=n,r.memoizedState=Ol(1|e,t,void 0,i===void 0?null:i)}function Xd(n,e,t,i){var r=pi();i=i===void 0?null:i;var s=void 0;if(Bt!==null){var o=Bt.memoizedState;if(s=o.destroy,i!==null&&Vg(i,o.deps)){r.memoizedState=Ol(e,t,s,i);return}}bt.flags|=n,r.memoizedState=Ol(1|e,t,s,i)}function v0(n,e){return ku(8390656,8,n,e)}function Qg(n,e){return Xd(2048,8,n,e)}function ET(n,e){return Xd(4,2,n,e)}function xT(n,e){return Xd(4,4,n,e)}function TT(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function ST(n,e,t){return t=t!=null?t.concat([n]):null,Xd(4,4,TT.bind(null,e,n),t)}function Gg(){}function CT(n,e){var t=pi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Vg(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function AT(n,e){var t=pi();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&Vg(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function NT(n,e,t){return qs&21?(qi(t,e)||(t=Px(),bt.lanes|=t,Bs|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Nn=!0),n.memoizedState=t)}function UR(n,e){var t=tt;tt=t!==0&&4>t?t:4,n(!0);var i=_f.transition;_f.transition={};try{n(!1),e()}finally{tt=t,_f.transition=i}}function kT(){return pi().memoizedState}function jR(n,e,t){var i=is(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},RT(n))PT(e,t);else if(t=oT(n,e,t,i),t!==null){var r=vn();Ii(t,n,i,r),$T(t,e,i)}}function zR(n,e,t){var i=is(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(RT(n))PT(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,qi(a,o)){var l=e.interleaved;l===null?(r.next=r,Bg(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch(c){}finally{}t=oT(n,e,r,i),t!==null&&(r=vn(),Ii(t,n,i,r),$T(t,e,i))}}function RT(n){var e=n.alternate;return n===bt||e!==null&&e===bt}function PT(n,e){cl=dd=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function $T(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Cg(n,t)}}var hd={readContext:fi,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},VR={readContext:fi,useCallback:function(n,e){return Hi().memoizedState=[n,e===void 0?null:e],n},useContext:fi,useEffect:v0,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,ku(4194308,4,TT.bind(null,e,n),t)},useLayoutEffect:function(n,e){return ku(4194308,4,n,e)},useInsertionEffect:function(n,e){return ku(4,2,n,e)},useMemo:function(n,e){var t=Hi();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Hi();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=jR.bind(null,bt,n),[i.memoizedState,n]},useRef:function(n){var e=Hi();return n={current:n},e.memoizedState=n},useState:b0,useDebugValue:Gg,useDeferredValue:function(n){return Hi().memoizedState=n},useTransition:function(){var n=b0(!1),e=n[0];return n=UR.bind(null,n[1]),Hi().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=bt,r=Hi();if(gt){if(t===void 0)throw Error(fe(407));t=t()}else{if(t=e(),Ht===null)throw Error(fe(349));qs&30||mT(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,v0(yT.bind(null,i,s,n),[n]),i.flags|=2048,Ol(9,gT.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Hi(),e=Ht.identifierPrefix;if(gt){var t=gr,i=mr;t=(i&~(1<<32-Mi(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Ml++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=FR++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},HR={readContext:fi,useCallback:CT,useContext:fi,useEffect:Qg,useImperativeHandle:ST,useInsertionEffect:ET,useLayoutEffect:xT,useMemo:AT,useReducer:Lf,useRef:wT,useState:function(){return Lf(Il)},useDebugValue:Gg,useDeferredValue:function(n){var e=pi();return NT(e,Bt.memoizedState,n)},useTransition:function(){var n=Lf(Il)[0],e=pi().memoizedState;return[n,e]},useMutableSource:fT,useSyncExternalStore:pT,useId:kT,unstable_isNewReconciler:!1},WR={readContext:fi,useCallback:CT,useContext:fi,useEffect:Qg,useImperativeHandle:ST,useInsertionEffect:ET,useLayoutEffect:xT,useMemo:AT,useReducer:Df,useRef:wT,useState:function(){return Df(Il)},useDebugValue:Gg,useDeferredValue:function(n){var e=pi();return Bt===null?e.memoizedState=n:NT(e,Bt.memoizedState,n)},useTransition:function(){var n=Df(Il)[0],e=pi().memoizedState;return[n,e]},useMutableSource:fT,useSyncExternalStore:pT,useId:kT,unstable_isNewReconciler:!1};function Go(n,e){try{var t="",i=e;do t+=wk(i),i=i.return;while(i);var r=t}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:n,source:e,stack:r,digest:null}}function qf(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function mm(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var QR=typeof WeakMap=="function"?WeakMap:Map;function MT(n,e,t){t=vr(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){pd||(pd=!0,Cm=i),mm(n,e)},t}function IT(n,e,t){t=vr(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){mm(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){mm(n,e),typeof i!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function w0(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new QR;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=aP.bind(null,n,e,t),e.then(n,n))}function E0(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function x0(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=vr(-1,1),e.tag=2,ts(t,e,1))),t.lanes|=1),n)}var GR=Rr.ReactCurrentOwner,Nn=!1;function yn(n,e,t,i){e.child=n===null?dT(e,null,t,i):Wo(e,n.child,t,i)}function T0(n,e,t,i,r){t=t.render;var s=e.ref;return Oo(e,r),i=Hg(n,e,t,i,s,r),t=Wg(),n!==null&&!Nn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ar(n,e,r)):(gt&&t&&Ig(e),e.flags|=1,yn(n,e,i,r),e.child)}function S0(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!ny(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,OT(n,e,s,i,r)):(n=Mu(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:Al,t(o,i)&&n.ref===e.ref)return Ar(n,e,r)}return e.flags|=1,n=rs(s,i),n.ref=e.ref,n.return=e,e.child=n}function OT(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Al(s,i)&&n.ref===e.ref)if(Nn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Nn=!0);else return e.lanes=n.lanes,Ar(n,e,r)}return gm(n,e,t,i,r)}function _T(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Ro,Ln),Ln|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,st(Ro,Ln),Ln|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,st(Ro,Ln),Ln|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,st(Ro,Ln),Ln|=i;return yn(n,e,r,t),e.child}function LT(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function gm(n,e,t,i,r){var s=Pn(t)?Ls:hn.current;return s=Vo(e,s),Oo(e,r),t=Hg(n,e,t,i,s,r),i=Wg(),n!==null&&!Nn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Ar(n,e,r)):(gt&&i&&Ig(e),e.flags|=1,yn(n,e,t,r),e.child)}function C0(n,e,t,i,r){if(Pn(t)){var s=!0;rd(e)}else s=!1;if(Oo(e,r),e.stateNode===null)Ru(n,e),cT(e,t,i),pm(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=fi(c):(c=Pn(t)?Ls:hn.current,c=Vo(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&g0(e,o,i,c),jr=!1;var h=e.memoizedState;o.state=h,cd(e,i,o,r),l=e.memoizedState,a!==i||h!==l||Rn.current||jr?(typeof u=="function"&&(fm(e,t,u,i),l=e.memoizedState),(a=jr||m0(e,t,a,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,aT(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:Ei(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=fi(l):(l=Pn(t)?Ls:hn.current,l=Vo(e,l));var f=t.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&g0(e,o,i,l),jr=!1,h=e.memoizedState,o.state=h,cd(e,i,o,r);var g=e.memoizedState;a!==d||h!==g||Rn.current||jr?(typeof f=="function"&&(fm(e,t,f,i),g=e.memoizedState),(c=jr||m0(e,t,c,i,h,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return ym(n,e,t,i,s,r)}function ym(n,e,t,i,r,s){LT(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&u0(e,t,!1),Ar(n,e,s);i=e.stateNode,GR.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Wo(e,n.child,null,s),e.child=Wo(e,null,a,s)):yn(n,e,a,s),e.memoizedState=i.state,r&&u0(e,t,!0),e.child}function DT(n){var e=n.stateNode;e.pendingContext?c0(n,e.pendingContext,e.pendingContext!==e.context):e.context&&c0(n,e.context,!1),Ug(n,e.containerInfo)}function A0(n,e,t,i,r){return Ho(),_g(r),e.flags|=256,yn(n,e,t,i),e.child}var bm={dehydrated:null,treeContext:null,retryLane:0};function vm(n){return{baseLanes:n,cachePool:null,transitions:null}}function qT(n,e,t){var i=e.pendingProps,r=yt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),st(yt,r&1),n===null)return dm(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=th(o,i,0,null),n=Ms(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=vm(t),e.memoizedState=bm,n):Kg(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return KR(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=rs(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=rs(a,s):(s=Ms(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?vm(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=bm,i}return s=n.child,n=s.sibling,i=rs(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Kg(n,e){return e=th({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Wc(n,e,t,i){return i!==null&&_g(i),Wo(e,n.child,null,t),n=Kg(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function KR(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=qf(Error(fe(422))),Wc(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=th({mode:"visible",children:i.children},r,0,null),s=Ms(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Wo(e,n.child,null,o),e.child.memoizedState=vm(o),e.memoizedState=bm,s);if(!(e.mode&1))return Wc(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(fe(419)),i=qf(s,i,void 0),Wc(n,e,o,i)}if(a=(o&n.childLanes)!==0,Nn||a){if(i=Ht,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Cr(n,r),Ii(i,n,r,-1))}return ty(),i=qf(Error(fe(421))),Wc(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=lP.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Un=es(r.nextSibling),jn=e,gt=!0,Ci=null,n!==null&&(ii[ri++]=mr,ii[ri++]=gr,ii[ri++]=Ds,mr=n.id,gr=n.overflow,Ds=e),e=Kg(e,i.children),e.flags|=4096,e)}function N0(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),hm(n.return,e,t)}function Bf(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function BT(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(yn(n,e,i.children,t),i=yt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&N0(n,t,e);else if(n.tag===19)N0(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(st(yt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&ud(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Bf(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&ud(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Bf(e,!0,t,null,s);break;case"together":Bf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ru(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ar(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Bs|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(fe(153));if(e.child!==null){for(n=e.child,t=rs(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=rs(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function YR(n,e,t){switch(e.tag){case 3:DT(e),Ho();break;case 5:hT(e);break;case 1:Pn(e.type)&&rd(e);break;case 4:Ug(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;st(ad,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(st(yt,yt.current&1),e.flags|=128,null):t&e.child.childLanes?qT(n,e,t):(st(yt,yt.current&1),n=Ar(n,e,t),n!==null?n.sibling:null);st(yt,yt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return BT(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),st(yt,yt.current),i)break;return null;case 22:case 23:return e.lanes=0,_T(n,e,t)}return Ar(n,e,t)}var FT,wm,UT,jT;FT=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};wm=function(){};UT=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,As(Zi.current);var s=null;switch(t){case"input":r=jp(n,r),i=jp(n,i),s=[];break;case"select":r=vt({},r,{value:void 0}),i=vt({},i,{value:void 0}),s=[];break;case"textarea":r=Hp(n,r),i=Hp(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=nd)}Qp(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(vl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(vl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&lt("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};jT=function(n,e,t,i){t!==i&&(e.flags|=4)};function Ba(n,e){if(!gt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function sn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function JR(n,e,t){var i=e.pendingProps;switch(Og(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Pn(e.type)&&id(),sn(e),null;case 3:return i=e.stateNode,Qo(),dt(Rn),dt(hn),zg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Vc(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ci!==null&&(km(Ci),Ci=null))),wm(n,e),sn(e),null;case 5:jg(e);var r=As($l.current);if(t=e.type,n!==null&&e.stateNode!=null)UT(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(fe(166));return sn(e),null}if(n=As(Zi.current),Vc(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[Wi]=e,i[Rl]=s,n=(e.mode&1)!==0,t){case"dialog":lt("cancel",i),lt("close",i);break;case"iframe":case"object":case"embed":lt("load",i);break;case"video":case"audio":for(r=0;r<Za.length;r++)lt(Za[r],i);break;case"source":lt("error",i);break;case"img":case"image":case"link":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"input":Lb(i,s),lt("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},lt("invalid",i);break;case"textarea":qb(i,s),lt("invalid",i)}Qp(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&zc(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zc(i.textContent,a,n),r=["children",""+a]):vl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&lt("scroll",i)}switch(t){case"input":_c(i),Db(i,s,!0);break;case"textarea":_c(i),Bb(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=nd)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=mx(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[Wi]=e,n[Rl]=i,FT(n,e,!1,!1),e.stateNode=n;e:{switch(o=Gp(t,i),t){case"dialog":lt("cancel",n),lt("close",n),r=i;break;case"iframe":case"object":case"embed":lt("load",n),r=i;break;case"video":case"audio":for(r=0;r<Za.length;r++)lt(Za[r],n);r=i;break;case"source":lt("error",n),r=i;break;case"img":case"image":case"link":lt("error",n),lt("load",n),r=i;break;case"details":lt("toggle",n),r=i;break;case"input":Lb(n,i),r=jp(n,i),lt("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=vt({},i,{value:void 0}),lt("invalid",n);break;case"textarea":qb(n,i),r=Hp(n,i),lt("invalid",n);break;default:r=i}Qp(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?bx(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gx(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&wl(n,l):typeof l=="number"&&wl(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&lt("scroll",n):l!=null&&vg(n,s,l,o))}switch(t){case"input":_c(n),Db(n,i,!1);break;case"textarea":_c(n),Bb(n);break;case"option":i.value!=null&&n.setAttribute("value",""+os(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Po(n,!!i.multiple,s,!1):i.defaultValue!=null&&Po(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=nd)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(n&&e.stateNode!=null)jT(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(fe(166));if(t=As($l.current),As(Zi.current),Vc(e)){if(i=e.stateNode,t=e.memoizedProps,i[Wi]=e,(s=i.nodeValue!==t)&&(n=jn,n!==null))switch(n.tag){case 3:zc(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&zc(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[Wi]=e,e.stateNode=i}return sn(e),null;case 13:if(dt(yt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(gt&&Un!==null&&e.mode&1&&!(e.flags&128))sT(),Ho(),e.flags|=98560,s=!1;else if(s=Vc(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(fe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[Wi]=e}else Ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),s=!1}else Ci!==null&&(km(Ci),Ci=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||yt.current&1?Ft===0&&(Ft=3):ty())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Qo(),wm(n,e),n===null&&Nl(e.stateNode.containerInfo),sn(e),null;case 10:return qg(e.type._context),sn(e),null;case 17:return Pn(e.type)&&id(),sn(e),null;case 19:if(dt(yt),s=e.memoizedState,s===null)return sn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Ba(s,!1);else{if(Ft!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=ud(n),o!==null){for(e.flags|=128,Ba(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return st(yt,yt.current&1|2),e.child}n=n.sibling}s.tail!==null&&kt()>Ko&&(e.flags|=128,i=!0,Ba(s,!1),e.lanes=4194304)}else{if(!i)if(n=ud(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Ba(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!gt)return sn(e),null}else 2*kt()-s.renderingStartTime>Ko&&t!==1073741824&&(e.flags|=128,i=!0,Ba(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kt(),e.sibling=null,t=yt.current,st(yt,i?t&1|2:t&1),e):(sn(e),null);case 22:case 23:return ey(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ln&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(fe(156,e.tag))}function XR(n,e){switch(Og(e),e.tag){case 1:return Pn(e.type)&&id(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Qo(),dt(Rn),dt(hn),zg(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return jg(e),null;case 13:if(dt(yt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(fe(340));Ho()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return dt(yt),null;case 4:return Qo(),null;case 10:return qg(e.type._context),null;case 22:case 23:return ey(),null;case 24:return null;default:return null}}var Qc=!1,on=!1,ZR=typeof WeakSet=="function"?WeakSet:Set,we=null;function ko(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){St(n,e,i)}else t.current=null}function Em(n,e,t){try{t()}catch(i){St(n,e,i)}}var k0=!1;function eP(n,e){if(rm=Zu,n=Wx(),Mg(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch(N){t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,h=null;t:for(;;){for(var f;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===n)break t;if(h===t&&++c===r&&(a=o),h===s&&++u===i&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(sm={focusedElem:n,selectionRange:t},Zu=!1,we=e;we!==null;)if(e=we,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,we=n;else for(;we!==null;){e=we;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var b=g.memoizedProps,C=g.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:Ei(e.type,b),C);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(N){St(e,e.return,N)}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}return g=k0,k0=!1,g}function ul(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Em(e,t,s)}r=r.next}while(r!==i)}}function Zd(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function xm(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function zT(n){var e=n.alternate;e!==null&&(n.alternate=null,zT(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Wi],delete e[Rl],delete e[lm],delete e[LR],delete e[DR])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function VT(n){return n.tag===5||n.tag===3||n.tag===4}function R0(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||VT(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Tm(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=nd));else if(i!==4&&(n=n.child,n!==null))for(Tm(n,e,t),n=n.sibling;n!==null;)Tm(n,e,t),n=n.sibling}function Sm(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Sm(n,e,t),n=n.sibling;n!==null;)Sm(n,e,t),n=n.sibling}var Jt=null,xi=!1;function Lr(n,e,t){for(t=t.child;t!==null;)HT(n,e,t),t=t.sibling}function HT(n,e,t){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount(Hd,t)}catch(a){}switch(t.tag){case 5:on||ko(t,e);case 6:var i=Jt,r=xi;Jt=null,Lr(n,e,t),Jt=i,xi=r,Jt!==null&&(xi?(n=Jt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Jt.removeChild(t.stateNode));break;case 18:Jt!==null&&(xi?(n=Jt,t=t.stateNode,n.nodeType===8?Mf(n.parentNode,t):n.nodeType===1&&Mf(n,t),Sl(n)):Mf(Jt,t.stateNode));break;case 4:i=Jt,r=xi,Jt=t.stateNode.containerInfo,xi=!0,Lr(n,e,t),Jt=i,xi=r;break;case 0:case 11:case 14:case 15:if(!on&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Em(t,e,o),r=r.next}while(r!==i)}Lr(n,e,t);break;case 1:if(!on&&(ko(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){St(t,e,a)}Lr(n,e,t);break;case 21:Lr(n,e,t);break;case 22:t.mode&1?(on=(i=on)||t.memoizedState!==null,Lr(n,e,t),on=i):Lr(n,e,t);break;default:Lr(n,e,t)}}function P0(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new ZR),e.forEach(function(i){var r=cP.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function yi(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Jt=a.stateNode,xi=!1;break e;case 3:Jt=a.stateNode.containerInfo,xi=!0;break e;case 4:Jt=a.stateNode.containerInfo,xi=!0;break e}a=a.return}if(Jt===null)throw Error(fe(160));HT(s,o,r),Jt=null,xi=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){St(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)WT(e,n),e=e.sibling}function WT(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(yi(e,n),Vi(n),i&4){try{ul(3,n,n.return),Zd(3,n)}catch(b){St(n,n.return,b)}try{ul(5,n,n.return)}catch(b){St(n,n.return,b)}}break;case 1:yi(e,n),Vi(n),i&512&&t!==null&&ko(t,t.return);break;case 5:if(yi(e,n),Vi(n),i&512&&t!==null&&ko(t,t.return),n.flags&32){var r=n.stateNode;try{wl(r,"")}catch(b){St(n,n.return,b)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fx(r,s),Gp(a,o);var c=Gp(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?bx(r,d):u==="dangerouslySetInnerHTML"?gx(r,d):u==="children"?wl(r,d):vg(r,u,d,c)}switch(a){case"input":zp(r,s);break;case"textarea":px(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Po(r,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Po(r,!!s.multiple,s.defaultValue,!0):Po(r,!!s.multiple,s.multiple?[]:"",!1))}r[Rl]=s}catch(b){St(n,n.return,b)}}break;case 6:if(yi(e,n),Vi(n),i&4){if(n.stateNode===null)throw Error(fe(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(b){St(n,n.return,b)}}break;case 3:if(yi(e,n),Vi(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Sl(e.containerInfo)}catch(b){St(n,n.return,b)}break;case 4:yi(e,n),Vi(n);break;case 13:yi(e,n),Vi(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Xg=kt())),i&4&&P0(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(on=(c=on)||u,yi(e,n),on=c):yi(e,n),Vi(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(we=n,u=n.child;u!==null;){for(d=we=u;we!==null;){switch(h=we,f=h.child,h.tag){case 0:case 11:case 14:case 15:ul(4,h,h.return);break;case 1:ko(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){i=h,t=h.return;try{e=i,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(b){St(i,t,b)}}break;case 5:ko(h,h.return);break;case 22:if(h.memoizedState!==null){M0(d);continue}}f!==null?(f.return=h,we=f):M0(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yx("display",o))}catch(b){St(n,n.return,b)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(b){St(n,n.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:yi(e,n),Vi(n),i&4&&P0(n);break;case 21:break;default:yi(e,n),Vi(n)}}function Vi(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(VT(t)){var i=t;break e}t=t.return}throw Error(fe(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(wl(r,""),i.flags&=-33);var s=R0(n);Sm(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=R0(n);Tm(n,a,o);break;default:throw Error(fe(161))}}catch(l){St(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function tP(n,e,t){we=n,QT(n)}function QT(n,e,t){for(var i=(n.mode&1)!==0;we!==null;){var r=we,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Qc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||on;a=Qc;var c=on;if(Qc=o,(on=l)&&!c)for(we=r;we!==null;)o=we,l=o.child,o.tag===22&&o.memoizedState!==null?I0(r):l!==null?(l.return=o,we=l):I0(r);for(;s!==null;)we=s,QT(s),s=s.sibling;we=r,Qc=a,on=c}$0(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,we=s):$0(n)}}function $0(n){for(;we!==null;){var e=we;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||Zd(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!on)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Ei(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&p0(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}p0(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Sl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}on||e.flags&512&&xm(e)}catch(h){St(e,e.return,h)}}if(e===n){we=null;break}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}}function M0(n){for(;we!==null;){var e=we;if(e===n){we=null;break}var t=e.sibling;if(t!==null){t.return=e.return,we=t;break}we=e.return}}function I0(n){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Zd(4,e)}catch(l){St(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){St(e,r,l)}}var s=e.return;try{xm(e)}catch(l){St(e,s,l)}break;case 5:var o=e.return;try{xm(e)}catch(l){St(e,o,l)}}}catch(l){St(e,e.return,l)}if(e===n){we=null;break}var a=e.sibling;if(a!==null){a.return=e.return,we=a;break}we=e.return}}var nP=Math.ceil,fd=Rr.ReactCurrentDispatcher,Yg=Rr.ReactCurrentOwner,ui=Rr.ReactCurrentBatchConfig,Qe=0,Ht=null,Ot=null,Xt=0,Ln=0,Ro=hs(0),Ft=0,_l=null,Bs=0,eh=0,Jg=0,dl=null,Cn=null,Xg=0,Ko=1/0,dr=null,pd=!1,Cm=null,ns=null,Gc=!1,Kr=null,md=0,hl=0,Am=null,Pu=-1,$u=0;function vn(){return Qe&6?kt():Pu!==-1?Pu:Pu=kt()}function is(n){return n.mode&1?Qe&2&&Xt!==0?Xt&-Xt:BR.transition!==null?($u===0&&($u=Px()),$u):(n=tt,n!==0||(n=window.event,n=n===void 0?16:Dx(n.type)),n):1}function Ii(n,e,t,i){if(50<hl)throw hl=0,Am=null,Error(fe(185));Ql(n,t,i),(!(Qe&2)||n!==Ht)&&(n===Ht&&(!(Qe&2)&&(eh|=t),Ft===4&&Hr(n,Xt)),$n(n,i),t===1&&Qe===0&&!(e.mode&1)&&(Ko=kt()+500,Yd&&fs()))}function $n(n,e){var t=n.callbackNode;Bk(n,e);var i=Xu(n,n===Ht?Xt:0);if(i===0)t!==null&&jb(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&jb(t),e===1)n.tag===0?qR(O0.bind(null,n)):nT(O0.bind(null,n)),OR(function(){!(Qe&6)&&fs()}),t=null;else{switch($x(i)){case 1:t=Sg;break;case 4:t=kx;break;case 16:t=Ju;break;case 536870912:t=Rx;break;default:t=Ju}t=t1(t,GT.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function GT(n,e){if(Pu=-1,$u=0,Qe&6)throw Error(fe(327));var t=n.callbackNode;if(_o()&&n.callbackNode!==t)return null;var i=Xu(n,n===Ht?Xt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=gd(n,i);else{e=i;var r=Qe;Qe|=2;var s=YT();(Ht!==n||Xt!==e)&&(dr=null,Ko=kt()+500,$s(n,e));do try{sP();break}catch(a){KT(n,a)}while(1);Dg(),fd.current=s,Qe=r,Ot!==null?e=0:(Ht=null,Xt=0,e=Ft)}if(e!==0){if(e===2&&(r=Zp(n),r!==0&&(i=r,e=Nm(n,r))),e===1)throw t=_l,$s(n,0),Hr(n,i),$n(n,kt()),t;if(e===6)Hr(n,i);else{if(r=n.current.alternate,!(i&30)&&!iP(r)&&(e=gd(n,i),e===2&&(s=Zp(n),s!==0&&(i=s,e=Nm(n,s))),e===1))throw t=_l,$s(n,0),Hr(n,i),$n(n,kt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(fe(345));case 2:Ts(n,Cn,dr);break;case 3:if(Hr(n,i),(i&130023424)===i&&(e=Xg+500-kt(),10<e)){if(Xu(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){vn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=am(Ts.bind(null,n,Cn,dr),e);break}Ts(n,Cn,dr);break;case 4:if(Hr(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Mi(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=kt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*nP(i/1960))-i,10<i){n.timeoutHandle=am(Ts.bind(null,n,Cn,dr),i);break}Ts(n,Cn,dr);break;case 5:Ts(n,Cn,dr);break;default:throw Error(fe(329))}}}return $n(n,kt()),n.callbackNode===t?GT.bind(null,n):null}function Nm(n,e){var t=dl;return n.current.memoizedState.isDehydrated&&($s(n,e).flags|=256),n=gd(n,e),n!==2&&(e=Cn,Cn=t,e!==null&&km(e)),n}function km(n){Cn===null?Cn=n:Cn.push.apply(Cn,n)}function iP(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!qi(s(),r))return!1}catch(o){return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hr(n,e){for(e&=~Jg,e&=~eh,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Mi(e),i=1<<t;n[t]=-1,e&=~i}}function O0(n){if(Qe&6)throw Error(fe(327));_o();var e=Xu(n,0);if(!(e&1))return $n(n,kt()),null;var t=gd(n,e);if(n.tag!==0&&t===2){var i=Zp(n);i!==0&&(e=i,t=Nm(n,i))}if(t===1)throw t=_l,$s(n,0),Hr(n,e),$n(n,kt()),t;if(t===6)throw Error(fe(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Ts(n,Cn,dr),$n(n,kt()),null}function Zg(n,e){var t=Qe;Qe|=1;try{return n(e)}finally{Qe=t,Qe===0&&(Ko=kt()+500,Yd&&fs())}}function Fs(n){Kr!==null&&Kr.tag===0&&!(Qe&6)&&_o();var e=Qe;Qe|=1;var t=ui.transition,i=tt;try{if(ui.transition=null,tt=1,n)return n()}finally{tt=i,ui.transition=t,Qe=e,!(Qe&6)&&fs()}}function ey(){Ln=Ro.current,dt(Ro)}function $s(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,IR(t)),Ot!==null)for(t=Ot.return;t!==null;){var i=t;switch(Og(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&id();break;case 3:Qo(),dt(Rn),dt(hn),zg();break;case 5:jg(i);break;case 4:Qo();break;case 13:dt(yt);break;case 19:dt(yt);break;case 10:qg(i.type._context);break;case 22:case 23:ey()}t=t.return}if(Ht=n,Ot=n=rs(n.current,null),Xt=Ln=e,Ft=0,_l=null,Jg=eh=Bs=0,Cn=dl=null,Cs!==null){for(e=0;e<Cs.length;e++)if(t=Cs[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}Cs=null}return n}function KT(n,e){do{var t=Ot;try{if(Dg(),Nu.current=hd,dd){for(var i=bt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}dd=!1}if(qs=0,Vt=Bt=bt=null,cl=!1,Ml=0,Yg.current=null,t===null||t.return===null){Ft=1,_l=e,Ot=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=E0(o);if(f!==null){f.flags&=-257,x0(f,o,a,s,e),f.mode&1&&w0(s,c,e),e=f,l=c;var g=e.updateQueue;if(g===null){var b=new Set;b.add(l),e.updateQueue=b}else g.add(l);break e}else{if(!(e&1)){w0(s,c,e),ty();break e}l=Error(fe(426))}}else if(gt&&a.mode&1){var C=E0(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),x0(C,o,a,s,e),_g(Go(l,a));break e}}s=l=Go(l,a),Ft!==4&&(Ft=2),dl===null?dl=[s]:dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=MT(s,l,e);f0(s,x);break e;case 1:a=l;var y=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ns===null||!ns.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=IT(s,a,e);f0(s,N);break e}}s=s.return}while(s!==null)}XT(t)}catch(I){e=I,Ot===t&&t!==null&&(Ot=t=t.return);continue}break}while(1)}function YT(){var n=fd.current;return fd.current=hd,n===null?hd:n}function ty(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Ht===null||!(Bs&268435455)&&!(eh&268435455)||Hr(Ht,Xt)}function gd(n,e){var t=Qe;Qe|=2;var i=YT();(Ht!==n||Xt!==e)&&(dr=null,$s(n,e));do try{rP();break}catch(r){KT(n,r)}while(1);if(Dg(),Qe=t,fd.current=i,Ot!==null)throw Error(fe(261));return Ht=null,Xt=0,Ft}function rP(){for(;Ot!==null;)JT(Ot)}function sP(){for(;Ot!==null&&!Pk();)JT(Ot)}function JT(n){var e=e1(n.alternate,n,Ln);n.memoizedProps=n.pendingProps,e===null?XT(n):Ot=e,Yg.current=null}function XT(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=XR(t,e),t!==null){t.flags&=32767,Ot=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ft=6,Ot=null;return}}else if(t=JR(t,e,Ln),t!==null){Ot=t;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=n}while(e!==null);Ft===0&&(Ft=5)}function Ts(n,e,t){var i=tt,r=ui.transition;try{ui.transition=null,tt=1,oP(n,e,t,i)}finally{ui.transition=r,tt=i}return null}function oP(n,e,t,i){do _o();while(Kr!==null);if(Qe&6)throw Error(fe(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(fe(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Fk(n,s),n===Ht&&(Ot=Ht=null,Xt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Gc||(Gc=!0,t1(Ju,function(){return _o(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ui.transition,ui.transition=null;var o=tt;tt=1;var a=Qe;Qe|=4,Yg.current=null,eP(n,t),WT(t,n),AR(sm),Zu=!!rm,sm=rm=null,n.current=t,tP(t),$k(),Qe=a,tt=o,ui.transition=s}else n.current=t;if(Gc&&(Gc=!1,Kr=n,md=r),s=n.pendingLanes,s===0&&(ns=null),Ok(t.stateNode),$n(n,kt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(pd)throw pd=!1,n=Cm,Cm=null,n;return md&1&&n.tag!==0&&_o(),s=n.pendingLanes,s&1?n===Am?hl++:(hl=0,Am=n):hl=0,fs(),null}function _o(){if(Kr!==null){var n=$x(md),e=ui.transition,t=tt;try{if(ui.transition=null,tt=16>n?16:n,Kr===null)var i=!1;else{if(n=Kr,Kr=null,md=0,Qe&6)throw Error(fe(331));var r=Qe;for(Qe|=4,we=n.current;we!==null;){var s=we,o=s.child;if(we.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(we=c;we!==null;){var u=we;switch(u.tag){case 0:case 11:case 15:ul(8,u,s)}var d=u.child;if(d!==null)d.return=u,we=d;else for(;we!==null;){u=we;var h=u.sibling,f=u.return;if(zT(u),u===c){we=null;break}if(h!==null){h.return=f,we=h;break}we=f}}}var g=s.alternate;if(g!==null){var b=g.child;if(b!==null){g.child=null;do{var C=b.sibling;b.sibling=null,b=C}while(b!==null)}}we=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,we=o;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ul(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,we=x;break e}we=s.return}}var y=n.current;for(we=y;we!==null;){o=we;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,we=E;else e:for(o=y;we!==null;){if(a=we,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zd(9,a)}}catch(I){St(a,a.return,I)}if(a===o){we=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,we=N;break e}we=a.return}}if(Qe=r,fs(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot(Hd,n)}catch(I){}i=!0}return i}finally{tt=t,ui.transition=e}}return!1}function _0(n,e,t){e=Go(t,e),e=MT(n,e,1),n=ts(n,e,1),e=vn(),n!==null&&(Ql(n,1,e),$n(n,e))}function St(n,e,t){if(n.tag===3)_0(n,n,t);else for(;e!==null;){if(e.tag===3){_0(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ns===null||!ns.has(i))){n=Go(t,n),n=IT(e,n,1),e=ts(e,n,1),n=vn(),e!==null&&(Ql(e,1,n),$n(e,n));break}}e=e.return}}function aP(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=vn(),n.pingedLanes|=n.suspendedLanes&t,Ht===n&&(Xt&t)===t&&(Ft===4||Ft===3&&(Xt&130023424)===Xt&&500>kt()-Xg?$s(n,0):Jg|=t),$n(n,e)}function ZT(n,e){e===0&&(n.mode&1?(e=qc,qc<<=1,!(qc&130023424)&&(qc=4194304)):e=1);var t=vn();n=Cr(n,e),n!==null&&(Ql(n,e,t),$n(n,t))}function lP(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),ZT(n,t)}function cP(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(fe(314))}i!==null&&i.delete(e),ZT(n,t)}var e1;e1=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Rn.current)Nn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Nn=!1,YR(n,e,t);Nn=!!(n.flags&131072)}else Nn=!1,gt&&e.flags&1048576&&iT(e,od,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ru(n,e),n=e.pendingProps;var r=Vo(e,hn.current);Oo(e,t),r=Hg(null,e,i,n,r,t);var s=Wg();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(i)?(s=!0,rd(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Fg(e),r.updater=Jd,e.stateNode=r,r._reactInternals=e,pm(e,i,n,t),e=ym(null,e,i,!0,s,t)):(e.tag=0,gt&&s&&Ig(e),yn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Ru(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=dP(i),n=Ei(i,n),r){case 0:e=gm(null,e,i,n,t);break e;case 1:e=C0(null,e,i,n,t);break e;case 11:e=T0(null,e,i,n,t);break e;case 14:e=S0(null,e,i,Ei(i.type,n),t);break e}throw Error(fe(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ei(i,r),gm(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ei(i,r),C0(n,e,i,r,t);case 3:e:{if(DT(e),n===null)throw Error(fe(387));i=e.pendingProps,s=e.memoizedState,r=s.element,aT(n,e),cd(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Go(Error(fe(423)),e),e=A0(n,e,i,t,r);break e}else if(i!==r){r=Go(Error(fe(424)),e),e=A0(n,e,i,t,r);break e}else for(Un=es(e.stateNode.containerInfo.firstChild),jn=e,gt=!0,Ci=null,t=dT(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Ho(),i===r){e=Ar(n,e,t);break e}yn(n,e,i,t)}e=e.child}return e;case 5:return hT(e),n===null&&dm(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,om(i,r)?o=null:s!==null&&om(i,s)&&(e.flags|=32),LT(n,e),yn(n,e,o,t),e.child;case 6:return n===null&&dm(e),null;case 13:return qT(n,e,t);case 4:return Ug(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Wo(e,null,i,t):yn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ei(i,r),T0(n,e,i,r,t);case 7:return yn(n,e,e.pendingProps,t),e.child;case 8:return yn(n,e,e.pendingProps.children,t),e.child;case 12:return yn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,st(ad,i._currentValue),i._currentValue=o,s!==null)if(qi(s.value,o)){if(s.children===r.children&&!Rn.current){e=Ar(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=vr(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),hm(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(fe(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),hm(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Oo(e,t),r=fi(r),i=i(r),e.flags|=1,yn(n,e,i,t),e.child;case 14:return i=e.type,r=Ei(i,e.pendingProps),r=Ei(i.type,r),S0(n,e,i,r,t);case 15:return OT(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Ei(i,r),Ru(n,e),e.tag=1,Pn(i)?(n=!0,rd(e)):n=!1,Oo(e,t),cT(e,i,r),pm(e,i,r,t),ym(null,e,i,!0,n,t);case 19:return BT(n,e,t);case 22:return _T(n,e,t)}throw Error(fe(156,e.tag))};function t1(n,e){return Nx(n,e)}function uP(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function li(n,e,t,i){return new uP(n,e,t,i)}function ny(n){return n=n.prototype,!(!n||!n.isReactComponent)}function dP(n){if(typeof n=="function")return ny(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Eg)return 11;if(n===xg)return 14}return 2}function rs(n,e){var t=n.alternate;return t===null?(t=li(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Mu(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")ny(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case vo:return Ms(t.children,r,s,e);case wg:o=8,r|=8;break;case qp:return n=li(12,t,e,r|2),n.elementType=qp,n.lanes=s,n;case Bp:return n=li(13,t,e,r),n.elementType=Bp,n.lanes=s,n;case Fp:return n=li(19,t,e,r),n.elementType=Fp,n.lanes=s,n;case ux:return th(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case lx:o=10;break e;case cx:o=9;break e;case Eg:o=11;break e;case xg:o=14;break e;case Ur:o=16,i=null;break e}throw Error(fe(130,n==null?n:typeof n,""))}return e=li(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Ms(n,e,t,i){return n=li(7,n,i,e),n.lanes=t,n}function th(n,e,t,i){return n=li(22,n,i,e),n.elementType=ux,n.lanes=t,n.stateNode={isHidden:!1},n}function Ff(n,e,t){return n=li(6,n,null,e),n.lanes=t,n}function Uf(n,e,t){return e=li(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function hP(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ef(0),this.expirationTimes=Ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ef(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function iy(n,e,t,i,r,s,o,a,l){return n=new hP(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=li(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Fg(s),n}function fP(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bo,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function n1(n){if(!n)return as;n=n._reactInternals;e:{if(Ks(n)!==n||n.tag!==1)throw Error(fe(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(fe(171))}if(n.tag===1){var t=n.type;if(Pn(t))return tT(n,t,e)}return e}function i1(n,e,t,i,r,s,o,a,l){return n=iy(t,i,!0,n,r,s,o,a,l),n.context=n1(null),t=n.current,i=vn(),r=is(t),s=vr(i,r),s.callback=e!=null?e:null,ts(t,s,r),n.current.lanes=r,Ql(n,r,i),$n(n,i),n}function nh(n,e,t,i){var r=e.current,s=vn(),o=is(r);return t=n1(t),e.context===null?e.context=t:e.pendingContext=t,e=vr(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=ts(r,e,o),n!==null&&(Ii(n,r,o,s),Au(n,r,o)),o}function yd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function L0(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ry(n,e){L0(n,e),(n=n.alternate)&&L0(n,e)}function pP(){return null}var r1=typeof reportError=="function"?reportError:function(n){console.error(n)};function sy(n){this._internalRoot=n}ih.prototype.render=sy.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(fe(409));nh(n,e,null,null)};ih.prototype.unmount=sy.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Fs(function(){nh(null,n,null,null)}),e[Sr]=null}};function ih(n){this._internalRoot=n}ih.prototype.unstable_scheduleHydration=function(n){if(n){var e=Ox();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Vr.length&&e!==0&&e<Vr[t].priority;t++);Vr.splice(t,0,n),t===0&&Lx(n)}};function oy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function rh(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function D0(){}function mP(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=yd(o);s.call(c)}}var o=i1(e,i,n,0,null,!1,!1,"",D0);return n._reactRootContainer=o,n[Sr]=o.current,Nl(n.nodeType===8?n.parentNode:n),Fs(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=yd(l);a.call(c)}}var l=iy(n,0,!1,null,null,!1,!1,"",D0);return n._reactRootContainer=l,n[Sr]=l.current,Nl(n.nodeType===8?n.parentNode:n),Fs(function(){nh(e,l,t,i)}),l}function sh(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=yd(o);a.call(l)}}nh(e,o,n,r)}else o=mP(t,e,n,r,i);return yd(o)}Mx=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Xa(e.pendingLanes);t!==0&&(Cg(e,t|1),$n(e,kt()),!(Qe&6)&&(Ko=kt()+500,fs()))}break;case 13:Fs(function(){var i=Cr(n,1);if(i!==null){var r=vn();Ii(i,n,1,r)}}),ry(n,1)}};Ag=function(n){if(n.tag===13){var e=Cr(n,134217728);if(e!==null){var t=vn();Ii(e,n,134217728,t)}ry(n,134217728)}};Ix=function(n){if(n.tag===13){var e=is(n),t=Cr(n,e);if(t!==null){var i=vn();Ii(t,n,e,i)}ry(n,e)}};Ox=function(){return tt};_x=function(n,e){var t=tt;try{return tt=n,e()}finally{tt=t}};Yp=function(n,e,t){switch(e){case"input":if(zp(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Kd(i);if(!r)throw Error(fe(90));hx(i),zp(i,r)}}}break;case"textarea":px(n,t);break;case"select":e=t.value,e!=null&&Po(n,!!t.multiple,e,!1)}};Ex=Zg;xx=Fs;var gP={usingClientEntryPoint:!1,Events:[Kl,To,Kd,vx,wx,Zg]},Fa={findFiberByHostInstance:Ss,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yP={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Cx(n),n===null?null:n.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||pP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Hd=Kc.inject(yP),Xi=Kc}catch(n){}}Hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gP;Hn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(e))throw Error(fe(200));return fP(n,e,null,t)};Hn.createRoot=function(n,e){if(!oy(n))throw Error(fe(299));var t=!1,i="",r=r1;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=iy(n,1,!1,null,null,t,!1,i,r),n[Sr]=e.current,Nl(n.nodeType===8?n.parentNode:n),new sy(e)};Hn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(fe(188)):(n=Object.keys(n).join(","),Error(fe(268,n)));return n=Cx(e),n=n===null?null:n.stateNode,n};Hn.flushSync=function(n){return Fs(n)};Hn.hydrate=function(n,e,t){if(!rh(e))throw Error(fe(200));return sh(null,n,e,!0,t)};Hn.hydrateRoot=function(n,e,t){if(!oy(n))throw Error(fe(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=r1;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=i1(e,null,n,1,t!=null?t:null,r,!1,s,o),n[Sr]=e.current,Nl(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new ih(e)};Hn.render=function(n,e,t){if(!rh(e))throw Error(fe(200));return sh(null,n,e,!1,t)};Hn.unmountComponentAtNode=function(n){if(!rh(n))throw Error(fe(40));return n._reactRootContainer?(Fs(function(){sh(null,null,n,!1,function(){n._reactRootContainer=null,n[Sr]=null})}),!0):!1};Hn.unstable_batchedUpdates=Zg;Hn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!rh(t))throw Error(fe(200));if(n==null||n._reactInternals===void 0)throw Error(fe(38));return sh(n,e,t,!1,i)};Hn.version="18.2.0-next-9e3b772b8-20220608";function s1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s1)}catch(n){console.error(n)}}s1(),ix.exports=Hn;var ay=ix.exports;const bP=us(ay);var o1,q0=ay;o1=q0.createRoot,q0.hydrateRoot;function Rm(n,e){return Rm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Rm(n,e)}function ls(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Rm(n,e)}var a1={exports:{}},vP="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wP=vP,EP=wP;function l1(){}function c1(){}c1.resetWarningCache=l1;var xP=function(){function n(i,r,s,o,a,l){if(l!==EP){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:c1,resetWarningCache:l1};return t.PropTypes=t,t};a1.exports=xP();var TP=a1.exports;const B0=us(TP);function Mn(){return Mn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Mn.apply(this,arguments)}function Yc(n){return n.charAt(0)==="/"}function jf(n,e){for(var t=e,i=t+1,r=n.length;i<r;t+=1,i+=1)n[t]=n[i];n.pop()}function SP(n,e){e===void 0&&(e="");var t=n&&n.split("/")||[],i=e&&e.split("/")||[],r=n&&Yc(n),s=e&&Yc(e),o=r||s;if(n&&Yc(n)?i=t:t.length&&(i.pop(),i=i.concat(t)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];d==="."?jf(i,u):d===".."?(jf(i,u),c++):c&&(jf(i,u),c--)}if(!o)for(;c--;c)i.unshift("..");o&&i[0]!==""&&(!i[0]||!Yc(i[0]))&&i.unshift("");var h=i.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}function F0(n){return n.valueOf?n.valueOf():Object.prototype.valueOf.call(n)}function Iu(n,e){if(n===e)return!0;if(n==null||e==null)return!1;if(Array.isArray(n))return Array.isArray(e)&&n.length===e.length&&n.every(function(r,s){return Iu(r,e[s])});if(typeof n=="object"||typeof e=="object"){var t=F0(n),i=F0(e);return t!==n||i!==e?Iu(t,i):Object.keys(Object.assign({},n,e)).every(function(r){return Iu(n[r],e[r])})}return!1}var CP=!0,zf="Invariant failed";function Ys(n,e){if(!n){if(CP)throw new Error(zf);var t=typeof e=="function"?e():e,i=t?"".concat(zf,": ").concat(t):zf;throw new Error(i)}}function fl(n){return n.charAt(0)==="/"?n:"/"+n}function U0(n){return n.charAt(0)==="/"?n.substr(1):n}function AP(n,e){return n.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(n.charAt(e.length))!==-1}function u1(n,e){return AP(n,e)?n.substr(e.length):n}function d1(n){return n.charAt(n.length-1)==="/"?n.slice(0,-1):n}function NP(n){var e=n||"/",t="",i="",r=e.indexOf("#");r!==-1&&(i=e.substr(r),e=e.substr(0,r));var s=e.indexOf("?");return s!==-1&&(t=e.substr(s),e=e.substr(0,s)),{pathname:e,search:t==="?"?"":t,hash:i==="#"?"":i}}function ti(n){var e=n.pathname,t=n.search,i=n.hash,r=e||"/";return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function kn(n,e,t,i){var r;typeof n=="string"?(r=NP(n),r.state=e):(r=Mn({},n),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return t&&(r.key=t),i?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=SP(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function kP(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash===e.hash&&n.key===e.key&&Iu(n.state,e.state)}function ly(){var n=null;function e(o){return n=o,function(){n===o&&(n=null)}}function t(o,a,l,c){if(n!=null){var u=typeof n=="function"?n(o,a):n;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var i=[];function r(o){var a=!0;function l(){a&&o.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(c){return c!==l})}}function s(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];i.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:t,appendListener:r,notifyListeners:s}}var h1=!!(typeof window<"u"&&window.document&&window.document.createElement);function f1(n,e){e(window.confirm(n))}function RP(){var n=window.navigator.userAgent;return(n.indexOf("Android 2.")!==-1||n.indexOf("Android 4.0")!==-1)&&n.indexOf("Mobile Safari")!==-1&&n.indexOf("Chrome")===-1&&n.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function PP(){return window.navigator.userAgent.indexOf("Trident")===-1}function $P(){return window.navigator.userAgent.indexOf("Firefox")===-1}function MP(n){return n.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var j0="popstate",z0="hashchange";function V0(){try{return window.history.state||{}}catch(n){return{}}}function IP(n){n===void 0&&(n={}),h1||Ys(!1);var e=window.history,t=RP(),i=!PP(),r=n,s=r.forceRefresh,o=s===void 0?!1:s,a=r.getUserConfirmation,l=a===void 0?f1:a,c=r.keyLength,u=c===void 0?6:c,d=n.basename?d1(fl(n.basename)):"";function h(ee){var j=ee||{},X=j.key,le=j.state,xe=window.location,Te=xe.pathname,Ce=xe.search,Re=xe.hash,_e=Te+Ce+Re;return d&&(_e=u1(_e,d)),kn(_e,le,X)}function f(){return Math.random().toString(36).substr(2,u)}var g=ly();function b(ee){Mn(te,ee),te.length=e.length,g.notifyListeners(te.location,te.action)}function C(ee){MP(ee)||E(h(ee.state))}function x(){E(h(V0()))}var y=!1;function E(ee){if(y)y=!1,b();else{var j="POP";g.confirmTransitionTo(ee,j,l,function(X){X?b({action:j,location:ee}):N(ee)})}}function N(ee){var j=te.location,X=B.indexOf(j.key);X===-1&&(X=0);var le=B.indexOf(ee.key);le===-1&&(le=0);var xe=X-le;xe&&(y=!0,H(xe))}var I=h(V0()),B=[I.key];function O(ee){return d+ti(ee)}function $(ee,j){var X="PUSH",le=kn(ee,j,f(),te.location);g.confirmTransitionTo(le,X,l,function(xe){if(xe){var Te=O(le),Ce=le.key,Re=le.state;if(t)if(e.pushState({key:Ce,state:Re},null,Te),o)window.location.href=Te;else{var _e=B.indexOf(te.location.key),ht=B.slice(0,_e+1);ht.push(le.key),B=ht,b({action:X,location:le})}else window.location.href=Te}})}function R(ee,j){var X="REPLACE",le=kn(ee,j,f(),te.location);g.confirmTransitionTo(le,X,l,function(xe){if(xe){var Te=O(le),Ce=le.key,Re=le.state;if(t)if(e.replaceState({key:Ce,state:Re},null,Te),o)window.location.replace(Te);else{var _e=B.indexOf(te.location.key);_e!==-1&&(B[_e]=le.key),b({action:X,location:le})}else window.location.replace(Te)}})}function H(ee){e.go(ee)}function A(){H(-1)}function U(){H(1)}var D=0;function K(ee){D+=ee,D===1&&ee===1?(window.addEventListener(j0,C),i&&window.addEventListener(z0,x)):D===0&&(window.removeEventListener(j0,C),i&&window.removeEventListener(z0,x))}var re=!1;function he(ee){ee===void 0&&(ee=!1);var j=g.setPrompt(ee);return re||(K(1),re=!0),function(){return re&&(re=!1,K(-1)),j()}}function ce(ee){var j=g.appendListener(ee);return K(1),function(){K(-1),j()}}var te={length:e.length,action:"POP",location:I,createHref:O,push:$,replace:R,go:H,goBack:A,goForward:U,block:he,listen:ce};return te}var H0="hashchange",OP={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+U0(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:U0,decodePath:fl},slash:{encodePath:fl,decodePath:fl}};function p1(n){var e=n.indexOf("#");return e===-1?n:n.slice(0,e)}function Ua(){var n=window.location.href,e=n.indexOf("#");return e===-1?"":n.substring(e+1)}function _P(n){window.location.hash=n}function Vf(n){window.location.replace(p1(window.location.href)+"#"+n)}function LP(n){n===void 0&&(n={}),h1||Ys(!1);var e=window.history;$P();var t=n,i=t.getUserConfirmation,r=i===void 0?f1:i,s=t.hashType,o=s===void 0?"slash":s,a=n.basename?d1(fl(n.basename)):"",l=OP[o],c=l.encodePath,u=l.decodePath;function d(){var j=u(Ua());return a&&(j=u1(j,a)),kn(j)}var h=ly();function f(j){Mn(ee,j),ee.length=e.length,h.notifyListeners(ee.location,ee.action)}var g=!1,b=null;function C(j,X){return j.pathname===X.pathname&&j.search===X.search&&j.hash===X.hash}function x(){var j=Ua(),X=c(j);if(j!==X)Vf(X);else{var le=d(),xe=ee.location;if(!g&&C(xe,le)||b===ti(le))return;b=null,y(le)}}function y(j){if(g)g=!1,f();else{var X="POP";h.confirmTransitionTo(j,X,r,function(le){le?f({action:X,location:j}):E(j)})}}function E(j){var X=ee.location,le=O.lastIndexOf(ti(X));le===-1&&(le=0);var xe=O.lastIndexOf(ti(j));xe===-1&&(xe=0);var Te=le-xe;Te&&(g=!0,A(Te))}var N=Ua(),I=c(N);N!==I&&Vf(I);var B=d(),O=[ti(B)];function $(j){var X=document.querySelector("base"),le="";return X&&X.getAttribute("href")&&(le=p1(window.location.href)),le+"#"+c(a+ti(j))}function R(j,X){var le="PUSH",xe=kn(j,void 0,void 0,ee.location);h.confirmTransitionTo(xe,le,r,function(Te){if(Te){var Ce=ti(xe),Re=c(a+Ce),_e=Ua()!==Re;if(_e){b=Ce,_P(Re);var ht=O.lastIndexOf(ti(ee.location)),wt=O.slice(0,ht+1);wt.push(Ce),O=wt,f({action:le,location:xe})}else f()}})}function H(j,X){var le="REPLACE",xe=kn(j,void 0,void 0,ee.location);h.confirmTransitionTo(xe,le,r,function(Te){if(Te){var Ce=ti(xe),Re=c(a+Ce),_e=Ua()!==Re;_e&&(b=Ce,Vf(Re));var ht=O.indexOf(ti(ee.location));ht!==-1&&(O[ht]=Ce),f({action:le,location:xe})}})}function A(j){e.go(j)}function U(){A(-1)}function D(){A(1)}var K=0;function re(j){K+=j,K===1&&j===1?window.addEventListener(H0,x):K===0&&window.removeEventListener(H0,x)}var he=!1;function ce(j){j===void 0&&(j=!1);var X=h.setPrompt(j);return he||(re(1),he=!0),function(){return he&&(he=!1,re(-1)),X()}}function te(j){var X=h.appendListener(j);return re(1),function(){re(-1),X()}}var ee={length:e.length,action:"POP",location:B,createHref:$,push:R,replace:H,go:A,goBack:U,goForward:D,block:ce,listen:te};return ee}function W0(n,e,t){return Math.min(Math.max(n,e),t)}function DP(n){n===void 0&&(n={});var e=n,t=e.getUserConfirmation,i=e.initialEntries,r=i===void 0?["/"]:i,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,l=a===void 0?6:a,c=ly();function u($){Mn(O,$),O.length=O.entries.length,c.notifyListeners(O.location,O.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=W0(o,0,r.length-1),f=r.map(function($){return typeof $=="string"?kn($,void 0,d()):kn($,void 0,$.key||d())}),g=ti;function b($,R){var H="PUSH",A=kn($,R,d(),O.location);c.confirmTransitionTo(A,H,t,function(U){if(U){var D=O.index,K=D+1,re=O.entries.slice(0);re.length>K?re.splice(K,re.length-K,A):re.push(A),u({action:H,location:A,index:K,entries:re})}})}function C($,R){var H="REPLACE",A=kn($,R,d(),O.location);c.confirmTransitionTo(A,H,t,function(U){U&&(O.entries[O.index]=A,u({action:H,location:A}))})}function x($){var R=W0(O.index+$,0,O.entries.length-1),H="POP",A=O.entries[R];c.confirmTransitionTo(A,H,t,function(U){U?u({action:H,location:A,index:R}):u()})}function y(){x(-1)}function E(){x(1)}function N($){var R=O.index+$;return R>=0&&R<O.entries.length}function I($){return $===void 0&&($=!1),c.setPrompt($)}function B($){return c.appendListener($)}var O={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:g,push:b,replace:C,go:x,goBack:y,goForward:E,canGo:N,block:I,listen:B};return O}var aa={exports:{}},qP=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"},bd=qP;aa.exports=y1;aa.exports.parse=cy;aa.exports.compile=FP;aa.exports.tokensToFunction=m1;aa.exports.tokensToRegExp=g1;var BP=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function cy(n,e){for(var t=[],i=0,r=0,s="",o=e&&e.delimiter||"/",a;(a=BP.exec(n))!=null;){var l=a[0],c=a[1],u=a.index;if(s+=n.slice(r,u),r=u+l.length,c){s+=c[1];continue}var d=n[r],h=a[2],f=a[3],g=a[4],b=a[5],C=a[6],x=a[7];s&&(t.push(s),s="");var y=h!=null&&d!=null&&d!==h,E=C==="+"||C==="*",N=C==="?"||C==="*",I=a[2]||o,B=g||b;t.push({name:f||i++,prefix:h||"",delimiter:I,optional:N,repeat:E,partial:y,asterisk:!!x,pattern:B?zP(B):x?".*":"[^"+Ou(I)+"]+?"})}return r<n.length&&(s+=n.substr(r)),s&&t.push(s),t}function FP(n,e){return m1(cy(n,e),e)}function UP(n){return encodeURI(n).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function jP(n){return encodeURI(n).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function m1(n,e){for(var t=new Array(n.length),i=0;i<n.length;i++)typeof n[i]=="object"&&(t[i]=new RegExp("^(?:"+n[i].pattern+")$",dy(e)));return function(r,s){for(var o="",a=r||{},l=s||{},c=l.pretty?UP:encodeURIComponent,u=0;u<n.length;u++){var d=n[u];if(typeof d=="string"){o+=d;continue}var h=a[d.name],f;if(h==null)if(d.optional){d.partial&&(o+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(bd(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var g=0;g<h.length;g++){if(f=c(h[g]),!t[u].test(f))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(g===0?d.prefix:d.delimiter)+f}continue}if(f=d.asterisk?jP(h):c(h),!t[u].test(f))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+f+'"');o+=d.prefix+f}return o}}function Ou(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function zP(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function uy(n,e){return n.keys=e,n}function dy(n){return n&&n.sensitive?"":"i"}function VP(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var i=0;i<t.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return uy(n,e)}function HP(n,e,t){for(var i=[],r=0;r<n.length;r++)i.push(y1(n[r],e,t).source);var s=new RegExp("(?:"+i.join("|")+")",dy(t));return uy(s,e)}function WP(n,e,t){return g1(cy(n,t),e,t)}function g1(n,e,t){bd(e)||(t=e||t,e=[]),t=t||{};for(var i=t.strict,r=t.end!==!1,s="",o=0;o<n.length;o++){var a=n[o];if(typeof a=="string")s+=Ou(a);else{var l=Ou(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",s+=c}}var u=Ou(t.delimiter||"/"),d=s.slice(-u.length)===u;return i||(s=(d?s.slice(0,-u.length):s)+"(?:"+u+"(?=$))?"),r?s+="$":s+=i&&d?"":"(?="+u+"|$)",uy(new RegExp("^"+s,dy(t)),e)}function y1(n,e,t){return bd(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?VP(n,e):bd(n)?HP(n,e,t):WP(n,e,t)}var QP=aa.exports;const b1=us(QP);var it={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=typeof Symbol=="function"&&Symbol.for,hy=Gt?Symbol.for("react.element"):60103,fy=Gt?Symbol.for("react.portal"):60106,oh=Gt?Symbol.for("react.fragment"):60107,ah=Gt?Symbol.for("react.strict_mode"):60108,lh=Gt?Symbol.for("react.profiler"):60114,ch=Gt?Symbol.for("react.provider"):60109,uh=Gt?Symbol.for("react.context"):60110,py=Gt?Symbol.for("react.async_mode"):60111,dh=Gt?Symbol.for("react.concurrent_mode"):60111,hh=Gt?Symbol.for("react.forward_ref"):60112,fh=Gt?Symbol.for("react.suspense"):60113,GP=Gt?Symbol.for("react.suspense_list"):60120,ph=Gt?Symbol.for("react.memo"):60115,mh=Gt?Symbol.for("react.lazy"):60116,KP=Gt?Symbol.for("react.block"):60121,YP=Gt?Symbol.for("react.fundamental"):60117,JP=Gt?Symbol.for("react.responder"):60118,XP=Gt?Symbol.for("react.scope"):60119;function Qn(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case hy:switch(n=n.type,n){case py:case dh:case oh:case lh:case ah:case fh:return n;default:switch(n=n&&n.$$typeof,n){case uh:case hh:case mh:case ph:case ch:return n;default:return e}}case fy:return e}}}function v1(n){return Qn(n)===dh}it.AsyncMode=py;it.ConcurrentMode=dh;it.ContextConsumer=uh;it.ContextProvider=ch;it.Element=hy;it.ForwardRef=hh;it.Fragment=oh;it.Lazy=mh;it.Memo=ph;it.Portal=fy;it.Profiler=lh;it.StrictMode=ah;it.Suspense=fh;it.isAsyncMode=function(n){return v1(n)||Qn(n)===py};it.isConcurrentMode=v1;it.isContextConsumer=function(n){return Qn(n)===uh};it.isContextProvider=function(n){return Qn(n)===ch};it.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===hy};it.isForwardRef=function(n){return Qn(n)===hh};it.isFragment=function(n){return Qn(n)===oh};it.isLazy=function(n){return Qn(n)===mh};it.isMemo=function(n){return Qn(n)===ph};it.isPortal=function(n){return Qn(n)===fy};it.isProfiler=function(n){return Qn(n)===lh};it.isStrictMode=function(n){return Qn(n)===ah};it.isSuspense=function(n){return Qn(n)===fh};it.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===oh||n===dh||n===lh||n===ah||n===fh||n===GP||typeof n=="object"&&n!==null&&(n.$$typeof===mh||n.$$typeof===ph||n.$$typeof===ch||n.$$typeof===uh||n.$$typeof===hh||n.$$typeof===YP||n.$$typeof===JP||n.$$typeof===XP||n.$$typeof===KP)};it.typeOf=Qn;function w1(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var E1={exports:{}},nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=typeof Symbol=="function"&&Symbol.for,my=Kt?Symbol.for("react.element"):60103,gy=Kt?Symbol.for("react.portal"):60106,gh=Kt?Symbol.for("react.fragment"):60107,yh=Kt?Symbol.for("react.strict_mode"):60108,bh=Kt?Symbol.for("react.profiler"):60114,vh=Kt?Symbol.for("react.provider"):60109,wh=Kt?Symbol.for("react.context"):60110,yy=Kt?Symbol.for("react.async_mode"):60111,Eh=Kt?Symbol.for("react.concurrent_mode"):60111,xh=Kt?Symbol.for("react.forward_ref"):60112,Th=Kt?Symbol.for("react.suspense"):60113,ZP=Kt?Symbol.for("react.suspense_list"):60120,Sh=Kt?Symbol.for("react.memo"):60115,Ch=Kt?Symbol.for("react.lazy"):60116,e$=Kt?Symbol.for("react.block"):60121,t$=Kt?Symbol.for("react.fundamental"):60117,n$=Kt?Symbol.for("react.responder"):60118,i$=Kt?Symbol.for("react.scope"):60119;function Gn(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case my:switch(n=n.type,n){case yy:case Eh:case gh:case bh:case yh:case Th:return n;default:switch(n=n&&n.$$typeof,n){case wh:case xh:case Ch:case Sh:case vh:return n;default:return e}}case gy:return e}}}function x1(n){return Gn(n)===Eh}nt.AsyncMode=yy;nt.ConcurrentMode=Eh;nt.ContextConsumer=wh;nt.ContextProvider=vh;nt.Element=my;nt.ForwardRef=xh;nt.Fragment=gh;nt.Lazy=Ch;nt.Memo=Sh;nt.Portal=gy;nt.Profiler=bh;nt.StrictMode=yh;nt.Suspense=Th;nt.isAsyncMode=function(n){return x1(n)||Gn(n)===yy};nt.isConcurrentMode=x1;nt.isContextConsumer=function(n){return Gn(n)===wh};nt.isContextProvider=function(n){return Gn(n)===vh};nt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===my};nt.isForwardRef=function(n){return Gn(n)===xh};nt.isFragment=function(n){return Gn(n)===gh};nt.isLazy=function(n){return Gn(n)===Ch};nt.isMemo=function(n){return Gn(n)===Sh};nt.isPortal=function(n){return Gn(n)===gy};nt.isProfiler=function(n){return Gn(n)===bh};nt.isStrictMode=function(n){return Gn(n)===yh};nt.isSuspense=function(n){return Gn(n)===Th};nt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===gh||n===Eh||n===bh||n===yh||n===Th||n===ZP||typeof n=="object"&&n!==null&&(n.$$typeof===Ch||n.$$typeof===Sh||n.$$typeof===vh||n.$$typeof===wh||n.$$typeof===xh||n.$$typeof===t$||n.$$typeof===n$||n.$$typeof===i$||n.$$typeof===e$)};nt.typeOf=Gn;E1.exports=nt;var r$=E1.exports,by=r$,s$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},T1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},vy={};vy[by.ForwardRef]=a$;vy[by.Memo]=T1;function Q0(n){return by.isMemo(n)?T1:vy[n.$$typeof]||s$}var l$=Object.defineProperty,c$=Object.getOwnPropertyNames,G0=Object.getOwnPropertySymbols,u$=Object.getOwnPropertyDescriptor,d$=Object.getPrototypeOf,K0=Object.prototype;function S1(n,e,t){if(typeof e!="string"){if(K0){var i=d$(e);i&&i!==K0&&S1(n,i,t)}var r=c$(e);G0&&(r=r.concat(G0(e)));for(var s=Q0(n),o=Q0(e),a=0;a<r.length;++a){var l=r[a];if(!o$[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var c=u$(e,l);try{l$(n,l,c)}catch(u){}}}}return n}var h$=S1;const f$=us(h$);var Hf=1073741823,Y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function p$(){var n="__global_unique_id__";return Y0[n]=(Y0[n]||0)+1}function m$(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function g$(n){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(r){return r!==i})},get:function(){return n},set:function(i,r){n=i,e.forEach(function(s){return s(n,r)})}}}function y$(n){return Array.isArray(n)?n[0]:n}function b$(n,e){var t,i,r="__create-react-context-"+p$()+"__",s=function(a){ls(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=g$(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[r]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,f=d.value,g;m$(h,f)?g=0:(g=typeof e=="function"?e(h,f):Hf,g|=0,g!==0&&this.emitter.set(d.value,g))}},c.render=function(){return this.props.children},l}(Z.Component);s.childContextTypes=(t={},t[r]=B0.object.isRequired,t);var o=function(a){ls(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),f=0;f<d;f++)h[f]=arguments[f];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(g,b){var C=u.observedBits|0;C&b&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?Hf:h},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?Hf:d},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():n},c.render=function(){return y$(this.props.children)(this.state.value)},l}(Z.Component);return o.contextTypes=(i={},i[r]=B0.object,i),{Provider:s,Consumer:o}}var v$=Z.createContext||b$,C1=function(e){var t=v$();return t.displayName=e,t},w$=C1("Router-History"),Yo=C1("Router"),Jl=function(n){ls(e,n),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(i){var r;return r=n.call(this,i)||this,r.state={location:i.history.location},r._isMounted=!1,r._pendingLocation=null,i.staticContext||(r.unlisten=i.history.listen(function(s){r._pendingLocation=s})),r}var t=e.prototype;return t.componentDidMount=function(){var r=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){r._isMounted&&r.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},t.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},t.render=function(){return Z.createElement(Yo.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Z.createElement(w$.Provider,{children:this.props.children||null,value:this.props.history}))},e}(Z.Component);Z.Component;var E$=function(n){ls(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},t.componentDidUpdate=function(r){this.props.onUpdate&&this.props.onUpdate.call(this,this,r)},t.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},t.render=function(){return null},e}(Z.Component),Wf={},x$=1e4,J0=0;function T$(n){if(Wf[n])return Wf[n];var e=b1.compile(n);return J0<x$&&(Wf[n]=e,J0++),e}function X0(n,e){return n===void 0&&(n="/"),e===void 0&&(e={}),n==="/"?n:T$(n)(e,{pretty:!0})}function S$(n){var e=n.computedMatch,t=n.to,i=n.push,r=i===void 0?!1:i;return Z.createElement(Yo.Consumer,null,function(s){s||Ys(!1);var o=s.history,a=s.staticContext,l=r?o.push:o.replace,c=kn(e?typeof t=="string"?X0(t,e.params):Mn({},t,{pathname:X0(t.pathname,e.params)}):t);return a?(l(c),null):Z.createElement(E$,{onMount:function(){l(c)},onUpdate:function(d,h){var f=kn(h.to);kP(f,Mn({},c,{key:f.key}))||l(c)},to:t})})}var Z0={},C$=1e4,ev=0;function A$(n,e){var t=""+e.end+e.strict+e.sensitive,i=Z0[t]||(Z0[t]={});if(i[n])return i[n];var r=[],s=b1(n,r,e),o={regexp:s,keys:r};return ev<C$&&(i[n]=o,ev++),o}function Us(n,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var t=e,i=t.path,r=t.exact,s=r===void 0?!1:r,o=t.strict,a=o===void 0?!1:o,l=t.sensitive,c=l===void 0?!1:l,u=[].concat(i);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var f=A$(h,{end:s,strict:a,sensitive:c}),g=f.regexp,b=f.keys,C=g.exec(n);if(!C)return null;var x=C[0],y=C.slice(1),E=n===x;return s&&!E?null:{path:h,url:h==="/"&&x===""?"/":x,isExact:E,params:b.reduce(function(N,I,B){return N[I.name]=y[B],N},{})}},null)}function N$(n){return Z.Children.count(n)===0}var el=function(n){ls(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){var r=this;return Z.createElement(Yo.Consumer,null,function(s){s||Ys(!1);var o=r.props.location||s.location,a=r.props.computedMatch?r.props.computedMatch:r.props.path?Us(o.pathname,r.props):s.match,l=Mn({},s,{location:o,match:a}),c=r.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&N$(u)&&(u=null),Z.createElement(Yo.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?Z.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(Z.Component);function wy(n){return n.charAt(0)==="/"?n:"/"+n}function k$(n,e){return n?Mn({},e,{pathname:wy(n)+e.pathname}):e}function R$(n,e){if(!n)return e;var t=wy(n);return e.pathname.indexOf(t)!==0?e:Mn({},e,{pathname:e.pathname.substr(t.length)})}function tv(n){return typeof n=="string"?n:ti(n)}function Qf(n){return function(){Ys(!1)}}function nv(){}Z.Component;Z.Component;function P$(n){var e="withRouter("+(n.displayName||n.name)+")",t=function(r){var s=r.wrappedComponentRef,o=w1(r,["wrappedComponentRef"]);return Z.createElement(Yo.Consumer,null,function(a){return a||Ys(!1),Z.createElement(n,Mn({},o,a,{ref:s}))})};return t.displayName=e,t.WrappedComponent=n,f$(t,n)}Z.useContext;const $$="modulepreload",M$=function(n){return"/"+n},iv={},an=function(e,t,i){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=M$(s),s in iv)return;iv[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let u=r.length-1;u>=0;u--){const d=r[u];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(s,'"]').concat(a)))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":$$,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error("Unable to preload CSS for ".concat(s))))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},uo={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,patchPseudoShadowDom:!1};let ho,A1,Ah,N1=!1,vd=!1,Ey=!1,Dn=!1,rv=null,Pm=!1;const I$={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},O$=n=>{const e=new URL(n,Qt.$resourcesUrl$);return e.origin!==Zl.location.origin?e.href:e.pathname},js=(n,e="")=>()=>{},sv="http://www.w3.org/1999/xlink",ov={},_$="http://www.w3.org/2000/svg",L$="http://www.w3.org/1999/xhtml",D$=n=>n!=null,xy=n=>(n=typeof n,n==="object"||n==="function");function q$(n){var e,t,i;return(i=(t=(e=n.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||t===void 0?void 0:t.getAttribute("content"))!==null&&i!==void 0?i:void 0}const z=(n,e,...t)=>{let i=null,r=null,s=null,o=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((o=typeof n!="function"&&!xy(i))&&(i=String(i)),o&&a?l[l.length-1].$text$+=i:l.push(o?wd(null,i):i),a=o)};if(c(t),e){e.key&&(r=e.key),e.name&&(s=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof n=="function")return n(e===null?{}:e,l,F$);const u=wd(n,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=s,u},wd=(n,e)=>{const t={$flags$:0,$tag$:n,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t.$key$=null,t.$name$=null,t},Ge={},B$=n=>n&&n.$tag$===Ge,F$={forEach:(n,e)=>n.map(av).forEach(e),map:(n,e)=>n.map(av).map(e).map(U$)},av=n=>({vattrs:n.$attrs$,vchildren:n.$children$,vkey:n.$key$,vname:n.$name$,vtag:n.$tag$,vtext:n.$text$}),U$=n=>{if(typeof n.vtag=="function"){const t=Object.assign({},n.vattrs);return n.vkey&&(t.key=n.vkey),n.vname&&(t.name=n.vname),z(n.vtag,t,...n.vchildren||[])}const e=wd(n.vtag,n.vtext);return e.$attrs$=n.vattrs,e.$children$=n.vchildren,e.$key$=n.vkey,e.$name$=n.vname,e},j$=n=>q1.map(e=>e(n)).find(e=>!!e),z$=n=>q1.push(n),V$=n=>la(n).$modeName$,H$=(n,e)=>n!=null&&!xy(n)?e&4?n==="false"?!1:n===""||!!n:e&2?parseFloat(n):e&1?String(n):n:n,W$=n=>n,Ie=(n,e,t)=>{const i=W$(n);return{emit:r=>Q$(i,e,{bubbles:!!(t&4),composed:!!(t&2),cancelable:!!(t&1),detail:r})}},Q$=(n,e,t)=>{const i=Qt.ce(e,t);return n.dispatchEvent(i),i},lv=new WeakMap,G$=(n,e,t)=>{let i=xd.get(n);wM&&t?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,xd.set(n,i)},K$=(n,e,t)=>{var i;const r=k1(e,t),s=xd.get(r);if(n=n.nodeType===11?n:Oi,s)if(typeof s=="string"){n=n.head||n;let o=lv.get(n),a;if(o||lv.set(n,o=new Set),!o.has(r)){{a=Oi.createElement("style"),a.innerHTML=s;const l=(i=Qt.$nonce$)!==null&&i!==void 0?i:q$(Oi);l!=null&&a.setAttribute("nonce",l),n.insertBefore(a,n.querySelector("link"))}o&&o.add(r)}}else n.adoptedStyleSheets.includes(s)||(n.adoptedStyleSheets=[...n.adoptedStyleSheets,s]);return r},Y$=n=>{const e=n.$cmpMeta$,t=n.$hostElement$,i=e.$flags$,r=js("attachStyles",e.$tagName$),s=K$(t.shadowRoot?t.shadowRoot:t.getRootNode(),e,n.$modeName$);i&10&&(t["s-sc"]=s,t.classList.add(s+"-h"),i&2&&t.classList.add(s+"-s")),r()},k1=(n,e)=>"sc-"+(e&&n.$flags$&32?n.$tagName$+"-"+e:n.$tagName$),cv=(n,e,t,i,r,s)=>{if(t!==i){let o=pv(n,e),a=e.toLowerCase();if(e==="class"){const l=n.classList,c=uv(t),u=uv(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in t)(!i||i[l]==null)&&(l.includes("-")?n.style.removeProperty(l):n.style[l]="");for(const l in i)(!t||i[l]!==t[l])&&(l.includes("-")?n.style.setProperty(l,i[l]):n.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(n);else if(!n.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):pv(Zl,a)?e=a.slice(2):e=a[2]+e.slice(3),t&&Qt.rel(n,e,t,!1),i&&Qt.ael(n,e,i,!1);else{const l=xy(i);if((o||l&&i!==null)&&!r)try{if(n.tagName.includes("-"))n[e]=i;else{const u=i==null?"":i;e==="list"?o=!1:(t==null||n[e]!=u)&&(n[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||n.getAttribute(e)==="")&&(c?n.removeAttributeNS(sv,e):n.removeAttribute(e)):(!o||s&4||r)&&!l&&(i=i===!0?"":i,c?n.setAttributeNS(sv,e,i):n.setAttribute(e,i))}}},J$=/\s/,uv=n=>n?n.split(J$):[],R1=(n,e,t,i)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=n&&n.$attrs$||ov,o=e.$attrs$||ov;for(i in s)i in o||cv(r,i,s[i],void 0,t,e.$flags$);for(i in o)cv(r,i,s[i],o[i],t,e.$flags$)},Ed=(n,e,t,i)=>{const r=e.$children$[t];let s=0,o,a,l;if(N1||(Ey=!0,r.$tag$==="slot"&&(ho&&i.classList.add(ho+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)o=r.$elm$=Oi.createTextNode(r.$text$);else if(r.$flags$&1)o=r.$elm$=Oi.createTextNode("");else{if(Dn||(Dn=r.$tag$==="svg"),o=r.$elm$=Oi.createElementNS(Dn?_$:L$,r.$flags$&2?"slot-fb":r.$tag$),Dn&&r.$tag$==="foreignObject"&&(Dn=!1),R1(null,r,Dn),D$(ho)&&o["s-si"]!==ho&&o.classList.add(o["s-si"]=ho),r.$children$)for(s=0;s<r.$children$.length;++s)a=Ed(n,r,s,o),a&&o.appendChild(a);r.$tag$==="svg"?Dn=!1:o.tagName==="foreignObject"&&(Dn=!0)}return o["s-hn"]=Ah,r.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=A1,o["s-sn"]=r.$name$||"",l=n&&n.$children$&&n.$children$[t],l&&l.$tag$===r.$tag$&&n.$elm$&&Ll(n.$elm$,!1)),o},Ll=(n,e)=>{Qt.$flags$|=1;const t=n.childNodes;for(let i=t.length-1;i>=0;i--){const r=t[i];r["s-hn"]!==Ah&&r["s-ol"]&&(M1(r).insertBefore(r,Ty(r)),r["s-ol"].remove(),r["s-ol"]=void 0,Ey=!0),e&&Ll(r,e)}Qt.$flags$&=-2},P1=(n,e,t,i,r,s)=>{let o=n["s-cr"]&&n["s-cr"].parentNode||n,a;for(o.shadowRoot&&o.tagName===Ah&&(o=o.shadowRoot);r<=s;++r)i[r]&&(a=Ed(null,t,r,n),a&&(i[r].$elm$=a,o.insertBefore(a,Ty(e))))},$1=(n,e,t)=>{for(let i=e;i<=t;++i){const r=n[i];if(r){const s=r.$elm$;_1(r),s&&(vd=!0,s["s-ol"]?s["s-ol"].remove():Ll(s,!0),s.remove())}}},X$=(n,e,t,i)=>{let r=0,s=0,o=0,a=0,l=e.length-1,c=e[0],u=e[l],d=i.length-1,h=i[0],f=i[d],g,b;for(;r<=l&&s<=d;)if(c==null)c=e[++r];else if(u==null)u=e[--l];else if(h==null)h=i[++s];else if(f==null)f=i[--d];else if(Jc(c,h))fo(c,h),c=e[++r],h=i[++s];else if(Jc(u,f))fo(u,f),u=e[--l],f=i[--d];else if(Jc(c,f))(c.$tag$==="slot"||f.$tag$==="slot")&&Ll(c.$elm$.parentNode,!1),fo(c,f),n.insertBefore(c.$elm$,u.$elm$.nextSibling),c=e[++r],f=i[--d];else if(Jc(u,h))(c.$tag$==="slot"||f.$tag$==="slot")&&Ll(u.$elm$.parentNode,!1),fo(u,h),n.insertBefore(u.$elm$,c.$elm$),u=e[--l],h=i[++s];else{for(o=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===h.$key$){o=a;break}o>=0?(b=e[o],b.$tag$!==h.$tag$?g=Ed(e&&e[s],t,o,n):(fo(b,h),e[o]=void 0,g=b.$elm$),h=i[++s]):(g=Ed(e&&e[s],t,s,n),h=i[++s]),g&&M1(c.$elm$).insertBefore(g,Ty(c.$elm$))}r>l?P1(n,i[d+1]==null?null:i[d+1].$elm$,t,i,s,d):s>d&&$1(e,r,l)},Jc=(n,e)=>n.$tag$===e.$tag$?n.$tag$==="slot"?n.$name$===e.$name$:n.$key$===e.$key$:!1,Ty=n=>n&&n["s-ol"]||n,M1=n=>(n["s-ol"]?n["s-ol"]:n).parentNode,fo=(n,e)=>{const t=e.$elm$=n.$elm$,i=n.$children$,r=e.$children$,s=e.$tag$,o=e.$text$;let a;o===null?(Dn=s==="svg"?!0:s==="foreignObject"?!1:Dn,s==="slot"||R1(n,e,Dn),i!==null&&r!==null?X$(t,i,e,r):r!==null?(n.$text$!==null&&(t.textContent=""),P1(t,null,e,r,0,r.length-1)):i!==null&&$1(i,0,i.length-1),Dn&&s==="svg"&&(Dn=!1)):(a=t["s-cr"])?a.parentNode.textContent=o:n.$text$!==o&&(t.data=o)},I1=n=>{const e=n.childNodes;let t,i,r,s,o,a;for(i=0,r=e.length;i<r;i++)if(t=e[i],t.nodeType===1){if(t["s-sr"]){for(o=t["s-sn"],t.hidden=!1,s=0;s<r;s++)if(a=e[s].nodeType,e[s]["s-hn"]!==t["s-hn"]||o!==""){if(a===1&&o===e[s].getAttribute("slot")){t.hidden=!0;break}}else if(a===1||a===3&&e[s].textContent.trim()!==""){t.hidden=!0;break}}I1(t)}},Ai=[],O1=n=>{let e,t,i,r,s,o,a=0;const l=n.childNodes,c=l.length;for(;a<c;a++){if(e=l[a],e["s-sr"]&&(t=e["s-cr"])&&t.parentNode)for(i=t.parentNode.childNodes,r=e["s-sn"],o=i.length-1;o>=0;o--)t=i[o],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==e["s-hn"]&&(dv(t,r)?(s=Ai.find(u=>u.$nodeToRelocate$===t),vd=!0,t["s-sn"]=t["s-sn"]||r,s?s.$slotRefNode$=e:Ai.push({$slotRefNode$:e,$nodeToRelocate$:t}),t["s-sr"]&&Ai.map(u=>{dv(u.$nodeToRelocate$,t["s-sn"])&&(s=Ai.find(d=>d.$nodeToRelocate$===t),s&&!u.$slotRefNode$&&(u.$slotRefNode$=s.$slotRefNode$))})):Ai.some(u=>u.$nodeToRelocate$===t)||Ai.push({$nodeToRelocate$:t}));e.nodeType===1&&O1(e)}},dv=(n,e)=>n.nodeType===1?n.getAttribute("slot")===null&&e===""||n.getAttribute("slot")===e:n["s-sn"]===e?!0:e==="",_1=n=>{n.$attrs$&&n.$attrs$.ref&&n.$attrs$.ref(null),n.$children$&&n.$children$.map(_1)},Z$=(n,e,t=!1)=>{const i=n.$hostElement$,r=n.$cmpMeta$,s=n.$vnode$||wd(null,null),o=B$(e)?e:z(null,null,e);if(Ah=i.tagName,r.$attrsToReflect$&&(o.$attrs$=o.$attrs$||{},r.$attrsToReflect$.map(([a,l])=>o.$attrs$[l]=i[a])),t&&o.$attrs$)for(const a of Object.keys(o.$attrs$))i.hasAttribute(a)&&!["key","ref","style","class"].includes(a)&&(o.$attrs$[a]=i[a]);o.$tag$=null,o.$flags$|=4,n.$vnode$=o,o.$elm$=s.$elm$=i.shadowRoot||i,ho=i["s-sc"],A1=i["s-cr"],N1=(r.$flags$&1)!==0,vd=!1,fo(s,o);{if(Qt.$flags$|=1,Ey){O1(o.$elm$);let a,l,c,u,d,h,f=0;for(;f<Ai.length;f++)a=Ai[f],l=a.$nodeToRelocate$,l["s-ol"]||(c=Oi.createTextNode(""),c["s-nr"]=l,l.parentNode.insertBefore(l["s-ol"]=c,l));for(f=0;f<Ai.length;f++)if(a=Ai[f],l=a.$nodeToRelocate$,a.$slotRefNode$){for(u=a.$slotRefNode$.parentNode,d=a.$slotRefNode$.nextSibling,c=l["s-ol"];c=c.previousSibling;)if(h=c["s-nr"],h&&h["s-sn"]===l["s-sn"]&&u===h.parentNode&&(h=h.nextSibling,!h||!h["s-nr"])){d=h;break}(!d&&u!==l.parentNode||l.nextSibling!==d)&&l!==d&&(!l["s-hn"]&&l["s-ol"]&&(l["s-hn"]=l["s-ol"].parentNode.nodeName),u.insertBefore(l,d))}else l.nodeType===1&&(l.hidden=!0)}vd&&I1(o.$elm$),Qt.$flags$&=-2,Ai.length=0}},eM=(n,e)=>{},Sy=(n,e)=>(n.$flags$|=16,eM(n,n.$ancestorComponent$),tr(()=>tM(n,e))),tM=(n,e)=>{const t=n.$hostElement$,i=js("scheduleUpdate",n.$cmpMeta$.$tagName$),r=t;let s;return e?s=Lo(r,"componentWillLoad"):s=Lo(r,"componentWillUpdate"),s=hv(s,()=>Lo(r,"componentWillRender")),i(),hv(s,()=>iM(n,r,e))},hv=(n,e)=>nM(n)?n.then(e):e(),nM=n=>n instanceof Promise||n&&n.then&&typeof n.then=="function",iM=async(n,e,t)=>{const i=n.$hostElement$,r=js("update",n.$cmpMeta$.$tagName$);i["s-rc"],t&&Y$(n);const s=js("render",n.$cmpMeta$.$tagName$);rM(n,e,i,t),s(),r(),sM(n)},rM=(n,e,t,i)=>{try{rv=e,e=e.render&&e.render(),n.$flags$&=-17,n.$flags$|=2,(uo.hasRenderFn||uo.reflect)&&(uo.vdomRender||uo.reflect)&&(uo.hydrateServerSide||Z$(n,e,i))}catch(l){Xl(l,n.$hostElement$)}return rv=null,null},sM=n=>{const e=n.$cmpMeta$.$tagName$,t=n.$hostElement$,i=js("postUpdate",e),r=t;n.$ancestorComponent$,Lo(r,"componentDidRender"),n.$flags$&64?(Lo(r,"componentDidUpdate"),i()):(n.$flags$|=64,Lo(r,"componentDidLoad"),i())},cs=n=>{{const e=la(n),t=e.$hostElement$.isConnected;return t&&(e.$flags$&18)===2&&Sy(e,!1),t}},Lo=(n,e,t)=>{if(n&&n[e])try{return n[e](t)}catch(i){Xl(i)}},oM=(n,e)=>la(n).$instanceValues$.get(e),aM=(n,e,t,i)=>{const r=la(n),s=n,o=r.$instanceValues$.get(e),a=r.$flags$,l=s;t=H$(t,i.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(t);if(t!==o&&!c){r.$instanceValues$.set(e,t);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](t,o,e)}catch(f){Xl(f,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(t,o,e)===!1)return;Sy(r,!1)}}}},lM=(n,e,t)=>{if(e.$members$){n.watchers&&(e.$watchers$=n.watchers);const i=Object.entries(e.$members$),r=n.prototype;i.map(([s,[o]])=>{(o&31||o&32)&&Object.defineProperty(r,s,{get(){return oM(this,s)},set(a){aM(this,s,a,e)},configurable:!0,enumerable:!0})});{const s=new Map;r.attributeChangedCallback=function(o,a,l){Qt.jmp(()=>{const c=s.get(o);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},n.observedAttributes=i.filter(([o,a])=>a[0]&15).map(([o,a])=>{const l=a[1]||o;return s.set(l,o),a[0]&512&&e.$attrsToReflect$.push([o,l]),l})}}return n},cM=async(n,e,t,i,r)=>{if(!(e.$flags$&32)&&(e.$flags$|=32,r=n.constructor,customElements.whenDefined(t.$tagName$).then(()=>e.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[e.$modeName$=j$(n)]);const a=k1(t,e.$modeName$);if(!xd.has(a)){const l=js("registerStyles",t.$tagName$);G$(a,o,!!(t.$flags$&1)),l()}}e.$ancestorComponent$,(()=>Sy(e,!0))()},fv=n=>{},uM=n=>{if(!(Qt.$flags$&1)){const e=la(n),t=e.$cmpMeta$,i=js("connectedCallback",t.$tagName$);e.$flags$&1?(L1(n,e,t.$listeners$),e!=null&&e.$lazyInstance$?fv(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>fv(e.$lazyInstance$))):(e.$flags$|=1,t.$flags$&12&&dM(n),t.$members$&&Object.entries(t.$members$).map(([r,[s]])=>{if(s&31&&n.hasOwnProperty(r)){const o=n[r];delete n[r],n[r]=o}}),cM(n,e,t)),i()}},dM=n=>{const e=n["s-cr"]=Oi.createComment("");e["s-cn"]=!0,n.insertBefore(e,n.firstChild)},hM=async n=>{if(!(Qt.$flags$&1)){const e=la(n);e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0)}},Je=(n,e)=>{const t={$flags$:e[0],$tagName$:e[1]};t.$members$=e[2],t.$listeners$=e[3],t.$watchers$=n.$watchers$,t.$attrsToReflect$=[];const i=n.prototype.connectedCallback,r=n.prototype.disconnectedCallback;return Object.assign(n.prototype,{__registerHost(){gM(this,t)},connectedCallback(){uM(this),i&&i.call(this)},disconnectedCallback(){hM(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)})}}),n.is=t.$tagName$,lM(n,t)},L1=(n,e,t,i)=>{t&&t.map(([r,s,o])=>{const a=pM(n,r),l=fM(e,o),c=mM(r);Qt.ael(a,s,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Qt.rel(a,s,l,c))})},fM=(n,e)=>t=>{try{uo.lazyLoad||n.$hostElement$[e](t)}catch(i){Xl(i)}},pM=(n,e)=>e&4?Oi:e&8?Zl:e&16?Oi.body:n,mM=n=>bM?{passive:(n&1)!==0,capture:(n&2)!==0}:(n&2)!==0,D1=new WeakMap,la=n=>D1.get(n),gM=(n,e)=>{const t={$flags$:0,$hostElement$:n,$cmpMeta$:e,$instanceValues$:new Map};return L1(n,t,e.$listeners$),D1.set(n,t)},pv=(n,e)=>e in n,Xl=(n,e)=>(0,console.error)(n,e),xd=new Map,q1=[],Zl=typeof window<"u"?window:{},Oi=Zl.document||{head:{}},Xe=Zl.HTMLElement||class{},Qt={$flags$:0,$resourcesUrl$:"",jmp:n=>n(),raf:n=>requestAnimationFrame(n),ael:(n,e,t,i)=>n.addEventListener(e,t,i),rel:(n,e,t,i)=>n.removeEventListener(e,t,i),ce:(n,e)=>new CustomEvent(n,e)},yM=n=>{Object.assign(Qt,n)},bM=(()=>{let n=!1;try{Oi.addEventListener("e",null,Object.defineProperty({},"passive",{get(){n=!0}}))}catch(e){}return n})(),vM=n=>Promise.resolve(n),wM=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(n){}return!1})(),$m=[],B1=[],F1=(n,e)=>t=>{n.push(t),Pm||(Pm=!0,e&&Qt.$flags$&4?EM(Mm):Qt.raf(Mm))},mv=n=>{for(let e=0;e<n.length;e++)try{n[e](performance.now())}catch(t){Xl(t)}n.length=0},Mm=()=>{mv($m),mv(B1),(Pm=$m.length>0)&&Qt.raf(Mm)},EM=n=>vM().then(n),Dl=F1($m,!1),tr=F1(B1,!0);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $t=typeof window<"u"?window:void 0,Do=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const zs=(n,e)=>{n.componentOnReady?n.componentOnReady().then(t=>e(t)):Bn(()=>e(n))},xM=n=>n.componentOnReady!==void 0,ec=(n,e=[])=>{const t={};return e.forEach(i=>{n.hasAttribute(i)&&(n.getAttribute(i)!==null&&(t[i]=n.getAttribute(i)),n.removeAttribute(i))}),t},TM=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Js=(n,e)=>{let t=TM;return e&&e.length>0&&(t=t.filter(i=>!e.includes(i))),ec(n,t)},SM=(n,e,t,i)=>{var r;if(typeof window<"u"){const s=window,o=(r=s==null?void 0:s.Ionic)===null||r===void 0?void 0:r.config;if(o){const a=o.get("_ael");if(a)return a(n,e,t,i);if(o._ael)return o._ael(n,e,t,i)}}return n.addEventListener(e,t,i)},CM=(n,e,t,i)=>{var r;if(typeof window<"u"){const s=window,o=(r=s==null?void 0:s.Ionic)===null||r===void 0?void 0:r.config;if(o){const a=o.get("_rel");if(a)return a(n,e,t,i);if(o._rel)return o._rel(n,e,t,i)}}return n.removeEventListener(e,t,i)},AM=(n,e=n)=>n.shadowRoot||e,Bn=n=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(n):typeof requestAnimationFrame=="function"?requestAnimationFrame(n):setTimeout(n),U1=n=>!!n.shadowRoot&&!!n.attachShadow,Cy=n=>{const e=n.closest("ion-item");return e?e.querySelector("ion-label"):null},NM=n=>{if(n.focus(),n.classList.contains("ion-focusable")){const e=n.closest("ion-app");e&&e.setFocus([n])}},kM=(n,e)=>{let t;const i=n.getAttribute("aria-labelledby"),r=n.id;let s=i!==null&&i.trim()!==""?i:e+"-lbl",o=i!==null&&i.trim()!==""?document.getElementById(i):Cy(n);return o?(i===null&&(o.id=s),t=o.textContent,o.setAttribute("aria-hidden","true")):r.trim()!==""&&(o=document.querySelector('label[for="'.concat(r,'"]')),o&&(o.id!==""?s=o.id:o.id=s="".concat(r,"-lbl"),t=o.textContent)),{label:o,labelId:s,labelText:t}},gv=(n,e,t,i,r)=>{if(n||U1(e)){let s=e.querySelector("input.aux-input");s||(s=e.ownerDocument.createElement("input"),s.type="hidden",s.classList.add("aux-input"),e.appendChild(s)),s.disabled=r,s.name=t,s.value=i||""}},Qi=(n,e,t)=>Math.max(n,Math.min(e,t)),Nt=(n,e)=>{if(!n){const t="ASSERT: "+e;console.error(t);debugger;throw new Error(t)}},O8=n=>n.timeStamp||Date.now(),_8=n=>{if(n){const e=n.changedTouches;if(e&&e.length>0){const t=e[0];return{x:t.clientX,y:t.clientY}}if(n.pageX!==void 0)return{x:n.pageX,y:n.pageY}}return{x:0,y:0}},yv=n=>{const e=document.dir==="rtl";switch(n){case"start":return e;case"end":return!e;default:throw new Error('"'.concat(n,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},j1=(n,e)=>{const t=n._original||n;return{_original:n,emit:RM(t.emit.bind(t),e)}},RM=(n,e=0)=>{let t;return(...i)=>{clearTimeout(t),t=setTimeout(n,e,...i)}},z1=(n,e)=>{if(n!=null||(n={}),e!=null||(e={}),n===e)return!0;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(const i of t)if(!(i in e)||n[i]!==e[i])return!1;return!0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Gf;const PM=n=>(n.forEach(e=>{for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];if(t==="easing"){const r="animation-timing-function";e[r]=i,delete e[t]}else{const r=$M(t);r!==t&&(e[r]=i,delete e[t])}}}),n),$M=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ay=n=>{if(Gf===void 0){const e=n.style.animationName!==void 0,t=n.style.webkitAnimationName!==void 0;Gf=!e&&t?"-webkit-":""}return Gf},pt=(n,e,t)=>{const i=e.startsWith("animation")?Ay(n):"";n.style.setProperty(i+e,t)},bi=(n,e)=>{const t=e.startsWith("animation")?Ay(n):"";n.style.removeProperty(t+e)},MM=(n,e)=>{let t;const i={passive:!0},r=()=>{t&&t()},s=o=>{n===o.target&&(r(),e(o))};return n&&(n.addEventListener("webkitAnimationEnd",s,i),n.addEventListener("animationend",s,i),t=()=>{n.removeEventListener("webkitAnimationEnd",s,i),n.removeEventListener("animationend",s,i)}),r},IM=(n=[])=>n.map(e=>{const t=e.offset,i=[];for(const r in e)e.hasOwnProperty(r)&&r!=="offset"&&i.push("".concat(r,": ").concat(e[r],";"));return"".concat(t*100,"% { ").concat(i.join(" ")," }")}).join(" "),bv=[],OM=n=>{let e=bv.indexOf(n);return e<0&&(e=bv.push(n)-1),"ion-animation-".concat(e)},_M=n=>{const e=n.getRootNode!==void 0?n.getRootNode():n;return e.head||e},LM=(n,e,t)=>{var i;const r=_M(t),s=Ay(t),o=r.querySelector("#"+n);if(o)return o;const a=((i=t.ownerDocument)!==null&&i!==void 0?i:document).createElement("style");return a.id=n,a.textContent="@".concat(s,"keyframes ").concat(n," { ").concat(e," } @").concat(s,"keyframes ").concat(n,"-alt { ").concat(e," }"),r.appendChild(a),a},Xc=(n=[],e)=>{if(e!==void 0){const t=Array.isArray(e)?e:[e];return[...n,...t]}return n},_t=n=>{let e,t,i,r,s,o,a=[],l=[],c=[],u=!1,d,h={},f=[],g=[],b={},C=0,x=!1,y=!1,E,N,I,B,O=!0,$=!1,R=!0,H,A,U=!1;const D=n,K=[],re=[],he=[],ce=[],te=[],ee=[],j=[],X=[],le=[],xe=[],Te=typeof AnimationEffect=="function"||$t!==void 0&&typeof $t.AnimationEffect=="function",Ce=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&Te,Re=100,_e=()=>xe,ht=J=>(ce.forEach(pe=>{pe.destroy(J)}),wt(J),he.length=0,ce.length=0,a.length=0,In(),u=!1,R=!0,A),wt=J=>{ft(),J&&sr()},mn=()=>{x=!1,y=!1,R=!0,N=void 0,I=void 0,B=void 0,C=0,$=!1,O=!0,U=!1},tn=()=>C!==0&&!U,Dt=(J,pe)=>((pe!=null&&pe.oneTimeCallback?re:K).push({c:J,o:pe}),A),In=()=>(K.length=0,re.length=0,A),ft=()=>{if(Ce)xe.forEach(J=>{J.cancel()}),xe.length=0;else{const J=he.slice();Bn(()=>{J.forEach(pe=>{bi(pe,"animation-name"),bi(pe,"animation-duration"),bi(pe,"animation-timing-function"),bi(pe,"animation-iteration-count"),bi(pe,"animation-delay"),bi(pe,"animation-play-state"),bi(pe,"animation-fill-mode"),bi(pe,"animation-direction")})})}},sr=()=>{te.forEach(J=>{J!=null&&J.parentNode&&J.parentNode.removeChild(J)}),te.length=0},$r=J=>(ee.push(J),A),or=J=>(j.push(J),A),Pe=J=>(X.push(J),A),et=J=>(le.push(J),A),Fi=J=>(l=Xc(l,J),A),jt=J=>(c=Xc(c,J),A),Rt=(J={})=>(h=J,A),On=(J=[])=>{for(const pe of J)h[pe]="";return A},W=J=>(f=Xc(f,J),A),ie=J=>(g=Xc(g,J),A),ue=(J={})=>(b=J,A),S=(J=[])=>{for(const pe of J)b[pe]="";return A},m=()=>s!==void 0?s:d?d.getFill():"both",w=()=>N!==void 0?N:o!==void 0?o:d?d.getDirection():"normal",k=()=>x?"linear":i!==void 0?i:d?d.getEasing():"linear",_=()=>y?0:I!==void 0?I:t!==void 0?t:d?d.getDuration():0,F=()=>r!==void 0?r:d?d.getIterations():1,G=()=>B!==void 0?B:e!==void 0?e:d?d.getDelay():0,ge=()=>a,ye=J=>(o=J,Sn(!0),A),He=J=>(s=J,Sn(!0),A),rt=J=>(e=J,Sn(!0),A),De=J=>(i=J,Sn(!0),A),rf=J=>(!Ce&&J===0&&(J=1),t=J,Sn(!0),A),Ui=J=>(r=J,Sn(!0),A),bc=J=>(d=J,A),ae=J=>{if(J!=null)if(J.nodeType===1)he.push(J);else if(J.length>=0)for(let pe=0;pe<J.length;pe++)he.push(J[pe]);else console.error("Invalid addElement value");return A},ba=J=>{if(J!=null)if(Array.isArray(J))for(const pe of J)pe.parent(A),ce.push(pe);else J.parent(A),ce.push(J);return A},nn=J=>{const pe=a!==J;return a=J,pe&&ps(a),A},ps=J=>{Ce?_e().forEach(pe=>{if(pe.effect.setKeyframes)pe.effect.setKeyframes(J);else{const Se=new KeyframeEffect(pe.effect.target,J,pe.effect.getTiming());pe.effect=Se}}):wa()},va=()=>{ee.forEach(Et=>Et()),j.forEach(Et=>Et());const J=l,pe=c,Se=h;he.forEach(Et=>{const qt=Et.classList;J.forEach(gn=>qt.add(gn)),pe.forEach(gn=>qt.remove(gn));for(const gn in Se)Se.hasOwnProperty(gn)&&pt(Et,gn,Se[gn])})},vc=()=>{Mr(),X.forEach(qt=>qt()),le.forEach(qt=>qt());const J=O?1:0,pe=f,Se=g,Et=b;he.forEach(qt=>{const gn=qt.classList;pe.forEach(ji=>gn.add(ji)),Se.forEach(ji=>gn.remove(ji));for(const ji in Et)Et.hasOwnProperty(ji)&&pt(qt,ji,Et[ji])}),K.forEach(qt=>qt.c(J,A)),re.forEach(qt=>qt.c(J,A)),re.length=0,R=!0,O&&($=!0),O=!0},Tn=()=>{C!==0&&(C--,C===0&&(vc(),d&&d.animationFinish()))},wa=(J=!0)=>{sr();const pe=PM(a);he.forEach(Se=>{if(pe.length>0){const Et=IM(pe);H=n!==void 0?n:OM(Et);const qt=LM(H,Et,Se);te.push(qt),pt(Se,"animation-duration","".concat(_(),"ms")),pt(Se,"animation-timing-function",k()),pt(Se,"animation-delay","".concat(G(),"ms")),pt(Se,"animation-fill-mode",m()),pt(Se,"animation-direction",w());const gn=F()===1/0?"infinite":F().toString();pt(Se,"animation-iteration-count",gn),pt(Se,"animation-play-state","paused"),J&&pt(Se,"animation-name","".concat(qt.id,"-alt")),Bn(()=>{pt(Se,"animation-name",qt.id||null)})}})},sf=()=>{he.forEach(J=>{const pe=J.animate(a,{id:D,delay:G(),duration:_(),easing:k(),iterations:F(),fill:m(),direction:w()});pe.pause(),xe.push(pe)}),xe.length>0&&(xe[0].onfinish=()=>{Tn()})},Ea=(J=!0)=>{va(),a.length>0&&(Ce?sf():wa(J)),u=!0},Yn=J=>{if(J=Math.min(Math.max(J,0),.9999),Ce)xe.forEach(pe=>{pe.currentTime=pe.effect.getComputedTiming().delay+_()*J,pe.pause()});else{const pe="-".concat(_()*J,"ms");he.forEach(Se=>{a.length>0&&(pt(Se,"animation-delay",pe),pt(Se,"animation-play-state","paused"))})}},xa=J=>{xe.forEach(pe=>{pe.effect.updateTiming({delay:G(),duration:_(),easing:k(),iterations:F(),fill:m(),direction:w()})}),J!==void 0&&Yn(J)},Ta=(J=!0,pe)=>{Bn(()=>{he.forEach(Se=>{pt(Se,"animation-name",H||null),pt(Se,"animation-duration","".concat(_(),"ms")),pt(Se,"animation-timing-function",k()),pt(Se,"animation-delay",pe!==void 0?"-".concat(pe*_(),"ms"):"".concat(G(),"ms")),pt(Se,"animation-fill-mode",m()||null),pt(Se,"animation-direction",w()||null);const Et=F()===1/0?"infinite":F().toString();pt(Se,"animation-iteration-count",Et),J&&pt(Se,"animation-name","".concat(H,"-alt")),Bn(()=>{pt(Se,"animation-name",H||null)})})})},Sn=(J=!1,pe=!0,Se)=>(J&&ce.forEach(Et=>{Et.update(J,pe,Se)}),Ce?xa(Se):Ta(pe,Se),A),wc=(J=!1,pe)=>(ce.forEach(Se=>{Se.progressStart(J,pe)}),Ca(),x=J,u||Ea(),Sn(!1,!0,pe),A),of=J=>(ce.forEach(pe=>{pe.progressStep(J)}),Yn(J),A),Sa=(J,pe,Se)=>(x=!1,ce.forEach(Et=>{Et.progressEnd(J,pe,Se)}),Se!==void 0&&(I=Se),$=!1,O=!0,J===0?(N=w()==="reverse"?"normal":"reverse",N==="reverse"&&(O=!1),Ce?(Sn(),Yn(1-pe)):(B=(1-pe)*_()*-1,Sn(!1,!1))):J===1&&(Ce?(Sn(),Yn(pe)):(B=pe*_()*-1,Sn(!1,!1))),J!==void 0&&(Dt(()=>{I=void 0,N=void 0,B=void 0},{oneTimeCallback:!0}),d||Ir()),A),Ca=()=>{u&&(Ce?xe.forEach(J=>{J.pause()}):he.forEach(J=>{pt(J,"animation-play-state","paused")}),U=!0)},io=()=>(ce.forEach(J=>{J.pause()}),Ca(),A),Jn=()=>{E=void 0,Tn()},Mr=()=>{E&&clearTimeout(E)},Aa=()=>{if(Mr(),Bn(()=>{he.forEach(J=>{a.length>0&&pt(J,"animation-play-state","running")})}),a.length===0||he.length===0)Tn();else{const J=G()||0,pe=_()||0,Se=F()||1;isFinite(Se)&&(E=setTimeout(Jn,J+pe*Se+Re)),MM(he[0],()=>{Mr(),Bn(()=>{Ec(),Bn(Tn)})})}},Ec=()=>{he.forEach(J=>{bi(J,"animation-duration"),bi(J,"animation-delay"),bi(J,"animation-play-state")})},xc=()=>{xe.forEach(J=>{J.play()}),(a.length===0||he.length===0)&&Tn()},Tc=()=>{Ce?(Yn(0),xa()):Ta()},Ir=J=>new Promise(pe=>{J!=null&&J.sync&&(y=!0,Dt(()=>y=!1,{oneTimeCallback:!0})),u||Ea(),$&&(Tc(),$=!1),R&&(C=ce.length+1,R=!1),Dt(()=>pe(),{oneTimeCallback:!0}),ce.forEach(Se=>{Se.play()}),Ce?xc():Aa(),U=!1}),Sc=()=>{ce.forEach(J=>{J.stop()}),u&&(ft(),u=!1),mn()},ms=(J,pe)=>{const Se=a[0];return Se!==void 0&&(Se.offset===void 0||Se.offset===0)?Se[J]=pe:a=[{offset:0,[J]:pe},...a],A};return A={parentAnimation:d,elements:he,childAnimations:ce,id:D,animationFinish:Tn,from:ms,to:(J,pe)=>{const Se=a[a.length-1];return Se!==void 0&&(Se.offset===void 0||Se.offset===1)?Se[J]=pe:a=[...a,{offset:1,[J]:pe}],A},fromTo:(J,pe,Se)=>ms(J,pe).to(J,Se),parent:bc,play:Ir,pause:io,stop:Sc,destroy:ht,keyframes:nn,addAnimation:ba,addElement:ae,update:Sn,fill:He,direction:ye,iterations:Ui,duration:rf,easing:De,delay:rt,getWebAnimations:_e,getKeyframes:ge,getFill:m,getDirection:w,getDelay:G,getIterations:F,getEasing:k,getDuration:_,afterAddRead:Pe,afterAddWrite:et,afterClearStyles:S,afterStyles:ue,afterRemoveClass:ie,afterAddClass:W,beforeAddRead:$r,beforeAddWrite:or,beforeClearStyles:On,beforeStyles:Rt,beforeRemoveClass:jt,beforeAddClass:Fi,onFinish:Dt,isRunning:tn,progressStart:wc,progressStep:of,progressEnd:Sa}},DM="ionViewWillEnter",qM="ionViewDidEnter",V1="ionViewWillLeave",H1="ionViewDidLeave",Kf="ionViewWillUnload",BM=()=>an(()=>import("./ios.transition-ff8f40c7.js"),[]),FM=()=>an(()=>import("./md.transition-7cd71d70.js"),[]),W1=n=>new Promise((e,t)=>{tr(()=>{UM(n),jM(n).then(i=>{i.animation&&i.animation.destroy(),vv(n),e(i)},i=>{vv(n),t(i)})})}),UM=n=>{const e=n.enteringEl,t=n.leavingEl;GM(e,t,n.direction),n.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),Om(e,!1),e.style.setProperty("pointer-events","none"),t&&(Om(t,!1),t.style.setProperty("pointer-events","none"))},jM=async n=>{const e=await zM(n);return e&&I$.isBrowser?VM(e,n):HM(n)},vv=n=>{const e=n.enteringEl,t=n.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),t!==void 0&&(t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"))},zM=async n=>!n.leavingEl||!n.animated||n.duration===0?void 0:n.animationBuilder?n.animationBuilder:n.mode==="ios"?(await BM()).iosTransitionAnimation:(await FM()).mdTransitionAnimation,VM=async(n,e)=>{await Q1(e,!0);const t=n(e.baseEl,e);G1(e.enteringEl,e.leavingEl);const i=await QM(t,e);return e.progressCallback&&e.progressCallback(void 0),i&&K1(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:t}},HM=async n=>{const e=n.enteringEl,t=n.leavingEl;return await Q1(n,!1),G1(e,t),K1(e,t),{hasCompleted:!0}},Q1=async(n,e)=>{(n.deepWait!==void 0?n.deepWait:e)&&await Promise.all([Im(n.enteringEl),Im(n.leavingEl)]),await WM(n.viewIsReady,n.enteringEl)},WM=async(n,e)=>{n&&await n(e)},QM=(n,e)=>{const t=e.progressCallback,i=new Promise(r=>{n.onFinish(s=>r(s===1))});return t?(n.progressStart(!0),t(n)):n.play(),i},G1=(n,e)=>{pr(e,V1),pr(n,DM)},K1=(n,e)=>{pr(n,qM),pr(e,H1)},pr=(n,e)=>{if(n){const t=new CustomEvent(e,{bubbles:!1,cancelable:!1});n.dispatchEvent(t)}},Im=async n=>{const e=n;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>Bn(i));return}await Promise.all(Array.from(e.children).map(Im))}},Om=(n,e)=>{e?(n.setAttribute("aria-hidden","true"),n.classList.add("ion-page-hidden")):(n.hidden=!1,n.removeAttribute("aria-hidden"),n.classList.remove("ion-page-hidden"))},GM=(n,e,t)=>{n!==void 0&&(n.style.zIndex=t==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},L8=n=>{if(n.classList.contains("ion-page"))return n;const e=n.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||n};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ql=(n,e,t,i,r)=>YM(n[1],e[1],t[1],i[1],r).map(s=>KM(n[0],e[0],t[0],i[0],s)),KM=(n,e,t,i,r)=>{const s=3*e*Math.pow(r-1,2),o=-3*t*r+3*t+i*r,a=n*Math.pow(r-1,3);return r*(s+r*o)-a},YM=(n,e,t,i,r)=>(n-=r,e-=r,t-=r,i-=r,XM(i-3*t+3*e-n,3*t-6*e+3*n,3*e-3*n,n).filter(o=>o>=0&&o<=1)),JM=(n,e,t)=>{const i=e*e-4*n*t;return i<0?[]:[(-e+Math.sqrt(i))/(2*n),(-e-Math.sqrt(i))/(2*n)]},XM=(n,e,t,i)=>{if(n===0)return JM(e,t,i);e/=n,t/=n,i/=n;const r=(3*t-e*e)/3,s=(2*e*e*e-9*e*t+27*i)/27;if(r===0)return[Math.pow(-s,1/3)];if(s===0)return[Math.sqrt(-r),-Math.sqrt(-r)];const o=Math.pow(s/2,2)+Math.pow(r/3,3);if(o===0)return[Math.pow(s/2,1/2)-e/3];if(o>0)return[Math.pow(-(s/2)+Math.sqrt(o),1/3)-Math.pow(s/2+Math.sqrt(o),1/3)-e/3];const a=Math.sqrt(Math.pow(-(r/3),3)),l=Math.acos(-(s/(2*Math.sqrt(Math.pow(-(r/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class ZM{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var t;return new eI(this,this.newID(),e.name,(t=e.priority)!==null&&t!==void 0?t:0,!!e.disableScroll)}createBlocker(e={}){return new tI(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,i){return this.canStart(e)?(this.requestedStart.set(t,i),!0):(this.requestedStart.delete(t),!1)}capture(e,t,i){if(!this.start(e,t,i))return!1;const r=this.requestedStart;let s=-1e4;if(r.forEach(o=>{s=Math.max(s,o)}),s===i){this.capturedId=t,r.clear();const o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(o),!0}return r.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let i=this.disabledGestures.get(e);i===void 0&&(i=new Set,this.disabledGestures.set(e,i)),i.add(t)}enableGesture(e,t){const i=this.disabledGestures.get(e);i!==void 0&&i.delete(t)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(wv)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(wv)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}}class eI{constructor(e,t,i,r,s){this.id=t,this.name=i,this.disableScroll=s,this.priority=r*1e6+t,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class tI{constructor(e,t,i,r){this.id=t,this.disable=i,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const wv="backdrop-no-scroll",Nh=new ZM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vs=(n,e,t,i)=>{const r=nI(n)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;let s,o;return n.__zone_symbol__addEventListener?(s="__zone_symbol__addEventListener",o="__zone_symbol__removeEventListener"):(s="addEventListener",o="removeEventListener"),n[s](e,t,r),()=>{n[o](e,t,r)}},nI=n=>{if(Zc===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{Zc=!0}});n.addEventListener("optsTest",()=>{},e)}catch(e){Zc=!1}return!!Zc};let Zc;const iI=2e3,rI=(n,e,t,i,r)=>{let s,o,a,l,c,u,d,h=0;const f=B=>{h=Date.now()+iI,e(B)&&(!o&&t&&(o=vs(n,"touchmove",t,r)),a||(a=vs(B.target,"touchend",b,r)),l||(l=vs(B.target,"touchcancel",b,r)))},g=B=>{h>Date.now()||e(B)&&(!u&&t&&(u=vs(Ev(n),"mousemove",t,r)),d||(d=vs(Ev(n),"mouseup",C,r)))},b=B=>{x(),i&&i(B)},C=B=>{y(),i&&i(B)},x=()=>{o&&o(),a&&a(),l&&l(),o=a=l=void 0},y=()=>{u&&u(),d&&d(),u=d=void 0},E=()=>{x(),y()},N=(B=!0)=>{B?(s||(s=vs(n,"touchstart",f,r)),c||(c=vs(n,"mousedown",g,r))):(s&&s(),c&&c(),s=c=void 0,E())};return{enable:N,stop:E,destroy:()=>{N(!1),i=t=e=void 0}}},Ev=n=>n instanceof Document?n:n.ownerDocument,sI=(n,e,t)=>{const i=t*(Math.PI/180),r=n==="x",s=Math.cos(i),o=e*e;let a=0,l=0,c=!1,u=0;return{start(d,h){a=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const f=d-a,g=h-l,b=f*f+g*g;if(b<o)return!1;const C=Math.sqrt(b),x=(r?f:g)/C;return x>s?u=1:x<-s?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},Y1=n=>{let e=!1,t=!1,i=!0,r=!1;const s=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},n),o=s.canStart,a=s.onWillStart,l=s.onStart,c=s.onEnd,u=s.notCaptured,d=s.onMove,h=s.threshold,f=s.passive,g=s.blurOnStart,b={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},C=sI(s.direction,s.threshold,s.maxAngle),x=Nh.createGesture({name:n.gestureName,priority:n.gesturePriority,disableScroll:n.disableScroll}),y=U=>{const D=X1(U);return t||!i||(J1(U,b),b.startX=b.currentX,b.startY=b.currentY,b.startTime=b.currentTime=D,b.velocityX=b.velocityY=b.deltaX=b.deltaY=0,b.event=U,o&&o(b)===!1)||(x.release(),!x.start())?!1:(t=!0,h===0?I():(C.start(b.startX,b.startY),!0))},E=U=>{if(e){!r&&i&&(r=!0,Yf(b,U),requestAnimationFrame(N));return}Yf(b,U),C.detect(b.currentX,b.currentY)&&(!C.isGesture()||!I())&&A()},N=()=>{e&&(r=!1,d&&d(b))},I=()=>x.capture()?(e=!0,i=!1,b.startX=b.currentX,b.startY=b.currentY,b.startTime=b.currentTime,a?a(b).then(O):O(),!0):!1,B=()=>{if(typeof document<"u"){const U=document.activeElement;U!=null&&U.blur&&U.blur()}},O=()=>{g&&B(),l&&l(b),i=!0},$=()=>{e=!1,t=!1,r=!1,i=!0,x.release()},R=U=>{const D=e,K=i;if($(),!!K){if(Yf(b,U),D){c&&c(b);return}u&&u(b)}},H=rI(s.el,y,E,R,{capture:!1,passive:f}),A=()=>{$(),H.stop(),u&&u(b)};return{enable(U=!0){U||(e&&R(void 0),$()),H.enable(U)},destroy(){x.destroy(),H.destroy()}}},Yf=(n,e)=>{if(!e)return;const t=n.currentX,i=n.currentY,r=n.currentTime;J1(e,n);const s=n.currentX,o=n.currentY,l=(n.currentTime=X1(e))-r;if(l>0&&l<100){const c=(s-t)/l,u=(o-i)/l;n.velocityX=c*.7+n.velocityX*.3,n.velocityY=u*.7+n.velocityY*.3}n.deltaX=s-n.startX,n.deltaY=o-n.startY,n.event=e},J1=(n,e)=>{let t=0,i=0;if(n){const r=n.changedTouches;if(r&&r.length>0){const s=r[0];t=s.clientX,i=s.clientY}else n.pageX!==void 0&&(t=n.pageX,i=n.pageY)}e.currentX=t,e.currentY=i},X1=n=>n.timeStamp||Date.now(),Z1=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:Nh,createGesture:Y1},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class oI{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const i=this.m.get(e);return i!==void 0?i:t}getBoolean(e,t=!1){const i=this.m.get(e);return i===void 0?t:typeof i=="string"?i==="true":!!i}getNumber(e,t){const i=parseFloat(this.m.get(e));return isNaN(i)?t!==void 0?t:NaN:i}set(e,t){this.m.set(e,t)}}const je=new oI,aI=n=>{try{const e=n.sessionStorage.getItem(eS);return e!==null?JSON.parse(e):{}}catch(e){return{}}},lI=(n,e)=>{try{n.sessionStorage.setItem(eS,JSON.stringify(e))}catch(t){return}},cI=n=>{const e={};return n.location.search.slice(1).split("&").map(t=>t.split("=")).map(([t,i])=>[decodeURIComponent(t),decodeURIComponent(i)]).filter(([t])=>uI(t,xv)).map(([t,i])=>[t.slice(xv.length),i]).forEach(([t,i])=>{e[t]=i}),e},uI=(n,e)=>n.substr(0,e.length)===e,xv="ionic:",eS="ionic-persist-config",dI=n=>tS(n),yr=(n,e)=>(typeof n=="string"&&(e=n,n=void 0),dI(n).includes(e)),tS=(n=window)=>{if(typeof n>"u")return[];n.Ionic=n.Ionic||{};let e=n.Ionic.platforms;return e==null&&(e=n.Ionic.platforms=hI(n),e.forEach(t=>n.document.documentElement.classList.add("plt-".concat(t)))),e},hI=n=>{const e=je.get("platform");return Object.keys(Tv).filter(t=>{const i=e==null?void 0:e[t];return typeof i=="function"?i(n):Tv[t](n)})},fI=n=>kh(n)&&!iS(n),Ny=n=>!!(Vs(n,/iPad/i)||Vs(n,/Macintosh/i)&&kh(n)),pI=n=>Vs(n,/iPhone/i),mI=n=>Vs(n,/iPhone|iPod/i)||Ny(n),nS=n=>Vs(n,/android|sink/i),gI=n=>nS(n)&&!Vs(n,/mobile/i),yI=n=>{const e=n.innerWidth,t=n.innerHeight,i=Math.min(e,t),r=Math.max(e,t);return i>390&&i<520&&r>620&&r<800},bI=n=>{const e=n.innerWidth,t=n.innerHeight,i=Math.min(e,t),r=Math.max(e,t);return Ny(n)||gI(n)||i>460&&i<820&&r>780&&r<1400},kh=n=>xI(n,"(any-pointer:coarse)"),vI=n=>!kh(n),iS=n=>rS(n)||sS(n),rS=n=>!!(n.cordova||n.phonegap||n.PhoneGap),sS=n=>{const e=n.Capacitor;return!!(e!=null&&e.isNative)},wI=n=>Vs(n,/electron/i),EI=n=>{var e;return!!(!((e=n.matchMedia)===null||e===void 0)&&e.call(n,"(display-mode: standalone)").matches||n.navigator.standalone)},Vs=(n,e)=>e.test(n.navigator.userAgent),xI=(n,e)=>{var t;return(t=n.matchMedia)===null||t===void 0?void 0:t.call(n,e).matches},Tv={ipad:Ny,iphone:pI,ios:mI,android:nS,phablet:yI,tablet:bI,cordova:rS,capacitor:sS,electron:wI,pwa:EI,mobile:kh,mobileweb:fI,desktop:vI,hybrid:iS};let po;const $e=n=>n&&V$(n)||po,TI=(n={})=>{if(typeof window>"u")return;const e=window.document,t=window,i=t.Ionic=t.Ionic||{},r={};n._ael&&(r.ael=n._ael),n._rel&&(r.rel=n._rel),n._ce&&(r.ce=n._ce),yM(r);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},aI(t)),{persistConfig:!1}),i.config),cI(t)),n);je.reset(s),je.getBoolean("persistConfig")&&lI(t,s),tS(t),i.config=je,i.mode=po=je.get("mode",e.documentElement.getAttribute("mode")||(yr(t,"ios")?"ios":"md")),je.set("mode",po),e.documentElement.setAttribute("mode",po),e.documentElement.classList.add(po),je.getBoolean("_testing")&&je.set("animated",!1);const o=l=>{var c;return(c=l.tagName)===null||c===void 0?void 0:c.startsWith("ION-")},a=l=>["ios","md"].includes(l);z$(l=>{for(;l;){const c=l.mode||l.getAttribute("mode");if(c){if(a(c))return c;o(l)&&console.warn('Invalid ionic mode: "'+c+'", expected: "ios" or "md"')}l=l.parentElement}return po})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const SI=n=>{try{if(n instanceof kI)return n.value;if(!CI()||typeof n!="string"||n==="")return n;if(n.includes("onload="))return"";const e=document.createDocumentFragment(),t=document.createElement("div");e.appendChild(t),t.innerHTML=n,NI.forEach(o=>{const a=e.querySelectorAll(o);for(let l=a.length-1;l>=0;l--){const c=a[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=Lm(c);for(let d=0;d<u.length;d++)_m(u[d])}});const i=Lm(e);for(let o=0;o<i.length;o++)_m(i[o]);const r=document.createElement("div");r.appendChild(e);const s=r.querySelector("div");return s!==null?s.innerHTML:r.innerHTML}catch(e){return console.error(e),""}},_m=n=>{if(n.nodeType&&n.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(n.attributes instanceof NamedNodeMap)){n.remove();return}for(let t=n.attributes.length-1;t>=0;t--){const i=n.attributes.item(t),r=i.name;if(!AI.includes(r.toLowerCase())){n.removeAttribute(r);continue}const s=i.value,o=n[r];(s!=null&&s.toLowerCase().includes("javascript:")||o!=null&&o.toLowerCase().includes("javascript:"))&&n.removeAttribute(r)}const e=Lm(n);for(let t=0;t<e.length;t++)_m(e[t])},Lm=n=>n.children!=null?n.children:n.childNodes,CI=()=>{var n;const e=window,t=(n=e==null?void 0:e.Ionic)===null||n===void 0?void 0:n.config;return t?t.get?t.get("sanitizerEnabled",!0):t.sanitizerEnabled===!0||t.sanitizerEnabled===void 0:!0},AI=["class","id","href","src","name","slot"],NI=["script","style","iframe","meta","link","object","embed"];class kI{constructor(e){this.value=e}}const RI=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const PI=()=>{document.addEventListener("backbutton",()=>{})},$I=()=>{const n=document;let e=!1;n.addEventListener("backbutton",()=>{if(e)return;let t=0,i=[];const r=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(a,l){i.push({priority:a,handler:l,id:t++})}}});n.dispatchEvent(r);const s=async a=>{try{if(a!=null&&a.handler){const l=a.handler(o);l!=null&&await l}}catch(l){console.error(l)}},o=()=>{if(i.length>0){let a={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(l=>{l.priority>=a.priority&&(a=l)}),e=!0,i=i.filter(l=>l.id!==a.id),s(a).then(()=>e=!1)}};o()})},oS=100,aS=99,MI=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:aS,OVERLAY_BACK_BUTTON_PRIORITY:oS,blockHardwareBackButton:PI,startHardwareBackButton:$I},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ky=n=>_t().duration(n?400:300),II=n=>{let e,t;const i=n.width+8,r=_t(),s=_t();n.isEndSide?(e=i+"px",t="0px"):(e=-i+"px",t="0px"),r.addElement(n.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(t,")"));const a=$e(n)==="ios",l=a?.2:.25;return s.addElement(n.backdropEl).fromTo("opacity",.01,l),ky(a).addAnimation([r,s])},OI=n=>{let e,t;const i=$e(n),r=n.width;n.isEndSide?(e=-r+"px",t=r+"px"):(e=r+"px",t=-r+"px");const s=_t().addElement(n.menuInnerEl).fromTo("transform","translateX(".concat(t,")"),"translateX(0px)"),o=_t().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),a=_t().addElement(n.backdropEl).fromTo("opacity",.01,.32);return ky(i==="ios").addAnimation([s,o,a])},_I=n=>{const e=$e(n),t=n.width*(n.isEndSide?-1:1)+"px",i=_t().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(t,")"));return ky(e==="ios").addAnimation(i)},LI=()=>{const n=new Map,e=[],t=async $=>{const R=await c($);return R?R.open():!1},i=async $=>{const R=await($!==void 0?c($):u());return R!==void 0?R.close():!1},r=async $=>{const R=await c($);return R?R.toggle():!1},s=async($,R)=>{const H=await c(R);return H&&(H.disabled=!$),H},o=async($,R)=>{const H=await c(R);return H&&(H.swipeGesture=$),H},a=async $=>{if($!=null){const R=await c($);return R!==void 0&&R.isOpen()}else return await u()!==void 0},l=async $=>{const R=await c($);return R?!R.disabled:!1},c=async $=>{if(await O(),$==="start"||$==="end"){const H=B(A=>A.side===$&&!A.disabled);return H||B(A=>A.side===$)}else if($!=null)return B(H=>H.menuId===$);const R=B(H=>!H.disabled);return R||(e.length>0?e[0].el:void 0)},u=async()=>(await O(),E()),d=async()=>(await O(),N()),h=async()=>(await O(),I()),f=($,R)=>{n.set($,R)},g=$=>{e.indexOf($)<0&&($.disabled||C($),e.push($))},b=$=>{const R=e.indexOf($);R>-1&&e.splice(R,1)},C=$=>{const R=$.side;e.filter(H=>H.side===R&&H!==$).forEach(H=>H.disabled=!0)},x=async($,R,H)=>{if(I())return!1;if(R){const A=await u();A&&$.el!==A&&await A.setOpen(!1,!1)}return $._setOpen(R,H)},y=($,R)=>{const H=n.get($);if(!H)throw new Error("animation not registered");return H(R)},E=()=>B($=>$._isOpen),N=()=>e.map($=>$.el),I=()=>e.some($=>$.isAnimating),B=$=>{const R=e.find($);if(R!==void 0)return R.el},O=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map($=>new Promise(R=>zs($,R))));return f("reveal",_I),f("push",OI),f("overlay",II),typeof document<"u"&&document.addEventListener("ionBackButton",$=>{const R=E();R&&$.detail.register(aS,()=>R.close())}),{registerAnimation:f,get:c,getMenus:d,getOpen:u,isEnabled:l,swipeGesture:o,isAnimating:h,isOpen:a,enable:s,toggle:r,close:i,open:t,_getOpenSync:E,_createAnimation:y,_register:g,_unregister:b,_setOpen:x,_setActiveMenu:C}},fr=LI();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lS=async(n,e,t,i,r,s)=>{var o;if(n)return n.attachViewToDom(e,t,r,i);if(!s&&typeof t!="string"&&!(t instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof t=="string"?(o=e.ownerDocument)===null||o===void 0?void 0:o.createElement(t):t;return i&&i.forEach(l=>a.classList.add(l)),r&&Object.assign(a,r),e.appendChild(a),await new Promise(l=>zs(a,l)),a},DI=(n,e)=>{if(e){if(n){const t=e.parentElement;return n.removeViewFromDom(t,e)}e.remove()}return Promise.resolve()},qI=()=>{let n,e;return{attachViewToDom:async(r,s,o={},a=[])=>{var l,c;if(n=r,s){const d=typeof s=="string"?(l=n.ownerDocument)===null||l===void 0?void 0:l.createElement(s):s;a.forEach(h=>d.classList.add(h)),Object.assign(d,o),n.appendChild(d),await new Promise(h=>zs(d,h))}else if(n.children.length>0&&(n.tagName==="ION-MODAL"||n.tagName==="ION-POPOVER")&&!n.children[0].classList.contains("ion-delegate-host")){const h=(c=n.ownerDocument)===null||c===void 0?void 0:c.createElement("div");h.classList.add("ion-delegate-host"),a.forEach(f=>h.classList.add(f)),h.append(...n.children),n.appendChild(h)}const u=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),n.parentNode.insertBefore(e,n),u.appendChild(n),n},removeViewFromDom:()=>(n&&e&&(e.parentNode.insertBefore(n,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ln=(n,...e)=>console.warn("[Ionic Warning]: ".concat(n),...e),cS=(n,...e)=>console.error("[Ionic Error]: ".concat(n),...e),BI=(n,...e)=>console.error("<".concat(n.tagName.toLowerCase(),"> must be used inside ").concat(e.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Dm=0,FI=0;const qm=new WeakMap,UI=n=>{typeof document<"u"&&HI(document);const e=Dm++;n.overlayIndex=e},jI=n=>(n.hasAttribute("id")||(n.id="ion-overlay-".concat(++FI)),n.id),Bl='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Sv=(n,e)=>{let t=n.querySelector(Bl);const i=t==null?void 0:t.shadowRoot;i&&(t=i.querySelector(Bl)||t),t?NM(t):e.focus()},zI=n=>n.classList.contains("overlay-hidden"),Cv=(n,e)=>{const t=Array.from(n.querySelectorAll(Bl));let i=t.length>0?t[t.length-1]:null;const r=i==null?void 0:i.shadowRoot;r&&(i=r.querySelector(Bl)||i),i?i.focus():e.focus()},VI=(n,e)=>{const t=Td(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),i=n.target;if(!t||!i||t.classList.contains("ion-disable-focus-trap"))return;const r=()=>{if(t===i)t.lastFocus=void 0;else{const o=AM(t);if(!o.contains(i))return;const a=o.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(i)||i===o.querySelector("ion-backdrop"))t.lastFocus=i;else{const l=t.lastFocus;Sv(a,t),l===e.activeElement&&Cv(a,t),t.lastFocus=e.activeElement}}},s=()=>{if(t.contains(i))t.lastFocus=i;else{const o=t.lastFocus;Sv(t,t),o===e.activeElement&&Cv(t,t),t.lastFocus=e.activeElement}};t.shadowRoot?s():r()},HI=n=>{Dm===0&&(Dm=1,n.addEventListener("focus",e=>{VI(e,n)},!0),n.addEventListener("ionBackButton",e=>{const t=Td(n);t!=null&&t.backdropDismiss&&e.detail.register(oS,()=>t.dismiss(void 0,Sd))}),n.addEventListener("keydown",e=>{if(e.key==="Escape"){const t=Td(n);t!=null&&t.backdropDismiss&&t.dismiss(void 0,Sd)}}))},WI=(n,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(n.querySelectorAll(e)).filter(t=>t.overlayIndex>0)),Td=(n,e,t)=>{const i=WI(n,e).filter(r=>!zI(r));return t===void 0?i[i.length-1]:i.find(r=>r.id===t)},uS=(n=!1)=>{const t=YI(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(n?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},QI=async(n,e,t,i,r)=>{var s,o;if(n.presented)return;uS(!0),n.presented=!0,n.willPresent.emit(),(s=n.willPresentShorthand)===null||s===void 0||s.emit();const a=$e(n),l=n.enterAnimation?n.enterAnimation:je.get(e,a==="ios"?t:i);await dS(n,l,n.el,r)&&(n.didPresent.emit(),(o=n.didPresentShorthand)===null||o===void 0||o.emit()),n.el.tagName!=="ION-TOAST"&&GI(n.el),n.keyboardClose&&(document.activeElement===null||!n.el.contains(document.activeElement))&&n.el.focus()},GI=async n=>{let e=document.activeElement;if(!e)return;const t=e==null?void 0:e.shadowRoot;t&&(e=t.querySelector(Bl)||e),await n.onDidDismiss(),e.focus()},KI=async(n,e,t,i,r,s,o)=>{var a,l;if(!n.presented)return!1;uS(!1),n.presented=!1;try{n.el.style.setProperty("pointer-events","none"),n.willDismiss.emit({data:e,role:t}),(a=n.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:t});const c=$e(n),u=n.leaveAnimation?n.leaveAnimation:je.get(i,c==="ios"?r:s);t!==ZI&&await dS(n,u,n.el,o),n.didDismiss.emit({data:e,role:t}),(l=n.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:t}),qm.delete(n),n.el.classList.add("overlay-hidden"),n.el.style.removeProperty("pointer-events"),n.el.lastFocus!==void 0&&(n.el.lastFocus=void 0)}catch(c){console.error(c)}return n.el.remove(),!0},YI=n=>n.querySelector("ion-app")||n.body,dS=async(n,e,t,i)=>{t.classList.remove("overlay-hidden");const r=n.el,s=e(r,i);(!n.animated||!je.getBoolean("animated",!0))&&s.duration(0),n.keyboardClose&&s.beforeAddWrite(()=>{const a=t.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const o=qm.get(n)||[];return qm.set(n,[...o,s]),await s.play(),!0},Av=(n,e)=>{let t;const i=new Promise(r=>t=r);return JI(n,e,r=>{t(r.detail)}),i},JI=(n,e,t)=>{const i=r=>{CM(n,e,i),t(r)};SM(n,e,i)},Nv=n=>n==="cancel"||n===Sd,XI=n=>n(),Jf=(n,e)=>{if(typeof n=="function")return je.get("_zoneGate",XI)(()=>{try{return n(e)}catch(i){throw i}})},Sd="backdrop",ZI="gesture",eO=n=>{let e=!1,t;const i=qI(),r=(a=!1)=>{if(t&&!a)return{delegate:t,inline:e};const{el:l,hasController:c,delegate:u}=n;return e=l.parentNode!==null&&!c,t=e?u||i:u,{inline:e,delegate:t}};return{attachViewToDom:async a=>{const{delegate:l}=r(!0);if(l)return await l.attachViewToDom(n.el,a);const{hasController:c}=n;if(c&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=r();a&&n.el!==void 0&&a.removeViewFromDom(n.el.parentElement,n.el)}}},tO=()=>{let n;const e=()=>{n&&(n(),n=void 0)};return{addClickListener:(i,r)=>{e();const s=r!==void 0?document.getElementById(r):null;if(!s){ln('A trigger element with the ID "'.concat(r,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),i);return}n=((a,l)=>{const c=()=>{l.present()};return a.addEventListener("click",c),()=>{a.removeEventListener("click",c)}})(s,i)},removeClickListener:e}};function en(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nO="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",iO="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",kv="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",Rv="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",Pv="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",rO="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",sO="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Xf;const oO=()=>{if(typeof window>"u")return new Map;if(!Xf){const n=window;n.Ionicons=n.Ionicons||{},Xf=n.Ionicons.map=n.Ionicons.map||new Map}return Xf},aO=n=>{let e=Zf(n.src);return e||(e=hS(n.name,n.icon,n.mode,n.ios,n.md),e?lO(e):n.icon&&(e=Zf(n.icon),e||(e=Zf(n.icon[n.mode]),e))?e:null)},lO=n=>{const e=oO().get(n);return e||O$("svg/".concat(n,".svg"))},hS=(n,e,t,i,r)=>(t=(t&&eu(t))==="ios"?"ios":"md",i&&t==="ios"?n=eu(i):r&&t==="md"?n=eu(r):(!n&&e&&!fS(e)&&(n=e),Cd(n)&&(n=eu(n))),!Cd(n)||n.trim()===""||n.replace(/[a-z]|-|\d/gi,"")!==""?null:n),Zf=n=>Cd(n)&&(n=n.trim(),fS(n))?n:null,fS=n=>n.length>0&&/(\/|\.)/.test(n),Cd=n=>typeof n=="string",eu=n=>n.toLowerCase(),cO=(n,e=[])=>{const t={};return e.forEach(i=>{n.hasAttribute(i)&&(n.getAttribute(i)!==null&&(t[i]=n.getAttribute(i)),n.removeAttribute(i))}),t},uO=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",dO=n=>{const e=document.createElement("div");e.innerHTML=n;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const t=e.firstElementChild;if(t&&t.nodeName.toLowerCase()==="svg"){const i=t.getAttribute("class")||"";if(t.setAttribute("class",(i+" s-ion-icon").trim()),pS(t))return e.innerHTML}return""},pS=n=>{if(n.nodeType===1){if(n.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;if(Cd(t)&&t.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<n.childNodes.length;e++)if(!pS(n.childNodes[e]))return!1}return!0},hO=n=>n.startsWith("data:image/svg+xml"),fO=n=>n.indexOf(";utf8,")!==-1,Ns=new Map,$v=new Map;let ep;const pO=(n,e)=>{let t=$v.get(n);if(!t)if(typeof fetch<"u"&&typeof document<"u")if(hO(n)&&fO(n)){ep||(ep=new DOMParser);const r=ep.parseFromString(n,"text/html").querySelector("svg");return r&&Ns.set(n,r.outerHTML),Promise.resolve()}else t=fetch(n).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=dO(r)),Ns.set(n,r||"")});Ns.set(n,"")}),$v.set(n,t);else return Ns.set(n,""),Promise.resolve();return t},mO=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",gO=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=yO(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=cO(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:t});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=aO(this);e&&(Ns.has(e)?this.svgContent=Ns.get(e):pO(e,this.sanitize).then(()=>this.svgContent=Ns.get(e)))}this.iconName=hS(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{iconName:e,el:t,inheritedAttributes:i}=this,r=this.mode||"md",s=this.flipRtl||e&&(e.indexOf("arrow")>-1||e.indexOf("chevron")>-1)&&this.flipRtl!==!1;return z(Ge,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},bO(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":!!s&&uO(t)})},i),this.svgContent?z("div",{class:"icon-inner",innerHTML:this.svgContent}):z("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return mO}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),yO=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",bO=n=>n?{"ion-color":!0,["ion-color-".concat(n)]:!0}:null;function Ry(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,gO);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const vO=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",wO=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",EO=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=Ie(this,"ionBackdropTap",7),this.blocker=Nh.createBlocker({disableScroll:!0}),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}connectedCallback(){this.stopPropagation&&this.blocker.block()}disconnectedCallback(){this.blocker.unblock()}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=$e(this);return z(Ge,{tabindex:"-1","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:vO,md:wO}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function mS(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,EO);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Wt=(n,e)=>e.closest(n)!==null,fn=(n,e)=>typeof n=="string"&&n.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(n)]:!0},e):e,xO=n=>n!==void 0?(Array.isArray(n)?n:n.split(" ")).filter(t=>t!=null).map(t=>t.trim()).filter(t=>t!==""):[],qo=n=>{const e={};return xO(n).forEach(t=>e[t]=!0),e},TO=/^[a-z][a-z0-9+\-.]*:/,Py=async(n,e,t,i)=>{if(n!=null&&n[0]!=="#"&&!TO.test(n)){const r=document.querySelector("ion-router");if(r)return e!=null&&e.preventDefault(),r.push(n,t,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const SO=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px}",CO=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}",AO=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=$e(this);return z(Ge,{class:fn(this.color,{[e]:!0})},z("slot",null))}static get style(){return{ios:SO,md:CO}}},[33,"ion-badge",{color:[513]}]);function NO(){if(typeof customElements>"u")return;["ion-badge"].forEach(e=>{switch(e){case"ion-badge":customElements.get(e)||customElements.define(e,AO);break}})}const kO=NO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const RO=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:28px;line-height:0.67}",PO=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:48px;height:48px}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",$O=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=$e(this);return z(Ge,{class:{[e]:!0,"buttons-collapse":this.collapse}})}static get style(){return{ios:RO,md:PO}}},[34,"ion-buttons",{collapse:[4]}]);function MO(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,$O);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const IO=MO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gS=n=>{const e=n;let t;return{hasLegacyControl:()=>{if(t===void 0){const r=e.label!==void 0||OO(e),s=e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")&&e.shadowRoot===null,o=Cy(e);t=e.legacy===!0||!r&&!s&&o!==null}return t}}},OO=n=>n.shadowRoot===null?!1:!!(_O.includes(n.tagName)&&n.querySelector('[slot="label"]')!==null||LO.includes(n.tagName)&&n.textContent!==""),_O=["ION-RANGE"],LO=["ION-TOGGLE","ION-CHECKBOX","ION-RADIO"];/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const DO=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",qO=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,t){return new Promise(i=>{Dl(()=>{const r=this.el.getBoundingClientRect(),s=r.width,o=r.height,a=Math.sqrt(s*s+o*o),l=Math.max(o,s),c=this.unbounded?l:a+FO,u=Math.floor(l*UO),d=c/u;let h=e-r.left,f=t-r.top;this.unbounded&&(h=s*.5,f=o*.5);const g=h-u*.5,b=f-u*.5,C=s*.5-h,x=o*.5-f;tr(()=>{const y=document.createElement("div");y.classList.add("ripple-effect");const E=y.style;E.top=b+"px",E.left=g+"px",E.width=E.height=u+"px",E.setProperty("--final-scale","".concat(d)),E.setProperty("--translate-end","".concat(C,"px, ").concat(x,"px")),(this.el.shadowRoot||this.el).appendChild(y),setTimeout(()=>{i(()=>{BO(y)})},225+100)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=$e(this);return z(Ge,{role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return DO}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),BO=n=>{n.classList.add("fade-out"),setTimeout(()=>{n.remove()},200)},FO=10,UO=.5;function Rh(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,qO);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jO={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},zO=n=>{if(n===void 0||n==="")return!0;if(window.matchMedia){const e=jO[n];return window.matchMedia(e).matches}return!1},VO=":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}",tu=typeof window<"u"?window:void 0,Mv=tu&&!!(tu.CSS&&tu.CSS.supports&&tu.CSS.supports("--a: 0")),HO=["","xs","sm","md","lg","xl"],WO=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){cs(this)}getColumns(e){let t;for(const i of HO){const r=zO(i),s=this[e+i.charAt(0).toUpperCase()+i.slice(1)];r&&s!==void 0&&(t=s)}return t}calculateSize(){const e=this.getColumns("size");if(!e||e==="")return;const t=e==="auto"?"auto":Mv?"calc(calc(".concat(e," / var(--ion-grid-columns, 12)) * 100%)"):e/12*100+"%";return{flex:"0 0 ".concat(t),width:"".concat(t),"max-width":"".concat(t)}}calculatePosition(e,t){const i=this.getColumns(e);if(!i)return;const r=Mv?"calc(calc(".concat(i," / var(--ion-grid-columns, 12)) * 100%)"):i>0&&i<12?i/12*100+"%":"auto";return{[t]:r}}calculateOffset(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}calculatePull(e){return this.calculatePosition("pull",e?"left":"right")}calculatePush(e){return this.calculatePosition("push",e?"right":"left")}render(){const e=document.dir==="rtl",t=$e(this);return z(Ge,{class:{[t]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},z("slot",null))}static get style(){return VO}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);function QO(){if(typeof customElements>"u")return;["ion-col"].forEach(e=>{switch(e){case"ion-col":customElements.get(e)||customElements.define(e,WO);break}})}const GO=QO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _u=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const KO=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',YO=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=Ie(this,"ionScrollStart",7),this.ionScroll=Ie(this,"ionScroll",7),this.ionScrollEnd=Ie(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null}disconnectedCallback(){this.onScrollEnd()}onAppLoad(){this.resize()}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,t=$e(this);return e===void 0?t==="ios"&&yr("ios"):e}resize(){this.fullscreen?Dl(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,cs(this))}readDimensions(){const e=XO(this.el),t=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-t-this.el.offsetHeight,0);(t!==this.cTop||i!==this.cBottom)&&(this.cTop=t,this.cBottom=i,cs(this))}onScroll(e){const t=Date.now(),i=!this.isScrolling;this.lastScroll=t,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Dl(r=>{this.queued=!1,this.detail.event=e,ZO(this.detail,this.scrollEl,r,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>zs(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>zs(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const t=await this.getScrollElement(),i=t.scrollHeight-t.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,t,i){const r=await this.getScrollElement();return this.scrollToPoint(e+r.scrollLeft,t+r.scrollTop,i)}async scrollToPoint(e,t,i=0){const r=await this.getScrollElement();if(i<32){t!=null&&(r.scrollTop=t),e!=null&&(r.scrollLeft=e);return}let s,o=0;const a=new Promise(f=>s=f),l=r.scrollTop,c=r.scrollLeft,u=t!=null?t-l:0,d=e!=null?e-c:0,h=f=>{const g=Math.min(1,(f-o)/i)-1,b=Math.pow(g,3)+1;u!==0&&(r.scrollTop=Math.floor(b*u+l)),d!==0&&(r.scrollLeft=Math.floor(b*d+c)),b<1?requestAnimationFrame(h):s()};return requestAnimationFrame(f=>{o=f,h(f)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{isMainContent:e,scrollX:t,scrollY:i,el:r}=this,s=_u(r)?"rtl":"ltr",o=$e(this),a=this.shouldForceOverscroll(),l=o==="ios",c=e?"main":"div";return this.resize(),z(Ge,{class:fn(this.color,{[o]:!0,"content-sizing":Wt("ion-popover",this.el),overscroll:a,["content-".concat(s)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},z("div",{ref:u=>this.backgroundContentEl=u,id:"background-content",part:"background"}),z(c,{class:{"inner-scroll":!0,"scroll-x":t,"scroll-y":i,overscroll:(t||i)&&a},ref:u=>this.scrollEl=u,onScroll:this.scrollEvents?u=>this.onScroll(u):void 0,part:"scroll"},z("slot",null)),l?z("div",{class:"transition-effect"},z("div",{class:"transition-cover"}),z("div",{class:"transition-shadow"})):null,z("slot",{name:"fixed"}))}get el(){return this}static get style(){return KO}},[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]]),JO=n=>{var e;return n.parentElement?n.parentElement:!((e=n.parentNode)===null||e===void 0)&&e.host?n.parentNode.host:null},XO=n=>{const e=n.closest("ion-tabs");if(e)return e;const t=n.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return t||JO(n)},ZO=(n,e,t,i)=>{const r=n.currentX,s=n.currentY,o=n.currentTime,a=e.scrollLeft,l=e.scrollTop,c=t-o;if(i&&(n.startTime=t,n.startX=a,n.startY=l,n.velocityX=n.velocityY=0),n.currentTime=t,n.currentX=n.scrollLeft=a,n.currentY=n.scrollTop=l,n.deltaX=a-n.startX,n.deltaY=l-n.startY,c>0&&c<100){const u=(a-r)/c,d=(l-s)/c;n.velocityX=u*.7+n.velocityX*.3,n.velocityY=d*.7+n.velocityY*.3}};function e_(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,YO);break}})}const t_=e_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const n_=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:16px;font-weight:500;letter-spacing:0}:host(.in-buttons){font-size:17px;font-weight:400}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:17px;font-weight:normal}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:20px}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:13px}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}',i_=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:14px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:20px}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:13px}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',r_=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=Ie(this,"ionFocus",7),this.ionBlur=Ie(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:t}=this;this.type==="button"?Py(this.href,e,this.routerDirection,this.routerAnimation):U1(t)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:t}=this;if(t!==null&&e.contains(t))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,e.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=Js(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const t=document.getElementById(e);return t?t instanceof HTMLFormElement?t:(ln('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(ln('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return e!==void 0?(ln('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=$e(this),{buttonType:t,type:i,disabled:r,rel:s,target:o,size:a,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:f,inheritedAttributes:g}=this,b=a===void 0&&this.inItem?"small":a,C=l===void 0?"button":"a",x=C==="button"?{type:i}:{download:this.download,href:l,rel:s,target:o};let y=this.fill;return y==null&&(y=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),z(Ge,{onClick:this.handleClick,"aria-disabled":r?"true":null,class:fn(c,{[e]:!0,[t]:!0,["".concat(t,"-").concat(u)]:u!==void 0,["".concat(t,"-").concat(b)]:b!==void 0,["".concat(t,"-").concat(h)]:h!==void 0,["".concat(t,"-").concat(y)]:!0,["".concat(t,"-strong")]:f,"in-toolbar":Wt("ion-toolbar",this.el),"in-toolbar-color":Wt("ion-toolbar[color]",this.el),"in-buttons":Wt("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":r,"ion-activatable":!0,"ion-focusable":!0})},z(C,Object.assign({},x,{class:"button-native",part:"native",disabled:r,onFocus:this.onFocus,onBlur:this.onBlur},g),z("span",{class:"button-inner"},z("slot",{name:"icon-only"}),z("slot",{name:"start"}),z("slot",null),z("slot",{name:"end"})),e==="md"&&z("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:n_,md:i_}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const s_=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:16px}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:13px}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',o_=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:16px;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}@supports (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{inset-inline-start:var(--position-offset)}}@supports not (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{left:var(--position-offset)}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}@supports selector(:dir(rtl)){:host(.item-fill-outline) .item-highlight:dir(rtl){left:unset;right:unset;right:var(--position-offset)}}}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted([slot=end]){-webkit-margin-start:32px;margin-inline-start:32px}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:24px}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){-webkit-margin-end:8px;margin-inline-end:8px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:11px}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){-webkit-padding-end:16px;padding-inline-end:16px}::slotted(ion-note[slot=end]){-webkit-padding-start:16px;padding-inline-start:16px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:12px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid):dir(rtl){border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid.item-shape-round):dir(rtl){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{-webkit-padding-start:32px;padding-inline-start:32px}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}',a_=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=kv,this.disabled=!1,this.download=void 0,this.fill=void 0,this.shape=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.counter=!1,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button",this.counterFormatter=void 0,this.counterString=void 0}counterFormatterChanged(){this.updateCounterOutput(this.getFirstInput())}handleIonInput(e){this.counter&&e.target===this.getFirstInput()&&this.updateCounterOutput(e.target)}labelColorChanged(e){const{color:t}=this;t===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const t=e.target.tagName,i=e.detail,r={},s=this.itemStyles.get(t)||{};let o=!1;Object.keys(i).forEach(a=>{if(i[a]){const l="item-".concat(a);s[l]||(o=!0),r[l]=!0}}),!o&&Object.keys(r).length!==Object.keys(s).length&&(o=!0),o&&(this.itemStyles.set(t,r),cs(this))}connectedCallback(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=ec(this.el,["aria-label"])}componentDidLoad(){const{el:e,counter:t,counterFormatter:i,fill:r,shape:s}=this;e.querySelector('[slot="helper"]')!==null&&ln('The "helper" slot has been deprecated in favor of using the "helperText" property on ion-input or ion-textarea.',e),e.querySelector('[slot="error"]')!==null&&ln('The "error" slot has been deprecated in favor of using the "errorText" property on ion-input or ion-textarea.',e),t===!0&&ln('The "counter" property has been deprecated in favor of using the "counter" property on ion-input or ion-textarea.',e),i!==void 0&&ln('The "counterFormatter" property has been deprecated in favor of using the "counterFormatter" property on ion-input or ion-textarea.',e),r!==void 0&&ln('The "fill" property has been deprecated in favor of using the "fill" property on ion-input or ion-textarea.',e),s!==void 0&&ln('The "shape" property has been deprecated in favor of using the "shape" property on ion-input or ion-textarea.',e),Bn(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),t=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=e.length+t.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}getFirstInput(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}updateCounterOutput(e){var t,i;const{counter:r,counterFormatter:s,defaultCounterFormatter:o}=this;if(r&&!this.multipleInputs&&(e==null?void 0:e.maxlength)!==void 0){const a=(i=(t=e==null?void 0:e.value)===null||t===void 0?void 0:t.toString().length)!==null&&i!==void 0?i:0;if(s===void 0)this.counterString=o(a,e.maxlength);else try{this.counterString=s(a,e.maxlength)}catch(l){cS("Exception in provided `counterFormatter`.",l),this.counterString=o(a,e.maxlength)}}}defaultCounterFormatter(e,t){return"".concat(e," / ").concat(t)}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}render(){const{counterString:e,detail:t,detailIcon:i,download:r,fill:s,labelColorStyles:o,lines:a,disabled:l,href:c,rel:u,shape:d,target:h,routerAnimation:f,routerDirection:g,inheritedAriaAttributes:b}=this,C={},x=$e(this),y=this.isClickable(),E=this.canActivate(),N=y?c===void 0?"button":"a":"div",I=N==="button"?{type:this.type}:{download:r,href:c,rel:u,target:h},B=y?{onClick:A=>{Py(c,A,g,f)}}:{},O=t!==void 0?t:x==="ios"&&y;this.itemStyles.forEach(A=>{Object.assign(C,A)});const $=l||C["item-interactive-disabled"]?"true":null,R=s||"none",H=Wt("ion-list",this.el)&&!Wt("ion-radio-group",this.el);return z(Ge,{"aria-disabled":$,class:Object.assign(Object.assign(Object.assign({},C),o),fn(this.color,{item:!0,[x]:!0,"item-lines-default":a===void 0,["item-lines-".concat(a)]:a!==void 0,["item-fill-".concat(R)]:!0,["item-shape-".concat(d)]:d!==void 0,"item-disabled":l,"in-list":H,"item-multiple-inputs":this.multipleInputs,"ion-activatable":E,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:H?"listitem":null},z(N,Object.assign({},I,b,{class:"item-native",part:"native",disabled:l},B),z("slot",{name:"start"}),z("div",{class:"item-inner"},z("div",{class:"input-wrapper"},z("slot",null)),z("slot",{name:"end"}),O&&z("ion-icon",{icon:i,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":i===kv}),z("div",{class:"item-inner-highlight"})),E&&x==="md"&&z("ion-ripple-effect",null),z("div",{class:"item-highlight"})),z("div",{class:"item-bottom"},z("slot",{name:"error"}),z("slot",{name:"helper"}),e&&z("ion-note",{class:"item-counter"},e)))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{counterFormatter:["counterFormatterChanged"]}}static get style(){return{ios:s_,md:o_}}},[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const l_=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{white-space:normal}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{font-size:14px;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:14px}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:22px;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:17px;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.4)}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",c_='.item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{white-space:normal}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(-6px) scale(0.75);transform:translateY(-6px) scale(0.75);position:relative;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content;background-color:var(--ion-item-background, var(--ion-background-color, #fff));overflow:visible;z-index:3}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{position:absolute;width:4px;height:100%;background-color:var(--ion-item-background, var(--ion-background-color, #fff));content:""}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before{left:calc(-1 * 4px)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{right:calc(-1 * 4px)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.sc-ion-label-md-h{-webkit-transform:translateX(-32px) translateY(-6px) scale(0.75);transform:translateX(-32px) translateY(-6px) scale(0.75)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating.label-rtl,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75);transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #3880ff)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.item-fill-solid.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-base)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:24px;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:16px;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:20px;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, #666666)}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}',u_=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.ionColor=Ie(this,"ionColor",7),this.ionStyle=Ie(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,["ion-color-".concat(e)]:e!==void 0})}emitStyle(){const{inRange:e,position:t}=this;e||this.ionStyle.emit({label:!0,["label-".concat(t)]:t!==void 0})}render(){const e=this.position,t=$e(this);return z(Ge,{class:fn(this.color,{[t]:!0,"in-item-color":Wt("ion-item.ion-color",this.el),["label-".concat(e)]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})})}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:l_,md:c_}}},[34,"ion-label",{color:[513],position:[1],noAnimate:[32]}]);function d_(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,u_);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Lu=()=>{if($t!==void 0)return $t.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Bm;(function(n){n.Heavy="HEAVY",n.Medium="MEDIUM",n.Light="LIGHT"})(Bm||(Bm={}));var Iv;(function(n){n.Success="SUCCESS",n.Warning="WARNING",n.Error="ERROR"})(Iv||(Iv={}));const Ph={getEngine(){const n=window.TapticEngine;if(n)return n;const e=Lu();if(e!=null&&e.isPluginAvailable("Haptics"))return e.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=Lu();return(e==null?void 0:e.getPlatform())==="web"?typeof navigator<"u"&&navigator.vibrate!==void 0:!0},isCordova(){return window.TapticEngine!==void 0},isCapacitor(){return Lu()!==void 0},impact(n){const e=this.getEngine();if(!e)return;const t=this.isCapacitor()?n.style:n.style.toLowerCase();e.impact({style:t})},notification(n){const e=this.getEngine();if(!e)return;const t=this.isCapacitor()?n.type:n.type.toLowerCase();e.notification({type:t})},selection(){const n=this.isCapacitor()?Bm.Light:"light";this.impact({style:n})},selectionStart(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionStart():n.gestureSelectionStart())},selectionChanged(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionChanged():n.gestureSelectionChanged())},selectionEnd(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionEnd():n.gestureSelectionEnd())}},$y=()=>Ph.available(),h_=()=>{$y()&&Ph.selectionStart()},f_=()=>{$y()&&Ph.selectionChanged()},p_=()=>{$y()&&Ph.selectionEnd()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const m_="ION-CONTENT",yS="ion-content",bS=".ion-content-scroll-host",vS="".concat(yS,", ").concat(bS),tc=n=>n.tagName===m_,Ov=async n=>tc(n)?(await new Promise(e=>zs(n,e)),n.getScrollElement()):n,_v=n=>{const e=n.querySelector(bS);return e||n.querySelector(vS)},g_=n=>n.closest(vS),Q8=(n,e)=>tc(n)?n.scrollToTop(e):Promise.resolve(n.scrollTo({top:0,left:0,behavior:e>0?"smooth":"auto"})),G8=(n,e,t,i)=>tc(n)?n.scrollByPoint(e,t,i):Promise.resolve(n.scrollBy({top:t,left:e,behavior:i>0?"smooth":"auto"})),Lv=n=>BI(n,yS),y_=n=>{if(tc(n)){const e=n,t=e.scrollY;return e.scrollY=!1,t}else return n.style.setProperty("overflow","hidden"),!0},b_=(n,e)=>{tc(n)?n.scrollY=e:n.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Fm;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(Fm||(Fm={}));var Um;(function(n){n.Body="body",n.Ionic="ionic",n.Native="native",n.None="none"})(Um||(Um={}));const v_={getEngine(){const n=Lu();if(n!=null&&n.isPluginAvailable("Keyboard"))return n.Plugins.Keyboard},getResizeMode(){const n=this.getEngine();return n!=null&&n.getResizeMode?n.getResizeMode().catch(e=>{if(e.code!==Fm.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wS=n=>{if(Do===void 0||n===Um.None||n===void 0)return null;const e=Do.querySelector("ion-app");return e!=null?e:Do.body},Dv=n=>{const e=wS(n);return e===null?0:e.clientHeight},w_=async n=>{let e,t,i,r;const s=async()=>{const u=await v_.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{r===void 0&&(r=Dv(d)),i=!0,o(i,d)},t=()=>{i=!1,o(i,d)},$t==null||$t.addEventListener("keyboardWillShow",e),$t==null||$t.addEventListener("keyboardWillHide",t)},o=(u,d)=>{n&&n(u,a(d))},a=u=>{if(r===0||r===Dv(u))return;const d=wS(u);if(d!==null)return new Promise(h=>{const f=()=>{d.clientHeight===r&&(g.disconnect(),h())},g=new ResizeObserver(f);g.observe(d)})},l=()=>{$t==null||$t.removeEventListener("keyboardWillShow",e),$t==null||$t.removeEventListener("keyboardWillHide",t),e=t=void 0},c=()=>i;return await s(),{init:s,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const E_=":host{-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;display:block;-ms-flex:1;flex:1}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}",x_=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.fixed=!1}render(){const e=$e(this);return z(Ge,{class:{[e]:!0,"grid-fixed":this.fixed}},z("slot",null))}static get style(){return E_}},[1,"ion-grid",{fixed:[4]}]);function T_(){if(typeof customElements>"u")return;["ion-grid"].forEach(e=>{switch(e){case"ion-grid":customElements.get(e)||customElements.define(e,x_);break}})}const S_=T_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const C_="all 0.2s ease-in-out",qv=n=>{const e=document.querySelector("".concat(n,".ion-cloned-element"));if(e!==null)return e;const t=document.createElement(n);return t.classList.add("ion-cloned-element"),t.style.setProperty("display","none"),document.body.appendChild(t),t},Bv=n=>{if(!n)return;const e=n.querySelectorAll("ion-toolbar");return{el:n,toolbars:Array.from(e).map(t=>{const i=t.querySelector("ion-title");return{el:t,background:t.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(t.querySelectorAll("ion-buttons"))}})}},A_=(n,e,t)=>{Dl(()=>{const i=n.scrollTop,r=Qi(1,1+-i/500,1.1);t.querySelector("ion-refresher.refresher-native")===null&&tr(()=>{R_(e.toolbars,r)})})},My=(n,e)=>{n.collapse!=="fade"&&(e===void 0?n.style.removeProperty("--opacity-scale"):n.style.setProperty("--opacity-scale",e.toString()))},N_=(n,e,t)=>{if(!n[0].isIntersecting)return;const i=n[0].intersectionRatio>.9||t<=0?0:(1-n[0].intersectionRatio)*100/75;My(e.el,i===1?void 0:i)},k_=(n,e,t,i)=>{tr(()=>{const r=i.scrollTop;N_(n,e,r);const s=n[0],o=s.intersectionRect,a=o.width*o.height,l=s.rootBounds.width*s.rootBounds.height,c=a===0&&l===0,u=Math.abs(o.left-s.boundingClientRect.left),d=Math.abs(o.right-s.boundingClientRect.right),h=a>0&&(u>=5||d>=5);c||h||(s.isIntersecting?(tl(e,!1),tl(t)):(o.x===0&&o.y===0||o.width!==0&&o.height!==0)&&r>0&&(tl(e),tl(t,!1),My(e.el)))})},tl=(n,e=!0)=>{const t=n.el;e?(t.classList.remove("header-collapse-condense-inactive"),t.removeAttribute("aria-hidden")):(t.classList.add("header-collapse-condense-inactive"),t.setAttribute("aria-hidden","true"))},R_=(n=[],e=1,t=!1)=>{n.forEach(i=>{const r=i.ionTitleEl,s=i.innerTitleEl;!r||r.size!=="large"||(s.style.transition=t?C_:"",s.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))})},Fv=(n,e,t)=>{Dl(()=>{const i=n.scrollTop,r=e.clientHeight,s=t?t.clientHeight:0;if(t!==null&&i<s){e.style.setProperty("--opacity-scale","0"),n.style.setProperty("clip-path","inset(".concat(r,"px 0px 0px 0px)"));return}const o=i-s,l=Qi(0,o/10,1);tr(()=>{n.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},P_="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:1px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}",$_="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",M_=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,t)=>{const i=this.scrollEl=await Ov(e);this.contentScrollCallback=()=>{Fv(this.scrollEl,this.el,t)},i.addEventListener("scroll",this.contentScrollCallback),Fv(this.scrollEl,this.el,t)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Js(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if($e(this)!=="ios")return;const{collapse:t}=this,i=t==="condense",r=t==="fade";if(this.destroyCollapsibleHeader(),i){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?_v(s):null;tr(()=>{const a=qv("ion-title");a.size="large",qv("ion-back-button")}),await this.setupCondenseHeader(o,s)}else if(r){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?_v(s):null;if(!o){Lv(this.el);return}const a=o.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(o,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,t){if(!e||!t){Lv(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await Ov(e);const i=t.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const r=Bv(this.collapsibleMainHeader),s=Bv(this.el);if(!r||!s)return;tl(r,!1),My(r.el,0);const o=a=>{k_(a,r,s,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(o,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(s.toolbars[s.toolbars.length-1].el),this.contentScrollCallback=()=>{A_(this.scrollEl,s,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),tr(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:t}=this,i=$e(this),r=this.collapse||"none",s=Wt("ion-menu",this.el)?"none":"banner";return z(Ge,Object.assign({role:s,class:{[i]:!0,["header-".concat(i)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(r)]:!0,["header-translucent-".concat(i)]:this.translucent}},t),i==="ios"&&e&&z("div",{class:"header-background"}),z("slot",null))}get el(){return this}static get style(){return{ios:P_,md:$_}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function I_(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,M_);break}})}const O_=I_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const __=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",L_=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=Ie(this,"ionImgWillLoad",7),this.ionImgDidLoad=Ie(this,"ionImgDidLoad",7),this.ionError=Ie(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=ec(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:t,onLoad:i,loadError:r,inheritedAttributes:s}=this,{draggable:o}=s;return z(Ge,{class:$e(this)},z("img",{decoding:"async",src:e,alt:t,onLoad:i,onError:r,part:"image",draggable:D_(o)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return __}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]}]),D_=n=>{switch(n){case"true":return!0;case"false":return!1;default:return}};function q_(){if(typeof customElements>"u")return;["ion-img"].forEach(e=>{switch(e){case"ion-img":customElements.get(e)||customElements.define(e,L_);break}})}const B_=q_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const F_={bubbles:{dur:1e3,circles:9,fn:(n,e,t)=>{const i="".concat(n*e/t-n,"ms"),r=2*Math.PI*e/t;return{r:5,style:{top:"".concat(32*Math.sin(r),"%"),left:"".concat(32*Math.cos(r),"%"),"animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(n,e,t)=>{const i=e/t,r="".concat(n*i-n,"ms"),s=2*Math.PI*i;return{r:5,style:{top:"".concat(32*Math.sin(s),"%"),left:"".concat(32*Math.cos(s),"%"),"animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(n,e)=>{const t=-(110*e)+"ms";return{r:6,style:{left:"".concat(32-32*e,"%"),"animation-delay":t}}}},lines:{dur:1e3,lines:8,fn:(n,e,t)=>{const i="rotate(".concat(360/t*e+(e<t/2?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:14,y2:26,style:{transform:i,"animation-delay":r}}}},"lines-small":{dur:1e3,lines:8,fn:(n,e,t)=>{const i="rotate(".concat(360/t*e+(e<t/2?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}},"lines-sharp":{dur:1e3,lines:12,fn:(n,e,t)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:17,y2:29,style:{transform:i,"animation-delay":r}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(n,e,t)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}}},Uv=F_,U_=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",j_=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||je.get("spinner"),t=$e(this);return e||(t==="ios"?"lines":"circular")}render(){var e;const t=this,i=$e(t),r=t.getName(),s=(e=Uv[r])!==null&&e!==void 0?e:Uv.lines,o=typeof t.duration=="number"&&t.duration>10?t.duration:s.dur,a=[];if(s.circles!==void 0)for(let l=0;l<s.circles;l++)a.push(z_(s,o,l,s.circles));else if(s.lines!==void 0)for(let l=0;l<s.lines;l++)a.push(V_(s,o,l,s.lines));return z(Ge,{class:fn(t.color,{[i]:!0,["spinner-".concat(r)]:!0,"spinner-paused":t.paused||je.getBoolean("_testing")}),role:"progressbar",style:s.elmDuration?{animationDuration:o+"ms"}:{}},a)}static get style(){return U_}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),z_=(n,e,t,i)=>{const r=n.fn(e,t,i);return r.style["animation-duration"]=e+"ms",z("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},z("circle",{transform:r.transform||"translate(32,32)",cx:r.cx,cy:r.cy,r:r.r,style:n.elmDuration?{animationDuration:e+"ms"}:{}}))},V_=(n,e,t,i)=>{const r=n.fn(e,t,i);return r.style["animation-duration"]=e+"ms",z("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},z("line",{transform:"translate(32,32)",y1:r.y1,y2:r.y2}))};function H_(){if(typeof customElements>"u")return;["ion-spinner"].forEach(e=>{switch(e){case"ion-spinner":customElements.get(e)||customElements.define(e,j_);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const W_=(n,e,t)=>{let i;const r=()=>!(e()===void 0||n.label!==void 0||t()===null),s=()=>{r()&&Bn(()=>{o()})},o=()=>{const l=e();if(l===void 0)return;if(!r()){l.style.removeProperty("width");return}const c=t().scrollWidth;if(c===0&&l.offsetParent===null&&$t!==void 0&&"IntersectionObserver"in $t){if(i!==void 0)return;const u=i=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(o(),u.disconnect(),i=void 0)},{threshold:.01,root:n});u.observe(l);return}l.style.setProperty("width","".concat(c*.75,"px"))};return{calculateNotchWidth:s,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Q_=(n,e,t)=>{let i,r;$t!==void 0&&"MutationObserver"in $t&&(i=new MutationObserver(l=>{for(const c of l)for(const u of c.addedNodes)if(u.nodeType===Node.ELEMENT_NODE&&u.slot===e){t(),Bn(()=>s(u));return}}),i.observe(n,{childList:!0}));const s=l=>{var c;r&&(r.disconnect(),r=void 0),r=new MutationObserver(u=>{t();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&a()}),r.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},o=()=>{i&&(i.disconnect(),i=void 0),a()},a=()=>{r&&(r.disconnect(),r=void 0)};return{destroy:o}},G_=(n,e,t)=>{const i=n==null?0:n.toString().length,r=K_(i,e);if(t===void 0)return r;try{return t(i,e)}catch(s){return cS("Exception in provided `counterFormatter`.",s),r}},K_=(n,e)=>"".concat(n," / ").concat(e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Y_=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-ios-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-ios-h .native-input.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-ios-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-ios-h{--padding-start:0}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.legacy-input.ion-color.sc-ion-input-ios-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{left:0}[dir=rtl].sc-ion-input-ios-h .cloned-input.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-ios .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-ios:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.legacy-input.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.has-focus.sc-ion-input-ios-h{pointer-events:none}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h a.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h button.sc-ion-input-ios{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-ios-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-ios-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl),.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-focus.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));font-size:inherit}.legacy-input.sc-ion-input-ios-h{--padding-top:10px;--padding-end:8px;--padding-bottom:10px;--padding-start:0}.item-label-stacked.sc-ion-input-ios-h,.item-label-stacked .sc-ion-input-ios-h,.item-label-floating.sc-ion-input-ios-h,.item-label-floating .sc-ion-input-ios-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0px}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.sc-ion-input-ios-h:not(.legacy-input){min-height:44px}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.legacy-input.sc-ion-input-ios-h .native-input[disabled].sc-ion-input-ios,.input-disabled.sc-ion-input-ios-h{opacity:0.3}",J_=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-md-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-md-h .native-input.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-md-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-md-h{--padding-start:0}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.legacy-input.ion-color.sc-ion-input-md-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .cloned-input.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-md:disabled{opacity:1}.legacy-input.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.has-focus.sc-ion-input-md-h{pointer-events:none}.has-focus.sc-ion-input-md-h input.sc-ion-input-md,.has-focus.sc-ion-input-md-h a.sc-ion-input-md,.has-focus.sc-ion-input-md-h button.sc-ion-input-md{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-md-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-md-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, #f2f2f2);--border-color:var(--ion-color-step-500, gray);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, #e6e6e6);--border-color:var(--ion-color-step-750, #404040)}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, #d9d9d9);--border-color:var(--ion-color-step-750, #404040)}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl].input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}}.input-fill-solid.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, #b3b3b3);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, #404040)}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:2px;--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md:dir(rtl){border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px;-ms-flex-positive:1;flex-grow:1}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));font-size:inherit}.legacy-input.sc-ion-input-md-h{--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:8px}.item-label-stacked.sc-ion-input-md-h,.item-label-stacked .sc-ion-input-md-h,.item-label-floating.sc-ion-input-md-h,.item-label-floating .sc-ion-input-md-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.legacy-input.sc-ion-input-md-h .native-input[disabled].sc-ion-input-md,.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.sc-ion-input-md-h:not(.legacy-input){min-height:56px}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:2px;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}@supports (inset-inline-start: 0){.input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}@supports (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl].in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}",X_=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.ionInput=Ie(this,"ionInput",7),this.ionChange=Ie(this,"ionChange",7),this.ionBlur=Ie(this,"ionBlur",7),this.ionFocus=Ie(this,"ionFocus",7),this.ionStyle=Ie(this,"ionStyle",7),this.inputId="ion-input-".concat(Z_++),this.inheritedAttributes={},this.isComposing=!1,this.hasLoggedDeprecationWarning=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const t=e.target;t&&(this.value=t.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.emitStyle(),this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.emitStyle(),this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.accept=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.legacy=void 0,this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.size=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:i}=this;this.ionInput=t===void 0?i!=null?i:e:j1(e,t)}disabledChanged(){this.emitStyle()}placeholderChanged(){this.emitStyle()}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&!this.isComposing&&(e.value=t),this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Js(this.el)),ec(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:e}=this;this.legacyFormController=gS(e),this.slotMutationController=Q_(e,"label",()=>cs(this)),this.notchController=W_(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.emitStyle(),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}getInputElement(){return Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,i=t==null?t:t.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:t}=this,i=t==null?t:t.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:t}=this;return t===void 0?e==="password":t}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,input:!0,"has-placeholder":this.placeholder!==void 0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"interactive-disabled":this.disabled})}checkClearOnEdit(e){this.shouldClearOnEdit()&&(!this.didInputClearOnEdit&&this.hasValue()&&e.key!=="Enter"&&e.key!=="Tab"&&(this.value="",this.emitInputChange(e)),this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:t}=this;return[z("div",{class:"helper-text"},e),z("div",{class:"error-text"},t)]}renderCounter(){const{counter:e,maxlength:t,counterFormatter:i,value:r}=this;if(!(e!==!0||t===void 0))return z("div",{class:"counter"},G_(r,t,i))}renderBottomContent(){const{counter:e,helperText:t,errorText:i,maxlength:r}=this;if(!(!(t||i)&&!(e===!0&&r!==void 0)))return z("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return z("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?z("slot",{name:"label"}):z("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return $e(this)==="md"&&this.fill==="outline"?[z("div",{class:"input-outline-container"},z("div",{class:"input-outline-start"}),z("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},z("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),z("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}renderInput(){const{disabled:e,fill:t,readonly:i,shape:r,inputId:s,labelPlacement:o}=this,a=$e(this),l=this.getValue(),c=Wt("ion-item",this.el),u=a==="md"&&t!=="outline"&&!c;return z(Ge,{class:fn(this.color,{[a]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,["input-fill-".concat(t)]:t!==void 0,["input-shape-".concat(r)]:r!==void 0,["input-label-placement-".concat(o)]:!0,"in-item":c,"in-item-color":Wt("ion-item.ion-color",this.el),"input-disabled":e})},z("label",{class:"input-wrapper"},this.renderLabelContainer(),z("div",{class:"native-wrapper"},z("input",Object.assign({class:"native-input",ref:d=>this.nativeInput=d,id:s,disabled:e,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:l,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd},this.inheritedAttributes)),this.clearInput&&!i&&!e&&z("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:d=>{d.preventDefault()},onClick:this.clearTextInput},z("ion-icon",{"aria-hidden":"true",icon:a==="ios"?Rv:Pv}))),u&&z("div",{class:"input-highlight"})),this.renderBottomContent())}renderLegacyInput(){this.hasLoggedDeprecationWarning||(ln('ion-input now requires providing a label with either the "label" property or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the "label" property or the "aria-label" attribute.\n\nExample: <ion-input label="Email"></ion-input>\nExample with aria-label: <ion-input aria-label="Email"></ion-input>\n\nFor inputs that do not render the label immediately next to the input, developers may continue to use "ion-label" but must manually associate the label with the input by using "aria-labelledby".\n\nDevelopers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.',this.el),this.legacy&&ln('ion-input is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.\n\nDevelopers can dismiss this warning by removing their usage of the "legacy" property and using the new input syntax.',this.el),this.hasLoggedDeprecationWarning=!0);const e=$e(this),t=this.getValue(),i=this.inputId+"-lbl",r=Cy(this.el);return r&&(r.id=i),z(Ge,{"aria-disabled":this.disabled?"true":null,class:fn(this.color,{[e]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"legacy-input":!0,"in-item-color":Wt("ion-item.ion-color",this.el)})},z("input",Object.assign({class:"native-input",ref:s=>this.nativeInput=s,"aria-labelledby":r?r.id:null,disabled:this.disabled,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:t,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown},this.inheritedAttributes)),this.clearInput&&!this.readonly&&!this.disabled&&z("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:s=>{s.preventDefault()},onClick:this.clearTextInput},z("ion-icon",{"aria-hidden":"true",icon:e==="ios"?Rv:Pv})))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyInput():this.renderInput()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],disabled:["disabledChanged"],placeholder:["placeholderChanged"],value:["valueChanged"]}}static get style(){return{ios:Y_,md:J_}}},[38,"ion-input",{color:[513],accept:[1],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[4],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],legacy:[4],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[4],required:[4],shape:[1],spellcheck:[4],step:[1],size:[2],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]}]);let Z_=0;function eL(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,X_);break;case"ion-icon":customElements.get(e)||Ry();break}})}const tL=eL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const nL=d_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const iL="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:last-child{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",rL="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}@supports (inset-inline-start: 0){.list-md>.input:last-child::after{inset-inline-start:0}}@supports not (inset-inline-start: 0){.list-md>.input:last-child::after{left:0}:host-context([dir=rtl]) .list-md>.input:last-child::after{left:unset;right:unset;right:0}[dir=rtl] .list-md>.input:last-child::after{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.list-md>.input:last-child::after:dir(rtl){left:unset;right:unset;right:0}}}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:first-child{--border-radius:2px 2px 0 0}.list-md.list-inset ion-item:last-child{--border-radius:0 0 2px, 2px;--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",sL=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=$e(this),{lines:t,inset:i}=this;return z(Ge,{role:"list",class:{[e]:!0,["list-".concat(e)]:!0,"list-inset":i,["list-lines-".concat(t)]:t!==void 0,["list-".concat(e,"-lines-").concat(t)]:t!==void 0}})}get el(){return this}static get style(){return{ios:iL,md:rL}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function oL(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,sL);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const aL=oL,lL=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start) .menu-inner:dir(rtl){left:unset;right:unset;left:auto;right:0}}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end) .menu-inner:dir(rtl){left:unset;right:unset;left:0;right:auto}}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none !important;transform:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}:host(.menu-pane-visible) ion-backdrop{display:hidden !important;}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",cL=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start) .menu-inner:dir(rtl){left:unset;right:unset;left:auto;right:0}}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end) .menu-inner:dir(rtl){left:unset;right:unset;left:0;right:auto}}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none !important;transform:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}:host(.menu-pane-visible) ion-backdrop{display:hidden !important;}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",uL="cubic-bezier(0.32,0.72,0,1)",dL="cubic-bezier(0.0,0.0,0.2,1)",hL="cubic-bezier(1, 0, 0.68, 0.28)",fL="cubic-bezier(0.4, 0, 0.6, 1)",jv='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',pL=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=Ie(this,"ionWillOpen",7),this.ionWillClose=Ie(this,"ionWillClose",7),this.ionDidOpen=Ie(this,"ionDidOpen",7),this.ionDidClose=Ie(this,"ionDidClose",7),this.ionMenuChange=Ie(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=Nh.createBlocker({disableScroll:!0}),this.didLoad=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const t=Td(document);t&&!t.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,t){const i=this.contentEl;i&&(t!==void 0&&i.classList.remove("menu-content-".concat(t)),i.classList.add("menu-content-".concat(e)),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=yv(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=je.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){console.error('Menu: must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&console.error('Menu: "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),fr._register(this),this.menuChanged(),this.gesture=(await an(()=>Promise.resolve().then(()=>Z1),void 0)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:t=>this.canStart(t),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=Js(this.el)}async componentDidLoad(){this.didLoad=!0,this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),fr._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){this.isPaneVisible=e.detail.isPane(this.el),this.updateState()}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close())}onKeydown(e){e.key==="Escape"&&this.close()}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0){return this.setOpen(!1,e)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,t=!0){return fr._setOpen(this,e,t)}focusFirstDescendant(){const{el:e}=this,t=e.querySelector(jv);t?t.focus():e.focus()}focusLastDescendant(){const{el:e}=this,t=Array.from(e.querySelectorAll(jv)),i=t.length>0?t[t.length-1]:null;i?i.focus():e.focus()}trapKeyboardFocus(e,t){const i=e.target;i&&(this.el.contains(i)?this.lastFocus=i:(this.focusFirstDescendant(),this.lastFocus===t.activeElement&&this.focusLastDescendant()))}async _setOpen(e,t=!0){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e),await this.loadAnimation(),await this.startAnimation(e,t),this.afterAnimation(e),!0)}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,t=yv(this.side);e===this.width&&this.animation!==void 0&&t===this.isEndSide||(this.width=e,this.isEndSide=t,this.animation&&(this.animation.destroy(),this.animation=void 0),this.animation=await fr._createAnimation(this.type,this),je.getBoolean("animated",!0)||this.animation.duration(0),this.animation.fill("both"))}async startAnimation(e,t){const i=!e,r=$e(this),s=r==="ios"?uL:dL,o=r==="ios"?hL:fL,a=this.animation.direction(i?"reverse":"normal").easing(i?o:s).onFinish(()=>{a.getDirection()==="reverse"&&a.direction("normal")});t?await a.play():a.play({sync:!0})}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:fr._getOpenSync()?!1:mL(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){Nt(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){Nt(!1,"isAnimating has to be true");return}const i=zv(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-i:i)}onEnd(e){if(!this.isAnimating||!this.animation){Nt(!1,"isAnimating has to be true");return}const t=this._isOpen,i=this.isEndSide,r=zv(e.deltaX,t,i),s=this.width,o=r/s,a=e.velocityX,l=s/2,c=a>=0&&(a>.2||e.deltaX>l),u=a<=0&&(a<-.2||e.deltaX<-l),d=t?i?c:u:i?u:c;let h=!t&&d;t&&!d&&(h=!0),this.lastOnEnd=e.currentTime;let f=d?.001:-.001;const g=o<0?.01:o;f+=ql([0,0],[.4,0],[.6,1],[1,1],Qi(0,g,.9999))[0]||0;const b=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(h),{oneTimeCallback:!0}).progressEnd(b?1:0,this._isOpen?1-f:f,300)}beforeAnimation(e){Nt(!this.isAnimating,"_before() should not be called while animating"),this.el.classList.add(Vv),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(Hv),this.contentEl&&(this.contentEl.classList.add(Wv),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit()}afterAnimation(e){var t;Nt(this.isAnimating,"_before() should be called while animating"),this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(this.ionDidOpen.emit(),((t=document.activeElement)===null||t===void 0?void 0:t.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.classList.remove(Vv),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(Wv),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(Hv),this.animation&&this.animation.stop(),this.ionDidClose.emit(),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),!e&&this._isOpen&&this.forceClosing(),Do!=null&&Do.contains(this.el)&&(this.disabled||fr._setActiveMenu(this)),Nt(!this.isAnimating,"can not be animating")}forceClosing(){Nt(this._isOpen,"menu cannot be closed"),this.isAnimating=!0,this.animation.direction("reverse").play({sync:!0}),this.afterAnimation(!1)}render(){const{type:e,disabled:t,isPaneVisible:i,inheritedAttributes:r,side:s}=this,o=$e(this);return z(Ge,{role:"navigation","aria-label":r["aria-label"]||"menu",class:{[o]:!0,["menu-type-".concat(e)]:!0,"menu-enabled":!t,["menu-side-".concat(s)]:!0,"menu-pane-visible":i}},z("div",{class:"menu-inner",part:"container",ref:a=>this.menuInnerEl=a},z("slot",null)),z("ion-backdrop",{ref:a=>this.backdropEl=a,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:lL,md:cL}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]]),zv=(n,e,t)=>Math.max(0,e!==t?-n:n),mL=(n,e,t,i)=>t?e>=n.innerWidth-i:e<=i,Vv="show-menu",Hv="show-backdrop",Wv="menu-content-open";function gL(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,pL);break;case"ion-backdrop":customElements.get(e)||mS();break}})}const yL=gL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ES=async n=>{const e=await fr.get(n);return!!(e&&await e.isActive())};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bL=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--padding-start:5px;--padding-end:5px;height:32px;font-size:31px}:host(.ion-activated){opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',vL=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:.04;--border-radius:50%;--color:initial;--padding-start:8px;--padding-end:8px;width:48px;height:48px;font-size:24px}:host(.ion-color.ion-focused)::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',wL=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async()=>fr.toggle(this.menu),this.visible=!1,this.color=void 0,this.disabled=!1,this.menu=void 0,this.autoHide=!0,this.type="button"}componentWillLoad(){this.inheritedAttributes=Js(this.el)}componentDidLoad(){this.visibilityChanged()}async visibilityChanged(){this.visible=await ES(this.menu)}render(){const{color:e,disabled:t,inheritedAttributes:i}=this,r=$e(this),s=je.get("menuIcon",r==="ios"?rO:sO),o=this.autoHide&&!this.visible,a={type:this.type},l=i["aria-label"]||"menu";return z(Ge,{onClick:this.onClick,"aria-disabled":t?"true":null,"aria-hidden":o?"true":null,class:fn(e,{[r]:!0,button:!0,"menu-button-hidden":o,"menu-button-disabled":t,"in-toolbar":Wt("ion-toolbar",this.el),"in-toolbar-color":Wt("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0})},z("button",Object.assign({},a,{disabled:t,class:"button-native",part:"native","aria-label":l}),z("span",{class:"button-inner"},z("slot",null,z("ion-icon",{part:"icon",icon:s,mode:r,lazy:!1,"aria-hidden":"true"}))),r==="md"&&z("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:bL,md:vL}}},[33,"ion-menu-button",{color:[513],disabled:[4],menu:[1],autoHide:[4,"auto-hide"],type:[1],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function EL(){if(typeof customElements>"u")return;["ion-menu-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-menu-button":customElements.get(e)||customElements.define(e,wL);break;case"ion-icon":customElements.get(e)||Ry();break;case"ion-ripple-effect":customElements.get(e)||Rh();break}})}const xL=EL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const TL=":host(.menu-toggle-hidden){display:none}",SL=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>fr.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await ES(this.menu)}render(){const e=$e(this),t=this.autoHide&&!this.visible;return z(Ge,{onClick:this.onClick,"aria-hidden":t?"true":null,class:{[e]:!0,"menu-toggle-hidden":t}},z("slot",null))}static get style(){return TL}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function CL(){if(typeof customElements>"u")return;["ion-menu-toggle"].forEach(e=>{switch(e){case"ion-menu-toggle":customElements.get(e)||customElements.define(e,SL);break}})}const AL=CL,xS=1,TS=2,Ad=3;class jm{constructor(e,t){this.component=e,this.params=t,this.state=xS}async init(e){if(this.state=TS,!this.element){const t=this.component;this.element=await lS(this.delegate,e,t,["ion-page","ion-page-invisible"],this.params)}}_destroy(){Nt(this.state!==Ad,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=Ad}}const Qv=(n,e,t)=>!n||n.component!==e?!1:z1(n.params,t),Gv=(n,e)=>n?n instanceof jm?n:new jm(n,e):null,NL=n=>n.map(e=>e instanceof jm?e:"component"in e?Gv(e.component,e.componentProps===null?void 0:e.componentProps):Gv(e,void 0)).filter(e=>e!==null),kL=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}",RL=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Ie(this,"ionNavWillLoad",7),this.ionNavWillChange=Ie(this,"ionNavWillChange",3),this.ionNavDidChange=Ie(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=$e(this);this.swipeGesture=je.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await an(()=>import("./swipe-back-4f3d2393.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)pr(e.element,Kf),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,t,i,r){return this.insert(-1,e,t,i,r)}insert(e,t,i,r,s){return this.insertPages(e,[{component:t,componentProps:i}],r,s)}insertPages(e,t,i,r){return this.queueTrns({insertStart:e,insertViews:t,opts:i},r)}pop(e,t){return this.removeIndex(-1,1,e,t)}popTo(e,t,i){const r={removeStart:-1,removeCount:-1,opts:t};return typeof e=="object"&&e.component?(r.removeView=e,r.removeStart=1):typeof e=="number"&&(r.removeStart=e+1),this.queueTrns(r,i)}popToRoot(e,t){return this.removeIndex(1,-1,e,t)}removeIndex(e,t=1,i,r){return this.queueTrns({removeStart:e,removeCount:t,opts:i},r)}setRoot(e,t,i,r){return this.setPages([{component:e,componentProps:t}],i,r)}setPages(e,t,i){return t!=null||(t={}),t.animated!==!0&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},i)}setRouteId(e,t,i,r){const s=this.getActiveSync();if(Qv(s,e,t))return Promise.resolve({changed:!1,element:s.element});let o;const a=new Promise(u=>o=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(f=>d=f);return o({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(i==="root")l=this.setRoot(e,t,c);else{const u=this.views.find(d=>Qv(d,e,t));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:r})):i==="forward"?l=this.push(e,t,Object.assign(Object.assign({},c),{animationBuilder:r})):i==="back"&&(l=this.setRoot(e,t,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:r})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const t=this.views,i=t.indexOf(e);return i>0?t[i-1]:void 0}async queueTrns(e,t){var i,r;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const s=new Promise((o,a)=>{e.resolve=o,e.reject=a});if(e.done=t,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const o=document.querySelector("ion-router");if(o){const a=await o.canTransition();if(a===!1)return!1;if(typeof a=="string")return o.push(a,e.opts.direction||"back"),!1}}return((r=e.insertViews)===null||r===void 0?void 0:r.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),s}success(e,t){if(this.destroyed){this.fireError("nav controller was destroyed",t);return}if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),t.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const r=e.direction==="back"?"back":"forward";i.navChanged(r)}}}failed(e,t){if(this.destroyed){this.fireError("nav controller was destroyed",t);return}this.transInstr.length=0,this.fireError(e,t)}fireError(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const t=this.getActiveSync(),i=this.getEnteringView(e,t);if(!t&&!i)throw new Error("no views in the stack to be removed");i&&i.state===xS&&await i.init(this.el),this.postViewInit(i,t,e);const r=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==t;r&&e.opts&&t&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),t.animationBuilder=e.opts.animationBuilder);let s;r?s=await this.transition(i,t,e):s={hasCompleted:!0,requiresTransition:!1},this.success(s,e),this.ionNavDidChange.emit()}catch(t){this.failed(t,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var t,i,r;const s=this.views.length;if((t=e.opts)!==null&&t!==void 0||(e.opts={}),(i=(r=e.opts).delegate)!==null&&i!==void 0||(r.delegate=this.delegate),e.removeView!==void 0){Nt(e.removeStart!==void 0,"removeView needs removeStart"),Nt(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=s-1),e.removeCount<0&&(e.removeCount=s-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===s),e.insertViews&&((e.insertStart<0||e.insertStart>s)&&(e.insertStart=s),e.enteringRequiresTransition=e.insertStart===s);const o=e.insertViews;if(!o)return;Nt(o.length>0,"length can not be zero");const a=NL(o);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===Ad)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,t){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const r=e.removeStart;if(r!==void 0){const s=this.views,o=r+e.removeCount;for(let a=s.length-1;a>=0;a--){const l=s[a];if((a<r||a>=o)&&l!==t)return l}}}postViewInit(e,t,i){var r,s,o;Nt(t||e,"Both leavingView and enteringView are null"),Nt(i.resolve,"resolve must be valid"),Nt(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:c,removeCount:u}=i;let d;if(c!==void 0&&u!==void 0){Nt(c>=0,"removeStart can not be negative"),Nt(u>=0,"removeCount can not be negative"),d=[];for(let f=c;f<c+u;f++){const g=this.views[f];g!==void 0&&g!==e&&g!==t&&d.push(g)}(r=a.direction)!==null&&r!==void 0||(a.direction="back")}const h=this.views.length+((s=l==null?void 0:l.length)!==null&&s!==void 0?s:0)-(u!=null?u:0);if(Nt(h>=0,"final balance can not be negative"),h===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let f=i.insertStart;for(const g of l)this.insertViewAt(g,f),f++;i.enteringRequiresTransition&&((o=a.direction)!==null&&o!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const f of d)pr(f.element,V1),pr(f.element,H1),pr(f.element,Kf);for(const f of d)this.destroyView(f)}}async transition(e,t,i){const r=i.opts,s=r.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,o=$e(this),a=e.element,l=t&&t.element,c=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:s,animated:this.animated&&je.getBoolean("animated",!0),enteringEl:a,leavingEl:l},r),{animationBuilder:r.animationBuilder||this.animation||je.get("navAnimation")}),{hasCompleted:u}=await W1(c);return this.transitionFinish(u,e,t,r)}transitionFinish(e,t,i,r){const s=e?t:i;return s&&this.unmountInactiveViews(s),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:i,direction:r.direction}}insertViewAt(e,t){const i=this.views,r=i.indexOf(e);r>-1?(Nt(e.nav===this,"view is not part of the nav"),i.splice(r,1),i.splice(t,0,e)):(Nt(!e.nav,"nav is used"),e.nav=this,i.splice(t,0,e))}removeView(e){Nt(e.state===TS||e.state===Ad,"view state should be loaded or destroyed");const t=this.views,i=t.indexOf(e);Nt(i>-1,"view must be part of the stack"),i>=0&&t.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const t=this.views,i=t.indexOf(e);for(let r=t.length-1;r>=0;r--){const s=t[r],o=s.element;o&&(r>i?(pr(o,Kf),this.destroyView(s)):r<i&&Om(o,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,t,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=ql([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=ql([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,r,i)}else this.gestureOrAnimationInProgress=!1}render(){return z("slot",null)}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return kL}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]}]);function PL(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,RL);break}})}const $L=PL;function ML(n){return n%1===0?0:n.toString().split(".")[1].length}function IL(n,...e){const t=Math.max(...e.map(i=>ML(i)));return Number(n.toFixed(t))}const OL=":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}@supports (inset-inline-start: 0){.range-knob-handle{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob-handle{left:0}:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}[dir=rtl] .range-knob-handle{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}@supports (inset-inline-start: 0){.range-bar-container{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-bar-container{left:0}:host-context([dir=rtl]) .range-bar-container{left:unset;right:unset;right:0}[dir=rtl] .range-bar-container{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}@supports (inset-inline-start: 0){.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}}@supports not (inset-inline-start: 0){.range-knob{left:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}}}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host{--knob-border-radius:50%;--knob-background:#ffffff;--knob-box-shadow:0px 0.5px 4px rgba(0, 0, 0, 0.12), 0px 6px 13px rgba(0, 0, 0, 0.12);--knob-size:26px;--bar-height:4px;--bar-background:var(--ion-color-step-900, #e6e6e6);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:2px;--height:42px}:host(.legacy-range){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:8px;padding-bottom:8px}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-tick-active{background:var(--ion-color-base)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin){padding-top:20px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-bar-active.has-ticks{border-radius:0;-webkit-margin-start:-2px;margin-inline-start:-2px;-webkit-margin-end:-2px;margin-inline-end:-2px}.range-tick{-webkit-margin-start:-2px;margin-inline-start:-2px;border-radius:0;position:absolute;top:17px;width:4px;height:8px;background:var(--ion-color-step-900, #e6e6e6);pointer-events:none}.range-tick-active{background:var(--bar-background-active)}.range-pin{-webkit-transform:translate3d(0,  28px,  0) scale(0.01);transform:translate3d(0,  28px,  0) scale(0.01);-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;display:inline-block;position:relative;top:-20px;min-width:28px;-webkit-transition:-webkit-transform 120ms ease;transition:-webkit-transform 120ms ease;transition:transform 120ms ease;transition:transform 120ms ease, -webkit-transform 120ms ease;background:transparent;color:var(--ion-text-color, #000);font-size:12px;text-align:center}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0,  0,  0) scale(1);transform:translate3d(0,  0,  0) scale(1)}:host(.range-disabled){opacity:0.3}",_L=':host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}@supports (inset-inline-start: 0){.range-knob-handle{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob-handle{left:0}:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}[dir=rtl] .range-knob-handle{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}@supports (inset-inline-start: 0){.range-bar-container{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-bar-container{left:0}:host-context([dir=rtl]) .range-bar-container{left:unset;right:unset;right:0}[dir=rtl] .range-bar-container{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}@supports (inset-inline-start: 0){.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}}@supports not (inset-inline-start: 0){.range-knob{left:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}}}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host{--knob-border-radius:50%;--knob-background:var(--bar-background-active);--knob-box-shadow:none;--knob-size:18px;--bar-height:2px;--bar-background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.26);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:0;--height:42px;--pin-background:var(--ion-color-primary, #3880ff);--pin-color:var(--ion-color-primary-contrast, #fff);font-size:12px}::slotted([slot=label]),.label-text{font-size:initial}:host(.legacy-range){-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:8px;padding-bottom:8px}:host(.ion-color) .range-bar{background:rgba(var(--ion-color-base-rgb), 0.26)}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-knob,:host(.ion-color) .range-knob::before,:host(.ion-color) .range-pin,:host(.ion-color) .range-pin::before,:host(.ion-color) .range-tick{background:var(--ion-color-base);color:var(--ion-color-contrast)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:14px;margin-inline-end:14px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:14px;margin-inline-start:14px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin){padding-top:28px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-knob{-webkit-transform:scale(0.67);transform:scale(0.67);-webkit-transition-duration:120ms;transition-duration:120ms;-webkit-transition-property:background-color, border, -webkit-transform;transition-property:background-color, border, -webkit-transform;transition-property:transform, background-color, border;transition-property:transform, background-color, border, -webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;z-index:2}.range-knob::before{border-radius:50%;position:absolute;width:var(--knob-size);height:var(--knob-size);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:0.267s cubic-bezier(0, 0, 0.58, 1);transition:0.267s cubic-bezier(0, 0, 0.58, 1);background:var(--knob-background);content:"";opacity:0.13;pointer-events:none}@supports (inset-inline-start: 0){.range-knob::before{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob::before{left:0}:host-context([dir=rtl]) .range-knob::before{left:unset;right:unset;right:0}[dir=rtl] .range-knob::before{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob::before:dir(rtl){left:unset;right:unset;right:0}}}.range-tick{position:absolute;top:calc((var(--height) - var(--bar-height)) / 2);width:var(--bar-height);height:var(--bar-height);background:var(--bar-background-active);z-index:1;pointer-events:none}.range-tick-active{background:transparent}.range-pin{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;border-radius:50%;-webkit-transform:translate3d(0,  0,  0) scale(0.01);transform:translate3d(0,  0,  0) scale(0.01);display:inline-block;position:relative;min-width:28px;height:28px;-webkit-transition:background 120ms ease, -webkit-transform 120ms ease;transition:background 120ms ease, -webkit-transform 120ms ease;transition:transform 120ms ease, background 120ms ease;transition:transform 120ms ease, background 120ms ease, -webkit-transform 120ms ease;background:var(--pin-background);color:var(--pin-color);text-align:center}.range-pin::before{top:3px;-webkit-margin-start:-13px;margin-inline-start:-13px;border-radius:50% 50% 50% 0;position:absolute;width:26px;height:26px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:background 120ms ease;transition:background 120ms ease;background:var(--pin-background);content:"";z-index:-1}@supports (inset-inline-start: 0){.range-pin::before{inset-inline-start:50%}}@supports not (inset-inline-start: 0){.range-pin::before{left:50%}:host-context([dir=rtl]) .range-pin::before{left:unset;right:unset;right:50%}[dir=rtl] .range-pin::before{left:unset;right:unset;right:50%}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset;right:unset;right:50%}}}:host-context([dir=rtl]) .range-pin::before{left:unset}[dir=rtl] .range-pin::before{left:unset}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset}}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0,  -24px,  0) scale(1);transform:translate3d(0,  -24px,  0) scale(1)}@media (any-hover: hover){.range-knob-handle:hover .range-knob:before{-webkit-transform:scale(2);transform:scale(2);opacity:0.13}}.range-knob-handle.ion-activated .range-knob:before,.range-knob-handle.ion-focused .range-knob:before,.range-knob-handle.range-knob-pressed .range-knob:before{-webkit-transform:scale(2);transform:scale(2)}.range-knob-handle.ion-focused .range-knob::before{opacity:0.13}.range-knob-handle.ion-activated .range-knob::before,.range-knob-handle.range-knob-pressed .range-knob::before{opacity:0.25}:host(:not(.range-has-pin)) .range-knob-pressed .range-knob,:host(:not(.range-has-pin)) .range-knob-handle.ion-focused .range-knob{-webkit-transform:scale(1);transform:scale(1)}:host(.range-disabled) .range-bar-active,:host(.range-disabled) .range-bar,:host(.range-disabled) .range-tick{background-color:var(--ion-color-step-250, #bfbfbf)}:host(.range-disabled) .range-knob{-webkit-transform:scale(0.55);transform:scale(0.55);outline:5px solid #fff;background-color:var(--ion-color-step-250, #bfbfbf)}:host(.range-disabled) .label-text-wrapper,:host(.range-disabled) ::slotted([slot=start]),:host(.range-disabled) ::slotted([slot=end]){opacity:0.38}',LL=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=Ie(this,"ionChange",7),this.ionInput=Ie(this,"ionInput",7),this.ionStyle=Ie(this,"ionStyle",7),this.ionFocus=Ie(this,"ionFocus",7),this.ionBlur=Ie(this,"ionBlur",7),this.ionKnobMoveStart=Ie(this,"ionKnobMoveStart",7),this.ionKnobMoveEnd=Ie(this,"ionKnobMoveEnd",7),this.rangeId="ion-r-".concat(DL++),this.didLoad=!1,this.noUpdate=!1,this.hasFocus=!1,this.inheritedAttributes={},this.contentEl=null,this.initialContentScrollY=!0,this.hasLoggedDeprecationWarning=!1,this.clampBounds=e=>Qi(this.min,e,this.max),this.ensureValueInBounds=e=>this.dualKnobs?{lower:this.clampBounds(e.lower),upper:this.clampBounds(e.upper)}:this.clampBounds(e),this.setupGesture=async()=>{const e=this.rangeSlider;e&&(this.gesture=(await an(()=>Promise.resolve().then(()=>Z1),void 0)).createGesture({el:e,gestureName:"range",gesturePriority:100,threshold:0,onStart:t=>this.onStart(t),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.gesture.enable(!this.disabled))},this.handleKeyboard=(e,t)=>{const{ensureValueInBounds:i}=this;let r=this.step;r=r>0?r:1,r=r/(this.max-this.min),t||(r*=-1),e==="A"?this.ratioA=Qi(0,this.ratioA+r,1):this.ratioB=Qi(0,this.ratioB+r,1),this.ionKnobMoveStart.emit({value:i(this.value)}),this.updateValue(),this.emitValueChange(),this.ionKnobMoveEnd.emit({value:i(this.value)})},this.onBlur=()=>{this.hasFocus&&(this.hasFocus=!1,this.ionBlur.emit(),this.emitStyle())},this.onFocus=()=>{this.hasFocus||(this.hasFocus=!0,this.ionFocus.emit(),this.emitStyle())},this.ratioA=0,this.ratioB=0,this.pressedKnob=void 0,this.color=void 0,this.debounce=void 0,this.name=this.rangeId,this.label=void 0,this.dualKnobs=!1,this.min=0,this.max=100,this.pin=!1,this.pinFormatter=e=>Math.round(e),this.snaps=!1,this.step=1,this.ticks=!0,this.activeBarStart=void 0,this.disabled=!1,this.value=0,this.labelPlacement="start",this.legacy=void 0}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:i}=this;this.ionInput=t===void 0?i!=null?i:e:j1(e,t)}minChanged(){this.noUpdate||this.updateRatio()}maxChanged(){this.noUpdate||this.updateRatio()}activeBarStartChanged(){const{activeBarStart:e}=this;e!==void 0&&(e>this.max?(ln("Range: The value of activeBarStart (".concat(e,") is greater than the max (").concat(this.max,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.max):e<this.min&&(ln("Range: The value of activeBarStart (".concat(e,") is less than the min (").concat(this.min,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.min))}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled),this.emitStyle()}valueChanged(){this.noUpdate||this.updateRatio()}componentWillLoad(){this.el.hasAttribute("id")&&(this.rangeId=this.el.getAttribute("id")),this.inheritedAttributes=Js(this.el)}componentDidLoad(){this.originalIonInput=this.ionInput,this.setupGesture(),this.didLoad=!0}connectedCallback(){const{el:e}=this;this.legacyFormController=gS(e),this.updateRatio(),this.debounceChanged(),this.disabledChanged(),this.activeBarStartChanged(),this.didLoad&&this.setupGesture(),this.contentEl=g_(this.el)}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}getValue(){var e;const t=(e=this.value)!==null&&e!==void 0?e:0;return this.dualKnobs?typeof t=="object"?t:{lower:0,upper:t}:typeof t=="object"?t.upper:t}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,"interactive-disabled":this.disabled})}emitValueChange(){this.value=this.ensureValueInBounds(this.value),this.ionChange.emit({value:this.value})}onStart(e){const{contentEl:t}=this;t&&(this.initialContentScrollY=y_(t));const i=this.rect=this.rangeSlider.getBoundingClientRect(),r=e.currentX;let s=Qi(0,(r-i.left)/i.width,1);_u(this.el)&&(s=1-s),this.pressedKnob=!this.dualKnobs||Math.abs(this.ratioA-s)<Math.abs(this.ratioB-s)?"A":"B",this.setFocus(this.pressedKnob),this.update(r),this.ionKnobMoveStart.emit({value:this.ensureValueInBounds(this.value)})}onMove(e){this.update(e.currentX)}onEnd(e){const{contentEl:t,initialContentScrollY:i}=this;t&&b_(t,i),this.update(e.currentX),this.pressedKnob=void 0,this.emitValueChange(),this.ionKnobMoveEnd.emit({value:this.ensureValueInBounds(this.value)})}update(e){const t=this.rect;let i=Qi(0,(e-t.left)/t.width,1);_u(this.el)&&(i=1-i),this.snaps&&(i=so(tp(i,this.min,this.max,this.step),this.min,this.max)),this.pressedKnob==="A"?this.ratioA=i:this.ratioB=i,this.updateValue()}get valA(){return tp(this.ratioA,this.min,this.max,this.step)}get valB(){return tp(this.ratioB,this.min,this.max,this.step)}get ratioLower(){if(this.dualKnobs)return Math.min(this.ratioA,this.ratioB);const{activeBarStart:e}=this;return e==null?0:so(e,this.min,this.max)}get ratioUpper(){return this.dualKnobs?Math.max(this.ratioA,this.ratioB):this.ratioA}updateRatio(){const e=this.getValue(),{min:t,max:i}=this;this.dualKnobs?(this.ratioA=so(e.lower,t,i),this.ratioB=so(e.upper,t,i)):this.ratioA=so(e,t,i)}updateValue(){this.noUpdate=!0;const{valA:e,valB:t}=this;this.value=this.dualKnobs?{lower:Math.min(e,t),upper:Math.max(e,t)}:e,this.ionInput.emit({value:this.value}),this.noUpdate=!1}setFocus(e){if(this.el.shadowRoot){const t=this.el.shadowRoot.querySelector(e==="A"?".range-knob-a":".range-knob-b");t&&t.focus()}}renderLegacyRange(){this.hasLoggedDeprecationWarning||(ln('ion-range now requires providing a label with either the label slot or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the component or the "aria-label" attribute.\n\nExample: <ion-range><div slot="label">Volume</div></ion-range>\nExample with aria-label: <ion-range aria-label="Volume"></ion-range>\n\nDevelopers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.',this.el),this.legacy&&ln('ion-range is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.\n\nDevelopers can dismiss this warning by removing their usage of the "legacy" property and using the new range syntax.',this.el),this.hasLoggedDeprecationWarning=!0);const{el:e,pressedKnob:t,disabled:i,pin:r,rangeId:s}=this,o=$e(this);return gv(!0,e,this.name,JSON.stringify(this.getValue()),i),z(Ge,{onFocusin:this.onFocus,onFocusout:this.onBlur,id:s,class:fn(this.color,{[o]:!0,"in-item":Wt("ion-item",e),"range-disabled":i,"range-pressed":t!==void 0,"range-has-pin":r,"legacy-range":!0})},z("slot",{name:"start"}),this.renderRangeSlider(),z("slot",{name:"end"}))}renderRange(){const{disabled:e,el:t,rangeId:i,pin:r,pressedKnob:s,labelPlacement:o,label:a}=this,l=$e(this);return gv(!0,t,this.name,JSON.stringify(this.getValue()),e),z(Ge,{onFocusin:this.onFocus,onFocusout:this.onBlur,id:i,class:fn(this.color,{[l]:!0,"in-item":Wt("ion-item",t),"range-disabled":e,"range-pressed":s!==void 0,"range-has-pin":r,["range-label-placement-".concat(o)]:!0})},z("label",{class:"range-wrapper",id:"range-label"},z("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},a!==void 0?z("div",{class:"label-text"},a):z("slot",{name:"label"})),z("div",{class:"native-wrapper"},z("slot",{name:"start"}),this.renderRangeSlider(),z("slot",{name:"end"}))))}get hasLabel(){return this.label!==void 0||this.el.querySelector('[slot="label"]')!==null}renderRangeSlider(){var e;const{min:t,max:i,step:r,el:s,handleKeyboard:o,pressedKnob:a,disabled:l,pin:c,ratioLower:u,ratioUpper:d,inheritedAttributes:h,rangeId:f,pinFormatter:g}=this;let{labelText:b}=kM(s,f);b==null&&(b=h["aria-label"]);let C="".concat(u*100,"%"),x="".concat(100-d*100,"%");const y=_u(this.el),E=y?"right":"left",N=y?"left":"right",I=R=>({[E]:R[E]});this.dualKnobs===!1&&(this.valA<((e=this.activeBarStart)!==null&&e!==void 0?e:this.min)?(C="".concat(d*100,"%"),x="".concat(100-u*100,"%")):(C="".concat(u*100,"%"),x="".concat(100-d*100,"%")));const B={[E]:C,[N]:x},O=[];if(this.snaps&&this.ticks)for(let R=t;R<=i;R+=r){const H=so(R,t,i),A=Math.min(u,d),U=Math.max(u,d),D={ratio:H,active:H>=A&&H<=U};D[E]="".concat(H*100,"%"),O.push(D)}let $;return!this.legacyFormController.hasLegacyControl()&&this.hasLabel&&($="range-label"),z("div",{class:"range-slider",ref:R=>this.rangeSlider=R},O.map(R=>z("div",{style:I(R),role:"presentation",class:{"range-tick":!0,"range-tick-active":R.active},part:R.active?"tick-active":"tick"})),z("div",{class:"range-bar-container"},z("div",{class:"range-bar",role:"presentation",part:"bar"}),z("div",{class:{"range-bar":!0,"range-bar-active":!0,"has-ticks":O.length>0},role:"presentation",style:B,part:"bar-active"})),Kv(y,{knob:"A",pressed:a==="A",value:this.valA,ratio:this.ratioA,pin:c,pinFormatter:g,disabled:l,handleKeyboard:o,min:t,max:i,labelText:b,labelledBy:$}),this.dualKnobs&&Kv(y,{knob:"B",pressed:a==="B",value:this.valB,ratio:this.ratioB,pin:c,pinFormatter:g,disabled:l,handleKeyboard:o,min:t,max:i,labelText:b,labelledBy:$}))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyRange():this.renderRange()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}}static get style(){return{ios:OL,md:_L}}},[33,"ion-range",{color:[513],debounce:[2],name:[1],label:[1],dualKnobs:[4,"dual-knobs"],min:[2],max:[2],pin:[4],pinFormatter:[16],snaps:[4],step:[2],ticks:[4],activeBarStart:[1026,"active-bar-start"],disabled:[4],value:[1026],labelPlacement:[1,"label-placement"],legacy:[4],ratioA:[32],ratioB:[32],pressedKnob:[32]}]),Kv=(n,{knob:e,value:t,ratio:i,min:r,max:s,disabled:o,pressed:a,pin:l,handleKeyboard:c,labelText:u,labelledBy:d,pinFormatter:h})=>{const f=n?"right":"left";return z("div",{onKeyDown:b=>{const C=b.key;C==="ArrowLeft"||C==="ArrowDown"?(c(e,!1),b.preventDefault(),b.stopPropagation()):(C==="ArrowRight"||C==="ArrowUp")&&(c(e,!0),b.preventDefault(),b.stopPropagation())},class:{"range-knob-handle":!0,"range-knob-a":e==="A","range-knob-b":e==="B","range-knob-pressed":a,"range-knob-min":t===r,"range-knob-max":t===s,"ion-activatable":!0,"ion-focusable":!0},style:(()=>{const b={};return b[f]="".concat(i*100,"%"),b})(),role:"slider",tabindex:o?-1:0,"aria-label":d===void 0?u:null,"aria-labelledby":d!==void 0?d:null,"aria-valuemin":r,"aria-valuemax":s,"aria-disabled":o?"true":null,"aria-valuenow":t},l&&z("div",{class:"range-pin",role:"presentation",part:"pin"},h(t)),z("div",{class:"range-knob",role:"presentation",part:"knob"}))},tp=(n,e,t,i)=>{let r=(t-e)*n;i>0&&(r=Math.round(r/i)*i+e);const s=Qi(e,r,t);return IL(s,e,t,i)},so=(n,e,t)=>Qi(0,(n-e)/(t-e),1);let DL=0;function qL(){if(typeof customElements>"u")return;["ion-range"].forEach(e=>{switch(e){case"ion-range":customElements.get(e)||customElements.define(e,LL);break}})}const BL=qL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FL=":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",UL=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return z(Ge,{class:$e(this)},z("slot",null))}static get style(){return FL}},[1,"ion-row"]);function jL(){if(typeof customElements>"u")return;["ion-row"].forEach(e=>{switch(e){case"ion-row":customElements.get(e)||customElements.define(e,UL);break}})}const zL=jL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VL=(n,e)=>{let t,i;const r=(a,l,c)=>{if(typeof document>"u")return;const u=document.elementFromPoint(a,l);if(!u||!e(u)){o();return}u!==t&&(o(),s(u,c))},s=(a,l)=>{t=a,i||(i=t);const c=t;tr(()=>c.classList.add("ion-activated")),l()},o=(a=!1)=>{if(!t)return;const l=t;tr(()=>l.classList.remove("ion-activated")),a&&i!==t&&t.click(),t=void 0};return Y1({el:n,gestureName:"buttonActiveDrag",threshold:0,onStart:a=>r(a.currentX,a.currentY,h_),onMove:a=>r(a.currentX,a.currentY,f_),onEnd:()=>{o(!0),p_(),i=void 0}})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HL=n=>{const e=_t(),t=_t(),i=_t();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,i])},WL=n=>{const e=_t(),t=_t(),i=_t();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,i])},QL=n=>{const e=_t(),t=_t(),i=_t();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(150).addAnimation([t,i])},GL=n=>{const e=_t(),t=_t(),i=_t();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(n.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),e.addElement(n).easing("ease-in-out").duration(150).addAnimation([t,i])},KL=".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px}[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios:dir(rtl){left:unset;right:unset;right:7px}}}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:9px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px}[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios:dir(rtl){left:unset;right:unset;right:9px}}}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}",YL=".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}@supports (inset-inline-start: 0){.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}}@supports not (inset-inline-start: 0){.alert-radio-icon.sc-ion-alert-md{left:26px}[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}@supports selector(:dir(rtl)){.alert-radio-icon.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:26px}}}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}@supports (inset-inline-start: 0){.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}}@supports not (inset-inline-start: 0){.alert-radio-inner.sc-ion-alert-md{left:3px}[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}@supports selector(:dir(rtl)){.alert-radio-inner.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:3px}}}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}@supports (inset-inline-start: 0){.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}}@supports not (inset-inline-start: 0){.alert-checkbox-icon.sc-ion-alert-md{left:26px}[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}@supports selector(:dir(rtl)){.alert-checkbox-icon.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:26px}}}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px}[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:3px}}}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}",JL=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.didPresent=Ie(this,"ionAlertDidPresent",7),this.willPresent=Ie(this,"ionAlertWillPresent",7),this.willDismiss=Ie(this,"ionAlertWillDismiss",7),this.didDismiss=Ie(this,"ionAlertDidDismiss",7),this.didPresentShorthand=Ie(this,"didPresent",7),this.willPresentShorthand=Ie(this,"willPresent",7),this.willDismissShorthand=Ie(this,"willDismiss",7),this.didDismissShorthand=Ie(this,"didDismiss",7),this.delegateController=eO(this),this.triggerController=tO(),this.customHTMLEnabled=je.get("innerHTMLTemplatesEnabled",RI),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Sd)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(Nv(t)){const i=this.processedButtons.find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:i}=this;e&&i.addClickListener(t,e)}onKeydown(e){if(!new Set(this.processedInputs.map(a=>a.type)).has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const i=this.el.querySelectorAll(".alert-radio"),r=Array.from(i).filter(a=>!a.disabled),s=r.findIndex(a=>a.id===e.target.id);let o;if(["ArrowDown","ArrowRight"].includes(e.key)&&(o=s===r.length-1?r[0]:r[s+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(o=s===0?r[r.length-1]:r[s-1]),o&&r.includes(o)){const a=this.processedInputs.find(l=>l.id===(o==null?void 0:o.id));a&&(this.rbClick(a),o.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map(t=>typeof t=="string"?{text:t,role:t.toLowerCase()==="cancel"?"cancel":void 0}:t)}inputsChanged(){const e=this.inputs,t=e.find(o=>!o.disabled),r=e.find(o=>o.checked&&!o.disabled)||t,s=new Set(e.map(o=>o.type));s.has("checkbox")&&s.has("radio")&&console.warn("Alert cannot mix input types: ".concat(Array.from(s.values()).join("/"),". Please see alert docs for more info.")),this.inputType=s.values().next().value,this.processedInputs=e.map((o,a)=>{var l;return{type:o.type||"text",name:o.name||"".concat(a),placeholder:o.placeholder||"",value:o.value,label:o.label,checked:!!o.checked,disabled:!!o.disabled,id:o.id||"alert-input-".concat(this.overlayIndex,"-").concat(a),handler:o.handler,min:o.min,max:o.max,cssClass:(l=o.cssClass)!==null&&l!==void 0?l:"",attributes:o.attributes||{},tabindex:o.type==="radio"&&o!==r?-1:0}})}connectedCallback(){UI(this.el),this.triggerChanged()}componentWillLoad(){jI(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&$e(this)==="ios"&&this.wrapperEl&&(this.gesture=VL(this.wrapperEl,e=>e.classList.contains("alert-button")),this.gesture.enable(!0)),this.isOpen===!0&&Bn(()=>this.present())}async present(){this.currentTransition!==void 0&&await this.currentTransition,await this.delegateController.attachViewToDom(),this.currentTransition=QI(this,"alertEnter",HL,QL),await this.currentTransition,this.currentTransition=void 0}async dismiss(e,t){this.currentTransition=KI(this,e,t,"alertLeave",WL,GL);const i=await this.currentTransition;return i&&this.delegateController.removeViewFromDom(),i}onDidDismiss(){return Av(this.el,"ionAlertDidDismiss")}onWillDismiss(){return Av(this.el,"ionAlertWillDismiss")}rbClick(e){for(const t of this.processedInputs)t.checked=t===e,t.tabindex=t===e?0:-1;this.activeId=e.id,Jf(e.handler,e),cs(this)}cbClick(e){e.checked=!e.checked,Jf(e.handler,e),cs(this)}async buttonClick(e){const t=e.role,i=this.getValues();if(Nv(t))return this.dismiss({values:i},t);const r=await this.callButtonHandler(e,i);return r!==!1?this.dismiss(Object.assign({values:i},r),e.role):!1}async callButtonHandler(e,t){if(e!=null&&e.handler){const i=await Jf(e.handler,t);if(i===!1)return!1;if(typeof i=="object")return i}return{}}getValues(){if(this.processedInputs.length===0)return;if(this.inputType==="radio"){const t=this.processedInputs.find(i=>!!i.checked);return t?t.value:void 0}if(this.inputType==="checkbox")return this.processedInputs.filter(t=>t.checked).map(t=>t.value);const e={};return this.processedInputs.forEach(t=>{e[t.name]=t.value||""}),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,t=$e(this);return e.length===0?null:z("div",{class:"alert-checkbox-group"},e.map(i=>z("button",{type:"button",onClick:()=>this.cbClick(i),"aria-checked":"".concat(i.checked),id:i.id,disabled:i.disabled,tabIndex:i.tabindex,role:"checkbox",class:Object.assign(Object.assign({},qo(i.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":i.disabled||!1})},z("div",{class:"alert-button-inner"},z("div",{class:"alert-checkbox-icon"},z("div",{class:"alert-checkbox-inner"})),z("div",{class:"alert-checkbox-label"},i.label)),t==="md"&&z("ion-ripple-effect",null))))}renderRadio(){const e=this.processedInputs;return e.length===0?null:z("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map(t=>z("button",{type:"button",onClick:()=>this.rbClick(t),"aria-checked":"".concat(t.checked),disabled:t.disabled,id:t.id,tabIndex:t.tabindex,class:Object.assign(Object.assign({},qo(t.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":t.disabled||!1}),role:"radio"},z("div",{class:"alert-button-inner"},z("div",{class:"alert-radio-icon"},z("div",{class:"alert-radio-inner"})),z("div",{class:"alert-radio-label"},t.label)))))}renderInput(){const e=this.processedInputs;return e.length===0?null:z("div",{class:"alert-input-group"},e.map(t=>{var i,r,s,o;return t.type==="textarea"?z("div",{class:"alert-input-wrapper"},z("textarea",Object.assign({placeholder:t.placeholder,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(r=(i=t.attributes)===null||i===void 0?void 0:i.disabled)!==null&&r!==void 0?r:t.disabled,class:Yv(t),onInput:a=>{var l;t.value=a.target.value,!((l=t.attributes)===null||l===void 0)&&l.onInput&&t.attributes.onInput(a)}}))):z("div",{class:"alert-input-wrapper"},z("input",Object.assign({placeholder:t.placeholder,type:t.type,min:t.min,max:t.max,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(o=(s=t.attributes)===null||s===void 0?void 0:s.disabled)!==null&&o!==void 0?o:t.disabled,class:Yv(t),onInput:a=>{var l;t.value=a.target.value,!((l=t.attributes)===null||l===void 0)&&l.onInput&&t.attributes.onInput(a)}})))}))}renderAlertButtons(){const e=this.processedButtons,t=$e(this),i={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return z("div",{class:i},e.map(r=>z("button",Object.assign({},r.htmlAttributes,{type:"button",id:r.id,class:XL(r),tabIndex:0,onClick:()=>this.buttonClick(r)}),z("span",{class:"alert-button-inner"},r.text),t==="md"&&z("ion-ripple-effect",null))))}renderAlertMessage(e){const{customHTMLEnabled:t,message:i}=this;return t?z("div",{id:e,class:"alert-message",innerHTML:SI(i)}):z("div",{id:e,class:"alert-message"},i)}render(){const{overlayIndex:e,header:t,subHeader:i,message:r,htmlAttributes:s}=this,o=$e(this),a="alert-".concat(e,"-hdr"),l="alert-".concat(e,"-sub-hdr"),c="alert-".concat(e,"-msg"),u=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert";return z(Ge,Object.assign({role:u,"aria-modal":"true","aria-labelledby":t?a:i?l:null,"aria-describedby":r!==void 0?c:null,tabindex:"-1"},s,{style:{zIndex:"".concat(2e4+e)},class:Object.assign(Object.assign({},qo(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),z("ion-backdrop",{tappable:this.backdropDismiss}),z("div",{tabindex:"0"}),z("div",{class:"alert-wrapper ion-overlay-wrapper",ref:h=>this.wrapperEl=h},z("div",{class:"alert-head"},t&&z("h2",{id:a,class:"alert-title"},t),i&&z("h2",{id:l,class:"alert-sub-title"},i)),this.renderAlertMessage(c),this.renderAlertInputs(),this.renderAlertButtons()),z("div",{tabindex:"0"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:KL,md:YL}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]]]),Yv=n=>{var e,t,i;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":((t=(e=n.attributes)===null||e===void 0?void 0:e.disabled)!==null&&t!==void 0?t:n.disabled)||!1},qo(n.cssClass)),qo(n.attributes?(i=n.attributes.class)===null||i===void 0?void 0:i.toString():""))},XL=n=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,["alert-button-role-".concat(n.role)]:n.role!==void 0},qo(n.cssClass));function ZL(){if(typeof customElements>"u")return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,JL);break;case"ion-backdrop":customElements.get(e)||mS();break;case"ion-ripple-effect":customElements.get(e)||Rh();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eD=H_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const tD=":host(.ion-color){color:var(--ion-color-base)}",nD=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=$e(this);return z(Ge,{class:fn(this.color,{[e]:!0})},z("slot",null))}static get style(){return tD}},[1,"ion-text",{color:[513]}]);function iD(){if(typeof customElements>"u")return;["ion-text"].forEach(e=>{switch(e){case"ion-text":customElements.get(e)||customElements.define(e,nD);break}})}const rD=iD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sD=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:17px;font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host:dir(rtl){left:unset;right:unset;right:0}}}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:13px;font-weight:normal}:host(.title-large){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:0;-webkit-transform-origin:left center;transform-origin:left center;bottom:0;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:34px;font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large) .toolbar-title:dir(rtl){-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",oD=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:20px;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:15px;font-weight:normal}",aD=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=Ie(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({["title-".concat(e)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=$e(this),t=this.getSize();return z(Ge,{class:fn(this.color,{[e]:!0,["title-".concat(t)]:!0,"title-rtl":document.dir==="rtl"})},z("div",{class:"toolbar-title"},z("slot",null)))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:sD,md:oD}}},[33,"ion-title",{color:[513],size:[1]}]);function lD(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,aD);break}})}const cD=lD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const uD=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}:host(.toolbar-searchbar) ::slotted(ion-back-button){height:38px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large){padding-bottom:7px}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",dD=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",hD=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),t=e.find(s=>s.slot==="start");t&&t.classList.add("buttons-first-slot");const i=e.reverse(),r=i.find(s=>s.slot==="end")||i.find(s=>s.slot==="primary")||i.find(s=>s.slot==="secondary");r&&r.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const t=e.target.tagName,i=e.detail,r={},s=this.childrenStyles.get(t)||{};let o=!1;Object.keys(i).forEach(a=>{const l="toolbar-".concat(a),c=i[a];c!==s[l]&&(o=!0),c&&(r[l]=!0)}),o&&(this.childrenStyles.set(t,r),cs(this))}render(){const e=$e(this),t={};return this.childrenStyles.forEach(i=>{Object.assign(t,i)}),z(Ge,{class:Object.assign(Object.assign({},t),fn(this.color,{[e]:!0,"in-toolbar":Wt("ion-toolbar",this.el)}))},z("div",{class:"toolbar-background"}),z("div",{class:"toolbar-container"},z("slot",{name:"start"}),z("slot",{name:"secondary"}),z("div",{class:"toolbar-content"},z("slot",null)),z("slot",{name:"primary"}),z("slot",{name:"end"})))}get el(){return this}static get style(){return{ios:uD,md:dD}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function fD(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,hD);break}})}const pD=fD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const mD=r_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gD=a_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yD=ZL;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Jv;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(Jv||(Jv={}));const bD="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",vD=Je(class extends Xe{constructor(){super(),this.__registerHost()}componentDidLoad(){ED(async()=>{const e=yr(window,"hybrid");if(je.getBoolean("_testing")||an(()=>import("./index9-54e5107b.js"),[]).then(i=>i.startTapClick(je)),je.getBoolean("statusTap",e)&&an(()=>import("./status-tap-dfe812e3.js"),[]).then(i=>i.startStatusTap()),je.getBoolean("inputShims",wD())){const i=yr(window,"ios")?"ios":"android";an(()=>import("./input-shims-fb99b5d7.js"),[]).then(r=>r.startInputShims(je,i))}const t=await an(()=>Promise.resolve().then(()=>MI),void 0);je.getBoolean("hardwareBackButton",e)?t.startHardwareBackButton():t.blockHardwareBackButton(),typeof window<"u"&&an(()=>import("./keyboard2-c19c406a.js"),[]).then(i=>i.startKeyboardAssist(window)),an(()=>import("./focus-visible-9c13edeb.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=$e(this);return z(Ge,{class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":je.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return bD}},[0,"ion-app",{setFocus:[64]}]),wD=()=>!!(yr(window,"ios")&&yr(window,"mobile")||yr(window,"android")&&yr(window,"mobileweb")),ED=n=>{"requestIdleCallback"in window?window.requestIdleCallback(n):setTimeout(n,32)};function xD(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,vD);break}})}const TD=xD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const SD=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:17px}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',CD=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:24px;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:14px;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;height:48px}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',AD=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const t=this.el.closest("ion-nav");return e.preventDefault(),t&&await t.canGoBack()?t.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):Py(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Js(this.el),this.defaultHref===void 0&&(this.defaultHref=je.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:$e(this)==="ios"?je.get("backButtonIcon",iO):je.get("backButtonIcon",nO)}get backButtonText(){const e=$e(this)==="ios"?"Back":null;return this.text!=null?this.text:je.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:t,disabled:i,type:r,hasIconOnly:s,backButtonIcon:o,backButtonText:a,icon:l,inheritedAttributes:c}=this,u=t!==void 0,d=$e(this),h=c["aria-label"]||a||"back";return z(Ge,{onClick:this.onClick,class:fn(e,{[d]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":s,"in-toolbar":Wt("ion-toolbar",this.el),"in-toolbar-color":Wt("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":u})},z("button",{type:r,disabled:i,class:"button-native",part:"native","aria-label":h},z("span",{class:"button-inner"},o&&z("ion-icon",{part:"icon",icon:o,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),a&&z("span",{part:"text","aria-hidden":"true",class:"button-text"},a)),d==="md"&&z("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get style(){return{ios:SD,md:CD}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function ND(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,AD);break;case"ion-icon":customElements.get(e)||Ry();break;case"ion-ripple-effect":customElements.get(e)||Rh();break}})}const kD=ND,RD=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}",PD=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Ie(this,"ionNavWillLoad",7),this.ionNavWillChange=Ie(this,"ionNavWillChange",3),this.ionNavDidChange=Ie(this,"ionNavDidChange",3),this.gestureOrAnimationInProgress=!1,this.mode=$e(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await an(()=>import("./swipe-back-4f3d2393.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),t=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(t)},(t,i,r)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(t)},{oneTimeCallback:!0});let s=t?-.001:.001;t?s+=ql([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=ql([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(t?1:0,s,r)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,t,i){const r=await this.lock();let s=!1;try{s=await this.transition(e,t,i)}catch(o){console.error(o)}return r(),s}async setRouteId(e,t,i,r){return{changed:await this.setRoot(e,t,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:r}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,t,i){if(this.activeComponent===e&&z1(t,this.activeParams))return!1;const r=this.activeEl,s=await lS(this.delegate,this.el,e,["ion-page","ion-page-invisible"],t);return this.activeComponent=e,this.activeEl=s,this.activeParams=t,await this.commit(s,r,i),await DI(this.delegate,r),!0}async transition(e,t,i={}){if(t===e)return!1;this.ionNavWillChange.emit();const{el:r,mode:s}=this,o=this.animated&&je.getBoolean("animated",!0),a=i.animationBuilder||this.animation||je.get("navAnimation");return await W1(Object.assign(Object.assign({mode:s,animated:o,enteringEl:e,leavingEl:t,baseEl:r,deepWait:xM(r),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}async lock(){const e=this.waitPromise;let t;return this.waitPromise=new Promise(i=>t=i),e!==void 0&&await e,t}render(){return z("slot",null)}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return RD}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]}]);function $D(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,PD);break}})}const MD=$D;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ID=":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",OD=":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, #595959));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}",_D=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=Ie(this,"ionTabBarChanged",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await w_(async(e,t)=>{e===!1&&t!==void 0&&await t,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}render(){const{color:e,translucent:t,keyboardVisible:i}=this,r=$e(this),s=i&&this.el.getAttribute("slot")!=="top";return z(Ge,{role:"tablist","aria-hidden":s?"true":null,class:fn(e,{[r]:!0,"tab-bar-translucent":t,"tab-bar-hidden":s})},z("slot",null))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:ID,md:OD}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]}]);function LD(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,_D);break}})}const DD=LD;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qD=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 12px)}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px)}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 35px)}}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px)}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 30px)}}}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',BD=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:80%}}}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',FD=Je(class extends Xe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=Ie(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const t=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||t!=null&&t.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},ec(this.el,["aria-label"])),this.layout===void 0&&(this.layout=je.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:t,hasLabel:i,href:r,rel:s,target:o,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=$e(this),h={download:this.download,href:r,rel:s,target:o};return z(Ge,{onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":t,"tab-has-label-only":i&&!t,"tab-has-icon-only":t&&!i,["tab-layout-".concat(a)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},z("a",Object.assign({},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),z("span",{class:"button-inner"},z("slot",null)),d==="md"&&z("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:qD,md:BD}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function UD(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,FD);break;case"ion-ripple-effect":customElements.get(e)||Rh();break}})}const jD=UD,mo={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let go,SS,$h,CS=!1,Nd=!1,Iy=!1,qn=!1,Xv=null,zm=!1;const zD=n=>{const e=new URL(n,pn.$resourcesUrl$);return e.origin!==ic.location.origin?e.href:e.pathname},Hs=(n,e="")=>()=>{},Zv="http://www.w3.org/1999/xlink",ew={},VD="http://www.w3.org/2000/svg",HD="http://www.w3.org/1999/xhtml",WD=n=>n!=null,Oy=n=>(n=typeof n,n==="object"||n==="function");function QD(n){var e,t,i;return(i=(t=(e=n.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||t===void 0?void 0:t.getAttribute("content"))!==null&&i!==void 0?i:void 0}const pl=(n,e,...t)=>{let i=null,r=null,s=null,o=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((o=typeof n!="function"&&!Oy(i))&&(i=String(i)),o&&a?l[l.length-1].$text$+=i:l.push(o?kd(null,i):i),a=o)};if(c(t),e){e.key&&(r=e.key),e.name&&(s=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof n=="function")return n(e===null?{}:e,l,KD);const u=kd(n,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=s,u},kd=(n,e)=>{const t={$flags$:0,$tag$:n,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t.$key$=null,t.$name$=null,t},AS={},GD=n=>n&&n.$tag$===AS,KD={forEach:(n,e)=>n.map(tw).forEach(e),map:(n,e)=>n.map(tw).map(e).map(YD)},tw=n=>({vattrs:n.$attrs$,vchildren:n.$children$,vkey:n.$key$,vname:n.$name$,vtag:n.$tag$,vtext:n.$text$}),YD=n=>{if(typeof n.vtag=="function"){const t=Object.assign({},n.vattrs);return n.vkey&&(t.key=n.vkey),n.vname&&(t.name=n.vname),pl(n.vtag,t,...n.vchildren||[])}const e=kd(n.vtag,n.vtext);return e.$attrs$=n.vattrs,e.$children$=n.vchildren,e.$key$=n.vkey,e.$name$=n.vname,e},JD=n=>T2.map(e=>e(n)).find(e=>!!e),XD=(n,e)=>n!=null&&!Oy(n)?e&4?n==="false"?!1:n===""||!!n:e&2?parseFloat(n):e&1?String(n):n:n,nw=new WeakMap,ZD=(n,e,t)=>{let i=Pd.get(n);N2&&t?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,Pd.set(n,i)},e2=(n,e,t,i)=>{var r;let s=NS(e,t);const o=Pd.get(s);if(n=n.nodeType===11?n:_i,o)if(typeof o=="string"){n=n.head||n;let a=nw.get(n),l;if(a||nw.set(n,a=new Set),!a.has(s)){{l=_i.createElement("style"),l.innerHTML=o;const c=(r=pn.$nonce$)!==null&&r!==void 0?r:QD(_i);c!=null&&l.setAttribute("nonce",c),n.insertBefore(l,n.querySelector("link"))}a&&a.add(s)}}else n.adoptedStyleSheets.includes(o)||(n.adoptedStyleSheets=[...n.adoptedStyleSheets,o]);return s},t2=n=>{const e=n.$cmpMeta$,t=n.$hostElement$,i=e.$flags$,r=Hs("attachStyles",e.$tagName$),s=e2(t.shadowRoot?t.shadowRoot:t.getRootNode(),e,n.$modeName$);i&10&&(t["s-sc"]=s,t.classList.add(s+"-h"),i&2&&t.classList.add(s+"-s")),r()},NS=(n,e)=>"sc-"+(e&&n.$flags$&32?n.$tagName$+"-"+e:n.$tagName$),iw=(n,e,t,i,r,s)=>{if(t!==i){let o=aw(n,e),a=e.toLowerCase();if(e==="class"){const l=n.classList,c=rw(t),u=rw(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in t)(!i||i[l]==null)&&(l.includes("-")?n.style.removeProperty(l):n.style[l]="");for(const l in i)(!t||i[l]!==t[l])&&(l.includes("-")?n.style.setProperty(l,i[l]):n.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(n);else if(!n.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):aw(ic,a)?e=a.slice(2):e=a[2]+e.slice(3),t&&pn.rel(n,e,t,!1),i&&pn.ael(n,e,i,!1);else{const l=Oy(i);if((o||l&&i!==null)&&!r)try{if(n.tagName.includes("-"))n[e]=i;else{const u=i==null?"":i;e==="list"?o=!1:(t==null||n[e]!=u)&&(n[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||n.getAttribute(e)==="")&&(c?n.removeAttributeNS(Zv,e):n.removeAttribute(e)):(!o||s&4||r)&&!l&&(i=i===!0?"":i,c?n.setAttributeNS(Zv,e,i):n.setAttribute(e,i))}}},n2=/\s/,rw=n=>n?n.split(n2):[],kS=(n,e,t,i)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=n&&n.$attrs$||ew,o=e.$attrs$||ew;for(i in s)i in o||iw(r,i,s[i],void 0,t,e.$flags$);for(i in o)iw(r,i,s[i],o[i],t,e.$flags$)},Rd=(n,e,t,i)=>{const r=e.$children$[t];let s=0,o,a,l;if(CS||(Iy=!0,r.$tag$==="slot"&&(go&&i.classList.add(go+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)o=r.$elm$=_i.createTextNode(r.$text$);else if(r.$flags$&1)o=r.$elm$=_i.createTextNode("");else{if(qn||(qn=r.$tag$==="svg"),o=r.$elm$=_i.createElementNS(qn?VD:HD,r.$flags$&2?"slot-fb":r.$tag$),qn&&r.$tag$==="foreignObject"&&(qn=!1),kS(null,r,qn),WD(go)&&o["s-si"]!==go&&o.classList.add(o["s-si"]=go),r.$children$)for(s=0;s<r.$children$.length;++s)a=Rd(n,r,s,o),a&&o.appendChild(a);r.$tag$==="svg"?qn=!1:o.tagName==="foreignObject"&&(qn=!0)}return o["s-hn"]=$h,r.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=SS,o["s-sn"]=r.$name$||"",l=n&&n.$children$&&n.$children$[t],l&&l.$tag$===r.$tag$&&n.$elm$&&Fl(n.$elm$,!1)),o},Fl=(n,e)=>{pn.$flags$|=1;const t=n.childNodes;for(let i=t.length-1;i>=0;i--){const r=t[i];r["s-hn"]!==$h&&r["s-ol"]&&($S(r).insertBefore(r,_y(r)),r["s-ol"].remove(),r["s-ol"]=void 0,Iy=!0),e&&Fl(r,e)}pn.$flags$&=-2},RS=(n,e,t,i,r,s)=>{let o=n["s-cr"]&&n["s-cr"].parentNode||n,a;for(o.shadowRoot&&o.tagName===$h&&(o=o.shadowRoot);r<=s;++r)i[r]&&(a=Rd(null,t,r,n),a&&(i[r].$elm$=a,o.insertBefore(a,_y(e))))},PS=(n,e,t,i,r)=>{for(;e<=t;++e)(i=n[e])&&(r=i.$elm$,OS(i),Nd=!0,r["s-ol"]?r["s-ol"].remove():Fl(r,!0),r.remove())},i2=(n,e,t,i)=>{let r=0,s=0,o=0,a=0,l=e.length-1,c=e[0],u=e[l],d=i.length-1,h=i[0],f=i[d],g,b;for(;r<=l&&s<=d;)if(c==null)c=e[++r];else if(u==null)u=e[--l];else if(h==null)h=i[++s];else if(f==null)f=i[--d];else if(nu(c,h))yo(c,h),c=e[++r],h=i[++s];else if(nu(u,f))yo(u,f),u=e[--l],f=i[--d];else if(nu(c,f))(c.$tag$==="slot"||f.$tag$==="slot")&&Fl(c.$elm$.parentNode,!1),yo(c,f),n.insertBefore(c.$elm$,u.$elm$.nextSibling),c=e[++r],f=i[--d];else if(nu(u,h))(c.$tag$==="slot"||f.$tag$==="slot")&&Fl(u.$elm$.parentNode,!1),yo(u,h),n.insertBefore(u.$elm$,c.$elm$),u=e[--l],h=i[++s];else{for(o=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===h.$key$){o=a;break}o>=0?(b=e[o],b.$tag$!==h.$tag$?g=Rd(e&&e[s],t,o,n):(yo(b,h),e[o]=void 0,g=b.$elm$),h=i[++s]):(g=Rd(e&&e[s],t,s,n),h=i[++s]),g&&$S(c.$elm$).insertBefore(g,_y(c.$elm$))}r>l?RS(n,i[d+1]==null?null:i[d+1].$elm$,t,i,s,d):s>d&&PS(e,r,l)},nu=(n,e)=>n.$tag$===e.$tag$?n.$tag$==="slot"?n.$name$===e.$name$:n.$key$===e.$key$:!1,_y=n=>n&&n["s-ol"]||n,$S=n=>(n["s-ol"]?n["s-ol"]:n).parentNode,yo=(n,e)=>{const t=e.$elm$=n.$elm$,i=n.$children$,r=e.$children$,s=e.$tag$,o=e.$text$;let a;o===null?(qn=s==="svg"?!0:s==="foreignObject"?!1:qn,s==="slot"||kS(n,e,qn),i!==null&&r!==null?i2(t,i,e,r):r!==null?(n.$text$!==null&&(t.textContent=""),RS(t,null,e,r,0,r.length-1)):i!==null&&PS(i,0,i.length-1),qn&&s==="svg"&&(qn=!1)):(a=t["s-cr"])?a.parentNode.textContent=o:n.$text$!==o&&(t.data=o)},MS=n=>{const e=n.childNodes;let t,i,r,s,o,a;for(i=0,r=e.length;i<r;i++)if(t=e[i],t.nodeType===1){if(t["s-sr"]){for(o=t["s-sn"],t.hidden=!1,s=0;s<r;s++)if(a=e[s].nodeType,e[s]["s-hn"]!==t["s-hn"]||o!==""){if(a===1&&o===e[s].getAttribute("slot")){t.hidden=!0;break}}else if(a===1||a===3&&e[s].textContent.trim()!==""){t.hidden=!0;break}}MS(t)}},Ni=[],IS=n=>{let e,t,i,r,s,o,a=0;const l=n.childNodes,c=l.length;for(;a<c;a++){if(e=l[a],e["s-sr"]&&(t=e["s-cr"])&&t.parentNode)for(i=t.parentNode.childNodes,r=e["s-sn"],o=i.length-1;o>=0;o--)t=i[o],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==e["s-hn"]&&(sw(t,r)?(s=Ni.find(u=>u.$nodeToRelocate$===t),Nd=!0,t["s-sn"]=t["s-sn"]||r,s?s.$slotRefNode$=e:Ni.push({$slotRefNode$:e,$nodeToRelocate$:t}),t["s-sr"]&&Ni.map(u=>{sw(u.$nodeToRelocate$,t["s-sn"])&&(s=Ni.find(d=>d.$nodeToRelocate$===t),s&&!u.$slotRefNode$&&(u.$slotRefNode$=s.$slotRefNode$))})):Ni.some(u=>u.$nodeToRelocate$===t)||Ni.push({$nodeToRelocate$:t}));e.nodeType===1&&IS(e)}},sw=(n,e)=>n.nodeType===1?n.getAttribute("slot")===null&&e===""||n.getAttribute("slot")===e:n["s-sn"]===e?!0:e==="",OS=n=>{n.$attrs$&&n.$attrs$.ref&&n.$attrs$.ref(null),n.$children$&&n.$children$.map(OS)},r2=(n,e)=>{const t=n.$hostElement$,i=n.$cmpMeta$,r=n.$vnode$||kd(null,null),s=GD(e)?e:pl(null,null,e);$h=t.tagName,i.$attrsToReflect$&&(s.$attrs$=s.$attrs$||{},i.$attrsToReflect$.map(([o,a])=>s.$attrs$[a]=t[o])),s.$tag$=null,s.$flags$|=4,n.$vnode$=s,s.$elm$=r.$elm$=t.shadowRoot||t,go=t["s-sc"],SS=t["s-cr"],CS=(i.$flags$&1)!==0,Nd=!1,yo(r,s);{if(pn.$flags$|=1,Iy){IS(s.$elm$);let o,a,l,c,u,d,h=0;for(;h<Ni.length;h++)o=Ni[h],a=o.$nodeToRelocate$,a["s-ol"]||(l=_i.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(h=0;h<Ni.length;h++)if(o=Ni[h],a=o.$nodeToRelocate$,o.$slotRefNode$){for(c=o.$slotRefNode$.parentNode,u=o.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(d=l["s-nr"],d&&d["s-sn"]===a["s-sn"]&&c===d.parentNode&&(d=d.nextSibling,!d||!d["s-nr"])){u=d;break}(!u&&c!==a.parentNode||a.nextSibling!==u)&&a!==u&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,u))}else a.nodeType===1&&(a.hidden=!0)}Nd&&MS(s.$elm$),pn.$flags$&=-2,Ni.length=0}},s2=(n,e)=>{},_S=(n,e)=>(n.$flags$|=16,s2(n,n.$ancestorComponent$),P2(()=>o2(n,e))),o2=(n,e)=>{const t=n.$hostElement$,i=Hs("scheduleUpdate",n.$cmpMeta$.$tagName$),r=t;let s;return e?s=Bo(r,"componentWillLoad"):s=Bo(r,"componentWillUpdate"),s=ow(s,()=>Bo(r,"componentWillRender")),i(),ow(s,()=>a2(n,r,e))},a2=async(n,e,t)=>{const i=n.$hostElement$,r=Hs("update",n.$cmpMeta$.$tagName$);i["s-rc"],t&&t2(n);const s=Hs("render",n.$cmpMeta$.$tagName$);l2(n,e,i),s(),r(),c2(n)},l2=(n,e,t)=>{try{Xv=e,e=e.render&&e.render(),n.$flags$&=-17,n.$flags$|=2,(mo.hasRenderFn||mo.reflect)&&(mo.vdomRender||mo.reflect)&&(mo.hydrateServerSide||r2(n,e))}catch(a){nc(a,n.$hostElement$)}return Xv=null,null},c2=n=>{const e=n.$cmpMeta$.$tagName$,t=n.$hostElement$,i=Hs("postUpdate",e),r=t;n.$ancestorComponent$,Bo(r,"componentDidRender"),n.$flags$&64?(Bo(r,"componentDidUpdate"),i()):(n.$flags$|=64,Bo(r,"componentDidLoad"),i())},Bo=(n,e,t)=>{if(n&&n[e])try{return n[e](t)}catch(i){nc(i)}},ow=(n,e)=>n&&n.then?n.then(e):e(),u2=(n,e)=>Mh(n).$instanceValues$.get(e),d2=(n,e,t,i)=>{const r=Mh(n),s=n,o=r.$instanceValues$.get(e),a=r.$flags$,l=s;t=XD(t,i.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(t);if(t!==o&&!c){r.$instanceValues$.set(e,t);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](t,o,e)}catch(f){nc(f,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(t,o,e)===!1)return;_S(r,!1)}}}},h2=(n,e,t)=>{if(e.$members$){n.watchers&&(e.$watchers$=n.watchers);const i=Object.entries(e.$members$),r=n.prototype;i.map(([s,[o]])=>{(o&31||o&32)&&Object.defineProperty(r,s,{get(){return u2(this,s)},set(a){d2(this,s,a,e)},configurable:!0,enumerable:!0})});{const s=new Map;r.attributeChangedCallback=function(o,a,l){pn.jmp(()=>{const c=s.get(o);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},n.observedAttributes=i.filter(([o,a])=>a[0]&15).map(([o,a])=>{const l=a[1]||o;return s.set(l,o),a[0]&512&&e.$attrsToReflect$.push([o,l]),l})}}return n},f2=async(n,e,t,i,r)=>{if(!(e.$flags$&32)&&(r=n.constructor,e.$flags$|=32,customElements.whenDefined(t.$tagName$).then(()=>e.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[e.$modeName$=JD(n)]);const a=NS(t,e.$modeName$);if(!Pd.has(a)){const l=Hs("registerStyles",t.$tagName$);ZD(a,o,!!(t.$flags$&1)),l()}}e.$ancestorComponent$,(()=>_S(e,!0))()},p2=n=>{},m2=n=>{if(!(pn.$flags$&1)){const e=Mh(n),t=e.$cmpMeta$,i=Hs("connectedCallback",t.$tagName$);e.$flags$&1?(LS(n,e,t.$listeners$),p2(e.$lazyInstance$)):(e.$flags$|=1,t.$flags$&12&&g2(n),t.$members$&&Object.entries(t.$members$).map(([r,[s]])=>{if(s&31&&n.hasOwnProperty(r)){const o=n[r];delete n[r],n[r]=o}}),f2(n,e,t)),i()}},g2=n=>{const e=n["s-cr"]=_i.createComment("");e["s-cn"]=!0,n.insertBefore(e,n.firstChild)},y2=n=>{if(!(pn.$flags$&1)){const e=Mh(n);e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0)}},b2=(n,e)=>{const t={$flags$:e[0],$tagName$:e[1]};t.$members$=e[2],t.$listeners$=e[3],t.$watchers$=n.$watchers$,t.$attrsToReflect$=[];const i=n.prototype.connectedCallback,r=n.prototype.disconnectedCallback;return Object.assign(n.prototype,{__registerHost(){x2(this,t)},connectedCallback(){m2(this),i&&i.call(this)},disconnectedCallback(){y2(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)})}}),n.is=t.$tagName$,h2(n,t)},LS=(n,e,t,i)=>{t&&t.map(([r,s,o])=>{const a=w2(n,r),l=v2(e,o),c=E2(r);pn.ael(a,s,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>pn.rel(a,s,l,c))})},v2=(n,e)=>t=>{try{mo.lazyLoad||n.$hostElement$[e](t)}catch(i){nc(i)}},w2=(n,e)=>e&4?_i:e&8?ic:e&16?_i.body:n,E2=n=>C2?{passive:(n&1)!==0,capture:(n&2)!==0}:(n&2)!==0,DS=new WeakMap,Mh=n=>DS.get(n),x2=(n,e)=>{const t={$flags$:0,$hostElement$:n,$cmpMeta$:e,$instanceValues$:new Map};return LS(n,t,e.$listeners$),DS.set(n,t)},aw=(n,e)=>e in n,nc=(n,e)=>(0,console.error)(n,e),Pd=new Map,T2=[],ic=typeof window<"u"?window:{},_i=ic.document||{head:{}},S2=ic.HTMLElement||class{},pn={$flags$:0,$resourcesUrl$:"",jmp:n=>n(),raf:n=>requestAnimationFrame(n),ael:(n,e,t,i)=>n.addEventListener(e,t,i),rel:(n,e,t,i)=>n.removeEventListener(e,t,i),ce:(n,e)=>new CustomEvent(n,e)},C2=(()=>{let n=!1;try{_i.addEventListener("e",null,Object.defineProperty({},"passive",{get(){n=!0}}))}catch(e){}return n})(),A2=n=>Promise.resolve(n),N2=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(n){}return!1})(),lw=[],qS=[],k2=(n,e)=>t=>{n.push(t),zm||(zm=!0,e&&pn.$flags$&4?R2(Vm):pn.raf(Vm))},cw=n=>{for(let e=0;e<n.length;e++)try{n[e](performance.now())}catch(t){nc(t)}n.length=0},Vm=()=>{cw(lw),cw(qS),(zm=lw.length>0)&&pn.raf(Vm)},R2=n=>A2().then(n),P2=k2(qS,!0);let np;const $2=()=>{if(typeof window>"u")return new Map;if(!np){const n=window;n.Ionicons=n.Ionicons||{},np=n.Ionicons.map=n.Ionicons.map||new Map}return np},M2=n=>{let e=ip(n.src);return e||(e=BS(n.name,n.icon,n.mode,n.ios,n.md),e?I2(e):n.icon&&(e=ip(n.icon),e||(e=ip(n.icon[n.mode]),e))?e:null)},I2=n=>{const e=$2().get(n);return e||zD("svg/".concat(n,".svg"))},BS=(n,e,t,i,r)=>(t=(t&&iu(t))==="ios"?"ios":"md",i&&t==="ios"?n=iu(i):r&&t==="md"?n=iu(r):(!n&&e&&!FS(e)&&(n=e),$d(n)&&(n=iu(n))),!$d(n)||n.trim()===""||n.replace(/[a-z]|-|\d/gi,"")!==""?null:n),ip=n=>$d(n)&&(n=n.trim(),FS(n))?n:null,FS=n=>n.length>0&&/(\/|\.)/.test(n),$d=n=>typeof n=="string",iu=n=>n.toLowerCase(),O2=(n,e=[])=>{const t={};return e.forEach(i=>{n.hasAttribute(i)&&(n.getAttribute(i)!==null&&(t[i]=n.getAttribute(i)),n.removeAttribute(i))}),t},_2=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",L2=n=>{const e=document.createElement("div");e.innerHTML=n;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const t=e.firstElementChild;if(t&&t.nodeName.toLowerCase()==="svg"){const i=t.getAttribute("class")||"";if(t.setAttribute("class",(i+" s-ion-icon").trim()),US(t))return e.innerHTML}return""},US=n=>{if(n.nodeType===1){if(n.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;if($d(t)&&t.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<n.childNodes.length;e++)if(!US(n.childNodes[e]))return!1}return!0},D2=n=>n.startsWith("data:image/svg+xml"),q2=n=>n.indexOf(";utf8,")!==-1,ks=new Map,uw=new Map;let rp;const B2=(n,e)=>{let t=uw.get(n);if(!t)if(typeof fetch<"u"&&typeof document<"u")if(D2(n)&&q2(n)){rp||(rp=new DOMParser);const r=rp.parseFromString(n,"text/html").querySelector("svg");return r&&ks.set(n,r.outerHTML),Promise.resolve()}else t=fetch(n).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=L2(r)),ks.set(n,r||"")});ks.set(n,"")}),uw.set(n,t);else return ks.set(n,""),Promise.resolve();return t},F2=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",U2=b2(class extends S2{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=j2(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=O2(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(n,e,t){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(r=>{r[0].isIntersecting&&(i.disconnect(),this.io=void 0,t())},{rootMargin:e});i.observe(n)}else t()}loadIcon(){if(this.isVisible){const n=M2(this);n&&(ks.has(n)?this.svgContent=ks.get(n):B2(n,this.sanitize).then(()=>this.svgContent=ks.get(n)))}this.iconName=BS(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:n,iconName:e,inheritedAttributes:t,el:i}=this,r=this.mode||"md",s=e?(e.includes("arrow")||e.includes("chevron"))&&n!==!1:!1,o=n||s;return pl(AS,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},z2(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":o,"icon-rtl":o&&_2(i)})},t),this.svgContent?pl("div",{class:"icon-inner",innerHTML:this.svgContent}):pl("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return F2}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),j2=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",z2=n=>n?{"ion-color":!0,["ion-color-".concat(n)]:!0}:null;function V2(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,U2);break}})}const H2=V2,Ly=Z.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{}}),W2=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[]}onIonViewWillEnter(n){if(n.id){const e=this.ionViewWillEnterCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewWillEnterCallbacks[e]=n:this.ionViewWillEnterCallbacks.push(n)}else this.ionViewWillEnterCallbacks.push(n)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(n=>n())}onIonViewDidEnter(n){if(n.id){const e=this.ionViewDidEnterCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewDidEnterCallbacks[e]=n:this.ionViewDidEnterCallbacks.push(n)}else this.ionViewDidEnterCallbacks.push(n)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(n=>n())}onIonViewWillLeave(n){if(n.id){const e=this.ionViewWillLeaveCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewWillLeaveCallbacks[e]=n:this.ionViewWillLeaveCallbacks.push(n)}else this.ionViewWillLeaveCallbacks.push(n)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(n=>n())}onIonViewDidLeave(n){if(n.id){const e=this.ionViewDidLeaveCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewDidLeaveCallbacks[e]=n:this.ionViewDidLeaveCallbacks.push(n)}else this.ionViewDidLeaveCallbacks.push(n)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(n=>n()),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(n){this.componentCanBeDestroyedCallback=n}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},nr=Z.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:n=>{typeof window<"u"&&(typeof n=="string"?window.location.pathname=n:window.history.back())},navigate:n=>{typeof window<"u"&&(window.location.pathname=n)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(n,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(n,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),Dy=n=>n.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),Ih=n=>n.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),qy=(n,e,t={})=>{if(n instanceof Element){const i=Q2(n.classList,e,t);i!==""&&(n.className=i),Object.keys(e).forEach(r=>{if(!(r==="children"||r==="style"||r==="ref"||r==="class"||r==="className"||r==="forwardedRef"))if(r.indexOf("on")===0&&r[2]===r[2].toUpperCase()){const s=r.substring(2),o=s[0].toLowerCase()+s.substring(1);rc(o)||K2(n,o,e[r])}else n[r]=e[r],typeof e[r]==="string"&&n.setAttribute(Ih(r),e[r])})}},Q2=(n,e,t)=>{const i=e.className||e.class,r=t.className||t.class,s=sp(n),o=sp(i?i.split(" "):[]),a=sp(r?r.split(" "):[]),l=[];return s.forEach(c=>{o.has(c)?(l.push(c),o.delete(c)):a.has(c)||l.push(c)}),o.forEach(c=>l.push(c)),l.join(" ")},G2=n=>{switch(n){case"doubleclick":return"dblclick"}return n};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const rc=n=>{if(typeof document>"u")return!0;{const e="on"+G2(n);let t=e in document;if(!t){const i=document.createElement("div");i.setAttribute(e,"return;"),t=typeof i[e]=="function"}return t}},K2=(n,e,t)=>{const i=n.__events||(n.__events={}),r=i[e];r&&n.removeEventListener(e,r),n.addEventListener(e,i[e]=function(o){t&&t.call(this,o)})},sp=n=>{const e=new Map;return n.forEach(t=>e.set(t,t)),e},Y2=(n,e)=>{typeof n=="function"?n(e):n!=null&&(n.current=e)},Oh=(...n)=>e=>{n.forEach(t=>{Y2(t,e)})},J2=(n,e)=>{const t=(i,r)=>Z.createElement(n,Object.assign({},i,{forwardedRef:r}));return t.displayName=e,Z.forwardRef(t)},X2=(n,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(n)&&customElements.define(n,e)},ot=(n,e,t,i)=>{i!==void 0&&i();const r=Dy(n),s=class extends Z.Component{constructor(o){super(o),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(o){qy(this.componentEl,this.props,o)}render(){const o=this.props,{children:a,forwardedRef:l,style:c,className:u,ref:d}=o,h=en(o,["children","forwardedRef","style","className","ref"]);let f=Object.keys(h).reduce((b,C)=>{const x=h[C];if(C.indexOf("on")===0&&C[2]===C[2].toUpperCase()){const y=C.substring(2).toLowerCase();typeof document<"u"&&rc(y)&&(b[C]=x)}else{const y=typeof x;(y==="string"||y==="boolean"||y==="number")&&(b[Ih(C)]=x)}return b},{});t&&(f=t(this.props,f));const g=Object.assign(Object.assign({},f),{ref:Oh(l,this.setComponentElRef),style:c});return Ee.createElement(n,g,a)}static get displayName(){return r}};return e&&(s.contextType=e),J2(s,r)},Z2=ot("ion-badge",void 0,void 0,kO),_h=ot("ion-buttons",void 0,void 0,IO),Fo=ot("ion-col",void 0,void 0,GO),Lh=ot("ion-content",void 0,void 0,t_),jS=ot("ion-grid",void 0,void 0,S_),Jo=ot("ion-header",void 0,void 0,O_),op=ot("ion-img",void 0,void 0,B_),eq=ot("ion-input",void 0,void 0,tL),ss=ot("ion-label",void 0,void 0,nL),tq=ot("ion-list",void 0,void 0,aL),nq=ot("ion-menu",void 0,void 0,yL),zS=ot("ion-menu-button",void 0,void 0,xL),ja=ot("ion-menu-toggle",void 0,void 0,AL),iq=ot("ion-range",void 0,void 0,BL),ml=ot("ion-row",void 0,void 0,zL),rq=ot("ion-spinner",void 0,void 0,eD),ap=ot("ion-text",void 0,void 0,rD),By=ot("ion-title",void 0,void 0,cD),Dh=ot("ion-toolbar",void 0,void 0,pD),Xs=(n,e)=>{const t=(i,r)=>Z.createElement(n,Object.assign({},i,{forwardedRef:r}));return t.displayName=e,Z.forwardRef(t)},sq=n=>yr(window,n),Fy=()=>{if(typeof window<"u"){const n=window.Ionic;if(n&&n.config)return n.config}return null},VS=(n,e)=>{X2(n,e);const t=Dy(n),i=class extends Z.Component{constructor(r){super(r),this.handleClick=s=>{const{routerLink:o,routerDirection:a,routerOptions:l,routerAnimation:c}=this.props;o!==void 0&&(s.preventDefault(),this.context.navigate(o,a,void 0,c,l))},this.ref=Z.createRef(),this.stableMergedRefs=Oh(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(r){const s=this.ref.current;qy(s,this.props,r)}render(){const r=this.props,{children:s,forwardedRef:o,style:a,className:l,ref:c}=r,u=en(r,["children","forwardedRef","style","className","ref"]),d=Object.keys(u).reduce((f,g)=>{if(g.indexOf("on")===0&&g[2]===g[2].toUpperCase()){const b=g.substring(2).toLowerCase();rc(b)&&(f[g]=u[g])}else["string","boolean","number"].includes(typeof u[g])&&(f[Ih(g)]=u[g]);return f},{}),h=Object.assign(Object.assign({},d),{ref:this.stableMergedRefs,style:a});if(this.props.routerLink&&!this.props.href&&(h.href=this.props.routerLink),h.onClick){const f=h.onClick;h.onClick=g=>{f(g),g.defaultPrevented||this.handleClick(g)}}else h.onClick=this.handleClick;return Ee.createElement(n,h,s)}static get displayName(){return t}static get contextType(){return nr}};return Xs(i,t)},ai=VS("ion-button",mD),Wr=VS("ion-item",gD),oq=(n,e)=>{n instanceof Element&&Object.keys(e).forEach(t=>{if(t.indexOf("on")===0&&t[2]===t[2].toUpperCase()){const i=t.substring(2),r=i[0].toLowerCase()+i.substring(1);rc(r)||aq(n,r)}})},aq=(n,e)=>{const t=n.__events||(n.__events={}),i=t[e];i&&(n.removeEventListener(e,i),t[e]=void 0)},lq=(n,e,t)=>{e&&e();const i=Dy(n),r=class extends Z.Component{constructor(s){super(s),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=o=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(o)},this.handleDidDismiss=o=>{const a=this.wrapperRef.current,l=this.ref.current;a&&l&&(l.append(a),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(o)},this.ref=Z.createRef(),this.stableMergedRefs=Oh(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=Z.createRef()}componentDidMount(){var s,o,a;this.componentDidUpdate(this.props),(s=this.ref.current)===null||s===void 0||s.addEventListener("ionMount",this.handleIonMount),(o=this.ref.current)===null||o===void 0||o.addEventListener("willPresent",this.handleWillPresent),(a=this.ref.current)===null||a===void 0||a.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(s){const o=this.ref.current,a=this.props,l=en(a,["onDidDismiss","onWillPresent"]);qy(o,l,s)}componentWillUnmount(){const s=this.ref.current;s&&this.state.isOpen&&(s.removeEventListener("didDismiss",this.handleDidDismiss),s.remove(),oq(s,this.props))}render(){const s=this.props,{children:o,forwardedRef:a,style:l,className:c,ref:u}=s,d=en(s,["children","forwardedRef","style","className","ref"]),h=Object.keys(d).reduce((b,C)=>{if(C.indexOf("on")===0&&C[2]===C[2].toUpperCase()){const x=C.substring(2).toLowerCase();rc(x)&&(b[C]=d[C])}else["string","boolean","number"].includes(typeof d[C])&&(b[Ih(C)]=d[C]);return b},{}),f=Object.assign(Object.assign({},h),{ref:this.stableMergedRefs,style:l}),g=()=>t?"".concat(dw," ion-page"):dw;return Ee.createElement("template",{},Ee.createElement(n,f,this.state.isOpen||this.props.keepContentsMounted?Ee.createElement("div",{ref:this.wrapperRef,className:g()},o):null))}static get displayName(){return i}};return Xs(r,i)},dw="ion-delegate-host",HS=lq("ion-alert",yD),cq=Z.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),uq=({onAddOverlay:n,onRemoveOverlay:e})=>{const[t,i]=Ee.useState({}),r=Ee.useRef({});r.current=t,Ee.useEffect(()=>{n(s),e(o)},[]);const s=(l,c,u)=>{const d=Object.assign({},r.current);d[l]={component:c,containerElement:u},i(d)},o=l=>{const c=Object.assign({},r.current);delete c[l],i(c)},a=Object.keys(t);return Z.createElement(Z.Fragment,null,a.map(l=>{const c=t[l];return bP.createPortal(c.component,c.containerElement,"overlay-".concat(l))}))},dq=ot("ion-tab-button",void 0,void 0,jD),hq=ot("ion-tab-bar",void 0,void 0,DD),fq=ot("ion-back-button",void 0,void 0,kD),Hm=ot("ion-router-outlet",void 0,void 0,MD),pq=ot("ion-app",void 0,void 0,TD),mq=ot("ion-icon",void 0,void 0,H2),gq=(()=>class extends Z.Component{constructor(n){super(n),this.ionContext={addOverlay:(e,t,i)=>{this.addOverlayCallback&&this.addOverlayCallback(e,t,i)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return Z.createElement(cq.Provider,{value:this.ionContext},Z.createElement(pq,Object.assign({},this.props),this.props.children),Z.createElement(uq,{onAddOverlay:n=>{this.addOverlayCallback=n},onRemoveOverlay:n=>{this.removeOverlayCallback=n}}))}static get displayName(){return"IonApp"}})(),Uy=Z.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class WS extends Z.PureComponent{constructor(e){super(e),this.ionPageElementRef=Z.createRef(),this.stableMergedRefs=Oh(this.ionPageElementRef,this.props.forwardedRef)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:t,children:i,routeInfo:r,forwardedRef:s}=e,o=en(e,["className","children","routeInfo","forwardedRef"]);return Z.createElement(Ly.Consumer,null,a=>(this.ionLifeCycleContext=a,Z.createElement("div",Object.assign({className:t?"".concat(t," ion-page"):"ion-page",ref:this.stableMergedRefs},o),i)))}static get contextType(){return Uy}}class yq extends Z.Component{constructor(e){super(e)}render(){const e=this.props,{className:t,children:i,forwardedRef:r}=e,s=en(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?Z.createElement(WS,Object.assign({className:t?"".concat(t):"",routeInfo:this.context.routeInfo,forwardedRef:r},s),i):Z.createElement("div",Object.assign({className:t?"ion-page ".concat(t):"ion-page",ref:r},s),i)}static get displayName(){return"IonPage"}static get contextType(){return nr}}const jy=Xs(yq,"IonPage"),bq=(n,e)=>{const t=new WeakMap;return{attachViewToDom:async(s,o,a,l)=>{const c=document.createElement("div");l&&c.classList.add(...l),s.appendChild(c);const u=o(a),d=ay.createPortal(u,c);return t.set(c,d),n(d),Promise.resolve(c)},removeViewFromDom:(s,o)=>{const a=t.get(o);return a&&e(a),o.remove(),Promise.resolve()}}},vq=ot("ion-nav",void 0,void 0,$L),wq=n=>{var{children:e,forwardedRef:t}=n,i=en(n,["children","forwardedRef"]);const[r,s]=Ee.useState([]),o=c=>s(u=>[...u,c]),a=c=>s(u=>u.filter(d=>d!==c)),l=Ee.useMemo(()=>bq(o,a),[]);return Z.createElement(vq,Object.assign({delegate:l,ref:t},i),r)};Xs(wq,"IonNav");Z.createContext({activeTab:void 0,selectTab:()=>!1});const Eq=typeof HTMLElement<"u"?HTMLElement:class{};class xq extends Z.Component{constructor(e){super(e),this.outletIsReady=!1}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||zs(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:t,children:i,routeInfo:r}=e,s=en(e,["StackManager","children","routeInfo"]);return Z.createElement(Ly.Consumer,null,o=>(this.ionLifeCycleContext=o,Z.createElement(t,{routeInfo:r},Z.createElement(Hm,Object.assign({setRef:a=>this.ionRouterOutlet=a},s),i))))}static get contextType(){return Uy}}class Tq extends Z.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),t=this.props,{children:i,forwardedRef:r}=t,s=en(t,["children","forwardedRef"]);return this.context.hasIonicRouter()?s.ionPage?Z.createElement(xq,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},s),i):Z.createElement(e,{routeInfo:this.context.routeInfo},Z.createElement(Hm,Object.assign({},s,{forwardedRef:r}),i)):Z.createElement(Hm,Object.assign({ref:r},this.props),this.props.children)}static get contextType(){return nr}}const Sq=Xs(Tq,"IonRouterOutlet"),Uo=(()=>class extends Z.Component{constructor(n){super(n),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const n=this.props,e=en(n,["onClick"]);return Z.createElement(dq,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}})();class Cq extends Z.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=i=>{};const t={};Z.Children.forEach(e.children,i=>{var r,s,o,a;i!=null&&typeof i=="object"&&i.props&&(i.type===Uo||i.type.isTabButton)&&(t[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((r=e.routeInfo)===null||r===void 0?void 0:r.pathname)?(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions:void 0,currentRouteOptions:i.props.href===((o=e.routeInfo)===null||o===void 0?void 0:o.pathname)?(a=e.routeInfo)===null||a===void 0?void 0:a.routeOptions:void 0})}),this.state={tabs:t},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,i=Object.keys(e).find(r=>{const s=e[r].originalHref;return this.props.routeInfo.pathname.startsWith(s)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const t=this.state.tabs[e];return t?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,t){var i,r,s;const o=Object.assign({},t.tabs),l=Object.keys(t.tabs).find(u=>{const d=t.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});Z.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===Uo||u.type.isTabButton)){const d=o[u.props.tab];(!d||d.originalHref!==u.props.href)&&(o[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:c}=t;if(l&&c){const u=t.tabs[c].currentHref,d=t.tabs[c].currentRouteOptions;(l!==c||u!==((i=e.routeInfo)===null||i===void 0?void 0:i.pathname)||d!==((r=e.routeInfo)===null||r===void 0?void 0:r.routeOptions))&&(o[l]={originalHref:o[l].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:o[l].originalRouteOptions,currentRouteOptions:(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions},e.routeInfo.routeAction==="pop"&&l!==c&&(o[c]={originalHref:o[c].originalHref,currentHref:o[c].originalHref,originalRouteOptions:o[c].originalRouteOptions,currentRouteOptions:o[c].currentRouteOptions}))}return l&&e.onSetCurrentTab(l,e.routeInfo),{activeTab:l,tabs:o}}onTabButtonClick(e,t){const i=this.state.tabs[e.detail.tab],r=i.originalHref,s=e.detail.href,{activeTab:o}=this.state;t&&t(e),o===e.detail.tab?r!==s&&this.context.resetTab(e.detail.tab,r,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,s,e.detail.routeOptions))}renderTabButton(e){return t=>{var i,r;if(t!=null&&t.props&&(t.type===Uo||t.type.isTabButton)){const s=t.props.tab===e?(i=this.props.routeInfo)===null||i===void 0?void 0:i.pathname:this.state.tabs[t.props.tab].currentHref,o=t.props.tab===e?(r=this.props.routeInfo)===null||r===void 0?void 0:r.routeOptions:this.state.tabs[t.props.tab].currentRouteOptions;return Z.cloneElement(t,{href:s,routeOptions:o,onClick:a=>this.onTabButtonClick(a,t.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return Z.createElement(hq,Object.assign({},this.props,{selectedTab:e}),Z.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return nr}}const Aq=Z.memo(n=>{var{forwardedRef:e}=n,t=en(n,["forwardedRef"]);const i=Ee.useContext(nr);return Z.createElement(Cq,Object.assign({ref:e},t,{routeInfo:t.routeInfo||i.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:i.setCurrentTab}),t.children)}),Nq=Xs(Aq,"IonTabBar");class kq extends Eq{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",kq));const Rq=(()=>class extends Z.Component{constructor(){super(...arguments),this.clickButton=n=>{if(n.target&&n.target.closest("ion-nav")!==null)return;const{defaultHref:e,routerAnimation:t}=this.props;this.context.hasIonicRouter()?(n.stopPropagation(),this.context.goBack(e,t)):e!==void 0&&(window.location.href=e)}}render(){return Z.createElement(fq,Object.assign({onClick:this.clickButton},this.props))}static get displayName(){return"IonBackButton"}static get contextType(){return nr}})();class Pq extends Z.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,t;const i=this.props,{icon:r,ios:s,md:o,mode:a}=i,l=en(i,["icon","ios","md","mode"]);let c;const u=Fy(),d=a||(u==null?void 0:u.get("mode"));return s||o?d==="ios"?c=(e=s!=null?s:o)!==null&&e!==void 0?e:r:c=(t=o!=null?o:s)!==null&&t!==void 0?t:r:c=r,Z.createElement(mq,Object.assign({ref:this.props.forwardedRef,icon:c},l),this.props.children)}static get contextType(){return nr}}const ki=Xs(Pq,"IonIcon");class zy extends Z.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!zy?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):Z.createElement(e,Object.assign({},this.props))}static get contextType(){return nr}}class QS extends Z.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!QS?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):Z.createElement(e,Object.assign({},this.props))}static get contextType(){return nr}}const $q=Z.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class gV extends Z.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=_t(e.id)}setupAnimation(e){const t=this.animation;this.nodes.size>0&&t.addElement(Array.from(this.nodes.values())),hw(t,e),fw(t,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const t=this.animation,i=this.props;hw(t,i,e),Mq(t,i,e),fw(t,i,e)}render(){const{children:e}=this.props;return Z.createElement(Z.Fragment,null,Z.Children.map(e,(t,i)=>Z.cloneElement(t,{ref:r=>this.nodes.set(i,r)})))}}const hw=(n,e={},t={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!i.includes(l)&&e[l]!==t[l]&&n[l](e[l]);const r=e.from;r&&r!==t.from&&(Array.isArray(r)?r:[r]).forEach(c=>n.from(c.property,c.value));const s=e.to;s&&s!==t.to&&(Array.isArray(s)?s:[s]).forEach(c=>n.to(c.property,c.value));const o=e.fromTo;o&&o!==t.fromTo&&(Array.isArray(o)?o:[o]).forEach(c=>n.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==t.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>n.onFinish(c.callback,c.opts))},Mq=(n,e={},t={})=>{var i,r,s,o,a;const{progressStart:l,progressStep:c,progressEnd:u}=e;l&&(((i=t.progressStart)===null||i===void 0?void 0:i.forceLinearEasing)!==(l==null?void 0:l.forceLinearEasing)||((r=t.progressStart)===null||r===void 0?void 0:r.step)!==(l==null?void 0:l.step))&&n.progressStart(l.forceLinearEasing,l.step),c&&((s=t.progressStep)===null||s===void 0?void 0:s.step)!==(c==null?void 0:c.step)&&n.progressStep(c.step),u&&(((o=t.progressEnd)===null||o===void 0?void 0:o.playTo)!==(u==null?void 0:u.playTo)||((a=t.progressEnd)===null||a===void 0?void 0:a.step)!==(u==null?void 0:u.step)||(t==null?void 0:t.dur)!==(u==null?void 0:u.dur))&&n.progressEnd(u.playTo,u.step,u.dur)},fw=(n,e={},t={})=>{!t.play&&e.play&&n.play(),!t.pause&&e.pause&&n.pause(),!t.stop&&e.stop&&n.stop(),!t.destroy&&e.destroy&&n.destroy()},pw={main:0},Md=(n="main")=>{var e;const t=((e=pw[n])!==null&&e!==void 0?e:0)+1;return pw[n]=t,t.toString()},Iq=(n={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),TI(Object.assign({},n))},GS=Z.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class mw extends Z.Component{constructor(e){super(e),this.ionLifeCycleContext=new W2,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return Z.createElement(Ly.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class Oq{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const t=this._getRouteInfosByKey(e);t&&(t.forEach(i=>{this.locationHistory=this.locationHistory.filter(r=>r.id!==i.id)}),this.tabHistory[e]=[])}update(e){const t=this.locationHistory.findIndex(r=>r.id===e.id);t>-1&&this.locationHistory.splice(t,1,e);const i=this.tabHistory[e.tab||""];if(i){const r=i.findIndex(s=>s.id===e.id);r>-1?i.splice(r,1,e):i.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const t=this._getRouteInfosByKey(e.tab);t&&(this._areRoutesEqual(t[t.length-1],e)&&t.pop(),t.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,t){return!e||!t?!1:e.pathname===t.pathname&&e.search===t.search}_pop(e){const t=this._getRouteInfosByKey(e.tab);t&&(t.pop(),t.pop(),t.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const t=this._getRouteInfosByKey(e.tab);t&&t.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(t=>this.tabHistory[t]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let t;return e&&(t=this.tabHistory[e],t||(t=this.tabHistory[e]=[])),t}getFirstRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[0]}getCurrentRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[t.length-1]}findLastLocation(e){const t=this._getRouteInfosByKey(e.tab);if(t)for(let i=t.length-2;i>=0;i--){const r=t[i];if(r&&r.pathname===e.pushedByRoute)return r}for(let i=this.locationHistory.length-2;i>=0;i--){const r=this.locationHistory[i];if(r&&r.pathname===e.pushedByRoute)return r}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class _q extends Z.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(t,i,r,s,o)=>{this.navigate(t,i,r,o,s)},back:t=>{this.goBack(void 0,t)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,t=>{this.nativeGoBack(),t()})}goBack(e,t){this.props.onNavigateBack(e,t)}nativeGoBack(){this.props.onNativeBack()}navigate(e,t="forward",i="push",r,s,o){this.props.onNavigate(e,i,t,r,s,o)}getPageManager(){return WS}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return Z.createElement(nr.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},Z.createElement($q.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class Lq{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:t}=e;this.viewStacks[t]?this.viewStacks[t].push(e):this.viewStacks[t]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:t}=e,i=this.viewStacks[t];if(i){const r=i.find(s=>s.id===e.id);r&&(r.mount=!1,this.viewStacks[t]=i.filter(s=>s.id!==r.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),t=[];return e.forEach(i=>{t.push(...this.viewStacks[i])}),t}}class Dq extends Z.PureComponent{render(){return Z.createElement(el,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}class qq extends Lq{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,t,i,r){const s={id:Md("viewItem"),outletId:e,ionPageElement:r,reactElement:t,mount:!0,ionRoute:!1},o={exact:t.props.exact,path:t.props.path||t.props.from,component:t.props.component},a=Us(i.pathname,o);return t.type===zy&&(s.ionRoute=!0,s.disableIonPageManagement=t.props.disableIonPageManagement),s.routeData={match:a,childProps:t.props},s}getChildrenToRender(e,t,i){const r=this.getViewItemsForOutlet(e);return Z.Children.forEach(t.props.children,o=>{const a=r.find(l=>gw(o,l.routeData.childProps.path||l.routeData.childProps.from));a&&(a.reactElement=o)}),r.map(o=>{let a;if(o.ionRoute&&!o.disableIonPageManagement)a=Z.createElement(mw,{key:"view-".concat(o.id),mount:o.mount,removeView:()=>this.remove(o)},Z.cloneElement(o.reactElement,{computedMatch:o.routeData.match}));else{const l=gw(o.reactElement,i.pathname);a=Z.createElement(mw,{key:"view-".concat(o.id),mount:o.mount,removeView:()=>this.remove(o)},Z.cloneElement(o.reactElement,{computedMatch:o.routeData.match})),!l&&o.routeData.match&&(o.routeData.match=void 0,o.mount=!1)}return a})}findViewItemByRouteInfo(e,t,i){const{viewItem:r,match:s}=this.findViewItemByPath(e.pathname,t);return(i===void 0||i===!0)&&r&&s&&(r.routeData.match=s),r}findLeavingViewItemByRouteInfo(e,t,i=!0){const{viewItem:r}=this.findViewItemByPath(e.lastPathname,t,!1,i);return r}findViewItemByPathname(e,t){const{viewItem:i}=this.findViewItemByPath(e,t);return i}findViewItemByPath(e,t,i,r){let s,o,a;if(t)a=this.getViewItemsForOutlet(t),a.some(l),s||a.some(c);else{const u=this.getAllViewItems();u.some(l),s||u.some(c)}return{viewItem:s,match:o};function l(u){if(r&&!u.ionRoute)return!1;const d={exact:i?!0:u.routeData.childProps.exact,path:u.routeData.childProps.path||u.routeData.childProps.from,component:u.routeData.childProps.component},h=Us(e,d);return h?(s=u,o=h,!0):!1}function c(u){return!u.routeData.childProps.path&&!u.routeData.childProps.from?(o={path:e,url:e,isExact:!0,params:{}},s=u,!0):!1}}}function gw(n,e,t){const i={exact:t?!0:n.props.exact,path:n.props.path||n.props.from,component:n.props.component};return Us(e,i)}function Bq(n){let e;if(typeof n=="string"?e=n:e=n.outerHTML,document){const t=document.createElement("div");t.innerHTML=e,t.style.zIndex="";const i=t.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),t.firstChild}}const yw=n=>!n.classList.contains("ion-page-invisible")&&!n.classList.contains("ion-page-hidden");class Fq extends Z.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=Md("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:t}=this.props.routeInfo,{pathname:i}=e.routeInfo;t!==i?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var t,i;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let r=this.context.findViewItemByRouteInfo(e,this.id),s=this.context.findLeavingViewItemByRouteInfo(e,this.id);!s&&e.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),s&&(e.routeAction==="replace"?s.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((t=e.routeOptions)===null||t===void 0)&&t.unmount&&(s.mount=!1):e.routeDirection!=="none"&&r!==s&&(s.mount=!1));const o=Uq((i=this.ionRouterOutlet)===null||i===void 0?void 0:i.props.children,e);if(r?r.reactElement=o:o&&(r=this.context.createViewItem(this.id,o,e),this.context.addViewItem(r)),r&&r.ionPageElement){if(r===s&&r.routeData.match.url!==e.pathname||(!s&&this.props.routeInfo.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),yw(r.ionPageElement)&&s!==void 0&&!yw(s.ionPageElement)))return;this.transitionPage(e,r,s)}else s&&!o&&!r&&s.ionPageElement&&(s.ionPageElement.classList.add("ion-page-hidden"),s.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,t){const i=this.context.findViewItemByRouteInfo(t,this.id);if(i){const r=i.ionPageElement;if(i.ionPageElement=e,i.ionRoute=!0,r===e)return}this.handlePageTransition(t)}async setupRouterOutlet(e){const t=()=>{const s=Fy();if(!(s&&s.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},i=async()=>{const{routeInfo:s}=this.props,o=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(o,this.id,!1),l=this.context.findViewItemByRouteInfo(s,this.id,!1);return a&&l&&await this.transitionPage(s,a,l,"back",!0),Promise.resolve()},r=s=>{if(s)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:o}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(o,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:t,onStart:i,onEnd:r}}async transitionPage(e,t,i,r,s=!1){const o=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await a.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:s,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=r!=null?r:l;if(t&&t.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&t===i)if(jq(i.reactElement,e.pathname,!0)){const d=Bq(i.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await o(t.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await o(t.ionPageElement,void 0);else await o(t.ionPageElement,i==null?void 0:i.ionPageElement),i&&i.ionPageElement&&!s&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,t=Z.Children.only(e);this.ionRouterOutlet=t;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return Z.createElement(Uy.Provider,{value:this.stackContextValue},Z.cloneElement(t,{ref:r=>{t.props.setRef&&t.props.setRef(r),t.props.forwardedRef&&(t.props.forwardedRef.current=r),this.routerOutletElement=r;const{ref:s}=t;typeof s=="function"&&s(r)}},i))}static get contextType(){return GS}}function Uq(n,e){let t;return Z.Children.forEach(n,i=>{const r={exact:i.props.exact,path:i.props.path||i.props.from,component:i.props.component};Us(e.pathname,r)&&(t=i)}),t||(Z.Children.forEach(n,i=>{i.props.path||i.props.from||(t=i)}),t)}function jq(n,e,t){const i={exact:t?!0:n.props.exact,path:n.props.path||n.props.from,component:n.props.component};return Us(e,i)}class zq extends Z.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new Oq,this.viewStack=new qq,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const t={id:Md("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(t),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:t}}handleChangeTab(e,t,i){if(!t)return;const r=this.locationHistory.getCurrentRouteInfoForTab(e),[s,o]=t.split("?");r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===s?(this.incomingRouteParams.routeOptions=i,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=s,this.incomingRouteParams.search=o?"?"+o:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(s+(o?"?"+o:"")))):this.handleNavigate(s,"push","none",void 0,i,e)}handleHistoryChange(e,t){var i,r,s;let o;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?o=this.locationHistory.previous():o=this.locationHistory.current():o=this.locationHistory.current(),o.pathname+o.search!==e.pathname){if(!this.incomingRouteParams){if(t==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),t==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((i=e.state)===null||i===void 0?void 0:i.direction)||"forward",routeOptions:(r=e.state)===null||r===void 0?void 0:r.routerOptions,tab:this.currentTab})}let l;if(!((s=this.incomingRouteParams)===null||s===void 0)&&s.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:Md("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),c)l.tab=o.tab,l.pushedByRoute=o.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==o.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=(u==null?void 0:u.routeDirection)||l.routeDirection,l.routeAnimation=(u==null?void 0:u.routeAnimation)||l.routeAnimation}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,t,i,r,s,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:t,routeDirection:i,routeOptions:s,routeAnimation:r,tab:o}),t==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",t){const i=Fy();e=e||i&&i.get("backButtonDefaultHref");const r=this.locationHistory.current();if(r&&r.pushedByRoute){const s=this.locationHistory.findLastLocation(r);if(s)if(this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back",routeAnimation:t||r.routeAnimation}),r.lastPathname===r.pushedByRoute||s.pathname===r.pushedByRoute&&r.tab===""&&s.tab===""){const o=this.props.history;(o.goBack||o.back)()}else this.handleNavigate(s.pathname+(s.search||""),"pop","back",t);else this.handleNavigate(e,"pop","back",t)}else this.handleNavigate(e,"pop","back",t)}handleResetTab(e,t,i){const r=this.locationHistory.getFirstRouteInfoForTab(e);if(r){const s=Object.assign({},r);s.pathname=t,s.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(s.pathname+(s.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const t=Object.assign({},this.locationHistory.current());t.tab!==e&&(t.tab=e,this.locationHistory.update(t))}render(){return Z.createElement(GS.Provider,{value:this.routeMangerContextState},Z.createElement(_q,{ionRoute:Dq,ionRedirect:{},stackManager:Fq,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const qh=P$(zq);qh.displayName="IonRouter";class Vq extends Z.Component{constructor(e){super(e);const{history:t}=e,i=en(e,["history"]);this.history=t||IP(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const i=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,i=en(e,["children"]);return Z.createElement(Jl,Object.assign({history:this.history},i),Z.createElement(qh,{registerHistoryListener:this.registerHistoryListener},t))}}class yV extends Z.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const i=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,i=en(e,["children"]);return Z.createElement(Jl,Object.assign({},i),Z.createElement(qh,{registerHistoryListener:this.registerHistoryListener},t))}}class bV extends Z.Component{constructor(e){super(e);const{history:t}=e,i=en(e,["history"]);this.history=t||LP(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const i=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,i=en(e,["children"]);return Z.createElement(Jl,Object.assign({history:this.history},i),Z.createElement(qh,{registerHistoryListener:this.registerHistoryListener},t))}}const Hq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80a176 176 0 10176 176A176 176 0 00256 80z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296' stroke-linecap='round' stroke-miterlimit='10' stroke-width='28' class='ionicon-fill-none'/><circle cx='250' cy='348' r='20'/></svg>",Wq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z'/><path d='M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z'/></svg>",Qq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M480 257.35c0-123.7-100.3-224-224-224s-224 100.3-224 224c0 111.8 81.9 204.47 189 221.29V322.12h-56.89v-64.77H221V208c0-56.13 33.45-87.16 84.61-87.16 24.51 0 50.15 4.38 50.15 4.38v55.13H327.5c-27.81 0-36.51 17.26-36.51 35v42h62.12l-9.92 64.77H291v156.54c107.1-16.81 189-109.48 189-221.31z' fill-rule='evenodd'/></svg>",Gq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M349.33 69.33a93.62 93.62 0 0193.34 93.34v186.66a93.62 93.62 0 01-93.34 93.34H162.67a93.62 93.62 0 01-93.34-93.34V162.67a93.62 93.62 0 0193.34-93.34h186.66m0-37.33H162.67C90.8 32 32 90.8 32 162.67v186.66C32 421.2 90.8 480 162.67 480h186.66C421.2 480 480 421.2 480 349.33V162.67C480 90.8 421.2 32 349.33 32z'/><path d='M377.33 162.67a28 28 0 1128-28 27.94 27.94 0 01-28 28zM256 181.33A74.67 74.67 0 11181.33 256 74.75 74.75 0 01256 181.33m0-37.33a112 112 0 10112 112 112 112 0 00-112-112z'/></svg>",Kq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448.67 154.45L274.1 68.2a41.1 41.1 0 00-36.2 0L63.33 154.45A55.6 55.6 0 0032 204.53v184.61c0 30.88 25.42 56 56.67 56h334.66c31.25 0 56.67-25.12 56.67-56V204.53a55.6 55.6 0 00-31.33-50.08zM252.38 96.82a8.22 8.22 0 017.24 0L429 180.48l-172 85a8.22 8.22 0 01-7.24 0L80.35 181.81z'/></svg>",Yq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M224 432h-80V80h80zM368 432h-80V80h80z'/></svg>",Jq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M96 448l320-192L96 64v384z'/></svg>",Xq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>",KS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='272' r='16'/><path d='M280 81.5V72a24 24 0 00-48 0v9.5a191 191 0 00-84.43 32.13L137 103a24 24 0 00-34 34l8.6 8.6A191.17 191.17 0 0064 272c0 105.87 86.13 192 192 192s192-86.13 192-192c0-97.74-73.42-178.66-168-190.5zM256 320a48 48 0 01-16-93.25V152a16 16 0 0132 0v74.75A48 48 0 01256 320z'/></svg>",Zq="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M434.67 285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179 179 0 00-140.14 67.36m-38.53 82v29.8C76.8 355 157 435 256 435a180.45 180.45 0 00140-66.92' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M32 256l44-44 46 44M480 256l-44 44-46-44' class='ionicon-fill-none ionicon-stroke-width'/></svg>",eB="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z'/></svg>",bw=n=>{let e;const t=new Set,i=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const d=e;e=(c!=null?c:typeof u!="object")?u:Object.assign({},e,u),t.forEach(h=>h(e,d))}},r=()=>e,a={setState:i,getState:r,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>{t.clear()}};return e=n(i,r,a),a},tB=n=>n?bw(n):bw;var YS={exports:{}},JS={},XS={exports:{}},ZS={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xo=Ee;function nB(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var iB=typeof Object.is=="function"?Object.is:nB,rB=Xo.useState,sB=Xo.useEffect,oB=Xo.useLayoutEffect,aB=Xo.useDebugValue;function lB(n,e){var t=e(),i=rB({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return oB(function(){r.value=t,r.getSnapshot=e,lp(r)&&s({inst:r})},[n,t,e]),sB(function(){return lp(r)&&s({inst:r}),n(function(){lp(r)&&s({inst:r})})},[n]),aB(t),t}function lp(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!iB(n,t)}catch(i){return!0}}function cB(n,e){return e()}var uB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cB:lB;ZS.useSyncExternalStore=Xo.useSyncExternalStore!==void 0?Xo.useSyncExternalStore:uB;XS.exports=ZS;var dB=XS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh=Ee,hB=dB;function fB(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var pB=typeof Object.is=="function"?Object.is:fB,mB=hB.useSyncExternalStore,gB=Bh.useRef,yB=Bh.useEffect,bB=Bh.useMemo,vB=Bh.useDebugValue;JS.useSyncExternalStoreWithSelector=function(n,e,t,i,r){var s=gB(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=bB(function(){function l(f){if(!c){if(c=!0,u=f,f=i(f),r!==void 0&&o.hasValue){var g=o.value;if(r(g,f))return d=g}return d=f}if(g=d,pB(u,f))return g;var b=i(f);return r!==void 0&&r(g,b)?g:(u=f,d=b)}var c=!1,u,d,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,i,r]);var a=mB(n,s[0],s[1]);return yB(function(){o.hasValue=!0,o.value=a},[a]),vB(a),a};YS.exports=JS;var wB=YS.exports;const EB=us(wB),{useSyncExternalStoreWithSelector:xB}=EB;function TB(n,e=n.getState,t){const i=xB(n.subscribe,n.getState,n.getServerState||n.getState,e,t);return Ee.useDebugValue(i),i}const vw=n=>{const e=typeof n=="function"?tB(n):n,t=(i,r)=>TB(e,i,r);return Object.assign(t,e),t},SB=n=>n?vw(n):vw,Wm=new Map,ru=n=>{const e=Wm.get(n);return e?Object.fromEntries(Object.entries(e.stores).map(([t,i])=>[t,i.getState()])):{}},CB=(n,e,t)=>{if(n===void 0)return{type:"untracked",connection:e.connect(t)};const i=Wm.get(t.name);if(i)return{type:"tracked",store:n,...i};const r={connection:e.connect(t),stores:{}};return Wm.set(t.name,r),{type:"tracked",store:n,...r}},AB=(n,e={})=>(t,i,r)=>{const{enabled:s,anonymousActionType:o,store:a,...l}=e;let c;try{c=(s!=null?s:!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(b){}if(!c)return n(t,i,r);const{connection:u,...d}=CB(a,c,l);let h=!0;r.setState=(b,C,x)=>{const y=t(b,C);if(!h)return y;const E=x===void 0?{type:o||"anonymous"}:typeof x=="string"?{type:x}:x;return a===void 0?(u==null||u.send(E,i()),y):(u==null||u.send({...E,type:"".concat(a,"/").concat(E.type)},{...ru(l.name),[a]:r.getState()}),y)};const f=(...b)=>{const C=h;h=!1,t(...b),h=C},g=n(r.setState,i,r);if(d.type==="untracked"?u==null||u.init(g):(d.stores[d.store]=r,u==null||u.init(Object.fromEntries(Object.entries(d.stores).map(([b,C])=>[b,b===d.store?g:C.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){let b=!1;const C=r.dispatch;r.dispatch=(...x)=>{C(...x)}}return u.subscribe(b=>{var C;switch(b.type){case"ACTION":if(typeof b.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return cp(b.payload,x=>{if(x.type==="__setState"){if(a===void 0){f(x.state);return}Object.keys(x.state).length!==1&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const y=x.state[a];if(y==null)return;JSON.stringify(r.getState())!==JSON.stringify(y)&&f(y);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(x)});case"DISPATCH":switch(b.payload.type){case"RESET":return f(g),a===void 0?u==null?void 0:u.init(r.getState()):u==null?void 0:u.init(ru(l.name));case"COMMIT":if(a===void 0){u==null||u.init(r.getState());return}return u==null?void 0:u.init(ru(l.name));case"ROLLBACK":return cp(b.state,x=>{if(a===void 0){f(x),u==null||u.init(r.getState());return}f(x[a]),u==null||u.init(ru(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return cp(b.state,x=>{if(a===void 0){f(x);return}JSON.stringify(r.getState())!==JSON.stringify(x[a])&&f(x[a])});case"IMPORT_STATE":{const{nextLiftedState:x}=b.payload,y=(C=x.computedStates.slice(-1)[0])==null?void 0:C.state;if(!y)return;f(a===void 0?y:y[a]),u==null||u.send(null,x);return}case"PAUSE_RECORDING":return h=!h}return}}),g},NB=AB,cp=(n,e)=>{let t;try{t=JSON.parse(n)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}t!==void 0&&e(t)};function eC(n,e){let t;try{t=n()}catch(r){return}return{getItem:r=>{var s;const o=l=>l===null?null:JSON.parse(l,e==null?void 0:e.reviver),a=(s=t.getItem(r))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(r,s)=>t.setItem(r,JSON.stringify(s,e==null?void 0:e.replacer)),removeItem:r=>t.removeItem(r)}}const Ul=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return Ul(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Ul(i)(t)}}}},kB=(n,e)=>(t,i,r)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:C=>C,version:0,merge:(C,x)=>({...x,...C}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch(C){}if(!c)return n((...C)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),t(...C)},i,r);const u=Ul(s.serialize),d=()=>{const C=s.partialize({...i()});let x;const y=u({state:C,version:s.version}).then(E=>c.setItem(s.name,E)).catch(E=>{x=E});if(x)throw x;return y},h=r.setState;r.setState=(C,x)=>{h(C,x),d()};const f=n((...C)=>{t(...C),d()},i,r);let g;const b=()=>{var C;if(!c)return;o=!1,a.forEach(y=>y(i()));const x=((C=s.onRehydrateStorage)==null?void 0:C.call(s,i()))||void 0;return Ul(c.getItem.bind(c))(s.name).then(y=>{if(y)return s.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var E;return g=s.merge(y,(E=i())!=null?E:f),t(g,!0),d()}).then(()=>{x==null||x(g,void 0),o=!0,l.forEach(y=>y(g))}).catch(y=>{x==null||x(void 0,y)})};return r.persist={setOptions:C=>{s={...s,...C},C.getStorage&&(c=C.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:C=>(a.add(C),()=>{a.delete(C)}),onFinishHydration:C=>(l.add(C),()=>{l.delete(C)})},b(),g||f},RB=(n,e)=>(t,i,r)=>{let s={storage:eC(()=>localStorage),partialize:b=>b,version:0,merge:(b,C)=>({...C,...b}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return n((...b)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),t(...b)},i,r);const u=()=>{const b=s.partialize({...i()});return c.setItem(s.name,{state:b,version:s.version})},d=r.setState;r.setState=(b,C)=>{d(b,C),u()};const h=n((...b)=>{t(...b),u()},i,r);let f;const g=()=>{var b,C;if(!c)return;o=!1,a.forEach(y=>{var E;return y((E=i())!=null?E:h)});const x=((C=s.onRehydrateStorage)==null?void 0:C.call(s,(b=i())!=null?b:h))||void 0;return Ul(c.getItem.bind(c))(s.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==s.version){if(s.migrate)return s.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var E;return f=s.merge(y,(E=i())!=null?E:h),t(f,!0),u()}).then(()=>{x==null||x(f,void 0),f=i(),o=!0,l.forEach(y=>y(f))}).catch(y=>{x==null||x(void 0,y)})};return r.persist={setOptions:b=>{s={...s,...b},b.storage&&(c=b.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:b=>(a.add(b),()=>{a.delete(b)}),onFinishHydration:b=>(l.add(b),()=>{l.delete(b)})},s.skipHydration||g(),f||h},PB=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?kB(n,e):RB(n,e),$B=PB,MB=n=>({timerInterval:25,setTimerInterval:e=>n(()=>({timerInterval:e}),!1,"setTimerInterval"),timerStatus:"idle",setTimerStatus:e=>n(()=>({timerStatus:e}),!1,"setTimerStatus"),timerKey:Date.now(),setTimerKey:()=>n(()=>({timerKey:Date.now()}),!1,"setTimerKey"),timerDuration:0,setTimerDuration:e=>n(()=>({timerDuration:Date.now()+e}),!1,"setTimerDuration"),timerPausedTime:0,setTimerPausedTime:()=>n(e=>({timerPausedTime:e.timerDuration-Date.now()}),!1,"setTimerPausedTime"),unsetTimer:()=>n(()=>({timerKey:Date.now(),timerStatus:"idle",timerDuration:0,timerPausedTime:0}),!1,"unsetTimer")});/*! Capacitor: https://capacitorjs.com/ - MIT License */const IB=n=>{const e=new Map;e.set("web",{name:"web"});const t=n.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},i=(s,o)=>{t.platforms.set(s,o)},r=s=>{t.platforms.has(s)&&(t.currentPlatform=t.platforms.get(s))};return t.addPlatform=i,t.setPlatform=r,t},OB=n=>n.CapacitorPlatforms=IB(n),tC=OB(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});tC.addPlatform;tC.setPlatform;var Zo;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(Zo||(Zo={}));class up extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const _B=n=>{var e,t;return n!=null&&n.androidBridge?"android":!((t=(e=n==null?void 0:n.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},LB=n=>{var e,t,i,r,s;const o=n.CapacitorCustomPlatform||null,a=n.Capacitor||{},l=a.Plugins=a.Plugins||{},c=n.CapacitorPlatforms,u=()=>o!==null?o.name:_B(n),d=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||u,h=()=>d()!=="web",f=((t=c==null?void 0:c.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||h,g=O=>{const $=N.get(O);return!!($!=null&&$.platforms.has(d())||x(O))},b=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.isPluginAvailable)||g,C=O=>{var $;return($=a.PluginHeaders)===null||$===void 0?void 0:$.find(R=>R.name===O)},x=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||C,y=O=>n.console.error(O),E=(O,$,R)=>Promise.reject("".concat(R,' does not have an implementation of "').concat($,'".')),N=new Map,I=(O,$={})=>{const R=N.get(O);if(R)return console.warn('Capacitor plugin "'.concat(O,'" already registered. Cannot register plugins twice.')),R.proxy;const H=d(),A=x(O);let U;const D=async()=>(!U&&H in $?U=typeof $[H]=="function"?U=await $[H]():U=$[H]:o!==null&&!U&&"web"in $&&(U=typeof $.web=="function"?U=await $.web():U=$.web),U),K=(j,X)=>{var le,xe;if(A){const Te=A==null?void 0:A.methods.find(Ce=>X===Ce.name);if(Te)return Te.rtype==="promise"?Ce=>a.nativePromise(O,X.toString(),Ce):(Ce,Re)=>a.nativeCallback(O,X.toString(),Ce,Re);if(j)return(le=j[X])===null||le===void 0?void 0:le.bind(j)}else{if(j)return(xe=j[X])===null||xe===void 0?void 0:xe.bind(j);throw new up('"'.concat(O,'" plugin is not implemented on ').concat(H),Zo.Unimplemented)}},re=j=>{let X;const le=(...xe)=>{const Te=D().then(Ce=>{const Re=K(Ce,j);if(Re){const _e=Re(...xe);return X=_e==null?void 0:_e.remove,_e}else throw new up('"'.concat(O,".").concat(j,'()" is not implemented on ').concat(H),Zo.Unimplemented)});return j==="addListener"&&(Te.remove=async()=>X()),Te};return le.toString=()=>"".concat(j.toString(),"() { [capacitor code] }"),Object.defineProperty(le,"name",{value:j,writable:!1,configurable:!1}),le},he=re("addListener"),ce=re("removeListener"),te=(j,X)=>{const le=he({eventName:j},X),xe=async()=>{const Ce=await le;ce({eventName:j,callbackId:Ce},X)},Te=new Promise(Ce=>le.then(()=>Ce({remove:xe})));return Te.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await xe()},Te},ee=new Proxy({},{get(j,X){switch(X){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return A?te:he;case"removeListener":return ce;default:return re(X)}}});return l[O]=ee,N.set(O,{name:O,proxy:ee,platforms:new Set([...Object.keys($),...A?[H]:[]])}),ee},B=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||I;return a.convertFileSrc||(a.convertFileSrc=O=>O),a.getPlatform=d,a.handleError=y,a.isNativePlatform=f,a.isPluginAvailable=b,a.pluginMethodNoop=E,a.registerPlugin=B,a.Exception=up,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},DB=n=>n.Capacitor=LB(n),ea=DB(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),sc=ea.registerPlugin;ea.Plugins;class nC{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn('Capacitor WebPlugin "'.concat(e.name,'" config object was deprecated in v3 and will be removed in v4.')),this.config=e)}addListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const s=async()=>this.removeListener(e,t),o=Promise.resolve({remove:s});return Object.defineProperty(o,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()}}),o}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t){const i=this.listeners[e];i&&i.forEach(r=>r(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:i=>{this.notifyListeners(t,i)}}}unimplemented(e="not implemented"){return new ea.Exception(e,Zo.Unimplemented)}unavailable(e="not available"){return new ea.Exception(e,Zo.Unavailable)}async removeListener(e,t){const i=this.listeners[e];if(!i)return;const r=i.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const ww=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Ew=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class qB extends nC{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[r,s]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=Ew(r).trim(),s=Ew(s).trim(),t[r]=s}),t}async setCookie(e){try{const t=ww(e.key),i=ww(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),s=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(i||"").concat(r,"; path=").concat(s,"; ").concat(o,";")}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date().toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}sc("CapacitorCookies",{web:()=>new qB});const BB=async n=>new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{const r=i.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},i.onerror=r=>t(r),i.readAsDataURL(n)}),FB=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(r=>r.toLocaleLowerCase()).reduce((r,s,o)=>(r[s]=n[e[o]],r),{})},UB=(n,e=!0)=>n?Object.entries(n).reduce((i,r)=>{const[s,o]=r;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+="".concat(s,"=").concat(a,"&")}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l="".concat(s,"=").concat(a)),"".concat(i,"&").concat(l)},"").substr(1):null,jB=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),r=FB(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(r.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,a]of Object.entries(n.data||{}))s.set(o,a);t.body=s.toString()}else if(r.includes("multipart/form-data")){const s=new FormData;if(n.data instanceof FormData)n.data.forEach((a,l)=>{s.append(l,a)});else for(const a of Object.keys(n.data))s.append(a,n.data[a]);t.body=s;const o=new Headers(t.headers);o.delete("content-type"),t.headers=o}else(r.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class zB extends nC{async request(e){const t=jB(e,e.webFetchExtra),i=UB(e.params,e.shouldEncodeUrlParams),r=i?"".concat(e.url,"?").concat(i):e.url,s=await fetch(r,t),o=s.headers.get("content-type")||"";let{responseType:a="text"}=s.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await s.blob(),l=await BB(c);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const u={};return s.headers.forEach((d,h)=>{u[h]=d}),{data:l,headers:u,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}sc("CapacitorHttp",{web:()=>new zB});class VB{constructor(e){this.sqlite=e,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(e){return Promise.reject(e)}}async saveToStore(e){try{return await this.sqlite.saveToStore({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async saveToLocalDisk(e){try{return await this.sqlite.saveToLocalDisk({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async getFromLocalDiskToStore(e){const t=e!=null?e:!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async echo(e){try{const t=await this.sqlite.echo({value:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isSecretStored(){try{const e=await this.sqlite.isSecretStored();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async setEncryptionSecret(e){try{return await this.sqlite.setEncryptionSecret({passphrase:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async changeEncryptionSecret(e,t){try{return await this.sqlite.changeEncryptionSecret({passphrase:e,oldpassphrase:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(e){return Promise.reject(e)}}async checkEncryptionSecret(e){try{const t=await this.sqlite.checkEncryptionSecret({passphrase:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async addUpgradeStatement(e,t,i){const r={toVersion:t,statements:i};try{return e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:e,upgrade:[r]}),Promise.resolve()}catch(s){return Promise.reject(s)}}async createConnection(e,t,i,r,s){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.createConnection({database:e,encrypted:t,mode:i,version:r,readonly:s});const o=new xw(e,s,this.sqlite),a=s?"RO_".concat(e):"RW_".concat(e);return this._connectionDict.set(a,o),Promise.resolve(o)}catch(o){return Promise.reject(o)}}async closeConnection(e,t){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.closeConnection({database:e,readonly:t});const i=t?"RO_".concat(e):"RW_".concat(e);return this._connectionDict.delete(i),Promise.resolve()}catch(i){return Promise.reject(i)}}async isConnection(e,t){const i={};e.endsWith(".db")&&(e=e.slice(0,-3));const r=t?"RO_".concat(e):"RW_".concat(e);return i.result=this._connectionDict.has(r),Promise.resolve(i)}async retrieveConnection(e,t){e.endsWith(".db")&&(e=e.slice(0,-3));const i=t?"RO_".concat(e):"RW_".concat(e);if(this._connectionDict.has(i)){const r=this._connectionDict.get(i);return typeof r<"u"?Promise.resolve(r):Promise.reject("Connection ".concat(e," is undefined"))}else return Promise.reject("Connection ".concat(e," does not exist"))}async getNCDatabasePath(e,t){try{const i=await this.sqlite.getNCDatabasePath({path:e,database:t});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async createNCConnection(e,t){try{await this.sqlite.createNCConnection({databasePath:e,version:t});const i=new xw(e,!0,this.sqlite),r="RO_".concat(e,")");return this._connectionDict.set(r,i),Promise.resolve(i)}catch(i){return Promise.reject(i)}}async closeNCConnection(e){try{await this.sqlite.closeNCConnection({databasePath:e});const t="RO_".concat(e,")");return this._connectionDict.delete(t),Promise.resolve()}catch(t){return Promise.reject(t)}}async isNCConnection(e){const t={},i="RO_".concat(e,")");return t.result=this._connectionDict.has(i),Promise.resolve(t)}async retrieveNCConnection(e){if(this._connectionDict.has(e)){const t="RO_".concat(e,")"),i=this._connectionDict.get(t);return typeof i<"u"?Promise.resolve(i):Promise.reject("Connection ".concat(e," is undefined"))}else return Promise.reject("Connection ".concat(e," does not exist"))}async isNCDatabase(e){try{const t=await this.sqlite.isNCDatabase({databasePath:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const e=new Map;try{for(const t of this._connectionDict.keys()){const i=t.substring(3),r=t.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:i,readonly:r}),e.set(t,null)}for(const t of e.keys())this._connectionDict.delete(t);return Promise.resolve()}catch(t){return Promise.reject(t)}}async checkConnectionsConsistency(){try{const e=[...this._connectionDict.keys()],t=[],i=[];for(const s of e)t.push(s.substring(0,2)),i.push(s.substring(3));const r=await this.sqlite.checkConnectionsConsistency({dbNames:i,openModes:t});return r.result||(this._connectionDict=new Map),Promise.resolve(r)}catch(e){return this._connectionDict=new Map,Promise.reject(e)}}async importFromJson(e){try{const t=await this.sqlite.importFromJson({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isJsonValid(e){try{const t=await this.sqlite.isJsonValid({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async copyFromAssets(e){const t=e!=null?e:!0;try{return await this.sqlite.copyFromAssets({overwrite:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async getFromHTTPRequest(e,t){const i=t!=null?t:!0;try{return await this.sqlite.getFromHTTPRequest({url:e,overwrite:i}),Promise.resolve()}catch(r){return Promise.reject(r)}}async isDatabaseEncrypted(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=await this.sqlite.isDatabaseEncrypted({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isInConfigEncryption(){try{const e=await this.sqlite.isInConfigEncryption();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isInConfigBiometricAuth(){try{const e=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isDatabase(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=await this.sqlite.isDatabase({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getDatabaseList(){try{const t=(await this.sqlite.getDatabaseList()).values;t.sort();const i={values:t};return Promise.resolve(i)}catch(e){return Promise.reject(e)}}async getMigratableDbList(e){if(!e||e.length===0)return Promise.reject("You must provide a folder path");try{const t=await this.sqlite.getMigratableDbList({folderPath:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async addSQLiteSuffix(e,t){const i=e||"default",r=t||[];try{const s=await this.sqlite.addSQLiteSuffix({folderPath:i,dbNameList:r});return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async deleteOldDatabases(e,t){const i=e||"default",r=t||[];try{const s=await this.sqlite.deleteOldDatabases({folderPath:i,dbNameList:r});return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async moveDatabasesAndAddSuffix(e,t){const i=e||"default",r=t||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:i,dbNameList:r})}}class xw{constructor(e,t,i){this.dbName=e,this.readonly=t,this.sqlite=i}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async beginTransaction(){try{const e=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async commitTransaction(){try{const e=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async rollbackTransaction(){try{const e=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTransactionActive(){try{const e=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async loadExtension(e){try{return await this.sqlite.loadExtension({database:this.dbName,path:e,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async enableLoadExtension(e){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:e,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async getUrl(){try{const e=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getVersion(){try{const e=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getTableList(){try{const e=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async execute(e,t=!0,i=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const r=await this.sqlite.execute({database:this.dbName,statements:e,transaction:t,readonly:!1,isSQL92:i});return Promise.resolve(r)}}catch(r){return Promise.reject(r)}}async query(e,t,i=!0){let r;try{return t&&t.length>0?r=await this.sqlite.query({database:this.dbName,statement:e,values:t,readonly:this.readonly,isSql92:!0}):r=await this.sqlite.query({database:this.dbName,statement:e,values:[],readonly:this.readonly,isSQL92:i}),r=await this.reorderRows(r),Promise.resolve(r)}catch(s){return Promise.reject(s)}}async run(e,t,i=!0,r="no",s=!0){let o;try{if(this.readonly)return Promise.reject("not allowed in read-only mode");if(t&&t.length>0){const a=e.toUpperCase().includes("RETURNING")?r:"no";o=await this.sqlite.run({database:this.dbName,statement:e,values:t,transaction:i,readonly:!1,returnMode:a,isSQL92:!0})}else{const a=e.toUpperCase().includes("RETURNING")?r:"no";o=await this.sqlite.run({database:this.dbName,statement:e,values:[],transaction:i,readonly:!1,returnMode:a,isSQL92:s})}return o.changes=await this.reorderRows(o.changes),Promise.resolve(o)}catch(a){return Promise.reject(a)}}async executeSet(e,t=!0,i="no",r=!0){let s;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(s=await this.sqlite.executeSet({database:this.dbName,set:e,transaction:t,readonly:!1,returnMode:i,isSQL92:r}),s.changes=await this.reorderRows(s.changes),Promise.resolve(s))}catch(o){return Promise.reject(o)}}async isExists(){try{const e=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTable(e){try{const t=await this.sqlite.isTableExists({database:this.dbName,table:e,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isDBOpen(){try{const e=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const e=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(e)}}catch(e){return Promise.reject(e)}}async setSyncDate(e){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:e,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async getSyncDate(){try{const e=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let t="";return e.syncDate>0&&(t=new Date(e.syncDate*1e3).toISOString()),Promise.resolve(t)}catch(e){return Promise.reject(e)}}async exportToJson(e,t=!1){try{const i=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:e,readonly:this.readonly,encrypted:t});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async executeTransaction(e,t=!0){let i=0,r=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");try{if(await this.sqlite.beginTransaction({database:this.dbName}),r=await this.sqlite.isTransactionActive({database:this.dbName}),!r)return Promise.reject("After Begin Transaction, no transaction active")}catch(s){return Promise.reject(s)}try{for(const o of e)if(o.values&&o.values.length>0){const a=o.statement.toUpperCase().includes("RETURNING")?"all":"no",l=await this.sqlite.run({database:this.dbName,statement:o.statement,values:o.values,transaction:!1,readonly:!1,returnMode:a,isSQL92:t});if(l.changes.changes<=0)throw new Error("Error in transaction method run ");i+=l.changes.changes}else{const a=await this.sqlite.execute({database:this.dbName,statements:o.statement,transaction:!1,readonly:!1});if(r=await this.sqlite.isTransactionActive({database:this.dbName}),a.changes.changes<0)throw new Error("Error in transaction method execute ");i+=a.changes.changes}if(r=await this.sqlite.isTransactionActive({database:this.dbName}),r){const o=await this.sqlite.commitTransaction({database:this.dbName});i+=o.changes.changes}const s={changes:{changes:i}};return Promise.resolve(s)}catch(s){const o=s.message?s.message:s;return r=await this.sqlite.isTransactionActive({database:this.dbName}),r&&await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(o)}}async reorderRows(e){const t=e;if(e!=null&&e.values&&typeof e.values[0]=="object"&&Object.keys(e.values[0]).includes("ios_columns")){const i=e.values[0].ios_columns,r=[];for(let s=1;s<e.values.length;s++){const o=e.values[s],a={};for(const l of i)a[l]=o[l];r.push(a)}t.values=r}return Promise.resolve(t)}}const HB=sc("CapacitorSQLite",{web:()=>an(()=>import("./web-21c2a4c9.js"),[]).then(n=>new n.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite});class Du{static getInheritanceTree(e){const t=[e],i=r=>{const s=Object.getPrototypeOf(r);s&&s.name&&(t.push(s),i(s))};return i(e),t}static isInherited(e,t){return e.prototype instanceof t}static filterByTarget(e,t){return t?e.filter(i=>i.target&&t.indexOf(i.target)!==-1):e}}class iC{constructor(){this.tables=[],this.trees=[],this.entityRepositories=[],this.transactionEntityManagers=[],this.transactionRepositories=[],this.namingStrategies=[],this.entitySubscribers=[],this.indices=[],this.uniques=[],this.checks=[],this.exclusions=[],this.columns=[],this.generations=[],this.relations=[],this.joinColumns=[],this.joinTables=[],this.entityListeners=[],this.relationCounts=[],this.relationIds=[],this.embeddeds=[],this.inheritances=[],this.discriminatorValues=[]}filterTables(e){return this.filterByTarget(this.tables,e)}filterColumns(e){return this.filterByTargetAndWithoutDuplicateProperties(this.columns,e)}findGenerated(e,t){return this.generations.find(i=>(Array.isArray(e)?e.indexOf(i.target)!==-1:i.target===e)&&i.propertyName===t)}findTree(e){return this.trees.find(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterRelations(e){return this.filterByTargetAndWithoutDuplicateRelationProperties(this.relations,e)}filterRelationIds(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationIds,e)}filterRelationCounts(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationCounts,e)}filterIndices(e){return this.indices.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterUniques(e){return this.uniques.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterChecks(e){return this.checks.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterExclusions(e){return this.exclusions.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterListeners(e){return this.filterByTarget(this.entityListeners,e)}filterEmbeddeds(e){return this.filterByTargetAndWithoutDuplicateEmbeddedProperties(this.embeddeds,e)}findJoinTable(e,t){return this.joinTables.find(i=>i.target===e&&i.propertyName===t)}filterJoinColumns(e,t){return this.joinColumns.filter(i=>i.target===e&&i.propertyName===t)}filterSubscribers(e){return this.filterByTarget(this.entitySubscribers,e)}filterNamingStrategies(e){return this.filterByTarget(this.namingStrategies,e)}filterTransactionEntityManagers(e,t){return this.transactionEntityManagers.filter(i=>(Array.isArray(e)?e.indexOf(i.target)!==-1:i.target===e)&&i.methodName===t)}filterTransactionRepository(e,t){return this.transactionRepositories.filter(i=>(Array.isArray(e)?e.indexOf(i.target)!==-1:i.target===e)&&i.methodName===t)}filterSingleTableChildren(e){return this.tables.filter(t=>typeof t.target=="function"&&typeof e=="function"&&Du.isInherited(t.target,e)&&t.type==="entity-child")}findInheritanceType(e){return this.inheritances.find(t=>t.target===e)}findDiscriminatorValue(e){return this.discriminatorValues.find(t=>t.target===e)}filterByTarget(e,t){return e.filter(i=>Array.isArray(t)?t.indexOf(i.target)!==-1:i.target===t)}filterByTargetAndWithoutDuplicateProperties(e,t){const i=[];return e.forEach(r=>{(Array.isArray(t)?t.indexOf(r.target)!==-1:r.target===t)&&(i.find(o=>o.propertyName===r.propertyName)||i.push(r))}),i}filterByTargetAndWithoutDuplicateRelationProperties(e,t){const i=[];return e.forEach(r=>{if(Array.isArray(t)?t.indexOf(r.target)!==-1:r.target===t){const o=i.findIndex(a=>a.propertyName===r.propertyName);if(Array.isArray(t)&&o!==-1&&t.indexOf(r.target)<t.indexOf(i[o].target)){const a=Object.create(i[o]);a.type=r.type,i[o]=a}else o===-1&&i.push(r)}}),i}filterByTargetAndWithoutDuplicateEmbeddedProperties(e,t){const i=[];return e.forEach(r=>{(Array.isArray(t)?t.indexOf(r.target)!==-1:r.target===t)&&(i.find(a=>a.prefix===r.prefix&&a.propertyName===r.propertyName)||i.push(r))}),i}}class ct{static getGlobalVariable(){return typeof window<"u"?window:global}static load(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: require("'.concat(e,'").'));return""}static pathNormalize(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: path.normalize("'.concat(e,'").'));return""}static pathExtname(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: path.extname("'.concat(e,'").'));return""}static pathResolve(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: path.resolve("'.concat(e,'").'));return""}static fileExist(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.existsSync("'.concat(e,'").'));return!1}static dotenv(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: dotenv.config({ path: "'.concat(e,'" }).'))}static getEnvVariable(e){}static readFileSync(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.readFileSync("'.concat(e,'").'));return null}static appendFileSync(e,t){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.appendFileSync("'.concat(e,'").'))}static writeFile(e,t){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.writeFile("'.concat(e,'").'));return Promise.reject(null)}static highlightSql(e){return e}static highlightJson(e){return e}static logInfo(e,t){console.info(e+" ",t)}static logError(e,t){console.error(e+" ",t)}static logWarn(e,t){console.warn(e+" ",t)}static log(e){console.log(e)}static warn(e){return e}}ct.type="browser";typeof window<"u"&&typeof require<"u"&&(window.Buffer=require("buffer/").Buffer);typeof global<"u"&&typeof require<"u"&&(global.Buffer=require("buffer/").Buffer);class Dr{static sha1(e){let t=function(I,B){return I<<B|I>>>32-B},i=function(I){let B="",O,$;for(O=7;O>=0;O--)$=I>>>O*4&15,B+=$.toString(16);return B},r,s,o,a=new Array(80),l=1732584193,c=4023233417,u=2562383102,d=271733878,h=3285377520,f,g,b,C,x,y;e=encodeURIComponent(e);let E=e.length,N=[];for(s=0;s<E-3;s+=4)o=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),N.push(o);switch(E%4){case 0:s=2147483648;break;case 1:s=e.charCodeAt(E-1)<<24|8388608;break;case 2:s=e.charCodeAt(E-2)<<24|e.charCodeAt(E-1)<<16|32768;break;case 3:s=e.charCodeAt(E-3)<<24|e.charCodeAt(E-2)<<16|e.charCodeAt(E-1)<<8|128;break}for(N.push(s);N.length%16!==14;)N.push(0);for(N.push(E>>>29),N.push(E<<3&4294967295),r=0;r<N.length;r+=16){for(s=0;s<16;s++)a[s]=N[r+s];for(s=16;s<=79;s++)a[s]=t(a[s-3]^a[s-8]^a[s-14]^a[s-16],1);for(f=l,g=c,b=u,C=d,x=h,s=0;s<=19;s++)y=t(f,5)+(g&b|~g&C)+x+a[s]+1518500249&4294967295,x=C,C=b,b=t(g,30),g=f,f=y;for(s=20;s<=39;s++)y=t(f,5)+(g^b^C)+x+a[s]+1859775393&4294967295,x=C,C=b,b=t(g,30),g=f,f=y;for(s=40;s<=59;s++)y=t(f,5)+(g&b|g&C|b&C)+x+a[s]+2400959708&4294967295,x=C,C=b,b=t(g,30),g=f,f=y;for(s=60;s<=79;s++)y=t(f,5)+(g^b^C)+x+a[s]+3395469782&4294967295,x=C,C=b,b=t(g,30),g=f,f=y;l=l+f&4294967295,c=c+g&4294967295,u=u+b&4294967295,d=d+C&4294967295,h=h+x&4294967295}return y=i(l)+i(c)+i(u)+i(d)+i(h),y.toLowerCase()}}var rC={exports:{}},Qm={exports:{}};typeof Object.create=="function"?Qm.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Qm.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}};var ca=Qm.exports,Gm={exports:{}},Vy={},Fh={};Fh.byteLength=GB;Fh.toByteArray=YB;Fh.fromByteArray=ZB;var Gi=[],ni=[],WB=typeof Uint8Array<"u"?Uint8Array:Array,dp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var oo=0,QB=dp.length;oo<QB;++oo)Gi[oo]=dp[oo],ni[dp.charCodeAt(oo)]=oo;ni["-".charCodeAt(0)]=62;ni["_".charCodeAt(0)]=63;function sC(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function GB(n){var e=sC(n),t=e[0],i=e[1];return(t+i)*3/4-i}function KB(n,e,t){return(e+t)*3/4-t}function YB(n){var e,t=sC(n),i=t[0],r=t[1],s=new WB(KB(n,i,r)),o=0,a=r>0?i-4:i,l;for(l=0;l<a;l+=4)e=ni[n.charCodeAt(l)]<<18|ni[n.charCodeAt(l+1)]<<12|ni[n.charCodeAt(l+2)]<<6|ni[n.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return r===2&&(e=ni[n.charCodeAt(l)]<<2|ni[n.charCodeAt(l+1)]>>4,s[o++]=e&255),r===1&&(e=ni[n.charCodeAt(l)]<<10|ni[n.charCodeAt(l+1)]<<4|ni[n.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function JB(n){return Gi[n>>18&63]+Gi[n>>12&63]+Gi[n>>6&63]+Gi[n&63]}function XB(n,e,t){for(var i,r=[],s=e;s<t;s+=3)i=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),r.push(JB(i));return r.join("")}function ZB(n){for(var e,t=n.length,i=t%3,r=[],s=16383,o=0,a=t-i;o<a;o+=s)r.push(XB(n,o,o+s>a?a:o+s));return i===1?(e=n[t-1],r.push(Gi[e>>2]+Gi[e<<4&63]+"==")):i===2&&(e=(n[t-2]<<8)+n[t-1],r.push(Gi[e>>10]+Gi[e>>4&63]+Gi[e<<2&63]+"=")),r.join("")}var Hy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Hy.read=function(n,e,t,i,r){var s,o,a=r*8-i-1,l=(1<<a)-1,c=l>>1,u=-7,d=t?r-1:0,h=t?-1:1,f=n[e+d];for(d+=h,s=f&(1<<-u)-1,f>>=-u,u+=a;u>0;s=s*256+n[e+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;u>0;o=o*256+n[e+d],d+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(f?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-c}return(f?-1:1)*o*Math.pow(2,s-i)};Hy.write=function(n,e,t,i,r,s){var o,a,l,c=s*8-r-1,u=(1<<c)-1,d=u>>1,h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:s-1,g=i?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=h/l:e+=h*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*l-1)*Math.pow(2,r),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;n[t+f]=a&255,f+=g,a/=256,r-=8);for(o=o<<r|a,c+=r;c>0;n[t+f]=o&255,f+=g,o/=256,c-=8);n[t+f-g]|=b*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=Fh,t=Hy,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=y,n.INSPECT_MAX_BYTES=50;const r=2147483647;n.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const S=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(S,m),S.foo()===42}catch(S){return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(S){if(S>r)throw new RangeError('The value "'+S+'" is invalid for option "size"');const m=new Uint8Array(S);return Object.setPrototypeOf(m,a.prototype),m}function a(S,m,w){if(typeof S=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(S)}return l(S,m,w)}a.poolSize=8192;function l(S,m,w){if(typeof S=="string")return h(S,m);if(ArrayBuffer.isView(S))return g(S);if(S==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S);if(Rt(S,ArrayBuffer)||S&&Rt(S.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Rt(S,SharedArrayBuffer)||S&&Rt(S.buffer,SharedArrayBuffer)))return b(S,m,w);if(typeof S=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const k=S.valueOf&&S.valueOf();if(k!=null&&k!==S)return a.from(k,m,w);const _=C(S);if(_)return _;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof S[Symbol.toPrimitive]=="function")return a.from(S[Symbol.toPrimitive]("string"),m,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof S)}a.from=function(S,m,w){return l(S,m,w)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(S){if(typeof S!="number")throw new TypeError('"size" argument must be of type number');if(S<0)throw new RangeError('The value "'+S+'" is invalid for option "size"')}function u(S,m,w){return c(S),S<=0?o(S):m!==void 0?typeof w=="string"?o(S).fill(m,w):o(S).fill(m):o(S)}a.alloc=function(S,m,w){return u(S,m,w)};function d(S){return c(S),o(S<0?0:x(S)|0)}a.allocUnsafe=function(S){return d(S)},a.allocUnsafeSlow=function(S){return d(S)};function h(S,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);const w=E(S,m)|0;let k=o(w);const _=k.write(S,m);return _!==w&&(k=k.slice(0,_)),k}function f(S){const m=S.length<0?0:x(S.length)|0,w=o(m);for(let k=0;k<m;k+=1)w[k]=S[k]&255;return w}function g(S){if(Rt(S,Uint8Array)){const m=new Uint8Array(S);return b(m.buffer,m.byteOffset,m.byteLength)}return f(S)}function b(S,m,w){if(m<0||S.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(S.byteLength<m+(w||0))throw new RangeError('"length" is outside of buffer bounds');let k;return m===void 0&&w===void 0?k=new Uint8Array(S):w===void 0?k=new Uint8Array(S,m):k=new Uint8Array(S,m,w),Object.setPrototypeOf(k,a.prototype),k}function C(S){if(a.isBuffer(S)){const m=x(S.length)|0,w=o(m);return w.length===0||S.copy(w,0,0,m),w}if(S.length!==void 0)return typeof S.length!="number"||On(S.length)?o(0):f(S);if(S.type==="Buffer"&&Array.isArray(S.data))return f(S.data)}function x(S){if(S>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return S|0}function y(S){return+S!=S&&(S=0),a.alloc(+S)}a.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==a.prototype},a.compare=function(m,w){if(Rt(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),Rt(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(m)||!a.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===w)return 0;let k=m.length,_=w.length;for(let F=0,G=Math.min(k,_);F<G;++F)if(m[F]!==w[F]){k=m[F],_=w[F];break}return k<_?-1:_<k?1:0},a.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(m,w){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return a.alloc(0);let k;if(w===void 0)for(w=0,k=0;k<m.length;++k)w+=m[k].length;const _=a.allocUnsafe(w);let F=0;for(k=0;k<m.length;++k){let G=m[k];if(Rt(G,Uint8Array))F+G.length>_.length?(a.isBuffer(G)||(G=a.from(G)),G.copy(_,F)):Uint8Array.prototype.set.call(_,G,F);else if(a.isBuffer(G))G.copy(_,F);else throw new TypeError('"list" argument must be an Array of Buffers');F+=G.length}return _};function E(S,m){if(a.isBuffer(S))return S.length;if(ArrayBuffer.isView(S)||Rt(S,ArrayBuffer))return S.byteLength;if(typeof S!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof S);const w=S.length,k=arguments.length>2&&arguments[2]===!0;if(!k&&w===0)return 0;let _=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return or(S).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return Fi(S).length;default:if(_)return k?-1:or(S).length;m=(""+m).toLowerCase(),_=!0}}a.byteLength=E;function N(S,m,w){let k=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,m>>>=0,w<=m))return"";for(S||(S="utf8");;)switch(S){case"hex":return ee(this,m,w);case"utf8":case"utf-8":return K(this,m,w);case"ascii":return ce(this,m,w);case"latin1":case"binary":return te(this,m,w);case"base64":return D(this,m,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,m,w);default:if(k)throw new TypeError("Unknown encoding: "+S);S=(S+"").toLowerCase(),k=!0}}a.prototype._isBuffer=!0;function I(S,m,w){const k=S[m];S[m]=S[w],S[w]=k}a.prototype.swap16=function(){const m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<m;w+=2)I(this,w,w+1);return this},a.prototype.swap32=function(){const m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<m;w+=4)I(this,w,w+3),I(this,w+1,w+2);return this},a.prototype.swap64=function(){const m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<m;w+=8)I(this,w,w+7),I(this,w+1,w+6),I(this,w+2,w+5),I(this,w+3,w+4);return this},a.prototype.toString=function(){const m=this.length;return m===0?"":arguments.length===0?K(this,0,m):N.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(m){if(!a.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:a.compare(this,m)===0},a.prototype.inspect=function(){let m="";const w=n.INSPECT_MAX_BYTES;return m=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(m+=" ... "),"<Buffer "+m+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(m,w,k,_,F){if(Rt(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(w===void 0&&(w=0),k===void 0&&(k=m?m.length:0),_===void 0&&(_=0),F===void 0&&(F=this.length),w<0||k>m.length||_<0||F>this.length)throw new RangeError("out of range index");if(_>=F&&w>=k)return 0;if(_>=F)return-1;if(w>=k)return 1;if(w>>>=0,k>>>=0,_>>>=0,F>>>=0,this===m)return 0;let G=F-_,ge=k-w;const ye=Math.min(G,ge),He=this.slice(_,F),rt=m.slice(w,k);for(let De=0;De<ye;++De)if(He[De]!==rt[De]){G=He[De],ge=rt[De];break}return G<ge?-1:ge<G?1:0};function B(S,m,w,k,_){if(S.length===0)return-1;if(typeof w=="string"?(k=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,On(w)&&(w=_?0:S.length-1),w<0&&(w=S.length+w),w>=S.length){if(_)return-1;w=S.length-1}else if(w<0)if(_)w=0;else return-1;if(typeof m=="string"&&(m=a.from(m,k)),a.isBuffer(m))return m.length===0?-1:O(S,m,w,k,_);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?_?Uint8Array.prototype.indexOf.call(S,m,w):Uint8Array.prototype.lastIndexOf.call(S,m,w):O(S,[m],w,k,_);throw new TypeError("val must be string, number or Buffer")}function O(S,m,w,k,_){let F=1,G=S.length,ge=m.length;if(k!==void 0&&(k=String(k).toLowerCase(),k==="ucs2"||k==="ucs-2"||k==="utf16le"||k==="utf-16le")){if(S.length<2||m.length<2)return-1;F=2,G/=2,ge/=2,w/=2}function ye(rt,De){return F===1?rt[De]:rt.readUInt16BE(De*F)}let He;if(_){let rt=-1;for(He=w;He<G;He++)if(ye(S,He)===ye(m,rt===-1?0:He-rt)){if(rt===-1&&(rt=He),He-rt+1===ge)return rt*F}else rt!==-1&&(He-=He-rt),rt=-1}else for(w+ge>G&&(w=G-ge),He=w;He>=0;He--){let rt=!0;for(let De=0;De<ge;De++)if(ye(S,He+De)!==ye(m,De)){rt=!1;break}if(rt)return He}return-1}a.prototype.includes=function(m,w,k){return this.indexOf(m,w,k)!==-1},a.prototype.indexOf=function(m,w,k){return B(this,m,w,k,!0)},a.prototype.lastIndexOf=function(m,w,k){return B(this,m,w,k,!1)};function $(S,m,w,k){w=Number(w)||0;const _=S.length-w;k?(k=Number(k),k>_&&(k=_)):k=_;const F=m.length;k>F/2&&(k=F/2);let G;for(G=0;G<k;++G){const ge=parseInt(m.substr(G*2,2),16);if(On(ge))return G;S[w+G]=ge}return G}function R(S,m,w,k){return jt(or(m,S.length-w),S,w,k)}function H(S,m,w,k){return jt(Pe(m),S,w,k)}function A(S,m,w,k){return jt(Fi(m),S,w,k)}function U(S,m,w,k){return jt(et(m,S.length-w),S,w,k)}a.prototype.write=function(m,w,k,_){if(w===void 0)_="utf8",k=this.length,w=0;else if(k===void 0&&typeof w=="string")_=w,k=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(k)?(k=k>>>0,_===void 0&&(_="utf8")):(_=k,k=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const F=this.length-w;if((k===void 0||k>F)&&(k=F),m.length>0&&(k<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");_||(_="utf8");let G=!1;for(;;)switch(_){case"hex":return $(this,m,w,k);case"utf8":case"utf-8":return R(this,m,w,k);case"ascii":case"latin1":case"binary":return H(this,m,w,k);case"base64":return A(this,m,w,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,m,w,k);default:if(G)throw new TypeError("Unknown encoding: "+_);_=(""+_).toLowerCase(),G=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function D(S,m,w){return m===0&&w===S.length?e.fromByteArray(S):e.fromByteArray(S.slice(m,w))}function K(S,m,w){w=Math.min(S.length,w);const k=[];let _=m;for(;_<w;){const F=S[_];let G=null,ge=F>239?4:F>223?3:F>191?2:1;if(_+ge<=w){let ye,He,rt,De;switch(ge){case 1:F<128&&(G=F);break;case 2:ye=S[_+1],(ye&192)===128&&(De=(F&31)<<6|ye&63,De>127&&(G=De));break;case 3:ye=S[_+1],He=S[_+2],(ye&192)===128&&(He&192)===128&&(De=(F&15)<<12|(ye&63)<<6|He&63,De>2047&&(De<55296||De>57343)&&(G=De));break;case 4:ye=S[_+1],He=S[_+2],rt=S[_+3],(ye&192)===128&&(He&192)===128&&(rt&192)===128&&(De=(F&15)<<18|(ye&63)<<12|(He&63)<<6|rt&63,De>65535&&De<1114112&&(G=De))}}G===null?(G=65533,ge=1):G>65535&&(G-=65536,k.push(G>>>10&1023|55296),G=56320|G&1023),k.push(G),_+=ge}return he(k)}const re=4096;function he(S){const m=S.length;if(m<=re)return String.fromCharCode.apply(String,S);let w="",k=0;for(;k<m;)w+=String.fromCharCode.apply(String,S.slice(k,k+=re));return w}function ce(S,m,w){let k="";w=Math.min(S.length,w);for(let _=m;_<w;++_)k+=String.fromCharCode(S[_]&127);return k}function te(S,m,w){let k="";w=Math.min(S.length,w);for(let _=m;_<w;++_)k+=String.fromCharCode(S[_]);return k}function ee(S,m,w){const k=S.length;(!m||m<0)&&(m=0),(!w||w<0||w>k)&&(w=k);let _="";for(let F=m;F<w;++F)_+=W[S[F]];return _}function j(S,m,w){const k=S.slice(m,w);let _="";for(let F=0;F<k.length-1;F+=2)_+=String.fromCharCode(k[F]+k[F+1]*256);return _}a.prototype.slice=function(m,w){const k=this.length;m=~~m,w=w===void 0?k:~~w,m<0?(m+=k,m<0&&(m=0)):m>k&&(m=k),w<0?(w+=k,w<0&&(w=0)):w>k&&(w=k),w<m&&(w=m);const _=this.subarray(m,w);return Object.setPrototypeOf(_,a.prototype),_};function X(S,m,w){if(S%1!==0||S<0)throw new RangeError("offset is not uint");if(S+m>w)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(m,w,k){m=m>>>0,w=w>>>0,k||X(m,w,this.length);let _=this[m],F=1,G=0;for(;++G<w&&(F*=256);)_+=this[m+G]*F;return _},a.prototype.readUintBE=a.prototype.readUIntBE=function(m,w,k){m=m>>>0,w=w>>>0,k||X(m,w,this.length);let _=this[m+--w],F=1;for(;w>0&&(F*=256);)_+=this[m+--w]*F;return _},a.prototype.readUint8=a.prototype.readUInt8=function(m,w){return m=m>>>0,w||X(m,1,this.length),this[m]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(m,w){return m=m>>>0,w||X(m,2,this.length),this[m]|this[m+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(m,w){return m=m>>>0,w||X(m,2,this.length),this[m]<<8|this[m+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(m,w){return m=m>>>0,w||X(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(m,w){return m=m>>>0,w||X(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},a.prototype.readBigUInt64LE=ie(function(m){m=m>>>0,In(m,"offset");const w=this[m],k=this[m+7];(w===void 0||k===void 0)&&ft(m,this.length-8);const _=w+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,F=this[++m]+this[++m]*2**8+this[++m]*2**16+k*2**24;return BigInt(_)+(BigInt(F)<<BigInt(32))}),a.prototype.readBigUInt64BE=ie(function(m){m=m>>>0,In(m,"offset");const w=this[m],k=this[m+7];(w===void 0||k===void 0)&&ft(m,this.length-8);const _=w*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],F=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+k;return(BigInt(_)<<BigInt(32))+BigInt(F)}),a.prototype.readIntLE=function(m,w,k){m=m>>>0,w=w>>>0,k||X(m,w,this.length);let _=this[m],F=1,G=0;for(;++G<w&&(F*=256);)_+=this[m+G]*F;return F*=128,_>=F&&(_-=Math.pow(2,8*w)),_},a.prototype.readIntBE=function(m,w,k){m=m>>>0,w=w>>>0,k||X(m,w,this.length);let _=w,F=1,G=this[m+--_];for(;_>0&&(F*=256);)G+=this[m+--_]*F;return F*=128,G>=F&&(G-=Math.pow(2,8*w)),G},a.prototype.readInt8=function(m,w){return m=m>>>0,w||X(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},a.prototype.readInt16LE=function(m,w){m=m>>>0,w||X(m,2,this.length);const k=this[m]|this[m+1]<<8;return k&32768?k|4294901760:k},a.prototype.readInt16BE=function(m,w){m=m>>>0,w||X(m,2,this.length);const k=this[m+1]|this[m]<<8;return k&32768?k|4294901760:k},a.prototype.readInt32LE=function(m,w){return m=m>>>0,w||X(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},a.prototype.readInt32BE=function(m,w){return m=m>>>0,w||X(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},a.prototype.readBigInt64LE=ie(function(m){m=m>>>0,In(m,"offset");const w=this[m],k=this[m+7];(w===void 0||k===void 0)&&ft(m,this.length-8);const _=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(k<<24);return(BigInt(_)<<BigInt(32))+BigInt(w+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),a.prototype.readBigInt64BE=ie(function(m){m=m>>>0,In(m,"offset");const w=this[m],k=this[m+7];(w===void 0||k===void 0)&&ft(m,this.length-8);const _=(w<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt(_)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+k)}),a.prototype.readFloatLE=function(m,w){return m=m>>>0,w||X(m,4,this.length),t.read(this,m,!0,23,4)},a.prototype.readFloatBE=function(m,w){return m=m>>>0,w||X(m,4,this.length),t.read(this,m,!1,23,4)},a.prototype.readDoubleLE=function(m,w){return m=m>>>0,w||X(m,8,this.length),t.read(this,m,!0,52,8)},a.prototype.readDoubleBE=function(m,w){return m=m>>>0,w||X(m,8,this.length),t.read(this,m,!1,52,8)};function le(S,m,w,k,_,F){if(!a.isBuffer(S))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>_||m<F)throw new RangeError('"value" argument is out of bounds');if(w+k>S.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(m,w,k,_){if(m=+m,w=w>>>0,k=k>>>0,!_){const ge=Math.pow(2,8*k)-1;le(this,m,w,k,ge,0)}let F=1,G=0;for(this[w]=m&255;++G<k&&(F*=256);)this[w+G]=m/F&255;return w+k},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(m,w,k,_){if(m=+m,w=w>>>0,k=k>>>0,!_){const ge=Math.pow(2,8*k)-1;le(this,m,w,k,ge,0)}let F=k-1,G=1;for(this[w+F]=m&255;--F>=0&&(G*=256);)this[w+F]=m/G&255;return w+k},a.prototype.writeUint8=a.prototype.writeUInt8=function(m,w,k){return m=+m,w=w>>>0,k||le(this,m,w,1,255,0),this[w]=m&255,w+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(m,w,k){return m=+m,w=w>>>0,k||le(this,m,w,2,65535,0),this[w]=m&255,this[w+1]=m>>>8,w+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(m,w,k){return m=+m,w=w>>>0,k||le(this,m,w,2,65535,0),this[w]=m>>>8,this[w+1]=m&255,w+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(m,w,k){return m=+m,w=w>>>0,k||le(this,m,w,4,4294967295,0),this[w+3]=m>>>24,this[w+2]=m>>>16,this[w+1]=m>>>8,this[w]=m&255,w+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(m,w,k){return m=+m,w=w>>>0,k||le(this,m,w,4,4294967295,0),this[w]=m>>>24,this[w+1]=m>>>16,this[w+2]=m>>>8,this[w+3]=m&255,w+4};function xe(S,m,w,k,_){Dt(m,k,_,S,w,7);let F=Number(m&BigInt(4294967295));S[w++]=F,F=F>>8,S[w++]=F,F=F>>8,S[w++]=F,F=F>>8,S[w++]=F;let G=Number(m>>BigInt(32)&BigInt(4294967295));return S[w++]=G,G=G>>8,S[w++]=G,G=G>>8,S[w++]=G,G=G>>8,S[w++]=G,w}function Te(S,m,w,k,_){Dt(m,k,_,S,w,7);let F=Number(m&BigInt(4294967295));S[w+7]=F,F=F>>8,S[w+6]=F,F=F>>8,S[w+5]=F,F=F>>8,S[w+4]=F;let G=Number(m>>BigInt(32)&BigInt(4294967295));return S[w+3]=G,G=G>>8,S[w+2]=G,G=G>>8,S[w+1]=G,G=G>>8,S[w]=G,w+8}a.prototype.writeBigUInt64LE=ie(function(m,w=0){return xe(this,m,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ie(function(m,w=0){return Te(this,m,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(m,w,k,_){if(m=+m,w=w>>>0,!_){const ye=Math.pow(2,8*k-1);le(this,m,w,k,ye-1,-ye)}let F=0,G=1,ge=0;for(this[w]=m&255;++F<k&&(G*=256);)m<0&&ge===0&&this[w+F-1]!==0&&(ge=1),this[w+F]=(m/G>>0)-ge&255;return w+k},a.prototype.writeIntBE=function(m,w,k,_){if(m=+m,w=w>>>0,!_){const ye=Math.pow(2,8*k-1);le(this,m,w,k,ye-1,-ye)}let F=k-1,G=1,ge=0;for(this[w+F]=m&255;--F>=0&&(G*=256);)m<0&&ge===0&&this[w+F+1]!==0&&(ge=1),this[w+F]=(m/G>>0)-ge&255;return w+k},a.prototype.writeInt8=function(m,w,k){return m=+m,w=w>>>0,k||le(this,m,w,1,127,-128),m<0&&(m=255+m+1),this[w]=m&255,w+1},a.prototype.writeInt16LE=function(m,w,k){return m=+m,w=w>>>0,k||le(this,m,w,2,32767,-32768),this[w]=m&255,this[w+1]=m>>>8,w+2},a.prototype.writeInt16BE=function(m,w,k){return m=+m,w=w>>>0,k||le(this,m,w,2,32767,-32768),this[w]=m>>>8,this[w+1]=m&255,w+2},a.prototype.writeInt32LE=function(m,w,k){return m=+m,w=w>>>0,k||le(this,m,w,4,2147483647,-2147483648),this[w]=m&255,this[w+1]=m>>>8,this[w+2]=m>>>16,this[w+3]=m>>>24,w+4},a.prototype.writeInt32BE=function(m,w,k){return m=+m,w=w>>>0,k||le(this,m,w,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[w]=m>>>24,this[w+1]=m>>>16,this[w+2]=m>>>8,this[w+3]=m&255,w+4},a.prototype.writeBigInt64LE=ie(function(m,w=0){return xe(this,m,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ie(function(m,w=0){return Te(this,m,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(S,m,w,k,_,F){if(w+k>S.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function Re(S,m,w,k,_){return m=+m,w=w>>>0,_||Ce(S,m,w,4),t.write(S,m,w,k,23,4),w+4}a.prototype.writeFloatLE=function(m,w,k){return Re(this,m,w,!0,k)},a.prototype.writeFloatBE=function(m,w,k){return Re(this,m,w,!1,k)};function _e(S,m,w,k,_){return m=+m,w=w>>>0,_||Ce(S,m,w,8),t.write(S,m,w,k,52,8),w+8}a.prototype.writeDoubleLE=function(m,w,k){return _e(this,m,w,!0,k)},a.prototype.writeDoubleBE=function(m,w,k){return _e(this,m,w,!1,k)},a.prototype.copy=function(m,w,k,_){if(!a.isBuffer(m))throw new TypeError("argument should be a Buffer");if(k||(k=0),!_&&_!==0&&(_=this.length),w>=m.length&&(w=m.length),w||(w=0),_>0&&_<k&&(_=k),_===k||m.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(k<0||k>=this.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("sourceEnd out of bounds");_>this.length&&(_=this.length),m.length-w<_-k&&(_=m.length-w+k);const F=_-k;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(w,k,_):Uint8Array.prototype.set.call(m,this.subarray(k,_),w),F},a.prototype.fill=function(m,w,k,_){if(typeof m=="string"){if(typeof w=="string"?(_=w,w=0,k=this.length):typeof k=="string"&&(_=k,k=this.length),_!==void 0&&typeof _!="string")throw new TypeError("encoding must be a string");if(typeof _=="string"&&!a.isEncoding(_))throw new TypeError("Unknown encoding: "+_);if(m.length===1){const G=m.charCodeAt(0);(_==="utf8"&&G<128||_==="latin1")&&(m=G)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(w<0||this.length<w||this.length<k)throw new RangeError("Out of range index");if(k<=w)return this;w=w>>>0,k=k===void 0?this.length:k>>>0,m||(m=0);let F;if(typeof m=="number")for(F=w;F<k;++F)this[F]=m;else{const G=a.isBuffer(m)?m:a.from(m,_),ge=G.length;if(ge===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(F=0;F<k-w;++F)this[F+w]=G[F%ge]}return this};const ht={};function wt(S,m,w){ht[S]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(S,"]"),this.stack,delete this.name}get code(){return S}set code(_){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:_,writable:!0})}toString(){return"".concat(this.name," [").concat(S,"]: ").concat(this.message)}}}wt("ERR_BUFFER_OUT_OF_BOUNDS",function(S){return S?"".concat(S," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),wt("ERR_INVALID_ARG_TYPE",function(S,m){return'The "'.concat(S,'" argument must be of type number. Received type ').concat(typeof m)},TypeError),wt("ERR_OUT_OF_RANGE",function(S,m,w){let k='The value of "'.concat(S,'" is out of range.'),_=w;return Number.isInteger(w)&&Math.abs(w)>2**32?_=mn(String(w)):typeof w=="bigint"&&(_=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(_=mn(_)),_+="n"),k+=" It must be ".concat(m,". Received ").concat(_),k},RangeError);function mn(S){let m="",w=S.length;const k=S[0]==="-"?1:0;for(;w>=k+4;w-=3)m="_".concat(S.slice(w-3,w)).concat(m);return"".concat(S.slice(0,w)).concat(m)}function tn(S,m,w){In(m,"offset"),(S[m]===void 0||S[m+w]===void 0)&&ft(m,S.length-(w+1))}function Dt(S,m,w,k,_,F){if(S>w||S<m){const G=typeof m=="bigint"?"n":"";let ge;throw F>3?m===0||m===BigInt(0)?ge=">= 0".concat(G," and < 2").concat(G," ** ").concat((F+1)*8).concat(G):ge=">= -(2".concat(G," ** ").concat((F+1)*8-1).concat(G,") and < 2 ** ")+"".concat((F+1)*8-1).concat(G):ge=">= ".concat(m).concat(G," and <= ").concat(w).concat(G),new ht.ERR_OUT_OF_RANGE("value",ge,S)}tn(k,_,F)}function In(S,m){if(typeof S!="number")throw new ht.ERR_INVALID_ARG_TYPE(m,"number",S)}function ft(S,m,w){throw Math.floor(S)!==S?(In(S,w),new ht.ERR_OUT_OF_RANGE(w||"offset","an integer",S)):m<0?new ht.ERR_BUFFER_OUT_OF_BOUNDS:new ht.ERR_OUT_OF_RANGE(w||"offset",">= ".concat(w?1:0," and <= ").concat(m),S)}const sr=/[^+/0-9A-Za-z-_]/g;function $r(S){if(S=S.split("=")[0],S=S.trim().replace(sr,""),S.length<2)return"";for(;S.length%4!==0;)S=S+"=";return S}function or(S,m){m=m||1/0;let w;const k=S.length;let _=null;const F=[];for(let G=0;G<k;++G){if(w=S.charCodeAt(G),w>55295&&w<57344){if(!_){if(w>56319){(m-=3)>-1&&F.push(239,191,189);continue}else if(G+1===k){(m-=3)>-1&&F.push(239,191,189);continue}_=w;continue}if(w<56320){(m-=3)>-1&&F.push(239,191,189),_=w;continue}w=(_-55296<<10|w-56320)+65536}else _&&(m-=3)>-1&&F.push(239,191,189);if(_=null,w<128){if((m-=1)<0)break;F.push(w)}else if(w<2048){if((m-=2)<0)break;F.push(w>>6|192,w&63|128)}else if(w<65536){if((m-=3)<0)break;F.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((m-=4)<0)break;F.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return F}function Pe(S){const m=[];for(let w=0;w<S.length;++w)m.push(S.charCodeAt(w)&255);return m}function et(S,m){let w,k,_;const F=[];for(let G=0;G<S.length&&!((m-=2)<0);++G)w=S.charCodeAt(G),k=w>>8,_=w%256,F.push(_),F.push(k);return F}function Fi(S){return e.toByteArray($r(S))}function jt(S,m,w,k){let _;for(_=0;_<k&&!(_+w>=m.length||_>=S.length);++_)m[_+w]=S[_];return _}function Rt(S,m){return S instanceof m||S!=null&&S.constructor!=null&&S.constructor.name!=null&&S.constructor.name===m.name}function On(S){return S!==S}const W=function(){const S="0123456789abcdef",m=new Array(256);for(let w=0;w<16;++w){const k=w*16;for(let _=0;_<16;++_)m[k+_]=S[w]+S[_]}return m}();function ie(S){return typeof BigInt>"u"?ue:S}function ue(){throw new Error("BigInt not supported")}})(Vy);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,e){var t=Vy,i=t.Buffer;function r(o,a){for(var l in o)a[l]=o[l]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?n.exports=t:(r(t,e),e.Buffer=s);function s(o,a,l){return i(o,a,l)}s.prototype=Object.create(i.prototype),r(i,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=i(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}})(Gm,Gm.exports);var Zs=Gm.exports,oC=Zs.Buffer;function Uh(n,e){this._block=oC.alloc(n),this._finalSize=e,this._blockSize=n,this._len=0}Uh.prototype.update=function(n,e){typeof n=="string"&&(e=e||"utf8",n=oC.from(n,e));for(var t=this._block,i=this._blockSize,r=n.length,s=this._len,o=0;o<r;){for(var a=s%i,l=Math.min(r-o,i-a),c=0;c<l;c++)t[a+c]=n[o+c];s+=l,o+=l,s%i===0&&this._update(t)}return this._len+=r,this};Uh.prototype.digest=function(n){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var t=this._len*8;if(t<=4294967295)this._block.writeUInt32BE(t,this._blockSize-4);else{var i=(t&4294967295)>>>0,r=(t-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=this._hash();return n?s.toString(n):s};Uh.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var ua=Uh,e3=ca,aC=ua,t3=Zs.Buffer,n3=[1518500249,1859775393,-1894007588,-899497514],i3=new Array(80);function oc(){this.init(),this._w=i3,aC.call(this,64,56)}e3(oc,aC);oc.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function r3(n){return n<<5|n>>>27}function s3(n){return n<<30|n>>>2}function o3(n,e,t,i){return n===0?e&t|~e&i:n===2?e&t|e&i|t&i:e^t^i}oc.prototype._update=function(n){for(var e=this._w,t=this._a|0,i=this._b|0,r=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=n.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var l=0;l<80;++l){var c=~~(l/20),u=r3(t)+o3(c,i,r,s)+o+e[l]+n3[c]|0;o=s,s=r,r=s3(i),i=t,t=u}this._a=t+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};oc.prototype._hash=function(){var n=t3.allocUnsafe(20);return n.writeInt32BE(this._a|0,0),n.writeInt32BE(this._b|0,4),n.writeInt32BE(this._c|0,8),n.writeInt32BE(this._d|0,12),n.writeInt32BE(this._e|0,16),n};var a3=oc,l3=ca,lC=ua,c3=Zs.Buffer,u3=[1518500249,1859775393,-1894007588,-899497514],d3=new Array(80);function ac(){this.init(),this._w=d3,lC.call(this,64,56)}l3(ac,lC);ac.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function h3(n){return n<<1|n>>>31}function f3(n){return n<<5|n>>>27}function p3(n){return n<<30|n>>>2}function m3(n,e,t,i){return n===0?e&t|~e&i:n===2?e&t|e&i|t&i:e^t^i}ac.prototype._update=function(n){for(var e=this._w,t=this._a|0,i=this._b|0,r=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=n.readInt32BE(a*4);for(;a<80;++a)e[a]=h3(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var l=0;l<80;++l){var c=~~(l/20),u=f3(t)+m3(c,i,r,s)+o+e[l]+u3[c]|0;o=s,s=r,r=p3(i),i=t,t=u}this._a=t+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};ac.prototype._hash=function(){var n=c3.allocUnsafe(20);return n.writeInt32BE(this._a|0,0),n.writeInt32BE(this._b|0,4),n.writeInt32BE(this._c|0,8),n.writeInt32BE(this._d|0,12),n.writeInt32BE(this._e|0,16),n};var g3=ac,y3=ca,cC=ua,b3=Zs.Buffer,v3=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],w3=new Array(64);function lc(){this.init(),this._w=w3,cC.call(this,64,56)}y3(lc,cC);lc.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function E3(n,e,t){return t^n&(e^t)}function x3(n,e,t){return n&e|t&(n|e)}function T3(n){return(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10)}function S3(n){return(n>>>6|n<<26)^(n>>>11|n<<21)^(n>>>25|n<<7)}function C3(n){return(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3}function A3(n){return(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10}lc.prototype._update=function(n){for(var e=this._w,t=this._a|0,i=this._b|0,r=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,l=this._g|0,c=this._h|0,u=0;u<16;++u)e[u]=n.readInt32BE(u*4);for(;u<64;++u)e[u]=A3(e[u-2])+e[u-7]+C3(e[u-15])+e[u-16]|0;for(var d=0;d<64;++d){var h=c+S3(o)+E3(o,a,l)+v3[d]+e[d]|0,f=T3(t)+x3(t,i,r)|0;c=l,l=a,a=o,o=s+h|0,s=r,r=i,i=t,t=h+f|0}this._a=t+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=l+this._g|0,this._h=c+this._h|0};lc.prototype._hash=function(){var n=b3.allocUnsafe(32);return n.writeInt32BE(this._a,0),n.writeInt32BE(this._b,4),n.writeInt32BE(this._c,8),n.writeInt32BE(this._d,12),n.writeInt32BE(this._e,16),n.writeInt32BE(this._f,20),n.writeInt32BE(this._g,24),n.writeInt32BE(this._h,28),n};var uC=lc,N3=ca,k3=uC,R3=ua,P3=Zs.Buffer,$3=new Array(64);function jh(){this.init(),this._w=$3,R3.call(this,64,56)}N3(jh,k3);jh.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};jh.prototype._hash=function(){var n=P3.allocUnsafe(28);return n.writeInt32BE(this._a,0),n.writeInt32BE(this._b,4),n.writeInt32BE(this._c,8),n.writeInt32BE(this._d,12),n.writeInt32BE(this._e,16),n.writeInt32BE(this._f,20),n.writeInt32BE(this._g,24),n};var M3=jh,I3=ca,dC=ua,O3=Zs.Buffer,Tw=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],_3=new Array(160);function cc(){this.init(),this._w=_3,dC.call(this,128,112)}I3(cc,dC);cc.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Sw(n,e,t){return t^n&(e^t)}function Cw(n,e,t){return n&e|t&(n|e)}function Aw(n,e){return(n>>>28|e<<4)^(e>>>2|n<<30)^(e>>>7|n<<25)}function Nw(n,e){return(n>>>14|e<<18)^(n>>>18|e<<14)^(e>>>9|n<<23)}function L3(n,e){return(n>>>1|e<<31)^(n>>>8|e<<24)^n>>>7}function D3(n,e){return(n>>>1|e<<31)^(n>>>8|e<<24)^(n>>>7|e<<25)}function q3(n,e){return(n>>>19|e<<13)^(e>>>29|n<<3)^n>>>6}function B3(n,e){return(n>>>19|e<<13)^(e>>>29|n<<3)^(n>>>6|e<<26)}function zt(n,e){return n>>>0<e>>>0?1:0}cc.prototype._update=function(n){for(var e=this._w,t=this._ah|0,i=this._bh|0,r=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,l=this._gh|0,c=this._hh|0,u=this._al|0,d=this._bl|0,h=this._cl|0,f=this._dl|0,g=this._el|0,b=this._fl|0,C=this._gl|0,x=this._hl|0,y=0;y<32;y+=2)e[y]=n.readInt32BE(y*4),e[y+1]=n.readInt32BE(y*4+4);for(;y<160;y+=2){var E=e[y-30],N=e[y-15*2+1],I=L3(E,N),B=D3(N,E);E=e[y-2*2],N=e[y-2*2+1];var O=q3(E,N),$=B3(N,E),R=e[y-7*2],H=e[y-7*2+1],A=e[y-16*2],U=e[y-16*2+1],D=B+H|0,K=I+R+zt(D,B)|0;D=D+$|0,K=K+O+zt(D,$)|0,D=D+U|0,K=K+A+zt(D,U)|0,e[y]=K,e[y+1]=D}for(var re=0;re<160;re+=2){K=e[re],D=e[re+1];var he=Cw(t,i,r),ce=Cw(u,d,h),te=Aw(t,u),ee=Aw(u,t),j=Nw(o,g),X=Nw(g,o),le=Tw[re],xe=Tw[re+1],Te=Sw(o,a,l),Ce=Sw(g,b,C),Re=x+X|0,_e=c+j+zt(Re,x)|0;Re=Re+Ce|0,_e=_e+Te+zt(Re,Ce)|0,Re=Re+xe|0,_e=_e+le+zt(Re,xe)|0,Re=Re+D|0,_e=_e+K+zt(Re,D)|0;var ht=ee+ce|0,wt=te+he+zt(ht,ee)|0;c=l,x=C,l=a,C=b,a=o,b=g,g=f+Re|0,o=s+_e+zt(g,f)|0,s=r,f=h,r=i,h=d,i=t,d=u,u=Re+ht|0,t=_e+wt+zt(u,Re)|0}this._al=this._al+u|0,this._bl=this._bl+d|0,this._cl=this._cl+h|0,this._dl=this._dl+f|0,this._el=this._el+g|0,this._fl=this._fl+b|0,this._gl=this._gl+C|0,this._hl=this._hl+x|0,this._ah=this._ah+t+zt(this._al,u)|0,this._bh=this._bh+i+zt(this._bl,d)|0,this._ch=this._ch+r+zt(this._cl,h)|0,this._dh=this._dh+s+zt(this._dl,f)|0,this._eh=this._eh+o+zt(this._el,g)|0,this._fh=this._fh+a+zt(this._fl,b)|0,this._gh=this._gh+l+zt(this._gl,C)|0,this._hh=this._hh+c+zt(this._hl,x)|0};cc.prototype._hash=function(){var n=O3.allocUnsafe(64);function e(t,i,r){n.writeInt32BE(t,r),n.writeInt32BE(i,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),n};var hC=cc,F3=ca,U3=hC,j3=ua,z3=Zs.Buffer,V3=new Array(160);function zh(){this.init(),this._w=V3,j3.call(this,128,112)}F3(zh,U3);zh.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};zh.prototype._hash=function(){var n=z3.allocUnsafe(48);function e(t,i,r){n.writeInt32BE(t,r),n.writeInt32BE(i,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),n};var H3=zh,eo=rC.exports=function(e){e=e.toLowerCase();var t=eo[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};eo.sha=a3;eo.sha1=g3;eo.sha224=M3;eo.sha256=uC;eo.sha384=H3;eo.sha512=hC;var W3=rC.exports;const Q3=us(W3);function hp(n,e=!1){return e&&(n=" "+n),n.replace(/^([A-Z])|[\s-_](\w)/g,function(t,i,r){return r?r.toUpperCase():i.toLowerCase()})}function kw(n){return n.replace(/([A-Z])([A-Z])([a-z])/g,"$1_$2$3").replace(/([a-z0-9])([A-Z])/g,"$1_$2").toLowerCase()}function G3(n){return n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}function fC(n,e={}){const{segmentLength:t=4,separator:i="__",termLength:r=2}=e;return n.split(i).reduce((a,l)=>{const c=l.replace(/([a-z\xE0-\xFF])([A-Z\xC0-\xDF])/g,"$1 $2").split(" "),u=c.length>1?r:t,d=c.map(h=>h.substr(0,u)).join("");return a.push(d),a},[]).join(i)}function K3(n,e={}){const t=Q3("sha1");t.update(n,"utf8");const i=t.digest("hex");return e.length?i.slice(0,e.length):i}class Y3{constructor(){this.nestedSetColumnNames={left:"nsleft",right:"nsright"},this.materializedPathColumnName="mpath"}getTableName(e){return typeof e!="string"&&(e=e.name),e.split(".").pop()}tableName(e,t){return t||kw(e)}closureJunctionTableName(e){return e+"_closure"}columnName(e,t,i){const r=t||e;return i.length?hp(i.join("_"))+G3(r):r}relationName(e){return e}primaryKeyName(e,t){const i=[...t];i.sort();const s=this.getTableName(e).replace(".","_"),o="".concat(s,"_").concat(i.join("_"));return"PK_"+Dr.sha1(o).substr(0,27)}uniqueConstraintName(e,t){const i=[...t];i.sort();const s=this.getTableName(e).replace(".","_"),o="".concat(s,"_").concat(i.join("_"));return"UQ_"+Dr.sha1(o).substr(0,27)}relationConstraintName(e,t,i){const r=[...t];r.sort();const o=this.getTableName(e).replace(".","_");let a="".concat(o,"_").concat(r.join("_"));return i&&(a+="_".concat(i)),"REL_"+Dr.sha1(a).substr(0,26)}defaultConstraintName(e,t){const r=this.getTableName(e).replace(".","_"),s="".concat(r,"_").concat(t);return"DF_"+Dr.sha1(s).substr(0,27)}foreignKeyName(e,t,i,r){const s=[...t];s.sort();const a=this.getTableName(e).replace(".","_"),l="".concat(a,"_").concat(s.join("_"));return"FK_"+Dr.sha1(l).substr(0,27)}indexName(e,t,i){const r=[...t];r.sort();const o=this.getTableName(e).replace(".","_");let a="".concat(o,"_").concat(r.join("_"));return i&&(a+="_".concat(i)),"IDX_"+Dr.sha1(a).substr(0,26)}checkConstraintName(e,t,i){const s=this.getTableName(e).replace(".","_"),o="".concat(s,"_").concat(t),a="CHK_"+Dr.sha1(o).substr(0,26);return i?"".concat(a,"_ENUM"):a}exclusionConstraintName(e,t){const r=this.getTableName(e).replace(".","_"),s="".concat(r,"_").concat(t);return"XCL_"+Dr.sha1(s).substr(0,26)}joinColumnName(e,t){return hp(e+"_"+t)}joinTableName(e,t,i,r){return kw(e+"_"+i.replace(/\./gi,"_")+"_"+t)}joinTableColumnDuplicationPrefix(e,t){return e+"_"+t}joinTableColumnName(e,t,i){return hp(e+"_"+(i||t))}joinTableInverseColumnName(e,t,i){return this.joinTableColumnName(e,t,i)}prefixTableName(e,t){return e+t}eagerJoinRelationAlias(e,t){return e+"_"+t.replace(".","_")}}class q extends Error{get name(){return this.constructor.name}constructor(e){super(e),Object.setPrototypeOf?Object.setPrototypeOf(this,new.target.prototype):this.__proto__=new.target.prototype}}class su extends q{constructor(e){super("Internal error. Subject ".concat(e.metadata.targetName," must have an identifier to perform operation."))}}class J3 extends q{constructor(e){super('Cannot create a "'.concat(e,'" connection because connection to the database already established.'))}}class ao extends q{constructor(){super("Locking not supported on given driver.")}}class X3 extends q{constructor(e,t){super();const i=e.primaryColumns.reduce((r,s,o)=>(s.setEntityValue(r,o+1),r),{});this.message='Cannot use given entity id "'.concat(t,'" because "').concat(e.targetName,'" contains multiple primary columns, you must provide object in following form: ').concat(JSON.stringify(i)," as an id.")}}class Z3 extends q{constructor(e){super("Cannot ".concat(e,", given value must be instance of entity class, ")+"instead object literal is given. Or you must specify an entity target to method call.")}}class eF extends q{constructor(e){super("Tree repositories are not supported in ".concat(e.options.type," driver."))}}class pC extends q{constructor(e){super("Custom repository ".concat(typeof e=="function"?e.name:e.constructor.name," was not found. ")+"Did you forgot to put @EntityRepository decorator on it?")}}class mi extends q{constructor(){super("Transaction is not started yet, start transaction before committing or rolling it back.")}}class tF extends q{constructor(){super("Transaction already started for the given connection, commit current transaction before starting a new one.")}}class Be{static isObject(e){return e!==null&&typeof e=="object"}static isObjectWithName(e){return e!==null&&typeof e=="object"&&e.name!==void 0}static assign(e,...t){for(const i of t)for(const r of Object.getOwnPropertyNames(i))e[r]=i[r]}static mixedListToArray(e){return e!==null&&typeof e=="object"?Object.keys(e).map(t=>e[t]):e}}class V{static isMssqlParameter(e){return this.check(e,"MssqlParameter")}static isEntityMetadata(e){return this.check(e,"EntityMetadata")}static isColumnMetadata(e){return this.check(e,"ColumnMetadata")}static isSelectQueryBuilder(e){return this.check(e,"SelectQueryBuilder")}static isInsertQueryBuilder(e){return this.check(e,"InsertQueryBuilder")}static isDeleteQueryBuilder(e){return this.check(e,"DeleteQueryBuilder")}static isUpdateQueryBuilder(e){return this.check(e,"UpdateQueryBuilder")}static isSoftDeleteQueryBuilder(e){return this.check(e,"SoftDeleteQueryBuilder")}static isRelationQueryBuilder(e){return this.check(e,"RelationQueryBuilder")}static isBrackets(e){return this.check(e,"Brackets")||this.check(e,"NotBrackets")}static isNotBrackets(e){return this.check(e,"NotBrackets")}static isSubject(e){return this.check(e,"Subject")}static isRdbmsSchemaBuilder(e){return this.check(e,"RdbmsSchemaBuilder")}static isMongoEntityManager(e){return this.check(e,"MongoEntityManager")}static isSqljsEntityManager(e){return this.check(e,"SqljsEntityManager")}static isEntitySchema(e){return this.check(e,"EntitySchema")}static isBaseEntityConstructor(e){return typeof e=="function"&&typeof e.hasId=="function"&&typeof e.save=="function"&&typeof e.useDataSource=="function"}static isFindOperator(e){return this.check(e,"FindOperator")||this.check(e,"EqualOperator")}static isEqualOperator(e){return this.check(e,"EqualOperator")}static isQuery(e){return this.check(e,"Query")}static isTable(e){return this.check(e,"Table")}static isTableCheck(e){return this.check(e,"TableCheck")}static isTableColumn(e){return this.check(e,"TableColumn")}static isTableExclusion(e){return this.check(e,"TableExclusion")}static isTableForeignKey(e){return this.check(e,"TableForeignKey")}static isTableIndex(e){return this.check(e,"TableIndex")}static isTableUnique(e){return this.check(e,"TableUnique")}static isView(e){return this.check(e,"View")}static isDataSource(e){return this.check(e,"DataSource")}static check(e,t){return typeof e=="object"&&e!==null&&e["@instanceof"]===Symbol.for(t)}}class Km extends q{constructor(e,t){super(),this.message='Could not find any entity of type "'.concat(this.stringifyTarget(e),'" ')+"matching: ".concat(this.stringifyCriteria(t))}stringifyTarget(e){return V.isEntitySchema(e)?e.options.name:typeof e=="function"||Be.isObject(e)&&"name"in e?e.name:e}stringifyCriteria(e){try{return JSON.stringify(e,null,4)}catch(t){}return""+e}}class nF extends q{constructor(e){super(),this.message='No metadata for "'.concat(this.stringifyTarget(e),'" was found.')}stringifyTarget(e){return V.isEntitySchema(e)?e.options.name:typeof e=="function"||Be.isObject(e)&&"name"in e?e.name:e}}class iF extends q{constructor(e,t){super("Cannot ".concat(e,', given value must be an entity, instead "').concat(t,'" is given.'))}}class Rw extends q{constructor(e,t,i){super("The optimistic lock on entity ".concat(e," failed, version ").concat(t," was expected, but is actually ").concat(i,"."))}}class rF extends q{constructor(e,t){super("Primary column ".concat(e.constructor.name,"#").concat(t," cannot be nullable. ")+"Its not allowed for primary keys. Try to remove nullable option.")}}class sF extends q{constructor(e){super("Custom entity repository ".concat(typeof e=="function"?e.name:e.constructor.name," ")+" cannot inherit Repository class without entity being set in the @EntityRepository decorator.")}}class mC extends q{constructor(){super("Database connection provided by a query runner was already released, cannot continue to use its querying methods anymore.")}}class Pw extends q{constructor(e){super('Cannot attach entity "'.concat(e,'" to its parent. Please make sure parent ')+"is saved in the database before saving children nodes.")}}class fp extends q{constructor(e){super("Custom repository ".concat(typeof e=="function"?e.name:e.constructor.name," does not have managed entity. ")+"Did you forget to specify entity for it @EntityRepository(MyEntity)? ")}}class oF extends q{constructor(e){super("Circular relations detected: ".concat(e,". To resolve this issue you need to ")+"set nullable: true somewhere in this dependency structure.")}}class aF extends q{constructor(e){super('Entity "'.concat(e.name,'" does not have a primary column. Primary column is required to ')+"have in all your entities. Use @PrimaryColumn decorator to add a primary column to your entity.")}}class Ki extends q{constructor(e,t){super(e),Object.setPrototypeOf(this,Ki.prototype),this.message='Property "'.concat(e,'" was not found in "').concat(t.targetName,'". Make sure your query is correct.')}}class lF extends q{constructor(e,t=[]){super('Wrong driver: "'.concat(e,'" given. Supported drivers are: ')+"".concat(t.map(i=>'"'.concat(i,'"')).join(", "),"."))}}class da extends q{constructor(e,t){super("".concat(e," package has not been found installed. ")+"Try to install it: npm install ".concat(t," --save"))}}class cF extends q{constructor(e){super("Entity ".concat(e," does not have version or update date columns."))}}class za extends q{constructor(){super("The optimistic lock can be used only with getOne() method.")}}class uF extends q{constructor(e){super("Driver option (".concat(e,") is not set. ")+"Please set it to perform connection to the database.")}}class dF extends q{constructor(e){super(),e.length===1?this.message='Relation "'.concat(e[0],'" was not found; please check if it is correct and really exists in your entity.'):this.message="Relations ".concat(e.map(t=>'"'.concat(t,'"')).join(", ")," were not found; please check if relations are correct and they exist in your entities.")}}class hF extends q{constructor(){super("An open transaction is required for pessimistic lock.")}}class fF extends q{constructor(e,t,i){super();const r=typeof t=="string"?t:t.name;this.message='Data type "'.concat(r,'" in "').concat(e.entityMetadata.targetName,".").concat(e.propertyName,'" is not supported by "').concat(i,'" database.')}}class pF extends q{constructor(e){super("Array initializations are not allowed in entity relations. "+'Please remove array initialization (= []) from "'.concat(e.entityMetadata.targetName,"#").concat(e.propertyPath,'". ')+"This is ORM requirement to make relations to work properly. Refer docs for more information.")}}class er extends q{constructor(e,t,i){if(super(i.toString().replace(/^error: /,"").replace(/^Error: /,"").replace(/^Request/,"")),this.query=e,this.parameters=t,this.driverError=i,i){const{name:r,...s}=i;Be.assign(this,{...s})}}}class mF extends q{constructor(){super("Entity manager is not using single database connection and cannot be released. Only entity managers created by connection#createEntityManagerWithSingleDatabaseConnection methods have a single database connection and they should be released.")}}class gF extends q{constructor(e){super('Removed entity "'.concat(e.metadata.name,'" is also scheduled for update operation. ')+"Make sure you are not updating and removing same object (note that update or remove may be executed by cascade operations).")}}class gC extends q{constructor(e,t){super("Column type for ".concat(e.constructor.name,"#").concat(t," is not defined and cannot be guessed. ")+'Make sure you have turned on an "emitDecoratorMetadata": true option in tsconfig.json. Also make sure you have imported "reflect-metadata" on top of the main entry file in your application (before any entity imported).If you are using JavaScript instead of TypeScript you must explicitly provide a column type.')}}class wn extends q{constructor(){super("Query runner already released. Cannot run queries anymore.")}}class yF extends q{constructor(){super("RDBMS does not support OFFSET without LIMIT in SELECT statements. You must use limit in conjunction with offset function (or take in conjunction with skip function if you are using pagination).")}}class Va extends q{constructor(e){super('Cannot execute operation on "'.concat(e,'" connection because connection is not yet established.'))}}class bF extends q{constructor(e){super('Option "'.concat(e,'" is not set in your connection options, please ')+'define "'.concat(e,'" option in your connection options or ormconfig.json'))}}class vF extends q{constructor(e){const t=e.map(i=>'"'.concat(i.name,'"'));super("Migrations ".concat(t.join(", "),' override the transaction mode, but the global transaction mode is "all"'))}}class An{constructor(e){this["@instanceof"]=Symbol.for("TableColumn"),this.isNullable=!1,this.isGenerated=!1,this.isPrimary=!1,this.isUnique=!1,this.isArray=!1,this.length="",this.zerofill=!1,this.unsigned=!1,e&&(this.name=e.name,this.type=e.type||"",this.length=e.length||"",this.width=e.width,this.charset=e.charset,this.collation=e.collation,this.precision=e.precision,this.scale=e.scale,this.zerofill=e.zerofill||!1,this.unsigned=this.zerofill?!0:e.unsigned||!1,this.default=e.default,this.onUpdate=e.onUpdate,this.isNullable=e.isNullable||!1,this.isGenerated=e.isGenerated||!1,this.generationStrategy=e.generationStrategy,this.generatedIdentity=e.generatedIdentity,this.isPrimary=e.isPrimary||!1,this.isUnique=e.isUnique||!1,this.isArray=e.isArray||!1,this.comment=e.comment,this.enum=e.enum,this.enumName=e.enumName,this.primaryKeyConstraintName=e.primaryKeyConstraintName,this.asExpression=e.asExpression,this.generatedType=e.generatedType,this.spatialFeatureType=e.spatialFeatureType,this.srid=e.srid)}clone(){return new An({name:this.name,type:this.type,length:this.length,width:this.width,charset:this.charset,collation:this.collation,precision:this.precision,scale:this.scale,zerofill:this.zerofill,unsigned:this.unsigned,enum:this.enum,enumName:this.enumName,primaryKeyConstraintName:this.primaryKeyConstraintName,asExpression:this.asExpression,generatedType:this.generatedType,default:this.default,onUpdate:this.onUpdate,isNullable:this.isNullable,isGenerated:this.isGenerated,generationStrategy:this.generationStrategy,generatedIdentity:this.generatedIdentity,isPrimary:this.isPrimary,isUnique:this.isUnique,isArray:this.isArray,comment:this.comment,spatialFeatureType:this.spatialFeatureType,srid:this.srid})}}class Ct{constructor(e){this["@instanceof"]=Symbol.for("TableIndex"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.isUnique=!!e.isUnique,this.isSpatial=!!e.isSpatial,this.isFulltext=!!e.isFulltext,this.isNullFiltered=!!e.isNullFiltered,this.parser=e.parser,this.where=e.where?e.where:""}clone(){return new Ct({name:this.name,columnNames:[...this.columnNames],isUnique:this.isUnique,isSpatial:this.isSpatial,isFulltext:this.isFulltext,isNullFiltered:this.isNullFiltered,parser:this.parser,where:this.where})}static create(e){return new Ct({name:e.name,columnNames:e.columns.map(t=>t.databaseName),isUnique:e.isUnique,isSpatial:e.isSpatial,isFulltext:e.isFulltext,isNullFiltered:e.isNullFiltered,parser:e.parser,where:e.where})}}class di{constructor(e){this["@instanceof"]=Symbol.for("TableForeignKey"),this.columnNames=[],this.referencedColumnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.referencedColumnNames=e.referencedColumnNames,this.referencedDatabase=e.referencedDatabase,this.referencedSchema=e.referencedSchema,this.referencedTableName=e.referencedTableName,this.onDelete=e.onDelete,this.onUpdate=e.onUpdate,this.deferrable=e.deferrable}clone(){return new di({name:this.name,columnNames:[...this.columnNames],referencedColumnNames:[...this.referencedColumnNames],referencedDatabase:this.referencedDatabase,referencedSchema:this.referencedSchema,referencedTableName:this.referencedTableName,onDelete:this.onDelete,onUpdate:this.onUpdate,deferrable:this.deferrable})}static create(e,t){return new di({name:e.name,columnNames:e.columnNames,referencedColumnNames:e.referencedColumnNames,referencedDatabase:e.referencedEntityMetadata.database,referencedSchema:e.referencedEntityMetadata.schema,referencedTableName:e.referencedTablePath,onDelete:e.onDelete,onUpdate:e.onUpdate,deferrable:e.deferrable})}}class qu{static createTableColumnOptions(e,t){return{name:e.databaseName,length:t.getColumnLength(e),width:e.width,charset:e.charset,collation:e.collation,precision:e.precision,scale:e.scale,zerofill:e.zerofill,unsigned:e.unsigned,asExpression:e.asExpression,generatedType:e.generatedType,default:t.normalizeDefault(e),onUpdate:e.onUpdate,comment:e.comment,isGenerated:e.isGenerated,generationStrategy:e.generationStrategy,generatedIdentity:e.generatedIdentity,isNullable:e.isNullable,type:t.normalizeType(e),isPrimary:e.isPrimary,isUnique:t.normalizeIsUnique(e),isArray:e.isArray||!1,enum:e.enum?e.enum.map(i=>i+""):e.enum,enumName:e.enumName,primaryKeyConstraintName:e.primaryKeyConstraintName,spatialFeatureType:e.spatialFeatureType,srid:e.srid}}}class dn{constructor(e){this["@instanceof"]=Symbol.for("TableUnique"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.deferrable=e.deferrable}clone(){return new dn({name:this.name,columnNames:[...this.columnNames],deferrable:this.deferrable})}static create(e){return new dn({name:e.name,columnNames:e.columns.map(t=>t.databaseName),deferrable:e.deferrable})}}class Li{constructor(e){this["@instanceof"]=Symbol.for("TableCheck"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.expression=e.expression}clone(){return new Li({name:this.name,columnNames:this.columnNames?[...this.columnNames]:[],expression:this.expression})}static create(e){return new Li({name:e.name,expression:e.expression})}}class Ws{constructor(e){this["@instanceof"]=Symbol.for("TableExclusion"),this.name=e.name,this.expression=e.expression}clone(){return new Ws({name:this.name,expression:this.expression})}static create(e){return new Ws({name:e.name,expression:e.expression})}}class mt{constructor(e){this["@instanceof"]=Symbol.for("Table"),this.columns=[],this.indices=[],this.foreignKeys=[],this.uniques=[],this.checks=[],this.exclusions=[],this.justCreated=!1,this.withoutRowid=!1,e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,e.columns&&(this.columns=e.columns.map(t=>new An(t))),e.indices&&(this.indices=e.indices.map(t=>new Ct(t))),e.foreignKeys&&(this.foreignKeys=e.foreignKeys.map(t=>new di({...t,referencedDatabase:(t==null?void 0:t.referencedDatabase)||e.database,referencedSchema:(t==null?void 0:t.referencedSchema)||e.schema}))),e.uniques&&(this.uniques=e.uniques.map(t=>new dn(t))),e.checks&&(this.checks=e.checks.map(t=>new Li(t))),e.exclusions&&(this.exclusions=e.exclusions.map(t=>new Ws(t))),e.justCreated!==void 0&&(this.justCreated=e.justCreated),e.withoutRowid&&(this.withoutRowid=e.withoutRowid),this.engine=e.engine)}get primaryColumns(){return this.columns.filter(e=>e.isPrimary)}clone(){return new mt({schema:this.schema,database:this.database,name:this.name,columns:this.columns.map(e=>e.clone()),indices:this.indices.map(e=>e.clone()),foreignKeys:this.foreignKeys.map(e=>e.clone()),uniques:this.uniques.map(e=>e.clone()),checks:this.checks.map(e=>e.clone()),exclusions:this.exclusions.map(e=>e.clone()),justCreated:this.justCreated,withoutRowid:this.withoutRowid,engine:this.engine})}addColumn(e){this.columns.push(e)}removeColumn(e){const t=this.columns.find(i=>i.name===e.name);t&&this.columns.splice(this.columns.indexOf(t),1)}addUniqueConstraint(e){if(this.uniques.push(e),e.columnNames.length===1){const t=this.columns.find(i=>i.name===e.columnNames[0]);t&&(t.isUnique=!0)}}removeUniqueConstraint(e){const t=this.uniques.find(i=>i.name===e.name);if(t&&(this.uniques.splice(this.uniques.indexOf(t),1),t.columnNames.length===1)){const i=this.columns.find(r=>r.name===t.columnNames[0]);i&&(i.isUnique=!1)}}addCheckConstraint(e){this.checks.push(e)}removeCheckConstraint(e){const t=this.checks.find(i=>i.name===e.name);t&&this.checks.splice(this.checks.indexOf(t),1)}addExclusionConstraint(e){this.exclusions.push(e)}removeExclusionConstraint(e){const t=this.exclusions.find(i=>i.name===e.name);t&&this.exclusions.splice(this.exclusions.indexOf(t),1)}addForeignKey(e){this.foreignKeys.push(e)}removeForeignKey(e){const t=this.foreignKeys.find(i=>i.name===e.name);t&&this.foreignKeys.splice(this.foreignKeys.indexOf(t),1)}addIndex(e,t=!1){if(this.indices.push(e),e.columnNames.length===1&&e.isUnique&&t){const i=this.columns.find(r=>r.name===e.columnNames[0]);i&&(i.isUnique=!0)}}removeIndex(e,t=!1){const i=this.indices.find(r=>r.name===e.name);if(i&&(this.indices.splice(this.indices.indexOf(i),1),i.columnNames.length===1&&i.isUnique&&t)){const r=this.columns.find(s=>s.name===i.columnNames[0]);r&&(r.isUnique=this.indices.some(s=>s.columnNames.length===1&&s.columnNames[0]===r.name&&!!i.isUnique))}}findColumnByName(e){return this.columns.find(t=>t.name===e)}findColumnIndices(e){return this.indices.filter(t=>!!t.columnNames.find(i=>i===e.name))}findColumnForeignKeys(e){return this.foreignKeys.filter(t=>!!t.columnNames.find(i=>i===e.name))}findColumnUniques(e){return this.uniques.filter(t=>!!t.columnNames.find(i=>i===e.name))}findColumnChecks(e){return this.checks.filter(t=>!!t.columnNames.find(i=>i===e.name))}static create(e,t){const i=e.database===t.database?void 0:e.database,r=e.schema===t.options.schema?void 0:e.schema,s={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,r,i),withoutRowid:e.withoutRowid,engine:e.engine,columns:e.columns.filter(o=>o&&!o.isVirtualProperty).map(o=>qu.createTableColumnOptions(o,t)),indices:e.indices.filter(o=>o.synchronize===!0).map(o=>Ct.create(o)),uniques:e.uniques.map(o=>dn.create(o)),checks:e.checks.map(o=>Li.create(o)),exclusions:e.exclusions.map(o=>Ws.create(o))};return new mt(s)}}class $w{constructor(e,t,i,r,s){this.id=e,this.timestamp=t,this.name=i,this.instance=r,this.transaction=s}}class Ti{constructor(e,t,...i){this.value=e,this.type=t,this["@instanceof"]=Symbol.for("MssqlParameter"),this.params=[],this.params=i||[]}}class pp{constructor(e,t){this.connection=e,this.queryRunner=t,this.transaction="all";const{schema:i}=this.connection.driver.options,r=this.connection.driver.database;this.migrationsDatabase=r,this.migrationsSchema=i,this.migrationsTableName=e.options.migrationsTableName||"migrations",this.migrationsTable=this.connection.driver.buildTableName(this.migrationsTableName,i,r)}async executeMigration(e){return this.withQueryRunner(async t=>{await this.createMigrationsTableIfNotExist(t);const i=this.connection.driver.createSchemaBuilder();return V.isRdbmsSchemaBuilder(i)&&await i.createMetadataTableIfNecessary(t),await t.beforeMigration(),await e.instance.up(t),await t.afterMigration(),await this.insertExecutedMigration(t,e),e})}async getAllMigrations(){return Promise.resolve(this.getMigrations())}async getExecutedMigrations(){return this.withQueryRunner(async e=>(await this.createMigrationsTableIfNotExist(e),await this.loadExecutedMigrations(e)))}async getPendingMigrations(){const e=await this.getAllMigrations(),t=await this.getExecutedMigrations();return e.filter(i=>!t.find(r=>r.name===i.name))}insertMigration(e){return this.withQueryRunner(t=>this.insertExecutedMigration(t,e))}deleteMigration(e){return this.withQueryRunner(t=>this.deleteExecutedMigration(t,e))}async showMigrations(){let e=!1;const t=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(t);const i=await this.loadExecutedMigrations(t),r=this.getMigrations();for(const s of r){const o=i.find(a=>a.name===s.name);o?this.connection.logger.logSchemaBuild("[X] ".concat(o.id," ").concat(s.name)):(e=!0,this.connection.logger.logSchemaBuild("[ ] ".concat(s.name)))}return this.queryRunner||await t.release(),e}async executePendingMigrations(){const e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);const t=this.connection.driver.createSchemaBuilder();V.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);const i=await this.loadExecutedMigrations(e);let r=this.getLatestTimestampMigration(i);const s=this.getMigrations(),o=[],a=s.filter(u=>!i.find(h=>h.name===u.name));if(!a.length)return this.connection.logger.logSchemaBuild("No migrations are pending"),this.queryRunner||await e.release(),[];if(this.connection.logger.logSchemaBuild("".concat(i.length," migrations are already loaded in the database.")),this.connection.logger.logSchemaBuild("".concat(s.length," migrations were found in the source code.")),r&&this.connection.logger.logSchemaBuild("".concat(r.name," is the last executed migration. It was executed on ").concat(new Date(r.timestamp).toString(),".")),this.connection.logger.logSchemaBuild("".concat(a.length," migrations are new migrations must be executed.")),this.transaction==="all"){const u=a.filter(d=>{var h;return((h=d.instance)===null||h===void 0?void 0:h.transaction)!==void 0});if(u.length>0){const d=new vF(u);throw this.connection.logger.logMigration("Migrations failed, error: ".concat(d.message)),d}}const l={each:!0,none:!1,all:!1}[this.transaction];for(const u of a)if(u.instance){const d=u.instance.transaction;d===void 0?u.transaction=l:u.transaction=d}let c=!1;this.transaction==="all"&&!e.isTransactionActive&&(await e.beforeMigration(),await e.startTransaction(),c=!0);try{for(const u of a){if(this.fake){await this.insertExecutedMigration(e,u);continue}u.transaction&&!e.isTransactionActive&&(await e.beforeMigration(),await e.startTransaction(),c=!0),await u.instance.up(e).catch(d=>{throw this.connection.logger.logMigration('Migration "'.concat(u.name,'" failed, error: ').concat(d==null?void 0:d.message)),d}).then(async()=>{await this.insertExecutedMigration(e,u),u.transaction&&c&&(await e.commitTransaction(),await e.afterMigration())}).then(()=>{o.push(u),this.connection.logger.logSchemaBuild("Migration ".concat(u.name," has been ").concat(this.fake?"(fake)":""," executed successfully."))})}this.transaction==="all"&&c&&(await e.commitTransaction(),await e.afterMigration())}catch(u){if(c)try{await e.rollbackTransaction()}catch(d){}throw u}finally{this.queryRunner||await e.release()}return o}async undoLastMigration(){const e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);const t=this.connection.driver.createSchemaBuilder();V.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);const i=await this.loadExecutedMigrations(e);let r=this.getLatestExecutedMigration(i);if(!r){this.connection.logger.logSchemaBuild("No migrations were found in the database. Nothing to revert!");return}const o=this.getMigrations().find(l=>l.name===r.name);if(!o)throw new q("No migration ".concat(r.name," was found in the source code. Make sure you have this migration in your codebase and its included in the connection options."));this.connection.logger.logSchemaBuild("".concat(i.length," migrations are already loaded in the database.")),this.connection.logger.logSchemaBuild("".concat(r.name," is the last executed migration. It was executed on ").concat(new Date(r.timestamp).toString(),".")),this.connection.logger.logSchemaBuild("Now reverting it...");let a=!1;this.transaction!=="none"&&!e.isTransactionActive&&(await e.startTransaction(),a=!0);try{this.fake||(await e.beforeMigration(),await o.instance.down(e),await e.afterMigration()),await this.deleteExecutedMigration(e,o),this.connection.logger.logSchemaBuild("Migration ".concat(o.name," has been ").concat(this.fake?"(fake)":""," reverted successfully.")),a&&await e.commitTransaction()}catch(l){if(a)try{await e.rollbackTransaction()}catch(c){}throw l}finally{this.queryRunner||await e.release()}}async createMigrationsTableIfNotExist(e){if(this.connection.driver.options.type==="mongodb")return;await e.hasTable(this.migrationsTable)||await e.createTable(new mt({database:this.migrationsDatabase,schema:this.migrationsSchema,name:this.migrationsTable,columns:[{name:"id",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationId}),isGenerated:!0,generationStrategy:"increment",isPrimary:!0,isNullable:!1},{name:"timestamp",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp}),isPrimary:!1,isNullable:!1},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}),isNullable:!1}]}))}async loadExecutedMigrations(e){return this.connection.driver.options.type==="mongodb"?e.cursor(this.migrationsTableName,{}).sort({_id:-1}).toArray():(await this.connection.manager.createQueryBuilder(e).select().orderBy(this.connection.driver.escape("id"),"DESC").from(this.migrationsTable,this.migrationsTableName).getRawMany()).map(i=>new $w(parseInt(i.id),parseInt(i.timestamp),i.name))}getMigrations(){const e=this.connection.migrations.map(t=>{const i=t.name||t.constructor.name,r=parseInt(i.substr(-13),10);if(!r||isNaN(r))throw new q("".concat(i," migration name is wrong. Migration class name should have a JavaScript timestamp appended."));return new $w(void 0,r,i,t)});return this.checkForDuplicateMigrations(e),e.sort((t,i)=>t.timestamp-i.timestamp)}checkForDuplicateMigrations(e){const t=e.map(r=>r.name),i=Array.from(new Set(t.filter((r,s)=>t.indexOf(r)<s)));if(i.length>0)throw Error("Duplicate migrations: ".concat(i.join(", ")))}getLatestTimestampMigration(e){const t=e.map(i=>i).sort((i,r)=>(i.timestamp-r.timestamp)*-1);return t.length>0?t[0]:void 0}getLatestExecutedMigration(e){return e.length>0?e[0]:void 0}async insertExecutedMigration(e,t){const i={};this.connection.driver.options.type==="mssql"?(i.timestamp=new Ti(t.timestamp,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp})),i.name=new Ti(t.name,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}))):(i.timestamp=t.timestamp,i.name=t.name),this.connection.driver.options.type==="mongodb"?await e.databaseConnection.db(this.connection.driver.database).collection(this.migrationsTableName).insertOne(i):await e.manager.createQueryBuilder().insert().into(this.migrationsTable).values(i).execute()}async deleteExecutedMigration(e,t){const i={};if(this.connection.driver.options.type==="mssql"?(i.timestamp=new Ti(t.timestamp,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp})),i.name=new Ti(t.name,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}))):(i.timestamp=t.timestamp,i.name=t.name),this.connection.driver.options.type==="mongodb")await e.databaseConnection.db(this.connection.driver.database).collection(this.migrationsTableName).deleteOne(i);else{const r=e.manager.createQueryBuilder();await r.delete().from(this.migrationsTable).where("".concat(r.escape("timestamp")," = :timestamp")).andWhere("".concat(r.escape("name")," = :name")).setParameters(i).execute()}}async withQueryRunner(e){const t=this.queryRunner||this.connection.createQueryRunner();try{return await e(t)}finally{this.queryRunner||await t.release()}}}function ou(n,e,t){let i=[],r={};return function s(o){r[o]=!0,i.push(o),n[o].forEach(function(a){if(!r[a])s(a);else if(i.indexOf(a)>=0)throw i.push(a),new q("Dependency Cycle Found: ".concat(i.join(" -> ")))}),i.pop(),(!e||n[o].length===0)&&t.indexOf(o)===-1&&t.push(o)}}class wF{constructor(){this.nodes={},this.outgoingEdges={},this.incomingEdges={}}addNode(e,t){this.hasNode(e)||(arguments.length===2?this.nodes[e]=t:this.nodes[e]=e,this.outgoingEdges[e]=[],this.incomingEdges[e]=[])}removeNode(e){this.hasNode(e)&&(delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],[this.incomingEdges,this.outgoingEdges].forEach(function(t){Object.keys(t).forEach(function(i){let r=t[i].indexOf(e);r>=0&&t[i].splice(r,1)},this)}))}hasNode(e){return this.nodes.hasOwnProperty(e)}getNodeData(e){if(this.hasNode(e))return this.nodes[e];throw new q("Node does not exist: ".concat(e))}setNodeData(e,t){if(this.hasNode(e))this.nodes[e]=t;else throw new q("Node does not exist: ".concat(e))}addDependency(e,t){if(!this.hasNode(e))throw new q("Node does not exist: ".concat(e));if(!this.hasNode(t))throw new q("Node does not exist: ".concat(t));return this.outgoingEdges[e].indexOf(t)===-1&&this.outgoingEdges[e].push(t),this.incomingEdges[t].indexOf(e)===-1&&this.incomingEdges[t].push(e),!0}removeDependency(e,t){let i;this.hasNode(e)&&(i=this.outgoingEdges[e].indexOf(t),i>=0&&this.outgoingEdges[e].splice(i,1)),this.hasNode(t)&&(i=this.incomingEdges[t].indexOf(e),i>=0&&this.incomingEdges[t].splice(i,1))}dependenciesOf(e,t){if(this.hasNode(e)){let i=[];ou(this.outgoingEdges,t,i)(e);let s=i.indexOf(e);return s>=0&&i.splice(s,1),i}else throw new q("Node does not exist: ".concat(e))}dependantsOf(e,t){if(this.hasNode(e)){let i=[];ou(this.incomingEdges,t,i)(e);let s=i.indexOf(e);return s>=0&&i.splice(s,1),i}else throw new q("Node does not exist: ".concat(e))}overallOrder(e){let t=this,i=[],r=Object.keys(this.nodes);if(r.length===0)return i;{let s=ou(this.outgoingEdges,!1,[]);r.forEach(function(a){s(a)});let o=ou(this.outgoingEdges,e,i);return r.filter(function(a){return t.incomingEdges[a].length===0}).forEach(function(a){o(a)}),i}}}class yC{static isGreaterOrEqual(e,t){const i=Mw(e),r=Mw(t);return i[0]>r[0]||i[0]===r[0]&&i[1]>r[1]||i[0]===r[0]&&i[1]===r[1]&&i[2]>=r[2]}}function Mw(n=""){const e=[0,0,0];return n.split(".").forEach((t,i)=>e[i]=parseInt(t,10)),e}class me{static isSQLiteFamily(e){return["sqlite","cordova","react-native","nativescript","sqljs","expo","better-sqlite3","capacitor"].includes(e.options.type)}static isMySQLFamily(e){return["mysql","mariadb"].includes(e.options.type)}static isReleaseVersionOrGreater(e,t){return e.version!=null&&yC.isGreaterOrEqual(e.version,t)}static isPostgresFamily(e){return["postgres","aurora-postgres","cockroachdb"].includes(e.options.type)}static buildDriverOptions(e,t){if(e.url){const i=this.parseConnectionUrl(e.url);t&&t.useSid&&i.database&&(i.sid=i.database);for(const r of Object.keys(i))typeof i[r]>"u"&&delete i[r];return Object.assign({},e,i)}return Object.assign({},e)}static buildMongoDBDriverOptions(e,t){if(e.url){const i=this.parseMongoDBConnectionUrl(e.url);t&&t.useSid&&i.database&&(i.sid=i.database);for(const r of Object.keys(i))typeof i[r]>"u"&&delete i[r];return Object.assign({},e,i)}return Object.assign({},e)}static buildAlias({maxAliasLength:e},t,...i){const r=i.length===1?i[0]:i.join(t&&t.joiner?t.joiner:"_");if(e&&e>0&&r.length>e){if(t&&t.shorten===!0){const s=fC(r);if(s.length<e)return s}return K3(r,{length:e})}return r}static buildColumnAlias({maxAliasLength:e},t,...i){return typeof t=="string"?(i.unshift(t),t={shorten:!1,joiner:"_"}):t=Object.assign({shorten:!1,joiner:"_"},t),this.buildAlias({maxAliasLength:e},t,...i)}static parseConnectionUrl(e){const t=e.split(":")[0],i=e.indexOf("//"),r=e.substr(i+2),s=r.indexOf("/"),o=s!==-1?r.substr(0,s):r;let a=s!==-1?r.substr(s+1):void 0;a&&a.indexOf("?")!==-1&&(a=a.substr(0,a.indexOf("?")));const l=o.lastIndexOf("@"),c=o.substr(0,l),u=o.substr(l+1);let d=c,h="";const f=c.indexOf(":");f!==-1&&(d=c.substr(0,f),h=c.substr(f+1));const[g,b]=u.split(":");return{type:t,host:g,username:decodeURIComponent(d),password:decodeURIComponent(h),port:b?parseInt(b):void 0,database:a||void 0}}static parseMongoDBConnectionUrl(e){const t=e.split(":")[0],i=e.indexOf("//"),r=e.substr(i+2),s=r.indexOf("/"),o=s!==-1?r.substr(0,s):r;let a=s!==-1?r.substr(s+1):void 0,l="",c,u,d,h,f={};if(a&&a.indexOf("?")!==-1){l=a.substr(a.indexOf("?")+1,a.length);const I=l.split("&");let B,O;I.forEach($=>{B=$.split("=")[0],O=$.split("=")[1],f[B]=O}),h=f.replicaSet,a=a.substr(0,a.indexOf("?"))}const g=o.lastIndexOf("@"),b=o.substr(0,g),C=o.substr(g+1);let x=b,y="";const E=b.indexOf(":");E!==-1&&(x=b.substr(0,E),y=b.substr(E+1)),h?d=C:[c,u]=C.split(":");let N={type:t,host:c,hostReplicaSet:d,username:decodeURIComponent(x),password:decodeURIComponent(y),port:u?parseInt(u):void 0,database:a||void 0};for(const[I,B]of Object.entries(f))N[I]=B;return N}}class EF{validateMany(e,t){e.forEach(i=>this.validate(i,e,t)),this.validateDependencies(e),this.validateEagerRelations(e)}validate(e,t,i){if(!e.primaryColumns.length&&!e.isJunction)throw new aF(e);if(e.primaryColumns.length>1&&!e.primaryColumns.every((o,a,l)=>o.primaryKeyConstraintName===l[0].primaryKeyConstraintName))throw new q("Entity ".concat(e.name," has multiple primary columns with different constraint names. Constraint names should be the equal."));if(e.inheritancePattern==="STI"||e.tableType==="entity-child"){if(!e.discriminatorColumn)throw new q("Entity ".concat(e.name," using single-table inheritance, it should also have a discriminator column. Did you forget to put discriminator column options?"));if(typeof e.discriminatorValue>"u")throw new q("Entity ".concat(e.name," has an undefined discriminator value. Discriminator value should be defined."));const s=t.find(o=>o!==e&&(o.inheritancePattern==="STI"||o.tableType==="entity-child")&&o.tableName===e.tableName&&o.discriminatorValue===e.discriminatorValue&&o.inheritanceTree.some(a=>e.inheritanceTree.indexOf(a)!==-1));if(s)throw new q("Entities ".concat(e.name," and ").concat(s.name," have the same discriminator values. Make sure they are different while using the @ChildEntity decorator."))}if(e.relationCounts.forEach(s=>{if(s.relation.isManyToOne||s.relation.isOneToOne)throw new q("Relation count can not be implemented on ManyToOne or OneToOne relations.")}),i.options.type!=="mongodb"&&e.columns.filter(s=>!s.isVirtualProperty).forEach(s=>{const o=i.normalizeType(s);if(i.supportedDataTypes.indexOf(o)===-1)throw new fF(s,o,i.options.type);if(s.length&&i.withLengthColumnTypes.indexOf(o)===-1)throw new q("Column ".concat(s.propertyName," of Entity ").concat(e.name," does not support length property."));if(s.type==="enum"&&!s.enum&&!s.enumName)throw new q('Column "'.concat(s.propertyName,'" of Entity "').concat(e.name,'" is defined as enum, but missing "enum" or "enumName" properties.'))}),(me.isMySQLFamily(i)||i.options.type==="aurora-mysql")&&e.columns.filter(o=>o.isGenerated&&o.generationStrategy!=="uuid").length>1)throw new q("Error in ".concat(e.name," entity. There can be only one auto-increment column in MySql table."));if(me.isMySQLFamily(i)&&t.filter(o=>o.database).length===0&&!i.database)throw new bF("database");if(i.options.type==="mssql"&&e.columns.filter(o=>o.charset).length>1)throw new q("Character set specifying is not supported in Sql Server");if(i.options.type==="postgres"){const s=e.columns.find(o=>o.asExpression&&(!o.generatedType||o.generatedType==="VIRTUAL"));if(s)throw new q('Column "'.concat(s.propertyName,'" of Entity "').concat(e.name,'" is defined as VIRTUAL, but Postgres supports only STORED generated columns.'))}const r=e.create(void 0,{fromDeserializer:!0});e.relations.forEach(s=>{if(s.isManyToMany||s.isOneToMany){if(s.persistenceEnabled===!1)return;const o=s.getEntityValue(r);if(Array.isArray(o))throw new pF(s)}}),e.relations.forEach(s=>{if(i.supportedOnDeleteTypes&&s.onDelete&&!i.supportedOnDeleteTypes.includes(s.onDelete))throw new q('OnDeleteType "'.concat(s.onDelete,'" is not supported for ').concat(i.options.type,"!"));if(i.supportedOnUpdateTypes&&s.onUpdate&&!i.supportedOnUpdateTypes.includes(s.onUpdate))throw new q('OnUpdateType "'.concat(s.onUpdate,'" is not valid for ').concat(i.options.type,"!"))}),e.relations.forEach(s=>{if(s.isCascadeRemove&&s.inverseRelation&&s.inverseRelation.isCascadeRemove)throw new q("Relation ".concat(e.name,"#").concat(s.propertyName," and ").concat(s.inverseRelation.entityMetadata.name,"#").concat(s.inverseRelation.propertyName," both has cascade remove set. ")+"This may lead to unexpected circular removals. Please set cascade remove only from one side of relationship.")}),e.eagerRelations.forEach(s=>{})}validateDependencies(e){const t=new wF;e.forEach(i=>{t.addNode(i.name)}),e.forEach(i=>{i.relationsWithJoinColumns.filter(r=>!r.isNullable).forEach(r=>{t.addDependency(i.name,r.inverseEntityMetadata.name)})});try{t.overallOrder()}catch(i){throw new oF(i.toString().replace("Error: Dependency Cycle Found: ",""))}}validateEagerRelations(e){e.forEach(t=>{t.eagerRelations.forEach(i=>{if(i.inverseRelation&&i.inverseRelation.isEager)throw new q("Circular eager relations are disallowed. "+"".concat(t.targetName,"#").concat(i.propertyPath,' contains "eager: true", and its inverse side ')+"".concat(i.inverseEntityMetadata.targetName,"#").concat(i.inverseRelation.propertyPath,' contains "eager: true" as well.')+' Remove "eager: true" from one side of the relation.')})})}}class xF{}class TF{}class SF{}class bC{}class CF{}class AF{}class NF{}class Iw{}class kF{}class RF{}class PF{}class cn{static isFindOneOptions(e){const t=e;return t&&(Array.isArray(t.select)||Array.isArray(t.relations)||typeof t.select=="object"||typeof t.relations=="object"||typeof t.where=="object"||typeof t.join=="object"||typeof t.order=="object"||typeof t.cache=="object"||typeof t.cache=="boolean"||typeof t.cache=="number"||typeof t.comment=="string"||typeof t.lock=="object"||typeof t.loadRelationIds=="object"||typeof t.loadRelationIds=="boolean"||typeof t.loadEagerRelations=="boolean"||typeof t.withDeleted=="boolean"||typeof t.relationLoadStrategy=="string"||typeof t.transaction=="boolean")}static isFindManyOptions(e){const t=e;return t&&(this.isFindOneOptions(t)||typeof t.skip=="number"||typeof t.take=="number"||typeof t.skip=="string"||typeof t.take=="string")}static extractFindManyOptionsAlias(e){if(this.isFindManyOptions(e)&&e.join)return e.join.alias}static applyOptionsToTreeQueryBuilder(e,t){if(t!=null&&t.relations){const i=[...t.relations];if(cn.applyRelationsRecursively(e,i,e.expressionMap.mainAlias.name,e.expressionMap.mainAlias.metadata,""),i.length>0)throw new dF(i)}return e}static applyRelationsRecursively(e,t,i,r,s){let o=[];if(s){const a=new RegExp("^"+s.replace(".","\\.")+"\\.");o=t.filter(l=>l.match(a)).map(l=>r.findRelationWithPropertyPath(l.replace(a,""))).filter(l=>l)}else o=t.map(a=>r.findRelationWithPropertyPath(a)).filter(a=>a);o.forEach(a=>{let l=me.buildAlias(e.connection.driver,{joiner:"__"},i,a.propertyPath);const c=i+"."+a.propertyPath;e.expressionMap.relationLoadStrategy==="query"?e.concatRelationMetadata(a):e.leftJoinAndSelect(c,l),t.splice(t.indexOf(s?s+"."+a.propertyPath:a.propertyPath),1);let u,d;if(e.expressionMap.relationLoadStrategy==="query")u=a.inverseEntityMetadata,d=l;else{const h=e.expressionMap.joinAttributes.find(f=>f.entityOrProperty===c);u=h.metadata,d=h.alias.name}if(!d||!u)throw new Ki(a.propertyPath,r);if(this.applyRelationsRecursively(e,t,d,u,s?s+"."+a.propertyPath:a.propertyPath),e.expressionMap.relationLoadStrategy==="join"){const h=r.relations.find(f=>f.propertyName===a.propertyPath);h&&this.joinEagerRelations(e,l,h.inverseEntityMetadata)}})}static joinEagerRelations(e,t,i){i.eagerRelations.forEach(r=>{let s=me.buildAlias(e.connection.driver,{joiner:"__"},t,r.propertyPath),o=!0;for(const c of e.expressionMap.joinAttributes)if(!(c.condition!==void 0||c.mapToProperty!==void 0||c.isMappingMany!==void 0||c.direction!=="LEFT"||c.entityOrProperty!=="".concat(t,".").concat(r.propertyPath))){o=!1,s=c.alias.name;break}const a=!!e.expressionMap.joinAttributes.find(c=>c.alias.name===s);o&&!a&&e.leftJoin(t+"."+r.propertyPath,s);let l=!0;for(const c of e.expressionMap.selects)if(!(c.aliasName!==void 0||c.virtual!==void 0||c.selection!==s)){l=!1;break}l&&e.addSelect(s),this.joinEagerRelations(e,s,r.inverseEntityMetadata)})}}class Rs{static createRelationMaps(e,t,i,r){return r.map(s=>{var o;const a=t.treeParentRelation.joinColumns[0],l=(o=a.referencedColumn)!==null&&o!==void 0?o:t.primaryColumns[0],c=a.givenDatabaseName||a.databaseName,u=l.givenDatabaseName||l.databaseName,d=s[i+"_"+u],h=s[i+"_"+c];return{id:e.connection.driver.prepareHydratedValue(d,l),parentId:e.connection.driver.prepareHydratedValue(h,a)}})}static buildChildrenEntityTree(e,t,i,r,s){var o;const a=e.treeChildrenRelation.propertyName;if(s.depth===0){t[a]=[];return}const c=(o=e.treeParentRelation.joinColumns[0].referencedColumn)!==null&&o!==void 0?o:e.primaryColumns[0],u=c.getEntityValue(t),d=r.filter(f=>f.parentId===u),h=new Set(d.map(f=>f.id));t[a]=i.filter(f=>h.has(c.getEntityValue(f))),t[a].forEach(f=>{Rs.buildChildrenEntityTree(e,f,i,r,{...s,depth:s.depth-1})})}static buildParentEntityTree(e,t,i,r){var s;const o=e.treeParentRelation.propertyName,l=(s=e.treeParentRelation.joinColumns[0].referencedColumn)!==null&&s!==void 0?s:e.primaryColumns[0],c=l.getEntityValue(t),u=r.find(h=>h.id===c),d=i.find(h=>u?l.getEntityValue(h)===u.parentId:!1);d&&(t[o]=d,Rs.buildParentEntityTree(e,t[o],i,r))}}class vC{get metadata(){return this.manager.connection.getMetadata(this.target)}constructor(e,t,i){this.target=e,this.manager=t,this.queryRunner=i}createQueryBuilder(e,t){return this.manager.createQueryBuilder(this.metadata.target,e||this.metadata.targetName,t||this.queryRunner)}hasId(e){return this.manager.hasId(this.metadata.target,e)}getId(e){return this.manager.getId(this.metadata.target,e)}create(e){return this.manager.create(this.metadata.target,e)}merge(e,...t){return this.manager.merge(this.metadata.target,e,...t)}preload(e){return this.manager.preload(this.metadata.target,e)}save(e,t){return this.manager.save(this.metadata.target,e,t)}remove(e,t){return this.manager.remove(this.metadata.target,e,t)}softRemove(e,t){return this.manager.softRemove(this.metadata.target,e,t)}recover(e,t){return this.manager.recover(this.metadata.target,e,t)}insert(e){return this.manager.insert(this.metadata.target,e)}update(e,t){return this.manager.update(this.metadata.target,e,t)}upsert(e,t){return this.manager.upsert(this.metadata.target,e,t)}delete(e){return this.manager.delete(this.metadata.target,e)}softDelete(e){return this.manager.softDelete(this.metadata.target,e)}restore(e){return this.manager.restore(this.metadata.target,e)}exist(e){return this.manager.exists(this.metadata.target,e)}count(e){return this.manager.count(this.metadata.target,e)}countBy(e){return this.manager.countBy(this.metadata.target,e)}sum(e,t){return this.manager.sum(this.metadata.target,e,t)}average(e,t){return this.manager.average(this.metadata.target,e,t)}minimum(e,t){return this.manager.minimum(this.metadata.target,e,t)}maximum(e,t){return this.manager.maximum(this.metadata.target,e,t)}async find(e){return this.manager.find(this.metadata.target,e)}async findBy(e){return this.manager.findBy(this.metadata.target,e)}findAndCount(e){return this.manager.findAndCount(this.metadata.target,e)}findAndCountBy(e){return this.manager.findAndCountBy(this.metadata.target,e)}async findByIds(e){return this.manager.findByIds(this.metadata.target,e)}async findOne(e){return this.manager.findOne(this.metadata.target,e)}async findOneBy(e){return this.manager.findOneBy(this.metadata.target,e)}async findOneById(e){return this.manager.findOneById(this.metadata.target,e)}async findOneOrFail(e){return this.manager.findOneOrFail(this.metadata.target,e)}async findOneByOrFail(e){return this.manager.findOneByOrFail(this.metadata.target,e)}query(e,t){return this.manager.query(e,t)}clear(){return this.manager.clear(this.metadata.target)}increment(e,t,i){return this.manager.increment(this.metadata.target,e,t,i)}decrement(e,t,i){return this.manager.decrement(this.metadata.target,e,t,i)}extend(e){const t=this.constructor,{target:i,manager:r,queryRunner:s}=this,o=new class extends t{}(i,r,s);return Object.assign(o,e),o}}class $F extends vC{async findTrees(e){const t=await this.findRoots(e);return await Promise.all(t.map(i=>this.findDescendantsTree(i,e))),t}findRoots(e){const t=a=>this.manager.connection.driver.escape(a),i=a=>this.manager.connection.driver.escape(a),r=this.metadata.treeParentRelation.joinColumns[0],s=r.givenDatabaseName||r.databaseName,o=this.createQueryBuilder("treeEntity");return cn.applyOptionsToTreeQueryBuilder(o,e),o.where("".concat(t("treeEntity"),".").concat(i(s)," IS NULL")).getMany()}findDescendants(e,t){const i=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);return cn.applyOptionsToTreeQueryBuilder(i,t),i.getMany()}async findDescendantsTree(e,t){const i=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);cn.applyOptionsToTreeQueryBuilder(i,t);const r=await i.getRawAndEntities(),s=Rs.createRelationMaps(this.manager,this.metadata,"treeEntity",r.raw);return Rs.buildChildrenEntityTree(this.metadata,e,r.entities,s,{depth:-1,...t}),e}countDescendants(e){return this.createDescendantsQueryBuilder("treeEntity","treeClosure",e).getCount()}createDescendantsQueryBuilder(e,t,i){const r=s=>this.manager.connection.driver.escape(s);if(this.metadata.treeType==="closure-table"){const s=this.metadata.closureJunctionTable.descendantColumns.map(l=>r(t)+"."+r(l.propertyPath)+" = "+r(e)+"."+r(l.referencedColumn.propertyPath)).join(" AND "),o={},a=this.metadata.closureJunctionTable.ancestorColumns.map(l=>(o[l.referencedColumn.propertyName]=l.referencedColumn.getEntityValue(i),r(t)+"."+r(l.propertyPath)+" = :"+l.referencedColumn.propertyName)).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,s).where(a).setParameters(o)}else if(this.metadata.treeType==="nested-set"){const s=e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN joined."+this.metadata.nestedSetLeftColumn.propertyPath+" AND joined."+this.metadata.nestedSetRightColumn.propertyPath,o={},a=this.metadata.treeParentRelation.joinColumns.map(l=>{const c=l.referencedColumn.propertyPath.replace(".","_");return o[c]=l.referencedColumn.getEntityValue(i),"joined."+l.referencedColumn.propertyPath+" = :"+c}).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",s).where(a,o)}else if(this.metadata.treeType==="materialized-path")return this.createQueryBuilder(e).where(s=>{const o=s.subQuery().select("".concat(this.metadata.targetName,".").concat(this.metadata.materializedPathColumn.propertyPath),"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(i));return me.isSQLiteFamily(this.manager.connection.driver)?"".concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath," LIKE ").concat(o.getQuery()," || '%'"):"".concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath," LIKE NULLIF(CONCAT(").concat(o.getQuery(),", '%'), '%')")});throw new q("Supported only in tree entities")}findAncestors(e,t){const i=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);return cn.applyOptionsToTreeQueryBuilder(i,t),i.getMany()}async findAncestorsTree(e,t){const i=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);cn.applyOptionsToTreeQueryBuilder(i,t);const r=await i.getRawAndEntities(),s=Rs.createRelationMaps(this.manager,this.metadata,"treeEntity",r.raw);return Rs.buildParentEntityTree(this.metadata,e,r.entities,s),e}countAncestors(e){return this.createAncestorsQueryBuilder("treeEntity","treeClosure",e).getCount()}createAncestorsQueryBuilder(e,t,i){if(this.metadata.treeType==="closure-table"){const r=this.metadata.closureJunctionTable.ancestorColumns.map(a=>t+"."+a.propertyPath+" = "+e+"."+a.referencedColumn.propertyPath).join(" AND "),s={},o=this.metadata.closureJunctionTable.descendantColumns.map(a=>(s[a.referencedColumn.propertyName]=a.referencedColumn.getEntityValue(i),t+"."+a.propertyPath+" = :"+a.referencedColumn.propertyName)).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,r).where(o).setParameters(s)}else if(this.metadata.treeType==="nested-set"){const r="joined."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN "+e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" AND "+e+"."+this.metadata.nestedSetRightColumn.propertyPath,s={},o=this.metadata.treeParentRelation.joinColumns.map(a=>{const l=a.referencedColumn.propertyPath.replace(".","_");return s[l]=a.referencedColumn.getEntityValue(i),"joined."+a.referencedColumn.propertyPath+" = :"+l}).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",r).where(o,s)}else if(this.metadata.treeType==="materialized-path")return this.createQueryBuilder(e).where(r=>{const s=r.subQuery().select("".concat(this.metadata.targetName,".").concat(this.metadata.materializedPathColumn.propertyPath),"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(i));return me.isSQLiteFamily(this.manager.connection.driver)?"".concat(s.getQuery()," LIKE ").concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath," || '%'"):"".concat(s.getQuery()," LIKE CONCAT(").concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath,", '%')")});throw new q("Supported only in tree entities")}}class MF{transform(e,t,i,r=!1){return this.groupAndTransform(e,t,i,r),e}groupAndTransform(e,t,i,r=!1){i.nonVirtualColumns.forEach(s=>{const o=s.getEntityValue(t);o!==void 0&&s.setEntityValue(e,o)}),i.relations.length&&i.relations.forEach(s=>{let o=s.getEntityValue(e);const a=s.getEntityValue(t,r);if(a!==void 0)if(s.isOneToMany||s.isManyToMany){if(!Array.isArray(a))return;o||(o=[],s.setEntityValue(e,o)),a.forEach(l=>{let c=o.find(d=>s.inverseEntityMetadata.compareEntities(l,d));const u=s.inverseEntityMetadata.findInheritanceMetadata(l);c||(c=u.create(void 0,{fromDeserializer:!0}),o.push(c)),this.groupAndTransform(c,l,u,r)})}else{if(!Be.isObject(a)){Be.isObject(o)||s.setEntityValue(e,a);return}const l=s.inverseEntityMetadata.findInheritanceMetadata(a);o||(o=l.create(void 0,{fromDeserializer:!0}),s.setEntityValue(e,o)),this.groupAndTransform(o,a,l,r)}})}}class IF{constructor(e,t,i,r){this.plainEntity=e,this.metadata=t,this.parentLoadMapItem=i,this.relation=r}get target(){return this.metadata.target}get id(){return this.metadata.getEntityIdMixedMap(this.plainEntity)}}class OF{constructor(){this.loadMapItems=[]}get mainLoadMapItem(){return this.loadMapItems.find(e=>!e.relation&&!e.parentLoadMapItem)}addLoadMap(e){this.loadMapItems.find(i=>i.target===e.target&&i.id===e.id)||this.loadMapItems.push(e)}fillEntities(e,t){t.forEach(i=>{const r=this.loadMapItems.find(s=>s.target===e&&s.metadata.compareEntities(i,s.plainEntity));r&&(r.entity=i)})}groupByTargetIds(){const e=[];return this.loadMapItems.forEach(t=>{let i=e.find(r=>r.target===t.target);i||(i={target:t.target,ids:[]},e.push(i)),i.ids.push(t.id)}),e}}class _F{constructor(e){this.manager=e}async transform(e,t){if(!t.hasAllPrimaryKeys(e))return Promise.reject("Given object does not have a primary column, cannot transform it to database entity.");const i=new OF,r=(s,o,a,l)=>{const c=new IF(s,o,a,l);i.addLoadMap(c),o.extractRelationValuesFromEntity(s,t.relations).filter(u=>u!=null).forEach(([u,d,h])=>r(d,h,c,u))};return r(e,t),await Promise.all(i.groupByTargetIds().map(s=>this.manager.findByIds(s.target,s.ids).then(o=>i.fillEntities(s.target,o)))),i.loadMapItems.forEach(s=>{!s.relation||!s.entity||!s.parentLoadMapItem||!s.parentLoadMapItem.entity||(s.relation.isManyToMany||s.relation.isOneToMany?(s.parentLoadMapItem.entity[s.relation.propertyName]||(s.parentLoadMapItem.entity[s.relation.propertyName]=[]),s.parentLoadMapItem.entity[s.relation.propertyName].push(s.entity)):s.parentLoadMapItem.entity[s.relation.propertyName]=s.entity)}),i.mainLoadMapItem?i.mainLoadMapItem.entity:void 0}}class LF{get repository(){const e=this.getCustomRepositoryTarget(this);if(!e)throw new fp(this.constructor);return this.manager.getRepository(e)}get treeRepository(){const e=this.getCustomRepositoryTarget(this);if(!e)throw new fp(this.constructor);return this.manager.getTreeRepository(e)}createQueryBuilder(e){const t=this.getCustomRepositoryTarget(this.constructor);if(!t)throw new fp(this.constructor);return this.manager.getRepository(t).createQueryBuilder(e)}createQueryBuilderFor(e,t){return this.getRepositoryFor(e).createQueryBuilder(t)}getRepositoryFor(e){return this.manager.getRepository(e)}getTreeRepositoryFor(e){return this.manager.getTreeRepository(e)}getCustomRepositoryTarget(e){const t=Ri().entityRepositories.find(i=>i.target===(typeof e=="function"?e:e.constructor));if(!t)throw new pC(e);return t.entity}}class Ow{constructor(e){this.subjects=[...e],this.metadatas=this.getUniqueMetadatas(this.subjects)}sort(e){if(!this.metadatas.length)return this.subjects;const t=[];if(e==="delete"){const a=this.subjects.filter(l=>!l.entity&&!l.databaseEntity);t.push(...a),this.removeAlreadySorted(a)}const i=this.getNonNullableDependencies();let r=this.toposort(i);e==="insert"&&(r=r.reverse()),r.forEach(a=>{const l=this.subjects.filter(c=>c.metadata.targetName===a||c.metadata.inheritanceTree.some(u=>u.name===a));t.push(...l),this.removeAlreadySorted(l)});const s=this.getDependencies();let o=this.toposort(s);return e==="insert"&&(o=o.reverse()),o.forEach(a=>{const l=this.subjects.filter(c=>c.metadata.targetName===a);t.push(...l),this.removeAlreadySorted(l)}),t.push(...this.subjects),t}removeAlreadySorted(e){e.forEach(t=>{this.subjects.splice(this.subjects.indexOf(t),1)})}getUniqueMetadatas(e){const t=[];return e.forEach(i=>{t.indexOf(i.metadata)===-1&&t.push(i.metadata)}),t}getNonNullableDependencies(){return this.metadatas.reduce((e,t)=>(t.relationsWithJoinColumns.forEach(i=>{i.isNullable||e.push([t.targetName,i.inverseEntityMetadata.targetName])}),e),[])}getDependencies(){return this.metadatas.reduce((e,t)=>(t.relationsWithJoinColumns.forEach(i=>{i.inverseEntityMetadata!==t&&e.push([t.targetName,i.inverseEntityMetadata.targetName])}),e),[])}toposort(e){function t(c){let u=[];for(let d=0,h=c.length;d<h;d++){let f=c[d];u.indexOf(f[0])<0&&u.push(f[0]),u.indexOf(f[1])<0&&u.push(f[1])}return u}const i=t(e);let r=i.length,s=new Array(r),o={},a=r;for(;a--;)o[a]||l(i[a],a,[]);function l(c,u,d){if(d.indexOf(c)>=0)throw new q("Cyclic dependency: "+JSON.stringify(c));if(!~i.indexOf(c))throw new q("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(o[u])return;o[u]=!0;let h=e.filter(function(f){return f[0]===c});if(u=h.length){let f=d.concat(c);do{let g=h[--u][1];l(g,i.indexOf(g),f)}while(u)}s[--r]=c}return s}}function DF(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function qF(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}var wC=6e4,EC=36e5;function BF(n,e){var t;qF(1,arguments);var i=DF((t=e==null?void 0:e.additionalDigits)!==null&&t!==void 0?t:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var r=zF(n),s;if(r.date){var o=VF(r.date,i);s=HF(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(r.time&&(l=WF(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(c=QF(r.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+l+c)}var au={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},FF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,UF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,jF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zF(n){var e={},t=n.split(au.dateTimeDelimiter),i;if(t.length>2)return e;if(/:/.test(t[0])?i=t[0]:(e.date=t[0],i=t[1],au.timeZoneDelimiter.test(e.date)&&(e.date=n.split(au.timeZoneDelimiter)[0],i=n.substr(e.date.length,n.length))),i){var r=au.timezone.exec(i);r?(e.time=i.replace(r[1],""),e.timezone=r[1]):e.time=i}return e}function VF(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=n.match(t);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:n.slice((i[1]||i[2]).length)}}function HF(n,e){if(e===null)return new Date(NaN);var t=n.match(FF);if(!t)return new Date(NaN);var i=!!t[4],r=Ha(t[1]),s=Ha(t[2])-1,o=Ha(t[3]),a=Ha(t[4]),l=Ha(t[5])-1;if(i)return XF(e,a,l)?GF(e,a,l):new Date(NaN);var c=new Date(0);return!YF(e,s,o)||!JF(e,r)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(r,o)),c)}function Ha(n){return n?parseInt(n):1}function WF(n){var e=n.match(UF);if(!e)return NaN;var t=mp(e[1]),i=mp(e[2]),r=mp(e[3]);return ZF(t,i,r)?t*EC+i*wC+r*1e3:NaN}function mp(n){return n&&parseFloat(n.replace(",","."))||0}function QF(n){if(n==="Z")return 0;var e=n.match(jF);if(!e)return 0;var t=e[1]==="+"?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return e6(i,r)?t*(i*EC+r*wC):NaN}function GF(n,e,t){var i=new Date(0);i.setUTCFullYear(n,0,4);var r=i.getUTCDay()||7,s=(e-1)*7+t+1-r;return i.setUTCDate(i.getUTCDate()+s),i}var KF=[31,null,31,30,31,30,31,31,30,31,30,31];function xC(n){return n%400===0||n%4===0&&n%100!==0}function YF(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(KF[e]||(xC(n)?29:28))}function JF(n,e){return e>=1&&e<=(xC(n)?366:365)}function XF(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function ZF(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function e6(n,e){return e>=0&&e<=59}class ke{static normalizeHydratedDate(e){return e&&(typeof e=="string"?new Date(e):e)}static mixedDateToDateString(e){return e instanceof Date?this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate()):e}static mixedDateToDate(e,t=!1,i=!0){let r=typeof e=="string"?BF(e):e;return t&&(r=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())),i||r.setUTCMilliseconds(0),r}static mixedDateToTimeString(e,t=!1){return e instanceof Date?this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+(t?"":":"+this.formatZerolessValue(e.getSeconds())):e}static mixedTimeToDate(e){if(typeof e=="string"){const[t,i,r]=e.split(":"),s=new Date;return t&&s.setHours(parseInt(t)),i&&s.setMinutes(parseInt(i)),r&&s.setSeconds(parseInt(r)),s}return e}static mixedTimeToString(e,t=!1){return e=e instanceof Date?e.getHours()+":"+e.getMinutes()+(t?"":":"+e.getSeconds()):e,typeof e=="string"?e.split(":").map(i=>i.length===1?"0"+i:i).join(":"):e}static mixedDateToDatetimeString(e,t){if(typeof e=="string"&&(e=new Date(e)),e instanceof Date){let i=this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate())+" "+this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+":"+this.formatZerolessValue(e.getSeconds());t&&(i+=".".concat(this.formatMilliseconds(e.getMilliseconds()))),e=i}return e}static mixedDateToUtcDatetimeString(e){return typeof e=="string"&&(e=new Date(e)),e instanceof Date?this.formatZerolessValue(e.getUTCFullYear(),4)+"-"+this.formatZerolessValue(e.getUTCMonth()+1)+"-"+this.formatZerolessValue(e.getUTCDate())+" "+this.formatZerolessValue(e.getUTCHours())+":"+this.formatZerolessValue(e.getUTCMinutes())+":"+this.formatZerolessValue(e.getUTCSeconds())+"."+this.formatMilliseconds(e.getUTCMilliseconds()):e}static simpleArrayToString(e){return Array.isArray(e)?e.map(t=>String(t)).join(","):e}static stringToSimpleArray(e){return typeof e=="string"?e.length>0?e.split(","):[]:e}static simpleJsonToString(e){return JSON.stringify(e)}static stringToSimpleJson(e){return typeof e=="string"?JSON.parse(e):e}static simpleEnumToString(e){return""+e}static stringToSimpleEnum(e,t){return t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0&&(e=parseInt(e)),e}static formatZerolessValue(e,t=2){const i="0".repeat(t);return String("".concat(i).concat(e)).slice(-t)}static formatMilliseconds(e){return e<10?"00"+e:e<100?"0"+e:String(e)}}class ve{static chunk(e,t){return Array.from(Array(Math.ceil(e.length/t)),(i,r)=>e.slice(r*t,r*t+t))}static splitClassesAndStrings(e){return[e.filter(t=>typeof t!="string"),e.filter(t=>typeof t=="string")]}static groupBy(e,t){return e.reduce((i,r)=>{const s=t(r);let o=i.find(a=>a.id===s);return o||(o={id:s,items:[]},i.push(o)),o.items.push(r),i},[])}static uniq(e,t){return e.reduce((i,r)=>{let s=!1;if(typeof t=="function"){const o=t(r);s=!!i.find(a=>t(a)===o)}else typeof t=="string"?s=!!i.find(o=>o[t]===r[t]):s=i.indexOf(r)!==-1;return s||i.push(r),i},[])}static isPlainObject(e){return e==null?!1:!e.constructor||e.constructor===Object}static mergeArrayKey(e,t,i,r){if(r.has(i)){e[t]=r.get(i);return}if(!(i instanceof Promise)){if(!this.isPlainObject(i)&&!Array.isArray(i)){e[t]=i;return}e[t]||(e[t]=Array.isArray(i)?[]:{}),r.set(i,e[t]),this.merge(e[t],i,r),r.delete(i)}}static mergeObjectKey(e,t,i,r){if(r.has(i)){Object.assign(e,{[t]:r.get(i)});return}if(!(i instanceof Promise)){if(!this.isPlainObject(i)&&!Array.isArray(i)){Object.assign(e,{[t]:i});return}e[t]||Object.assign(e,{[t]:Array.isArray(i)?[]:{}}),r.set(i,e[t]),this.merge(e[t],i,r),r.delete(i)}}static merge(e,t,i=new Map){if(this.isPlainObject(e)&&this.isPlainObject(t))for(const r of Object.keys(t))r!=="__proto__"&&this.mergeObjectKey(e,r,t[r],i);if(Array.isArray(e)&&Array.isArray(t))for(let r=0;r<t.length;r++)this.mergeArrayKey(e,r,t[r],i)}static mergeDeep(e,...t){if(!t.length)return e;for(const i of t)ve.merge(e,i);return e}static deepCompare(...e){let t,i,r,s;if(arguments.length<1)return!0;for(t=1,i=arguments.length;t<i;t++)if(r=[],s=[],!this.compare2Objects(r,s,arguments[0],arguments[t]))return!1;return!0}static deepValue(e,t){const i=t.split(".");for(let r=0,s=i.length;r<s;r++)e=e[i[r]];return e}static replaceEmptyObjectsWithBooleans(e){for(let t in e)e[t]&&typeof e[t]=="object"&&(Object.keys(e[t]).length===0?e[t]=!0:this.replaceEmptyObjectsWithBooleans(e[t]))}static propertyPathsToTruthyObject(e){let t={};for(let i of e){const r=i.split(".");if(!r.length)continue;(!t[r[0]]||t[r[0]]===!0)&&(t[r[0]]={});let s=t[r[0]];for(let[o,a]of r.entries())o!==0&&(s[a]?s=s[a]:o===r.length-1?(s[a]={},s=null):(s[a]={},s=s[a]))}return this.replaceEmptyObjectsWithBooleans(t),t}static compareIds(e,t){return e==null||t===void 0||t===null?!1:(typeof e.id=="string"&&typeof t.id=="string"||typeof e.id=="number"&&typeof t.id=="number")&&Object.keys(e).length===1&&Object.keys(t).length===1?e.id===t.id:ve.deepCompare(e,t)}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e==="true"||e==="1":typeof e=="number"?e>0:!1}static zipObject(e,t){return e.reduce((i,r,s)=>(i[r]=t[s],i),{})}static isArraysEqual(e,t){return e.length!==t.length?!1:e.every(i=>t.indexOf(i)!==-1)}static areMutuallyExclusive(...e){return!e.some(i=>{const r=e.filter(s=>s!==i);return i.some(s=>r.some(o=>o.includes(s)))})}static compare2Objects(e,t,i,r){let s;if(Number.isNaN(i)&&Number.isNaN(r)||i===r)return!0;if(i===null||r===null||i===void 0||r===void 0)return!1;if((typeof i.equals=="function"||typeof i.equals=="function")&&i.equals(r))return!0;if(typeof i=="function"&&typeof r=="function"||i instanceof Date&&r instanceof Date||i instanceof RegExp&&r instanceof RegExp||typeof i=="string"&&typeof r=="string"||typeof i=="number"&&typeof r=="number")return i.toString()===r.toString();if(!(typeof i=="object"&&typeof r=="object")||Object.prototype.isPrototypeOf.call(i,r)||Object.prototype.isPrototypeOf.call(r,i)||i.constructor!==r.constructor||i.prototype!==r.prototype||e.indexOf(i)>-1||t.indexOf(r)>-1)return!1;for(s in r){if(r.hasOwnProperty(s)!==i.hasOwnProperty(s))return!1;if(typeof r[s]!=typeof i[s])return!1}for(s in i){if(r.hasOwnProperty(s)!==i.hasOwnProperty(s))return!1;if(typeof r[s]!=typeof i[s])return!1;switch(typeof i[s]){case"object":case"function":if(e.push(i),t.push(r),!this.compare2Objects(e,t,i[s],r[s]))return!1;e.pop(),t.pop();break;default:if(i[s]!==r[s])return!1;break}}return!0}}class Ut{static transformFrom(e,t){return Array.isArray(e)?e.slice().reverse().reduce((r,s)=>s.from(r),t):e.from(t)}static transformTo(e,t){return Array.isArray(e)?e.reduce((i,r)=>r.to(i),t):e.to(t)}}class t6{compute(e){e.forEach(t=>{this.computeDiffColumns(t),this.computeDiffRelationalColumns(e,t)})}computeDiffColumns(e){e.entity&&e.metadata.columns.forEach(t=>{if(t.isVirtual||t.isDiscriminator)return;const i=e.changeMaps.find(s=>s.column===t);i&&e.changeMaps.splice(e.changeMaps.indexOf(i),1);const r=t.getEntityValue(e.entity);if(r!==void 0){if(e.databaseEntity){const s=t.type!=="json"&&t.type!=="jsonb";let o=t.getEntityValue(e.databaseEntity,s);if(t.relationMetadata){const l=t.relationMetadata.getEntityValue(e.entity);if(l!=null)return}let a=r;if(r!==null){switch(t.type){case"date":a=ke.mixedDateToDateString(r);break;case"time":case"time with time zone":case"time without time zone":case"timetz":a=ke.mixedDateToTimeString(r);break;case"datetime":case"datetime2":case Date:case"timestamp":case"timestamp without time zone":case"timestamp with time zone":case"timestamp with local time zone":case"timestamptz":a=ke.mixedDateToUtcDatetimeString(r),o=ke.mixedDateToUtcDatetimeString(o);break;case"json":case"jsonb":if(ve.deepCompare(r,o))return;break;case"simple-array":a=ke.simpleArrayToString(r),o=ke.simpleArrayToString(o);break;case"simple-enum":a=ke.simpleEnumToString(r),o=ke.simpleEnumToString(o);break;case"simple-json":a=ke.simpleJsonToString(r),o=ke.simpleJsonToString(o);break}t.transformer&&(a=Ut.transformTo(t.transformer,r))}if(Buffer.isBuffer(a)&&Buffer.isBuffer(o)){if(a.equals(o))return}else if(a===o)return}e.diffColumns.includes(t)||e.diffColumns.push(t),e.changeMaps.push({column:t,value:r})}})}computeDiffRelationalColumns(e,t){t.entity&&t.metadata.relationsWithJoinColumns.forEach(i=>{let r=i.getEntityValue(t.entity);if(r===void 0)return;if(t.databaseEntity){let a=r;a!==null&&Be.isObject(a)&&(a=i.getRelationIdMap(a));const l=i.getEntityValue(t.databaseEntity);if(ve.compareIds(a,l))return;t.diffRelations.push(i)}const s=e.find(a=>a.mustBeInserted&&a.entity===r);s&&(r=s);const o=t.changeMaps.find(a=>a.relation===i);o?o.value=r:t.changeMaps.push({relation:i,value:r})})}}class Ym{constructor(){this.count=0,this.promises=[]}async wait(){return this.promises.length>0&&await Promise.all(this.promises),this}}class _w extends q{constructor(){super("Nested sets do not support multiple root entities.")}}class gp{constructor(e){this.queryRunner=e}async insert(e){const t=c=>this.queryRunner.connection.driver.escape(c),i=this.getTableName(e.metadata.tablePath),r=t(e.metadata.nestedSetLeftColumn.databaseName),s=t(e.metadata.nestedSetRightColumn.databaseName);let o=e.metadata.treeParentRelation.getEntityValue(e.entity);!o&&e.parentSubject&&e.parentSubject.entity&&(o=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);const a=e.metadata.getEntityIdMap(o);let l;if(a&&(l=await this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.nestedSetRightColumn.propertyPath,"right").from(e.metadata.target,e.metadata.targetName).whereInIds(a).getRawOne().then(c=>{const u=c?c.right:void 0;return typeof u=="string"?parseInt(u):u})),l!==void 0)await this.queryRunner.query("UPDATE ".concat(i," SET ")+"".concat(r," = CASE WHEN ").concat(r," > ").concat(l," THEN ").concat(r," + 2 ELSE ").concat(r," END,")+"".concat(s," = ").concat(s," + 2 ")+"WHERE ".concat(s," >= ").concat(l)),ve.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(l),e.metadata.nestedSetRightColumn.createValueMap(l+1));else{if(!await this.isUniqueRootEntity(e,o))throw new _w;ve.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(1),e.metadata.nestedSetRightColumn.createValueMap(2))}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;if(!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find(a=>Object.entries(e.identifier).every(([l,c])=>a[l]===c))),i===void 0||t===void 0)return;const r=e.metadata.treeParentRelation.getEntityValue(i),s=e.metadata.getEntityIdMap(r),o=e.metadata.getEntityIdMap(t);if(!ve.compareIds(s,o)){if(t){const a=g=>this.queryRunner.connection.driver.escape(g),l=this.getTableName(e.metadata.tablePath),c=a(e.metadata.nestedSetLeftColumn.databaseName),u=a(e.metadata.nestedSetRightColumn.databaseName),d=e.metadata.getEntityIdMap(i);let h;d&&(h=(await this.getNestedSetIds(e.metadata,d))[0]);let f;if(o&&(f=(await this.getNestedSetIds(e.metadata,o))[0]),h!==void 0&&f!==void 0){const g=f.left>h.left,b=h.right-h.left+1;let C;g?C=f.left-h.right:C=f.right-h.left;const x="WHEN ".concat(c," >= ").concat(h.left," AND ")+"".concat(c," < ").concat(h.right," ")+"THEN ".concat(c," + ").concat(C," "),y="WHEN ".concat(u," > ").concat(h.left," AND ")+"".concat(u," <= ").concat(h.right," ")+"THEN ".concat(u," + ").concat(C," ");g?await this.queryRunner.query("UPDATE ".concat(l," ")+"SET ".concat(c," = CASE ")+"WHEN ".concat(c," > ").concat(h.right," AND ")+"".concat(c," <= ").concat(f.left," ")+"THEN ".concat(c," - ").concat(b," ")+x+"ELSE ".concat(c," ")+"END, "+"".concat(u," = CASE ")+"WHEN ".concat(u," > ").concat(h.right," AND ")+"".concat(u," < ").concat(f.left," ")+"THEN ".concat(u," - ").concat(b," ")+y+"ELSE ".concat(u," ")+"END"):await this.queryRunner.query("UPDATE ".concat(l," ")+"SET ".concat(c," = CASE ")+"WHEN ".concat(c," < ").concat(h.left," AND ")+"".concat(c," > ").concat(f.right," ")+"THEN ".concat(c," + ").concat(b," ")+x+"ELSE ".concat(c," ")+"END, "+"".concat(u," = CASE ")+"WHEN ".concat(u," < ").concat(h.left," AND ")+"".concat(u," >= ").concat(f.right," ")+"THEN ".concat(u," + ").concat(b," ")+y+"ELSE ".concat(u," ")+"END")}}else if(!await this.isUniqueRootEntity(e,t))throw new _w}}async remove(e){Array.isArray(e)||(e=[e]);const t=e[0].metadata,i=c=>this.queryRunner.connection.driver.escape(c),r=this.getTableName(t.tablePath),s=i(t.nestedSetLeftColumn.databaseName),o=i(t.nestedSetRightColumn.databaseName);let a=[];for(const c of e){const u=t.getEntityIdMap(c.entity);u&&a.push(u)}let l=await this.getNestedSetIds(t,a);for(const c of l){const u=c.right-c.left+1;await this.queryRunner.query("UPDATE ".concat(r," ")+"SET ".concat(s," = CASE ")+"WHEN ".concat(s," > ").concat(c.left," THEN ").concat(s," - ").concat(u," ")+"ELSE ".concat(s," ")+"END, "+"".concat(o," = CASE ")+"WHEN ".concat(o," > ").concat(c.right," THEN ").concat(o," - ").concat(u," ")+"ELSE ".concat(o," ")+"END")}}getNestedSetIds(e,t){const i={left:"".concat(e.targetName,".").concat(e.nestedSetLeftColumn.propertyPath),right:"".concat(e.targetName,".").concat(e.nestedSetRightColumn.propertyPath)},r=this.queryRunner.manager.createQueryBuilder();return Object.entries(i).forEach(([s,o])=>{r.addSelect(o,s)}),r.from(e.target,e.targetName).whereInIds(t).orderBy(i.right,"DESC").getRawMany().then(s=>{const o=[];for(const a of s){const l={};for(const c of Object.keys(i)){const u=a?a[c]:void 0;l[c]=typeof u=="string"?parseInt(u):u}o.push(l)}return o})}async isUniqueRootEntity(e,t){const i=c=>this.queryRunner.connection.driver.escape(c),r=this.getTableName(e.metadata.tablePath),s=[],o=e.metadata.treeParentRelation.joinColumns.map(c=>{const u=i(c.databaseName),d=c.getEntityValue(t);if(d==null)return"".concat(u," IS NULL");s.push(d);const h=this.queryRunner.connection.driver.createParameter("entity_"+c.databaseName,s.length-1);return"".concat(u," = ").concat(h)}).join(" AND "),a="count",l=await this.queryRunner.query("SELECT COUNT(1) AS ".concat(i(a)," FROM ").concat(r," WHERE ").concat(o),s,!0);return parseInt(l.records[0][a])===0}getTableName(e){return e.split(".").map(t=>t===""?t:this.queryRunner.connection.driver.escape(t)).join(".")}}class yp{constructor(e){this.queryRunner=e}async insert(e){const t={};e.metadata.closureJunctionTable.ancestorColumns.forEach(r=>{t[r.databaseName]=e.identifier}),e.metadata.closureJunctionTable.descendantColumns.forEach(r=>{t[r.databaseName]=e.identifier}),await this.queryRunner.manager.createQueryBuilder().insert().into(e.metadata.closureJunctionTable.tablePath).values(t).updateEntity(!1).callListeners(!1).execute();let i=e.metadata.treeParentRelation.getEntityValue(e.entity);if(!i&&e.parentSubject&&e.parentSubject.entity&&(i=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity),i){const r=d=>this.queryRunner.connection.driver.escape(d),s=this.getTableName(e.metadata.closureJunctionTable.tablePath),o=[],a=e.metadata.closureJunctionTable.ancestorColumns.map(d=>r(d.databaseName)),l=e.metadata.closureJunctionTable.descendantColumns.map(d=>r(d.databaseName)),c=e.metadata.primaryColumns.map(d=>(o.push(d.getEntityValue(e.insertedValueSet?e.insertedValueSet:e.entity)),this.queryRunner.connection.driver.createParameter("child_entity_"+d.databaseName,o.length-1))),u=e.metadata.closureJunctionTable.descendantColumns.map(d=>{const h=r(d.databaseName),f=d.referencedColumn.getEntityValue(i);if(!f)throw new Pw(e.metadata.name);o.push(f);const g=this.queryRunner.connection.driver.createParameter("parent_entity_"+d.referencedColumn.databaseName,o.length-1);return"".concat(h," = ").concat(g)});await this.queryRunner.query("INSERT INTO ".concat(s," (").concat([...a,...l].join(", "),") ")+"SELECT ".concat(a.join(", "),", ").concat(c.join(", ")," FROM ").concat(s," WHERE ").concat(u.join(" AND ")),o)}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;if(!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find(f=>Object.entries(e.identifier).every(([g,b])=>f[g]===b))),i===void 0||t===void 0)return;const r=e.metadata.treeParentRelation.getEntityValue(i),s=e.metadata.getEntityIdMap(r),o=e.metadata.getEntityIdMap(t);if(ve.compareIds(s,o))return;const a=f=>this.queryRunner.connection.driver.escape(f),l=e.metadata.closureJunctionTable,c=l.ancestorColumns.map(f=>a(f.databaseName)),u=l.descendantColumns.map(f=>a(f.databaseName)),d=(f,g)=>{const b="sub".concat(g),C=f.createQueryBuilder().select(u.join(", ")).from(l.tablePath,b);for(const x of l.ancestorColumns)C.andWhere("".concat(a(b),".").concat(a(x.databaseName)," = :value_").concat(x.referencedColumn.databaseName));return f.createQueryBuilder().select(u.join(", ")).from("(".concat(C.getQuery(),")"),g).setParameters(C.getParameters()).getQuery()},h={};for(const f of e.metadata.primaryColumns)h["value_".concat(f.databaseName)]=i[f.databaseName];if(await this.queryRunner.manager.createQueryBuilder().delete().from(l.tablePath).where(f=>"(".concat(u.join(", "),") IN (").concat(d(f,"descendant"),")")).andWhere(f=>"(".concat(c.join(", "),") NOT IN (").concat(d(f,"ancestor"),")")).setParameters(h).execute(),t){const f=[],g=this.getTableName(l.tablePath),b=a("supertree"),C=a("subtree"),x=[...c.map(N=>"".concat(b,".").concat(N)),...u.map(N=>"".concat(C,".").concat(N))],y=e.metadata.closureJunctionTable.ancestorColumns.map(N=>{const I=a(N.databaseName),B=N.referencedColumn.getEntityValue(i);f.push(B);const O=this.queryRunner.connection.driver.createParameter("entity_"+N.referencedColumn.databaseName,f.length-1);return"".concat(C,".").concat(I," = ").concat(O)}),E=e.metadata.closureJunctionTable.descendantColumns.map(N=>{const I=a(N.databaseName),B=N.referencedColumn.getEntityValue(t);if(!B)throw new Pw(e.metadata.name);f.push(B);const O=this.queryRunner.connection.driver.createParameter("parent_entity_"+N.referencedColumn.databaseName,f.length-1);return"".concat(b,".").concat(I," = ").concat(O)});await this.queryRunner.query("INSERT INTO ".concat(g," (").concat([...c,...u].join(", "),") ")+"SELECT ".concat(x.join(", ")," ")+"FROM ".concat(g," AS ").concat(b,", ").concat(g," AS ").concat(C," ")+"WHERE ".concat([...y,...E].join(" AND ")),f)}}async remove(e){if(this.queryRunner.connection.driver.options.type!=="mssql")return;Array.isArray(e)||(e=[e]);const t=l=>this.queryRunner.connection.driver.escape(l),i=e.map(l=>l.identifier),r=e[0].metadata.closureJunctionTable,s=l=>l.map(c=>{const u=i.map(d=>d[c.referencedColumn.databaseName]);return"".concat(t(c.databaseName)," IN (").concat(u.join(", "),")")}).join(" AND "),o=s(r.ancestorColumns),a=s(r.descendantColumns);await this.queryRunner.manager.createQueryBuilder().delete().from(r.tablePath).where(o).orWhere(a).execute()}getTableName(e){return e.split(".").map(t=>t===""?t:this.queryRunner.connection.driver.escape(t)).join(".")}}class Di{constructor(e){this["@instanceof"]=Symbol.for("EntityMetadata"),this.childEntityMetadatas=[],this.inheritanceTree=[],this.tableType="regular",this.withoutRowid=!1,this.synchronize=!0,this.hasNonNullableRelations=!1,this.isJunction=!1,this.isAlwaysUsingConstructor=!0,this.isClosureJunction=!1,this.hasMultiplePrimaryKeys=!1,this.hasUUIDGeneratedColumns=!1,this.ownColumns=[],this.columns=[],this.ancestorColumns=[],this.descendantColumns=[],this.nonVirtualColumns=[],this.ownerColumns=[],this.inverseColumns=[],this.generatedColumns=[],this.primaryColumns=[],this.ownRelations=[],this.relations=[],this.eagerRelations=[],this.lazyRelations=[],this.oneToOneRelations=[],this.ownerOneToOneRelations=[],this.oneToManyRelations=[],this.manyToOneRelations=[],this.manyToManyRelations=[],this.ownerManyToManyRelations=[],this.relationsWithJoinColumns=[],this.relationIds=[],this.relationCounts=[],this.foreignKeys=[],this.embeddeds=[],this.allEmbeddeds=[],this.ownIndices=[],this.indices=[],this.uniques=[],this.ownUniques=[],this.checks=[],this.exclusions=[],this.ownListeners=[],this.listeners=[],this.afterLoadListeners=[],this.beforeInsertListeners=[],this.afterInsertListeners=[],this.beforeUpdateListeners=[],this.afterUpdateListeners=[],this.beforeRemoveListeners=[],this.beforeSoftRemoveListeners=[],this.beforeRecoverListeners=[],this.afterRemoveListeners=[],this.afterSoftRemoveListeners=[],this.afterRecoverListeners=[],this.connection=e.connection,this.inheritanceTree=e.inheritanceTree||[],this.inheritancePattern=e.inheritancePattern,this.treeType=e.tableTree?e.tableTree.type:void 0,this.treeOptions=e.tableTree?e.tableTree.options:void 0,this.parentClosureEntityMetadata=e.parentClosureEntityMetadata,this.tableMetadataArgs=e.args,this.target=this.tableMetadataArgs.target,this.tableType=this.tableMetadataArgs.type,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid,this.dependsOn=this.tableMetadataArgs.dependsOn}create(e,t){const i=!!(t&&t.pojo===!0);let r;return typeof this.target=="function"&&!i?!(t!=null&&t.fromDeserializer)||this.isAlwaysUsingConstructor?r=new this.target:r=Object.create(this.target.prototype):r={},this.connection.options.typename&&(r[this.connection.options.typename]=this.targetName),this.lazyRelations.forEach(s=>this.connection.relationLoader.enableLazyLoad(s,r,e)),r}hasId(e){return e?this.primaryColumns.every(t=>{const i=t.getEntityValue(e);return i!=null&&i!==""}):!1}hasAllPrimaryKeys(e){return this.primaryColumns.every(t=>{const i=t.getEntityValue(e);return i!=null})}ensureEntityIdMap(e){if(Be.isObject(e))return e;if(this.hasMultiplePrimaryKeys)throw new X3(this,e);return this.primaryColumns[0].createValueMap(e)}getEntityIdMap(e){if(e)return Di.getValueMap(e,this.primaryColumns,{skipNulls:!0})}getEntityIdMixedMap(e){if(!e)return e;const t=this.getEntityIdMap(e);return this.hasMultiplePrimaryKeys?t:t&&this.primaryColumns[0].getEntityValue(t)}compareEntities(e,t){const i=this.getEntityIdMap(e);if(!i)return!1;const r=this.getEntityIdMap(t);return r?ve.compareIds(i,r):!1}findColumnWithPropertyName(e){return this.columns.find(t=>t.propertyName===e)}findColumnWithDatabaseName(e){return this.columns.find(t=>t.databaseName===e)}hasColumnWithPropertyPath(e){return this.columns.some(i=>i.propertyPath===e)||this.hasRelationWithPropertyPath(e)}findColumnWithPropertyPath(e){const t=this.columns.find(r=>r.propertyPath===e);if(t)return t;const i=this.relations.find(r=>r.propertyPath===e);if(i&&i.joinColumns.length===1)return i.joinColumns[0]}findColumnWithPropertyPathStrict(e){return this.columns.find(t=>t.propertyPath===e)}findColumnsWithPropertyPath(e){const t=this.columns.find(r=>r.propertyPath===e);if(t)return[t];const i=this.findRelationWithPropertyPath(e);return i&&i.joinColumns?i.joinColumns:[]}hasRelationWithPropertyPath(e){return this.relations.some(t=>t.propertyPath===e)}findRelationWithPropertyPath(e){return this.relations.find(t=>t.propertyPath===e)}hasEmbeddedWithPropertyPath(e){return this.allEmbeddeds.some(t=>t.propertyPath===e)}findEmbeddedWithPropertyPath(e){return this.allEmbeddeds.find(t=>t.propertyPath===e)}mapPropertyPathsToColumns(e){return e.map(t=>{const i=this.findColumnWithPropertyPath(t);if(i==null)throw new Ki(t,this);return i})}extractRelationValuesFromEntity(e,t){const i=[];return t.forEach(r=>{const s=r.getEntityValue(e);Array.isArray(s)?s.forEach(o=>i.push([r,o,Di.getInverseEntityMetadata(o,r)])):s&&i.push([r,s,Di.getInverseEntityMetadata(s,r)])}),i}findInheritanceMetadata(e){if(this.inheritancePattern==="STI"&&this.childEntityMetadatas.length>0){let t;return this.discriminatorColumn&&(t=e[this.discriminatorColumn.propertyName]),this.childEntityMetadatas.find(i=>t===i.discriminatorValue||e.constructor===i.target)||this}return this}static getInverseEntityMetadata(e,t){return t.inverseEntityMetadata.findInheritanceMetadata(e)}static createPropertyPath(e,t,i=""){const r=[];return Object.keys(t).forEach(s=>{const o=i?i+"."+s:s;if(e.hasEmbeddedWithPropertyPath(o)){const a=this.createPropertyPath(e,t[s],o);r.push(...a)}else{const a=i?i+"."+s:s;r.push(a)}}),r}static difference(e,t){return e.filter(i=>!t.find(r=>ve.compareIds(i,r)))}static getValueMap(e,t,i){return t.reduce((r,s)=>{const o=s.getEntityValueMap(e,i);if(!(r===void 0||o===null||o===void 0))return ve.mergeDeep(r,o)},{})}build(){var e;const t=this.connection.namingStrategy,i=this.connection.options.entityPrefix,r=this.connection.options.entitySkipConstructor;this.engine=this.tableMetadataArgs.engine,this.database=this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.parentEntityMetadata.database:this.tableMetadataArgs.database,this.tableMetadataArgs.schema?this.schema=this.tableMetadataArgs.schema:this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.schema=this.parentEntityMetadata.schema:!((e=this.connection.options)===null||e===void 0)&&e.hasOwnProperty("schema")&&(this.schema=this.connection.options.schema),this.givenTableName=this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.parentEntityMetadata.givenTableName:this.tableMetadataArgs.name,this.synchronize=this.tableMetadataArgs.synchronize!==!1,this.targetName=typeof this.tableMetadataArgs.target=="function"?this.tableMetadataArgs.target.name:this.tableMetadataArgs.target,this.tableMetadataArgs.type==="closure-junction"?this.tableNameWithoutPrefix=t.closureJunctionTableName(this.givenTableName):this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.tableNameWithoutPrefix=t.tableName(this.parentEntityMetadata.targetName,this.parentEntityMetadata.givenTableName):(this.tableNameWithoutPrefix=t.tableName(this.targetName,this.givenTableName),this.tableMetadataArgs.type==="junction"&&this.connection.driver.maxAliasLength&&this.connection.driver.maxAliasLength>0&&this.tableNameWithoutPrefix.length>this.connection.driver.maxAliasLength&&(this.tableNameWithoutPrefix=fC(this.tableNameWithoutPrefix,{separator:"_",segmentLength:3}))),this.tableName=i?t.prefixTableName(i,this.tableNameWithoutPrefix):this.tableNameWithoutPrefix,this.target=this.target?this.target:this.tableName,this.name=this.targetName?this.targetName:this.tableName,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid===!0,this.tablePath=this.connection.driver.buildTableName(this.tableName,this.schema,this.database),this.orderBy=typeof this.tableMetadataArgs.orderBy=="function"?this.tableMetadataArgs.orderBy(this.propertiesMap):this.tableMetadataArgs.orderBy,r!==void 0&&(this.isAlwaysUsingConstructor=!r),this.isJunction=this.tableMetadataArgs.type==="closure-junction"||this.tableMetadataArgs.type==="junction",this.isClosureJunction=this.tableMetadataArgs.type==="closure-junction"}registerColumn(e){this.ownColumns.indexOf(e)===-1&&(this.ownColumns.push(e),this.columns=this.embeddeds.reduce((t,i)=>t.concat(i.columnsFromTree),this.ownColumns),this.primaryColumns=this.columns.filter(t=>t.isPrimary),this.hasMultiplePrimaryKeys=this.primaryColumns.length>1,this.hasUUIDGeneratedColumns=this.columns.filter(t=>t.isGenerated||t.generationStrategy==="uuid").length>0,this.propertiesMap=this.createPropertiesMap(),this.childEntityMetadatas&&this.childEntityMetadatas.forEach(t=>t.registerColumn(e)))}createPropertiesMap(){const e={};return this.columns.forEach(t=>ve.mergeDeep(e,t.createValueMap(t.propertyPath))),this.relations.forEach(t=>ve.mergeDeep(e,t.createValueMap(t.propertyPath))),e}getInsertionReturningColumns(){return this.columns.filter(e=>e.default!==void 0||e.isGenerated||e.isCreateDate||e.isUpdateDate||e.isDeleteDate||e.isVersion)}}class Id{constructor(e){this["@instanceof"]=Symbol.for("Brackets"),this.whereFactory=e}}class Lw{constructor(e){this.queryRunner=e}async insert(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);const i=e.metadata.getEntityIdMap(t);let r="";i&&(r=await this.getEntityPath(e,i));const s=e.metadata.treeParentRelation.joinColumns.map(o=>o.referencedColumn.getEntityValue(e.insertedValueSet)).join("_");await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[e.metadata.materializedPathColumn.propertyPath]:r+s+"."}).where(e.identifier).execute()}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find(d=>Object.entries(e.identifier).every(([h,f])=>d[h]===f)));const r=e.metadata.treeParentRelation.getEntityValue(i),s=this.getEntityParentReferencedColumnMap(e,r),o=this.getEntityParentReferencedColumnMap(e,t);if(ve.compareIds(s,o))return;let a="";o&&(a=await this.getEntityPath(e,o));let l="";s&&(l=await this.getEntityPath(e,s)||"");const c=e.metadata.treeParentRelation.joinColumns.map(d=>d.referencedColumn.getEntityValue(i)).join("_"),u=e.metadata.materializedPathColumn.propertyPath;await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[u]:()=>"REPLACE(".concat(this.queryRunner.connection.driver.escape(u),", '").concat(l).concat(c,".', '").concat(a).concat(c,".')")}).where("".concat(u," LIKE :path"),{path:"".concat(l).concat(c,".%")}).execute()}getEntityParentReferencedColumnMap(e,t){if(t)return Di.getValueMap(t,e.metadata.treeParentRelation.joinColumns.map(i=>i.referencedColumn).filter(i=>i!=null),{skipNulls:!0})}getEntityPath(e,t){const i=e.metadata,r=(Array.isArray(t)?t:[t]).map(s=>i.ensureEntityIdMap(s));return this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.materializedPathColumn.propertyPath,"path").from(e.metadata.target,e.metadata.targetName).where(new Id(s=>{for(const o of r)s.orWhere(new Id(a=>a.where(o)))})).getRawOne().then(s=>s?s.path:"")}}class n6{constructor(e,t,i){this.hasExecutableOperations=!1,this.insertSubjects=[],this.updateSubjects=[],this.removeSubjects=[],this.softRemoveSubjects=[],this.recoverSubjects=[],this.queryRunner=e,this.allSubjects=t,this.options=i,this.validate(),this.recompute()}async execute(){let e;(!this.options||this.options.listeners!==!1)&&(e=this.broadcastBeforeEventsForAll(),e.promises.length>0&&await Promise.all(e.promises)),e&&e.count>0&&(this.insertSubjects.forEach(t=>t.recompute()),this.updateSubjects.forEach(t=>t.recompute()),this.removeSubjects.forEach(t=>t.recompute()),this.softRemoveSubjects.forEach(t=>t.recompute()),this.recoverSubjects.forEach(t=>t.recompute()),this.recompute()),this.insertSubjects=new Ow(this.insertSubjects).sort("insert"),await this.executeInsertOperations(),this.updateSubjects=this.allSubjects.filter(t=>t.mustBeUpdated),await this.executeUpdateOperations(),this.removeSubjects=new Ow(this.removeSubjects).sort("delete"),await this.executeRemoveOperations(),this.softRemoveSubjects=this.allSubjects.filter(t=>t.mustBeSoftRemoved),await this.executeSoftRemoveOperations(),this.recoverSubjects=this.allSubjects.filter(t=>t.mustBeRecovered),await this.executeRecoverOperations(),await this.updateSpecialColumnsInPersistedEntities(),(!this.options||this.options.listeners!==!1)&&(e=this.broadcastAfterEventsForAll(),e.promises.length>0&&await Promise.all(e.promises))}validate(){this.allSubjects.forEach(e=>{if(e.mustBeUpdated&&e.mustBeRemoved)throw new gF(e)})}recompute(){new t6().compute(this.allSubjects),this.insertSubjects=this.allSubjects.filter(e=>e.mustBeInserted),this.updateSubjects=this.allSubjects.filter(e=>e.mustBeUpdated),this.removeSubjects=this.allSubjects.filter(e=>e.mustBeRemoved),this.softRemoveSubjects=this.allSubjects.filter(e=>e.mustBeSoftRemoved),this.recoverSubjects=this.allSubjects.filter(e=>e.mustBeRecovered),this.hasExecutableOperations=this.insertSubjects.length>0||this.updateSubjects.length>0||this.removeSubjects.length>0||this.softRemoveSubjects.length>0||this.recoverSubjects.length>0}broadcastBeforeEventsForAll(){const e=new Ym;return this.insertSubjects.length&&this.insertSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeInsertEvent(e,t.metadata,t.entity)),this.updateSubjects.length&&this.updateSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations)),this.removeSubjects.length&&this.removeSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.recoverSubjects.length&&this.recoverSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeRecoverEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),e}broadcastAfterEventsForAll(){const e=new Ym;return this.insertSubjects.length&&this.insertSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterInsertEvent(e,t.metadata,t.entity)),this.updateSubjects.length&&this.updateSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations)),this.removeSubjects.length&&this.removeSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.recoverSubjects.length&&this.recoverSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterRecoverEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),e}async executeInsertOperations(){const[e,t]=this.groupBulkSubjects(this.insertSubjects,"insert");for(const i of t){const r=e[i],s=[],o=[],a=[];if(this.queryRunner.connection.driver.options.type==="mongodb"?r.forEach(l=>{l.metadata.createDateColumn&&l.entity&&(l.entity[l.metadata.createDateColumn.databaseName]=new Date),l.metadata.updateDateColumn&&l.entity&&(l.entity[l.metadata.updateDateColumn.databaseName]=new Date),l.createValueSetAndPopChangeMap(),o.push(l),s.push(l.entity)}):this.queryRunner.connection.driver.options.type==="oracle"?r.forEach(l=>{a.push(l)}):r.forEach(l=>{l.changeMaps.length===0||l.metadata.treeType||this.queryRunner.connection.driver.options.type==="oracle"||this.queryRunner.connection.driver.options.type==="sap"?a.push(l):(o.push(l),s.push(l.createValueSetAndPopChangeMap()))}),V.isMongoEntityManager(this.queryRunner.manager)){const l=await this.queryRunner.manager.insert(r[0].metadata.target,s);r.forEach((c,u)=>{c.identifier=l.identifiers[u],c.generatedMap=l.generatedMaps[u],c.insertedValueSet=s[u]})}else{if(s.length>0){const l=await this.queryRunner.manager.createQueryBuilder().insert().into(r[0].metadata.target).values(s).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1).execute();o.forEach((c,u)=>{c.identifier=l.identifiers[u],c.generatedMap=l.generatedMaps[u],c.insertedValueSet=s[u]})}if(a.length>0)for(const l of a)l.insertedValueSet=l.createValueSetAndPopChangeMap(),l.metadata.treeType==="nested-set"&&await new gp(this.queryRunner).insert(l),await this.queryRunner.manager.createQueryBuilder().insert().into(l.metadata.target).values(l.insertedValueSet).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1).execute().then(c=>{l.identifier=c.identifiers[0],l.generatedMap=c.generatedMaps[0]}),l.metadata.treeType==="closure-table"?await new yp(this.queryRunner).insert(l):l.metadata.treeType==="materialized-path"&&await new Lw(this.queryRunner).insert(l)}r.forEach(l=>{l.generatedMap&&l.metadata.columns.forEach(c=>{const u=c.getEntityValue(l.generatedMap);if(u!=null){const d=this.queryRunner.connection.driver.prepareHydratedValue(u,c);c.setEntityValue(l.generatedMap,d)}})})}}async executeUpdateOperations(){const e=async s=>{if(!s.identifier)throw new su(s);if(V.isMongoEntityManager(this.queryRunner.manager)){const o=this.cloneMongoSubjectEntity(s);s.metadata.objectIdColumn&&s.metadata.objectIdColumn.propertyName&&delete o[s.metadata.objectIdColumn.propertyName],s.metadata.createDateColumn&&s.metadata.createDateColumn.propertyName&&delete o[s.metadata.createDateColumn.propertyName],s.metadata.updateDateColumn&&s.metadata.updateDateColumn.propertyName&&(o[s.metadata.updateDateColumn.propertyName]=new Date),await this.queryRunner.manager.update(s.metadata.target,s.identifier,o)}else{const o=s.createValueSetAndPopChangeMap();switch(s.metadata.treeType){case"nested-set":await new gp(this.queryRunner).update(s);break;case"closure-table":await new yp(this.queryRunner).update(s);break;case"materialized-path":await new Lw(this.queryRunner).update(s);break}const a=this.queryRunner.manager.createQueryBuilder().update(s.metadata.target).set(o).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);s.entity?a.whereEntity(s.identifier):a.where(s.identifier);let c=(await a.execute()).generatedMaps[0];c&&(s.metadata.columns.forEach(u=>{const d=u.getEntityValue(c);if(d!=null){const h=this.queryRunner.connection.driver.prepareHydratedValue(d,u);u.setEntityValue(c,h)}}),s.generatedMap||(s.generatedMap={}),Object.assign(s.generatedMap,c))}},t=[],i=[];for(const s of this.updateSubjects)s.metadata.treeType==="nested-set"?t.push(s):i.push(s);const r=new Promise(async(s,o)=>{for(const a of t)try{await e(a)}catch(l){o(l)}s()});await Promise.all([...i.map(e),r])}async executeRemoveOperations(){const[e,t]=this.groupBulkSubjects(this.removeSubjects,"delete");for(const i of t){const r=e[i],s=r.map(o=>{if(!o.identifier)throw new su(o);return o.identifier});if(V.isMongoEntityManager(this.queryRunner.manager))await this.queryRunner.manager.delete(r[0].metadata.target,s);else{switch(r[0].metadata.treeType){case"nested-set":await new gp(this.queryRunner).remove(r);break;case"closure-table":await new yp(this.queryRunner).remove(r);break}await this.queryRunner.manager.createQueryBuilder().delete().from(r[0].metadata.target).where(s).callListeners(!1).execute()}}}cloneMongoSubjectEntity(e){const t={};if(e.entity)for(const i of e.metadata.columns)ve.mergeDeep(t,i.getEntityValueMap(e.entity));return t}async executeSoftRemoveOperations(){await Promise.all(this.softRemoveSubjects.map(async e=>{if(!e.identifier)throw new su(e);let t;if(V.isMongoEntityManager(this.queryRunner.manager)){const i=this.cloneMongoSubjectEntity(e);e.metadata.objectIdColumn&&e.metadata.objectIdColumn.propertyName&&delete i[e.metadata.objectIdColumn.propertyName],e.metadata.createDateColumn&&e.metadata.createDateColumn.propertyName&&delete i[e.metadata.createDateColumn.propertyName],e.metadata.updateDateColumn&&e.metadata.updateDateColumn.propertyName&&(i[e.metadata.updateDateColumn.propertyName]=new Date),e.metadata.deleteDateColumn&&e.metadata.deleteDateColumn.propertyName&&(i[e.metadata.deleteDateColumn.propertyName]=new Date),t=await this.queryRunner.manager.update(e.metadata.target,e.identifier,i)}else{const i=this.queryRunner.manager.createQueryBuilder().softDelete().from(e.metadata.target).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);e.entity?i.whereEntity(e.identifier):i.where(e.identifier),t=await i.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach(i=>{const r=i.getEntityValue(e.generatedMap);if(r!=null){const s=this.queryRunner.connection.driver.prepareHydratedValue(r,i);i.setEntityValue(e.generatedMap,s)}})}))}async executeRecoverOperations(){await Promise.all(this.recoverSubjects.map(async e=>{if(!e.identifier)throw new su(e);let t;if(V.isMongoEntityManager(this.queryRunner.manager)){const i=this.cloneMongoSubjectEntity(e);e.metadata.objectIdColumn&&e.metadata.objectIdColumn.propertyName&&delete i[e.metadata.objectIdColumn.propertyName],e.metadata.createDateColumn&&e.metadata.createDateColumn.propertyName&&delete i[e.metadata.createDateColumn.propertyName],e.metadata.updateDateColumn&&e.metadata.updateDateColumn.propertyName&&(i[e.metadata.updateDateColumn.propertyName]=new Date),e.metadata.deleteDateColumn&&e.metadata.deleteDateColumn.propertyName&&(i[e.metadata.deleteDateColumn.propertyName]=null),t=await this.queryRunner.manager.update(e.metadata.target,e.identifier,i)}else{const i=this.queryRunner.manager.createQueryBuilder().restore().from(e.metadata.target).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);e.entity?i.whereEntity(e.identifier):i.where(e.identifier),t=await i.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach(i=>{const r=i.getEntityValue(e.generatedMap);if(r!=null){const s=this.queryRunner.connection.driver.prepareHydratedValue(r,i);i.setEntityValue(e.generatedMap,s)}})}))}updateSpecialColumnsInPersistedEntities(){this.insertSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.insertSubjects),this.updateSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.updateSubjects),this.softRemoveSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.softRemoveSubjects),this.recoverSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.recoverSubjects),this.removeSubjects.length&&this.removeSubjects.forEach(e=>{e.entity&&e.metadata.primaryColumns.forEach(t=>{t.setEntityValue(e.entity,void 0)})}),this.allSubjects.forEach(e=>{e.entity&&(e.metadata.relationIds.forEach(t=>{t.setValue(e.entity)}),V.isMongoEntityManager(this.queryRunner.manager)&&e.metadata.objectIdColumn&&e.metadata.objectIdColumn.databaseName&&e.metadata.objectIdColumn.databaseName!==e.metadata.objectIdColumn.propertyName&&delete e.entity[e.metadata.objectIdColumn.databaseName])})}updateSpecialColumnsInInsertedAndUpdatedEntities(e){e.forEach(t=>{t.entity&&(t.metadata.columns.forEach(i=>{t.metadata.childEntityMetadatas.length>0&&t.metadata.childEntityMetadatas.map(r=>r.target).indexOf(i.target)!==-1||i.isVirtual||(i.isNullable&&i.getEntityValue(t.entity)===void 0&&i.setEntityValue(t.entity,null),t.updatedRelationMaps.length>0&&t.updatedRelationMaps.forEach(r=>{r.relation.joinColumns.forEach(s=>{s.isVirtual!==!0&&s.setEntityValue(t.entity,Be.isObject(r.value)?s.referencedColumn.getEntityValue(r.value):r.value)})}))}),t.generatedMap&&this.queryRunner.manager.merge(t.metadata.target,t.entity,t.generatedMap))})}groupBulkSubjects(e,t){const i={},r=[],s=e.some(a=>a.metadata.getInsertionReturningColumns().length>0),o=t==="delete"||this.queryRunner.connection.driver.isReturningSqlSupported("insert")||s===!1;return e.forEach((a,l)=>{const c=o||a.metadata.isJunction?a.metadata.name:a.metadata.name+"_"+l;i[c]?i[c].push(a):(i[c]=[a],r.push(c))}),[i,r]}}class wr{constructor(e){this["@instanceof"]=Symbol.for("Subject"),this.identifier=void 0,this.entityWithFulfilledIds=void 0,this.databaseEntityLoaded=!1,this.changeMaps=[],this.canBeInserted=!1,this.canBeUpdated=!1,this.mustBeRemoved=!1,this.canBeSoftRemoved=!1,this.canBeRecovered=!1,this.updatedRelationMaps=[],this.diffColumns=[],this.diffRelations=[],this.metadata=e.metadata,this.entity=e.entity,this.parentSubject=e.parentSubject,e.canBeInserted!==void 0&&(this.canBeInserted=e.canBeInserted),e.canBeUpdated!==void 0&&(this.canBeUpdated=e.canBeUpdated),e.mustBeRemoved!==void 0&&(this.mustBeRemoved=e.mustBeRemoved),e.canBeSoftRemoved!==void 0&&(this.canBeSoftRemoved=e.canBeSoftRemoved),e.canBeRecovered!==void 0&&(this.canBeRecovered=e.canBeRecovered),e.identifier!==void 0&&(this.identifier=e.identifier),e.changeMaps!==void 0&&this.changeMaps.push(...e.changeMaps),this.recompute()}get mustBeInserted(){return this.canBeInserted&&!this.databaseEntity}get mustBeUpdated(){return this.canBeUpdated&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)&&this.changeMaps.length>0}get mustBeSoftRemoved(){return this.canBeSoftRemoved&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)}get mustBeRecovered(){return this.canBeRecovered&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)}createValueSetAndPopChangeMap(){const e=[],t=this.changeMaps.reduce((i,r)=>{let s=r.value;V.isSubject(s)&&(s=s.insertedValueSet?s.insertedValueSet:s.entity);let o;if(this.metadata.isJunction&&r.column)o=r.column.createValueMap(r.column.referencedColumn.getEntityValue(s));else if(r.column)o=r.column.createValueMap(s);else if(r.relation)if(Be.isObject(s)&&!Buffer.isBuffer(s)){const a=r.relation.getRelationIdMap(s);if(a===void 0)return e.push(r),this.canBeUpdated=!0,i;o=r.relation.createValueMap(a),this.updatedRelationMaps.push({relation:r.relation,value:a})}else o=r.relation.createValueMap(s),this.updatedRelationMaps.push({relation:r.relation,value:s});return ve.mergeDeep(i,o),i},{});return this.changeMaps=e,t}recompute(){this.entity?(this.entityWithFulfilledIds=Object.assign({},this.entity),this.parentSubject&&this.metadata.primaryColumns.forEach(e=>{if(e.relationMetadata&&e.relationMetadata.inverseEntityMetadata===this.parentSubject.metadata){const t=e.referencedColumn.getEntityValue(this.parentSubject.entity);e.setEntityValue(this.entityWithFulfilledIds,t)}}),this.identifier=this.metadata.getEntityIdMap(this.entityWithFulfilledIds)):this.databaseEntity&&(this.identifier=this.metadata.getEntityIdMap(this.databaseEntity))}}class i6{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.metadata.oneToManyRelations.forEach(t=>{t.persistenceEnabled!==!1&&this.buildForSubjectRelation(e,t)})})}buildForSubjectRelation(e,t){var i;let r=[];if(e.databaseEntity){const a=t.getEntityValue(e.databaseEntity);a&&(r=a.map(l=>t.inverseEntityMetadata.getEntityIdMap(l)))}let s=t.getEntityValue(e.entity);if(s===null&&(s=[]),s===void 0)return;const o=[];s.forEach(a=>{let l=t.inverseEntityMetadata.getEntityIdMap(a),c=this.subjects.find(d=>d.entity===a);if(c&&(l=c.identifier),!l){if(!c)return;c.changeMaps.push({relation:t.inverseRelation,value:e});return}r.find(d=>ve.compareIds(l,d))||(c||(c=new wr({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:l}),this.subjects.push(c)),c.changeMaps.push({relation:t.inverseRelation,value:e})),o.push(l)}),((i=t.inverseRelation)===null||i===void 0?void 0:i.orphanedRowAction)!=="disable"&&Di.difference(r,o).forEach(a=>{const l=new wr({metadata:t.inverseEntityMetadata,parentSubject:e,identifier:a});!t.inverseRelation||t.inverseRelation.orphanedRowAction==="nullify"?(l.canBeUpdated=!0,l.changeMaps=[{relation:t.inverseRelation,value:null}]):t.inverseRelation.orphanedRowAction==="delete"?l.mustBeRemoved=!0:t.inverseRelation.orphanedRowAction==="soft-delete"&&(l.canBeSoftRemoved=!0),this.subjects.push(l)})}}class r6{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.metadata.oneToOneRelations.forEach(t=>{t.isOwning||t.persistenceEnabled===!1||this.buildForSubjectRelation(e,t)})})}buildForSubjectRelation(e,t){let i;e.databaseEntity&&(i=t.getEntityValue(e.databaseEntity));let r=t.getEntityValue(e.entity);if(r===void 0)return;if(r===null){if(i){const l=new wr({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:i,changeMaps:[{relation:t.inverseRelation,value:null}]});this.subjects.push(l)}return}let s=t.inverseEntityMetadata.getEntityIdMap(r),o=this.subjects.find(l=>!!l.entity&&l.entity===r);if(o&&(s=o.identifier),!s){if(!o)return;o.changeMaps.push({relation:t.inverseRelation,value:e})}i&&ve.compareIds(s,i)||(o||(o=new wr({metadata:t.inverseEntityMetadata,canBeUpdated:!0,identifier:s}),this.subjects.push(o)),o.changeMaps.push({relation:t.inverseRelation,value:e}))}}class Dw{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.entity&&e.metadata.manyToManyRelations.forEach(t=>{t.persistenceEnabled!==!1&&this.buildForSubjectRelation(e,t)})})}buildForAllRemoval(e){e.databaseEntity&&e.metadata.manyToManyRelations.forEach(t=>{if(t.persistenceEnabled===!1)return;t.getEntityValue(e.databaseEntity).forEach(r=>{const s=new wr({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,r)});this.subjects.push(s)})})}buildForSubjectRelation(e,t){let i=[];e.databaseEntity&&(i=t.getEntityValue(e.databaseEntity));let r=t.getEntityValue(e.entity);if(r===null&&(r=[]),!Array.isArray(r))return;r.forEach(a=>{let l=t.inverseEntityMetadata.getEntityIdMap(a);const c=this.subjects.find(g=>g.entity===a);if(c&&(l=c.identifier),!l&&!c||i.find(g=>ve.compareIds(g,l)))return;const d=t.isOwning?e:c||a,h=t.isOwning?c||a:e,f=new wr({metadata:t.junctionEntityMetadata,parentSubject:e,canBeInserted:!0});this.subjects.push(f),t.junctionEntityMetadata.ownerColumns.forEach(g=>{f.changeMaps.push({column:g,value:d})}),t.junctionEntityMetadata.inverseColumns.forEach(g=>{f.changeMaps.push({column:g,value:h})})});const s=[];r.forEach(a=>{let l=t.inverseEntityMetadata.getEntityIdMap(a);const c=this.subjects.find(u=>u.entity===a);c&&(l=c.identifier),l!=null&&s.push(l)}),i.filter(a=>!s.find(l=>ve.compareIds(l,a))).forEach(a=>{const l=new wr({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,a)});this.subjects.push(l)})}buildJunctionIdentifier(e,t,i){const r=t.isOwning?e.entity:i,s=t.isOwning?i:e.entity,o={};return t.junctionEntityMetadata.ownerColumns.forEach(a=>{ve.mergeDeep(o,a.createValueMap(a.referencedColumn.getEntityValue(r)))}),t.junctionEntityMetadata.inverseColumns.forEach(a=>{ve.mergeDeep(o,a.createValueMap(a.referencedColumn.getEntityValue(s)))}),o}}class s6{constructor(e,t){this.queryRunner=e,this.subjects=t}async load(e){const t=this.groupByEntityTargets().map(async i=>{const r=[],s=[];if(i.subjects.forEach(c=>{c.databaseEntity||!c.identifier||(r.push(c.identifier),s.push(c))}),!r.length)return;const o=[];e==="save"||e==="soft-remove"||e==="recover"?i.subjects.forEach(c=>{c.metadata.relations.forEach(u=>{u.getEntityValue(c.entityWithFulfilledIds)!==void 0&&o.indexOf(u.propertyPath)===-1&&o.push(u.propertyPath)})}):o.push(...i.subjects[0].metadata.manyToManyRelations.map(c=>c.propertyPath));const a={loadEagerRelations:!1,loadRelationIds:{relations:o,disableMixedMap:!0},withDeleted:!0};let l=[];this.queryRunner.connection.driver.options.type==="mongodb"?l=await this.queryRunner.manager.getRepository(i.target).findByIds(r,a):l=await this.queryRunner.manager.getRepository(i.target).createQueryBuilder().setFindOptions(a).whereInIds(r).getMany(),l.forEach(c=>{this.findByPersistEntityLike(i.target,c).forEach(d=>{d.databaseEntity=c,d.identifier||(d.identifier=d.metadata.hasAllPrimaryKeys(c)?d.metadata.getEntityIdMap(c):void 0)})});for(let c of s)c.databaseEntityLoaded=!0});await Promise.all(t)}findByPersistEntityLike(e,t){return this.subjects.filter(i=>i.entity?i.entity===t?!0:i.metadata.target===e&&i.metadata.compareEntities(i.entityWithFulfilledIds,t):!1)}groupByEntityTargets(){return this.subjects.reduce((e,t)=>{let i=e.find(r=>r.target===t.metadata.target);return i||(i={target:t.metadata.target,subjects:[]},e.push(i)),i.subjects.push(t),e},[])}}class o6{constructor(e){this.allSubjects=e}build(e,t){e.metadata.extractRelationValuesFromEntity(e.entity,e.metadata.relations).forEach(([i,r,s])=>{if(r==null||!i.isCascadeInsert&&!i.isCascadeUpdate&&!i.isCascadeSoftRemove&&!i.isCascadeRecover||!Be.isObject(r))return;const o=this.findByPersistEntityLike(s.target,r);if(o){o.canBeInserted===!1&&(o.canBeInserted=i.isCascadeInsert===!0&&t==="save"),o.canBeUpdated===!1&&(o.canBeUpdated=i.isCascadeUpdate===!0&&t==="save"),o.canBeSoftRemoved===!1&&(o.canBeSoftRemoved=i.isCascadeSoftRemove===!0&&t==="soft-remove"),o.canBeRecovered===!1&&(o.canBeRecovered=i.isCascadeRecover===!0&&t==="recover");return}const a=new wr({metadata:s,parentSubject:e,entity:r,canBeInserted:i.isCascadeInsert===!0&&t==="save",canBeUpdated:i.isCascadeUpdate===!0&&t==="save",canBeSoftRemoved:i.isCascadeSoftRemove===!0&&t==="soft-remove",canBeRecovered:i.isCascadeRecover===!0&&t==="recover"});this.allSubjects.push(a),this.build(a,t)})}findByPersistEntityLike(e,t){return this.allSubjects.find(i=>i.entity?i.entity===t?!0:i.metadata.target===e&&i.metadata.compareEntities(i.entityWithFulfilledIds,t):!1)}}class lu{constructor(e,t,i,r,s,o){this.connection=e,this.queryRunner=t,this.mode=i,this.target=r,this.entity=s,this.options=o}async execute(){if(!this.entity||typeof this.entity!="object")return Promise.reject(new iF(this.mode,this.entity));await Promise.resolve();const e=this.queryRunner||this.connection.createQueryRunner();let t=e.data;this.options&&this.options.data&&(e.data=this.options.data);try{const i=Array.isArray(this.entity)?this.entity:[this.entity],r=this.options&&this.options.chunk&&this.options.chunk>0?ve.chunk(i,this.options.chunk):[i],o=(await Promise.all(r.map(async l=>{const c=[];l.forEach(d=>{const h=this.target?this.target:d.constructor;if(h===Object)throw new Z3(this.mode);let f=this.connection.getMetadata(h).findInheritanceMetadata(d);c.push(new wr({metadata:f,entity:d,canBeInserted:this.mode==="save",canBeUpdated:this.mode==="save",mustBeRemoved:this.mode==="remove",canBeSoftRemoved:this.mode==="soft-remove",canBeRecovered:this.mode==="recover"}))});const u=new o6(c);return c.forEach(d=>{u.build(d,this.mode)}),await new s6(e,c).load(this.mode),this.mode==="save"||this.mode==="soft-remove"||this.mode==="recover"?(new i6(c).build(),new r6(c).build(),new Dw(c).build()):c.forEach(d=>{d.mustBeRemoved&&new Dw(c).buildForAllRemoval(d)}),new n6(e,c,this.options)}))).filter(l=>l.hasExecutableOperations);if(o.length===0)return;let a=!1;try{e.isTransactionActive||this.connection.driver.transactionSupport!=="none"&&(!this.options||this.options.transaction!==!1)&&(a=!0,await e.startTransaction());for(const l of o)await l.execute();a===!0&&await e.commitTransaction()}catch(l){if(a)try{await e.rollbackTransaction()}catch(c){}throw l}}finally{e.data=t,this.queryRunner||await e.release()}}}class TC{constructor(e,t){this["@instanceof"]=Symbol.for("EntityManager"),this.repositories=new Map,this.treeRepositories=[],this.plainObjectToEntityTransformer=new MF,this.connection=e,t&&(this.queryRunner=t,Be.assign(this.queryRunner,{manager:this}))}async transaction(e,t){const i=typeof e=="string"?e:void 0,r=typeof e=="function"?e:t;if(!r)throw new q("Transaction method requires callback in second parameter if isolation level is supplied.");if(this.queryRunner&&this.queryRunner.isReleased)throw new mC;const s=this.queryRunner||this.connection.createQueryRunner();try{await s.startTransaction(i);const o=await r(s.manager);return await s.commitTransaction(),o}catch(o){try{await s.rollbackTransaction()}catch(a){}throw o}finally{this.queryRunner||await s.release()}}async query(e,t){return this.connection.query(e,t,this.queryRunner)}createQueryBuilder(e,t,i){return t?this.connection.createQueryBuilder(e,t,i||this.queryRunner):this.connection.createQueryBuilder(e||i||this.queryRunner)}hasId(e,t){const i=arguments.length===2?e:e.constructor,r=arguments.length===2?t:e;return this.connection.getMetadata(i).hasId(r)}getId(e,t){const i=arguments.length===2?e:e.constructor,r=arguments.length===2?t:e;return this.connection.getMetadata(i).getEntityIdMixedMap(r)}create(e,t){const i=this.connection.getMetadata(e);if(!t)return i.create(this.queryRunner);if(Array.isArray(t))return t.map(s=>this.create(e,s));const r=i.create(this.queryRunner);return this.plainObjectToEntityTransformer.transform(r,t,i,!0),r}merge(e,t,...i){const r=this.connection.getMetadata(e);return i.forEach(s=>this.plainObjectToEntityTransformer.transform(t,s,r)),t}async preload(e,t){const i=this.connection.getMetadata(e),s=await new _F(this.connection.manager).transform(t,i);if(s)return this.merge(e,s,t)}save(e,t,i){let r=arguments.length>1&&(typeof e=="function"||V.isEntitySchema(e)||typeof e=="string")?e:void 0;const s=r?t:e,o=r?i:t;return V.isEntitySchema(r)&&(r=r.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new lu(this.connection,this.queryRunner,"save",r,s,o).execute().then(()=>s)}remove(e,t,i){const r=arguments.length>1&&(typeof e=="function"||V.isEntitySchema(e)||typeof e=="string")?e:void 0,s=r?t:e,o=r?i:t;return Array.isArray(s)&&s.length===0?Promise.resolve(s):new lu(this.connection,this.queryRunner,"remove",r,s,o).execute().then(()=>s)}softRemove(e,t,i){let r=arguments.length>1&&(typeof e=="function"||V.isEntitySchema(e)||typeof e=="string")?e:void 0;const s=r?t:e,o=r?i:t;return V.isEntitySchema(r)&&(r=r.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new lu(this.connection,this.queryRunner,"soft-remove",r,s,o).execute().then(()=>s)}recover(e,t,i){let r=arguments.length>1&&(typeof e=="function"||V.isEntitySchema(e)||typeof e=="string")?e:void 0;const s=r?t:e,o=r?i:t;return V.isEntitySchema(r)&&(r=r.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new lu(this.connection,this.queryRunner,"recover",r,s,o).execute().then(()=>s)}async insert(e,t){return this.createQueryBuilder().insert().into(e).values(t).execute()}async upsert(e,t,i){const r=this.connection.getMetadata(e);let s;Array.isArray(i)?s={conflictPaths:i}:s=i;let o;Array.isArray(t)?o=t:o=[t];const a=r.mapPropertyPathsToColumns(Array.isArray(s.conflictPaths)?s.conflictPaths:Object.keys(s.conflictPaths)),l=r.columns.filter(c=>!a.includes(c)&&o.some(u=>typeof c.getEntityValue(u)<"u"));return this.createQueryBuilder().insert().into(e).values(o).orUpdate([...a,...l].map(c=>c.databaseName),a.map(c=>c.databaseName),{skipUpdateIfNoValuesChanged:s.skipUpdateIfNoValuesChanged,indexPredicate:s.indexPredicate,upsertType:s.upsertType||this.connection.driver.supportedUpsertTypes[0]}).execute()}update(e,t,i){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new q("Empty criteria(s) are not allowed for the update method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().update(e).set(i).whereInIds(t).execute():this.createQueryBuilder().update(e).set(i).where(t).execute()}delete(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new q("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().delete().from(e).whereInIds(t).execute():this.createQueryBuilder().delete().from(e).where(t).execute()}softDelete(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new q("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().softDelete().from(e).whereInIds(t).execute():this.createQueryBuilder().softDelete().from(e).where(t).execute()}restore(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new q("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().restore().from(e).whereInIds(t).execute():this.createQueryBuilder().restore().from(e).where(t).execute()}exists(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,cn.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getExists()}count(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,cn.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getCount()}countBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getCount()}sum(e,t,i){return this.callAggregateFun(e,"SUM",t,i)}average(e,t,i){return this.callAggregateFun(e,"AVG",t,i)}minimum(e,t,i){return this.callAggregateFun(e,"MIN",t,i)}maximum(e,t,i){return this.callAggregateFun(e,"MAX",t,i)}async callAggregateFun(e,t,i,r={}){const s=this.connection.getMetadata(e),o=await this.createQueryBuilder(e,s.name).setFindOptions({where:r}).select("".concat(t,"(").concat(this.connection.driver.escape(String(i)),")"),t).getRawOne();return o[t]===null?null:parseFloat(o[t])}async find(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,cn.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getMany()}async findBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getMany()}findAndCount(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,cn.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getManyAndCount()}findAndCountBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getManyAndCount()}async findByIds(e,t){if(!t.length)return Promise.resolve([]);const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).andWhereInIds(t).getMany()}async findOne(e,t){let r=this.connection.getMetadata(e).name;if(t&&t.join&&(r=t.join.alias),!t.where)throw new Error("You must provide selection conditions in order to find a single row.");return this.createQueryBuilder(e,r).setFindOptions({...t,take:1}).getOne()}async findOneBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t,take:1}).getOne()}async findOneById(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({take:1}).whereInIds(i.ensureEntityIdMap(t)).getOne()}async findOneOrFail(e,t){return this.findOne(e,t).then(i=>i===null?Promise.reject(new Km(e,t)):Promise.resolve(i))}async findOneByOrFail(e,t){return this.findOneBy(e,t).then(i=>i===null?Promise.reject(new Km(e,t)):Promise.resolve(i))}async clear(e){const t=this.connection.getMetadata(e),i=this.queryRunner||this.connection.createQueryRunner();try{return await i.clearTable(t.tablePath)}finally{this.queryRunner||await i.release()}}async increment(e,t,i,r){const s=this.connection.getMetadata(e),o=s.findColumnWithPropertyPath(i);if(!o)throw new q("Column ".concat(i," was not found in ").concat(s.targetName," entity."));if(isNaN(Number(r)))throw new q('Value "'.concat(r,'" is not a number.'));const a=i.split(".").reduceRight((l,c)=>({[c]:l}),()=>this.connection.driver.escape(o.databaseName)+" + "+r);return this.createQueryBuilder(e,"entity").update(e).set(a).where(t).execute()}async decrement(e,t,i,r){const s=this.connection.getMetadata(e),o=s.findColumnWithPropertyPath(i);if(!o)throw new q("Column ".concat(i," was not found in ").concat(s.targetName," entity."));if(isNaN(Number(r)))throw new q('Value "'.concat(r,'" is not a number.'));const a=i.split(".").reduceRight((l,c)=>({[c]:l}),()=>this.connection.driver.escape(o.databaseName)+" - "+r);return this.createQueryBuilder(e,"entity").update(e).set(a).where(t).execute()}getRepository(e){const t=this.repositories.get(e);if(t)return t;if(this.connection.driver.options.type==="mongodb"){const i=new SF(e,this,this.queryRunner);return this.repositories.set(e,i),i}else{const i=new vC(e,this,this.queryRunner);return this.repositories.set(e,i),i}}getTreeRepository(e){if(this.connection.driver.treeSupport===!1)throw new eF(this.connection.driver);const t=this.treeRepositories.find(r=>r.target===e);if(t)return t;const i=new $F(e,this,this.queryRunner);return this.treeRepositories.push(i),i}getMongoRepository(e){return this.connection.getMongoRepository(e)}withRepository(e){const t=e.constructor,{target:i,manager:r,queryRunner:s,...o}=e;return Object.assign(new t(e.target,this),{...o})}getCustomRepository(e){const t=Ri().entityRepositories.find(s=>s.target===(typeof e=="function"?e:e.constructor));if(!t)throw new pC(e);const i=t.entity?this.connection.getMetadata(t.entity):void 0,r=new t.target(this,i);if(r instanceof LF)r.manager||(r.manager=this);else{if(!i)throw new sF(e);r.manager=this,r.metadata=i}return r}async release(){if(!this.queryRunner)throw new mF;return this.queryRunner.release()}}class a6 extends TC{constructor(e,t){super(e,t),this["@instanceof"]=Symbol.for("SqljsEntityManager"),this.driver=e.driver}async loadDatabase(e){await this.driver.load(e)}async saveDatabase(e){await this.driver.save(e)}exportDatabase(){return this.driver.export()}}class l6{create(e,t){return e.driver.options.type==="mongodb"?new TF(e):e.driver.options.type==="sqljs"?new a6(e,t):new TC(e,t)}}class Nr{constructor(e){this["@instanceof"]=Symbol.for("View"),this.indices=[],e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,this.expression=e.expression,this.materialized=!!e.materialized)}clone(){return new Nr({database:this.database,schema:this.schema,name:this.name,expression:this.expression,materialized:this.materialized})}addIndex(e){this.indices.push(e)}removeIndex(e){const t=this.indices.find(i=>i.name===e.name);t&&this.indices.splice(this.indices.indexOf(t),1)}static create(e,t){const i={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,e.schema,e.database),expression:e.expression,materialized:e.tableMetadataArgs.materialized};return new Nr(i)}}class qw{static viewMetadataCmp(e,t){return!e||!t?0:e.dependsOn&&(e.dependsOn.has(t.target)||e.dependsOn.has(t.name))?1:t.dependsOn&&(t.dependsOn.has(e.target)||t.dependsOn.has(e.name))?-1:0}}class Vh{constructor(e){this.connection=e,this["@instanceof"]=Symbol.for("RdbmsSchemaBuilder")}async build(){this.queryRunner=this.connection.createQueryRunner(),this.currentDatabase=this.connection.driver.database,this.currentSchema=this.connection.driver.schema;const e=this.connection.driver.options.type!=="cockroachdb"&&this.connection.driver.options.type!=="spanner"&&this.connection.options.migrationsTransactionMode!=="none";await this.queryRunner.beforeMigration(),e&&await this.queryRunner.startTransaction();try{await this.createMetadataTableIfNecessary(this.queryRunner);const t=this.entityToSyncMetadatas.map(r=>this.getTablePath(r)),i=this.viewEntityToSyncMetadatas.map(r=>this.getTablePath(r));await this.queryRunner.getTables(t),await this.queryRunner.getViews(i),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),e&&await this.queryRunner.commitTransaction()}catch(t){try{e&&await this.queryRunner.rollbackTransaction()}catch(i){}throw t}finally{await this.queryRunner.afterMigration(),await this.queryRunner.release()}}async createMetadataTableIfNecessary(e){(this.viewEntityToSyncMetadatas.length>0||this.hasGeneratedColumns())&&await this.createTypeormMetadataTable(e)}async log(){this.queryRunner=this.connection.createQueryRunner();try{const e=this.entityToSyncMetadatas.map(i=>this.getTablePath(i)),t=this.viewEntityToSyncMetadatas.map(i=>this.getTablePath(i));return await this.queryRunner.getTables(e),await this.queryRunner.getViews(t),this.queryRunner.enableSqlMemory(),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),this.queryRunner.getMemorySql()}finally{this.queryRunner.disableSqlMemory(),await this.queryRunner.release()}}get entityToSyncMetadatas(){return this.connection.entityMetadatas.filter(e=>e.synchronize&&e.tableType!=="entity-child"&&e.tableType!=="view")}get viewEntityToSyncMetadatas(){return this.connection.entityMetadatas.filter(e=>e.tableType==="view"&&e.synchronize).sort(qw.viewMetadataCmp)}hasGeneratedColumns(){return this.connection.entityMetadatas.some(e=>e.columns.some(t=>t.generatedType))}async executeSchemaSyncOperationsInProperOrder(){await this.dropOldViews(),await this.dropOldForeignKeys(),await this.dropOldIndices(),await this.dropOldChecks(),await this.dropOldExclusions(),await this.dropCompositeUniqueConstraints(),await this.renameColumns(),await this.createNewTables(),await this.dropRemovedColumns(),await this.addNewColumns(),await this.updatePrimaryKeys(),await this.updateExistColumns(),await this.createNewIndices(),await this.createNewChecks(),await this.createNewExclusions(),await this.createCompositeUniqueConstraints(),await this.createForeignKeys(),await this.createViews(),await this.createNewViewIndices()}getTablePath(e){const t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema||this.currentSchema,t.database||this.currentDatabase)}async dropOldForeignKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.foreignKeys.filter(r=>{const s=e.foreignKeys.find(o=>r.name===o.name&&this.getTablePath(r)===this.getTablePath(o.referencedEntityMetadata));return!s||s.onDelete&&s.onDelete!==r.onDelete||s.onUpdate&&s.onUpdate!==r.onUpdate});i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old foreign keys of ".concat(t.name,": ").concat(i.map(r=>r.name).join(", "))),await this.queryRunner.dropForeignKeys(t,i))}}async renameTables(){}async renameColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===this.getTablePath(e));if(!t||e.columns.length!==t.columns.length)continue;const i=e.columns.filter(o=>!o.isVirtualProperty).filter(o=>!t.columns.find(a=>a.name===o.databaseName&&a.type===this.connection.driver.normalizeType(o)&&a.isNullable===o.isNullable&&a.isUnique===this.connection.driver.normalizeIsUnique(o)));if(i.length===0||i.length>1)continue;const r=t.columns.filter(o=>!e.columns.find(a=>!a.isVirtualProperty&&a.databaseName===o.name&&this.connection.driver.normalizeType(a)===o.type&&a.isNullable===o.isNullable&&this.connection.driver.normalizeIsUnique(a)===o.isUnique));if(r.length===0||r.length>1)continue;const s=r[0].clone();s.name=i[0].databaseName,this.connection.logger.logSchemaBuild('renaming column "'.concat(r[0].name,'" in "').concat(t.name,'" to "').concat(s.name,'"')),await this.queryRunner.renameColumn(t,r[0],s)}}async dropOldIndices(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.indices.filter(r=>{const s=e.indices.find(o=>o.name===r.name);return s?s.synchronize===!1?!1:s.isUnique!==r.isUnique||s.isSpatial!==r.isSpatial||this.connection.driver.isFullTextColumnTypeSupported()&&s.isFulltext!==r.isFulltext||s.columns.length!==r.columnNames.length?!0:!s.columns.every(o=>r.columnNames.indexOf(o.databaseName)!==-1):!0}).map(async r=>{this.connection.logger.logSchemaBuild('dropping an index: "'.concat(r.name,'" from table ').concat(t.name)),await this.queryRunner.dropIndex(t,r)});await Promise.all(i)}if(this.connection.options.type==="postgres"){const e=this.queryRunner;for(const t of this.viewEntityToSyncMetadatas){const i=this.queryRunner.loadedViews.find(s=>this.getTablePath(s)===this.getTablePath(t));if(!i)continue;const r=i.indices.filter(s=>{const o=t.indices.find(a=>a.name===s.name);return o?o.synchronize===!1?!1:o.isUnique!==s.isUnique||o.isSpatial!==s.isSpatial||this.connection.driver.isFullTextColumnTypeSupported()&&o.isFulltext!==s.isFulltext||o.columns.length!==s.columnNames.length?!0:!o.columns.every(a=>s.columnNames.indexOf(a.databaseName)!==-1):!0}).map(async s=>{this.connection.logger.logSchemaBuild('dropping an index: "'.concat(s.name,'" from view ').concat(i.name)),await e.dropViewIndex(i,s)});await Promise.all(r)}}}async dropOldChecks(){if(!(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"))for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.checks.filter(r=>!e.checks.find(s=>s.name===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old check constraint: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' from table "').concat(t.name,'"')),await this.queryRunner.dropCheckConstraints(t,i))}}async dropCompositeUniqueConstraints(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.uniques.filter(r=>r.columnNames.length>1&&!e.uniques.find(s=>s.name===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old unique constraint: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' from table "').concat(t.name,'"')),await this.queryRunner.dropUniqueConstraints(t,i))}}async dropOldExclusions(){if(this.connection.driver.options.type==="postgres")for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.exclusions.filter(r=>!e.exclusions.find(s=>s.name===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old exclusion constraint: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' from table "').concat(t.name,'"')),await this.queryRunner.dropExclusionConstraints(t,i))}}async createNewTables(){for(const e of this.entityToSyncMetadatas){if(this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e)))continue;this.connection.logger.logSchemaBuild("creating a new table: ".concat(this.getTablePath(e)));const i=mt.create(e,this.connection.driver);await this.queryRunner.createTable(i,!1,!1),this.queryRunner.loadedTables.push(i)}}async createViews(){for(const e of this.viewEntityToSyncMetadatas){if(this.queryRunner.loadedViews.find(r=>{const s=typeof r.expression=="string"?r.expression.trim():r.expression(this.connection).getQuery(),o=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.getTablePath(r)===this.getTablePath(e)&&s===o}))continue;this.connection.logger.logSchemaBuild("creating a new view: ".concat(this.getTablePath(e)));const i=Nr.create(e,this.connection.driver);await this.queryRunner.createView(i,!0),this.queryRunner.loadedViews.push(i)}}async dropOldViews(){const e=[],t=this.viewEntityToSyncMetadatas,i=new Map;for(const o of this.queryRunner.loadedViews){const a=t.find(l=>this.getTablePath(o)===this.getTablePath(l));a&&i.set(o,a)}for(const o of this.queryRunner.loadedViews){const a=i.get(o);if(!a)continue;const l=typeof o.expression=="string"?o.expression.trim():o.expression(this.connection).getQuery(),c=typeof a.expression=="string"?a.expression.trim():a.expression(this.connection).getQuery();l!==c&&(this.connection.logger.logSchemaBuild("dropping an old view: ".concat(o.name)),e.push(o))}const r=o=>{const a=i.get(o);let l=[o];if(!a)return l;for(const[c,u]of i.entries())c!==o&&u.dependsOn&&(u.dependsOn.has(a.target)||u.dependsOn.has(a.name))&&(l=l.concat(r(c)));return l},s=new Set(e.map(o=>r(o)).reduce((o,a)=>o.concat(a),[]).sort((o,a)=>qw.viewMetadataCmp(i.get(o),i.get(a))).reverse());for(const o of s)await this.queryRunner.dropView(o);this.queryRunner.loadedViews=this.queryRunner.loadedViews.filter(o=>!s.has(o))}async dropRemovedColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.columns.filter(r=>!e.columns.find(s=>s.isVirtualProperty||s.databaseName===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("columns dropped in ".concat(t.name,": ")+i.map(r=>r.name).join(", ")),await this.queryRunner.dropColumns(t,i))}}async addNewColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===this.getTablePath(e));if(!t)continue;const i=e.columns.filter(o=>!o.isVirtualProperty&&!t.columns.find(a=>a.name===o.databaseName));if(i.length===0)continue;const s=this.metadataColumnsToTableColumnOptions(i).map(o=>new An(o));s.length!==0&&(this.connection.logger.logSchemaBuild("new columns added: "+i.map(o=>o.databaseName).join(", ")),await this.queryRunner.addColumns(t,s))}}async updatePrimaryKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;const i=e.columns.filter(s=>s.isPrimary);if(t.columns.filter(s=>s.isPrimary).length!==i.length&&i.length>1){const s=i.map(o=>new An(qu.createTableColumnOptions(o,this.connection.driver)));await this.queryRunner.updatePrimaryKeys(t,s)}}}async updateExistColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;const i=this.connection.driver.findChangedColumns(t.columns,e.columns);if(i.length===0)continue;for(const s of i)await this.dropColumnReferencedForeignKeys(this.getTablePath(e),s.databaseName);for(const s of i)await this.dropColumnCompositeIndices(this.getTablePath(e),s.databaseName);if(!(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="spanner"))for(const s of i)await this.dropColumnCompositeUniques(this.getTablePath(e),s.databaseName);const r=i.map(s=>{const o=t.columns.find(c=>c.name===s.databaseName),a=qu.createTableColumnOptions(s,this.connection.driver),l=new An(a);return{oldColumn:o,newColumn:l}});r.length!==0&&(this.connection.logger.logSchemaBuild('columns changed in "'.concat(t.name,'". updating: ')+i.map(s=>s.databaseName).join(", ")),await this.queryRunner.changeColumns(t,r))}}async createNewIndices(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.indices.filter(r=>!t.indices.find(s=>s.name===r.name)&&r.synchronize===!0).map(r=>Ct.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new indices ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createIndices(t,i))}}async createNewViewIndices(){if(this.connection.options.type!=="postgres"||!me.isPostgresFamily(this.connection.driver))return;const e=this.queryRunner;for(const t of this.viewEntityToSyncMetadatas){const i=this.queryRunner.loadedViews.find(s=>{const o=typeof s.expression=="string"?s.expression.trim():s.expression(this.connection).getQuery(),a=typeof t.expression=="string"?t.expression.trim():t.expression(this.connection).getQuery();return this.getTablePath(s)===this.getTablePath(t)&&o===a});if(!i||!i.materialized)continue;const r=t.indices.filter(s=>!i.indices.find(o=>o.name===s.name)&&s.synchronize===!0).map(s=>Ct.create(s));r.length!==0&&(this.connection.logger.logSchemaBuild("adding new indices ".concat(r.map(s=>'"'.concat(s.name,'"')).join(", "),' in view "').concat(i.name,'"')),await e.createViewIndices(i,r))}}async createNewChecks(){if(!(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"))for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.checks.filter(r=>!t.checks.find(s=>s.name===r.name)).map(r=>Li.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new check constraints: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createCheckConstraints(t,i))}}async createCompositeUniqueConstraints(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.uniques.filter(r=>r.columns.length>1&&!t.uniques.find(s=>s.name===r.name)).map(r=>dn.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new unique constraints: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createUniqueConstraints(t,i))}}async createNewExclusions(){if(this.connection.driver.options.type==="postgres")for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.exclusions.filter(r=>!t.exclusions.find(s=>s.name===r.name)).map(r=>Ws.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new exclusion constraints: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createExclusionConstraints(t,i))}}async createForeignKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;const i=e.foreignKeys.filter(s=>!t.foreignKeys.find(o=>o.name===s.name&&this.getTablePath(o)===this.getTablePath(s.referencedEntityMetadata)));if(i.length===0)continue;const r=i.map(s=>di.create(s,this.connection.driver));this.connection.logger.logSchemaBuild("creating a foreign keys: ".concat(i.map(s=>s.name).join(", "),' on table "').concat(t.name,'"')),await this.queryRunner.createForeignKeys(t,r)}}async dropColumnReferencedForeignKeys(e,t){const i=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===e);if(!i)return;const r=[],s=i.foreignKeys.find(o=>o.columnNames.indexOf(t)!==-1);if(s){const o=i.clone();o.foreignKeys=[s],r.push(o),i.removeForeignKey(s)}for(const o of this.queryRunner.loadedTables){const a=o.foreignKeys.filter(l=>this.getTablePath(l)===e&&l.referencedColumnNames.indexOf(t)!==-1);if(a.length>0){const l=o.clone();l.foreignKeys=a,r.push(l),a.forEach(c=>o.removeForeignKey(c))}}if(r.length>0)for(const o of r)this.connection.logger.logSchemaBuild("dropping related foreign keys of ".concat(o.name,": ").concat(o.foreignKeys.map(a=>a.name).join(", "))),await this.queryRunner.dropForeignKeys(o,o.foreignKeys)}async dropColumnCompositeIndices(e,t){const i=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===e);if(!i)return;const r=i.indices.filter(s=>s.columnNames.length>1&&s.columnNames.indexOf(t)!==-1);r.length!==0&&(this.connection.logger.logSchemaBuild('dropping related indices of "'.concat(e,'"."').concat(t,'": ').concat(r.map(s=>s.name).join(", "))),await this.queryRunner.dropIndices(i,r))}async dropColumnCompositeUniques(e,t){const i=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===e);if(!i)return;const r=i.uniques.filter(s=>s.columnNames.length>1&&s.columnNames.indexOf(t)!==-1);r.length!==0&&(this.connection.logger.logSchemaBuild('dropping related unique constraints of "'.concat(e,'"."').concat(t,'": ').concat(r.map(s=>s.name).join(", "))),await this.queryRunner.dropUniqueConstraints(i,r))}metadataColumnsToTableColumnOptions(e){return e.map(t=>qu.createTableColumnOptions(t,this.connection.driver))}async createTypeormMetadataTable(e){const t=this.currentSchema,i=this.currentDatabase,r=this.connection.driver.buildTableName(this.connection.metadataTableName,t,i),s=this.connection.driver.options.type==="spanner";await e.createTable(new mt({database:i,schema:t,name:r,columns:[{name:"type",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataType}),isNullable:!1,isPrimary:s},{name:"database",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataDatabase}),isNullable:!0,isPrimary:s},{name:"schema",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataSchema}),isNullable:!0,isPrimary:s},{name:"table",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataTable}),isNullable:!0,isPrimary:s},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataName}),isNullable:!0,isPrimary:s},{name:"value",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataValue}),isNullable:!0,isPrimary:s}]}),!0)}}class uc{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["int","integer","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8","integer","character","varchar","varying character","nchar","native character","nvarchar","text","clob","text","blob","real","double","double precision","float","real","numeric","decimal","boolean","date","time","datetime","json"],this.supportedUpsertTypes=["on-conflict-do-update"],this.withLengthColumnTypes=["character","varchar","varying character","nchar","native character","nvarchar","text","blob","clob"],this.spatialTypes=[],this.withPrecisionColumnTypes=["real","double","double precision","float","real","numeric","decimal","date","time","datetime"],this.withScaleColumnTypes=["real","double","double precision","float","real","numeric","decimal"],this.mappedDataTypes={createDate:"datetime",createDateDefault:"datetime('now')",updateDate:"datetime",updateDateDefault:"datetime('now')",deleteDate:"datetime",deleteDateNullable:!0,version:"integer",treeLevel:"integer",migrationId:"integer",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.cteCapabilities={enabled:!0,requiresRecursiveHint:!0},this.attachedDatabases={},this.connection=e,this.options=e.options,this.database=me.buildDriverOptions(this.options).database}async connect(){this.databaseConnection=await this.createDatabaseConnection()}afterConnect(){return Promise.resolve()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close(i=>i?t(i):e())})}hasAttachedDatabases(){return!!Object.keys(this.attachedDatabases).length}getAttachedDatabaseHandleByRelativePath(e){var t,i;return(i=(t=this.attachedDatabases)===null||t===void 0?void 0:t[e])===null||i===void 0?void 0:i.attachHandle}getAttachedDatabasePathRelativeByHandle(e){var t;return(t=Object.values(this.attachedDatabases).find(({attachHandle:i})=>e===i))===null||t===void 0?void 0:t.attachFilepathRelative}createSchemaBuilder(){return new Vh(this.connection)}preparePersistentValue(e,t){return t.transformer&&(e=Ut.transformTo(t.transformer,e)),e==null?e:t.type===Boolean||t.type==="boolean"?e===!0?1:0:t.type==="date"?ke.mixedDateToDateString(e):t.type==="time"?ke.mixedDateToTimeString(e):t.type==="datetime"||t.type===Date?ke.mixedDateToUtcDatetimeString(e):t.type==="json"||t.type==="simple-json"?ke.simpleJsonToString(e):t.type==="simple-array"?ke.simpleArrayToString(e):t.type==="simple-enum"?ke.simpleEnumToString(e):e}prepareHydratedValue(e,t){return e==null?t.transformer?Ut.transformFrom(t.transformer,e):e:(t.type===Boolean||t.type==="boolean"?e=!!e:t.type==="datetime"||t.type===Date?(e&&typeof e=="string"&&(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d/.test(e)&&(e=e.replace(" ","T")),/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d(:\d\d(\.\d\d\d)?)?$/.test(e)&&(e+="Z")),e=ke.normalizeHydratedDate(e)):t.type==="date"?e=ke.mixedDateToDateString(e):t.type==="time"?e=ke.mixedTimeToString(e):t.type==="json"||t.type==="simple-json"?e=ke.stringToSimpleJson(e):t.type==="simple-array"?e=ke.stringToSimpleArray(e):t.type==="simple-enum"?e=ke.stringToSimpleEnum(e,t):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=Ut.transformFrom(t.transformer,e)),e)}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>typeof i[s]=="boolean"?i[s]===!0?1:0:i[s]instanceof Date?ke.mixedDateToUtcDatetimeString(i[s]):i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):typeof l=="function"?l():typeof l=="number"?String(l):typeof l=="boolean"?(r.push(+l),this.createParameter(a,r.length-1)):l instanceof Date?(r.push(ke.mixedDateToUtcDatetimeString(l)),this.createParameter(a,r.length-1)):(r.push(l),this.createParameter(a,r.length-1))}),[e,r])}escape(e){return'"'+e+'"'}buildTableName(e,t,i){return e}parseTableName(e){var t;const i=this.database,r=void 0;if(V.isTable(e)||V.isView(e)){const o=this.parseTableName(e.schema?'"'.concat(e.schema,'"."').concat(e.name,'"'):e.name);return{database:e.database||o.database||i,schema:e.schema||o.schema||r,tableName:o.tableName}}if(V.isTableForeignKey(e)){const o=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||o.database||i,schema:e.referencedSchema||o.schema||r,tableName:o.tableName}}if(V.isEntityMetadata(e))return{database:e.database||i,schema:e.schema||r,tableName:e.tableName};const s=e.split(".");return s.length===3?{database:s[0]||i,schema:s[1]||r,tableName:s[2]}:s.length===2?{database:(t=this.getAttachedDatabasePathRelativeByHandle(s[0]))!==null&&t!==void 0?t:i,schema:s[0],tableName:s[1]}:{database:i,schema:r,tableName:e}}normalizeType(e){return e.type===Number||e.type==="int"?"integer":e.type===String?"varchar":e.type===Date?"datetime":e.type===Boolean?"boolean":e.type==="uuid"?"varchar":e.type==="simple-array"||e.type==="simple-json"?"text":e.type==="simple-enum"?"varchar":e.type||""}normalizeDefault(e){const t=e.default;if(typeof t=="number")return""+t;if(typeof t=="boolean")return t?"1":"0";if(typeof t=="function")return t();if(typeof t=="string")return"'".concat(t,"'");if(t!=null)return"".concat(t)}normalizeIsUnique(e){return e.entityMetadata.uniques.some(t=>t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){return e.length?e.length.toString():""}createFullType(e){let t=e.type;return e.enum?"varchar":(e.length?t+="("+e.length+")":e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="("+e.precision+","+e.scale+")":e.precision!==null&&e.precision!==void 0&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t)}obtainMasterConnection(){return Promise.resolve()}obtainSlaveConnection(){return Promise.resolve()}createGeneratedMap(e,t,i,r){const s=e.generatedColumns.reduce((o,a)=>{let l;return a.generationStrategy==="increment"&&t&&(l=t-r+i+1),l?ve.mergeDeep(o,a.createValueMap(l)):o},{});return Object.keys(s).length>0?s:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);return r?r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==i.length||r.precision!==i.precision||r.scale!==i.scale||this.normalizeDefault(i)!==r.default||r.isPrimary!==i.isPrimary||r.isNullable!==i.isNullable||r.generatedType!==i.generatedType||r.asExpression!==i.asExpression||r.isUnique!==this.normalizeIsUnique(i)||r.enum&&i.enum&&!ve.isArraysEqual(r.enum,i.enum.map(o=>o+""))||i.generationStrategy!=="uuid"&&r.isGenerated!==i.isGenerated:!1})}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"?"}createDatabaseConnection(){throw new q("Do not use AbstractSqlite directly, it has to be used with one of the sqlite drivers")}loadDependencies(){}}class M{constructor(e,t){this.query=e,this.parameters=t,this["@instanceof"]=Symbol.for("Query")}}class cu{constructor(){this.upQueries=[],this.downQueries=[]}}class Hh{constructor(){this.isReleased=!1,this.isTransactionActive=!1,this.data={},this.loadedTables=[],this.loadedViews=[],this.sqlMemoryMode=!1,this.sqlInMemory=new cu,this.transactionDepth=0,this.cachedTablePaths={}}async beforeMigration(){}async afterMigration(){}async getTable(e){return this.loadedTables=await this.loadTables([e]),this.loadedTables.length>0?this.loadedTables[0]:void 0}async getTables(e){return e?(this.loadedTables=await this.loadTables(e),this.loadedTables):await this.loadTables(e)}async getView(e){return this.loadedViews=await this.loadViews([e]),this.loadedViews.length>0?this.loadedViews[0]:void 0}async getViews(e){return this.loadedViews=await this.loadViews(e),this.loadedViews}enableSqlMemory(){this.sqlInMemory=new cu,this.sqlMemoryMode=!0}disableSqlMemory(){this.sqlInMemory=new cu,this.sqlMemoryMode=!1}clearSqlMemory(){this.sqlInMemory=new cu}getMemorySql(){return this.sqlInMemory}async executeMemoryUpSql(){for(const{query:e,parameters:t}of this.sqlInMemory.upQueries)await this.query(e,t)}async executeMemoryDownSql(){for(const{query:e,parameters:t}of this.sqlInMemory.downQueries.reverse())await this.query(e,t)}getReplicationMode(){return this.mode}async getCachedView(e){const t=this.loadedViews.find(r=>r.name===e);if(t)return t;const i=await this.loadViews([e]);if(i.length>0)return this.loadedViews.push(i[0]),i[0];throw new q('View "'.concat(e,'" does not exist.'))}async getCachedTable(e){if(e in this.cachedTablePaths){const i=this.cachedTablePaths[e],r=this.loadedTables.find(s=>this.getTablePath(s)===i);if(r)return r}const t=await this.loadTables([e]);if(t.length>0){const i=this.getTablePath(t[0]),r=this.loadedTables.find(s=>this.getTablePath(s)===i);return r||(this.cachedTablePaths[e]=this.getTablePath(t[0]),this.loadedTables.push(t[0]),t[0])}else throw new q('Table "'.concat(e,'" does not exist.'))}replaceCachedTable(e,t){const i=this.getTablePath(e),r=this.loadedTables.find(s=>this.getTablePath(s)===i);for(const[s,o]of Object.entries(this.cachedTablePaths))o===i&&(this.cachedTablePaths[s]=this.getTablePath(t));r&&(r.database=t.database,r.schema=t.schema,r.name=t.name,r.columns=t.columns,r.indices=t.indices,r.foreignKeys=t.foreignKeys,r.uniques=t.uniques,r.checks=t.checks,r.justCreated=t.justCreated,r.engine=t.engine)}getTablePath(e){const t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema,t.database)}getTypeormMetadataTableName(){const e=this.connection.driver.options;return this.connection.driver.buildTableName(this.connection.metadataTableName,e.schema,e.database)}selectTypeormMetadataSql({database:e,schema:t,table:i,type:r,name:s}){const o=this.connection.createQueryBuilder(),a=o.select().from(this.getTypeormMetadataTableName(),"t").where("".concat(o.escape("type")," = :type"),{type:r}).andWhere("".concat(o.escape("name")," = :name"),{name:s});e&&a.andWhere("".concat(o.escape("database")," = :database"),{database:e}),t&&a.andWhere("".concat(o.escape("schema")," = :schema"),{schema:t}),i&&a.andWhere("".concat(o.escape("table")," = :table"),{table:i});const[l,c]=a.getQueryAndParameters();return new M(l,c)}insertTypeormMetadataSql({database:e,schema:t,table:i,type:r,name:s,value:o}){const[a,l]=this.connection.createQueryBuilder().insert().into(this.getTypeormMetadataTableName()).values({database:e,schema:t,table:i,type:r,name:s,value:o}).getQueryAndParameters();return new M(a,l)}deleteTypeormMetadataSql({database:e,schema:t,table:i,type:r,name:s}){const o=this.connection.createQueryBuilder(),a=o.delete().from(this.getTypeormMetadataTableName()).where("".concat(o.escape("type")," = :type"),{type:r}).andWhere("".concat(o.escape("name")," = :name"),{name:s});e&&a.andWhere("".concat(o.escape("database")," = :database"),{database:e}),t&&a.andWhere("".concat(o.escape("schema")," = :schema"),{schema:t}),i&&a.andWhere("".concat(o.escape("table")," = :table"),{table:i});const[l,c]=a.getQueryAndParameters();return new M(l,c)}isColumnChanged(e,t,i,r,s=!0){return e.charset!==t.charset||e.collation!==t.collation||e.precision!==t.precision||e.scale!==t.scale||e.width!==t.width||e.zerofill!==t.zerofill||e.unsigned!==t.unsigned||e.asExpression!==t.asExpression||i&&e.default!==t.default||e.onUpdate!==t.onUpdate||e.isNullable!==t.isNullable||r&&e.comment!==t.comment||s&&this.isEnumChanged(e,t)}isEnumChanged(e,t){return!ve.isArraysEqual(e.enum||[],t.enum||[])}isDefaultColumnLength(e,t,i){if(this.connection.hasMetadata(e.name)){const s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&this.connection.driver.getColumnLength(s))return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].length?this.connection.driver.dataTypeDefaults[t.type].length.toString()===i.toString():!1}isDefaultColumnPrecision(e,t,i){if(this.connection.hasMetadata(e.name)){const s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&s.precision!==null&&s.precision!==void 0)return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].precision!==null&&this.connection.driver.dataTypeDefaults[t.type].precision!==void 0?this.connection.driver.dataTypeDefaults[t.type].precision===i:!1}isDefaultColumnScale(e,t,i){if(this.connection.hasMetadata(e.name)){const s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&s.scale!==null&&s.scale!==void 0)return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].scale!==null&&this.connection.driver.dataTypeDefaults[t.type].scale!==void 0?this.connection.driver.dataTypeDefaults[t.type].scale===i:!1}async executeQueries(e,t){if(V.isQuery(e)&&(e=[e]),V.isQuery(t)&&(t=[t]),this.sqlInMemory.upQueries.push(...e),this.sqlInMemory.downQueries.push(...t),this.sqlMemoryMode===!0)return Promise.resolve();for(const{query:i,parameters:r}of e)await this.query(i,r)}generateIndexName(e,t){return this.connection.namingStrategy.indexName(e,t.columnNames,t.where)}}var Ne;(function(n){n.VIEW="VIEW",n.MATERIALIZED_VIEW="MATERIALIZED_VIEW",n.GENERATED_COLUMN="GENERATED_COLUMN"})(Ne||(Ne={}));class ha extends Hh{constructor(){super(),this.transactionPromise=null}connect(){return Promise.resolve(this.driver.databaseConnection)}release(){return this.loadedTables=[],this.clearSqlMemory(),Promise.resolve()}async startTransaction(e){if(this.driver.transactionSupport==="none")throw new q("Transactions aren't supported by ".concat(this.connection.driver.options.type,"."));if(this.isTransactionActive&&this.driver.transactionSupport==="simple")throw new tF;if(e&&e!=="READ UNCOMMITTED"&&e!=="SERIALIZABLE")throw new q("SQLite only supports SERIALIZABLE and READ UNCOMMITTED isolation");this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?(e&&(e==="READ UNCOMMITTED"?await this.query("PRAGMA read_uncommitted = true"):await this.query("PRAGMA read_uncommitted = false")),await this.query("BEGIN TRANSACTION")):await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new mi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("COMMIT"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new mi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("ROLLBACK"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}stream(e,t,i,r){throw new q("Stream is not supported by sqlite driver.")}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){return Promise.resolve(!1)}async getCurrentDatabase(){return Promise.resolve(void 0)}async hasSchema(e){throw new q("This driver does not support table schemas")}async getCurrentSchema(){return Promise.resolve(void 0)}async hasTable(e){const t=V.isTable(e)?e.name:e,i='SELECT * FROM "sqlite_master" WHERE "type" = \'table\' AND "name" = \''.concat(t,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=V.isTable(e)?e.name:e,r="PRAGMA table_xinfo(".concat(this.escapePath(i),")");return!!(await this.query(r)).find(o=>o.name===t)}async createDatabase(e,t){return Promise.resolve()}async dropDatabase(e,t){return Promise.resolve()}async createSchema(e,t){return Promise.resolve()}async dropSchema(e,t){return Promise.resolve()}async createTable(e,t=!1,i=!0,r=!0){const s=[],o=[];if(t&&await this.hasTable(e))return Promise.resolve();s.push(this.createTableSql(e,i)),o.push(this.dropTableSql(e)),r&&e.indices.forEach(l=>{l.name||(l.name=this.connection.namingStrategy.indexName(e,l.columnNames,l.where)),s.push(this.createIndexSql(e,l)),o.push(this.dropIndexSql(l))});const a=e.columns.filter(l=>l.generatedType&&l.asExpression);for(const l of a){const c=this.insertTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:l.name,value:l.asExpression}),u=this.deleteTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:l.name});s.push(c),o.push(u)}await this.executeQueries(s,o)}async dropTable(e,t,i=!0,r=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const s=i,o=V.isTable(e)?e:await this.getCachedTable(e),a=[],l=[];r&&o.indices.forEach(u=>{a.push(this.dropIndexSql(u)),l.push(this.createIndexSql(o,u))}),a.push(this.dropTableSql(o,t)),l.push(this.createTableSql(o,s));const c=o.columns.filter(u=>u.generatedType&&u.asExpression);for(const u of c){const d=this.deleteTypeormMetadataSql({table:o.name,type:Ne.GENERATED_COLUMN,name:u.name}),h=this.insertTypeormMetadataSql({table:o.name,type:Ne.GENERATED_COLUMN,name:u.name,value:u.asExpression});a.push(d),l.push(h)}await this.executeQueries(a,l)}async createView(e,t=!1){const i=[],r=[];i.push(this.createViewSql(e)),t&&i.push(this.insertViewDefinitionSql(e)),r.push(this.dropViewSql(e)),t&&r.push(this.deleteViewDefinitionSql(e)),await this.executeQueries(i,r)}async dropView(e){const t=V.isView(e)?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone();r.name=t;const s=new M("ALTER TABLE ".concat(this.escapePath(i.name)," RENAME TO ").concat(this.escapePath(t))),o=new M("ALTER TABLE ".concat(this.escapePath(t)," RENAME TO ").concat(this.escapePath(i.name)));await this.executeQueries(s,o),r.uniques.forEach(a=>{const l=this.connection.namingStrategy.uniqueConstraintName(i,a.columnNames);a.name===l&&(a.name=this.connection.namingStrategy.uniqueConstraintName(r,a.columnNames))}),r.foreignKeys.forEach(a=>{const l=this.connection.namingStrategy.foreignKeyName(i,a.columnNames,this.getTablePath(a),a.referencedColumnNames);a.name===l&&(a.name=this.connection.namingStrategy.foreignKeyName(r,a.columnNames,this.getTablePath(a),a.referencedColumnNames))}),r.indices.forEach(a=>{const l=this.connection.namingStrategy.indexName(i,a.columnNames,a.where);a.name===l&&(a.name=this.connection.namingStrategy.indexName(r,a.columnNames,a.where))}),i.name=r.name,await this.recreateTable(r,i)}async addColumn(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e);return this.addColumns(i,[t])}async addColumns(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addColumn(s)),await this.recreateTable(r,i)}async renameColumn(e,t,i){const r=V.isTable(e)?e:await this.getCachedTable(e),s=V.isTableColumn(t)?t:r.columns.find(a=>a.name===t);if(!s)throw new q('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;return V.isTableColumn(i)?o=i:(o=s.clone(),o.name=i),this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=V.isTable(e)?e:await this.getCachedTable(e),s=V.isTableColumn(t)?t:r.columns.find(o=>o.name===t);if(!s)throw new q('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));await this.changeColumns(r,[{oldColumn:s,newColumn:i}])}async changeColumns(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>{s.newColumn.name!==s.oldColumn.name&&(r.findColumnUniques(s.oldColumn).forEach(a=>{const l=this.connection.namingStrategy.uniqueConstraintName(i,a.columnNames);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===l&&(a.name=this.connection.namingStrategy.uniqueConstraintName(r,a.columnNames))}),r.findColumnForeignKeys(s.oldColumn).forEach(a=>{const l=this.connection.namingStrategy.foreignKeyName(i,a.columnNames,this.getTablePath(a),a.referencedColumnNames);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===l&&(a.name=this.connection.namingStrategy.foreignKeyName(r,a.columnNames,this.getTablePath(a),a.referencedColumnNames))}),r.findColumnIndices(s.oldColumn).forEach(a=>{const l=this.connection.namingStrategy.indexName(i,a.columnNames,a.where);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===l&&(a.name=this.connection.namingStrategy.indexName(r,a.columnNames,a.where))}));const o=r.columns.find(a=>a.name===s.oldColumn.name);o&&(r.columns[r.columns.indexOf(o)]=s.newColumn)}),await this.recreateTable(r,i)}async dropColumn(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableColumn(t)?t:i.findColumnByName(t);if(!r)throw new q('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));await this.dropColumns(i,[r])}async dropColumns(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>{const o=V.isTableColumn(s)?s:i.findColumnByName(s);if(!o)throw new Error('Column "'.concat(s,'" was not found in table "').concat(i.name,'"'));r.removeColumn(o),r.findColumnUniques(o).forEach(a=>r.removeUniqueConstraint(a)),r.findColumnIndices(o).forEach(a=>r.removeIndex(a)),r.findColumnForeignKeys(o).forEach(a=>r.removeForeignKey(a))}),await this.recreateTable(r,i)}async createPrimaryKey(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone();r.columns.forEach(s=>{t.find(o=>o===s.name)&&(s.isPrimary=!0)}),await this.recreateTable(r,i),i.columns.forEach(s=>{t.find(o=>o===s.name)&&(s.isPrimary=!0)})}async updatePrimaryKeys(e,t){await Promise.resolve()}async dropPrimaryKey(e){const t=V.isTable(e)?e:await this.getCachedTable(e),i=t.clone();i.primaryColumns.forEach(r=>{r.isPrimary=!1}),await this.recreateTable(i,t),t.primaryColumns.forEach(r=>{r.isPrimary=!1})}async createUniqueConstraint(e,t){await this.createUniqueConstraints(e,[t])}async createUniqueConstraints(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addUniqueConstraint(s)),await this.recreateTable(r,i)}async dropUniqueConstraint(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableUnique(t)?t:i.uniques.find(s=>s.name===t);if(!r)throw new q("Supplied unique constraint was not found in table ".concat(i.name));await this.dropUniqueConstraints(i,[r])}async dropUniqueConstraints(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.removeUniqueConstraint(s)),await this.recreateTable(r,i)}async createCheckConstraint(e,t){await this.createCheckConstraints(e,[t])}async createCheckConstraints(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addCheckConstraint(s)),await this.recreateTable(r,i)}async dropCheckConstraint(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableCheck(t)?t:i.checks.find(s=>s.name===t);if(!r)throw new q("Supplied check constraint was not found in table ".concat(i.name));await this.dropCheckConstraints(i,[r])}async dropCheckConstraints(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.removeCheckConstraint(s)),await this.recreateTable(r,i)}async createExclusionConstraint(e,t){throw new q("Sqlite does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new q("Sqlite does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new q("Sqlite does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new q("Sqlite does not support exclusion constraints.")}async createForeignKey(e,t){await this.createForeignKeys(e,[t])}async createForeignKeys(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addForeignKey(s)),await this.recreateTable(r,i)}async dropForeignKey(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableForeignKey(t)?t:i.foreignKeys.find(s=>s.name===t);if(!r)throw new q("Supplied foreign key was not found in table ".concat(i.name));await this.dropForeignKeys(e,[r])}async dropForeignKeys(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.removeForeignKey(s)),await this.recreateTable(r,i)}async createIndex(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(t);await this.executeQueries(r,s),i.addIndex(t)}async createIndices(e,t){const i=t.map(r=>this.createIndex(e,r));await Promise.all(i)}async dropIndex(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new q("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropIndices(e,t){const i=t.map(r=>this.dropIndex(e,r));await Promise.all(i)}async clearTable(e){await this.query("DELETE FROM ".concat(this.escapePath(e)))}async clearDatabase(e){let t;e&&this.driver.getAttachedDatabaseHandleByRelativePath(e)&&(t=this.driver.getAttachedDatabaseHandleByRelativePath(e)),await this.query("PRAGMA foreign_keys = OFF");const i=this.isTransactionActive;i||await this.startTransaction();try{const r=t?"SELECT 'DROP VIEW \"".concat(t,'"."\' || name || \'";\' as query FROM "').concat(t,'"."sqlite_master" WHERE "type" = \'view\''):"SELECT 'DROP VIEW \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'view'",s=await this.query(r);await Promise.all(s.map(l=>this.query(l.query)));const o=t?"SELECT 'DROP TABLE \"".concat(t,'"."\' || name || \'";\' as query FROM "').concat(t,'"."sqlite_master" WHERE "type" = \'table\' AND "name" != \'sqlite_sequence\''):"SELECT 'DROP TABLE \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'table' AND \"name\" != 'sqlite_sequence'",a=await this.query(o);await Promise.all(a.map(l=>this.query(l.query))),i||await this.commitTransaction()}catch(r){try{i||await this.rollbackTransaction()}catch(s){}throw r}finally{await this.query("PRAGMA foreign_keys = ON")}}async loadViews(e){if(!await this.hasTable(this.getTypeormMetadataTableName()))return[];e||(e=[]);const i=e.map(o=>"'"+o+"'").join(", ");let r='SELECT "t".* FROM "'.concat(this.getTypeormMetadataTableName(),'" "t" INNER JOIN "sqlite_master" s ON "s"."name" = "t"."name" AND "s"."type" = \'view\' WHERE "t"."type" = \'').concat(Ne.VIEW,"'");return i.length>0&&(r+=' AND "t"."name" IN ('.concat(i,")")),(await this.query(r)).map(o=>{const a=new Nr;return a.name=o.name,a.expression=o.value,a})}async loadTableRecords(e,t){let i;const[r,s]=this.splitTablePath(e);return r&&this.driver.getAttachedDatabasePathRelativeByHandle(r)&&(i=this.driver.getAttachedDatabasePathRelativeByHandle(r)),this.query("SELECT ".concat(i?"'".concat(i,"'"):null," as database, ").concat(r?"'".concat(r,"'"):null," as schema, * FROM ").concat(r?'"'.concat(r,'".'):"").concat(this.escapePath("sqlite_master"),' WHERE "type" = \'').concat(t,"' AND \"").concat(t==="table"?"name":"tbl_name","\" IN ('").concat(s,"')"))}async loadPragmaRecords(e,t){const[,i]=this.splitTablePath(e);return this.query("PRAGMA ".concat(t,'("').concat(i,'")'))}async loadTables(e){if(e&&e.length===0)return[];let t=[],i;if(e){const r=e.filter(a=>a.split(".").length===1).map(a=>"'".concat(a,"'")),s=e.filter(a=>a.split(".").length>1),o=a=>{const l=[...s.map(c=>this.loadTableRecords(c,a))];return r.length&&l.push(this.query('SELECT * FROM "sqlite_master" WHERE "type" = \''.concat(a,"' AND \"").concat(a==="table"?"name":"tbl_name",'" IN (').concat(r,")"))),l};t=(await Promise.all(o("table"))).reduce((a,l)=>[...a,...l],[]).filter(Boolean),i=(await Promise.all(o("index"))).reduce((a,l)=>[...a,...l],[]).filter(Boolean)}else{const r='SELECT * FROM "sqlite_master" WHERE "type" = \'table\'';t.push(...await this.query(r));const s=t.map(({name:o})=>"'".concat(o,"'")).join(", ");i=await this.query('SELECT * FROM "sqlite_master" WHERE "type" = \'index\' AND "tbl_name" IN ('.concat(s,")"))}return t.length===0?[]:Promise.all(t.map(async r=>{const s=r.database&&this.driver.getAttachedDatabaseHandleByRelativePath(r.database)?"".concat(this.driver.getAttachedDatabaseHandleByRelativePath(r.database),".").concat(r.name):r.name,o=r.sql,a=o.includes("WITHOUT ROWID"),l=new mt({name:s,withoutRowid:a}),[c,u,d]=await Promise.all([this.loadPragmaRecords(s,"table_xinfo"),this.loadPragmaRecords(s,"index_list"),this.loadPragmaRecords(s,"foreign_key_list")]);let h;const f=r.sql;let g=f.toUpperCase().indexOf("AUTOINCREMENT");if(g!==-1){h=f.substr(0,g);const A=h.lastIndexOf(","),U=h.lastIndexOf("(");A!==-1?(h=h.substr(A),h=h.substr(0,h.lastIndexOf('"')),h=h.substr(h.indexOf('"')+1)):U!==-1&&(h=h.substr(U),h=h.substr(0,h.lastIndexOf('"')),h=h.substr(h.indexOf('"')+1))}l.columns=await Promise.all(c.map(async A=>{const U=new An;if(U.name=A.name,U.type=A.type.toLowerCase(),U.default=A.dflt_value!==null&&A.dflt_value!==void 0?A.dflt_value:void 0,U.isNullable=A.notnull===0,U.isPrimary=A.pk>0,U.comment="",U.isGenerated=h===A.name,U.isGenerated&&(U.generationStrategy="increment"),A.hidden===2||A.hidden===3){U.generatedType=A.hidden===2?"VIRTUAL":"STORED";const K=await this.selectTypeormMetadataSql({table:l.name,type:Ne.GENERATED_COLUMN,name:U.name}),re=await this.query(K.query,K.parameters);re[0]&&re[0].value?U.asExpression=re[0].value:U.asExpression=""}if(U.type==="varchar"){const K=o.match(new RegExp('"('+U.name+")\" varchar CHECK\\s*\\(\\s*\"\\1\"\\s+IN\\s*\\(('[^']+'(?:\\s*,\\s*'[^']+')+)\\s*\\)\\s*\\)"));K&&(U.enum=K[2].substr(1,K[2].length-2).split("','"))}let D=U.type.indexOf("(");if(D!==-1){const K=U.type;let re=K.substr(0,D);if(this.driver.withLengthColumnTypes.find(he=>he===re)){let he=parseInt(K.substring(D+1,K.length-1));he&&(U.length=he.toString(),U.type=re)}if(this.driver.withPrecisionColumnTypes.find(he=>he===re)){const he=new RegExp("^".concat(re,"\\((\\d+),?\\s?(\\d+)?\\)")),ce=K.match(he);ce&&ce[1]&&(U.precision=+ce[1]),this.driver.withScaleColumnTypes.find(te=>te===re)&&ce&&ce[2]&&(U.scale=+ce[2]),U.type=re}}return U}));let b;const C=[],x=/CONSTRAINT "([^"]*)" FOREIGN KEY ?\((.*?)\) REFERENCES "([^"]*)"/g;for(;(b=x.exec(o))!==null;)C.push({name:b[1],columns:b[2].substr(1,b[2].length-2).split('", "'),referencedTableName:b[3]});const y=ve.uniq(d,A=>A.id);l.foreignKeys=y.map(A=>{const U=d.filter(he=>he.id===A.id&&he.table===A.table),D=U.map(he=>he.from),K=U.map(he=>he.to),re=C.find(he=>he.referencedTableName===A.table&&he.columns.every(ce=>D.indexOf(ce)!==-1));return new di({name:re==null?void 0:re.name,columnNames:D,referencedTableName:A.table,referencedColumnNames:K,onDelete:A.on_delete,onUpdate:A.on_update})});let E;const N=[],I=/CONSTRAINT "([^"]*)" UNIQUE ?\((.*?)\)/g;for(;(E=I.exec(o))!==null;)N.push({name:E[1],columns:E[2].substr(1,E[2].length-2).split('", "')});const B=u.filter(A=>A.origin==="u").map(A=>A.name).filter((A,U,D)=>D.indexOf(A)===U).map(async A=>{const U=u.find(he=>he.name===A),K=(await this.query('PRAGMA index_info("'.concat(U.name,'")'))).sort((he,ce)=>parseInt(he.seqno)-parseInt(ce.seqno)).map(he=>he.name);if(K.length===1){const he=l.columns.find(ce=>!!K.find(te=>te===ce.name));he&&(he.isUnique=!0)}const re=N.find(he=>he.columns.every(ce=>K.indexOf(ce)!==-1));return new dn({name:re?re.name:this.connection.namingStrategy.uniqueConstraintName(l,K),columnNames:K})});l.uniques=await Promise.all(B);let O;const $=/CONSTRAINT "([^"]*)" CHECK ?(\(.*?\))([,]|[)]$)/g;for(;(O=$.exec(o))!==null;)l.checks.push(new Li({name:O[1],expression:O[2]}));const R=u.filter(A=>A.origin==="c").map(A=>A.name).filter((A,U,D)=>D.indexOf(A)===U).map(async A=>{const U=i.find(ee=>ee.name===A),D=/WHERE (.*)/.exec(U.sql),K=u.find(ee=>ee.name===A),he=(await this.query('PRAGMA index_info("'.concat(K.name,'")'))).sort((ee,j)=>parseInt(ee.seqno)-parseInt(j.seqno)).map(ee=>ee.name),ce="".concat(r.database?"".concat(r.database,"."):"").concat(K.name),te=K.unique==="1"||K.unique===1;return new Ct({table:l,name:ce,columnNames:he,isUnique:te,where:D?D[1]:void 0})}),H=await Promise.all(R);return l.indices=H.filter(A=>!!A),l}))}createTableSql(e,t,i){const r=e.columns.filter(f=>f.isPrimary),s=r.find(f=>f.isGenerated&&f.generationStrategy==="increment"),o=r.length>1;if(o&&s)throw new q("Sqlite does not support AUTOINCREMENT on composite primary key");const a=e.columns.map(f=>this.buildCreateColumnSql(f,o)).join(", "),[l]=this.splitTablePath(e.name);let c="CREATE TABLE ".concat(this.escapePath(e.name)," (").concat(a),[u,d]=this.splitTablePath(e.name);const h=i?"".concat(u?"".concat(u,"."):"").concat(d.replace(/^temporary_/,"")):e.name;if(e.columns.filter(f=>f.isUnique).forEach(f=>{e.uniques.some(b=>b.columnNames.length===1&&b.columnNames[0]===f.name)||e.uniques.push(new dn({name:this.connection.namingStrategy.uniqueConstraintName(e,[f.name]),columnNames:[f.name]}))}),e.uniques.length>0){const f=e.uniques.map(g=>{const b=g.name?g.name:this.connection.namingStrategy.uniqueConstraintName(h,g.columnNames),C=g.columnNames.map(x=>'"'.concat(x,'"')).join(", ");return'CONSTRAINT "'.concat(b,'" UNIQUE (').concat(C,")")}).join(", ");c+=", ".concat(f)}if(e.checks.length>0){const f=e.checks.map(g=>{const b=g.name?g.name:this.connection.namingStrategy.checkConstraintName(h,g.expression);return'CONSTRAINT "'.concat(b,'" CHECK (').concat(g.expression,")")}).join(", ");c+=", ".concat(f)}if(e.foreignKeys.length>0&&t){const f=e.foreignKeys.filter(g=>{const[b]=this.splitTablePath(g.referencedTableName);return b===l}).map(g=>{const[,b]=this.splitTablePath(g.referencedTableName),C=g.columnNames.map(E=>'"'.concat(E,'"')).join(", ");g.name||(g.name=this.connection.namingStrategy.foreignKeyName(h,g.columnNames,this.getTablePath(g),g.referencedColumnNames));const x=g.referencedColumnNames.map(E=>'"'.concat(E,'"')).join(", ");let y='CONSTRAINT "'.concat(g.name,'" FOREIGN KEY (').concat(C,') REFERENCES "').concat(b,'" (').concat(x,")");return g.onDelete&&(y+=" ON DELETE ".concat(g.onDelete)),g.onUpdate&&(y+=" ON UPDATE ".concat(g.onUpdate)),g.deferrable&&(y+=" DEFERRABLE ".concat(g.deferrable)),y}).join(", ");c+=", ".concat(f)}if(r.length>1){const f=r.map(g=>'"'.concat(g.name,'"')).join(", ");c+=", PRIMARY KEY (".concat(f,")")}return c+=")",e.withoutRowid&&(c+=" WITHOUT ROWID"),new M(c)}dropTableSql(e,t){const i=V.isTable(e)?e.name:e,r=t?"DROP TABLE IF EXISTS ".concat(this.escapePath(i)):"DROP TABLE ".concat(this.escapePath(i));return new M(r)}createViewSql(e){return typeof e.expression=="string"?new M('CREATE VIEW "'.concat(e.name,'" AS ').concat(e.expression)):new M('CREATE VIEW "'.concat(e.name,'" AS ').concat(e.expression(this.connection).getQuery()))}insertViewDefinitionSql(e){const t=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:Ne.VIEW,name:e.name,value:t})}dropViewSql(e){const t=V.isView(e)?e.name:e;return new M('DROP VIEW "'.concat(t,'"'))}deleteViewDefinitionSql(e){const t=V.isView(e)?e.name:e;return this.deleteTypeormMetadataSql({type:Ne.VIEW,name:t})}createIndexSql(e,t){const i=t.columnNames.map(o=>'"'.concat(o,'"')).join(", "),[r,s]=this.splitTablePath(e.name);return new M("CREATE ".concat(t.isUnique?"UNIQUE ":"","INDEX ").concat(r?'"'.concat(r,'".'):"").concat(this.escapePath(t.name),' ON "').concat(s,'" (').concat(i,") ").concat(t.where?"WHERE "+t.where:""))}dropIndexSql(e){let t=V.isTableIndex(e)?e.name:e;return new M("DROP INDEX ".concat(this.escapePath(t)))}buildCreateColumnSql(e,t){let i='"'+e.name+'"';return V.isColumnMetadata(e)?i+=" "+this.driver.normalizeType(e):i+=" "+this.connection.driver.createFullType(e),e.enum&&(i+=' CHECK( "'+e.name+'" IN ('+e.enum.map(r=>"'"+r+"'").join(",")+") )"),e.isPrimary&&!t&&(i+=" PRIMARY KEY"),e.isGenerated===!0&&e.generationStrategy==="increment"&&(i+=" AUTOINCREMENT"),e.collation&&(i+=" COLLATE "+e.collation),e.isNullable!==!0&&(i+=" NOT NULL"),e.asExpression?i+=" AS (".concat(e.asExpression,") ").concat(e.generatedType?e.generatedType:"VIRTUAL"):e.default!==void 0&&e.default!==null&&(i+=" DEFAULT ("+e.default+")"),i}async recreateTable(e,t,i=!0){const r=[],s=[];t.indices.forEach(c=>{r.push(this.dropIndexSql(c)),s.push(this.createIndexSql(t,c))});let[o,a]=this.splitTablePath(e.name),[,l]=this.splitTablePath(t.name);if(e.name=a="".concat(o?"".concat(o,"."):"","temporary_").concat(a),r.push(this.createTableSql(e,!0,!0)),s.push(this.dropTableSql(e)),i){let c=e.columns.filter(d=>!d.generatedType).map(d=>'"'.concat(d.name,'"')),u=t.columns.filter(d=>!d.generatedType).map(d=>'"'.concat(d.name,'"'));u.length<c.length?c=e.columns.filter(d=>{const h=t.columns.find(f=>f.name===d.name);return h&&h.generatedType?!1:!d.generatedType&&h}).map(d=>'"'.concat(d.name,'"')):u.length>c.length&&(u=t.columns.filter(d=>!d.generatedType&&e.columns.find(h=>h.name===d.name)).map(d=>'"'.concat(d.name,'"'))),r.push(new M("INSERT INTO ".concat(this.escapePath(e.name),"(").concat(c.join(", "),") SELECT ").concat(u.join(", ")," FROM ").concat(this.escapePath(t.name)))),s.push(new M("INSERT INTO ".concat(this.escapePath(t.name),"(").concat(u.join(", "),") SELECT ").concat(c.join(", ")," FROM ").concat(this.escapePath(e.name))))}r.push(this.dropTableSql(t)),s.push(this.createTableSql(t,!0)),r.push(new M("ALTER TABLE ".concat(this.escapePath(e.name)," RENAME TO ").concat(this.escapePath(l)))),s.push(new M("ALTER TABLE ".concat(this.escapePath(t.name)," RENAME TO ").concat(this.escapePath(a)))),e.name=t.name,e.indices.forEach(c=>{c.name||(c.name=this.connection.namingStrategy.indexName(e,c.columnNames,c.where)),r.push(this.createIndexSql(e,c)),s.push(this.dropIndexSql(c))}),t.columns.filter(c=>{const u=e.columns.find(d=>d.name===c.name);return c.generatedType&&c.asExpression&&(!u||!u.generatedType&&!u.asExpression)}).forEach(c=>{const u=this.deleteTypeormMetadataSql({table:t.name,type:Ne.GENERATED_COLUMN,name:c.name}),d=this.insertTypeormMetadataSql({table:t.name,type:Ne.GENERATED_COLUMN,name:c.name,value:c.asExpression});r.push(u),s.push(d)}),e.columns.filter(c=>c.generatedType&&c.asExpression&&!t.columns.some(u=>u.name===c.name)).forEach(c=>{const u=this.insertTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:c.name,value:c.asExpression}),d=this.deleteTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:c.name});r.push(u),s.push(d)}),e.columns.filter(c=>c.generatedType&&c.asExpression).forEach(c=>{const u=t.columns.find(b=>b.name===c.name&&b.generatedType&&c.generatedType&&b.asExpression!==c.asExpression);if(!u)return;const d=this.deleteTypeormMetadataSql({table:t.name,type:Ne.GENERATED_COLUMN,name:u.name}),h=this.insertTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:c.name,value:c.asExpression});r.push(d),r.push(h);const f=this.insertTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:u.name,value:u.asExpression}),g=this.deleteTypeormMetadataSql({table:t.name,type:Ne.GENERATED_COLUMN,name:c.name});s.push(f),s.push(g)}),await this.executeQueries(r,s),this.replaceCachedTable(t,e)}splitTablePath(e){return e.indexOf(".")!==-1?e.split("."):[void 0,e]}escapePath(e,t){return(V.isTable(e)||V.isView(e)?e.name:e).replace(/^\.+|\.+$/g,"").split(".").map(r=>t?r:'"'.concat(r,'"')).join(".")}}class Pr{constructor(e){this.queryRunner=e}async broadcast(e,...t){const i=new Ym,r=this["broadcast".concat(e,"Event")];typeof r=="function"&&r.call(this,i,...t),await i.wait()}broadcastBeforeInsertEvent(e,t,i){i&&t.beforeInsertListeners.length&&t.beforeInsertListeners.forEach(r=>{if(r.isAllowed(i)){const s=r.execute(i);s instanceof Promise&&e.promises.push(s),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(r=>{if(this.isAllowedSubscriber(r,t.target)&&r.beforeInsert){const s=r.beforeInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t});s instanceof Promise&&e.promises.push(s),e.count++}})}broadcastBeforeUpdateEvent(e,t,i,r,s,o){i&&t.beforeUpdateListeners.length&&t.beforeUpdateListeners.forEach(a=>{if(a.isAllowed(i)){const l=a.execute(i);l instanceof Promise&&e.promises.push(l),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(a=>{if(this.isAllowedSubscriber(a,t.target)&&a.beforeUpdate){const l=a.beforeUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,updatedColumns:s||[],updatedRelations:o||[]});l instanceof Promise&&e.promises.push(l),e.count++}})}broadcastBeforeRemoveEvent(e,t,i,r,s){i&&t.beforeRemoveListeners.length&&t.beforeRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.beforeRemove){const a=o.beforeRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastBeforeSoftRemoveEvent(e,t,i,r,s){i&&t.beforeSoftRemoveListeners.length&&t.beforeSoftRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.beforeSoftRemove){const a=o.beforeSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastBeforeRecoverEvent(e,t,i,r,s){i&&t.beforeRecoverListeners.length&&t.beforeRecoverListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.beforeRecover){const a=o.beforeRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastAfterInsertEvent(e,t,i){i&&t.afterInsertListeners.length&&t.afterInsertListeners.forEach(r=>{if(r.isAllowed(i)){const s=r.execute(i);s instanceof Promise&&e.promises.push(s),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(r=>{if(this.isAllowedSubscriber(r,t.target)&&r.afterInsert){const s=r.afterInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t});s instanceof Promise&&e.promises.push(s),e.count++}})}broadcastBeforeTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionStart){const i=t.beforeTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionStart){const i=t.afterTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastBeforeTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionCommit){const i=t.beforeTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionCommit){const i=t.afterTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastBeforeTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionRollback){const i=t.beforeTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionRollback){const i=t.afterTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterUpdateEvent(e,t,i,r,s,o){i&&t.afterUpdateListeners.length&&t.afterUpdateListeners.forEach(a=>{if(a.isAllowed(i)){const l=a.execute(i);l instanceof Promise&&e.promises.push(l),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(a=>{if(this.isAllowedSubscriber(a,t.target)&&a.afterUpdate){const l=a.afterUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,updatedColumns:s||[],updatedRelations:o||[]});l instanceof Promise&&e.promises.push(l),e.count++}})}broadcastAfterRemoveEvent(e,t,i,r,s){i&&t.afterRemoveListeners.length&&t.afterRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.afterRemove){const a=o.afterRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastAfterSoftRemoveEvent(e,t,i,r,s){i&&t.afterSoftRemoveListeners.length&&t.afterSoftRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.afterSoftRemove){const a=o.afterSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastAfterRecoverEvent(e,t,i,r,s){i&&t.afterRecoverListeners.length&&t.afterRecoverListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.afterRecover){const a=o.afterRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastLoadEventsForAll(e,t,i){return this.broadcastLoadEvent(e,t,i)}broadcastLoadEvent(e,t,i){const r=this.queryRunner.connection.subscribers.filter(s=>this.isAllowedSubscriber(s,t.target)&&s.afterLoad);if(t.relations.length||t.afterLoadListeners.length||r.length){const s=i.filter(o=>!(o instanceof Promise));t.relations.length&&t.relations.forEach(o=>{s.forEach(a=>{if(o.isLazy&&!a.hasOwnProperty(o.propertyName))return;const l=o.getEntityValue(a);Be.isObject(l)&&this.broadcastLoadEvent(e,o.inverseEntityMetadata,Array.isArray(l)?l:[l])})}),t.afterLoadListeners.length&&t.afterLoadListeners.forEach(o=>{s.forEach(a=>{if(o.isAllowed(a)){const l=o.execute(a);l instanceof Promise&&e.promises.push(l),e.count++}})}),r.forEach(o=>{s.forEach(a=>{const l=o.afterLoad(a,{entity:a,metadata:t,connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});l instanceof Promise&&e.promises.push(l),e.count++})})}}isAllowedSubscriber(e,t){return!e.listenTo||!e.listenTo()||e.listenTo()===Object||e.listenTo()===t||e.listenTo().isPrototypeOf(t)}}class ir{constructor(){this.records=[]}}class c6 extends ha{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Pr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const s=+new Date;try{const o=await new Promise(async(d,h)=>{r.executeSql(e,t,f=>d(f),f=>h(f))}),a=this.driver.options.maxQueryExecutionTime,c=+new Date-s;a&&c>a&&this.driver.connection.logger.logQuerySlow(c,e,t,this);const u=new ir;if(e.substr(0,11)==="INSERT INTO")u.raw=o.insertId;else{let d=[];for(let h=0;h<o.rows.length;h++)d.push(o.rows.item(h));u.records=d,u.raw=d}return i?u:u.raw}catch(o){throw this.driver.connection.logger.logQueryError(o,e,t,this),new er(e,t,o)}}async startTransaction(){throw new q("Transactions are not supported by the Cordova driver")}async commitTransaction(){throw new q("Transactions are not supported by the Cordova driver")}async rollbackTransaction(){throw new q("Transactions are not supported by the Cordova driver")}async clearDatabase(){await this.query("PRAGMA foreign_keys = OFF");try{const e="SELECT 'DROP VIEW \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'view'",t=await this.query(e),i="SELECT 'DROP TABLE \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'table' AND \"name\" != 'sqlite_sequence'",r=await this.query(i);await Promise.all(t.map(s=>this.query(s.query))),await Promise.all(r.map(s=>this.query(s.query)))}finally{await this.query("PRAGMA foreign_keys = ON")}}parametrize(e,t=0){return Object.keys(e).map((i,r)=>'"'.concat(i,'"')+"=?")}}class u6 extends uc{constructor(e){super(e),this.transactionSupport="none",this.database=this.options.database,this.loadDependencies()}async disconnect(){return this.queryRunner=void 0,new Promise((e,t)=>{this.databaseConnection.close(e,t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new c6(this)),this.queryRunner}async createDatabaseConnection(){const e=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{}),t=await new Promise(i=>{this.sqlite.openDatabase(e,r=>i(r))});return await new Promise((i,r)=>{t.executeSql("PRAGMA foreign_keys = ON",[],()=>i(),s=>r(s))}),t}loadDependencies(){try{const e=this.options.driver||window.sqlitePlugin;this.sqlite=e}catch(e){throw new da("Cordova-SQLite","cordova-sqlite-storage")}}}class d6 extends ha{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Pr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}query(e,t,i=!1){if(this.isReleased)throw new wn;return new Promise(async(r,s)=>{const o=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const a=+new Date;o.executeSql(e,t,l=>{const c=this.driver.options.maxQueryExecutionTime,d=+new Date-a;c&&d>c&&this.driver.connection.logger.logQuerySlow(d,e,t,this);const h=new ir;if(l!=null&&l.hasOwnProperty("rowsAffected")&&(h.affected=l.rowsAffected),l!=null&&l.hasOwnProperty("rows")){let f=[];for(let g=0;g<l.rows.length;g++)f.push(l.rows.item(g));h.raw=f,h.records=f}e.substr(0,11)==="INSERT INTO"&&(h.raw=l.insertId),r(i?h:h.raw)},l=>{this.driver.connection.logger.logQueryError(l,e,t,this),s(new er(e,t,l))})})}parametrize(e,t=0){return Object.keys(e).map((i,r)=>'"'.concat(i,'"')+"=?")}}class h6{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["int","integer","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8","integer","character","varchar","varying character","nchar","native character","nvarchar","text","clob","text","blob","real","double","double precision","float","real","numeric","decimal","boolean","date","time","datetime"],this.supportedUpsertTypes=["on-conflict-do-update"],this.withLengthColumnTypes=["character","varchar","varying character","nchar","native character","nvarchar","text","blob","clob"],this.spatialTypes=[],this.withPrecisionColumnTypes=["real","double","double precision","float","real","numeric","decimal","date","time","datetime"],this.withScaleColumnTypes=["real","double","double precision","float","real","numeric","decimal"],this.mappedDataTypes={createDate:"datetime",createDateDefault:"datetime('now')",updateDate:"datetime",updateDateDefault:"datetime('now')",deleteDate:"datetime",deleteDateNullable:!0,version:"integer",treeLevel:"integer",migrationId:"integer",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.cteCapabilities={enabled:!0,requiresRecursiveHint:!0},this.attachedDatabases={},this.connection=e,this.options=e.options,this.database=this.options.database,this.loadDependencies()}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new d6(this)),this.queryRunner}async connect(){this.databaseConnection=await this.createDatabaseConnection()}afterConnect(){return Promise.resolve()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close(e,t)})}hasAttachedDatabases(){return!!Object.keys(this.attachedDatabases).length}getAttachedDatabaseHandleByRelativePath(e){var t,i;return(i=(t=this.attachedDatabases)===null||t===void 0?void 0:t[e])===null||i===void 0?void 0:i.attachHandle}getAttachedDatabasePathRelativeByHandle(e){var t;return(t=Object.values(this.attachedDatabases).find(({attachHandle:i})=>e===i))===null||t===void 0?void 0:t.attachFilepathRelative}createSchemaBuilder(){return new Vh(this.connection)}preparePersistentValue(e,t){return t.transformer&&(e=Ut.transformTo(t.transformer,e)),e==null?e:t.type===Boolean||t.type==="boolean"?e===!0?1:0:t.type==="date"?ke.mixedDateToDateString(e):t.type==="time"?ke.mixedDateToTimeString(e):t.type==="datetime"||t.type===Date?ke.mixedDateToUtcDatetimeString(e):t.type==="simple-array"?ke.simpleArrayToString(e):t.type==="simple-json"?ke.simpleJsonToString(e):t.type==="simple-enum"?ke.simpleEnumToString(e):e}prepareHydratedValue(e,t){return e==null?t.transformer?Ut.transformFrom(t.transformer,e):e:(t.type===Boolean||t.type==="boolean"?e=!!e:t.type==="datetime"||t.type===Date?(e&&typeof e=="string"&&(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d/.test(e)&&(e=e.replace(" ","T")),/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d(:\d\d(\.\d\d\d)?)?$/.test(e)&&(e+="Z")),e=ke.normalizeHydratedDate(e)):t.type==="date"?e=ke.mixedDateToDateString(e):t.type==="time"?e=ke.mixedTimeToString(e):t.type==="simple-array"?e=ke.stringToSimpleArray(e):t.type==="simple-json"?e=ke.stringToSimpleJson(e):t.type==="simple-enum"?e=ke.stringToSimpleEnum(e,t):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=Ut.transformFrom(t.transformer,e)),e)}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>typeof i[s]=="boolean"?i[s]===!0?1:0:i[s]instanceof Date?ke.mixedDateToUtcDatetimeString(i[s]):i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):typeof l=="function"?l():typeof l=="number"?String(l):typeof l=="boolean"?(r.push(+l),this.createParameter(a,r.length-1)):l instanceof Date?(r.push(ke.mixedDateToUtcDatetimeString(l)),this.createParameter(a,r.length-1)):(r.push(l),this.createParameter(a,r.length-1))}),[e,r])}escape(e){return'"'+e+'"'}buildTableName(e,t,i){return e}parseTableName(e){var t;const i=this.database,r=void 0;if(V.isTable(e)||V.isView(e)){const o=this.parseTableName(e.schema?'"'.concat(e.schema,'"."').concat(e.name,'"'):e.name);return{database:e.database||o.database||i,schema:e.schema||o.schema||r,tableName:o.tableName}}if(V.isTableForeignKey(e)){const o=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||o.database||i,schema:e.referencedSchema||o.schema||r,tableName:o.tableName}}if(V.isEntityMetadata(e))return{database:e.database||i,schema:e.schema||r,tableName:e.tableName};const s=e.split(".");return s.length===3?{database:s[0]||i,schema:s[1]||r,tableName:s[2]}:s.length===2?{database:(t=this.getAttachedDatabasePathRelativeByHandle(s[0]))!==null&&t!==void 0?t:i,schema:s[0],tableName:s[1]}:{database:i,schema:r,tableName:e}}normalizeType(e){return e.type===Number||e.type==="int"?"integer":e.type===String?"varchar":e.type===Date?"datetime":e.type===Boolean?"boolean":e.type==="uuid"?"varchar":e.type==="simple-array"||e.type==="simple-json"?"text":e.type==="simple-enum"?"varchar":e.type||""}normalizeDefault(e){const t=e.default;if(typeof t=="number")return""+t;if(typeof t=="boolean")return t?"1":"0";if(typeof t=="function")return t();if(typeof t=="string")return"'".concat(t,"'");if(t!=null)return"".concat(t)}normalizeIsUnique(e){return e.entityMetadata.uniques.some(t=>t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){return e.length?e.length.toString():""}createFullType(e){let t=e.type;return e.enum?"varchar":(e.length?t+="("+e.length+")":e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="("+e.precision+","+e.scale+")":e.precision!==null&&e.precision!==void 0&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t)}obtainMasterConnection(){return Promise.resolve()}obtainSlaveConnection(){return Promise.resolve()}createGeneratedMap(e,t,i,r){const s=e.generatedColumns.reduce((o,a)=>{let l;return a.generationStrategy==="increment"&&t&&(l=t-r+i+1),l?ve.mergeDeep(o,a.createValueMap(l)):o},{});return Object.keys(s).length>0?s:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);return r?r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==i.length||r.precision!==i.precision||r.scale!==i.scale||this.normalizeDefault(i)!==r.default||r.isPrimary!==i.isPrimary||r.isNullable!==i.isNullable||r.generatedType!==i.generatedType||r.asExpression!==i.asExpression||r.isUnique!==this.normalizeIsUnique(i)||r.enum&&i.enum&&!ve.isArraysEqual(r.enum,i.enum.map(o=>o+""))||i.generationStrategy!=="uuid"&&r.isGenerated!==i.isGenerated:!1})}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"?"}createDatabaseConnection(){return new Promise((e,t)=>{const i=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{});this.sqlite.openDatabase(i,r=>{const s=r;s.executeSql("PRAGMA foreign_keys = ON",[],o=>{e(s)},o=>{t(o)})},r=>{t(r)})})}loadDependencies(){try{const e=this.options.driver||require("react-native-sqlite-storage");this.sqlite=e}catch(e){throw new da("React-Native","react-native-sqlite-storage")}}}class f6 extends ha{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Pr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=this.driver.connection;return new Promise(async(s,o)=>{const a=await this.connect(),l=e.substr(0,11)==="INSERT INTO";r.logger.logQuery(e,t,this);const c=(d,h)=>{const f=this.driver.options.maxQueryExecutionTime,b=+new Date-u;f&&b>f&&r.logger.logQuerySlow(b,e,t,this),d&&(r.logger.logQueryError(d,e,t,this),o(new er(e,t,d)));const C=new ir;C.raw=h,!l&&Array.isArray(h)&&(C.records=h),s(i?C:C.raw)},u=+new Date;l?a.execSQL(e,t,c):a.all(e,t,c)})}parametrize(e,t=0){return Object.keys(e).map((i,r)=>'"'.concat(i,'"')+"=?")}}class p6 extends uc{constructor(e){super(e),this.connection=e,this.options=e.options,this.database=this.options.database,this.driver=this.options.driver,this.loadDependencies()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close().then(e).catch(t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new f6(this)),this.queryRunner}normalizeType(e){return e.type===Buffer?"blob":super.normalizeType(e)}createDatabaseConnection(){return new Promise((e,t)=>{const i=Object.assign({},{readOnly:this.options.readOnly,key:this.options.key,multithreading:this.options.multithreading,migrate:this.options.migrate,iosFlags:this.options.iosFlags,androidFlags:this.options.androidFlags},this.options.extra||{});new this.sqlite(this.options.database,i,(r,s)=>{if(r)return t(r);s.resultType(this.sqlite.RESULTSASOBJECT),s.execSQL("PRAGMA foreign_keys = ON",[],(o,a)=>{if(o)return t(o);e(s)})})})}loadDependencies(){if(this.sqlite=this.driver,!this.driver)throw new da("Nativescript","nativescript-sqlite")}}class m6 extends ha{constructor(e){super(),this.isDirty=!1,this.driver=e,this.connection=e.connection,this.broadcaster=new Pr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async flush(){this.isDirty&&(await this.driver.autoSave(),this.isDirty=!1)}async release(){return await this.flush(),super.release()}async commitTransaction(){await super.commitTransaction(),this.isTransactionActive||await this.flush()}async query(e,t=[],i=!1){if(this.isReleased)throw new wn;const r=e.trim().split(" ",1)[0],s=this.driver.databaseConnection;this.driver.connection.logger.logQuery(e,t,this);const o=+new Date;let a;try{a=s.prepare(e),t&&(t=t.map(f=>typeof f<"u"?f:null),a.bind(t));const l=this.driver.options.maxQueryExecutionTime,u=+new Date-o;l&&u>l&&this.driver.connection.logger.logQuerySlow(u,e,t,this);const d=[];for(;a.step();)d.push(a.getAsObject());const h=new ir;return h.affected=s.getRowsModified(),h.records=d,h.raw=d,a.free(),r!=="SELECT"&&(this.isDirty=!0),i?h:h.raw}catch(l){throw a&&a.free(),this.driver.connection.logger.logQueryError(l,e,t,this),new er(e,t,l)}}}class g6 extends uc{constructor(e){if(super(e),this.options.autoSave&&!this.options.location&&!this.options.autoSaveCallback)throw new uF("location or autoSaveCallback");this.loadDependencies()}async connect(){this.databaseConnection=await this.createDatabaseConnection()}async disconnect(){this.queryRunner=void 0,this.databaseConnection.close()}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new m6(this)),this.queryRunner}async load(e,t=!0){if(typeof e=="string")if(ct.type==="node")if(ct.fileExist(e)){const i=ct.readFileSync(e);return this.createDatabaseConnectionWithImport(i)}else{if(t)throw new q("File ".concat(e," does not exist"));return this.createDatabaseConnectionWithImport()}else{let i=null;if(this.options.useLocalForage)if(window.localforage)i=await window.localforage.getItem(e);else throw new q("localforage is not defined - please import localforage.js into your site");else i=ct.getGlobalVariable().localStorage.getItem(e);if(i!=null)return this.createDatabaseConnectionWithImport(JSON.parse(i));if(t)throw new q("File ".concat(e," does not exist"));return this.createDatabaseConnectionWithImport()}else return this.createDatabaseConnectionWithImport(e)}async save(e){if(!e&&!this.options.location)throw new q("No location is set, specify a location parameter or add the location option to your configuration");let t="";if(e?t=e:this.options.location&&(t=this.options.location),ct.type==="node")try{const i=Buffer.from(this.databaseConnection.export());await ct.writeFile(t,i)}catch(i){throw new q("Could not save database, error: ".concat(i))}else{const i=this.databaseConnection.export(),r=[].slice.call(i);if(this.options.useLocalForage)if(window.localforage)await window.localforage.setItem(t,JSON.stringify(r));else throw new q("localforage is not defined - please import localforage.js into your site");else ct.getGlobalVariable().localStorage.setItem(t,JSON.stringify(r))}}async autoSave(){var e;this.options.autoSave&&!(!((e=this.queryRunner)===null||e===void 0)&&e.isTransactionActive)&&(this.options.autoSaveCallback?await this.options.autoSaveCallback(this.export()):await this.save())}export(){return this.databaseConnection.export()}createGeneratedMap(e,t){const i=e.generatedColumns.reduce((r,s)=>{if(s.isPrimary&&s.generationStrategy==="increment"){const o="SELECT last_insert_rowid()";try{let a=this.databaseConnection.exec(o);return this.connection.logger.logQuery(o),ve.mergeDeep(r,s.createValueMap(a[0].values[0][0]))}catch(a){this.connection.logger.logQueryError(a,o,[])}}return r},{});return Object.keys(i).length>0?i:void 0}createDatabaseConnection(){return this.options.location?this.load(this.options.location,!1):this.createDatabaseConnectionWithImport(this.options.database)}async createDatabaseConnectionWithImport(e){const i=typeof this.sqlite.Database=="function"?this.sqlite:await this.sqlite(this.options.sqlJsConfig);return e&&e.length>0?this.databaseConnection=new i.Database(e):this.databaseConnection=new i.Database,this.databaseConnection.exec("PRAGMA foreign_keys = ON"),this.databaseConnection}loadDependencies(){if(ct.type==="browser"){const e=this.options.driver||window.SQL;this.sqlite=e}else try{const e=this.options.driver||ct.load("sql.js");this.sqlite=e}catch(e){throw new da("sql.js","sql.js")}}}class y6 extends ha{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Pr(this)}async startTransaction(){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(e){throw this.isTransactionActive=!1,e}this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive&&typeof this.transaction>"u")throw new mi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transaction=void 0,this.isTransactionActive=!1,this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive&&typeof this.transaction>"u")throw new mi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transaction=void 0,this.isTransactionActive=!1,this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async beforeMigration(){const e=await this.connect();return new Promise((t,i)=>{e.exec([{sql:"PRAGMA foreign_keys = OFF",args:[]}],!1,r=>r?i(r):t())})}async afterMigration(){const e=await this.connect();return new Promise((t,i)=>{e.exec([{sql:"PRAGMA foreign_keys = ON",args:[]}],!1,r=>r?i(r):t())})}async query(e,t,i=!1){if(this.isReleased)throw new wn;return new Promise(async(r,s)=>{const o=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const a=+new Date;o.transaction(async l=>{typeof this.transaction>"u"&&(await this.startTransaction(),this.transaction=l),this.transaction.executeSql(e,t,(c,u)=>{const d=this.driver.options.maxQueryExecutionTime,f=+new Date-a;d&&f>d&&this.driver.connection.logger.logQuerySlow(f,e,t,this);const g=new ir;if(u!=null&&u.hasOwnProperty("rowsAffected")&&(g.affected=u.rowsAffected),u!=null&&u.hasOwnProperty("rows")){let b=[];for(let C=0;C<u.rows.length;C++)b.push(u.rows.item(C));g.raw=b,g.records=b}e.startsWith("INSERT INTO")&&(g.raw=u.insertId),r(i?g:g.raw)},(c,u)=>{this.driver.connection.logger.logQueryError(u,e,t,this),s(new er(e,t,u))})},async l=>{await this.rollbackTransaction(),s(l)},()=>{this.isTransactionActive=!1,this.transaction=void 0})})}}class b6 extends uc{constructor(e){super(e),this.database=this.options.database,this.sqlite=this.options.driver}async disconnect(){return new Promise((e,t)=>{try{this.queryRunner=void 0,this.databaseConnection._db.close(),this.databaseConnection=void 0,e()}catch(i){t(i)}})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new y6(this)),this.queryRunner}createDatabaseConnection(){return new Promise((e,t)=>{try{const i=this.sqlite.openDatabase(this.options.database);i.transaction(r=>{r.executeSql("PRAGMA foreign_keys = ON",[],(s,o)=>{e(i)},(s,o)=>{t({transaction:s,error:o})})},r=>{t(r)})}catch(i){t(i)}})}}class v6 extends Hh{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.client=t,this.broadcaster=new Pr(this)}async connect(){return{}}release(){return this.isReleased=!0,this.databaseConnection&&this.databaseConnection.release(),Promise.resolve()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?await this.client.startTransaction():await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new mi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.commitTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new mi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.rollbackTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=await this.client.query(e,t),s=new ir;return s.raw=r,r!=null&&r.hasOwnProperty("records")&&Array.isArray(r.records)&&(s.records=r.records),r!=null&&r.hasOwnProperty("numberOfRecordsUpdated")&&(s.affected=r.numberOfRecordsUpdated),i?s:s.raw}stream(e,t,i,r){if(this.isReleased)throw new wn;return new Promise(async(s,o)=>{try{const l=(await this.connect()).query(e,t);i&&l.on("end",i),r&&l.on("error",r),s(l)}catch(a){o(a)}})}async getDatabases(){return Promise.resolve([])}async getSchemas(e){throw new q("MySql driver does not support table schemas")}async hasDatabase(e){return!!(await this.query("SELECT * FROM `INFORMATION_SCHEMA`.`SCHEMATA` WHERE `SCHEMA_NAME` = '".concat(e,"'"))).length}async getCurrentDatabase(){return(await this.query("SELECT DATABASE() AS `db_name`"))[0].db_name}async hasSchema(e){throw new q("MySql driver does not support table schemas")}async getCurrentSchema(){return(await this.query("SELECT SCHEMA() AS `schema_name`"))[0].schema_name}async hasTable(e){const t=this.driver.parseTableName(e),i="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = '".concat(t.database,"' AND `TABLE_NAME` = '").concat(t.tableName,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=this.driver.parseTableName(e),r=V.isTableColumn(t)?t.name:t,s="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = '".concat(i.database,"' AND `TABLE_NAME` = '").concat(i.tableName,"' AND `COLUMN_NAME` = '").concat(r,"'");return!!(await this.query(s)).length}async createDatabase(e,t){const i=t?"CREATE DATABASE IF NOT EXISTS `".concat(e,"`"):"CREATE DATABASE `".concat(e,"`"),r="DROP DATABASE `".concat(e,"`");await this.executeQueries(new M(i),new M(r))}async dropDatabase(e,t){const i=t?"DROP DATABASE IF EXISTS `".concat(e,"`"):"DROP DATABASE `".concat(e,"`"),r="CREATE DATABASE `".concat(e,"`");await this.executeQueries(new M(i),new M(r))}async createSchema(e,t){throw new q("Schema create queries are not supported by MySql driver.")}async dropSchema(e,t){throw new q("Schema drop queries are not supported by MySql driver.")}async createTable(e,t=!1,i=!0){if(t&&await this.hasTable(e))return Promise.resolve();const r=[],s=[];return r.push(this.createTableSql(e,i)),s.push(this.dropTableSql(e)),e.indices.forEach(o=>s.push(this.dropIndexSql(e,o))),i&&e.foreignKeys.forEach(o=>s.push(this.dropForeignKeySql(e,o))),this.executeQueries(r,s)}async dropTable(e,t,i=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const r=i,s=this.getTablePath(e),o=await this.getCachedTable(s),a=[],l=[];i&&o.foreignKeys.forEach(c=>a.push(this.dropForeignKeySql(o,c))),o.indices.forEach(c=>a.push(this.dropIndexSql(o,c))),a.push(this.dropTableSql(o)),l.push(this.createTableSql(o,r)),await this.executeQueries(a,l)}async createView(e,t=!1){const i=[],r=[];i.push(this.createViewSql(e)),t&&i.push(await this.insertViewDefinitionSql(e)),r.push(this.dropViewSql(e)),t&&r.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(i,r)}async dropView(e){const t=V.isView(e)?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(await this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(await this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){const i=[],r=[],s=V.isTable(e)?e:await this.getCachedTable(e),o=s.clone(),{database:a}=this.driver.parseTableName(s);o.name=a?"".concat(a,".").concat(t):t,i.push(new M("RENAME TABLE ".concat(this.escapePath(s)," TO ").concat(this.escapePath(o)))),r.push(new M("RENAME TABLE ".concat(this.escapePath(o)," TO ").concat(this.escapePath(s)))),o.indices.forEach(l=>{const c=l.columnNames.map(h=>"`".concat(h,"`")).join(", "),u=this.connection.namingStrategy.indexName(o,l.columnNames,l.where);let d="";l.isUnique&&(d+="UNIQUE "),l.isSpatial&&(d+="SPATIAL "),l.isFulltext&&(d+="FULLTEXT "),i.push(new M("ALTER TABLE ".concat(this.escapePath(o)," DROP INDEX `").concat(l.name,"`, ADD ").concat(d,"INDEX `").concat(u,"` (").concat(c,")"))),r.push(new M("ALTER TABLE ".concat(this.escapePath(o)," DROP INDEX `").concat(u,"`, ADD ").concat(d,"INDEX `").concat(l.name,"` (").concat(c,")"))),l.name=u}),o.foreignKeys.forEach(l=>{const c=l.columnNames.map(g=>"`".concat(g,"`")).join(", "),u=l.referencedColumnNames.map(g=>"`".concat(g,"`")).join(","),d=this.connection.namingStrategy.foreignKeyName(o,l.columnNames);let h="ALTER TABLE ".concat(this.escapePath(o)," DROP FOREIGN KEY `").concat(l.name,"`, ADD CONSTRAINT `").concat(d,"` FOREIGN KEY (").concat(c,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(l)),"(").concat(u,")");l.onDelete&&(h+=" ON DELETE ".concat(l.onDelete)),l.onUpdate&&(h+=" ON UPDATE ".concat(l.onUpdate));let f="ALTER TABLE ".concat(this.escapePath(o)," DROP FOREIGN KEY `").concat(d,"`, ADD CONSTRAINT `").concat(l.name,"` FOREIGN KEY (").concat(c,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(l)),"(").concat(u,")");l.onDelete&&(f+=" ON DELETE ".concat(l.onDelete)),l.onUpdate&&(f+=" ON UPDATE ".concat(l.onUpdate)),i.push(new M(h)),r.push(new M(f)),l.name=d}),await this.executeQueries(i,r),s.name=o.name,this.replaceCachedTable(s,o)}async addColumn(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=[],o=[],a=r.primaryColumns.length>0;if(s.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(t,a,!1)))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN `").concat(t.name,"`"))),t.isPrimary&&a){const c=r.columns.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(c){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,s.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(t.name,"` ").concat(this.buildCreateColumnSql(h,!0)))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(t,!0))))}const u=r.primaryColumns;let d=u.map(h=>"`".concat(h.name,"`")).join(", ");if(s.push(new M("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY"))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(d,")"))),u.push(t),d=u.map(h=>"`".concat(h.name,"`")).join(", "),s.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(d,")"))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY"))),c){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,s.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(t,!0)))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(t.name,"` ").concat(this.buildCreateColumnSql(h,!0))))}}const l=r.indices.find(c=>c.columnNames.length===1&&c.columnNames[0]===t.name);if(l)s.push(this.createIndexSql(i,l)),o.push(this.dropIndexSql(i,l));else if(t.isUnique){const c=new Ct({name:this.connection.namingStrategy.indexName(i,[t.name]),columnNames:[t.name],isUnique:!0});r.indices.push(c),r.uniques.push(new dn({name:c.name,columnNames:c.columnNames})),s.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD UNIQUE INDEX `").concat(c.name,"` (`").concat(t.name,"`)"))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," DROP INDEX `").concat(c.name,"`")))}await this.executeQueries(s,o),r.addColumn(t),this.replaceCachedTable(i,r)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const r=V.isTable(e)?e:await this.getCachedTable(e),s=V.isTableColumn(t)?t:r.columns.find(a=>a.name===t);if(!s)throw new q('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;V.isTableColumn(i)?o=i:(o=s.clone(),o.name=i),await this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=V.isTable(e)?e:await this.getCachedTable(e);let s=r.clone();const o=[],a=[],l=V.isTableColumn(t)?t:r.columns.find(c=>c.name===t);if(!l)throw new q('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));if(i.isGenerated!==l.isGenerated&&i.generationStrategy!=="uuid"||l.type!==i.type||l.length!==i.length||l.generatedType!==i.generatedType)await this.dropColumn(r,l),await this.addColumn(r,i),s=r.clone();else{if(i.name!==l.name){o.push(new M("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(l.name,"` `").concat(i.name,"` ").concat(this.buildCreateColumnSql(l,!0,!0)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(i.name,"` `").concat(l.name,"` ").concat(this.buildCreateColumnSql(l,!0,!0)))),s.findColumnIndices(l).forEach(u=>{u.columnNames.splice(u.columnNames.indexOf(l.name),1),u.columnNames.push(i.name);const d=u.columnNames.map(g=>"`".concat(g,"`")).join(", "),h=this.connection.namingStrategy.indexName(s,u.columnNames,u.where);let f="";u.isUnique&&(f+="UNIQUE "),u.isSpatial&&(f+="SPATIAL "),u.isFulltext&&(f+="FULLTEXT "),o.push(new M("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(u.name,"`, ADD ").concat(f,"INDEX `").concat(h,"` (").concat(d,")"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(h,"`, ADD ").concat(f,"INDEX `").concat(u.name,"` (").concat(d,")"))),u.name=h}),s.findColumnForeignKeys(l).forEach(u=>{u.columnNames.splice(u.columnNames.indexOf(l.name),1),u.columnNames.push(i.name);const d=u.columnNames.map(C=>"`".concat(C,"`")).join(", "),h=u.referencedColumnNames.map(C=>"`".concat(C,"`")).join(","),f=this.connection.namingStrategy.foreignKeyName(s,u.columnNames);let g="ALTER TABLE ".concat(this.escapePath(r)," DROP FOREIGN KEY `").concat(u.name,"`, ADD CONSTRAINT `").concat(f,"` FOREIGN KEY (").concat(d,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(u)),"(").concat(h,")");u.onDelete&&(g+=" ON DELETE ".concat(u.onDelete)),u.onUpdate&&(g+=" ON UPDATE ".concat(u.onUpdate));let b="ALTER TABLE ".concat(this.escapePath(r)," DROP FOREIGN KEY `").concat(f,"`, ADD CONSTRAINT `").concat(u.name,"` FOREIGN KEY (").concat(d,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(u)),"(").concat(h,")");u.onDelete&&(b+=" ON DELETE ".concat(u.onDelete)),u.onUpdate&&(b+=" ON UPDATE ".concat(u.onUpdate)),o.push(new M(g)),a.push(new M(b)),u.name=f});const c=s.columns.find(u=>u.name===l.name);s.columns[s.columns.indexOf(c)].name=i.name,l.name=i.name}if(this.isColumnChanged(l,i,!0)&&(o.push(new M("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(l.name,"` ").concat(this.buildCreateColumnSql(i,!0)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(i.name,"` ").concat(this.buildCreateColumnSql(l,!0))))),i.isPrimary!==l.isPrimary){const c=s.columns.find(d=>d.isGenerated&&d.generationStrategy==="increment");if(c){const d=c.clone();d.isGenerated=!1,d.generationStrategy=void 0,o.push(new M("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(d,!0)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(d.name,"` ").concat(this.buildCreateColumnSql(c,!0))))}const u=s.primaryColumns;if(u.length>0){const d=u.map(h=>"`".concat(h.name,"`")).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(r)," DROP PRIMARY KEY"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r)," ADD PRIMARY KEY (").concat(d,")")))}if(i.isPrimary===!0){u.push(i);const d=s.columns.find(f=>f.name===i.name);d.isPrimary=!0;const h=u.map(f=>"`".concat(f.name,"`")).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(r)," ADD PRIMARY KEY (").concat(h,")"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r)," DROP PRIMARY KEY")))}else{const d=u.find(f=>f.name===i.name);u.splice(u.indexOf(d),1);const h=s.columns.find(f=>f.name===i.name);if(h.isPrimary=!1,u.length>0){const f=u.map(g=>"`".concat(g.name,"`")).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(r)," ADD PRIMARY KEY (").concat(f,")"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r)," DROP PRIMARY KEY")))}}if(c){const d=c.clone();d.isGenerated=!1,d.generationStrategy=void 0,o.push(new M("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(d.name,"` ").concat(this.buildCreateColumnSql(c,!0)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(d,!0))))}}if(i.isUnique!==l.isUnique)if(i.isUnique===!0){const c=new Ct({name:this.connection.namingStrategy.indexName(r,[i.name]),columnNames:[i.name],isUnique:!0});s.indices.push(c),s.uniques.push(new dn({name:c.name,columnNames:c.columnNames})),o.push(new M("ALTER TABLE ".concat(this.escapePath(r)," ADD UNIQUE INDEX `").concat(c.name,"` (`").concat(i.name,"`)"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(c.name,"`")))}else{const c=s.indices.find(d=>d.columnNames.length===1&&d.isUnique===!0&&!!d.columnNames.find(h=>h===i.name));s.indices.splice(s.indices.indexOf(c),1);const u=s.uniques.find(d=>d.name===c.name);s.uniques.splice(s.uniques.indexOf(u),1),o.push(new M("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(c.name,"`"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r)," ADD UNIQUE INDEX `").concat(c.name,"` (`").concat(i.name,"`)")))}}await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:r}of t)await this.changeColumn(e,i,r)}async dropColumn(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableColumn(t)?t:i.findColumnByName(t);if(!r)throw new q('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));const s=i.clone(),o=[],a=[];if(r.isPrimary){const c=s.columns.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(c){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(h,!0)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(c,!0))))}const u=s.primaryColumns.map(h=>"`".concat(h.name,"`")).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(s)," DROP PRIMARY KEY"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(s)," ADD PRIMARY KEY (").concat(u,")")));const d=s.findColumnByName(r.name);if(d.isPrimary=!1,s.primaryColumns.length>0){const h=s.primaryColumns.map(f=>"`".concat(f.name,"`")).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(s)," ADD PRIMARY KEY (").concat(h,")"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(s)," DROP PRIMARY KEY")))}if(c&&c.name!==r.name){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(c,!0)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(h,!0))))}}const l=s.indices.find(c=>c.columnNames.length===1&&c.columnNames[0]===r.name);if(l)s.indices.splice(s.indices.indexOf(l),1),o.push(this.dropIndexSql(i,l)),a.push(this.createIndexSql(i,l));else if(r.isUnique){const c=this.connection.namingStrategy.uniqueConstraintName(i,[r.name]),u=s.uniques.find(f=>f.name===c);u&&s.uniques.splice(s.uniques.indexOf(u),1);const d=this.connection.namingStrategy.indexName(i,[r.name]),h=s.indices.find(f=>f.name===d);h&&s.indices.splice(s.indices.indexOf(h),1),o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," DROP INDEX `").concat(d,"`"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD UNIQUE INDEX `").concat(d,"` (`").concat(r.name,"`)")))}o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN `").concat(r.name,"`"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(r,!0)))),await this.executeQueries(o,a),s.removeColumn(r),this.replaceCachedTable(i,s)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=this.createPrimaryKeySql(i,t),o=this.dropPrimaryKeySql(i);await this.executeQueries(s,o),r.columns.forEach(a=>{t.find(l=>l===a.name)&&(a.isPrimary=!0)}),this.replaceCachedTable(i,r)}async updatePrimaryKeys(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=t.map(h=>h.name),o=[],a=[],l=r.columns.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(l){const h=l.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(l.name,"` ").concat(this.buildCreateColumnSql(h,!0)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(l,!0))))}const c=r.primaryColumns;if(c.length>0){const h=c.map(f=>"`".concat(f.name,"`")).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(h,")")))}r.columns.filter(h=>s.indexOf(h.name)!==-1).forEach(h=>h.isPrimary=!0);const u=s.map(h=>"`".concat(h,"`")).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(u,")"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY")));const d=l||t.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(d){const h=d.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(d,!0)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(d.name,"` ").concat(this.buildCreateColumnSql(h,!0))));const f=r.columns.find(g=>g.name===d.name);f.isGenerated=!0,f.generationStrategy="increment"}await this.executeQueries(o,a),this.replaceCachedTable(i,r)}async dropPrimaryKey(e){const t=V.isTable(e)?e:await this.getCachedTable(e),i=this.dropPrimaryKeySql(t),r=this.createPrimaryKeySql(t,t.primaryColumns.map(s=>s.name));await this.executeQueries(i,r),t.primaryColumns.forEach(s=>{s.isPrimary=!1})}async createUniqueConstraint(e,t){throw new q("MySql does not support unique constraints. Use unique index instead.")}async createUniqueConstraints(e,t){throw new q("MySql does not support unique constraints. Use unique index instead.")}async dropUniqueConstraint(e,t){throw new q("MySql does not support unique constraints. Use unique index instead.")}async dropUniqueConstraints(e,t){throw new q("MySql does not support unique constraints. Use unique index instead.")}async createCheckConstraint(e,t){throw new q("MySql does not support check constraints.")}async createCheckConstraints(e,t){throw new q("MySql does not support check constraints.")}async dropCheckConstraint(e,t){throw new q("MySql does not support check constraints.")}async dropCheckConstraints(e,t){throw new q("MySql does not support check constraints.")}async createExclusionConstraint(e,t){throw new q("MySql does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new q("MySql does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new q("MySql does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new q("MySql does not support exclusion constraints.")}async createForeignKey(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames));const r=this.createForeignKeySql(i,t),s=this.dropForeignKeySql(i,t);await this.executeQueries(r,s),i.addForeignKey(t)}async createForeignKeys(e,t){const i=t.map(r=>this.createForeignKey(e,r));await Promise.all(i)}async dropForeignKey(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableForeignKey(t)?t:i.foreignKeys.find(a=>a.name===t);if(!r)throw new q("Supplied foreign key was not found in table ".concat(i.name));const s=this.dropForeignKeySql(i,r),o=this.createForeignKeySql(i,r);await this.executeQueries(s,o),i.removeForeignKey(r)}async dropForeignKeys(e,t){const i=t.map(r=>this.dropForeignKey(e,r));await Promise.all(i)}async createIndex(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t,!0)}async createIndices(e,t){const i=t.map(r=>this.createIndex(e,r));await Promise.all(i)}async dropIndex(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new q("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r,!0)}async dropIndices(e,t){const i=t.map(r=>this.dropIndex(e,r));await Promise.all(i)}async clearTable(e){await this.query("TRUNCATE TABLE ".concat(this.escapePath(e)))}async clearDatabase(e){const t=e||this.driver.database;if(t){if(!await this.hasDatabase(t))return Promise.resolve()}else throw new q("Can not clear database. No database is specified");const i=this.isTransactionActive;i||await this.startTransaction();try{const r="SELECT concat('DROP VIEW IF EXISTS `', table_schema, '`.`', table_name, '`') AS `query` FROM `INFORMATION_SCHEMA`.`VIEWS` WHERE `TABLE_SCHEMA` = '".concat(t,"'"),s=await this.query(r);await Promise.all(s.map(u=>this.query(u.query)));const o="SET FOREIGN_KEY_CHECKS = 0;",a="SELECT concat('DROP TABLE IF EXISTS `', table_schema, '`.`', table_name, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_SCHEMA` = '".concat(t,"'"),l="SET FOREIGN_KEY_CHECKS = 1;";await this.query(o);const c=await this.query(a);await Promise.all(c.map(u=>this.query(u.query))),await this.query(l),i||await this.commitTransaction()}catch(r){try{i||await this.rollbackTransaction()}catch(s){}throw r}}async loadViews(e){if(!await this.hasTable(this.getTypeormMetadataTableName()))return[];e||(e=[]);const i=await this.getCurrentDatabase(),r=e.map(a=>{let{database:l,tableName:c}=this.driver.parseTableName(a);return l||(l=i),"(`t`.`schema` = '".concat(l,"' AND `t`.`name` = '").concat(c,"')")}).join(" OR "),s="SELECT `t`.*, `v`.`check_option` FROM ".concat(this.escapePath(this.getTypeormMetadataTableName())," `t` ")+"INNER JOIN `information_schema`.`views` `v` ON `v`.`table_schema` = `t`.`schema` AND `v`.`table_name` = `t`.`name` WHERE `t`.`type` = '".concat(Ne.VIEW,"' ").concat(r?"AND (".concat(r,")"):"");return(await this.query(s)).map(a=>{const l=new Nr,c=a.schema===i?void 0:a.schema;return l.database=a.schema,l.name=this.driver.buildTableName(a.name,void 0,c),l.expression=a.value,l})}async loadTables(e){if(e&&e.length===0)return[];const t=[],i=await this.getCurrentDatabase();if(e){const y="SELECT TABLE_NAME, TABLE_SCHEMA FROM `INFORMATION_SCHEMA`.`TABLES` WHERE "+e.map(E=>{let[N,I]=E.split(".");return I||(I=N,N=this.driver.database||i),"(`TABLE_SCHEMA` = '".concat(N,"' AND `TABLE_NAME` = '").concat(I,"')")}).join(" OR ");t.push(...await this.query(y))}else{const x="SELECT TABLE_NAME, TABLE_SCHEMA FROM `INFORMATION_SCHEMA`.`TABLES`";t.push(...await this.query(x))}if(t.length===0)return[];const r=t.map(({TABLE_NAME:x,TABLE_SCHEMA:y})=>"(`TABLE_SCHEMA` = '".concat(y,"' AND `TABLE_NAME` = '").concat(x,"')")).join(" OR "),s="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE "+r,o="SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND (".concat(r,")"),a="SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`",l=t.map(({TABLE_NAME:x,TABLE_SCHEMA:y})=>"(`s`.`TABLE_SCHEMA` = '".concat(y,"' AND `s`.`TABLE_NAME` = '").concat(x,"')")).join(" OR "),c="SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` "+"WHERE (".concat(l,") AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL"),d="SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE "+t.map(({TABLE_NAME:x,TABLE_SCHEMA:y})=>"(`kcu`.`TABLE_SCHEMA` = '".concat(y,"' AND `kcu`.`TABLE_NAME` = '").concat(x,"')")).join(" OR "),[h,f,g,b,C]=await Promise.all([this.query(s),this.query(o),this.query(a),this.query(c),this.query(d)]);return Promise.all(t.map(async x=>{const y=new mt,E=g.find(R=>R.SCHEMA_NAME===x.TABLE_SCHEMA),N=E.COLLATION,I=E.CHARSET,B=x.TABLE_SCHEMA===i?void 0:x.TABLE_SCHEMA;y.database=x.TABLE_SCHEMA,y.name=this.driver.buildTableName(x.TABLE_NAME,void 0,B),y.columns=h.filter(R=>R.TABLE_NAME===x.TABLE_NAME&&R.TABLE_SCHEMA===x.TABLE_SCHEMA).map(R=>{const H=b.filter(re=>re.TABLE_NAME===x.TABLE_NAME&&re.TABLE_SCHEMA===x.TABLE_SCHEMA&&re.COLUMN_NAME===R.COLUMN_NAME&&parseInt(re.NON_UNIQUE,10)===0),A=this.connection.entityMetadatas.find(re=>this.getTablePath(y)===this.getTablePath(re)),U=H.length>0&&A&&A.indices.some(re=>H.some(he=>re.name===he.INDEX_NAME&&re.synchronize===!1)),D=H.every(re=>b.some(he=>he.INDEX_NAME===re.INDEX_NAME&&he.COLUMN_NAME!==R.COLUMN_NAME)),K=new An;if(K.name=R.COLUMN_NAME,K.type=R.DATA_TYPE.toLowerCase(),K.unsigned=K.zerofill?!0:R.COLUMN_TYPE.indexOf("unsigned")!==-1,this.driver.withWidthColumnTypes.indexOf(K.type)!==-1){const re=R.COLUMN_TYPE.substring(R.COLUMN_TYPE.indexOf("(")+1,R.COLUMN_TYPE.indexOf(")"));K.width=re&&!this.isDefaultColumnWidth(y,K,parseInt(re))?parseInt(re):void 0}if(R.COLUMN_DEFAULT===null||R.COLUMN_DEFAULT===void 0?K.default=void 0:K.default=R.COLUMN_DEFAULT==="CURRENT_TIMESTAMP"?R.COLUMN_DEFAULT:"'".concat(R.COLUMN_DEFAULT,"'"),R.EXTRA.indexOf("on update")!==-1&&(K.onUpdate=R.EXTRA.substring(R.EXTRA.indexOf("on update")+10)),R.GENERATION_EXPRESSION&&(K.asExpression=R.GENERATION_EXPRESSION,K.generatedType=R.EXTRA.indexOf("VIRTUAL")!==-1?"VIRTUAL":"STORED"),K.isUnique=H.length>0&&!U&&!D,K.isNullable=R.IS_NULLABLE==="YES",K.isPrimary=f.some(re=>re.TABLE_NAME===R.TABLE_NAME&&re.TABLE_SCHEMA===R.TABLE_SCHEMA&&re.COLUMN_NAME===R.COLUMN_NAME),K.zerofill=R.COLUMN_TYPE.indexOf("zerofill")!==-1,K.isGenerated=R.EXTRA.indexOf("auto_increment")!==-1,K.isGenerated&&(K.generationStrategy="increment"),K.comment=typeof R.COLUMN_COMMENT=="string"&&R.COLUMN_COMMENT.length===0?void 0:R.COLUMN_COMMENT,R.CHARACTER_SET_NAME&&(K.charset=R.CHARACTER_SET_NAME===I?void 0:R.CHARACTER_SET_NAME),R.COLLATION_NAME&&(K.collation=R.COLLATION_NAME===N?void 0:R.COLLATION_NAME),this.driver.withLengthColumnTypes.indexOf(K.type)!==-1&&R.CHARACTER_MAXIMUM_LENGTH){const re=R.CHARACTER_MAXIMUM_LENGTH.toString();K.length=this.isDefaultColumnLength(y,K,re)?"":re}if((K.type==="decimal"||K.type==="double"||K.type==="float")&&(R.NUMERIC_PRECISION!==null&&!this.isDefaultColumnPrecision(y,K,R.NUMERIC_PRECISION)&&(K.precision=parseInt(R.NUMERIC_PRECISION)),R.NUMERIC_SCALE!==null&&!this.isDefaultColumnScale(y,K,R.NUMERIC_SCALE)&&(K.scale=parseInt(R.NUMERIC_SCALE))),K.type==="enum"||K.type==="simple-enum"||K.type==="set"){const re=R.COLUMN_TYPE,he=re.substring(re.indexOf("(")+1,re.lastIndexOf(")")).split(",");K.enum=he.map(ce=>ce.substring(1,ce.length-1)),K.length=""}return(K.type==="datetime"||K.type==="time"||K.type==="timestamp")&&R.DATETIME_PRECISION!==null&&R.DATETIME_PRECISION!==void 0&&!this.isDefaultColumnPrecision(y,K,parseInt(R.DATETIME_PRECISION))&&(K.precision=parseInt(R.DATETIME_PRECISION)),K});const O=ve.uniq(C.filter(R=>R.TABLE_NAME===x.TABLE_NAME&&R.TABLE_SCHEMA===x.TABLE_SCHEMA),R=>R.CONSTRAINT_NAME);y.foreignKeys=O.map(R=>{const H=C.filter(D=>D.CONSTRAINT_NAME===R.CONSTRAINT_NAME),A=R.REFERENCED_TABLE_SCHEMA===i?void 0:R.REFERENCED_TABLE_SCHEMA,U=this.driver.buildTableName(R.REFERENCED_TABLE_NAME,void 0,A);return new di({name:R.CONSTRAINT_NAME,columnNames:H.map(D=>D.COLUMN_NAME),referencedDatabase:R.REFERENCED_TABLE_SCHEMA,referencedTableName:U,referencedColumnNames:H.map(D=>D.REFERENCED_COLUMN_NAME),onDelete:R.ON_DELETE,onUpdate:R.ON_UPDATE})});const $=ve.uniq(b.filter(R=>R.TABLE_NAME===x.TABLE_NAME&&R.TABLE_SCHEMA===x.TABLE_SCHEMA),R=>R.INDEX_NAME);return y.indices=$.map(R=>{const H=b.filter(U=>U.TABLE_SCHEMA===R.TABLE_SCHEMA&&U.TABLE_NAME===R.TABLE_NAME&&U.INDEX_NAME===R.INDEX_NAME),A=parseInt(R.NON_UNIQUE,10);return new Ct({table:y,name:R.INDEX_NAME,columnNames:H.map(U=>U.COLUMN_NAME),isUnique:A===0,isSpatial:R.INDEX_TYPE==="SPATIAL",isFulltext:R.INDEX_TYPE==="FULLTEXT"})}),y}))}createTableSql(e,t){const i=e.columns.map(s=>this.buildCreateColumnSql(s,!0)).join(", ");let r="CREATE TABLE ".concat(this.escapePath(e)," (").concat(i);if(e.columns.filter(s=>s.isUnique).forEach(s=>{const o=e.indices.some(l=>l.columnNames.length===1&&!!l.isUnique&&l.columnNames.indexOf(s.name)!==-1),a=e.uniques.some(l=>l.columnNames.length===1&&l.columnNames.indexOf(s.name)!==-1);!o&&!a&&e.indices.push(new Ct({name:this.connection.namingStrategy.uniqueConstraintName(e,[s.name]),columnNames:[s.name],isUnique:!0}))}),e.uniques.length>0&&e.uniques.forEach(s=>{e.indices.some(a=>a.name===s.name)||e.indices.push(new Ct({name:s.name,columnNames:s.columnNames,isUnique:!0}))}),e.indices.length>0){const s=e.indices.map(o=>{const a=o.columnNames.map(c=>"`".concat(c,"`")).join(", ");o.name||(o.name=this.connection.namingStrategy.indexName(e,o.columnNames,o.where));let l="";return o.isUnique&&(l+="UNIQUE "),o.isSpatial&&(l+="SPATIAL "),o.isFulltext&&(l+="FULLTEXT "),"".concat(l,"INDEX `").concat(o.name,"` (").concat(a,")")}).join(", ");r+=", ".concat(s)}if(e.foreignKeys.length>0&&t){const s=e.foreignKeys.map(o=>{const a=o.columnNames.map(u=>"`".concat(u,"`")).join(", ");o.name||(o.name=this.connection.namingStrategy.foreignKeyName(e,o.columnNames));const l=o.referencedColumnNames.map(u=>"`".concat(u,"`")).join(", ");let c="CONSTRAINT `".concat(o.name,"` FOREIGN KEY (").concat(a,") REFERENCES ").concat(this.escapePath(this.getTablePath(o))," (").concat(l,")");return o.onDelete&&(c+=" ON DELETE ".concat(o.onDelete)),o.onUpdate&&(c+=" ON UPDATE ".concat(o.onUpdate)),c}).join(", ");r+=", ".concat(s)}if(e.primaryColumns.length>0){const s=e.primaryColumns.map(o=>"`".concat(o.name,"`")).join(", ");r+=", PRIMARY KEY (".concat(s,")")}return r+=") ENGINE=".concat(e.engine||"InnoDB"),new M(r)}dropTableSql(e){return new M("DROP TABLE ".concat(this.escapePath(e)))}createViewSql(e){return typeof e.expression=="string"?new M("CREATE VIEW ".concat(this.escapePath(e)," AS ").concat(e.expression)):new M("CREATE VIEW ".concat(this.escapePath(e)," AS ").concat(e.expression(this.connection).getQuery()))}async insertViewDefinitionSql(e){const t=await this.getCurrentDatabase(),i=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:Ne.VIEW,schema:t,name:e.name,value:i})}dropViewSql(e){return new M("DROP VIEW ".concat(this.escapePath(e)))}async deleteViewDefinitionSql(e){const t=await this.getCurrentDatabase(),i=V.isView(e)?e.name:e;return this.deleteTypeormMetadataSql({type:Ne.VIEW,schema:t,name:i})}createIndexSql(e,t){const i=t.columnNames.map(s=>"`".concat(s,"`")).join(", ");let r="";return t.isUnique&&(r+="UNIQUE "),t.isSpatial&&(r+="SPATIAL "),t.isFulltext&&(r+="FULLTEXT "),new M("CREATE ".concat(r,"INDEX `").concat(t.name,"` ON ").concat(this.escapePath(e)," (").concat(i,")"))}dropIndexSql(e,t){let i=V.isTableIndex(t)?t.name:t;return new M("DROP INDEX `".concat(i,"` ON ").concat(this.escapePath(e)))}createPrimaryKeySql(e,t){const i=t.map(r=>"`".concat(r,"`")).join(", ");return new M("ALTER TABLE ".concat(this.escapePath(e)," ADD PRIMARY KEY (").concat(i,")"))}dropPrimaryKeySql(e){return new M("ALTER TABLE ".concat(this.escapePath(e)," DROP PRIMARY KEY"))}createForeignKeySql(e,t){const i=t.columnNames.map(o=>"`".concat(o,"`")).join(", "),r=t.referencedColumnNames.map(o=>"`".concat(o,"`")).join(",");let s="ALTER TABLE ".concat(this.escapePath(e)," ADD CONSTRAINT `").concat(t.name,"` FOREIGN KEY (").concat(i,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(t)),"(").concat(r,")");return t.onDelete&&(s+=" ON DELETE ".concat(t.onDelete)),t.onUpdate&&(s+=" ON UPDATE ".concat(t.onUpdate)),new M(s)}dropForeignKeySql(e,t){const i=V.isTableForeignKey(t)?t.name:t;return new M("ALTER TABLE ".concat(this.escapePath(e)," DROP FOREIGN KEY `").concat(i,"`"))}escapeComment(e){return!e||e.length===0?"''":(e=e.replace(/\\/g,"\\\\").replace(/'/g,"''").replace(/\u0000/g,""),"'".concat(e,"'"))}escapePath(e){const{database:t,tableName:i}=this.driver.parseTableName(e);return t&&t!==this.driver.database?"`".concat(t,"`.`").concat(i,"`"):"`".concat(i,"`")}buildCreateColumnSql(e,t,i=!1){let r="";return i?r=this.connection.driver.createFullType(e):r="`".concat(e.name,"` ").concat(this.connection.driver.createFullType(e)),e.asExpression&&(r+=" AS (".concat(e.asExpression,") ").concat(e.generatedType?e.generatedType:"VIRTUAL")),e.zerofill?r+=" ZEROFILL":e.unsigned&&(r+=" UNSIGNED"),e.enum&&(r+=" (".concat(e.enum.map(s=>"'"+s+"'").join(", "),")")),e.charset&&(r+=' CHARACTER SET "'.concat(e.charset,'"')),e.collation&&(r+=' COLLATE "'.concat(e.collation,'"')),e.isNullable||(r+=" NOT NULL"),e.isNullable&&(r+=" NULL"),e.isPrimary&&!t&&(r+=" PRIMARY KEY"),e.isGenerated&&e.generationStrategy==="increment"&&(r+=" AUTO_INCREMENT"),e.comment&&(r+=" COMMENT ".concat(this.escapeComment(e.comment))),e.default!==void 0&&e.default!==null&&(r+=" DEFAULT ".concat(e.default)),e.onUpdate&&(r+=" ON UPDATE ".concat(e.onUpdate)),r}isDefaultColumnWidth(e,t,i){if(this.connection.hasMetadata(e.name)){const o=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(o&&o.width)return!1}const r=this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].width;if(r){const o=["int","tinyint","smallint","mediumint"].indexOf(t.type)!==-1;return t.unsigned&&o?r-1===i:r===i}return!1}}class w6{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["bit","int","integer","tinyint","smallint","mediumint","bigint","float","double","double precision","real","decimal","dec","numeric","fixed","bool","boolean","date","datetime","timestamp","time","year","char","nchar","national char","varchar","nvarchar","national varchar","blob","text","tinyblob","tinytext","mediumblob","mediumtext","longblob","longtext","enum","set","binary","varbinary","json","geometry","point","linestring","polygon","multipoint","multilinestring","multipolygon","geometrycollection"],this.supportedUpsertTypes=["on-duplicate-key-update"],this.spatialTypes=["geometry","point","linestring","polygon","multipoint","multilinestring","multipolygon","geometrycollection"],this.withLengthColumnTypes=["char","varchar","nvarchar","binary","varbinary"],this.withWidthColumnTypes=["bit","tinyint","smallint","mediumint","int","integer","bigint"],this.withPrecisionColumnTypes=["decimal","dec","numeric","fixed","float","double","double precision","real","time","datetime","timestamp"],this.withScaleColumnTypes=["decimal","dec","numeric","fixed","float","double","double precision","real"],this.unsignedAndZerofillTypes=["int","integer","smallint","tinyint","mediumint","bigint","decimal","dec","numeric","fixed","float","double","double precision","real"],this.mappedDataTypes={createDate:"datetime",createDatePrecision:6,createDateDefault:"CURRENT_TIMESTAMP(6)",updateDate:"datetime",updateDatePrecision:6,updateDateDefault:"CURRENT_TIMESTAMP(6)",deleteDate:"datetime",deleteDatePrecision:6,deleteDateNullable:!0,version:"int",treeLevel:"int",migrationId:"int",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.dataTypeDefaults={varchar:{length:255},nvarchar:{length:255},"national varchar":{length:255},char:{length:1},binary:{length:1},varbinary:{length:255},decimal:{precision:10,scale:0},dec:{precision:10,scale:0},numeric:{precision:10,scale:0},fixed:{precision:10,scale:0},float:{precision:12},double:{precision:22},time:{precision:0},datetime:{precision:0},timestamp:{precision:0},bit:{width:1},int:{width:11},integer:{width:11},tinyint:{width:4},smallint:{width:6},mediumint:{width:9},bigint:{width:20}},this.maxAliasLength=63,this.cteCapabilities={enabled:!1},this.connection=e,this.options=e.options,this.loadDependencies(),this.client=new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions),this.database=me.buildDriverOptions(this.options).database}async connect(){if(!this.database){const e=await this.createQueryRunner("master");this.database=await e.getCurrentDatabase(),await e.release()}}afterConnect(){return Promise.resolve()}async disconnect(){}createSchemaBuilder(){return new Vh(this.connection)}createQueryRunner(e){return new v6(this,new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions))}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):typeof l=="function"?l():(r.push(l),this.createParameter(a,r.length-1))}),[e,r])}escape(e){return"`"+e+"`"}buildTableName(e,t,i){let r=[e];return i&&r.unshift(i),r.join(".")}parseTableName(e){const t=this.database,i=void 0;if(V.isTable(e)||V.isView(e)){const s=this.parseTableName(e.name);return{database:e.database||s.database||t,schema:e.schema||s.schema||i,tableName:s.tableName}}if(V.isTableForeignKey(e)){const s=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||s.database||t,schema:e.referencedSchema||s.schema||i,tableName:s.tableName}}if(V.isEntityMetadata(e))return{database:e.database||t,schema:e.schema||i,tableName:e.tableName};const r=e.split(".");return{database:(r.length>1?r[0]:void 0)||t,schema:i,tableName:r.length>1?r[1]:r[0]}}preparePersistentValue(e,t){return t.transformer&&(e=Ut.transformTo(t.transformer,e)),!this.options.formatOptions||this.options.formatOptions.castParameters!==!1?this.client.preparePersistentValue(e,t):e==null?e:t.type===Boolean?e===!0?1:0:t.type==="date"?ke.mixedDateToDateString(e):t.type==="time"?ke.mixedDateToTimeString(e):t.type==="json"?JSON.stringify(e):t.type==="timestamp"||t.type==="datetime"||t.type===Date?ke.mixedDateToDate(e):t.type==="simple-array"||t.type==="set"?ke.simpleArrayToString(e):t.type==="simple-json"?ke.simpleJsonToString(e):t.type==="enum"||t.type==="simple-enum"?""+e:e}prepareHydratedValue(e,t){return e==null?t.transformer?Ut.transformFrom(t.transformer,e):e:!this.options.formatOptions||this.options.formatOptions.castParameters!==!1?this.client.prepareHydratedValue(e,t):(t.type===Boolean||t.type==="bool"||t.type==="boolean"?e=!!e:t.type==="datetime"||t.type===Date?e=ke.normalizeHydratedDate(e):t.type==="date"?e=ke.mixedDateToDateString(e):t.type==="json"?e=typeof e=="string"?JSON.parse(e):e:t.type==="time"?e=ke.mixedTimeToString(e):t.type==="simple-array"||t.type==="set"?e=ke.stringToSimpleArray(e):t.type==="simple-json"?e=ke.stringToSimpleJson(e):(t.type==="enum"||t.type==="simple-enum")&&t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0?e=parseInt(e):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=Ut.transformFrom(t.transformer,e)),e)}normalizeType(e){return e.type===Number||e.type==="integer"?"int":e.type===String?"varchar":e.type===Date?"datetime":e.type===Buffer?"blob":e.type===Boolean?"tinyint":e.type==="uuid"?"varchar":e.type==="simple-array"||e.type==="simple-json"?"text":e.type==="simple-enum"?"enum":e.type==="double precision"||e.type==="real"?"double":e.type==="dec"||e.type==="numeric"||e.type==="fixed"?"decimal":e.type==="bool"||e.type==="boolean"?"tinyint":e.type==="nvarchar"||e.type==="national varchar"?"varchar":e.type==="nchar"||e.type==="national char"?"char":e.type||""}normalizeDefault(e){const t=e.default;if(t!==null){if((e.type==="enum"||e.type==="simple-enum")&&t!==void 0)return"'".concat(t,"'");if(e.type==="set"&&t!==void 0)return"'".concat(ke.simpleArrayToString(t),"'");if(typeof t=="number")return"".concat(t);if(typeof t=="boolean")return t?"1":"0";if(typeof t=="function")return t();if(typeof t=="string")return"'".concat(t,"'");if(t!==void 0)return"".concat(t)}}normalizeIsUnique(e){return e.entityMetadata.indices.some(t=>t.isUnique&&t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){if(e.length)return e.length.toString();if(e.generationStrategy==="uuid")return"36";switch(e.type){case String:case"varchar":case"nvarchar":case"national varchar":return"255";case"varbinary":return"255";default:return""}}createFullType(e){let t=e.type;return this.getColumnLength(e)?t+="(".concat(this.getColumnLength(e),")"):e.width?t+="(".concat(e.width,")"):e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="(".concat(e.precision,",").concat(e.scale,")"):e.precision!==null&&e.precision!==void 0&&(t+="(".concat(e.precision,")")),e.isArray&&(t+=" array"),t}obtainMasterConnection(){return new Promise((e,t)=>{this.poolCluster?this.poolCluster.getConnection("MASTER",(i,r)=>{i?t(i):e(this.prepareDbConnection(r))}):this.pool?this.pool.getConnection((i,r)=>{i?t(i):e(this.prepareDbConnection(r))}):t(new q("Connection is not established with mysql database"))})}obtainSlaveConnection(){return this.poolCluster?new Promise((e,t)=>{this.poolCluster.getConnection("SLAVE*",(i,r)=>{i?t(i):e(this.prepareDbConnection(r))})}):this.obtainMasterConnection()}createGeneratedMap(e,t,i){const r=e.generatedColumns.reduce((s,o)=>{let a;return o.generationStrategy==="increment"&&t.insertId&&(a=t.insertId+i),ve.mergeDeep(s,o.createValueMap(a))},{});return Object.keys(r).length>0?r:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);if(!r)return!1;let s=i.length;return!s&&i.generationStrategy==="uuid"&&(s=this.getColumnLength(i)),r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==s||r.width!==i.width||r.precision!==i.precision||r.scale!==i.scale||r.zerofill!==i.zerofill||r.unsigned!==i.unsigned||r.asExpression!==i.asExpression||r.generatedType!==i.generatedType||r.comment!==this.escapeComment(i.comment)||!this.compareDefaultValues(this.normalizeDefault(i),r.default)||r.enum&&i.enum&&!ve.isArraysEqual(r.enum,i.enum.map(o=>o+""))||r.onUpdate!==i.onUpdate||r.isPrimary!==i.isPrimary||r.isNullable!==i.isNullable||r.isUnique!==this.normalizeIsUnique(i)||i.generationStrategy!=="uuid"&&r.isGenerated!==i.isGenerated})}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!0}createParameter(e,t){return"?"}loadDependencies(){const e=this.options.driver||ct.load("typeorm-aurora-data-api-driver");this.DataApiDriver=e,this.DataApiDriver=this.DataApiDriver.default||this.DataApiDriver}createConnectionOptions(e,t){return t=Object.assign({},t,me.buildDriverOptions(t)),Object.assign({},{resourceArn:e.resourceArn,secretArn:e.secretArn,database:e.database,region:e.region,type:e.type},{host:t.host,user:t.username,password:t.password,database:t.database,port:t.port,ssl:e.ssl},e.extra||{})}async createPool(e){return{}}prepareDbConnection(e){const{logger:t}=this.connection;return e.listeners("error").length===0&&e.on("error",i=>t.log("warn","MySQL connection raised an error. ".concat(i))),e}compareDefaultValues(e,t){return typeof e=="string"&&typeof t=="string"&&(e=e.replace(/^'+|'+$/g,""),t=t.replace(/^'+|'+$/g,"")),e===t}escapeComment(e){return e&&(e=e.replace(/\u0000/g,""),e)}}class E6 extends Hh{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.mode=t,this.broadcaster=new Pr(this)}connect(){return this.databaseConnection?Promise.resolve(this.databaseConnection):this.databaseConnectionPromise?this.databaseConnectionPromise:(this.mode==="slave"&&this.driver.isReplicated?this.databaseConnectionPromise=this.driver.obtainSlaveConnection().then(([e,t])=>{this.driver.connectedQueryRunners.push(this),this.databaseConnection=e;const i=r=>this.releasePostgresConnection(r);return this.releaseCallback=r=>{this.databaseConnection.removeListener("error",i),t(r)},this.databaseConnection.on("error",i),this.databaseConnection}):this.databaseConnectionPromise=this.driver.obtainMasterConnection().then(([e,t])=>{this.driver.connectedQueryRunners.push(this),this.databaseConnection=e;const i=r=>this.releasePostgresConnection(r);return this.releaseCallback=r=>{this.databaseConnection.removeListener("error",i),t(r)},this.databaseConnection.on("error",i),this.databaseConnection}),this.databaseConnectionPromise)}async releasePostgresConnection(e){if(this.isReleased)return;this.isReleased=!0,this.releaseCallback&&(this.releaseCallback(e),this.releaseCallback=void 0);const t=this.driver.connectedQueryRunners.indexOf(this);t!==-1&&this.driver.connectedQueryRunners.splice(t,1)}release(){return this.releasePostgresConnection()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?(await this.query("START TRANSACTION"),e&&await this.query("SET TRANSACTION ISOLATION LEVEL "+e)):await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new mi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("COMMIT"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new mi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("ROLLBACK"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=await this.connect();this.driver.connection.logger.logQuery(e,t,this);try{const s=+new Date,o=await r.query(e,t),a=this.driver.options.maxQueryExecutionTime,c=+new Date-s;a&&c>a&&this.driver.connection.logger.logQuerySlow(c,e,t,this);const u=new ir;if(o){switch(o.hasOwnProperty("rows")&&(u.records=o.rows),o.hasOwnProperty("rowCount")&&(u.affected=o.rowCount),o.command){case"DELETE":case"UPDATE":u.raw=[o.rows,o.rowCount];break;default:u.raw=o.rows}if(!i)return u.raw}return u}catch(s){throw this.driver.connection.logger.logQueryError(s,e,t,this),new er(e,t,s)}}async stream(e,t,i,r){const s=this.driver.loadStreamDependency();if(this.isReleased)throw new wn;const o=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const a=o.query(new s(e,t));return i&&a.on("end",i),r&&a.on("error",r),a}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){return!!(await this.query("SELECT * FROM pg_database WHERE datname='".concat(e,"';"))).length}async getCurrentDatabase(){return(await this.query("SELECT * FROM current_database()"))[0].current_database}async hasSchema(e){return!!(await this.query('SELECT * FROM "information_schema"."schemata" WHERE "schema_name" = \''.concat(e,"'"))).length}async getCurrentSchema(){return(await this.query("SELECT * FROM current_schema()"))[0].current_schema}async hasTable(e){const t=this.driver.parseTableName(e);t.schema||(t.schema=await this.getCurrentSchema());const i='SELECT * FROM "information_schema"."tables" WHERE "table_schema" = \''.concat(t.schema,"' AND \"table_name\" = '").concat(t.tableName,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=this.driver.parseTableName(e);i.schema||(i.schema=await this.getCurrentSchema());const r='SELECT * FROM "information_schema"."columns" WHERE "table_schema" = \''.concat(i.schema,"' AND \"table_name\" = '").concat(i.tableName,"' AND \"column_name\" = '").concat(t,"'");return!!(await this.query(r)).length}async createDatabase(e,t){if(t&&await this.hasDatabase(e))return Promise.resolve();const i='CREATE DATABASE "'.concat(e,'"'),r='DROP DATABASE "'.concat(e,'"');await this.executeQueries(new M(i),new M(r))}async dropDatabase(e,t){const i=t?'DROP DATABASE IF EXISTS "'.concat(e,'"'):'DROP DATABASE "'.concat(e,'"'),r='CREATE DATABASE "'.concat(e,'"');await this.executeQueries(new M(i),new M(r))}async createSchema(e,t){const i=e.indexOf(".")===-1?e:e.split(".")[1],r=t?'CREATE SCHEMA IF NOT EXISTS "'.concat(i,'"'):'CREATE SCHEMA "'.concat(i,'"'),s='DROP SCHEMA "'.concat(i,'" CASCADE');await this.executeQueries(new M(r),new M(s))}async dropSchema(e,t,i){const r=e.indexOf(".")===-1?e:e.split(".")[1],s=t?'DROP SCHEMA IF EXISTS "'.concat(r,'" ').concat(i?"CASCADE":""):'DROP SCHEMA "'.concat(r,'" ').concat(i?"CASCADE":""),o='CREATE SCHEMA "'.concat(r,'"');await this.executeQueries(new M(s),new M(o))}async createTable(e,t=!1,i=!0,r=!0){if(t&&await this.hasTable(e))return Promise.resolve();const s=[],o=[],a=e.columns.filter(u=>u.type==="enum"||u.type==="simple-enum"),l=[];for(const u of a){const d=await this.hasEnumType(e,u),h=this.buildEnumName(e,u);!d&&l.indexOf(h)===-1&&(l.push(h),s.push(this.createEnumTypeSql(e,u,h)),o.push(this.dropEnumTypeSql(e,u,h)))}const c=e.columns.filter(u=>u.generatedType==="STORED"&&u.asExpression);for(const u of c){const d=(await this.getTableNameWithSchema(e.name)).split("."),h=d[1],f=d[0],g=this.insertTypeormMetadataSql({database:this.driver.database,schema:f,table:h,type:Ne.GENERATED_COLUMN,name:u.name,value:u.asExpression}),b=this.deleteTypeormMetadataSql({database:this.driver.database,schema:f,table:h,type:Ne.GENERATED_COLUMN,name:u.name});s.push(g),o.push(b)}s.push(this.createTableSql(e,i)),o.push(this.dropTableSql(e)),i&&e.foreignKeys.forEach(u=>o.push(this.dropForeignKeySql(e,u))),r&&e.indices.forEach(u=>{u.name||(u.name=this.connection.namingStrategy.indexName(e,u.columnNames,u.where)),s.push(this.createIndexSql(e,u)),o.push(this.dropIndexSql(e,u))}),await this.executeQueries(s,o)}async dropTable(e,t,i=!0,r=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const s=i,o=this.getTablePath(e),a=await this.getCachedTable(o),l=[],c=[];r&&a.indices.forEach(d=>{l.push(this.dropIndexSql(a,d)),c.push(this.createIndexSql(a,d))}),i&&a.foreignKeys.forEach(d=>l.push(this.dropForeignKeySql(a,d))),l.push(this.dropTableSql(a)),c.push(this.createTableSql(a,s));const u=a.columns.filter(d=>d.generatedType&&d.asExpression);for(const d of u){const h=(await this.getTableNameWithSchema(a.name)).split("."),f=h[1],g=h[0],b=this.deleteTypeormMetadataSql({database:this.driver.database,schema:g,table:f,type:Ne.GENERATED_COLUMN,name:d.name}),C=this.insertTypeormMetadataSql({database:this.driver.database,schema:g,table:f,type:Ne.GENERATED_COLUMN,name:d.name,value:d.asExpression});l.push(b),c.push(C)}await this.executeQueries(l,c)}async createView(e,t=!1){const i=[],r=[];i.push(this.createViewSql(e)),t&&i.push(await this.insertViewDefinitionSql(e)),r.push(this.dropViewSql(e)),t&&r.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(i,r)}async dropView(e){const t=V.isView(e)?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(await this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(await this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){const i=[],r=[],s=V.isTable(e)?e:await this.getCachedTable(e),o=s.clone(),{schema:a,tableName:l}=this.driver.parseTableName(s);if(o.name=a?"".concat(a,".").concat(t):t,i.push(new M("ALTER TABLE ".concat(this.escapePath(s),' RENAME TO "').concat(t,'"'))),r.push(new M("ALTER TABLE ".concat(this.escapePath(o),' RENAME TO "').concat(l,'"'))),o.primaryColumns.length>0&&!o.primaryColumns[0].primaryKeyConstraintName){const u=o.primaryColumns.map(f=>f.name),d=this.connection.namingStrategy.primaryKeyName(s,u),h=this.connection.namingStrategy.primaryKeyName(o,u);i.push(new M("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(d,'" TO "').concat(h,'"'))),r.push(new M("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(h,'" TO "').concat(d,'"')))}o.columns.map(u=>{if(u.isGenerated&&u.generationStrategy==="increment"){const d=this.buildSequencePath(s,u.name),h=this.buildSequenceName(s,u.name),f=this.buildSequencePath(o,u.name),g=this.buildSequenceName(o,u.name),b="ALTER SEQUENCE ".concat(this.escapePath(d),' RENAME TO "').concat(g,'"'),C="ALTER SEQUENCE ".concat(this.escapePath(f),' RENAME TO "').concat(h,'"');i.push(new M(b)),r.push(new M(C))}}),o.uniques.forEach(u=>{const d=this.connection.namingStrategy.uniqueConstraintName(s,u.columnNames);if(u.name!==d)return;const h=this.connection.namingStrategy.uniqueConstraintName(o,u.columnNames);i.push(new M("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(u.name,'" TO "').concat(h,'"'))),r.push(new M("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(h,'" TO "').concat(u.name,'"'))),u.name=h}),o.indices.forEach(u=>{const d=this.connection.namingStrategy.indexName(s,u.columnNames,u.where);if(u.name!==d)return;const{schema:h}=this.driver.parseTableName(o),f=this.connection.namingStrategy.indexName(o,u.columnNames,u.where),g=h?'ALTER INDEX "'.concat(h,'"."').concat(u.name,'" RENAME TO "').concat(f,'"'):'ALTER INDEX "'.concat(u.name,'" RENAME TO "').concat(f,'"'),b=h?'ALTER INDEX "'.concat(h,'"."').concat(f,'" RENAME TO "').concat(u.name,'"'):'ALTER INDEX "'.concat(f,'" RENAME TO "').concat(u.name,'"');i.push(new M(g)),r.push(new M(b)),u.name=f}),o.foreignKeys.forEach(u=>{const d=this.connection.namingStrategy.foreignKeyName(s,u.columnNames,this.getTablePath(u),u.referencedColumnNames);if(u.name!==d)return;const h=this.connection.namingStrategy.foreignKeyName(o,u.columnNames,this.getTablePath(u),u.referencedColumnNames);i.push(new M("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(u.name,'" TO "').concat(h,'"'))),r.push(new M("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(h,'" TO "').concat(u.name,'"'))),u.name=h});const c=o.columns.filter(u=>u.type==="enum"||u.type==="simple-enum");for(let u of c){if(u.enumName)continue;const d=await this.getUserDefinedTypeName(s,u);i.push(new M('ALTER TYPE "'.concat(d.schema,'"."').concat(d.name,'" RENAME TO ').concat(this.buildEnumName(o,u,!1)))),r.push(new M("ALTER TYPE ".concat(this.buildEnumName(o,u),' RENAME TO "').concat(d.name,'"')))}await this.executeQueries(i,r)}async addColumn(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=[],o=[];if((t.type==="enum"||t.type==="simple-enum")&&(await this.hasEnumType(i,t)||(s.push(this.createEnumTypeSql(i,t)),o.push(this.dropEnumTypeSql(i,t)))),s.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(i,t)))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i),' DROP COLUMN "').concat(t.name,'"'))),t.isPrimary){const l=r.primaryColumns;if(l.length>0){const d=l[0].primaryKeyConstraintName?l[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,l.map(f=>f.name)),h=l.map(f=>'"'.concat(f.name,'"')).join(", ");s.push(new M("ALTER TABLE ".concat(this.escapePath(i),' DROP CONSTRAINT "').concat(d,'"'))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i),' ADD CONSTRAINT "').concat(d,'" PRIMARY KEY (').concat(h,")")))}l.push(t);const c=l[0].primaryKeyConstraintName?l[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,l.map(d=>d.name)),u=l.map(d=>'"'.concat(d.name,'"')).join(", ");s.push(new M("ALTER TABLE ".concat(this.escapePath(i),' ADD CONSTRAINT "').concat(c,'" PRIMARY KEY (').concat(u,")"))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i),' DROP CONSTRAINT "').concat(c,'"')))}const a=r.indices.find(l=>l.columnNames.length===1&&l.columnNames[0]===t.name);if(a&&(s.push(this.createIndexSql(i,a)),o.push(this.dropIndexSql(i,a))),t.isUnique){const l=new dn({name:this.connection.namingStrategy.uniqueConstraintName(i,[t.name]),columnNames:[t.name]});r.uniques.push(l),s.push(new M("ALTER TABLE ".concat(this.escapePath(i),' ADD CONSTRAINT "').concat(l.name,'" UNIQUE ("').concat(t.name,'")'))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i),' DROP CONSTRAINT "').concat(l.name,'"')))}if(t.generatedType==="STORED"&&t.asExpression){const l=(await this.getTableNameWithSchema(i.name)).split("."),c=l[1],u=l[0],d=this.insertTypeormMetadataSql({database:this.driver.database,schema:u,table:c,type:Ne.GENERATED_COLUMN,name:t.name,value:t.asExpression}),h=this.deleteTypeormMetadataSql({database:this.driver.database,schema:u,table:c,type:Ne.GENERATED_COLUMN,name:t.name});s.push(d),o.push(h)}t.comment&&(s.push(new M("COMMENT ON COLUMN ".concat(this.escapePath(i),'."').concat(t.name,'" IS ').concat(this.escapeComment(t.comment)))),o.push(new M("COMMENT ON COLUMN ".concat(this.escapePath(i),'."').concat(t.name,'" IS ').concat(this.escapeComment(t.comment))))),await this.executeQueries(s,o),r.addColumn(t),this.replaceCachedTable(i,r)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const r=V.isTable(e)?e:await this.getCachedTable(e),s=V.isTableColumn(t)?t:r.columns.find(a=>a.name===t);if(!s)throw new q('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;return V.isTableColumn(i)?o=i:(o=s.clone(),o.name=i),this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=V.isTable(e)?e:await this.getCachedTable(e);let s=r.clone();const o=[],a=[];let l=!1;const c=V.isTableColumn(t)?t:r.columns.find(u=>u.name===t);if(!c)throw new q('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));if(c.type!==i.type||c.length!==i.length||i.isArray!==c.isArray||!c.generatedType&&i.generatedType==="STORED"||c.asExpression!==i.asExpression&&i.generatedType==="STORED")await this.dropColumn(r,c),await this.addColumn(r,i),s=r.clone();else{if(c.name!==i.name){if(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' RENAME COLUMN "').concat(c.name,'" TO "').concat(i.name,'"'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' RENAME COLUMN "').concat(i.name,'" TO "').concat(c.name,'"'))),c.type==="enum"||c.type==="simple-enum"){const d=await this.getUserDefinedTypeName(r,c);o.push(new M('ALTER TYPE "'.concat(d.schema,'"."').concat(d.name,'" RENAME TO ').concat(this.buildEnumName(r,i,!1)))),a.push(new M("ALTER TYPE ".concat(this.buildEnumName(r,i),' RENAME TO "').concat(d.name,'"')))}if(c.isPrimary===!0&&!c.primaryKeyConstraintName){const h=s.primaryColumns.map(b=>b.name),f=this.connection.namingStrategy.primaryKeyName(s,h);h.splice(h.indexOf(c.name),1),h.push(i.name);const g=this.connection.namingStrategy.primaryKeyName(s,h);o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(f,'" TO "').concat(g,'"'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(g,'" TO "').concat(f,'"')))}if(c.isGenerated===!0&&i.generationStrategy==="increment"){const d=this.buildSequencePath(r,c.name),h=this.buildSequenceName(r,c.name),f=this.buildSequencePath(r,i.name),g=this.buildSequenceName(r,i.name),b="ALTER SEQUENCE ".concat(this.escapePath(d),' RENAME TO "').concat(g,'"'),C="ALTER SEQUENCE ".concat(this.escapePath(f),' RENAME TO "').concat(h,'"');o.push(new M(b)),a.push(new M(C))}s.findColumnUniques(c).forEach(d=>{const h=this.connection.namingStrategy.uniqueConstraintName(s,d.columnNames);if(d.name!==h)return;d.columnNames.splice(d.columnNames.indexOf(c.name),1),d.columnNames.push(i.name);const f=this.connection.namingStrategy.uniqueConstraintName(s,d.columnNames);o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(d.name,'" TO "').concat(f,'"'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(f,'" TO "').concat(d.name,'"'))),d.name=f}),s.findColumnIndices(c).forEach(d=>{const h=this.connection.namingStrategy.indexName(s,d.columnNames,d.where);if(d.name!==h)return;d.columnNames.splice(d.columnNames.indexOf(c.name),1),d.columnNames.push(i.name);const{schema:f}=this.driver.parseTableName(r),g=this.connection.namingStrategy.indexName(s,d.columnNames,d.where),b=f?'ALTER INDEX "'.concat(f,'"."').concat(d.name,'" RENAME TO "').concat(g,'"'):'ALTER INDEX "'.concat(d.name,'" RENAME TO "').concat(g,'"'),C=f?'ALTER INDEX "'.concat(f,'"."').concat(g,'" RENAME TO "').concat(d.name,'"'):'ALTER INDEX "'.concat(g,'" RENAME TO "').concat(d.name,'"');o.push(new M(b)),a.push(new M(C)),d.name=g}),s.findColumnForeignKeys(c).forEach(d=>{const h=this.connection.namingStrategy.foreignKeyName(s,d.columnNames,this.getTablePath(d),d.referencedColumnNames);if(d.name!==h)return;d.columnNames.splice(d.columnNames.indexOf(c.name),1),d.columnNames.push(i.name);const f=this.connection.namingStrategy.foreignKeyName(s,d.columnNames,this.getTablePath(d),d.referencedColumnNames);o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(d.name,'" TO "').concat(f,'"'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(f,'" TO "').concat(d.name,'"'))),d.name=f});const u=s.columns.find(d=>d.name===c.name);s.columns[s.columns.indexOf(u)].name=i.name,c.name=i.name}if((i.precision!==c.precision||i.scale!==c.scale)&&(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(i)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(c))))),(i.type==="enum"||i.type==="simple-enum")&&(c.type==="enum"||c.type==="simple-enum")&&(!ve.isArraysEqual(i.enum,c.enum)||i.enumName!==c.enumName)){const u=i.isArray?"[]":"",d=this.buildEnumName(r,i),h=this.buildEnumName(r,c),f=this.buildEnumName(r,c,!1),g=this.buildEnumName(r,c,!0,!1,!0),b=this.buildEnumName(r,c,!1,!1,!0);o.push(new M("ALTER TYPE ".concat(h," RENAME TO ").concat(b))),a.push(new M("ALTER TYPE ".concat(g," RENAME TO ").concat(f))),o.push(this.createEnumTypeSql(r,i,d)),a.push(this.dropEnumTypeSql(r,i,d)),c.default!==null&&c.default!==void 0&&(l=!0,o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP DEFAULT'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET DEFAULT ').concat(c.default))));const C="".concat(d).concat(u,' USING "').concat(i.name,'"::"text"::').concat(d).concat(u),x="".concat(g).concat(u,' USING "').concat(i.name,'"::"text"::').concat(g).concat(u);o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(C))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(x))),i.default!==null&&i.default!==void 0&&(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(i.default))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))),o.push(this.dropEnumTypeSql(r,c,g)),a.push(this.createEnumTypeSql(r,c,g))}if(c.isNullable!==i.isNullable&&(i.isNullable?(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP NOT NULL'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET NOT NULL')))):(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET NOT NULL'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP NOT NULL'))))),c.comment!==i.comment&&(o.push(new M("COMMENT ON COLUMN ".concat(this.escapePath(r),'."').concat(c.name,'" IS ').concat(this.escapeComment(i.comment)))),a.push(new M("COMMENT ON COLUMN ".concat(this.escapePath(r),'."').concat(i.name,'" IS ').concat(this.escapeComment(c.comment))))),i.isPrimary!==c.isPrimary){const u=s.primaryColumns;if(u.length>0){const d=u[0].primaryKeyConstraintName?u[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,u.map(f=>f.name)),h=u.map(f=>'"'.concat(f.name,'"')).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(d,'"'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(d,'" PRIMARY KEY (').concat(h,")")))}if(i.isPrimary===!0){u.push(i);const d=s.columns.find(g=>g.name===i.name);d.isPrimary=!0;const h=u[0].primaryKeyConstraintName?u[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,u.map(g=>g.name)),f=u.map(g=>'"'.concat(g.name,'"')).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(h,'" PRIMARY KEY (').concat(f,")"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(h,'"')))}else{const d=u.find(f=>f.name===i.name);u.splice(u.indexOf(d),1);const h=s.columns.find(f=>f.name===i.name);if(h.isPrimary=!1,u.length>0){const f=u[0].primaryKeyConstraintName?u[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,u.map(b=>b.name)),g=u.map(b=>'"'.concat(b.name,'"')).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(f,'" PRIMARY KEY (').concat(g,")"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(f,'"')))}}}if(i.isUnique!==c.isUnique)if(i.isUnique===!0){const u=new dn({name:this.connection.namingStrategy.uniqueConstraintName(r,[i.name]),columnNames:[i.name]});s.uniques.push(u),o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(u.name,'" UNIQUE ("').concat(i.name,'")'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(u.name,'"')))}else{const u=s.uniques.find(d=>d.columnNames.length===1&&!!d.columnNames.find(h=>h===i.name));s.uniques.splice(s.uniques.indexOf(u),1),o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(u.name,'"'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(u.name,'" UNIQUE ("').concat(i.name,'")')))}if(c.isGenerated!==i.isGenerated&&(c.isGenerated&&(c.generationStrategy==="uuid"?(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP DEFAULT'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET DEFAULT ').concat(this.driver.uuidGenerator)))):c.generationStrategy==="increment"&&(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,"\" SET DEFAULT nextval('").concat(this.escapePath(this.buildSequencePath(r,i)),"')"))),o.push(new M("DROP SEQUENCE ".concat(this.escapePath(this.buildSequencePath(r,i))))),a.push(new M("CREATE SEQUENCE IF NOT EXISTS ".concat(this.escapePath(this.buildSequencePath(r,i))," OWNED BY ").concat(this.escapePath(r),'."').concat(i.name,'"'))))),i.generationStrategy==="uuid"?i.isGenerated===!0?(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(this.driver.uuidGenerator))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))):(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(this.driver.uuidGenerator)))):i.generationStrategy==="increment"&&(i.isGenerated===!0?(o.push(new M("CREATE SEQUENCE IF NOT EXISTS ".concat(this.escapePath(this.buildSequencePath(r,i))," OWNED BY ").concat(this.escapePath(r),'."').concat(i.name,'"'))),a.push(new M("DROP SEQUENCE ".concat(this.escapePath(this.buildSequencePath(r,i))))),o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,"\" SET DEFAULT nextval('").concat(this.escapePath(this.buildSequencePath(r,i)),"')"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))):(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,"\" SET DEFAULT nextval('").concat(this.escapePath(this.buildSequencePath(r,i)),"')"))),o.push(new M("DROP SEQUENCE ".concat(this.escapePath(this.buildSequencePath(r,i))))),a.push(new M("CREATE SEQUENCE IF NOT EXISTS ".concat(this.escapePath(this.buildSequencePath(r,i))," OWNED BY ").concat(this.escapePath(r),'."').concat(i.name,'"')))))),i.default!==c.default&&!l&&(i.default!==null&&i.default!==void 0?(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(i.default))),c.default!==null&&c.default!==void 0?a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(c.default))):a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))):c.default!==null&&c.default!==void 0&&(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(c.default))))),((i.spatialFeatureType||"").toLowerCase()!==(c.spatialFeatureType||"").toLowerCase()||i.srid!==c.srid)&&(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(i)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(c))))),i.generatedType!==c.generatedType&&(!i.generatedType||i.generatedType==="VIRTUAL")){const u=(await this.getTableNameWithSchema(r.name)).split("."),d=u[1],h=u[0];o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' RENAME COLUMN "').concat(c.name,'" TO "TEMP_OLD_').concat(c.name,'"'))),o.push(new M("ALTER TABLE ".concat(this.escapePath(r)," ADD ").concat(this.buildCreateColumnSql(r,i)))),o.push(new M("UPDATE ".concat(this.escapePath(r),' SET "').concat(i.name,'" = "TEMP_OLD_').concat(c.name,'"'))),o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' DROP COLUMN "TEMP_OLD_').concat(c.name,'"'))),o.push(this.deleteTypeormMetadataSql({database:this.driver.database,schema:h,table:d,type:Ne.GENERATED_COLUMN,name:c.name})),a.push(this.insertTypeormMetadataSql({database:this.driver.database,schema:h,table:d,type:Ne.GENERATED_COLUMN,name:c.name,value:c.asExpression})),a.push(new M("ALTER TABLE ".concat(this.escapePath(r)," ADD ").concat(this.buildCreateColumnSql(r,c)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' DROP COLUMN "').concat(i.name,'"')))}}await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:r}of t)await this.changeColumn(e,i,r)}async dropColumn(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableColumn(t)?t:i.findColumnByName(t);if(!r)throw new q('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));const s=i.clone(),o=[],a=[];if(r.isPrimary){const d=r.primaryKeyConstraintName?r.primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,s.primaryColumns.map(g=>g.name)),h=s.primaryColumns.map(g=>'"'.concat(g.name,'"')).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(s),' DROP CONSTRAINT "').concat(d,'"'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(s),' ADD CONSTRAINT "').concat(d,'" PRIMARY KEY (').concat(h,")")));const f=s.findColumnByName(r.name);if(f.isPrimary=!1,s.primaryColumns.length>0){const g=s.primaryColumns[0].primaryKeyConstraintName?s.primaryColumns[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,s.primaryColumns.map(C=>C.name)),b=s.primaryColumns.map(C=>'"'.concat(C.name,'"')).join(", ");o.push(new M("ALTER TABLE ".concat(this.escapePath(s),' ADD CONSTRAINT "').concat(g,'" PRIMARY KEY (').concat(b,")"))),a.push(new M("ALTER TABLE ".concat(this.escapePath(s),' DROP CONSTRAINT "').concat(g,'"')))}}const l=s.indices.find(d=>d.columnNames.length===1&&d.columnNames[0]===r.name);l&&(s.indices.splice(s.indices.indexOf(l),1),o.push(this.dropIndexSql(i,l)),a.push(this.createIndexSql(i,l)));const c=s.checks.find(d=>!!d.columnNames&&d.columnNames.length===1&&d.columnNames[0]===r.name);c&&(s.checks.splice(s.checks.indexOf(c),1),o.push(this.dropCheckConstraintSql(i,c)),a.push(this.createCheckConstraintSql(i,c)));const u=s.uniques.find(d=>d.columnNames.length===1&&d.columnNames[0]===r.name);if(u&&(s.uniques.splice(s.uniques.indexOf(u),1),o.push(this.dropUniqueConstraintSql(i,u)),a.push(this.createUniqueConstraintSql(i,u))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i),' DROP COLUMN "').concat(r.name,'"'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(i,r)))),(r.type==="enum"||r.type==="simple-enum")&&await this.hasEnumType(i,r)){const h=await this.getUserDefinedTypeName(i,r),f='"'.concat(h.schema,'"."').concat(h.name,'"');o.push(this.dropEnumTypeSql(i,r,f)),a.push(this.createEnumTypeSql(i,r,f))}if(r.generatedType==="STORED"){const d=(await this.getTableNameWithSchema(i.name)).split("."),h=d[1],f=d[0],g=this.deleteTypeormMetadataSql({database:this.driver.database,schema:f,table:h,type:Ne.GENERATED_COLUMN,name:r.name}),b=this.insertTypeormMetadataSql({database:this.driver.database,schema:f,table:h,type:Ne.GENERATED_COLUMN,name:r.name,value:r.asExpression});o.push(g),a.push(b)}await this.executeQueries(o,a),s.removeColumn(r),this.replaceCachedTable(i,s)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t,i){const r=V.isTable(e)?e:await this.getCachedTable(e),s=r.clone(),o=this.createPrimaryKeySql(r,t,i);s.columns.forEach(l=>{t.find(c=>c===l.name)&&(l.isPrimary=!0)});const a=this.dropPrimaryKeySql(s);await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async updatePrimaryKeys(e,t){var i;const r=V.isTable(e)?e:await this.getCachedTable(e),s=r.clone(),o=t.map(h=>h.name),a=[],l=[],c=s.primaryColumns;if(c.length>0){const h=c[0].primaryKeyConstraintName?c[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,c.map(g=>g.name)),f=c.map(g=>'"'.concat(g.name,'"')).join(", ");a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(h,'"'))),l.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(h,'" PRIMARY KEY (').concat(f,")")))}s.columns.filter(h=>o.indexOf(h.name)!==-1).forEach(h=>h.isPrimary=!0);const u=!((i=c[0])===null||i===void 0)&&i.primaryKeyConstraintName?c[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,o),d=o.map(h=>'"'.concat(h,'"')).join(", ");a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(u,'" PRIMARY KEY (').concat(d,")"))),l.push(new M("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(u,'"'))),await this.executeQueries(a,l),this.replaceCachedTable(r,s)}async dropPrimaryKey(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=this.dropPrimaryKeySql(i),s=this.createPrimaryKeySql(i,i.primaryColumns.map(o=>o.name),t);await this.executeQueries(r,s),i.primaryColumns.forEach(o=>{o.isPrimary=!1})}async createUniqueConstraint(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.uniqueConstraintName(i,t.columnNames));const r=this.createUniqueConstraintSql(i,t),s=this.dropUniqueConstraintSql(i,t);await this.executeQueries(r,s),i.addUniqueConstraint(t)}async createUniqueConstraints(e,t){for(const i of t)await this.createUniqueConstraint(e,i)}async dropUniqueConstraint(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableUnique(t)?t:i.uniques.find(a=>a.name===t);if(!r)throw new q("Supplied unique constraint was not found in table ".concat(i.name));const s=this.dropUniqueConstraintSql(i,r),o=this.createUniqueConstraintSql(i,r);await this.executeQueries(s,o),i.removeUniqueConstraint(r)}async dropUniqueConstraints(e,t){for(const i of t)await this.dropUniqueConstraint(e,i)}async createCheckConstraint(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.checkConstraintName(i,t.expression));const r=this.createCheckConstraintSql(i,t),s=this.dropCheckConstraintSql(i,t);await this.executeQueries(r,s),i.addCheckConstraint(t)}async createCheckConstraints(e,t){const i=t.map(r=>this.createCheckConstraint(e,r));await Promise.all(i)}async dropCheckConstraint(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableCheck(t)?t:i.checks.find(a=>a.name===t);if(!r)throw new q("Supplied check constraint was not found in table ".concat(i.name));const s=this.dropCheckConstraintSql(i,r),o=this.createCheckConstraintSql(i,r);await this.executeQueries(s,o),i.removeCheckConstraint(r)}async dropCheckConstraints(e,t){const i=t.map(r=>this.dropCheckConstraint(e,r));await Promise.all(i)}async createExclusionConstraint(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.exclusionConstraintName(i,t.expression));const r=this.createExclusionConstraintSql(i,t),s=this.dropExclusionConstraintSql(i,t);await this.executeQueries(r,s),i.addExclusionConstraint(t)}async createExclusionConstraints(e,t){const i=t.map(r=>this.createExclusionConstraint(e,r));await Promise.all(i)}async dropExclusionConstraint(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableExclusion(t)?t:i.exclusions.find(a=>a.name===t);if(!r)throw new q("Supplied exclusion constraint was not found in table ".concat(i.name));const s=this.dropExclusionConstraintSql(i,r),o=this.createExclusionConstraintSql(i,r);await this.executeQueries(s,o),i.removeExclusionConstraint(r)}async dropExclusionConstraints(e,t){const i=t.map(r=>this.dropExclusionConstraint(e,r));await Promise.all(i)}async createForeignKey(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames,this.getTablePath(t),t.referencedColumnNames));const r=this.createForeignKeySql(i,t),s=this.dropForeignKeySql(i,t);await this.executeQueries(r,s),i.addForeignKey(t)}async createForeignKeys(e,t){for(const i of t)await this.createForeignKey(e,i)}async dropForeignKey(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableForeignKey(t)?t:i.foreignKeys.find(a=>a.name===t);if(!r)throw new q("Supplied foreign key was not found in table ".concat(i.name));r.name||(r.name=this.connection.namingStrategy.foreignKeyName(i,r.columnNames,this.getTablePath(r),r.referencedColumnNames));const s=this.dropForeignKeySql(i,r),o=this.createForeignKeySql(i,r);await this.executeQueries(s,o),i.removeForeignKey(r)}async dropForeignKeys(e,t){for(const i of t)await this.dropForeignKey(e,i)}async createIndex(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t)}async createViewIndex(e,t){const i=V.isView(e)?e:await this.getCachedView(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createViewIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t)}async createIndices(e,t){for(const i of t)await this.createIndex(e,i)}async createViewIndices(e,t){for(const i of t)await this.createViewIndex(e,i)}async dropIndex(e,t){const i=V.isTable(e)?e:await this.getCachedTable(e),r=V.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new q("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropViewIndex(e,t){const i=V.isView(e)?e:await this.getCachedView(e),r=V.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new q("Supplied index ".concat(t," was not found in view ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createViewIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropIndices(e,t){for(const i of t)await this.dropIndex(e,i)}async clearTable(e){await this.query("TRUNCATE TABLE ".concat(this.escapePath(e)))}async clearDatabase(){const e=[];this.connection.entityMetadatas.filter(r=>r.schema).forEach(r=>{!!e.find(o=>o===r.schema)||e.push(r.schema)}),e.push(this.driver.options.schema||"current_schema()");const t=e.map(r=>r==="current_schema()"?r:"'"+r+"'").join(", "),i=this.isTransactionActive;i||await this.startTransaction();try{const r=await this.getVersion(),s="SELECT 'DROP VIEW IF EXISTS \"' || schemaname || '\".\"' || viewname || '\" CASCADE;' as \"query\" "+'FROM "pg_views" WHERE "schemaname" IN ('.concat(t,") AND \"viewname\" NOT IN ('geography_columns', 'geometry_columns', 'raster_columns', 'raster_overviews')"),o=await this.query(s);if(await Promise.all(o.map(c=>this.query(c.query))),yC.isGreaterOrEqual(r,"9.3")){const c="SELECT 'DROP MATERIALIZED VIEW IF EXISTS \"' || schemaname || '\".\"' || matviewname || '\" CASCADE;' as \"query\" "+'FROM "pg_matviews" WHERE "schemaname" IN ('.concat(t,")"),u=await this.query(c);await Promise.all(u.map(d=>this.query(d.query)))}const a='SELECT \'DROP TABLE IF EXISTS "\' || schemaname || \'"."\' || tablename || \'" CASCADE;\' as "query" FROM "pg_tables" WHERE "schemaname" IN ('.concat(t,") AND \"tablename\" NOT IN ('spatial_ref_sys')"),l=await this.query(a);await Promise.all(l.map(c=>this.query(c.query))),await this.dropEnumTypes(t),i||await this.commitTransaction()}catch(r){try{i||await this.rollbackTransaction()}catch(s){}throw r}}async loadViews(e){if(!await this.hasTable(this.getTypeormMetadataTableName()))return[];e||(e=[]);const i=await this.getCurrentDatabase(),r=await this.getCurrentSchema(),s=e.length===0?"1=1":e.map(d=>this.driver.parseTableName(d)).map(({schema:d,tableName:h})=>(d||(d=this.driver.options.schema||r),'("t"."schema" = \''.concat(d,'\' AND "t"."name" = \'').concat(h,"')"))).join(" OR "),o=e.length===0?"1=1":e.map(d=>this.driver.parseTableName(d)).map(({schema:d,tableName:h})=>(d||(d=this.driver.options.schema||r),'("ns"."nspname" = \''.concat(d,'\' AND "t"."relname" = \'').concat(h,"')"))).join(" OR "),a='SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN \'t\' THEN \'TRUE\' ELSE\'FALSE\' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" '+'WHERE "t"."relkind" IN (\'m\') AND "cnst"."contype" IS NULL AND ('.concat(o,")"),l='SELECT "t".* FROM '.concat(this.escapePath(this.getTypeormMetadataTableName()),' "t" ')+'INNER JOIN "pg_catalog"."pg_class" "c" ON "c"."relname" = "t"."name" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "c"."relnamespace" AND "n"."nspname" = "t"."schema" '+'WHERE "t"."type" IN (\''.concat(Ne.VIEW,"', '").concat(Ne.MATERIALIZED_VIEW,"') ").concat(s?"AND (".concat(s,")"):""),c=await this.query(l),u=await this.query(a);return c.map(d=>{const h=ve.uniq(u.filter(b=>b.table_name===d.name&&b.table_schema===d.schema),b=>b.constraint_name),f=new Nr,g=d.schema===r&&!this.driver.options.schema?void 0:d.schema;return f.database=i,f.schema=d.schema,f.name=this.driver.buildTableName(d.name,g),f.expression=d.value,f.materialized=d.type===Ne.MATERIALIZED_VIEW,f.indices=h.map(b=>{const C=u.filter(x=>x.table_schema===b.table_schema&&x.table_name===b.table_name&&x.constraint_name===b.constraint_name);return new Ct({view:f,name:b.constraint_name,columnNames:C.map(x=>x.column_name),isUnique:b.is_unique==="TRUE",where:b.condition,isFulltext:!1})}),f})}async loadTables(e){if(e&&e.length===0)return[];const t=await this.getCurrentSchema(),i=await this.getCurrentDatabase(),r=[];if(e){const E='SELECT "table_schema", "table_name" FROM "information_schema"."tables" WHERE '+e.map(N=>this.driver.parseTableName(N)).map(({schema:N,tableName:I})=>'("table_schema" = \''.concat(N||t,"' AND \"table_name\" = '").concat(I,"')")).join(" OR ");r.push(...await this.query(E))}else{const y='SELECT "table_schema", "table_name" FROM "information_schema"."tables"';r.push(...await this.query(y))}if(r.length===0)return[];const o='SELECT columns.*, pg_catalog.col_description((\'"\' || table_catalog || \'"."\' || table_schema || \'"."\' || table_name || \'"\')::regclass::oid, ordinal_position) AS description, (\'"\' || "udt_schema" || \'"."\' || "udt_name" || \'"\')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE '+r.map(({table_schema:y,table_name:E})=>'("table_schema" = \''.concat(y,"' AND \"table_name\" = '").concat(E,"')")).join(" OR "),a=r.map(({table_schema:y,table_name:E})=>'("ns"."nspname" = \''.concat(y,'\' AND "t"."relname" = \'').concat(E,"')")).join(" OR "),l='SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN \'p\' THEN \'PRIMARY\' WHEN \'u\' THEN \'UNIQUE\' WHEN \'c\' THEN \'CHECK\' WHEN \'x\' THEN \'EXCLUDE\' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") '+"WHERE \"t\".\"relkind\" IN ('r', 'p') AND (".concat(a,")"),c='SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN \'t\' THEN \'TRUE\' ELSE\'FALSE\' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" '+'WHERE "t"."relkind" IN (\'r\', \'p\') AND "cnst"."contype" IS NULL AND ('.concat(a,")"),u=r.map(({table_schema:y,table_name:E})=>'("ns"."nspname" = \''.concat(y,'\' AND "cl"."relname" = \'').concat(E,"')")).join(" OR "),h=await this.hasSupportForPartitionedTables()?' AND "cl"."relispartition" = \'f\'':"",f='SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN \'INITIALLY DEFERRED\' ELSE \'INITIALLY IMMEDIATE\' END as condeferred, CASE "con1"."confdeltype" WHEN \'a\' THEN \'NO ACTION\' WHEN \'r\' THEN \'RESTRICT\' WHEN \'c\' THEN \'CASCADE\' WHEN \'n\' THEN \'SET NULL\' WHEN \'d\' THEN \'SET DEFAULT\' END as "confdeltype", CASE "con1"."confupdtype" WHEN \'a\' THEN \'NO ACTION\' WHEN \'r\' THEN \'RESTRICT\' WHEN \'c\' THEN \'CASCADE\' WHEN \'n\' THEN \'SET NULL\' WHEN \'d\' THEN \'SET DEFAULT\' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" '+'WHERE "con1"."contype" = \'f\' AND ('.concat(u,") ")+') "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" '+'INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid" '.concat(h)+'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"',[g,b,C,x]=await Promise.all([this.query(o),this.query(l),this.query(c),this.query(f)]);return Promise.all(r.map(async y=>{const E=new mt,N=(A,U)=>A[U]===t&&(!this.driver.options.schema||this.driver.options.schema===t)?void 0:A[U],I=N(y,"table_schema");E.database=i,E.schema=y.table_schema,E.name=this.driver.buildTableName(y.table_name,I),E.columns=await Promise.all(g.filter(A=>A.table_name===y.table_name&&A.table_schema===y.table_schema).map(async A=>{const U=b.filter(ce=>ce.table_name===A.table_name&&ce.table_schema===A.table_schema&&ce.column_name===A.column_name),D=new An;if(D.name=A.column_name,D.type=A.regtype.toLowerCase(),(D.type==="numeric"||D.type==="decimal"||D.type==="float")&&(A.numeric_precision!==null&&!this.isDefaultColumnPrecision(E,D,A.numeric_precision)?D.precision=A.numeric_precision:A.numeric_scale!==null&&!this.isDefaultColumnScale(E,D,A.numeric_scale)&&(D.precision=void 0),A.numeric_scale!==null&&!this.isDefaultColumnScale(E,D,A.numeric_scale)?D.scale=A.numeric_scale:A.numeric_precision!==null&&!this.isDefaultColumnPrecision(E,D,A.numeric_precision)&&(D.scale=void 0)),(D.type==="interval"||D.type==="time without time zone"||D.type==="time with time zone"||D.type==="timestamp without time zone"||D.type==="timestamp with time zone")&&(D.precision=this.isDefaultColumnPrecision(E,D,A.datetime_precision)?void 0:A.datetime_precision),A.data_type==="USER-DEFINED"||A.data_type==="ARRAY"){const{name:ce}=await this.getUserDefinedTypeName(E,D),ee=this.buildEnumName(E,D,!1,!0)!==ce?ce:void 0,j='SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" '+'WHERE "n"."nspname" = \''.concat(y.table_schema,'\' AND "t"."typname" = \'').concat(ee||ce,"'"),X=await this.query(j);if(X.length&&(D.type="enum",D.enum=X.map(le=>le.value),D.enumName=ee),A.data_type==="ARRAY"){D.isArray=!0;const le=D.type.replace("[]","");D.type=this.connection.driver.normalizeType({type:le})}}if(D.type==="geometry"||D.type==="geography"){const ce='SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", '+'"f_'.concat(D.type,'_column" "column_name", "srid", "type" ')+'FROM "'.concat(D.type,'_columns"')+") AS _ "+'WHERE "column_name" = \''.concat(A.column_name,"' AND ")+'"table_schema" = \''.concat(A.table_schema,"' AND ")+'"table_name" = \''.concat(A.table_name,"'"),te=await this.query(ce);te.length>0&&(D.spatialFeatureType=te[0].type,D.srid=te[0].srid)}if(this.driver.withLengthColumnTypes.indexOf(D.type)!==-1){let ce;if(D.isArray){const te=/\((\d+)\)/.exec(A.format_type);ce=te?te[1]:void 0}else A.character_maximum_length&&(ce=A.character_maximum_length.toString());ce&&(D.length=this.isDefaultColumnLength(E,D,ce)?"":ce)}D.isNullable=A.is_nullable==="YES";const K=U.find(ce=>ce.constraint_type==="PRIMARY");if(K){D.isPrimary=!0;const te=b.filter(j=>j.table_name===A.table_name&&j.table_schema===A.table_schema&&j.column_name!==A.column_name&&j.constraint_type==="PRIMARY").map(j=>j.column_name);te.push(A.column_name);const ee=this.connection.namingStrategy.primaryKeyName(E,te);K.constraint_name!==ee&&(D.primaryKeyConstraintName=K.constraint_name)}const re=U.filter(ce=>ce.constraint_type==="UNIQUE"),he=re.every(ce=>b.some(te=>te.constraint_type==="UNIQUE"&&te.constraint_name===ce.constraint_name&&te.column_name!==A.column_name));if(D.isUnique=re.length>0&&!he,A.is_identity==="YES")D.isGenerated=!0,D.generationStrategy="identity",D.generatedIdentity=A.identity_generation;else if(A.column_default!==null&&A.column_default!==void 0){const ce="nextval('".concat(this.buildSequenceName(E,A.column_name),"'::regclass)"),te="nextval('".concat(this.buildSequencePath(E,A.column_name),"'::regclass)"),ee=A.column_default.replace(/"/g,"");ee===ce||ee===te?(D.isGenerated=!0,D.generationStrategy="increment"):A.column_default==="gen_random_uuid()"||/^uuid_generate_v\d\(\)/.test(A.column_default)?D.type==="uuid"?(D.isGenerated=!0,D.generationStrategy="uuid"):D.default=A.column_default:A.column_default==="now()"||A.column_default.indexOf("'now'::text")!==-1?D.default=A.column_default:(D.default=A.column_default.replace(/::[\w\s.\[\]\-"]+/g,""),D.default=D.default.replace(/^(-?\d+)$/,"'$1'"))}if(A.is_generated==="ALWAYS"&&A.generation_expression){D.generatedType="STORED";const ce=await this.selectTypeormMetadataSql({database:i,schema:y.table_schema,table:y.table_name,type:Ne.GENERATED_COLUMN,name:D.name}),te=await this.query(ce.query,ce.parameters);te[0]&&te[0].value?D.asExpression=te[0].value:D.asExpression=""}return D.comment=A.description?A.description:void 0,A.character_set_name&&(D.charset=A.character_set_name),A.collation_name&&(D.collation=A.collation_name),D}));const B=ve.uniq(b.filter(A=>A.table_name===y.table_name&&A.table_schema===y.table_schema&&A.constraint_type==="UNIQUE"),A=>A.constraint_name);E.uniques=B.map(A=>{const U=b.filter(D=>D.constraint_name===A.constraint_name);return new dn({name:A.constraint_name,columnNames:U.map(D=>D.column_name),deferrable:A.deferrable?A.deferred:void 0})});const O=ve.uniq(b.filter(A=>A.table_name===y.table_name&&A.table_schema===y.table_schema&&A.constraint_type==="CHECK"),A=>A.constraint_name);E.checks=O.map(A=>{const U=b.filter(D=>D.constraint_name===A.constraint_name);return new Li({name:A.constraint_name,columnNames:U.map(D=>D.column_name),expression:A.expression.replace(/^\s*CHECK\s*\((.*)\)\s*$/i,"$1")})});const $=ve.uniq(b.filter(A=>A.table_name===y.table_name&&A.table_schema===y.table_schema&&A.constraint_type==="EXCLUDE"),A=>A.constraint_name);E.exclusions=$.map(A=>new Ws({name:A.constraint_name,expression:A.expression.substring(8)}));const R=ve.uniq(x.filter(A=>A.table_name===y.table_name&&A.table_schema===y.table_schema),A=>A.constraint_name);E.foreignKeys=R.map(A=>{const U=x.filter(re=>re.constraint_name===A.constraint_name),D=N(A,"referenced_table_schema"),K=this.driver.buildTableName(A.referenced_table_name,D);return new di({name:A.constraint_name,columnNames:U.map(re=>re.column_name),referencedSchema:A.referenced_table_schema,referencedTableName:K,referencedColumnNames:U.map(re=>re.referenced_column_name),onDelete:A.on_delete,onUpdate:A.on_update,deferrable:A.deferrable?A.deferred:void 0})});const H=ve.uniq(C.filter(A=>A.table_name===y.table_name&&A.table_schema===y.table_schema),A=>A.constraint_name);return E.indices=H.map(A=>{const U=C.filter(D=>D.table_schema===A.table_schema&&D.table_name===A.table_name&&D.constraint_name===A.constraint_name);return new Ct({table:E,name:A.constraint_name,columnNames:U.map(D=>D.column_name),isUnique:A.is_unique==="TRUE",where:A.condition,isSpatial:U.every(D=>this.driver.spatialTypes.indexOf(D.type_name)>=0),isFulltext:!1})}),E}))}createTableSql(e,t){const i=e.columns.map(o=>this.buildCreateColumnSql(e,o)).join(", ");let r="CREATE TABLE ".concat(this.escapePath(e)," (").concat(i);if(e.columns.filter(o=>o.isUnique).forEach(o=>{e.uniques.some(l=>l.columnNames.length===1&&l.columnNames[0]===o.name)||e.uniques.push(new dn({name:this.connection.namingStrategy.uniqueConstraintName(e,[o.name]),columnNames:[o.name]}))}),e.uniques.length>0){const o=e.uniques.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.uniqueConstraintName(e,a.columnNames),c=a.columnNames.map(d=>'"'.concat(d,'"')).join(", ");let u='CONSTRAINT "'.concat(l,'" UNIQUE (').concat(c,")");return a.deferrable&&(u+=" DEFERRABLE ".concat(a.deferrable)),u}).join(", ");r+=", ".concat(o)}if(e.checks.length>0){const o=e.checks.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.checkConstraintName(e,a.expression);return'CONSTRAINT "'.concat(l,'" CHECK (').concat(a.expression,")")}).join(", ");r+=", ".concat(o)}if(e.exclusions.length>0){const o=e.exclusions.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.exclusionConstraintName(e,a.expression);return'CONSTRAINT "'.concat(l,'" EXCLUDE ').concat(a.expression)}).join(", ");r+=", ".concat(o)}if(e.foreignKeys.length>0&&t){const o=e.foreignKeys.map(a=>{const l=a.columnNames.map(d=>'"'.concat(d,'"')).join(", ");a.name||(a.name=this.connection.namingStrategy.foreignKeyName(e,a.columnNames,this.getTablePath(a),a.referencedColumnNames));const c=a.referencedColumnNames.map(d=>'"'.concat(d,'"')).join(", ");let u='CONSTRAINT "'.concat(a.name,'" FOREIGN KEY (').concat(l,") REFERENCES ").concat(this.escapePath(this.getTablePath(a))," (").concat(c,")");return a.onDelete&&(u+=" ON DELETE ".concat(a.onDelete)),a.onUpdate&&(u+=" ON UPDATE ".concat(a.onUpdate)),a.deferrable&&(u+=" DEFERRABLE ".concat(a.deferrable)),u}).join(", ");r+=", ".concat(o)}const s=e.columns.filter(o=>o.isPrimary);if(s.length>0){const o=s[0].primaryKeyConstraintName?s[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(e,s.map(l=>l.name)),a=s.map(l=>'"'.concat(l.name,'"')).join(", ");r+=', CONSTRAINT "'.concat(o,'" PRIMARY KEY (').concat(a,")")}return r+=")",e.columns.filter(o=>o.comment).forEach(o=>r+="; COMMENT ON COLUMN ".concat(this.escapePath(e),'."').concat(o.name,'" IS ').concat(this.escapeComment(o.comment))),new M(r)}async getVersion(){return(await this.query("SELECT version()"))[0].version.replace(/^PostgreSQL ([\d\.]+) .*$/,"$1")}dropTableSql(e){return new M("DROP TABLE ".concat(this.escapePath(e)))}createViewSql(e){const t=e.materialized?"MATERIALIZED ":"",i=this.escapePath(e);return typeof e.expression=="string"?new M("CREATE ".concat(t,"VIEW ").concat(i," AS ").concat(e.expression)):new M("CREATE ".concat(t,"VIEW ").concat(i," AS ").concat(e.expression(this.connection).getQuery()))}async insertViewDefinitionSql(e){const t=await this.getCurrentSchema();let{schema:i,tableName:r}=this.driver.parseTableName(e);i||(i=t);const s=e.materialized?Ne.MATERIALIZED_VIEW:Ne.VIEW,o=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:s,schema:i,name:r,value:o})}dropViewSql(e){const t=e.materialized?"MATERIALIZED ":"";return new M("DROP ".concat(t,"VIEW ").concat(this.escapePath(e)))}async deleteViewDefinitionSql(e){const t=await this.getCurrentSchema();let{schema:i,tableName:r}=this.driver.parseTableName(e);i||(i=t);const s=e.materialized?Ne.MATERIALIZED_VIEW:Ne.VIEW;return this.deleteTypeormMetadataSql({type:s,schema:i,name:r})}async dropEnumTypes(e){const t='SELECT \'DROP TYPE IF EXISTS "\' || n.nspname || \'"."\' || t.typname || \'" CASCADE;\' as "query" FROM "pg_type" "t" INNER JOIN "pg_enum" "e" ON "e"."enumtypid" = "t"."oid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" '+'WHERE "n"."nspname" IN ('.concat(e,') GROUP BY "n"."nspname", "t"."typname"'),i=await this.query(t);await Promise.all(i.map(r=>this.query(r.query)))}async hasEnumType(e,t){let{schema:i}=this.driver.parseTableName(e);i||(i=await this.getCurrentSchema());const r=this.buildEnumName(e,t,!1,!0),s='SELECT "n"."nspname", "t"."typname" FROM "pg_type" "t" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" '+'WHERE "n"."nspname" = \''.concat(i,'\' AND "t"."typname" = \'').concat(r,"'");return!!(await this.query(s)).length}createEnumTypeSql(e,t,i){i||(i=this.buildEnumName(e,t));const r=t.enum.map(s=>"'".concat(s.replace("'","''"),"'")).join(", ");return new M("CREATE TYPE ".concat(i," AS ENUM(").concat(r,")"))}dropEnumTypeSql(e,t,i){return i||(i=this.buildEnumName(e,t)),new M("DROP TYPE ".concat(i))}createIndexSql(e,t){const i=t.columnNames.map(r=>'"'.concat(r,'"')).join(", ");return new M("CREATE ".concat(t.isUnique?"UNIQUE ":"",'INDEX "').concat(t.name,'" ON ').concat(this.escapePath(e)," ").concat(t.isSpatial?"USING GiST ":"","(").concat(i,") ").concat(t.where?"WHERE "+t.where:""))}createViewIndexSql(e,t){const i=t.columnNames.map(r=>'"'.concat(r,'"')).join(", ");return new M("CREATE ".concat(t.isUnique?"UNIQUE ":"",'INDEX "').concat(t.name,'" ON ').concat(this.escapePath(e)," (").concat(i,") ").concat(t.where?"WHERE "+t.where:""))}dropIndexSql(e,t){let i=V.isTableIndex(t)?t.name:t;const{schema:r}=this.driver.parseTableName(e);return r?new M('DROP INDEX "'.concat(r,'"."').concat(i,'"')):new M('DROP INDEX "'.concat(i,'"'))}createPrimaryKeySql(e,t,i){const r=i||this.connection.namingStrategy.primaryKeyName(e,t),s=t.map(o=>'"'.concat(o,'"')).join(", ");return new M("ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(r,'" PRIMARY KEY (').concat(s,")"))}dropPrimaryKeySql(e){if(!e.primaryColumns.length)throw new q("Table ".concat(e," has no primary keys."));const t=e.primaryColumns.map(s=>s.name),i=e.primaryColumns[0].primaryKeyConstraintName,r=i||this.connection.namingStrategy.primaryKeyName(e,t);return new M("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(r,'"'))}createUniqueConstraintSql(e,t){const i=t.columnNames.map(s=>'"'+s+'"').join(", ");let r="ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" UNIQUE (').concat(i,")");return t.deferrable&&(r+=" DEFERRABLE ".concat(t.deferrable)),new M(r)}dropUniqueConstraintSql(e,t){const i=V.isTableUnique(t)?t.name:t;return new M("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}createCheckConstraintSql(e,t){return new M("ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" CHECK (').concat(t.expression,")"))}dropCheckConstraintSql(e,t){const i=V.isTableCheck(t)?t.name:t;return new M("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}createExclusionConstraintSql(e,t){return new M("ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" EXCLUDE ').concat(t.expression))}dropExclusionConstraintSql(e,t){const i=V.isTableExclusion(t)?t.name:t;return new M("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}createForeignKeySql(e,t){const i=t.columnNames.map(o=>'"'+o+'"').join(", "),r=t.referencedColumnNames.map(o=>'"'+o+'"').join(",");let s="ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" FOREIGN KEY (').concat(i,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(t)),"(").concat(r,")");return t.onDelete&&(s+=" ON DELETE ".concat(t.onDelete)),t.onUpdate&&(s+=" ON UPDATE ".concat(t.onUpdate)),t.deferrable&&(s+=" DEFERRABLE ".concat(t.deferrable)),new M(s)}dropForeignKeySql(e,t){const i=V.isTableForeignKey(t)?t.name:t;return new M("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}buildSequenceName(e,t){const{tableName:i}=this.driver.parseTableName(e),r=V.isTableColumn(t)?t.name:t;let s="".concat(i,"_").concat(r,"_seq");return s.length>this.connection.driver.maxAliasLength&&(s="".concat(i.substring(0,29),"_").concat(r.substring(0,Math.max(29,63-e.name.length-5)),"_seq")),s}buildSequencePath(e,t){const{schema:i}=this.driver.parseTableName(e);return i?"".concat(i,".").concat(this.buildSequenceName(e,t)):this.buildSequenceName(e,t)}buildEnumName(e,t,i=!0,r,s){const{schema:o,tableName:a}=this.driver.parseTableName(e);let l=t.enumName?t.enumName:"".concat(a,"_").concat(t.name.toLowerCase(),"_enum");return o&&i&&(l="".concat(o,".").concat(l)),s&&(l=l+"_old"),l.split(".").map(c=>r?c:'"'.concat(c,'"')).join(".")}async getUserDefinedTypeName(e,t){let{schema:i,tableName:r}=this.driver.parseTableName(e);i||(i=await this.getCurrentSchema());const s=await this.query('SELECT "udt_schema", "udt_name" '+'FROM "information_schema"."columns" WHERE "table_schema" = \''.concat(i,"' AND \"table_name\" = '").concat(r,"' AND \"column_name\"='").concat(t.name,"'"));let o=s[0].udt_name;return o.indexOf("_")===0&&(o=o.substr(1,o.length)),{schema:s[0].udt_schema,name:o}}escapeComment(e){return!e||e.length===0?"NULL":(e=e.replace(/'/g,"''").replace(/\u0000/g,""),"'".concat(e,"'"))}escapePath(e){const{schema:t,tableName:i}=this.driver.parseTableName(e);return t&&t!==this.driver.searchSchema?'"'.concat(t,'"."').concat(i,'"'):'"'.concat(i,'"')}async getTableNameWithSchema(e){const t=V.isTable(e)?e.name:e;if(t.indexOf(".")===-1){const r=(await this.query("SELECT current_schema()"))[0].current_schema;return"".concat(r,".").concat(t)}else return"".concat(t.split(".")[0],".").concat(t.split(".")[1])}buildCreateColumnSql(e,t){let i='"'+t.name+'"';if(t.isGenerated===!0&&t.generationStrategy!=="uuid")if(t.generationStrategy==="identity"){const r=t.generatedIdentity||"BY DEFAULT";i+=" ".concat(t.type," GENERATED ").concat(r," AS IDENTITY")}else(t.type==="integer"||t.type==="int"||t.type==="int4")&&(i+=" SERIAL"),(t.type==="smallint"||t.type==="int2")&&(i+=" SMALLSERIAL"),(t.type==="bigint"||t.type==="int8")&&(i+=" BIGSERIAL");return t.type==="enum"||t.type==="simple-enum"?(i+=" "+this.buildEnumName(e,t),t.isArray&&(i+=" array")):(!t.isGenerated||t.type==="uuid")&&(i+=" "+this.connection.driver.createFullType(t)),t.generatedType==="STORED"&&t.asExpression&&(i+=" GENERATED ALWAYS AS (".concat(t.asExpression,") STORED")),t.charset&&(i+=' CHARACTER SET "'+t.charset+'"'),t.collation&&(i+=' COLLATE "'+t.collation+'"'),t.isNullable!==!0&&(i+=" NOT NULL"),t.default!==void 0&&t.default!==null&&(i+=" DEFAULT "+t.default),t.isGenerated&&t.generationStrategy==="uuid"&&!t.default&&(i+=" DEFAULT ".concat(this.driver.uuidGenerator)),i}async hasSupportForPartitionedTables(){return!!(await this.query("SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'")).length}}class x6 extends E6{constructor(e,t){super(e,t)}}class T6 extends x6{constructor(e,t,i){super(e,i),this.client=t}connect(){return this.databaseConnection?Promise.resolve(this.databaseConnection):this.databaseConnectionPromise?this.databaseConnectionPromise:(this.mode==="slave"&&this.driver.isReplicated?this.databaseConnectionPromise=this.driver.obtainSlaveConnection().then(([e,t])=>(this.driver.connectedQueryRunners.push(this),this.databaseConnection=e,this.releaseCallback=t,this.databaseConnection)):this.databaseConnectionPromise=this.driver.obtainMasterConnection().then(([e,t])=>(this.driver.connectedQueryRunners.push(this),this.databaseConnection=e,this.releaseCallback=t,this.databaseConnection)),this.databaseConnectionPromise)}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?await this.client.startTransaction():await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new mi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.commitTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new mi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.rollbackTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=await this.client.query(e,t),s=new ir;return s.raw=r,r!=null&&r.hasOwnProperty("records")&&Array.isArray(r.records)&&(s.records=r.records),r!=null&&r.hasOwnProperty("numberOfRecordsUpdated")&&(s.affected=r.numberOfRecordsUpdated),i?s:s.raw}}class S6 extends bC{}class C6 extends S6{constructor(e){super(),this.transactionSupport="nested",this.connection=e,this.options=e.options,this.isReplicated=!1,this.loadDependencies(),this.client=new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions),this.database=me.buildDriverOptions(this.options).database}async connect(){}async disconnect(){}createQueryRunner(e){return new T6(this,new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions),e)}preparePersistentValue(e,t){return this.options.formatOptions&&this.options.formatOptions.castParameters===!1?super.preparePersistentValue(e,t):(t.transformer&&(e=Ut.transformTo(t.transformer,e)),this.client.preparePersistentValue(e,t))}prepareHydratedValue(e,t){return this.options.formatOptions&&this.options.formatOptions.castParameters===!1?super.prepareHydratedValue(e,t):(t.transformer&&(e=Ut.transformFrom(t.transformer,e)),this.client.prepareHydratedValue(e,t))}loadDependencies(){const e=this.options.driver||ct.load("typeorm-aurora-data-api-driver"),{pg:t}=e;this.DataApiDriver=t}executeQuery(e,t){return this.connection.query(t)}async afterConnect(){const e=await this.checkMetadataForExtensions();return e.hasExtensions&&await this.enableExtensions(e,this.connection),Promise.resolve()}}class A6 extends ha{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Pr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async executeSet(e){if(this.isReleased)throw new wn;return(await this.connect()).executeSet(e,!1)}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const s=e.substr(0,e.indexOf(" "));try{let o;["BEGIN","ROLLBACK","COMMIT","CREATE","ALTER","DROP"].indexOf(s)!==-1?o=await r.execute(e,!1):["INSERT","UPDATE","DELETE"].indexOf(s)!==-1?o=await r.run(e,t,!1):o=await r.query(e,t||[]);const a=new ir;return o!=null&&o.hasOwnProperty("values")&&(a.raw=o.values,a.records=o.values),o!=null&&o.hasOwnProperty("changes")&&(a.affected=o.changes.changes,a.raw=o.changes.lastId||o.changes.changes),i?a:a.raw}catch(o){throw this.driver.connection.logger.logQueryError(o,e,t,this),new er(e,t,o)}}parametrize(e){return Object.keys(e).map(t=>'"'.concat(t,'"')+"=?")}}class N6 extends uc{constructor(e){super(e),this.database=this.options.database,this.driver=this.options.driver,this.sqlite=this.options.driver}async connect(){this.databaseConnection=this.createDatabaseConnection(),await this.databaseConnection}async disconnect(){return this.queryRunner=void 0,(await this.databaseConnection).close().then(()=>{this.databaseConnection=void 0})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new A6(this)),this.queryRunner}async createDatabaseConnection(){const e=this.options.mode||"no-encryption",t=e!=="no-encryption",i=typeof this.options.version>"u"?1:this.options.version,r=await this.sqlite.createConnection(this.options.database,t,e,i);return await r.open(),await r.query("PRAGMA foreign_keys = ON"),this.options.journalMode&&["DELETE","TRUNCATE","PERSIST","MEMORY","WAL","OFF"].indexOf(this.options.journalMode)!==-1&&await r.query("PRAGMA journal_mode = ".concat(this.options.journalMode)),r}loadDependencies(){if(this.sqlite=this.driver,!this.driver)throw new da("Capacitor","@capacitor-community/sqlite")}}class k6 extends Hh{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.mode=t,this.broadcaster=new Pr(this)}async connect(){if(this.session)return Promise.resolve(this.session);const[e]=await this.driver.instanceDatabase.createSession({});return this.session=e,this.sessionTransaction=await e.transaction(),this.session}async release(){return this.isReleased=!0,this.session&&await this.session.delete(),this.session=void 0,Promise.resolve()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}await this.connect(),await this.sessionTransaction.begin(),this.connection.logger.logQuery("START TRANSACTION"),await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive||!this.sessionTransaction)throw new mi;await this.broadcaster.broadcast("BeforeTransactionCommit"),await this.sessionTransaction.commit(),this.connection.logger.logQuery("COMMIT"),this.isTransactionActive=!1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive||!this.sessionTransaction)throw new mi;await this.broadcaster.broadcast("BeforeTransactionRollback"),await this.sessionTransaction.rollback(),this.connection.logger.logQuery("ROLLBACK"),this.isTransactionActive=!1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new wn;try{const r=+new Date;await this.connect();let s;const o=e.startsWith("SELECT"),a=o&&!this.isTransactionActive?this.driver.instanceDatabase:this.sessionTransaction;!this.isTransactionActive&&!o&&await this.sessionTransaction.begin();try{this.driver.connection.logger.logQuery(e,t,this),s=await a.run({sql:e,params:t?t.reduce((h,f,g)=>(h["param"+g]=f,h),{}):void 0,json:!0}),!this.isTransactionActive&&!o&&await this.sessionTransaction.commit()}catch(h){try{!this.isTransactionActive&&!o&&await this.sessionTransaction.rollback()}catch(f){}throw h}const l=this.driver.options.maxQueryExecutionTime,u=+new Date-r;l&&u>l&&this.driver.connection.logger.logQuerySlow(u,e,t,this);const d=new ir;return d.raw=s,d.records=s?s[0]:[],s&&s[1]&&s[1].rowCountExact&&(d.affected=parseInt(s[1].rowCountExact)),i?d:d.records}catch(r){throw this.driver.connection.logger.logQueryError(r,e,t,this),new er(e,t,r)}finally{}}async updateDDL(e,t){if(this.isReleased)throw new wn;this.driver.connection.logger.logQuery(e,t,this);try{const i=+new Date,[r]=await this.driver.instanceDatabase.updateSchema(e);await r.promise();const s=this.driver.options.maxQueryExecutionTime,a=+new Date-i;s&&a>s&&this.driver.connection.logger.logQuerySlow(a,e,t,this)}catch(i){throw this.driver.connection.logger.logQueryError(i,e,t,this),new er(e,t,i)}}async stream(e,t,i,r){if(this.isReleased)throw new wn;try{this.driver.connection.logger.logQuery(e,t,this);const s={sql:e,params:t?t.reduce((a,l,c)=>(a["param"+c]=l,a),{}):void 0,json:!0},o=this.driver.instanceDatabase.runStream(s);return i&&o.on("end",i),r&&o.on("error",r),o}catch(s){throw this.driver.connection.logger.logQueryError(s,e,t,this),new er(e,t,s)}}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){throw new q("Check database queries are not supported by Spanner driver.")}async getCurrentDatabase(){throw new q("Check database queries are not supported by Spanner driver.")}async hasSchema(e){return!!(await this.query('SELECT * FROM "information_schema"."schemata" WHERE "schema_name" = \''.concat(e,"'"))).length}async getCurrentSchema(){throw new q("Check schema queries are not supported by Spanner driver.")}async hasTable(e){const t=e instanceof mt?e.name:e,i="SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE' "+"AND `TABLE_NAME` = '".concat(t,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=e instanceof mt?e.name:e,r="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' "+"AND `TABLE_NAME` = '".concat(i,"' AND `COLUMN_NAME` = '").concat(t,"'");return!!(await this.query(r)).length}async createDatabase(e,t){if(t&&await this.hasDatabase(e))return Promise.resolve();const i='CREATE DATABASE "'.concat(e,'"'),r='DROP DATABASE "'.concat(e,'"');await this.executeQueries(new M(i),new M(r))}async dropDatabase(e,t){const i=t?'DROP DATABASE IF EXISTS "'.concat(e,'"'):'DROP DATABASE "'.concat(e,'"'),r='CREATE DATABASE "'.concat(e,'"');await this.executeQueries(new M(i),new M(r))}async createSchema(e,t){return Promise.resolve()}async dropSchema(e,t,i){return Promise.resolve()}async createTable(e,t=!1,i=!0,r=!0){if(t&&await this.hasTable(e))return Promise.resolve();const s=[],o=[];s.push(this.createTableSql(e,i)),o.push(this.dropTableSql(e)),i&&e.foreignKeys.forEach(l=>o.push(this.dropForeignKeySql(e,l))),r&&e.indices.forEach(l=>{l.name||(l.name=this.connection.namingStrategy.indexName(e,l.columnNames,l.where)),s.push(this.createIndexSql(e,l)),o.push(this.dropIndexSql(e,l))});const a=e.columns.filter(l=>l.generatedType&&l.asExpression);for(const l of a){const c=this.insertTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:l.name,value:l.asExpression}),u=this.deleteTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:l.name});s.push(c),o.push(u)}await this.executeQueries(s,o)}async dropTable(e,t,i=!0,r=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const s=i,o=this.getTablePath(e),a=await this.getCachedTable(o),l=[],c=[];r&&a.indices.forEach(d=>{l.push(this.dropIndexSql(a,d)),c.push(this.createIndexSql(a,d))}),i&&a.foreignKeys.forEach(d=>l.push(this.dropForeignKeySql(a,d))),l.push(this.dropTableSql(a)),c.push(this.createTableSql(a,s));const u=a.columns.filter(d=>d.generatedType&&d.asExpression);for(const d of u){const h=this.deleteTypeormMetadataSql({table:a.name,type:Ne.GENERATED_COLUMN,name:d.name}),f=this.insertTypeormMetadataSql({table:a.name,type:Ne.GENERATED_COLUMN,name:d.name,value:d.asExpression});l.push(h),c.push(f)}await this.executeQueries(l,c)}async createView(e){const t=[],i=[];t.push(this.createViewSql(e)),t.push(await this.insertViewDefinitionSql(e)),i.push(this.dropViewSql(e)),i.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(t,i)}async dropView(e){const t=e instanceof Nr?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(await this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(await this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){throw new q("Rename table queries are not supported by Spanner driver.")}async addColumn(e,t){const i=e instanceof mt?e:await this.getCachedTable(e),r=i.clone(),s=[],o=[];s.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(t)))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN ").concat(this.driver.escape(t.name))));const a=r.indices.find(l=>l.columnNames.length===1&&l.columnNames[0]===t.name);if(a)s.push(this.createIndexSql(i,a)),o.push(this.dropIndexSql(i,a));else if(t.isUnique){const l=new Ct({name:this.connection.namingStrategy.indexName(i,[t.name]),columnNames:[t.name],isUnique:!0});r.indices.push(l),r.uniques.push(new dn({name:l.name,columnNames:l.columnNames})),s.push(this.createIndexSql(i,l)),o.push(this.dropIndexSql(i,l))}if(t.generatedType&&t.asExpression){const l=this.insertTypeormMetadataSql({table:i.name,type:Ne.GENERATED_COLUMN,name:t.name,value:t.asExpression}),c=this.deleteTypeormMetadataSql({table:i.name,type:Ne.GENERATED_COLUMN,name:t.name});s.push(l),o.push(c)}await this.executeQueries(s,o),r.addColumn(t),this.replaceCachedTable(i,r)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const r=e instanceof mt?e:await this.getCachedTable(e),s=t instanceof An?t:r.columns.find(a=>a.name===t);if(!s)throw new q('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;return i instanceof An?o=i:(o=s.clone(),o.name=i),this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=e instanceof mt?e:await this.getCachedTable(e);let s=r.clone();const o=[],a=[],l=t instanceof An?t:r.columns.find(c=>c.name===t);if(!l)throw new q('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));if(l.name!==i.name||l.type!==i.type||l.length!==i.length||l.isArray!==i.isArray||l.generatedType!==i.generatedType||l.asExpression!==i.asExpression)await this.dropColumn(r,l),await this.addColumn(r,i),s=r.clone();else if((i.precision!==l.precision||i.scale!==l.scale)&&(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(i)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(l))))),l.isNullable!==i.isNullable&&(i.isNullable?(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" DROP NOT NULL'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" SET NOT NULL')))):(o.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" SET NOT NULL'))),a.push(new M("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" DROP NOT NULL'))))),i.isUnique!==l.isUnique)if(i.isUnique===!0){const c=new Ct({name:this.connection.namingStrategy.indexName(r,[i.name]),columnNames:[i.name],isUnique:!0});s.indices.push(c),s.uniques.push(new dn({name:c.name,columnNames:c.columnNames})),o.push(this.createIndexSql(r,c)),a.push(this.dropIndexSql(r,c))}else{const c=s.indices.find(d=>d.columnNames.length===1&&d.isUnique===!0&&!!d.columnNames.find(h=>h===i.name));s.indices.splice(s.indices.indexOf(c),1);const u=s.uniques.find(d=>d.name===c.name);s.uniques.splice(s.uniques.indexOf(u),1),o.push(this.dropIndexSql(r,c)),a.push(this.createIndexSql(r,c))}await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:r}of t)await this.changeColumn(e,i,r)}async dropColumn(e,t){const i=e instanceof mt?e:await this.getCachedTable(e),r=t instanceof An?t:i.findColumnByName(t);if(!r)throw new q('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));const s=i.clone(),o=[],a=[],l=s.indices.find(u=>u.columnNames.length===1&&u.columnNames[0]===r.name);l&&(s.indices.splice(s.indices.indexOf(l),1),o.push(this.dropIndexSql(i,l)),a.push(this.createIndexSql(i,l)));const c=s.checks.find(u=>!!u.columnNames&&u.columnNames.length===1&&u.columnNames[0]===r.name);if(c&&(s.checks.splice(s.checks.indexOf(c),1),o.push(this.dropCheckConstraintSql(i,c)),a.push(this.createCheckConstraintSql(i,c))),o.push(new M("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN ").concat(this.driver.escape(r.name)))),a.push(new M("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(r)))),r.generatedType&&r.asExpression){const u=this.deleteTypeormMetadataSql({table:i.name,type:Ne.GENERATED_COLUMN,name:r.name}),d=this.insertTypeormMetadataSql({table:i.name,type:Ne.GENERATED_COLUMN,name:r.name,value:r.asExpression});o.push(u),a.push(d)}await this.executeQueries(o,a),s.removeColumn(r),this.replaceCachedTable(i,s)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async updatePrimaryKeys(e,t){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async dropPrimaryKey(e){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async createUniqueConstraint(e,t){throw new q("Spanner does not support unique constraints. Use unique index instead.")}async createUniqueConstraints(e,t){throw new q("Spanner does not support unique constraints. Use unique index instead.")}async dropUniqueConstraint(e,t){throw new q("Spanner does not support unique constraints. Use unique index instead.")}async dropUniqueConstraints(e,t){throw new q("Spanner does not support unique constraints. Use unique index instead.")}async createCheckConstraint(e,t){const i=e instanceof mt?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.checkConstraintName(i,t.expression));const r=this.createCheckConstraintSql(i,t),s=this.dropCheckConstraintSql(i,t);await this.executeQueries(r,s),i.addCheckConstraint(t)}async createCheckConstraints(e,t){const i=t.map(r=>this.createCheckConstraint(e,r));await Promise.all(i)}async dropCheckConstraint(e,t){const i=e instanceof mt?e:await this.getCachedTable(e),r=t instanceof Li?t:i.checks.find(a=>a.name===t);if(!r)throw new q("Supplied check constraint was not found in table ".concat(i.name));const s=this.dropCheckConstraintSql(i,r),o=this.createCheckConstraintSql(i,r);await this.executeQueries(s,o),i.removeCheckConstraint(r)}async dropCheckConstraints(e,t){const i=t.map(r=>this.dropCheckConstraint(e,r));await Promise.all(i)}async createExclusionConstraint(e,t){throw new q("Spanner does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new q("Spanner does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new q("Spanner does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new q("Spanner does not support exclusion constraints.")}async createForeignKey(e,t){const i=e instanceof mt?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames,this.getTablePath(t),t.referencedColumnNames));const r=this.createForeignKeySql(i,t),s=this.dropForeignKeySql(i,t);await this.executeQueries(r,s),i.addForeignKey(t)}async createForeignKeys(e,t){for(const i of t)await this.createForeignKey(e,i)}async dropForeignKey(e,t){const i=e instanceof mt?e:await this.getCachedTable(e),r=t instanceof di?t:i.foreignKeys.find(a=>a.name===t);if(!r)throw new q("Supplied foreign key was not found in table ".concat(i.name));const s=this.dropForeignKeySql(i,r),o=this.createForeignKeySql(i,r);await this.executeQueries(s,o),i.removeForeignKey(r)}async dropForeignKeys(e,t){for(const i of t)await this.dropForeignKey(e,i)}async createIndex(e,t){const i=e instanceof mt?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t)}async createIndices(e,t){for(const i of t)await this.createIndex(e,i)}async dropIndex(e,t){const i=e instanceof mt?e:await this.getCachedTable(e),r=t instanceof Ct?t:i.indices.find(a=>a.name===t);if(!r)throw new q("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropIndices(e,t){for(const i of t)await this.dropIndex(e,i)}async clearTable(e){await this.query("DELETE FROM ".concat(this.escapePath(e)," WHERE true"))}async clearDatabase(){const e="SELECT concat('DROP INDEX `', INDEX_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`INDEXES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `INDEX_TYPE` = 'INDEX' AND `SPANNER_IS_MANAGED` = false",t=await this.query(e),i="SELECT concat('ALTER TABLE `', TABLE_NAME, '`', ' DROP CONSTRAINT `', CONSTRAINT_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `CONSTRAINT_TYPE` = 'FOREIGN KEY'",r=await this.query(i),s="SELECT concat('DROP TABLE `', TABLE_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE'",o=await this.query(s);if(!t.length&&!r.length&&!o.length)return;const a=this.isTransactionActive;a||await this.startTransaction();try{for(let l of t)await this.updateDDL(l.query);for(let l of r)await this.updateDDL(l.query);for(let l of o)await this.updateDDL(l.query);await this.commitTransaction()}catch(l){try{a||await this.rollbackTransaction()}catch(c){}throw l}}async executeMemoryUpSql(){for(const{query:e,parameters:t}of this.sqlInMemory.upQueries)this.isDMLQuery(e)?await this.query(e,t):await this.updateDDL(e,t)}async executeMemoryDownSql(){for(const{query:e,parameters:t}of this.sqlInMemory.downQueries.reverse())this.isDMLQuery(e)?await this.query(e,t):await this.updateDDL(e,t)}async loadViews(e){return Promise.resolve([])}async loadTables(e){if(e&&e.length===0)return[];const t=[];if(!e||!e.length){const g="SELECT `TABLE_NAME` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE'";t.push(...await this.query(g))}else{const g="SELECT `TABLE_NAME` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE' "+"AND `TABLE_NAME` IN (".concat(e.map(b=>"'".concat(b,"'")).join(", "),")");t.push(...await this.query(g))}if(!t.length)return[];const i=t.map(g=>"'".concat(g.TABLE_NAME,"'")).join(", "),r="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_NAME` IN (".concat(i,")"),s="SELECT `KCU`.`TABLE_NAME`, `KCU`.`COLUMN_NAME` FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` `TC` INNER JOIN `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `KCU` ON `KCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` WHERE `TC`.`TABLE_CATALOG` = '' AND `TC`.`TABLE_SCHEMA` = '' AND `TC`.`CONSTRAINT_TYPE` = 'PRIMARY KEY' "+"AND `TC`.`TABLE_NAME` IN (".concat(i,")"),o="SELECT `I`.`TABLE_NAME`, `I`.`INDEX_NAME`, `I`.`IS_UNIQUE`, `I`.`IS_NULL_FILTERED`, `IC`.`COLUMN_NAME` FROM `INFORMATION_SCHEMA`.`INDEXES` `I` INNER JOIN `INFORMATION_SCHEMA`.`INDEX_COLUMNS` `IC` ON `IC`.`INDEX_NAME` = `I`.`INDEX_NAME` AND `IC`.`TABLE_NAME` = `I`.`TABLE_NAME` "+"WHERE `I`.`TABLE_CATALOG` = '' AND `I`.`TABLE_SCHEMA` = '' AND `I`.`TABLE_NAME` IN (".concat(i,") ")+"AND `I`.`INDEX_TYPE` = 'INDEX' AND `I`.`SPANNER_IS_MANAGED` = false",a="SELECT `TC`.`TABLE_NAME`, `TC`.`CONSTRAINT_NAME`, `CC`.`CHECK_CLAUSE`, `CCU`.`COLUMN_NAME`FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` `TC` INNER JOIN `INFORMATION_SCHEMA`.`CONSTRAINT_COLUMN_USAGE` `CCU` ON `CCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`CHECK_CONSTRAINTS` `CC` ON `CC`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` WHERE `TC`.`TABLE_CATALOG` = '' AND `TC`.`TABLE_SCHEMA` = '' AND `TC`.`CONSTRAINT_TYPE` = 'CHECK' "+"AND `TC`.`TABLE_NAME` IN (".concat(i,") AND `TC`.`CONSTRAINT_NAME` NOT LIKE 'CK_IS_NOT_NULL%'"),l="SELECT `TC`.`TABLE_NAME`, `TC`.`CONSTRAINT_NAME`, `KCU`.`COLUMN_NAME`, `CTU`.`TABLE_NAME` AS `REFERENCED_TABLE_NAME`, `CCU`.`COLUMN_NAME` AS `REFERENCED_COLUMN_NAME`, `RC`.`UPDATE_RULE`, `RC`.`DELETE_RULE` FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` `TC` INNER JOIN `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `KCU` ON `KCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`CONSTRAINT_TABLE_USAGE` `CTU` ON `CTU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `RC` ON `RC`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`CONSTRAINT_COLUMN_USAGE` `CCU` ON `CCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` WHERE `TC`.`TABLE_CATALOG` = '' AND `TC`.`TABLE_SCHEMA` = '' AND `TC`.`CONSTRAINT_TYPE` = 'FOREIGN KEY' "+"AND `TC`.`TABLE_NAME` IN (".concat(i,")"),[c,u,d,h,f]=await Promise.all([this.query(r),this.query(s),this.query(o),this.query(a),this.query(l)]);return Promise.all(t.map(async g=>{const b=new mt;b.name=this.driver.buildTableName(g.TABLE_NAME),b.columns=await Promise.all(c.filter(E=>E.TABLE_NAME===g.TABLE_NAME).map(async E=>{const N=d.filter(H=>H.TABLE_NAME===g.TABLE_NAME&&H.COLUMN_NAME===E.COLUMN_NAME&&H.IS_UNIQUE===!0),I=this.connection.entityMetadatas.find(H=>this.getTablePath(b)===this.getTablePath(H)),B=N.length>0&&I&&I.indices.some(H=>N.some(A=>H.name===A.INDEX_NAME&&H.synchronize===!1)),O=N.every(H=>d.some(A=>A.INDEX_NAME===H.INDEX_NAME&&A.COLUMN_NAME!==E.COLUMN_NAME)),$=new An;$.name=E.COLUMN_NAME;let R=E.SPANNER_TYPE.toLowerCase();if(R.indexOf("array")!==-1&&($.isArray=!0,R=R.substring(R.indexOf("<")+1,R.indexOf(">"))),R.indexOf("(")!==-1?$.type=R.substring(0,R.indexOf("(")):$.type=R,this.driver.withLengthColumnTypes.indexOf($.type)!==-1&&($.length=R.substring(R.indexOf("(")+1,R.indexOf(")"))),E.IS_GENERATED==="ALWAYS"){$.asExpression=E.GENERATION_EXPRESSION,$.generatedType="STORED";const H=await this.selectTypeormMetadataSql({table:g.TABLE_NAME,type:Ne.GENERATED_COLUMN,name:$.name}),A=await this.query(H.query,H.parameters);A[0]&&A[0].value?$.asExpression=A[0].value:$.asExpression=""}return $.isUnique=N.length>0&&!B&&!O,$.isNullable=E.IS_NULLABLE==="YES",$.isPrimary=u.some(H=>H.TABLE_NAME===E.TABLE_NAME&&H.COLUMN_NAME===E.COLUMN_NAME),$}));const C=f.filter(E=>E.TABLE_NAME===g.TABLE_NAME);b.foreignKeys=ve.uniq(C,E=>E.CONSTRAINT_NAME).map(E=>{const N=C.filter(I=>I.CONSTRAINT_NAME===E.CONSTRAINT_NAME);return new di({name:E.CONSTRAINT_NAME,columnNames:ve.uniq(N.map(I=>I.COLUMN_NAME)),referencedDatabase:E.REFERENCED_TABLE_SCHEMA,referencedTableName:E.REFERENCED_TABLE_NAME,referencedColumnNames:ve.uniq(N.map(I=>I.REFERENCED_COLUMN_NAME)),onDelete:E.DELETE_RULE,onUpdate:E.UPDATE_RULE})});const x=d.filter(E=>E.TABLE_NAME===g.TABLE_NAME);b.indices=ve.uniq(x,E=>E.INDEX_NAME).map(E=>{const N=x.filter(I=>I.INDEX_NAME===E.INDEX_NAME);return new Ct({table:b,name:E.INDEX_NAME,columnNames:N.map(I=>I.COLUMN_NAME),isUnique:E.IS_UNIQUE,isNullFiltered:E.IS_NULL_FILTERED})});const y=h.filter(E=>E.TABLE_NAME===g.TABLE_NAME);return b.checks=ve.uniq(y,E=>E.CONSTRAINT_NAME).map(E=>{const N=y.filter(I=>I.CONSTRAINT_NAME===E.CONSTRAINT_NAME);return new Li({name:E.CONSTRAINT_NAME,columnNames:N.map(I=>I.COLUMN_NAME),expression:E.CHECK_CLAUSE})}),b}))}createTableSql(e,t){const i=e.columns.map(o=>this.buildCreateColumnSql(o)).join(", ");let r="CREATE TABLE ".concat(this.escapePath(e)," (").concat(i);if(e.columns.filter(o=>o.isUnique).forEach(o=>{const a=e.indices.some(c=>c.columnNames.length===1&&!!c.isUnique&&c.columnNames.indexOf(o.name)!==-1),l=e.uniques.some(c=>c.columnNames.length===1&&c.columnNames.indexOf(o.name)!==-1);!a&&!l&&e.indices.push(new Ct({name:this.connection.namingStrategy.uniqueConstraintName(e,[o.name]),columnNames:[o.name],isUnique:!0}))}),e.uniques.length>0&&e.uniques.forEach(o=>{e.indices.some(l=>l.name===o.name)||e.indices.push(new Ct({name:o.name,columnNames:o.columnNames,isUnique:!0}))}),e.checks.length>0){const o=e.checks.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.checkConstraintName(e,a.expression);return"CONSTRAINT `".concat(l,"` CHECK (").concat(a.expression,")")}).join(", ");r+=", ".concat(o)}if(e.foreignKeys.length>0&&t){const o=e.foreignKeys.map(a=>{const l=a.columnNames.map(u=>"`".concat(u,"`")).join(", ");a.name||(a.name=this.connection.namingStrategy.foreignKeyName(e,a.columnNames,this.getTablePath(a),a.referencedColumnNames));const c=a.referencedColumnNames.map(u=>"`".concat(u,"`")).join(", ");return"CONSTRAINT `".concat(a.name,"` FOREIGN KEY (").concat(l,") REFERENCES ").concat(this.escapePath(this.getTablePath(a))," (").concat(c,")")}).join(", ");r+=", ".concat(o)}r+=")";const s=e.columns.filter(o=>o.isPrimary);if(s.length>0){const o=s.map(a=>this.driver.escape(a.name)).join(", ");r+=" PRIMARY KEY (".concat(o,")")}return new M(r)}dropTableSql(e){return new M("DROP TABLE ".concat(this.escapePath(e)))}createViewSql(e){const t=e.materialized?"MATERIALIZED ":"",i=this.escapePath(e),r=typeof e.expression=="string"?e.expression:e.expression(this.connection).getQuery();return new M("CREATE ".concat(t,"VIEW ").concat(i," SQL SECURITY INVOKER AS ").concat(r))}async insertViewDefinitionSql(e){let{schema:t,tableName:i}=this.driver.parseTableName(e);const r=e.materialized?Ne.MATERIALIZED_VIEW:Ne.VIEW,s=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:r,schema:t,name:i,value:s})}dropViewSql(e){const t=e.materialized?"MATERIALIZED ":"";return new M("DROP ".concat(t,"VIEW ").concat(this.escapePath(e)))}async deleteViewDefinitionSql(e){let{schema:t,tableName:i}=this.driver.parseTableName(e);const r=e.materialized?Ne.MATERIALIZED_VIEW:Ne.VIEW;return this.deleteTypeormMetadataSql({type:r,schema:t,name:i})}createIndexSql(e,t){const i=t.columnNames.map(s=>this.driver.escape(s)).join(", ");let r="";return t.isUnique&&(r+="UNIQUE "),t.isNullFiltered&&(r+="NULL_FILTERED "),new M("CREATE ".concat(r,"INDEX `").concat(t.name,"` ON ").concat(this.escapePath(e)," (").concat(i,")"))}dropIndexSql(e,t){let i=t instanceof Ct?t.name:t;return new M("DROP INDEX `".concat(i,"`"))}createCheckConstraintSql(e,t){return new M("ALTER TABLE ".concat(this.escapePath(e)," ADD CONSTRAINT `").concat(t.name,"` CHECK (").concat(t.expression,")"))}dropCheckConstraintSql(e,t){const i=t instanceof Li?t.name:t;return new M("ALTER TABLE ".concat(this.escapePath(e)," DROP CONSTRAINT `").concat(i,"`"))}createForeignKeySql(e,t){const i=t.columnNames.map(o=>this.driver.escape(o)).join(", "),r=t.referencedColumnNames.map(o=>this.driver.escape(o)).join(",");let s="ALTER TABLE ".concat(this.escapePath(e)," ADD CONSTRAINT `").concat(t.name,"` FOREIGN KEY (").concat(i,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(t))," (").concat(r,")");return new M(s)}dropForeignKeySql(e,t){const i=t instanceof di?t.name:t;return new M("ALTER TABLE ".concat(this.escapePath(e)," DROP CONSTRAINT `").concat(i,"`"))}escapePath(e){const{tableName:t}=this.driver.parseTableName(e);return"`".concat(t,"`")}buildCreateColumnSql(e){let t="".concat(this.driver.escape(e.name)," ").concat(this.connection.driver.createFullType(e));return e.generatedType==="STORED"&&e.asExpression?t+=" AS (".concat(e.asExpression,") STORED"):e.isNullable||(t+=" NOT NULL"),t}async executeQueries(e,t){if(e instanceof M&&(e=[e]),t instanceof M&&(t=[t]),this.sqlInMemory.upQueries.push(...e),this.sqlInMemory.downQueries.push(...t),this.sqlMemoryMode===!0)return Promise.resolve();for(const{query:i,parameters:r}of e)this.isDMLQuery(i)?await this.query(i,r):await this.updateDDL(i,r)}isDMLQuery(e){return e.startsWith("INSERT")||e.startsWith("UPDATE")||e.startsWith("DELETE")}}class R6{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="none",this.supportedDataTypes=["bool","int64","float64","numeric","string","json","bytes","date","timestamp","array"],this.supportedUpsertTypes=[],this.spatialTypes=[],this.withLengthColumnTypes=["string","bytes"],this.withWidthColumnTypes=[],this.withPrecisionColumnTypes=[],this.withScaleColumnTypes=[],this.mappedDataTypes={createDate:"timestamp",createDateDefault:"",updateDate:"timestamp",updateDateDefault:"",deleteDate:"timestamp",deleteDateNullable:!0,version:"int64",treeLevel:"int64",migrationId:"int64",migrationName:"string",migrationTimestamp:"int64",cacheId:"string",cacheIdentifier:"string",cacheTime:"int64",cacheDuration:"int64",cacheQuery:"string",cacheResult:"string",metadataType:"string",metadataDatabase:"string",metadataSchema:"string",metadataTable:"string",metadataName:"string",metadataValue:"string"},this.dataTypeDefaults={},this.maxAliasLength=63,this.cteCapabilities={enabled:!0},this._isReturningSqlSupported={delete:!1,insert:!1,update:!1},this.connection=e,this.options=e.options,this.isReplicated=!!this.options.replication,this.loadDependencies()}async connect(){this.instance=this.spanner.instance(this.options.instanceId),this.instanceDatabase=this.instance.database(this.options.databaseId)}afterConnect(){return Promise.resolve()}async disconnect(){this.instanceDatabase.close()}createSchemaBuilder(){return new Vh(this.connection)}createQueryRunner(e){return new k6(this,e)}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return l===null?s:o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):l instanceof Function?l():(r.push(l),this.createParameter(a,r.length-1))}),e=e.replace(/([ ]+)?=([ ]+)?:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a,l,c)=>t.hasOwnProperty(c)&&t[c]===null?" IS NULL":s),[e,r])}escape(e){return"`".concat(e,"`")}buildTableName(e,t,i){let r=[e];return i&&r.unshift(i),r.join(".")}parseTableName(e){const t=this.database,i=void 0;if(e instanceof mt||e instanceof Nr){const s=this.parseTableName(e.name);return{database:e.database||s.database||t,schema:e.schema||s.schema||i,tableName:s.tableName}}if(e instanceof di){const s=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||s.database||t,schema:e.referencedSchema||s.schema||i,tableName:s.tableName}}if(e instanceof Di)return{database:e.database||t,schema:e.schema||i,tableName:e.tableName};const r=e.split(".");return{database:(r.length>1?r[0]:void 0)||t,schema:i,tableName:r.length>1?r[1]:r[0]}}preparePersistentValue(e,t){return t.transformer&&(e=Ut.transformTo(t.transformer,e)),e==null?e:t.type==="numeric"?(this.options.driver||ct.load("spanner")).Spanner.numeric(e):t.type==="date"?ke.mixedDateToDateString(e):t.type==="json"?e:t.type==="timestamp"||t.type===Date?ke.mixedDateToDate(e):e}prepareHydratedValue(e,t){return e==null?t.transformer?Ut.transformFrom(t.transformer,e):e:(t.type===Boolean||t.type==="bool"?e=!!e:t.type==="timestamp"||t.type===Date?e=new Date(e):t.type==="numeric"?e=e.value:t.type==="date"?e=ke.mixedDateToDateString(e):t.type==="json"?e=typeof e=="string"?JSON.parse(e):e:t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=Ut.transformFrom(t.transformer,e)),e)}normalizeType(e){return e.type===Number?"int64":e.type===String||e.type==="uuid"?"string":e.type===Date?"timestamp":e.type===Buffer?"bytes":e.type===Boolean?"bool":e.type||""}normalizeDefault(e){return e.default===""?'"'.concat(e.default,'"'):"".concat(e.default)}normalizeIsUnique(e){return e.entityMetadata.indices.some(t=>t.isUnique&&t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){if(e.length)return e.length.toString();if(e.generationStrategy==="uuid")return"36";switch(e.type){case String:case"string":case"bytes":return"max";default:return""}}createFullType(e){let t=e.type;return this.getColumnLength(e)?t+="(".concat(this.getColumnLength(e),")"):e.width?t+="(".concat(e.width,")"):e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="(".concat(e.precision,",").concat(e.scale,")"):e.precision!==null&&e.precision!==void 0&&(t+="(".concat(e.precision,")")),e.isArray&&(t="array<".concat(t,">")),t}obtainMasterConnection(){return this.instanceDatabase}obtainSlaveConnection(){return this.instanceDatabase}createGeneratedMap(e,t,i){if(!t)return;if(t.insertId===void 0)return Object.keys(t).reduce((s,o)=>{const a=e.findColumnWithDatabaseName(o);return a&&ve.mergeDeep(s,a.createValueMap(t[o])),s},{});const r=e.generatedColumns.reduce((s,o)=>{let a;return o.generationStrategy==="increment"&&t.insertId&&(a=t.insertId+i),ve.mergeDeep(s,o.createValueMap(a))},{});return Object.keys(r).length>0?r:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);return r?r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==this.getColumnLength(i)||r.asExpression!==i.asExpression||r.generatedType!==i.generatedType||r.isPrimary!==i.isPrimary||!this.compareNullableValues(i,r)||r.isUnique!==this.normalizeIsUnique(i):!1})}isReturningSqlSupported(e){return this._isReturningSqlSupported[e]}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"@param"+t}loadDependencies(){try{const e=this.options.driver||ct.load("spanner");this.spanner=new e.Spanner({projectId:this.options.projectId})}catch(e){throw console.error(e),new da("Spanner","@google-cloud/spanner")}}compareNullableValues(e,t){return e.generatedType?!0:e.isNullable===t.isNullable}compareDefaultValues(e,t){return typeof e=="string"&&typeof t=="string"&&(e=e.replace(/^'+|'+$/g,""),t=t.replace(/^'+|'+$/g,"")),e===t}normalizeDatetimeFunction(e){if(!e)return e;if(e.toUpperCase().indexOf("CURRENT_TIMESTAMP")!==-1||e.toUpperCase().indexOf("NOW")!==-1){const i=e.match(/\(\d+\)/);return i?"CURRENT_TIMESTAMP".concat(i[0]):"CURRENT_TIMESTAMP"}else return e}escapeComment(e){return e&&(e=e.replace(/\u0000/g,""),e)}}class P6{create(e){const{type:t}=e.options;switch(t){case"mysql":return new Iw(e);case"postgres":return new bC(e);case"cockroachdb":return new CF(e);case"sap":return new NF(e);case"mariadb":return new Iw(e);case"sqlite":return new RF(e);case"better-sqlite3":return new PF(e);case"cordova":return new u6(e);case"nativescript":return new p6(e);case"react-native":return new h6(e);case"sqljs":return new g6(e);case"oracle":return new kF(e);case"mssql":return new AF(e);case"mongodb":return new xF(e);case"expo":return new b6(e);case"aurora-mysql":return new w6(e);case"aurora-postgres":return new C6(e);case"capacitor":return new N6(e);case"spanner":return new R6(e);default:throw new lF(t,["aurora-mysql","aurora-postgres","better-sqlite3","capacitor","cockroachdb","cordova","expo","mariadb","mongodb","mssql","mysql","nativescript","oracle","postgres","react-native","sap","sqlite","sqljs","spanner"])}}}function bp(n,e,t=[".js",".cjs",".ts"]){return[]}const $6=new class{constructor(){this.instances=[]}get(n){let e=this.instances.find(t=>t.type===n);return e||(e={type:n,object:new n},this.instances.push(e)),e.object}};function Bw(n){return $6.get(n)}class si{constructor(e){this["@instanceof"]=Symbol.for("ColumnMetadata"),this.length="",this.isPrimary=!1,this.isGenerated=!1,this.isNullable=!1,this.isSelect=!0,this.isInsert=!0,this.isUpdate=!0,this.zerofill=!1,this.unsigned=!1,this.isArray=!1,this.isVirtual=!1,this.isVirtualProperty=!1,this.isDiscriminator=!1,this.isTreeLevel=!1,this.isCreateDate=!1,this.isUpdateDate=!1,this.isDeleteDate=!1,this.isVersion=!1,this.isObjectId=!1,this.isNestedSetLeft=!1,this.isNestedSetRight=!1,this.isMaterializedPath=!1,this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.referencedColumn=e.referencedColumn,e.args.target&&(this.target=e.args.target),e.args.propertyName&&(this.propertyName=e.args.propertyName),e.args.options.name&&(this.givenDatabaseName=e.args.options.name),e.args.options.type&&(this.type=e.args.options.type),e.args.options.length&&(this.length=e.args.options.length?e.args.options.length.toString():""),e.args.options.width&&(this.width=e.args.options.width),e.args.options.charset&&(this.charset=e.args.options.charset),e.args.options.collation&&(this.collation=e.args.options.collation),e.args.options.primary&&(this.isPrimary=e.args.options.primary),e.args.options.default===null&&(this.isNullable=!0),e.args.options.nullable!==void 0&&(this.isNullable=e.args.options.nullable),e.args.options.select!==void 0&&(this.isSelect=e.args.options.select),e.args.options.insert!==void 0&&(this.isInsert=e.args.options.insert),e.args.options.update!==void 0&&(this.isUpdate=e.args.options.update),e.args.options.readonly!==void 0&&(this.isUpdate=!e.args.options.readonly),e.args.options.comment&&(this.comment=e.args.options.comment),e.args.options.default!==void 0&&(this.default=e.args.options.default),e.args.options.onUpdate&&(this.onUpdate=e.args.options.onUpdate),e.args.options.generatedIdentity&&(this.generatedIdentity=e.args.options.generatedIdentity),e.args.options.scale!==null&&e.args.options.scale!==void 0&&(this.scale=e.args.options.scale),e.args.options.zerofill&&(this.zerofill=e.args.options.zerofill,this.unsigned=!0),e.args.options.unsigned&&(this.unsigned=e.args.options.unsigned),e.args.options.precision!==null&&(this.precision=e.args.options.precision),e.args.options.enum&&(Be.isObject(e.args.options.enum)&&!Array.isArray(e.args.options.enum)?this.enum=Object.keys(e.args.options.enum).filter(t=>isNaN(+t)&&typeof e.args.options.enum[t]!="function").map(t=>e.args.options.enum[t]):this.enum=e.args.options.enum),e.args.options.enumName&&(this.enumName=e.args.options.enumName),e.args.options.primaryKeyConstraintName&&(this.primaryKeyConstraintName=e.args.options.primaryKeyConstraintName),e.args.options.foreignKeyConstraintName&&(this.foreignKeyConstraintName=e.args.options.foreignKeyConstraintName),e.args.options.asExpression&&(this.asExpression=e.args.options.asExpression,this.generatedType=e.args.options.generatedType?e.args.options.generatedType:"VIRTUAL"),e.args.options.hstoreType&&(this.hstoreType=e.args.options.hstoreType),e.args.options.array&&(this.isArray=e.args.options.array),e.args.mode&&(this.isVirtualProperty=e.args.mode==="virtual-property",this.isVirtual=e.args.mode==="virtual",this.isTreeLevel=e.args.mode==="treeLevel",this.isCreateDate=e.args.mode==="createDate",this.isUpdateDate=e.args.mode==="updateDate",this.isDeleteDate=e.args.mode==="deleteDate",this.isVersion=e.args.mode==="version",this.isObjectId=e.args.mode==="objectId"),this.isVirtualProperty&&(this.isInsert=!1,this.isUpdate=!1),e.args.options.transformer&&(this.transformer=e.args.options.transformer),e.args.options.spatialFeatureType&&(this.spatialFeatureType=e.args.options.spatialFeatureType),e.args.options.srid!==void 0&&(this.srid=e.args.options.srid),e.args.options.query&&(this.query=e.args.options.query),this.isTreeLevel&&(this.type=e.connection.driver.mappedDataTypes.treeLevel),this.isCreateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.createDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.createDateDefault),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.createDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.createDatePrecision)),this.isUpdateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.updateDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.updateDateDefault),this.onUpdate||(this.onUpdate=e.connection.driver.mappedDataTypes.updateDateDefault),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.updateDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.updateDatePrecision)),this.isDeleteDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.deleteDate),this.isNullable||(this.isNullable=e.connection.driver.mappedDataTypes.deleteDateNullable),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.deleteDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.deleteDatePrecision)),this.isVersion&&(this.type=e.connection.driver.mappedDataTypes.version),e.closureType&&(this.closureType=e.closureType),e.nestedSetLeft&&(this.isNestedSetLeft=e.nestedSetLeft),e.nestedSetRight&&(this.isNestedSetRight=e.nestedSetRight),e.materializedPath&&(this.isMaterializedPath=e.materializedPath)}createValueMap(e,t=!1){if(this.embeddedMetadata){const i=[...this.embeddedMetadata.parentPropertyNames],r=(s,o)=>{const a=s.shift();return a?(o[a]={},r(s,o[a]),o):((this.generationStrategy==="increment"||this.generationStrategy==="rowid")&&this.type==="bigint"&&e!==null&&(e=String(e)),o[t?this.databaseName:this.propertyName]=e,o)};return r(i,{})}else return(this.generationStrategy==="increment"||this.generationStrategy==="rowid")&&this.type==="bigint"&&e!==null&&(e=String(e)),{[t?this.databaseName:this.propertyName]:e}}getEntityValueMap(e,t){var i;if(this.embeddedMetadata){const s=[...this.embeddedMetadata.parentPropertyNames],o=this.embeddedMetadata.isArray,a=(c,u)=>{if(u===void 0)return{};const d=c.shift();if(d){const h=a(c,u[d]);return Object.keys(h).length>0?{[d]:h}:{}}return o&&Array.isArray(u)?u.map(h=>({[this.propertyName]:h[this.propertyName]})):u[this.propertyName]!==void 0?{[this.propertyName]:u[this.propertyName]}:{}},l=a(s,e);return Object.keys(l).length>0?l:void 0}else if(this.relationMetadata&&!(!((i=Object.getOwnPropertyDescriptor(e,this.relationMetadata.propertyName))===null||i===void 0)&&i.get)&&e[this.relationMetadata.propertyName]&&Be.isObject(e[this.relationMetadata.propertyName])){const s=this.relationMetadata.joinColumns.reduce((o,a)=>{const l=a.referencedColumn.getEntityValueMap(e[this.relationMetadata.propertyName]);return l===void 0?o:ve.mergeDeep(o,l)},{});return Object.keys(s).length>0?{[this.propertyName]:s}:void 0}else return e[this.propertyName]!==void 0?{[this.propertyName]:e[this.propertyName]}:void 0}getEntityValue(e,t=!1){if(e==null)return;let i;if(this.embeddedMetadata){const r=[...this.embeddedMetadata.parentPropertyNames],s=this.embeddedMetadata.isArray,o=(l,c)=>{const u=l.shift();return u&&c?o(l,c[u]):c},a=o(r,e);if(a)if(this.relationMetadata&&this.referencedColumn){const l=this.relationMetadata.getEntityValue(a);l&&Be.isObject(l)&&!V.isFindOperator(l)&&!Buffer.isBuffer(l)?i=this.referencedColumn.getEntityValue(l):a[this.propertyName]&&Be.isObject(a[this.propertyName])&&!V.isFindOperator(a[this.propertyName])&&!Buffer.isBuffer(a[this.propertyName])&&!(a[this.propertyName]instanceof Date)?i=this.referencedColumn.getEntityValue(a[this.propertyName]):i=a[this.propertyName]}else this.referencedColumn?i=this.referencedColumn.getEntityValue(a[this.propertyName]):s&&Array.isArray(a)?i=a.map(l=>l[this.propertyName]):i=a[this.propertyName]}else if(this.relationMetadata&&this.referencedColumn){const r=this.relationMetadata.getEntityValue(e);r&&Be.isObject(r)&&!V.isFindOperator(r)&&typeof r!="function"&&!Buffer.isBuffer(r)?i=this.referencedColumn.getEntityValue(r):e[this.propertyName]&&Be.isObject(e[this.propertyName])&&!V.isFindOperator(e[this.propertyName])&&typeof e[this.propertyName]!="function"&&!Buffer.isBuffer(e[this.propertyName])&&!(e[this.propertyName]instanceof Date)?i=this.referencedColumn.getEntityValue(e[this.propertyName]):i=e[this.propertyName]}else this.referencedColumn?i=this.referencedColumn.getEntityValue(e[this.propertyName]):i=e[this.propertyName];return t&&this.transformer&&(i=Ut.transformTo(this.transformer,i)),i}setEntityValue(e,t){if(this.embeddedMetadata){const i=(r,s)=>{const o=r.shift();return o?(s[o.propertyName]||(s[o.propertyName]=o.create()),i(r,s[o.propertyName]),s):(s[this.propertyName]=t,s)};return i([...this.embeddedMetadata.embeddedMetadataTree],e)}else!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName?(this.propertyName in e||(e[this.propertyName]={}),e[this.propertyName][this.referencedColumn.propertyName]=t):e[this.propertyName]=t}compareEntityValue(e,t){const i=this.getEntityValue(e);return Be.isObject(i)?i.equals(t):i===t}build(e){return this.propertyPath=this.buildPropertyPath(),this.propertyAliasName=this.propertyPath.replace(".","_"),this.databaseName=this.buildDatabaseName(e),this.databasePath=this.buildDatabasePath(),this.databaseNameWithoutPrefixes=e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,[]),this}buildPropertyPath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.propertyName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName&&(e+="."+this.referencedColumn.propertyName),e}buildDatabasePath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.databaseName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.databaseName!==this.databaseName&&(e+="."+this.referencedColumn.databaseName),e}buildDatabaseName(e){let t=this.embeddedMetadata?this.embeddedMetadata.parentPrefixes:[];return e.driver.options.type==="mongodb"&&(t=[]),e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,t)}}class Si{constructor(e){this.isUnique=!1,this.isSpatial=!1,this.isFulltext=!1,this.isNullFiltered=!1,this.synchronize=!0,this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,e.args.synchronize!==null&&e.args.synchronize!==void 0&&(this.synchronize=e.args.synchronize),this.isUnique=!!e.args.unique,this.isSpatial=!!e.args.spatial,this.isFulltext=!!e.args.fulltext,this.isNullFiltered=!!e.args.nullFiltered,this.parser=e.args.parser,this.where=e.args.where,this.isSparse=e.args.sparse,this.isBackground=e.args.background,this.expireAfterSeconds=e.args.expireAfterSeconds,this.givenName=e.args.name,this.givenColumnNames=e.args.columns)}build(e){if(this.synchronize===!1)return this.name=this.givenName,this;const t={};if(this.givenColumnNames){let i=[];if(Array.isArray(this.givenColumnNames))i=this.givenColumnNames.map(r=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+r:r.trim()),i.forEach(r=>t[r]=1);else{const r=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(r)?(i=r.map(s=>String(s)),i.forEach(s=>t[s]=1)):(i=Object.keys(r).map(s=>String(s)),Object.keys(r).forEach(s=>t[s]=r[s]))}this.columns=i.map(r=>{const s=this.entityMetadata.columns.find(c=>c.propertyPath===r);if(s)return[s];const o=this.entityMetadata.relations.find(c=>c.isWithJoinColumn&&c.propertyName===r);if(o)return o.joinColumns;const a=this.givenName?'"'+this.givenName+'" ':"",l=this.entityMetadata.targetName;throw new q("Index ".concat(a,"contains column that is missing in the entity (").concat(l,"): ")+r)}).reduce((r,s)=>r.concat(s))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce((i,r)=>{const s=this.entityMetadata.columns.find(o=>o.propertyPath===r);return s&&(i[s.databasePath]=t[r]),i},{}),this.name=this.givenName?this.givenName:e.indexName(this.entityMetadata.tableName,this.columns.map(i=>i.databaseName),this.where),this}}class Fw{constructor(e){this.isTreeParent=!1,this.isTreeChildren=!1,this.isPrimary=!1,this.isLazy=!1,this.isEager=!1,this.persistenceEnabled=!0,this.isCascadeInsert=!1,this.isCascadeUpdate=!1,this.isCascadeRemove=!1,this.isCascadeSoftRemove=!1,this.isCascadeRecover=!1,this.isNullable=!0,this.createForeignKeyConstraints=!0,this.isOwning=!1,this.isOneToOne=!1,this.isOneToOneOwner=!1,this.isWithJoinColumn=!1,this.isOneToOneNotOwner=!1,this.isOneToMany=!1,this.isManyToOne=!1,this.isManyToMany=!1,this.isManyToManyOwner=!1,this.isManyToManyNotOwner=!1,this.foreignKeys=[],this.joinColumns=[],this.inverseJoinColumns=[],this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata;const t=e.args;this.target=t.target,this.propertyName=t.propertyName,this.relationType=t.relationType,t.inverseSideProperty&&(this.givenInverseSidePropertyFactory=t.inverseSideProperty),this.isLazy=t.isLazy||!1,this.isCascadeInsert=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("insert")!==-1,this.isCascadeUpdate=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("update")!==-1,this.isCascadeRemove=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("remove")!==-1,this.isCascadeSoftRemove=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("soft-remove")!==-1,this.isCascadeRecover=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("recover")!==-1,this.isNullable=!(t.options.nullable===!1||this.isPrimary),this.onDelete=t.options.onDelete,this.onUpdate=t.options.onUpdate,this.deferrable=t.options.deferrable,this.createForeignKeyConstraints=t.options.createForeignKeyConstraints!==!1,this.isEager=t.options.eager||!1,this.persistenceEnabled=t.options.persistence!==!1,this.orphanedRowAction=t.options.orphanedRowAction||"nullify",this.isTreeParent=t.isTreeParent||!1,this.isTreeChildren=t.isTreeChildren||!1,typeof t.type=="function"?this.type=typeof t.type=="function"?t.type():t.type:V.isEntitySchema(t.type)?this.type=t.type.options.name:Be.isObject(t.type)&&typeof t.type.name=="string"?this.type=t.type.name:this.type=t.type,this.isOneToOne=this.relationType==="one-to-one",this.isOneToMany=this.relationType==="one-to-many",this.isManyToOne=this.relationType==="many-to-one",this.isManyToMany=this.relationType==="many-to-many",this.isOneToOneNotOwner=!!this.isOneToOne,this.isManyToManyNotOwner=!!this.isManyToMany}getRelationIdMap(e){const i=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map(r=>r.referencedColumn);return Di.getValueMap(e,i)}ensureRelationIdMap(e){if(Be.isObject(e))return e;const i=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map(r=>r.referencedColumn);if(i.length>1)throw new q("Cannot create relation id map for a single value because relation contains multiple referenced columns.");return i[0].createValueMap(e)}getEntityValue(e,t=!1){if(e!=null)if(this.embeddedMetadata){const i=[...this.embeddedMetadata.parentPropertyNames],r=(o,a)=>{const l=o.shift();return l?a[l]?r(o,a[l]):void 0:a},s=r(i,e);return this.isLazy?s["__"+this.propertyName+"__"]!==void 0?s["__"+this.propertyName+"__"]:t===!0?s[this.propertyName]:void 0:s?s[this.isLazy?"__"+this.propertyName+"__":this.propertyName]:void 0}else return this.isLazy?e["__"+this.propertyName+"__"]!==void 0?e["__"+this.propertyName+"__"]:t===!0?e[this.propertyName]:void 0:e[this.propertyName]}setEntityValue(e,t){const i=this.isLazy?"__"+this.propertyName+"__":this.propertyName;if(this.embeddedMetadata){const r=(s,o)=>{const a=s.shift();return a?(o[a.propertyName]||(o[a.propertyName]=a.create()),r(s,o[a.propertyName]),o):(o[i]=t,o)};return r([...this.embeddedMetadata.embeddedMetadataTree],e)}else e[i]=t}createValueMap(e){if(this.embeddedMetadata){const t=[...this.embeddedMetadata.parentPropertyNames],i=(r,s)=>{const o=r.shift();return o?(s[o]={},i(r,s[o]),s):(s[this.propertyName]=e,s)};return i(t,{})}else return{[this.propertyName]:e}}build(){this.propertyPath=this.buildPropertyPath()}registerForeignKeys(...e){this.foreignKeys.push(...e)}registerJoinColumns(e=[],t=[]){this.joinColumns=e,this.inverseJoinColumns=t,this.isOwning=this.isManyToOne||(this.isManyToMany||this.isOneToOne)&&this.joinColumns.length>0,this.isOneToOneOwner=this.isOneToOne&&this.isOwning,this.isOneToOneNotOwner=this.isOneToOne&&!this.isOwning,this.isManyToManyOwner=this.isManyToMany&&this.isOwning,this.isManyToManyNotOwner=this.isManyToMany&&!this.isOwning,this.isWithJoinColumn=this.isManyToOne||this.isOneToOneOwner}registerJunctionEntityMetadata(e){this.junctionEntityMetadata=e,this.joinTableName=e.tableName,this.inverseRelation&&(this.inverseRelation.junctionEntityMetadata=e,this.joinTableName=e.tableName)}buildInverseSidePropertyPath(){if(this.givenInverseSidePropertyFactory){const e=this.inverseEntityMetadata.propertiesMap;if(typeof this.givenInverseSidePropertyFactory=="function")return this.givenInverseSidePropertyFactory(e);if(typeof this.givenInverseSidePropertyFactory=="string")return this.givenInverseSidePropertyFactory}else{if(this.isTreeParent&&this.entityMetadata.treeChildrenRelation)return this.entityMetadata.treeChildrenRelation.propertyName;if(this.isTreeChildren&&this.entityMetadata.treeParentRelation)return this.entityMetadata.treeParentRelation.propertyName}return""}buildPropertyPath(){return!this.embeddedMetadata||!this.embeddedMetadata.parentPropertyNames.length?this.propertyName:this.embeddedMetadata.parentPropertyNames.join(".")+"."+this.propertyName}}class M6{constructor(e){this.columns=[],this.relations=[],this.listeners=[],this.indices=[],this.uniques=[],this.relationIds=[],this.relationCounts=[],this.embeddeds=[],this.isAlwaysUsingConstructor=!0,this.isArray=!1,this.parentPropertyNames=[],this.parentPrefixes=[],this.embeddedMetadataTree=[],this.columnsFromTree=[],this.relationsFromTree=[],this.listenersFromTree=[],this.indicesFromTree=[],this.uniquesFromTree=[],this.relationIdsFromTree=[],this.relationCountsFromTree=[],this.entityMetadata=e.entityMetadata,this.type=e.args.type(),this.propertyName=e.args.propertyName,this.customPrefix=e.args.prefix,this.isArray=e.args.isArray}create(e){return typeof this.type!="function"?{}:e!=null&&e.fromDeserializer||!this.isAlwaysUsingConstructor?Object.create(this.type.prototype):new this.type}build(e){return this.embeddeds.forEach(t=>t.build(e)),this.prefix=this.buildPrefix(e),this.parentPropertyNames=this.buildParentPropertyNames(),this.parentPrefixes=this.buildParentPrefixes(),this.propertyPath=this.parentPropertyNames.join("."),this.embeddedMetadataTree=this.buildEmbeddedMetadataTree(),this.columnsFromTree=this.buildColumnsFromTree(),this.relationsFromTree=this.buildRelationsFromTree(),this.listenersFromTree=this.buildListenersFromTree(),this.indicesFromTree=this.buildIndicesFromTree(),this.uniquesFromTree=this.buildUniquesFromTree(),this.relationIdsFromTree=this.buildRelationIdsFromTree(),this.relationCountsFromTree=this.buildRelationCountsFromTree(),e.options.entitySkipConstructor&&(this.isAlwaysUsingConstructor=!e.options.entitySkipConstructor),this}buildPartialPrefix(){if(this.customPrefix===void 0||this.customPrefix===!0)return[this.propertyName];if(this.customPrefix===""||this.customPrefix===!1)return[];if(typeof this.customPrefix=="string")return[this.customPrefix];throw new q("Invalid prefix option given for ".concat(this.entityMetadata.targetName,"#").concat(this.propertyName))}buildPrefix(e){if(e.driver.options.type==="mongodb")return this.propertyName;let t=[];return this.parentEmbeddedMetadata&&t.push(this.parentEmbeddedMetadata.buildPrefix(e)),t.push(...this.buildPartialPrefix()),t.join("_")}buildParentPropertyNames(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPropertyNames().concat(this.propertyName):[this.propertyName]}buildParentPrefixes(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPrefixes().concat(this.buildPartialPrefix()):this.buildPartialPrefix()}buildEmbeddedMetadataTree(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildEmbeddedMetadataTree().concat(this):[this]}buildColumnsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildColumnsFromTree()),this.columns)}buildRelationsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationsFromTree()),this.relations)}buildListenersFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildListenersFromTree()),this.listeners)}buildIndicesFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildIndicesFromTree()),this.indices)}buildUniquesFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildUniquesFromTree()),this.uniques)}buildRelationIdsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationIdsFromTree()),this.relationIds)}buildRelationCountsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationCountsFromTree()),this.relationCounts)}}class Uw{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}setValue(e){const t=this.relation.getEntityValue(e);if(Array.isArray(t))e[this.propertyName]=t.map(i=>this.relation.inverseEntityMetadata.getEntityIdMixedMap(i)).filter(i=>i!=null);else{const i=this.relation.inverseEntityMetadata.getEntityIdMixedMap(t);i!==void 0&&(e[this.propertyName]=i)}}build(){const e=typeof this.relationNameOrFactory=="function"?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new q("Cannot find relation ".concat(e,". Wrong relation specified for @RelationId decorator."));this.relation=t}}class jw{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}build(){const e=typeof this.relationNameOrFactory=="function"?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new q("Cannot find relation ".concat(e,". Wrong relation specified for @RelationCount decorator."));this.relation=t}}class Tt{}Tt.AFTER_LOAD="after-load";Tt.BEFORE_INSERT="before-insert";Tt.AFTER_INSERT="after-insert";Tt.BEFORE_UPDATE="before-update";Tt.AFTER_UPDATE="after-update";Tt.BEFORE_REMOVE="before-remove";Tt.AFTER_REMOVE="after-remove";Tt.BEFORE_SOFT_REMOVE="before-soft-remove";Tt.AFTER_SOFT_REMOVE="after-soft-remove";Tt.BEFORE_RECOVER="before-recover";Tt.AFTER_RECOVER="after-recover";class jl{constructor(e){this.columns=[],this.referencedColumns=[],this.columnNames=[],this.referencedColumnNames=[],this.entityMetadata=e.entityMetadata,this.referencedEntityMetadata=e.referencedEntityMetadata,this.columns=e.columns,this.referencedColumns=e.referencedColumns,this.onDelete=e.onDelete||"NO ACTION",this.onUpdate=e.onUpdate||"NO ACTION",this.deferrable=e.deferrable,this.givenName=e.name,e.namingStrategy&&this.build(e.namingStrategy)}build(e){this.columnNames=this.columns.map(t=>t.databaseName),this.referencedColumnNames=this.referencedColumns.map(t=>t.databaseName),this.referencedTablePath=this.referencedEntityMetadata.tablePath,this.name=this.givenName?this.givenName:e.foreignKeyName(this.entityMetadata.tableName,this.columnNames,this.referencedEntityMetadata.tableName,this.referencedColumnNames)}}class I6{constructor(e){this.connection=e}build(e,t){var i,r;const s=this.collectReferencedColumns(e,t),o=this.collectInverseReferencedColumns(e,t),a=t.name||this.connection.namingStrategy.joinTableName(e.entityMetadata.tableNameWithoutPrefix,e.inverseEntityMetadata.tableNameWithoutPrefix,e.propertyPath,e.inverseRelation?e.inverseRelation.propertyName:""),l=new Di({connection:this.connection,args:{target:"",name:a,type:"junction",database:t.database||e.entityMetadata.database,schema:t.schema||e.entityMetadata.schema,synchronize:t.synchronize}});l.build();const c=s.map(d=>{const h=t.joinColumns?t.joinColumns.find(g=>(!g.referencedColumnName||g.referencedColumnName===d.propertyName)&&!!g.name):void 0,f=h&&h.name?h.name:this.connection.namingStrategy.joinTableColumnName(e.entityMetadata.tableNameWithoutPrefix,d.propertyName,d.databaseName);return new si({connection:this.connection,entityMetadata:l,referencedColumn:d,args:{target:"",mode:"virtual",propertyName:f,options:{name:f,length:!d.length&&(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&this.connection.driver.normalizeType(d)!=="uuid"&&(d.generationStrategy==="uuid"||d.type==="uuid")?"36":d.length,width:d.width,type:d.type,precision:d.precision,scale:d.scale,charset:d.charset,collation:d.collation,zerofill:d.zerofill,unsigned:d.zerofill?!0:d.unsigned,enum:d.enum,enumName:d.enumName,foreignKeyConstraintName:h==null?void 0:h.foreignKeyConstraintName,nullable:!1,primary:!0}}})}),u=o.map(d=>{const h=t.inverseJoinColumns?t.inverseJoinColumns.find(g=>(!g.referencedColumnName||g.referencedColumnName===d.propertyName)&&!!g.name):void 0,f=h&&h.name?h.name:this.connection.namingStrategy.joinTableInverseColumnName(e.inverseEntityMetadata.tableNameWithoutPrefix,d.propertyName,d.databaseName);return new si({connection:this.connection,entityMetadata:l,referencedColumn:d,args:{target:"",mode:"virtual",propertyName:f,options:{length:!d.length&&(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&this.connection.driver.normalizeType(d)!=="uuid"&&(d.generationStrategy==="uuid"||d.type==="uuid")?"36":d.length,width:d.width,type:d.type,precision:d.precision,scale:d.scale,charset:d.charset,collation:d.collation,zerofill:d.zerofill,unsigned:d.zerofill?!0:d.unsigned,enum:d.enum,enumName:d.enumName,foreignKeyConstraintName:h==null?void 0:h.foreignKeyConstraintName,name:f,nullable:!1,primary:!0}}})});return this.changeDuplicatedColumnNames(c,u),l.ownerColumns=c,l.inverseColumns=u,l.ownColumns=[...c,...u],l.ownColumns.forEach(d=>d.relationMetadata=e),l.foreignKeys=e.createForeignKeyConstraints?[new jl({entityMetadata:l,referencedEntityMetadata:e.entityMetadata,columns:c,referencedColumns:s,name:(i=c[0])===null||i===void 0?void 0:i.foreignKeyConstraintName,onDelete:this.connection.driver.options.type==="spanner"?"NO ACTION":e.onDelete||"CASCADE",onUpdate:this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="spanner"?"NO ACTION":e.onUpdate||"CASCADE"}),new jl({entityMetadata:l,referencedEntityMetadata:e.inverseEntityMetadata,columns:u,referencedColumns:o,name:(r=u[0])===null||r===void 0?void 0:r.foreignKeyConstraintName,onDelete:this.connection.driver.options.type==="spanner"?"NO ACTION":e.inverseRelation?e.inverseRelation.onDelete:"CASCADE",onUpdate:this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="spanner"?"NO ACTION":e.inverseRelation?e.inverseRelation.onUpdate:"CASCADE"})]:[],l.ownIndices=[new Si({entityMetadata:l,columns:c,args:{target:l.target,synchronize:!0}}),new Si({entityMetadata:l,columns:u,args:{target:l.target,synchronize:!0}})],l}collectReferencedColumns(e,t){const i=t.joinColumns?t.joinColumns.find(r=>!!r.referencedColumnName):!1;return!t.joinColumns||t.joinColumns&&!i?e.entityMetadata.columns.filter(r=>r.isPrimary):t.joinColumns.map(r=>{const s=e.entityMetadata.columns.find(o=>o.propertyName===r.referencedColumnName);if(!s)throw new q("Referenced column ".concat(r.referencedColumnName," was not found in entity ").concat(e.entityMetadata.name));return s})}collectInverseReferencedColumns(e,t){const i=!!t.inverseJoinColumns,r=i?t.inverseJoinColumns.find(s=>!!s.referencedColumnName):!1;return!i||i&&!r?e.inverseEntityMetadata.primaryColumns:t.inverseJoinColumns.map(s=>{const o=e.inverseEntityMetadata.ownColumns.find(a=>a.propertyName===s.referencedColumnName);if(!o)throw new q("Referenced column ".concat(s.referencedColumnName," was not found in entity ").concat(e.inverseEntityMetadata.name));return o})}changeDuplicatedColumnNames(e,t){e.forEach(i=>{t.forEach(r=>{if(i.givenDatabaseName===r.givenDatabaseName){const s=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(i.propertyName,1);i.propertyName=s,i.givenDatabaseName=s;const o=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(r.propertyName,2);r.propertyName=o,r.givenDatabaseName=o}})})}}class O6{constructor(e){this.connection=e}build(e){const t=new Di({parentClosureEntityMetadata:e,connection:this.connection,args:{target:"",name:e.treeOptions&&e.treeOptions.closureTableName?e.treeOptions.closureTableName:e.tableNameWithoutPrefix,type:"closure-junction"}});return t.build(),e.primaryColumns.forEach(i=>{t.ownColumns.push(new si({connection:this.connection,entityMetadata:t,closureType:"ancestor",referencedColumn:i,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.ancestorColumnName?e.treeOptions.ancestorColumnName(i):i.propertyName+"_ancestor",options:{primary:!0,length:i.length,type:i.type}}})),t.ownColumns.push(new si({connection:this.connection,entityMetadata:t,closureType:"descendant",referencedColumn:i,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.descendantColumnName?e.treeOptions.descendantColumnName(i):i.propertyName+"_descendant",options:{primary:!0,length:i.length,type:i.type}}}))}),t.ownIndices=[new Si({entityMetadata:t,columns:[t.ownColumns[0]],args:{target:t.target,synchronize:!0}}),new Si({entityMetadata:t,columns:[t.ownColumns[1]],args:{target:t.target,synchronize:!0}})],e.treeLevelColumn&&t.ownColumns.push(new si({connection:this.connection,entityMetadata:t,args:{target:"",mode:"virtual",propertyName:"level",options:{type:this.connection.driver.mappedDataTypes.treeLevel}}})),t.foreignKeys=[new jl({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[0]],referencedColumns:e.primaryColumns,onDelete:this.connection.driver.options.type==="mssql"?"NO ACTION":"CASCADE"}),new jl({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[1]],referencedColumns:e.primaryColumns,onDelete:this.connection.driver.options.type==="mssql"?"NO ACTION":"CASCADE"})],t}}class Bu{constructor(e){this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,this.givenName=e.args.name,this.givenColumnNames=e.args.columns,this.deferrable=e.args.deferrable)}build(e){const t={};if(this.givenColumnNames){let i=[];if(Array.isArray(this.givenColumnNames))i=this.givenColumnNames.map(r=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+r:r.trim()),i.forEach(r=>t[r]=1);else{const r=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(r)?(i=r.map(s=>String(s)),i.forEach(s=>t[s]=1)):(i=Object.keys(r).map(s=>String(s)),Object.keys(r).forEach(s=>t[s]=r[s]))}this.columns=i.map(r=>{const s=this.entityMetadata.columns.find(c=>c.propertyPath===r);if(s)return[s];const o=this.entityMetadata.relations.find(c=>c.isWithJoinColumn&&c.propertyName===r);if(o)return o.joinColumns;const a=this.givenName?'"'+this.givenName+'" ':"",l=this.entityMetadata.targetName;throw new q("Unique constraint ".concat(a,"contains column that is missing in the entity (").concat(l,"): ")+r)}).reduce((r,s)=>r.concat(s))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce((i,r)=>{const s=this.entityMetadata.columns.find(o=>o.propertyPath===r);return s&&(i[s.databasePath]=t[r]),i},{}),this.name=this.givenName?this.givenName:e.uniqueConstraintName(this.entityMetadata.tableName,this.columns.map(i=>i.databaseName)),this}}class _6{constructor(e){this.connection=e}build(e,t){var i;const r=this.collectReferencedColumns(e,t),s=this.collectColumns(e,t,r);if(!r.length||!t.createForeignKeyConstraints)return{foreignKey:void 0,columns:s,uniqueConstraint:void 0};const o=new jl({name:(i=e[0])===null||i===void 0?void 0:i.foreignKeyConstraintName,entityMetadata:t.entityMetadata,referencedEntityMetadata:t.inverseEntityMetadata,namingStrategy:this.connection.namingStrategy,columns:s,referencedColumns:r,onDelete:t.onDelete,onUpdate:t.onUpdate,deferrable:t.deferrable});if(s.every(l=>l.isPrimary)||!t.isOneToOne)return{foreignKey:o,columns:s,uniqueConstraint:void 0};const a=new Bu({entityMetadata:t.entityMetadata,columns:o.columns,args:{name:this.connection.namingStrategy.relationConstraintName(t.entityMetadata.tableName,o.columns.map(l=>l.databaseName)),target:t.entityMetadata.target}});return a.build(this.connection.namingStrategy),{foreignKey:o,columns:s,uniqueConstraint:a}}collectReferencedColumns(e,t){const i=e.find(o=>!!o.referencedColumnName),r=e.length===0&&t.isManyToOne,s=e.length>0&&!i;return r||s?t.inverseEntityMetadata.primaryColumns:e.map(o=>{const a=t.inverseEntityMetadata.ownColumns.find(l=>l.propertyName===o.referencedColumnName);if(!a)throw new q("Referenced column ".concat(o.referencedColumnName," was not found in entity ").concat(t.inverseEntityMetadata.name));return a})}collectColumns(e,t,i){return i.map(r=>{const s=e.find(c=>(!c.referencedColumnName||c.referencedColumnName===r.propertyName)&&!!c.name),o=s?s.name:this.connection.namingStrategy.joinColumnName(t.propertyName,r.propertyName);let l=(t.embeddedMetadata?t.embeddedMetadata.columns:t.entityMetadata.ownColumns).find(c=>c.databaseNameWithoutPrefixes===o);return l||(l=new si({connection:this.connection,entityMetadata:t.entityMetadata,embeddedMetadata:t.embeddedMetadata,args:{target:"",mode:"virtual",propertyName:t.propertyName,options:{name:o,type:r.type,length:!r.length&&(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&this.connection.driver.normalizeType(r)!=="uuid"&&(r.generationStrategy==="uuid"||r.type==="uuid")?"36":r.length,width:r.width,charset:r.charset,collation:r.collation,precision:r.precision,scale:r.scale,zerofill:r.zerofill,unsigned:r.unsigned,comment:r.comment,enum:r.enum,enumName:r.enumName,primary:t.isPrimary,nullable:t.isNullable}}}),t.entityMetadata.registerColumn(l)),l.referencedColumn=r,l.type=r.type,l.relationMetadata=t,l.build(this.connection),l})}}class zw{constructor(e){this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.type=e.args.type}isAllowed(e){return this.entityMetadata.target===e.constructor||typeof this.entityMetadata.target=="function"&&e.constructor.prototype instanceof this.entityMetadata.target}execute(e){if(!this.embeddedMetadata)return e[this.propertyName]();this.callEntityEmbeddedMethod(e,this.embeddedMetadata.propertyPath.split("."))}callEntityEmbeddedMethod(e,t){const i=t.shift();!i||!e[i]||(t.length===0?Array.isArray(e[i])?e[i].map(r=>r[this.propertyName]()):e[i][this.propertyName]():e[i]&&this.callEntityEmbeddedMethod(e[i],t))}}class L6{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.checkConstraintName(this.entityMetadata.tableName,this.expression),this}}class D6{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.exclusionConstraintName(this.entityMetadata.tableName,this.expression),this}}class Vw{constructor(e,t){this.connection=e,this.metadataArgsStorage=t,this.junctionEntityMetadataBuilder=new I6(e),this.closureJunctionEntityMetadataBuilder=new O6(e),this.relationJoinColumnBuilder=new _6(e)}build(e){const r=(e?this.metadataArgsStorage.filterTables(e):this.metadataArgsStorage.tables).filter(s=>s.type==="regular"||s.type==="closure"||s.type==="entity-child"||s.type==="view").map(s=>this.createEntityMetadata(s));return r.forEach(s=>this.computeParentEntityMetadata(r,s)),r.forEach(s=>{s.childEntityMetadatas=r.filter(o=>typeof s.target=="function"&&typeof o.target=="function"&&Du.isInherited(o.target,s.target))}),r.filter(s=>s.tableType!=="entity-child").forEach(s=>s.build()),r.filter(s=>s.tableType==="entity-child").forEach(s=>s.build()),r.filter(s=>s.tableType!=="entity-child").forEach(s=>this.computeEntityMetadataStep1(r,s)),r.filter(s=>s.tableType==="entity-child").forEach(s=>this.computeEntityMetadataStep1(r,s)),r.forEach(s=>this.computeEntityMetadataStep2(s)),r.forEach(s=>this.computeInverseProperties(s,r)),r.filter(s=>s.tableType!=="entity-child").forEach(s=>{s.relations.filter(o=>o.isOneToOne||o.isManyToOne).forEach(o=>{const a=this.metadataArgsStorage.filterJoinColumns(o.target,o.propertyName),{foreignKey:l,columns:c,uniqueConstraint:u}=this.relationJoinColumnBuilder.build(a,o);if(l&&(o.registerForeignKeys(l),s.foreignKeys.push(l)),c&&o.registerJoinColumns(c),u)if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="mssql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){const d=new Si({entityMetadata:u.entityMetadata,columns:u.columns,args:{target:u.target,name:u.name,unique:!0,synchronize:!0}});this.connection.driver.options.type==="mssql"&&(d.where=d.columns.map(h=>"".concat(this.connection.driver.escape(h.databaseName)," IS NOT NULL")).join(" AND ")),this.connection.driver.options.type==="spanner"&&(d.isNullFiltered=!0),o.embeddedMetadata?o.embeddedMetadata.indices.push(d):o.entityMetadata.ownIndices.push(d),this.computeEntityMetadataStep2(s)}else o.embeddedMetadata?o.embeddedMetadata.uniques.push(u):o.entityMetadata.ownUniques.push(u),this.computeEntityMetadataStep2(s);if(l&&this.connection.driver.options.type==="cockroachdb"){const d=new Si({entityMetadata:o.entityMetadata,columns:l.columns,args:{target:o.entityMetadata.target,synchronize:!0}});o.embeddedMetadata?o.embeddedMetadata.indices.push(d):o.entityMetadata.ownIndices.push(d),this.computeEntityMetadataStep2(s)}}),s.relations.filter(o=>o.isManyToMany).forEach(o=>{const a=this.metadataArgsStorage.findJoinTable(o.target,o.propertyName);if(!a)return;const l=this.junctionEntityMetadataBuilder.build(o,a);o.registerForeignKeys(...l.foreignKeys),o.registerJoinColumns(l.ownIndices[0].columns,l.ownIndices[1].columns),o.registerJunctionEntityMetadata(l),this.computeEntityMetadataStep2(l),this.computeInverseProperties(l,r),r.push(l)})}),r.forEach(s=>{s.relationsWithJoinColumns=s.relations.filter(o=>o.isWithJoinColumn),s.hasNonNullableRelations=s.relationsWithJoinColumns.some(o=>!o.isNullable||o.isPrimary)}),r.filter(s=>s.treeType==="closure-table").forEach(s=>{const o=this.closureJunctionEntityMetadataBuilder.build(s);s.closureJunctionTable=o,this.computeEntityMetadataStep2(o),this.computeInverseProperties(o,r),r.push(o)}),r.filter(s=>s.inheritancePattern==="STI"&&s.discriminatorColumn).forEach(s=>this.createKeysForTableInheritance(s)),r.forEach(s=>{s.indices.forEach(o=>o.build(this.connection.namingStrategy))}),r.forEach(s=>{s.uniques.forEach(o=>o.build(this.connection.namingStrategy))}),r.forEach(s=>{s.checks.forEach(o=>o.build(this.connection.namingStrategy))}),r.forEach(s=>{s.exclusions.forEach(o=>o.build(this.connection.namingStrategy))}),r.filter(s=>typeof s.target=="function").forEach(s=>{s.relations.filter(o=>o.isLazy).forEach(o=>{this.connection.relationLoader.enableLazyLoad(o,s.target.prototype)})}),r.forEach(s=>{s.columns.forEach(o=>{const a=this.metadataArgsStorage.findGenerated(o.target,o.propertyName);a&&(o.isGenerated=!0,o.generationStrategy=a.strategy,a.strategy==="uuid"?o.type="uuid":a.strategy==="rowid"?o.type="int":o.type=o.type||Number,o.build(this.connection),this.computeEntityMetadataStep2(s))})}),r}createEntityMetadata(e){const t=typeof e.target=="function"?Du.getInheritanceTree(e.target):[e.target],i=this.metadataArgsStorage.findInheritanceType(e.target),r=this.metadataArgsStorage.findTree(e.target);let s;return(i&&i.pattern==="STI"||e.type==="entity-child")&&(s=this.metadataArgsStorage.filterSingleTableChildren(e.target).map(o=>o.target).filter(o=>typeof o=="function"),t.push(...s)),new Di({connection:this.connection,args:e,inheritanceTree:t,tableTree:r,inheritancePattern:i?i.pattern:void 0})}computeParentEntityMetadata(e,t){t.tableType==="entity-child"&&(t.parentEntityMetadata=e.find(i=>i.inheritanceTree.indexOf(t.target)!==-1&&i.inheritancePattern==="STI"))}computeEntityMetadataStep1(e,t){const i=this.metadataArgsStorage.findInheritanceType(t.target),r=this.metadataArgsStorage.findDiscriminatorValue(t.target);if(typeof r<"u"?t.discriminatorValue=r.value:t.discriminatorValue=t.target.name,t.embeddeds=this.createEmbeddedsRecursively(t,this.metadataArgsStorage.filterEmbeddeds(t.inheritanceTree)).map(o=>(t.inheritancePattern==="STI"&&(o.columns=o.columns.map(a=>(a.isNullable=!0,a))),o)),t.ownColumns=this.metadataArgsStorage.filterColumns(t.inheritanceTree).map(o=>{if(t.tableType==="entity-child")return t.parentEntityMetadata.ownColumns.find(c=>c.propertyName===o.propertyName);const a=new si({connection:this.connection,entityMetadata:t,args:o});return e.find(c=>c.tableType==="entity-child"&&c.target===o.target)&&(a.isNullable=!0),a}),i&&i.column){const o=i.column&&i.column.name?i.column.name:"type";let a=t.ownColumns.find(l=>l.propertyName===o);a?a.isDiscriminator=!0:(a=new si({connection:this.connection,entityMetadata:t,args:{target:t.target,mode:"virtual",propertyName:o,options:i.column||{name:o,type:"varchar",nullable:!1}}}),a.isVirtual=!0,a.isDiscriminator=!0,t.ownColumns.push(a))}if(t.tableType==="entity-child"){const o=t.parentEntityMetadata.ownColumns.find(a=>a.isDiscriminator);o&&!t.ownColumns.find(a=>a===o)&&t.ownColumns.push(o),t.inheritancePattern=t.parentEntityMetadata.inheritancePattern,!t.treeType&&t.parentEntityMetadata.treeType&&(t.treeType=t.parentEntityMetadata.treeType,t.treeOptions=t.parentEntityMetadata.treeOptions,t.treeParentRelation=t.parentEntityMetadata.treeParentRelation,t.treeLevelColumn=t.parentEntityMetadata.treeLevelColumn)}const{namingStrategy:s}=this.connection;if(t.treeType==="materialized-path")t.ownColumns.push(new si({connection:this.connection,entityMetadata:t,materializedPath:!0,args:{target:t.target,mode:"virtual",propertyName:"mpath",options:{name:s.materializedPathColumnName,type:String,nullable:!0,default:""}}}));else if(t.treeType==="nested-set"){const{left:o,right:a}=s.nestedSetColumnNames;t.ownColumns.push(new si({connection:this.connection,entityMetadata:t,nestedSetLeft:!0,args:{target:t.target,mode:"virtual",propertyName:o,options:{name:o,type:Number,nullable:!1,default:1}}})),t.ownColumns.push(new si({connection:this.connection,entityMetadata:t,nestedSetRight:!0,args:{target:t.target,mode:"virtual",propertyName:a,options:{name:a,type:Number,nullable:!1,default:2}}}))}if(t.ownRelations=this.metadataArgsStorage.filterRelations(t.inheritanceTree).map(o=>{if(t.tableType==="entity-child"){const a=t.parentEntityMetadata.ownRelations.find(c=>c.propertyName===o.propertyName),l=typeof o.type=="function"?o.type():o.type;if(a.type!==l){const c=Object.create(a);return c.type=l,c}return a}return new Fw({entityMetadata:t,args:o})}),t.relationIds=this.metadataArgsStorage.filterRelationIds(t.inheritanceTree).map(o=>t.tableType==="entity-child"?t.parentEntityMetadata.relationIds.find(a=>a.propertyName===o.propertyName):new Uw({entityMetadata:t,args:o})),t.relationCounts=this.metadataArgsStorage.filterRelationCounts(t.inheritanceTree).map(o=>t.tableType==="entity-child"?t.parentEntityMetadata.relationCounts.find(a=>a.propertyName===o.propertyName):new jw({entityMetadata:t,args:o})),t.ownListeners=this.metadataArgsStorage.filterListeners(t.inheritanceTree).map(o=>new zw({entityMetadata:t,args:o})),t.checks=this.metadataArgsStorage.filterChecks(t.inheritanceTree).map(o=>new L6({entityMetadata:t,args:o})),this.connection.driver.options.type==="postgres"&&(t.exclusions=this.metadataArgsStorage.filterExclusions(t.inheritanceTree).map(o=>new D6({entityMetadata:t,args:o}))),this.connection.driver.options.type==="cockroachdb"){t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter(a=>!a.unique).map(a=>new Si({entityMetadata:t,args:a}));const o=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter(a=>a.unique).map(a=>new Bu({entityMetadata:t,args:{target:a.target,name:a.name,columns:a.columns}}));t.ownUniques.push(...o)}else t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).map(o=>new Si({entityMetadata:t,args:o}));if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){const o=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map(a=>new Si({entityMetadata:t,args:{target:a.target,name:a.name,columns:a.columns,unique:!0,synchronize:!0}}));t.ownIndices.push(...o)}else{const o=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map(a=>new Bu({entityMetadata:t,args:a}));t.ownUniques.push(...o)}}createEmbeddedsRecursively(e,t){return t.map(i=>{const r=new M6({entityMetadata:e,args:i}),s=typeof r.type=="function"?Du.getInheritanceTree(r.type):[r.type];return r.columns=this.metadataArgsStorage.filterColumns(s).map(o=>new si({connection:this.connection,entityMetadata:e,embeddedMetadata:r,args:o})),r.relations=this.metadataArgsStorage.filterRelations(s).map(o=>new Fw({entityMetadata:e,embeddedMetadata:r,args:o})),r.listeners=this.metadataArgsStorage.filterListeners(s).map(o=>new zw({entityMetadata:e,embeddedMetadata:r,args:o})),r.indices=this.metadataArgsStorage.filterIndices(s).map(o=>new Si({entityMetadata:e,embeddedMetadata:r,args:o})),r.uniques=this.metadataArgsStorage.filterUniques(s).map(o=>new Bu({entityMetadata:e,embeddedMetadata:r,args:o})),r.relationIds=this.metadataArgsStorage.filterRelationIds(s).map(o=>new Uw({entityMetadata:e,args:o})),r.relationCounts=this.metadataArgsStorage.filterRelationCounts(s).map(o=>new jw({entityMetadata:e,args:o})),r.embeddeds=this.createEmbeddedsRecursively(e,this.metadataArgsStorage.filterEmbeddeds(s)),r.embeddeds.forEach(o=>o.parentEmbeddedMetadata=r),e.allEmbeddeds.push(r),r})}computeEntityMetadataStep2(e){e.embeddeds.forEach(t=>t.build(this.connection)),e.embeddeds.forEach(t=>{t.columnsFromTree.forEach(i=>i.build(this.connection)),t.relationsFromTree.forEach(i=>i.build())}),e.ownColumns.forEach(t=>t.build(this.connection)),e.ownRelations.forEach(t=>t.build()),e.relations=e.embeddeds.reduce((t,i)=>t.concat(i.relationsFromTree),e.ownRelations),e.eagerRelations=e.relations.filter(t=>t.isEager),e.lazyRelations=e.relations.filter(t=>t.isLazy),e.oneToOneRelations=e.relations.filter(t=>t.isOneToOne),e.oneToManyRelations=e.relations.filter(t=>t.isOneToMany),e.manyToOneRelations=e.relations.filter(t=>t.isManyToOne),e.manyToManyRelations=e.relations.filter(t=>t.isManyToMany),e.ownerOneToOneRelations=e.relations.filter(t=>t.isOneToOneOwner),e.ownerManyToManyRelations=e.relations.filter(t=>t.isManyToManyOwner),e.treeParentRelation=e.relations.find(t=>t.isTreeParent),e.treeChildrenRelation=e.relations.find(t=>t.isTreeChildren),e.columns=e.embeddeds.reduce((t,i)=>t.concat(i.columnsFromTree),e.ownColumns),e.listeners=e.embeddeds.reduce((t,i)=>t.concat(i.listenersFromTree),e.ownListeners),e.afterLoadListeners=e.listeners.filter(t=>t.type===Tt.AFTER_LOAD),e.afterInsertListeners=e.listeners.filter(t=>t.type===Tt.AFTER_INSERT),e.afterUpdateListeners=e.listeners.filter(t=>t.type===Tt.AFTER_UPDATE),e.afterRemoveListeners=e.listeners.filter(t=>t.type===Tt.AFTER_REMOVE),e.afterSoftRemoveListeners=e.listeners.filter(t=>t.type===Tt.AFTER_SOFT_REMOVE),e.afterRecoverListeners=e.listeners.filter(t=>t.type===Tt.AFTER_RECOVER),e.beforeInsertListeners=e.listeners.filter(t=>t.type===Tt.BEFORE_INSERT),e.beforeUpdateListeners=e.listeners.filter(t=>t.type===Tt.BEFORE_UPDATE),e.beforeRemoveListeners=e.listeners.filter(t=>t.type===Tt.BEFORE_REMOVE),e.beforeSoftRemoveListeners=e.listeners.filter(t=>t.type===Tt.BEFORE_SOFT_REMOVE),e.beforeRecoverListeners=e.listeners.filter(t=>t.type===Tt.BEFORE_RECOVER),e.indices=e.embeddeds.reduce((t,i)=>t.concat(i.indicesFromTree),e.ownIndices),e.uniques=e.embeddeds.reduce((t,i)=>t.concat(i.uniquesFromTree),e.ownUniques),e.primaryColumns=e.columns.filter(t=>t.isPrimary),e.nonVirtualColumns=e.columns.filter(t=>!t.isVirtual),e.ancestorColumns=e.columns.filter(t=>t.closureType==="ancestor"),e.descendantColumns=e.columns.filter(t=>t.closureType==="descendant"),e.hasMultiplePrimaryKeys=e.primaryColumns.length>1,e.generatedColumns=e.columns.filter(t=>t.isGenerated||t.isObjectId),e.hasUUIDGeneratedColumns=e.columns.filter(t=>t.isGenerated||t.generationStrategy==="uuid").length>0,e.createDateColumn=e.columns.find(t=>t.isCreateDate),e.updateDateColumn=e.columns.find(t=>t.isUpdateDate),e.deleteDateColumn=e.columns.find(t=>t.isDeleteDate),e.versionColumn=e.columns.find(t=>t.isVersion),e.discriminatorColumn=e.columns.find(t=>t.isDiscriminator),e.treeLevelColumn=e.columns.find(t=>t.isTreeLevel),e.nestedSetLeftColumn=e.columns.find(t=>t.isNestedSetLeft),e.nestedSetRightColumn=e.columns.find(t=>t.isNestedSetRight),e.materializedPathColumn=e.columns.find(t=>t.isMaterializedPath),e.objectIdColumn=e.columns.find(t=>t.isObjectId),e.foreignKeys.forEach(t=>t.build(this.connection.namingStrategy)),e.propertiesMap=e.createPropertiesMap(),e.relationIds.forEach(t=>t.build()),e.relationCounts.forEach(t=>t.build()),e.embeddeds.forEach(t=>{t.relationIdsFromTree.forEach(i=>i.build()),t.relationCountsFromTree.forEach(i=>i.build())})}computeInverseProperties(e,t){e.relations.forEach(i=>{const r=t.find(s=>s.target===i.type||typeof i.type=="string"&&(s.targetName===i.type||s.givenTableName===i.type));if(!r)throw new q("Entity metadata for "+e.name+"#"+i.propertyPath+" was not found. Check if you specified a correct entity object and if it's connected in the connection options.");i.inverseEntityMetadata=r,i.inverseSidePropertyPath=i.buildInverseSidePropertyPath(),i.inverseRelation=r.relations.find(s=>s.propertyPath===i.inverseSidePropertyPath)})}createKeysForTableInheritance(e){e.indices.push(new Si({entityMetadata:e,columns:[e.discriminatorColumn],args:{target:e.target,unique:!1}}))}}class Od extends q{static createEntitySchemaIsRequiredException(e){return new Od("EntitySchema is required for ".concat(e," embedded field"))}static createTargetIsRequired(e){return new Od("Target field is required for ".concat(e," embedded EntitySchema"))}constructor(e){super(e)}}class q6{transform(e){const t=new iC;return e.forEach(i=>{var r;const s=i.options,o={target:s.target||s.name,name:s.tableName,database:s.database,schema:s.schema,type:s.type||"regular",orderBy:s.orderBy,synchronize:s.synchronize,withoutRowid:!!s.withoutRowid,expression:s.expression};t.tables.push(o);const{inheritance:a}=s;a&&t.inheritances.push({target:s.target,pattern:(r=a.pattern)!==null&&r!==void 0?r:"STI",column:a.column?typeof a.column=="string"?{name:a.column}:a.column:void 0}),this.transformColumnsRecursive(s,t)}),t}transformColumnsRecursive(e,t){Object.keys(e.columns).forEach(i=>{const s=e.columns[i];let o="regular";s.createDate&&(o="createDate"),s.updateDate&&(o="updateDate"),s.deleteDate&&(o="deleteDate"),s.version&&(o="version"),s.treeChildrenCount&&(o="treeChildrenCount"),s.treeLevel&&(o="treeLevel"),s.objectId&&(o="objectId");const a={target:e.target||e.name,mode:o,propertyName:i,options:{type:s.type,name:s.objectId?"_id":s.name,primaryKeyConstraintName:s.primaryKeyConstraintName,length:s.length,width:s.width,nullable:s.nullable,readonly:s.readonly,update:s.update,select:s.select,insert:s.insert,primary:s.primary,unique:s.unique,comment:s.comment,default:s.default,onUpdate:s.onUpdate,precision:s.precision,scale:s.scale,zerofill:s.zerofill,unsigned:s.unsigned,charset:s.charset,collation:s.collation,enum:s.enum,enumName:s.enumName,asExpression:s.asExpression,generatedType:s.generatedType,hstoreType:s.hstoreType,array:s.array,transformer:s.transformer,spatialFeatureType:s.spatialFeatureType,srid:s.srid}};if(t.columns.push(a),s.generated){const l={target:e.target||e.name,propertyName:i,strategy:typeof s.generated=="string"?s.generated:"increment"};t.generations.push(l)}s.unique&&t.uniques.push({target:e.target||e.name,columns:[i]})}),e.relations&&Object.keys(e.relations).forEach(i=>{const r=e.relations[i],s={target:e.target||e.name,propertyName:i,relationType:r.type,isLazy:r.lazy||!1,type:r.target,inverseSideProperty:r.inverseSide,isTreeParent:r.treeParent,isTreeChildren:r.treeChildren,options:{eager:r.eager||!1,cascade:r.cascade,nullable:r.nullable,onDelete:r.onDelete,onUpdate:r.onUpdate,deferrable:r.deferrable,createForeignKeyConstraints:r.createForeignKeyConstraints,persistence:r.persistence,orphanedRowAction:r.orphanedRowAction}};if(t.relations.push(s),r.joinColumn)if(typeof r.joinColumn=="boolean"){const o={target:e.target||e.name,propertyName:i};t.joinColumns.push(o)}else{const o=Array.isArray(r.joinColumn)?r.joinColumn:[r.joinColumn];for(const a of o){const l={target:e.target||e.name,propertyName:i,name:a.name,referencedColumnName:a.referencedColumnName,foreignKeyConstraintName:a.foreignKeyConstraintName};t.joinColumns.push(l)}}if(r.joinTable)if(typeof r.joinTable=="boolean"){const o={target:e.target||e.name,propertyName:i};t.joinTables.push(o)}else{const o={target:e.target||e.name,propertyName:i,name:r.joinTable.name,database:r.joinTable.database,schema:r.joinTable.schema,joinColumns:r.joinTable.joinColumn?[r.joinTable.joinColumn]:r.joinTable.joinColumns,inverseJoinColumns:r.joinTable.inverseJoinColumn?[r.joinTable.inverseJoinColumn]:r.joinTable.inverseJoinColumns};t.joinTables.push(o)}}),e.relationIds&&Object.keys(e.relationIds).forEach(i=>{const r=e.relationIds[i],s={propertyName:i,relation:r.relationName,target:e.target||e.name,alias:r.alias,queryBuilderFactory:r.queryBuilderFactory};t.relationIds.push(s)}),e.indices&&e.indices.forEach(i=>{const r={target:e.target||e.name,name:i.name,unique:i.unique===!0,spatial:i.spatial===!0,fulltext:i.fulltext===!0,nullFiltered:i.nullFiltered===!0,parser:i.parser,synchronize:i.synchronize!==!1,where:i.where,sparse:i.sparse,columns:i.columns};t.indices.push(r)}),e.uniques&&e.uniques.forEach(i=>{const r={target:e.target||e.name,name:i.name,columns:i.columns,deferrable:i.deferrable};t.uniques.push(r)}),e.checks&&e.checks.forEach(i=>{const r={target:e.target||e.name,name:i.name,expression:i.expression};t.checks.push(r)}),e.exclusions&&e.exclusions.forEach(i=>{const r={target:e.target||e.name,name:i.name,expression:i.expression};t.exclusions.push(r)}),e.embeddeds&&Object.keys(e.embeddeds).forEach(i=>{const r=e.embeddeds[i];if(!r.schema)throw Od.createEntitySchemaIsRequiredException(i);const s=r.schema.options;t.embeddeds.push({target:e.target||e.name,propertyName:i,isArray:r.array===!0,prefix:r.prefix!==void 0?r.prefix:void 0,type:()=>(s==null?void 0:s.target)||s.name}),this.transformColumnsRecursive(s,t)})}}class B6{constructor(e){this.connection=e}async buildMigrations(e){const[t,i]=ve.splitClassesAndStrings(e);return[...t,...await bp(this.connection.logger)].map(s=>Bw(s))}async buildSubscribers(e){const[t,i]=ve.splitClassesAndStrings(e||[]),r=[...t,...await bp(this.connection.logger)];return Ri().filterSubscribers(r).map(s=>Bw(s.target))}async buildEntityMetadatas(e){const[t,i]=ve.splitClassesAndStrings(e||[]),r=t.filter(u=>!V.isEntitySchema(u)),s=t.filter(u=>V.isEntitySchema(u)),o=[...r,...await bp(this.connection.logger)];o.forEach(u=>{V.isEntitySchema(u)&&s.push(u)});const a=new Vw(this.connection,Ri()).build(o),l=new q6().transform(s),c=new Vw(this.connection,l).build();return[...a,...c]}}class F6{constructor(e,t,i,r,s){this.expressionMap=e,this.driver=t,this.rawRelationIdResults=i,this.rawRelationCountResults=r,this.queryRunner=s}transform(e,t){const i=this.group(e,t),r=[];return i.forEach(s=>{const o=this.transformRawResultsGroup(s,t);o!==void 0&&!Object.values(o).every(a=>a===null)&&r.push(o)}),r}group(e,t){const i=new Map,r=[];return t.metadata.tableType==="view"?r.push(...t.metadata.columns.map(s=>me.buildAlias(this.driver,void 0,t.name,s.databaseName))):r.push(...t.metadata.primaryColumns.map(s=>me.buildAlias(this.driver,void 0,t.name,s.databaseName))),e.forEach(s=>{const o=r.map(l=>{const c=s[l];return Buffer.isBuffer(c)?c.toString("hex"):Be.isObject(c)?JSON.stringify(c):c}).join("_"),a=i.get(o);a?a.push(s):i.set(o,[s])}),i}transformRawResultsGroup(e,t){let i=t.metadata;if(i.discriminatorColumn){const u=e.map(h=>h[me.buildAlias(this.driver,void 0,t.name,t.metadata.discriminatorColumn.databaseName)]),d=i.childEntityMetadatas.find(h=>typeof u.find(f=>f===h.discriminatorValue)<"u");d&&(i=d)}let r=i.create(this.queryRunner,{fromDeserializer:!0,pojo:this.expressionMap.options.indexOf("create-pojo")!==-1});const s=this.transformColumns(e,t,r,i),o=this.transformJoins(e,r,t,i),a=this.transformRelationIds(e,t,r,i),l=this.transformRelationCounts(e,t,r);if(s||i.primaryColumns.filter(u=>u.isVirtual===!1).length===0&&(o||a||l))return r}transformColumns(e,t,i,r){let s=!1;return r.columns.forEach(o=>{if(r.childEntityMetadatas.length>0&&r.childEntityMetadatas.findIndex(l=>l.target===o.target)!==-1)return;const a=e[0][me.buildAlias(this.driver,void 0,t.name,o.databaseName)];a===void 0||o.isVirtual||this.expressionMap.selects.find(l=>l.selection===t.name||l.selection===t.name+"."+o.propertyPath)&&(o.setEntityValue(i,this.driver.prepareHydratedValue(a,o)),a!==null&&(s=!0))}),s}transformJoins(e,t,i,r){let s=!1;return this.expressionMap.joinAttributes.forEach(o=>{if(!o.metadata||!o.isSelected||o.relation&&!r.relations.find(l=>l===o.relation))return;if(o.mapToProperty){if(o.mapToPropertyParentAlias!==i.name)return}else if(!o.relation||o.parentAlias!==i.name||o.relationPropertyPath!==o.relation.propertyPath)return;let a=this.transform(e,o.alias);a=o.isMany?a:a[0],a=!o.isMany&&a===void 0?null:a,a!==void 0&&(o.mapToPropertyPropertyName?t[o.mapToPropertyPropertyName]=a:o.relation.setEntityValue(t,a),s=!0)}),s}transformRelationIds(e,t,i,r){let s=!1;return this.rawRelationIdResults.forEach((o,a)=>{if(o.relationIdAttribute.parentAlias!==t.name)return;const l=o.relationIdAttribute.relation,c=this.createValueMapFromJoinColumns(l,o.relationIdAttribute.parentAlias,e);if(c==null)return;this.prepareDataForTransformRelationIds();const u=this.hashEntityIds(l,c),d=this.relationIdMaps[a][u]||[],h=o.relationIdAttribute.mapToPropertyPropertyPath.split("."),f=(g,b,C)=>{const x=g.shift();if(x&&g.length===0)return b[x]=C,b;if(x&&g.length>0)f(g,b[x],C);else return b};l.isOneToOne||l.isManyToOne?d[0]!==void 0&&(f(h,i,d[0]),s=!0):(f(h,i,d),s=s||d.length>0)}),s}transformRelationCounts(e,t,i){let r=!1;return this.rawRelationCountResults.filter(s=>s.relationCountAttribute.parentAlias===t.name).forEach(s=>{const o=s.relationCountAttribute.relation;let a;o.isOneToMany?a=o.inverseRelation.joinColumns[0].referencedColumn.databaseName:a=o.isOwning?o.joinColumns[0].referencedColumn.databaseName:o.inverseRelation.joinColumns[0].referencedColumn.databaseName;const l=e[0][me.buildAlias(this.driver,void 0,t.name,a)];l!=null&&(i[s.relationCountAttribute.mapToPropertyPropertyName]=0,s.results.filter(c=>c.parentId===l).forEach(c=>{i[s.relationCountAttribute.mapToPropertyPropertyName]=parseInt(c.cnt),r=!0}))}),r}createValueMapFromJoinColumns(e,t,i){let r;return e.isManyToOne||e.isOneToOneOwner?r=e.entityMetadata.primaryColumns.map(s=>s):e.isOneToMany||e.isOneToOneNotOwner?r=e.inverseRelation.joinColumns.map(s=>s):e.isOwning?r=e.joinColumns.map(s=>s):r=e.inverseRelation.inverseJoinColumns.map(s=>s),r.reduce((s,o)=>(i.forEach(a=>{e.isManyToOne||e.isOneToOneOwner?s[o.databaseName]=this.driver.prepareHydratedValue(a[me.buildAlias(this.driver,void 0,t,o.databaseName)],o):s[o.databaseName]=this.driver.prepareHydratedValue(a[me.buildAlias(this.driver,void 0,t,o.referencedColumn.databaseName)],o.referencedColumn)}),s),{})}extractEntityPrimaryIds(e,t){let i;return e.isManyToOne||e.isOneToOneOwner?i=e.entityMetadata.primaryColumns.map(r=>r):e.isOneToMany||e.isOneToOneNotOwner?i=e.inverseRelation.joinColumns.map(r=>r):e.isOwning?i=e.joinColumns.map(r=>r):i=e.inverseRelation.inverseJoinColumns.map(r=>r),i.reduce((r,s)=>(r[s.databaseName]=t[s.databaseName],r),{})}prepareDataForTransformRelationIds(){this.relationIdMaps||(this.relationIdMaps=this.rawRelationIdResults.map(e=>{const t=e.relationIdAttribute.relation;let i;return t.isManyToOne||t.isOneToOneOwner?i=t.joinColumns:t.isOneToMany||t.isOneToOneNotOwner?i=t.inverseEntityMetadata.primaryColumns:t.isOwning?i=t.inverseJoinColumns:i=t.inverseRelation.joinColumns,e.results.reduce((r,s)=>{let o=i.reduce((a,l)=>{let c=s[l.databaseName];return t.isOneToMany||t.isOneToOneNotOwner?(l.isVirtual&&l.referencedColumn&&l.referencedColumn.propertyName!==l.propertyName&&(c=l.referencedColumn.createValueMap(c)),ve.mergeDeep(a,l.createValueMap(c))):(!l.isPrimary&&l.referencedColumn.referencedColumn&&(c=l.referencedColumn.referencedColumn.createValueMap(c)),ve.mergeDeep(a,l.referencedColumn.createValueMap(c)))},{});if(i.length===1&&!e.relationIdAttribute.disableMixedMap&&(t.isOneToMany||t.isOneToOneNotOwner?o=i[0].getEntityValue(o):o=i[0].referencedColumn.getEntityValue(o)),o!==void 0){const a=this.hashEntityIds(t,s);r[a]?r[a].push(o):r[a]=[o]}return r},{})}))}hashEntityIds(e,t){const i=this.extractEntityPrimaryIds(e,t);return JSON.stringify(i)}}class Yi{static isAliasProperty(e){if(typeof e!="string"||e.indexOf(".")===-1)return!1;const[t,i]=e.split(".");return!(!t||!i||e.indexOf("(")!==-1||e.indexOf(")")!==-1)}}class SC{constructor(e,t,i){this.connection=e,this.queryExpressionMap=t,this.isSelectedEvaluated=!1,this.relationEvaluated=!1,i&&Be.assign(this,i)}get isMany(){return this.isMappingMany!==void 0?this.isMappingMany:this.relation?this.relation.isManyToMany||this.relation.isOneToMany:!1}get isSelected(){if(!this.isSelectedEvaluated){let e=()=>{for(const t of this.queryExpressionMap.selects)if(t.selection===this.alias.name||this.metadata&&this.metadata.columns.find(i=>t.selection===this.alias.name+"."+i.propertyPath))return!0;return!1};this.isSelectedCache=e(),this.isSelectedEvaluated=!0}return this.isSelectedCache}get tablePath(){return this.metadata?this.metadata.tablePath:this.entityOrProperty}get parentAlias(){if(Yi.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."))}get relationPropertyPath(){if(Yi.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(this.entityOrProperty.indexOf(".")+1)}get relation(){if(!this.relationEvaluated){let e=()=>{if(!Yi.isAliasProperty(this.entityOrProperty))return;const t=this.queryExpressionMap.findAliasByName(this.parentAlias);let i=t.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(i||t.metadata.parentEntityMetadata&&(i=t.metadata.parentEntityMetadata.findRelationWithPropertyPath(this.relationPropertyPath),i))return i;throw new q("Relation with property path ".concat(this.relationPropertyPath," in entity was not found."))};this.relationCache=e.bind(this)(),this.relationEvaluated=!0}return this.relationCache}get metadata(){if(this.relation)return this.relation.inverseEntityMetadata;if(this.connection.hasMetadata(this.entityOrProperty))return this.connection.getMetadata(this.entityOrProperty);if(this.mapAsEntity&&this.connection.hasMetadata(this.mapAsEntity))return this.connection.getMetadata(this.mapAsEntity)}get junctionAlias(){if(!this.relation)throw new q("Cannot get junction table for join without relation.");if(typeof this.entityOrProperty!="string")throw new q("Junction property is not defined.");const e=this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."));return this.relation.isOwning?me.buildAlias(this.connection.driver,void 0,e,this.alias.name):me.buildAlias(this.connection.driver,void 0,this.alias.name,e)}get mapToPropertyParentAlias(){if(this.mapToProperty)return this.mapToProperty.split(".")[0]}get mapToPropertyPropertyName(){if(this.mapToProperty)return this.mapToProperty.split(".")[1]}}class Wy{constructor(e,t){this.queryExpressionMap=e,this.disableMixedMap=!1,Be.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!Yi.isAliasProperty(this.relationName))throw new q("Given value must be a string representation of alias property");return this.relationName.substr(0,this.relationName.indexOf("."))}get relationPropertyPath(){if(!Yi.isAliasProperty(this.relationName))throw new q("Given value must be a string representation of alias property");return this.relationName.substr(this.relationName.indexOf(".")+1)}get relation(){if(!Yi.isAliasProperty(this.relationName))throw new q("Given value must be a string representation of alias property");const t=this.queryExpressionMap.findAliasByName(this.parentAlias).metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!t)throw new q("Relation with property path ".concat(this.relationPropertyPath," in entity was not found."));return t}get junctionAlias(){const[e,t]=this.relationName.split(".");return e+"_"+t+"_rid"}get junctionMetadata(){return this.relation.junctionEntityMetadata}get mapToPropertyParentAlias(){return this.mapToProperty.substr(0,this.mapToProperty.indexOf("."))}get mapToPropertyPropertyPath(){return this.mapToProperty.substr(this.mapToProperty.indexOf(".")+1)}}class Qy{constructor(e,t){this.expressionMap=e,Be.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!Yi.isAliasProperty(this.relationName))throw new q("Given value must be a string representation of alias property");return this.relationName.split(".")[0]}get relationProperty(){if(!Yi.isAliasProperty(this.relationName))throw new q("Given value is a string representation of alias property");return this.relationName.split(".")[1]}get junctionAlias(){const[e,t]=this.relationName.split(".");return e+"_"+t+"_rc"}get relation(){if(!Yi.isAliasProperty(this.relationName))throw new q("Given value is a string representation of alias property");const[e,t]=this.relationName.split("."),r=this.expressionMap.findAliasByName(e).metadata.findRelationWithPropertyPath(t);if(!r)throw new q("Relation with property path ".concat(t," in entity was not found."));return r}get metadata(){if(!Yi.isAliasProperty(this.relationName))throw new q("Given value is a string representation of alias property");const e=this.relationName.split(".")[0];return this.expressionMap.findAliasByName(e).metadata}get mapToPropertyPropertyName(){return this.mapToProperty.split(".")[1]}}let U6=class{constructor(e,t,i){this.connection=e,this.queryRunner=t,this.relationIdAttributes=i}async load(e){const t=this.relationIdAttributes.map(async i=>{if(i.relation.isManyToOne||i.relation.isOneToOneOwner){if(i.queryBuilderFactory)throw new q("Additional condition can not be used with ManyToOne or OneToOne owner relations.");const r={},s=e.map(o=>{const a={},l=[];i.relation.joinColumns.forEach(u=>{a[u.databaseName]=this.connection.driver.prepareHydratedValue(o[me.buildAlias(this.connection.driver,void 0,i.parentAlias,u.databaseName)],u.referencedColumn);const d="".concat(u.databaseName,":").concat(a[u.databaseName]);l.indexOf(d)===-1&&l.push(d)}),i.relation.entityMetadata.primaryColumns.forEach(u=>{a[u.databaseName]=this.connection.driver.prepareHydratedValue(o[me.buildAlias(this.connection.driver,void 0,i.parentAlias,u.databaseName)],u);const d="".concat(u.databaseName,":").concat(a[u.databaseName]);l.indexOf(d)===-1&&l.push(d)}),l.sort();const c=l.join("::");return r[c]?null:(r[c]=!0,a)}).filter(o=>o);return{relationIdAttribute:i,results:s}}else if(i.relation.isOneToMany||i.relation.isOneToOneNotOwner){const r=i.relation,s=r.isOwning?r.joinColumns:r.inverseRelation.joinColumns,o=r.inverseEntityMetadata.target,a=r.inverseEntityMetadata.tableName,l=i.alias||a,c={},u={},d=e.map((b,C)=>{const x=[],y={},E=s.map(I=>{const B=I.databaseName+C,O=b[me.buildAlias(this.connection.driver,void 0,i.parentAlias,I.referencedColumn.databaseName)],$="".concat(l,":").concat(I.propertyPath,":").concat(O);return x.indexOf($)!==-1?"":(x.push($),y[B]=O,l+"."+I.propertyPath+" = :"+B)}).filter(I=>I).join(" AND ");x.sort();const N=x.join("::");return c[N]?"":(c[N]=!0,Object.assign(u,y),E)}).filter(b=>b).map(b=>"("+b+")").join(" OR ");if(!d)return{relationIdAttribute:i,results:[]};const h=this.connection.createQueryBuilder(this.queryRunner);ve.uniq([...s,...r.inverseRelation.entityMetadata.primaryColumns],b=>b.propertyPath).forEach(b=>{h.addSelect(l+"."+b.propertyPath,b.databaseName)}),h.from(o,l).where("("+d+")").setParameters(u),i.queryBuilderFactory&&i.queryBuilderFactory(h);const g=await h.getRawMany();return g.forEach(b=>{s.forEach(C=>{b[C.databaseName]=this.connection.driver.prepareHydratedValue(b[C.databaseName],C.referencedColumn)}),r.inverseRelation.entityMetadata.primaryColumns.forEach(C=>{b[C.databaseName]=this.connection.driver.prepareHydratedValue(b[C.databaseName],C)})}),{relationIdAttribute:i,results:g}}else{const r=i.relation,s=r.isOwning?r.joinColumns:r.inverseRelation.inverseJoinColumns,o=r.isOwning?r.inverseJoinColumns:r.inverseRelation.joinColumns,a=i.junctionAlias,l=i.joinInverseSideMetadata.tableName,c=i.alias||l,u=r.isOwning?r.junctionEntityMetadata.tableName:r.inverseRelation.junctionEntityMetadata.tableName,d=e.map(E=>s.reduce((N,I)=>(N[I.propertyPath]=E[me.buildAlias(this.connection.driver,void 0,i.parentAlias,I.referencedColumn.databaseName)],N),{}));if(d.length===0)return{relationIdAttribute:i,results:[]};const h={},f={},g=d.map((E,N)=>{const I=[],B={},O=Object.keys(E).map(R=>{const H=R+N,A=E[R],U="".concat(a,":").concat(R,":").concat(A);return I.indexOf(U)!==-1?"":(I.push(U),B[H]=A,a+"."+R+" = :"+H)}).filter(R=>R).join(" AND ");I.sort();const $=I.join("::");return f[$]?"":(f[$]=!0,Object.assign(h,B),O)}).filter(E=>E),b=o.map(E=>a+"."+E.propertyPath+" = "+c+"."+E.referencedColumn.propertyPath).join(" AND "),C=g.map(E=>"("+E+" AND "+b+")").join(" OR "),x=this.connection.createQueryBuilder(this.queryRunner);o.forEach(E=>{x.addSelect(a+"."+E.propertyPath,E.databaseName).addOrderBy(a+"."+E.propertyPath)}),s.forEach(E=>{x.addSelect(a+"."+E.propertyPath,E.databaseName).addOrderBy(a+"."+E.propertyPath)}),x.from(l,c).innerJoin(u,a,C).setParameters(h),i.queryBuilderFactory&&i.queryBuilderFactory(x);const y=await x.getRawMany();return y.forEach(E=>{[...s,...o].forEach(N=>{E[N.databaseName]=this.connection.driver.prepareHydratedValue(E[N.databaseName],N.referencedColumn)})}),{relationIdAttribute:i,results:y}}});return Promise.all(t)}};class CC{constructor(e,t){this.connection=e,this.queryRunner=t}load(e,t,i){const r=Array.isArray(t)?t:[t],s=Array.isArray(i)?i:i?[i]:void 0;return e.isManyToMany?this.loadForManyToMany(e,r,s):e.isManyToOne||e.isOneToOneOwner?this.loadForManyToOneAndOneToOneOwner(e,r,s):this.loadForOneToManyAndOneToOneNotOwner(e,r,s)}async loadManyToManyRelationIdsAndGroup(e,t,i,r){const s=e.isManyToMany||e.isOneToMany,o=Array.isArray(t)?t:[t];if(!i&&(i=await this.connection.relationLoader.load(e,t,this.queryRunner,r),!i.length))return o.map(d=>({entity:d,related:s?[]:void 0}));const a=await this.load(e,t,i),l=Array.isArray(i)?i:[i];let c=[],u=[];return e.isManyToManyOwner?(c=e.junctionEntityMetadata.inverseColumns.map(d=>d.referencedColumn),u=e.junctionEntityMetadata.ownerColumns.map(d=>d.referencedColumn)):e.isManyToManyNotOwner?(c=e.junctionEntityMetadata.ownerColumns.map(d=>d.referencedColumn),u=e.junctionEntityMetadata.inverseColumns.map(d=>d.referencedColumn)):e.isManyToOne||e.isOneToOneOwner?(c=e.joinColumns.map(d=>d.referencedColumn),u=e.entityMetadata.primaryColumns):(e.isOneToMany||e.isOneToOneNotOwner)&&(c=e.inverseRelation.entityMetadata.primaryColumns,u=e.inverseRelation.joinColumns.map(d=>d.referencedColumn)),o.map(d=>{const h={entity:d,related:s?[]:void 0},f=a.filter(g=>u.every(b=>b.compareEntityValue(d,g[b.entityMetadata.name+"_"+b.propertyAliasName])));return f.length&&l.forEach(g=>{f.forEach(b=>{c.every(x=>x.compareEntityValue(g,b[me.buildAlias(this.connection.driver,void 0,x.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+x.propertyPath.replace(".","_"))]))&&(s?h.related.push(g):h.related=g)})}),h})}loadForManyToMany(e,t,i){const r=e.junctionEntityMetadata,s=r.name,o=e.isOwning?r.ownerColumns:r.inverseColumns,a=e.isOwning?r.inverseColumns:r.ownerColumns,l=this.connection.createQueryBuilder(this.queryRunner);o.forEach(h=>{const f=me.buildAlias(this.connection.driver,void 0,h.referencedColumn.entityMetadata.name+"_"+h.referencedColumn.propertyPath.replace(".","_"));l.addSelect(s+"."+h.propertyPath,f)}),a.forEach(h=>{const f=me.buildAlias(this.connection.driver,void 0,h.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+h.referencedColumn.propertyPath.replace(".","_"));l.addSelect(s+"."+h.propertyPath,f)});let c="";if(o.length===1){const h=t.map(g=>o[0].referencedColumn.getEntityValue(g));h.every(g=>typeof g=="number")?c="".concat(s,".").concat(o[0].propertyPath," IN (").concat(h.join(", "),")"):(l.setParameter("values1",h),c=s+"."+o[0].propertyPath+" IN (:...values1)")}else c="("+t.map((h,f)=>o.map(g=>{const b="entity1_"+f+"_"+g.propertyName;return l.setParameter(b,g.referencedColumn.getEntityValue(h)),s+"."+g.propertyPath+" = :"+b}).join(" AND ")).map(h=>"("+h+")").join(" OR ")+")";let u="";if(i)if(a.length===1){const h=i.map(g=>a[0].referencedColumn.getEntityValue(g));h.every(g=>typeof g=="number")?u="".concat(s,".").concat(a[0].propertyPath," IN (").concat(h.join(", "),")"):(l.setParameter("values2",h),u=s+"."+a[0].propertyPath+" IN (:...values2)")}else u="("+i.map((h,f)=>a.map(g=>{const b="entity2_"+f+"_"+g.propertyName;return l.setParameter(b,g.referencedColumn.getEntityValue(h)),s+"."+g.propertyPath+" = :"+b}).join(" AND ")).map(h=>"("+h+")").join(" OR ")+")";const d=[c,u].filter(h=>h.length>0).join(" AND ");return l.from(r.target,s).where(d).getRawMany()}loadForManyToOneAndOneToOneOwner(e,t,i){const r=e.entityMetadata.targetName,s=e.joinColumns.every(l=>!!e.entityMetadata.nonVirtualColumns.find(c=>c===l));if(i&&s){let l=[];if(t.forEach(c=>{let u={};e.entityMetadata.primaryColumns.forEach(d=>{const h=d.entityMetadata.name+"_"+d.propertyPath.replace(".","_");u[h]=d.getEntityValue(c)}),i.forEach(d=>{e.joinColumns.forEach(h=>{const f=h.getEntityValue(c),g=h.referencedColumn.getEntityValue(d);if(!(f===void 0||g===void 0)&&f===g){const b=h.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+h.referencedColumn.propertyPath.replace(".","_");u[b]=g}})}),Object.keys(u).length===e.entityMetadata.primaryColumns.length+e.joinColumns.length&&l.push(u)}),l.length===t.length)return Promise.resolve(l)}const o=this.connection.createQueryBuilder(this.queryRunner);e.entityMetadata.primaryColumns.forEach(l=>{const c=me.buildAlias(this.connection.driver,void 0,l.entityMetadata.name+"_"+l.propertyPath.replace(".","_"));o.addSelect(r+"."+l.propertyPath,c)}),e.joinColumns.forEach(l=>{const c=me.buildAlias(this.connection.driver,void 0,l.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+l.referencedColumn.propertyPath.replace(".","_"));o.addSelect(r+"."+l.propertyPath,c)});let a="";if(e.entityMetadata.primaryColumns.length===1){const l=t.map(u=>e.entityMetadata.primaryColumns[0].getEntityValue(u));l.every(u=>typeof u=="number")?a="".concat(r,".").concat(e.entityMetadata.primaryColumns[0].propertyPath," IN (").concat(l.join(", "),")"):(o.setParameter("values",l),a=r+"."+e.entityMetadata.primaryColumns[0].propertyPath+" IN (:...values)")}else a=t.map((l,c)=>e.entityMetadata.primaryColumns.map((u,d)=>{const h="entity"+c+"_"+d;return o.setParameter(h,u.getEntityValue(l)),r+"."+u.propertyPath+" = :"+h}).join(" AND ")).map(l=>"("+l+")").join(" OR ");return o.from(e.entityMetadata.target,r).where(a).getRawMany()}loadForOneToManyAndOneToOneNotOwner(e,t,i){if(e=e.inverseRelation,e.entityMetadata.primaryColumns.length===e.joinColumns.length&&e.entityMetadata.primaryColumns.every(l=>e.joinColumns.indexOf(l)!==-1))return Promise.resolve(t.map(l=>{const c={};return e.joinColumns.forEach(function(u){const d=u.referencedColumn.getEntityValue(l),h=u.referencedColumn.entityMetadata.name+"_"+u.referencedColumn.propertyPath.replace(".","_"),f=u.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+u.propertyPath.replace(".","_");c[h]=d,c[f]=d}),c}));const r=e.entityMetadata.targetName,s=this.connection.createQueryBuilder(this.queryRunner);e.entityMetadata.primaryColumns.forEach(a=>{const l=me.buildAlias(this.connection.driver,void 0,a.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+a.propertyPath.replace(".","_"));s.addSelect(r+"."+a.propertyPath,l)}),e.joinColumns.forEach(a=>{const l=me.buildAlias(this.connection.driver,void 0,a.referencedColumn.entityMetadata.name+"_"+a.referencedColumn.propertyPath.replace(".","_"));s.addSelect(r+"."+a.propertyPath,l)});let o="";if(e.joinColumns.length===1){const a=t.map(c=>e.joinColumns[0].referencedColumn.getEntityValue(c));a.every(c=>typeof c=="number")?o="".concat(r,".").concat(e.joinColumns[0].propertyPath," IN (").concat(a.join(", "),")"):(s.setParameter("values",a),o=r+"."+e.joinColumns[0].propertyPath+" IN (:...values)")}else o=t.map((a,l)=>e.joinColumns.map((c,u)=>{const d="entity"+l+"_"+u;return s.setParameter(d,c.referencedColumn.getEntityValue(a)),r+"."+c.propertyPath+" = :"+d}).join(" AND ")).map(a=>"("+a+")").join(" OR ");return s.from(e.entityMetadata.target,r).where(o).getRawMany()}}class j6{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationIds.forEach(e=>{const t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationIdAttributes.push(t)}),this.expressionMap.joinAttributes.forEach(e=>{!e.metadata||e.metadata.isJunction||e.metadata.relationIds.forEach(t=>{const i=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationIdAttributes.push(i)})})}metadataToAttribute(e,t){return new Wy(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}}class z6{constructor(e,t,i){this.connection=e,this.queryRunner=t,this.relationCountAttributes=i}async load(e){const t=(r,s,o)=>o.indexOf(r)===s,i=this.relationCountAttributes.map(async r=>{if(r.relation.isOneToMany){const s=r.relation,o=s.inverseRelation,a=o.joinColumns[0].referencedColumn.propertyName,l=s.inverseEntityMetadata.target,c=s.inverseEntityMetadata.tableName,u=r.alias||c,d=o.propertyName;let h=e.map(g=>g[r.parentAlias+"_"+a]).filter(g=>!!g);if(h=h.filter(t),h.length===0)return{relationCountAttribute:r,results:[]};const f=this.connection.createQueryBuilder(this.queryRunner);return f.select(u+"."+d,"parentId").addSelect("COUNT(*)","cnt").from(l,u).where(u+"."+d+" IN (:...ids)").addGroupBy(u+"."+d).setParameter("ids",h),r.queryBuilderFactory&&r.queryBuilderFactory(f),{relationCountAttribute:r,results:await f.getRawMany()}}else{let s,o,a,l;r.relation.isOwning?(s=r.relation.joinColumns[0].referencedColumn.databaseName,o=r.relation.inverseJoinColumns[0].referencedColumn.databaseName,a=r.relation.junctionEntityMetadata.columns[0],l=r.relation.junctionEntityMetadata.columns[1]):(s=r.relation.inverseRelation.inverseJoinColumns[0].referencedColumn.databaseName,o=r.relation.inverseRelation.joinColumns[0].referencedColumn.databaseName,a=r.relation.junctionEntityMetadata.columns[1],l=r.relation.junctionEntityMetadata.columns[0]);let c=e.map(C=>C[r.parentAlias+"_"+s]).filter(C=>!!C);if(c=c.filter(t),c.length===0)return{relationCountAttribute:r,results:[]};const u=r.junctionAlias,d=r.joinInverseSideMetadata.tableName,h=r.alias||d,f=r.relation.junctionEntityMetadata.tableName,g=u+"."+a.propertyName+" IN ("+c.map(C=>isNaN(C)?"'"+C+"'":C)+") AND "+u+"."+l.propertyName+" = "+h+"."+o,b=this.connection.createQueryBuilder(this.queryRunner);return b.select(u+"."+a.propertyName,"parentId").addSelect("COUNT("+b.escape(h)+"."+b.escape(o)+")","cnt").from(d,h).innerJoin(f,u,g).addGroupBy(u+"."+a.propertyName),r.queryBuilderFactory&&r.queryBuilderFactory(b),{relationCountAttribute:r,results:await b.getRawMany()}}});return Promise.all(i)}}class V6{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationCounts.forEach(e=>{const t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationCountAttributes.push(t)}),this.expressionMap.joinAttributes.forEach(e=>{!e.metadata||e.metadata.isJunction||e.metadata.relationCounts.forEach(t=>{const i=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationCountAttributes.push(i)})})}metadataToAttribute(e,t){return new Qy(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}}class Hw{constructor(e){Be.assign(this,e||{})}get target(){return this.metadata.target}get hasMetadata(){return!!this._metadata}set metadata(e){this._metadata=e}get metadata(){if(!this._metadata)throw new q('Cannot get entity metadata for the given alias "'.concat(this.name,'"'));return this._metadata}}class Gy{constructor(e){var t;this.connection=e,this.relationLoadStrategy="join",this.queryEntity=!1,this.aliases=[],this.queryType="select",this.selects=[],this.maxExecutionTime=0,this.selectDistinct=!1,this.selectDistinctOn=[],this.extraReturningColumns=[],this.onConflict="",this.onIgnore=!1,this.joinAttributes=[],this.relationIdAttributes=[],this.relationCountAttributes=[],this.wheres=[],this.havings=[],this.orderBys={},this.groupBys=[],this.withDeleted=!1,this.parameters={},this.disableEscaping=!0,this.enableRelationIdValues=!1,this.extraAppendedAndWhereCondition="",this.subQuery=!1,this.aliasNamePrefixingEnabled=!0,this.cache=!1,this.options=[],this.insertColumns=[],this.whereEntities=[],this.updateEntity=!0,this.callListeners=!0,this.useTransaction=!1,this.nativeParameters={},this.locallyGenerated={},this.commonTableExpressions=[],e.options.relationLoadStrategy&&(this.relationLoadStrategy=e.options.relationLoadStrategy),this.timeTravel=((t=e.options)===null||t===void 0?void 0:t.timeTravelQueries)||!1}get allOrderBys(){if(!Object.keys(this.orderBys).length&&this.mainAlias.hasMetadata&&this.options.indexOf("disable-global-order")===-1){const e=this.mainAlias.metadata.orderBy||{};return Object.keys(e).reduce((t,i)=>(t[this.mainAlias.name+"."+i]=e[i],t),{})}return this.orderBys}setMainAlias(e){return this.mainAlias=e,e}createAlias(e){let t=e.name;!t&&e.tablePath&&(t=e.tablePath),!t&&typeof e.target=="function"&&(t=e.target.name),!t&&typeof e.target=="string"&&(t=e.target);const i=new Hw;return i.type=e.type,t&&(i.name=t),e.metadata&&(i.metadata=e.metadata),e.target&&!i.hasMetadata&&(i.metadata=this.connection.getMetadata(e.target)),e.tablePath&&(i.tablePath=e.tablePath),e.subQuery&&(i.subQuery=e.subQuery),this.aliases.push(i),i}findAliasByName(e){const t=this.aliases.find(i=>i.name===e);if(!t)throw new q('"'.concat(e,'" alias was not found. Maybe you forgot to join it?'));return t}findColumnByAliasExpression(e){const[t,i]=e.split(".");return this.findAliasByName(t).metadata.findColumnWithPropertyName(i)}get relationMetadata(){if(!this.mainAlias)throw new q("Entity to work with is not specified!");const e=this.mainAlias.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!e)throw new q("Relation ".concat(this.relationPropertyPath," was not found in entity ").concat(this.mainAlias.name));return e}clone(){const e=new Gy(this.connection);return e.queryType=this.queryType,e.selects=this.selects.map(t=>t),e.maxExecutionTime=this.maxExecutionTime,e.selectDistinct=this.selectDistinct,e.selectDistinctOn=this.selectDistinctOn,this.aliases.forEach(t=>e.aliases.push(new Hw(t))),e.relationLoadStrategy=this.relationLoadStrategy,e.mainAlias=this.mainAlias,e.valuesSet=this.valuesSet,e.returning=this.returning,e.onConflict=this.onConflict,e.onIgnore=this.onIgnore,e.onUpdate=this.onUpdate,e.joinAttributes=this.joinAttributes.map(t=>new SC(this.connection,this,t)),e.relationIdAttributes=this.relationIdAttributes.map(t=>new Wy(this,t)),e.relationCountAttributes=this.relationCountAttributes.map(t=>new Qy(this,t)),e.wheres=this.wheres.map(t=>({...t})),e.havings=this.havings.map(t=>({...t})),e.orderBys=Object.assign({},this.orderBys),e.groupBys=this.groupBys.map(t=>t),e.limit=this.limit,e.offset=this.offset,e.skip=this.skip,e.take=this.take,e.lockMode=this.lockMode,e.onLocked=this.onLocked,e.lockVersion=this.lockVersion,e.lockTables=this.lockTables,e.withDeleted=this.withDeleted,e.parameters=Object.assign({},this.parameters),e.disableEscaping=this.disableEscaping,e.enableRelationIdValues=this.enableRelationIdValues,e.extraAppendedAndWhereCondition=this.extraAppendedAndWhereCondition,e.subQuery=this.subQuery,e.aliasNamePrefixingEnabled=this.aliasNamePrefixingEnabled,e.cache=this.cache,e.cacheId=this.cacheId,e.cacheDuration=this.cacheDuration,e.relationPropertyPath=this.relationPropertyPath,e.of=this.of,e.insertColumns=this.insertColumns,e.whereEntities=this.whereEntities,e.updateEntity=this.updateEntity,e.callListeners=this.callListeners,e.useTransaction=this.useTransaction,e.timeTravel=this.timeTravel,e.nativeParameters=Object.assign({},this.nativeParameters),e.comment=this.comment,e.commonTableExpressions=this.commonTableExpressions.map(t=>({alias:t.alias,queryBuilder:typeof t.queryBuilder=="string"?t.queryBuilder:t.queryBuilder.clone(),options:t.options})),e}}class dc{constructor(e,t,i=!0,r=!1,s,o){this["@instanceof"]=Symbol.for("FindOperator"),this._type=e,this._value=t,this._useParameter=i,this._multipleParameters=r,this._getSql=s,this._objectLiteralParameters=o}get useParameter(){return V.isFindOperator(this._value)?this._value.useParameter:this._useParameter}get multipleParameters(){return V.isFindOperator(this._value)?this._value.multipleParameters:this._multipleParameters}get type(){return this._type}get value(){return V.isFindOperator(this._value)?this._value.value:this._value}get objectLiteralParameters(){return V.isFindOperator(this._value)?this._value.objectLiteralParameters:this._objectLiteralParameters}get child(){if(V.isFindOperator(this._value))return this._value}get getSql(){return V.isFindOperator(this._value)?this._value.getSql:this._getSql}transformValue(e){this._value instanceof dc?this._value.transformValue(e):this._value=Array.isArray(this._value)&&this._multipleParameters?this._value.map(t=>e&&Ut.transformTo(e,t)):Ut.transformTo(e,this._value)}}function H6(n){return new dc("in",n,!0,!0)}const W6=/[.*+\-?^${}()|[\]\\]/g,Q6=n=>n.replace(W6,"\\$&");class G6{constructor(e,t){this["@instanceof"]=Symbol.for("QueryBuilder"),this.parameterIndex=0,V.isDataSource(e)?(this.connection=e,this.queryRunner=t,this.expressionMap=new Gy(this.connection)):(this.connection=e.connection,this.queryRunner=e.queryRunner,this.expressionMap=e.expressionMap.clone())}get alias(){if(!this.expressionMap.mainAlias)throw new q("Main alias is not set");return this.expressionMap.mainAlias.name}select(e,t){this.expressionMap.queryType="select",Array.isArray(e)?this.expressionMap.selects=e.map(r=>({selection:r})):e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);const i=require("./SelectQueryBuilder").SelectQueryBuilder;return V.isSelectQueryBuilder(this)?this:new i(this)}insert(){this.expressionMap.queryType="insert";const e=require("./InsertQueryBuilder").InsertQueryBuilder;return V.isInsertQueryBuilder(this)?this:new e(this)}update(e,t){const i=t||e;if(e=V.isEntitySchema(e)?e.options.name:e,typeof e=="function"||typeof e=="string"){const s=this.createFromAlias(e);this.expressionMap.setMainAlias(s)}this.expressionMap.queryType="update",this.expressionMap.valuesSet=i;const r=require("./UpdateQueryBuilder").UpdateQueryBuilder;return V.isUpdateQueryBuilder(this)?this:new r(this)}delete(){this.expressionMap.queryType="delete";const e=require("./DeleteQueryBuilder").DeleteQueryBuilder;return V.isDeleteQueryBuilder(this)?this:new e(this)}softDelete(){this.expressionMap.queryType="soft-delete";const e=require("./SoftDeleteQueryBuilder").SoftDeleteQueryBuilder;return V.isSoftDeleteQueryBuilder(this)?this:new e(this)}restore(){this.expressionMap.queryType="restore";const e=require("./SoftDeleteQueryBuilder").SoftDeleteQueryBuilder;return V.isSoftDeleteQueryBuilder(this)?this:new e(this)}relation(e,t){const i=arguments.length===2?e:void 0,r=arguments.length===2?t:e;if(this.expressionMap.queryType="relation",this.expressionMap.relationPropertyPath=r,i){const o=this.createFromAlias(i);this.expressionMap.setMainAlias(o)}const s=require("./RelationQueryBuilder").RelationQueryBuilder;return V.isRelationQueryBuilder(this)?this:new s(this)}hasRelation(e,t){const i=this.connection.getMetadata(e);return(Array.isArray(t)?t:[t]).every(s=>!!i.findRelationWithPropertyPath(s))}hasParameter(e){var t;return((t=this.parentQueryBuilder)===null||t===void 0?void 0:t.hasParameter(e))||e in this.expressionMap.parameters}setParameter(e,t){if(typeof t=="function")throw new q("Function parameter isn't supported in the parameters. Please check \"".concat(e,'" parameter.'));if(!e.match(/^([A-Za-z0-9_.]+)$/))throw new q("QueryBuilder parameter keys may only contain numbers, letters, underscores, or periods.");return this.parentQueryBuilder&&this.parentQueryBuilder.setParameter(e,t),this.expressionMap.parameters[e]=t,this}setParameters(e){for(const[t,i]of Object.entries(e))this.setParameter(t,i);return this}createParameter(e){let t;do t="orm_param_".concat(this.parameterIndex++);while(this.hasParameter(t));return this.setParameter(t,e),":".concat(t)}setNativeParameters(e){return this.parentQueryBuilder&&this.parentQueryBuilder.setNativeParameters(e),Object.keys(e).forEach(t=>{this.expressionMap.nativeParameters[t]=e[t]}),this}getParameters(){const e=Object.assign({},this.expressionMap.parameters);if(this.expressionMap.mainAlias&&this.expressionMap.mainAlias.hasMetadata){const t=this.expressionMap.mainAlias.metadata;if(t.discriminatorColumn&&t.parentEntityMetadata){const i=t.childEntityMetadatas.filter(r=>r.discriminatorColumn).map(r=>r.discriminatorValue);i.push(t.discriminatorValue),e.discriminatorColumnValues=i}}return e}printSql(){const[e,t]=this.getQueryAndParameters();return this.connection.logger.logQuery(e,t),this}getSql(){return this.getQueryAndParameters()[0]}getQueryAndParameters(){const e=this.getQuery(),t=this.getParameters();return this.connection.driver.escapeQueryWithParameters(e,t,this.expressionMap.nativeParameters)}async execute(){const[e,t]=this.getQueryAndParameters(),i=this.obtainQueryRunner();try{return await i.query(e,t)}finally{i!==this.queryRunner&&await i.release()}}createQueryBuilder(){return new this.constructor(this.connection,this.queryRunner)}clone(){return new this.constructor(this)}comment(e){return this.expressionMap.comment=e,this}disableEscaping(){return this.expressionMap.disableEscaping=!1,this}escape(e){return this.expressionMap.disableEscaping?this.connection.driver.escape(e):e}setQueryRunner(e){return this.queryRunner=e,this}callListeners(e){return this.expressionMap.callListeners=e,this}useTransaction(e){return this.expressionMap.useTransaction=e,this}addCommonTableExpression(e,t,i){return this.expressionMap.commonTableExpressions.push({queryBuilder:e,alias:t,options:i||{}}),this}getTableName(e){return e.split(".").map(t=>t===""?t:this.escape(t)).join(".")}getMainTableName(){if(!this.expressionMap.mainAlias)throw new q('Entity where values should be inserted is not specified. Call "qb.into(entity)" method to specify it.');return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.tablePath:this.expressionMap.mainAlias.tablePath}createFromAlias(e,t){if(this.connection.hasMetadata(e)){const i=this.connection.getMetadata(e);return this.expressionMap.createAlias({type:"from",name:t,metadata:this.connection.getMetadata(e),tablePath:i.tablePath})}else{if(typeof e=="string"){const s=e.substr(0,1)==="("&&e.substr(-1)===")";return this.expressionMap.createAlias({type:"from",name:t,tablePath:s?void 0:e,subQuery:s?e:void 0})}const i=e(this.subQuery());this.setParameters(i.getParameters());const r=i.getQuery();return this.expressionMap.createAlias({type:"from",name:t,subQuery:r})}}replacePropertyNames(e){return e}replacePropertyNamesForTheWholeQuery(e){const t={};for(const s of this.expressionMap.aliases){if(!s.hasMetadata)continue;const o=this.expressionMap.aliasNamePrefixingEnabled&&s.name?"".concat(s.name,"."):"";t[o]||(t[o]={});for(const a of s.metadata.relations)a.joinColumns.length>0&&(t[o][a.propertyPath]=a.joinColumns[0].databaseName);for(const a of s.metadata.relations){const l=[...a.joinColumns,...a.inverseJoinColumns];for(const c of l){const u="".concat(a.propertyPath,".").concat(c.referencedColumn.propertyPath);t[o][u]=c.databaseName}}for(const a of s.metadata.columns)t[o][a.databaseName]=a.databaseName;for(const a of s.metadata.columns)t[o][a.propertyName]=a.databaseName;for(const a of s.metadata.columns)t[o][a.propertyPath]=a.databaseName}const i=Object.keys(t),r=i.map(s=>Q6(s)).join("|");return i.length>0&&(e=e.replace(new RegExp("([ =(]|^.{0})"+"".concat(r?"("+r+")":"","([^ =(),]+)")+"(?=[ =),]|.{0}$)","gm"),(...s)=>{let o,a,l;if(r){if(o=s[0],a=s[1],l=s[3],t[s[2]][l])return"".concat(a).concat(this.escape(s[2].substring(0,s[2].length-1)),".").concat(this.escape(t[s[2]][l]))}else if(o=s[0],a=s[1],l=s[2],t[""][l])return"".concat(a).concat(this.escape(t[""][l]));return o})),e}createComment(){return this.expressionMap.comment?"/* ".concat(this.expressionMap.comment.replace("*/","")," */ "):""}createTimeTravelQuery(){return this.expressionMap.queryType==="select"&&this.expressionMap.timeTravel?" AS OF SYSTEM TIME ".concat(this.expressionMap.timeTravel):""}createWhereExpression(){const e=[],t=this.createWhereClausesExpression(this.expressionMap.wheres);if(t.length>0&&t!=="1=1"&&e.push(this.replacePropertyNames(t)),this.expressionMap.mainAlias.hasMetadata){const r=this.expressionMap.mainAlias.metadata;if(this.expressionMap.queryType==="select"&&!this.expressionMap.withDeleted&&r.deleteDateColumn){const s=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+r.deleteDateColumn.propertyName:r.deleteDateColumn.propertyName,o="".concat(this.replacePropertyNames(s)," IS NULL");e.push(o)}if(r.discriminatorColumn&&r.parentEntityMetadata){const s=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+r.discriminatorColumn.databaseName:r.discriminatorColumn.databaseName,o="".concat(this.replacePropertyNames(s)," IN (:...discriminatorColumnValues)");e.push(o)}}if(this.expressionMap.extraAppendedAndWhereCondition){const r=this.replacePropertyNames(this.expressionMap.extraAppendedAndWhereCondition);e.push(r)}let i="";return i+=this.createTimeTravelQuery(),e.length?e.length===1?i+=" WHERE ".concat(e[0]):i+=" WHERE ( ".concat(e.join(" ) AND ( ")," )"):i+="",i}createReturningExpression(e){const t=this.getReturningColumns(),i=this.connection.driver;if(typeof this.expressionMap.returning!="string"&&this.expressionMap.extraReturningColumns.length>0&&i.isReturningSqlSupported(e)&&t.push(...this.expressionMap.extraReturningColumns.filter(r=>t.indexOf(r)===-1)),t.length){let r=t.map(s=>{const o=this.escape(s.databaseName);return i.options.type==="mssql"?this.expressionMap.queryType==="insert"||this.expressionMap.queryType==="update"||this.expressionMap.queryType==="soft-delete"||this.expressionMap.queryType==="restore"?"INSERTED."+o:this.escape(this.getMainTableName())+"."+o:o}).join(", ");return i.options.type==="oracle"&&(r+=" INTO "+t.map(s=>this.createParameter({type:i.columnTypeToNativeParameter(s.type),dir:i.oracle.BIND_OUT})).join(", ")),i.options.type==="mssql"&&(this.expressionMap.queryType==="insert"||this.expressionMap.queryType==="update")&&(r+=" INTO @OutputTable"),r}else if(typeof this.expressionMap.returning=="string")return this.expressionMap.returning;return""}getReturningColumns(){const e=[];return Array.isArray(this.expressionMap.returning)&&this.expressionMap.returning.forEach(t=>{this.expressionMap.mainAlias.hasMetadata&&e.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(t))}),e}createWhereClausesExpression(e){return e.map((t,i)=>{const r=this.createWhereConditionExpression(t.condition);switch(t.type){case"and":return(i>0?"AND ":"")+r;case"or":return(i>0?"OR ":"")+r}return r}).join(" ").trim()}createWhereConditionExpression(e,t=!1){if(typeof e=="string")return e;if(Array.isArray(e))return e.length===0?"1=1":e.length===1&&!t?this.createWhereClausesExpression(e):"("+this.createWhereClausesExpression(e)+")";const{driver:i}=this.connection;switch(e.operator){case"lessThan":return"".concat(e.parameters[0]," < ").concat(e.parameters[1]);case"lessThanOrEqual":return"".concat(e.parameters[0]," <= ").concat(e.parameters[1]);case"arrayContains":return"".concat(e.parameters[0]," @> ").concat(e.parameters[1]);case"jsonContains":return"".concat(e.parameters[0]," ::jsonb @> ").concat(e.parameters[1]);case"arrayContainedBy":return"".concat(e.parameters[0]," <@ ").concat(e.parameters[1]);case"arrayOverlap":return"".concat(e.parameters[0]," && ").concat(e.parameters[1]);case"moreThan":return"".concat(e.parameters[0]," > ").concat(e.parameters[1]);case"moreThanOrEqual":return"".concat(e.parameters[0]," >= ").concat(e.parameters[1]);case"notEqual":return"".concat(e.parameters[0]," != ").concat(e.parameters[1]);case"equal":return"".concat(e.parameters[0]," = ").concat(e.parameters[1]);case"ilike":return i.options.type==="postgres"||i.options.type==="cockroachdb"?"".concat(e.parameters[0]," ILIKE ").concat(e.parameters[1]):"UPPER(".concat(e.parameters[0],") LIKE UPPER(").concat(e.parameters[1],")");case"like":return"".concat(e.parameters[0]," LIKE ").concat(e.parameters[1]);case"between":return"".concat(e.parameters[0]," BETWEEN ").concat(e.parameters[1]," AND ").concat(e.parameters[2]);case"in":return e.parameters.length<=1?"0=1":"".concat(e.parameters[0]," IN (").concat(e.parameters.slice(1).join(", "),")");case"any":return i.options.type==="cockroachdb"?"".concat(e.parameters[0],"::STRING = ANY(").concat(e.parameters[1],"::STRING[])"):"".concat(e.parameters[0]," = ANY(").concat(e.parameters[1],")");case"isNull":return"".concat(e.parameters[0]," IS NULL");case"not":return"NOT(".concat(this.createWhereConditionExpression(e.condition),")");case"brackets":return"".concat(this.createWhereConditionExpression(e.condition,!0));case"and":return e.parameters.join(" AND ")}throw new TypeError("Unsupported FindOperator ".concat(dc.constructor.name))}createCteExpression(){if(!this.hasCommonTableExpressions())return"";const e=this.connection.driver.cteCapabilities.requiresRecursiveHint;return"WITH "+this.expressionMap.commonTableExpressions.map(i=>{const r=typeof i.queryBuilder=="string"?i.queryBuilder:i.queryBuilder.getQuery();if(typeof i.queryBuilder!="string"){if(i.queryBuilder.hasCommonTableExpressions())throw new q("Nested CTEs aren't supported (CTE: ".concat(i.alias,")"));if(!this.connection.driver.cteCapabilities.writable&&!V.isSelectQueryBuilder(i.queryBuilder))throw new q("Only select queries are supported in CTEs in ".concat(this.connection.options.type," (CTE: ").concat(i.alias,")"));this.setParameters(i.queryBuilder.getParameters())}let s=this.escape(i.alias);if(i.options.columnNames){const l=i.options.columnNames.map(c=>this.escape(c));if(V.isSelectQueryBuilder(i.queryBuilder)&&i.queryBuilder.expressionMap.selects.length&&i.options.columnNames.length!==i.queryBuilder.expressionMap.selects.length)throw new q("cte.options.columnNames length (".concat(i.options.columnNames.length,") doesn't match subquery select list length ").concat(i.queryBuilder.expressionMap.selects.length," (CTE: ").concat(i.alias,")"));s+="(".concat(l.join(", "),")")}const o=i.options.recursive&&e?"RECURSIVE":"";let a="";return this.connection.driver.cteCapabilities.materializedHint&&i.options.materialized!==void 0&&(a=i.options.materialized?"MATERIALIZED":"NOT MATERIALIZED"),[o,s,"AS",a,"(".concat(r,")")].filter(Boolean).join(" ")}).join(", ")+" "}getWhereInIdsCondition(e){const t=this.expressionMap.mainAlias.metadata,i=(Array.isArray(e)?e:[e]).map(r=>t.ensureEntityIdMap(r));if(!t.hasMultiplePrimaryKeys){const r=t.primaryColumns[0];if(!r.transformer&&!r.relationMetadata&&!r.embeddedMetadata)return{[r.propertyName]:H6(i.map(s=>r.getEntityValue(s,!1)))}}return new Id(r=>{for(const s of i)r.orWhere(new Id(o=>o.where(s)))})}getExistsCondition(e){const t=e.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select("1").setOption("disable-global-order");return["EXISTS (".concat(t.getQuery(),")"),t.getParameters()]}findColumnsForPropertyPath(e){let t=this.expressionMap.mainAlias;const i=[],r=e.split(".");for(;r.length>1;){const a=r[0];if(!(t!=null&&t.hasMetadata))break;if(t.metadata.hasEmbeddedWithPropertyPath(a)){r.unshift("".concat(r.shift(),".").concat(r.shift()));continue}if(t.metadata.hasRelationWithPropertyPath(a)){const l=this.expressionMap.joinAttributes.find(c=>c.relationPropertyPath===a);if(!(l!=null&&l.alias)){const c=i.length>0?"".concat(i.join("."),".").concat(a):a;throw new Error("Cannot find alias for relation at ".concat(c))}t=l.alias,i.push(...a.split(".")),r.shift();continue}break}if(!t)throw new Error("Cannot find alias for property ".concat(e));const s=r.join("."),o=t.metadata.findColumnsWithPropertyPath(s);if(!o.length)throw new Ki(e,t.metadata);return[t,i,o]}createPropertyPath(e,t,i=""){const r=[];for(const s of Object.keys(t)){const o=i?"".concat(i,".").concat(s):s;if(t[s]===null||typeof t[s]!="object"||V.isFindOperator(t[s])){r.push(o);continue}if(e.hasEmbeddedWithPropertyPath(o)){const a=this.createPropertyPath(e,t[s],o);r.push(...a);continue}if(e.hasRelationWithPropertyPath(o)){const a=e.findRelationWithPropertyPath(o);if(a.relationType==="one-to-one"||a.relationType==="many-to-one"){const d=a.joinColumns.map(f=>f.referencedColumn).filter(f=>!!f);if(d.length>0&&d.every(f=>f.getEntityValue(t[s],!1))){r.push(o);continue}}if(a.relationType==="one-to-many"||a.relationType==="many-to-many")throw new Error("Cannot query across ".concat(a.relationType," for property ").concat(o));const l=a.inverseEntityMetadata.primaryColumns;if(l.length>0&&l.every(d=>d.getEntityValue(t[s],!1))){const d=l.map(h=>"".concat(o,".").concat(h.propertyPath));r.push(...d);continue}const u=this.createPropertyPath(a.inverseEntityMetadata,t[s]).map(d=>"".concat(o,".").concat(d));r.push(...u);continue}r.push(o)}return r}*getPredicates(e){if(this.expressionMap.mainAlias.hasMetadata){const t=this.createPropertyPath(this.expressionMap.mainAlias.metadata,e);for(const i of t){const[r,s,o]=this.findColumnsForPropertyPath(i);for(const a of o){let l=e;for(const d of s){if(!l||!(d in l)){l={};break}l=l[d]}const c=this.expressionMap.aliasNamePrefixingEnabled?"".concat(r.name,".").concat(a.propertyPath):a.propertyPath,u=a.getEntityValue(l,!0);yield[c,u]}}}else for(const t of Object.keys(e)){const i=e[t];yield[this.expressionMap.aliasNamePrefixingEnabled?"".concat(this.alias,".").concat(t):t,i]}}getWherePredicateCondition(e,t){if(V.isFindOperator(t)){let i=[];if(t.useParameter)if(t.objectLiteralParameters)this.setParameters(t.objectLiteralParameters);else if(t.multipleParameters)for(const r of t.value)i.push(this.createParameter(r));else i.push(this.createParameter(t.value));if(t.type==="raw")return t.getSql?t.getSql(e):{operator:"equal",parameters:[e,t.value]};if(t.type==="not")return t.child?{operator:t.type,condition:this.getWherePredicateCondition(e,t.child)}:{operator:"notEqual",parameters:[e,...i]};if(t.type==="and"){const r=t.value;return{operator:t.type,parameters:r.map(s=>this.createWhereConditionExpression(this.getWherePredicateCondition(e,s)))}}else return{operator:t.type,parameters:[e,...i]}}else return{operator:"equal",parameters:[e,this.createParameter(t)]}}getWhereCondition(e){if(typeof e=="string")return e;if(V.isBrackets(e)){const r=this.createQueryBuilder();return r.parentQueryBuilder=this,r.expressionMap.mainAlias=this.expressionMap.mainAlias,r.expressionMap.aliasNamePrefixingEnabled=this.expressionMap.aliasNamePrefixingEnabled,r.expressionMap.parameters=this.expressionMap.parameters,r.expressionMap.nativeParameters=this.expressionMap.nativeParameters,r.expressionMap.wheres=[],e.whereFactory(r),{operator:V.isNotBrackets(e)?"not":"brackets",condition:r.expressionMap.wheres}}if(typeof e=="function")return e(this);const t=Array.isArray(e)?e:[e],i=[];for(const r of t){const s=[];for(const[o,a]of this.getPredicates(r))s.push({type:"and",condition:this.getWherePredicateCondition(o,a)});i.push({type:"or",condition:s})}return i.length===1?i[0].condition:i}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner()}hasCommonTableExpressions(){return this.expressionMap.commonTableExpressions.length>0}}class _d extends G6{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("SelectQueryBuilder"),this.findOptions={},this.selects=[],this.joins=[],this.conditions="",this.orderBys=[],this.relationMetadatas=[]}getQuery(){let e=this.createComment();return e+=this.createCteExpression(),e+=this.createSelectExpression(),e+=this.createJoinExpression(),e+=this.createWhereExpression(),e+=this.createGroupByExpression(),e+=this.createHavingExpression(),e+=this.createOrderByExpression(),e+=this.createLimitOffsetExpression(),e+=this.createLockExpression(),e=e.trim(),this.expressionMap.subQuery&&(e="("+e+")"),this.replacePropertyNamesForTheWholeQuery(e)}setFindOptions(e){return this.findOptions=e,this.applyFindOptions(),this}subQuery(){const e=this.createQueryBuilder();return e.expressionMap.subQuery=!0,e.parentQueryBuilder=this,e}select(e,t){if(this.expressionMap.queryType="select",Array.isArray(e))this.expressionMap.selects=e.map(i=>({selection:i}));else if(typeof e=="function"){const i=e(this.subQuery());this.setParameters(i.getParameters()),this.expressionMap.selects.push({selection:i.getQuery(),aliasName:t})}else e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);return this}addSelect(e,t){if(!e)return this;if(Array.isArray(e))this.expressionMap.selects=this.expressionMap.selects.concat(e.map(i=>({selection:i})));else if(typeof e=="function"){const i=e(this.subQuery());this.setParameters(i.getParameters()),this.expressionMap.selects.push({selection:i.getQuery(),aliasName:t})}else e&&this.expressionMap.selects.push({selection:e,aliasName:t});return this}maxExecutionTime(e){return this.expressionMap.maxExecutionTime=e,this}distinct(e=!0){return this.expressionMap.selectDistinct=e,this}distinctOn(e){return this.expressionMap.selectDistinctOn=e,this}fromDummy(){var e;return this.from((e=this.connection.driver.dummyTableName)!==null&&e!==void 0?e:"(SELECT 1 AS dummy_column)","dummy_table")}from(e,t){const i=this.createFromAlias(e,t);return this.expressionMap.setMainAlias(i),this}addFrom(e,t){const i=this.createFromAlias(e,t);return this.expressionMap.mainAlias||this.expressionMap.setMainAlias(i),this}innerJoin(e,t,i,r){return this.join("INNER",e,t,i,r),this}leftJoin(e,t,i,r){return this.join("LEFT",e,t,i,r),this}innerJoinAndSelect(e,t,i,r){return this.addSelect(t),this.innerJoin(e,t,i,r),this}leftJoinAndSelect(e,t,i,r){return this.addSelect(t),this.leftJoin(e,t,i,r),this}innerJoinAndMapMany(e,t,i,r,s){return this.addSelect(i),this.join("INNER",t,i,r,s,e,!0),this}innerJoinAndMapOne(e,t,i,r,s,o){return this.addSelect(i),this.join("INNER",t,i,r,s,e,!1,o),this}leftJoinAndMapMany(e,t,i,r,s){return this.addSelect(i),this.join("LEFT",t,i,r,s,e,!0),this}leftJoinAndMapOne(e,t,i,r,s,o){return this.addSelect(i),this.join("LEFT",t,i,r,s,e,!1,o),this}loadRelationIdAndMap(e,t,i,r){const s=new Wy(this.expressionMap);return s.mapToProperty=e,s.relationName=t,typeof i=="string"&&(s.alias=i),typeof i=="object"&&i.disableMixedMap&&(s.disableMixedMap=!0),s.queryBuilderFactory=r,this.expressionMap.relationIdAttributes.push(s),s.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:s.junctionAlias,metadata:s.relation.junctionEntityMetadata}),this}loadRelationCountAndMap(e,t,i,r){const s=new Qy(this.expressionMap);return s.mapToProperty=e,s.relationName=t,s.alias=i,s.queryBuilderFactory=r,this.expressionMap.relationCountAttributes.push(s),this.expressionMap.createAlias({type:"other",name:s.junctionAlias}),s.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:s.junctionAlias,metadata:s.relation.junctionEntityMetadata}),this}loadAllRelationIds(e){return this.expressionMap.mainAlias.metadata.relations.forEach(t=>{e!==void 0&&e.relations!==void 0&&e.relations.indexOf(t.propertyPath)===-1||this.loadRelationIdAndMap(this.expressionMap.mainAlias.name+"."+t.propertyPath,this.expressionMap.mainAlias.name+"."+t.propertyPath,e)}),this}where(e,t){this.expressionMap.wheres=[];const i=this.getWhereCondition(e);return i&&(this.expressionMap.wheres=[{type:"simple",condition:i}]),t&&this.setParameters(t),this}andWhere(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}orWhere(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}whereExists(e){return this.where(...this.getExistsCondition(e))}andWhereExists(e){return this.andWhere(...this.getExistsCondition(e))}orWhereExists(e){return this.orWhere(...this.getExistsCondition(e))}whereInIds(e){return this.where(this.getWhereInIdsCondition(e))}andWhereInIds(e){return this.andWhere(this.getWhereInIdsCondition(e))}orWhereInIds(e){return this.orWhere(this.getWhereInIdsCondition(e))}having(e,t){return this.expressionMap.havings.push({type:"simple",condition:e}),t&&this.setParameters(t),this}andHaving(e,t){return this.expressionMap.havings.push({type:"and",condition:e}),t&&this.setParameters(t),this}orHaving(e,t){return this.expressionMap.havings.push({type:"or",condition:e}),t&&this.setParameters(t),this}groupBy(e){return e?this.expressionMap.groupBys=[e]:this.expressionMap.groupBys=[],this}addGroupBy(e){return this.expressionMap.groupBys.push(e),this}timeTravelQuery(e){return this.connection.driver.options.type==="cockroachdb"&&(e===void 0?this.expressionMap.timeTravel="follower_read_timestamp()":this.expressionMap.timeTravel=e),this}orderBy(e,t="ASC",i){if(t!==void 0&&t!=="ASC"&&t!=="DESC")throw new q('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(i!==void 0&&i!=="NULLS FIRST"&&i!=="NULLS LAST")throw new q('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return e?typeof e=="object"?this.expressionMap.orderBys=e:i?this.expressionMap.orderBys={[e]:{order:t,nulls:i}}:this.expressionMap.orderBys={[e]:t}:this.expressionMap.orderBys={},this}addOrderBy(e,t="ASC",i){if(t!==void 0&&t!=="ASC"&&t!=="DESC")throw new q('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(i!==void 0&&i!=="NULLS FIRST"&&i!=="NULLS LAST")throw new q('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return i?this.expressionMap.orderBys[e]={order:t,nulls:i}:this.expressionMap.orderBys[e]=t,this}limit(e){if(this.expressionMap.limit=this.normalizeNumber(e),this.expressionMap.limit!==void 0&&isNaN(this.expressionMap.limit))throw new q('Provided "limit" value is not a number. Please provide a numeric value.');return this}offset(e){if(this.expressionMap.offset=this.normalizeNumber(e),this.expressionMap.offset!==void 0&&isNaN(this.expressionMap.offset))throw new q('Provided "offset" value is not a number. Please provide a numeric value.');return this}take(e){if(this.expressionMap.take=this.normalizeNumber(e),this.expressionMap.take!==void 0&&isNaN(this.expressionMap.take))throw new q('Provided "take" value is not a number. Please provide a numeric value.');return this}skip(e){if(this.expressionMap.skip=this.normalizeNumber(e),this.expressionMap.skip!==void 0&&isNaN(this.expressionMap.skip))throw new q('Provided "skip" value is not a number. Please provide a numeric value.');return this}useIndex(e){return this.expressionMap.useIndex=e,this}setLock(e,t,i){return this.expressionMap.lockMode=e,this.expressionMap.lockVersion=t,this.expressionMap.lockTables=i,this}setOnLocked(e){return this.expressionMap.onLocked=e,this}withDeleted(){return this.expressionMap.withDeleted=!0,this}async getRawOne(){return(await this.getRawMany())[0]}async getRawMany(){if(this.expressionMap.lockMode==="optimistic")throw new za;this.expressionMap.queryEntity=!1;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0);const i=await this.loadRawResults(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getRawAndEntities(){const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;const i=await this.executeEntitiesAndRawResults(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getOne(){const t=(await this.getRawAndEntities()).entities[0];if(t&&this.expressionMap.lockMode==="optimistic"&&this.expressionMap.lockVersion){const i=this.expressionMap.mainAlias.metadata;if(this.expressionMap.lockVersion instanceof Date){const r=i.updateDateColumn.getEntityValue(t);if(r.getTime()!==this.expressionMap.lockVersion.getTime())throw new Rw(i.name,this.expressionMap.lockVersion,r)}else{const r=i.versionColumn.getEntityValue(t);if(r!==this.expressionMap.lockVersion)throw new Rw(i.name,this.expressionMap.lockVersion,r)}}return t===void 0?null:t}async getOneOrFail(){const e=await this.getOne();if(!e)throw new Km(this.expressionMap.mainAlias.target,this.expressionMap.parameters);return e}async getMany(){if(this.expressionMap.lockMode==="optimistic")throw new za;return(await this.getRawAndEntities()).entities}async getCount(){if(this.expressionMap.lockMode==="optimistic")throw new za;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!1;const i=await this.executeCountQuery(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getExists(){if(this.expressionMap.lockMode==="optimistic")throw new za;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!1;const i=await this.executeExistsQuery(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getManyAndCount(){if(this.expressionMap.lockMode==="optimistic")throw new za;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;const i=await this.executeEntitiesAndRawResults(e);this.expressionMap.queryEntity=!1;const r=this.expressionMap.cacheId;this.expressionMap.cacheId=r&&"".concat(r,"-count");const s=await this.executeCountQuery(e),o=[i.entities,s];return t&&await e.commitTransaction(),o}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async stream(){this.expressionMap.queryEntity=!1;const[e,t]=this.getQueryAndParameters(),i=this.obtainQueryRunner();let r=!1;try{this.expressionMap.useTransaction===!0&&i.isTransactionActive===!1&&(await i.startTransaction(),r=!0);const s=()=>{if(i!==this.queryRunner)return i.release()},o=i.stream(e,t,s,s);return r&&await i.commitTransaction(),o}catch(s){if(r)try{await i.rollbackTransaction()}catch(o){}throw s}}cache(e,t){return typeof e=="boolean"?this.expressionMap.cache=e:typeof e=="number"?(this.expressionMap.cache=!0,this.expressionMap.cacheDuration=e):(typeof e=="string"||typeof e=="number")&&(this.expressionMap.cache=!0,this.expressionMap.cacheId=e),t&&(this.expressionMap.cacheDuration=t),this}setOption(e){return this.expressionMap.options.push(e),this}join(e,t,i,r,s,o,a,l){s&&this.setParameters(s);const c=new SC(this.connection,this.expressionMap);c.direction=e,c.mapAsEntity=l,c.mapToProperty=o,c.isMappingMany=a,c.entityOrProperty=t,c.condition=r,this.expressionMap.joinAttributes.push(c);const u=c.metadata;if(u){if(u.deleteDateColumn&&!this.expressionMap.withDeleted){const d="".concat(i,".").concat(u.deleteDateColumn.propertyName," IS NULL");c.condition=c.condition?" ".concat(c.condition," AND ").concat(d):"".concat(d)}c.alias=this.expressionMap.createAlias({type:"join",name:i,metadata:u}),c.relation&&c.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"join",name:c.junctionAlias,metadata:c.relation.junctionEntityMetadata})}else{let d="";if(typeof t=="function"){const f=t(this.subQuery());this.setParameters(f.getParameters()),d=f.getQuery()}else d=t;const h=typeof t=="function"||t.substr(0,1)==="("&&t.substr(-1)===")";c.alias=this.expressionMap.createAlias({type:"join",name:i,tablePath:h===!1?t:void 0,subQuery:h===!0?d:void 0})}}createSelectExpression(){if(!this.expressionMap.mainAlias)throw new q("Cannot build query because main alias is not set (call qb#from method)");const e=[],t=[];if(this.expressionMap.mainAlias.hasMetadata){const a=this.expressionMap.mainAlias.metadata;e.push(...this.buildEscapedEntityColumnSelects(this.expressionMap.mainAlias.name,a)),t.push(...this.findEntityColumnSelects(this.expressionMap.mainAlias.name,a))}this.expressionMap.joinAttributes.forEach(a=>{if(a.metadata)e.push(...this.buildEscapedEntityColumnSelects(a.alias.name,a.metadata)),t.push(...this.findEntityColumnSelects(a.alias.name,a.metadata));else if(this.expressionMap.selects.some(c=>c.selection===a.alias.name)){e.push({selection:this.escape(a.alias.name)+".*"});const c=this.expressionMap.selects.find(u=>u.selection===a.alias.name);t.push(c)}}),this.expressionMap.selects.filter(a=>t.indexOf(a)===-1).forEach(a=>e.push({selection:this.replacePropertyNames(a.selection),aliasName:a.aliasName})),e.length===0&&e.push({selection:"*"});let i="";this.expressionMap.useIndex&&me.isMySQLFamily(this.connection.driver)&&(i=" USE INDEX (".concat(this.expressionMap.useIndex,")"));const r=this.expressionMap.aliases.filter(a=>a.type==="from"&&(a.tablePath||a.subQuery)).map(a=>a.subQuery?a.subQuery+" "+this.escape(a.name):this.getTableName(a.tablePath)+" "+this.escape(a.name)),s=this.createSelectDistinctExpression(),o=e.map(a=>a.selection+(a.aliasName?" AS "+this.escape(a.aliasName):"")).join(", ");return s+o+" FROM "+r.join(", ")+this.createTableLockExpression()+i}createSelectDistinctExpression(){const{selectDistinct:e,selectDistinctOn:t,maxExecutionTime:i}=this.expressionMap,{driver:r}=this.connection;let s="SELECT ";if(i>0&&me.isMySQLFamily(r)&&(s+="/*+ MAX_EXECUTION_TIME(".concat(this.expressionMap.maxExecutionTime,") */ ")),me.isPostgresFamily(r)&&t.length>0){const o=t.map(a=>this.replacePropertyNames(a)).join(", ");s="SELECT DISTINCT ON (".concat(o,") ")}else e&&(s="SELECT DISTINCT ");return s}createJoinExpression(){return this.expressionMap.joinAttributes.map(t=>{const i=t.relation,r=t.tablePath,s=t.alias.name;let o=t.condition?" AND ("+t.condition+")":"";const a=t.parentAlias;if(!a||!i){const l=t.alias.subQuery?t.alias.subQuery:this.getTableName(r);return" "+t.direction+" JOIN "+l+" "+this.escape(s)+this.createTableLockExpression()+(t.condition?" ON "+this.replacePropertyNames(t.condition):"")}if(i.isManyToOne||i.isOneToOneOwner){const l=i.joinColumns.map(c=>s+"."+c.referencedColumn.propertyPath+"="+a+"."+i.propertyPath+"."+c.referencedColumn.propertyPath).join(" AND ");return" "+t.direction+" JOIN "+this.getTableName(r)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(l+o)}else if(i.isOneToMany||i.isOneToOneNotOwner){const l=i.inverseRelation.joinColumns.map(c=>(i.inverseEntityMetadata.tableType==="entity-child"&&i.inverseEntityMetadata.discriminatorColumn&&(o+=" AND "+s+"."+i.inverseEntityMetadata.discriminatorColumn.databaseName+"='"+i.inverseEntityMetadata.discriminatorValue+"'"),s+"."+i.inverseRelation.propertyPath+"."+c.referencedColumn.propertyPath+"="+a+"."+c.referencedColumn.propertyPath)).join(" AND ");return" "+t.direction+" JOIN "+this.getTableName(r)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(l+o)}else{const l=i.junctionEntityMetadata.tablePath,c=t.junctionAlias;let u="",d="";return i.isOwning?(u=i.joinColumns.map(h=>c+"."+h.propertyPath+"="+a+"."+h.referencedColumn.propertyPath).join(" AND "),d=i.inverseJoinColumns.map(h=>s+"."+h.referencedColumn.propertyPath+"="+c+"."+h.propertyPath).join(" AND ")):(u=i.inverseRelation.inverseJoinColumns.map(h=>c+"."+h.propertyPath+"="+a+"."+h.referencedColumn.propertyPath).join(" AND "),d=i.inverseRelation.joinColumns.map(h=>s+"."+h.referencedColumn.propertyPath+"="+c+"."+h.propertyPath).join(" AND "))," "+t.direction+" JOIN "+this.getTableName(l)+" "+this.escape(c)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(u)+" "+t.direction+" JOIN "+this.getTableName(r)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(d+o)}}).join(" ")}createGroupByExpression(){return!this.expressionMap.groupBys||!this.expressionMap.groupBys.length?"":" GROUP BY "+this.replacePropertyNames(this.expressionMap.groupBys.join(", "))}createOrderByExpression(){const e=this.expressionMap.allOrderBys;return Object.keys(e).length===0?"":" ORDER BY "+Object.keys(e).map(t=>{const i=typeof e[t]=="string"?e[t]:e[t].order+" "+e[t].nulls,r=this.expressionMap.selects.find(s=>s.selection===t);if(r&&!r.aliasName&&t.indexOf(".")!==-1){const s=t.split("."),o=s[0],a=s.slice(1).join("."),l=this.expressionMap.aliases.find(c=>c.name===o);if(l){const c=l.metadata.findColumnWithPropertyPath(a);if(c){const u=me.buildAlias(this.connection.driver,void 0,o,c.databaseName);return this.escape(u)+" "+i}}}return this.replacePropertyNames(t)+" "+i}).join(", ")}createLimitOffsetExpression(){let e=this.expressionMap.offset,t=this.expressionMap.limit;if(!e&&!t&&this.expressionMap.joinAttributes.length===0&&(e=this.expressionMap.skip,t=this.expressionMap.take),this.connection.driver.options.type==="mssql"){let i="";if((t||e)&&Object.keys(this.expressionMap.allOrderBys).length<=0&&(i=" ORDER BY (SELECT NULL)"),t&&e)return i+" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return i+" OFFSET 0 ROWS FETCH NEXT "+t+" ROWS ONLY";if(e)return i+" OFFSET "+e+" ROWS"}else if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)throw new yF}else if(me.isSQLiteFamily(this.connection.driver)){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" LIMIT -1 OFFSET "+e}else if(this.connection.driver.options.type==="oracle"){if(t&&e)return" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return" FETCH NEXT "+t+" ROWS ONLY";if(e)return" OFFSET "+e+" ROWS"}else{if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" OFFSET "+e}return""}createTableLockExpression(){if(this.connection.driver.options.type==="mssql")switch(this.expressionMap.lockMode){case"pessimistic_read":return" WITH (HOLDLOCK, ROWLOCK)";case"pessimistic_write":return" WITH (UPDLOCK, ROWLOCK)";case"dirty_read":return" WITH (NOLOCK)"}return""}createLockExpression(){const e=this.connection.driver;let t="";if(this.expressionMap.lockTables){if(!(me.isPostgresFamily(e)||e.options.type==="cockroachdb"))throw new q("Lock tables not supported in selected driver");if(this.expressionMap.lockTables.length<1)throw new q("lockTables cannot be an empty array");t=" OF "+this.expressionMap.lockTables.join(", ")}let i="";switch(this.expressionMap.onLocked==="nowait"?i=" NOWAIT":this.expressionMap.onLocked==="skip_locked"&&(i=" SKIP LOCKED"),this.expressionMap.lockMode){case"pessimistic_read":if(e.options.type==="mysql"||e.options.type==="aurora-mysql")return me.isReleaseVersionOrGreater(e,"8.0.0")?" FOR SHARE"+t+i:" LOCK IN SHARE MODE";if(e.options.type==="mariadb")return" LOCK IN SHARE MODE";if(me.isPostgresFamily(e))return" FOR SHARE"+t+i;if(e.options.type==="oracle")return" FOR UPDATE";if(e.options.type==="mssql")return"";throw new ao;case"pessimistic_write":if(me.isMySQLFamily(e)||e.options.type==="aurora-mysql"||e.options.type==="oracle")return" FOR UPDATE"+i;if(me.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR UPDATE"+t+i;if(e.options.type==="mssql")return"";throw new ao;case"pessimistic_partial_write":if(me.isPostgresFamily(e))return" FOR UPDATE"+t+" SKIP LOCKED";if(me.isMySQLFamily(e))return" FOR UPDATE SKIP LOCKED";throw new ao;case"pessimistic_write_or_fail":if(me.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR UPDATE"+t+" NOWAIT";if(me.isMySQLFamily(e))return" FOR UPDATE NOWAIT";throw new ao;case"for_no_key_update":if(me.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR NO KEY UPDATE"+t+i;throw new ao;case"for_key_share":if(me.isPostgresFamily(e))return" FOR KEY SHARE"+t+i;throw new ao;default:return""}}createHavingExpression(){if(!this.expressionMap.havings||!this.expressionMap.havings.length)return"";const e=this.expressionMap.havings.map((t,i)=>{switch(t.type){case"and":return(i>0?"AND ":"")+this.replacePropertyNames(t.condition);case"or":return(i>0?"OR ":"")+this.replacePropertyNames(t.condition);default:return this.replacePropertyNames(t.condition)}}).join(" ");return e.length?" HAVING "+e:""}buildEscapedEntityColumnSelects(e,t){const i=this.expressionMap.selects.some(c=>c.selection===e),r=[];if(i&&r.push(...t.columns.filter(c=>c.isSelect===!0)),r.push(...t.columns.filter(c=>this.expressionMap.selects.some(u=>u.selection===e+"."+c.propertyPath))),r.length===0)return[];const s=this.expressionMap.queryEntity?t.primaryColumns.filter(c=>r.indexOf(c)===-1):[],o=[...r,...s],a=[],l=this.escape(e);return o.forEach(c=>{let u=l+"."+this.escape(c.databaseName);if(c.isVirtualProperty&&c.query&&(u="(".concat(c.query(l),")")),this.connection.driver.spatialTypes.indexOf(c.type)!==-1){if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"){const f=this.connection.driver.options.legacySpatialSupport?"AsText":"ST_AsText";u="".concat(f,"(").concat(u,")")}me.isPostgresFamily(this.connection.driver)&&(c.precision?u="ST_AsGeoJSON(".concat(u,", ").concat(c.precision,")::json"):u="ST_AsGeoJSON(".concat(u,")::json")),this.connection.driver.options.type==="mssql"&&(u="".concat(u,".ToString()"))}const d=this.expressionMap.selects.filter(h=>h.selection===e+"."+c.propertyPath);d.length?d.forEach(h=>{a.push({selection:u,aliasName:h.aliasName?h.aliasName:me.buildAlias(this.connection.driver,void 0,e,c.databaseName),virtual:h.virtual})}):a.push({selection:u,aliasName:me.buildAlias(this.connection.driver,void 0,e,c.databaseName),virtual:i})}),a}findEntityColumnSelects(e,t){const i=this.expressionMap.selects.find(r=>r.selection===e);return i?[i]:this.expressionMap.selects.filter(r=>t.columns.some(s=>r.selection===e+"."+s.propertyPath))}computeCountExpression(){const e=this.expressionMap.mainAlias.name,i=this.expressionMap.mainAlias.metadata.primaryColumns,r=this.escape(e);if(this.expressionMap.joinAttributes.length===0&&this.expressionMap.relationIdAttributes.length===0&&this.expressionMap.relationCountAttributes.length===0)return"COUNT(1)";if(this.connection.driver.options.type==="cockroachdb"||me.isPostgresFamily(this.connection.driver))return"COUNT(DISTINCT("+i.map(s=>"".concat(r,".").concat(this.escape(s.databaseName))).join(", ")+"))";if(me.isMySQLFamily(this.connection.driver))return"COUNT(DISTINCT "+i.map(s=>"".concat(r,".").concat(this.escape(s.databaseName))).join(", ")+")";if(this.connection.driver.options.type==="mssql"){const s=i.map(o=>"".concat(r,".").concat(this.escape(o.databaseName))).join(", '|;|', ");return i.length===1?"COUNT(DISTINCT(".concat(s,"))"):"COUNT(DISTINCT(CONCAT(".concat(s,")))")}if(this.connection.driver.options.type==="spanner"){if(i.length===1)return"COUNT(DISTINCT(".concat(r,".").concat(this.escape(i[0].databaseName),"))");const s=i.map(o=>"CAST(".concat(r,".").concat(this.escape(o.databaseName)," AS STRING)")).join(", '|;|', ");return"COUNT(DISTINCT(CONCAT(".concat(s,")))")}return"COUNT(DISTINCT("+i.map(s=>"".concat(r,".").concat(this.escape(s.databaseName))).join(" || '|;|' || ")+"))"}async executeCountQuery(e){const t=this.computeCountExpression(),i=await this.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select(t,"cnt").setOption("disable-global-order").loadRawResults(e);return!i||!i[0]||!i[0].cnt?0:parseInt(i[0].cnt)}async executeExistsQuery(e){return(await this.connection.createQueryBuilder().fromDummy().select("1","row_exists").whereExists(this).limit(1).loadRawResults(e)).length>0}applyFindOptions(){if(this.expressionMap.mainAlias.metadata){if(this.findOptions.relationLoadStrategy&&(this.expressionMap.relationLoadStrategy=this.findOptions.relationLoadStrategy),this.findOptions.comment&&this.comment(this.findOptions.comment),this.findOptions.withDeleted&&this.withDeleted(),this.findOptions.select){const e=Array.isArray(this.findOptions.select)?ve.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select;this.buildSelect(e,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.select(this.selects),this.selects=[],this.findOptions.relations){const e=Array.isArray(this.findOptions.relations)?ve.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations;this.buildRelations(e,typeof this.findOptions.select=="object"?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.findOptions.loadEagerRelations!==!1&&this.expressionMap.relationLoadStrategy==="join"&&this.buildEagerRelations(e,typeof this.findOptions.select=="object"?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.addSelect(this.selects),this.findOptions.where&&(this.conditions=this.buildWhere(this.findOptions.where,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.conditions.length&&this.andWhere(this.conditions.substr(0,1)!=="("?"("+this.conditions+")":this.conditions)),this.findOptions.order&&this.buildOrder(this.findOptions.order,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.joins.length&&this.joins.forEach(e=>{e.select&&!e.selection?e.type==="inner"?this.innerJoinAndSelect("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias):this.leftJoinAndSelect("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias):e.type==="inner"?this.innerJoin("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias):this.leftJoin("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias)}),this.findOptions.skip!==void 0&&this.skip(this.findOptions.skip),this.findOptions.take!==void 0&&this.take(this.findOptions.take),typeof this.findOptions.cache=="number"?this.cache(this.findOptions.cache):typeof this.findOptions.cache=="boolean"?this.cache(this.findOptions.cache):typeof this.findOptions.cache=="object"&&this.cache(this.findOptions.cache.id,this.findOptions.cache.milliseconds),this.findOptions.join&&(this.findOptions.join.leftJoin&&Object.keys(this.findOptions.join.leftJoin).forEach(e=>{this.leftJoin(this.findOptions.join.leftJoin[e],e)}),this.findOptions.join.innerJoin&&Object.keys(this.findOptions.join.innerJoin).forEach(e=>{this.innerJoin(this.findOptions.join.innerJoin[e],e)}),this.findOptions.join.leftJoinAndSelect&&Object.keys(this.findOptions.join.leftJoinAndSelect).forEach(e=>{this.leftJoinAndSelect(this.findOptions.join.leftJoinAndSelect[e],e)}),this.findOptions.join.innerJoinAndSelect&&Object.keys(this.findOptions.join.innerJoinAndSelect).forEach(e=>{this.innerJoinAndSelect(this.findOptions.join.innerJoinAndSelect[e],e)})),this.findOptions.lock){if(this.findOptions.lock.mode==="optimistic")this.setLock(this.findOptions.lock.mode,this.findOptions.lock.version);else if(this.findOptions.lock.mode==="pessimistic_read"||this.findOptions.lock.mode==="pessimistic_write"||this.findOptions.lock.mode==="dirty_read"||this.findOptions.lock.mode==="pessimistic_partial_write"||this.findOptions.lock.mode==="pessimistic_write_or_fail"||this.findOptions.lock.mode==="for_no_key_update"||this.findOptions.lock.mode==="for_key_share"){const e=this.findOptions.lock.tables?this.findOptions.lock.tables.map(t=>{const i=this.expressionMap.aliases.find(r=>r.metadata.tableNameWithoutPrefix===t);if(!i)throw new q('"'.concat(t,'" is not part of this query'));return this.escape(i.name)}):void 0;this.setLock(this.findOptions.lock.mode,void 0,e),this.findOptions.lock.onLocked&&this.setOnLocked(this.findOptions.lock.onLocked)}}this.findOptions.loadRelationIds===!0?this.loadAllRelationIds():typeof this.findOptions.loadRelationIds=="object"&&this.loadAllRelationIds(this.findOptions.loadRelationIds),this.findOptions.loadEagerRelations!==!1&&cn.joinEagerRelations(this,this.expressionMap.mainAlias.name,this.expressionMap.mainAlias.metadata),this.findOptions.transaction===!0&&(this.expressionMap.useTransaction=!0)}}concatRelationMetadata(e){this.relationMetadatas.push(e)}async executeEntitiesAndRawResults(e){if(!this.expressionMap.mainAlias)throw new q('Alias is not set. Use "from" method to set an alias.');if((this.expressionMap.lockMode==="pessimistic_read"||this.expressionMap.lockMode==="pessimistic_write"||this.expressionMap.lockMode==="pessimistic_partial_write"||this.expressionMap.lockMode==="pessimistic_write_or_fail"||this.expressionMap.lockMode==="for_no_key_update"||this.expressionMap.lockMode==="for_key_share")&&!e.isTransactionActive)throw new hF;if(this.expressionMap.lockMode==="optimistic"){const l=this.expressionMap.mainAlias.metadata;if(!l.versionColumn&&!l.updateDateColumn)throw new cF(l.name)}const t=new U6(this.connection,e,this.expressionMap.relationIdAttributes),i=new z6(this.connection,e,this.expressionMap.relationCountAttributes);new j6(this.expressionMap).transform(),new V6(this.expressionMap).transform();let o=[],a=[];if((this.expressionMap.skip||this.expressionMap.take)&&this.expressionMap.joinAttributes.length>0){const[l,c]=this.createOrderByCombinedWithSelectExpression("distinctAlias"),u=this.expressionMap.mainAlias.metadata,d=this.expressionMap.mainAlias.name,h=u.primaryColumns.map(b=>{const C=this.escape("distinctAlias"),x=this.escape(me.buildAlias(this.connection.driver,void 0,d,b.databaseName));c[x]||(c[x]="ASC");const y=me.buildAlias(this.connection.driver,void 0,"ids_"+d,b.databaseName);return"".concat(C,".").concat(x," AS ").concat(this.escape(y))}),f=this.clone(),g=f.expressionMap.timeTravel;if(o=await new _d(this.connection,e).select("DISTINCT ".concat(h.join(", "))).addSelect(l).from("(".concat(f.orderBy().timeTravelQuery(!1).getQuery(),")"),"distinctAlias").timeTravelQuery(g).offset(this.expressionMap.skip).limit(this.expressionMap.take).orderBy(c).cache(this.expressionMap.cache&&this.expressionMap.cacheId?"".concat(this.expressionMap.cacheId,"-pagination"):this.expressionMap.cache,this.expressionMap.cacheDuration).setParameters(this.getParameters()).setNativeParameters(this.expressionMap.nativeParameters).getRawMany(),o.length>0){let b="";const C={};if(u.hasMultiplePrimaryKeys)b=o.map((x,y)=>u.primaryColumns.map(E=>{const N="orm_distinct_ids_".concat(y,"_").concat(E.databaseName),I=me.buildAlias(this.connection.driver,void 0,"ids_"+d,E.databaseName);return C[N]=x[I],"".concat(d,".").concat(E.propertyPath,"=:").concat(N)}).join(" AND ")).join(" OR ");else{const x=me.buildAlias(this.connection.driver,void 0,"ids_"+d,u.primaryColumns[0].databaseName),y=o.map(N=>N[x]);y.every(N=>typeof N=="number")?b="".concat(d,".").concat(u.primaryColumns[0].propertyPath," IN (").concat(y.join(", "),")"):(C.orm_distinct_ids=y,b=d+"."+u.primaryColumns[0].propertyPath+" IN (:...orm_distinct_ids)")}o=await this.clone().mergeExpressionMap({extraAppendedAndWhereCondition:b}).setParameters(C).loadRawResults(e)}}else o=await this.loadRawResults(e);if(o.length>0){const l=await t.load(o),c=await i.load(o);a=new F6(this.expressionMap,this.connection.driver,l,c,this.queryRunner).transform(o,this.expressionMap.mainAlias),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await e.broadcaster.broadcast("Load",this.expressionMap.mainAlias.metadata,a)}if(this.expressionMap.relationLoadStrategy==="query"){const l=new CC(this.connection,e);await Promise.all(this.relationMetadatas.map(async c=>{const u=c.inverseEntityMetadata.target,d=c.inverseEntityMetadata.targetName,h=Array.isArray(this.findOptions.select)?ve.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select,f=Array.isArray(this.findOptions.relations)?ve.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations,g=this.createQueryBuilder().select(d).from(u,d).setFindOptions({select:h?ve.deepValue(h,c.propertyPath):void 0,order:this.findOptions.order?ve.deepValue(this.findOptions.order,c.propertyPath):void 0,relations:f?ve.deepValue(f,c.propertyPath):void 0,withDeleted:this.findOptions.withDeleted,relationLoadStrategy:this.findOptions.relationLoadStrategy});if(a.length>0){const b=await l.loadManyToManyRelationIdsAndGroup(c,a,void 0,g);a.forEach(C=>{const x=b.find(y=>y.entity===C);if(x){const y=x.related===void 0?null:x.related;c.setEntityValue(C,y)}})}}))}return{raw:o,entities:a}}createOrderByCombinedWithSelectExpression(e){const t=this.expressionMap.allOrderBys,i=Object.keys(t).map(s=>{if(s.indexOf(".")!==-1){const o=s.split("."),a=o[0],l=o.slice(1).join("."),u=this.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyPath(l);return this.escape(e)+"."+this.escape(me.buildAlias(this.connection.driver,void 0,a,u.databaseName))}else return this.expressionMap.selects.find(o=>o.selection===s||o.aliasName===s)?this.escape(e)+"."+this.escape(s):""}).join(", "),r={};return Object.keys(t).forEach(s=>{if(s.indexOf(".")!==-1){const o=s.split("."),a=o[0],l=o.slice(1).join("."),u=this.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyPath(l);r[this.escape(e)+"."+this.escape(me.buildAlias(this.connection.driver,void 0,a,u.databaseName))]=t[s]}else this.expressionMap.selects.find(o=>o.selection===s||o.aliasName===s)?r[this.escape(e)+"."+this.escape(s)]=t[s]:r[s]=t[s]}),[i,r]}async loadRawResults(e){const[t,i]=this.getQueryAndParameters(),r=t+" -- PARAMETERS: "+JSON.stringify(i),s=typeof this.connection.options.cache=="object"?this.connection.options.cache:{};let o;const a=s.alwaysEnabled&&this.expressionMap.cache||this.expressionMap.cache;let l=!1;if(this.connection.queryResultCache&&a)try{if(o=await this.connection.queryResultCache.getFromCache({identifier:this.expressionMap.cacheId,query:r,duration:this.expressionMap.cacheDuration||s.duration||1e3},e),o&&!this.connection.queryResultCache.isExpired(o))return JSON.parse(o.result)}catch(u){if(!s.ignoreErrors)throw u;l=!0}const c=await e.query(t,i,!0);if(!l&&this.connection.queryResultCache&&a)try{await this.connection.queryResultCache.storeInCache({identifier:this.expressionMap.cacheId,query:r,time:new Date().getTime(),duration:this.expressionMap.cacheDuration||s.duration||1e3,result:JSON.stringify(c.records)},o,e)}catch(u){if(!s.ignoreErrors)throw u}return c.records}mergeExpressionMap(e){return Be.assign(this.expressionMap,e),this}normalizeNumber(e){return typeof e=="number"||e===void 0||e===null?e:Number(e)}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner("slave")}buildSelect(e,t,i,r){for(let s in e){if(e[s]===void 0||e[s]===!1)continue;const o=r?r+"."+s:s,a=t.findColumnWithPropertyPathStrict(o),l=t.findEmbeddedWithPropertyPath(o),c=t.findRelationWithPropertyPath(o);if(!l&&!a&&!c)throw new Ki(o,t);a?this.selects.push(i+"."+o):l&&this.buildSelect(e[s],t,i,o)}}buildRelations(e,t,i,r,s){e&&Object.keys(e).forEach(o=>{const a=e[o],l=s?s+"."+o:o,c=i.findEmbeddedWithPropertyPath(l),u=i.findRelationWithPropertyPath(l);if(!c&&!u)throw new Ki(l,i);if(c)this.buildRelations(a,typeof t=="object"?ve.deepValue(t,c.propertyPath):void 0,i,r,l);else if(u){let d=r+"_"+l.replace(".","_");d=me.buildAlias(this.connection.driver,{joiner:"__"},r,d),(a===!0||typeof a=="object")&&(this.expressionMap.relationLoadStrategy==="query"?this.concatRelationMetadata(u):(this.joins.push({type:"left",select:!0,selection:t&&typeof t[o]=="object"?t[o]:void 0,alias:d,parentAlias:r,relationMetadata:u}),t&&typeof t[o]=="object"&&this.buildSelect(t[o],u.inverseEntityMetadata,d))),typeof a=="object"&&this.expressionMap.relationLoadStrategy==="join"&&this.buildRelations(a,typeof t=="object"?ve.deepValue(t,u.propertyPath):void 0,u.inverseEntityMetadata,d,void 0)}})}buildEagerRelations(e,t,i,r,s){e&&Object.keys(e).forEach(o=>{const a=e[o],l=s?s+"."+o:o,c=i.findEmbeddedWithPropertyPath(l),u=i.findRelationWithPropertyPath(l);if(!c&&!u)throw new Ki(l,i);if(c)this.buildEagerRelations(a,typeof t=="object"?ve.deepValue(t,c.propertyPath):void 0,i,r,l);else if(u){let d=r+"_"+l.replace(".","_");d=me.buildAlias(this.connection.driver,{joiner:"__"},r,d),(a===!0||typeof a=="object")&&u.inverseEntityMetadata.eagerRelations.forEach(h=>{let f=d+"_"+h.propertyPath.replace(".","_");f=me.buildAlias(this.connection.driver,{joiner:"__"},d,f),this.joins.find(b=>b.alias===f)||this.joins.push({type:"left",select:!0,alias:f,parentAlias:d,selection:void 0,relationMetadata:h}),t&&typeof t[o]=="object"&&this.buildSelect(t[o],u.inverseEntityMetadata,d)}),typeof a=="object"&&this.buildEagerRelations(a,typeof t=="object"?ve.deepValue(t,u.propertyPath):void 0,u.inverseEntityMetadata,d,void 0)}})}buildOrder(e,t,i,r){for(let s in e){if(e[s]===void 0)continue;const o=r?r+"."+s:s,a=t.findColumnWithPropertyPathStrict(o),l=t.findEmbeddedWithPropertyPath(o),c=t.findRelationWithPropertyPath(o);if(!l&&!a&&!c)throw new Ki(o,t);if(a){let u=typeof e[s]=="object"?e[s].direction:e[s];u=u==="DESC"||u==="desc"||u===-1?"DESC":"ASC";let d=typeof e[s]=="object"?e[s].nulls:void 0;d=(d==null?void 0:d.toLowerCase())==="first"?"NULLS FIRST":(d==null?void 0:d.toLowerCase())==="last"?"NULLS LAST":void 0;let h="".concat(i,".").concat(o);this.addOrderBy(h,u,d)}else if(l)this.buildOrder(e[s],t,i,o);else if(c){let u=i+"_"+o.replace(".","_");u=me.buildAlias(this.connection.driver,{joiner:"__"},i,u),this.joins.find(h=>h.alias===u)||this.joins.push({type:"left",select:!1,alias:u,parentAlias:i,selection:void 0,relationMetadata:c}),this.buildOrder(e[s],c.inverseEntityMetadata,u)}}}buildWhere(e,t,i,r){let s="";if(Array.isArray(e)&&e.length)s="("+e.map(o=>this.buildWhere(o,t,i,r)).filter(o=>!!o).map(o=>"("+o+")").join(" OR ")+")";else{let o=[];for(let a in e){if(e[a]===void 0||e[a]===null)continue;const l=r?r+"."+a:a,c=t.findColumnWithPropertyPathStrict(l),u=t.findEmbeddedWithPropertyPath(l),d=t.findRelationWithPropertyPath(l);if(!u&&!c&&!d)throw new Ki(l,t);if(c){let h="".concat(i,".").concat(l);c.isVirtualProperty&&c.query&&(h="(".concat(c.query(i),")"));let f=e[a];V.isEqualOperator(e[a])&&(f=e[a].value),c.transformer&&(f instanceof dc?f.transformValue(c.transformer):f=Ut.transformTo(c.transformer,f)),o.push(this.createWhereConditionExpression(this.getWherePredicateCondition(h,f)))}else if(u){const h=this.buildWhere(e[a],t,i,l);h&&o.push(h)}else if(d){if(typeof e[a]=="object"&&Object.keys(e[a]).every(f=>e[a][f]===void 0))continue;if(V.isFindOperator(e[a]))if(e[a].type==="moreThan"||e[a].type==="lessThan"||e[a].type==="moreThanOrEqual"||e[a].type==="lessThanOrEqual"){let h="";e[a].type==="moreThan"?h=">":e[a].type==="lessThan"?h="<":e[a].type==="moreThanOrEqual"?h=">=":e[a].type==="lessThanOrEqual"&&(h="<=");const f=this.subQuery();if(d.isManyToManyOwner)f.select("COUNT(*)").from(d.joinTableName,d.joinTableName).where(d.joinColumns.map(g=>"".concat(d.joinTableName,".").concat(g.propertyName," = ").concat(i,".").concat(g.referencedColumn.propertyName)).join(" AND "));else if(d.isManyToManyNotOwner)f.select("COUNT(*)").from(d.inverseRelation.joinTableName,d.inverseRelation.joinTableName).where(d.inverseRelation.inverseJoinColumns.map(g=>"".concat(d.inverseRelation.joinTableName,".").concat(g.propertyName," = ").concat(i,".").concat(g.referencedColumn.propertyName)).join(" AND "));else if(d.isOneToMany)f.select("COUNT(*)").from(d.inverseEntityMetadata.target,d.inverseEntityMetadata.tableName).where(d.inverseRelation.joinColumns.map(g=>"".concat(d.inverseEntityMetadata.tableName,".").concat(g.propertyName," = ").concat(i,".").concat(g.referencedColumn.propertyName)).join(" AND "));else throw new Error("This relation isn't supported by given find operator");this.andWhere(f.getSql()+" "+h+" "+parseInt(e[a].value))}else if(d.isManyToOne||d.isOneToOne&&d.isOneToOneOwner){const h="".concat(i,".").concat(l);o.push(this.createWhereConditionExpression(this.getWherePredicateCondition(h,e[a])))}else throw new Error("This relation isn't supported by given find operator");else{let h=i+"_"+d.propertyPath.replace(".","_");h=me.buildAlias(this.connection.driver,{joiner:"__"},i,h),this.joins.find(b=>b.alias===h)||this.joins.push({type:"left",select:!1,selection:void 0,alias:h,parentAlias:i,relationMetadata:d});const g=this.buildWhere(e[a],d.inverseEntityMetadata,h);g&&o.push(g)}}}s=o.join(" AND ")}return s}}class Ky{constructor(e){this.options=e}logQuery(e,t,i){this.isLogEnabledFor("query")&&this.writeLog("query",{type:"query",prefix:"query",message:e,format:"sql",parameters:t},i)}logQueryError(e,t,i,r){this.isLogEnabledFor("query-error")&&this.writeLog("warn",[{type:"query-error",prefix:"query failed",message:t,format:"sql",parameters:i},{type:"query-error",prefix:"error",message:e}],r)}logQuerySlow(e,t,i,r){this.isLogEnabledFor("query-slow")&&this.writeLog("warn",[{type:"query-slow",prefix:"query is slow",message:t,format:"sql",parameters:i,additionalInfo:{time:e}},{type:"query-slow",prefix:"execution time",message:e}],r)}logSchemaBuild(e,t){this.isLogEnabledFor("schema-build")&&this.writeLog("schema",{type:"schema-build",message:e},t)}logMigration(e,t){this.isLogEnabledFor("migration")||this.writeLog("log",{type:"migration",message:e},t)}log(e,t,i){switch(e){case"log":if(!this.isLogEnabledFor("log"))return;this.writeLog("log",{type:"log",message:t},i);break;case"info":if(!this.isLogEnabledFor("info"))return;this.writeLog("info",{type:"info",prefix:"info",message:t},i);break;case"warn":if(!this.isLogEnabledFor("warn"))return;this.writeLog("warn",{type:"warn",message:t},i);break}}isLogEnabledFor(e){switch(e){case"query":return this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("query")!==-1;case"error":case"query-error":return this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("error")!==-1;case"query-slow":return!0;case"schema":case"schema-build":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("schema")!==-1;case"migration":return!0;case"log":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("log")!==-1;case"info":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("info")!==-1;case"warn":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("warn")!==-1;default:return!1}}prepareLogMessages(e,t){t={addColonToPrefix:!0,appendParameterAsComment:!0,highlightSql:!0,...t};const i=Array.isArray(e)?e:[e];for(let r of i){if(typeof r!="object"&&(r={message:r}),r.format==="sql"){let s=String(r.message);t.appendParameterAsComment&&r.parameters&&r.parameters.length&&(s+=" -- PARAMETERS: ".concat(this.stringifyParams(r.parameters))),t.highlightSql&&(s=ct.highlightSql(s)),r.message=s}t.addColonToPrefix&&r.prefix&&(r.prefix+=":")}return i}stringifyParams(e){try{return JSON.stringify(e)}catch(t){return e}}}class K6 extends Ky{writeLog(e,t,i){var r;const s=this.prepareLogMessages(t,{highlightSql:!1});for(let o of s)switch((r=o.type)!==null&&r!==void 0?r:e){case"log":case"schema-build":case"migration":console.log(o.message);break;case"info":case"query":o.prefix?console.info(o.prefix,o.message):console.info(o.message);break;case"warn":case"query-slow":o.prefix?console.warn(o.prefix,o.message):console.warn(o.message);break;case"error":case"query-error":o.prefix?console.error(o.prefix,o.message):console.error(o.message);break}}}class Ww extends Ky{writeLog(e,t,i){var r;const s=this.prepareLogMessages(t);for(let o of s)switch((r=o.type)!==null&&r!==void 0?r:e){case"log":case"schema-build":case"migration":ct.log(String(o.message));break;case"info":case"query":o.prefix?ct.logInfo(o.prefix,o.message):ct.log(String(o.message));break;case"warn":case"query-slow":o.prefix?ct.logWarn(o.prefix,o.message):console.warn(ct.warn(String(o.message)));break;case"error":case"query-error":o.prefix?ct.logError(o.prefix,String(o.message)):console.error(ct.error(String(o.message)));break}}}class Y6{logQuery(){throw new Error("This logger is not applicable in a browser context")}logQueryError(){throw new Error("This logger is not applicable in a browser context")}logQuerySlow(){throw new Error("This logger is not applicable in a browser context")}logSchemaBuild(){throw new Error("This logger is not applicable in a browser context")}logMigration(){throw new Error("This logger is not applicable in a browser context")}log(){throw new Error("This logger is not applicable in a browser context")}}class J6 extends Y6{}var Jm={exports:{}},vp,Qw;function X6(){if(Qw)return vp;Qw=1;var n=1e3,e=n*60,t=e*60,i=t*24,r=i*7,s=i*365.25;vp=function(u,d){d=d||{};var h=typeof u;if(h==="string"&&u.length>0)return o(u);if(h==="number"&&isFinite(u))return d.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var h=parseFloat(d[1]),f=(d[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*r;case"days":case"day":case"d":return h*i;case"hours":case"hour":case"hrs":case"hr":case"h":return h*t;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(u){var d=Math.abs(u);return d>=i?Math.round(u/i)+"d":d>=t?Math.round(u/t)+"h":d>=e?Math.round(u/e)+"m":d>=n?Math.round(u/n)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=i?c(u,d,i,"day"):d>=t?c(u,d,t,"hour"):d>=e?c(u,d,e,"minute"):d>=n?c(u,d,n,"second"):u+" ms"}function c(u,d,h,f){var g=d>=h*1.5;return Math.round(u/h)+" "+f+(g?"s":"")}return vp}function Z6(n){t.debug=t,t.default=t,t.coerce=l,t.disable=s,t.enable=r,t.enabled=o,t.humanize=X6(),t.destroy=c,Object.keys(n).forEach(u=>{t[u]=n[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(u){let d,h=null,f,g;function b(...C){if(!b.enabled)return;const x=b,y=Number(new Date),E=y-(d||y);x.diff=E,x.prev=d,x.curr=y,d=y,C[0]=t.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let N=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(B,O)=>{if(B==="%%")return"%";N++;const $=t.formatters[O];if(typeof $=="function"){const R=C[N];B=$.call(x,R),C.splice(N,1),N--}return B}),t.formatArgs.call(x,C),(x.log||t.log).apply(x,C)}return b.namespace=u,b.useColors=t.useColors(),b.color=t.selectColor(u),b.extend=i,b.destroy=t.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(f!==t.namespaces&&(f=t.namespaces,g=t.enabled(u)),g),set:C=>{h=C}}),typeof t.init=="function"&&t.init(b),b}function i(u,d){const h=t(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function r(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let d;const h=(typeof u=="string"?u:"").split(/[\s,]+/),f=h.length;for(d=0;d<f;d++)h[d]&&(u=h[d].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.slice(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...t.names.map(a),...t.skips.map(a).map(d=>"-"+d)].join(",");return t.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let d,h;for(d=0,h=t.skips.length;d<h;d++)if(t.skips[d].test(u))return!1;for(d=0,h=t.names.length;d<h;d++)if(t.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var e4=Z6;(function(n,e){e.formatArgs=i,e.save=r,e.load=s,e.useColors=t,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,d=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(d=u))}),l.splice(d,0,c)}e.log=console.debug||console.log||(()=>{});function r(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch(c){}}function s(){let l;try{l=e.storage.getItem("debug")}catch(c){}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function o(){try{return localStorage}catch(l){}}n.exports=e4(e);const{formatters:a}=n.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(Jm,Jm.exports);var cr=Jm.exports;class t4 extends Ky{constructor(){super(...arguments),this.logger={log:cr.debug("typeorm:log"),info:cr.debug("typeorm:info"),warn:cr.debug("typeorm:warn"),error:cr.debug("typeorm:error"),query:cr.debug("typeorm:query:log"),"query-error":cr.debug("typeorm:query:error"),"query-slow":cr.debug("typeorm:query:slow"),"schema-build":cr.debug("typeorm:schema"),migration:cr.debug("typeorm:migration")}}isLogEnabledFor(e){switch(e){case"query":return this.logger.query.enabled;case"query-error":return this.logger["query-error"].enabled;case"query-slow":return!0;case"schema":case"schema-build":return this.logger["schema-build"].enabled;case"migration":return this.logger.migration.enabled;case"log":return this.logger.log.enabled;case"info":return this.logger.info.enabled;case"warn":return this.logger.warn.enabled;default:return!1}}writeLog(e,t,i){var r;const s=this.prepareLogMessages(t,{appendParameterAsComment:!1});for(let o of s){const a=(r=o.type)!==null&&r!==void 0?r:e;a in this.logger&&(o.prefix?this.logger[a](o.prefix,o.message):this.logger[a](o.message),o.parameters&&o.parameters.length&&this.logger[a]("parameters:",o.parameters))}}}class Gw{create(e,t){if(Be.isObject(e))return e;if(e)switch(e){case"simple-console":return new K6(t);case"file":return new J6(t);case"advanced-console":return new Ww(t);case"debug":return new t4}return new Ww(t)}}class n4{constructor(e,t){this.connection=e,this.clientType=t,this.redis=this.loadRedis()}async connect(){const e=this.connection.options.cache;if(this.clientType==="redis")this.client=this.redis.createClient({...e==null?void 0:e.options,legacyMode:!0}),typeof this.connection.options.cache=="object"&&this.connection.options.cache.ignoreErrors&&this.client.on("error",t=>{this.connection.logger.log("warn",t)}),"connect"in this.client&&await this.client.connect();else if(this.clientType==="ioredis")e&&e.port?e.options?this.client=new this.redis(e.port,e.options):this.client=new this.redis(e.port):e&&e.options?this.client=new this.redis(e.options):this.client=new this.redis;else if(this.clientType==="ioredis/cluster")if(e&&e.options&&Array.isArray(e.options))this.client=new this.redis.Cluster(e.options);else if(e&&e.options&&e.options.startupNodes)this.client=new this.redis.Cluster(e.options.startupNodes,e.options.options);else throw new q("options.startupNodes required for ".concat(this.clientType,"."))}async disconnect(){return new Promise((e,t)=>{this.client.quit((i,r)=>{if(i)return t(i);e(),this.client=void 0})})}async synchronize(e){}getFromCache(e,t){return new Promise((i,r)=>{e.identifier?this.client.get(e.identifier,(s,o)=>{if(s)return r(s);i(JSON.parse(o))}):e.query?this.client.get(e.query,(s,o)=>{if(s)return r(s);i(JSON.parse(o))}):i(void 0)})}isExpired(e){return e.time+e.duration<new Date().getTime()}async storeInCache(e,t,i){return new Promise((r,s)=>{e.identifier?this.client.set(e.identifier,JSON.stringify(e),"PX",e.duration,(o,a)=>{if(o)return s(o);r()}):e.query&&this.client.set(e.query,JSON.stringify(e),"PX",e.duration,(o,a)=>{if(o)return s(o);r()})})}async clear(e){return new Promise((t,i)=>{this.client.flushdb((r,s)=>{if(r)return i(r);t()})})}async remove(e,t){await Promise.all(e.map(i=>this.deleteKey(i)))}deleteKey(e){return new Promise((t,i)=>{this.client.del(e,(r,s)=>{if(r)return i(r);t()})})}loadRedis(){try{return this.clientType==="ioredis/cluster"?ct.load("ioredis"):ct.load(this.clientType)}catch(e){throw new q("Cannot use cache because ".concat(this.clientType,' is not installed. Please run "npm i ').concat(this.clientType,' --save".'))}}}let uu;const i4=new Uint8Array(16);function r4(){if(!uu&&(uu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!uu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uu(i4)}const Yt=[];for(let n=0;n<256;++n)Yt.push((n+256).toString(16).slice(1));function s4(n,e=0){return Yt[n[e+0]]+Yt[n[e+1]]+Yt[n[e+2]]+Yt[n[e+3]]+"-"+Yt[n[e+4]]+Yt[n[e+5]]+"-"+Yt[n[e+6]]+Yt[n[e+7]]+"-"+Yt[n[e+8]]+Yt[n[e+9]]+"-"+Yt[n[e+10]]+Yt[n[e+11]]+Yt[n[e+12]]+Yt[n[e+13]]+Yt[n[e+14]]+Yt[n[e+15]]}const o4=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Kw={randomUUID:o4};function a4(n,e,t){if(Kw.randomUUID&&!e&&!n)return Kw.randomUUID();n=n||{};const i=n.random||(n.rng||r4)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(let r=0;r<16;++r)e[t+r]=i[r];return e}return s4(i)}class l4{constructor(e){this.connection=e;const{schema:t}=this.connection.driver.options,i=this.connection.driver.database,s=(typeof this.connection.options.cache=="object"?this.connection.options.cache:{}).tableName||"query-result-cache";this.queryResultCacheDatabase=i,this.queryResultCacheSchema=t,this.queryResultCacheTable=this.connection.driver.buildTableName(s,t,i)}async connect(){}async disconnect(){}async synchronize(e){e=this.getQueryRunner(e);const t=this.connection.driver;await e.hasTable(this.queryResultCacheTable)||await e.createTable(new mt({database:this.queryResultCacheDatabase,schema:this.queryResultCacheSchema,name:this.queryResultCacheTable,columns:[{name:"id",isPrimary:!0,isNullable:!1,type:t.normalizeType({type:t.mappedDataTypes.cacheId}),generationStrategy:t.options.type==="spanner"?"uuid":"increment",isGenerated:!0},{name:"identifier",type:t.normalizeType({type:t.mappedDataTypes.cacheIdentifier}),isNullable:!0},{name:"time",type:t.normalizeType({type:t.mappedDataTypes.cacheTime}),isPrimary:!1,isNullable:!1},{name:"duration",type:t.normalizeType({type:t.mappedDataTypes.cacheDuration}),isPrimary:!1,isNullable:!1},{name:"query",type:t.normalizeType({type:t.mappedDataTypes.cacheQuery}),isPrimary:!1,isNullable:!1},{name:"result",type:t.normalizeType({type:t.mappedDataTypes.cacheResult}),isNullable:!1}]}))}getFromCache(e,t){t=this.getQueryRunner(t);const i=this.connection.createQueryBuilder(t).select().from(this.queryResultCacheTable,"cache");return e.identifier?i.where("".concat(i.escape("cache"),".").concat(i.escape("identifier")," = :identifier")).setParameters({identifier:this.connection.driver.options.type==="mssql"?new Ti(e.identifier,"nvarchar"):e.identifier}).getRawOne():e.query?this.connection.driver.options.type==="oracle"?i.where("dbms_lob.compare(".concat(i.escape("cache"),".").concat(i.escape("query"),", :query) = 0"),{query:e.query}).getRawOne():i.where("".concat(i.escape("cache"),".").concat(i.escape("query")," = :query")).setParameters({query:this.connection.driver.options.type==="mssql"?new Ti(e.query,"nvarchar"):e.query}).getRawOne():Promise.resolve(void 0)}isExpired(e){const t=typeof e.duration=="string"?parseInt(e.duration):e.duration;return(typeof e.time=="string"?parseInt(e.time):e.time)+t<new Date().getTime()}async storeInCache(e,t,i){const r=i===void 0||(i==null?void 0:i.getReplicationMode())==="slave";(i===void 0||r)&&(i=this.connection.createQueryRunner("master"));let s=e;if(this.connection.driver.options.type==="mssql"&&(s={identifier:new Ti(e.identifier,"nvarchar"),time:new Ti(e.time,"bigint"),duration:new Ti(e.duration,"int"),query:new Ti(e.query,"nvarchar"),result:new Ti(e.result,"nvarchar")}),t&&t.identifier){const o=i.manager.createQueryBuilder().update(this.queryResultCacheTable).set(s);o.where("".concat(o.escape("identifier")," = :condition"),{condition:s.identifier}),await o.execute()}else if(t&&t.query){const o=i.manager.createQueryBuilder().update(this.queryResultCacheTable).set(s);this.connection.driver.options.type==="oracle"?o.where('dbms_lob.compare("query", :condition) = 0',{condition:s.query}):o.where("".concat(o.escape("query")," = :condition"),{condition:s.query}),await o.execute()}else this.connection.driver.options.type==="spanner"&&!s.id&&(s.id=a4()),await i.manager.createQueryBuilder().insert().into(this.queryResultCacheTable).values(s).execute();r&&await i.release()}async clear(e){return this.getQueryRunner(e).clearTable(this.queryResultCacheTable)}async remove(e,t){let i=t||this.getQueryRunner();await Promise.all(e.map(r=>{const s=i.manager.createQueryBuilder();return s.delete().from(this.queryResultCacheTable).where("".concat(s.escape("identifier")," = :identifier"),{identifier:r}).execute()})),t||await i.release()}getQueryRunner(e){return e||this.connection.createQueryRunner()}}class Yw{constructor(e){this.connection=e}create(){if(!this.connection.options.cache)throw new q("To use cache you need to enable it in connection options by setting cache: true or providing some caching options. Example: { host: ..., username: ..., cache: true }");const e=this.connection.options.cache;return e.provider&&typeof e.provider=="function"?e.provider(this.connection):e.type==="redis"||e.type==="ioredis"||e.type==="ioredis/cluster"?new n4(this.connection,e.type):new l4(this.connection)}}class c4{constructor(e){this.connection=e}load(e,t,i,r){return i&&i.isReleased&&(i=void 0),e.isManyToOne||e.isOneToOneOwner?this.loadManyToOneOrOneToOneOwner(e,t,i,r):e.isOneToMany||e.isOneToOneNotOwner?this.loadOneToManyOrOneToOneNotOwner(e,t,i,r):e.isManyToManyOwner?this.loadManyToManyOwner(e,t,i,r):this.loadManyToManyNotOwner(e,t,i,r)}loadManyToOneOrOneToOneOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=e.entityMetadata.name,a=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),l=a.expressionMap.mainAlias.name,c=e.entityMetadata.primaryColumns,d=(e.isOwning?e.joinColumns:e.inverseRelation.joinColumns).map(h=>"".concat(e.entityMetadata.name,".").concat(h.propertyName," = ").concat(l,".").concat(h.referencedColumn.propertyName)).join(" AND ");if(a.innerJoin(e.entityMetadata.target,o,d),c.length===1)a.where("".concat(o,".").concat(c[0].propertyPath," IN (:...").concat(o+"_"+c[0].propertyName,")")),a.setParameter(o+"_"+c[0].propertyName,s.map(h=>c[0].getEntityValue(h,!0)));else{const h=s.map((f,g)=>c.map((b,C)=>{const x=o+"_entity_"+g+"_"+C;return a.setParameter(x,b.getEntityValue(f,!0)),o+"."+b.propertyPath+" = :"+x}).join(" AND ")).map(f=>"("+f+")").join(" OR ");a.where(h)}return cn.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadOneToManyOrOneToOneNotOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=e.inverseRelation.joinColumns,a=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.inverseRelation.entityMetadata.target,e.propertyName),l=a.expressionMap.mainAlias.name;if(o.length===1)a.where("".concat(l,".").concat(o[0].propertyPath," IN (:...").concat(l+"_"+o[0].propertyName,")")),a.setParameter(l+"_"+o[0].propertyName,s.map(c=>o[0].referencedColumn.getEntityValue(c,!0)));else{const c=s.map((u,d)=>o.map((h,f)=>{const g=l+"_entity_"+d+"_"+f;return a.setParameter(g,h.referencedColumn.getEntityValue(u,!0)),l+"."+h.propertyPath+" = :"+g}).join(" AND ")).map(u=>"("+u+")").join(" OR ");a.where(c)}return cn.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadManyToManyOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=e.joinColumns.reduce((h,f)=>(h[f.propertyName]=s.map(g=>f.referencedColumn.getEntityValue(g,!0)),h),{}),a=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),l=a.expressionMap.mainAlias.name,c=e.junctionEntityMetadata.tableName,u=e.joinColumns.map(h=>"".concat(c,".").concat(h.propertyName," IN (:...").concat(h.propertyName,")")),d=e.inverseJoinColumns.map(h=>"".concat(c,".").concat(h.propertyName,"=").concat(l,".").concat(h.referencedColumn.propertyName));return a.innerJoin(c,c,[...u,...d].join(" AND ")).setParameters(o),cn.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadManyToManyNotOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),a=o.expressionMap.mainAlias.name,l=e.junctionEntityMetadata.tableName,c=e.inverseRelation.joinColumns.map(h=>"".concat(l,".").concat(h.propertyName," = ").concat(a,".").concat(h.referencedColumn.propertyName)),u=e.inverseRelation.inverseJoinColumns.map(h=>"".concat(l,".").concat(h.propertyName," IN (:...").concat(h.propertyName,")")),d=e.inverseRelation.inverseJoinColumns.reduce((h,f)=>(h[f.propertyName]=s.map(g=>f.referencedColumn.getEntityValue(g,!0)),h),{});return o.innerJoin(l,l,[...c,...u].join(" AND ")).setParameters(d),cn.joinEagerRelations(o,o.alias,o.expressionMap.mainAlias.metadata),o.getMany()}enableLazyLoad(e,t,i){const r=this,s="__"+e.propertyName+"__",o="__promise_"+e.propertyName+"__",a="__has_"+e.propertyName+"__",l=(u,d)=>(u[s]=d,u[a]=!0,delete u[o],d),c=(u,d)=>(delete u[a],delete u[s],u[o]=d,d.then(h=>u[o]===d?l(u,h):h),d);Object.defineProperty(t,e.propertyName,{get:function(){if(this[a]===!0||this[s]!==void 0)return Promise.resolve(this[s]);if(this[o])return this[o];const u=r.load(e,this,i).then(d=>e.isOneToOne||e.isManyToOne?d.length===0?null:d[0]:d);return c(this,u)},set:function(u){u instanceof Promise?c(this,u):l(this,u)},configurable:!0,enumerable:!1})}}class Jw{constructor(e){this["@instanceof"]=Symbol.for("DataSource"),this.migrations=[],this.subscribers=[],this.entityMetadatas=[],this.entityMetadatasMap=new Map,this.name=e.name||"default",this.options=e,this.logger=new Gw().create(this.options.logger,this.options.logging),this.driver=new P6().create(this),this.manager=this.createEntityManager(),this.namingStrategy=e.namingStrategy||new Y3,this.metadataTableName=e.metadataTableName||"typeorm_metadata",this.queryResultCache=e.cache?new Yw(this).create():void 0,this.relationLoader=new c4(this),this.relationIdLoader=new CC(this),this.isInitialized=!1}get isConnected(){return this.isInitialized}get mongoManager(){if(!V.isMongoEntityManager(this.manager))throw new q("MongoEntityManager is only available for MongoDB databases.");return this.manager}get sqljsManager(){if(!V.isSqljsEntityManager(this.manager))throw new q("SqljsEntityManager is only available for Sqljs databases.");return this.manager}setOptions(e){return Object.assign(this.options,e),(e.logger||e.logging)&&(this.logger=new Gw().create(e.logger||this.options.logger,e.logging||this.options.logging)),e.namingStrategy&&(this.namingStrategy=e.namingStrategy),e.cache&&(this.queryResultCache=new Yw(this).create()),e.database&&(this.driver.database=me.buildDriverOptions(this.options).database),this}async initialize(){if(this.isInitialized)throw new J3(this.name);await this.driver.connect(),this.queryResultCache&&await this.queryResultCache.connect(),Be.assign(this,{isInitialized:!0});try{await this.buildMetadatas(),await this.driver.afterConnect(),this.options.dropSchema&&await this.dropDatabase(),this.options.migrationsRun&&await this.runMigrations({transaction:this.options.migrationsTransactionMode}),this.options.synchronize&&await this.synchronize()}catch(e){throw await this.destroy(),e}return this}async connect(){return this.initialize()}async destroy(){if(!this.isInitialized)throw new Va(this.name);await this.driver.disconnect(),this.queryResultCache&&await this.queryResultCache.disconnect(),Be.assign(this,{isInitialized:!1})}async close(){return this.destroy()}async synchronize(e=!1){if(!this.isInitialized)throw new Va(this.name);e&&await this.dropDatabase(),await this.driver.createSchemaBuilder().build()}async dropDatabase(){const e=this.createQueryRunner();try{if(this.driver.options.type==="mssql"||me.isMySQLFamily(this.driver)||this.driver.options.type==="aurora-mysql"||me.isSQLiteFamily(this.driver)){const t=[];if(this.entityMetadatas.forEach(i=>{i.database&&t.indexOf(i.database)===-1&&t.push(i.database)}),t.length===0&&this.driver.database&&t.push(this.driver.database),t.length===0)await e.clearDatabase();else for(const i of t)await e.clearDatabase(i)}else await e.clearDatabase()}finally{await e.release()}}async runMigrations(e){if(!this.isInitialized)throw new Va(this.name);const t=new pp(this);return t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1,await t.executePendingMigrations()}async undoLastMigration(e){if(!this.isInitialized)throw new Va(this.name);const t=new pp(this);t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1,await t.undoLastMigration()}async showMigrations(){if(!this.isInitialized)throw new Va(this.name);return await new pp(this).showMigrations()}hasMetadata(e){return!!this.findMetadata(e)}getMetadata(e){const t=this.findMetadata(e);if(!t)throw new nF(e);return t}getRepository(e){return this.manager.getRepository(e)}getTreeRepository(e){return this.manager.getTreeRepository(e)}getMongoRepository(e){if(this.driver.options.type!=="mongodb")throw new q("You can use getMongoRepository only for MongoDB connections.");return this.manager.getRepository(e)}getCustomRepository(e){return this.manager.getCustomRepository(e)}async transaction(e,t){return this.manager.transaction(e,t)}async query(e,t,i){if(V.isMongoEntityManager(this.manager))throw new q("Queries aren't supported by MongoDB.");if(i&&i.isReleased)throw new mC;const r=i||this.createQueryRunner();try{return await r.query(e,t)}finally{i||await r.release()}}createQueryBuilder(e,t,i){if(V.isMongoEntityManager(this.manager))throw new q("Query Builder is not supported by MongoDB.");if(t){t=me.buildAlias(this.driver,void 0,t);const r=this.getMetadata(e);return new _d(this,i).select(t).from(r.target,t)}else return new _d(this,e)}createQueryRunner(e="master"){const t=this.driver.createQueryRunner(e),i=this.createEntityManager(t);return Object.assign(t,{manager:i}),t}getManyToManyMetadata(e,t){const i=this.getMetadata(e).findRelationWithPropertyPath(t);if(!i)throw new q('Relation "'.concat(t,'" was not found in ').concat(e," entity."));if(!i.isManyToMany)throw new q('Relation "'.concat(e,"#").concat(t,'" does not have a many-to-many relationship.')+"You can use this method only on many-to-many relations.");return i.junctionEntityMetadata}createEntityManager(e){return new l6().create(this,e)}findMetadata(e){const t=this.entityMetadatasMap.get(e);if(t)return t;for(let[i,r]of this.entityMetadatasMap){if(V.isEntitySchema(e)&&r.name===e.options.name)return r;if(typeof e=="string"){if(e.indexOf(".")!==-1){if(r.tablePath===e)return r}else if(r.name===e||r.tableName===e)return r}if(Be.isObjectWithName(e)&&typeof e.name=="string"){if(e.name.indexOf(".")!==-1){if(r.tablePath===e.name)return r}else if(r.name===e.name||r.tableName===e.name)return r}}}async buildMetadatas(){const e=new B6(this),t=new EF,i=Be.mixedListToArray(this.options.subscribers||[]),r=await e.buildSubscribers(i);Be.assign(this,{subscribers:r});const s=Be.mixedListToArray(this.options.entities||[]),o=await e.buildEntityMetadatas(s);Be.assign(this,{entityMetadatas:o,entityMetadatasMap:new Map(o.map(c=>[c.target,c]))});const a=Be.mixedListToArray(this.options.migrations||[]),l=await e.buildMigrations(a);Be.assign(this,{migrations:l}),t.validateMany(this.entityMetadatas.filter(c=>c.tableType!=="view"),this.driver);for(let c of o)V.isBaseEntityConstructor(c.target)&&c.target.useDataSource(this)}}function Ri(){const n=ct.getGlobalVariable();return n.typeormMetadataArgsStorage||(n.typeormMetadataArgsStorage=new iC),n.typeormMetadataArgsStorage}function Yy(n,e){return function(t,i){let r;typeof n=="string"||typeof n=="function"?r=n:n&&(e=n,r=n.type),e||(e={});const s=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",t,i):void 0;if(!r&&s&&(r=s),!e.type&&r&&(e.type=r),e.type==="hstore"&&!e.hstoreType&&(e.hstoreType=s===Object?"object":"string"),typeof n=="function")Ri().embeddeds.push({target:t.constructor,propertyName:i,isArray:s===Array||e.array===!0,prefix:e.prefix!==void 0?e.prefix:void 0,type:n});else{if(!e.type)throw new gC(t,i);e.unique===!0&&Ri().uniques.push({target:t.constructor,columns:[i]}),Ri().columns.push({target:t.constructor,propertyName:i,mode:"regular",options:e}),e.generated&&Ri().generations.push({target:t.constructor,propertyName:i,strategy:typeof e.generated=="string"?e.generated:"increment"})}}}function AC(n,e){return function(t,i){let r;typeof n=="string"||n===String||n===Boolean||n===Number?r=n:e=Object.assign({},n),e||(e={});const s=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",t,i):void 0;if(!r&&s&&(r=s),!e.type&&r&&(e.type=r),!e.type)throw new gC(t,i);if(e.nullable)throw new rF(t,i);e.primary=!0,Ri().columns.push({target:t.constructor,propertyName:i,mode:"regular",options:e}),e.generated&&Ri().generations.push({target:t.constructor,propertyName:i,strategy:typeof e.generated=="string"?e.generated:"increment"})}}function NC(n,e){const t=(Be.isObject(n)?n:e)||{},i=typeof n=="string"?n:t.name;return function(r){Ri().tables.push({target:r,name:i,type:"regular",orderBy:t.orderBy?t.orderBy:void 0,engine:t.engine?t.engine:void 0,database:t.database?t.database:void 0,schema:t.schema?t.schema:void 0,synchronize:t.synchronize,withoutRowid:t.withoutRowid})}}var u4=Object.defineProperty,d4=Object.getOwnPropertyDescriptor,Wh=(n,e,t,i)=>{for(var r=i>1?void 0:i?d4(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&u4(e,t,r),r};let Er=class{constructor(){lr(this,"id");lr(this,"isActive");lr(this,"file")}};Wh([AC({type:"varchar"})],Er.prototype,"id",2);Wh([Yy({type:"boolean"})],Er.prototype,"isActive",2);Wh([Yy({type:"blob",length:255})],Er.prototype,"file",2);Er=Wh([NC("test")],Er);var h4=Object.defineProperty,f4=Object.getOwnPropertyDescriptor,Jy=(n,e,t,i)=>{for(var r=i>1?void 0:i?f4(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&h4(e,t,r),r};let ta=class{constructor(){lr(this,"id");lr(this,"store")}};Jy([AC({type:"varchar"})],ta.prototype,"id",2);Jy([Yy({type:"text"})],ta.prototype,"store",2);ta=Jy([NC("state")],ta);class p4{async up(e){await e.query('\n            CREATE TABLE "test" (\n                "id" integer PRIMARY KEY NOT NULL,\n                "isActive" boolean NOT NULL,\n                "file" blob NOT NULL\n            )\n        ')}async down(e){await e.query('\n            DROP TABLE "test"\n        ')}}class m4{async up(e){await e.query('\n            CREATE TABLE "state" (\n                "id" text PRIMARY KEY NOT NULL,\n                "store" text NOT NULL\n            )\n        ')}async down(e){await e.query('\n            DROP TABLE "state"\n        ')}}var kC={exports:{}};const g4={},y4=Object.freeze(Object.defineProperty({__proto__:null,default:g4},Symbol.toStringTag,{value:"Module"})),du=QN(y4);(function(n,e){var t=void 0,i=function(r){return t||(t=new Promise(function(s,o){var a=typeof r<"u"?r:{},l=a.onAbort;a.onAbort=function(p){o(new Error(p)),l&&l(p)},a.postRun=a.postRun||[],a.postRun.push(function(){s(a)}),n=void 0;var c;c||(c=typeof a<"u"?a:{}),c.onRuntimeInitialized=function(){function p(Q,de){switch(typeof de){case"boolean":jN(Q,de?1:0);break;case"number":BN(Q,de);break;case"string":FN(Q,de,-1,-1);break;case"object":if(de===null)Ab(Q);else if(de.length!=null){var Ae=mf(de);UN(Q,Ae,de.length,-1),Pc(Ae)}else Mc(Q,"Wrong API use : tried to return a value of an unknown type ("+de+").",-1);break;default:Ab(Q)}}function v(Q,de){for(var Ae=[],Me=0;Me<Q;Me+=1){var qe=jt(de+4*Me,"i32"),Ze=ON(qe);if(Ze===1||Ze===2)qe=qN(qe);else if(Ze===3)qe=LN(qe);else if(Ze===4){Ze=qe,qe=_N(Ze),Ze=DN(Ze);for(var zi=new Uint8Array(qe),_n=0;_n<qe;_n+=1)zi[_n]=ce[Ze+_n];qe=zi}else qe=null;Ae.push(qe)}return Ae}function T(Q,de){this.La=Q,this.db=de,this.Ja=1,this.fb=[]}function P(Q,de){if(this.db=de,de=re(Q)+1,this.Ya=Rc(de),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");K(Q,te,this.Ya,de),this.eb=this.Ya,this.Ua=this.ib=null}function L(Q){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),Q!=null){var de=this.filename,Ae="/",Me=de;if(Ae&&(Ae=typeof Ae=="string"?Ae:ps(Ae),Me=de?W(Ae+"/"+de):Ae),de=fb(!0,!0),Me=io(Me,(de!==void 0?de:438)&4095|32768,0),Q){if(typeof Q=="string"){Ae=Array(Q.length);for(var qe=0,Ze=Q.length;qe<Ze;++qe)Ae[qe]=Q.charCodeAt(qe);Q=Ae}ms(Me,de|146),Ae=gs(Me,577),Et(Ae,Q,0,Q.length,0),J(Ae),ms(Me,de)}}this.handleError(Oe(this.filename,ne)),this.db=jt(ne,"i32"),zN(this.db),this.Za={},this.Na={}}var ne=_r(4),se=c.cwrap,Oe=se("sqlite3_open","number",["string","number"]),Ke=se("sqlite3_close_v2","number",["number"]),ze=se("sqlite3_exec","number",["number","string","number","number","number"]),At=se("sqlite3_changes","number",["number"]),ar=se("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Eb=se("sqlite3_sql","string",["number"]),yN=se("sqlite3_normalized_sql","string",["number"]),xb=se("sqlite3_prepare_v2","number",["number","number","number","number","number"]),bN=se("sqlite3_bind_text","number",["number","number","number","number","number"]),Tb=se("sqlite3_bind_blob","number",["number","number","number","number","number"]),vN=se("sqlite3_bind_double","number",["number","number","number"]),wN=se("sqlite3_bind_int","number",["number","number","number"]),EN=se("sqlite3_bind_parameter_index","number",["number","string"]),xN=se("sqlite3_step","number",["number"]),TN=se("sqlite3_errmsg","string",["number"]),SN=se("sqlite3_column_count","number",["number"]),CN=se("sqlite3_data_count","number",["number"]),AN=se("sqlite3_column_double","number",["number","number"]),Sb=se("sqlite3_column_text","string",["number","number"]),NN=se("sqlite3_column_blob","number",["number","number"]),kN=se("sqlite3_column_bytes","number",["number","number"]),RN=se("sqlite3_column_type","number",["number","number"]),PN=se("sqlite3_column_name","string",["number","number"]),$N=se("sqlite3_reset","number",["number"]),MN=se("sqlite3_clear_bindings","number",["number"]),IN=se("sqlite3_finalize","number",["number"]),Cb=se("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),ON=se("sqlite3_value_type","number",["number"]),_N=se("sqlite3_value_bytes","number",["number"]),LN=se("sqlite3_value_text","string",["number"]),DN=se("sqlite3_value_blob","number",["number"]),qN=se("sqlite3_value_double","number",["number"]),BN=se("sqlite3_result_double","",["number","number"]),Ab=se("sqlite3_result_null","",["number"]),FN=se("sqlite3_result_text","",["number","string","number","number"]),UN=se("sqlite3_result_blob","",["number","number","number","number"]),jN=se("sqlite3_result_int","",["number","number"]),Mc=se("sqlite3_result_error","",["number","string","number"]),Nb=se("sqlite3_aggregate_context","number",["number","number"]),zN=se("RegisterExtensionFunctions","number",["number"]);T.prototype.bind=function(Q){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(Q)?this.xb(Q):Q!=null&&typeof Q=="object"?this.yb(Q):!0},T.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var Q=xN(this.La);switch(Q){case 100:return!0;case 101:return!1;default:throw this.db.handleError(Q)}},T.prototype.sb=function(Q){return Q==null&&(Q=this.Ja,this.Ja+=1),AN(this.La,Q)},T.prototype.Cb=function(Q){if(Q==null&&(Q=this.Ja,this.Ja+=1),Q=Sb(this.La,Q),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(Q)},T.prototype.Db=function(Q){return Q==null&&(Q=this.Ja,this.Ja+=1),Sb(this.La,Q)},T.prototype.getBlob=function(Q){Q==null&&(Q=this.Ja,this.Ja+=1);var de=kN(this.La,Q);Q=NN(this.La,Q);for(var Ae=new Uint8Array(de),Me=0;Me<de;Me+=1)Ae[Me]=ce[Q+Me];return Ae},T.prototype.get=function(Q,de){de=de||{},Q!=null&&this.bind(Q)&&this.step(),Q=[];for(var Ae=CN(this.La),Me=0;Me<Ae;Me+=1)switch(RN(this.La,Me)){case 1:var qe=de.useBigInt?this.Cb(Me):this.sb(Me);Q.push(qe);break;case 2:Q.push(this.sb(Me));break;case 3:Q.push(this.Db(Me));break;case 4:Q.push(this.getBlob(Me));break;default:Q.push(null)}return Q},T.prototype.getColumnNames=function(){for(var Q=[],de=SN(this.La),Ae=0;Ae<de;Ae+=1)Q.push(PN(this.La,Ae));return Q},T.prototype.getAsObject=function(Q,de){Q=this.get(Q,de),de=this.getColumnNames();for(var Ae={},Me=0;Me<de.length;Me+=1)Ae[de[Me]]=Q[Me];return Ae},T.prototype.getSQL=function(){return Eb(this.La)},T.prototype.getNormalizedSQL=function(){return yN(this.La)},T.prototype.run=function(Q){return Q!=null&&this.bind(Q),this.step(),this.reset()},T.prototype.nb=function(Q,de){de==null&&(de=this.Ja,this.Ja+=1),Q=w(Q);var Ae=mf(Q);this.fb.push(Ae),this.db.handleError(bN(this.La,de,Ae,Q.length-1,0))},T.prototype.wb=function(Q,de){de==null&&(de=this.Ja,this.Ja+=1);var Ae=mf(Q);this.fb.push(Ae),this.db.handleError(Tb(this.La,de,Ae,Q.length,0))},T.prototype.mb=function(Q,de){de==null&&(de=this.Ja,this.Ja+=1),this.db.handleError((Q===(Q|0)?wN:vN)(this.La,de,Q))},T.prototype.zb=function(Q){Q==null&&(Q=this.Ja,this.Ja+=1),Tb(this.La,Q,0,0,0)},T.prototype.ob=function(Q,de){switch(de==null&&(de=this.Ja,this.Ja+=1),typeof Q){case"string":this.nb(Q,de);return;case"number":this.mb(Q,de);return;case"bigint":this.nb(Q.toString(),de);return;case"boolean":this.mb(Q+0,de);return;case"object":if(Q===null){this.zb(de);return}if(Q.length!=null){this.wb(Q,de);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+Q+")."},T.prototype.yb=function(Q){var de=this;return Object.keys(Q).forEach(function(Ae){var Me=EN(de.La,Ae);Me!==0&&de.ob(Q[Ae],Me)}),!0},T.prototype.xb=function(Q){for(var de=0;de<Q.length;de+=1)this.ob(Q[de],de+1);return!0},T.prototype.reset=function(){return this.freemem(),MN(this.La)===0&&$N(this.La)===0},T.prototype.freemem=function(){for(var Q;(Q=this.fb.pop())!==void 0;)Pc(Q)},T.prototype.free=function(){this.freemem();var Q=IN(this.La)===0;return delete this.db.Za[this.La],this.La=0,Q},P.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var Q=Pa(),de=_r(4);Rt(ne),Rt(de);try{this.db.handleError(xb(this.db.db,this.eb,-1,ne,de)),this.eb=jt(de,"i32");var Ae=jt(ne,"i32");return Ae===0?(this.gb(),{done:!0}):(this.Ua=new T(Ae,this.db),this.db.Za[Ae]=this.Ua,{value:this.Ua,done:!1})}catch(Me){throw this.ib=D(this.eb),this.gb(),Me}finally{$a(Q)}},P.prototype.gb=function(){Pc(this.Ya),this.Ya=null},P.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:D(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(P.prototype[Symbol.iterator]=function(){return this}),L.prototype.run=function(Q,de){if(!this.db)throw"Database closed";if(de){Q=this.prepare(Q,de);try{Q.step()}finally{Q.free()}}else this.handleError(ze(this.db,Q,0,0,ne));return this},L.prototype.exec=function(Q,de,Ae){if(!this.db)throw"Database closed";var Me=Pa(),qe=null;try{var Ze=re(Q)+1,zi=_r(Ze);K(Q,ce,zi,Ze);var _n=zi,Xn=_r(4);for(Q=[];jt(_n,"i8")!==0;){Rt(ne),Rt(Xn),this.handleError(xb(this.db,_n,-1,ne,Xn));var Zn=jt(ne,"i32");if(_n=jt(Xn,"i32"),Zn!==0){for(Ze=null,qe=new T(Zn,this),de!=null&&qe.bind(de);qe.step();)Ze===null&&(Ze={columns:qe.getColumnNames(),values:[]},Q.push(Ze)),Ze.values.push(qe.get(null,Ae));qe.free()}}return Q}catch(Ma){throw qe&&qe.free(),Ma}finally{$a(Me)}},L.prototype.each=function(Q,de,Ae,Me,qe){typeof de=="function"&&(Me=Ae,Ae=de,de=void 0),Q=this.prepare(Q,de);try{for(;Q.step();)Ae(Q.getAsObject(null,qe))}finally{Q.free()}if(typeof Me=="function")return Me()},L.prototype.prepare=function(Q,de){if(Rt(ne),this.handleError(ar(this.db,Q,-1,ne,0)),Q=jt(ne,"i32"),Q===0)throw"Nothing to prepare";var Ae=new T(Q,this);return de!=null&&Ae.bind(de),this.Za[Q]=Ae},L.prototype.iterateStatements=function(Q){return new P(Q,this)},L.prototype.export=function(){Object.values(this.Za).forEach(function(de){de.free()}),Object.values(this.Na).forEach(Ra),this.Na={},this.handleError(Ke(this.db));var Q=qt(this.filename);return this.handleError(Oe(this.filename,ne)),this.db=jt(ne,"i32"),Q},L.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(Q){Q.free()}),Object.values(this.Na).forEach(Ra),this.Na={},this.handleError(Ke(this.db)),xc("/"+this.filename),this.db=null)},L.prototype.handleError=function(Q){if(Q===0)return null;throw Q=TN(this.db),Error(Q)},L.prototype.getRowsModified=function(){return At(this.db)},L.prototype.create_function=function(Q,de){Object.prototype.hasOwnProperty.call(this.Na,Q)&&(Ra(this.Na[Q]),delete this.Na[Q]);var Ae=pf(function(Me,qe,Ze){qe=v(qe,Ze);try{var zi=de.apply(null,qe)}catch(_n){Mc(Me,_n,-1);return}p(Me,zi)},"viii");return this.Na[Q]=Ae,this.handleError(Cb(this.db,Q,de.length,1,0,Ae,0,0,0)),this},L.prototype.create_aggregate=function(Q,de){var Ae=de.init||function(){return null},Me=de.finalize||function(Xn){return Xn},qe=de.step;if(!qe)throw"An aggregate function must have a step function in "+Q;var Ze={};Object.hasOwnProperty.call(this.Na,Q)&&(Ra(this.Na[Q]),delete this.Na[Q]),de=Q+"__finalize",Object.hasOwnProperty.call(this.Na,de)&&(Ra(this.Na[de]),delete this.Na[de]);var zi=pf(function(Xn,Zn,Ma){var bs=Nb(Xn,1);Object.hasOwnProperty.call(Ze,bs)||(Ze[bs]=Ae()),Zn=v(Zn,Ma),Zn=[Ze[bs]].concat(Zn);try{Ze[bs]=qe.apply(null,Zn)}catch(VN){delete Ze[bs],Mc(Xn,VN,-1)}},"viii"),_n=pf(function(Xn){var Zn=Nb(Xn,1);try{var Ma=Me(Ze[Zn])}catch(bs){delete Ze[Zn],Mc(Xn,bs,-1);return}p(Xn,Ma),delete Ze[Zn]},"vi");return this.Na[Q]=zi,this.Na[de]=_n,this.handleError(Cb(this.db,Q,qe.length-1,1,0,0,zi,_n,0)),this},c.Database=L};var u=Object.assign({},c),d="./this.program",h=typeof window=="object",f=typeof importScripts=="function",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",b="",C,x,y,E,N,I;g?(b=f?du.dirname(b)+"/":__dirname+"/",I=()=>{N||(E=du,N=du)},C=function(p,v){return I(),p=N.normalize(p),E.readFileSync(p,v?void 0:"utf8")},y=p=>(p=C(p,!0),p.buffer||(p=new Uint8Array(p)),p),x=(p,v,T)=>{I(),p=N.normalize(p),E.readFile(p,function(P,L){P?T(P):v(L.buffer)})},1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),n.exports=c,c.inspect=function(){return"[Emscripten Module object]"}):(h||f)&&(f?b=self.location.href:typeof document<"u"&&document.currentScript&&(b=document.currentScript.src),b=b.indexOf("blob:")!==0?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",C=p=>{var v=new XMLHttpRequest;return v.open("GET",p,!1),v.send(null),v.responseText},f&&(y=p=>{var v=new XMLHttpRequest;return v.open("GET",p,!1),v.responseType="arraybuffer",v.send(null),new Uint8Array(v.response)}),x=(p,v,T)=>{var P=new XMLHttpRequest;P.open("GET",p,!0),P.responseType="arraybuffer",P.onload=()=>{P.status==200||P.status==0&&P.response?v(P.response):T()},P.onerror=T,P.send(null)});var B=c.print||console.log.bind(console),O=c.printErr||console.warn.bind(console);Object.assign(c,u),u=null,c.thisProgram&&(d=c.thisProgram);var $;c.wasmBinary&&($=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&Dt("no native wasm support detected");var R,H=!1,A=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function U(p,v,T){var P=v+T;for(T=v;p[T]&&!(T>=P);)++T;if(16<T-v&&p.buffer&&A)return A.decode(p.subarray(v,T));for(P="";v<T;){var L=p[v++];if(L&128){var ne=p[v++]&63;if((L&224)==192)P+=String.fromCharCode((L&31)<<6|ne);else{var se=p[v++]&63;L=(L&240)==224?(L&15)<<12|ne<<6|se:(L&7)<<18|ne<<12|se<<6|p[v++]&63,65536>L?P+=String.fromCharCode(L):(L-=65536,P+=String.fromCharCode(55296|L>>10,56320|L&1023))}}else P+=String.fromCharCode(L)}return P}function D(p,v){return p?U(te,p,v):""}function K(p,v,T,P){if(!(0<P))return 0;var L=T;P=T+P-1;for(var ne=0;ne<p.length;++ne){var se=p.charCodeAt(ne);if(55296<=se&&57343>=se){var Oe=p.charCodeAt(++ne);se=65536+((se&1023)<<10)|Oe&1023}if(127>=se){if(T>=P)break;v[T++]=se}else{if(2047>=se){if(T+1>=P)break;v[T++]=192|se>>6}else{if(65535>=se){if(T+2>=P)break;v[T++]=224|se>>12}else{if(T+3>=P)break;v[T++]=240|se>>18,v[T++]=128|se>>12&63}v[T++]=128|se>>6&63}v[T++]=128|se&63}}return v[T]=0,T-L}function re(p){for(var v=0,T=0;T<p.length;++T){var P=p.charCodeAt(T);127>=P?v++:2047>=P?v+=2:55296<=P&&57343>=P?(v+=4,++T):v+=3}return v}var he,ce,te,ee,j,X,le,xe;function Te(){var p=R.buffer;he=p,c.HEAP8=ce=new Int8Array(p),c.HEAP16=ee=new Int16Array(p),c.HEAP32=j=new Int32Array(p),c.HEAPU8=te=new Uint8Array(p),c.HEAPU16=new Uint16Array(p),c.HEAPU32=X=new Uint32Array(p),c.HEAPF32=le=new Float32Array(p),c.HEAPF64=xe=new Float64Array(p)}var Ce,Re=[],_e=[],ht=[];function wt(){var p=c.preRun.shift();Re.unshift(p)}var mn=0,tn=null;function Dt(p){throw c.onAbort&&c.onAbort(p),p="Aborted("+p+")",O(p),H=!0,new WebAssembly.RuntimeError(p+". Build with -sASSERTIONS for more info.")}function In(){return ft.startsWith("data:application/octet-stream;base64,")}var ft;if(ft="sql-wasm.wasm",!In()){var sr=ft;ft=c.locateFile?c.locateFile(sr,b):b+sr}function $r(){var p=ft;try{if(p==ft&&$)return new Uint8Array($);if(y)return y(p);throw"both async and sync fetching of the wasm failed"}catch(v){Dt(v)}}function or(){if(!$&&(h||f)){if(typeof fetch=="function"&&!ft.startsWith("file://"))return fetch(ft,{credentials:"same-origin"}).then(function(p){if(!p.ok)throw"failed to load wasm binary file at '"+ft+"'";return p.arrayBuffer()}).catch(function(){return $r()});if(x)return new Promise(function(p,v){x(ft,function(T){p(new Uint8Array(T))},v)})}return Promise.resolve().then(function(){return $r()})}var Pe,et;function Fi(p){for(;0<p.length;)p.shift()(c)}function jt(p,v="i8"){switch(v.endsWith("*")&&(v="*"),v){case"i1":return ce[p>>0];case"i8":return ce[p>>0];case"i16":return ee[p>>1];case"i32":return j[p>>2];case"i64":return j[p>>2];case"float":return le[p>>2];case"double":return xe[p>>3];case"*":return X[p>>2];default:Dt("invalid type for getValue: "+v)}return null}function Rt(p){var v="i32";switch(v.endsWith("*")&&(v="*"),v){case"i1":ce[p>>0]=0;break;case"i8":ce[p>>0]=0;break;case"i16":ee[p>>1]=0;break;case"i32":j[p>>2]=0;break;case"i64":et=[0,(Pe=0,1<=+Math.abs(Pe)?0<Pe?(Math.min(+Math.floor(Pe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],j[p>>2]=et[0],j[p+4>>2]=et[1];break;case"float":le[p>>2]=0;break;case"double":xe[p>>3]=0;break;case"*":X[p>>2]=0;break;default:Dt("invalid type for setValue: "+v)}}var On=(p,v)=>{for(var T=0,P=p.length-1;0<=P;P--){var L=p[P];L==="."?p.splice(P,1):L===".."?(p.splice(P,1),T++):T&&(p.splice(P,1),T--)}if(v)for(;T;T--)p.unshift("..");return p},W=p=>{var v=p.charAt(0)==="/",T=p.substr(-1)==="/";return(p=On(p.split("/").filter(P=>!!P),!v).join("/"))||v||(p="."),p&&T&&(p+="/"),(v?"/":"")+p},ie=p=>{var v=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(p).slice(1);return p=v[0],v=v[1],!p&&!v?".":(v&&(v=v.substr(0,v.length-1)),p+v)},ue=p=>{if(p==="/")return"/";p=W(p),p=p.replace(/\/$/,"");var v=p.lastIndexOf("/");return v===-1?p:p.substr(v+1)};function S(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var p=new Uint8Array(1);return()=>(crypto.getRandomValues(p),p[0])}if(g)try{var v=du;return()=>v.randomBytes(1)[0]}catch(T){}return()=>Dt("randomDevice")}function m(){for(var p="",v=!1,T=arguments.length-1;-1<=T&&!v;T--){if(v=0<=T?arguments[T]:"/",typeof v!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!v)return"";p=v+"/"+p,v=v.charAt(0)==="/"}return p=On(p.split("/").filter(P=>!!P),!v).join("/"),(v?"/":"")+p||"."}function w(p,v){var T=Array(re(p)+1);return p=K(p,T,0,T.length),v&&(T.length=p),T}var k=[];function _(p,v){k[p]={input:[],output:[],Xa:v},Sa(p,F)}var F={open:function(p){var v=k[p.node.rdev];if(!v)throw new ae(43);p.tty=v,p.seekable=!1},close:function(p){p.tty.Xa.fsync(p.tty)},fsync:function(p){p.tty.Xa.fsync(p.tty)},read:function(p,v,T,P){if(!p.tty||!p.tty.Xa.tb)throw new ae(60);for(var L=0,ne=0;ne<P;ne++){try{var se=p.tty.Xa.tb(p.tty)}catch(Oe){throw new ae(29)}if(se===void 0&&L===0)throw new ae(6);if(se==null)break;L++,v[T+ne]=se}return L&&(p.node.timestamp=Date.now()),L},write:function(p,v,T,P){if(!p.tty||!p.tty.Xa.jb)throw new ae(60);try{for(var L=0;L<P;L++)p.tty.Xa.jb(p.tty,v[T+L])}catch(ne){throw new ae(29)}return P&&(p.node.timestamp=Date.now()),L}},G={tb:function(p){if(!p.input.length){var v=null;if(g){var T=Buffer.alloc(256),P=0;try{P=E.readSync(process.stdin.fd,T,0,256,-1)}catch(L){if(L.toString().includes("EOF"))P=0;else throw L}0<P?v=T.slice(0,P).toString("utf-8"):v=null}else typeof window<"u"&&typeof window.prompt=="function"?(v=window.prompt("Input: "),v!==null&&(v+="\n")):typeof readline=="function"&&(v=readline(),v!==null&&(v+="\n"));if(!v)return null;p.input=w(v,!0)}return p.input.shift()},jb:function(p,v){v===null||v===10?(B(U(p.output,0)),p.output=[]):v!=0&&p.output.push(v)},fsync:function(p){p.output&&0<p.output.length&&(B(U(p.output,0)),p.output=[])}},ge={jb:function(p,v){v===null||v===10?(O(U(p.output,0)),p.output=[]):v!=0&&p.output.push(v)},fsync:function(p){p.output&&0<p.output.length&&(O(U(p.output,0)),p.output=[])}},ye={Qa:null,Ra:function(){return ye.createNode(null,"/",16895,0)},createNode:function(p,v,T,P){if((T&61440)===24576||(T&61440)===4096)throw new ae(63);return ye.Qa||(ye.Qa={dir:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa,lookup:ye.Ga.lookup,ab:ye.Ga.ab,rename:ye.Ga.rename,unlink:ye.Ga.unlink,rmdir:ye.Ga.rmdir,readdir:ye.Ga.readdir,symlink:ye.Ga.symlink},stream:{Ta:ye.Ha.Ta}},file:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa},stream:{Ta:ye.Ha.Ta,read:ye.Ha.read,write:ye.Ha.write,lb:ye.Ha.lb,bb:ye.Ha.bb,cb:ye.Ha.cb}},link:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa,readlink:ye.Ga.readlink},stream:{}},pb:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa},stream:of}}),T=wa(p,v,T,P),(T.mode&61440)===16384?(T.Ga=ye.Qa.dir.node,T.Ha=ye.Qa.dir.stream,T.Ia={}):(T.mode&61440)===32768?(T.Ga=ye.Qa.file.node,T.Ha=ye.Qa.file.stream,T.Ma=0,T.Ia=null):(T.mode&61440)===40960?(T.Ga=ye.Qa.link.node,T.Ha=ye.Qa.link.stream):(T.mode&61440)===8192&&(T.Ga=ye.Qa.pb.node,T.Ha=ye.Qa.pb.stream),T.timestamp=Date.now(),p&&(p.Ia[v]=T,p.timestamp=T.timestamp),T},Jb:function(p){return p.Ia?p.Ia.subarray?p.Ia.subarray(0,p.Ma):new Uint8Array(p.Ia):new Uint8Array(0)},qb:function(p,v){var T=p.Ia?p.Ia.length:0;T>=v||(v=Math.max(v,T*(1048576>T?2:1.125)>>>0),T!=0&&(v=Math.max(v,256)),T=p.Ia,p.Ia=new Uint8Array(v),0<p.Ma&&p.Ia.set(T.subarray(0,p.Ma),0))},Gb:function(p,v){if(p.Ma!=v)if(v==0)p.Ia=null,p.Ma=0;else{var T=p.Ia;p.Ia=new Uint8Array(v),T&&p.Ia.set(T.subarray(0,Math.min(v,p.Ma))),p.Ma=v}},Ga:{Pa:function(p){var v={};return v.dev=(p.mode&61440)===8192?p.id:1,v.ino=p.id,v.mode=p.mode,v.nlink=1,v.uid=0,v.gid=0,v.rdev=p.rdev,(p.mode&61440)===16384?v.size=4096:(p.mode&61440)===32768?v.size=p.Ma:(p.mode&61440)===40960?v.size=p.link.length:v.size=0,v.atime=new Date(p.timestamp),v.mtime=new Date(p.timestamp),v.ctime=new Date(p.timestamp),v.Ab=4096,v.blocks=Math.ceil(v.size/v.Ab),v},Oa:function(p,v){v.mode!==void 0&&(p.mode=v.mode),v.timestamp!==void 0&&(p.timestamp=v.timestamp),v.size!==void 0&&ye.Gb(p,v.size)},lookup:function(){throw ba[44]},ab:function(p,v,T,P){return ye.createNode(p,v,T,P)},rename:function(p,v,T){if((p.mode&61440)===16384){try{var P=Tn(v,T)}catch(ne){}if(P)for(var L in P.Ia)throw new ae(55)}delete p.parent.Ia[p.name],p.parent.timestamp=Date.now(),p.name=T,v.Ia[T]=p,v.timestamp=p.parent.timestamp,p.parent=v},unlink:function(p,v){delete p.Ia[v],p.timestamp=Date.now()},rmdir:function(p,v){var T=Tn(p,v),P;for(P in T.Ia)throw new ae(55);delete p.Ia[v],p.timestamp=Date.now()},readdir:function(p){var v=[".",".."],T;for(T in p.Ia)p.Ia.hasOwnProperty(T)&&v.push(T);return v},symlink:function(p,v,T){return p=ye.createNode(p,v,41471,0),p.link=T,p},readlink:function(p){if((p.mode&61440)!==40960)throw new ae(28);return p.link}},Ha:{read:function(p,v,T,P,L){var ne=p.node.Ia;if(L>=p.node.Ma)return 0;if(p=Math.min(p.node.Ma-L,P),8<p&&ne.subarray)v.set(ne.subarray(L,L+p),T);else for(P=0;P<p;P++)v[T+P]=ne[L+P];return p},write:function(p,v,T,P,L,ne){if(v.buffer===ce.buffer&&(ne=!1),!P)return 0;if(p=p.node,p.timestamp=Date.now(),v.subarray&&(!p.Ia||p.Ia.subarray)){if(ne)return p.Ia=v.subarray(T,T+P),p.Ma=P;if(p.Ma===0&&L===0)return p.Ia=v.slice(T,T+P),p.Ma=P;if(L+P<=p.Ma)return p.Ia.set(v.subarray(T,T+P),L),P}if(ye.qb(p,L+P),p.Ia.subarray&&v.subarray)p.Ia.set(v.subarray(T,T+P),L);else for(ne=0;ne<P;ne++)p.Ia[L+ne]=v[T+ne];return p.Ma=Math.max(p.Ma,L+P),P},Ta:function(p,v,T){if(T===1?v+=p.position:T===2&&(p.node.mode&61440)===32768&&(v+=p.node.Ma),0>v)throw new ae(28);return v},lb:function(p,v,T){ye.qb(p.node,v+T),p.node.Ma=Math.max(p.node.Ma,v+T)},bb:function(p,v,T,P,L){if((p.node.mode&61440)!==32768)throw new ae(43);if(p=p.node.Ia,L&2||p.buffer!==he){if((0<T||T+v<p.length)&&(p.subarray?p=p.subarray(T,T+v):p=Array.prototype.slice.call(p,T,T+v)),T=!0,v=65536*Math.ceil(v/65536),(L=vb(65536,v))?(te.fill(0,L,L+v),v=L):v=0,!v)throw new ae(48);ce.set(p,v)}else T=!1,v=p.byteOffset;return{Fb:v,vb:T}},cb:function(p,v,T,P,L){if((p.node.mode&61440)!==32768)throw new ae(43);return L&2||ye.Ha.write(p,v,0,P,T,!1),0}}},He=null,rt={},De=[],rf=1,Ui=null,bc=!0,ae=null,ba={},nn=(p,v={})=>{if(p=m("/",p),!p)return{path:"",node:null};if(v=Object.assign({rb:!0,kb:0},v),8<v.kb)throw new ae(32);p=On(p.split("/").filter(se=>!!se),!1);for(var T=He,P="/",L=0;L<p.length;L++){var ne=L===p.length-1;if(ne&&v.parent)break;if(T=Tn(T,p[L]),P=W(P+"/"+p[L]),T.Va&&(!ne||ne&&v.rb)&&(T=T.Va.root),!ne||v.Sa){for(ne=0;(T.mode&61440)===40960;)if(T=Tc(P),P=m(ie(P),T),T=nn(P,{kb:v.kb+1}).node,40<ne++)throw new ae(32)}}return{path:P,node:T}},ps=p=>{for(var v;;){if(p===p.parent)return p=p.Ra.ub,v?p[p.length-1]!=="/"?p+"/"+v:p+v:p;v=v?p.name+"/"+v:p.name,p=p.parent}},va=(p,v)=>{for(var T=0,P=0;P<v.length;P++)T=(T<<5)-T+v.charCodeAt(P)|0;return(p+T>>>0)%Ui.length},vc=p=>{var v=va(p.parent.id,p.name);if(Ui[v]===p)Ui[v]=p.Wa;else for(v=Ui[v];v;){if(v.Wa===p){v.Wa=p.Wa;break}v=v.Wa}},Tn=(p,v)=>{var T;if(T=(T=Yn(p,"x"))?T:p.Ga.lookup?0:2)throw new ae(T,p);for(T=Ui[va(p.id,v)];T;T=T.Wa){var P=T.name;if(T.parent.id===p.id&&P===v)return T}return p.Ga.lookup(p,v)},wa=(p,v,T,P)=>(p=new yb(p,v,T,P),v=va(p.parent.id,p.name),p.Wa=Ui[v],Ui[v]=p),sf={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Ea=p=>{var v=["r","w","rw"][p&3];return p&512&&(v+="w"),v},Yn=(p,v)=>{if(bc)return 0;if(!v.includes("r")||p.mode&292){if(v.includes("w")&&!(p.mode&146)||v.includes("x")&&!(p.mode&73))return 2}else return 2;return 0},xa=(p,v)=>{try{return Tn(p,v),20}catch(T){}return Yn(p,"wx")},Ta=(p,v,T)=>{try{var P=Tn(p,v)}catch(L){return L.Ka}if(p=Yn(p,"wx"))return p;if(T){if((P.mode&61440)!==16384)return 54;if(P===P.parent||ps(P)==="/")return 10}else if((P.mode&61440)===16384)return 31;return 0},Sn=(p=0)=>{for(;4096>=p;p++)if(!De[p])return p;throw new ae(33)},wc=(p,v)=>(ka||(ka=function(){this.$a={}},ka.prototype={},Object.defineProperties(ka.prototype,{object:{get:function(){return this.node},set:function(T){this.node=T}},flags:{get:function(){return this.$a.flags},set:function(T){this.$a.flags=T}},position:{get:function(){return this.$a.position},set:function(T){this.$a.position=T}}})),p=Object.assign(new ka,p),v=Sn(v),p.fd=v,De[v]=p),of={open:p=>{p.Ha=rt[p.node.rdev].Ha,p.Ha.open&&p.Ha.open(p)},Ta:()=>{throw new ae(70)}},Sa=(p,v)=>{rt[p]={Ha:v}},Ca=(p,v)=>{var T=v==="/",P=!v;if(T&&He)throw new ae(10);if(!T&&!P){var L=nn(v,{rb:!1});if(v=L.path,L=L.node,L.Va)throw new ae(10);if((L.mode&61440)!==16384)throw new ae(54)}v={type:p,Kb:{},ub:v,Eb:[]},p=p.Ra(v),p.Ra=v,v.root=p,T?He=p:L&&(L.Va=v,L.Ra&&L.Ra.Eb.push(v))},io=(p,v,T)=>{var P=nn(p,{parent:!0}).node;if(p=ue(p),!p||p==="."||p==="..")throw new ae(28);var L=xa(P,p);if(L)throw new ae(L);if(!P.Ga.ab)throw new ae(63);return P.Ga.ab(P,p,v,T)},Jn=(p,v)=>io(p,(v!==void 0?v:511)&1023|16384,0),Mr=(p,v,T)=>{typeof T>"u"&&(T=v,v=438),io(p,v|8192,T)},Aa=(p,v)=>{if(!m(p))throw new ae(44);var T=nn(v,{parent:!0}).node;if(!T)throw new ae(44);v=ue(v);var P=xa(T,v);if(P)throw new ae(P);if(!T.Ga.symlink)throw new ae(63);T.Ga.symlink(T,v,p)},Ec=p=>{var v=nn(p,{parent:!0}).node;p=ue(p);var T=Tn(v,p),P=Ta(v,p,!0);if(P)throw new ae(P);if(!v.Ga.rmdir)throw new ae(63);if(T.Va)throw new ae(10);v.Ga.rmdir(v,p),vc(T)},xc=p=>{var v=nn(p,{parent:!0}).node;if(!v)throw new ae(44);p=ue(p);var T=Tn(v,p),P=Ta(v,p,!1);if(P)throw new ae(P);if(!v.Ga.unlink)throw new ae(63);if(T.Va)throw new ae(10);v.Ga.unlink(v,p),vc(T)},Tc=p=>{if(p=nn(p).node,!p)throw new ae(44);if(!p.Ga.readlink)throw new ae(28);return m(ps(p.parent),p.Ga.readlink(p))},Ir=(p,v)=>{if(p=nn(p,{Sa:!v}).node,!p)throw new ae(44);if(!p.Ga.Pa)throw new ae(63);return p.Ga.Pa(p)},Sc=p=>Ir(p,!0),ms=(p,v)=>{if(p=typeof p=="string"?nn(p,{Sa:!0}).node:p,!p.Ga.Oa)throw new ae(63);p.Ga.Oa(p,{mode:v&4095|p.mode&-4096,timestamp:Date.now()})},af=(p,v)=>{if(0>v)throw new ae(28);if(p=typeof p=="string"?nn(p,{Sa:!0}).node:p,!p.Ga.Oa)throw new ae(63);if((p.mode&61440)===16384)throw new ae(31);if((p.mode&61440)!==32768)throw new ae(28);var T=Yn(p,"w");if(T)throw new ae(T);p.Ga.Oa(p,{size:v,timestamp:Date.now()})},gs=(p,v,T)=>{if(p==="")throw new ae(44);if(typeof v=="string"){var P=sf[v];if(typeof P>"u")throw Error("Unknown file open mode: "+v);v=P}if(T=v&64?(typeof T>"u"?438:T)&4095|32768:0,typeof p=="object")var L=p;else{p=W(p);try{L=nn(p,{Sa:!(v&131072)}).node}catch(ne){}}if(P=!1,v&64)if(L){if(v&128)throw new ae(20)}else L=io(p,T,0),P=!0;if(!L)throw new ae(44);if((L.mode&61440)===8192&&(v&=-513),v&65536&&(L.mode&61440)!==16384)throw new ae(54);if(!P&&(T=L?(L.mode&61440)===40960?32:(L.mode&61440)===16384&&(Ea(v)!=="r"||v&512)?31:Yn(L,Ea(v)):44))throw new ae(T);return v&512&&!P&&af(L,0),v&=-131713,L=wc({node:L,path:ps(L),flags:v,seekable:!0,position:0,Ha:L.Ha,Ib:[],error:!1}),L.Ha.open&&L.Ha.open(L),!c.logReadFiles||v&1||(Cc||(Cc={}),p in Cc||(Cc[p]=1)),L},J=p=>{if(p.fd===null)throw new ae(8);p.hb&&(p.hb=null);try{p.Ha.close&&p.Ha.close(p)}catch(v){throw v}finally{De[p.fd]=null}p.fd=null},pe=(p,v,T)=>{if(p.fd===null)throw new ae(8);if(!p.seekable||!p.Ha.Ta)throw new ae(70);if(T!=0&&T!=1&&T!=2)throw new ae(28);p.position=p.Ha.Ta(p,v,T),p.Ib=[]},Se=(p,v,T,P,L)=>{if(0>P||0>L)throw new ae(28);if(p.fd===null)throw new ae(8);if((p.flags&2097155)===1)throw new ae(8);if((p.node.mode&61440)===16384)throw new ae(31);if(!p.Ha.read)throw new ae(28);var ne=typeof L<"u";if(!ne)L=p.position;else if(!p.seekable)throw new ae(70);return v=p.Ha.read(p,v,T,P,L),ne||(p.position+=v),v},Et=(p,v,T,P,L)=>{if(0>P||0>L)throw new ae(28);if(p.fd===null)throw new ae(8);if(!(p.flags&2097155))throw new ae(8);if((p.node.mode&61440)===16384)throw new ae(31);if(!p.Ha.write)throw new ae(28);p.seekable&&p.flags&1024&&pe(p,0,2);var ne=typeof L<"u";if(!ne)L=p.position;else if(!p.seekable)throw new ae(70);return v=p.Ha.write(p,v,T,P,L,void 0),ne||(p.position+=v),v},qt=p=>{var v,T=gs(p,T||0);p=Ir(p).size;var P=new Uint8Array(p);return Se(T,P,0,p,0),v=P,J(T),v},gn=()=>{ae||(ae=function(p,v){this.node=v,this.Hb=function(T){this.Ka=T},this.Hb(p),this.message="FS error"},ae.prototype=Error(),ae.prototype.constructor=ae,[44].forEach(p=>{ba[p]=new ae(p),ba[p].stack="<generic error, no stack>"}))},ji,fb=(p,v)=>{var T=0;return p&&(T|=365),v&&(T|=146),T},Na=(p,v,T)=>{p=W("/dev/"+p);var P=fb(!!v,!!T);lf||(lf=64);var L=lf++<<8|0;Sa(L,{open:ne=>{ne.seekable=!1},close:()=>{T&&T.buffer&&T.buffer.length&&T(10)},read:(ne,se,Oe,Ke)=>{for(var ze=0,At=0;At<Ke;At++){try{var ar=v()}catch(Eb){throw new ae(29)}if(ar===void 0&&ze===0)throw new ae(6);if(ar==null)break;ze++,se[Oe+At]=ar}return ze&&(ne.node.timestamp=Date.now()),ze},write:(ne,se,Oe,Ke)=>{for(var ze=0;ze<Ke;ze++)try{T(se[Oe+ze])}catch(At){throw new ae(29)}return Ke&&(ne.node.timestamp=Date.now()),ze}}),Mr(p,P,L)},lf,at={},ka,Cc;function ys(p,v,T){if(v.charAt(0)==="/")return v;if(p=p===-100?"/":gi(p).path,v.length==0){if(!T)throw new ae(44);return p}return W(p+"/"+v)}function Ac(p,v,T){try{var P=p(v)}catch(L){if(L&&L.node&&W(v)!==W(ps(L.node)))return-54;throw L}return j[T>>2]=P.dev,j[T+8>>2]=P.ino,j[T+12>>2]=P.mode,X[T+16>>2]=P.nlink,j[T+20>>2]=P.uid,j[T+24>>2]=P.gid,j[T+28>>2]=P.rdev,et=[P.size>>>0,(Pe=P.size,1<=+Math.abs(Pe)?0<Pe?(Math.min(+Math.floor(Pe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],j[T+40>>2]=et[0],j[T+44>>2]=et[1],j[T+48>>2]=4096,j[T+52>>2]=P.blocks,et=[Math.floor(P.atime.getTime()/1e3)>>>0,(Pe=Math.floor(P.atime.getTime()/1e3),1<=+Math.abs(Pe)?0<Pe?(Math.min(+Math.floor(Pe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],j[T+56>>2]=et[0],j[T+60>>2]=et[1],X[T+64>>2]=0,et=[Math.floor(P.mtime.getTime()/1e3)>>>0,(Pe=Math.floor(P.mtime.getTime()/1e3),1<=+Math.abs(Pe)?0<Pe?(Math.min(+Math.floor(Pe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],j[T+72>>2]=et[0],j[T+76>>2]=et[1],X[T+80>>2]=0,et=[Math.floor(P.ctime.getTime()/1e3)>>>0,(Pe=Math.floor(P.ctime.getTime()/1e3),1<=+Math.abs(Pe)?0<Pe?(Math.min(+Math.floor(Pe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],j[T+88>>2]=et[0],j[T+92>>2]=et[1],X[T+96>>2]=0,et=[P.ino>>>0,(Pe=P.ino,1<=+Math.abs(Pe)?0<Pe?(Math.min(+Math.floor(Pe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],j[T+104>>2]=et[0],j[T+108>>2]=et[1],0}var Nc=void 0;function kc(){return Nc+=4,j[Nc-4>>2]}function gi(p){if(p=De[p],!p)throw new ae(8);return p}function cf(p){return X[p>>2]+4294967296*j[p+4>>2]}function pb(p){var v=re(p)+1,T=Rc(v);return T&&K(p,ce,T,v),T}function pN(p,v,T){function P(Ke){return(Ke=Ke.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Ke[1]:"GMT"}var L=new Date().getFullYear(),ne=new Date(L,0,1),se=new Date(L,6,1);L=ne.getTimezoneOffset();var Oe=se.getTimezoneOffset();j[p>>2]=60*Math.max(L,Oe),j[v>>2]=+(L!=Oe),p=P(ne),v=P(se),p=pb(p),v=pb(v),Oe<L?(X[T>>2]=p,X[T+4>>2]=v):(X[T>>2]=v,X[T+4>>2]=p)}function uf(p,v,T){uf.Bb||(uf.Bb=!0,pN(p,v,T))}var mb;mb=g?()=>{var p=process.hrtime();return 1e3*p[0]+p[1]/1e6}:()=>performance.now();var df={};function gb(){if(!hf){var p={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},v;for(v in df)df[v]===void 0?delete p[v]:p[v]=df[v];var T=[];for(v in p)T.push(v+"="+p[v]);hf=T}return hf}var hf,Or=void 0,ff=[];function pf(p,v){if(!Or){Or=new WeakMap;var T=Ce.length;if(Or)for(var P=0;P<0+T;P++){var L=Ce.get(P);L&&Or.set(L,P)}}if(Or.has(p))return Or.get(p);if(ff.length)T=ff.pop();else{try{Ce.grow(1)}catch(Oe){throw Oe instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Oe}T=Ce.length-1}try{Ce.set(T,p)}catch(Oe){if(!(Oe instanceof TypeError))throw Oe;if(typeof WebAssembly.Function=="function"){P=WebAssembly.Function,L={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var ne={parameters:[],results:v[0]=="v"?[]:[L[v[0]]]},se=1;se<v.length;++se)ne.parameters.push(L[v[se]]);v=new P(ne,p)}else{for(P=[1,96],L=v.slice(0,1),v=v.slice(1),ne={i:127,p:127,j:126,f:125,d:124},se=v.length,128>se?P.push(se):P.push(se%128|128,se>>7),se=0;se<v.length;++se)P.push(ne[v[se]]);L=="v"?P.push(0):P.push(1,ne[L]),v=[0,97,115,109,1,0,0,0,1],L=P.length,128>L?v.push(L):v.push(L%128|128,L>>7),v.push.apply(v,P),v.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),v=new WebAssembly.Module(new Uint8Array(v)),v=new WebAssembly.Instance(v,{e:{f:p}}).exports.f}Ce.set(T,v)}return Or.set(p,T),T}function Ra(p){Or.delete(Ce.get(p)),ff.push(p)}function mf(p){var v=Rc(p.length);return p.subarray||p.slice||(p=new Uint8Array(p)),te.set(p,v),v}function mN(p,v,T,P){var L={string:ze=>{var At=0;if(ze!=null&&ze!==0){var ar=(ze.length<<2)+1;At=_r(ar),K(ze,te,At,ar)}return At},array:ze=>{var At=_r(ze.length);return ce.set(ze,At),At}};p=c["_"+p];var ne=[],se=0;if(P)for(var Oe=0;Oe<P.length;Oe++){var Ke=L[T[Oe]];Ke?(se===0&&(se=Pa()),ne[Oe]=Ke(P[Oe])):ne[Oe]=P[Oe]}return T=p.apply(null,ne),T=function(ze){return se!==0&&$a(se),v==="string"?D(ze):v==="boolean"?!!ze:ze}(T)}function yb(p,v,T,P){p||(p=this),this.parent=p,this.Ra=p.Ra,this.Va=null,this.id=rf++,this.name=v,this.mode=T,this.Ga={},this.Ha={},this.rdev=P}Object.defineProperties(yb.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(p){p?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(p){p?this.mode|=146:this.mode&=-147}}}),gn(),Ui=Array(4096),Ca(ye,"/"),Jn("/tmp"),Jn("/home"),Jn("/home/web_user"),(()=>{Jn("/dev"),Sa(259,{read:()=>0,write:(v,T,P,L)=>L}),Mr("/dev/null",259),_(1280,G),_(1536,ge),Mr("/dev/tty",1280),Mr("/dev/tty1",1536);var p=S();Na("random",p),Na("urandom",p),Jn("/dev/shm"),Jn("/dev/shm/tmp")})(),(()=>{Jn("/proc");var p=Jn("/proc/self");Jn("/proc/self/fd"),Ca({Ra:()=>{var v=wa(p,"fd",16895,73);return v.Ga={lookup:(T,P)=>{var L=De[+P];if(!L)throw new ae(8);return T={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>L.path}},T.parent=T}},v}},"/proc/self/fd")})();var gN={a:function(p,v,T,P){Dt("Assertion failed: "+D(p)+", at: "+[v?D(v):"unknown filename",T,P?D(P):"unknown function"])},h:function(p,v){try{return p=D(p),ms(p,v),0}catch(T){if(typeof at>"u"||!(T instanceof ae))throw T;return-T.Ka}},H:function(p,v,T){try{if(v=D(v),v=ys(p,v),T&-8)return-28;var P=nn(v,{Sa:!0}).node;return P?(p="",T&4&&(p+="r"),T&2&&(p+="w"),T&1&&(p+="x"),p&&Yn(P,p)?-2:0):-44}catch(L){if(typeof at>"u"||!(L instanceof ae))throw L;return-L.Ka}},i:function(p,v){try{var T=De[p];if(!T)throw new ae(8);return ms(T.node,v),0}catch(P){if(typeof at>"u"||!(P instanceof ae))throw P;return-P.Ka}},g:function(p){try{var v=De[p];if(!v)throw new ae(8);var T=v.node,P=typeof T=="string"?nn(T,{Sa:!0}).node:T;if(!P.Ga.Oa)throw new ae(63);return P.Ga.Oa(P,{timestamp:Date.now()}),0}catch(L){if(typeof at>"u"||!(L instanceof ae))throw L;return-L.Ka}},b:function(p,v,T){Nc=T;try{var P=gi(p);switch(v){case 0:var L=kc();return 0>L?-28:wc(P,L).fd;case 1:case 2:return 0;case 3:return P.flags;case 4:return L=kc(),P.flags|=L,0;case 5:return L=kc(),ee[L+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return j[bb()>>2]=28,-1;default:return-28}}catch(ne){if(typeof at>"u"||!(ne instanceof ae))throw ne;return-ne.Ka}},G:function(p,v){try{var T=gi(p);return Ac(Ir,T.path,v)}catch(P){if(typeof at>"u"||!(P instanceof ae))throw P;return-P.Ka}},l:function(p,v,T){try{if(v=T+2097152>>>0<4194305-!!v?(v>>>0)+4294967296*T:NaN,isNaN(v))return-61;var P=De[p];if(!P)throw new ae(8);if(!(P.flags&2097155))throw new ae(28);return af(P.node,v),0}catch(L){if(typeof at>"u"||!(L instanceof ae))throw L;return-L.Ka}},B:function(p,v){try{if(v===0)return-28;var T=re("/")+1;return v<T?-68:(K("/",te,p,v),T)}catch(P){if(typeof at>"u"||!(P instanceof ae))throw P;return-P.Ka}},E:function(p,v){try{return p=D(p),Ac(Sc,p,v)}catch(T){if(typeof at>"u"||!(T instanceof ae))throw T;return-T.Ka}},y:function(p,v,T){try{return v=D(v),v=ys(p,v),v=W(v),v[v.length-1]==="/"&&(v=v.substr(0,v.length-1)),Jn(v,T),0}catch(P){if(typeof at>"u"||!(P instanceof ae))throw P;return-P.Ka}},D:function(p,v,T,P){try{v=D(v);var L=P&256;return v=ys(p,v,P&4096),Ac(L?Sc:Ir,v,T)}catch(ne){if(typeof at>"u"||!(ne instanceof ae))throw ne;return-ne.Ka}},v:function(p,v,T,P){Nc=P;try{v=D(v),v=ys(p,v);var L=P?kc():0;return gs(v,T,L).fd}catch(ne){if(typeof at>"u"||!(ne instanceof ae))throw ne;return-ne.Ka}},t:function(p,v,T,P){try{if(v=D(v),v=ys(p,v),0>=P)return-28;var L=Tc(v),ne=Math.min(P,re(L)),se=ce[T+ne];return K(L,te,T,P+1),ce[T+ne]=se,ne}catch(Oe){if(typeof at>"u"||!(Oe instanceof ae))throw Oe;return-Oe.Ka}},s:function(p){try{return p=D(p),Ec(p),0}catch(v){if(typeof at>"u"||!(v instanceof ae))throw v;return-v.Ka}},F:function(p,v){try{return p=D(p),Ac(Ir,p,v)}catch(T){if(typeof at>"u"||!(T instanceof ae))throw T;return-T.Ka}},p:function(p,v,T){try{return v=D(v),v=ys(p,v),T===0?xc(v):T===512?Ec(v):Dt("Invalid flags passed to unlinkat"),0}catch(P){if(typeof at>"u"||!(P instanceof ae))throw P;return-P.Ka}},o:function(p,v,T){try{if(v=D(v),v=ys(p,v,!0),T){var P=cf(T),L=j[T+8>>2];ne=1e3*P+L/1e6,T+=16,P=cf(T),L=j[T+8>>2],se=1e3*P+L/1e6}else var ne=Date.now(),se=ne;p=ne;var Oe=nn(v,{Sa:!0}).node;return Oe.Ga.Oa(Oe,{timestamp:Math.max(p,se)}),0}catch(Ke){if(typeof at>"u"||!(Ke instanceof ae))throw Ke;return-Ke.Ka}},e:function(){return Date.now()},j:function(p,v){p=new Date(1e3*cf(p)),j[v>>2]=p.getSeconds(),j[v+4>>2]=p.getMinutes(),j[v+8>>2]=p.getHours(),j[v+12>>2]=p.getDate(),j[v+16>>2]=p.getMonth(),j[v+20>>2]=p.getFullYear()-1900,j[v+24>>2]=p.getDay();var T=new Date(p.getFullYear(),0,1);j[v+28>>2]=(p.getTime()-T.getTime())/864e5|0,j[v+36>>2]=-(60*p.getTimezoneOffset());var P=new Date(p.getFullYear(),6,1).getTimezoneOffset();T=T.getTimezoneOffset(),j[v+32>>2]=(P!=T&&p.getTimezoneOffset()==Math.min(T,P))|0},w:function(p,v,T,P,L,ne){try{var se=gi(P);if(v&2&&!(T&2)&&(se.flags&2097155)!==2)throw new ae(2);if((se.flags&2097155)===1)throw new ae(2);if(!se.Ha.bb)throw new ae(43);var Oe=se.Ha.bb(se,p,L,v,T),Ke=Oe.Fb;return j[ne>>2]=Oe.vb,Ke}catch(ze){if(typeof at>"u"||!(ze instanceof ae))throw ze;return-ze.Ka}},x:function(p,v,T,P,L,ne){try{var se=gi(L);if(T&2){var Oe=te.slice(p,p+v);se&&se.Ha.cb&&se.Ha.cb(se,Oe,ne,v,P)}}catch(Ke){if(typeof at>"u"||!(Ke instanceof ae))throw Ke;return-Ke.Ka}},n:uf,q:function(){return 2147483648},d:mb,c:function(p){var v=te.length;if(p>>>=0,2147483648<p)return!1;for(var T=1;4>=T;T*=2){var P=v*(1+.2/T);P=Math.min(P,p+100663296);var L=Math;P=Math.max(p,P),L=L.min.call(L,2147483648,P+(65536-P%65536)%65536);e:{try{R.grow(L-he.byteLength+65535>>>16),Te();var ne=1;break e}catch(se){}ne=void 0}if(ne)return!0}return!1},z:function(p,v){var T=0;return gb().forEach(function(P,L){var ne=v+T;for(L=X[p+4*L>>2]=ne,ne=0;ne<P.length;++ne)ce[L++>>0]=P.charCodeAt(ne);ce[L>>0]=0,T+=P.length+1}),0},A:function(p,v){var T=gb();X[p>>2]=T.length;var P=0;return T.forEach(function(L){P+=L.length+1}),X[v>>2]=P,0},f:function(p){try{var v=gi(p);return J(v),0}catch(T){if(typeof at>"u"||!(T instanceof ae))throw T;return T.Ka}},m:function(p,v){try{var T=gi(p);return ce[v>>0]=T.tty?2:(T.mode&61440)===16384?3:(T.mode&61440)===40960?7:4,0}catch(P){if(typeof at>"u"||!(P instanceof ae))throw P;return P.Ka}},u:function(p,v,T,P){try{e:{var L=gi(p);p=v;for(var ne=v=0;ne<T;ne++){var se=X[p>>2],Oe=X[p+4>>2];p+=8;var Ke=Se(L,ce,se,Oe);if(0>Ke){var ze=-1;break e}if(v+=Ke,Ke<Oe)break}ze=v}return X[P>>2]=ze,0}catch(At){if(typeof at>"u"||!(At instanceof ae))throw At;return At.Ka}},k:function(p,v,T,P,L){try{if(v=T+2097152>>>0<4194305-!!v?(v>>>0)+4294967296*T:NaN,isNaN(v))return 61;var ne=gi(p);return pe(ne,v,P),et=[ne.position>>>0,(Pe=ne.position,1<=+Math.abs(Pe)?0<Pe?(Math.min(+Math.floor(Pe/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Pe-+(~~Pe>>>0))/4294967296)>>>0:0)],j[L>>2]=et[0],j[L+4>>2]=et[1],ne.hb&&v===0&&P===0&&(ne.hb=null),0}catch(se){if(typeof at>"u"||!(se instanceof ae))throw se;return se.Ka}},C:function(p){try{var v=gi(p);return v.Ha&&v.Ha.fsync?v.Ha.fsync(v):0}catch(T){if(typeof at>"u"||!(T instanceof ae))throw T;return T.Ka}},r:function(p,v,T,P){try{e:{var L=gi(p);p=v;for(var ne=v=0;ne<T;ne++){var se=X[p>>2],Oe=X[p+4>>2];p+=8;var Ke=Et(L,ce,se,Oe);if(0>Ke){var ze=-1;break e}v+=Ke}ze=v}return X[P>>2]=ze,0}catch(At){if(typeof at>"u"||!(At instanceof ae))throw At;return At.Ka}}};(function(){function p(L){c.asm=L.exports,R=c.asm.I,Te(),Ce=c.asm.Aa,_e.unshift(c.asm.J),mn--,c.monitorRunDependencies&&c.monitorRunDependencies(mn),mn==0&&tn&&(L=tn,tn=null,L())}function v(L){p(L.instance)}function T(L){return or().then(function(ne){return WebAssembly.instantiate(ne,P)}).then(function(ne){return ne}).then(L,function(ne){O("failed to asynchronously prepare wasm: "+ne),Dt(ne)})}var P={a:gN};if(mn++,c.monitorRunDependencies&&c.monitorRunDependencies(mn),c.instantiateWasm)try{return c.instantiateWasm(P,p)}catch(L){return O("Module.instantiateWasm callback failed with error: "+L),!1}return function(){return $||typeof WebAssembly.instantiateStreaming!="function"||In()||ft.startsWith("file://")||g||typeof fetch!="function"?T(v):fetch(ft,{credentials:"same-origin"}).then(function(L){return WebAssembly.instantiateStreaming(L,P).then(v,function(ne){return O("wasm streaming compile failed: "+ne),O("falling back to ArrayBuffer instantiation"),T(v)})})}(),{}})(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.J).apply(null,arguments)},c._sqlite3_free=function(){return(c._sqlite3_free=c.asm.K).apply(null,arguments)},c._sqlite3_value_double=function(){return(c._sqlite3_value_double=c.asm.L).apply(null,arguments)},c._sqlite3_value_text=function(){return(c._sqlite3_value_text=c.asm.M).apply(null,arguments)};var bb=c.___errno_location=function(){return(bb=c.___errno_location=c.asm.N).apply(null,arguments)};c._sqlite3_prepare_v2=function(){return(c._sqlite3_prepare_v2=c.asm.O).apply(null,arguments)},c._sqlite3_step=function(){return(c._sqlite3_step=c.asm.P).apply(null,arguments)},c._sqlite3_finalize=function(){return(c._sqlite3_finalize=c.asm.Q).apply(null,arguments)},c._sqlite3_reset=function(){return(c._sqlite3_reset=c.asm.R).apply(null,arguments)},c._sqlite3_value_int=function(){return(c._sqlite3_value_int=c.asm.S).apply(null,arguments)},c._sqlite3_clear_bindings=function(){return(c._sqlite3_clear_bindings=c.asm.T).apply(null,arguments)},c._sqlite3_value_blob=function(){return(c._sqlite3_value_blob=c.asm.U).apply(null,arguments)},c._sqlite3_value_bytes=function(){return(c._sqlite3_value_bytes=c.asm.V).apply(null,arguments)},c._sqlite3_value_type=function(){return(c._sqlite3_value_type=c.asm.W).apply(null,arguments)},c._sqlite3_result_blob=function(){return(c._sqlite3_result_blob=c.asm.X).apply(null,arguments)},c._sqlite3_result_double=function(){return(c._sqlite3_result_double=c.asm.Y).apply(null,arguments)},c._sqlite3_result_error=function(){return(c._sqlite3_result_error=c.asm.Z).apply(null,arguments)},c._sqlite3_result_int=function(){return(c._sqlite3_result_int=c.asm._).apply(null,arguments)},c._sqlite3_result_int64=function(){return(c._sqlite3_result_int64=c.asm.$).apply(null,arguments)},c._sqlite3_result_null=function(){return(c._sqlite3_result_null=c.asm.aa).apply(null,arguments)},c._sqlite3_result_text=function(){return(c._sqlite3_result_text=c.asm.ba).apply(null,arguments)},c._sqlite3_sql=function(){return(c._sqlite3_sql=c.asm.ca).apply(null,arguments)},c._sqlite3_aggregate_context=function(){return(c._sqlite3_aggregate_context=c.asm.da).apply(null,arguments)},c._sqlite3_column_count=function(){return(c._sqlite3_column_count=c.asm.ea).apply(null,arguments)},c._sqlite3_data_count=function(){return(c._sqlite3_data_count=c.asm.fa).apply(null,arguments)},c._sqlite3_column_blob=function(){return(c._sqlite3_column_blob=c.asm.ga).apply(null,arguments)},c._sqlite3_column_bytes=function(){return(c._sqlite3_column_bytes=c.asm.ha).apply(null,arguments)},c._sqlite3_column_double=function(){return(c._sqlite3_column_double=c.asm.ia).apply(null,arguments)},c._sqlite3_column_text=function(){return(c._sqlite3_column_text=c.asm.ja).apply(null,arguments)},c._sqlite3_column_type=function(){return(c._sqlite3_column_type=c.asm.ka).apply(null,arguments)},c._sqlite3_column_name=function(){return(c._sqlite3_column_name=c.asm.la).apply(null,arguments)},c._sqlite3_bind_blob=function(){return(c._sqlite3_bind_blob=c.asm.ma).apply(null,arguments)},c._sqlite3_bind_double=function(){return(c._sqlite3_bind_double=c.asm.na).apply(null,arguments)},c._sqlite3_bind_int=function(){return(c._sqlite3_bind_int=c.asm.oa).apply(null,arguments)},c._sqlite3_bind_text=function(){return(c._sqlite3_bind_text=c.asm.pa).apply(null,arguments)},c._sqlite3_bind_parameter_index=function(){return(c._sqlite3_bind_parameter_index=c.asm.qa).apply(null,arguments)},c._sqlite3_normalized_sql=function(){return(c._sqlite3_normalized_sql=c.asm.ra).apply(null,arguments)},c._sqlite3_errmsg=function(){return(c._sqlite3_errmsg=c.asm.sa).apply(null,arguments)},c._sqlite3_exec=function(){return(c._sqlite3_exec=c.asm.ta).apply(null,arguments)},c._sqlite3_changes=function(){return(c._sqlite3_changes=c.asm.ua).apply(null,arguments)},c._sqlite3_close_v2=function(){return(c._sqlite3_close_v2=c.asm.va).apply(null,arguments)},c._sqlite3_create_function_v2=function(){return(c._sqlite3_create_function_v2=c.asm.wa).apply(null,arguments)},c._sqlite3_open=function(){return(c._sqlite3_open=c.asm.xa).apply(null,arguments)};var Rc=c._malloc=function(){return(Rc=c._malloc=c.asm.ya).apply(null,arguments)},Pc=c._free=function(){return(Pc=c._free=c.asm.za).apply(null,arguments)};c._RegisterExtensionFunctions=function(){return(c._RegisterExtensionFunctions=c.asm.Ba).apply(null,arguments)};var vb=c._emscripten_builtin_memalign=function(){return(vb=c._emscripten_builtin_memalign=c.asm.Ca).apply(null,arguments)},Pa=c.stackSave=function(){return(Pa=c.stackSave=c.asm.Da).apply(null,arguments)},$a=c.stackRestore=function(){return($a=c.stackRestore=c.asm.Ea).apply(null,arguments)},_r=c.stackAlloc=function(){return(_r=c.stackAlloc=c.asm.Fa).apply(null,arguments)};c.UTF8ToString=D,c.stackAlloc=_r,c.stackSave=Pa,c.stackRestore=$a,c.cwrap=function(p,v,T,P){T=T||[];var L=T.every(ne=>ne==="number"||ne==="boolean");return v!=="string"&&L&&!P?c["_"+p]:function(){return mN(p,v,T,arguments)}};var $c;tn=function p(){$c||wb(),$c||(tn=p)};function wb(){function p(){if(!$c&&($c=!0,c.calledRun=!0,!H)){if(c.noFSInit||ji||(ji=!0,gn(),c.stdin=c.stdin,c.stdout=c.stdout,c.stderr=c.stderr,c.stdin?Na("stdin",c.stdin):Aa("/dev/tty","/dev/stdin"),c.stdout?Na("stdout",null,c.stdout):Aa("/dev/tty","/dev/stdout"),c.stderr?Na("stderr",null,c.stderr):Aa("/dev/tty1","/dev/stderr"),gs("/dev/stdin",0),gs("/dev/stdout",1),gs("/dev/stderr",1)),bc=!1,Fi(_e),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var v=c.postRun.shift();ht.unshift(v)}Fi(ht)}}if(!(0<mn)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)wt();Fi(Re),0<mn||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),p()},1)):p())}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return wb(),a}),t)};n.exports=i,n.exports.default=i})(kC);var b4=kC.exports;const v4=us(b4),Xw={entities:[Er,ta],migrations:[p4,m4],migrationsRun:!0,logging:["error","query","schema"]},Pt=class Pt{static async initLocalForage(){try{const e=await an(()=>import("./localforage-554fecfe.js").then(t=>t.l),[]);Pt.localForage=e.default,window.localforage=Pt.localForage}catch(e){console.log("Error with initLocalForage: ",e)}}static async initSqlJs(){try{const e=await v4({locateFile:t=>"/static/assets/sql.js/".concat(t)});window.SQL=e}catch(e){console.log("Error with initSqlite: ",e)}}static configureNativeConnection(){try{const e=new VB(HB);return Pt.connection=new Jw({type:"capacitor",database:Pt.dbName,driver:e,migrationsTransactionMode:"none",...Xw}),Pt.connection}catch(e){console.log("Error with configureNativeConnection: ",e)}}static configureWebConnection(){try{return Pt.localForage.config({description:"quest",driver:Pt.localForage.INDEXEDDB}),Pt.connection=new Jw({type:"sqljs",autoSave:!0,location:Pt.dbName,useLocalForage:!0,...Xw}),Pt.connection}catch(e){console.log("Error with configureWebConnection: ",e)}}static async initConnection(){try{if(Pt.connection)return;await Pt.initLocalForage(),await Pt.initSqlJs();let e;ea.getPlatform()==="web"?e=Pt.configureWebConnection():e=Pt.configureNativeConnection(),await(e==null?void 0:e.initialize())}catch(e){console.log("Error with initConnection: ",e)}}};lr(Pt,"dbName","fitrem_db"),lr(Pt,"connection",null),lr(Pt,"localForage");let Is=Pt;const Zw=async()=>{var n;return(n=Is.connection)==null?void 0:n.getRepository(ta)};class w4{async getItem(e){await Is.initConnection();try{const t=await Zw(),i=await(t==null?void 0:t.findOne({where:{id:e}}));return i?(console.log("***GET_ITEM",i==null?void 0:i.store),i.store):null}catch(t){return console.log("Error GET_ITEM:",t),null}}async setItem(e,t){try{const i=await Zw();await(i==null?void 0:i.upsert({id:e,store:t},{conflictPaths:["id"],skipUpdateIfNoValuesChanged:!0})),console.log("***SET_ITEM: ",await(i==null?void 0:i.find({})))}catch(i){console.log("Error with SET_ITEM",i)}}async removeItem(e){await new Promise(t=>t(e)).then(t=>console.log(t))}}const E4=n=>({rehydrated:!1}),x4=["timerStatus"],T4=new w4,zl=SB()(NB($B((...n)=>({...E4(...n),...MB(...n)}),{name:"combineStore",partialize:n=>Object.fromEntries(Object.entries(n).filter(([e])=>!x4.includes(e))),storage:eC(()=>T4),onRehydrateStorage:n=>(console.log("hydration starts"),(e,t)=>{t?console.log("an error happened during hydration",t):(zl.setState({rehydrated:!0}),console.log("hydration finished",e))})})));function S4({isOpen:n,setIsOpen:e}){return Y.jsx(HS,{isOpen:n,header:"",subHeader:"Nice choice",message:"Let's do it!",buttons:["OK"],onDidDismiss:()=>{e(!1),history.back()}})}const C4=()=>{const{unsetTimer:n}=zl(),{timerInterval:e,setTimerInterval:t}=zl(),[i,r]=Ee.useState(e),[s,o]=Ee.useState(!1),a=()=>{t(i),o(!0),n()};return Y.jsxs(jy,{id:"main-content",children:[Y.jsx(Jo,{children:Y.jsx(Dh,{color:"warning",children:Y.jsx(_h,{slot:"start",children:Y.jsx(Rq,{defaultHref:"/timer"})})})}),Y.jsxs(Lh,{children:[Y.jsxs(jS,{children:[Y.jsx(ml,{children:Y.jsxs(Fo,{children:[Y.jsxs(ap,{children:[Y.jsx("h2",{children:"Timer Settings"}),Y.jsxs("p",{children:["Your timer is set to ring in ",i.toString()," seconds.",Y.jsx(ki,{slot:"icon-only",icon:Hq,color:"primary"})]})]}),Y.jsxs(iq,{min:5,max:60,step:5,snaps:!0,color:"primary",value:i,onIonChange:l=>r(l.detail.value),children:[Y.jsx(ss,{slot:"start",children:"5 sec"}),Y.jsx(ss,{slot:"end",children:"60 sec"})]}),Y.jsx(ap,{children:Y.jsx("small",{children:"If you wish to change the settings drag the nob to the desired time interval (5 to 60 seconds)."})})]})}),Y.jsx(ml,{children:Y.jsx(Fo,{children:Y.jsx(ap,{})})}),Y.jsx(ml,{children:Y.jsx(Fo,{children:Y.jsx(ai,{expand:"block",onClick:a,children:"Save"})})})]}),Y.jsx(S4,{isOpen:s,setIsOpen:o})]})]})};var eE=typeof window>"u"?Ee.useEffect:Ee.useLayoutEffect,A4=({isPlaying:n,duration:e,startAt:t=0,updateInterval:i=0,onComplete:r,onUpdate:s})=>{let[o,a]=Ee.useState(t),l=Ee.useRef(0),c=Ee.useRef(t),u=Ee.useRef(t*-1e3),d=Ee.useRef(null),h=Ee.useRef(null),f=Ee.useRef(null),g=x=>{let y=x/1e3;if(h.current===null){h.current=y,d.current=requestAnimationFrame(g);return}let E=y-h.current,N=l.current+E;h.current=y,l.current=N;let I=c.current+(i===0?N:(N/i|0)*i),B=c.current+N,O=typeof e=="number"&&B>=e;a(O?e:I),O||(d.current=requestAnimationFrame(g))},b=()=>{d.current&&cancelAnimationFrame(d.current),f.current&&clearTimeout(f.current),h.current=null},C=Ee.useCallback(x=>{b(),l.current=0;let y=typeof x=="number"?x:t;c.current=y,a(y),n&&(d.current=requestAnimationFrame(g))},[n,t]);return eE(()=>{if(s==null||s(o),e&&o>=e){u.current+=e*1e3;let{shouldRepeat:x=!1,delay:y=0,newStartAt:E}=(r==null?void 0:r(u.current/1e3))||{};x&&(f.current=setTimeout(()=>C(E),y*1e3))}},[o,e]),eE(()=>(n&&(d.current=requestAnimationFrame(g)),b),[n,e,i]),{elapsedTime:o,reset:C}},N4=(n,e,t)=>{let i=n/2,r=e/2,s=i-r,o=2*s,a=t==="clockwise"?"1,0":"0,1",l=2*Math.PI*s;return{path:"m ".concat(i,",").concat(r," a ").concat(s,",").concat(s," 0 ").concat(a," 0,").concat(o," a ").concat(s,",").concat(s," 0 ").concat(a," 0,-").concat(o),pathLength:l}},tE=(n,e)=>n===0||n===e?0:typeof e=="number"?n-e:0,k4=n=>({position:"relative",width:n,height:n}),R4={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},RC=(n,e,t,i,r)=>{if(i===0)return e;let s=(r?i-n:n)/i;return e+t*s},nE=n=>{var e,t;return(t=(e=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(i,r,s,o)=>"#".concat(r).concat(r).concat(s).concat(s).concat(o).concat(o)).substring(1).match(/.{2}/g))==null?void 0:e.map(i=>parseInt(i,16)))!=null?t:[]},P4=(n,e)=>{var t;let{colors:i,colorsTime:r,isSmoothColorTransition:s=!0}=n;if(typeof i=="string")return i;let o=(t=r==null?void 0:r.findIndex((h,f)=>h>=e&&e>=r[f+1]))!=null?t:-1;if(!r||o===-1)return i[0];if(!s)return i[o];let a=r[o]-e,l=r[o]-r[o+1],c=nE(i[o]),u=nE(i[o+1]),d=!!n.isGrowing;return"rgb(".concat(c.map((h,f)=>RC(a,h,u[f]-h,l,d)|0).join(","),")")},$4=n=>{let{duration:e,initialRemainingTime:t,updateInterval:i,size:r=180,strokeWidth:s=12,trailStrokeWidth:o,isPlaying:a=!1,isGrowing:l=!1,rotation:c="clockwise",onComplete:u,onUpdate:d}=n,h=Ee.useRef(),f=Math.max(s,o!=null?o:0),{path:g,pathLength:b}=N4(r,f,c),{elapsedTime:C}=A4({isPlaying:a,duration:e,startAt:tE(e,t),updateInterval:i,onUpdate:typeof d=="function"?y=>{let E=Math.ceil(e-y);E!==h.current&&(h.current=E,d(E))}:void 0,onComplete:typeof u=="function"?y=>{var E;let{shouldRepeat:N,delay:I,newInitialRemainingTime:B}=(E=u(y))!=null?E:{};if(N)return{shouldRepeat:N,delay:I,newStartAt:tE(e,B)}}:void 0}),x=e-C;return{elapsedTime:C,path:g,pathLength:b,remainingTime:Math.ceil(x),rotation:c,size:r,stroke:P4(n,x),strokeDashoffset:RC(C,0,b,e,l),strokeWidth:s}},PC=n=>{let{children:e,strokeLinecap:t,trailColor:i,trailStrokeWidth:r}=n,{path:s,pathLength:o,stroke:a,strokeDashoffset:l,remainingTime:c,elapsedTime:u,size:d,strokeWidth:h}=$4(n);return Z.createElement("div",{style:k4(d)},Z.createElement("svg",{viewBox:"0 0 ".concat(d," ").concat(d),width:d,height:d,xmlns:"http://www.w3.org/2000/svg"},Z.createElement("path",{d:s,fill:"none",stroke:i!=null?i:"#d9d9d9",strokeWidth:r!=null?r:h}),Z.createElement("path",{d:s,fill:"none",stroke:a,strokeLinecap:t!=null?t:"round",strokeWidth:h,strokeDasharray:o,strokeDashoffset:l})),typeof e=="function"&&Z.createElement("div",{style:R4},e({remainingTime:c,elapsedTime:u,color:a})))};PC.displayName="CountdownCircleTimer";class to extends Error{}class M4 extends to{constructor(e){super("Invalid DateTime: ".concat(e.toMessage()))}}class I4 extends to{constructor(e){super("Invalid Interval: ".concat(e.toMessage()))}}class O4 extends to{constructor(e){super("Invalid Duration: ".concat(e.toMessage()))}}class nl extends to{}class $C extends to{constructor(e){super("Invalid unit ".concat(e))}}class oi extends to{}class qr extends to{constructor(){super("Zone is an abstract class")}}const be="numeric",Bi="short",zn="long",Ld={year:be,month:be,day:be},MC={year:be,month:Bi,day:be},_4={year:be,month:Bi,day:be,weekday:Bi},IC={year:be,month:zn,day:be},OC={year:be,month:zn,day:be,weekday:zn},_C={hour:be,minute:be},LC={hour:be,minute:be,second:be},DC={hour:be,minute:be,second:be,timeZoneName:Bi},qC={hour:be,minute:be,second:be,timeZoneName:zn},BC={hour:be,minute:be,hourCycle:"h23"},FC={hour:be,minute:be,second:be,hourCycle:"h23"},UC={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Bi},jC={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:zn},zC={year:be,month:be,day:be,hour:be,minute:be},VC={year:be,month:be,day:be,hour:be,minute:be,second:be},HC={year:be,month:Bi,day:be,hour:be,minute:be},WC={year:be,month:Bi,day:be,hour:be,minute:be,second:be},L4={year:be,month:Bi,day:be,weekday:Bi,hour:be,minute:be},QC={year:be,month:zn,day:be,hour:be,minute:be,timeZoneName:Bi},GC={year:be,month:zn,day:be,hour:be,minute:be,second:be,timeZoneName:Bi},KC={year:be,month:zn,day:be,weekday:zn,hour:be,minute:be,timeZoneName:zn},YC={year:be,month:zn,day:be,weekday:zn,hour:be,minute:be,second:be,timeZoneName:zn};class hc{get type(){throw new qr}get name(){throw new qr}get ianaName(){return this.name}get isUniversal(){throw new qr}offsetName(e,t){throw new qr}formatOffset(e,t){throw new qr}offset(e){throw new qr}equals(e){throw new qr}get isValid(){throw new qr}}let wp=null;class Qh extends hc{static get instance(){return wp===null&&(wp=new Qh),wp}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return XC(e,t,i)}formatOffset(e,t){return yl(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Fu={};function D4(n){return Fu[n]||(Fu[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Fu[n]}const q4={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function B4(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,r,s,o,a,l,c,u]=i;return[o,r,s,a,l,c,u]}function F4(n,e){const t=n.formatToParts(e),i=[];for(let r=0;r<t.length;r++){const{type:s,value:o}=t[r],a=q4[s];s==="era"?i[a]=o:Ue(a)||(i[a]=parseInt(o,10))}return i}let hu={};class kr extends hc{static create(e){return hu[e]||(hu[e]=new kr(e)),hu[e]}static resetCache(){hu={},Fu={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=kr.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return XC(e,t,i,this.name)}formatOffset(e,t){return yl(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=D4(this.name);let[r,s,o,a,l,c,u]=i.formatToParts?F4(i,t):B4(i,t);a==="BC"&&(r=-Math.abs(r)+1);const h=Kh({year:r,month:s,day:o,hour:l===24?0:l,minute:c,second:u,millisecond:0});let f=+t;const g=f%1e3;return f-=g>=0?g:1e3+g,(h-f)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let iE={};function U4(n,e={}){const t=JSON.stringify([n,e]);let i=iE[t];return i||(i=new Intl.ListFormat(n,e),iE[t]=i),i}let Xm={};function Zm(n,e={}){const t=JSON.stringify([n,e]);let i=Xm[t];return i||(i=new Intl.DateTimeFormat(n,e),Xm[t]=i),i}let eg={};function j4(n,e={}){const t=JSON.stringify([n,e]);let i=eg[t];return i||(i=new Intl.NumberFormat(n,e),eg[t]=i),i}let tg={};function z4(n,e={}){const{base:t,...i}=e,r=JSON.stringify([n,i]);let s=tg[r];return s||(s=new Intl.RelativeTimeFormat(n,e),tg[r]=s),s}let il=null;function V4(){return il||(il=new Intl.DateTimeFormat().resolvedOptions().locale,il)}function H4(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let i,r;try{i=Zm(n).resolvedOptions(),r=n}catch(a){const l=n.substring(0,t);i=Zm(l).resolvedOptions(),r=l}const{numberingSystem:s,calendar:o}=i;return[r,s,o]}}function W4(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+="-ca-".concat(t)),e&&(n+="-nu-".concat(e))),n}function Q4(n){const e=[];for(let t=1;t<=12;t++){const i=Le.utc(2009,t,1);e.push(n(i))}return e}function G4(n){const e=[];for(let t=1;t<=7;t++){const i=Le.utc(2016,11,13+t);e.push(n(i))}return e}function fu(n,e,t,i){const r=n.listingMode();return r==="error"?null:r==="en"?t(e):i(e)}function K4(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class Y4{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...o}=i;if(!t||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=j4(e,a)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Zy(e,3);return It(t,this.padTo)}}}class J4{constructor(e,t,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?"Etc/GMT+".concat(o):"Etc/GMT".concat(o);e.offset!==0&&kr.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=Zm(t,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:i}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class X4{constructor(e,t,i){this.opts={style:"long",...i},!t&&JC()&&(this.rtf=z4(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):mU(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class ut{static fromOpts(e){return ut.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,i,r=!1){const s=e||Mt.defaultLocale,o=s||(r?"en-US":V4()),a=t||Mt.defaultNumberingSystem,l=i||Mt.defaultOutputCalendar;return new ut(o,a,l,s)}static resetCache(){il=null,Xm={},eg={},tg={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:i}={}){return ut.create(e,t,i)}constructor(e,t,i,r){const[s,o,a]=H4(e);this.locale=s,this.numberingSystem=t||o||null,this.outputCalendar=i||a||null,this.intl=W4(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=K4(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ut.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return fu(this,e,tA,()=>{const i=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=Q4(s=>this.extract(s,i,"month"))),this.monthsCache[r][e]})}weekdays(e,t=!1){return fu(this,e,rA,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=G4(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return fu(this,void 0,()=>sA,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Le.utc(2016,11,13,9),Le.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return fu(this,e,oA,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[Le.utc(-40,1,1),Le.utc(2017,1,1)].map(i=>this.extract(i,t,"era"))),this.eraCache[e]})}extract(e,t,i){const r=this.dtFormatter(e,t),s=r.formatToParts(),o=s.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(e={}){return new Y4(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new J4(e,this.intl,t)}relFormatter(e={}){return new X4(this.intl,this.isEnglish(),e)}listFormatter(e={}){return U4(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let Ep=null;class bn extends hc{static get utcInstance(){return Ep===null&&(Ep=new bn(0)),Ep}static instance(e){return e===0?bn.utcInstance:new bn(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new bn(Yh(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":"UTC".concat(yl(this.fixed,"narrow"))}get ianaName(){return this.fixed===0?"Etc/UTC":"Etc/GMT".concat(yl(-this.fixed,"narrow"))}offsetName(){return this.name}formatOffset(e,t){return yl(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class Z4 extends hc{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Qr(n,e){if(Ue(n)||n===null)return e;if(n instanceof hc)return n;if(eU(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?Qh.instance:t==="utc"||t==="gmt"?bn.utcInstance:bn.parseSpecifier(t)||kr.create(n)}else return Os(n)?bn.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new Z4(n)}let rE=()=>Date.now(),sE="system",oE=null,aE=null,lE=null,cE=60,uE;class Mt{static get now(){return rE}static set now(e){rE=e}static set defaultZone(e){sE=e}static get defaultZone(){return Qr(sE,Qh.instance)}static get defaultLocale(){return oE}static set defaultLocale(e){oE=e}static get defaultNumberingSystem(){return aE}static set defaultNumberingSystem(e){aE=e}static get defaultOutputCalendar(){return lE}static set defaultOutputCalendar(e){lE=e}static get twoDigitCutoffYear(){return cE}static set twoDigitCutoffYear(e){cE=e%100}static get throwOnInvalid(){return uE}static set throwOnInvalid(e){uE=e}static resetCaches(){ut.resetCache(),kr.resetCache()}}function Ue(n){return typeof n>"u"}function Os(n){return typeof n=="number"}function Gh(n){return typeof n=="number"&&n%1===0}function eU(n){return typeof n=="string"}function tU(n){return Object.prototype.toString.call(n)==="[object Date]"}function JC(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch(n){return!1}}function nU(n){return Array.isArray(n)?n:[n]}function dE(n,e,t){if(n.length!==0)return n.reduce((i,r)=>{const s=[e(r),r];return i&&t(i[0],s[0])===i[0]?i:s},null)[1]}function iU(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}function na(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function br(n,e,t){return Gh(n)&&n>=e&&n<=t}function rU(n,e){return n-e*Math.floor(n/e)}function It(n,e=2){const t=n<0;let i;return t?i="-"+(""+-n).padStart(e,"0"):i=(""+n).padStart(e,"0"),i}function zr(n){if(!(Ue(n)||n===null||n===""))return parseInt(n,10)}function ws(n){if(!(Ue(n)||n===null||n===""))return parseFloat(n)}function Xy(n){if(!(Ue(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function Zy(n,e,t=!1){const i=10**e;return(t?Math.trunc:Math.round)(n*i)/i}function fc(n){return n%4===0&&(n%100!==0||n%400===0)}function gl(n){return fc(n)?366:365}function Dd(n,e){const t=rU(e-1,12)+1,i=n+(e-t)/12;return t===2?fc(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Kh(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function qd(n){const e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,i=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||i===3?53:52}function ng(n){return n>99?n:n>Mt.twoDigitCutoffYear?1900+n:2e3+n}function XC(n,e,t,i=null){const r=new Date(n),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(t,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Yh(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,r=t<0||Object.is(t,-0)?-i:i;return t*60+r}function ZC(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new oi("Invalid unit value ".concat(n));return e}function Bd(n,e){const t={};for(const i in n)if(na(n,i)){const r=n[i];if(r==null)continue;t[e(i)]=ZC(r)}return t}function yl(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(e){case"short":return"".concat(r).concat(It(t,2),":").concat(It(i,2));case"narrow":return"".concat(r).concat(t).concat(i>0?":".concat(i):"");case"techie":return"".concat(r).concat(It(t,2)).concat(It(i,2));default:throw new RangeError("Value format ".concat(e," is out of range for property format"))}}function Jh(n){return iU(n,["hour","minute","second","millisecond"])}const sU=["January","February","March","April","May","June","July","August","September","October","November","December"],eA=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oU=["J","F","M","A","M","J","J","A","S","O","N","D"];function tA(n){switch(n){case"narrow":return[...oU];case"short":return[...eA];case"long":return[...sU];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const nA=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],iA=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],aU=["M","T","W","T","F","S","S"];function rA(n){switch(n){case"narrow":return[...aU];case"short":return[...iA];case"long":return[...nA];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const sA=["AM","PM"],lU=["Before Christ","Anno Domini"],cU=["BC","AD"],uU=["B","A"];function oA(n){switch(n){case"narrow":return[...uU];case"short":return[...cU];case"long":return[...lU];default:return null}}function dU(n){return sA[n.hour<12?0:1]}function hU(n,e){return rA(e)[n.weekday-1]}function fU(n,e){return tA(e)[n.month-1]}function pU(n,e){return oA(e)[n.year<0?0:1]}function mU(n,e,t="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){const d=n==="days";switch(e){case 1:return d?"tomorrow":"next ".concat(r[n][0]);case-1:return d?"yesterday":"last ".concat(r[n][0]);case 0:return d?"today":"this ".concat(r[n][0])}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=r[n],u=i?l?c[1]:c[2]||c[1]:l?r[n][0]:n;return o?"".concat(a," ").concat(u," ago"):"in ".concat(a," ").concat(u)}function hE(n,e){let t="";for(const i of n)i.literal?t+=i.val:t+=e(i.val);return t}const gU={D:Ld,DD:MC,DDD:IC,DDDD:OC,t:_C,tt:LC,ttt:DC,tttt:qC,T:BC,TT:FC,TTT:UC,TTTT:jC,f:zC,ff:HC,fff:QC,ffff:KC,F:VC,FF:WC,FFF:GC,FFFF:YC};class un{static create(e,t={}){return new un(e,t)}static parseFormat(e){let t=null,i="",r=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),t=null,i="",r=!r):r||a===t?i+=a:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=a,t=a)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return gU[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return It(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(f,g)=>this.loc.extract(e,f,g),o=f=>e.isOffsetFixed&&e.offset===0&&f.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,f.format):"",a=()=>i?dU(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(f,g)=>i?fU(e,f):s(g?{month:f}:{month:f,day:"numeric"},"month"),c=(f,g)=>i?hU(e,f):s(g?{weekday:f}:{weekday:f,month:"long",day:"numeric"},"weekday"),u=f=>{const g=un.macroTokenToFormatOpts(f);return g?this.formatWithSystemDefault(e,g):f},d=f=>i?pU(e,f):s({era:f},"era"),h=f=>{switch(f){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(f)}};return hE(un.parseFormat(t),h)}formatDurationFromString(e,t){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>c=>{const u=i(c);return u?this.num(l.get(u),c.length):c},s=un.parseFormat(t),o=s.reduce((l,{literal:c,val:u})=>c?l:l.concat(u),[]),a=e.shiftTo(...o.map(i).filter(l=>l));return hE(s,r(a))}}class Pi{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?"".concat(this.reason,": ").concat(this.explanation):this.reason}}const aA=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function fa(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp("^".concat(e,"$"))}function pa(...n){return e=>n.reduce(([t,i,r],s)=>{const[o,a,l]=s(e,r);return[{...t,...o},a||i,l]},[{},null,1]).slice(0,2)}function ma(n,...e){if(n==null)return[null,null];for(const[t,i]of e){const r=t.exec(n);if(r)return i(r)}return[null,null]}function lA(...n){return(e,t)=>{const i={};let r;for(r=0;r<n.length;r++)i[n[r]]=zr(e[t+r]);return[i,null,t+r]}}const cA=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,yU="(?:".concat(cA.source,"?(?:\\[(").concat(aA.source,")\\])?)?"),eb=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,uA=RegExp("".concat(eb.source).concat(yU)),tb=RegExp("(?:T".concat(uA.source,")?")),bU=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,vU=/(\d{4})-?W(\d\d)(?:-?(\d))?/,wU=/(\d{4})-?(\d{3})/,EU=lA("weekYear","weekNumber","weekDay"),xU=lA("year","ordinal"),TU=/(\d{4})-(\d\d)-(\d\d)/,dA=RegExp("".concat(eb.source," ?(?:").concat(cA.source,"|(").concat(aA.source,"))?")),SU=RegExp("(?: ".concat(dA.source,")?"));function jo(n,e,t){const i=n[e];return Ue(i)?t:zr(i)}function CU(n,e){return[{year:jo(n,e),month:jo(n,e+1,1),day:jo(n,e+2,1)},null,e+3]}function ga(n,e){return[{hours:jo(n,e,0),minutes:jo(n,e+1,0),seconds:jo(n,e+2,0),milliseconds:Xy(n[e+3])},null,e+4]}function pc(n,e){const t=!n[e]&&!n[e+1],i=Yh(n[e+1],n[e+2]),r=t?null:bn.instance(i);return[{},r,e+3]}function mc(n,e){const t=n[e]?kr.create(n[e]):null;return[{},t,e+1]}const AU=RegExp("^T?".concat(eb.source,"$")),NU=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function kU(n){const[e,t,i,r,s,o,a,l,c]=n,u=e[0]==="-",d=l&&l[0]==="-",h=(f,g=!1)=>f!==void 0&&(g||f&&u)?-f:f;return[{years:h(ws(t)),months:h(ws(i)),weeks:h(ws(r)),days:h(ws(s)),hours:h(ws(o)),minutes:h(ws(a)),seconds:h(ws(l),l==="-0"),milliseconds:h(Xy(c),d)}]}const RU={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function nb(n,e,t,i,r,s,o){const a={year:e.length===2?ng(zr(e)):zr(e),month:eA.indexOf(t)+1,day:zr(i),hour:zr(r),minute:zr(s)};return o&&(a.second=zr(o)),n&&(a.weekday=n.length>3?nA.indexOf(n)+1:iA.indexOf(n)+1),a}const PU=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function $U(n){const[,e,t,i,r,s,o,a,l,c,u,d]=n,h=nb(e,r,i,t,s,o,a);let f;return l?f=RU[l]:c?f=0:f=Yh(u,d),[h,new bn(f)]}function MU(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const IU=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,OU=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,_U=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function fE(n){const[,e,t,i,r,s,o,a]=n;return[nb(e,r,i,t,s,o,a),bn.utcInstance]}function LU(n){const[,e,t,i,r,s,o,a]=n;return[nb(e,a,t,i,r,s,o),bn.utcInstance]}const DU=fa(bU,tb),qU=fa(vU,tb),BU=fa(wU,tb),FU=fa(uA),hA=pa(CU,ga,pc,mc),UU=pa(EU,ga,pc,mc),jU=pa(xU,ga,pc,mc),zU=pa(ga,pc,mc);function VU(n){return ma(n,[DU,hA],[qU,UU],[BU,jU],[FU,zU])}function HU(n){return ma(MU(n),[PU,$U])}function WU(n){return ma(n,[IU,fE],[OU,fE],[_U,LU])}function QU(n){return ma(n,[NU,kU])}const GU=pa(ga);function KU(n){return ma(n,[AU,GU])}const YU=fa(TU,SU),JU=fa(dA),XU=pa(ga,pc,mc);function ZU(n){return ma(n,[YU,hA],[JU,XU])}const pE="Invalid Duration",fA={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ej={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...fA},ei=146097/400,lo=146097/4800,tj={years:{quarters:4,months:12,weeks:ei/7,days:ei,hours:ei*24,minutes:ei*24*60,seconds:ei*24*60*60,milliseconds:ei*24*60*60*1e3},quarters:{months:3,weeks:ei/28,days:ei/4,hours:ei*24/4,minutes:ei*24*60/4,seconds:ei*24*60*60/4,milliseconds:ei*24*60*60*1e3/4},months:{weeks:lo/7,days:lo,hours:lo*24,minutes:lo*24*60,seconds:lo*24*60*60,milliseconds:lo*24*60*60*1e3},...fA},Ps=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],nj=Ps.slice(0).reverse();function Br(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new Ve(i)}function pA(n,e){var i;let t=(i=e.milliseconds)!=null?i:0;for(const r of nj.slice(1))e[r]&&(t+=e[r]*n[r].milliseconds);return t}function mE(n,e){const t=pA(n,e)<0?-1:1;Ps.reduceRight((i,r)=>{if(Ue(e[r]))return i;if(i){const s=e[i]*t,o=n[r][i],a=Math.floor(s/o);e[r]+=a*t,e[i]-=a*o*t}return r},null),Ps.reduce((i,r)=>{if(Ue(e[r]))return i;if(i){const s=e[i]%1;e[i]-=s,e[r]+=s*n[i][r]}return r},null)}function ij(n){const e={};for(const[t,i]of Object.entries(n))i!==0&&(e[t]=i);return e}class Ve{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let i=t?tj:ej;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||ut.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return Ve.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new oi("Duration.fromObject: argument expected to be an object, got ".concat(e===null?"null":typeof e));return new Ve({values:Bd(e,Ve.normalizeUnit),loc:ut.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Os(e))return Ve.fromMillis(e);if(Ve.isDuration(e))return e;if(typeof e=="object")return Ve.fromObject(e);throw new oi("Unknown duration argument ".concat(e," of type ").concat(typeof e))}static fromISO(e,t){const[i]=QU(e);return i?Ve.fromObject(i,t):Ve.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static fromISOTime(e,t){const[i]=KU(e);return i?Ve.fromObject(i,t):Ve.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static invalid(e,t=null){if(!e)throw new oi("need to specify a reason the Duration is invalid");const i=e instanceof Pi?e:new Pi(e,t);if(Mt.throwOnInvalid)throw new O4(i);return new Ve({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new $C(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?un.create(this.loc,i).formatDurationFromString(this,e):pE}toHuman(e={}){if(!this.isValid)return pE;const t=Ps.map(i=>{const r=this.values[i];return Ue(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Zy(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},Le.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?pA(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Ve.fromDurationLike(e),i={};for(const r of Ps)(na(t.values,r)||na(this.values,r))&&(i[r]=t.get(r)+this.get(r));return Br(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=Ve.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=ZC(e(this.values[i],i));return Br(this,{values:t},!0)}get(e){return this[Ve.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...Bd(e,Ve.normalizeUnit)};return Br(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:r}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:i};return Br(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return mE(this.matrix,e),Br(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=ij(this.normalize().shiftToAll().toObject());return Br(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>Ve.normalizeUnit(o));const t={},i={},r=this.toObject();let s;for(const o of Ps)if(e.indexOf(o)>=0){s=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;Os(r[o])&&(a+=r[o]);const l=Math.trunc(a);t[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else Os(r[o])&&(i[o]=r[o]);for(const o in i)i[o]!==0&&(t[s]+=o===s?i[o]:i[o]/this.matrix[s][o]);return mE(this.matrix,t),Br(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return Br(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of Ps)if(!t(this.values[i],e.values[i]))return!1;return!0}}const co="Invalid Interval";function rj(n,e){return!n||!n.isValid?xt.invalid("missing or invalid start"):!e||!e.isValid?xt.invalid("missing or invalid end"):e<n?xt.invalid("end before start","The end of an interval must be after its start, but you had start=".concat(n.toISO()," and end=").concat(e.toISO())):null}class xt{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new oi("need to specify a reason the Interval is invalid");const i=e instanceof Pi?e:new Pi(e,t);if(Mt.throwOnInvalid)throw new I4(i);return new xt({invalid:i})}static fromDateTimes(e,t){const i=Qa(e),r=Qa(t),s=rj(i,r);return s==null?new xt({start:i,end:r}):s}static after(e,t){const i=Ve.fromDurationLike(t),r=Qa(e);return xt.fromDateTimes(r,r.plus(i))}static before(e,t){const i=Ve.fromDurationLike(t),r=Qa(e);return xt.fromDateTimes(r.minus(i),r)}static fromISO(e,t){const[i,r]=(e||"").split("/",2);if(i&&r){let s,o;try{s=Le.fromISO(i,t),o=s.isValid}catch(c){o=!1}let a,l;try{a=Le.fromISO(r,t),l=a.isValid}catch(c){l=!1}if(o&&l)return xt.fromDateTimes(s,a);if(o){const c=Ve.fromISO(r,t);if(c.isValid)return xt.after(s,c)}else if(l){const c=Ve.fromISO(i,t);if(c.isValid)return xt.before(a,c)}}return xt.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),i=this.end.startOf(e);return Math.floor(i.diff(t,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?xt.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Qa).filter(o=>this.contains(o)).sort(),i=[];let{s:r}=this,s=0;for(;r<this.e;){const o=t[s]||this.e,a=+o>+this.e?this.e:o;i.push(xt.fromDateTimes(r,a)),r=a,s+=1}return i}splitBy(e){const t=Ve.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,r=1,s;const o=[];for(;i<this.e;){const a=this.start.plus(t.mapUnits(l=>l*r));s=+a>+this.e?this.e:a,o.push(xt.fromDateTimes(i,s)),i=s,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:xt.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return xt.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((r,s)=>r.s-s.s).reduce(([r,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[r,s.union(o)]:[r.concat([s]),o]:[r,o],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const r=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?t=l.time:(t&&+t!=+l.time&&r.push(xt.fromDateTimes(t,l.time)),t=null);return xt.merge(r)}difference(...e){return xt.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?"[".concat(this.s.toISO()," – ").concat(this.e.toISO(),")"):co}toLocaleString(e=Ld,t={}){return this.isValid?un.create(this.s.loc.clone(t),e).formatInterval(this):co}toISO(e){return this.isValid?"".concat(this.s.toISO(e),"/").concat(this.e.toISO(e)):co}toISODate(){return this.isValid?"".concat(this.s.toISODate(),"/").concat(this.e.toISODate()):co}toISOTime(e){return this.isValid?"".concat(this.s.toISOTime(e),"/").concat(this.e.toISOTime(e)):co}toFormat(e,{separator:t=" – "}={}){return this.isValid?"".concat(this.s.toFormat(e)).concat(t).concat(this.e.toFormat(e)):co}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Ve.invalid(this.invalidReason)}mapEndpoints(e){return xt.fromDateTimes(e(this.s),e(this.e))}}class pu{static hasDST(e=Mt.defaultZone){const t=Le.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return kr.isValidZone(e)}static normalizeZone(e){return Qr(e,Mt.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||ut.create(t,i,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||ut.create(t,i,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||ut.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||ut.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ut.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return ut.create(t,null,"gregory").eras(e)}static features(){return{relative:JC()}}}function gE(n,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor(Ve.fromMillis(i).as("days"))}function sj(n,e,t){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const u=gE(l,c);return(u-u%7)/7}],["days",gE]],r={},s=n;let o,a;for(const[l,c]of i)t.indexOf(l)>=0&&(o=l,r[l]=c(n,e),a=s.plus(r),a>e?(r[l]--,n=s.plus(r),n>e&&(a=n,r[l]--,n=s.plus(r))):n=a);return[n,r,a,o]}function oj(n,e,t,i){let[r,s,o,a]=sj(n,e,t);const l=e-r,c=t.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(s[a]=(s[a]||0)+l/(o-r)));const u=Ve.fromObject(s,i);return c.length>0?Ve.fromMillis(l,i).shiftTo(...c).plus(u):u}const ib={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},yE={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},aj=ib.hanidec.replace(/[\[|\]]/g,"").split("");function lj(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(n[t].search(ib.hanidec)!==-1)e+=aj.indexOf(n[t]);else for(const r in yE){const[s,o]=yE[r];i>=s&&i<=o&&(e+=i-s)}}return parseInt(e,10)}else return e}function vi({numberingSystem:n},e=""){return new RegExp("".concat(ib[n||"latn"]).concat(e))}const cj="missing Intl.DateTimeFormat.formatToParts support";function Ye(n,e=t=>t){return{regex:n,deser:([t])=>e(lj(t))}}const uj=String.fromCharCode(160),mA="[ ".concat(uj,"]"),gA=new RegExp(mA,"g");function dj(n){return n.replace(/\./g,"\\.?").replace(gA,mA)}function bE(n){return n.replace(/\./g,"").replace(gA," ").toLowerCase()}function wi(n,e){return n===null?null:{regex:RegExp(n.map(dj).join("|")),deser:([t])=>n.findIndex(i=>bE(t)===bE(i))+e}}function vE(n,e){return{regex:n,deser:([,t,i])=>Yh(t,i),groups:e}}function mu(n){return{regex:n,deser:([e])=>e}}function hj(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function fj(n,e){const t=vi(e),i=vi(e,"{2}"),r=vi(e,"{3}"),s=vi(e,"{4}"),o=vi(e,"{6}"),a=vi(e,"{1,2}"),l=vi(e,"{1,3}"),c=vi(e,"{1,6}"),u=vi(e,"{1,9}"),d=vi(e,"{2,4}"),h=vi(e,"{4,6}"),f=C=>({regex:RegExp(hj(C.val)),deser:([x])=>x,literal:!0}),b=(C=>{if(n.literal)return f(C);switch(C.val){case"G":return wi(e.eras("short"),0);case"GG":return wi(e.eras("long"),0);case"y":return Ye(c);case"yy":return Ye(d,ng);case"yyyy":return Ye(s);case"yyyyy":return Ye(h);case"yyyyyy":return Ye(o);case"M":return Ye(a);case"MM":return Ye(i);case"MMM":return wi(e.months("short",!0),1);case"MMMM":return wi(e.months("long",!0),1);case"L":return Ye(a);case"LL":return Ye(i);case"LLL":return wi(e.months("short",!1),1);case"LLLL":return wi(e.months("long",!1),1);case"d":return Ye(a);case"dd":return Ye(i);case"o":return Ye(l);case"ooo":return Ye(r);case"HH":return Ye(i);case"H":return Ye(a);case"hh":return Ye(i);case"h":return Ye(a);case"mm":return Ye(i);case"m":return Ye(a);case"q":return Ye(a);case"qq":return Ye(i);case"s":return Ye(a);case"ss":return Ye(i);case"S":return Ye(l);case"SSS":return Ye(r);case"u":return mu(u);case"uu":return mu(a);case"uuu":return Ye(t);case"a":return wi(e.meridiems(),0);case"kkkk":return Ye(s);case"kk":return Ye(d,ng);case"W":return Ye(a);case"WW":return Ye(i);case"E":case"c":return Ye(t);case"EEE":return wi(e.weekdays("short",!1),1);case"EEEE":return wi(e.weekdays("long",!1),1);case"ccc":return wi(e.weekdays("short",!0),1);case"cccc":return wi(e.weekdays("long",!0),1);case"Z":case"ZZ":return vE(new RegExp("([+-]".concat(a.source,")(?::(").concat(i.source,"))?")),2);case"ZZZ":return vE(new RegExp("([+-]".concat(a.source,")(").concat(i.source,")?")),2);case"z":return mu(/[a-z_+-/]{1,256}?/i);case" ":return mu(/[^\S\n\r]/);default:return f(C)}})(n)||{invalidReason:cj};return b.token=n,b}const pj={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function mj(n,e,t){const{type:i,value:r}=n;if(i==="literal"){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}const s=e[i];let o=i;i==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=t.hour12?"hour12":"hour24");let a=pj[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function gj(n){const e=n.map(t=>t.regex).reduce((t,i)=>"".concat(t,"(").concat(i.source,")"),"");return["^".concat(e,"$"),n]}function yj(n,e,t){const i=n.match(e);if(i){const r={};let s=1;for(const o in t)if(na(t,o)){const a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,r]}else return[i,{}]}function bj(n){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return Ue(n.z)||(t=kr.create(n.z)),Ue(n.Z)||(t||(t=new bn(n.Z)),i=n.Z),Ue(n.q)||(n.M=(n.q-1)*3+1),Ue(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),Ue(n.u)||(n.S=Xy(n.u)),[Object.keys(n).reduce((s,o)=>{const a=e(o);return a&&(s[a]=n[o]),s},{}),t,i]}let xp=null;function vj(){return xp||(xp=Le.fromMillis(1555555555555)),xp}function wj(n,e){if(n.literal)return n;const t=un.macroTokenToFormatOpts(n.val),i=vA(t,e);return i==null||i.includes(void 0)?n:i}function yA(n,e){return Array.prototype.concat(...n.map(t=>wj(t,e)))}function bA(n,e,t){const i=yA(un.parseFormat(t),n),r=i.map(o=>fj(o,n)),s=r.find(o=>o.invalidReason);if(s)return{input:e,tokens:i,invalidReason:s.invalidReason};{const[o,a]=gj(r),l=RegExp(o,"i"),[c,u]=yj(e,l,a),[d,h,f]=u?bj(u):[null,null,void 0];if(na(u,"a")&&na(u,"H"))throw new nl("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:l,rawMatches:c,matches:u,result:d,zone:h,specificOffset:f}}}function Ej(n,e,t){const{result:i,zone:r,specificOffset:s,invalidReason:o}=bA(n,e,t);return[i,r,s,o]}function vA(n,e){if(!n)return null;const i=un.create(e,n).dtFormatter(vj()),r=i.formatToParts(),s=i.resolvedOptions();return r.map(o=>mj(o,n,s))}const wA=[0,31,59,90,120,151,181,212,243,273,304,334],EA=[0,31,60,91,121,152,182,213,244,274,305,335];function ci(n,e){return new Pi("unit out of range","you specified ".concat(e," (of type ").concat(typeof e,") as a ").concat(n,", which is invalid"))}function xA(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function TA(n,e,t){return t+(fc(n)?EA:wA)[e-1]}function SA(n,e){const t=fc(n)?EA:wA,i=t.findIndex(s=>s<e),r=e-t[i];return{month:i+1,day:r}}function ig(n){const{year:e,month:t,day:i}=n,r=TA(e,t,i),s=xA(e,t,i);let o=Math.floor((r-s+10)/7),a;return o<1?(a=e-1,o=qd(a)):o>qd(e)?(a=e+1,o=1):a=e,{weekYear:a,weekNumber:o,weekday:s,...Jh(n)}}function wE(n){const{weekYear:e,weekNumber:t,weekday:i}=n,r=xA(e,1,4),s=gl(e);let o=t*7+i-r-3,a;o<1?(a=e-1,o+=gl(a)):o>s?(a=e+1,o-=gl(e)):a=e;const{month:l,day:c}=SA(a,o);return{year:a,month:l,day:c,...Jh(n)}}function Tp(n){const{year:e,month:t,day:i}=n,r=TA(e,t,i);return{year:e,ordinal:r,...Jh(n)}}function EE(n){const{year:e,ordinal:t}=n,{month:i,day:r}=SA(e,t);return{year:e,month:i,day:r,...Jh(n)}}function xj(n){const e=Gh(n.weekYear),t=br(n.weekNumber,1,qd(n.weekYear)),i=br(n.weekday,1,7);return e?t?i?!1:ci("weekday",n.weekday):ci("week",n.week):ci("weekYear",n.weekYear)}function Tj(n){const e=Gh(n.year),t=br(n.ordinal,1,gl(n.year));return e?t?!1:ci("ordinal",n.ordinal):ci("year",n.year)}function CA(n){const e=Gh(n.year),t=br(n.month,1,12),i=br(n.day,1,Dd(n.year,n.month));return e?t?i?!1:ci("day",n.day):ci("month",n.month):ci("year",n.year)}function AA(n){const{hour:e,minute:t,second:i,millisecond:r}=n,s=br(e,0,23)||e===24&&t===0&&i===0&&r===0,o=br(t,0,59),a=br(i,0,59),l=br(r,0,999);return s?o?a?l?!1:ci("millisecond",r):ci("second",i):ci("minute",t):ci("hour",e)}const Sp="Invalid DateTime",xE=864e13;function gu(n){return new Pi("unsupported zone",'the zone "'.concat(n.name,'" is not supported'))}function Cp(n){return n.weekData===null&&(n.weekData=ig(n.c)),n.weekData}function Es(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new Le({...t,...e,old:t})}function NA(n,e,t){let i=n-e*60*1e3;const r=t.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const s=t.offset(i);return r===s?[i,r]:[n-Math.min(r,s)*60*1e3,Math.max(r,s)]}function yu(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function Uu(n,e,t){return NA(Kh(n),e,t)}function TE(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),r=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...n.c,year:i,month:r,day:Math.min(n.c.day,Dd(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=Ve.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Kh(s);let[l,c]=NA(a,t,n.zone);return o!==0&&(l+=o,c=n.zone.offset(l)),{ts:l,o:c}}function Wa(n,e,t,i,r,s){const{setZone:o,zone:a}=t;if(n&&Object.keys(n).length!==0||e){const l=e||a,c=Le.fromObject(n,{...t,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return Le.invalid(new Pi("unparsable",'the input "'.concat(r,"\" can't be parsed as ").concat(i)))}function bu(n,e,t=!0){return n.isValid?un.create(ut.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function Ap(n,e){const t=n.c.year>9999||n.c.year<0;let i="";return t&&n.c.year>=0&&(i+="+"),i+=It(n.c.year,t?6:4),e?(i+="-",i+=It(n.c.month),i+="-",i+=It(n.c.day)):(i+=It(n.c.month),i+=It(n.c.day)),i}function SE(n,e,t,i,r,s){let o=It(n.c.hour);return e?(o+=":",o+=It(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(o+=":")):o+=It(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(o+=It(n.c.second),(n.c.millisecond!==0||!i)&&(o+=".",o+=It(n.c.millisecond,3))),r&&(n.isOffsetFixed&&n.offset===0&&!s?o+="Z":n.o<0?(o+="-",o+=It(Math.trunc(-n.o/60)),o+=":",o+=It(Math.trunc(-n.o%60))):(o+="+",o+=It(Math.trunc(n.o/60)),o+=":",o+=It(Math.trunc(n.o%60)))),s&&(o+="["+n.zone.ianaName+"]"),o}const kA={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Sj={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Cj={ordinal:1,hour:0,minute:0,second:0,millisecond:0},RA=["year","month","day","hour","minute","second","millisecond"],Aj=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Nj=["year","ordinal","hour","minute","second","millisecond"];function CE(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new $C(n);return e}function AE(n,e){const t=Qr(e.zone,Mt.defaultZone),i=ut.fromObject(e),r=Mt.now();let s,o;if(Ue(n.year))s=r;else{for(const c of RA)Ue(n[c])&&(n[c]=kA[c]);const a=CA(n)||AA(n);if(a)return Le.invalid(a);const l=t.offset(r);[s,o]=Uu(n,l,t)}return new Le({ts:s,zone:t,loc:i,o})}function NE(n,e,t){const i=Ue(t.round)?!0:t.round,r=(o,a)=>(o=Zy(o,i||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(o,a)),s=o=>t.calendary?e.hasSame(n,o)?0:e.startOf(o).diff(n.startOf(o),o).get(o):e.diff(n,o).get(o);if(t.unit)return r(s(t.unit),t.unit);for(const o of t.units){const a=s(o);if(Math.abs(a)>=1)return r(a,o)}return r(n>e?-0:0,t.units[t.units.length-1])}function kE(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class Le{constructor(e){const t=e.zone||Mt.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Pi("invalid input"):null)||(t.isValid?null:gu(t));this.ts=Ue(e.ts)?Mt.now():e.ts;let r=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,s]=[e.old.c,e.old.o];else{const a=t.offset(this.ts);r=yu(this.ts,a),i=Number.isNaN(r.year)?new Pi("invalid input"):null,r=i?null:r,s=i?null:a}this._zone=t,this.loc=e.loc||ut.create(),this.invalid=i,this.weekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new Le({})}static local(){const[e,t]=kE(arguments),[i,r,s,o,a,l,c]=t;return AE({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,t]=kE(arguments),[i,r,s,o,a,l,c]=t;return e.zone=bn.utcInstance,AE({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,t={}){const i=tU(e)?e.valueOf():NaN;if(Number.isNaN(i))return Le.invalid("invalid input");const r=Qr(t.zone,Mt.defaultZone);return r.isValid?new Le({ts:i,zone:r,loc:ut.fromObject(t)}):Le.invalid(gu(r))}static fromMillis(e,t={}){if(Os(e))return e<-xE||e>xE?Le.invalid("Timestamp out of range"):new Le({ts:e,zone:Qr(t.zone,Mt.defaultZone),loc:ut.fromObject(t)});throw new oi("fromMillis requires a numerical input, but received a ".concat(typeof e," with value ").concat(e))}static fromSeconds(e,t={}){if(Os(e))return new Le({ts:e*1e3,zone:Qr(t.zone,Mt.defaultZone),loc:ut.fromObject(t)});throw new oi("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=Qr(t.zone,Mt.defaultZone);if(!i.isValid)return Le.invalid(gu(i));const r=Mt.now(),s=Ue(t.specificOffset)?i.offset(r):t.specificOffset,o=Bd(e,CE),a=!Ue(o.ordinal),l=!Ue(o.year),c=!Ue(o.month)||!Ue(o.day),u=l||c,d=o.weekYear||o.weekNumber,h=ut.fromObject(t);if((u||a)&&d)throw new nl("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new nl("Can't mix ordinal dates with month/day");const f=d||o.weekday&&!u;let g,b,C=yu(r,s);f?(g=Aj,b=Sj,C=ig(C)):a?(g=Nj,b=Cj,C=Tp(C)):(g=RA,b=kA);let x=!1;for(const $ of g){const R=o[$];Ue(R)?x?o[$]=b[$]:o[$]=C[$]:x=!0}const y=f?xj(o):a?Tj(o):CA(o),E=y||AA(o);if(E)return Le.invalid(E);const N=f?wE(o):a?EE(o):o,[I,B]=Uu(N,s,i),O=new Le({ts:I,zone:i,o:B,loc:h});return o.weekday&&u&&e.weekday!==O.weekday?Le.invalid("mismatched weekday","you can't specify both a weekday of ".concat(o.weekday," and a date of ").concat(O.toISO())):O}static fromISO(e,t={}){const[i,r]=VU(e);return Wa(i,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,r]=HU(e);return Wa(i,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,r]=WU(e);return Wa(i,r,t,"HTTP",t)}static fromFormat(e,t,i={}){if(Ue(e)||Ue(t))throw new oi("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,o=ut.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[a,l,c,u]=Ej(o,e,t);return u?Le.invalid(u):Wa(a,l,i,"format ".concat(t),e,c)}static fromString(e,t,i={}){return Le.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,r]=ZU(e);return Wa(i,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new oi("need to specify a reason the DateTime is invalid");const i=e instanceof Pi?e:new Pi(e,t);if(Mt.throwOnInvalid)throw new M4(i);return new Le({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=vA(e,ut.fromObject(t));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,t={}){return yA(un.parseFormat(e),ut.fromObject(t)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Cp(this).weekYear:NaN}get weekNumber(){return this.isValid?Cp(this).weekNumber:NaN}get weekday(){return this.isValid?Cp(this).weekday:NaN}get ordinal(){return this.isValid?Tp(this.c).ordinal:NaN}get monthShort(){return this.isValid?pu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?pu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?pu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?pu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=Kh(this.c),r=this.zone.offset(i-e),s=this.zone.offset(i+e),o=this.zone.offset(i-r*t),a=this.zone.offset(i-s*t);if(o===a)return[this];const l=i-o*t,c=i-a*t,u=yu(l,o),d=yu(c,a);return u.hour===d.hour&&u.minute===d.minute&&u.second===d.second&&u.millisecond===d.millisecond?[Es(this,{ts:l}),Es(this,{ts:c})]:[this]}get isInLeapYear(){return fc(this.year)}get daysInMonth(){return Dd(this.year,this.month)}get daysInYear(){return this.isValid?gl(this.year):NaN}get weeksInWeekYear(){return this.isValid?qd(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:r}=un.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(bn.instance(e),t)}toLocal(){return this.setZone(Mt.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=Qr(e,Mt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||i){const s=e.offset(this.ts),o=this.toObject();[r]=Uu(o,s,e)}return Es(this,{ts:r,zone:e})}else return Le.invalid(gu(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return Es(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Bd(e,CE),i=!Ue(t.weekYear)||!Ue(t.weekNumber)||!Ue(t.weekday),r=!Ue(t.ordinal),s=!Ue(t.year),o=!Ue(t.month)||!Ue(t.day),a=s||o,l=t.weekYear||t.weekNumber;if((a||r)&&l)throw new nl("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&r)throw new nl("Can't mix ordinal dates with month/day");let c;i?c=wE({...ig(this.c),...t}):Ue(t.ordinal)?(c={...this.toObject(),...t},Ue(t.day)&&(c.day=Math.min(Dd(c.year,c.month),c.day))):c=EE({...Tp(this.c),...t});const[u,d]=Uu(c,this.o,this.zone);return Es(this,{ts:u,o:d})}plus(e){if(!this.isValid)return this;const t=Ve.fromDurationLike(e);return Es(this,TE(this,t))}minus(e){if(!this.isValid)return this;const t=Ve.fromDurationLike(e).negate();return Es(this,TE(this,t))}startOf(e){if(!this.isValid)return this;const t={},i=Ve.normalizeUnit(e);switch(i){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(i==="weeks"&&(t.weekday=1),i==="quarters"){const r=Math.ceil(this.month/3);t.month=(r-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?un.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Sp}toLocaleString(e=Ld,t={}){return this.isValid?un.create(this.loc.clone(t),e).formatDateTime(this):Sp}toLocaleParts(e={}){return this.isValid?un.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=Ap(this,o);return a+="T",a+=SE(this,o,t,i,r,s),a}toISODate({format:e="extended"}={}){return this.isValid?Ap(this,e==="extended"):null}toISOWeekDate(){return bu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(r?"T":"")+SE(this,o==="extended",t,e,i,s):null}toRFC2822(){return bu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return bu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ap(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(i&&(r+=" "),t?r+="z":e&&(r+="ZZ")),bu(this,r,!0)}toSQL(e={}){return this.isValid?"".concat(this.toSQLDate()," ").concat(this.toSQLTime(e)):null}toString(){return this.isValid?this.toISO():Sp}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return Ve.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=nU(t).map(Ve.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=oj(a,l,s,r);return o?c.negate():c}diffNow(e="milliseconds",t={}){return this.diff(Le.now(),e,t)}until(e){return this.isValid?xt.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const i=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=i&&i<=r.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||Le.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),NE(t,this.plus(i),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?NE(e.base||Le.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Le.isDateTime))throw new oi("min requires all arguments be DateTimes");return dE(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(Le.isDateTime))throw new oi("max requires all arguments be DateTimes");return dE(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:r=null,numberingSystem:s=null}=i,o=ut.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return bA(o,e,t)}static fromStringExplain(e,t,i={}){return Le.fromFormatExplain(e,t,i)}static get DATE_SHORT(){return Ld}static get DATE_MED(){return MC}static get DATE_MED_WITH_WEEKDAY(){return _4}static get DATE_FULL(){return IC}static get DATE_HUGE(){return OC}static get TIME_SIMPLE(){return _C}static get TIME_WITH_SECONDS(){return LC}static get TIME_WITH_SHORT_OFFSET(){return DC}static get TIME_WITH_LONG_OFFSET(){return qC}static get TIME_24_SIMPLE(){return BC}static get TIME_24_WITH_SECONDS(){return FC}static get TIME_24_WITH_SHORT_OFFSET(){return UC}static get TIME_24_WITH_LONG_OFFSET(){return jC}static get DATETIME_SHORT(){return zC}static get DATETIME_SHORT_WITH_SECONDS(){return VC}static get DATETIME_MED(){return HC}static get DATETIME_MED_WITH_SECONDS(){return WC}static get DATETIME_MED_WITH_WEEKDAY(){return L4}static get DATETIME_FULL(){return QC}static get DATETIME_FULL_WITH_SECONDS(){return GC}static get DATETIME_HUGE(){return KC}static get DATETIME_HUGE_WITH_SECONDS(){return YC}}function Qa(n){if(Le.isDateTime(n))return n;if(n&&n.valueOf&&Os(n.valueOf()))return Le.fromJSDate(n);if(n&&typeof n=="object")return Le.fromObject(n);throw new oi("Unknown datetime argument: ".concat(n,", of type ").concat(typeof n))}const kj=({timerInterval:n,timerKey:e,timerDuration:t,timerActive:i,unsetTimer:r})=>{const o=t?(t-Date.now())/1e3:n*1,a=(l,c)=>{const u=Ve.fromMillis(l*1e3).toFormat("mm:ss");return Y.jsxs("div",{className:"time-wrapper",children:[Y.jsx("div",{children:c?"NEXT BREAK IS IN":"CLICK PLAY BUTTON"}),Y.jsx("div",{className:"timer-digits",children:Y.jsx("div",{children:u})})]})};return Y.jsx(PC,{isPlaying:i,size:300,strokeWidth:22,colors:["#004777","#F7B801","#A30000","#A30000"],colorsTime:[7,5,2,0],rotation:"clockwise",duration:n*1,initialRemainingTime:o>0?o:n*1,onComplete:()=>{r()},children:({remainingTime:l})=>a(l,i)},e)},Rj=({timerStatus:n,timerHandler:e})=>Y.jsx(ai,{color:"success",expand:"full",onClick:e,children:Y.jsx(ki,{icon:n==="running"?Yq:Jq,size:"large"})});const PA=()=>{const n=()=>{window.location.href="https://backpackgym.com"};return Y.jsxs(nq,{contentId:"main-content",children:[Y.jsx(Jo,{children:Y.jsx(Dh,{color:"tertiary",children:Y.jsx(By,{children:"Menu"})})}),Y.jsxs(Lh,{className:"ion-padding",children:[Y.jsxs(tq,{children:[Y.jsx(ja,{children:Y.jsxs(Wr,{lines:"full",button:!0,routerLink:"/timer",children:[Y.jsx(ki,{slot:"start",icon:KS}),Y.jsx(ss,{children:"Start Your Workout"})]})}),Y.jsx(ja,{children:Y.jsxs(Wr,{lines:"full",button:!0,href:"https://backpackgym.com/contact",children:[Y.jsx(ki,{slot:"start",icon:eB}),Y.jsx(ss,{children:"Video Tutorial"})]})}),Y.jsx(ja,{children:Y.jsxs(Wr,{lines:"full",button:!0,href:"https://backpackgym.com/contact",children:[Y.jsx(ki,{slot:"start",icon:Kq}),Y.jsx(ss,{children:"Contact"})]})}),Y.jsx(ja,{children:Y.jsx(Wr,{lines:"none",children:Y.jsxs(_h,{slot:"end",children:[Y.jsx(ai,{href:"https://facebook.com/backpackgym",children:Y.jsx(ki,{slot:"icon-only",icon:Qq})}),Y.jsx(ai,{href:"https://facebook.com/backpackgym",children:Y.jsx(ki,{slot:"icon-only",icon:Gq})})]})})}),Y.jsx(ja,{children:Y.jsx(Wr,{className:"bpg-block",onClick:n})})]}),Y.jsx("div",{slot:"fixed",className:"app-info",children:Y.jsxs("p",{children:["Presented by Backpack Gym® ",Y.jsx("br",{}),"App version 1.0.1"]})})]})]})};const $A=()=>Y.jsxs(Nq,{slot:"bottom",color:"warning",children:[Y.jsxs(Uo,{className:"my-tab-button",tab:"home",href:"/home",children:[Y.jsx(ki,{icon:Wq}),Y.jsx(ss,{children:"Home"}),Y.jsx(Z2,{color:"danger",children:"1"})]}),Y.jsxs(Uo,{className:"my-tab-button",tab:"timer",href:"/timer",children:[Y.jsx(ki,{icon:KS}),Y.jsx(ss,{children:"Timer"})]}),Y.jsxs(Uo,{className:"my-tab-button",tab:"settings",href:"/timer-configuration",children:[Y.jsx(ki,{icon:Xq}),Y.jsx(ss,{children:"Settings"})]})]}),Pj=({timerStatus:n,unsetTimer:e})=>Y.jsx(ai,{color:"danger",expand:"full",disabled:n==="running",onClick:e,children:Y.jsx(ki,{icon:Zq,size:"large"})});var RE;(function(n){n[n.Sunday=1]="Sunday",n[n.Monday=2]="Monday",n[n.Tuesday=3]="Tuesday",n[n.Wednesday=4]="Wednesday",n[n.Thursday=5]="Thursday",n[n.Friday=6]="Friday",n[n.Saturday=7]="Saturday"})(RE||(RE={}));const rg=sc("LocalNotifications",{web:()=>an(()=>import("./web-fc736d0c.js"),[]).then(n=>new n.LocalNotificationsWeb)}),PE=async n=>{try{if((await rg.requestPermissions()).display!=="granted")throw new Error("Permissions haven't been granted");await rg.schedule({notifications:[{title:"Friendly Reminder",body:"Get up and workout",id:1,schedule:{at:new Date(Date.now()+n)},extra:{data:"Pass data to your handler"},iconColor:"#FF7F50",sound:"birds.wav"}]})}catch(e){console.log(e)}},$j=async()=>{rg.cancel({notifications:[{id:1}]})};function $E(n){return n!==null&&typeof n=="object"&&"constructor"in n&&n.constructor===Object}function rb(n,e){n===void 0&&(n={}),e===void 0&&(e={}),Object.keys(e).forEach(t=>{typeof n[t]>"u"?n[t]=e[t]:$E(e[t])&&$E(n[t])&&Object.keys(e[t]).length>0&&rb(n[t],e[t])})}const MA={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function no(){const n=typeof document<"u"?document:{};return rb(n,MA),n}const Mj={document:MA,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(n){return typeof setTimeout>"u"?(n(),null):setTimeout(n,0)},cancelAnimationFrame(n){typeof setTimeout>"u"||clearTimeout(n)}};function Kn(){const n=typeof window<"u"?window:{};return rb(n,Mj),n}function Ij(n){const e=n;Object.keys(e).forEach(t=>{try{e[t]=null}catch(i){}try{delete e[t]}catch(i){}})}function sg(n,e){return e===void 0&&(e=0),setTimeout(n,e)}function Fd(){return Date.now()}function Oj(n){const e=Kn();let t;return e.getComputedStyle&&(t=e.getComputedStyle(n,null)),!t&&n.currentStyle&&(t=n.currentStyle),t||(t=n.style),t}function _j(n,e){e===void 0&&(e="x");const t=Kn();let i,r,s;const o=Oj(n);return t.WebKitCSSMatrix?(r=o.transform||o.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(r==="none"?"":r)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?r=s.m41:i.length===16?r=parseFloat(i[12]):r=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?r=s.m42:i.length===16?r=parseFloat(i[13]):r=parseFloat(i[5])),r||0}function vu(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"}function Lj(n){return typeof window<"u"&&typeof window.HTMLElement<"u"?n instanceof HTMLElement:n&&(n.nodeType===1||n.nodeType===11)}function Fn(){const n=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let t=1;t<arguments.length;t+=1){const i=t<0||arguments.length<=t?void 0:arguments[t];if(i!=null&&!Lj(i)){const r=Object.keys(Object(i)).filter(s=>e.indexOf(s)<0);for(let s=0,o=r.length;s<o;s+=1){const a=r[s],l=Object.getOwnPropertyDescriptor(i,a);l!==void 0&&l.enumerable&&(vu(n[a])&&vu(i[a])?i[a].__swiper__?n[a]=i[a]:Fn(n[a],i[a]):!vu(n[a])&&vu(i[a])?(n[a]={},i[a].__swiper__?n[a]=i[a]:Fn(n[a],i[a])):n[a]=i[a])}}}return n}function wu(n,e,t){n.style.setProperty(e,t)}function IA(n){let{swiper:e,targetPosition:t,side:i}=n;const r=Kn(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const c=t>s?"next":"prev",u=(h,f)=>c==="next"&&h>=f||c==="prev"&&h<=f,d=()=>{a=new Date().getTime(),o===null&&(o=a);const h=Math.max(Math.min((a-o)/l,1),0),f=.5-Math.cos(h*Math.PI)/2;let g=s+f*(t-s);if(u(g,t)&&(g=t),e.wrapperEl.scrollTo({[i]:g}),u(g,t)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[i]:g})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(d)};d()}function Ji(n,e){return e===void 0&&(e=""),[...n.children].filter(t=>t.matches(e))}function OA(n,e){e===void 0&&(e=[]);const t=document.createElement(n);return t.classList.add(...Array.isArray(e)?e:[e]),t}function Dj(n,e){const t=[];for(;n.previousElementSibling;){const i=n.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function qj(n,e){const t=[];for(;n.nextElementSibling;){const i=n.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),n=i}return t}function Yr(n,e){return Kn().getComputedStyle(n,null).getPropertyValue(e)}function Ud(n){let e=n,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function _A(n,e){const t=[];let i=n.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function og(n,e,t){const i=Kn();return t?n[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(n,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):n.offsetWidth}let Np;function Bj(){const n=Kn(),e=no();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in n||n.DocumentTouch&&e instanceof n.DocumentTouch)}}function LA(){return Np||(Np=Bj()),Np}let kp;function Fj(n){let{userAgent:e}=n===void 0?{}:n;const t=LA(),i=Kn(),r=i.navigator.platform,s=e||i.navigator.userAgent,o={ios:!1,android:!1},a=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=r==="Win32";let g=r==="MacIntel";const b=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&g&&t.touch&&b.indexOf("".concat(a,"x").concat(l))>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),g=!1),c&&!f&&(o.os="android",o.android=!0),(u||h||d)&&(o.os="ios",o.ios=!0),o}function Uj(n){return n===void 0&&(n={}),kp||(kp=Fj(n)),kp}let Rp;function jj(){const n=Kn();let e=!1;function t(){const i=n.navigator.userAgent.toLowerCase();return i.indexOf("safari")>=0&&i.indexOf("chrome")<0&&i.indexOf("android")<0}if(t()){const i=String(n.navigator.userAgent);if(i.includes("Version/")){const[r,s]=i.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));e=r<16||r===16&&s<2}}return{isSafari:e||t(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n.navigator.userAgent)}}function zj(){return Rp||(Rp=jj()),Rp}function Vj(n){let{swiper:e,on:t,emit:i}=n;const r=Kn();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(i("beforeResize"),i("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{o=r.requestAnimationFrame(()=>{const{width:h,height:f}=e;let g=h,b=f;d.forEach(C=>{let{contentBoxSize:x,contentRect:y,target:E}=C;E&&E!==e.el||(g=y?y.width:(x[0]||x).inlineSize,b=y?y.height:(x[0]||x).blockSize)}),(g!==h||b!==f)&&a()})}),s.observe(e.el))},c=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||i("orientationchange")};t("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){l();return}r.addEventListener("resize",a),r.addEventListener("orientationchange",u)}),t("destroy",()=>{c(),r.removeEventListener("resize",a),r.removeEventListener("orientationchange",u)})}function Hj(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s=[],o=Kn(),a=function(u,d){d===void 0&&(d={});const h=o.MutationObserver||o.WebkitMutationObserver,f=new h(g=>{if(e.__preventObserver__)return;if(g.length===1){r("observerUpdate",g[0]);return}const b=function(){r("observerUpdate",g[0])};o.requestAnimationFrame?o.requestAnimationFrame(b):o.setTimeout(b,0)});f.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(f)},l=()=>{if(e.params.observer){if(e.params.observeParents){const u=_A(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},c=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};t({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",l),i("destroy",c)}var Wj={on(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const r=t?"unshift":"push";return n.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][r](e)}),i},once(n,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function r(){i.off(n,r),r.__emitterProxy&&delete r.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(i,o)}return r.__emitterProxy=e,i.on(n,r,t)},onAny(n,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof n!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(n)<0&&t.eventsAnyListeners[i](n),t},offAny(n){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(n);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(n,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||n.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((r,s)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(){const n=this;if(!n.eventsListeners||n.destroyed||!n.eventsListeners)return n;let e,t,i;for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],t=s.slice(1,s.length),i=n):(e=s[0].events,t=s[0].data,i=s[0].context||n),t.unshift(i),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{n.eventsAnyListeners&&n.eventsAnyListeners.length&&n.eventsAnyListeners.forEach(c=>{c.apply(i,[l,...t])}),n.eventsListeners&&n.eventsListeners[l]&&n.eventsListeners[l].forEach(c=>{c.apply(i,t)})}),n}};function Qj(){const n=this;let e,t;const i=n.el;typeof n.params.width<"u"&&n.params.width!==null?e=n.params.width:e=i.clientWidth,typeof n.params.height<"u"&&n.params.height!==null?t=n.params.height:t=i.clientHeight,!(e===0&&n.isHorizontal()||t===0&&n.isVertical())&&(e=e-parseInt(Yr(i,"padding-left")||0,10)-parseInt(Yr(i,"padding-right")||0,10),t=t-parseInt(Yr(i,"padding-top")||0,10)-parseInt(Yr(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(n,{width:e,height:t,size:n.isHorizontal()?e:t}))}function Gj(){const n=this;function e(A){return n.isHorizontal()?A:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[A]}function t(A,U){return parseFloat(A.getPropertyValue(e(U))||0)}const i=n.params,{wrapperEl:r,slidesEl:s,size:o,rtlTranslate:a,wrongRTL:l}=n,c=n.virtual&&i.virtual.enabled,u=c?n.virtual.slides.length:n.slides.length,d=Ji(s,".".concat(n.params.slideClass,", swiper-slide")),h=c?n.virtual.slides.length:d.length;let f=[];const g=[],b=[];let C=i.slidesOffsetBefore;typeof C=="function"&&(C=i.slidesOffsetBefore.call(n));let x=i.slidesOffsetAfter;typeof x=="function"&&(x=i.slidesOffsetAfter.call(n));const y=n.snapGrid.length,E=n.slidesGrid.length;let N=i.spaceBetween,I=-C,B=0,O=0;if(typeof o>"u")return;typeof N=="string"&&N.indexOf("%")>=0?N=parseFloat(N.replace("%",""))/100*o:typeof N=="string"&&(N=parseFloat(N)),n.virtualSize=-N,d.forEach(A=>{a?A.style.marginLeft="":A.style.marginRight="",A.style.marginBottom="",A.style.marginTop=""}),i.centeredSlides&&i.cssMode&&(wu(r,"--swiper-centered-offset-before",""),wu(r,"--swiper-centered-offset-after",""));const $=i.grid&&i.grid.rows>1&&n.grid;$&&n.grid.initSlides(h);let R;const H=i.slidesPerView==="auto"&&i.breakpoints&&Object.keys(i.breakpoints).filter(A=>typeof i.breakpoints[A].slidesPerView<"u").length>0;for(let A=0;A<h;A+=1){R=0;let U;if(d[A]&&(U=d[A]),$&&n.grid.updateSlide(A,U,h,e),!(d[A]&&Yr(U,"display")==="none")){if(i.slidesPerView==="auto"){H&&(d[A].style[e("width")]="");const D=getComputedStyle(U),K=U.style.transform,re=U.style.webkitTransform;if(K&&(U.style.transform="none"),re&&(U.style.webkitTransform="none"),i.roundLengths)R=n.isHorizontal()?og(U,"width",!0):og(U,"height",!0);else{const he=t(D,"width"),ce=t(D,"padding-left"),te=t(D,"padding-right"),ee=t(D,"margin-left"),j=t(D,"margin-right"),X=D.getPropertyValue("box-sizing");if(X&&X==="border-box")R=he+ee+j;else{const{clientWidth:le,offsetWidth:xe}=U;R=he+ce+te+ee+j+(xe-le)}}K&&(U.style.transform=K),re&&(U.style.webkitTransform=re),i.roundLengths&&(R=Math.floor(R))}else R=(o-(i.slidesPerView-1)*N)/i.slidesPerView,i.roundLengths&&(R=Math.floor(R)),d[A]&&(d[A].style[e("width")]="".concat(R,"px"));d[A]&&(d[A].swiperSlideSize=R),b.push(R),i.centeredSlides?(I=I+R/2+B/2+N,B===0&&A!==0&&(I=I-o/2-N),A===0&&(I=I-o/2-N),Math.abs(I)<1/1e3&&(I=0),i.roundLengths&&(I=Math.floor(I)),O%i.slidesPerGroup===0&&f.push(I),g.push(I)):(i.roundLengths&&(I=Math.floor(I)),(O-Math.min(n.params.slidesPerGroupSkip,O))%n.params.slidesPerGroup===0&&f.push(I),g.push(I),I=I+R+N),n.virtualSize+=R+N,B=R,O+=1}}if(n.virtualSize=Math.max(n.virtualSize,o)+x,a&&l&&(i.effect==="slide"||i.effect==="coverflow")&&(r.style.width="".concat(n.virtualSize+N,"px")),i.setWrapperSize&&(r.style[e("width")]="".concat(n.virtualSize+N,"px")),$&&n.grid.updateWrapperSize(R,f,e),!i.centeredSlides){const A=[];for(let U=0;U<f.length;U+=1){let D=f[U];i.roundLengths&&(D=Math.floor(D)),f[U]<=n.virtualSize-o&&A.push(D)}f=A,Math.floor(n.virtualSize-o)-Math.floor(f[f.length-1])>1&&f.push(n.virtualSize-o)}if(c&&i.loop){const A=b[0]+N;if(i.slidesPerGroup>1){const U=Math.ceil((n.virtual.slidesBefore+n.virtual.slidesAfter)/i.slidesPerGroup),D=A*i.slidesPerGroup;for(let K=0;K<U;K+=1)f.push(f[f.length-1]+D)}for(let U=0;U<n.virtual.slidesBefore+n.virtual.slidesAfter;U+=1)i.slidesPerGroup===1&&f.push(f[f.length-1]+A),g.push(g[g.length-1]+A),n.virtualSize+=A}if(f.length===0&&(f=[0]),N!==0){const A=n.isHorizontal()&&a?"marginLeft":e("marginRight");d.filter((U,D)=>!i.cssMode||i.loop?!0:D!==d.length-1).forEach(U=>{U.style[A]="".concat(N,"px")})}if(i.centeredSlides&&i.centeredSlidesBounds){let A=0;b.forEach(D=>{A+=D+(N||0)}),A-=N;const U=A-o;f=f.map(D=>D<=0?-C:D>U?U+x:D)}if(i.centerInsufficientSlides){let A=0;if(b.forEach(U=>{A+=U+(N||0)}),A-=N,A<o){const U=(o-A)/2;f.forEach((D,K)=>{f[K]=D-U}),g.forEach((D,K)=>{g[K]=D+U})}}if(Object.assign(n,{slides:d,snapGrid:f,slidesGrid:g,slidesSizesGrid:b}),i.centeredSlides&&i.cssMode&&!i.centeredSlidesBounds){wu(r,"--swiper-centered-offset-before","".concat(-f[0],"px")),wu(r,"--swiper-centered-offset-after","".concat(n.size/2-b[b.length-1]/2,"px"));const A=-n.snapGrid[0],U=-n.slidesGrid[0];n.snapGrid=n.snapGrid.map(D=>D+A),n.slidesGrid=n.slidesGrid.map(D=>D+U)}if(h!==u&&n.emit("slidesLengthChange"),f.length!==y&&(n.params.watchOverflow&&n.checkOverflow(),n.emit("snapGridLengthChange")),g.length!==E&&n.emit("slidesGridLengthChange"),i.watchSlidesProgress&&n.updateSlidesOffset(),!c&&!i.cssMode&&(i.effect==="slide"||i.effect==="fade")){const A="".concat(i.containerModifierClass,"backface-hidden"),U=n.el.classList.contains(A);h<=i.maxBackfaceHiddenSlides?U||n.el.classList.add(A):U&&n.el.classList.remove(A)}}function Kj(n){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let r=0,s;typeof n=="number"?e.setTransition(n):n===!0&&e.setTransition(e.params.speed);const o=a=>i?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{t.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!i)break;t.push(o(a))}else t.push(o(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const a=t[s].offsetHeight;r=a>r?a:r}(r||r===0)&&(e.wrapperEl.style.height="".concat(r,"px"))}function Yj(){const n=this,e=n.slides,t=n.isElement?n.isHorizontal()?n.wrapperEl.offsetLeft:n.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(n.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-n.cssOverflowAdjustment()}function Jj(n){n===void 0&&(n=this&&this.translate||0);const e=this,t=e.params,{slides:i,rtlTranslate:r,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-n;r&&(o=n),i.forEach(l=>{l.classList.remove(t.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=t.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<i.length;l+=1){const c=i[l];let u=c.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(u-=i[0].swiperSlideOffset);const d=(o+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),h=(o-s[0]+(t.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+a),f=-(o-u),g=f+e.slidesSizesGrid[l];(f>=0&&f<e.size-1||g>1&&g<=e.size||f<=0&&g>=e.size)&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(l),i[l].classList.add(t.slideVisibleClass)),c.progress=r?-d:d,c.originalProgress=r?-h:h}}function Xj(n){const e=this;if(typeof n>"u"){const u=e.rtlTranslate?-1:1;n=e&&e.translate&&e.translate*u||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,c=o;if(i===0)r=0,s=!0,o=!0;else{r=(n-e.minTranslate())/i;const u=Math.abs(n-e.minTranslate())<1,d=Math.abs(n-e.maxTranslate())<1;s=u||r<=0,o=d||r>=1,u&&(r=0),d&&(r=1)}if(t.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],f=e.slidesGrid[d],g=e.slidesGrid[e.slidesGrid.length-1],b=Math.abs(n);b>=h?a=(b-h)/g:a=(b+g-f)/g,a>1&&(a-=1)}Object.assign(e,{progress:r,progressLoop:a,isBeginning:s,isEnd:o}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(n),s&&!l&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(l&&!s||c&&!o)&&e.emit("fromEdge"),e.emit("progress",r)}function Zj(){const n=this,{slides:e,params:t,slidesEl:i,activeIndex:r}=n,s=n.virtual&&t.virtual.enabled,o=l=>Ji(i,".".concat(t.slideClass).concat(l,", swiper-slide").concat(l))[0];e.forEach(l=>{l.classList.remove(t.slideActiveClass,t.slideNextClass,t.slidePrevClass)});let a;if(s)if(t.loop){let l=r-n.virtual.slidesBefore;l<0&&(l=n.virtual.slides.length+l),l>=n.virtual.slides.length&&(l-=n.virtual.slides.length),a=o('[data-swiper-slide-index="'.concat(l,'"]'))}else a=o('[data-swiper-slide-index="'.concat(r,'"]'));else a=e[r];if(a){a.classList.add(t.slideActiveClass);let l=qj(a,".".concat(t.slideClass,", swiper-slide"))[0];t.loop&&!l&&(l=e[0]),l&&l.classList.add(t.slideNextClass);let c=Dj(a,".".concat(t.slideClass,", swiper-slide"))[0];t.loop&&!c===0&&(c=e[e.length-1]),c&&c.classList.add(t.slidePrevClass)}n.emitSlidesClasses()}const ju=(n,e)=>{if(!n||n.destroyed||!n.params)return;const t=()=>n.isElement?"swiper-slide":".".concat(n.params.slideClass),i=e.closest(t());if(i){let r=i.querySelector(".".concat(n.params.lazyPreloaderClass));!r&&n.isElement&&(i.shadowRoot?r=i.shadowRoot.querySelector(".".concat(n.params.lazyPreloaderClass)):requestAnimationFrame(()=>{i.shadowRoot&&(r=i.shadowRoot.querySelector(".".concat(n.params.lazyPreloaderClass)),r&&r.remove())})),r&&r.remove()}},Pp=(n,e)=>{if(!n.slides[e])return;const t=n.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},ag=n=>{if(!n||n.destroyed||!n.params)return;let e=n.params.lazyPreloadPrevNext;const t=n.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=n.params.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(n.params.slidesPerView),r=n.activeIndex;if(n.params.grid&&n.params.grid.rows>1){const o=r,a=[o-e];a.push(...Array.from({length:e}).map((l,c)=>o+i+c)),n.slides.forEach((l,c)=>{a.includes(l.column)&&Pp(n,c)});return}const s=r+i-1;if(n.params.rewind||n.params.loop)for(let o=r-e;o<=s+e;o+=1){const a=(o%t+t)%t;(a<r||a>s)&&Pp(n,a)}else for(let o=Math.max(r-e,0);o<=Math.min(s+e,t-1);o+=1)o!==r&&(o>s||o<r)&&Pp(n,o)};function ez(n){const{slidesGrid:e,params:t}=n,i=n.rtlTranslate?n.translate:-n.translate;let r;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?r=s:i>=e[s]&&i<e[s+1]&&(r=s+1):i>=e[s]&&(r=s);return t.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function tz(n){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=n,c;const u=h=>{let f=h-e.virtual.slidesBefore;return f<0&&(f=e.virtual.slides.length+f),f>=e.virtual.slides.length&&(f-=e.virtual.slides.length),f};if(typeof l>"u"&&(l=ez(e)),i.indexOf(t)>=0)c=i.indexOf(t);else{const h=Math.min(r.slidesPerGroupSkip,l);c=h+Math.floor((l-h)/r.slidesPerGroup)}if(c>=i.length&&(c=i.length-1),l===s){c!==a&&(e.snapIndex=c,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=u(l));return}let d;e.virtual&&r.virtual.enabled&&r.loop?d=u(l):e.slides[l]?d=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):d=l,Object.assign(e,{previousSnapIndex:a,snapIndex:c,previousRealIndex:o,realIndex:d,previousIndex:s,activeIndex:l}),e.initialized&&ag(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==d&&e.emit("realIndexChange"),e.emit("slideChange"))}function nz(n,e){const t=this,i=t.params;let r=n.closest(".".concat(i.slideClass,", swiper-slide"));!r&&t.isElement&&e&&e.length>1&&e.includes(n)&&[...e.slice(e.indexOf(n)+1,e.length)].forEach(a=>{!r&&a.matches&&a.matches(".".concat(i.slideClass,", swiper-slide"))&&(r=a)});let s=!1,o;if(r){for(let a=0;a<t.slides.length;a+=1)if(t.slides[a]===r){s=!0,o=a;break}}if(r&&s)t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=o;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var iz={updateSize:Qj,updateSlides:Gj,updateAutoHeight:Kj,updateSlidesOffset:Yj,updateSlidesProgress:Jj,updateProgress:Xj,updateSlidesClasses:Zj,updateActiveIndex:tz,updateClickedSlide:nz};function rz(n){n===void 0&&(n=this.isHorizontal()?"x":"y");const e=this,{params:t,rtlTranslate:i,translate:r,wrapperEl:s}=e;if(t.virtualTranslate)return i?-r:r;if(t.cssMode)return r;let o=_j(s,n);return o+=e.cssOverflowAdjustment(),i&&(o=-o),o||0}function sz(n,e){const t=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:o}=t;let a=0,l=0;const c=0;t.isHorizontal()?a=i?-n:n:l=n,r.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?a:l,r.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-a:-l:r.virtualTranslate||(t.isHorizontal()?a-=t.cssOverflowAdjustment():l-=t.cssOverflowAdjustment(),s.style.transform="translate3d(".concat(a,"px, ").concat(l,"px, ").concat(c,"px)"));let u;const d=t.maxTranslate()-t.minTranslate();d===0?u=0:u=(n-t.minTranslate())/d,u!==o&&t.updateProgress(n),t.emit("setTranslate",t.translate,e)}function oz(){return-this.snapGrid[0]}function az(){return-this.snapGrid[this.snapGrid.length-1]}function lz(n,e,t,i,r){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),i===void 0&&(i=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(i&&n>l?u=l:i&&n<c?u=c:u=n,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return IA({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),t&&(s.emit("beforeTransitionStart",e,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var cz={getTranslate:rz,setTranslate:sz,minTranslate:oz,maxTranslate:az,translateTo:lz};function uz(n,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration="".concat(n,"ms"),t.wrapperEl.style.transitionDelay=n===0?"0ms":""),t.emit("setTransition",n,e)}function DA(n){let{swiper:e,runCallbacks:t,direction:i,step:r}=n;const{activeIndex:s,previousIndex:o}=e;let a=i;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit("transition".concat(r)),t&&s!==o){if(a==="reset"){e.emit("slideResetTransition".concat(r));return}e.emit("slideChangeTransition".concat(r)),a==="next"?e.emit("slideNextTransition".concat(r)):e.emit("slidePrevTransition".concat(r))}}function dz(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),DA({swiper:t,runCallbacks:n,direction:e,step:"Start"}))}function hz(n,e){n===void 0&&(n=!0);const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),DA({swiper:t,runCallbacks:n,direction:e,step:"End"}))}var fz={setTransition:uz,transitionStart:dz,transitionEnd:hz};function pz(n,e,t,i,r){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const s=this;let o=n;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:f,enabled:g}=s;if(s.animating&&a.preventInteractionOnTransition||!g&&!i&&!r)return!1;const b=Math.min(s.params.slidesPerGroupSkip,o);let C=b+Math.floor((o-b)/s.params.slidesPerGroup);C>=l.length&&(C=l.length-1);const x=-l[C];if(a.normalizeSlideIndex)for(let E=0;E<c.length;E+=1){const N=-Math.floor(x*100),I=Math.floor(c[E]*100),B=Math.floor(c[E+1]*100);typeof c[E+1]<"u"?N>=I&&N<B-(B-I)/2?o=E:N>=I&&N<B&&(o=E+1):N>=I&&(o=E)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(h?x>s.translate&&x>s.minTranslate():x<s.translate&&x<s.minTranslate())||!s.allowSlidePrev&&x>s.translate&&x>s.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(x);let y;if(o>d?y="next":o<d?y="prev":y="reset",h&&-x===s.translate||!h&&x===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(x),y!=="reset"&&(s.transitionStart(t,y),s.transitionEnd(t,y)),!1;if(a.cssMode){const E=s.isHorizontal(),N=h?x:-x;if(e===0){const I=s.virtual&&s.params.virtual.enabled;I&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),I&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[E?"scrollLeft":"scrollTop"]=N})):f[E?"scrollLeft":"scrollTop"]=N,I&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return IA({swiper:s,targetPosition:N,side:E?"left":"top"}),!0;f.scrollTo({[E?"left":"top"]:N,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(x),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,y),e===0?s.transitionEnd(t,y):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(N){!s||s.destroyed||N.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,y))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function mz(n,e,t,i){n===void 0&&(n=0),e===void 0&&(e=this.params.speed),t===void 0&&(t=!0),typeof n=="string"&&(n=parseInt(n,10));const r=this;let s=n;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?s=s+r.virtual.slidesBefore:s=r.getSlideIndexByData(s)),r.slideTo(s,e,t,i)}function gz(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const i=this,{enabled:r,params:s,animating:o}=i;if(!r)return i;let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:a,c=i.virtual&&s.virtual.enabled;if(s.loop){if(o&&!c&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+l,n,e,t)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,n,e,t):i.slideTo(i.activeIndex+l,n,e,t)}function yz(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const i=this,{params:r,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:c}=i;if(!l)return i;const u=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!u&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const d=a?i.translate:-i.translate;function h(x){return x<0?-Math.floor(Math.abs(x)):Math.floor(x)}const f=h(d),g=s.map(x=>h(x));let b=s[g.indexOf(f)-1];if(typeof b>"u"&&r.cssMode){let x;s.forEach((y,E)=>{f>=y&&(x=E)}),typeof x<"u"&&(b=s[x>0?x-1:x])}let C=0;if(typeof b<"u"&&(C=o.indexOf(b),C<0&&(C=i.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(C=C-i.slidesPerViewDynamic("previous",!0)+1,C=Math.max(C,0))),r.rewind&&i.isBeginning){const x=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(x,n,e,t)}else if(r.loop&&i.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{i.slideTo(C,n,e,t)}),!0;return i.slideTo(C,n,e,t)}function bz(n,e,t){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0);const i=this;return i.slideTo(i.activeIndex,n,e,t)}function vz(n,e,t,i){n===void 0&&(n=this.params.speed),e===void 0&&(e=!0),i===void 0&&(i=.5);const r=this;let s=r.activeIndex;const o=Math.min(r.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[a]){const c=r.snapGrid[a],u=r.snapGrid[a+1];l-c>(u-c)*i&&(s+=r.params.slidesPerGroup)}else{const c=r.snapGrid[a-1],u=r.snapGrid[a];l-c<=(u-c)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,n,e,t)}function wz(){const n=this,{params:e,slidesEl:t}=n,i=e.slidesPerView==="auto"?n.slidesPerViewDynamic():e.slidesPerView;let r=n.clickedIndex,s;const o=n.isElement?"swiper-slide":".".concat(e.slideClass);if(e.loop){if(n.animating)return;s=parseInt(n.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r<n.loopedSlides-i/2||r>n.slides.length-n.loopedSlides+i/2?(n.loopFix(),r=n.getSlideIndex(Ji(t,"".concat(o,'[data-swiper-slide-index="').concat(s,'"]'))[0]),sg(()=>{n.slideTo(r)})):n.slideTo(r):r>n.slides.length-i?(n.loopFix(),r=n.getSlideIndex(Ji(t,"".concat(o,'[data-swiper-slide-index="').concat(s,'"]'))[0]),sg(()=>{n.slideTo(r)})):n.slideTo(r)}else n.slideTo(r)}var Ez={slideTo:pz,slideToLoop:mz,slideNext:gz,slidePrev:yz,slideReset:bz,slideToClosest:vz,slideToClickedSlide:wz};function xz(n){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;Ji(i,".".concat(t.slideClass,", swiper-slide")).forEach((s,o)=>{s.setAttribute("data-swiper-slide-index",o)}),e.loopFix({slideRealIndex:n,direction:t.centeredSlides?void 0:"next"})}function Tz(n){let{slideRealIndex:e,slideTo:t=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:o,byMousewheel:a}=n===void 0?{}:n;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:h,params:f}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&f.virtual.enabled){t&&(!f.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):f.centeredSlides&&l.snapIndex<f.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=d,l.emit("loopFix");return}const g=f.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(f.slidesPerView,10));let b=f.loopedSlides||g;b%f.slidesPerGroup!==0&&(b+=f.slidesPerGroup-b%f.slidesPerGroup),l.loopedSlides=b;const C=[],x=[];let y=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(l.slides.filter(O=>O.classList.contains(f.slideActiveClass))[0]):y=s;const E=i==="next"||!i,N=i==="prev"||!i;let I=0,B=0;if(s<b){I=Math.max(b-s,f.slidesPerGroup);for(let O=0;O<b-s;O+=1){const $=O-Math.floor(O/c.length)*c.length;C.push(c.length-$-1)}}else if(s>l.slides.length-b*2){B=Math.max(s-(l.slides.length-b*2),f.slidesPerGroup);for(let O=0;O<B;O+=1){const $=O-Math.floor(O/c.length)*c.length;x.push($)}}if(N&&C.forEach(O=>{l.slides[O].swiperLoopMoveDOM=!0,h.prepend(l.slides[O]),l.slides[O].swiperLoopMoveDOM=!1}),E&&x.forEach(O=>{l.slides[O].swiperLoopMoveDOM=!0,h.append(l.slides[O]),l.slides[O].swiperLoopMoveDOM=!1}),l.recalcSlides(),f.slidesPerView==="auto"&&l.updateSlides(),f.watchSlidesProgress&&l.updateSlidesOffset(),t){if(C.length>0&&N)if(typeof e>"u"){const O=l.slidesGrid[y],R=l.slidesGrid[y+I]-O;a?l.setTranslate(l.translate-R):(l.slideTo(y+I,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=R,l.touchEventsData.currentTranslate=l.translate))}else r&&(l.slideToLoop(e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(x.length>0&&E)if(typeof e>"u"){const O=l.slidesGrid[y],R=l.slidesGrid[y-B]-O;a?l.setTranslate(l.translate-R):(l.slideTo(y-B,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=R,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(e,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const O={slideRealIndex:e,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach($=>{!$.destroyed&&$.params.loop&&$.loopFix({...O,slideTo:$.params.slidesPerView===f.slidesPerView?t:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...O,slideTo:l.controller.control.params.slidesPerView===f.slidesPerView?t:!1})}l.emit("loopFix")}function Sz(){const n=this,{params:e,slidesEl:t}=n;if(!e.loop||n.virtual&&n.params.virtual.enabled)return;n.recalcSlides();const i=[];n.slides.forEach(r=>{const s=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;i[s]=r}),n.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),i.forEach(r=>{t.append(r)}),n.recalcSlides(),n.slideTo(n.realIndex,0)}var Cz={loopCreate:xz,loopFix:Tz,loopDestroy:Sz};function Az(n){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=n?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Nz(){const n=this;n.params.watchOverflow&&n.isLocked||n.params.cssMode||(n.isElement&&(n.__preventObserver__=!0),n[n.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",n.isElement&&requestAnimationFrame(()=>{n.__preventObserver__=!1}))}var kz={setGrabCursor:Az,unsetGrabCursor:Nz};function Rz(n,e){e===void 0&&(e=this);function t(i){if(!i||i===no()||i===Kn())return null;i.assignedSlot&&(i=i.assignedSlot);const r=i.closest(n);return!r&&!i.getRootNode?null:r||t(i.getRootNode().host)}return t(e)}function Pz(n){const e=this,t=no(),i=Kn(),r=e.touchEventsData;r.evCache.push(n);const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&n.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=n;l.originalEvent&&(l=l.originalEvent);let c=l.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(c)||"which"in l&&l.which===3||"button"in l&&l.button>0||r.isTouched&&r.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",d=n.composedPath?n.composedPath():n.path;u&&l.target&&l.target.shadowRoot&&d&&(c=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:".".concat(s.noSwipingClass),f=!!(l.target&&l.target.shadowRoot);if(s.noSwiping&&(f?Rz(h,c):c.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;o.currentX=l.pageX,o.currentY=l.pageY;const g=o.currentX,b=o.currentY,C=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,x=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(C&&(g<=x||g>=i.innerWidth-x))if(C==="prevent")n.preventDefault();else return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=g,o.startY=b,r.touchStartTime=Fd(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let y=!0;c.matches(r.focusableElements)&&(y=!1,c.nodeName==="SELECT"&&(r.isTouched=!1)),t.activeElement&&t.activeElement.matches(r.focusableElements)&&t.activeElement!==c&&t.activeElement.blur();const E=y&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||E)&&!c.isContentEditable&&l.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function $z(n){const e=no(),t=this,i=t.touchEventsData,{params:r,touches:s,rtlTranslate:o,enabled:a}=t;if(!a||!r.simulateTouch&&n.pointerType==="mouse")return;let l=n;if(l.originalEvent&&(l=l.originalEvent),!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",l);return}const c=i.evCache.findIndex(O=>O.pointerId===l.pointerId);c>=0&&(i.evCache[c]=l);const u=i.evCache.length>1?i.evCache[0]:l,d=u.pageX,h=u.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!t.allowTouchMove){l.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:d,startY:h,prevX:t.touches.currentX,prevY:t.touches.currentY,currentX:d,currentY:h}),i.touchStartTime=Fd());return}if(r.touchReleaseOnEdges&&!r.loop){if(t.isVertical()){if(h<s.startY&&t.translate<=t.maxTranslate()||h>s.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else if(d<s.startX&&t.translate<=t.maxTranslate()||d>s.startX&&t.translate>=t.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}if(i.allowTouchCallbacks&&t.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=d,s.currentY=h;const f=s.currentX-s.startX,g=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(f**2+g**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let O;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:f*f+g*g>=25&&(O=Math.atan2(Math.abs(g),Math.abs(f))*180/Math.PI,i.isScrolling=t.isHorizontal()?O>r.touchAngle:90-O>r.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",l),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||t.zoom&&t.params.zoom&&t.params.zoom.enabled&&i.evCache.length>1){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let b=t.isHorizontal()?f:g,C=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(b=Math.abs(b)*(o?1:-1),C=Math.abs(C)*(o?1:-1)),s.diff=b,b*=r.touchRatio,o&&(b=-b,C=-C);const x=t.touchesDirection;t.swipeDirection=b>0?"prev":"next",t.touchesDirection=C>0?"prev":"next";const y=t.params.loop&&!r.cssMode,E=t.swipeDirection==="next"&&t.allowSlideNext||t.swipeDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(y&&E&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const O=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(O)}i.allowMomentumBounce=!1,r.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",l)}let N;i.isMoved&&x!==t.touchesDirection&&y&&E&&Math.abs(b)>=1&&(t.loopFix({direction:t.swipeDirection,setTranslate:!0}),N=!0),t.emit("sliderMove",l),i.isMoved=!0,i.currentTranslate=b+i.startTranslate;let I=!0,B=r.resistanceRatio;if(r.touchReleaseOnEdges&&(B=0),b>0?(y&&E&&!N&&i.currentTranslate>(r.centeredSlides?t.minTranslate()-t.size/2:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(I=!1,r.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+b)**B))):b<0&&(y&&E&&!N&&i.currentTranslate<(r.centeredSlides?t.maxTranslate()+t.size/2:t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(r.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(I=!1,r.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-b)**B))),I&&(l.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),r.threshold>0)if(Math.abs(b)>r.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&t.freeMode||r.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Mz(n){const e=this,t=e.touchEventsData,i=t.evCache.findIndex(E=>E.pointerId===n.pointerId);if(i>=0&&t.evCache.splice(i,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:r,touches:s,rtlTranslate:o,slidesGrid:a,enabled:l}=e;if(!l||!r.simulateTouch&&n.pointerType==="mouse")return;let c=n;if(c.originalEvent&&(c=c.originalEvent),t.allowTouchCallbacks&&e.emit("touchEnd",c),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&r.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}r.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=Fd(),d=u-t.touchStartTime;if(e.allowClick){const E=c.path||c.composedPath&&c.composedPath();e.updateClickedSlide(E&&E[0]||c.target,E),e.emit("tap click",c),d<300&&u-t.lastClickTime<300&&e.emit("doubleTap doubleClick",c)}if(t.lastClickTime=Fd(),sg(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||s.diff===0||t.currentTranslate===t.startTranslate){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let h;if(r.followFinger?h=o?e.translate:-e.translate:h=-t.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let f=0,g=e.slidesSizesGrid[0];for(let E=0;E<a.length;E+=E<r.slidesPerGroupSkip?1:r.slidesPerGroup){const N=E<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof a[E+N]<"u"?h>=a[E]&&h<a[E+N]&&(f=E,g=a[E+N]-a[E]):h>=a[E]&&(f=E,g=a[a.length-1]-a[a.length-2])}let b=null,C=null;r.rewind&&(e.isBeginning?C=r.virtual&&r.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const x=(h-a[f])/g,y=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(x>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?b:f+y):e.slideTo(f)),e.swipeDirection==="prev"&&(x>1-r.longSwipesRatio?e.slideTo(f+y):C!==null&&x<0&&Math.abs(x)>r.longSwipesRatio?e.slideTo(C):e.slideTo(f))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(c.target===e.navigation.nextEl||c.target===e.navigation.prevEl)?c.target===e.navigation.nextEl?e.slideTo(f+y):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:f+y),e.swipeDirection==="prev"&&e.slideTo(C!==null?C:f))}}function ME(){const n=this,{params:e,el:t}=n;if(t&&t.offsetWidth===0)return;e.breakpoints&&n.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=n,o=n.virtual&&n.params.virtual.enabled;n.allowSlideNext=!0,n.allowSlidePrev=!0,n.updateSize(),n.updateSlides(),n.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&n.isEnd&&!n.isBeginning&&!n.params.centeredSlides&&!a?n.slideTo(n.slides.length-1,0,!1,!0):n.params.loop&&!o?n.slideToLoop(n.realIndex,0,!1,!0):n.slideTo(n.activeIndex,0,!1,!0),n.autoplay&&n.autoplay.running&&n.autoplay.paused&&(clearTimeout(n.autoplay.resizeTimeout),n.autoplay.resizeTimeout=setTimeout(()=>{n.autoplay&&n.autoplay.running&&n.autoplay.paused&&n.autoplay.resume()},500)),n.allowSlidePrev=r,n.allowSlideNext=i,n.params.watchOverflow&&s!==n.snapGrid&&n.checkOverflow()}function Iz(n){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&n.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(n.stopPropagation(),n.stopImmediatePropagation())))}function Oz(){const n=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=n;if(!i)return;n.previousTranslate=n.translate,n.isHorizontal()?n.translate=-e.scrollLeft:n.translate=-e.scrollTop,n.translate===0&&(n.translate=0),n.updateActiveIndex(),n.updateSlidesClasses();let r;const s=n.maxTranslate()-n.minTranslate();s===0?r=0:r=(n.translate-n.minTranslate())/s,r!==n.progress&&n.updateProgress(t?-n.translate:n.translate),n.emit("setTranslate",n.translate,!1)}function _z(n){const e=this;ju(e,n.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let IE=!1;function Lz(){}const qA=(n,e)=>{const t=no(),{params:i,el:r,wrapperEl:s,device:o}=n,a=!!i.nested,l=e==="on"?"addEventListener":"removeEventListener",c=e;r[l]("pointerdown",n.onTouchStart,{passive:!1}),t[l]("pointermove",n.onTouchMove,{passive:!1,capture:a}),t[l]("pointerup",n.onTouchEnd,{passive:!0}),t[l]("pointercancel",n.onTouchEnd,{passive:!0}),t[l]("pointerout",n.onTouchEnd,{passive:!0}),t[l]("pointerleave",n.onTouchEnd,{passive:!0}),t[l]("contextmenu",n.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",n.onClick,!0),i.cssMode&&s[l]("scroll",n.onScroll),i.updateOnWindowResize?n[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",ME,!0):n[c]("observerUpdate",ME,!0),r[l]("load",n.onLoad,{capture:!0})};function Dz(){const n=this,e=no(),{params:t}=n;n.onTouchStart=Pz.bind(n),n.onTouchMove=$z.bind(n),n.onTouchEnd=Mz.bind(n),t.cssMode&&(n.onScroll=Oz.bind(n)),n.onClick=Iz.bind(n),n.onLoad=_z.bind(n),IE||(e.addEventListener("touchstart",Lz),IE=!0),qA(n,"on")}function qz(){qA(this,"off")}var Bz={attachEvents:Dz,detachEvents:qz};const OE=(n,e)=>n.grid&&e.grid&&e.grid.rows>1;function Fz(){const n=this,{realIndex:e,initialized:t,params:i,el:r}=n,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=n.getBreakpoint(s,n.params.breakpointsBase,n.el);if(!o||n.currentBreakpoint===o)return;const l=(o in s?s[o]:void 0)||n.originalParams,c=OE(n,i),u=OE(n,l),d=i.enabled;c&&!u?(r.classList.remove("".concat(i.containerModifierClass,"grid"),"".concat(i.containerModifierClass,"grid-column")),n.emitContainerClasses()):!c&&u&&(r.classList.add("".concat(i.containerModifierClass,"grid")),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&i.grid.fill==="column")&&r.classList.add("".concat(i.containerModifierClass,"grid-column")),n.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(x=>{if(typeof l[x]>"u")return;const y=i[x]&&i[x].enabled,E=l[x]&&l[x].enabled;y&&!E&&n[x].disable(),!y&&E&&n[x].enable()});const h=l.direction&&l.direction!==i.direction,f=i.loop&&(l.slidesPerView!==i.slidesPerView||h),g=i.loop;h&&t&&n.changeDirection(),Fn(n.params,l);const b=n.params.enabled,C=n.params.loop;Object.assign(n,{allowTouchMove:n.params.allowTouchMove,allowSlideNext:n.params.allowSlideNext,allowSlidePrev:n.params.allowSlidePrev}),d&&!b?n.disable():!d&&b&&n.enable(),n.currentBreakpoint=o,n.emit("_beforeBreakpoint",l),t&&(f?(n.loopDestroy(),n.loopCreate(e),n.updateSlides()):!g&&C?(n.loopCreate(e),n.updateSlides()):g&&!C&&n.loopDestroy()),n.emit("breakpoint",l)}function Uz(n,e,t){if(e===void 0&&(e="window"),!n||e==="container"&&!t)return;let i=!1;const r=Kn(),s=e==="window"?r.innerHeight:t.clientHeight,o=Object.keys(n).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?r.matchMedia("(min-width: ".concat(c,"px)")).matches&&(i=l):c<=t.clientWidth&&(i=l)}return i||"max"}var jz={setBreakpoint:Fz,getBreakpoint:Uz};function zz(n,e){const t=[];return n.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(r=>{i[r]&&t.push(e+r)}):typeof i=="string"&&t.push(e+i)}),t}function Vz(){const n=this,{classNames:e,params:t,rtl:i,el:r,device:s}=n,o=zz(["initialized",t.direction,{"free-mode":n.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...o),r.classList.add(...e),n.emitContainerClasses()}function Hz(){const n=this,{el:e,classNames:t}=n;e.classList.remove(...t),n.emitContainerClasses()}var Wz={addClasses:Vz,removeClasses:Hz};function Qz(){const n=this,{isLocked:e,params:t}=n,{slidesOffsetBefore:i}=t;if(i){const r=n.slides.length-1,s=n.slidesGrid[r]+n.slidesSizesGrid[r]+i*2;n.isLocked=n.size>s}else n.isLocked=n.snapGrid.length===1;t.allowSlideNext===!0&&(n.allowSlideNext=!n.isLocked),t.allowSlidePrev===!0&&(n.allowSlidePrev=!n.isLocked),e&&e!==n.isLocked&&(n.isEnd=!1),e!==n.isLocked&&n.emit(n.isLocked?"lock":"unlock")}var Gz={checkOverflow:Qz},lg={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Kz(n,e){return function(i){i===void 0&&(i={});const r=Object.keys(i)[0],s=i[r];if(typeof s!="object"||s===null){Fn(e,i);return}if(n[r]===!0&&(n[r]={enabled:!0}),r==="navigation"&&n[r]&&n[r].enabled&&!n[r].prevEl&&!n[r].nextEl&&(n[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&n[r]&&n[r].enabled&&!n[r].el&&(n[r].auto=!0),!(r in n&&"enabled"in s)){Fn(e,i);return}typeof n[r]=="object"&&!("enabled"in n[r])&&(n[r].enabled=!0),n[r]||(n[r]={enabled:!1}),Fn(e,i)}}const $p={eventsEmitter:Wj,update:iz,translate:cz,transition:fz,slide:Ez,loop:Cz,grabCursor:kz,events:Bz,breakpoints:jz,checkOverflow:Gz,classes:Wz},Mp={};let sb=class ur{constructor(){let e,t;for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?t=r[0]:[e,t]=r,t||(t={}),t=Fn({},t),e&&!t.el&&(t.el=e);const o=no();if(t.el&&typeof t.el=="string"&&o.querySelectorAll(t.el).length>1){const u=[];return o.querySelectorAll(t.el).forEach(d=>{const h=Fn({},t,{el:d});u.push(new ur(h))}),u}const a=this;a.__swiper__=!0,a.support=LA(),a.device=Uj({userAgent:t.userAgent}),a.browser=zj(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const l={};a.modules.forEach(u=>{u({params:t,swiper:a,extendParams:Kz(t,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const c=Fn({},lg,l);return a.params=Fn({},c,Mp,t),a.originalParams=Fn({},a.params),a.passedParams=Fn({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getSlideIndex(e){const{slidesEl:t,params:i}=this,r=Ji(t,".".concat(i.slideClass,", swiper-slide")),s=Ud(r[0]);return Ud(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(t=>t.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=Ji(t,".".concat(i.slideClass,", swiper-slide"))}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const r=i.minTranslate(),o=(i.maxTranslate()-r)*e+r;i.translateTo(o,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const r=e.getSlideClasses(i);t.push({slideEl:i,classNames:r}),e.emit("_slideClass",i,r)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){e===void 0&&(e="current"),t===void 0&&(t=!1);const i=this,{params:r,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=i;let u=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let d=s[c]?s[c].swiperSlideSize:0,h;for(let f=c+1;f<s.length;f+=1)s[f]&&!h&&(d+=s[f].swiperSlideSize,u+=1,d>l&&(h=!0));for(let f=c-1;f>=0;f-=1)s[f]&&!h&&(d+=s[f].swiperSlideSize,u+=1,d>l&&(h=!0))}else if(e==="current")for(let d=c+1;d<s.length;d+=1)(t?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ju(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)r(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const o=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||r()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){t===void 0&&(t=!0);const i=this,r=i.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove("".concat(i.params.containerModifierClass).concat(r)),i.el.classList.add("".concat(i.params.containerModifierClass).concat(e)),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.el.classList.remove("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(t.isElement=!0);const r=()=>".".concat((t.params.wrapperClass||"").trim().split(" ").join("."));let o=(()=>i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(r()):Ji(i,r())[0])();return!o&&t.params.createElements&&(o=OA("div",t.params.wrapperClass),i.append(o),Ji(i,".".concat(t.params.slideClass)).forEach(a=>{o.append(a)})),Object.assign(t,{el:i,wrapperEl:o,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:o,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Yr(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Yr(i,"direction")==="rtl"),wrongRTL:Yr(o,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const r=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&r.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(s=>{s.complete?ju(t,s):s.addEventListener("load",o=>{ju(t,o.target)})}),ag(t),t.initialized=!0,ag(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){e===void 0&&(e=!0),t===void 0&&(t=!0);const i=this,{params:r,el:s,wrapperEl:o,slides:a}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),r.loop&&i.loopDestroy(),t&&(i.removeClasses(),s.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(l=>{i.off(l)}),e!==!1&&(i.el.swiper=null,Ij(i)),i.destroyed=!0),null}static extendDefaults(e){Fn(Mp,e)}static get extendedDefaults(){return Mp}static get defaults(){return lg}static installModule(e){ur.prototype.__modules__||(ur.prototype.__modules__=[]);const t=ur.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>ur.installModule(t)),ur):(ur.installModule(e),ur)}};Object.keys($p).forEach(n=>{Object.keys($p[n]).forEach(e=>{sb.prototype[e]=$p[n][e]})});sb.use([Vj,Hj]);const BA=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Qs(n){return typeof n=="object"&&n!==null&&n.constructor&&Object.prototype.toString.call(n).slice(8,-1)==="Object"&&!n.__swiper__}function _s(n,e){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof n[i]>"u"?n[i]=e[i]:Qs(e[i])&&Qs(n[i])&&Object.keys(e[i]).length>0?e[i].__swiper__?n[i]=e[i]:_s(n[i],e[i]):n[i]=e[i]})}function FA(n){return n===void 0&&(n={}),n.navigation&&typeof n.navigation.nextEl>"u"&&typeof n.navigation.prevEl>"u"}function UA(n){return n===void 0&&(n={}),n.pagination&&typeof n.pagination.el>"u"}function jA(n){return n===void 0&&(n={}),n.scrollbar&&typeof n.scrollbar.el>"u"}function zA(n){n===void 0&&(n="");const e=n.split(" ").map(i=>i.trim()).filter(i=>!!i),t=[];return e.forEach(i=>{t.indexOf(i)<0&&t.push(i)}),t.join(" ")}function Yz(n){return n===void 0&&(n=""),n?n.includes("swiper-wrapper")?n:"swiper-wrapper ".concat(n):"swiper-wrapper"}function Jz(n){let{swiper:e,slides:t,passedParams:i,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=n;const c=r.filter(R=>R!=="children"&&R!=="direction"&&R!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:f,virtual:g,thumbs:b}=e;let C,x,y,E,N,I,B,O;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(C=!0),r.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(x=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(y=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&f&&!f.el&&(E=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||o)&&(i.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(N=!0);const $=R=>{e[R]&&(e[R].destroy(),R==="navigation"?(e.isElement&&(e[R].prevEl.remove(),e[R].nextEl.remove()),u[R].prevEl=void 0,u[R].nextEl=void 0,e[R].prevEl=void 0,e[R].nextEl=void 0):(e.isElement&&e[R].el.remove(),u[R].el=void 0,e[R].el=void 0))};r.includes("loop")&&e.isElement&&(u.loop&&!i.loop?I=!0:!u.loop&&i.loop?B=!0:O=!0),c.forEach(R=>{if(Qs(u[R])&&Qs(i[R]))_s(u[R],i[R]),(R==="navigation"||R==="pagination"||R==="scrollbar")&&"enabled"in i[R]&&!i[R].enabled&&$(R);else{const H=i[R];(H===!0||H===!1)&&(R==="navigation"||R==="pagination"||R==="scrollbar")?H===!1&&$(R):u[R]=i[R]}}),c.includes("controller")&&!x&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),r.includes("children")&&t&&g&&u.virtual.enabled&&(g.slides=t,g.update(!0)),r.includes("children")&&t&&u.loop&&(O=!0),C&&b.init()&&b.update(!0),x&&(e.controller.control=u.controller.control),y&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(u.pagination.el=l),d.init(),d.render(),d.update()),E&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),f.init(),f.updateSize(),f.setTranslate()),N&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),h.init(),h.update()),r.includes("allowSlideNext")&&(e.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(e.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&e.changeDirection(i.direction,!1),(I||O)&&e.loopDestroy(),(B||O)&&e.loopCreate(),e.update()}function Xz(n,e){n===void 0&&(n={}),e===void 0&&(e=!0);const t={on:{}},i={},r={};_s(t,lg),t._emitClasses=!0,t.init=!1;const s={},o=BA.map(l=>l.replace(/_/,"")),a=Object.assign({},n);return Object.keys(a).forEach(l=>{typeof n[l]>"u"||(o.indexOf(l)>=0?Qs(n[l])?(t[l]={},r[l]={},_s(t[l],n[l]),_s(r[l],n[l])):(t[l]=n[l],r[l]=n[l]):l.search(/on[A-Z]/)===0&&typeof n[l]=="function"?e?i["".concat(l[2].toLowerCase()).concat(l.substr(3))]=n[l]:t.on["".concat(l[2].toLowerCase()).concat(l.substr(3))]=n[l]:s[l]=n[l])}),["navigation","pagination","scrollbar"].forEach(l=>{t[l]===!0&&(t[l]={}),t[l]===!1&&delete t[l]}),{params:t,passedParams:r,rest:s,events:i}}function Zz(n,e){let{el:t,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:o,swiper:a}=n;FA(e)&&i&&r&&(a.params.navigation.nextEl=i,a.originalParams.navigation.nextEl=i,a.params.navigation.prevEl=r,a.originalParams.navigation.prevEl=r),UA(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),jA(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(t)}function e5(n,e,t,i,r){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(t&&i){const l=i.map(r),c=t.map(r);l.join("")!==c.join("")&&o("children"),i.length!==t.length&&o("children")}return BA.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in n&&l in e)if(Qs(n[l])&&Qs(e[l])){const c=Object.keys(n[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{n[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{n[l][d]!==e[l][d]&&o(l)}))}else n[l]!==e[l]&&o(l)}),s}const t5=n=>{!n||n.destroyed||!n.params.virtual||n.params.virtual&&!n.params.virtual.enabled||(n.updateSlides(),n.updateProgress(),n.updateSlidesClasses(),n.parallax&&n.params.parallax&&n.params.parallax.enabled&&n.parallax.setTranslate())};function jd(){return jd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},jd.apply(this,arguments)}function VA(n){return n.type&&n.type.displayName&&n.type.displayName.includes("SwiperSlide")}function HA(n){const e=[];return Z.Children.toArray(n).forEach(t=>{VA(t)?e.push(t):t.props&&t.props.children&&HA(t.props.children).forEach(i=>e.push(i))}),e}function n5(n){const e=[],t={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Z.Children.toArray(n).forEach(i=>{if(VA(i))e.push(i);else if(i.props&&i.props.slot&&t[i.props.slot])t[i.props.slot].push(i);else if(i.props&&i.props.children){const r=HA(i.props.children);r.length>0?r.forEach(s=>e.push(s)):t["container-end"].push(i)}else t["container-end"].push(i)}),{slides:e,slots:t}}function i5(n,e,t){if(!t)return null;const i=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},r=n.isHorizontal()?{[n.rtlTranslate?"right":"left"]:"".concat(t.offset,"px")}:{top:"".concat(t.offset,"px")},{from:s,to:o}=t,a=n.params.loop?-e.length:0,l=n.params.loop?e.length*2:e.length,c=[];for(let u=a;u<l;u+=1)u>=s&&u<=o&&c.push(e[i(u)]);return c.map((u,d)=>Z.cloneElement(u,{swiper:n,style:r,key:"slide-".concat(d)}))}function bl(n,e){return typeof window>"u"?Ee.useEffect(n,e):Ee.useLayoutEffect(n,e)}const _E=Ee.createContext(null),WA=Ee.createContext(null),r5=()=>Ee.useContext(WA),QA=Ee.forwardRef(function(n,e){let{className:t,tag:i="div",wrapperTag:r="div",children:s,onSwiper:o,...a}=n===void 0?{}:n,l=!1;const[c,u]=Ee.useState("swiper"),[d,h]=Ee.useState(null),[f,g]=Ee.useState(!1),b=Ee.useRef(!1),C=Ee.useRef(null),x=Ee.useRef(null),y=Ee.useRef(null),E=Ee.useRef(null),N=Ee.useRef(null),I=Ee.useRef(null),B=Ee.useRef(null),O=Ee.useRef(null),{params:$,passedParams:R,rest:H,events:A}=Xz(a),{slides:U,slots:D}=n5(s),K=()=>{g(!f)};Object.assign($.on,{_containerClasses(ee,j){u(j)}});const re=()=>{Object.assign($.on,A),l=!0;const ee={...$};if(delete ee.wrapperClass,x.current=new sb(ee),x.current.virtual&&x.current.params.virtual.enabled){x.current.virtual.slides=U;const j={cache:!1,slides:U,renderExternal:h,renderExternalUpdate:!1};_s(x.current.params.virtual,j),_s(x.current.originalParams.virtual,j)}};C.current||re(),x.current&&x.current.on("_beforeBreakpoint",K);const he=()=>{l||!A||!x.current||Object.keys(A).forEach(ee=>{x.current.on(ee,A[ee])})},ce=()=>{!A||!x.current||Object.keys(A).forEach(ee=>{x.current.off(ee,A[ee])})};Ee.useEffect(()=>()=>{x.current&&x.current.off("_beforeBreakpoint",K)}),Ee.useEffect(()=>{!b.current&&x.current&&(x.current.emitSlidesClasses(),b.current=!0)}),bl(()=>{if(e&&(e.current=C.current),!!C.current)return x.current.destroyed&&re(),Zz({el:C.current,nextEl:N.current,prevEl:I.current,paginationEl:B.current,scrollbarEl:O.current,swiper:x.current},$),o&&o(x.current),()=>{x.current&&!x.current.destroyed&&x.current.destroy(!0,!1)}},[]),bl(()=>{he();const ee=e5(R,y.current,U,E.current,j=>j.key);return y.current=R,E.current=U,ee.length&&x.current&&!x.current.destroyed&&Jz({swiper:x.current,slides:U,passedParams:R,changedParams:ee,nextEl:N.current,prevEl:I.current,scrollbarEl:O.current,paginationEl:B.current}),()=>{ce()}}),bl(()=>{t5(x.current)},[d]);function te(){return $.virtual?i5(x.current,U,d):U.map((ee,j)=>Z.cloneElement(ee,{swiper:x.current,swiperSlideIndex:j}))}return Z.createElement(i,jd({ref:C,className:zA("".concat(c).concat(t?" ".concat(t):""))},H),Z.createElement(WA.Provider,{value:x.current},D["container-start"],Z.createElement(r,{className:Yz($.wrapperClass)},D["wrapper-start"],te(),D["wrapper-end"]),FA($)&&Z.createElement(Z.Fragment,null,Z.createElement("div",{ref:I,className:"swiper-button-prev"}),Z.createElement("div",{ref:N,className:"swiper-button-next"})),jA($)&&Z.createElement("div",{ref:O,className:"swiper-scrollbar"}),UA($)&&Z.createElement("div",{ref:B,className:"swiper-pagination"}),D["container-end"]))});QA.displayName="Swiper";const zu=Ee.forwardRef(function(n,e){let{tag:t="div",children:i,className:r="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:c,...u}=n===void 0?{}:n;const d=Ee.useRef(null),[h,f]=Ee.useState("swiper-slide"),[g,b]=Ee.useState(!1);function C(N,I,B){I===d.current&&f(B)}bl(()=>{if(typeof c<"u"&&(d.current.swiperSlideIndex=c),e&&(e.current=d.current),!(!d.current||!s)){if(s.destroyed){h!=="swiper-slide"&&f("swiper-slide");return}return s.on("_slideClass",C),()=>{s&&s.off("_slideClass",C)}}}),bl(()=>{s&&d.current&&!s.destroyed&&f(s.getSlideClasses(d.current))},[s]);const x={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},y=()=>typeof i=="function"?i(x):i,E=()=>{b(!0)};return Z.createElement(t,jd({ref:d,className:zA("".concat(h).concat(r?" ".concat(r):"")),"data-swiper-slide-index":l,onLoad:E},u),o&&Z.createElement(_E.Provider,{value:x},Z.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},y(),a&&!g&&Z.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&Z.createElement(_E.Provider,{value:x},y(),a&&!g&&Z.createElement("div",{className:"swiper-lazy-preloader"})))});zu.displayName="SwiperSlide";function s5(n,e,t,i){return n.params.createElements&&Object.keys(i).forEach(r=>{if(!t[r]&&t.auto===!0){let s=Ji(n.el,".".concat(i[r]))[0];s||(s=OA("div",i[r]),s.className=i[r],n.el.append(s)),t[r]=s,e[r]=s}}),t}function Ga(n){return n===void 0&&(n=""),".".concat(n.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,"."))}function o5(n){let{swiper:e,extendParams:t,on:i,emit:r}=n;const s="swiper-pagination";t({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:y=>y,formatFractionTotal:y=>y,bulletClass:"".concat(s,"-bullet"),bulletActiveClass:"".concat(s,"-bullet-active"),modifierClass:"".concat(s,"-"),currentClass:"".concat(s,"-current"),totalClass:"".concat(s,"-total"),hiddenClass:"".concat(s,"-hidden"),progressbarFillClass:"".concat(s,"-progressbar-fill"),progressbarOppositeClass:"".concat(s,"-progressbar-opposite"),clickableClass:"".concat(s,"-clickable"),lockClass:"".concat(s,"-lock"),horizontalClass:"".concat(s,"-horizontal"),verticalClass:"".concat(s,"-vertical"),paginationDisabledClass:"".concat(s,"-disabled")}}),e.pagination={el:null,bullets:[]};let o,a=0;const l=y=>(Array.isArray(y)?y:[y]).filter(E=>!!E);function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function u(y,E){const{bulletActiveClass:N}=e.params.pagination;y&&(y=y["".concat(E==="prev"?"previous":"next","ElementSibling")],y&&(y.classList.add("".concat(N,"-").concat(E)),y=y["".concat(E==="prev"?"previous":"next","ElementSibling")],y&&y.classList.add("".concat(N,"-").concat(E,"-").concat(E))))}function d(y){const E=y.target.closest(Ga(e.params.pagination.bulletClass));if(!E)return;y.preventDefault();const N=Ud(E)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===N)return;const I=e.realIndex,B=e.getSlideIndexByData(N),O=e.getSlideIndexByData(e.realIndex),$=R=>{const H=e.activeIndex;e.loopFix({direction:R,activeSlideIndex:B,slideTo:!1});const A=e.activeIndex;H===A&&e.slideToLoop(I,0,!1,!0)};if(B>e.slides.length-e.loopedSlides)$(B>O?"next":"prev");else if(e.params.centeredSlides){const R=e.params.slidesPerView==="auto"?e.slidesPerViewDynamic():Math.ceil(parseFloat(e.params.slidesPerView,10));B<Math.floor(R/2)&&$("prev")}e.slideToLoop(N)}else e.slideTo(N)}function h(){const y=e.rtl,E=e.params.pagination;if(c())return;let N=e.pagination.el;N=l(N);let I,B;const O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,$=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(B=e.previousRealIndex||0,I=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(I=e.snapIndex,B=e.previousSnapIndex):(B=e.previousIndex||0,I=e.activeIndex||0),E.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const R=e.pagination.bullets;let H,A,U;if(E.dynamicBullets&&(o=og(R[0],e.isHorizontal()?"width":"height",!0),N.forEach(D=>{D.style[e.isHorizontal()?"width":"height"]="".concat(o*(E.dynamicMainBullets+4),"px")}),E.dynamicMainBullets>1&&B!==void 0&&(a+=I-(B||0),a>E.dynamicMainBullets-1?a=E.dynamicMainBullets-1:a<0&&(a=0)),H=Math.max(I-a,0),A=H+(Math.min(R.length,E.dynamicMainBullets)-1),U=(A+H)/2),R.forEach(D=>{const K=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(re=>"".concat(E.bulletActiveClass).concat(re))].map(re=>typeof re=="string"&&re.includes(" ")?re.split(" "):re).flat();D.classList.remove(...K)}),N.length>1)R.forEach(D=>{const K=Ud(D);K===I?D.classList.add(...E.bulletActiveClass.split(" ")):e.isElement&&D.setAttribute("part","bullet"),E.dynamicBullets&&(K>=H&&K<=A&&D.classList.add(..."".concat(E.bulletActiveClass,"-main").split(" ")),K===H&&u(D,"prev"),K===A&&u(D,"next"))});else{const D=R[I];if(D&&D.classList.add(...E.bulletActiveClass.split(" ")),e.isElement&&R.forEach((K,re)=>{K.setAttribute("part",re===I?"bullet-active":"bullet")}),E.dynamicBullets){const K=R[H],re=R[A];for(let he=H;he<=A;he+=1)R[he]&&R[he].classList.add(..."".concat(E.bulletActiveClass,"-main").split(" "));u(K,"prev"),u(re,"next")}}if(E.dynamicBullets){const D=Math.min(R.length,E.dynamicMainBullets+4),K=(o*D-o)/2-U*o,re=y?"right":"left";R.forEach(he=>{he.style[e.isHorizontal()?re:"top"]="".concat(K,"px")})}}N.forEach((R,H)=>{if(E.type==="fraction"&&(R.querySelectorAll(Ga(E.currentClass)).forEach(A=>{A.textContent=E.formatFractionCurrent(I+1)}),R.querySelectorAll(Ga(E.totalClass)).forEach(A=>{A.textContent=E.formatFractionTotal($)})),E.type==="progressbar"){let A;E.progressbarOpposite?A=e.isHorizontal()?"vertical":"horizontal":A=e.isHorizontal()?"horizontal":"vertical";const U=(I+1)/$;let D=1,K=1;A==="horizontal"?D=U:K=U,R.querySelectorAll(Ga(E.progressbarFillClass)).forEach(re=>{re.style.transform="translate3d(0,0,0) scaleX(".concat(D,") scaleY(").concat(K,")"),re.style.transitionDuration="".concat(e.params.speed,"ms")})}E.type==="custom"&&E.renderCustom?(R.innerHTML=E.renderCustom(e,I+1,$),H===0&&r("paginationRender",R)):(H===0&&r("paginationRender",R),r("paginationUpdate",R)),e.params.watchOverflow&&e.enabled&&R.classList[e.isLocked?"add":"remove"](E.lockClass)})}function f(){const y=e.params.pagination;if(c())return;const E=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length;let N=e.pagination.el;N=l(N);let I="";if(y.type==="bullets"){let B=e.params.loop?Math.ceil(E/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&B>E&&(B=E);for(let O=0;O<B;O+=1)y.renderBullet?I+=y.renderBullet.call(e,O,y.bulletClass):I+="<".concat(y.bulletElement," ").concat(e.isElement?'part="bullet"':"",' class="').concat(y.bulletClass,'"></').concat(y.bulletElement,">")}y.type==="fraction"&&(y.renderFraction?I=y.renderFraction.call(e,y.currentClass,y.totalClass):I='<span class="'.concat(y.currentClass,'"></span>')+" / "+'<span class="'.concat(y.totalClass,'"></span>')),y.type==="progressbar"&&(y.renderProgressbar?I=y.renderProgressbar.call(e,y.progressbarFillClass):I='<span class="'.concat(y.progressbarFillClass,'"></span>')),e.pagination.bullets=[],N.forEach(B=>{y.type!=="custom"&&(B.innerHTML=I||""),y.type==="bullets"&&e.pagination.bullets.push(...B.querySelectorAll(Ga(y.bulletClass)))}),y.type!=="custom"&&r("paginationRender",N[0])}function g(){e.params.pagination=s5(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const y=e.params.pagination;if(!y.el)return;let E;typeof y.el=="string"&&e.isElement&&(E=e.el.querySelector(y.el)),!E&&typeof y.el=="string"&&(E=[...document.querySelectorAll(y.el)]),E||(E=y.el),!(!E||E.length===0)&&(e.params.uniqueNavElements&&typeof y.el=="string"&&Array.isArray(E)&&E.length>1&&(E=[...e.el.querySelectorAll(y.el)],E.length>1&&(E=E.filter(N=>_A(N,".swiper")[0]===e.el)[0])),Array.isArray(E)&&E.length===1&&(E=E[0]),Object.assign(e.pagination,{el:E}),E=l(E),E.forEach(N=>{y.type==="bullets"&&y.clickable&&N.classList.add(...(y.clickableClass||"").split(" ")),N.classList.add(y.modifierClass+y.type),N.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.type==="bullets"&&y.dynamicBullets&&(N.classList.add("".concat(y.modifierClass).concat(y.type,"-dynamic")),a=0,y.dynamicMainBullets<1&&(y.dynamicMainBullets=1)),y.type==="progressbar"&&y.progressbarOpposite&&N.classList.add(y.progressbarOppositeClass),y.clickable&&N.addEventListener("click",d),e.enabled||N.classList.add(y.lockClass)}))}function b(){const y=e.params.pagination;if(c())return;let E=e.pagination.el;E&&(E=l(E),E.forEach(N=>{N.classList.remove(y.hiddenClass),N.classList.remove(y.modifierClass+y.type),N.classList.remove(e.isHorizontal()?y.horizontalClass:y.verticalClass),y.clickable&&(N.classList.remove(...(y.clickableClass||"").split(" ")),N.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(N=>N.classList.remove(...y.bulletActiveClass.split(" ")))}i("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const y=e.params.pagination;let{el:E}=e.pagination;E=l(E),E.forEach(N=>{N.classList.remove(y.horizontalClass,y.verticalClass),N.classList.add(e.isHorizontal()?y.horizontalClass:y.verticalClass)})}),i("init",()=>{e.params.pagination.enabled===!1?x():(g(),f(),h())}),i("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),i("snapIndexChange",()=>{h()}),i("snapGridLengthChange",()=>{f(),h()}),i("destroy",()=>{b()}),i("enable disable",()=>{let{el:y}=e.pagination;y&&(y=l(y),y.forEach(E=>E.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),i("lock unlock",()=>{h()}),i("click",(y,E)=>{const N=E.target,I=l(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&I&&I.length>0&&!N.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&N===e.navigation.nextEl||e.navigation.prevEl&&N===e.navigation.prevEl))return;const B=I[0].classList.contains(e.params.pagination.hiddenClass);r(B===!0?"paginationShow":"paginationHide"),I.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});const C=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=l(y),y.forEach(E=>E.classList.remove(e.params.pagination.paginationDisabledClass))),g(),f(),h()},x=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:y}=e.pagination;y&&(y=l(y),y.forEach(E=>E.classList.add(e.params.pagination.paginationDisabledClass))),b()};Object.assign(e.pagination,{enable:C,disable:x,render:f,update:h,init:g,destroy:b})}const a5=()=>{const n=r5();return Y.jsxs("div",{className:"swiper-btn",children:[Y.jsx(ai,{onClick:()=>{n.slidePrev()}}),Y.jsx(ai,{onClick:()=>{n.slideNext()},children:"Next"})]})};const l5=()=>Y.jsx(Y.Fragment,{children:Y.jsxs(QA,{modules:[o5],slidesPerView:1,loop:!0,pagination:{clickable:!0},className:"mySwiper",children:[Y.jsx(zu,{children:Y.jsx(op,{src:"/assets/icons/step_000.jpg",alt:"img"})}),Y.jsx(zu,{children:Y.jsx(op,{src:"/assets/icons/step_015.jpg",alt:"img"})}),Y.jsx(zu,{children:Y.jsx(op,{src:"/assets/icons/step_030.jpg",alt:"img"})}),Y.jsx(a5,{})]})}),c5=()=>{const[n,e]=Ee.useState(!0),{timerInterval:t,timerStatus:i,timerKey:r,timerDuration:s,timerPausedTime:o,setTimerStatus:a,setTimerDuration:l,setTimerPausedTime:c,unsetTimer:u}=zl(),d=()=>{a("pause"),c(),$j()},h=()=>{o?(l(o),PE(o)):(l(t*1e3),PE(t*1e3)),a("running")};return Y.jsxs(Y.Fragment,{children:[Y.jsx(PA,{}),Y.jsxs(jy,{id:"main-content",children:[Y.jsx(Jo,{children:Y.jsx(Jo,{children:Y.jsxs(Dh,{color:"warning",children:[Y.jsx(_h,{slot:"start",children:Y.jsx(zS,{})}),Y.jsx(By,{children:"Timer"})]})})}),Y.jsx(Lh,{children:n?Y.jsx(l5,{}):Y.jsxs(jS,{children:[Y.jsx(ml,{children:Y.jsx(Fo,{className:"timer-content",children:Y.jsx(kj,{timerKey:r,timerInterval:t,timerDuration:o?Date.now()+o:s,timerActive:i==="running",unsetTimer:u})})}),Y.jsxs(ml,{className:"ion-text-center",children:[Y.jsx(Fo,{children:Y.jsx(Rj,{timerHandler:i==="running"?d:h,timerStatus:i})}),Y.jsx(Fo,{children:Y.jsx(Pj,{unsetTimer:u,timerStatus:i})})]})]})}),Y.jsx($A,{})]})]})};function GA(n,e){return function(){return n.apply(e,arguments)}}const{toString:u5}=Object.prototype,{getPrototypeOf:ob}=Object,Xh=(n=>e=>{const t=u5.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),rr=n=>(n=n.toLowerCase(),e=>Xh(e)===n),Zh=n=>e=>typeof e===n,{isArray:ya}=Array,Vl=Zh("undefined");function d5(n){return n!==null&&!Vl(n)&&n.constructor!==null&&!Vl(n.constructor)&&hi(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const KA=rr("ArrayBuffer");function h5(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&KA(n.buffer),e}const f5=Zh("string"),hi=Zh("function"),YA=Zh("number"),ef=n=>n!==null&&typeof n=="object",p5=n=>n===!0||n===!1,Vu=n=>{if(Xh(n)!=="object")return!1;const e=ob(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},m5=rr("Date"),g5=rr("File"),y5=rr("Blob"),b5=rr("FileList"),v5=n=>ef(n)&&hi(n.pipe),w5=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||hi(n.append)&&((e=Xh(n))==="formdata"||e==="object"&&hi(n.toString)&&n.toString()==="[object FormData]"))},E5=rr("URLSearchParams"),x5=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function gc(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),ya(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,n[a],a,n)}}function JA(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const XA=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),ZA=n=>!Vl(n)&&n!==XA;function cg(){const{caseless:n}=ZA(this)&&this||{},e={},t=(i,r)=>{const s=n&&JA(e,r)||r;Vu(e[s])&&Vu(i)?e[s]=cg(e[s],i):Vu(i)?e[s]=cg({},i):ya(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&gc(arguments[i],t);return e}const T5=(n,e,t,{allOwnKeys:i}={})=>(gc(e,(r,s)=>{t&&hi(r)?n[s]=GA(r,t):n[s]=r},{allOwnKeys:i}),n),S5=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),C5=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},A5=(n,e,t,i)=>{let r,s,o;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&ob(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},N5=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},k5=n=>{if(!n)return null;if(ya(n))return n;let e=n.length;if(!YA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},R5=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&ob(Uint8Array)),P5=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},$5=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},M5=rr("HTMLFormElement"),I5=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),LE=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),O5=rr("RegExp"),eN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};gc(t,(r,s)=>{let o;(o=e(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},_5=n=>{eN(n,(e,t)=>{if(hi(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(hi(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},L5=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return ya(n)?i(n):i(String(n).split(e)),t},D5=()=>{},q5=(n,e)=>(n=+n,Number.isFinite(n)?n:e),Ip="abcdefghijklmnopqrstuvwxyz",DE="0123456789",tN={DIGIT:DE,ALPHA:Ip,ALPHA_DIGIT:Ip+Ip.toUpperCase()+DE},B5=(n=16,e=tN.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function F5(n){return!!(n&&hi(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const U5=n=>{const e=new Array(10),t=(i,r)=>{if(ef(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=ya(i)?[]:{};return gc(i,(o,a)=>{const l=t(o,r+1);!Vl(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return t(n,0)},j5=rr("AsyncFunction"),z5=n=>n&&(ef(n)||hi(n))&&hi(n.then)&&hi(n.catch),oe={isArray:ya,isArrayBuffer:KA,isBuffer:d5,isFormData:w5,isArrayBufferView:h5,isString:f5,isNumber:YA,isBoolean:p5,isObject:ef,isPlainObject:Vu,isUndefined:Vl,isDate:m5,isFile:g5,isBlob:y5,isRegExp:O5,isFunction:hi,isStream:v5,isURLSearchParams:E5,isTypedArray:R5,isFileList:b5,forEach:gc,merge:cg,extend:T5,trim:x5,stripBOM:S5,inherits:C5,toFlatObject:A5,kindOf:Xh,kindOfTest:rr,endsWith:N5,toArray:k5,forEachEntry:P5,matchAll:$5,isHTMLForm:M5,hasOwnProperty:LE,hasOwnProp:LE,reduceDescriptors:eN,freezeMethods:_5,toObjectSet:L5,toCamelCase:I5,noop:D5,toFiniteNumber:q5,findKey:JA,global:XA,isContextDefined:ZA,ALPHABET:tN,generateString:B5,isSpecCompliantForm:F5,toJSONObject:U5,isAsyncFn:j5,isThenable:z5};function We(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r)}oe.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const nN=We.prototype,iN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{iN[n]={value:n}});Object.defineProperties(We,iN);Object.defineProperty(nN,"isAxiosError",{value:!0});We.from=(n,e,t,i,r,s)=>{const o=Object.create(nN);return oe.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),We.call(o,n.message,e,t,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const V5=null;function ug(n){return oe.isPlainObject(n)||oe.isArray(n)}function rN(n){return oe.endsWith(n,"[]")?n.slice(0,-2):n}function qE(n,e,t){return n?n.concat(e).map(function(r,s){return r=rN(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function H5(n){return oe.isArray(n)&&!n.some(ug)}const W5=oe.toFlatObject(oe,{},null,function(e){return/^is[A-Z]/.test(e)});function tf(n,e,t){if(!oe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=oe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,C){return!oe.isUndefined(C[b])});const i=t.metaTokens,r=t.visitor||u,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(e);if(!oe.isFunction(r))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(oe.isDate(g))return g.toISOString();if(!l&&oe.isBlob(g))throw new We("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(g)||oe.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function u(g,b,C){let x=g;if(g&&!C&&typeof g=="object"){if(oe.endsWith(b,"{}"))b=i?b:b.slice(0,-2),g=JSON.stringify(g);else if(oe.isArray(g)&&H5(g)||(oe.isFileList(g)||oe.endsWith(b,"[]"))&&(x=oe.toArray(g)))return b=rN(b),x.forEach(function(E,N){!(oe.isUndefined(E)||E===null)&&e.append(o===!0?qE([b],N,s):o===null?b:b+"[]",c(E))}),!1}return ug(g)?!0:(e.append(qE(C,b,s),c(g)),!1)}const d=[],h=Object.assign(W5,{defaultVisitor:u,convertValue:c,isVisitable:ug});function f(g,b){if(!oe.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));d.push(g),oe.forEach(g,function(x,y){(!(oe.isUndefined(x)||x===null)&&r.call(e,x,oe.isString(y)?y.trim():y,b,h))===!0&&f(x,b?b.concat(y):[y])}),d.pop()}}if(!oe.isObject(n))throw new TypeError("data must be an object");return f(n),e}function BE(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function ab(n,e){this._pairs=[],n&&tf(n,this,e)}const sN=ab.prototype;sN.append=function(e,t){this._pairs.push([e,t])};sN.toString=function(e){const t=e?function(i){return e.call(this,i,BE)}:BE;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function Q5(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function oN(n,e,t){if(!e)return n;const i=t&&t.encode||Q5,r=t&&t.serialize;let s;if(r?s=r(e,t):s=oe.isURLSearchParams(e)?e.toString():new ab(e,t).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class G5{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oe.forEach(this.handlers,function(i){i!==null&&e(i)})}}const FE=G5,aN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},K5=typeof URLSearchParams<"u"?URLSearchParams:ab,Y5=typeof FormData<"u"?FormData:null,J5=typeof Blob<"u"?Blob:null,X5=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),Z5=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),$i={isBrowser:!0,classes:{URLSearchParams:K5,FormData:Y5,Blob:J5},isStandardBrowserEnv:X5,isStandardBrowserWebWorkerEnv:Z5,protocols:["http","https","file","blob","url","data"]};function e8(n,e){return tf(n,new $i.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,s){return $i.isNode&&oe.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function t8(n){return oe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function n8(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function lN(n){function e(t,i,r,s){let o=t[s++];const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&oe.isArray(r)?r.length:o,l?(oe.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!oe.isObject(r[o]))&&(r[o]=[]),e(t,i,r[o],s)&&oe.isArray(r[o])&&(r[o]=n8(r[o])),!a)}if(oe.isFormData(n)&&oe.isFunction(n.entries)){const t={};return oe.forEachEntry(n,(i,r)=>{e(t8(i),r,t,0)}),t}return null}function i8(n,e,t){if(oe.isString(n))try{return(e||JSON.parse)(n),oe.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const lb={transitional:aN,adapter:$i.isNode?"http":"xhr",transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=oe.isObject(e);if(s&&oe.isHTMLForm(e)&&(e=new FormData(e)),oe.isFormData(e))return r&&r?JSON.stringify(lN(e)):e;if(oe.isArrayBuffer(e)||oe.isBuffer(e)||oe.isStream(e)||oe.isFile(e)||oe.isBlob(e))return e;if(oe.isArrayBufferView(e))return e.buffer;if(oe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return e8(e,this.formSerializer).toString();if((a=oe.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return tf(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),i8(e)):e}],transformResponse:[function(e){const t=this.transitional||lb.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(e&&oe.isString(e)&&(i&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?We.from(a,We.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$i.classes.FormData,Blob:$i.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],n=>{lb.headers[n]={}});const cb=lb,r8=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),s8=n=>{const e={};let t,i,r;return n&&n.split("\n").forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!t||e[t]&&r8[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},UE=Symbol("internals");function Ka(n){return n&&String(n).trim().toLowerCase()}function Hu(n){return n===!1||n==null?n:oe.isArray(n)?n.map(Hu):String(n)}function o8(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const a8=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Op(n,e,t,i,r){if(oe.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!oe.isString(e)){if(oe.isString(i))return e.indexOf(i)!==-1;if(oe.isRegExp(i))return i.test(e)}}function l8(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function c8(n,e){const t=oe.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class nf{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(a,l,c){const u=Ka(l);if(!u)throw new Error("header name must be a non-empty string");const d=oe.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=Hu(a))}const o=(a,l)=>oe.forEach(a,(c,u)=>s(c,u,l));return oe.isPlainObject(e)||e instanceof this.constructor?o(e,t):oe.isString(e)&&(e=e.trim())&&!a8(e)?o(s8(e),t):e!=null&&s(t,e,i),this}get(e,t){if(e=Ka(e),e){const i=oe.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return o8(r);if(oe.isFunction(t))return t.call(this,r,i);if(oe.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ka(e),e){const i=oe.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Op(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(o){if(o=Ka(o),o){const a=oe.findKey(i,o);a&&(!t||Op(i,i[a],a,t))&&(delete i[a],r=!0)}}return oe.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||Op(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return oe.forEach(this,(r,s)=>{const o=oe.findKey(i,s);if(o){t[o]=Hu(r),delete t[s];return}const a=e?l8(s):String(s).trim();a!==s&&delete t[s],t[a]=Hu(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return oe.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&oe.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[UE]=this[UE]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=Ka(o);i[a]||(c8(r,o),i[a]=!0)}return oe.isArray(e)?e.forEach(s):s(e),this}}nf.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(nf.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});oe.freezeMethods(nf);const xr=nf;function _p(n,e){const t=this||cb,i=e||t,r=xr.from(i.headers);let s=i.data;return oe.forEach(n,function(a){s=a.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function cN(n){return!!(n&&n.__CANCEL__)}function yc(n,e,t){We.call(this,n==null?"canceled":n,We.ERR_CANCELED,e,t),this.name="CanceledError"}oe.inherits(yc,We,{__CANCEL__:!0});function u8(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new We("Request failed with status code "+t.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const d8=$i.isStandardBrowserEnv?function(){return{write:function(t,i,r,s,o,a){const l=[];l.push(t+"="+encodeURIComponent(i)),oe.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),oe.isString(s)&&l.push("path="+s),oe.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function h8(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function f8(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function uN(n,e){return n&&!h8(e)?f8(n,e):e}const p8=$i.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function r(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=r(window.location.href),function(o){const a=oe.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function m8(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function g8(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),t[r]=l,i[r]=c;let d=s,h=0;for(;d!==r;)h+=t[d++],d=d%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),c-o<e)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function jE(n,e){let t=0;const i=g8(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-t,l=i(a),c=s<=o;t=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:r};u[e?"download":"upload"]=!0,n(u)}}const y8=typeof XMLHttpRequest<"u",b8=y8&&function(n){return new Promise(function(t,i){let r=n.data;const s=xr.from(n.headers).normalize(),o=n.responseType;let a;function l(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}oe.isFormData(r)&&($i.isStandardBrowserEnv||$i.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(n.auth){const f=n.auth.username||"",g=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.set("Authorization","Basic "+btoa(f+":"+g))}const u=uN(n.baseURL,n.url);c.open(n.method.toUpperCase(),oN(u,n.params,n.paramsSerializer),!0),c.timeout=n.timeout;function d(){if(!c)return;const f=xr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:f,config:n,request:c};u8(function(x){t(x),l()},function(x){i(x),l()},b),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(i(new We("Request aborted",We.ECONNABORTED,n,c)),c=null)},c.onerror=function(){i(new We("Network Error",We.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let g=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const b=n.transitional||aN;n.timeoutErrorMessage&&(g=n.timeoutErrorMessage),i(new We(g,b.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,n,c)),c=null},$i.isStandardBrowserEnv){const f=(n.withCredentials||p8(u))&&n.xsrfCookieName&&d8.read(n.xsrfCookieName);f&&s.set(n.xsrfHeaderName,f)}r===void 0&&s.setContentType(null),"setRequestHeader"in c&&oe.forEach(s.toJSON(),function(g,b){c.setRequestHeader(b,g)}),oe.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),o&&o!=="json"&&(c.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&c.addEventListener("progress",jE(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",jE(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=f=>{c&&(i(!f||f.type?new yc(null,n,c):f),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const h=m8(u);if(h&&$i.protocols.indexOf(h)===-1){i(new We("Unsupported protocol "+h+":",We.ERR_BAD_REQUEST,n));return}c.send(r||null)})},Wu={http:V5,xhr:b8};oe.forEach(Wu,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch(t){}Object.defineProperty(n,"adapterName",{value:e})}});const dN={getAdapter:n=>{n=oe.isArray(n)?n:[n];const{length:e}=n;let t,i;for(let r=0;r<e&&(t=n[r],!(i=oe.isString(t)?Wu[t.toLowerCase()]:t));r++);if(!i)throw i===!1?new We("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT"):new Error(oe.hasOwnProp(Wu,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"));if(!oe.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:Wu};function Lp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new yc(null,n)}function zE(n){return Lp(n),n.headers=xr.from(n.headers),n.data=_p.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),dN.getAdapter(n.adapter||cb.adapter)(n).then(function(i){return Lp(n),i.data=_p.call(n,n.transformResponse,i),i.headers=xr.from(i.headers),i},function(i){return cN(i)||(Lp(n),i&&i.response&&(i.response.data=_p.call(n,n.transformResponse,i.response),i.response.headers=xr.from(i.response.headers))),Promise.reject(i)})}const VE=n=>n instanceof xr?n.toJSON():n;function ia(n,e){e=e||{};const t={};function i(c,u,d){return oe.isPlainObject(c)&&oe.isPlainObject(u)?oe.merge.call({caseless:d},c,u):oe.isPlainObject(u)?oe.merge({},u):oe.isArray(u)?u.slice():u}function r(c,u,d){if(oe.isUndefined(u)){if(!oe.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function s(c,u){if(!oe.isUndefined(u))return i(void 0,u)}function o(c,u){if(oe.isUndefined(u)){if(!oe.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in n)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>r(VE(c),VE(u),!0)};return oe.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||r,h=d(n[u],e[u],u);oe.isUndefined(h)&&d!==a||(t[u]=h)}),t}const hN="1.5.0",ub={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{ub[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const HE={};ub.transitional=function(e,t,i){function r(s,o){return"[Axios v"+hN+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new We(r(o," has been removed"+(t?" in "+t:"")),We.ERR_DEPRECATED);return t&&!HE[o]&&(HE[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function v8(n,e,t){if(typeof n!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new We("option "+s+" must be "+l,We.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new We("Unknown option "+s,We.ERR_BAD_OPTION)}}const dg={assertOptions:v8,validators:ub},Fr=dg.validators;class zd{constructor(e){this.defaults=e,this.interceptors={request:new FE,response:new FE}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ia(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&dg.assertOptions(i,{silentJSONParsing:Fr.transitional(Fr.boolean),forcedJSONParsing:Fr.transitional(Fr.boolean),clarifyTimeoutError:Fr.transitional(Fr.boolean)},!1),r!=null&&(oe.isFunction(r)?t.paramsSerializer={serialize:r}:dg.assertOptions(r,{encode:Fr.function,serialize:Fr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&oe.merge(s.common,s[t.method]);s&&oe.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),t.headers=xr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(t)===!1||(l=l&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,d=0,h;if(!l){const g=[zE.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,c),h=g.length,u=Promise.resolve(t);d<h;)u=u.then(g[d++],g[d++]);return u}h=a.length;let f=t;for(d=0;d<h;){const g=a[d++],b=a[d++];try{f=g(f)}catch(C){b.call(this,C);break}}try{u=zE.call(this,f)}catch(g){return Promise.reject(g)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=ia(this.defaults,e);const t=uN(e.baseURL,e.url);return oN(t,e.params,e.paramsSerializer)}}oe.forEach(["delete","get","head","options"],function(e){zd.prototype[e]=function(t,i){return this.request(ia(i||{},{method:e,url:t,data:(i||{}).data}))}});oe.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(ia(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}zd.prototype[e]=t(),zd.prototype[e+"Form"]=t(!0)});const Qu=zd;class db{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new yc(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new db(function(r){e=r}),cancel:e}}}const w8=db;function E8(n){return function(t){return n.apply(null,t)}}function x8(n){return oe.isObject(n)&&n.isAxiosError===!0}const hg={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hg).forEach(([n,e])=>{hg[e]=n});const T8=hg;function fN(n){const e=new Qu(n),t=GA(Qu.prototype.request,e);return oe.extend(t,Qu.prototype,e,{allOwnKeys:!0}),oe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return fN(ia(n,r))},t}const Lt=fN(cb);Lt.Axios=Qu;Lt.CanceledError=yc;Lt.CancelToken=w8;Lt.isCancel=cN;Lt.VERSION=hN;Lt.toFormData=tf;Lt.AxiosError=We;Lt.Cancel=Lt.CanceledError;Lt.all=function(e){return Promise.all(e)};Lt.spread=E8;Lt.isAxiosError=x8;Lt.mergeConfig=ia;Lt.AxiosHeaders=xr;Lt.formToJSON=n=>lN(oe.isHTMLForm(n)?new FormData(n):n);Lt.getAdapter=dN.getAdapter;Lt.HttpStatusCode=T8;Lt.default=Lt;const S8=Lt,C8=()=>{const[n,e]=Ee.useState(!1),[t,i]=Ee.useState(""),[r,s]=Ee.useState(),o=(c,u)=>{i(c),s(()=>u),e(!0)},a=()=>{r&&r(),e(!1)},l=()=>{e(!1)};return{showConfirmationAlert:o,ConfirmationAlert:Y.jsx(HS,{isOpen:n,message:t,buttons:[{text:"Cancel",role:"cancel",handler:l},{text:"Confirm",handler:a}]})}};var Hl;(function(n){n.Documents="DOCUMENTS",n.Data="DATA",n.Library="LIBRARY",n.Cache="CACHE",n.External="EXTERNAL",n.ExternalStorage="EXTERNAL_STORAGE"})(Hl||(Hl={}));var WE;(function(n){n.UTF8="utf8",n.ASCII="ascii",n.UTF16="utf16"})(WE||(WE={}));const hb=sc("Filesystem",{web:()=>an(()=>import("./web-85dd7b45.js"),[]).then(n=>new n.FilesystemWeb)});async function A8(n){const e=await fetch(n).then(t=>t.blob());return new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onerror=i,r.onload=()=>{typeof r.result=="string"?t(r.result):i("base64 format isn't string")}})}const N8=async(n,e)=>{try{const t=await A8(n),i=await hb.writeFile({path:"".concat(e),data:t,directory:Hl.Data});return sq("hybrid")?(console.log("Base64 file for hybrid platform"),{filePath:i.uri,webviewPath:ea.convertFileSrc(i.uri)}):(console.log("Base64 file for web platform"),{filePath:e,webviewPath:"".concat(e)})}catch(t){console.log("Error with writing base64 file ",t)}},k8=async n=>{try{const e=await hb.readFile({path:n,directory:Hl.Data});return console.log("*********** read"),e.data}catch(e){return console.error("Error with reading",e),null}},R8=async n=>{try{await hb.deleteFile({path:n,directory:Hl.Data}),console.log("Track was removed successfully")}catch(e){console.log("Error with removing track ",e)}},P8=()=>{const n="track.mp4",e="/assets/icons/Step_jacks_wo_bounce0030-0150.mp4",[t,i]=Ee.useState();Ee.useEffect(()=>{},[]);const r=()=>k8(n).then(b=>i(b)),[s,o]=Ee.useState("");Ee.useState();const{showConfirmationAlert:a,ConfirmationAlert:l}=C8(),[c,u]=Ee.useState();Ee.useEffect(()=>{d()},[]);const d=async()=>{var x;const b=(x=Is.connection)==null?void 0:x.getRepository(Er),C=await(b==null?void 0:b.find({}));u(C)},h=e,f=async()=>{var y;const b=await S8.request({url:h,method:"get",responseType:"arraybuffer"}),C=(y=Is.connection)==null?void 0:y.getRepository(Er);await(C==null?void 0:C.save({id:Date.now().toString(),isActive:!0,isActive2:!1,name:s,jsonTest:JSON.stringify({id:Math.random(),nest:{nested:!0}}),file:Buffer.from(b.data).toString("base64")}));const x=await(C==null?void 0:C.find({}));u(x)},g=async b=>{var C;try{const x=(C=Is.connection)==null?void 0:C.getRepository(Er);if(x){const E=await x.findOne({where:{id:b}});E?await x.remove(E):console.log("can't rename input:",E.id)}else console.log("Connection to DB is absent");const y=await(x==null?void 0:x.find({}));u(y)}catch(x){alert(x.message)}};return Y.jsxs(Y.Fragment,{children:[Y.jsx(PA,{}),Y.jsxs(jy,{id:"main-content",children:[Y.jsx(Jo,{children:Y.jsx(Jo,{children:Y.jsxs(Dh,{color:"warning",children:[Y.jsx(_h,{slot:"start",children:Y.jsx(zS,{})}),Y.jsx(By,{children:"Home"})]})})}),Y.jsxs(Lh,{fullscreen:!0,className:"ion-padding",children:[Y.jsx(Wr,{children:Y.jsx("iframe",{width:"560",height:"315",src:"data:video/mp4;base64, "+t,title:"TestFitRem",allowFullScreen:!0})}),Y.jsxs(Wr,{children:[Y.jsx(eq,{type:"text",value:s,onIonInput:b=>o(b.target.value)}),Y.jsx(ai,{slot:"end",onClick:f,disabled:s.trim()==="",children:"ADD"}),Y.jsx(ai,{slot:"end",onClick:()=>N8(e,n),children:"ADD TRACK"}),Y.jsx(ai,{slot:"end",onClick:()=>R8(n),children:"DELETE"}),Y.jsx(ai,{slot:"end",onClick:r,children:"READ"})]}),Y.jsx("h3",{children:"THE SQLITE DATA"}),c==null?void 0:c.map(b=>Y.jsxs(Wr,{children:[Y.jsx("iframe",{width:"300",height:"315",src:"data:video/mp4;base64, "+b.file,title:"TestFitRem",allowFullScreen:!0}),Y.jsx(ai,{onClick:()=>g(b==null?void 0:b.id),children:"DELETE"})]},b==null?void 0:b.id)),l]}),Y.jsx($A,{})]})]})};Iq();const $8=()=>{const{rehydrated:n}=zl();return Y.jsx(gq,{children:n?Y.jsx(Vq,{children:Y.jsxs(Sq,{children:[Y.jsx(el,{exact:!0,path:"/home",children:Y.jsx(P8,{})}),Y.jsx(el,{exact:!0,path:"/timer",children:Y.jsx(c5,{})}),Y.jsx(el,{exact:!0,path:"/timer-configuration",children:Y.jsx(C4,{})}),Y.jsx(el,{exact:!0,path:"/",children:Y.jsx(S$,{to:"/home"})})]})}):Y.jsx(rq,{className:"spinner"})})};window.addEventListener("DOMContentLoaded",async()=>{try{const n=document.getElementById("root");o1(n).render(Y.jsx($8,{}))}catch(n){console.log(n)}});window.Buffer=Vy.Buffer;export{WE as E,v_ as K,nC as W,I8 as __vite_legacy_guard,Qi as a,zs as b,Y1 as c,Do as d,SM as e,g_ as f,CM as g,Um as h,_u as i,Bn as j,Ov as k,G8 as l,us as m,O8 as n,kb as o,_8 as p,_t as q,Dl as r,Q8 as s,L8 as t,jB as u,tr as w};
