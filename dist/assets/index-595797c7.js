var GN=Object.defineProperty;var KN=(n,e,t)=>e in n?GN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var sr=(n,e,t)=>(KN(n,typeof e!="symbol"?e+"":e,t),t);function e5(){import.meta.url,import("_").catch(()=>1);async function*n(){}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ss(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function YN(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var r=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return n[i]}})}),t}var hE={exports:{}},Nd={},pE={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dl=Symbol.for("react.element"),JN=Symbol.for("react.portal"),XN=Symbol.for("react.fragment"),ZN=Symbol.for("react.strict_mode"),eA=Symbol.for("react.profiler"),tA=Symbol.for("react.provider"),nA=Symbol.for("react.context"),iA=Symbol.for("react.forward_ref"),rA=Symbol.for("react.suspense"),sA=Symbol.for("react.memo"),oA=Symbol.for("react.lazy"),Zy=Symbol.iterator;function aA(n){return n===null||typeof n!="object"?null:(n=Zy&&n[Zy]||n["@@iterator"],typeof n=="function"?n:null)}var fE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mE=Object.assign,gE={};function Yo(n,e,t){this.props=n,this.context=e,this.refs=gE,this.updater=t||fE}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Yo.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function yE(){}yE.prototype=Yo.prototype;function Bm(n,e,t){this.props=n,this.context=e,this.refs=gE,this.updater=t||fE}var Fm=Bm.prototype=new yE;Fm.constructor=Bm;mE(Fm,Yo.prototype);Fm.isPureReactComponent=!0;var eb=Array.isArray,bE=Object.prototype.hasOwnProperty,Um={current:null},vE={key:!0,ref:!0,__self:!0,__source:!0};function wE(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)bE.call(e,i)&&!vE.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:Dl,type:n,key:s,ref:o,props:r,_owner:Um.current}}function lA(n,e){return{$$typeof:Dl,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function jm(n){return typeof n=="object"&&n!==null&&n.$$typeof===Dl}function cA(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var tb=/\/+/g;function Xh(n,e){return typeof n=="object"&&n!==null&&n.key!=null?cA(""+n.key):e.toString(36)}function lu(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Dl:case JN:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+Xh(o,0):i,eb(r)?(t="",n!=null&&(t=n.replace(tb,"$&/")+"/"),lu(r,e,t,"",function(c){return c})):r!=null&&(jm(r)&&(r=lA(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(tb,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",eb(n))for(var a=0;a<n.length;a++){s=n[a];var l=i+Xh(s,a);o+=lu(s,e,t,l,r)}else if(l=aA(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=i+Xh(s,a++),o+=lu(s,e,t,l,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xc(n,e,t){if(n==null)return n;var i=[],r=0;return lu(n,i,"","",function(s){return e.call(t,s,r++)}),i}function uA(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var En={current:null},cu={transition:null},dA={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:cu,ReactCurrentOwner:Um};Fe.Children={map:xc,forEach:function(n,e,t){xc(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return xc(n,function(){e++}),e},toArray:function(n){return xc(n,function(e){return e})||[]},only:function(n){if(!jm(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Fe.Component=Yo;Fe.Fragment=XN;Fe.Profiler=eA;Fe.PureComponent=Bm;Fe.StrictMode=ZN;Fe.Suspense=rA;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dA;Fe.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=mE({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Um.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)bE.call(e,l)&&!vE.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:Dl,type:n.type,key:r,ref:s,props:i,_owner:o}};Fe.createContext=function(n){return n={$$typeof:nA,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:tA,_context:n},n.Consumer=n};Fe.createElement=wE;Fe.createFactory=function(n){var e=wE.bind(null,n);return e.type=n,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(n){return{$$typeof:iA,render:n}};Fe.isValidElement=jm;Fe.lazy=function(n){return{$$typeof:oA,_payload:{_status:-1,_result:n},_init:uA}};Fe.memo=function(n,e){return{$$typeof:sA,type:n,compare:e===void 0?null:e}};Fe.startTransition=function(n){var e=cu.transition;cu.transition={};try{n()}finally{cu.transition=e}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(n,e){return En.current.useCallback(n,e)};Fe.useContext=function(n){return En.current.useContext(n)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(n){return En.current.useDeferredValue(n)};Fe.useEffect=function(n,e){return En.current.useEffect(n,e)};Fe.useId=function(){return En.current.useId()};Fe.useImperativeHandle=function(n,e,t){return En.current.useImperativeHandle(n,e,t)};Fe.useInsertionEffect=function(n,e){return En.current.useInsertionEffect(n,e)};Fe.useLayoutEffect=function(n,e){return En.current.useLayoutEffect(n,e)};Fe.useMemo=function(n,e){return En.current.useMemo(n,e)};Fe.useReducer=function(n,e,t){return En.current.useReducer(n,e,t)};Fe.useRef=function(n){return En.current.useRef(n)};Fe.useState=function(n){return En.current.useState(n)};Fe.useSyncExternalStore=function(n,e,t){return En.current.useSyncExternalStore(n,e,t)};Fe.useTransition=function(){return En.current.useTransition()};Fe.version="18.2.0";pE.exports=Fe;var De=pE.exports;const te=ss(De);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hA=De,pA=Symbol.for("react.element"),fA=Symbol.for("react.fragment"),mA=Object.prototype.hasOwnProperty,gA=hA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yA={key:!0,ref:!0,__self:!0,__source:!0};function EE(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)mA.call(e,i)&&!yA.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:pA,type:n,key:s,ref:o,props:r,_owner:gA.current}}Nd.Fragment=fA;Nd.jsx=EE;Nd.jsxs=EE;hE.exports=Nd;var Y=hE.exports;/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var nb;(function(n){(function(e){var t=typeof Xy=="object"?Xy:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),i=r(n);typeof t.Reflect>"u"?t.Reflect=n:i=r(t.Reflect,i),e(i);function r(s,o){return function(a,l){typeof s[a]!="function"&&Object.defineProperty(s,a,{configurable:!0,writable:!0,value:l}),o&&o(a,l)}}})(function(e){var t=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",r=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",a={__proto__:[]}instanceof Array,l=!o&&!a,c={create:o?function(){return Mn(Object.create(null))}:a?function(){return Mn({__proto__:null})}:function(){return Mn({})},has:l?function(z,ee){return t.call(z,ee)}:function(z,ee){return ee in z},get:l?function(z,ee){return t.call(z,ee)?z[ee]:void 0}:function(z,ee){return z[ee]}},u=Object.getPrototypeOf(Function),d=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",h=!d&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Li(),p=!d&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:jt(),y=!d&&typeof WeakMap=="function"?WeakMap:Rt(),v=new y;function S(z,ee,le,T){if(K(le)){if(!mn(z))throw new TypeError;if(!Lt(ee))throw new TypeError;return Q(z,ee)}else{if(!mn(z))throw new TypeError;if(!Ee(ee))throw new TypeError;if(!Ee(T)&&!K(T)&&!ae(T))throw new TypeError;return ae(T)&&(T=void 0),le=wt(le),k(z,ee,le,T)}}e("decorate",S);function E(z,ee){function le(T,m){if(!Ee(T))throw new TypeError;if(!K(m)&&!In(m))throw new TypeError;de(z,ee,T,m)}return le}e("metadata",E);function w(z,ee,le,T){if(!Ee(le))throw new TypeError;return K(T)||(T=wt(T)),de(z,ee,le,T)}e("defineMetadata",w);function C(z,ee,le){if(!Ee(ee))throw new TypeError;return K(le)||(le=wt(le)),j(z,ee,le)}e("hasMetadata",C);function P(z,ee,le){if(!Ee(ee))throw new TypeError;return K(le)||(le=wt(le)),ne(z,ee,le)}e("hasOwnMetadata",P);function q(z,ee,le){if(!Ee(ee))throw new TypeError;return K(le)||(le=wt(le)),ue(z,ee,le)}e("getMetadata",q);function H(z,ee,le){if(!Ee(ee))throw new TypeError;return K(le)||(le=wt(le)),fe(z,ee,le)}e("getOwnMetadata",H);function L(z,ee){if(!Ee(z))throw new TypeError;return K(ee)||(ee=wt(ee)),Z(z,ee)}e("getMetadataKeys",L);function M(z,ee){if(!Ee(z))throw new TypeError;return K(ee)||(ee=wt(ee)),ie(z,ee)}e("getOwnMetadataKeys",M);function O(z,ee,le){if(!Ee(ee))throw new TypeError;K(le)||(le=wt(le));var T=J(ee,le,!1);if(K(T)||!T.delete(z))return!1;if(T.size>0)return!0;var m=v.get(ee);return m.delete(le),m.size>0||v.delete(ee),!0}e("deleteMetadata",O);function Q(z,ee){for(var le=z.length-1;le>=0;--le){var T=z[le],m=T(ee);if(!K(m)&&!ae(m)){if(!Lt(m))throw new TypeError;ee=m}}return ee}function k(z,ee,le,T){for(var m=z.length-1;m>=0;--m){var b=z[m],N=b(ee,le,T);if(!K(N)&&!ae(N)){if(!Ee(N))throw new TypeError;T=N}}return T}function J(z,ee,le){var T=v.get(z);if(K(T)){if(!le)return;T=new h,v.set(z,T)}var m=T.get(ee);if(K(m)){if(!le)return;m=new h,T.set(ee,m)}return m}function j(z,ee,le){var T=ne(z,ee,le);if(T)return!0;var m=et(ee);return ae(m)?!1:j(z,m,le)}function ne(z,ee,le){var T=J(ee,le,!1);return K(T)?!1:Ie(T.has(z))}function ue(z,ee,le){var T=ne(z,ee,le);if(T)return fe(z,ee,le);var m=et(ee);if(!ae(m))return ue(z,m,le)}function fe(z,ee,le){var T=J(ee,le,!1);if(!K(T))return T.get(z)}function de(z,ee,le,T){var m=J(le,T,!0);m.set(z,ee)}function Z(z,ee){var le=ie(z,ee),T=et(z);if(T===null)return le;var m=Z(T,ee);if(m.length<=0)return le;if(le.length<=0)return m;for(var b=new p,N=[],$=0,D=le;$<D.length;$++){var W=D[$],ge=b.has(W);ge||(b.add(W),N.push(W))}for(var ye=0,He=m;ye<He.length;ye++){var W=He[ye],ge=b.has(W);ge||(b.add(W),N.push(W))}return N}function ie(z,ee){var le=[],T=J(z,ee,!1);if(K(T))return le;for(var m=T.keys(),b=nr(m),N=0;;){var $=ir(b);if(!$)return le.length=N,le;var D=Ar($);try{le[N]=D}catch(W){try{Re(b)}finally{throw W}}N++}}function B(z){if(z===null)return 1;switch(typeof z){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return z===null?1:6;default:return 6}}function K(z){return z===void 0}function ae(z){return z===null}function Te(z){return typeof z=="symbol"}function Ee(z){return typeof z=="object"?z!==null:typeof z=="function"}function Ce(z,ee){switch(B(z)){case 0:return z;case 1:return z;case 2:return z;case 3:return z;case 4:return z;case 5:return z}var le=ee===3?"string":ee===5?"number":"default",T=pt(z,r);if(T!==void 0){var m=T.call(z,le);if(Ee(m))throw new TypeError;return m}return ke(z,le==="default"?"number":le)}function ke(z,ee){if(ee==="string"){var le=z.toString;if(tn(le)){var T=le.call(z);if(!Ee(T))return T}var m=z.valueOf;if(tn(m)){var T=m.call(z);if(!Ee(T))return T}}else{var m=z.valueOf;if(tn(m)){var T=m.call(z);if(!Ee(T))return T}var b=z.toString;if(tn(b)){var T=b.call(z);if(!Ee(T))return T}}throw new TypeError}function Ie(z){return!!z}function ht(z){return""+z}function wt(z){var ee=Ce(z,3);return Te(ee)?ee:ht(ee)}function mn(z){return Array.isArray?Array.isArray(z):z instanceof Object?z instanceof Array:Object.prototype.toString.call(z)==="[object Array]"}function tn(z){return typeof z=="function"}function Lt(z){return typeof z=="function"}function In(z){switch(B(z)){case 3:return!0;case 4:return!0;default:return!1}}function pt(z,ee){var le=z[ee];if(le!=null){if(!tn(le))throw new TypeError;return le}}function nr(z){var ee=pt(z,s);if(!tn(ee))throw new TypeError;var le=ee.call(z);if(!Ee(le))throw new TypeError;return le}function Ar(z){return z.value}function ir(z){var ee=z.next();return ee.done?!1:ee}function Re(z){var ee=z.return;ee&&ee.call(z)}function et(z){var ee=Object.getPrototypeOf(z);if(typeof z!="function"||z===u||ee!==u)return ee;var le=z.prototype,T=le&&Object.getPrototypeOf(le);if(T==null||T===Object.prototype)return ee;var m=T.constructor;return typeof m!="function"||m===z?ee:m}function Li(){var z={},ee=[],le=function(){function N($,D,W){this._index=0,this._keys=$,this._values=D,this._selector=W}return N.prototype["@@iterator"]=function(){return this},N.prototype[s]=function(){return this},N.prototype.next=function(){var $=this._index;if($>=0&&$<this._keys.length){var D=this._selector(this._keys[$],this._values[$]);return $+1>=this._keys.length?(this._index=-1,this._keys=ee,this._values=ee):this._index++,{value:D,done:!1}}return{value:void 0,done:!0}},N.prototype.throw=function($){throw this._index>=0&&(this._index=-1,this._keys=ee,this._values=ee),$},N.prototype.return=function($){return this._index>=0&&(this._index=-1,this._keys=ee,this._values=ee),{value:$,done:!0}},N}();return function(){function N(){this._keys=[],this._values=[],this._cacheKey=z,this._cacheIndex=-2}return Object.defineProperty(N.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),N.prototype.has=function($){return this._find($,!1)>=0},N.prototype.get=function($){var D=this._find($,!1);return D>=0?this._values[D]:void 0},N.prototype.set=function($,D){var W=this._find($,!0);return this._values[W]=D,this},N.prototype.delete=function($){var D=this._find($,!1);if(D>=0){for(var W=this._keys.length,ge=D+1;ge<W;ge++)this._keys[ge-1]=this._keys[ge],this._values[ge-1]=this._values[ge];return this._keys.length--,this._values.length--,$===this._cacheKey&&(this._cacheKey=z,this._cacheIndex=-2),!0}return!1},N.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=z,this._cacheIndex=-2},N.prototype.keys=function(){return new le(this._keys,this._values,T)},N.prototype.values=function(){return new le(this._keys,this._values,m)},N.prototype.entries=function(){return new le(this._keys,this._values,b)},N.prototype["@@iterator"]=function(){return this.entries()},N.prototype[s]=function(){return this.entries()},N.prototype._find=function($,D){return this._cacheKey!==$&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=$)),this._cacheIndex<0&&D&&(this._cacheIndex=this._keys.length,this._keys.push($),this._values.push(void 0)),this._cacheIndex},N}();function T(N,$){return N}function m(N,$){return $}function b(N,$){return[N,$]}}function jt(){return function(){function z(){this._map=new h}return Object.defineProperty(z.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),z.prototype.has=function(ee){return this._map.has(ee)},z.prototype.add=function(ee){return this._map.set(ee,ee),this},z.prototype.delete=function(ee){return this._map.delete(ee)},z.prototype.clear=function(){this._map.clear()},z.prototype.keys=function(){return this._map.keys()},z.prototype.values=function(){return this._map.values()},z.prototype.entries=function(){return this._map.entries()},z.prototype["@@iterator"]=function(){return this.keys()},z.prototype[s]=function(){return this.keys()},z}()}function Rt(){var z=16,ee=c.create(),le=T();return function(){function D(){this._key=T()}return D.prototype.has=function(W){var ge=m(W,!1);return ge!==void 0?c.has(ge,this._key):!1},D.prototype.get=function(W){var ge=m(W,!1);return ge!==void 0?c.get(ge,this._key):void 0},D.prototype.set=function(W,ge){var ye=m(W,!0);return ye[this._key]=ge,this},D.prototype.delete=function(W){var ge=m(W,!1);return ge!==void 0?delete ge[this._key]:!1},D.prototype.clear=function(){this._key=T()},D}();function T(){var D;do D="@@WeakMap@@"+$();while(c.has(ee,D));return ee[D]=!0,D}function m(D,W){if(!t.call(D,le)){if(!W)return;Object.defineProperty(D,le,{value:c.create()})}return D[le]}function b(D,W){for(var ge=0;ge<W;++ge)D[ge]=Math.random()*255|0;return D}function N(D){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(D)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(D)):b(new Uint8Array(D),D):b(new Array(D),D)}function $(){var D=N(z);D[6]=D[6]&79|64,D[8]=D[8]&191|128;for(var W="",ge=0;ge<z;++ge){var ye=D[ge];(ge===4||ge===6||ge===8)&&(W+="-"),ye<16&&(W+="0"),W+=ye.toString(16).toLowerCase()}return W}}function Mn(z){return z.__=void 0,delete z.__,z}})})(nb||(nb={}));var xE={exports:{}},Vn={},TE={exports:{}},CE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(Z,ie){var B=Z.length;Z.push(ie);e:for(;0<B;){var K=B-1>>>1,ae=Z[K];if(0<r(ae,ie))Z[K]=ie,Z[B]=ae,B=K;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var ie=Z[0],B=Z.pop();if(B!==ie){Z[0]=B;e:for(var K=0,ae=Z.length,Te=ae>>>1;K<Te;){var Ee=2*(K+1)-1,Ce=Z[Ee],ke=Ee+1,Ie=Z[ke];if(0>r(Ce,B))ke<ae&&0>r(Ie,Ce)?(Z[K]=Ie,Z[ke]=B,K=ke):(Z[K]=Ce,Z[Ee]=B,K=Ee);else if(ke<ae&&0>r(Ie,B))Z[K]=Ie,Z[ke]=B,K=ke;else break e}}return ie}function r(Z,ie){var B=Z.sortIndex-ie.sortIndex;return B!==0?B:Z.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,p=!1,y=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(Z){for(var ie=t(c);ie!==null;){if(ie.callback===null)i(c);else if(ie.startTime<=Z)i(c),ie.sortIndex=ie.expirationTime,e(l,ie);else break;ie=t(c)}}function P(Z){if(v=!1,C(Z),!y)if(t(l)!==null)y=!0,fe(q);else{var ie=t(c);ie!==null&&de(P,ie.startTime-Z)}}function q(Z,ie){y=!1,v&&(v=!1,E(M),M=-1),p=!0;var B=h;try{for(C(ie),d=t(l);d!==null&&(!(d.expirationTime>ie)||Z&&!k());){var K=d.callback;if(typeof K=="function"){d.callback=null,h=d.priorityLevel;var ae=K(d.expirationTime<=ie);ie=n.unstable_now(),typeof ae=="function"?d.callback=ae:d===t(l)&&i(l),C(ie)}else i(l);d=t(l)}if(d!==null)var Te=!0;else{var Ee=t(c);Ee!==null&&de(P,Ee.startTime-ie),Te=!1}return Te}finally{d=null,h=B,p=!1}}var H=!1,L=null,M=-1,O=5,Q=-1;function k(){return!(n.unstable_now()-Q<O)}function J(){if(L!==null){var Z=n.unstable_now();Q=Z;var ie=!0;try{ie=L(!0,Z)}finally{ie?j():(H=!1,L=null)}}else H=!1}var j;if(typeof w=="function")j=function(){w(J)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,ue=ne.port2;ne.port1.onmessage=J,j=function(){ue.postMessage(null)}}else j=function(){S(J,0)};function fe(Z){L=Z,H||(H=!0,j())}function de(Z,ie){M=S(function(){Z(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_continueExecution=function(){y||p||(y=!0,fe(q))},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(Z){switch(h){case 1:case 2:case 3:var ie=3;break;default:ie=h}var B=h;h=ie;try{return Z()}finally{h=B}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Z,ie){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var B=h;h=Z;try{return ie()}finally{h=B}},n.unstable_scheduleCallback=function(Z,ie,B){var K=n.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?K+B:K):B=K,Z){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=B+ae,Z={id:u++,callback:ie,priorityLevel:Z,startTime:B,expirationTime:ae,sortIndex:-1},B>K?(Z.sortIndex=B,e(c,Z),t(l)===null&&Z===t(c)&&(v?(E(M),M=-1):v=!0,de(P,B-K))):(Z.sortIndex=ae,e(l,Z),y||p||(y=!0,fe(q))),Z},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(Z){var ie=h;return function(){var B=h;h=ie;try{return Z.apply(this,arguments)}finally{h=B}}}})(CE);TE.exports=CE;var bA=TE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SE=De,zn=bA;function he(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var NE=new Set,cl={};function Us(n,e){_o(n,e),_o(n+"Capture",e)}function _o(n,e){for(cl[n]=e,n=0;n<e.length;n++)NE.add(e[n])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pf=Object.prototype.hasOwnProperty,vA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ib={},rb={};function wA(n){return pf.call(rb,n)?!0:pf.call(ib,n)?!1:vA.test(n)?rb[n]=!0:(ib[n]=!0,!1)}function EA(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function xA(n,e,t,i){if(e===null||typeof e>"u"||EA(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){Zt[n]=new xn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];Zt[e]=new xn(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){Zt[n]=new xn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){Zt[n]=new xn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){Zt[n]=new xn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){Zt[n]=new xn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){Zt[n]=new xn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){Zt[n]=new xn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){Zt[n]=new xn(n,5,!1,n.toLowerCase(),null,!1,!1)});var zm=/[\-:]([a-z])/g;function Vm(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(zm,Vm);Zt[e]=new xn(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(zm,Vm);Zt[e]=new xn(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(zm,Vm);Zt[e]=new xn(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){Zt[n]=new xn(n,1,!1,n.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){Zt[n]=new xn(n,1,!1,n.toLowerCase(),null,!0,!0)});function Hm(n,e,t,i){var r=Zt.hasOwnProperty(e)?Zt[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xA(e,t,r,i)&&(t=null),i||r===null?wA(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var Sr=SE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tc=Symbol.for("react.element"),co=Symbol.for("react.portal"),uo=Symbol.for("react.fragment"),Wm=Symbol.for("react.strict_mode"),ff=Symbol.for("react.profiler"),AE=Symbol.for("react.provider"),kE=Symbol.for("react.context"),Qm=Symbol.for("react.forward_ref"),mf=Symbol.for("react.suspense"),gf=Symbol.for("react.suspense_list"),Gm=Symbol.for("react.memo"),Lr=Symbol.for("react.lazy"),RE=Symbol.for("react.offscreen"),sb=Symbol.iterator;function Sa(n){return n===null||typeof n!="object"?null:(n=sb&&n[sb]||n["@@iterator"],typeof n=="function"?n:null)}var vt=Object.assign,Zh;function Ua(n){if(Zh===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Zh=e&&e[1]||""}return"\n"+Zh+n}var ep=!1;function tp(n,e){if(!n||ep)return"";ep=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l="\n"+r[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{ep=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Ua(n):""}function TA(n){switch(n.tag){case 5:return Ua(n.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 2:case 15:return n=tp(n.type,!1),n;case 11:return n=tp(n.type.render,!1),n;case 1:return n=tp(n.type,!0),n;default:return""}}function yf(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case uo:return"Fragment";case co:return"Portal";case ff:return"Profiler";case Wm:return"StrictMode";case mf:return"Suspense";case gf:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case kE:return(n.displayName||"Context")+".Consumer";case AE:return(n._context.displayName||"Context")+".Provider";case Qm:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Gm:return e=n.displayName||null,e!==null?e:yf(n.type)||"Memo";case Lr:e=n._payload,n=n._init;try{return yf(n(e))}catch(t){}}return null}function CA(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yf(e);case 8:return e===Wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ts(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function $E(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SA(n){var e=$E(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Cc(n){n._valueTracker||(n._valueTracker=SA(n))}function PE(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=$E(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Iu(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch(e){return n.body}}function bf(n,e){var t=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t!=null?t:n._wrapperState.initialChecked})}function ob(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=ts(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OE(n,e){e=e.checked,e!=null&&Hm(n,"checked",e,!1)}function vf(n,e){OE(n,e);var t=ts(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?wf(n,e.type,t):e.hasOwnProperty("defaultValue")&&wf(n,e.type,ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function ab(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function wf(n,e,t){(e!=="number"||Iu(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var ja=Array.isArray;function xo(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+ts(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function Ef(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(he(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function lb(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(he(92));if(ja(t)){if(1<t.length)throw Error(he(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ts(t)}}function IE(n,e){var t=ts(e.value),i=ts(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function cb(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function ME(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xf(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?ME(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Sc,_E=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Sc=Sc||document.createElement("div"),Sc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sc.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function ul(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NA=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(n){NA.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Ka[e]=Ka[n]})});function DE(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Ka.hasOwnProperty(n)&&Ka[n]?(""+e).trim():e+"px"}function LE(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=DE(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var AA=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tf(n,e){if(e){if(AA[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(he(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(he(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(he(61))}if(e.style!=null&&typeof e.style!="object")throw Error(he(62))}}function Cf(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=null;function Km(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Nf=null,To=null,Co=null;function ub(n){if(n=Bl(n)){if(typeof Nf!="function")throw Error(he(280));var e=n.stateNode;e&&(e=Pd(e),Nf(n.stateNode,n.type,e))}}function qE(n){To?Co?Co.push(n):Co=[n]:To=n}function BE(){if(To){var n=To,e=Co;if(Co=To=null,ub(n),e)for(n=0;n<e.length;n++)ub(e[n])}}function FE(n,e){return n(e)}function UE(){}var np=!1;function jE(n,e,t){if(np)return n(e,t);np=!0;try{return FE(n,e,t)}finally{np=!1,(To!==null||Co!==null)&&(UE(),BE())}}function dl(n,e){var t=n.stateNode;if(t===null)return null;var i=Pd(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(he(231,e,typeof t));return t}var Af=!1;if(vr)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){Af=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch(n){Af=!1}function kA(n,e,t,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Ya=!1,Mu=null,_u=!1,kf=null,RA={onError:function(n){Ya=!0,Mu=n}};function $A(n,e,t,i,r,s,o,a,l){Ya=!1,Mu=null,kA.apply(RA,arguments)}function PA(n,e,t,i,r,s,o,a,l){if($A.apply(this,arguments),Ya){if(Ya){var c=Mu;Ya=!1,Mu=null}else throw Error(he(198));_u||(_u=!0,kf=c)}}function js(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function zE(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function db(n){if(js(n)!==n)throw Error(he(188))}function OA(n){var e=n.alternate;if(!e){if(e=js(n),e===null)throw Error(he(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return db(r),n;if(s===i)return db(r),e;s=s.sibling}throw Error(he(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(he(189))}}if(t.alternate!==i)throw Error(he(190))}if(t.tag!==3)throw Error(he(188));return t.stateNode.current===t?n:e}function VE(n){return n=OA(n),n!==null?HE(n):null}function HE(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=HE(n);if(e!==null)return e;n=n.sibling}return null}var WE=zn.unstable_scheduleCallback,hb=zn.unstable_cancelCallback,IA=zn.unstable_shouldYield,MA=zn.unstable_requestPaint,kt=zn.unstable_now,_A=zn.unstable_getCurrentPriorityLevel,Ym=zn.unstable_ImmediatePriority,QE=zn.unstable_UserBlockingPriority,Du=zn.unstable_NormalPriority,DA=zn.unstable_LowPriority,GE=zn.unstable_IdlePriority,Ad=null,Ki=null;function LA(n){if(Ki&&typeof Ki.onCommitFiberRoot=="function")try{Ki.onCommitFiberRoot(Ad,n,void 0,(n.current.flags&128)===128)}catch(e){}}var Ri=Math.clz32?Math.clz32:FA,qA=Math.log,BA=Math.LN2;function FA(n){return n>>>=0,n===0?32:31-(qA(n)/BA|0)|0}var Nc=64,Ac=4194304;function za(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Lu(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=za(a):(s&=o,s!==0&&(i=za(s)))}else o=t&~r,o!==0?i=za(o):s!==0&&(i=za(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Ri(e),r=1<<t,i|=n[t],e&=~r;return i}function UA(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jA(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-Ri(s),a=1<<o,l=r[o];l===-1?(!(a&t)||a&i)&&(r[o]=UA(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function Rf(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function KE(){var n=Nc;return Nc<<=1,!(Nc&4194240)&&(Nc=64),n}function ip(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Ll(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Ri(e),n[e]=t}function zA(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Ri(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function Jm(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Ri(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var tt=0;function YE(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var JE,Xm,XE,ZE,ex,$f=!1,kc=[],Wr=null,Qr=null,Gr=null,hl=new Map,pl=new Map,Fr=[],VA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pb(n,e){switch(n){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Gr=null;break;case"pointerover":case"pointerout":hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function Aa(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Bl(e),e!==null&&Xm(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function HA(n,e,t,i,r){switch(e){case"focusin":return Wr=Aa(Wr,n,e,t,i,r),!0;case"dragenter":return Qr=Aa(Qr,n,e,t,i,r),!0;case"mouseover":return Gr=Aa(Gr,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return hl.set(s,Aa(hl.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,pl.set(s,Aa(pl.get(s)||null,n,e,t,i,r)),!0}return!1}function tx(n){var e=vs(n.target);if(e!==null){var t=js(e);if(t!==null){if(e=t.tag,e===13){if(e=zE(t),e!==null){n.blockedOn=e,ex(n.priority,function(){XE(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function uu(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Pf(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);Sf=i,t.target.dispatchEvent(i),Sf=null}else return e=Bl(t),e!==null&&Xm(e),n.blockedOn=t,!1;e.shift()}return!0}function fb(n,e,t){uu(n)&&t.delete(e)}function WA(){$f=!1,Wr!==null&&uu(Wr)&&(Wr=null),Qr!==null&&uu(Qr)&&(Qr=null),Gr!==null&&uu(Gr)&&(Gr=null),hl.forEach(fb),pl.forEach(fb)}function ka(n,e){n.blockedOn===e&&(n.blockedOn=null,$f||($f=!0,zn.unstable_scheduleCallback(zn.unstable_NormalPriority,WA)))}function fl(n){function e(r){return ka(r,n)}if(0<kc.length){ka(kc[0],n);for(var t=1;t<kc.length;t++){var i=kc[t];i.blockedOn===n&&(i.blockedOn=null)}}for(Wr!==null&&ka(Wr,n),Qr!==null&&ka(Qr,n),Gr!==null&&ka(Gr,n),hl.forEach(e),pl.forEach(e),t=0;t<Fr.length;t++)i=Fr[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Fr.length&&(t=Fr[0],t.blockedOn===null);)tx(t),t.blockedOn===null&&Fr.shift()}var So=Sr.ReactCurrentBatchConfig,qu=!0;function QA(n,e,t,i){var r=tt,s=So.transition;So.transition=null;try{tt=1,Zm(n,e,t,i)}finally{tt=r,So.transition=s}}function GA(n,e,t,i){var r=tt,s=So.transition;So.transition=null;try{tt=4,Zm(n,e,t,i)}finally{tt=r,So.transition=s}}function Zm(n,e,t,i){if(qu){var r=Pf(n,e,t,i);if(r===null)pp(n,e,i,Bu,t),pb(n,i);else if(HA(r,n,e,t,i))i.stopPropagation();else if(pb(n,i),e&4&&-1<VA.indexOf(n)){for(;r!==null;){var s=Bl(r);if(s!==null&&JE(s),s=Pf(n,e,t,i),s===null&&pp(n,e,i,Bu,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else pp(n,e,i,null,t)}}var Bu=null;function Pf(n,e,t,i){if(Bu=null,n=Km(i),n=vs(n),n!==null)if(e=js(n),e===null)n=null;else if(t=e.tag,t===13){if(n=zE(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Bu=n,null}function nx(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_A()){case Ym:return 1;case QE:return 4;case Du:case DA:return 16;case GE:return 536870912;default:return 16}default:return 16}}var Vr=null,eg=null,du=null;function ix(){if(du)return du;var n,e=eg,t=e.length,i,r="value"in Vr?Vr.value:Vr.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return du=r.slice(n,1<i?1-i:void 0)}function hu(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Rc(){return!0}function mb(){return!1}function Hn(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rc:mb,this.isPropagationStopped=mb,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Rc)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Rc)},persist:function(){},isPersistent:Rc}),e}var Jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tg=Hn(Jo),ql=vt({},Jo,{view:0,detail:0}),KA=Hn(ql),rp,sp,Ra,kd=vt({},ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ng,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ra&&(Ra&&n.type==="mousemove"?(rp=n.screenX-Ra.screenX,sp=n.screenY-Ra.screenY):sp=rp=0,Ra=n),rp)},movementY:function(n){return"movementY"in n?n.movementY:sp}}),gb=Hn(kd),YA=vt({},kd,{dataTransfer:0}),JA=Hn(YA),XA=vt({},ql,{relatedTarget:0}),op=Hn(XA),ZA=vt({},Jo,{animationName:0,elapsedTime:0,pseudoElement:0}),ek=Hn(ZA),tk=vt({},Jo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),nk=Hn(tk),ik=vt({},Jo,{data:0}),yb=Hn(ik),rk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ok={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ak(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=ok[n])?!!e[n]:!1}function ng(){return ak}var lk=vt({},ql,{key:function(n){if(n.key){var e=rk[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=hu(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?sk[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ng,charCode:function(n){return n.type==="keypress"?hu(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hu(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ck=Hn(lk),uk=vt({},kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bb=Hn(uk),dk=vt({},ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ng}),hk=Hn(dk),pk=vt({},Jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),fk=Hn(pk),mk=vt({},kd,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),gk=Hn(mk),yk=[9,13,27,32],ig=vr&&"CompositionEvent"in window,Ja=null;vr&&"documentMode"in document&&(Ja=document.documentMode);var bk=vr&&"TextEvent"in window&&!Ja,rx=vr&&(!ig||Ja&&8<Ja&&11>=Ja),vb=String.fromCharCode(32),wb=!1;function sx(n,e){switch(n){case"keyup":return yk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ox(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ho=!1;function vk(n,e){switch(n){case"compositionend":return ox(e);case"keypress":return e.which!==32?null:(wb=!0,vb);case"textInput":return n=e.data,n===vb&&wb?null:n;default:return null}}function wk(n,e){if(ho)return n==="compositionend"||!ig&&sx(n,e)?(n=ix(),du=eg=Vr=null,ho=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rx&&e.locale!=="ko"?null:e.data;default:return null}}var Ek={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Ek[n.type]:e==="textarea"}function ax(n,e,t,i){qE(i),e=Fu(e,"onChange"),0<e.length&&(t=new tg("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Xa=null,ml=null;function xk(n){bx(n,0)}function Rd(n){var e=mo(n);if(PE(e))return n}function Tk(n,e){if(n==="change")return e}var lx=!1;if(vr){var ap;if(vr){var lp="oninput"in document;if(!lp){var xb=document.createElement("div");xb.setAttribute("oninput","return;"),lp=typeof xb.oninput=="function"}ap=lp}else ap=!1;lx=ap&&(!document.documentMode||9<document.documentMode)}function Tb(){Xa&&(Xa.detachEvent("onpropertychange",cx),ml=Xa=null)}function cx(n){if(n.propertyName==="value"&&Rd(ml)){var e=[];ax(e,ml,n,Km(n)),jE(xk,e)}}function Ck(n,e,t){n==="focusin"?(Tb(),Xa=e,ml=t,Xa.attachEvent("onpropertychange",cx)):n==="focusout"&&Tb()}function Sk(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Rd(ml)}function Nk(n,e){if(n==="click")return Rd(e)}function Ak(n,e){if(n==="input"||n==="change")return Rd(e)}function kk(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var _i=typeof Object.is=="function"?Object.is:kk;function gl(n,e){if(_i(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!pf.call(e,r)||!_i(n[r],e[r]))return!1}return!0}function Cb(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sb(n,e){var t=Cb(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Cb(t)}}function ux(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?ux(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function dx(){for(var n=window,e=Iu();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch(i){t=!1}if(t)n=e.contentWindow;else break;e=Iu(n.document)}return e}function rg(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Rk(n){var e=dx(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&ux(t.ownerDocument.documentElement,t)){if(i!==null&&rg(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=Sb(t,s);var o=Sb(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var $k=vr&&"documentMode"in document&&11>=document.documentMode,po=null,Of=null,Za=null,If=!1;function Nb(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;If||po==null||po!==Iu(i)||(i=po,"selectionStart"in i&&rg(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Za&&gl(Za,i)||(Za=i,i=Fu(Of,"onSelect"),0<i.length&&(e=new tg("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=po)))}function $c(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var fo={animationend:$c("Animation","AnimationEnd"),animationiteration:$c("Animation","AnimationIteration"),animationstart:$c("Animation","AnimationStart"),transitionend:$c("Transition","TransitionEnd")},cp={},hx={};vr&&(hx=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function $d(n){if(cp[n])return cp[n];if(!fo[n])return n;var e=fo[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in hx)return cp[n]=e[t];return n}var px=$d("animationend"),fx=$d("animationiteration"),mx=$d("animationstart"),gx=$d("transitionend"),yx=new Map,Ab="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function os(n,e){yx.set(n,e),Us(e,[n])}for(var up=0;up<Ab.length;up++){var dp=Ab[up],Pk=dp.toLowerCase(),Ok=dp[0].toUpperCase()+dp.slice(1);os(Pk,"on"+Ok)}os(px,"onAnimationEnd");os(fx,"onAnimationIteration");os(mx,"onAnimationStart");os("dblclick","onDoubleClick");os("focusin","onFocus");os("focusout","onBlur");os(gx,"onTransitionEnd");_o("onMouseEnter",["mouseout","mouseover"]);_o("onMouseLeave",["mouseout","mouseover"]);_o("onPointerEnter",["pointerout","pointerover"]);_o("onPointerLeave",["pointerout","pointerover"]);Us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Us("onBeforeInput",["compositionend","keypress","textInput","paste"]);Us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Va="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ik=new Set("cancel close invalid load scroll toggle".split(" ").concat(Va));function kb(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,PA(i,e,void 0,n),n.currentTarget=null}function bx(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;kb(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;kb(r,a,c),s=l}}}if(_u)throw n=kf,_u=!1,kf=null,n}function at(n,e){var t=e[qf];t===void 0&&(t=e[qf]=new Set);var i=n+"__bubble";t.has(i)||(vx(e,n,2,!1),t.add(i))}function hp(n,e,t){var i=0;e&&(i|=4),vx(t,n,i,e)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function yl(n){if(!n[Pc]){n[Pc]=!0,NE.forEach(function(t){t!=="selectionchange"&&(Ik.has(t)||hp(t,!1,n),hp(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Pc]||(e[Pc]=!0,hp("selectionchange",!1,e))}}function vx(n,e,t,i){switch(nx(e)){case 1:var r=QA;break;case 4:r=GA;break;default:r=Zm}t=r.bind(null,e,t,n),r=void 0,!Af||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function pp(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=vs(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}jE(function(){var c=s,u=Km(t),d=[];e:{var h=yx.get(n);if(h!==void 0){var p=tg,y=n;switch(n){case"keypress":if(hu(t)===0)break e;case"keydown":case"keyup":p=ck;break;case"focusin":y="focus",p=op;break;case"focusout":y="blur",p=op;break;case"beforeblur":case"afterblur":p=op;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=gb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hk;break;case px:case fx:case mx:p=ek;break;case gx:p=fk;break;case"scroll":p=KA;break;case"wheel":p=gk;break;case"copy":case"cut":case"paste":p=nk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bb}var v=(e&4)!==0,S=!v&&n==="scroll",E=v?h!==null?h+"Capture":null:h;v=[];for(var w=c,C;w!==null;){C=w;var P=C.stateNode;if(C.tag===5&&P!==null&&(C=P,E!==null&&(P=dl(w,E),P!=null&&v.push(bl(w,P,C)))),S)break;w=w.return}0<v.length&&(h=new p(h,y,null,t,u),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&t!==Sf&&(y=t.relatedTarget||t.fromElement)&&(vs(y)||y[wr]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=t.relatedTarget||t.toElement,p=c,y=y?vs(y):null,y!==null&&(S=js(y),y!==S||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=c),p!==y)){if(v=gb,P="onMouseLeave",E="onMouseEnter",w="mouse",(n==="pointerout"||n==="pointerover")&&(v=bb,P="onPointerLeave",E="onPointerEnter",w="pointer"),S=p==null?h:mo(p),C=y==null?h:mo(y),h=new v(P,w+"leave",p,t,u),h.target=S,h.relatedTarget=C,P=null,vs(u)===c&&(v=new v(E,w+"enter",y,t,u),v.target=C,v.relatedTarget=S,P=v),S=P,p&&y)t:{for(v=p,E=y,w=0,C=v;C;C=Ys(C))w++;for(C=0,P=E;P;P=Ys(P))C++;for(;0<w-C;)v=Ys(v),w--;for(;0<C-w;)E=Ys(E),C--;for(;w--;){if(v===E||E!==null&&v===E.alternate)break t;v=Ys(v),E=Ys(E)}v=null}else v=null;p!==null&&Rb(d,h,p,v,!1),y!==null&&S!==null&&Rb(d,S,y,v,!0)}}e:{if(h=c?mo(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var q=Tk;else if(Eb(h))if(lx)q=Ak;else{q=Sk;var H=Ck}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(q=Nk);if(q&&(q=q(n,c))){ax(d,q,t,u);break e}H&&H(n,h,c),n==="focusout"&&(H=h._wrapperState)&&H.controlled&&h.type==="number"&&wf(h,"number",h.value)}switch(H=c?mo(c):window,n){case"focusin":(Eb(H)||H.contentEditable==="true")&&(po=H,Of=c,Za=null);break;case"focusout":Za=Of=po=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,Nb(d,t,u);break;case"selectionchange":if($k)break;case"keydown":case"keyup":Nb(d,t,u)}var L;if(ig)e:{switch(n){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ho?sx(n,t)&&(M="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(M="onCompositionStart");M&&(rx&&t.locale!=="ko"&&(ho||M!=="onCompositionStart"?M==="onCompositionEnd"&&ho&&(L=ix()):(Vr=u,eg="value"in Vr?Vr.value:Vr.textContent,ho=!0)),H=Fu(c,M),0<H.length&&(M=new yb(M,n,null,t,u),d.push({event:M,listeners:H}),L?M.data=L:(L=ox(t),L!==null&&(M.data=L)))),(L=bk?vk(n,t):wk(n,t))&&(c=Fu(c,"onBeforeInput"),0<c.length&&(u=new yb("onBeforeInput","beforeinput",null,t,u),d.push({event:u,listeners:c}),u.data=L))}bx(d,e)})}function bl(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Fu(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=dl(n,t),s!=null&&i.unshift(bl(n,s,r)),s=dl(n,e),s!=null&&i.push(bl(n,s,r))),n=n.return}return i}function Ys(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Rb(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=dl(t,s),l!=null&&o.unshift(bl(t,l,a))):r||(l=dl(t,s),l!=null&&o.push(bl(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var Mk=/\r\n?/g,_k=/\u0000|\uFFFD/g;function $b(n){return(typeof n=="string"?n:""+n).replace(Mk,"\n").replace(_k,"")}function Oc(n,e,t){if(e=$b(e),$b(n)!==e&&t)throw Error(he(425))}function Uu(){}var Mf=null,_f=null;function Df(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lf=typeof setTimeout=="function"?setTimeout:void 0,Dk=typeof clearTimeout=="function"?clearTimeout:void 0,Pb=typeof Promise=="function"?Promise:void 0,Lk=typeof queueMicrotask=="function"?queueMicrotask:typeof Pb<"u"?function(n){return Pb.resolve(null).then(n).catch(qk)}:Lf;function qk(n){setTimeout(function(){throw n})}function fp(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),fl(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);fl(e)}function Kr(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Ob(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),zi="__reactFiber$"+Xo,vl="__reactProps$"+Xo,wr="__reactContainer$"+Xo,qf="__reactEvents$"+Xo,Bk="__reactListeners$"+Xo,Fk="__reactHandles$"+Xo;function vs(n){var e=n[zi];if(e)return e;for(var t=n.parentNode;t;){if(e=t[wr]||t[zi]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Ob(n);n!==null;){if(t=n[zi])return t;n=Ob(n)}return e}n=t,t=n.parentNode}return null}function Bl(n){return n=n[zi]||n[wr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function mo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(he(33))}function Pd(n){return n[vl]||null}var Bf=[],go=-1;function as(n){return{current:n}}function ut(n){0>go||(n.current=Bf[go],Bf[go]=null,go--)}function st(n,e){go++,Bf[go]=n.current,n.current=e}var ns={},hn=as(ns),Rn=as(!1),$s=ns;function Do(n,e){var t=n.type.contextTypes;if(!t)return ns;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function $n(n){return n=n.childContextTypes,n!=null}function ju(){ut(Rn),ut(hn)}function Ib(n,e,t){if(hn.current!==ns)throw Error(he(168));st(hn,e),st(Rn,t)}function wx(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(he(108,CA(n)||"Unknown",r));return vt({},t,i)}function zu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ns,$s=hn.current,st(hn,n),st(Rn,Rn.current),!0}function Mb(n,e,t){var i=n.stateNode;if(!i)throw Error(he(169));t?(n=wx(n,e,$s),i.__reactInternalMemoizedMergedChildContext=n,ut(Rn),ut(hn),st(hn,n)):ut(Rn),st(Rn,t)}var lr=null,Od=!1,mp=!1;function Ex(n){lr===null?lr=[n]:lr.push(n)}function Uk(n){Od=!0,Ex(n)}function ls(){if(!mp&&lr!==null){mp=!0;var n=0,e=tt;try{var t=lr;for(tt=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}lr=null,Od=!1}catch(r){throw lr!==null&&(lr=lr.slice(n+1)),WE(Ym,ls),r}finally{tt=e,mp=!1}}return null}var yo=[],bo=0,Vu=null,Hu=0,ti=[],ni=0,Ps=null,dr=1,hr="";function ys(n,e){yo[bo++]=Hu,yo[bo++]=Vu,Vu=n,Hu=e}function xx(n,e,t){ti[ni++]=dr,ti[ni++]=hr,ti[ni++]=Ps,Ps=n;var i=dr;n=hr;var r=32-Ri(i)-1;i&=~(1<<r),t+=1;var s=32-Ri(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,dr=1<<32-Ri(e)+r|t<<r|i,hr=s+n}else dr=1<<s|t<<r|i,hr=n}function sg(n){n.return!==null&&(ys(n,1),xx(n,1,0))}function og(n){for(;n===Vu;)Vu=yo[--bo],yo[bo]=null,Hu=yo[--bo],yo[bo]=null;for(;n===Ps;)Ps=ti[--ni],ti[ni]=null,hr=ti[--ni],ti[ni]=null,dr=ti[--ni],ti[ni]=null}var Un=null,Fn=null,gt=!1,xi=null;function Tx(n,e){var t=si(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function _b(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Un=n,Fn=Kr(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Un=n,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ps!==null?{id:dr,overflow:hr}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=si(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Un=n,Fn=null,!0):!1;default:return!1}}function Ff(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Uf(n){if(gt){var e=Fn;if(e){var t=e;if(!_b(n,e)){if(Ff(n))throw Error(he(418));e=Kr(t.nextSibling);var i=Un;e&&_b(n,e)?Tx(i,t):(n.flags=n.flags&-4097|2,gt=!1,Un=n)}}else{if(Ff(n))throw Error(he(418));n.flags=n.flags&-4097|2,gt=!1,Un=n}}}function Db(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Un=n}function Ic(n){if(n!==Un)return!1;if(!gt)return Db(n),gt=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Df(n.type,n.memoizedProps)),e&&(e=Fn)){if(Ff(n))throw Cx(),Error(he(418));for(;e;)Tx(n,e),e=Kr(e.nextSibling)}if(Db(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(he(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Fn=Kr(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Fn=null}}else Fn=Un?Kr(n.stateNode.nextSibling):null;return!0}function Cx(){for(var n=Fn;n;)n=Kr(n.nextSibling)}function Lo(){Fn=Un=null,gt=!1}function ag(n){xi===null?xi=[n]:xi.push(n)}var jk=Sr.ReactCurrentBatchConfig;function bi(n,e){if(n&&n.defaultProps){e=vt({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Wu=as(null),Qu=null,vo=null,lg=null;function cg(){lg=vo=Qu=null}function ug(n){var e=Wu.current;ut(Wu),n._currentValue=e}function jf(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function No(n,e){Qu=n,lg=vo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(An=!0),n.firstContext=null)}function ui(n){var e=n._currentValue;if(lg!==n)if(n={context:n,memoizedValue:e,next:null},vo===null){if(Qu===null)throw Error(he(308));vo=n,Qu.dependencies={lanes:0,firstContext:n}}else vo=vo.next=n;return e}var ws=null;function dg(n){ws===null?ws=[n]:ws.push(n)}function Sx(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,dg(e)):(t.next=r.next,r.next=t),e.interleaved=t,Er(n,i)}function Er(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var qr=!1;function hg(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nx(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function mr(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Yr(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,Qe&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Er(n,t)}return r=i.interleaved,r===null?(e.next=e,dg(i)):(e.next=r.next,r.next=e),i.interleaved=e,Er(n,t)}function pu(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Jm(n,t)}}function Lb(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Gu(n,e,t,i){var r=n.updateQueue;qr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=n,v=a;switch(h=e,p=t,v.tag){case 1:if(y=v.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=vt({},d,h);break e;case 2:qr=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Is|=o,n.lanes=o,n.memoizedState=d}}function qb(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(he(191,r));r.call(i)}}}var Ax=new SE.Component().refs;function zf(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:vt({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Id={isMounted:function(n){return(n=n._reactInternals)?js(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=vn(),r=Xr(n),s=mr(i,r);s.payload=e,t!=null&&(s.callback=t),e=Yr(n,s,r),e!==null&&($i(e,n,r,i),pu(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=vn(),r=Xr(n),s=mr(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Yr(n,s,r),e!==null&&($i(e,n,r,i),pu(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=vn(),i=Xr(n),r=mr(t,i);r.tag=2,e!=null&&(r.callback=e),e=Yr(n,r,i),e!==null&&($i(e,n,i,t),pu(e,n,i))}};function Bb(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!gl(t,i)||!gl(r,s):!0}function kx(n,e,t){var i=!1,r=ns,s=e.contextType;return typeof s=="object"&&s!==null?s=ui(s):(r=$n(e)?$s:hn.current,i=e.contextTypes,s=(i=i!=null)?Do(n,r):ns),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Id,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function Fb(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&Id.enqueueReplaceState(e,e.state,null)}function Vf(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs=Ax,hg(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=ui(s):(s=$n(e)?$s:hn.current,r.context=Do(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zf(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Id.enqueueReplaceState(r,r.state,null),Gu(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function $a(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(he(309));var i=t.stateNode}if(!i)throw Error(he(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;a===Ax&&(a=r.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(he(284));if(!t._owner)throw Error(he(290,n))}return n}function Mc(n,e){throw n=Object.prototype.toString.call(e),Error(he(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Ub(n){var e=n._init;return e(n._payload)}function Rx(n){function e(E,w){if(n){var C=E.deletions;C===null?(E.deletions=[w],E.flags|=16):C.push(w)}}function t(E,w){if(!n)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function i(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function r(E,w){return E=Zr(E,w),E.index=0,E.sibling=null,E}function s(E,w,C){return E.index=C,n?(C=E.alternate,C!==null?(C=C.index,C<w?(E.flags|=2,w):C):(E.flags|=2,w)):(E.flags|=1048576,w)}function o(E){return n&&E.alternate===null&&(E.flags|=2),E}function a(E,w,C,P){return w===null||w.tag!==6?(w=xp(C,E.mode,P),w.return=E,w):(w=r(w,C),w.return=E,w)}function l(E,w,C,P){var q=C.type;return q===uo?u(E,w,C.props.children,P,C.key):w!==null&&(w.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Lr&&Ub(q)===w.type)?(P=r(w,C.props),P.ref=$a(E,w,C),P.return=E,P):(P=vu(C.type,C.key,C.props,null,E.mode,P),P.ref=$a(E,w,C),P.return=E,P)}function c(E,w,C,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=Tp(C,E.mode,P),w.return=E,w):(w=r(w,C.children||[]),w.return=E,w)}function u(E,w,C,P,q){return w===null||w.tag!==7?(w=As(C,E.mode,P,q),w.return=E,w):(w=r(w,C),w.return=E,w)}function d(E,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=xp(""+w,E.mode,C),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tc:return C=vu(w.type,w.key,w.props,null,E.mode,C),C.ref=$a(E,null,w),C.return=E,C;case co:return w=Tp(w,E.mode,C),w.return=E,w;case Lr:var P=w._init;return d(E,P(w._payload),C)}if(ja(w)||Sa(w))return w=As(w,E.mode,C,null),w.return=E,w;Mc(E,w)}return null}function h(E,w,C,P){var q=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return q!==null?null:a(E,w,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Tc:return C.key===q?l(E,w,C,P):null;case co:return C.key===q?c(E,w,C,P):null;case Lr:return q=C._init,h(E,w,q(C._payload),P)}if(ja(C)||Sa(C))return q!==null?null:u(E,w,C,P,null);Mc(E,C)}return null}function p(E,w,C,P,q){if(typeof P=="string"&&P!==""||typeof P=="number")return E=E.get(C)||null,a(w,E,""+P,q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Tc:return E=E.get(P.key===null?C:P.key)||null,l(w,E,P,q);case co:return E=E.get(P.key===null?C:P.key)||null,c(w,E,P,q);case Lr:var H=P._init;return p(E,w,C,H(P._payload),q)}if(ja(P)||Sa(P))return E=E.get(C)||null,u(w,E,P,q,null);Mc(w,P)}return null}function y(E,w,C,P){for(var q=null,H=null,L=w,M=w=0,O=null;L!==null&&M<C.length;M++){L.index>M?(O=L,L=null):O=L.sibling;var Q=h(E,L,C[M],P);if(Q===null){L===null&&(L=O);break}n&&L&&Q.alternate===null&&e(E,L),w=s(Q,w,M),H===null?q=Q:H.sibling=Q,H=Q,L=O}if(M===C.length)return t(E,L),gt&&ys(E,M),q;if(L===null){for(;M<C.length;M++)L=d(E,C[M],P),L!==null&&(w=s(L,w,M),H===null?q=L:H.sibling=L,H=L);return gt&&ys(E,M),q}for(L=i(E,L);M<C.length;M++)O=p(L,E,M,C[M],P),O!==null&&(n&&O.alternate!==null&&L.delete(O.key===null?M:O.key),w=s(O,w,M),H===null?q=O:H.sibling=O,H=O);return n&&L.forEach(function(k){return e(E,k)}),gt&&ys(E,M),q}function v(E,w,C,P){var q=Sa(C);if(typeof q!="function")throw Error(he(150));if(C=q.call(C),C==null)throw Error(he(151));for(var H=q=null,L=w,M=w=0,O=null,Q=C.next();L!==null&&!Q.done;M++,Q=C.next()){L.index>M?(O=L,L=null):O=L.sibling;var k=h(E,L,Q.value,P);if(k===null){L===null&&(L=O);break}n&&L&&k.alternate===null&&e(E,L),w=s(k,w,M),H===null?q=k:H.sibling=k,H=k,L=O}if(Q.done)return t(E,L),gt&&ys(E,M),q;if(L===null){for(;!Q.done;M++,Q=C.next())Q=d(E,Q.value,P),Q!==null&&(w=s(Q,w,M),H===null?q=Q:H.sibling=Q,H=Q);return gt&&ys(E,M),q}for(L=i(E,L);!Q.done;M++,Q=C.next())Q=p(L,E,M,Q.value,P),Q!==null&&(n&&Q.alternate!==null&&L.delete(Q.key===null?M:Q.key),w=s(Q,w,M),H===null?q=Q:H.sibling=Q,H=Q);return n&&L.forEach(function(J){return e(E,J)}),gt&&ys(E,M),q}function S(E,w,C,P){if(typeof C=="object"&&C!==null&&C.type===uo&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Tc:e:{for(var q=C.key,H=w;H!==null;){if(H.key===q){if(q=C.type,q===uo){if(H.tag===7){t(E,H.sibling),w=r(H,C.props.children),w.return=E,E=w;break e}}else if(H.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===Lr&&Ub(q)===H.type){t(E,H.sibling),w=r(H,C.props),w.ref=$a(E,H,C),w.return=E,E=w;break e}t(E,H);break}else e(E,H);H=H.sibling}C.type===uo?(w=As(C.props.children,E.mode,P,C.key),w.return=E,E=w):(P=vu(C.type,C.key,C.props,null,E.mode,P),P.ref=$a(E,w,C),P.return=E,E=P)}return o(E);case co:e:{for(H=C.key;w!==null;){if(w.key===H)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){t(E,w.sibling),w=r(w,C.children||[]),w.return=E,E=w;break e}else{t(E,w);break}else e(E,w);w=w.sibling}w=Tp(C,E.mode,P),w.return=E,E=w}return o(E);case Lr:return H=C._init,S(E,w,H(C._payload),P)}if(ja(C))return y(E,w,C,P);if(Sa(C))return v(E,w,C,P);Mc(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(t(E,w.sibling),w=r(w,C),w.return=E,E=w):(t(E,w),w=xp(C,E.mode,P),w.return=E,E=w),o(E)):t(E,w)}return S}var qo=Rx(!0),$x=Rx(!1),Fl={},Yi=as(Fl),wl=as(Fl),El=as(Fl);function Es(n){if(n===Fl)throw Error(he(174));return n}function pg(n,e){switch(st(El,e),st(wl,n),st(Yi,Fl),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xf(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=xf(e,n)}ut(Yi),st(Yi,e)}function Bo(){ut(Yi),ut(wl),ut(El)}function Px(n){Es(El.current);var e=Es(Yi.current),t=xf(e,n.type);e!==t&&(st(wl,n),st(Yi,t))}function fg(n){wl.current===n&&(ut(Yi),ut(wl))}var yt=as(0);function Ku(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gp=[];function mg(){for(var n=0;n<gp.length;n++)gp[n]._workInProgressVersionPrimary=null;gp.length=0}var fu=Sr.ReactCurrentDispatcher,yp=Sr.ReactCurrentBatchConfig,Os=0,bt=null,Bt=null,Vt=null,Yu=!1,el=!1,xl=0,zk=0;function rn(){throw Error(he(321))}function gg(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!_i(n[t],e[t]))return!1;return!0}function yg(n,e,t,i,r,s){if(Os=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fu.current=n===null||n.memoizedState===null?Qk:Gk,n=t(i,r),el){s=0;do{if(el=!1,xl=0,25<=s)throw Error(he(301));s+=1,Vt=Bt=null,e.updateQueue=null,fu.current=Kk,n=t(i,r)}while(el)}if(fu.current=Ju,e=Bt!==null&&Bt.next!==null,Os=0,Vt=Bt=bt=null,Yu=!1,e)throw Error(he(300));return n}function bg(){var n=xl!==0;return xl=0,n}function ji(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vt===null?bt.memoizedState=Vt=n:Vt=Vt.next=n,Vt}function di(){if(Bt===null){var n=bt.alternate;n=n!==null?n.memoizedState:null}else n=Bt.next;var e=Vt===null?bt.memoizedState:Vt.next;if(e!==null)Vt=e,Bt=n;else{if(n===null)throw Error(he(310));Bt=n,n={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Vt===null?bt.memoizedState=Vt=n:Vt=Vt.next=n}return Vt}function Tl(n,e){return typeof e=="function"?e(n):e}function bp(n){var e=di(),t=e.queue;if(t===null)throw Error(he(311));t.lastRenderedReducer=n;var i=Bt,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Os&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,bt.lanes|=u,Is|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,_i(i,e.memoizedState)||(An=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,bt.lanes|=s,Is|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function vp(n){var e=di(),t=e.queue;if(t===null)throw Error(he(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);_i(s,e.memoizedState)||(An=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function Ox(){}function Ix(n,e){var t=bt,i=di(),r=e(),s=!_i(i.memoizedState,r);if(s&&(i.memoizedState=r,An=!0),i=i.queue,vg(Dx.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Vt!==null&&Vt.memoizedState.tag&1){if(t.flags|=2048,Cl(9,_x.bind(null,t,i,r,e),void 0,null),Ht===null)throw Error(he(349));Os&30||Mx(t,e,r)}return r}function Mx(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function _x(n,e,t,i){e.value=t,e.getSnapshot=i,Lx(e)&&qx(n)}function Dx(n,e,t){return t(function(){Lx(e)&&qx(n)})}function Lx(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!_i(n,t)}catch(i){return!0}}function qx(n){var e=Er(n,1);e!==null&&$i(e,n,1,-1)}function jb(n){var e=ji();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:n},e.queue=n,n=n.dispatch=Wk.bind(null,bt,n),[e.memoizedState,n]}function Cl(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Bx(){return di().memoizedState}function mu(n,e,t,i){var r=ji();bt.flags|=n,r.memoizedState=Cl(1|e,t,void 0,i===void 0?null:i)}function Md(n,e,t,i){var r=di();i=i===void 0?null:i;var s=void 0;if(Bt!==null){var o=Bt.memoizedState;if(s=o.destroy,i!==null&&gg(i,o.deps)){r.memoizedState=Cl(e,t,s,i);return}}bt.flags|=n,r.memoizedState=Cl(1|e,t,s,i)}function zb(n,e){return mu(8390656,8,n,e)}function vg(n,e){return Md(2048,8,n,e)}function Fx(n,e){return Md(4,2,n,e)}function Ux(n,e){return Md(4,4,n,e)}function jx(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function zx(n,e,t){return t=t!=null?t.concat([n]):null,Md(4,4,jx.bind(null,e,n),t)}function wg(){}function Vx(n,e){var t=di();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&gg(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Hx(n,e){var t=di();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&gg(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function Wx(n,e,t){return Os&21?(_i(t,e)||(t=KE(),bt.lanes|=t,Is|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,An=!0),n.memoizedState=t)}function Vk(n,e){var t=tt;tt=t!==0&&4>t?t:4,n(!0);var i=yp.transition;yp.transition={};try{n(!1),e()}finally{tt=t,yp.transition=i}}function Qx(){return di().memoizedState}function Hk(n,e,t){var i=Xr(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Gx(n))Kx(e,t);else if(t=Sx(n,e,t,i),t!==null){var r=vn();$i(t,n,i,r),Yx(t,e,i)}}function Wk(n,e,t){var i=Xr(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Gx(n))Kx(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,_i(a,o)){var l=e.interleaved;l===null?(r.next=r,dg(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch(c){}finally{}t=Sx(n,e,r,i),t!==null&&(r=vn(),$i(t,n,i,r),Yx(t,e,i))}}function Gx(n){var e=n.alternate;return n===bt||e!==null&&e===bt}function Kx(n,e){el=Yu=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Yx(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,Jm(n,t)}}var Ju={readContext:ui,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},Qk={readContext:ui,useCallback:function(n,e){return ji().memoizedState=[n,e===void 0?null:e],n},useContext:ui,useEffect:zb,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,mu(4194308,4,jx.bind(null,e,n),t)},useLayoutEffect:function(n,e){return mu(4194308,4,n,e)},useInsertionEffect:function(n,e){return mu(4,2,n,e)},useMemo:function(n,e){var t=ji();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=ji();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=Hk.bind(null,bt,n),[i.memoizedState,n]},useRef:function(n){var e=ji();return n={current:n},e.memoizedState=n},useState:jb,useDebugValue:wg,useDeferredValue:function(n){return ji().memoizedState=n},useTransition:function(){var n=jb(!1),e=n[0];return n=Vk.bind(null,n[1]),ji().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=bt,r=ji();if(gt){if(t===void 0)throw Error(he(407));t=t()}else{if(t=e(),Ht===null)throw Error(he(349));Os&30||Mx(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,zb(Dx.bind(null,i,s,n),[n]),i.flags|=2048,Cl(9,_x.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=ji(),e=Ht.identifierPrefix;if(gt){var t=hr,i=dr;t=(i&~(1<<32-Ri(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=xl++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=zk++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},Gk={readContext:ui,useCallback:Vx,useContext:ui,useEffect:vg,useImperativeHandle:zx,useInsertionEffect:Fx,useLayoutEffect:Ux,useMemo:Hx,useReducer:bp,useRef:Bx,useState:function(){return bp(Tl)},useDebugValue:wg,useDeferredValue:function(n){var e=di();return Wx(e,Bt.memoizedState,n)},useTransition:function(){var n=bp(Tl)[0],e=di().memoizedState;return[n,e]},useMutableSource:Ox,useSyncExternalStore:Ix,useId:Qx,unstable_isNewReconciler:!1},Kk={readContext:ui,useCallback:Vx,useContext:ui,useEffect:vg,useImperativeHandle:zx,useInsertionEffect:Fx,useLayoutEffect:Ux,useMemo:Hx,useReducer:vp,useRef:Bx,useState:function(){return vp(Tl)},useDebugValue:wg,useDeferredValue:function(n){var e=di();return Bt===null?e.memoizedState=n:Wx(e,Bt.memoizedState,n)},useTransition:function(){var n=vp(Tl)[0],e=di().memoizedState;return[n,e]},useMutableSource:Ox,useSyncExternalStore:Ix,useId:Qx,unstable_isNewReconciler:!1};function Fo(n,e){try{var t="",i=e;do t+=TA(i),i=i.return;while(i);var r=t}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:n,source:e,stack:r,digest:null}}function wp(n,e,t){return{value:n,source:null,stack:t!=null?t:null,digest:e!=null?e:null}}function Hf(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var Yk=typeof WeakMap=="function"?WeakMap:Map;function Jx(n,e,t){t=mr(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Zu||(Zu=!0,tm=i),Hf(n,e)},t}function Xx(n,e,t){t=mr(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Hf(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Hf(n,e),typeof i!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function Vb(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new Yk;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=uR.bind(null,n,e,t),e.then(n,n))}function Hb(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function Wb(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=mr(-1,1),e.tag=2,Yr(t,e,1))),t.lanes|=1),n)}var Jk=Sr.ReactCurrentOwner,An=!1;function yn(n,e,t,i){e.child=n===null?$x(e,null,t,i):qo(e,n.child,t,i)}function Qb(n,e,t,i,r){t=t.render;var s=e.ref;return No(e,r),i=yg(n,e,t,i,s,r),t=bg(),n!==null&&!An?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,xr(n,e,r)):(gt&&t&&sg(e),e.flags|=1,yn(n,e,i,r),e.child)}function Gb(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!kg(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Zx(n,e,s,i,r)):(n=vu(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:gl,t(o,i)&&n.ref===e.ref)return xr(n,e,r)}return e.flags|=1,n=Zr(s,i),n.ref=e.ref,n.return=e,e.child=n}function Zx(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(gl(s,i)&&n.ref===e.ref)if(An=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(An=!0);else return e.lanes=n.lanes,xr(n,e,r)}return Wf(n,e,t,i,r)}function eT(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},st(Eo,Dn),Dn|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,st(Eo,Dn),Dn|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,st(Eo,Dn),Dn|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,st(Eo,Dn),Dn|=i;return yn(n,e,r,t),e.child}function tT(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Wf(n,e,t,i,r){var s=$n(t)?$s:hn.current;return s=Do(e,s),No(e,r),t=yg(n,e,t,i,s,r),i=bg(),n!==null&&!An?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,xr(n,e,r)):(gt&&i&&sg(e),e.flags|=1,yn(n,e,t,r),e.child)}function Kb(n,e,t,i,r){if($n(t)){var s=!0;zu(e)}else s=!1;if(No(e,r),e.stateNode===null)gu(n,e),kx(e,t,i),Vf(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=ui(c):(c=$n(t)?$s:hn.current,c=Do(e,c));var u=t.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&Fb(e,o,i,c),qr=!1;var h=e.memoizedState;o.state=h,Gu(e,i,o,r),l=e.memoizedState,a!==i||h!==l||Rn.current||qr?(typeof u=="function"&&(zf(e,t,u,i),l=e.memoizedState),(a=qr||Bb(e,t,a,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,Nx(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:bi(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=ui(l):(l=$n(t)?$s:hn.current,l=Do(e,l));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Fb(e,o,i,l),qr=!1,h=e.memoizedState,o.state=h,Gu(e,i,o,r);var y=e.memoizedState;a!==d||h!==y||Rn.current||qr?(typeof p=="function"&&(zf(e,t,p,i),y=e.memoizedState),(c=qr||Bb(e,t,c,i,h,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return Qf(n,e,t,i,s,r)}function Qf(n,e,t,i,r,s){tT(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&Mb(e,t,!1),xr(n,e,s);i=e.stateNode,Jk.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=qo(e,n.child,null,s),e.child=qo(e,null,a,s)):yn(n,e,a,s),e.memoizedState=i.state,r&&Mb(e,t,!0),e.child}function nT(n){var e=n.stateNode;e.pendingContext?Ib(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Ib(n,e.context,!1),pg(n,e.containerInfo)}function Yb(n,e,t,i,r){return Lo(),ag(r),e.flags|=256,yn(n,e,t,i),e.child}var Gf={dehydrated:null,treeContext:null,retryLane:0};function Kf(n){return{baseLanes:n,cachePool:null,transitions:null}}function iT(n,e,t){var i=e.pendingProps,r=yt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),st(yt,r&1),n===null)return Uf(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ld(o,i,0,null),n=As(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Kf(t),e.memoizedState=Gf,n):Eg(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return Xk(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Zr(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Zr(a,s):(s=As(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Kf(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Gf,i}return s=n.child,n=s.sibling,i=Zr(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function Eg(n,e){return e=Ld({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function _c(n,e,t,i){return i!==null&&ag(i),qo(e,n.child,null,t),n=Eg(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function Xk(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=wp(Error(he(422))),_c(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Ld({mode:"visible",children:i.children},r,0,null),s=As(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&qo(e,n.child,null,o),e.child.memoizedState=Kf(o),e.memoizedState=Gf,s);if(!(e.mode&1))return _c(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(he(419)),i=wp(s,i,void 0),_c(n,e,o,i)}if(a=(o&n.childLanes)!==0,An||a){if(i=Ht,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Er(n,r),$i(i,n,r,-1))}return Ag(),i=wp(Error(he(421))),_c(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=dR.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,Fn=Kr(r.nextSibling),Un=e,gt=!0,xi=null,n!==null&&(ti[ni++]=dr,ti[ni++]=hr,ti[ni++]=Ps,dr=n.id,hr=n.overflow,Ps=e),e=Eg(e,i.children),e.flags|=4096,e)}function Jb(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),jf(n.return,e,t)}function Ep(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function rT(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(yn(n,e,i.children,t),i=yt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Jb(n,t,e);else if(n.tag===19)Jb(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(st(yt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Ku(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Ep(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Ku(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Ep(e,!0,t,null,s);break;case"together":Ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gu(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function xr(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Is|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(he(153));if(e.child!==null){for(n=e.child,t=Zr(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Zr(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function Zk(n,e,t){switch(e.tag){case 3:nT(e),Lo();break;case 5:Px(e);break;case 1:$n(e.type)&&zu(e);break;case 4:pg(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;st(Wu,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(st(yt,yt.current&1),e.flags|=128,null):t&e.child.childLanes?iT(n,e,t):(st(yt,yt.current&1),n=xr(n,e,t),n!==null?n.sibling:null);st(yt,yt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return rT(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),st(yt,yt.current),i)break;return null;case 22:case 23:return e.lanes=0,eT(n,e,t)}return xr(n,e,t)}var sT,Yf,oT,aT;sT=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Yf=function(){};oT=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,Es(Yi.current);var s=null;switch(t){case"input":r=bf(n,r),i=bf(n,i),s=[];break;case"select":r=vt({},r,{value:void 0}),i=vt({},i,{value:void 0}),s=[];break;case"textarea":r=Ef(n,r),i=Ef(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Uu)}Tf(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(cl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(cl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&at("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};aT=function(n,e,t,i){t!==i&&(e.flags|=4)};function Pa(n,e){if(!gt)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function sn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function eR(n,e,t){var i=e.pendingProps;switch(og(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return $n(e.type)&&ju(),sn(e),null;case 3:return i=e.stateNode,Bo(),ut(Rn),ut(hn),mg(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Ic(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xi!==null&&(rm(xi),xi=null))),Yf(n,e),sn(e),null;case 5:fg(e);var r=Es(El.current);if(t=e.type,n!==null&&e.stateNode!=null)oT(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(he(166));return sn(e),null}if(n=Es(Yi.current),Ic(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[zi]=e,i[vl]=s,n=(e.mode&1)!==0,t){case"dialog":at("cancel",i),at("close",i);break;case"iframe":case"object":case"embed":at("load",i);break;case"video":case"audio":for(r=0;r<Va.length;r++)at(Va[r],i);break;case"source":at("error",i);break;case"img":case"image":case"link":at("error",i),at("load",i);break;case"details":at("toggle",i);break;case"input":ob(i,s),at("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},at("invalid",i);break;case"textarea":lb(i,s),at("invalid",i)}Tf(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Oc(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Oc(i.textContent,a,n),r=["children",""+a]):cl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&at("scroll",i)}switch(t){case"input":Cc(i),ab(i,s,!0);break;case"textarea":Cc(i),cb(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Uu)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ME(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[zi]=e,n[vl]=i,sT(n,e,!1,!1),e.stateNode=n;e:{switch(o=Cf(t,i),t){case"dialog":at("cancel",n),at("close",n),r=i;break;case"iframe":case"object":case"embed":at("load",n),r=i;break;case"video":case"audio":for(r=0;r<Va.length;r++)at(Va[r],n);r=i;break;case"source":at("error",n),r=i;break;case"img":case"image":case"link":at("error",n),at("load",n),r=i;break;case"details":at("toggle",n),r=i;break;case"input":ob(n,i),r=bf(n,i),at("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=vt({},i,{value:void 0}),at("invalid",n);break;case"textarea":lb(n,i),r=Ef(n,i),at("invalid",n);break;default:r=i}Tf(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?LE(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_E(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&ul(n,l):typeof l=="number"&&ul(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(cl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&at("scroll",n):l!=null&&Hm(n,s,l,o))}switch(t){case"input":Cc(n),ab(n,i,!1);break;case"textarea":Cc(n),cb(n);break;case"option":i.value!=null&&n.setAttribute("value",""+ts(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?xo(n,!!i.multiple,s,!1):i.defaultValue!=null&&xo(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Uu)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(n&&e.stateNode!=null)aT(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(he(166));if(t=Es(El.current),Es(Yi.current),Ic(e)){if(i=e.stateNode,t=e.memoizedProps,i[zi]=e,(s=i.nodeValue!==t)&&(n=Un,n!==null))switch(n.tag){case 3:Oc(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Oc(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[zi]=e,e.stateNode=i}return sn(e),null;case 13:if(ut(yt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(gt&&Fn!==null&&e.mode&1&&!(e.flags&128))Cx(),Lo(),e.flags|=98560,s=!1;else if(s=Ic(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(he(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(he(317));s[zi]=e}else Lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),s=!1}else xi!==null&&(rm(xi),xi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||yt.current&1?Ft===0&&(Ft=3):Ag())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Bo(),Yf(n,e),n===null&&yl(e.stateNode.containerInfo),sn(e),null;case 10:return ug(e.type._context),sn(e),null;case 17:return $n(e.type)&&ju(),sn(e),null;case 19:if(ut(yt),s=e.memoizedState,s===null)return sn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Pa(s,!1);else{if(Ft!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Ku(n),o!==null){for(e.flags|=128,Pa(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return st(yt,yt.current&1|2),e.child}n=n.sibling}s.tail!==null&&kt()>Uo&&(e.flags|=128,i=!0,Pa(s,!1),e.lanes=4194304)}else{if(!i)if(n=Ku(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Pa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!gt)return sn(e),null}else 2*kt()-s.renderingStartTime>Uo&&t!==1073741824&&(e.flags|=128,i=!0,Pa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kt(),e.sibling=null,t=yt.current,st(yt,i?t&1|2:t&1),e):(sn(e),null);case 22:case 23:return Ng(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Dn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(he(156,e.tag))}function tR(n,e){switch(og(e),e.tag){case 1:return $n(e.type)&&ju(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Bo(),ut(Rn),ut(hn),mg(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return fg(e),null;case 13:if(ut(yt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(he(340));Lo()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return ut(yt),null;case 4:return Bo(),null;case 10:return ug(e.type._context),null;case 22:case 23:return Ng(),null;case 24:return null;default:return null}}var Dc=!1,on=!1,nR=typeof WeakSet=="function"?WeakSet:Set,we=null;function wo(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){Ct(n,e,i)}else t.current=null}function Jf(n,e,t){try{t()}catch(i){Ct(n,e,i)}}var Xb=!1;function iR(n,e){if(Mf=qu,n=dx(),rg(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch(P){t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=n,h=null;t:for(;;){for(var p;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===n)break t;if(h===t&&++c===r&&(a=o),h===s&&++u===i&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(_f={focusedElem:n,selectionRange:t},qu=!1,we=e;we!==null;)if(e=we,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,we=n;else for(;we!==null;){e=we;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,S=y.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?v:bi(e.type,v),S);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(he(163))}}catch(P){Ct(e,e.return,P)}if(n=e.sibling,n!==null){n.return=e.return,we=n;break}we=e.return}return y=Xb,Xb=!1,y}function tl(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Jf(e,t,s)}r=r.next}while(r!==i)}}function _d(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Xf(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function lT(n){var e=n.alternate;e!==null&&(n.alternate=null,lT(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[zi],delete e[vl],delete e[qf],delete e[Bk],delete e[Fk])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function cT(n){return n.tag===5||n.tag===3||n.tag===4}function Zb(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||cT(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Zf(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Uu));else if(i!==4&&(n=n.child,n!==null))for(Zf(n,e,t),n=n.sibling;n!==null;)Zf(n,e,t),n=n.sibling}function em(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(em(n,e,t),n=n.sibling;n!==null;)em(n,e,t),n=n.sibling}var Jt=null,vi=!1;function Or(n,e,t){for(t=t.child;t!==null;)uT(n,e,t),t=t.sibling}function uT(n,e,t){if(Ki&&typeof Ki.onCommitFiberUnmount=="function")try{Ki.onCommitFiberUnmount(Ad,t)}catch(a){}switch(t.tag){case 5:on||wo(t,e);case 6:var i=Jt,r=vi;Jt=null,Or(n,e,t),Jt=i,vi=r,Jt!==null&&(vi?(n=Jt,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Jt.removeChild(t.stateNode));break;case 18:Jt!==null&&(vi?(n=Jt,t=t.stateNode,n.nodeType===8?fp(n.parentNode,t):n.nodeType===1&&fp(n,t),fl(n)):fp(Jt,t.stateNode));break;case 4:i=Jt,r=vi,Jt=t.stateNode.containerInfo,vi=!0,Or(n,e,t),Jt=i,vi=r;break;case 0:case 11:case 14:case 15:if(!on&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Jf(t,e,o),r=r.next}while(r!==i)}Or(n,e,t);break;case 1:if(!on&&(wo(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){Ct(t,e,a)}Or(n,e,t);break;case 21:Or(n,e,t);break;case 22:t.mode&1?(on=(i=on)||t.memoizedState!==null,Or(n,e,t),on=i):Or(n,e,t);break;default:Or(n,e,t)}}function e0(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new nR),e.forEach(function(i){var r=hR.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function fi(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Jt=a.stateNode,vi=!1;break e;case 3:Jt=a.stateNode.containerInfo,vi=!0;break e;case 4:Jt=a.stateNode.containerInfo,vi=!0;break e}a=a.return}if(Jt===null)throw Error(he(160));uT(s,o,r),Jt=null,vi=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){Ct(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dT(e,n),e=e.sibling}function dT(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(fi(e,n),Ui(n),i&4){try{tl(3,n,n.return),_d(3,n)}catch(v){Ct(n,n.return,v)}try{tl(5,n,n.return)}catch(v){Ct(n,n.return,v)}}break;case 1:fi(e,n),Ui(n),i&512&&t!==null&&wo(t,t.return);break;case 5:if(fi(e,n),Ui(n),i&512&&t!==null&&wo(t,t.return),n.flags&32){var r=n.stateNode;try{ul(r,"")}catch(v){Ct(n,n.return,v)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&OE(r,s),Cf(a,o);var c=Cf(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?LE(r,d):u==="dangerouslySetInnerHTML"?_E(r,d):u==="children"?ul(r,d):Hm(r,u,d,c)}switch(a){case"input":vf(r,s);break;case"textarea":IE(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?xo(r,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?xo(r,!!s.multiple,s.defaultValue,!0):xo(r,!!s.multiple,s.multiple?[]:"",!1))}r[vl]=s}catch(v){Ct(n,n.return,v)}}break;case 6:if(fi(e,n),Ui(n),i&4){if(n.stateNode===null)throw Error(he(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(v){Ct(n,n.return,v)}}break;case 3:if(fi(e,n),Ui(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{fl(e.containerInfo)}catch(v){Ct(n,n.return,v)}break;case 4:fi(e,n),Ui(n);break;case 13:fi(e,n),Ui(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Cg=kt())),i&4&&e0(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(on=(c=on)||u,fi(e,n),on=c):fi(e,n),Ui(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(we=n,u=n.child;u!==null;){for(d=we=u;we!==null;){switch(h=we,p=h.child,h.tag){case 0:case 11:case 14:case 15:tl(4,h,h.return);break;case 1:wo(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){i=h,t=h.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){Ct(i,t,v)}}break;case 5:wo(h,h.return);break;case 22:if(h.memoizedState!==null){n0(d);continue}}p!==null?(p.return=h,we=p):n0(d)}u=u.sibling}e:for(u=null,d=n;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DE("display",o))}catch(v){Ct(n,n.return,v)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(v){Ct(n,n.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fi(e,n),Ui(n),i&4&&e0(n);break;case 21:break;default:fi(e,n),Ui(n)}}function Ui(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(cT(t)){var i=t;break e}t=t.return}throw Error(he(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(ul(r,""),i.flags&=-33);var s=Zb(n);em(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=Zb(n);Zf(n,a,o);break;default:throw Error(he(161))}}catch(l){Ct(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function rR(n,e,t){we=n,hT(n)}function hT(n,e,t){for(var i=(n.mode&1)!==0;we!==null;){var r=we,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Dc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||on;a=Dc;var c=on;if(Dc=o,(on=l)&&!c)for(we=r;we!==null;)o=we,l=o.child,o.tag===22&&o.memoizedState!==null?i0(r):l!==null?(l.return=o,we=l):i0(r);for(;s!==null;)we=s,hT(s),s=s.sibling;we=r,Dc=a,on=c}t0(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,we=s):t0(n)}}function t0(n){for(;we!==null;){var e=we;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||_d(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!on)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:bi(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qb(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}qb(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&fl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(he(163))}on||e.flags&512&&Xf(e)}catch(h){Ct(e,e.return,h)}}if(e===n){we=null;break}if(t=e.sibling,t!==null){t.return=e.return,we=t;break}we=e.return}}function n0(n){for(;we!==null;){var e=we;if(e===n){we=null;break}var t=e.sibling;if(t!==null){t.return=e.return,we=t;break}we=e.return}}function i0(n){for(;we!==null;){var e=we;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{_d(4,e)}catch(l){Ct(e,t,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Ct(e,r,l)}}var s=e.return;try{Xf(e)}catch(l){Ct(e,s,l)}break;case 5:var o=e.return;try{Xf(e)}catch(l){Ct(e,o,l)}}}catch(l){Ct(e,e.return,l)}if(e===n){we=null;break}var a=e.sibling;if(a!==null){a.return=e.return,we=a;break}we=e.return}}var sR=Math.ceil,Xu=Sr.ReactCurrentDispatcher,xg=Sr.ReactCurrentOwner,ai=Sr.ReactCurrentBatchConfig,Qe=0,Ht=null,Mt=null,Xt=0,Dn=0,Eo=as(0),Ft=0,Sl=null,Is=0,Dd=0,Tg=0,nl=null,Sn=null,Cg=0,Uo=1/0,ar=null,Zu=!1,tm=null,Jr=null,Lc=!1,Hr=null,ed=0,il=0,nm=null,yu=-1,bu=0;function vn(){return Qe&6?kt():yu!==-1?yu:yu=kt()}function Xr(n){return n.mode&1?Qe&2&&Xt!==0?Xt&-Xt:jk.transition!==null?(bu===0&&(bu=KE()),bu):(n=tt,n!==0||(n=window.event,n=n===void 0?16:nx(n.type)),n):1}function $i(n,e,t,i){if(50<il)throw il=0,nm=null,Error(he(185));Ll(n,t,i),(!(Qe&2)||n!==Ht)&&(n===Ht&&(!(Qe&2)&&(Dd|=t),Ft===4&&Ur(n,Xt)),Pn(n,i),t===1&&Qe===0&&!(e.mode&1)&&(Uo=kt()+500,Od&&ls()))}function Pn(n,e){var t=n.callbackNode;jA(n,e);var i=Lu(n,n===Ht?Xt:0);if(i===0)t!==null&&hb(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&hb(t),e===1)n.tag===0?Uk(r0.bind(null,n)):Ex(r0.bind(null,n)),Lk(function(){!(Qe&6)&&ls()}),t=null;else{switch(YE(i)){case 1:t=Ym;break;case 4:t=QE;break;case 16:t=Du;break;case 536870912:t=GE;break;default:t=Du}t=wT(t,pT.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function pT(n,e){if(yu=-1,bu=0,Qe&6)throw Error(he(327));var t=n.callbackNode;if(Ao()&&n.callbackNode!==t)return null;var i=Lu(n,n===Ht?Xt:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=td(n,i);else{e=i;var r=Qe;Qe|=2;var s=mT();(Ht!==n||Xt!==e)&&(ar=null,Uo=kt()+500,Ns(n,e));do try{lR();break}catch(a){fT(n,a)}while(1);cg(),Xu.current=s,Qe=r,Mt!==null?e=0:(Ht=null,Xt=0,e=Ft)}if(e!==0){if(e===2&&(r=Rf(n),r!==0&&(i=r,e=im(n,r))),e===1)throw t=Sl,Ns(n,0),Ur(n,i),Pn(n,kt()),t;if(e===6)Ur(n,i);else{if(r=n.current.alternate,!(i&30)&&!oR(r)&&(e=td(n,i),e===2&&(s=Rf(n),s!==0&&(i=s,e=im(n,s))),e===1))throw t=Sl,Ns(n,0),Ur(n,i),Pn(n,kt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(he(345));case 2:bs(n,Sn,ar);break;case 3:if(Ur(n,i),(i&130023424)===i&&(e=Cg+500-kt(),10<e)){if(Lu(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){vn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=Lf(bs.bind(null,n,Sn,ar),e);break}bs(n,Sn,ar);break;case 4:if(Ur(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-Ri(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=kt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*sR(i/1960))-i,10<i){n.timeoutHandle=Lf(bs.bind(null,n,Sn,ar),i);break}bs(n,Sn,ar);break;case 5:bs(n,Sn,ar);break;default:throw Error(he(329))}}}return Pn(n,kt()),n.callbackNode===t?pT.bind(null,n):null}function im(n,e){var t=nl;return n.current.memoizedState.isDehydrated&&(Ns(n,e).flags|=256),n=td(n,e),n!==2&&(e=Sn,Sn=t,e!==null&&rm(e)),n}function rm(n){Sn===null?Sn=n:Sn.push.apply(Sn,n)}function oR(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!_i(s(),r))return!1}catch(o){return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ur(n,e){for(e&=~Tg,e&=~Dd,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Ri(e),i=1<<t;n[t]=-1,e&=~i}}function r0(n){if(Qe&6)throw Error(he(327));Ao();var e=Lu(n,0);if(!(e&1))return Pn(n,kt()),null;var t=td(n,e);if(n.tag!==0&&t===2){var i=Rf(n);i!==0&&(e=i,t=im(n,i))}if(t===1)throw t=Sl,Ns(n,0),Ur(n,e),Pn(n,kt()),t;if(t===6)throw Error(he(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,bs(n,Sn,ar),Pn(n,kt()),null}function Sg(n,e){var t=Qe;Qe|=1;try{return n(e)}finally{Qe=t,Qe===0&&(Uo=kt()+500,Od&&ls())}}function Ms(n){Hr!==null&&Hr.tag===0&&!(Qe&6)&&Ao();var e=Qe;Qe|=1;var t=ai.transition,i=tt;try{if(ai.transition=null,tt=1,n)return n()}finally{tt=i,ai.transition=t,Qe=e,!(Qe&6)&&ls()}}function Ng(){Dn=Eo.current,ut(Eo)}function Ns(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Dk(t)),Mt!==null)for(t=Mt.return;t!==null;){var i=t;switch(og(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&ju();break;case 3:Bo(),ut(Rn),ut(hn),mg();break;case 5:fg(i);break;case 4:Bo();break;case 13:ut(yt);break;case 19:ut(yt);break;case 10:ug(i.type._context);break;case 22:case 23:Ng()}t=t.return}if(Ht=n,Mt=n=Zr(n.current,null),Xt=Dn=e,Ft=0,Sl=null,Tg=Dd=Is=0,Sn=nl=null,ws!==null){for(e=0;e<ws.length;e++)if(t=ws[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}ws=null}return n}function fT(n,e){do{var t=Mt;try{if(cg(),fu.current=Ju,Yu){for(var i=bt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Yu=!1}if(Os=0,Vt=Bt=bt=null,el=!1,xl=0,xg.current=null,t===null||t.return===null){Ft=1,Sl=e,Mt=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Xt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Hb(o);if(p!==null){p.flags&=-257,Wb(p,o,a,s,e),p.mode&1&&Vb(s,c,e),e=p,l=c;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){Vb(s,c,e),Ag();break e}l=Error(he(426))}}else if(gt&&a.mode&1){var S=Hb(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Wb(S,o,a,s,e),ag(Fo(l,a));break e}}s=l=Fo(l,a),Ft!==4&&(Ft=2),nl===null?nl=[s]:nl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=Jx(s,l,e);Lb(s,E);break e;case 1:a=l;var w=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Jr===null||!Jr.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var P=Xx(s,a,e);Lb(s,P);break e}}s=s.return}while(s!==null)}yT(t)}catch(q){e=q,Mt===t&&t!==null&&(Mt=t=t.return);continue}break}while(1)}function mT(){var n=Xu.current;return Xu.current=Ju,n===null?Ju:n}function Ag(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Ht===null||!(Is&268435455)&&!(Dd&268435455)||Ur(Ht,Xt)}function td(n,e){var t=Qe;Qe|=2;var i=mT();(Ht!==n||Xt!==e)&&(ar=null,Ns(n,e));do try{aR();break}catch(r){fT(n,r)}while(1);if(cg(),Qe=t,Xu.current=i,Mt!==null)throw Error(he(261));return Ht=null,Xt=0,Ft}function aR(){for(;Mt!==null;)gT(Mt)}function lR(){for(;Mt!==null&&!IA();)gT(Mt)}function gT(n){var e=vT(n.alternate,n,Dn);n.memoizedProps=n.pendingProps,e===null?yT(n):Mt=e,xg.current=null}function yT(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=tR(t,e),t!==null){t.flags&=32767,Mt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ft=6,Mt=null;return}}else if(t=eR(t,e,Dn),t!==null){Mt=t;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=n}while(e!==null);Ft===0&&(Ft=5)}function bs(n,e,t){var i=tt,r=ai.transition;try{ai.transition=null,tt=1,cR(n,e,t,i)}finally{ai.transition=r,tt=i}return null}function cR(n,e,t,i){do Ao();while(Hr!==null);if(Qe&6)throw Error(he(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(he(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(zA(n,s),n===Ht&&(Mt=Ht=null,Xt=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Lc||(Lc=!0,wT(Du,function(){return Ao(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ai.transition,ai.transition=null;var o=tt;tt=1;var a=Qe;Qe|=4,xg.current=null,iR(n,t),dT(t,n),Rk(_f),qu=!!Mf,_f=Mf=null,n.current=t,rR(t),MA(),Qe=a,tt=o,ai.transition=s}else n.current=t;if(Lc&&(Lc=!1,Hr=n,ed=r),s=n.pendingLanes,s===0&&(Jr=null),LA(t.stateNode),Pn(n,kt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Zu)throw Zu=!1,n=tm,tm=null,n;return ed&1&&n.tag!==0&&Ao(),s=n.pendingLanes,s&1?n===nm?il++:(il=0,nm=n):il=0,ls(),null}function Ao(){if(Hr!==null){var n=YE(ed),e=ai.transition,t=tt;try{if(ai.transition=null,tt=16>n?16:n,Hr===null)var i=!1;else{if(n=Hr,Hr=null,ed=0,Qe&6)throw Error(he(331));var r=Qe;for(Qe|=4,we=n.current;we!==null;){var s=we,o=s.child;if(we.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(we=c;we!==null;){var u=we;switch(u.tag){case 0:case 11:case 15:tl(8,u,s)}var d=u.child;if(d!==null)d.return=u,we=d;else for(;we!==null;){u=we;var h=u.sibling,p=u.return;if(lT(u),u===c){we=null;break}if(h!==null){h.return=p,we=h;break}we=p}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}we=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,we=o;else e:for(;we!==null;){if(s=we,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,we=E;break e}we=s.return}}var w=n.current;for(we=w;we!==null;){o=we;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,we=C;else e:for(o=w;we!==null;){if(a=we,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_d(9,a)}}catch(q){Ct(a,a.return,q)}if(a===o){we=null;break e}var P=a.sibling;if(P!==null){P.return=a.return,we=P;break e}we=a.return}}if(Qe=r,ls(),Ki&&typeof Ki.onPostCommitFiberRoot=="function")try{Ki.onPostCommitFiberRoot(Ad,n)}catch(q){}i=!0}return i}finally{tt=t,ai.transition=e}}return!1}function s0(n,e,t){e=Fo(t,e),e=Jx(n,e,1),n=Yr(n,e,1),e=vn(),n!==null&&(Ll(n,1,e),Pn(n,e))}function Ct(n,e,t){if(n.tag===3)s0(n,n,t);else for(;e!==null;){if(e.tag===3){s0(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Jr===null||!Jr.has(i))){n=Fo(t,n),n=Xx(e,n,1),e=Yr(e,n,1),n=vn(),e!==null&&(Ll(e,1,n),Pn(e,n));break}}e=e.return}}function uR(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=vn(),n.pingedLanes|=n.suspendedLanes&t,Ht===n&&(Xt&t)===t&&(Ft===4||Ft===3&&(Xt&130023424)===Xt&&500>kt()-Cg?Ns(n,0):Tg|=t),Pn(n,e)}function bT(n,e){e===0&&(n.mode&1?(e=Ac,Ac<<=1,!(Ac&130023424)&&(Ac=4194304)):e=1);var t=vn();n=Er(n,e),n!==null&&(Ll(n,e,t),Pn(n,t))}function dR(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),bT(n,t)}function hR(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(he(314))}i!==null&&i.delete(e),bT(n,t)}var vT;vT=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Rn.current)An=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return An=!1,Zk(n,e,t);An=!!(n.flags&131072)}else An=!1,gt&&e.flags&1048576&&xx(e,Hu,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;gu(n,e),n=e.pendingProps;var r=Do(e,hn.current);No(e,t),r=yg(null,e,i,n,r,t);var s=bg();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$n(i)?(s=!0,zu(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,hg(e),r.updater=Id,e.stateNode=r,r._reactInternals=e,Vf(e,i,n,t),e=Qf(null,e,i,!0,s,t)):(e.tag=0,gt&&s&&sg(e),yn(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(gu(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=fR(i),n=bi(i,n),r){case 0:e=Wf(null,e,i,n,t);break e;case 1:e=Kb(null,e,i,n,t);break e;case 11:e=Qb(null,e,i,n,t);break e;case 14:e=Gb(null,e,i,bi(i.type,n),t);break e}throw Error(he(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:bi(i,r),Wf(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:bi(i,r),Kb(n,e,i,r,t);case 3:e:{if(nT(e),n===null)throw Error(he(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Nx(n,e),Gu(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Fo(Error(he(423)),e),e=Yb(n,e,i,t,r);break e}else if(i!==r){r=Fo(Error(he(424)),e),e=Yb(n,e,i,t,r);break e}else for(Fn=Kr(e.stateNode.containerInfo.firstChild),Un=e,gt=!0,xi=null,t=$x(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Lo(),i===r){e=xr(n,e,t);break e}yn(n,e,i,t)}e=e.child}return e;case 5:return Px(e),n===null&&Uf(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,Df(i,r)?o=null:s!==null&&Df(i,s)&&(e.flags|=32),tT(n,e),yn(n,e,o,t),e.child;case 6:return n===null&&Uf(e),null;case 13:return iT(n,e,t);case 4:return pg(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=qo(e,null,i,t):yn(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:bi(i,r),Qb(n,e,i,r,t);case 7:return yn(n,e,e.pendingProps,t),e.child;case 8:return yn(n,e,e.pendingProps.children,t),e.child;case 12:return yn(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,st(Wu,i._currentValue),i._currentValue=o,s!==null)if(_i(s.value,o)){if(s.children===r.children&&!Rn.current){e=xr(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=mr(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),jf(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(he(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),jf(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yn(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,No(e,t),r=ui(r),i=i(r),e.flags|=1,yn(n,e,i,t),e.child;case 14:return i=e.type,r=bi(i,e.pendingProps),r=bi(i.type,r),Gb(n,e,i,r,t);case 15:return Zx(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:bi(i,r),gu(n,e),e.tag=1,$n(i)?(n=!0,zu(e)):n=!1,No(e,t),kx(e,i,r),Vf(e,i,r,t),Qf(null,e,i,!0,n,t);case 19:return rT(n,e,t);case 22:return eT(n,e,t)}throw Error(he(156,e.tag))};function wT(n,e){return WE(n,e)}function pR(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(n,e,t,i){return new pR(n,e,t,i)}function kg(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fR(n){if(typeof n=="function")return kg(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Qm)return 11;if(n===Gm)return 14}return 2}function Zr(n,e){var t=n.alternate;return t===null?(t=si(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function vu(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")kg(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case uo:return As(t.children,r,s,e);case Wm:o=8,r|=8;break;case ff:return n=si(12,t,e,r|2),n.elementType=ff,n.lanes=s,n;case mf:return n=si(13,t,e,r),n.elementType=mf,n.lanes=s,n;case gf:return n=si(19,t,e,r),n.elementType=gf,n.lanes=s,n;case RE:return Ld(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case AE:o=10;break e;case kE:o=9;break e;case Qm:o=11;break e;case Gm:o=14;break e;case Lr:o=16,i=null;break e}throw Error(he(130,n==null?n:typeof n,""))}return e=si(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function As(n,e,t,i){return n=si(7,n,i,e),n.lanes=t,n}function Ld(n,e,t,i){return n=si(22,n,i,e),n.elementType=RE,n.lanes=t,n.stateNode={isHidden:!1},n}function xp(n,e,t){return n=si(6,n,null,e),n.lanes=t,n}function Tp(n,e,t){return e=si(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function mR(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ip(0),this.expirationTimes=ip(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ip(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Rg(n,e,t,i,r,s,o,a,l){return n=new mR(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=si(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},hg(s),n}function gR(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:co,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function ET(n){if(!n)return ns;n=n._reactInternals;e:{if(js(n)!==n||n.tag!==1)throw Error(he(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(he(171))}if(n.tag===1){var t=n.type;if($n(t))return wx(n,t,e)}return e}function xT(n,e,t,i,r,s,o,a,l){return n=Rg(t,i,!0,n,r,s,o,a,l),n.context=ET(null),t=n.current,i=vn(),r=Xr(t),s=mr(i,r),s.callback=e!=null?e:null,Yr(t,s,r),n.current.lanes=r,Ll(n,r,i),Pn(n,i),n}function qd(n,e,t,i){var r=e.current,s=vn(),o=Xr(r);return t=ET(t),e.context===null?e.context=t:e.pendingContext=t,e=mr(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Yr(r,e,o),n!==null&&($i(n,r,o,s),pu(n,r,o)),o}function nd(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function o0(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function $g(n,e){o0(n,e),(n=n.alternate)&&o0(n,e)}function yR(){return null}var TT=typeof reportError=="function"?reportError:function(n){console.error(n)};function Pg(n){this._internalRoot=n}Bd.prototype.render=Pg.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(he(409));qd(n,e,null,null)};Bd.prototype.unmount=Pg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Ms(function(){qd(null,n,null,null)}),e[wr]=null}};function Bd(n){this._internalRoot=n}Bd.prototype.unstable_scheduleHydration=function(n){if(n){var e=ZE();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Fr.length&&e!==0&&e<Fr[t].priority;t++);Fr.splice(t,0,n),t===0&&tx(n)}};function Og(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Fd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function a0(){}function bR(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=nd(o);s.call(c)}}var o=xT(e,i,n,0,null,!1,!1,"",a0);return n._reactRootContainer=o,n[wr]=o.current,yl(n.nodeType===8?n.parentNode:n),Ms(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=nd(l);a.call(c)}}var l=Rg(n,0,!1,null,null,!1,!1,"",a0);return n._reactRootContainer=l,n[wr]=l.current,yl(n.nodeType===8?n.parentNode:n),Ms(function(){qd(e,l,t,i)}),l}function Ud(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=nd(o);a.call(l)}}qd(e,o,n,r)}else o=bR(t,e,n,r,i);return nd(o)}JE=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=za(e.pendingLanes);t!==0&&(Jm(e,t|1),Pn(e,kt()),!(Qe&6)&&(Uo=kt()+500,ls()))}break;case 13:Ms(function(){var i=Er(n,1);if(i!==null){var r=vn();$i(i,n,1,r)}}),$g(n,1)}};Xm=function(n){if(n.tag===13){var e=Er(n,134217728);if(e!==null){var t=vn();$i(e,n,134217728,t)}$g(n,134217728)}};XE=function(n){if(n.tag===13){var e=Xr(n),t=Er(n,e);if(t!==null){var i=vn();$i(t,n,e,i)}$g(n,e)}};ZE=function(){return tt};ex=function(n,e){var t=tt;try{return tt=n,e()}finally{tt=t}};Nf=function(n,e,t){switch(e){case"input":if(vf(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=Pd(i);if(!r)throw Error(he(90));PE(i),vf(i,r)}}}break;case"textarea":IE(n,t);break;case"select":e=t.value,e!=null&&xo(n,!!t.multiple,e,!1)}};FE=Sg;UE=Ms;var vR={usingClientEntryPoint:!1,Events:[Bl,mo,Pd,qE,BE,Sg]},Oa={findFiberByHostInstance:vs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wR={bundleType:Oa.bundleType,version:Oa.version,rendererPackageName:Oa.rendererPackageName,rendererConfig:Oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sr.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=VE(n),n===null?null:n.stateNode},findFiberByHostInstance:Oa.findFiberByHostInstance||yR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Ad=qc.inject(wR),Ki=qc}catch(n){}}Vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vR;Vn.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Og(e))throw Error(he(200));return gR(n,e,null,t)};Vn.createRoot=function(n,e){if(!Og(n))throw Error(he(299));var t=!1,i="",r=TT;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=Rg(n,1,!1,null,null,t,!1,i,r),n[wr]=e.current,yl(n.nodeType===8?n.parentNode:n),new Pg(e)};Vn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(he(188)):(n=Object.keys(n).join(","),Error(he(268,n)));return n=VE(e),n=n===null?null:n.stateNode,n};Vn.flushSync=function(n){return Ms(n)};Vn.hydrate=function(n,e,t){if(!Fd(e))throw Error(he(200));return Ud(null,n,e,!0,t)};Vn.hydrateRoot=function(n,e,t){if(!Og(n))throw Error(he(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=TT;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=xT(e,null,n,1,t!=null?t:null,r,!1,s,o),n[wr]=e.current,yl(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new Bd(e)};Vn.render=function(n,e,t){if(!Fd(e))throw Error(he(200));return Ud(null,n,e,!1,t)};Vn.unmountComponentAtNode=function(n){if(!Fd(n))throw Error(he(40));return n._reactRootContainer?(Ms(function(){Ud(null,null,n,!1,function(){n._reactRootContainer=null,n[wr]=null})}),!0):!1};Vn.unstable_batchedUpdates=Sg;Vn.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!Fd(t))throw Error(he(200));if(n==null||n._reactInternals===void 0)throw Error(he(38));return Ud(n,e,t,!1,i)};Vn.version="18.2.0-next-9e3b772b8-20220608";function CT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CT)}catch(n){console.error(n)}}CT(),xE.exports=Vn;var Ig=xE.exports;const ER=ss(Ig);var ST,l0=Ig;ST=l0.createRoot,l0.hydrateRoot;function sm(n,e){return sm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},sm(n,e)}function is(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,sm(n,e)}var NT={exports:{}},xR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TR=xR,CR=TR;function AT(){}function kT(){}kT.resetWarningCache=AT;var SR=function(){function n(i,r,s,o,a,l){if(l!==CR){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kT,resetWarningCache:AT};return t.PropTypes=t,t};NT.exports=SR();var NR=NT.exports;const c0=ss(NR);function On(){return On=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},On.apply(this,arguments)}function Bc(n){return n.charAt(0)==="/"}function Cp(n,e){for(var t=e,i=t+1,r=n.length;i<r;t+=1,i+=1)n[t]=n[i];n.pop()}function AR(n,e){e===void 0&&(e="");var t=n&&n.split("/")||[],i=e&&e.split("/")||[],r=n&&Bc(n),s=e&&Bc(e),o=r||s;if(n&&Bc(n)?i=t:t.length&&(i.pop(),i=i.concat(t)),!i.length)return"/";var a;if(i.length){var l=i[i.length-1];a=l==="."||l===".."||l===""}else a=!1;for(var c=0,u=i.length;u>=0;u--){var d=i[u];d==="."?Cp(i,u):d===".."?(Cp(i,u),c++):c&&(Cp(i,u),c--)}if(!o)for(;c--;c)i.unshift("..");o&&i[0]!==""&&(!i[0]||!Bc(i[0]))&&i.unshift("");var h=i.join("/");return a&&h.substr(-1)!=="/"&&(h+="/"),h}function u0(n){return n.valueOf?n.valueOf():Object.prototype.valueOf.call(n)}function wu(n,e){if(n===e)return!0;if(n==null||e==null)return!1;if(Array.isArray(n))return Array.isArray(e)&&n.length===e.length&&n.every(function(r,s){return wu(r,e[s])});if(typeof n=="object"||typeof e=="object"){var t=u0(n),i=u0(e);return t!==n||i!==e?wu(t,i):Object.keys(Object.assign({},n,e)).every(function(r){return wu(n[r],e[r])})}return!1}var kR=!0,Sp="Invariant failed";function zs(n,e){if(!n){if(kR)throw new Error(Sp);var t=typeof e=="function"?e():e,i=t?"".concat(Sp,": ").concat(t):Sp;throw new Error(i)}}function rl(n){return n.charAt(0)==="/"?n:"/"+n}function d0(n){return n.charAt(0)==="/"?n.substr(1):n}function RR(n,e){return n.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(n.charAt(e.length))!==-1}function RT(n,e){return RR(n,e)?n.substr(e.length):n}function $T(n){return n.charAt(n.length-1)==="/"?n.slice(0,-1):n}function $R(n){var e=n||"/",t="",i="",r=e.indexOf("#");r!==-1&&(i=e.substr(r),e=e.substr(0,r));var s=e.indexOf("?");return s!==-1&&(t=e.substr(s),e=e.substr(0,s)),{pathname:e,search:t==="?"?"":t,hash:i==="#"?"":i}}function Zn(n){var e=n.pathname,t=n.search,i=n.hash,r=e||"/";return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function kn(n,e,t,i){var r;typeof n=="string"?(r=$R(n),r.state=e):(r=On({},n),r.pathname===void 0&&(r.pathname=""),r.search?r.search.charAt(0)!=="?"&&(r.search="?"+r.search):r.search="",r.hash?r.hash.charAt(0)!=="#"&&(r.hash="#"+r.hash):r.hash="",e!==void 0&&r.state===void 0&&(r.state=e));try{r.pathname=decodeURI(r.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return t&&(r.key=t),i?r.pathname?r.pathname.charAt(0)!=="/"&&(r.pathname=AR(r.pathname,i.pathname)):r.pathname=i.pathname:r.pathname||(r.pathname="/"),r}function PR(n,e){return n.pathname===e.pathname&&n.search===e.search&&n.hash===e.hash&&n.key===e.key&&wu(n.state,e.state)}function Mg(){var n=null;function e(o){return n=o,function(){n===o&&(n=null)}}function t(o,a,l,c){if(n!=null){var u=typeof n=="function"?n(o,a):n;typeof u=="string"?typeof l=="function"?l(u,c):c(!0):c(u!==!1)}else c(!0)}var i=[];function r(o){var a=!0;function l(){a&&o.apply(void 0,arguments)}return i.push(l),function(){a=!1,i=i.filter(function(c){return c!==l})}}function s(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];i.forEach(function(c){return c.apply(void 0,a)})}return{setPrompt:e,confirmTransitionTo:t,appendListener:r,notifyListeners:s}}var PT=!!(typeof window<"u"&&window.document&&window.document.createElement);function OT(n,e){e(window.confirm(n))}function OR(){var n=window.navigator.userAgent;return(n.indexOf("Android 2.")!==-1||n.indexOf("Android 4.0")!==-1)&&n.indexOf("Mobile Safari")!==-1&&n.indexOf("Chrome")===-1&&n.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function IR(){return window.navigator.userAgent.indexOf("Trident")===-1}function MR(){return window.navigator.userAgent.indexOf("Firefox")===-1}function _R(n){return n.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var h0="popstate",p0="hashchange";function f0(){try{return window.history.state||{}}catch(n){return{}}}function DR(n){n===void 0&&(n={}),PT||zs(!1);var e=window.history,t=OR(),i=!IR(),r=n,s=r.forceRefresh,o=s===void 0?!1:s,a=r.getUserConfirmation,l=a===void 0?OT:a,c=r.keyLength,u=c===void 0?6:c,d=n.basename?$T(rl(n.basename)):"";function h(ie){var B=ie||{},K=B.key,ae=B.state,Te=window.location,Ee=Te.pathname,Ce=Te.search,ke=Te.hash,Ie=Ee+Ce+ke;return d&&(Ie=RT(Ie,d)),kn(Ie,ae,K)}function p(){return Math.random().toString(36).substr(2,u)}var y=Mg();function v(ie){On(Z,ie),Z.length=e.length,y.notifyListeners(Z.location,Z.action)}function S(ie){_R(ie)||C(h(ie.state))}function E(){C(h(f0()))}var w=!1;function C(ie){if(w)w=!1,v();else{var B="POP";y.confirmTransitionTo(ie,B,l,function(K){K?v({action:B,location:ie}):P(ie)})}}function P(ie){var B=Z.location,K=H.indexOf(B.key);K===-1&&(K=0);var ae=H.indexOf(ie.key);ae===-1&&(ae=0);var Te=K-ae;Te&&(w=!0,Q(Te))}var q=h(f0()),H=[q.key];function L(ie){return d+Zn(ie)}function M(ie,B){var K="PUSH",ae=kn(ie,B,p(),Z.location);y.confirmTransitionTo(ae,K,l,function(Te){if(Te){var Ee=L(ae),Ce=ae.key,ke=ae.state;if(t)if(e.pushState({key:Ce,state:ke},null,Ee),o)window.location.href=Ee;else{var Ie=H.indexOf(Z.location.key),ht=H.slice(0,Ie+1);ht.push(ae.key),H=ht,v({action:K,location:ae})}else window.location.href=Ee}})}function O(ie,B){var K="REPLACE",ae=kn(ie,B,p(),Z.location);y.confirmTransitionTo(ae,K,l,function(Te){if(Te){var Ee=L(ae),Ce=ae.key,ke=ae.state;if(t)if(e.replaceState({key:Ce,state:ke},null,Ee),o)window.location.replace(Ee);else{var Ie=H.indexOf(Z.location.key);Ie!==-1&&(H[Ie]=ae.key),v({action:K,location:ae})}else window.location.replace(Ee)}})}function Q(ie){e.go(ie)}function k(){Q(-1)}function J(){Q(1)}var j=0;function ne(ie){j+=ie,j===1&&ie===1?(window.addEventListener(h0,S),i&&window.addEventListener(p0,E)):j===0&&(window.removeEventListener(h0,S),i&&window.removeEventListener(p0,E))}var ue=!1;function fe(ie){ie===void 0&&(ie=!1);var B=y.setPrompt(ie);return ue||(ne(1),ue=!0),function(){return ue&&(ue=!1,ne(-1)),B()}}function de(ie){var B=y.appendListener(ie);return ne(1),function(){ne(-1),B()}}var Z={length:e.length,action:"POP",location:q,createHref:L,push:M,replace:O,go:Q,goBack:k,goForward:J,block:fe,listen:de};return Z}var m0="hashchange",LR={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+d0(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:d0,decodePath:rl},slash:{encodePath:rl,decodePath:rl}};function IT(n){var e=n.indexOf("#");return e===-1?n:n.slice(0,e)}function Ia(){var n=window.location.href,e=n.indexOf("#");return e===-1?"":n.substring(e+1)}function qR(n){window.location.hash=n}function Np(n){window.location.replace(IT(window.location.href)+"#"+n)}function BR(n){n===void 0&&(n={}),PT||zs(!1);var e=window.history;MR();var t=n,i=t.getUserConfirmation,r=i===void 0?OT:i,s=t.hashType,o=s===void 0?"slash":s,a=n.basename?$T(rl(n.basename)):"",l=LR[o],c=l.encodePath,u=l.decodePath;function d(){var B=u(Ia());return a&&(B=RT(B,a)),kn(B)}var h=Mg();function p(B){On(ie,B),ie.length=e.length,h.notifyListeners(ie.location,ie.action)}var y=!1,v=null;function S(B,K){return B.pathname===K.pathname&&B.search===K.search&&B.hash===K.hash}function E(){var B=Ia(),K=c(B);if(B!==K)Np(K);else{var ae=d(),Te=ie.location;if(!y&&S(Te,ae)||v===Zn(ae))return;v=null,w(ae)}}function w(B){if(y)y=!1,p();else{var K="POP";h.confirmTransitionTo(B,K,r,function(ae){ae?p({action:K,location:B}):C(B)})}}function C(B){var K=ie.location,ae=L.lastIndexOf(Zn(K));ae===-1&&(ae=0);var Te=L.lastIndexOf(Zn(B));Te===-1&&(Te=0);var Ee=ae-Te;Ee&&(y=!0,k(Ee))}var P=Ia(),q=c(P);P!==q&&Np(q);var H=d(),L=[Zn(H)];function M(B){var K=document.querySelector("base"),ae="";return K&&K.getAttribute("href")&&(ae=IT(window.location.href)),ae+"#"+c(a+Zn(B))}function O(B,K){var ae="PUSH",Te=kn(B,void 0,void 0,ie.location);h.confirmTransitionTo(Te,ae,r,function(Ee){if(Ee){var Ce=Zn(Te),ke=c(a+Ce),Ie=Ia()!==ke;if(Ie){v=Ce,qR(ke);var ht=L.lastIndexOf(Zn(ie.location)),wt=L.slice(0,ht+1);wt.push(Ce),L=wt,p({action:ae,location:Te})}else p()}})}function Q(B,K){var ae="REPLACE",Te=kn(B,void 0,void 0,ie.location);h.confirmTransitionTo(Te,ae,r,function(Ee){if(Ee){var Ce=Zn(Te),ke=c(a+Ce),Ie=Ia()!==ke;Ie&&(v=Ce,Np(ke));var ht=L.indexOf(Zn(ie.location));ht!==-1&&(L[ht]=Ce),p({action:ae,location:Te})}})}function k(B){e.go(B)}function J(){k(-1)}function j(){k(1)}var ne=0;function ue(B){ne+=B,ne===1&&B===1?window.addEventListener(m0,E):ne===0&&window.removeEventListener(m0,E)}var fe=!1;function de(B){B===void 0&&(B=!1);var K=h.setPrompt(B);return fe||(ue(1),fe=!0),function(){return fe&&(fe=!1,ue(-1)),K()}}function Z(B){var K=h.appendListener(B);return ue(1),function(){ue(-1),K()}}var ie={length:e.length,action:"POP",location:H,createHref:M,push:O,replace:Q,go:k,goBack:J,goForward:j,block:de,listen:Z};return ie}function g0(n,e,t){return Math.min(Math.max(n,e),t)}function FR(n){n===void 0&&(n={});var e=n,t=e.getUserConfirmation,i=e.initialEntries,r=i===void 0?["/"]:i,s=e.initialIndex,o=s===void 0?0:s,a=e.keyLength,l=a===void 0?6:a,c=Mg();function u(M){On(L,M),L.length=L.entries.length,c.notifyListeners(L.location,L.action)}function d(){return Math.random().toString(36).substr(2,l)}var h=g0(o,0,r.length-1),p=r.map(function(M){return typeof M=="string"?kn(M,void 0,d()):kn(M,void 0,M.key||d())}),y=Zn;function v(M,O){var Q="PUSH",k=kn(M,O,d(),L.location);c.confirmTransitionTo(k,Q,t,function(J){if(J){var j=L.index,ne=j+1,ue=L.entries.slice(0);ue.length>ne?ue.splice(ne,ue.length-ne,k):ue.push(k),u({action:Q,location:k,index:ne,entries:ue})}})}function S(M,O){var Q="REPLACE",k=kn(M,O,d(),L.location);c.confirmTransitionTo(k,Q,t,function(J){J&&(L.entries[L.index]=k,u({action:Q,location:k}))})}function E(M){var O=g0(L.index+M,0,L.entries.length-1),Q="POP",k=L.entries[O];c.confirmTransitionTo(k,Q,t,function(J){J?u({action:Q,location:k,index:O}):u()})}function w(){E(-1)}function C(){E(1)}function P(M){var O=L.index+M;return O>=0&&O<L.entries.length}function q(M){return M===void 0&&(M=!1),c.setPrompt(M)}function H(M){return c.appendListener(M)}var L={length:p.length,action:"POP",location:p[h],index:h,entries:p,createHref:y,push:v,replace:S,go:E,goBack:w,goForward:C,canGo:P,block:q,listen:H};return L}var Zo={exports:{}},UR=Array.isArray||function(n){return Object.prototype.toString.call(n)=="[object Array]"},id=UR;Zo.exports=DT;Zo.exports.parse=_g;Zo.exports.compile=zR;Zo.exports.tokensToFunction=MT;Zo.exports.tokensToRegExp=_T;var jR=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function _g(n,e){for(var t=[],i=0,r=0,s="",o=e&&e.delimiter||"/",a;(a=jR.exec(n))!=null;){var l=a[0],c=a[1],u=a.index;if(s+=n.slice(r,u),r=u+l.length,c){s+=c[1];continue}var d=n[r],h=a[2],p=a[3],y=a[4],v=a[5],S=a[6],E=a[7];s&&(t.push(s),s="");var w=h!=null&&d!=null&&d!==h,C=S==="+"||S==="*",P=S==="?"||S==="*",q=a[2]||o,H=y||v;t.push({name:p||i++,prefix:h||"",delimiter:q,optional:P,repeat:C,partial:w,asterisk:!!E,pattern:H?WR(H):E?".*":"[^"+Eu(q)+"]+?"})}return r<n.length&&(s+=n.substr(r)),s&&t.push(s),t}function zR(n,e){return MT(_g(n,e),e)}function VR(n){return encodeURI(n).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function HR(n){return encodeURI(n).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function MT(n,e){for(var t=new Array(n.length),i=0;i<n.length;i++)typeof n[i]=="object"&&(t[i]=new RegExp("^(?:"+n[i].pattern+")$",Lg(e)));return function(r,s){for(var o="",a=r||{},l=s||{},c=l.pretty?VR:encodeURIComponent,u=0;u<n.length;u++){var d=n[u];if(typeof d=="string"){o+=d;continue}var h=a[d.name],p;if(h==null)if(d.optional){d.partial&&(o+=d.prefix);continue}else throw new TypeError('Expected "'+d.name+'" to be defined');if(id(h)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(h.length===0){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var y=0;y<h.length;y++){if(p=c(h[y]),!t[u].test(p))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(p)+"`");o+=(y===0?d.prefix:d.delimiter)+p}continue}if(p=d.asterisk?HR(h):c(h),!t[u].test(p))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+p+'"');o+=d.prefix+p}return o}}function Eu(n){return n.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function WR(n){return n.replace(/([=!:$\/()])/g,"\\$1")}function Dg(n,e){return n.keys=e,n}function Lg(n){return n&&n.sensitive?"":"i"}function QR(n,e){var t=n.source.match(/\((?!\?)/g);if(t)for(var i=0;i<t.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Dg(n,e)}function GR(n,e,t){for(var i=[],r=0;r<n.length;r++)i.push(DT(n[r],e,t).source);var s=new RegExp("(?:"+i.join("|")+")",Lg(t));return Dg(s,e)}function KR(n,e,t){return _T(_g(n,t),e,t)}function _T(n,e,t){id(e)||(t=e||t,e=[]),t=t||{};for(var i=t.strict,r=t.end!==!1,s="",o=0;o<n.length;o++){var a=n[o];if(typeof a=="string")s+=Eu(a);else{var l=Eu(a.prefix),c="(?:"+a.pattern+")";e.push(a),a.repeat&&(c+="(?:"+l+c+")*"),a.optional?a.partial?c=l+"("+c+")?":c="(?:"+l+"("+c+"))?":c=l+"("+c+")",s+=c}}var u=Eu(t.delimiter||"/"),d=s.slice(-u.length)===u;return i||(s=(d?s.slice(0,-u.length):s)+"(?:"+u+"(?=$))?"),r?s+="$":s+=i&&d?"":"(?="+u+"|$)",Dg(new RegExp("^"+s,Lg(t)),e)}function DT(n,e,t){return id(e)||(t=e||t,e=[]),t=t||{},n instanceof RegExp?QR(n,e):id(n)?GR(n,e,t):KR(n,e,t)}var YR=Zo.exports;const LT=ss(YR);var it={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gt=typeof Symbol=="function"&&Symbol.for,qg=Gt?Symbol.for("react.element"):60103,Bg=Gt?Symbol.for("react.portal"):60106,jd=Gt?Symbol.for("react.fragment"):60107,zd=Gt?Symbol.for("react.strict_mode"):60108,Vd=Gt?Symbol.for("react.profiler"):60114,Hd=Gt?Symbol.for("react.provider"):60109,Wd=Gt?Symbol.for("react.context"):60110,Fg=Gt?Symbol.for("react.async_mode"):60111,Qd=Gt?Symbol.for("react.concurrent_mode"):60111,Gd=Gt?Symbol.for("react.forward_ref"):60112,Kd=Gt?Symbol.for("react.suspense"):60113,JR=Gt?Symbol.for("react.suspense_list"):60120,Yd=Gt?Symbol.for("react.memo"):60115,Jd=Gt?Symbol.for("react.lazy"):60116,XR=Gt?Symbol.for("react.block"):60121,ZR=Gt?Symbol.for("react.fundamental"):60117,e$=Gt?Symbol.for("react.responder"):60118,t$=Gt?Symbol.for("react.scope"):60119;function Wn(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case qg:switch(n=n.type,n){case Fg:case Qd:case jd:case Vd:case zd:case Kd:return n;default:switch(n=n&&n.$$typeof,n){case Wd:case Gd:case Jd:case Yd:case Hd:return n;default:return e}}case Bg:return e}}}function qT(n){return Wn(n)===Qd}it.AsyncMode=Fg;it.ConcurrentMode=Qd;it.ContextConsumer=Wd;it.ContextProvider=Hd;it.Element=qg;it.ForwardRef=Gd;it.Fragment=jd;it.Lazy=Jd;it.Memo=Yd;it.Portal=Bg;it.Profiler=Vd;it.StrictMode=zd;it.Suspense=Kd;it.isAsyncMode=function(n){return qT(n)||Wn(n)===Fg};it.isConcurrentMode=qT;it.isContextConsumer=function(n){return Wn(n)===Wd};it.isContextProvider=function(n){return Wn(n)===Hd};it.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===qg};it.isForwardRef=function(n){return Wn(n)===Gd};it.isFragment=function(n){return Wn(n)===jd};it.isLazy=function(n){return Wn(n)===Jd};it.isMemo=function(n){return Wn(n)===Yd};it.isPortal=function(n){return Wn(n)===Bg};it.isProfiler=function(n){return Wn(n)===Vd};it.isStrictMode=function(n){return Wn(n)===zd};it.isSuspense=function(n){return Wn(n)===Kd};it.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===jd||n===Qd||n===Vd||n===zd||n===Kd||n===JR||typeof n=="object"&&n!==null&&(n.$$typeof===Jd||n.$$typeof===Yd||n.$$typeof===Hd||n.$$typeof===Wd||n.$$typeof===Gd||n.$$typeof===ZR||n.$$typeof===e$||n.$$typeof===t$||n.$$typeof===XR)};it.typeOf=Wn;function BT(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}var FT={exports:{}},nt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=typeof Symbol=="function"&&Symbol.for,Ug=Kt?Symbol.for("react.element"):60103,jg=Kt?Symbol.for("react.portal"):60106,Xd=Kt?Symbol.for("react.fragment"):60107,Zd=Kt?Symbol.for("react.strict_mode"):60108,eh=Kt?Symbol.for("react.profiler"):60114,th=Kt?Symbol.for("react.provider"):60109,nh=Kt?Symbol.for("react.context"):60110,zg=Kt?Symbol.for("react.async_mode"):60111,ih=Kt?Symbol.for("react.concurrent_mode"):60111,rh=Kt?Symbol.for("react.forward_ref"):60112,sh=Kt?Symbol.for("react.suspense"):60113,n$=Kt?Symbol.for("react.suspense_list"):60120,oh=Kt?Symbol.for("react.memo"):60115,ah=Kt?Symbol.for("react.lazy"):60116,i$=Kt?Symbol.for("react.block"):60121,r$=Kt?Symbol.for("react.fundamental"):60117,s$=Kt?Symbol.for("react.responder"):60118,o$=Kt?Symbol.for("react.scope"):60119;function Qn(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case Ug:switch(n=n.type,n){case zg:case ih:case Xd:case eh:case Zd:case sh:return n;default:switch(n=n&&n.$$typeof,n){case nh:case rh:case ah:case oh:case th:return n;default:return e}}case jg:return e}}}function UT(n){return Qn(n)===ih}nt.AsyncMode=zg;nt.ConcurrentMode=ih;nt.ContextConsumer=nh;nt.ContextProvider=th;nt.Element=Ug;nt.ForwardRef=rh;nt.Fragment=Xd;nt.Lazy=ah;nt.Memo=oh;nt.Portal=jg;nt.Profiler=eh;nt.StrictMode=Zd;nt.Suspense=sh;nt.isAsyncMode=function(n){return UT(n)||Qn(n)===zg};nt.isConcurrentMode=UT;nt.isContextConsumer=function(n){return Qn(n)===nh};nt.isContextProvider=function(n){return Qn(n)===th};nt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===Ug};nt.isForwardRef=function(n){return Qn(n)===rh};nt.isFragment=function(n){return Qn(n)===Xd};nt.isLazy=function(n){return Qn(n)===ah};nt.isMemo=function(n){return Qn(n)===oh};nt.isPortal=function(n){return Qn(n)===jg};nt.isProfiler=function(n){return Qn(n)===eh};nt.isStrictMode=function(n){return Qn(n)===Zd};nt.isSuspense=function(n){return Qn(n)===sh};nt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===Xd||n===ih||n===eh||n===Zd||n===sh||n===n$||typeof n=="object"&&n!==null&&(n.$$typeof===ah||n.$$typeof===oh||n.$$typeof===th||n.$$typeof===nh||n.$$typeof===rh||n.$$typeof===r$||n.$$typeof===s$||n.$$typeof===o$||n.$$typeof===i$)};nt.typeOf=Qn;FT.exports=nt;var a$=FT.exports,Vg=a$,l$={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},c$={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},u$={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},jT={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Hg={};Hg[Vg.ForwardRef]=u$;Hg[Vg.Memo]=jT;function y0(n){return Vg.isMemo(n)?jT:Hg[n.$$typeof]||l$}var d$=Object.defineProperty,h$=Object.getOwnPropertyNames,b0=Object.getOwnPropertySymbols,p$=Object.getOwnPropertyDescriptor,f$=Object.getPrototypeOf,v0=Object.prototype;function zT(n,e,t){if(typeof e!="string"){if(v0){var i=f$(e);i&&i!==v0&&zT(n,i,t)}var r=h$(e);b0&&(r=r.concat(b0(e)));for(var s=y0(n),o=y0(e),a=0;a<r.length;++a){var l=r[a];if(!c$[l]&&!(t&&t[l])&&!(o&&o[l])&&!(s&&s[l])){var c=p$(e,l);try{d$(n,l,c)}catch(u){}}}}return n}var m$=zT;const g$=ss(m$);var Ap=1073741823,w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function y$(){var n="__global_unique_id__";return w0[n]=(w0[n]||0)+1}function b$(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function v$(n){var e=[];return{on:function(i){e.push(i)},off:function(i){e=e.filter(function(r){return r!==i})},get:function(){return n},set:function(i,r){n=i,e.forEach(function(s){return s(n,r)})}}}function w$(n){return Array.isArray(n)?n[0]:n}function E$(n,e){var t,i,r="__create-react-context-"+y$()+"__",s=function(a){is(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return u=a.call.apply(a,[this].concat(h))||this,u.emitter=v$(u.props.value),u}var c=l.prototype;return c.getChildContext=function(){var d;return d={},d[r]=this.emitter,d},c.componentWillReceiveProps=function(d){if(this.props.value!==d.value){var h=this.props.value,p=d.value,y;b$(h,p)?y=0:(y=typeof e=="function"?e(h,p):Ap,y|=0,y!==0&&this.emitter.set(d.value,y))}},c.render=function(){return this.props.children},l}(te.Component);s.childContextTypes=(t={},t[r]=c0.object.isRequired,t);var o=function(a){is(l,a);function l(){for(var u,d=arguments.length,h=new Array(d),p=0;p<d;p++)h[p]=arguments[p];return u=a.call.apply(a,[this].concat(h))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(y,v){var S=u.observedBits|0;S&v&&u.setState({value:u.getValue()})},u}var c=l.prototype;return c.componentWillReceiveProps=function(d){var h=d.observedBits;this.observedBits=h==null?Ap:h},c.componentDidMount=function(){this.context[r]&&this.context[r].on(this.onUpdate);var d=this.props.observedBits;this.observedBits=d==null?Ap:d},c.componentWillUnmount=function(){this.context[r]&&this.context[r].off(this.onUpdate)},c.getValue=function(){return this.context[r]?this.context[r].get():n},c.render=function(){return w$(this.props.children)(this.state.value)},l}(te.Component);return o.contextTypes=(i={},i[r]=c0.object,i),{Provider:s,Consumer:o}}var x$=te.createContext||E$,VT=function(e){var t=x$();return t.displayName=e,t},T$=VT("Router-History"),jo=VT("Router"),Ul=function(n){is(e,n),e.computeRootMatch=function(r){return{path:"/",url:"/",params:{},isExact:r==="/"}};function e(i){var r;return r=n.call(this,i)||this,r.state={location:i.history.location},r._isMounted=!1,r._pendingLocation=null,i.staticContext||(r.unlisten=i.history.listen(function(s){r._pendingLocation=s})),r}var t=e.prototype;return t.componentDidMount=function(){var r=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){r._isMounted&&r.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},t.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},t.render=function(){return te.createElement(jo.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},te.createElement(T$.Provider,{children:this.props.children||null,value:this.props.history}))},e}(te.Component);te.Component;var C$=function(n){is(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},t.componentDidUpdate=function(r){this.props.onUpdate&&this.props.onUpdate.call(this,this,r)},t.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},t.render=function(){return null},e}(te.Component),kp={},S$=1e4,E0=0;function N$(n){if(kp[n])return kp[n];var e=LT.compile(n);return E0<S$&&(kp[n]=e,E0++),e}function x0(n,e){return n===void 0&&(n="/"),e===void 0&&(e={}),n==="/"?n:N$(n)(e,{pretty:!0})}function A$(n){var e=n.computedMatch,t=n.to,i=n.push,r=i===void 0?!1:i;return te.createElement(jo.Consumer,null,function(s){s||zs(!1);var o=s.history,a=s.staticContext,l=r?o.push:o.replace,c=kn(e?typeof t=="string"?x0(t,e.params):On({},t,{pathname:x0(t.pathname,e.params)}):t);return a?(l(c),null):te.createElement(C$,{onMount:function(){l(c)},onUpdate:function(d,h){var p=kn(h.to);PR(p,On({},c,{key:p.key}))||l(c)},to:t})})}var T0={},k$=1e4,C0=0;function R$(n,e){var t=""+e.end+e.strict+e.sensitive,i=T0[t]||(T0[t]={});if(i[n])return i[n];var r=[],s=LT(n,r,e),o={regexp:s,keys:r};return C0<k$&&(i[n]=o,C0++),o}function _s(n,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var t=e,i=t.path,r=t.exact,s=r===void 0?!1:r,o=t.strict,a=o===void 0?!1:o,l=t.sensitive,c=l===void 0?!1:l,u=[].concat(i);return u.reduce(function(d,h){if(!h&&h!=="")return null;if(d)return d;var p=R$(h,{end:s,strict:a,sensitive:c}),y=p.regexp,v=p.keys,S=y.exec(n);if(!S)return null;var E=S[0],w=S.slice(1),C=n===E;return s&&!C?null:{path:h,url:h==="/"&&E===""?"/":E,isExact:C,params:v.reduce(function(P,q,H){return P[q.name]=w[H],P},{})}},null)}function $$(n){return te.Children.count(n)===0}var Ha=function(n){is(e,n);function e(){return n.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){var r=this;return te.createElement(jo.Consumer,null,function(s){s||zs(!1);var o=r.props.location||s.location,a=r.props.computedMatch?r.props.computedMatch:r.props.path?_s(o.pathname,r.props):s.match,l=On({},s,{location:o,match:a}),c=r.props,u=c.children,d=c.component,h=c.render;return Array.isArray(u)&&$$(u)&&(u=null),te.createElement(jo.Provider,{value:l},l.match?u?typeof u=="function"?u(l):u:d?te.createElement(d,l):h?h(l):null:typeof u=="function"?u(l):null)})},e}(te.Component);function Wg(n){return n.charAt(0)==="/"?n:"/"+n}function P$(n,e){return n?On({},e,{pathname:Wg(n)+e.pathname}):e}function O$(n,e){if(!n)return e;var t=Wg(n);return e.pathname.indexOf(t)!==0?e:On({},e,{pathname:e.pathname.substr(t.length)})}function S0(n){return typeof n=="string"?n:Zn(n)}function Rp(n){return function(){zs(!1)}}function N0(){}te.Component;te.Component;function I$(n){var e="withRouter("+(n.displayName||n.name)+")",t=function(r){var s=r.wrappedComponentRef,o=BT(r,["wrappedComponentRef"]);return te.createElement(jo.Consumer,null,function(a){return a||zs(!1),te.createElement(n,On({},o,a,{ref:s}))})};return t.displayName=e,t.WrappedComponent=n,g$(t,n)}te.useContext;const M$="modulepreload",_$=function(n){return"/"+n},A0={},an=function(e,t,i){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=_$(s),s in A0)return;A0[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!i)for(let u=r.length-1;u>=0;u--){const d=r[u];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector('link[href="'.concat(s,'"]').concat(a)))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":M$,o||(c.as="script",c.crossOrigin=""),c.href=s,document.head.appendChild(c),o)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error("Unable to preload CSS for ".concat(s))))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},no={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,patchPseudoShadowDom:!1};let io,HT,lh,WT=!1,rd=!1,Qg=!1,Ln=!1,k0=null,om=!1;const D$={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},L$=n=>{const e=new URL(n,Qt.$resourcesUrl$);return e.origin!==zl.location.origin?e.href:e.pathname},Ds=(n,e="")=>()=>{},R0="http://www.w3.org/1999/xlink",$0={},q$="http://www.w3.org/2000/svg",B$="http://www.w3.org/1999/xhtml",F$=n=>n!=null,Gg=n=>(n=typeof n,n==="object"||n==="function");function U$(n){var e,t,i;return(i=(t=(e=n.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||t===void 0?void 0:t.getAttribute("content"))!==null&&i!==void 0?i:void 0}const F=(n,e,...t)=>{let i=null,r=null,s=null,o=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((o=typeof n!="function"&&!Gg(i))&&(i=String(i)),o&&a?l[l.length-1].$text$+=i:l.push(o?sd(null,i):i),a=o)};if(c(t),e){e.key&&(r=e.key),e.name&&(s=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof n=="function")return n(e===null?{}:e,l,z$);const u=sd(n,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=s,u},sd=(n,e)=>{const t={$flags$:0,$tag$:n,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t.$key$=null,t.$name$=null,t},Ye={},j$=n=>n&&n.$tag$===Ye,z$={forEach:(n,e)=>n.map(P0).forEach(e),map:(n,e)=>n.map(P0).map(e).map(V$)},P0=n=>({vattrs:n.$attrs$,vchildren:n.$children$,vkey:n.$key$,vname:n.$name$,vtag:n.$tag$,vtext:n.$text$}),V$=n=>{if(typeof n.vtag=="function"){const t=Object.assign({},n.vattrs);return n.vkey&&(t.key=n.vkey),n.vname&&(t.name=n.vname),F(n.vtag,t,...n.vchildren||[])}const e=sd(n.vtag,n.vtext);return e.$attrs$=n.vattrs,e.$children$=n.vchildren,e.$key$=n.vkey,e.$name$=n.vname,e},H$=n=>i1.map(e=>e(n)).find(e=>!!e),W$=n=>i1.push(n),Q$=n=>ea(n).$modeName$,G$=(n,e)=>n!=null&&!Gg(n)?e&4?n==="false"?!1:n===""||!!n:e&2?parseFloat(n):e&1?String(n):n:n,K$=n=>n,Me=(n,e,t)=>{const i=K$(n);return{emit:r=>Y$(i,e,{bubbles:!!(t&4),composed:!!(t&2),cancelable:!!(t&1),detail:r})}},Y$=(n,e,t)=>{const i=Qt.ce(e,t);return n.dispatchEvent(i),i},O0=new WeakMap,J$=(n,e,t)=>{let i=ad.get(n);TP&&t?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,ad.set(n,i)},X$=(n,e,t)=>{var i;const r=QT(e,t),s=ad.get(r);if(n=n.nodeType===11?n:Pi,s)if(typeof s=="string"){n=n.head||n;let o=O0.get(n),a;if(o||O0.set(n,o=new Set),!o.has(r)){{a=Pi.createElement("style"),a.innerHTML=s;const l=(i=Qt.$nonce$)!==null&&i!==void 0?i:U$(Pi);l!=null&&a.setAttribute("nonce",l),n.insertBefore(a,n.querySelector("link"))}o&&o.add(r)}}else n.adoptedStyleSheets.includes(s)||(n.adoptedStyleSheets=[...n.adoptedStyleSheets,s]);return r},Z$=n=>{const e=n.$cmpMeta$,t=n.$hostElement$,i=e.$flags$,r=Ds("attachStyles",e.$tagName$),s=X$(t.shadowRoot?t.shadowRoot:t.getRootNode(),e,n.$modeName$);i&10&&(t["s-sc"]=s,t.classList.add(s+"-h"),i&2&&t.classList.add(s+"-s")),r()},QT=(n,e)=>"sc-"+(e&&n.$flags$&32?n.$tagName$+"-"+e:n.$tagName$),I0=(n,e,t,i,r,s)=>{if(t!==i){let o=q0(n,e),a=e.toLowerCase();if(e==="class"){const l=n.classList,c=M0(t),u=M0(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in t)(!i||i[l]==null)&&(l.includes("-")?n.style.removeProperty(l):n.style[l]="");for(const l in i)(!t||i[l]!==t[l])&&(l.includes("-")?n.style.setProperty(l,i[l]):n.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(n);else if(!n.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):q0(zl,a)?e=a.slice(2):e=a[2]+e.slice(3),t&&Qt.rel(n,e,t,!1),i&&Qt.ael(n,e,i,!1);else{const l=Gg(i);if((o||l&&i!==null)&&!r)try{if(n.tagName.includes("-"))n[e]=i;else{const u=i==null?"":i;e==="list"?o=!1:(t==null||n[e]!=u)&&(n[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||n.getAttribute(e)==="")&&(c?n.removeAttributeNS(R0,e):n.removeAttribute(e)):(!o||s&4||r)&&!l&&(i=i===!0?"":i,c?n.setAttributeNS(R0,e,i):n.setAttribute(e,i))}}},eP=/\s/,M0=n=>n?n.split(eP):[],GT=(n,e,t,i)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=n&&n.$attrs$||$0,o=e.$attrs$||$0;for(i in s)i in o||I0(r,i,s[i],void 0,t,e.$flags$);for(i in o)I0(r,i,s[i],o[i],t,e.$flags$)},od=(n,e,t,i)=>{const r=e.$children$[t];let s=0,o,a,l;if(WT||(Qg=!0,r.$tag$==="slot"&&(io&&i.classList.add(io+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)o=r.$elm$=Pi.createTextNode(r.$text$);else if(r.$flags$&1)o=r.$elm$=Pi.createTextNode("");else{if(Ln||(Ln=r.$tag$==="svg"),o=r.$elm$=Pi.createElementNS(Ln?q$:B$,r.$flags$&2?"slot-fb":r.$tag$),Ln&&r.$tag$==="foreignObject"&&(Ln=!1),GT(null,r,Ln),F$(io)&&o["s-si"]!==io&&o.classList.add(o["s-si"]=io),r.$children$)for(s=0;s<r.$children$.length;++s)a=od(n,r,s,o),a&&o.appendChild(a);r.$tag$==="svg"?Ln=!1:o.tagName==="foreignObject"&&(Ln=!0)}return o["s-hn"]=lh,r.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=HT,o["s-sn"]=r.$name$||"",l=n&&n.$children$&&n.$children$[t],l&&l.$tag$===r.$tag$&&n.$elm$&&Nl(n.$elm$,!1)),o},Nl=(n,e)=>{Qt.$flags$|=1;const t=n.childNodes;for(let i=t.length-1;i>=0;i--){const r=t[i];r["s-hn"]!==lh&&r["s-ol"]&&(JT(r).insertBefore(r,Kg(r)),r["s-ol"].remove(),r["s-ol"]=void 0,Qg=!0),e&&Nl(r,e)}Qt.$flags$&=-2},KT=(n,e,t,i,r,s)=>{let o=n["s-cr"]&&n["s-cr"].parentNode||n,a;for(o.shadowRoot&&o.tagName===lh&&(o=o.shadowRoot);r<=s;++r)i[r]&&(a=od(null,t,r,n),a&&(i[r].$elm$=a,o.insertBefore(a,Kg(e))))},YT=(n,e,t)=>{for(let i=e;i<=t;++i){const r=n[i];if(r){const s=r.$elm$;e1(r),s&&(rd=!0,s["s-ol"]?s["s-ol"].remove():Nl(s,!0),s.remove())}}},tP=(n,e,t,i)=>{let r=0,s=0,o=0,a=0,l=e.length-1,c=e[0],u=e[l],d=i.length-1,h=i[0],p=i[d],y,v;for(;r<=l&&s<=d;)if(c==null)c=e[++r];else if(u==null)u=e[--l];else if(h==null)h=i[++s];else if(p==null)p=i[--d];else if(Fc(c,h))ro(c,h),c=e[++r],h=i[++s];else if(Fc(u,p))ro(u,p),u=e[--l],p=i[--d];else if(Fc(c,p))(c.$tag$==="slot"||p.$tag$==="slot")&&Nl(c.$elm$.parentNode,!1),ro(c,p),n.insertBefore(c.$elm$,u.$elm$.nextSibling),c=e[++r],p=i[--d];else if(Fc(u,h))(c.$tag$==="slot"||p.$tag$==="slot")&&Nl(u.$elm$.parentNode,!1),ro(u,h),n.insertBefore(u.$elm$,c.$elm$),u=e[--l],h=i[++s];else{for(o=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===h.$key$){o=a;break}o>=0?(v=e[o],v.$tag$!==h.$tag$?y=od(e&&e[s],t,o,n):(ro(v,h),e[o]=void 0,y=v.$elm$),h=i[++s]):(y=od(e&&e[s],t,s,n),h=i[++s]),y&&JT(c.$elm$).insertBefore(y,Kg(c.$elm$))}r>l?KT(n,i[d+1]==null?null:i[d+1].$elm$,t,i,s,d):s>d&&YT(e,r,l)},Fc=(n,e)=>n.$tag$===e.$tag$?n.$tag$==="slot"?n.$name$===e.$name$:n.$key$===e.$key$:!1,Kg=n=>n&&n["s-ol"]||n,JT=n=>(n["s-ol"]?n["s-ol"]:n).parentNode,ro=(n,e)=>{const t=e.$elm$=n.$elm$,i=n.$children$,r=e.$children$,s=e.$tag$,o=e.$text$;let a;o===null?(Ln=s==="svg"?!0:s==="foreignObject"?!1:Ln,s==="slot"||GT(n,e,Ln),i!==null&&r!==null?tP(t,i,e,r):r!==null?(n.$text$!==null&&(t.textContent=""),KT(t,null,e,r,0,r.length-1)):i!==null&&YT(i,0,i.length-1),Ln&&s==="svg"&&(Ln=!1)):(a=t["s-cr"])?a.parentNode.textContent=o:n.$text$!==o&&(t.data=o)},XT=n=>{const e=n.childNodes;let t,i,r,s,o,a;for(i=0,r=e.length;i<r;i++)if(t=e[i],t.nodeType===1){if(t["s-sr"]){for(o=t["s-sn"],t.hidden=!1,s=0;s<r;s++)if(a=e[s].nodeType,e[s]["s-hn"]!==t["s-hn"]||o!==""){if(a===1&&o===e[s].getAttribute("slot")){t.hidden=!0;break}}else if(a===1||a===3&&e[s].textContent.trim()!==""){t.hidden=!0;break}}XT(t)}},Ti=[],ZT=n=>{let e,t,i,r,s,o,a=0;const l=n.childNodes,c=l.length;for(;a<c;a++){if(e=l[a],e["s-sr"]&&(t=e["s-cr"])&&t.parentNode)for(i=t.parentNode.childNodes,r=e["s-sn"],o=i.length-1;o>=0;o--)t=i[o],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==e["s-hn"]&&(_0(t,r)?(s=Ti.find(u=>u.$nodeToRelocate$===t),rd=!0,t["s-sn"]=t["s-sn"]||r,s?s.$slotRefNode$=e:Ti.push({$slotRefNode$:e,$nodeToRelocate$:t}),t["s-sr"]&&Ti.map(u=>{_0(u.$nodeToRelocate$,t["s-sn"])&&(s=Ti.find(d=>d.$nodeToRelocate$===t),s&&!u.$slotRefNode$&&(u.$slotRefNode$=s.$slotRefNode$))})):Ti.some(u=>u.$nodeToRelocate$===t)||Ti.push({$nodeToRelocate$:t}));e.nodeType===1&&ZT(e)}},_0=(n,e)=>n.nodeType===1?n.getAttribute("slot")===null&&e===""||n.getAttribute("slot")===e:n["s-sn"]===e?!0:e==="",e1=n=>{n.$attrs$&&n.$attrs$.ref&&n.$attrs$.ref(null),n.$children$&&n.$children$.map(e1)},nP=(n,e,t=!1)=>{const i=n.$hostElement$,r=n.$cmpMeta$,s=n.$vnode$||sd(null,null),o=j$(e)?e:F(null,null,e);if(lh=i.tagName,r.$attrsToReflect$&&(o.$attrs$=o.$attrs$||{},r.$attrsToReflect$.map(([a,l])=>o.$attrs$[l]=i[a])),t&&o.$attrs$)for(const a of Object.keys(o.$attrs$))i.hasAttribute(a)&&!["key","ref","style","class"].includes(a)&&(o.$attrs$[a]=i[a]);o.$tag$=null,o.$flags$|=4,n.$vnode$=o,o.$elm$=s.$elm$=i.shadowRoot||i,io=i["s-sc"],HT=i["s-cr"],WT=(r.$flags$&1)!==0,rd=!1,ro(s,o);{if(Qt.$flags$|=1,Qg){ZT(o.$elm$);let a,l,c,u,d,h,p=0;for(;p<Ti.length;p++)a=Ti[p],l=a.$nodeToRelocate$,l["s-ol"]||(c=Pi.createTextNode(""),c["s-nr"]=l,l.parentNode.insertBefore(l["s-ol"]=c,l));for(p=0;p<Ti.length;p++)if(a=Ti[p],l=a.$nodeToRelocate$,a.$slotRefNode$){for(u=a.$slotRefNode$.parentNode,d=a.$slotRefNode$.nextSibling,c=l["s-ol"];c=c.previousSibling;)if(h=c["s-nr"],h&&h["s-sn"]===l["s-sn"]&&u===h.parentNode&&(h=h.nextSibling,!h||!h["s-nr"])){d=h;break}(!d&&u!==l.parentNode||l.nextSibling!==d)&&l!==d&&(!l["s-hn"]&&l["s-ol"]&&(l["s-hn"]=l["s-ol"].parentNode.nodeName),u.insertBefore(l,d))}else l.nodeType===1&&(l.hidden=!0)}rd&&XT(o.$elm$),Qt.$flags$&=-2,Ti.length=0}},iP=(n,e)=>{},Yg=(n,e)=>(n.$flags$|=16,iP(n,n.$ancestorComponent$),Xi(()=>rP(n,e))),rP=(n,e)=>{const t=n.$hostElement$,i=Ds("scheduleUpdate",n.$cmpMeta$.$tagName$),r=t;let s;return e?s=ko(r,"componentWillLoad"):s=ko(r,"componentWillUpdate"),s=D0(s,()=>ko(r,"componentWillRender")),i(),D0(s,()=>oP(n,r,e))},D0=(n,e)=>sP(n)?n.then(e):e(),sP=n=>n instanceof Promise||n&&n.then&&typeof n.then=="function",oP=async(n,e,t)=>{const i=n.$hostElement$,r=Ds("update",n.$cmpMeta$.$tagName$);i["s-rc"],t&&Z$(n);const s=Ds("render",n.$cmpMeta$.$tagName$);aP(n,e,i,t),s(),r(),lP(n)},aP=(n,e,t,i)=>{try{k0=e,e=e.render&&e.render(),n.$flags$&=-17,n.$flags$|=2,(no.hasRenderFn||no.reflect)&&(no.vdomRender||no.reflect)&&(no.hydrateServerSide||nP(n,e,i))}catch(l){jl(l,n.$hostElement$)}return k0=null,null},lP=n=>{const e=n.$cmpMeta$.$tagName$,t=n.$hostElement$,i=Ds("postUpdate",e),r=t;n.$ancestorComponent$,ko(r,"componentDidRender"),n.$flags$&64?(ko(r,"componentDidUpdate"),i()):(n.$flags$|=64,ko(r,"componentDidLoad"),i())},rs=n=>{{const e=ea(n),t=e.$hostElement$.isConnected;return t&&(e.$flags$&18)===2&&Yg(e,!1),t}},ko=(n,e,t)=>{if(n&&n[e])try{return n[e](t)}catch(i){jl(i)}},cP=(n,e)=>ea(n).$instanceValues$.get(e),uP=(n,e,t,i)=>{const r=ea(n),s=n,o=r.$instanceValues$.get(e),a=r.$flags$,l=s;t=G$(t,i.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(t);if(t!==o&&!c){r.$instanceValues$.set(e,t);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](t,o,e)}catch(p){jl(p,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(t,o,e)===!1)return;Yg(r,!1)}}}},dP=(n,e,t)=>{if(e.$members$){n.watchers&&(e.$watchers$=n.watchers);const i=Object.entries(e.$members$),r=n.prototype;i.map(([s,[o]])=>{(o&31||o&32)&&Object.defineProperty(r,s,{get(){return cP(this,s)},set(a){uP(this,s,a,e)},configurable:!0,enumerable:!0})});{const s=new Map;r.attributeChangedCallback=function(o,a,l){Qt.jmp(()=>{const c=s.get(o);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},n.observedAttributes=i.filter(([o,a])=>a[0]&15).map(([o,a])=>{const l=a[1]||o;return s.set(l,o),a[0]&512&&e.$attrsToReflect$.push([o,l]),l})}}return n},hP=async(n,e,t,i,r)=>{if(!(e.$flags$&32)&&(e.$flags$|=32,r=n.constructor,customElements.whenDefined(t.$tagName$).then(()=>e.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[e.$modeName$=H$(n)]);const a=QT(t,e.$modeName$);if(!ad.has(a)){const l=Ds("registerStyles",t.$tagName$);J$(a,o,!!(t.$flags$&1)),l()}}e.$ancestorComponent$,(()=>Yg(e,!0))()},L0=n=>{},pP=n=>{if(!(Qt.$flags$&1)){const e=ea(n),t=e.$cmpMeta$,i=Ds("connectedCallback",t.$tagName$);e.$flags$&1?(t1(n,e,t.$listeners$),e!=null&&e.$lazyInstance$?L0(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>L0(e.$lazyInstance$))):(e.$flags$|=1,t.$flags$&12&&fP(n),t.$members$&&Object.entries(t.$members$).map(([r,[s]])=>{if(s&31&&n.hasOwnProperty(r)){const o=n[r];delete n[r],n[r]=o}}),hP(n,e,t)),i()}},fP=n=>{const e=n["s-cr"]=Pi.createComment("");e["s-cn"]=!0,n.insertBefore(e,n.firstChild)},mP=async n=>{if(!(Qt.$flags$&1)){const e=ea(n);e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0)}},Xe=(n,e)=>{const t={$flags$:e[0],$tagName$:e[1]};t.$members$=e[2],t.$listeners$=e[3],t.$watchers$=n.$watchers$,t.$attrsToReflect$=[];const i=n.prototype.connectedCallback,r=n.prototype.disconnectedCallback;return Object.assign(n.prototype,{__registerHost(){vP(this,t)},connectedCallback(){pP(this),i&&i.call(this)},disconnectedCallback(){mP(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)})}}),n.is=t.$tagName$,dP(n,t)},t1=(n,e,t,i)=>{t&&t.map(([r,s,o])=>{const a=yP(n,r),l=gP(e,o),c=bP(r);Qt.ael(a,s,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Qt.rel(a,s,l,c))})},gP=(n,e)=>t=>{try{no.lazyLoad||n.$hostElement$[e](t)}catch(i){jl(i)}},yP=(n,e)=>e&4?Pi:e&8?zl:e&16?Pi.body:n,bP=n=>EP?{passive:(n&1)!==0,capture:(n&2)!==0}:(n&2)!==0,n1=new WeakMap,ea=n=>n1.get(n),vP=(n,e)=>{const t={$flags$:0,$hostElement$:n,$cmpMeta$:e,$instanceValues$:new Map};return t1(n,t,e.$listeners$),n1.set(n,t)},q0=(n,e)=>e in n,jl=(n,e)=>(0,console.error)(n,e),ad=new Map,i1=[],zl=typeof window<"u"?window:{},Pi=zl.document||{head:{}},Ze=zl.HTMLElement||class{},Qt={$flags$:0,$resourcesUrl$:"",jmp:n=>n(),raf:n=>requestAnimationFrame(n),ael:(n,e,t,i)=>n.addEventListener(e,t,i),rel:(n,e,t,i)=>n.removeEventListener(e,t,i),ce:(n,e)=>new CustomEvent(n,e)},wP=n=>{Object.assign(Qt,n)},EP=(()=>{let n=!1;try{Pi.addEventListener("e",null,Object.defineProperty({},"passive",{get(){n=!0}}))}catch(e){}return n})(),xP=n=>Promise.resolve(n),TP=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(n){}return!1})(),am=[],r1=[],s1=(n,e)=>t=>{n.push(t),om||(om=!0,e&&Qt.$flags$&4?CP(lm):Qt.raf(lm))},B0=n=>{for(let e=0;e<n.length;e++)try{n[e](performance.now())}catch(t){jl(t)}n.length=0},lm=()=>{B0(am),B0(r1),(om=am.length>0)&&Qt.raf(lm)},CP=n=>xP().then(n),Al=s1(am,!1),Xi=s1(r1,!0);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Pt=typeof window<"u"?window:void 0,Ro=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ls=(n,e)=>{n.componentOnReady?n.componentOnReady().then(t=>e(t)):Bn(()=>e(n))},SP=n=>n.componentOnReady!==void 0,ch=(n,e=[])=>{const t={};return e.forEach(i=>{n.hasAttribute(i)&&(n.getAttribute(i)!==null&&(t[i]=n.getAttribute(i)),n.removeAttribute(i))}),t},NP=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Vs=(n,e)=>{let t=NP;return e&&e.length>0&&(t=t.filter(i=>!e.includes(i))),ch(n,t)},AP=(n,e,t,i)=>{var r;if(typeof window<"u"){const s=window,o=(r=s==null?void 0:s.Ionic)===null||r===void 0?void 0:r.config;if(o){const a=o.get("_ael");if(a)return a(n,e,t,i);if(o._ael)return o._ael(n,e,t,i)}}return n.addEventListener(e,t,i)},kP=(n,e,t,i)=>{var r;if(typeof window<"u"){const s=window,o=(r=s==null?void 0:s.Ionic)===null||r===void 0?void 0:r.config;if(o){const a=o.get("_rel");if(a)return a(n,e,t,i);if(o._rel)return o._rel(n,e,t,i)}}return n.removeEventListener(e,t,i)},RP=(n,e=n)=>n.shadowRoot||e,Bn=n=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(n):typeof requestAnimationFrame=="function"?requestAnimationFrame(n):setTimeout(n),o1=n=>!!n.shadowRoot&&!!n.attachShadow,Jg=n=>{const e=n.closest("ion-item");return e?e.querySelector("ion-label"):null},$P=n=>{if(n.focus(),n.classList.contains("ion-focusable")){const e=n.closest("ion-app");e&&e.setFocus([n])}},PP=(n,e)=>{let t;const i=n.getAttribute("aria-labelledby"),r=n.id;let s=i!==null&&i.trim()!==""?i:e+"-lbl",o=i!==null&&i.trim()!==""?document.getElementById(i):Jg(n);return o?(i===null&&(o.id=s),t=o.textContent,o.setAttribute("aria-hidden","true")):r.trim()!==""&&(o=document.querySelector('label[for="'.concat(r,'"]')),o&&(o.id!==""?s=o.id:o.id=s="".concat(r,"-lbl"),t=o.textContent)),{label:o,labelId:s,labelText:t}},F0=(n,e,t,i,r)=>{if(n||o1(e)){let s=e.querySelector("input.aux-input");s||(s=e.ownerDocument.createElement("input"),s.type="hidden",s.classList.add("aux-input"),e.appendChild(s)),s.disabled=r,s.name=t,s.value=i||""}},Vi=(n,e,t)=>Math.max(n,Math.min(e,t)),At=(n,e)=>{if(!n){const t="ASSERT: "+e;console.error(t);debugger;throw new Error(t)}},t5=n=>n.timeStamp||Date.now(),n5=n=>{if(n){const e=n.changedTouches;if(e&&e.length>0){const t=e[0];return{x:t.clientX,y:t.clientY}}if(n.pageX!==void 0)return{x:n.pageX,y:n.pageY}}return{x:0,y:0}},U0=n=>{const e=document.dir==="rtl";switch(n){case"start":return e;case"end":return!e;default:throw new Error('"'.concat(n,'" is not a valid value for [side]. Use "start" or "end" instead.'))}},a1=(n,e)=>{const t=n._original||n;return{_original:n,emit:OP(t.emit.bind(t),e)}},OP=(n,e=0)=>{let t;return(...i)=>{clearTimeout(t),t=setTimeout(n,e,...i)}},l1=(n,e)=>{if(n!=null||(n={}),e!=null||(e={}),n===e)return!0;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(const i of t)if(!(i in e)||n[i]!==e[i])return!1;return!0};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let $p;const IP=n=>(n.forEach(e=>{for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];if(t==="easing"){const r="animation-timing-function";e[r]=i,delete e[t]}else{const r=MP(t);r!==t&&(e[r]=i,delete e[t])}}}),n),MP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xg=n=>{if($p===void 0){const e=n.style.animationName!==void 0,t=n.style.webkitAnimationName!==void 0;$p=!e&&t?"-webkit-":""}return $p},ft=(n,e,t)=>{const i=e.startsWith("animation")?Xg(n):"";n.style.setProperty(i+e,t)},mi=(n,e)=>{const t=e.startsWith("animation")?Xg(n):"";n.style.removeProperty(t+e)},_P=(n,e)=>{let t;const i={passive:!0},r=()=>{t&&t()},s=o=>{n===o.target&&(r(),e(o))};return n&&(n.addEventListener("webkitAnimationEnd",s,i),n.addEventListener("animationend",s,i),t=()=>{n.removeEventListener("webkitAnimationEnd",s,i),n.removeEventListener("animationend",s,i)}),r},DP=(n=[])=>n.map(e=>{const t=e.offset,i=[];for(const r in e)e.hasOwnProperty(r)&&r!=="offset"&&i.push("".concat(r,": ").concat(e[r],";"));return"".concat(t*100,"% { ").concat(i.join(" ")," }")}).join(" "),j0=[],LP=n=>{let e=j0.indexOf(n);return e<0&&(e=j0.push(n)-1),"ion-animation-".concat(e)},qP=n=>{const e=n.getRootNode!==void 0?n.getRootNode():n;return e.head||e},BP=(n,e,t)=>{var i;const r=qP(t),s=Xg(t),o=r.querySelector("#"+n);if(o)return o;const a=((i=t.ownerDocument)!==null&&i!==void 0?i:document).createElement("style");return a.id=n,a.textContent="@".concat(s,"keyframes ").concat(n," { ").concat(e," } @").concat(s,"keyframes ").concat(n,"-alt { ").concat(e," }"),r.appendChild(a),a},Uc=(n=[],e)=>{if(e!==void 0){const t=Array.isArray(e)?e:[e];return[...n,...t]}return n},_t=n=>{let e,t,i,r,s,o,a=[],l=[],c=[],u=!1,d,h={},p=[],y=[],v={},S=0,E=!1,w=!1,C,P,q,H,L=!0,M=!1,O=!0,Q,k,J=!1;const j=n,ne=[],ue=[],fe=[],de=[],Z=[],ie=[],B=[],K=[],ae=[],Te=[],Ee=typeof AnimationEffect=="function"||Pt!==void 0&&typeof Pt.AnimationEffect=="function",Ce=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&Ee,ke=100,Ie=()=>Te,ht=G=>(de.forEach(pe=>{pe.destroy(G)}),wt(G),fe.length=0,de.length=0,a.length=0,In(),u=!1,O=!0,k),wt=G=>{pt(),G&&nr()},mn=()=>{E=!1,w=!1,O=!0,P=void 0,q=void 0,H=void 0,S=0,M=!1,L=!0,J=!1},tn=()=>S!==0&&!J,Lt=(G,pe)=>((pe!=null&&pe.oneTimeCallback?ue:ne).push({c:G,o:pe}),k),In=()=>(ne.length=0,ue.length=0,k),pt=()=>{if(Ce)Te.forEach(G=>{G.cancel()}),Te.length=0;else{const G=fe.slice();Bn(()=>{G.forEach(pe=>{mi(pe,"animation-name"),mi(pe,"animation-duration"),mi(pe,"animation-timing-function"),mi(pe,"animation-iteration-count"),mi(pe,"animation-delay"),mi(pe,"animation-play-state"),mi(pe,"animation-fill-mode"),mi(pe,"animation-direction")})})}},nr=()=>{Z.forEach(G=>{G!=null&&G.parentNode&&G.parentNode.removeChild(G)}),Z.length=0},Ar=G=>(ie.push(G),k),ir=G=>(B.push(G),k),Re=G=>(K.push(G),k),et=G=>(ae.push(G),k),Li=G=>(l=Uc(l,G),k),jt=G=>(c=Uc(c,G),k),Rt=(G={})=>(h=G,k),Mn=(G=[])=>{for(const pe of G)h[pe]="";return k},z=G=>(p=Uc(p,G),k),ee=G=>(y=Uc(y,G),k),le=(G={})=>(v=G,k),T=(G=[])=>{for(const pe of G)v[pe]="";return k},m=()=>s!==void 0?s:d?d.getFill():"both",b=()=>P!==void 0?P:o!==void 0?o:d?d.getDirection():"normal",N=()=>E?"linear":i!==void 0?i:d?d.getEasing():"linear",$=()=>w?0:q!==void 0?q:t!==void 0?t:d?d.getDuration():0,D=()=>r!==void 0?r:d?d.getIterations():1,W=()=>H!==void 0?H:e!==void 0?e:d?d.getDelay():0,ge=()=>a,ye=G=>(o=G,Cn(!0),k),He=G=>(s=G,Cn(!0),k),rt=G=>(e=G,Cn(!0),k),Le=G=>(i=G,Cn(!0),k),Fh=G=>(!Ce&&G===0&&(G=1),t=G,Cn(!0),k),qi=G=>(r=G,Cn(!0),k),ac=G=>(d=G,k),oe=G=>{if(G!=null)if(G.nodeType===1)fe.push(G);else if(G.length>=0)for(let pe=0;pe<G.length;pe++)fe.push(G[pe]);else console.error("Invalid addElement value");return k},ua=G=>{if(G!=null)if(Array.isArray(G))for(const pe of G)pe.parent(k),de.push(pe);else G.parent(k),de.push(G);return k},nn=G=>{const pe=a!==G;return a=G,pe&&cs(a),k},cs=G=>{Ce?Ie().forEach(pe=>{if(pe.effect.setKeyframes)pe.effect.setKeyframes(G);else{const xe=new KeyframeEffect(pe.effect.target,G,pe.effect.getTiming());pe.effect=xe}}):ha()},da=()=>{ie.forEach(Et=>Et()),B.forEach(Et=>Et());const G=l,pe=c,xe=h;fe.forEach(Et=>{const qt=Et.classList;G.forEach(gn=>qt.add(gn)),pe.forEach(gn=>qt.remove(gn));for(const gn in xe)xe.hasOwnProperty(gn)&&ft(Et,gn,xe[gn])})},lc=()=>{kr(),K.forEach(qt=>qt()),ae.forEach(qt=>qt());const G=L?1:0,pe=p,xe=y,Et=v;fe.forEach(qt=>{const gn=qt.classList;pe.forEach(Bi=>gn.add(Bi)),xe.forEach(Bi=>gn.remove(Bi));for(const Bi in Et)Et.hasOwnProperty(Bi)&&ft(qt,Bi,Et[Bi])}),ne.forEach(qt=>qt.c(G,k)),ue.forEach(qt=>qt.c(G,k)),ue.length=0,O=!0,L&&(M=!0),L=!0},Tn=()=>{S!==0&&(S--,S===0&&(lc(),d&&d.animationFinish()))},ha=(G=!0)=>{nr();const pe=IP(a);fe.forEach(xe=>{if(pe.length>0){const Et=DP(pe);Q=n!==void 0?n:LP(Et);const qt=BP(Q,Et,xe);Z.push(qt),ft(xe,"animation-duration","".concat($(),"ms")),ft(xe,"animation-timing-function",N()),ft(xe,"animation-delay","".concat(W(),"ms")),ft(xe,"animation-fill-mode",m()),ft(xe,"animation-direction",b());const gn=D()===1/0?"infinite":D().toString();ft(xe,"animation-iteration-count",gn),ft(xe,"animation-play-state","paused"),G&&ft(xe,"animation-name","".concat(qt.id,"-alt")),Bn(()=>{ft(xe,"animation-name",qt.id||null)})}})},Uh=()=>{fe.forEach(G=>{const pe=G.animate(a,{id:j,delay:W(),duration:$(),easing:N(),iterations:D(),fill:m(),direction:b()});pe.pause(),Te.push(pe)}),Te.length>0&&(Te[0].onfinish=()=>{Tn()})},pa=(G=!0)=>{da(),a.length>0&&(Ce?Uh():ha(G)),u=!0},Gn=G=>{if(G=Math.min(Math.max(G,0),.9999),Ce)Te.forEach(pe=>{pe.currentTime=pe.effect.getComputedTiming().delay+$()*G,pe.pause()});else{const pe="-".concat($()*G,"ms");fe.forEach(xe=>{a.length>0&&(ft(xe,"animation-delay",pe),ft(xe,"animation-play-state","paused"))})}},fa=G=>{Te.forEach(pe=>{pe.effect.updateTiming({delay:W(),duration:$(),easing:N(),iterations:D(),fill:m(),direction:b()})}),G!==void 0&&Gn(G)},ma=(G=!0,pe)=>{Bn(()=>{fe.forEach(xe=>{ft(xe,"animation-name",Q||null),ft(xe,"animation-duration","".concat($(),"ms")),ft(xe,"animation-timing-function",N()),ft(xe,"animation-delay",pe!==void 0?"-".concat(pe*$(),"ms"):"".concat(W(),"ms")),ft(xe,"animation-fill-mode",m()||null),ft(xe,"animation-direction",b()||null);const Et=D()===1/0?"infinite":D().toString();ft(xe,"animation-iteration-count",Et),G&&ft(xe,"animation-name","".concat(Q,"-alt")),Bn(()=>{ft(xe,"animation-name",Q||null)})})})},Cn=(G=!1,pe=!0,xe)=>(G&&de.forEach(Et=>{Et.update(G,pe,xe)}),Ce?fa(xe):ma(pe,xe),k),cc=(G=!1,pe)=>(de.forEach(xe=>{xe.progressStart(G,pe)}),ya(),E=G,u||pa(),Cn(!1,!0,pe),k),jh=G=>(de.forEach(pe=>{pe.progressStep(G)}),Gn(G),k),ga=(G,pe,xe)=>(E=!1,de.forEach(Et=>{Et.progressEnd(G,pe,xe)}),xe!==void 0&&(q=xe),M=!1,L=!0,G===0?(P=b()==="reverse"?"normal":"reverse",P==="reverse"&&(L=!1),Ce?(Cn(),Gn(1-pe)):(H=(1-pe)*$()*-1,Cn(!1,!1))):G===1&&(Ce?(Cn(),Gn(pe)):(H=pe*$()*-1,Cn(!1,!1))),G!==void 0&&(Lt(()=>{q=void 0,P=void 0,H=void 0},{oneTimeCallback:!0}),d||Rr()),k),ya=()=>{u&&(Ce?Te.forEach(G=>{G.pause()}):fe.forEach(G=>{ft(G,"animation-play-state","paused")}),J=!0)},Ks=()=>(de.forEach(G=>{G.pause()}),ya(),k),Kn=()=>{C=void 0,Tn()},kr=()=>{C&&clearTimeout(C)},ba=()=>{if(kr(),Bn(()=>{fe.forEach(G=>{a.length>0&&ft(G,"animation-play-state","running")})}),a.length===0||fe.length===0)Tn();else{const G=W()||0,pe=$()||0,xe=D()||1;isFinite(xe)&&(C=setTimeout(Kn,G+pe*xe+ke)),_P(fe[0],()=>{kr(),Bn(()=>{uc(),Bn(Tn)})})}},uc=()=>{fe.forEach(G=>{mi(G,"animation-duration"),mi(G,"animation-delay"),mi(G,"animation-play-state")})},dc=()=>{Te.forEach(G=>{G.play()}),(a.length===0||fe.length===0)&&Tn()},hc=()=>{Ce?(Gn(0),fa()):ma()},Rr=G=>new Promise(pe=>{G!=null&&G.sync&&(w=!0,Lt(()=>w=!1,{oneTimeCallback:!0})),u||pa(),M&&(hc(),M=!1),O&&(S=de.length+1,O=!1),Lt(()=>pe(),{oneTimeCallback:!0}),de.forEach(xe=>{xe.play()}),Ce?dc():ba(),J=!1}),pc=()=>{de.forEach(G=>{G.stop()}),u&&(pt(),u=!1),mn()},us=(G,pe)=>{const xe=a[0];return xe!==void 0&&(xe.offset===void 0||xe.offset===0)?xe[G]=pe:a=[{offset:0,[G]:pe},...a],k};return k={parentAnimation:d,elements:fe,childAnimations:de,id:j,animationFinish:Tn,from:us,to:(G,pe)=>{const xe=a[a.length-1];return xe!==void 0&&(xe.offset===void 0||xe.offset===1)?xe[G]=pe:a=[...a,{offset:1,[G]:pe}],k},fromTo:(G,pe,xe)=>us(G,pe).to(G,xe),parent:ac,play:Rr,pause:Ks,stop:pc,destroy:ht,keyframes:nn,addAnimation:ua,addElement:oe,update:Cn,fill:He,direction:ye,iterations:qi,duration:Fh,easing:Le,delay:rt,getWebAnimations:Ie,getKeyframes:ge,getFill:m,getDirection:b,getDelay:W,getIterations:D,getEasing:N,getDuration:$,afterAddRead:Re,afterAddWrite:et,afterClearStyles:T,afterStyles:le,afterRemoveClass:ee,afterAddClass:z,beforeAddRead:Ar,beforeAddWrite:ir,beforeClearStyles:Mn,beforeStyles:Rt,beforeRemoveClass:jt,beforeAddClass:Li,onFinish:Lt,isRunning:tn,progressStart:cc,progressStep:jh,progressEnd:ga}},FP="ionViewWillEnter",UP="ionViewDidEnter",c1="ionViewWillLeave",u1="ionViewDidLeave",Pp="ionViewWillUnload",jP=()=>an(()=>import("./ios.transition-b586df62.js"),[]),zP=()=>an(()=>import("./md.transition-1901565e.js"),[]),d1=n=>new Promise((e,t)=>{Xi(()=>{VP(n),HP(n).then(i=>{i.animation&&i.animation.destroy(),z0(n),e(i)},i=>{z0(n),t(i)})})}),VP=n=>{const e=n.enteringEl,t=n.leavingEl;JP(e,t,n.direction),n.showGoBack?e.classList.add("can-go-back"):e.classList.remove("can-go-back"),um(e,!1),e.style.setProperty("pointer-events","none"),t&&(um(t,!1),t.style.setProperty("pointer-events","none"))},HP=async n=>{const e=await WP(n);return e&&D$.isBrowser?QP(e,n):GP(n)},z0=n=>{const e=n.enteringEl,t=n.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),t!==void 0&&(t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"))},WP=async n=>!n.leavingEl||!n.animated||n.duration===0?void 0:n.animationBuilder?n.animationBuilder:n.mode==="ios"?(await jP()).iosTransitionAnimation:(await zP()).mdTransitionAnimation,QP=async(n,e)=>{await h1(e,!0);const t=n(e.baseEl,e);p1(e.enteringEl,e.leavingEl);const i=await YP(t,e);return e.progressCallback&&e.progressCallback(void 0),i&&f1(e.enteringEl,e.leavingEl),{hasCompleted:i,animation:t}},GP=async n=>{const e=n.enteringEl,t=n.leavingEl;return await h1(n,!1),p1(e,t),f1(e,t),{hasCompleted:!0}},h1=async(n,e)=>{(n.deepWait!==void 0?n.deepWait:e)&&await Promise.all([cm(n.enteringEl),cm(n.leavingEl)]),await KP(n.viewIsReady,n.enteringEl)},KP=async(n,e)=>{n&&await n(e)},YP=(n,e)=>{const t=e.progressCallback,i=new Promise(r=>{n.onFinish(s=>r(s===1))});return t?(n.progressStart(!0),t(n)):n.play(),i},p1=(n,e)=>{ur(e,c1),ur(n,FP)},f1=(n,e)=>{ur(n,UP),ur(e,u1)},ur=(n,e)=>{if(n){const t=new CustomEvent(e,{bubbles:!1,cancelable:!1});n.dispatchEvent(t)}},cm=async n=>{const e=n;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(i=>Bn(i));return}await Promise.all(Array.from(e.children).map(cm))}},um=(n,e)=>{e?(n.setAttribute("aria-hidden","true"),n.classList.add("ion-page-hidden")):(n.hidden=!1,n.removeAttribute("aria-hidden"),n.classList.remove("ion-page-hidden"))},JP=(n,e,t)=>{n!==void 0&&(n.style.zIndex=t==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},i5=n=>{if(n.classList.contains("ion-page"))return n;const e=n.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||n};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kl=(n,e,t,i,r)=>ZP(n[1],e[1],t[1],i[1],r).map(s=>XP(n[0],e[0],t[0],i[0],s)),XP=(n,e,t,i,r)=>{const s=3*e*Math.pow(r-1,2),o=-3*t*r+3*t+i*r,a=n*Math.pow(r-1,3);return r*(s+r*o)-a},ZP=(n,e,t,i,r)=>(n-=r,e-=r,t-=r,i-=r,tO(i-3*t+3*e-n,3*t-6*e+3*n,3*e-3*n,n).filter(o=>o>=0&&o<=1)),eO=(n,e,t)=>{const i=e*e-4*n*t;return i<0?[]:[(-e+Math.sqrt(i))/(2*n),(-e-Math.sqrt(i))/(2*n)]},tO=(n,e,t,i)=>{if(n===0)return eO(e,t,i);e/=n,t/=n,i/=n;const r=(3*t-e*e)/3,s=(2*e*e*e-9*e*t+27*i)/27;if(r===0)return[Math.pow(-s,1/3)];if(s===0)return[Math.sqrt(-r),-Math.sqrt(-r)];const o=Math.pow(s/2,2)+Math.pow(r/3,3);if(o===0)return[Math.pow(s/2,1/2)-e/3];if(o>0)return[Math.pow(-(s/2)+Math.sqrt(o),1/3)-Math.pow(s/2+Math.sqrt(o),1/3)-e/3];const a=Math.sqrt(Math.pow(-(r/3),3)),l=Math.acos(-(s/(2*Math.sqrt(Math.pow(-(r/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class nO{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var t;return new iO(this,this.newID(),e.name,(t=e.priority)!==null&&t!==void 0?t:0,!!e.disableScroll)}createBlocker(e={}){return new rO(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,i){return this.canStart(e)?(this.requestedStart.set(t,i),!0):(this.requestedStart.delete(t),!1)}capture(e,t,i){if(!this.start(e,t,i))return!1;const r=this.requestedStart;let s=-1e4;if(r.forEach(o=>{s=Math.max(s,o)}),s===i){this.capturedId=t,r.clear();const o=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(o),!0}return r.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let i=this.disabledGestures.get(e);i===void 0&&(i=new Set,this.disabledGestures.set(e,i)),i.add(t)}enableGesture(e,t){const i=this.disabledGestures.get(e);i!==void 0&&i.delete(t)}disableScroll(e){this.disabledScroll.add(e),this.disabledScroll.size===1&&document.body.classList.add(V0)}enableScroll(e){this.disabledScroll.delete(e),this.disabledScroll.size===0&&document.body.classList.remove(V0)}canStart(e){return!(this.capturedId!==void 0||this.isDisabled(e))}isCaptured(){return this.capturedId!==void 0}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}}class iO{constructor(e,t,i,r,s){this.id=t,this.name=i,this.disableScroll=s,this.priority=r*1e6+t,this.ctrl=e}canStart(){return this.ctrl?this.ctrl.canStart(this.name):!1}start(){return this.ctrl?this.ctrl.start(this.name,this.id,this.priority):!1}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class rO{constructor(e,t,i,r){this.id=t,this.disable=i,this.disableScroll=r,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const V0="backdrop-no-scroll",uh=new nO;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const fs=(n,e,t,i)=>{const r=sO(n)?{capture:!!i.capture,passive:!!i.passive}:!!i.capture;let s,o;return n.__zone_symbol__addEventListener?(s="__zone_symbol__addEventListener",o="__zone_symbol__removeEventListener"):(s="addEventListener",o="removeEventListener"),n[s](e,t,r),()=>{n[o](e,t,r)}},sO=n=>{if(jc===void 0)try{const e=Object.defineProperty({},"passive",{get:()=>{jc=!0}});n.addEventListener("optsTest",()=>{},e)}catch(e){jc=!1}return!!jc};let jc;const oO=2e3,aO=(n,e,t,i,r)=>{let s,o,a,l,c,u,d,h=0;const p=H=>{h=Date.now()+oO,e(H)&&(!o&&t&&(o=fs(n,"touchmove",t,r)),a||(a=fs(H.target,"touchend",v,r)),l||(l=fs(H.target,"touchcancel",v,r)))},y=H=>{h>Date.now()||e(H)&&(!u&&t&&(u=fs(H0(n),"mousemove",t,r)),d||(d=fs(H0(n),"mouseup",S,r)))},v=H=>{E(),i&&i(H)},S=H=>{w(),i&&i(H)},E=()=>{o&&o(),a&&a(),l&&l(),o=a=l=void 0},w=()=>{u&&u(),d&&d(),u=d=void 0},C=()=>{E(),w()},P=(H=!0)=>{H?(s||(s=fs(n,"touchstart",p,r)),c||(c=fs(n,"mousedown",y,r))):(s&&s(),c&&c(),s=c=void 0,C())};return{enable:P,stop:C,destroy:()=>{P(!1),i=t=e=void 0}}},H0=n=>n instanceof Document?n:n.ownerDocument,lO=(n,e,t)=>{const i=t*(Math.PI/180),r=n==="x",s=Math.cos(i),o=e*e;let a=0,l=0,c=!1,u=0;return{start(d,h){a=d,l=h,u=0,c=!0},detect(d,h){if(!c)return!1;const p=d-a,y=h-l,v=p*p+y*y;if(v<o)return!1;const S=Math.sqrt(v),E=(r?p:y)/S;return E>s?u=1:E<-s?u=-1:u=0,c=!1,!0},isGesture(){return u!==0},getDirection(){return u}}},m1=n=>{let e=!1,t=!1,i=!0,r=!1;const s=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},n),o=s.canStart,a=s.onWillStart,l=s.onStart,c=s.onEnd,u=s.notCaptured,d=s.onMove,h=s.threshold,p=s.passive,y=s.blurOnStart,v={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},S=lO(s.direction,s.threshold,s.maxAngle),E=uh.createGesture({name:n.gestureName,priority:n.gesturePriority,disableScroll:n.disableScroll}),w=J=>{const j=y1(J);return t||!i||(g1(J,v),v.startX=v.currentX,v.startY=v.currentY,v.startTime=v.currentTime=j,v.velocityX=v.velocityY=v.deltaX=v.deltaY=0,v.event=J,o&&o(v)===!1)||(E.release(),!E.start())?!1:(t=!0,h===0?q():(S.start(v.startX,v.startY),!0))},C=J=>{if(e){!r&&i&&(r=!0,Op(v,J),requestAnimationFrame(P));return}Op(v,J),S.detect(v.currentX,v.currentY)&&(!S.isGesture()||!q())&&k()},P=()=>{e&&(r=!1,d&&d(v))},q=()=>E.capture()?(e=!0,i=!1,v.startX=v.currentX,v.startY=v.currentY,v.startTime=v.currentTime,a?a(v).then(L):L(),!0):!1,H=()=>{if(typeof document<"u"){const J=document.activeElement;J!=null&&J.blur&&J.blur()}},L=()=>{y&&H(),l&&l(v),i=!0},M=()=>{e=!1,t=!1,r=!1,i=!0,E.release()},O=J=>{const j=e,ne=i;if(M(),!!ne){if(Op(v,J),j){c&&c(v);return}u&&u(v)}},Q=aO(s.el,w,C,O,{capture:!1,passive:p}),k=()=>{M(),Q.stop(),u&&u(v)};return{enable(J=!0){J||(e&&O(void 0),M()),Q.enable(J)},destroy(){E.destroy(),Q.destroy()}}},Op=(n,e)=>{if(!e)return;const t=n.currentX,i=n.currentY,r=n.currentTime;g1(e,n);const s=n.currentX,o=n.currentY,l=(n.currentTime=y1(e))-r;if(l>0&&l<100){const c=(s-t)/l,u=(o-i)/l;n.velocityX=c*.7+n.velocityX*.3,n.velocityY=u*.7+n.velocityY*.3}n.deltaX=s-n.startX,n.deltaY=o-n.startY,n.event=e},g1=(n,e)=>{let t=0,i=0;if(n){const r=n.changedTouches;if(r&&r.length>0){const s=r[0];t=s.clientX,i=s.clientY}else n.pageX!==void 0&&(t=n.pageX,i=n.pageY)}e.currentX=t,e.currentY=i},y1=n=>n.timeStamp||Date.now(),b1=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:uh,createGesture:m1},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class cO{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const i=this.m.get(e);return i!==void 0?i:t}getBoolean(e,t=!1){const i=this.m.get(e);return i===void 0?t:typeof i=="string"?i==="true":!!i}getNumber(e,t){const i=parseFloat(this.m.get(e));return isNaN(i)?t!==void 0?t:NaN:i}set(e,t){this.m.set(e,t)}}const je=new cO,uO=n=>{try{const e=n.sessionStorage.getItem(v1);return e!==null?JSON.parse(e):{}}catch(e){return{}}},dO=(n,e)=>{try{n.sessionStorage.setItem(v1,JSON.stringify(e))}catch(t){return}},hO=n=>{const e={};return n.location.search.slice(1).split("&").map(t=>t.split("=")).map(([t,i])=>[decodeURIComponent(t),decodeURIComponent(i)]).filter(([t])=>pO(t,W0)).map(([t,i])=>[t.slice(W0.length),i]).forEach(([t,i])=>{e[t]=i}),e},pO=(n,e)=>n.substr(0,e.length)===e,W0="ionic:",v1="ionic-persist-config",fO=n=>w1(n),pr=(n,e)=>(typeof n=="string"&&(e=n,n=void 0),fO(n).includes(e)),w1=(n=window)=>{if(typeof n>"u")return[];n.Ionic=n.Ionic||{};let e=n.Ionic.platforms;return e==null&&(e=n.Ionic.platforms=mO(n),e.forEach(t=>n.document.documentElement.classList.add("plt-".concat(t)))),e},mO=n=>{const e=je.get("platform");return Object.keys(Q0).filter(t=>{const i=e==null?void 0:e[t];return typeof i=="function"?i(n):Q0[t](n)})},gO=n=>dh(n)&&!x1(n),Zg=n=>!!(qs(n,/iPad/i)||qs(n,/Macintosh/i)&&dh(n)),yO=n=>qs(n,/iPhone/i),bO=n=>qs(n,/iPhone|iPod/i)||Zg(n),E1=n=>qs(n,/android|sink/i),vO=n=>E1(n)&&!qs(n,/mobile/i),wO=n=>{const e=n.innerWidth,t=n.innerHeight,i=Math.min(e,t),r=Math.max(e,t);return i>390&&i<520&&r>620&&r<800},EO=n=>{const e=n.innerWidth,t=n.innerHeight,i=Math.min(e,t),r=Math.max(e,t);return Zg(n)||vO(n)||i>460&&i<820&&r>780&&r<1400},dh=n=>SO(n,"(any-pointer:coarse)"),xO=n=>!dh(n),x1=n=>T1(n)||C1(n),T1=n=>!!(n.cordova||n.phonegap||n.PhoneGap),C1=n=>{const e=n.Capacitor;return!!(e!=null&&e.isNative)},TO=n=>qs(n,/electron/i),CO=n=>{var e;return!!(!((e=n.matchMedia)===null||e===void 0)&&e.call(n,"(display-mode: standalone)").matches||n.navigator.standalone)},qs=(n,e)=>e.test(n.navigator.userAgent),SO=(n,e)=>{var t;return(t=n.matchMedia)===null||t===void 0?void 0:t.call(n,e).matches},Q0={ipad:Zg,iphone:yO,ios:bO,android:E1,phablet:wO,tablet:EO,cordova:T1,capacitor:C1,electron:TO,pwa:CO,mobile:dh,mobileweb:gO,desktop:xO,hybrid:x1};let so;const $e=n=>n&&Q$(n)||so,NO=(n={})=>{if(typeof window>"u")return;const e=window.document,t=window,i=t.Ionic=t.Ionic||{},r={};n._ael&&(r.ael=n._ael),n._rel&&(r.rel=n._rel),n._ce&&(r.ce=n._ce),wP(r);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},uO(t)),{persistConfig:!1}),i.config),hO(t)),n);je.reset(s),je.getBoolean("persistConfig")&&dO(t,s),w1(t),i.config=je,i.mode=so=je.get("mode",e.documentElement.getAttribute("mode")||(pr(t,"ios")?"ios":"md")),je.set("mode",so),e.documentElement.setAttribute("mode",so),e.documentElement.classList.add(so),je.getBoolean("_testing")&&je.set("animated",!1);const o=l=>{var c;return(c=l.tagName)===null||c===void 0?void 0:c.startsWith("ION-")},a=l=>["ios","md"].includes(l);W$(l=>{for(;l;){const c=l.mode||l.getAttribute("mode");if(c){if(a(c))return c;o(l)&&console.warn('Invalid ionic mode: "'+c+'", expected: "ios" or "md"')}l=l.parentElement}return so})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const AO=n=>{try{if(n instanceof PO)return n.value;if(!kO()||typeof n!="string"||n==="")return n;if(n.includes("onload="))return"";const e=document.createDocumentFragment(),t=document.createElement("div");e.appendChild(t),t.innerHTML=n,$O.forEach(o=>{const a=e.querySelectorAll(o);for(let l=a.length-1;l>=0;l--){const c=a[l];c.parentNode?c.parentNode.removeChild(c):e.removeChild(c);const u=hm(c);for(let d=0;d<u.length;d++)dm(u[d])}});const i=hm(e);for(let o=0;o<i.length;o++)dm(i[o]);const r=document.createElement("div");r.appendChild(e);const s=r.querySelector("div");return s!==null?s.innerHTML:r.innerHTML}catch(e){return console.error(e),""}},dm=n=>{if(n.nodeType&&n.nodeType!==1)return;if(typeof NamedNodeMap<"u"&&!(n.attributes instanceof NamedNodeMap)){n.remove();return}for(let t=n.attributes.length-1;t>=0;t--){const i=n.attributes.item(t),r=i.name;if(!RO.includes(r.toLowerCase())){n.removeAttribute(r);continue}const s=i.value,o=n[r];(s!=null&&s.toLowerCase().includes("javascript:")||o!=null&&o.toLowerCase().includes("javascript:"))&&n.removeAttribute(r)}const e=hm(n);for(let t=0;t<e.length;t++)dm(e[t])},hm=n=>n.children!=null?n.children:n.childNodes,kO=()=>{var n;const e=window,t=(n=e==null?void 0:e.Ionic)===null||n===void 0?void 0:n.config;return t?t.get?t.get("sanitizerEnabled",!0):t.sanitizerEnabled===!0||t.sanitizerEnabled===void 0:!0},RO=["class","id","href","src","name","slot"],$O=["script","style","iframe","meta","link","object","embed"];class PO{constructor(e){this.value=e}}const OO=!1;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const IO=()=>{document.addEventListener("backbutton",()=>{})},MO=()=>{const n=document;let e=!1;n.addEventListener("backbutton",()=>{if(e)return;let t=0,i=[];const r=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(a,l){i.push({priority:a,handler:l,id:t++})}}});n.dispatchEvent(r);const s=async a=>{try{if(a!=null&&a.handler){const l=a.handler(o);l!=null&&await l}}catch(l){console.error(l)}},o=()=>{if(i.length>0){let a={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(l=>{l.priority>=a.priority&&(a=l)}),e=!0,i=i.filter(l=>l.id!==a.id),s(a).then(()=>e=!1)}};o()})},S1=100,N1=99,_O=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:N1,OVERLAY_BACK_BUTTON_PRIORITY:S1,blockHardwareBackButton:IO,startHardwareBackButton:MO},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ey=n=>_t().duration(n?400:300),DO=n=>{let e,t;const i=n.width+8,r=_t(),s=_t();n.isEndSide?(e=i+"px",t="0px"):(e=-i+"px",t="0px"),r.addElement(n.menuInnerEl).fromTo("transform","translateX(".concat(e,")"),"translateX(".concat(t,")"));const a=$e(n)==="ios",l=a?.2:.25;return s.addElement(n.backdropEl).fromTo("opacity",.01,l),ey(a).addAnimation([r,s])},LO=n=>{let e,t;const i=$e(n),r=n.width;n.isEndSide?(e=-r+"px",t=r+"px"):(e=r+"px",t=-r+"px");const s=_t().addElement(n.menuInnerEl).fromTo("transform","translateX(".concat(t,")"),"translateX(0px)"),o=_t().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(e,")")),a=_t().addElement(n.backdropEl).fromTo("opacity",.01,.32);return ey(i==="ios").addAnimation([s,o,a])},qO=n=>{const e=$e(n),t=n.width*(n.isEndSide?-1:1)+"px",i=_t().addElement(n.contentEl).fromTo("transform","translateX(0px)","translateX(".concat(t,")"));return ey(e==="ios").addAnimation(i)},BO=()=>{const n=new Map,e=[],t=async M=>{const O=await c(M);return O?O.open():!1},i=async M=>{const O=await(M!==void 0?c(M):u());return O!==void 0?O.close():!1},r=async M=>{const O=await c(M);return O?O.toggle():!1},s=async(M,O)=>{const Q=await c(O);return Q&&(Q.disabled=!M),Q},o=async(M,O)=>{const Q=await c(O);return Q&&(Q.swipeGesture=M),Q},a=async M=>{if(M!=null){const O=await c(M);return O!==void 0&&O.isOpen()}else return await u()!==void 0},l=async M=>{const O=await c(M);return O?!O.disabled:!1},c=async M=>{if(await L(),M==="start"||M==="end"){const Q=H(k=>k.side===M&&!k.disabled);return Q||H(k=>k.side===M)}else if(M!=null)return H(Q=>Q.menuId===M);const O=H(Q=>!Q.disabled);return O||(e.length>0?e[0].el:void 0)},u=async()=>(await L(),C()),d=async()=>(await L(),P()),h=async()=>(await L(),q()),p=(M,O)=>{n.set(M,O)},y=M=>{e.indexOf(M)<0&&(M.disabled||S(M),e.push(M))},v=M=>{const O=e.indexOf(M);O>-1&&e.splice(O,1)},S=M=>{const O=M.side;e.filter(Q=>Q.side===O&&Q!==M).forEach(Q=>Q.disabled=!0)},E=async(M,O,Q)=>{if(q())return!1;if(O){const k=await u();k&&M.el!==k&&await k.setOpen(!1,!1)}return M._setOpen(O,Q)},w=(M,O)=>{const Q=n.get(M);if(!Q)throw new Error("animation not registered");return Q(O)},C=()=>H(M=>M._isOpen),P=()=>e.map(M=>M.el),q=()=>e.some(M=>M.isAnimating),H=M=>{const O=e.find(M);if(O!==void 0)return O.el},L=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(M=>new Promise(O=>Ls(M,O))));return p("reveal",qO),p("push",LO),p("overlay",DO),typeof document<"u"&&document.addEventListener("ionBackButton",M=>{const O=C();O&&M.detail.register(N1,()=>O.close())}),{registerAnimation:p,get:c,getMenus:d,getOpen:u,isEnabled:l,swipeGesture:o,isAnimating:h,isOpen:a,enable:s,toggle:r,close:i,open:t,_getOpenSync:C,_createAnimation:w,_register:y,_unregister:v,_setOpen:E,_setActiveMenu:S}},cr=BO();/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const A1=async(n,e,t,i,r,s)=>{var o;if(n)return n.attachViewToDom(e,t,r,i);if(!s&&typeof t!="string"&&!(t instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof t=="string"?(o=e.ownerDocument)===null||o===void 0?void 0:o.createElement(t):t;return i&&i.forEach(l=>a.classList.add(l)),r&&Object.assign(a,r),e.appendChild(a),await new Promise(l=>Ls(a,l)),a},FO=(n,e)=>{if(e){if(n){const t=e.parentElement;return n.removeViewFromDom(t,e)}e.remove()}return Promise.resolve()},UO=()=>{let n,e;return{attachViewToDom:async(r,s,o={},a=[])=>{var l,c;if(n=r,s){const d=typeof s=="string"?(l=n.ownerDocument)===null||l===void 0?void 0:l.createElement(s):s;a.forEach(h=>d.classList.add(h)),Object.assign(d,o),n.appendChild(d),await new Promise(h=>Ls(d,h))}else if(n.children.length>0&&(n.tagName==="ION-MODAL"||n.tagName==="ION-POPOVER")&&!n.children[0].classList.contains("ion-delegate-host")){const h=(c=n.ownerDocument)===null||c===void 0?void 0:c.createElement("div");h.classList.add("ion-delegate-host"),a.forEach(p=>h.classList.add(p)),h.append(...n.children),n.appendChild(h)}const u=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),n.parentNode.insertBefore(e,n),u.appendChild(n),n},removeViewFromDom:()=>(n&&e&&(e.parentNode.insertBefore(n,e),e.remove()),Promise.resolve())}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const ln=(n,...e)=>console.warn("[Ionic Warning]: ".concat(n),...e),k1=(n,...e)=>console.error("[Ionic Error]: ".concat(n),...e),jO=(n,...e)=>console.error("<".concat(n.tagName.toLowerCase(),"> must be used inside ").concat(e.join(" or "),"."));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let pm=0,zO=0;const fm=new WeakMap,VO=n=>{typeof document<"u"&&GO(document);const e=pm++;n.overlayIndex=e},HO=n=>(n.hasAttribute("id")||(n.id="ion-overlay-".concat(++zO)),n.id),Rl='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',G0=(n,e)=>{let t=n.querySelector(Rl);const i=t==null?void 0:t.shadowRoot;i&&(t=i.querySelector(Rl)||t),t?$P(t):e.focus()},WO=n=>n.classList.contains("overlay-hidden"),K0=(n,e)=>{const t=Array.from(n.querySelectorAll(Rl));let i=t.length>0?t[t.length-1]:null;const r=i==null?void 0:i.shadowRoot;r&&(i=r.querySelector(Rl)||i),i?i.focus():e.focus()},QO=(n,e)=>{const t=ld(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),i=n.target;if(!t||!i||t.classList.contains("ion-disable-focus-trap"))return;const r=()=>{if(t===i)t.lastFocus=void 0;else{const o=RP(t);if(!o.contains(i))return;const a=o.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(i)||i===o.querySelector("ion-backdrop"))t.lastFocus=i;else{const l=t.lastFocus;G0(a,t),l===e.activeElement&&K0(a,t),t.lastFocus=e.activeElement}}},s=()=>{if(t.contains(i))t.lastFocus=i;else{const o=t.lastFocus;G0(t,t),o===e.activeElement&&K0(t,t),t.lastFocus=e.activeElement}};t.shadowRoot?s():r()},GO=n=>{pm===0&&(pm=1,n.addEventListener("focus",e=>{QO(e,n)},!0),n.addEventListener("ionBackButton",e=>{const t=ld(n);t!=null&&t.backdropDismiss&&e.detail.register(S1,()=>t.dismiss(void 0,cd))}),n.addEventListener("keydown",e=>{if(e.key==="Escape"){const t=ld(n);t!=null&&t.backdropDismiss&&t.dismiss(void 0,cd)}}))},KO=(n,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(n.querySelectorAll(e)).filter(t=>t.overlayIndex>0)),ld=(n,e,t)=>{const i=KO(n,e).filter(r=>!WO(r));return t===void 0?i[i.length-1]:i.find(r=>r.id===t)},R1=(n=!1)=>{const t=ZO(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(n?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},YO=async(n,e,t,i,r)=>{var s,o;if(n.presented)return;R1(!0),n.presented=!0,n.willPresent.emit(),(s=n.willPresentShorthand)===null||s===void 0||s.emit();const a=$e(n),l=n.enterAnimation?n.enterAnimation:je.get(e,a==="ios"?t:i);await $1(n,l,n.el,r)&&(n.didPresent.emit(),(o=n.didPresentShorthand)===null||o===void 0||o.emit()),n.el.tagName!=="ION-TOAST"&&JO(n.el),n.keyboardClose&&(document.activeElement===null||!n.el.contains(document.activeElement))&&n.el.focus()},JO=async n=>{let e=document.activeElement;if(!e)return;const t=e==null?void 0:e.shadowRoot;t&&(e=t.querySelector(Rl)||e),await n.onDidDismiss(),e.focus()},XO=async(n,e,t,i,r,s,o)=>{var a,l;if(!n.presented)return!1;R1(!1),n.presented=!1;try{n.el.style.setProperty("pointer-events","none"),n.willDismiss.emit({data:e,role:t}),(a=n.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:t});const c=$e(n),u=n.leaveAnimation?n.leaveAnimation:je.get(i,c==="ios"?r:s);t!==nI&&await $1(n,u,n.el,o),n.didDismiss.emit({data:e,role:t}),(l=n.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:t}),fm.delete(n),n.el.classList.add("overlay-hidden"),n.el.style.removeProperty("pointer-events"),n.el.lastFocus!==void 0&&(n.el.lastFocus=void 0)}catch(c){console.error(c)}return n.el.remove(),!0},ZO=n=>n.querySelector("ion-app")||n.body,$1=async(n,e,t,i)=>{t.classList.remove("overlay-hidden");const r=n.el,s=e(r,i);(!n.animated||!je.getBoolean("animated",!0))&&s.duration(0),n.keyboardClose&&s.beforeAddWrite(()=>{const a=t.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});const o=fm.get(n)||[];return fm.set(n,[...o,s]),await s.play(),!0},Y0=(n,e)=>{let t;const i=new Promise(r=>t=r);return eI(n,e,r=>{t(r.detail)}),i},eI=(n,e,t)=>{const i=r=>{kP(n,e,i),t(r)};AP(n,e,i)},J0=n=>n==="cancel"||n===cd,tI=n=>n(),Ip=(n,e)=>{if(typeof n=="function")return je.get("_zoneGate",tI)(()=>{try{return n(e)}catch(i){throw i}})},cd="backdrop",nI="gesture",iI=n=>{let e=!1,t;const i=UO(),r=(a=!1)=>{if(t&&!a)return{delegate:t,inline:e};const{el:l,hasController:c,delegate:u}=n;return e=l.parentNode!==null&&!c,t=e?u||i:u,{inline:e,delegate:t}};return{attachViewToDom:async a=>{const{delegate:l}=r(!0);if(l)return await l.attachViewToDom(n.el,a);const{hasController:c}=n;if(c&&a!==void 0)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:a}=r();a&&n.el!==void 0&&a.removeViewFromDom(n.el.parentElement,n.el)}}},rI=()=>{let n;const e=()=>{n&&(n(),n=void 0)};return{addClickListener:(i,r)=>{e();const s=r!==void 0?document.getElementById(r):null;if(!s){ln('A trigger element with the ID "'.concat(r,'" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.'),i);return}n=((a,l)=>{const c=()=>{l.present()};return a.addEventListener("click",c),()=>{a.removeEventListener("click",c)}})(s,i)},removeClickListener:e}};function en(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]]);return t}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sI="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",oI="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",X0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",Z0="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",ev="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",aI="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",lI="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Mp;const cI=()=>{if(typeof window>"u")return new Map;if(!Mp){const n=window;n.Ionicons=n.Ionicons||{},Mp=n.Ionicons.map=n.Ionicons.map||new Map}return Mp},uI=n=>{let e=_p(n.src);return e||(e=P1(n.name,n.icon,n.mode,n.ios,n.md),e?dI(e):n.icon&&(e=_p(n.icon),e||(e=_p(n.icon[n.mode]),e))?e:null)},dI=n=>{const e=cI().get(n);return e||L$("svg/".concat(n,".svg"))},P1=(n,e,t,i,r)=>(t=(t&&zc(t))==="ios"?"ios":"md",i&&t==="ios"?n=zc(i):r&&t==="md"?n=zc(r):(!n&&e&&!O1(e)&&(n=e),ud(n)&&(n=zc(n))),!ud(n)||n.trim()===""||n.replace(/[a-z]|-|\d/gi,"")!==""?null:n),_p=n=>ud(n)&&(n=n.trim(),O1(n))?n:null,O1=n=>n.length>0&&/(\/|\.)/.test(n),ud=n=>typeof n=="string",zc=n=>n.toLowerCase(),hI=(n,e=[])=>{const t={};return e.forEach(i=>{n.hasAttribute(i)&&(n.getAttribute(i)!==null&&(t[i]=n.getAttribute(i)),n.removeAttribute(i))}),t},pI=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",fI=n=>{const e=document.createElement("div");e.innerHTML=n;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const t=e.firstElementChild;if(t&&t.nodeName.toLowerCase()==="svg"){const i=t.getAttribute("class")||"";if(t.setAttribute("class",(i+" s-ion-icon").trim()),I1(t))return e.innerHTML}return""},I1=n=>{if(n.nodeType===1){if(n.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;if(ud(t)&&t.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<n.childNodes.length;e++)if(!I1(n.childNodes[e]))return!1}return!0},mI=n=>n.startsWith("data:image/svg+xml"),gI=n=>n.indexOf(";utf8,")!==-1,xs=new Map,tv=new Map;let Dp;const yI=(n,e)=>{let t=tv.get(n);if(!t)if(typeof fetch<"u"&&typeof document<"u")if(mI(n)&&gI(n)){Dp||(Dp=new DOMParser);const r=Dp.parseFromString(n,"text/html").querySelector("svg");return r&&xs.set(n,r.outerHTML),Promise.resolve()}else t=fetch(n).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=fI(r)),xs.set(n,r||"")});xs.set(n,"")}),tv.set(n,t);else return xs.set(n,""),Promise.resolve();return t},bI=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",vI=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=wI(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=hI(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,i){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const r=this.io=new window.IntersectionObserver(s=>{s[0].isIntersecting&&(r.disconnect(),this.io=void 0,i())},{rootMargin:t});r.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=uI(this);e&&(xs.has(e)?this.svgContent=xs.get(e):yI(e,this.sanitize).then(()=>this.svgContent=xs.get(e)))}this.iconName=P1(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{iconName:e,el:t,inheritedAttributes:i}=this,r=this.mode||"md",s=this.flipRtl||e&&(e.indexOf("arrow")>-1||e.indexOf("chevron")>-1)&&this.flipRtl!==!1;return F(Ye,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},EI(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":!!s&&pI(t)})},i),this.svgContent?F("div",{class:"icon-inner",innerHTML:this.svgContent}):F("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return bI}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),wI=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",EI=n=>n?{"ion-color":!0,["ion-color-".concat(n)]:!0}:null;function ty(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,vI);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xI=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",TI=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",CI=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=Me(this,"ionBackdropTap",7),this.blocker=uh.createBlocker({disableScroll:!0}),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}connectedCallback(){this.stopPropagation&&this.blocker.block()}disconnectedCallback(){this.blocker.unblock()}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=$e(this);return F(Ye,{tabindex:"-1","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:xI,md:TI}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function M1(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,CI);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Wt=(n,e)=>e.closest(n)!==null,pn=(n,e)=>typeof n=="string"&&n.length>0?Object.assign({"ion-color":!0,["ion-color-".concat(n)]:!0},e):e,SI=n=>n!==void 0?(Array.isArray(n)?n:n.split(" ")).filter(t=>t!=null).map(t=>t.trim()).filter(t=>t!==""):[],$o=n=>{const e={};return SI(n).forEach(t=>e[t]=!0),e},NI=/^[a-z][a-z0-9+\-.]*:/,ny=async(n,e,t,i)=>{if(n!=null&&n[0]!=="#"&&!NI.test(n)){const r=document.querySelector("ion-router");if(r)return e!=null&&e.preventDefault(),r.push(n,t,i)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const AI=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px}",kI=":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}",RI=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=$e(this);return F(Ye,{class:pn(this.color,{[e]:!0})},F("slot",null))}static get style(){return{ios:AI,md:kI}}},[33,"ion-badge",{color:[513]}]);function $I(){if(typeof customElements>"u")return;["ion-badge"].forEach(e=>{switch(e){case"ion-badge":customElements.get(e)||customElements.define(e,RI);break}})}const PI=$I;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const OI=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:28px;line-height:0.67}",II=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:48px;height:48px}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",MI=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=$e(this);return F(Ye,{class:{[e]:!0,"buttons-collapse":this.collapse}})}static get style(){return{ios:OI,md:II}}},[34,"ion-buttons",{collapse:[4]}]);function _I(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,MI);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const DI=_I;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _1=n=>{const e=n;let t;return{hasLegacyControl:()=>{if(t===void 0){const r=e.label!==void 0||LI(e),s=e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby")&&e.shadowRoot===null,o=Jg(e);t=e.legacy===!0||!r&&!s&&o!==null}return t}}},LI=n=>n.shadowRoot===null?!1:!!(qI.includes(n.tagName)&&n.querySelector('[slot="label"]')!==null||BI.includes(n.tagName)&&n.textContent!==""),qI=["ION-RANGE"],BI=["ION-TOGGLE","ION-CHECKBOX","ION-RADIO"];/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FI=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",UI=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,t){return new Promise(i=>{Al(()=>{const r=this.el.getBoundingClientRect(),s=r.width,o=r.height,a=Math.sqrt(s*s+o*o),l=Math.max(o,s),c=this.unbounded?l:a+zI,u=Math.floor(l*VI),d=c/u;let h=e-r.left,p=t-r.top;this.unbounded&&(h=s*.5,p=o*.5);const y=h-u*.5,v=p-u*.5,S=s*.5-h,E=o*.5-p;Xi(()=>{const w=document.createElement("div");w.classList.add("ripple-effect");const C=w.style;C.top=v+"px",C.left=y+"px",C.width=C.height=u+"px",C.setProperty("--final-scale","".concat(d)),C.setProperty("--translate-end","".concat(S,"px, ").concat(E,"px")),(this.el.shadowRoot||this.el).appendChild(w),setTimeout(()=>{i(()=>{jI(w)})},225+100)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=$e(this);return F(Ye,{role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return FI}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),jI=n=>{n.classList.add("fade-out"),setTimeout(()=>{n.remove()},200)},zI=10,VI=.5;function hh(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,UI);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HI={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},WI=n=>{if(n===void 0||n==="")return!0;if(window.matchMedia){const e=HI[n];return window.matchMedia(e).matches}return!1},QI=":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}",Vc=typeof window<"u"?window:void 0,nv=Vc&&!!(Vc.CSS&&Vc.CSS.supports&&Vc.CSS.supports("--a: 0")),GI=["","xs","sm","md","lg","xl"],KI=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){rs(this)}getColumns(e){let t;for(const i of GI){const r=WI(i),s=this[e+i.charAt(0).toUpperCase()+i.slice(1)];r&&s!==void 0&&(t=s)}return t}calculateSize(){const e=this.getColumns("size");if(!e||e==="")return;const t=e==="auto"?"auto":nv?"calc(calc(".concat(e," / var(--ion-grid-columns, 12)) * 100%)"):e/12*100+"%";return{flex:"0 0 ".concat(t),width:"".concat(t),"max-width":"".concat(t)}}calculatePosition(e,t){const i=this.getColumns(e);if(!i)return;const r=nv?"calc(calc(".concat(i," / var(--ion-grid-columns, 12)) * 100%)"):i>0&&i<12?i/12*100+"%":"auto";return{[t]:r}}calculateOffset(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}calculatePull(e){return this.calculatePosition("pull",e?"left":"right")}calculatePush(e){return this.calculatePosition("push",e?"right":"left")}render(){const e=document.dir==="rtl",t=$e(this);return F(Ye,{class:{[t]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},F("slot",null))}static get style(){return QI}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);function YI(){if(typeof customElements>"u")return;["ion-col"].forEach(e=>{switch(e){case"ion-col":customElements.get(e)||customElements.define(e,KI);break}})}const JI=YI;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xu=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const XI=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',ZI=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=Me(this,"ionScrollStart",7),this.ionScroll=Me(this,"ionScroll",7),this.ionScrollEnd=Me(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null}disconnectedCallback(){this.onScrollEnd()}onAppLoad(){this.resize()}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,t=$e(this);return e===void 0?t==="ios"&&pr("ios"):e}resize(){this.fullscreen?Al(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,rs(this))}readDimensions(){const e=tM(this.el),t=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-t-this.el.offsetHeight,0);(t!==this.cTop||i!==this.cBottom)&&(this.cTop=t,this.cBottom=i,rs(this))}onScroll(e){const t=Date.now(),i=!this.isScrolling;this.lastScroll=t,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Al(r=>{this.queued=!1,this.detail.event=e,nM(this.detail,this.scrollEl,r,i),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Ls(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Ls(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const t=await this.getScrollElement(),i=t.scrollHeight-t.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,t,i){const r=await this.getScrollElement();return this.scrollToPoint(e+r.scrollLeft,t+r.scrollTop,i)}async scrollToPoint(e,t,i=0){const r=await this.getScrollElement();if(i<32){t!=null&&(r.scrollTop=t),e!=null&&(r.scrollLeft=e);return}let s,o=0;const a=new Promise(p=>s=p),l=r.scrollTop,c=r.scrollLeft,u=t!=null?t-l:0,d=e!=null?e-c:0,h=p=>{const y=Math.min(1,(p-o)/i)-1,v=Math.pow(y,3)+1;u!==0&&(r.scrollTop=Math.floor(v*u+l)),d!==0&&(r.scrollLeft=Math.floor(v*d+c)),v<1?requestAnimationFrame(h):s()};return requestAnimationFrame(p=>{o=p,h(p)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{isMainContent:e,scrollX:t,scrollY:i,el:r}=this,s=xu(r)?"rtl":"ltr",o=$e(this),a=this.shouldForceOverscroll(),l=o==="ios",c=e?"main":"div";return this.resize(),F(Ye,{class:pn(this.color,{[o]:!0,"content-sizing":Wt("ion-popover",this.el),overscroll:a,["content-".concat(s)]:!0}),style:{"--offset-top":"".concat(this.cTop,"px"),"--offset-bottom":"".concat(this.cBottom,"px")}},F("div",{ref:u=>this.backgroundContentEl=u,id:"background-content",part:"background"}),F(c,{class:{"inner-scroll":!0,"scroll-x":t,"scroll-y":i,overscroll:(t||i)&&a},ref:u=>this.scrollEl=u,onScroll:this.scrollEvents?u=>this.onScroll(u):void 0,part:"scroll"},F("slot",null)),l?F("div",{class:"transition-effect"},F("div",{class:"transition-cover"}),F("div",{class:"transition-shadow"})):null,F("slot",{name:"fixed"}))}get el(){return this}static get style(){return XI}},[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]]),eM=n=>{var e;return n.parentElement?n.parentElement:!((e=n.parentNode)===null||e===void 0)&&e.host?n.parentNode.host:null},tM=n=>{const e=n.closest("ion-tabs");if(e)return e;const t=n.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return t||eM(n)},nM=(n,e,t,i)=>{const r=n.currentX,s=n.currentY,o=n.currentTime,a=e.scrollLeft,l=e.scrollTop,c=t-o;if(i&&(n.startTime=t,n.startX=a,n.startY=l,n.velocityX=n.velocityY=0),n.currentTime=t,n.currentX=n.scrollLeft=a,n.currentY=n.scrollTop=l,n.deltaX=a-n.startX,n.deltaY=l-n.startY,c>0&&c<100){const u=(a-r)/c,d=(l-s)/c;n.velocityX=u*.7+n.velocityX*.3,n.velocityY=d*.7+n.velocityY*.3}};function iM(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,ZI);break}})}const rM=iM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const sM=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:16px;font-weight:500;letter-spacing:0}:host(.in-buttons){font-size:17px;font-weight:400}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:17px;font-weight:normal}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:20px}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:13px}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}',oM=':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:14px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:20px}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:13px}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',aM=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=Me(this,"ionFocus",7),this.ionBlur=Me(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:t}=this;this.type==="button"?ny(this.href,e,this.routerDirection,this.routerAnimation):o1(t)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:t}=this;if(t!==null&&e.contains(t))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,e.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=Vs(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(this.fill===void 0||this.fill==="clear")&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if(typeof e=="string"){const t=document.getElementById(e);return t?t instanceof HTMLFormElement?t:(ln('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is attached to a <form> element.'),this.el),null):(ln('Form with selector: "#'.concat(e,'" could not be found. Verify that the id is correct and the form is rendered in the DOM.'),this.el),null)}return e!==void 0?(ln('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=$e(this),{buttonType:t,type:i,disabled:r,rel:s,target:o,size:a,href:l,color:c,expand:u,hasIconOnly:d,shape:h,strong:p,inheritedAttributes:y}=this,v=a===void 0&&this.inItem?"small":a,S=l===void 0?"button":"a",E=S==="button"?{type:i}:{download:this.download,href:l,rel:s,target:o};let w=this.fill;return w==null&&(w=this.inToolbar||this.inListHeader?"clear":"solid"),i!=="button"&&this.renderHiddenButton(),F(Ye,{onClick:this.handleClick,"aria-disabled":r?"true":null,class:pn(c,{[e]:!0,[t]:!0,["".concat(t,"-").concat(u)]:u!==void 0,["".concat(t,"-").concat(v)]:v!==void 0,["".concat(t,"-").concat(h)]:h!==void 0,["".concat(t,"-").concat(w)]:!0,["".concat(t,"-strong")]:p,"in-toolbar":Wt("ion-toolbar",this.el),"in-toolbar-color":Wt("ion-toolbar[color]",this.el),"in-buttons":Wt("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":r,"ion-activatable":!0,"ion-focusable":!0})},F(S,Object.assign({},E,{class:"button-native",part:"native",disabled:r,onFocus:this.onFocus,onBlur:this.onBlur},y),F("span",{class:"button-inner"},F("slot",{name:"icon-only"}),F("slot",{name:"start"}),F("slot",null),F("slot",{name:"end"})),e==="md"&&F("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:sM,md:oM}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lM=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:16px}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:13px}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',cM=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:16px;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}@supports (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{inset-inline-start:var(--position-offset)}}@supports not (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{left:var(--position-offset)}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}@supports selector(:dir(rtl)){:host(.item-fill-outline) .item-highlight:dir(rtl){left:unset;right:unset;right:var(--position-offset)}}}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted([slot=end]){-webkit-margin-start:32px;margin-inline-start:32px}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:24px}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){-webkit-margin-end:8px;margin-inline-end:8px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:11px}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){-webkit-padding-end:16px;padding-inline-end:16px}::slotted(ion-note[slot=end]){-webkit-padding-start:16px;padding-inline-start:16px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:12px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid):dir(rtl){border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid.item-shape-round):dir(rtl){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{-webkit-padding-start:32px;padding-inline-start:32px}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}',uM=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=X0,this.disabled=!1,this.download=void 0,this.fill=void 0,this.shape=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.counter=!1,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button",this.counterFormatter=void 0,this.counterString=void 0}counterFormatterChanged(){this.updateCounterOutput(this.getFirstInput())}handleIonInput(e){this.counter&&e.target===this.getFirstInput()&&this.updateCounterOutput(e.target)}labelColorChanged(e){const{color:t}=this;t===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const t=e.target.tagName,i=e.detail,r={},s=this.itemStyles.get(t)||{};let o=!1;Object.keys(i).forEach(a=>{if(i[a]){const l="item-".concat(a);s[l]||(o=!0),r[l]=!0}}),!o&&Object.keys(r).length!==Object.keys(s).length&&(o=!0),o&&(this.itemStyles.set(t,r),rs(this))}connectedCallback(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=ch(this.el,["aria-label"])}componentDidLoad(){const{el:e,counter:t,counterFormatter:i,fill:r,shape:s}=this;e.querySelector('[slot="helper"]')!==null&&ln('The "helper" slot has been deprecated in favor of using the "helperText" property on ion-input or ion-textarea.',e),e.querySelector('[slot="error"]')!==null&&ln('The "error" slot has been deprecated in favor of using the "errorText" property on ion-input or ion-textarea.',e),t===!0&&ln('The "counter" property has been deprecated in favor of using the "counter" property on ion-input or ion-textarea.',e),i!==void 0&&ln('The "counterFormatter" property has been deprecated in favor of using the "counterFormatter" property on ion-input or ion-textarea.',e),r!==void 0&&ln('The "fill" property has been deprecated in favor of using the "fill" property on ion-input or ion-textarea.',e),s!==void 0&&ln('The "shape" property has been deprecated in favor of using the "shape" property on ion-input or ion-textarea.',e),Bn(()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()})}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),t=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=e.length+t.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}getFirstInput(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}updateCounterOutput(e){var t,i;const{counter:r,counterFormatter:s,defaultCounterFormatter:o}=this;if(r&&!this.multipleInputs&&(e==null?void 0:e.maxlength)!==void 0){const a=(i=(t=e==null?void 0:e.value)===null||t===void 0?void 0:t.toString().length)!==null&&i!==void 0?i:0;if(s===void 0)this.counterString=o(a,e.maxlength);else try{this.counterString=s(a,e.maxlength)}catch(l){k1("Exception in provided `counterFormatter`.",l),this.counterString=o(a,e.maxlength)}}}defaultCounterFormatter(e,t){return"".concat(e," / ").concat(t)}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}render(){const{counterString:e,detail:t,detailIcon:i,download:r,fill:s,labelColorStyles:o,lines:a,disabled:l,href:c,rel:u,shape:d,target:h,routerAnimation:p,routerDirection:y,inheritedAriaAttributes:v}=this,S={},E=$e(this),w=this.isClickable(),C=this.canActivate(),P=w?c===void 0?"button":"a":"div",q=P==="button"?{type:this.type}:{download:r,href:c,rel:u,target:h},H=w?{onClick:k=>{ny(c,k,y,p)}}:{},L=t!==void 0?t:E==="ios"&&w;this.itemStyles.forEach(k=>{Object.assign(S,k)});const M=l||S["item-interactive-disabled"]?"true":null,O=s||"none",Q=Wt("ion-list",this.el)&&!Wt("ion-radio-group",this.el);return F(Ye,{"aria-disabled":M,class:Object.assign(Object.assign(Object.assign({},S),o),pn(this.color,{item:!0,[E]:!0,"item-lines-default":a===void 0,["item-lines-".concat(a)]:a!==void 0,["item-fill-".concat(O)]:!0,["item-shape-".concat(d)]:d!==void 0,"item-disabled":l,"in-list":Q,"item-multiple-inputs":this.multipleInputs,"ion-activatable":C,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:Q?"listitem":null},F(P,Object.assign({},q,v,{class:"item-native",part:"native",disabled:l},H),F("slot",{name:"start"}),F("div",{class:"item-inner"},F("div",{class:"input-wrapper"},F("slot",null)),F("slot",{name:"end"}),L&&F("ion-icon",{icon:i,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":i===X0}),F("div",{class:"item-inner-highlight"})),C&&E==="md"&&F("ion-ripple-effect",null),F("div",{class:"item-highlight"})),F("div",{class:"item-bottom"},F("slot",{name:"error"}),F("slot",{name:"helper"}),e&&F("ion-note",{class:"item-counter"},e)))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{counterFormatter:["counterFormatterChanged"]}}static get style(){return{ios:lM,md:cM}}},[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const dM=".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{white-space:normal}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{font-size:14px;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:14px}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:22px;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:17px;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.4)}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",hM='.item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{white-space:normal}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(-6px) scale(0.75);transform:translateY(-6px) scale(0.75);position:relative;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content;background-color:var(--ion-item-background, var(--ion-background-color, #fff));overflow:visible;z-index:3}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{position:absolute;width:4px;height:100%;background-color:var(--ion-item-background, var(--ion-background-color, #fff));content:""}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before{left:calc(-1 * 4px)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{right:calc(-1 * 4px)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.sc-ion-label-md-h{-webkit-transform:translateX(-32px) translateY(-6px) scale(0.75);transform:translateX(-32px) translateY(-6px) scale(0.75)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating.label-rtl,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75);transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #3880ff)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.item-fill-solid.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-base)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:24px;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:16px;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:20px;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, #666666)}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}',pM=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.ionColor=Me(this,"ionColor",7),this.ionStyle=Me(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate=this.position==="floating",this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout(()=>{this.noAnimate=!1},1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":e!==void 0,["ion-color-".concat(e)]:e!==void 0})}emitStyle(){const{inRange:e,position:t}=this;e||this.ionStyle.emit({label:!0,["label-".concat(t)]:t!==void 0})}render(){const e=this.position,t=$e(this);return F(Ye,{class:pn(this.color,{[t]:!0,"in-item-color":Wt("ion-item.ion-color",this.el),["label-".concat(e)]:e!==void 0,"label-no-animate":this.noAnimate,"label-rtl":document.dir==="rtl"})})}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:dM,md:hM}}},[34,"ion-label",{color:[513],position:[1],noAnimate:[32]}]);function fM(){if(typeof customElements>"u")return;["ion-label"].forEach(e=>{switch(e){case"ion-label":customElements.get(e)||customElements.define(e,pM);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Tu=()=>{if(Pt!==void 0)return Pt.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var mm;(function(n){n.Heavy="HEAVY",n.Medium="MEDIUM",n.Light="LIGHT"})(mm||(mm={}));var iv;(function(n){n.Success="SUCCESS",n.Warning="WARNING",n.Error="ERROR"})(iv||(iv={}));const ph={getEngine(){const n=window.TapticEngine;if(n)return n;const e=Tu();if(e!=null&&e.isPluginAvailable("Haptics"))return e.Plugins.Haptics},available(){if(!this.getEngine())return!1;const e=Tu();return(e==null?void 0:e.getPlatform())==="web"?typeof navigator<"u"&&navigator.vibrate!==void 0:!0},isCordova(){return window.TapticEngine!==void 0},isCapacitor(){return Tu()!==void 0},impact(n){const e=this.getEngine();if(!e)return;const t=this.isCapacitor()?n.style:n.style.toLowerCase();e.impact({style:t})},notification(n){const e=this.getEngine();if(!e)return;const t=this.isCapacitor()?n.type:n.type.toLowerCase();e.notification({type:t})},selection(){const n=this.isCapacitor()?mm.Light:"light";this.impact({style:n})},selectionStart(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionStart():n.gestureSelectionStart())},selectionChanged(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionChanged():n.gestureSelectionChanged())},selectionEnd(){const n=this.getEngine();n&&(this.isCapacitor()?n.selectionEnd():n.gestureSelectionEnd())}},iy=()=>ph.available(),mM=()=>{iy()&&ph.selectionStart()},gM=()=>{iy()&&ph.selectionChanged()},yM=()=>{iy()&&ph.selectionEnd()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const bM="ION-CONTENT",D1="ion-content",L1=".ion-content-scroll-host",q1="".concat(D1,", ").concat(L1),Vl=n=>n.tagName===bM,rv=async n=>Vl(n)?(await new Promise(e=>Ls(n,e)),n.getScrollElement()):n,sv=n=>{const e=n.querySelector(L1);return e||n.querySelector(q1)},vM=n=>n.closest(q1),f5=(n,e)=>Vl(n)?n.scrollToTop(e):Promise.resolve(n.scrollTo({top:0,left:0,behavior:e>0?"smooth":"auto"})),m5=(n,e,t,i)=>Vl(n)?n.scrollByPoint(e,t,i):Promise.resolve(n.scrollBy({top:t,left:e,behavior:i>0?"smooth":"auto"})),ov=n=>jO(n,D1),wM=n=>{if(Vl(n)){const e=n,t=e.scrollY;return e.scrollY=!1,t}else return n.style.setProperty("overflow","hidden"),!0},EM=(n,e)=>{Vl(n)?n.scrollY=e:n.style.removeProperty("overflow")};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var gm;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(gm||(gm={}));var ym;(function(n){n.Body="body",n.Ionic="ionic",n.Native="native",n.None="none"})(ym||(ym={}));const xM={getEngine(){const n=Tu();if(n!=null&&n.isPluginAvailable("Keyboard"))return n.Plugins.Keyboard},getResizeMode(){const n=this.getEngine();return n!=null&&n.getResizeMode?n.getResizeMode().catch(e=>{if(e.code!==gm.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const B1=n=>{if(Ro===void 0||n===ym.None||n===void 0)return null;const e=Ro.querySelector("ion-app");return e!=null?e:Ro.body},av=n=>{const e=B1(n);return e===null?0:e.clientHeight},TM=async n=>{let e,t,i,r;const s=async()=>{const u=await xM.getResizeMode(),d=u===void 0?void 0:u.mode;e=()=>{r===void 0&&(r=av(d)),i=!0,o(i,d)},t=()=>{i=!1,o(i,d)},Pt==null||Pt.addEventListener("keyboardWillShow",e),Pt==null||Pt.addEventListener("keyboardWillHide",t)},o=(u,d)=>{n&&n(u,a(d))},a=u=>{if(r===0||r===av(u))return;const d=B1(u);if(d!==null)return new Promise(h=>{const p=()=>{d.clientHeight===r&&(y.disconnect(),h())},y=new ResizeObserver(p);y.observe(d)})},l=()=>{Pt==null||Pt.removeEventListener("keyboardWillShow",e),Pt==null||Pt.removeEventListener("keyboardWillHide",t),e=t=void 0},c=()=>i;return await s(),{init:s,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const CM=":host{-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;display:block;-ms-flex:1;flex:1}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}",SM=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.fixed=!1}render(){const e=$e(this);return F(Ye,{class:{[e]:!0,"grid-fixed":this.fixed}},F("slot",null))}static get style(){return CM}},[1,"ion-grid",{fixed:[4]}]);function NM(){if(typeof customElements>"u")return;["ion-grid"].forEach(e=>{switch(e){case"ion-grid":customElements.get(e)||customElements.define(e,SM);break}})}const AM=NM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kM="all 0.2s ease-in-out",lv=n=>{const e=document.querySelector("".concat(n,".ion-cloned-element"));if(e!==null)return e;const t=document.createElement(n);return t.classList.add("ion-cloned-element"),t.style.setProperty("display","none"),document.body.appendChild(t),t},cv=n=>{if(!n)return;const e=n.querySelectorAll("ion-toolbar");return{el:n,toolbars:Array.from(e).map(t=>{const i=t.querySelector("ion-title");return{el:t,background:t.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:i,innerTitleEl:i?i.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(t.querySelectorAll("ion-buttons"))}})}},RM=(n,e,t)=>{Al(()=>{const i=n.scrollTop,r=Vi(1,1+-i/500,1.1);t.querySelector("ion-refresher.refresher-native")===null&&Xi(()=>{OM(e.toolbars,r)})})},ry=(n,e)=>{n.collapse!=="fade"&&(e===void 0?n.style.removeProperty("--opacity-scale"):n.style.setProperty("--opacity-scale",e.toString()))},$M=(n,e,t)=>{if(!n[0].isIntersecting)return;const i=n[0].intersectionRatio>.9||t<=0?0:(1-n[0].intersectionRatio)*100/75;ry(e.el,i===1?void 0:i)},PM=(n,e,t,i)=>{Xi(()=>{const r=i.scrollTop;$M(n,e,r);const s=n[0],o=s.intersectionRect,a=o.width*o.height,l=s.rootBounds.width*s.rootBounds.height,c=a===0&&l===0,u=Math.abs(o.left-s.boundingClientRect.left),d=Math.abs(o.right-s.boundingClientRect.right),h=a>0&&(u>=5||d>=5);c||h||(s.isIntersecting?(Wa(e,!1),Wa(t)):(o.x===0&&o.y===0||o.width!==0&&o.height!==0)&&r>0&&(Wa(e),Wa(t,!1),ry(e.el)))})},Wa=(n,e=!0)=>{const t=n.el;e?(t.classList.remove("header-collapse-condense-inactive"),t.removeAttribute("aria-hidden")):(t.classList.add("header-collapse-condense-inactive"),t.setAttribute("aria-hidden","true"))},OM=(n=[],e=1,t=!1)=>{n.forEach(i=>{const r=i.ionTitleEl,s=i.innerTitleEl;!r||r.size!=="large"||(s.style.transition=t?kM:"",s.style.transform="scale3d(".concat(e,", ").concat(e,", 1)"))})},uv=(n,e,t)=>{Al(()=>{const i=n.scrollTop,r=e.clientHeight,s=t?t.clientHeight:0;if(t!==null&&i<s){e.style.setProperty("--opacity-scale","0"),n.style.setProperty("clip-path","inset(".concat(r,"px 0px 0px 0px)"));return}const o=i-s,l=Vi(0,o/10,1);Xi(()=>{n.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},IM="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:1px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}",MM="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",_M=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,t)=>{const i=this.scrollEl=await rv(e);this.contentScrollCallback=()=>{uv(this.scrollEl,this.el,t)},i.addEventListener("scroll",this.contentScrollCallback),uv(this.scrollEl,this.el,t)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=Vs(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if($e(this)!=="ios")return;const{collapse:t}=this,i=t==="condense",r=t==="fade";if(this.destroyCollapsibleHeader(),i){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?sv(s):null;Xi(()=>{const a=lv("ion-title");a.size="large",lv("ion-back-button")}),await this.setupCondenseHeader(o,s)}else if(r){const s=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),o=s?sv(s):null;if(!o){ov(this.el);return}const a=o.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(o,a)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,t){if(!e||!t){ov(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=await rv(e);const i=t.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;const r=cv(this.collapsibleMainHeader),s=cv(this.el);if(!r||!s)return;Wa(r,!1),ry(r.el,0);const o=a=>{PM(a,r,s,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(o,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(s.toolbars[s.toolbars.length-1].el),this.contentScrollCallback=()=>{RM(this.scrollEl,s,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),Xi(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})}render(){const{translucent:e,inheritedAttributes:t}=this,i=$e(this),r=this.collapse||"none",s=Wt("ion-menu",this.el)?"none":"banner";return F(Ye,Object.assign({role:s,class:{[i]:!0,["header-".concat(i)]:!0,"header-translucent":this.translucent,["header-collapse-".concat(r)]:!0,["header-translucent-".concat(i)]:this.translucent}},t),i==="ios"&&e&&F("div",{class:"header-background"}),F("slot",null))}get el(){return this}static get style(){return{ios:IM,md:MM}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function DM(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,_M);break}})}const LM=DM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qM={bubbles:{dur:1e3,circles:9,fn:(n,e,t)=>{const i="".concat(n*e/t-n,"ms"),r=2*Math.PI*e/t;return{r:5,style:{top:"".concat(32*Math.sin(r),"%"),left:"".concat(32*Math.cos(r),"%"),"animation-delay":i}}}},circles:{dur:1e3,circles:8,fn:(n,e,t)=>{const i=e/t,r="".concat(n*i-n,"ms"),s=2*Math.PI*i;return{r:5,style:{top:"".concat(32*Math.sin(s),"%"),left:"".concat(32*Math.cos(s),"%"),"animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(n,e)=>{const t=-(110*e)+"ms";return{r:6,style:{left:"".concat(32-32*e,"%"),"animation-delay":t}}}},lines:{dur:1e3,lines:8,fn:(n,e,t)=>{const i="rotate(".concat(360/t*e+(e<t/2?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:14,y2:26,style:{transform:i,"animation-delay":r}}}},"lines-small":{dur:1e3,lines:8,fn:(n,e,t)=>{const i="rotate(".concat(360/t*e+(e<t/2?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}},"lines-sharp":{dur:1e3,lines:12,fn:(n,e,t)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:17,y2:29,style:{transform:i,"animation-delay":r}}}},"lines-sharp-small":{dur:1e3,lines:12,fn:(n,e,t)=>{const i="rotate(".concat(30*e+(e<6?180:-180),"deg)"),r="".concat(n*e/t-n,"ms");return{y1:12,y2:20,style:{transform:i,"animation-delay":r}}}}},dv=qM,BM=":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}",FM=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||je.get("spinner"),t=$e(this);return e||(t==="ios"?"lines":"circular")}render(){var e;const t=this,i=$e(t),r=t.getName(),s=(e=dv[r])!==null&&e!==void 0?e:dv.lines,o=typeof t.duration=="number"&&t.duration>10?t.duration:s.dur,a=[];if(s.circles!==void 0)for(let l=0;l<s.circles;l++)a.push(UM(s,o,l,s.circles));else if(s.lines!==void 0)for(let l=0;l<s.lines;l++)a.push(jM(s,o,l,s.lines));return F(Ye,{class:pn(t.color,{[i]:!0,["spinner-".concat(r)]:!0,"spinner-paused":t.paused||je.getBoolean("_testing")}),role:"progressbar",style:s.elmDuration?{animationDuration:o+"ms"}:{}},a)}static get style(){return BM}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),UM=(n,e,t,i)=>{const r=n.fn(e,t,i);return r.style["animation-duration"]=e+"ms",F("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},F("circle",{transform:r.transform||"translate(32,32)",cx:r.cx,cy:r.cy,r:r.r,style:n.elmDuration?{animationDuration:e+"ms"}:{}}))},jM=(n,e,t,i)=>{const r=n.fn(e,t,i);return r.style["animation-duration"]=e+"ms",F("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},F("line",{transform:"translate(32,32)",y1:r.y1,y2:r.y2}))};function zM(){if(typeof customElements>"u")return;["ion-spinner"].forEach(e=>{switch(e){case"ion-spinner":customElements.get(e)||customElements.define(e,FM);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const VM=(n,e,t)=>{let i;const r=()=>!(e()===void 0||n.label!==void 0||t()===null),s=()=>{r()&&Bn(()=>{o()})},o=()=>{const l=e();if(l===void 0)return;if(!r()){l.style.removeProperty("width");return}const c=t().scrollWidth;if(c===0&&l.offsetParent===null&&Pt!==void 0&&"IntersectionObserver"in Pt){if(i!==void 0)return;const u=i=new IntersectionObserver(d=>{d[0].intersectionRatio===1&&(o(),u.disconnect(),i=void 0)},{threshold:.01,root:n});u.observe(l);return}l.style.setProperty("width","".concat(c*.75,"px"))};return{calculateNotchWidth:s,destroy:()=>{i&&(i.disconnect(),i=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const HM=(n,e,t)=>{let i,r;Pt!==void 0&&"MutationObserver"in Pt&&(i=new MutationObserver(l=>{for(const c of l)for(const u of c.addedNodes)if(u.nodeType===Node.ELEMENT_NODE&&u.slot===e){t(),Bn(()=>s(u));return}}),i.observe(n,{childList:!0}));const s=l=>{var c;r&&(r.disconnect(),r=void 0),r=new MutationObserver(u=>{t();for(const d of u)for(const h of d.removedNodes)h.nodeType===Node.ELEMENT_NODE&&h.slot===e&&a()}),r.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},o=()=>{i&&(i.disconnect(),i=void 0),a()},a=()=>{r&&(r.disconnect(),r=void 0)};return{destroy:o}},WM=(n,e,t)=>{const i=n==null?0:n.toString().length,r=QM(i,e);if(t===void 0)return r;try{return t(i,e)}catch(s){return k1("Exception in provided `counterFormatter`.",s),r}},QM=(n,e)=>"".concat(n," / ").concat(e);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const GM=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-ios-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-ios-h .native-input.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-ios-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-ios-h{--padding-start:0}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.legacy-input.ion-color.sc-ion-input-ios-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{left:0}[dir=rtl].sc-ion-input-ios-h .cloned-input.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-ios .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-ios:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.legacy-input.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.has-focus.sc-ion-input-ios-h{pointer-events:none}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h a.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h button.sc-ion-input-ios{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-ios-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-ios-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl),.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-focus.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));font-size:inherit}.legacy-input.sc-ion-input-ios-h{--padding-top:10px;--padding-end:8px;--padding-bottom:10px;--padding-start:0}.item-label-stacked.sc-ion-input-ios-h,.item-label-stacked .sc-ion-input-ios-h,.item-label-floating.sc-ion-input-ios-h,.item-label-floating .sc-ion-input-ios-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0px}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.sc-ion-input-ios-h:not(.legacy-input){min-height:44px}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.legacy-input.sc-ion-input-ios-h .native-input[disabled].sc-ion-input-ios,.input-disabled.sc-ion-input-ios-h{opacity:0.3}",KM=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-md-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-md-h .native-input.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-md-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-md-h{--padding-start:0}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.legacy-input.ion-color.sc-ion-input-md-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .cloned-input.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-md:disabled{opacity:1}.legacy-input.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.has-focus.sc-ion-input-md-h{pointer-events:none}.has-focus.sc-ion-input-md-h input.sc-ion-input-md,.has-focus.sc-ion-input-md-h a.sc-ion-input-md,.has-focus.sc-ion-input-md-h button.sc-ion-input-md{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-md-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-md-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, #f2f2f2);--border-color:var(--ion-color-step-500, gray);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, #e6e6e6);--border-color:var(--ion-color-step-750, #404040)}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, #d9d9d9);--border-color:var(--ion-color-step-750, #404040)}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl].input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}}.input-fill-solid.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, #b3b3b3);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, #404040)}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:2px;--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md:dir(rtl){border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px;-ms-flex-positive:1;flex-grow:1}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));font-size:inherit}.legacy-input.sc-ion-input-md-h{--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:8px}.item-label-stacked.sc-ion-input-md-h,.item-label-stacked .sc-ion-input-md-h,.item-label-floating.sc-ion-input-md-h,.item-label-floating .sc-ion-input-md-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.legacy-input.sc-ion-input-md-h .native-input[disabled].sc-ion-input-md,.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.sc-ion-input-md-h:not(.legacy-input){min-height:56px}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:2px;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}@supports (inset-inline-start: 0){.input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}@supports (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl].in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}",YM=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.ionInput=Me(this,"ionInput",7),this.ionChange=Me(this,"ionChange",7),this.ionBlur=Me(this,"ionBlur",7),this.ionFocus=Me(this,"ionFocus",7),this.ionStyle=Me(this,"ionStyle",7),this.inputId="ion-input-".concat(JM++),this.inheritedAttributes={},this.isComposing=!1,this.hasLoggedDeprecationWarning=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const t=e.target;t&&(this.value=t.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.emitStyle(),this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.emitStyle(),this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.accept=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.legacy=void 0,this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.size=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:i}=this;this.ionInput=t===void 0?i!=null?i:e:a1(e,t)}disabledChanged(){this.emitStyle()}placeholderChanged(){this.emitStyle()}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&!this.isComposing&&(e.value=t),this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Vs(this.el)),ch(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:e}=this;this.legacyFormController=_1(e),this.slotMutationController=HM(e,"label",()=>rs(this)),this.notchController=VM(e,()=>this.notchSpacerEl,()=>this.labelSlot),this.emitStyle(),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}getInputElement(){return Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,i=t==null?t:t.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:t}=this,i=t==null?t:t.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:t}=this;return t===void 0?e==="password":t}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,input:!0,"has-placeholder":this.placeholder!==void 0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"interactive-disabled":this.disabled})}checkClearOnEdit(e){this.shouldClearOnEdit()&&(!this.didInputClearOnEdit&&this.hasValue()&&e.key!=="Enter"&&e.key!=="Tab"&&(this.value="",this.emitInputChange(e)),this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:t}=this;return[F("div",{class:"helper-text"},e),F("div",{class:"error-text"},t)]}renderCounter(){const{counter:e,maxlength:t,counterFormatter:i,value:r}=this;if(!(e!==!0||t===void 0))return F("div",{class:"counter"},WM(r,t,i))}renderBottomContent(){const{counter:e,helperText:t,errorText:i,maxlength:r}=this;if(!(!(t||i)&&!(e===!0&&r!==void 0)))return F("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return F("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?F("slot",{name:"label"}):F("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return $e(this)==="md"&&this.fill==="outline"?[F("div",{class:"input-outline-container"},F("div",{class:"input-outline-start"}),F("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},F("div",{class:"notch-spacer","aria-hidden":"true",ref:i=>this.notchSpacerEl=i},this.label)),F("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}renderInput(){const{disabled:e,fill:t,readonly:i,shape:r,inputId:s,labelPlacement:o}=this,a=$e(this),l=this.getValue(),c=Wt("ion-item",this.el),u=a==="md"&&t!=="outline"&&!c;return F(Ye,{class:pn(this.color,{[a]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,["input-fill-".concat(t)]:t!==void 0,["input-shape-".concat(r)]:r!==void 0,["input-label-placement-".concat(o)]:!0,"in-item":c,"in-item-color":Wt("ion-item.ion-color",this.el),"input-disabled":e})},F("label",{class:"input-wrapper"},this.renderLabelContainer(),F("div",{class:"native-wrapper"},F("input",Object.assign({class:"native-input",ref:d=>this.nativeInput=d,id:s,disabled:e,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:l,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd},this.inheritedAttributes)),this.clearInput&&!i&&!e&&F("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:d=>{d.preventDefault()},onClick:this.clearTextInput},F("ion-icon",{"aria-hidden":"true",icon:a==="ios"?Z0:ev}))),u&&F("div",{class:"input-highlight"})),this.renderBottomContent())}renderLegacyInput(){this.hasLoggedDeprecationWarning||(ln('ion-input now requires providing a label with either the "label" property or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the "label" property or the "aria-label" attribute.\n\nExample: <ion-input label="Email"></ion-input>\nExample with aria-label: <ion-input aria-label="Email"></ion-input>\n\nFor inputs that do not render the label immediately next to the input, developers may continue to use "ion-label" but must manually associate the label with the input by using "aria-labelledby".\n\nDevelopers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.',this.el),this.legacy&&ln('ion-input is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.\n\nDevelopers can dismiss this warning by removing their usage of the "legacy" property and using the new input syntax.',this.el),this.hasLoggedDeprecationWarning=!0);const e=$e(this),t=this.getValue(),i=this.inputId+"-lbl",r=Jg(this.el);return r&&(r.id=i),F(Ye,{"aria-disabled":this.disabled?"true":null,class:pn(this.color,{[e]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"legacy-input":!0,"in-item-color":Wt("ion-item.ion-color",this.el)})},F("input",Object.assign({class:"native-input",ref:s=>this.nativeInput=s,"aria-labelledby":r?r.id:null,disabled:this.disabled,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:t,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown},this.inheritedAttributes)),this.clearInput&&!this.readonly&&!this.disabled&&F("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:s=>{s.preventDefault()},onClick:this.clearTextInput},F("ion-icon",{"aria-hidden":"true",icon:e==="ios"?Z0:ev})))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyInput():this.renderInput()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],disabled:["disabledChanged"],placeholder:["placeholderChanged"],value:["valueChanged"]}}static get style(){return{ios:GM,md:KM}}},[38,"ion-input",{color:[513],accept:[1],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[4],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],legacy:[4],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[4],required:[4],shape:[1],spellcheck:[4],step:[1],size:[2],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]}]);let JM=0;function XM(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,YM);break;case"ion-icon":customElements.get(e)||ty();break}})}const ZM=XM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const e_=fM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const t_="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:last-child{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",n_="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}@supports (inset-inline-start: 0){.list-md>.input:last-child::after{inset-inline-start:0}}@supports not (inset-inline-start: 0){.list-md>.input:last-child::after{left:0}:host-context([dir=rtl]) .list-md>.input:last-child::after{left:unset;right:unset;right:0}[dir=rtl] .list-md>.input:last-child::after{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.list-md>.input:last-child::after:dir(rtl){left:unset;right:unset;right:0}}}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:first-child{--border-radius:2px 2px 0 0}.list-md.list-inset ion-item:last-child{--border-radius:0 0 2px, 2px;--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",i_=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=$e(this),{lines:t,inset:i}=this;return F(Ye,{role:"list",class:{[e]:!0,["list-".concat(e)]:!0,"list-inset":i,["list-lines-".concat(t)]:t!==void 0,["list-".concat(e,"-lines-").concat(t)]:t!==void 0}})}get el(){return this}static get style(){return{ios:t_,md:n_}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function r_(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,i_);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const s_=r_,o_=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start) .menu-inner:dir(rtl){left:unset;right:unset;left:auto;right:0}}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end) .menu-inner:dir(rtl){left:unset;right:unset;left:0;right:auto}}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none !important;transform:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}:host(.menu-pane-visible) ion-backdrop{display:hidden !important;}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",a_=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start) .menu-inner:dir(rtl){left:unset;right:unset;left:auto;right:0}}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end) .menu-inner:dir(rtl){left:unset;right:unset;left:0;right:auto}}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none !important;transform:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}:host(.menu-pane-visible) ion-backdrop{display:hidden !important;}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",l_="cubic-bezier(0.32,0.72,0,1)",c_="cubic-bezier(0.0,0.0,0.2,1)",u_="cubic-bezier(1, 0, 0.68, 0.28)",d_="cubic-bezier(0.4, 0, 0.6, 1)",hv='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',h_=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=Me(this,"ionWillOpen",7),this.ionWillClose=Me(this,"ionWillClose",7),this.ionDidOpen=Me(this,"ionDidOpen",7),this.ionDidClose=Me(this,"ionDidClose",7),this.ionMenuChange=Me(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=uh.createBlocker({disableScroll:!0}),this.didLoad=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const t=ld(document);t&&!t.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,t){const i=this.contentEl;i&&(t!==void 0&&i.classList.remove("menu-content-".concat(t)),i.classList.add("menu-content-".concat(e)),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=U0(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=je.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){console.error('Menu: must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&console.error('Menu: "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),cr._register(this),this.menuChanged(),this.gesture=(await an(()=>Promise.resolve().then(()=>b1),void 0)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:t=>this.canStart(t),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=Vs(this.el)}async componentDidLoad(){this.didLoad=!0,this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),cr._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){this.isPaneVisible=e.detail.isPane(this.el),this.updateState()}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close())}onKeydown(e){e.key==="Escape"&&this.close()}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0){return this.setOpen(!1,e)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,t=!0){return cr._setOpen(this,e,t)}focusFirstDescendant(){const{el:e}=this,t=e.querySelector(hv);t?t.focus():e.focus()}focusLastDescendant(){const{el:e}=this,t=Array.from(e.querySelectorAll(hv)),i=t.length>0?t[t.length-1]:null;i?i.focus():e.focus()}trapKeyboardFocus(e,t){const i=e.target;i&&(this.el.contains(i)?this.lastFocus=i:(this.focusFirstDescendant(),this.lastFocus===t.activeElement&&this.focusLastDescendant()))}async _setOpen(e,t=!0){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e),await this.loadAnimation(),await this.startAnimation(e,t),this.afterAnimation(e),!0)}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,t=U0(this.side);e===this.width&&this.animation!==void 0&&t===this.isEndSide||(this.width=e,this.isEndSide=t,this.animation&&(this.animation.destroy(),this.animation=void 0),this.animation=await cr._createAnimation(this.type,this),je.getBoolean("animated",!0)||this.animation.duration(0),this.animation.fill("both"))}async startAnimation(e,t){const i=!e,r=$e(this),s=r==="ios"?l_:c_,o=r==="ios"?u_:d_,a=this.animation.direction(i?"reverse":"normal").easing(i?o:s).onFinish(()=>{a.getDirection()==="reverse"&&a.direction("normal")});t?await a.play():a.play({sync:!0})}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:cr._getOpenSync()?!1:p_(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){At(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){At(!1,"isAnimating has to be true");return}const i=pv(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-i:i)}onEnd(e){if(!this.isAnimating||!this.animation){At(!1,"isAnimating has to be true");return}const t=this._isOpen,i=this.isEndSide,r=pv(e.deltaX,t,i),s=this.width,o=r/s,a=e.velocityX,l=s/2,c=a>=0&&(a>.2||e.deltaX>l),u=a<=0&&(a<-.2||e.deltaX<-l),d=t?i?c:u:i?u:c;let h=!t&&d;t&&!d&&(h=!0),this.lastOnEnd=e.currentTime;let p=d?.001:-.001;const y=o<0?.01:o;p+=kl([0,0],[.4,0],[.6,1],[1,1],Vi(0,y,.9999))[0]||0;const v=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(h),{oneTimeCallback:!0}).progressEnd(v?1:0,this._isOpen?1-p:p,300)}beforeAnimation(e){At(!this.isAnimating,"_before() should not be called while animating"),this.el.classList.add(fv),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(mv),this.contentEl&&(this.contentEl.classList.add(gv),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit()}afterAnimation(e){var t;At(this.isAnimating,"_before() should be called while animating"),this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(this.ionDidOpen.emit(),((t=document.activeElement)===null||t===void 0?void 0:t.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.classList.remove(fv),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(gv),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(mv),this.animation&&this.animation.stop(),this.ionDidClose.emit(),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),!e&&this._isOpen&&this.forceClosing(),Ro!=null&&Ro.contains(this.el)&&(this.disabled||cr._setActiveMenu(this)),At(!this.isAnimating,"can not be animating")}forceClosing(){At(this._isOpen,"menu cannot be closed"),this.isAnimating=!0,this.animation.direction("reverse").play({sync:!0}),this.afterAnimation(!1)}render(){const{type:e,disabled:t,isPaneVisible:i,inheritedAttributes:r,side:s}=this,o=$e(this);return F(Ye,{role:"navigation","aria-label":r["aria-label"]||"menu",class:{[o]:!0,["menu-type-".concat(e)]:!0,"menu-enabled":!t,["menu-side-".concat(s)]:!0,"menu-pane-visible":i}},F("div",{class:"menu-inner",part:"container",ref:a=>this.menuInnerEl=a},F("slot",null)),F("ion-backdrop",{ref:a=>this.backdropEl=a,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:o_,md:a_}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]]),pv=(n,e,t)=>Math.max(0,e!==t?-n:n),p_=(n,e,t,i)=>t?e>=n.innerWidth-i:e<=i,fv="show-menu",mv="show-backdrop",gv="menu-content-open";function f_(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,h_);break;case"ion-backdrop":customElements.get(e)||M1();break}})}const m_=f_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const F1=async n=>{const e=await cr.get(n);return!!(e&&await e.isActive())};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const g_=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--padding-start:5px;--padding-end:5px;height:32px;font-size:31px}:host(.ion-activated){opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',y_=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:.04;--border-radius:50%;--color:initial;--padding-start:8px;--padding-end:8px;width:48px;height:48px;font-size:24px}:host(.ion-color.ion-focused)::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',b_=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async()=>cr.toggle(this.menu),this.visible=!1,this.color=void 0,this.disabled=!1,this.menu=void 0,this.autoHide=!0,this.type="button"}componentWillLoad(){this.inheritedAttributes=Vs(this.el)}componentDidLoad(){this.visibilityChanged()}async visibilityChanged(){this.visible=await F1(this.menu)}render(){const{color:e,disabled:t,inheritedAttributes:i}=this,r=$e(this),s=je.get("menuIcon",r==="ios"?aI:lI),o=this.autoHide&&!this.visible,a={type:this.type},l=i["aria-label"]||"menu";return F(Ye,{onClick:this.onClick,"aria-disabled":t?"true":null,"aria-hidden":o?"true":null,class:pn(e,{[r]:!0,button:!0,"menu-button-hidden":o,"menu-button-disabled":t,"in-toolbar":Wt("ion-toolbar",this.el),"in-toolbar-color":Wt("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0})},F("button",Object.assign({},a,{disabled:t,class:"button-native",part:"native","aria-label":l}),F("span",{class:"button-inner"},F("slot",null,F("ion-icon",{part:"icon",icon:s,mode:r,lazy:!1,"aria-hidden":"true"}))),r==="md"&&F("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:g_,md:y_}}},[33,"ion-menu-button",{color:[513],disabled:[4],menu:[1],autoHide:[4,"auto-hide"],type:[1],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function v_(){if(typeof customElements>"u")return;["ion-menu-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-menu-button":customElements.get(e)||customElements.define(e,b_);break;case"ion-icon":customElements.get(e)||ty();break;case"ion-ripple-effect":customElements.get(e)||hh();break}})}const w_=v_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const E_=":host(.menu-toggle-hidden){display:none}",x_=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>cr.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await F1(this.menu)}render(){const e=$e(this),t=this.autoHide&&!this.visible;return F(Ye,{onClick:this.onClick,"aria-hidden":t?"true":null,class:{[e]:!0,"menu-toggle-hidden":t}},F("slot",null))}static get style(){return E_}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function T_(){if(typeof customElements>"u")return;["ion-menu-toggle"].forEach(e=>{switch(e){case"ion-menu-toggle":customElements.get(e)||customElements.define(e,x_);break}})}const C_=T_,U1=1,j1=2,dd=3;class bm{constructor(e,t){this.component=e,this.params=t,this.state=U1}async init(e){if(this.state=j1,!this.element){const t=this.component;this.element=await A1(this.delegate,e,t,["ion-page","ion-page-invisible"],this.params)}}_destroy(){At(this.state!==dd,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=dd}}const yv=(n,e,t)=>!n||n.component!==e?!1:l1(n.params,t),bv=(n,e)=>n?n instanceof bm?n:new bm(n,e):null,S_=n=>n.map(e=>e instanceof bm?e:"component"in e?bv(e.component,e.componentProps===null?void 0:e.componentProps):bv(e,void 0)).filter(e=>e!==null),N_=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}",A_=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Me(this,"ionNavWillLoad",7),this.ionNavWillChange=Me(this,"ionNavWillChange",3),this.ionNavDidChange=Me(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=$e(this);this.swipeGesture=je.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await an(()=>import("./swipe-back-8b37b005.js"),[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)ur(e.element,Pp),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,t,i,r){return this.insert(-1,e,t,i,r)}insert(e,t,i,r,s){return this.insertPages(e,[{component:t,componentProps:i}],r,s)}insertPages(e,t,i,r){return this.queueTrns({insertStart:e,insertViews:t,opts:i},r)}pop(e,t){return this.removeIndex(-1,1,e,t)}popTo(e,t,i){const r={removeStart:-1,removeCount:-1,opts:t};return typeof e=="object"&&e.component?(r.removeView=e,r.removeStart=1):typeof e=="number"&&(r.removeStart=e+1),this.queueTrns(r,i)}popToRoot(e,t){return this.removeIndex(1,-1,e,t)}removeIndex(e,t=1,i,r){return this.queueTrns({removeStart:e,removeCount:t,opts:i},r)}setRoot(e,t,i,r){return this.setPages([{component:e,componentProps:t}],i,r)}setPages(e,t,i){return t!=null||(t={}),t.animated!==!0&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},i)}setRouteId(e,t,i,r){const s=this.getActiveSync();if(yv(s,e,t))return Promise.resolve({changed:!1,element:s.element});let o;const a=new Promise(u=>o=u);let l;const c={updateURL:!1,viewIsReady:u=>{let d;const h=new Promise(p=>d=p);return o({changed:!0,element:u,markVisible:async()=>{d(),await l}}),h}};if(i==="root")l=this.setRoot(e,t,c);else{const u=this.views.find(d=>yv(d,e,t));u?l=this.popTo(u,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:r})):i==="forward"?l=this.push(e,t,Object.assign(Object.assign({},c),{animationBuilder:r})):i==="back"&&(l=this.setRoot(e,t,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:r})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const t=this.views,i=t.indexOf(e);return i>0?t[i-1]:void 0}async queueTrns(e,t){var i,r;if(this.isTransitioning&&(!((i=e.opts)===null||i===void 0)&&i.skipIfBusy))return!1;const s=new Promise((o,a)=>{e.resolve=o,e.reject=a});if(e.done=t,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const o=document.querySelector("ion-router");if(o){const a=await o.canTransition();if(a===!1)return!1;if(typeof a=="string")return o.push(a,e.opts.direction||"back"),!1}}return((r=e.insertViews)===null||r===void 0?void 0:r.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),s}success(e,t){if(this.destroyed){this.fireError("nav controller was destroyed",t);return}if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),t.opts.updateURL!==!1&&this.useRouter){const i=document.querySelector("ion-router");if(i){const r=e.direction==="back"?"back":"forward";i.navChanged(r)}}}failed(e,t){if(this.destroyed){this.fireError("nav controller was destroyed",t);return}this.transInstr.length=0,this.fireError(e,t)}fireError(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const t=this.getActiveSync(),i=this.getEnteringView(e,t);if(!t&&!i)throw new Error("no views in the stack to be removed");i&&i.state===U1&&await i.init(this.el),this.postViewInit(i,t,e);const r=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==t;r&&e.opts&&t&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(i==null?void 0:i.animationBuilder)),t.animationBuilder=e.opts.animationBuilder);let s;r?s=await this.transition(i,t,e):s={hasCompleted:!0,requiresTransition:!1},this.success(s,e),this.ionNavDidChange.emit()}catch(t){this.failed(t,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var t,i,r;const s=this.views.length;if((t=e.opts)!==null&&t!==void 0||(e.opts={}),(i=(r=e.opts).delegate)!==null&&i!==void 0||(r.delegate=this.delegate),e.removeView!==void 0){At(e.removeStart!==void 0,"removeView needs removeStart"),At(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=s-1),e.removeCount<0&&(e.removeCount=s-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===s),e.insertViews&&((e.insertStart<0||e.insertStart>s)&&(e.insertStart=s),e.enteringRequiresTransition=e.insertStart===s);const o=e.insertViews;if(!o)return;At(o.length>0,"length can not be zero");const a=S_(o);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===dd)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,t){const i=e.insertViews;if(i!==void 0)return i[i.length-1];const r=e.removeStart;if(r!==void 0){const s=this.views,o=r+e.removeCount;for(let a=s.length-1;a>=0;a--){const l=s[a];if((a<r||a>=o)&&l!==t)return l}}}postViewInit(e,t,i){var r,s,o;At(t||e,"Both leavingView and enteringView are null"),At(i.resolve,"resolve must be valid"),At(i.reject,"reject must be valid");const a=i.opts,{insertViews:l,removeStart:c,removeCount:u}=i;let d;if(c!==void 0&&u!==void 0){At(c>=0,"removeStart can not be negative"),At(u>=0,"removeCount can not be negative"),d=[];for(let p=c;p<c+u;p++){const y=this.views[p];y!==void 0&&y!==e&&y!==t&&d.push(y)}(r=a.direction)!==null&&r!==void 0||(a.direction="back")}const h=this.views.length+((s=l==null?void 0:l.length)!==null&&s!==void 0?s:0)-(u!=null?u:0);if(At(h>=0,"final balance can not be negative"),h===0)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let p=i.insertStart;for(const y of l)this.insertViewAt(y,p),p++;i.enteringRequiresTransition&&((o=a.direction)!==null&&o!==void 0||(a.direction="forward"))}if(d&&d.length>0){for(const p of d)ur(p.element,c1),ur(p.element,u1),ur(p.element,Pp);for(const p of d)this.destroyView(p)}}async transition(e,t,i){const r=i.opts,s=r.progressAnimation?d=>{d!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,d.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),d.progressEnd(0,0,0)):this.sbAni=d}:void 0,o=$e(this),a=e.element,l=t&&t.element,c=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:s,animated:this.animated&&je.getBoolean("animated",!0),enteringEl:a,leavingEl:l},r),{animationBuilder:r.animationBuilder||this.animation||je.get("navAnimation")}),{hasCompleted:u}=await d1(c);return this.transitionFinish(u,e,t,r)}transitionFinish(e,t,i,r){const s=e?t:i;return s&&this.unmountInactiveViews(s),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:i,direction:r.direction}}insertViewAt(e,t){const i=this.views,r=i.indexOf(e);r>-1?(At(e.nav===this,"view is not part of the nav"),i.splice(r,1),i.splice(t,0,e)):(At(!e.nav,"nav is used"),e.nav=this,i.splice(t,0,e))}removeView(e){At(e.state===j1||e.state===dd,"view state should be loaded or destroyed");const t=this.views,i=t.indexOf(e);At(i>-1,"view must be part of the stack"),i>=0&&t.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const t=this.views,i=t.indexOf(e);for(let r=t.length-1;r>=0;r--){const s=t[r],o=s.element;o&&(r>i?(ur(o,Pp),this.destroyView(s)):r<i&&um(o,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,t,i){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let r=e?-.001:.001;e?r+=kl([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),r+=kl([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,r,i)}else this.gestureOrAnimationInProgress=!1}render(){return F("slot",null)}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return N_}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]}]);function k_(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,A_);break}})}const R_=k_;function $_(n){return n%1===0?0:n.toString().split(".")[1].length}function P_(n,...e){const t=Math.max(...e.map(i=>$_(i)));return Number(n.toFixed(t))}const O_=":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}@supports (inset-inline-start: 0){.range-knob-handle{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob-handle{left:0}:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}[dir=rtl] .range-knob-handle{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}@supports (inset-inline-start: 0){.range-bar-container{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-bar-container{left:0}:host-context([dir=rtl]) .range-bar-container{left:unset;right:unset;right:0}[dir=rtl] .range-bar-container{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}@supports (inset-inline-start: 0){.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}}@supports not (inset-inline-start: 0){.range-knob{left:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}}}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host{--knob-border-radius:50%;--knob-background:#ffffff;--knob-box-shadow:0px 0.5px 4px rgba(0, 0, 0, 0.12), 0px 6px 13px rgba(0, 0, 0, 0.12);--knob-size:26px;--bar-height:4px;--bar-background:var(--ion-color-step-900, #e6e6e6);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:2px;--height:42px}:host(.legacy-range){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:8px;padding-bottom:8px}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-tick-active{background:var(--ion-color-base)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin){padding-top:20px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-bar-active.has-ticks{border-radius:0;-webkit-margin-start:-2px;margin-inline-start:-2px;-webkit-margin-end:-2px;margin-inline-end:-2px}.range-tick{-webkit-margin-start:-2px;margin-inline-start:-2px;border-radius:0;position:absolute;top:17px;width:4px;height:8px;background:var(--ion-color-step-900, #e6e6e6);pointer-events:none}.range-tick-active{background:var(--bar-background-active)}.range-pin{-webkit-transform:translate3d(0,  28px,  0) scale(0.01);transform:translate3d(0,  28px,  0) scale(0.01);-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;display:inline-block;position:relative;top:-20px;min-width:28px;-webkit-transition:-webkit-transform 120ms ease;transition:-webkit-transform 120ms ease;transition:transform 120ms ease;transition:transform 120ms ease, -webkit-transform 120ms ease;background:transparent;color:var(--ion-text-color, #000);font-size:12px;text-align:center}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0,  0,  0) scale(1);transform:translate3d(0,  0,  0) scale(1)}:host(.range-disabled){opacity:0.3}",I_=':host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}@supports (inset-inline-start: 0){.range-knob-handle{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob-handle{left:0}:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}[dir=rtl] .range-knob-handle{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}@supports (inset-inline-start: 0){.range-bar-container{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-bar-container{left:0}:host-context([dir=rtl]) .range-bar-container{left:unset;right:unset;right:0}[dir=rtl] .range-bar-container{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}@supports (inset-inline-start: 0){.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}}@supports not (inset-inline-start: 0){.range-knob{left:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}}}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host{--knob-border-radius:50%;--knob-background:var(--bar-background-active);--knob-box-shadow:none;--knob-size:18px;--bar-height:2px;--bar-background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.26);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:0;--height:42px;--pin-background:var(--ion-color-primary, #3880ff);--pin-color:var(--ion-color-primary-contrast, #fff);font-size:12px}::slotted([slot=label]),.label-text{font-size:initial}:host(.legacy-range){-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:8px;padding-bottom:8px}:host(.ion-color) .range-bar{background:rgba(var(--ion-color-base-rgb), 0.26)}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-knob,:host(.ion-color) .range-knob::before,:host(.ion-color) .range-pin,:host(.ion-color) .range-pin::before,:host(.ion-color) .range-tick{background:var(--ion-color-base);color:var(--ion-color-contrast)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:14px;margin-inline-end:14px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:14px;margin-inline-start:14px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin){padding-top:28px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-knob{-webkit-transform:scale(0.67);transform:scale(0.67);-webkit-transition-duration:120ms;transition-duration:120ms;-webkit-transition-property:background-color, border, -webkit-transform;transition-property:background-color, border, -webkit-transform;transition-property:transform, background-color, border;transition-property:transform, background-color, border, -webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;z-index:2}.range-knob::before{border-radius:50%;position:absolute;width:var(--knob-size);height:var(--knob-size);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:0.267s cubic-bezier(0, 0, 0.58, 1);transition:0.267s cubic-bezier(0, 0, 0.58, 1);background:var(--knob-background);content:"";opacity:0.13;pointer-events:none}@supports (inset-inline-start: 0){.range-knob::before{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob::before{left:0}:host-context([dir=rtl]) .range-knob::before{left:unset;right:unset;right:0}[dir=rtl] .range-knob::before{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob::before:dir(rtl){left:unset;right:unset;right:0}}}.range-tick{position:absolute;top:calc((var(--height) - var(--bar-height)) / 2);width:var(--bar-height);height:var(--bar-height);background:var(--bar-background-active);z-index:1;pointer-events:none}.range-tick-active{background:transparent}.range-pin{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;border-radius:50%;-webkit-transform:translate3d(0,  0,  0) scale(0.01);transform:translate3d(0,  0,  0) scale(0.01);display:inline-block;position:relative;min-width:28px;height:28px;-webkit-transition:background 120ms ease, -webkit-transform 120ms ease;transition:background 120ms ease, -webkit-transform 120ms ease;transition:transform 120ms ease, background 120ms ease;transition:transform 120ms ease, background 120ms ease, -webkit-transform 120ms ease;background:var(--pin-background);color:var(--pin-color);text-align:center}.range-pin::before{top:3px;-webkit-margin-start:-13px;margin-inline-start:-13px;border-radius:50% 50% 50% 0;position:absolute;width:26px;height:26px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:background 120ms ease;transition:background 120ms ease;background:var(--pin-background);content:"";z-index:-1}@supports (inset-inline-start: 0){.range-pin::before{inset-inline-start:50%}}@supports not (inset-inline-start: 0){.range-pin::before{left:50%}:host-context([dir=rtl]) .range-pin::before{left:unset;right:unset;right:50%}[dir=rtl] .range-pin::before{left:unset;right:unset;right:50%}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset;right:unset;right:50%}}}:host-context([dir=rtl]) .range-pin::before{left:unset}[dir=rtl] .range-pin::before{left:unset}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset}}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0,  -24px,  0) scale(1);transform:translate3d(0,  -24px,  0) scale(1)}@media (any-hover: hover){.range-knob-handle:hover .range-knob:before{-webkit-transform:scale(2);transform:scale(2);opacity:0.13}}.range-knob-handle.ion-activated .range-knob:before,.range-knob-handle.ion-focused .range-knob:before,.range-knob-handle.range-knob-pressed .range-knob:before{-webkit-transform:scale(2);transform:scale(2)}.range-knob-handle.ion-focused .range-knob::before{opacity:0.13}.range-knob-handle.ion-activated .range-knob::before,.range-knob-handle.range-knob-pressed .range-knob::before{opacity:0.25}:host(:not(.range-has-pin)) .range-knob-pressed .range-knob,:host(:not(.range-has-pin)) .range-knob-handle.ion-focused .range-knob{-webkit-transform:scale(1);transform:scale(1)}:host(.range-disabled) .range-bar-active,:host(.range-disabled) .range-bar,:host(.range-disabled) .range-tick{background-color:var(--ion-color-step-250, #bfbfbf)}:host(.range-disabled) .range-knob{-webkit-transform:scale(0.55);transform:scale(0.55);outline:5px solid #fff;background-color:var(--ion-color-step-250, #bfbfbf)}:host(.range-disabled) .label-text-wrapper,:host(.range-disabled) ::slotted([slot=start]),:host(.range-disabled) ::slotted([slot=end]){opacity:0.38}',M_=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=Me(this,"ionChange",7),this.ionInput=Me(this,"ionInput",7),this.ionStyle=Me(this,"ionStyle",7),this.ionFocus=Me(this,"ionFocus",7),this.ionBlur=Me(this,"ionBlur",7),this.ionKnobMoveStart=Me(this,"ionKnobMoveStart",7),this.ionKnobMoveEnd=Me(this,"ionKnobMoveEnd",7),this.rangeId="ion-r-".concat(__++),this.didLoad=!1,this.noUpdate=!1,this.hasFocus=!1,this.inheritedAttributes={},this.contentEl=null,this.initialContentScrollY=!0,this.hasLoggedDeprecationWarning=!1,this.clampBounds=e=>Vi(this.min,e,this.max),this.ensureValueInBounds=e=>this.dualKnobs?{lower:this.clampBounds(e.lower),upper:this.clampBounds(e.upper)}:this.clampBounds(e),this.setupGesture=async()=>{const e=this.rangeSlider;e&&(this.gesture=(await an(()=>Promise.resolve().then(()=>b1),void 0)).createGesture({el:e,gestureName:"range",gesturePriority:100,threshold:0,onStart:t=>this.onStart(t),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.gesture.enable(!this.disabled))},this.handleKeyboard=(e,t)=>{const{ensureValueInBounds:i}=this;let r=this.step;r=r>0?r:1,r=r/(this.max-this.min),t||(r*=-1),e==="A"?this.ratioA=Vi(0,this.ratioA+r,1):this.ratioB=Vi(0,this.ratioB+r,1),this.ionKnobMoveStart.emit({value:i(this.value)}),this.updateValue(),this.emitValueChange(),this.ionKnobMoveEnd.emit({value:i(this.value)})},this.onBlur=()=>{this.hasFocus&&(this.hasFocus=!1,this.ionBlur.emit(),this.emitStyle())},this.onFocus=()=>{this.hasFocus||(this.hasFocus=!0,this.ionFocus.emit(),this.emitStyle())},this.ratioA=0,this.ratioB=0,this.pressedKnob=void 0,this.color=void 0,this.debounce=void 0,this.name=this.rangeId,this.label=void 0,this.dualKnobs=!1,this.min=0,this.max=100,this.pin=!1,this.pinFormatter=e=>Math.round(e),this.snaps=!1,this.step=1,this.ticks=!0,this.activeBarStart=void 0,this.disabled=!1,this.value=0,this.labelPlacement="start",this.legacy=void 0}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:i}=this;this.ionInput=t===void 0?i!=null?i:e:a1(e,t)}minChanged(){this.noUpdate||this.updateRatio()}maxChanged(){this.noUpdate||this.updateRatio()}activeBarStartChanged(){const{activeBarStart:e}=this;e!==void 0&&(e>this.max?(ln("Range: The value of activeBarStart (".concat(e,") is greater than the max (").concat(this.max,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.max):e<this.min&&(ln("Range: The value of activeBarStart (".concat(e,") is less than the min (").concat(this.min,"). Valid values are greater than or equal to the min value and less than or equal to the max value."),this.el),this.activeBarStart=this.min))}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled),this.emitStyle()}valueChanged(){this.noUpdate||this.updateRatio()}componentWillLoad(){this.el.hasAttribute("id")&&(this.rangeId=this.el.getAttribute("id")),this.inheritedAttributes=Vs(this.el)}componentDidLoad(){this.originalIonInput=this.ionInput,this.setupGesture(),this.didLoad=!0}connectedCallback(){const{el:e}=this;this.legacyFormController=_1(e),this.updateRatio(),this.debounceChanged(),this.disabledChanged(),this.activeBarStartChanged(),this.didLoad&&this.setupGesture(),this.contentEl=vM(this.el)}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}getValue(){var e;const t=(e=this.value)!==null&&e!==void 0?e:0;return this.dualKnobs?typeof t=="object"?t:{lower:0,upper:t}:typeof t=="object"?t.upper:t}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,"interactive-disabled":this.disabled})}emitValueChange(){this.value=this.ensureValueInBounds(this.value),this.ionChange.emit({value:this.value})}onStart(e){const{contentEl:t}=this;t&&(this.initialContentScrollY=wM(t));const i=this.rect=this.rangeSlider.getBoundingClientRect(),r=e.currentX;let s=Vi(0,(r-i.left)/i.width,1);xu(this.el)&&(s=1-s),this.pressedKnob=!this.dualKnobs||Math.abs(this.ratioA-s)<Math.abs(this.ratioB-s)?"A":"B",this.setFocus(this.pressedKnob),this.update(r),this.ionKnobMoveStart.emit({value:this.ensureValueInBounds(this.value)})}onMove(e){this.update(e.currentX)}onEnd(e){const{contentEl:t,initialContentScrollY:i}=this;t&&EM(t,i),this.update(e.currentX),this.pressedKnob=void 0,this.emitValueChange(),this.ionKnobMoveEnd.emit({value:this.ensureValueInBounds(this.value)})}update(e){const t=this.rect;let i=Vi(0,(e-t.left)/t.width,1);xu(this.el)&&(i=1-i),this.snaps&&(i=Js(Lp(i,this.min,this.max,this.step),this.min,this.max)),this.pressedKnob==="A"?this.ratioA=i:this.ratioB=i,this.updateValue()}get valA(){return Lp(this.ratioA,this.min,this.max,this.step)}get valB(){return Lp(this.ratioB,this.min,this.max,this.step)}get ratioLower(){if(this.dualKnobs)return Math.min(this.ratioA,this.ratioB);const{activeBarStart:e}=this;return e==null?0:Js(e,this.min,this.max)}get ratioUpper(){return this.dualKnobs?Math.max(this.ratioA,this.ratioB):this.ratioA}updateRatio(){const e=this.getValue(),{min:t,max:i}=this;this.dualKnobs?(this.ratioA=Js(e.lower,t,i),this.ratioB=Js(e.upper,t,i)):this.ratioA=Js(e,t,i)}updateValue(){this.noUpdate=!0;const{valA:e,valB:t}=this;this.value=this.dualKnobs?{lower:Math.min(e,t),upper:Math.max(e,t)}:e,this.ionInput.emit({value:this.value}),this.noUpdate=!1}setFocus(e){if(this.el.shadowRoot){const t=this.el.shadowRoot.querySelector(e==="A"?".range-knob-a":".range-knob-b");t&&t.focus()}}renderLegacyRange(){this.hasLoggedDeprecationWarning||(ln('ion-range now requires providing a label with either the label slot or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the component or the "aria-label" attribute.\n\nExample: <ion-range><div slot="label">Volume</div></ion-range>\nExample with aria-label: <ion-range aria-label="Volume"></ion-range>\n\nDevelopers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.',this.el),this.legacy&&ln('ion-range is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.\n\nDevelopers can dismiss this warning by removing their usage of the "legacy" property and using the new range syntax.',this.el),this.hasLoggedDeprecationWarning=!0);const{el:e,pressedKnob:t,disabled:i,pin:r,rangeId:s}=this,o=$e(this);return F0(!0,e,this.name,JSON.stringify(this.getValue()),i),F(Ye,{onFocusin:this.onFocus,onFocusout:this.onBlur,id:s,class:pn(this.color,{[o]:!0,"in-item":Wt("ion-item",e),"range-disabled":i,"range-pressed":t!==void 0,"range-has-pin":r,"legacy-range":!0})},F("slot",{name:"start"}),this.renderRangeSlider(),F("slot",{name:"end"}))}renderRange(){const{disabled:e,el:t,rangeId:i,pin:r,pressedKnob:s,labelPlacement:o,label:a}=this,l=$e(this);return F0(!0,t,this.name,JSON.stringify(this.getValue()),e),F(Ye,{onFocusin:this.onFocus,onFocusout:this.onBlur,id:i,class:pn(this.color,{[l]:!0,"in-item":Wt("ion-item",t),"range-disabled":e,"range-pressed":s!==void 0,"range-has-pin":r,["range-label-placement-".concat(o)]:!0})},F("label",{class:"range-wrapper",id:"range-label"},F("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},a!==void 0?F("div",{class:"label-text"},a):F("slot",{name:"label"})),F("div",{class:"native-wrapper"},F("slot",{name:"start"}),this.renderRangeSlider(),F("slot",{name:"end"}))))}get hasLabel(){return this.label!==void 0||this.el.querySelector('[slot="label"]')!==null}renderRangeSlider(){var e;const{min:t,max:i,step:r,el:s,handleKeyboard:o,pressedKnob:a,disabled:l,pin:c,ratioLower:u,ratioUpper:d,inheritedAttributes:h,rangeId:p,pinFormatter:y}=this;let{labelText:v}=PP(s,p);v==null&&(v=h["aria-label"]);let S="".concat(u*100,"%"),E="".concat(100-d*100,"%");const w=xu(this.el),C=w?"right":"left",P=w?"left":"right",q=O=>({[C]:O[C]});this.dualKnobs===!1&&(this.valA<((e=this.activeBarStart)!==null&&e!==void 0?e:this.min)?(S="".concat(d*100,"%"),E="".concat(100-u*100,"%")):(S="".concat(u*100,"%"),E="".concat(100-d*100,"%")));const H={[C]:S,[P]:E},L=[];if(this.snaps&&this.ticks)for(let O=t;O<=i;O+=r){const Q=Js(O,t,i),k=Math.min(u,d),J=Math.max(u,d),j={ratio:Q,active:Q>=k&&Q<=J};j[C]="".concat(Q*100,"%"),L.push(j)}let M;return!this.legacyFormController.hasLegacyControl()&&this.hasLabel&&(M="range-label"),F("div",{class:"range-slider",ref:O=>this.rangeSlider=O},L.map(O=>F("div",{style:q(O),role:"presentation",class:{"range-tick":!0,"range-tick-active":O.active},part:O.active?"tick-active":"tick"})),F("div",{class:"range-bar-container"},F("div",{class:"range-bar",role:"presentation",part:"bar"}),F("div",{class:{"range-bar":!0,"range-bar-active":!0,"has-ticks":L.length>0},role:"presentation",style:H,part:"bar-active"})),vv(w,{knob:"A",pressed:a==="A",value:this.valA,ratio:this.ratioA,pin:c,pinFormatter:y,disabled:l,handleKeyboard:o,min:t,max:i,labelText:v,labelledBy:M}),this.dualKnobs&&vv(w,{knob:"B",pressed:a==="B",value:this.valB,ratio:this.ratioB,pin:c,pinFormatter:y,disabled:l,handleKeyboard:o,min:t,max:i,labelText:v,labelledBy:M}))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyRange():this.renderRange()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}}static get style(){return{ios:O_,md:I_}}},[33,"ion-range",{color:[513],debounce:[2],name:[1],label:[1],dualKnobs:[4,"dual-knobs"],min:[2],max:[2],pin:[4],pinFormatter:[16],snaps:[4],step:[2],ticks:[4],activeBarStart:[1026,"active-bar-start"],disabled:[4],value:[1026],labelPlacement:[1,"label-placement"],legacy:[4],ratioA:[32],ratioB:[32],pressedKnob:[32]}]),vv=(n,{knob:e,value:t,ratio:i,min:r,max:s,disabled:o,pressed:a,pin:l,handleKeyboard:c,labelText:u,labelledBy:d,pinFormatter:h})=>{const p=n?"right":"left";return F("div",{onKeyDown:v=>{const S=v.key;S==="ArrowLeft"||S==="ArrowDown"?(c(e,!1),v.preventDefault(),v.stopPropagation()):(S==="ArrowRight"||S==="ArrowUp")&&(c(e,!0),v.preventDefault(),v.stopPropagation())},class:{"range-knob-handle":!0,"range-knob-a":e==="A","range-knob-b":e==="B","range-knob-pressed":a,"range-knob-min":t===r,"range-knob-max":t===s,"ion-activatable":!0,"ion-focusable":!0},style:(()=>{const v={};return v[p]="".concat(i*100,"%"),v})(),role:"slider",tabindex:o?-1:0,"aria-label":d===void 0?u:null,"aria-labelledby":d!==void 0?d:null,"aria-valuemin":r,"aria-valuemax":s,"aria-disabled":o?"true":null,"aria-valuenow":t},l&&F("div",{class:"range-pin",role:"presentation",part:"pin"},h(t)),F("div",{class:"range-knob",role:"presentation",part:"knob"}))},Lp=(n,e,t,i)=>{let r=(t-e)*n;i>0&&(r=Math.round(r/i)*i+e);const s=Vi(e,r,t);return P_(s,e,t,i)},Js=(n,e,t)=>Vi(0,(n-e)/(t-e),1);let __=0;function D_(){if(typeof customElements>"u")return;["ion-range"].forEach(e=>{switch(e){case"ion-range":customElements.get(e)||customElements.define(e,M_);break}})}const L_=D_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const q_=":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}",B_=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return F(Ye,{class:$e(this)},F("slot",null))}static get style(){return q_}},[1,"ion-row"]);function F_(){if(typeof customElements>"u")return;["ion-row"].forEach(e=>{switch(e){case"ion-row":customElements.get(e)||customElements.define(e,B_);break}})}const U_=F_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const j_=(n,e)=>{let t,i;const r=(a,l,c)=>{if(typeof document>"u")return;const u=document.elementFromPoint(a,l);if(!u||!e(u)){o();return}u!==t&&(o(),s(u,c))},s=(a,l)=>{t=a,i||(i=t);const c=t;Xi(()=>c.classList.add("ion-activated")),l()},o=(a=!1)=>{if(!t)return;const l=t;Xi(()=>l.classList.remove("ion-activated")),a&&i!==t&&t.click(),t=void 0};return m1({el:n,gestureName:"buttonActiveDrag",threshold:0,onStart:a=>r(a.currentX,a.currentY,mM),onMove:a=>r(a.currentX,a.currentY,gM),onEnd:()=>{o(!0),yM(),i=void 0}})};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const z_=n=>{const e=_t(),t=_t(),i=_t();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,i])},V_=n=>{const e=_t(),t=_t(),i=_t();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),e.addElement(n).easing("ease-in-out").duration(200).addAnimation([t,i])},H_=n=>{const e=_t(),t=_t(),i=_t();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),i.addElement(n.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),e.addElement(n).easing("ease-in-out").duration(150).addAnimation([t,i])},W_=n=>{const e=_t(),t=_t(),i=_t();return t.addElement(n.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),i.addElement(n.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),e.addElement(n).easing("ease-in-out").duration(150).addAnimation([t,i])},Q_=".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px}[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios:dir(rtl){left:unset;right:unset;right:7px}}}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:9px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px}[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios:dir(rtl){left:unset;right:unset;right:9px}}}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}",G_=".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}@supports (inset-inline-start: 0){.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}}@supports not (inset-inline-start: 0){.alert-radio-icon.sc-ion-alert-md{left:26px}[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}@supports selector(:dir(rtl)){.alert-radio-icon.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:26px}}}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}@supports (inset-inline-start: 0){.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}}@supports not (inset-inline-start: 0){.alert-radio-inner.sc-ion-alert-md{left:3px}[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}@supports selector(:dir(rtl)){.alert-radio-inner.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:3px}}}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}@supports (inset-inline-start: 0){.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}}@supports not (inset-inline-start: 0){.alert-checkbox-icon.sc-ion-alert-md{left:26px}[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}@supports selector(:dir(rtl)){.alert-checkbox-icon.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:26px}}}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px}[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:3px}}}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}",K_=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.didPresent=Me(this,"ionAlertDidPresent",7),this.willPresent=Me(this,"ionAlertWillPresent",7),this.willDismiss=Me(this,"ionAlertWillDismiss",7),this.didDismiss=Me(this,"ionAlertDidDismiss",7),this.didPresentShorthand=Me(this,"didPresent",7),this.willPresentShorthand=Me(this,"willPresent",7),this.willDismissShorthand=Me(this,"willDismiss",7),this.didDismissShorthand=Me(this,"didDismiss",7),this.delegateController=iI(this),this.triggerController=rI(),this.customHTMLEnabled=je.get("innerHTMLTemplatesEnabled",OO),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,cd)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(J0(t)){const i=this.processedButtons.find(r=>r.role==="cancel");this.callButtonHandler(i)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){e===!0&&t===!1?this.present():e===!1&&t===!0&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:i}=this;e&&i.addClickListener(t,e)}onKeydown(e){if(!new Set(this.processedInputs.map(a=>a.type)).has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const i=this.el.querySelectorAll(".alert-radio"),r=Array.from(i).filter(a=>!a.disabled),s=r.findIndex(a=>a.id===e.target.id);let o;if(["ArrowDown","ArrowRight"].includes(e.key)&&(o=s===r.length-1?r[0]:r[s+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(o=s===0?r[r.length-1]:r[s-1]),o&&r.includes(o)){const a=this.processedInputs.find(l=>l.id===(o==null?void 0:o.id));a&&(this.rbClick(a),o.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map(t=>typeof t=="string"?{text:t,role:t.toLowerCase()==="cancel"?"cancel":void 0}:t)}inputsChanged(){const e=this.inputs,t=e.find(o=>!o.disabled),r=e.find(o=>o.checked&&!o.disabled)||t,s=new Set(e.map(o=>o.type));s.has("checkbox")&&s.has("radio")&&console.warn("Alert cannot mix input types: ".concat(Array.from(s.values()).join("/"),". Please see alert docs for more info.")),this.inputType=s.values().next().value,this.processedInputs=e.map((o,a)=>{var l;return{type:o.type||"text",name:o.name||"".concat(a),placeholder:o.placeholder||"",value:o.value,label:o.label,checked:!!o.checked,disabled:!!o.disabled,id:o.id||"alert-input-".concat(this.overlayIndex,"-").concat(a),handler:o.handler,min:o.min,max:o.max,cssClass:(l=o.cssClass)!==null&&l!==void 0?l:"",attributes:o.attributes||{},tabindex:o.type==="radio"&&o!==r?-1:0}})}connectedCallback(){VO(this.el),this.triggerChanged()}componentWillLoad(){HO(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&$e(this)==="ios"&&this.wrapperEl&&(this.gesture=j_(this.wrapperEl,e=>e.classList.contains("alert-button")),this.gesture.enable(!0)),this.isOpen===!0&&Bn(()=>this.present())}async present(){this.currentTransition!==void 0&&await this.currentTransition,await this.delegateController.attachViewToDom(),this.currentTransition=YO(this,"alertEnter",z_,H_),await this.currentTransition,this.currentTransition=void 0}async dismiss(e,t){this.currentTransition=XO(this,e,t,"alertLeave",V_,W_);const i=await this.currentTransition;return i&&this.delegateController.removeViewFromDom(),i}onDidDismiss(){return Y0(this.el,"ionAlertDidDismiss")}onWillDismiss(){return Y0(this.el,"ionAlertWillDismiss")}rbClick(e){for(const t of this.processedInputs)t.checked=t===e,t.tabindex=t===e?0:-1;this.activeId=e.id,Ip(e.handler,e),rs(this)}cbClick(e){e.checked=!e.checked,Ip(e.handler,e),rs(this)}async buttonClick(e){const t=e.role,i=this.getValues();if(J0(t))return this.dismiss({values:i},t);const r=await this.callButtonHandler(e,i);return r!==!1?this.dismiss(Object.assign({values:i},r),e.role):!1}async callButtonHandler(e,t){if(e!=null&&e.handler){const i=await Ip(e.handler,t);if(i===!1)return!1;if(typeof i=="object")return i}return{}}getValues(){if(this.processedInputs.length===0)return;if(this.inputType==="radio"){const t=this.processedInputs.find(i=>!!i.checked);return t?t.value:void 0}if(this.inputType==="checkbox")return this.processedInputs.filter(t=>t.checked).map(t=>t.value);const e={};return this.processedInputs.forEach(t=>{e[t.name]=t.value||""}),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,t=$e(this);return e.length===0?null:F("div",{class:"alert-checkbox-group"},e.map(i=>F("button",{type:"button",onClick:()=>this.cbClick(i),"aria-checked":"".concat(i.checked),id:i.id,disabled:i.disabled,tabIndex:i.tabindex,role:"checkbox",class:Object.assign(Object.assign({},$o(i.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":i.disabled||!1})},F("div",{class:"alert-button-inner"},F("div",{class:"alert-checkbox-icon"},F("div",{class:"alert-checkbox-inner"})),F("div",{class:"alert-checkbox-label"},i.label)),t==="md"&&F("ion-ripple-effect",null))))}renderRadio(){const e=this.processedInputs;return e.length===0?null:F("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map(t=>F("button",{type:"button",onClick:()=>this.rbClick(t),"aria-checked":"".concat(t.checked),disabled:t.disabled,id:t.id,tabIndex:t.tabindex,class:Object.assign(Object.assign({},$o(t.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":t.disabled||!1}),role:"radio"},F("div",{class:"alert-button-inner"},F("div",{class:"alert-radio-icon"},F("div",{class:"alert-radio-inner"})),F("div",{class:"alert-radio-label"},t.label)))))}renderInput(){const e=this.processedInputs;return e.length===0?null:F("div",{class:"alert-input-group"},e.map(t=>{var i,r,s,o;return t.type==="textarea"?F("div",{class:"alert-input-wrapper"},F("textarea",Object.assign({placeholder:t.placeholder,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(r=(i=t.attributes)===null||i===void 0?void 0:i.disabled)!==null&&r!==void 0?r:t.disabled,class:wv(t),onInput:a=>{var l;t.value=a.target.value,!((l=t.attributes)===null||l===void 0)&&l.onInput&&t.attributes.onInput(a)}}))):F("div",{class:"alert-input-wrapper"},F("input",Object.assign({placeholder:t.placeholder,type:t.type,min:t.min,max:t.max,value:t.value,id:t.id,tabIndex:t.tabindex},t.attributes,{disabled:(o=(s=t.attributes)===null||s===void 0?void 0:s.disabled)!==null&&o!==void 0?o:t.disabled,class:wv(t),onInput:a=>{var l;t.value=a.target.value,!((l=t.attributes)===null||l===void 0)&&l.onInput&&t.attributes.onInput(a)}})))}))}renderAlertButtons(){const e=this.processedButtons,t=$e(this),i={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return F("div",{class:i},e.map(r=>F("button",Object.assign({},r.htmlAttributes,{type:"button",id:r.id,class:Y_(r),tabIndex:0,onClick:()=>this.buttonClick(r)}),F("span",{class:"alert-button-inner"},r.text),t==="md"&&F("ion-ripple-effect",null))))}renderAlertMessage(e){const{customHTMLEnabled:t,message:i}=this;return t?F("div",{id:e,class:"alert-message",innerHTML:AO(i)}):F("div",{id:e,class:"alert-message"},i)}render(){const{overlayIndex:e,header:t,subHeader:i,message:r,htmlAttributes:s}=this,o=$e(this),a="alert-".concat(e,"-hdr"),l="alert-".concat(e,"-sub-hdr"),c="alert-".concat(e,"-msg"),u=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert";return F(Ye,Object.assign({role:u,"aria-modal":"true","aria-labelledby":t?a:i?l:null,"aria-describedby":r!==void 0?c:null,tabindex:"-1"},s,{style:{zIndex:"".concat(2e4+e)},class:Object.assign(Object.assign({},$o(this.cssClass)),{[o]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),F("ion-backdrop",{tappable:this.backdropDismiss}),F("div",{tabindex:"0"}),F("div",{class:"alert-wrapper ion-overlay-wrapper",ref:h=>this.wrapperEl=h},F("div",{class:"alert-head"},t&&F("h2",{id:a,class:"alert-title"},t),i&&F("h2",{id:l,class:"alert-sub-title"},i)),this.renderAlertMessage(c),this.renderAlertInputs(),this.renderAlertButtons()),F("div",{tabindex:"0"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:Q_,md:G_}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]]]),wv=n=>{var e,t,i;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":((t=(e=n.attributes)===null||e===void 0?void 0:e.disabled)!==null&&t!==void 0?t:n.disabled)||!1},$o(n.cssClass)),$o(n.attributes?(i=n.attributes.class)===null||i===void 0?void 0:i.toString():""))},Y_=n=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,["alert-button-role-".concat(n.role)]:n.role!==void 0},$o(n.cssClass));function J_(){if(typeof customElements>"u")return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,K_);break;case"ion-backdrop":customElements.get(e)||M1();break;case"ion-ripple-effect":customElements.get(e)||hh();break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const X_=zM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Z_=":host(.ion-color){color:var(--ion-color-base)}",e2=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=$e(this);return F(Ye,{class:pn(this.color,{[e]:!0})},F("slot",null))}static get style(){return Z_}},[1,"ion-text",{color:[513]}]);function t2(){if(typeof customElements>"u")return;["ion-text"].forEach(e=>{switch(e){case"ion-text":customElements.get(e)||customElements.define(e,e2);break}})}const n2=t2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const i2=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:17px;font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host:dir(rtl){left:unset;right:unset;right:0}}}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:13px;font-weight:normal}:host(.title-large){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:0;-webkit-transform-origin:left center;transform-origin:left center;bottom:0;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:34px;font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large) .toolbar-title:dir(rtl){-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",r2=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:20px;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:15px;font-weight:normal}",s2=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=Me(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({["title-".concat(e)]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){const e=$e(this),t=this.getSize();return F(Ye,{class:pn(this.color,{[e]:!0,["title-".concat(t)]:!0,"title-rtl":document.dir==="rtl"})},F("div",{class:"toolbar-title"},F("slot",null)))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:i2,md:r2}}},[33,"ion-title",{color:[513],size:[1]}]);function o2(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,s2);break}})}const a2=o2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const l2=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}:host(.toolbar-searchbar) ::slotted(ion-back-button){height:38px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large){padding-bottom:7px}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",c2=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",u2=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),t=e.find(s=>s.slot==="start");t&&t.classList.add("buttons-first-slot");const i=e.reverse(),r=i.find(s=>s.slot==="end")||i.find(s=>s.slot==="primary")||i.find(s=>s.slot==="secondary");r&&r.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const t=e.target.tagName,i=e.detail,r={},s=this.childrenStyles.get(t)||{};let o=!1;Object.keys(i).forEach(a=>{const l="toolbar-".concat(a),c=i[a];c!==s[l]&&(o=!0),c&&(r[l]=!0)}),o&&(this.childrenStyles.set(t,r),rs(this))}render(){const e=$e(this),t={};return this.childrenStyles.forEach(i=>{Object.assign(t,i)}),F(Ye,{class:Object.assign(Object.assign({},t),pn(this.color,{[e]:!0,"in-toolbar":Wt("ion-toolbar",this.el)}))},F("div",{class:"toolbar-background"}),F("div",{class:"toolbar-container"},F("slot",{name:"start"}),F("slot",{name:"secondary"}),F("div",{class:"toolbar-content"},F("slot",null)),F("slot",{name:"primary"}),F("slot",{name:"end"})))}get el(){return this}static get style(){return{ios:l2,md:c2}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function d2(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,u2);break}})}const h2=d2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const p2=aM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const f2=uM;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const m2=J_;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var Ev;(function(n){n.Dark="DARK",n.Light="LIGHT",n.Default="DEFAULT"})(Ev||(Ev={}));const g2="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",y2=Xe(class extends Ze{constructor(){super(),this.__registerHost()}componentDidLoad(){v2(async()=>{const e=pr(window,"hybrid");if(je.getBoolean("_testing")||an(()=>import("./index9-94180acf.js"),[]).then(i=>i.startTapClick(je)),je.getBoolean("statusTap",e)&&an(()=>import("./status-tap-20d673b6.js"),[]).then(i=>i.startStatusTap()),je.getBoolean("inputShims",b2())){const i=pr(window,"ios")?"ios":"android";an(()=>import("./input-shims-66a41746.js"),[]).then(r=>r.startInputShims(je,i))}const t=await an(()=>Promise.resolve().then(()=>_O),void 0);je.getBoolean("hardwareBackButton",e)?t.startHardwareBackButton():t.blockHardwareBackButton(),typeof window<"u"&&an(()=>import("./keyboard2-6a0bc3ea.js"),[]).then(i=>i.startKeyboardAssist(window)),an(()=>import("./focus-visible-9c13edeb.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=$e(this);return F(Ye,{class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":je.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return g2}},[0,"ion-app",{setFocus:[64]}]),b2=()=>!!(pr(window,"ios")&&pr(window,"mobile")||pr(window,"android")&&pr(window,"mobileweb")),v2=n=>{"requestIdleCallback"in window?window.requestIdleCallback(n):setTimeout(n,32)};function w2(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,y2);break}})}const E2=w2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const x2=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:17px}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',T2=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:24px;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:14px;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;height:48px}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',C2=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const t=this.el.closest("ion-nav");return e.preventDefault(),t&&await t.canGoBack()?t.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):ny(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=Vs(this.el),this.defaultHref===void 0&&(this.defaultHref=je.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e!=null?e:$e(this)==="ios"?je.get("backButtonIcon",oI):je.get("backButtonIcon",sI)}get backButtonText(){const e=$e(this)==="ios"?"Back":null;return this.text!=null?this.text:je.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:t,disabled:i,type:r,hasIconOnly:s,backButtonIcon:o,backButtonText:a,icon:l,inheritedAttributes:c}=this,u=t!==void 0,d=$e(this),h=c["aria-label"]||a||"back";return F(Ye,{onClick:this.onClick,class:pn(e,{[d]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":s,"in-toolbar":Wt("ion-toolbar",this.el),"in-toolbar-color":Wt("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":u})},F("button",{type:r,disabled:i,class:"button-native",part:"native","aria-label":h},F("span",{class:"button-inner"},o&&F("ion-icon",{part:"icon",icon:o,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),a&&F("span",{part:"text","aria-hidden":"true",class:"button-text"},a)),d==="md"&&F("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get style(){return{ios:x2,md:T2}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function S2(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,C2);break;case"ion-icon":customElements.get(e)||ty();break;case"ion-ripple-effect":customElements.get(e)||hh();break}})}const N2=S2,A2=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}",k2=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Me(this,"ionNavWillLoad",7),this.ionNavWillChange=Me(this,"ionNavWillChange",3),this.ionNavDidChange=Me(this,"ionNavDidChange",3),this.gestureOrAnimationInProgress=!1,this.mode=$e(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await an(()=>import("./swipe-back-8b37b005.js"),[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),t=>{var i;return(i=this.ani)===null||i===void 0?void 0:i.progressStep(t)},(t,i,r)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(t)},{oneTimeCallback:!0});let s=t?-.001:.001;t?s+=kl([0,0],[.32,.72],[0,1],[1,1],i)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=kl([0,0],[1,0],[.68,.28],[1,1],i)[0]),this.ani.progressEnd(t?1:0,s,r)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,t,i){const r=await this.lock();let s=!1;try{s=await this.transition(e,t,i)}catch(o){console.error(o)}return r(),s}async setRouteId(e,t,i,r){return{changed:await this.setRoot(e,t,{duration:i==="root"?0:void 0,direction:i==="back"?"back":"forward",animationBuilder:r}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,t,i){if(this.activeComponent===e&&l1(t,this.activeParams))return!1;const r=this.activeEl,s=await A1(this.delegate,this.el,e,["ion-page","ion-page-invisible"],t);return this.activeComponent=e,this.activeEl=s,this.activeParams=t,await this.commit(s,r,i),await FO(this.delegate,r),!0}async transition(e,t,i={}){if(t===e)return!1;this.ionNavWillChange.emit();const{el:r,mode:s}=this,o=this.animated&&je.getBoolean("animated",!0),a=i.animationBuilder||this.animation||je.get("navAnimation");return await d1(Object.assign(Object.assign({mode:s,animated:o,enteringEl:e,leavingEl:t,baseEl:r,deepWait:SP(r),progressCallback:i.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},i),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}async lock(){const e=this.waitPromise;let t;return this.waitPromise=new Promise(i=>t=i),e!==void 0&&await e,t}render(){return F("slot",null)}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return A2}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]}]);function R2(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,k2);break}})}const $2=R2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const P2=":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",O2=":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, #595959));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}",I2=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=Me(this,"ionTabBarChanged",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await TM(async(e,t)=>{e===!1&&t!==void 0&&await t,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}render(){const{color:e,translucent:t,keyboardVisible:i}=this,r=$e(this),s=i&&this.el.getAttribute("slot")!=="top";return F(Ye,{role:"tablist","aria-hidden":s?"true":null,class:pn(e,{[r]:!0,"tab-bar-translucent":t,"tab-bar-hidden":s})},F("slot",null))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:P2,md:O2}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]}]);function M2(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,I2);break}})}const _2=M2;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const D2=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 12px)}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px)}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 35px)}}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px)}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 30px)}}}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',L2=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:80%}}}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',q2=Xe(class extends Ze{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=Me(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{(e.key==="Enter"||e.key===" ")&&this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const t=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||t!=null&&t.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},ch(this.el,["aria-label"])),this.layout===void 0&&(this.layout=je.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:t,hasLabel:i,href:r,rel:s,target:o,layout:a,selected:l,tab:c,inheritedAttributes:u}=this,d=$e(this),h={download:this.download,href:r,rel:s,target:o};return F(Ye,{onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?"tab-button-".concat(c):null,class:{[d]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":t,"tab-has-label-only":i&&!t,"tab-has-icon-only":t&&!i,["tab-layout-".concat(a)]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},F("a",Object.assign({},h,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},u),F("span",{class:"button-inner"},F("slot",null)),d==="md"&&F("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:D2,md:L2}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function B2(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,q2);break;case"ion-ripple-effect":customElements.get(e)||hh();break}})}const F2=B2,oo={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,safari10:!1,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,cssVarShim:!1,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,dynamicImportShim:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0};let ao,z1,fh,V1=!1,hd=!1,sy=!1,qn=!1,xv=null,vm=!1;const U2=n=>{const e=new URL(n,fn.$resourcesUrl$);return e.origin!==Wl.location.origin?e.href:e.pathname},Bs=(n,e="")=>()=>{},Tv="http://www.w3.org/1999/xlink",Cv={},j2="http://www.w3.org/2000/svg",z2="http://www.w3.org/1999/xhtml",V2=n=>n!=null,oy=n=>(n=typeof n,n==="object"||n==="function");function H2(n){var e,t,i;return(i=(t=(e=n.head)===null||e===void 0?void 0:e.querySelector('meta[name="csp-nonce"]'))===null||t===void 0?void 0:t.getAttribute("content"))!==null&&i!==void 0?i:void 0}const sl=(n,e,...t)=>{let i=null,r=null,s=null,o=!1,a=!1;const l=[],c=d=>{for(let h=0;h<d.length;h++)i=d[h],Array.isArray(i)?c(i):i!=null&&typeof i!="boolean"&&((o=typeof n!="function"&&!oy(i))&&(i=String(i)),o&&a?l[l.length-1].$text$+=i:l.push(o?pd(null,i):i),a=o)};if(c(t),e){e.key&&(r=e.key),e.name&&(s=e.name);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}if(typeof n=="function")return n(e===null?{}:e,l,Q2);const u=pd(n,null);return u.$attrs$=e,l.length>0&&(u.$children$=l),u.$key$=r,u.$name$=s,u},pd=(n,e)=>{const t={$flags$:0,$tag$:n,$text$:e,$elm$:null,$children$:null};return t.$attrs$=null,t.$key$=null,t.$name$=null,t},H1={},W2=n=>n&&n.$tag$===H1,Q2={forEach:(n,e)=>n.map(Sv).forEach(e),map:(n,e)=>n.map(Sv).map(e).map(G2)},Sv=n=>({vattrs:n.$attrs$,vchildren:n.$children$,vkey:n.$key$,vname:n.$name$,vtag:n.$tag$,vtext:n.$text$}),G2=n=>{if(typeof n.vtag=="function"){const t=Object.assign({},n.vattrs);return n.vkey&&(t.key=n.vkey),n.vname&&(t.name=n.vname),sl(n.vtag,t,...n.vchildren||[])}const e=pd(n.vtag,n.vtext);return e.$attrs$=n.vattrs,e.$children$=n.vchildren,e.$key$=n.vkey,e.$name$=n.vname,e},K2=n=>ED.map(e=>e(n)).find(e=>!!e),Y2=(n,e)=>n!=null&&!oy(n)?e&4?n==="false"?!1:n===""||!!n:e&2?parseFloat(n):e&1?String(n):n:n,Nv=new WeakMap,J2=(n,e,t)=>{let i=md.get(n);SD&&t?(i=i||new CSSStyleSheet,typeof i=="string"?i=e:i.replaceSync(e)):i=e,md.set(n,i)},X2=(n,e,t,i)=>{var r;let s=W1(e,t);const o=md.get(s);if(n=n.nodeType===11?n:Oi,o)if(typeof o=="string"){n=n.head||n;let a=Nv.get(n),l;if(a||Nv.set(n,a=new Set),!a.has(s)){{l=Oi.createElement("style"),l.innerHTML=o;const c=(r=fn.$nonce$)!==null&&r!==void 0?r:H2(Oi);c!=null&&l.setAttribute("nonce",c),n.insertBefore(l,n.querySelector("link"))}a&&a.add(s)}}else n.adoptedStyleSheets.includes(o)||(n.adoptedStyleSheets=[...n.adoptedStyleSheets,o]);return s},Z2=n=>{const e=n.$cmpMeta$,t=n.$hostElement$,i=e.$flags$,r=Bs("attachStyles",e.$tagName$),s=X2(t.shadowRoot?t.shadowRoot:t.getRootNode(),e,n.$modeName$);i&10&&(t["s-sc"]=s,t.classList.add(s+"-h"),i&2&&t.classList.add(s+"-s")),r()},W1=(n,e)=>"sc-"+(e&&n.$flags$&32?n.$tagName$+"-"+e:n.$tagName$),Av=(n,e,t,i,r,s)=>{if(t!==i){let o=Pv(n,e),a=e.toLowerCase();if(e==="class"){const l=n.classList,c=kv(t),u=kv(i);l.remove(...c.filter(d=>d&&!u.includes(d))),l.add(...u.filter(d=>d&&!c.includes(d)))}else if(e==="style"){for(const l in t)(!i||i[l]==null)&&(l.includes("-")?n.style.removeProperty(l):n.style[l]="");for(const l in i)(!t||i[l]!==t[l])&&(l.includes("-")?n.style.setProperty(l,i[l]):n.style[l]=i[l])}else if(e!=="key")if(e==="ref")i&&i(n);else if(!n.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n")e[2]==="-"?e=e.slice(3):Pv(Wl,a)?e=a.slice(2):e=a[2]+e.slice(3),t&&fn.rel(n,e,t,!1),i&&fn.ael(n,e,i,!1);else{const l=oy(i);if((o||l&&i!==null)&&!r)try{if(n.tagName.includes("-"))n[e]=i;else{const u=i==null?"":i;e==="list"?o=!1:(t==null||n[e]!=u)&&(n[e]=u)}}catch(u){}let c=!1;a!==(a=a.replace(/^xlink\:?/,""))&&(e=a,c=!0),i==null||i===!1?(i!==!1||n.getAttribute(e)==="")&&(c?n.removeAttributeNS(Tv,e):n.removeAttribute(e)):(!o||s&4||r)&&!l&&(i=i===!0?"":i,c?n.setAttributeNS(Tv,e,i):n.setAttribute(e,i))}}},eD=/\s/,kv=n=>n?n.split(eD):[],Q1=(n,e,t,i)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=n&&n.$attrs$||Cv,o=e.$attrs$||Cv;for(i in s)i in o||Av(r,i,s[i],void 0,t,e.$flags$);for(i in o)Av(r,i,s[i],o[i],t,e.$flags$)},fd=(n,e,t,i)=>{const r=e.$children$[t];let s=0,o,a,l;if(V1||(sy=!0,r.$tag$==="slot"&&(ao&&i.classList.add(ao+"-s"),r.$flags$|=r.$children$?2:1)),r.$text$!==null)o=r.$elm$=Oi.createTextNode(r.$text$);else if(r.$flags$&1)o=r.$elm$=Oi.createTextNode("");else{if(qn||(qn=r.$tag$==="svg"),o=r.$elm$=Oi.createElementNS(qn?j2:z2,r.$flags$&2?"slot-fb":r.$tag$),qn&&r.$tag$==="foreignObject"&&(qn=!1),Q1(null,r,qn),V2(ao)&&o["s-si"]!==ao&&o.classList.add(o["s-si"]=ao),r.$children$)for(s=0;s<r.$children$.length;++s)a=fd(n,r,s,o),a&&o.appendChild(a);r.$tag$==="svg"?qn=!1:o.tagName==="foreignObject"&&(qn=!0)}return o["s-hn"]=fh,r.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=z1,o["s-sn"]=r.$name$||"",l=n&&n.$children$&&n.$children$[t],l&&l.$tag$===r.$tag$&&n.$elm$&&$l(n.$elm$,!1)),o},$l=(n,e)=>{fn.$flags$|=1;const t=n.childNodes;for(let i=t.length-1;i>=0;i--){const r=t[i];r["s-hn"]!==fh&&r["s-ol"]&&(Y1(r).insertBefore(r,ay(r)),r["s-ol"].remove(),r["s-ol"]=void 0,sy=!0),e&&$l(r,e)}fn.$flags$&=-2},G1=(n,e,t,i,r,s)=>{let o=n["s-cr"]&&n["s-cr"].parentNode||n,a;for(o.shadowRoot&&o.tagName===fh&&(o=o.shadowRoot);r<=s;++r)i[r]&&(a=fd(null,t,r,n),a&&(i[r].$elm$=a,o.insertBefore(a,ay(e))))},K1=(n,e,t,i,r)=>{for(;e<=t;++e)(i=n[e])&&(r=i.$elm$,Z1(i),hd=!0,r["s-ol"]?r["s-ol"].remove():$l(r,!0),r.remove())},tD=(n,e,t,i)=>{let r=0,s=0,o=0,a=0,l=e.length-1,c=e[0],u=e[l],d=i.length-1,h=i[0],p=i[d],y,v;for(;r<=l&&s<=d;)if(c==null)c=e[++r];else if(u==null)u=e[--l];else if(h==null)h=i[++s];else if(p==null)p=i[--d];else if(Hc(c,h))lo(c,h),c=e[++r],h=i[++s];else if(Hc(u,p))lo(u,p),u=e[--l],p=i[--d];else if(Hc(c,p))(c.$tag$==="slot"||p.$tag$==="slot")&&$l(c.$elm$.parentNode,!1),lo(c,p),n.insertBefore(c.$elm$,u.$elm$.nextSibling),c=e[++r],p=i[--d];else if(Hc(u,h))(c.$tag$==="slot"||p.$tag$==="slot")&&$l(u.$elm$.parentNode,!1),lo(u,h),n.insertBefore(u.$elm$,c.$elm$),u=e[--l],h=i[++s];else{for(o=-1,a=r;a<=l;++a)if(e[a]&&e[a].$key$!==null&&e[a].$key$===h.$key$){o=a;break}o>=0?(v=e[o],v.$tag$!==h.$tag$?y=fd(e&&e[s],t,o,n):(lo(v,h),e[o]=void 0,y=v.$elm$),h=i[++s]):(y=fd(e&&e[s],t,s,n),h=i[++s]),y&&Y1(c.$elm$).insertBefore(y,ay(c.$elm$))}r>l?G1(n,i[d+1]==null?null:i[d+1].$elm$,t,i,s,d):s>d&&K1(e,r,l)},Hc=(n,e)=>n.$tag$===e.$tag$?n.$tag$==="slot"?n.$name$===e.$name$:n.$key$===e.$key$:!1,ay=n=>n&&n["s-ol"]||n,Y1=n=>(n["s-ol"]?n["s-ol"]:n).parentNode,lo=(n,e)=>{const t=e.$elm$=n.$elm$,i=n.$children$,r=e.$children$,s=e.$tag$,o=e.$text$;let a;o===null?(qn=s==="svg"?!0:s==="foreignObject"?!1:qn,s==="slot"||Q1(n,e,qn),i!==null&&r!==null?tD(t,i,e,r):r!==null?(n.$text$!==null&&(t.textContent=""),G1(t,null,e,r,0,r.length-1)):i!==null&&K1(i,0,i.length-1),qn&&s==="svg"&&(qn=!1)):(a=t["s-cr"])?a.parentNode.textContent=o:n.$text$!==o&&(t.data=o)},J1=n=>{const e=n.childNodes;let t,i,r,s,o,a;for(i=0,r=e.length;i<r;i++)if(t=e[i],t.nodeType===1){if(t["s-sr"]){for(o=t["s-sn"],t.hidden=!1,s=0;s<r;s++)if(a=e[s].nodeType,e[s]["s-hn"]!==t["s-hn"]||o!==""){if(a===1&&o===e[s].getAttribute("slot")){t.hidden=!0;break}}else if(a===1||a===3&&e[s].textContent.trim()!==""){t.hidden=!0;break}}J1(t)}},Ci=[],X1=n=>{let e,t,i,r,s,o,a=0;const l=n.childNodes,c=l.length;for(;a<c;a++){if(e=l[a],e["s-sr"]&&(t=e["s-cr"])&&t.parentNode)for(i=t.parentNode.childNodes,r=e["s-sn"],o=i.length-1;o>=0;o--)t=i[o],!t["s-cn"]&&!t["s-nr"]&&t["s-hn"]!==e["s-hn"]&&(Rv(t,r)?(s=Ci.find(u=>u.$nodeToRelocate$===t),hd=!0,t["s-sn"]=t["s-sn"]||r,s?s.$slotRefNode$=e:Ci.push({$slotRefNode$:e,$nodeToRelocate$:t}),t["s-sr"]&&Ci.map(u=>{Rv(u.$nodeToRelocate$,t["s-sn"])&&(s=Ci.find(d=>d.$nodeToRelocate$===t),s&&!u.$slotRefNode$&&(u.$slotRefNode$=s.$slotRefNode$))})):Ci.some(u=>u.$nodeToRelocate$===t)||Ci.push({$nodeToRelocate$:t}));e.nodeType===1&&X1(e)}},Rv=(n,e)=>n.nodeType===1?n.getAttribute("slot")===null&&e===""||n.getAttribute("slot")===e:n["s-sn"]===e?!0:e==="",Z1=n=>{n.$attrs$&&n.$attrs$.ref&&n.$attrs$.ref(null),n.$children$&&n.$children$.map(Z1)},nD=(n,e)=>{const t=n.$hostElement$,i=n.$cmpMeta$,r=n.$vnode$||pd(null,null),s=W2(e)?e:sl(null,null,e);fh=t.tagName,i.$attrsToReflect$&&(s.$attrs$=s.$attrs$||{},i.$attrsToReflect$.map(([o,a])=>s.$attrs$[a]=t[o])),s.$tag$=null,s.$flags$|=4,n.$vnode$=s,s.$elm$=r.$elm$=t.shadowRoot||t,ao=t["s-sc"],z1=t["s-cr"],V1=(i.$flags$&1)!==0,hd=!1,lo(r,s);{if(fn.$flags$|=1,sy){X1(s.$elm$);let o,a,l,c,u,d,h=0;for(;h<Ci.length;h++)o=Ci[h],a=o.$nodeToRelocate$,a["s-ol"]||(l=Oi.createTextNode(""),l["s-nr"]=a,a.parentNode.insertBefore(a["s-ol"]=l,a));for(h=0;h<Ci.length;h++)if(o=Ci[h],a=o.$nodeToRelocate$,o.$slotRefNode$){for(c=o.$slotRefNode$.parentNode,u=o.$slotRefNode$.nextSibling,l=a["s-ol"];l=l.previousSibling;)if(d=l["s-nr"],d&&d["s-sn"]===a["s-sn"]&&c===d.parentNode&&(d=d.nextSibling,!d||!d["s-nr"])){u=d;break}(!u&&c!==a.parentNode||a.nextSibling!==u)&&a!==u&&(!a["s-hn"]&&a["s-ol"]&&(a["s-hn"]=a["s-ol"].parentNode.nodeName),c.insertBefore(a,u))}else a.nodeType===1&&(a.hidden=!0)}hd&&J1(s.$elm$),fn.$flags$&=-2,Ci.length=0}},iD=(n,e)=>{},eC=(n,e)=>(n.$flags$|=16,iD(n,n.$ancestorComponent$),kD(()=>rD(n,e))),rD=(n,e)=>{const t=n.$hostElement$,i=Bs("scheduleUpdate",n.$cmpMeta$.$tagName$),r=t;let s;return e?s=Po(r,"componentWillLoad"):s=Po(r,"componentWillUpdate"),s=$v(s,()=>Po(r,"componentWillRender")),i(),$v(s,()=>sD(n,r,e))},sD=async(n,e,t)=>{const i=n.$hostElement$,r=Bs("update",n.$cmpMeta$.$tagName$);i["s-rc"],t&&Z2(n);const s=Bs("render",n.$cmpMeta$.$tagName$);oD(n,e,i),s(),r(),aD(n)},oD=(n,e,t)=>{try{xv=e,e=e.render&&e.render(),n.$flags$&=-17,n.$flags$|=2,(oo.hasRenderFn||oo.reflect)&&(oo.vdomRender||oo.reflect)&&(oo.hydrateServerSide||nD(n,e))}catch(a){Hl(a,n.$hostElement$)}return xv=null,null},aD=n=>{const e=n.$cmpMeta$.$tagName$,t=n.$hostElement$,i=Bs("postUpdate",e),r=t;n.$ancestorComponent$,Po(r,"componentDidRender"),n.$flags$&64?(Po(r,"componentDidUpdate"),i()):(n.$flags$|=64,Po(r,"componentDidLoad"),i())},Po=(n,e,t)=>{if(n&&n[e])try{return n[e](t)}catch(i){Hl(i)}},$v=(n,e)=>n&&n.then?n.then(e):e(),lD=(n,e)=>mh(n).$instanceValues$.get(e),cD=(n,e,t,i)=>{const r=mh(n),s=n,o=r.$instanceValues$.get(e),a=r.$flags$,l=s;t=Y2(t,i.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(t);if(t!==o&&!c){r.$instanceValues$.set(e,t);{if(i.$watchers$&&a&128){const d=i.$watchers$[e];d&&d.map(h=>{try{l[h](t,o,e)}catch(p){Hl(p,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(t,o,e)===!1)return;eC(r,!1)}}}},uD=(n,e,t)=>{if(e.$members$){n.watchers&&(e.$watchers$=n.watchers);const i=Object.entries(e.$members$),r=n.prototype;i.map(([s,[o]])=>{(o&31||o&32)&&Object.defineProperty(r,s,{get(){return lD(this,s)},set(a){cD(this,s,a,e)},configurable:!0,enumerable:!0})});{const s=new Map;r.attributeChangedCallback=function(o,a,l){fn.jmp(()=>{const c=s.get(o);if(this.hasOwnProperty(c))l=this[c],delete this[c];else if(r.hasOwnProperty(c)&&typeof this[c]=="number"&&this[c]==l)return;this[c]=l===null&&typeof this[c]=="boolean"?!1:l})},n.observedAttributes=i.filter(([o,a])=>a[0]&15).map(([o,a])=>{const l=a[1]||o;return s.set(l,o),a[0]&512&&e.$attrsToReflect$.push([o,l]),l})}}return n},dD=async(n,e,t,i,r)=>{if(!(e.$flags$&32)&&(r=n.constructor,e.$flags$|=32,customElements.whenDefined(t.$tagName$).then(()=>e.$flags$|=128),r.style)){let o=r.style;typeof o!="string"&&(o=o[e.$modeName$=K2(n)]);const a=W1(t,e.$modeName$);if(!md.has(a)){const l=Bs("registerStyles",t.$tagName$);J2(a,o,!!(t.$flags$&1)),l()}}e.$ancestorComponent$,(()=>eC(e,!0))()},hD=n=>{},pD=n=>{if(!(fn.$flags$&1)){const e=mh(n),t=e.$cmpMeta$,i=Bs("connectedCallback",t.$tagName$);e.$flags$&1?(tC(n,e,t.$listeners$),hD(e.$lazyInstance$)):(e.$flags$|=1,t.$flags$&12&&fD(n),t.$members$&&Object.entries(t.$members$).map(([r,[s]])=>{if(s&31&&n.hasOwnProperty(r)){const o=n[r];delete n[r],n[r]=o}}),dD(n,e,t)),i()}},fD=n=>{const e=n["s-cr"]=Oi.createComment("");e["s-cn"]=!0,n.insertBefore(e,n.firstChild)},mD=n=>{if(!(fn.$flags$&1)){const e=mh(n);e.$rmListeners$&&(e.$rmListeners$.map(t=>t()),e.$rmListeners$=void 0)}},gD=(n,e)=>{const t={$flags$:e[0],$tagName$:e[1]};t.$members$=e[2],t.$listeners$=e[3],t.$watchers$=n.$watchers$,t.$attrsToReflect$=[];const i=n.prototype.connectedCallback,r=n.prototype.disconnectedCallback;return Object.assign(n.prototype,{__registerHost(){wD(this,t)},connectedCallback(){pD(this),i&&i.call(this)},disconnectedCallback(){mD(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)})}}),n.is=t.$tagName$,uD(n,t)},tC=(n,e,t,i)=>{t&&t.map(([r,s,o])=>{const a=bD(n,r),l=yD(e,o),c=vD(r);fn.ael(a,s,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>fn.rel(a,s,l,c))})},yD=(n,e)=>t=>{try{oo.lazyLoad||n.$hostElement$[e](t)}catch(i){Hl(i)}},bD=(n,e)=>e&4?Oi:e&8?Wl:e&16?Oi.body:n,vD=n=>TD?{passive:(n&1)!==0,capture:(n&2)!==0}:(n&2)!==0,nC=new WeakMap,mh=n=>nC.get(n),wD=(n,e)=>{const t={$flags$:0,$hostElement$:n,$cmpMeta$:e,$instanceValues$:new Map};return tC(n,t,e.$listeners$),nC.set(n,t)},Pv=(n,e)=>e in n,Hl=(n,e)=>(0,console.error)(n,e),md=new Map,ED=[],Wl=typeof window<"u"?window:{},Oi=Wl.document||{head:{}},xD=Wl.HTMLElement||class{},fn={$flags$:0,$resourcesUrl$:"",jmp:n=>n(),raf:n=>requestAnimationFrame(n),ael:(n,e,t,i)=>n.addEventListener(e,t,i),rel:(n,e,t,i)=>n.removeEventListener(e,t,i),ce:(n,e)=>new CustomEvent(n,e)},TD=(()=>{let n=!1;try{Oi.addEventListener("e",null,Object.defineProperty({},"passive",{get(){n=!0}}))}catch(e){}return n})(),CD=n=>Promise.resolve(n),SD=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch(n){}return!1})(),Ov=[],iC=[],ND=(n,e)=>t=>{n.push(t),vm||(vm=!0,e&&fn.$flags$&4?AD(wm):fn.raf(wm))},Iv=n=>{for(let e=0;e<n.length;e++)try{n[e](performance.now())}catch(t){Hl(t)}n.length=0},wm=()=>{Iv(Ov),Iv(iC),(vm=Ov.length>0)&&fn.raf(wm)},AD=n=>CD().then(n),kD=ND(iC,!0);let qp;const RD=()=>{if(typeof window>"u")return new Map;if(!qp){const n=window;n.Ionicons=n.Ionicons||{},qp=n.Ionicons.map=n.Ionicons.map||new Map}return qp},$D=n=>{let e=Bp(n.src);return e||(e=rC(n.name,n.icon,n.mode,n.ios,n.md),e?PD(e):n.icon&&(e=Bp(n.icon),e||(e=Bp(n.icon[n.mode]),e))?e:null)},PD=n=>{const e=RD().get(n);return e||U2("svg/".concat(n,".svg"))},rC=(n,e,t,i,r)=>(t=(t&&Wc(t))==="ios"?"ios":"md",i&&t==="ios"?n=Wc(i):r&&t==="md"?n=Wc(r):(!n&&e&&!sC(e)&&(n=e),gd(n)&&(n=Wc(n))),!gd(n)||n.trim()===""||n.replace(/[a-z]|-|\d/gi,"")!==""?null:n),Bp=n=>gd(n)&&(n=n.trim(),sC(n))?n:null,sC=n=>n.length>0&&/(\/|\.)/.test(n),gd=n=>typeof n=="string",Wc=n=>n.toLowerCase(),OD=(n,e=[])=>{const t={};return e.forEach(i=>{n.hasAttribute(i)&&(n.getAttribute(i)!==null&&(t[i]=n.getAttribute(i)),n.removeAttribute(i))}),t},ID=n=>n&&n.dir!==""?n.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",MD=n=>{const e=document.createElement("div");e.innerHTML=n;for(let i=e.childNodes.length-1;i>=0;i--)e.childNodes[i].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[i]);const t=e.firstElementChild;if(t&&t.nodeName.toLowerCase()==="svg"){const i=t.getAttribute("class")||"";if(t.setAttribute("class",(i+" s-ion-icon").trim()),oC(t))return e.innerHTML}return""},oC=n=>{if(n.nodeType===1){if(n.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<n.attributes.length;e++){const t=n.attributes[e].name;if(gd(t)&&t.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<n.childNodes.length;e++)if(!oC(n.childNodes[e]))return!1}return!0},_D=n=>n.startsWith("data:image/svg+xml"),DD=n=>n.indexOf(";utf8,")!==-1,Ts=new Map,Mv=new Map;let Fp;const LD=(n,e)=>{let t=Mv.get(n);if(!t)if(typeof fetch<"u"&&typeof document<"u")if(_D(n)&&DD(n)){Fp||(Fp=new DOMParser);const r=Fp.parseFromString(n,"text/html").querySelector("svg");return r&&Ts.set(n,r.outerHTML),Promise.resolve()}else t=fetch(n).then(i=>{if(i.ok)return i.text().then(r=>{r&&e!==!1&&(r=MD(r)),Ts.set(n,r||"")});Ts.set(n,"")}),Mv.set(n,t);else return Ts.set(n,""),Promise.resolve();return t},qD=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",BD=gD(class extends xD{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=FD(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=OD(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(n,e,t){if(this.lazy&&typeof window<"u"&&window.IntersectionObserver){const i=this.io=new window.IntersectionObserver(r=>{r[0].isIntersecting&&(i.disconnect(),this.io=void 0,t())},{rootMargin:e});i.observe(n)}else t()}loadIcon(){if(this.isVisible){const n=$D(this);n&&(Ts.has(n)?this.svgContent=Ts.get(n):LD(n,this.sanitize).then(()=>this.svgContent=Ts.get(n)))}this.iconName=rC(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:n,iconName:e,inheritedAttributes:t,el:i}=this,r=this.mode||"md",s=e?(e.includes("arrow")||e.includes("chevron"))&&n!==!1:!1,o=n||s;return sl(H1,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},UD(this.color)),{["icon-".concat(this.size)]:!!this.size,"flip-rtl":o,"icon-rtl":o&&ID(i)})},t),this.svgContent?sl("div",{class:"icon-inner",innerHTML:this.svgContent}):sl("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return qD}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),FD=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",UD=n=>n?{"ion-color":!0,["ion-color-".concat(n)]:!0}:null;function jD(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,BD);break}})}const zD=jD,ly=te.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{}}),VD=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[]}onIonViewWillEnter(n){if(n.id){const e=this.ionViewWillEnterCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewWillEnterCallbacks[e]=n:this.ionViewWillEnterCallbacks.push(n)}else this.ionViewWillEnterCallbacks.push(n)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(n=>n())}onIonViewDidEnter(n){if(n.id){const e=this.ionViewDidEnterCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewDidEnterCallbacks[e]=n:this.ionViewDidEnterCallbacks.push(n)}else this.ionViewDidEnterCallbacks.push(n)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(n=>n())}onIonViewWillLeave(n){if(n.id){const e=this.ionViewWillLeaveCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewWillLeaveCallbacks[e]=n:this.ionViewWillLeaveCallbacks.push(n)}else this.ionViewWillLeaveCallbacks.push(n)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(n=>n())}onIonViewDidLeave(n){if(n.id){const e=this.ionViewDidLeaveCallbacks.findIndex(t=>t.id===n.id);e>-1?this.ionViewDidLeaveCallbacks[e]=n:this.ionViewDidLeaveCallbacks.push(n)}else this.ionViewDidLeaveCallbacks.push(n)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(n=>n()),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(n){this.componentCanBeDestroyedCallback=n}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},Zi=te.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:n=>{typeof window<"u"&&(typeof n=="string"?window.location.pathname=n:window.history.back())},navigate:n=>{typeof window<"u"&&(window.location.pathname=n)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(n,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(n,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),cy=n=>n.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),gh=n=>n.replace(/([A-Z])/g,e=>"-".concat(e[0].toLowerCase())),uy=(n,e,t={})=>{if(n instanceof Element){const i=HD(n.classList,e,t);i!==""&&(n.className=i),Object.keys(e).forEach(r=>{if(!(r==="children"||r==="style"||r==="ref"||r==="class"||r==="className"||r==="forwardedRef"))if(r.indexOf("on")===0&&r[2]===r[2].toUpperCase()){const s=r.substring(2),o=s[0].toLowerCase()+s.substring(1);Ql(o)||QD(n,o,e[r])}else n[r]=e[r],typeof e[r]==="string"&&n.setAttribute(gh(r),e[r])})}},HD=(n,e,t)=>{const i=e.className||e.class,r=t.className||t.class,s=Up(n),o=Up(i?i.split(" "):[]),a=Up(r?r.split(" "):[]),l=[];return s.forEach(c=>{o.has(c)?(l.push(c),o.delete(c)):a.has(c)||l.push(c)}),o.forEach(c=>l.push(c)),l.join(" ")},WD=n=>{switch(n){case"doubleclick":return"dblclick"}return n};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const Ql=n=>{if(typeof document>"u")return!0;{const e="on"+WD(n);let t=e in document;if(!t){const i=document.createElement("div");i.setAttribute(e,"return;"),t=typeof i[e]=="function"}return t}},QD=(n,e,t)=>{const i=n.__events||(n.__events={}),r=i[e];r&&n.removeEventListener(e,r),n.addEventListener(e,i[e]=function(o){t&&t.call(this,o)})},Up=n=>{const e=new Map;return n.forEach(t=>e.set(t,t)),e},GD=(n,e)=>{typeof n=="function"?n(e):n!=null&&(n.current=e)},yh=(...n)=>e=>{n.forEach(t=>{GD(t,e)})},KD=(n,e)=>{const t=(i,r)=>te.createElement(n,Object.assign({},i,{forwardedRef:r}));return t.displayName=e,te.forwardRef(t)},YD=(n,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(n)&&customElements.define(n,e)},dt=(n,e,t,i)=>{i!==void 0&&i();const r=cy(n),s=class extends te.Component{constructor(o){super(o),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(o){uy(this.componentEl,this.props,o)}render(){const o=this.props,{children:a,forwardedRef:l,style:c,className:u,ref:d}=o,h=en(o,["children","forwardedRef","style","className","ref"]);let p=Object.keys(h).reduce((v,S)=>{const E=h[S];if(S.indexOf("on")===0&&S[2]===S[2].toUpperCase()){const w=S.substring(2).toLowerCase();typeof document<"u"&&Ql(w)&&(v[S]=E)}else{const w=typeof E;(w==="string"||w==="boolean"||w==="number")&&(v[gh(S)]=E)}return v},{});t&&(p=t(this.props,p));const y=Object.assign(Object.assign({},p),{ref:yh(l,this.setComponentElRef),style:c});return De.createElement(n,y,a)}static get displayName(){return r}};return e&&(s.contextType=e),KD(s,r)},JD=dt("ion-badge",void 0,void 0,PI),bh=dt("ion-buttons",void 0,void 0,DI),Oo=dt("ion-col",void 0,void 0,JI),vh=dt("ion-content",void 0,void 0,rM),aC=dt("ion-grid",void 0,void 0,AM),zo=dt("ion-header",void 0,void 0,LM),XD=dt("ion-input",void 0,void 0,ZM),es=dt("ion-label",void 0,void 0,e_),ZD=dt("ion-list",void 0,void 0,s_),eL=dt("ion-menu",void 0,void 0,m_),lC=dt("ion-menu-button",void 0,void 0,w_),Ma=dt("ion-menu-toggle",void 0,void 0,C_),tL=dt("ion-range",void 0,void 0,L_),ol=dt("ion-row",void 0,void 0,U_),nL=dt("ion-spinner",void 0,void 0,X_),jp=dt("ion-text",void 0,void 0,n2),dy=dt("ion-title",void 0,void 0,a2),wh=dt("ion-toolbar",void 0,void 0,h2),Hs=(n,e)=>{const t=(i,r)=>te.createElement(n,Object.assign({},i,{forwardedRef:r}));return t.displayName=e,te.forwardRef(t)},iL=n=>pr(window,n),hy=()=>{if(typeof window<"u"){const n=window.Ionic;if(n&&n.config)return n.config}return null},cC=(n,e)=>{YD(n,e);const t=cy(n),i=class extends te.Component{constructor(r){super(r),this.handleClick=s=>{const{routerLink:o,routerDirection:a,routerOptions:l,routerAnimation:c}=this.props;o!==void 0&&(s.preventDefault(),this.context.navigate(o,a,void 0,c,l))},this.ref=te.createRef(),this.stableMergedRefs=yh(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(r){const s=this.ref.current;uy(s,this.props,r)}render(){const r=this.props,{children:s,forwardedRef:o,style:a,className:l,ref:c}=r,u=en(r,["children","forwardedRef","style","className","ref"]),d=Object.keys(u).reduce((p,y)=>{if(y.indexOf("on")===0&&y[2]===y[2].toUpperCase()){const v=y.substring(2).toLowerCase();Ql(v)&&(p[y]=u[y])}else["string","boolean","number"].includes(typeof u[y])&&(p[gh(y)]=u[y]);return p},{}),h=Object.assign(Object.assign({},d),{ref:this.stableMergedRefs,style:a});if(this.props.routerLink&&!this.props.href&&(h.href=this.props.routerLink),h.onClick){const p=h.onClick;h.onClick=y=>{p(y),y.defaultPrevented||this.handleClick(y)}}else h.onClick=this.handleClick;return De.createElement(n,h,s)}static get displayName(){return t}static get contextType(){return Zi}};return Hs(i,t)},Hi=cC("ion-button",p2),jr=cC("ion-item",f2),rL=(n,e)=>{n instanceof Element&&Object.keys(e).forEach(t=>{if(t.indexOf("on")===0&&t[2]===t[2].toUpperCase()){const i=t.substring(2),r=i[0].toLowerCase()+i.substring(1);Ql(r)||sL(n,r)}})},sL=(n,e)=>{const t=n.__events||(n.__events={}),i=t[e];i&&(n.removeEventListener(e,i),t[e]=void 0)},oL=(n,e,t)=>{e&&e();const i=cy(n),r=class extends te.Component{constructor(s){super(s),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=o=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(o)},this.handleDidDismiss=o=>{const a=this.wrapperRef.current,l=this.ref.current;a&&l&&(l.append(a),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(o)},this.ref=te.createRef(),this.stableMergedRefs=yh(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=te.createRef()}componentDidMount(){var s,o,a;this.componentDidUpdate(this.props),(s=this.ref.current)===null||s===void 0||s.addEventListener("ionMount",this.handleIonMount),(o=this.ref.current)===null||o===void 0||o.addEventListener("willPresent",this.handleWillPresent),(a=this.ref.current)===null||a===void 0||a.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(s){const o=this.ref.current,a=this.props,l=en(a,["onDidDismiss","onWillPresent"]);uy(o,l,s)}componentWillUnmount(){const s=this.ref.current;s&&this.state.isOpen&&(s.removeEventListener("didDismiss",this.handleDidDismiss),s.remove(),rL(s,this.props))}render(){const s=this.props,{children:o,forwardedRef:a,style:l,className:c,ref:u}=s,d=en(s,["children","forwardedRef","style","className","ref"]),h=Object.keys(d).reduce((v,S)=>{if(S.indexOf("on")===0&&S[2]===S[2].toUpperCase()){const E=S.substring(2).toLowerCase();Ql(E)&&(v[S]=d[S])}else["string","boolean","number"].includes(typeof d[S])&&(v[gh(S)]=d[S]);return v},{}),p=Object.assign(Object.assign({},h),{ref:this.stableMergedRefs,style:l}),y=()=>t?"".concat(_v," ion-page"):_v;return De.createElement("template",{},De.createElement(n,p,this.state.isOpen||this.props.keepContentsMounted?De.createElement("div",{ref:this.wrapperRef,className:y()},o):null))}static get displayName(){return i}};return Hs(r,i)},_v="ion-delegate-host",uC=oL("ion-alert",m2),aL=te.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),lL=({onAddOverlay:n,onRemoveOverlay:e})=>{const[t,i]=De.useState({}),r=De.useRef({});r.current=t,De.useEffect(()=>{n(s),e(o)},[]);const s=(l,c,u)=>{const d=Object.assign({},r.current);d[l]={component:c,containerElement:u},i(d)},o=l=>{const c=Object.assign({},r.current);delete c[l],i(c)},a=Object.keys(t);return te.createElement(te.Fragment,null,a.map(l=>{const c=t[l];return ER.createPortal(c.component,c.containerElement,"overlay-".concat(l))}))},cL=dt("ion-tab-button",void 0,void 0,F2),uL=dt("ion-tab-bar",void 0,void 0,_2),dL=dt("ion-back-button",void 0,void 0,N2),Em=dt("ion-router-outlet",void 0,void 0,$2),hL=dt("ion-app",void 0,void 0,E2),pL=dt("ion-icon",void 0,void 0,zD),fL=(()=>class extends te.Component{constructor(n){super(n),this.ionContext={addOverlay:(e,t,i)=>{this.addOverlayCallback&&this.addOverlayCallback(e,t,i)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return te.createElement(aL.Provider,{value:this.ionContext},te.createElement(hL,Object.assign({},this.props),this.props.children),te.createElement(lL,{onAddOverlay:n=>{this.addOverlayCallback=n},onRemoveOverlay:n=>{this.removeOverlayCallback=n}}))}static get displayName(){return"IonApp"}})(),py=te.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class dC extends te.PureComponent{constructor(e){super(e),this.ionPageElementRef=te.createRef(),this.stableMergedRefs=yh(this.ionPageElementRef,this.props.forwardedRef)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:t,children:i,routeInfo:r,forwardedRef:s}=e,o=en(e,["className","children","routeInfo","forwardedRef"]);return te.createElement(ly.Consumer,null,a=>(this.ionLifeCycleContext=a,te.createElement("div",Object.assign({className:t?"".concat(t," ion-page"):"ion-page",ref:this.stableMergedRefs},o),i)))}static get contextType(){return py}}class mL extends te.Component{constructor(e){super(e)}render(){const e=this.props,{className:t,children:i,forwardedRef:r}=e,s=en(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?te.createElement(dC,Object.assign({className:t?"".concat(t):"",routeInfo:this.context.routeInfo,forwardedRef:r},s),i):te.createElement("div",Object.assign({className:t?"ion-page ".concat(t):"ion-page",ref:r},s),i)}static get displayName(){return"IonPage"}static get contextType(){return Zi}}const fy=Hs(mL,"IonPage"),gL=(n,e)=>{const t=new WeakMap;return{attachViewToDom:async(s,o,a,l)=>{const c=document.createElement("div");l&&c.classList.add(...l),s.appendChild(c);const u=o(a),d=Ig.createPortal(u,c);return t.set(c,d),n(d),Promise.resolve(c)},removeViewFromDom:(s,o)=>{const a=t.get(o);return a&&e(a),o.remove(),Promise.resolve()}}},yL=dt("ion-nav",void 0,void 0,R_),bL=n=>{var{children:e,forwardedRef:t}=n,i=en(n,["children","forwardedRef"]);const[r,s]=De.useState([]),o=c=>s(u=>[...u,c]),a=c=>s(u=>u.filter(d=>d!==c)),l=De.useMemo(()=>gL(o,a),[]);return te.createElement(yL,Object.assign({delegate:l,ref:t},i),r)};Hs(bL,"IonNav");te.createContext({activeTab:void 0,selectTab:()=>!1});const vL=typeof HTMLElement<"u"?HTMLElement:class{};class wL extends te.Component{constructor(e){super(e),this.outletIsReady=!1}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Ls(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:t,children:i,routeInfo:r}=e,s=en(e,["StackManager","children","routeInfo"]);return te.createElement(ly.Consumer,null,o=>(this.ionLifeCycleContext=o,te.createElement(t,{routeInfo:r},te.createElement(Em,Object.assign({setRef:a=>this.ionRouterOutlet=a},s),i))))}static get contextType(){return py}}class EL extends te.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),t=this.props,{children:i,forwardedRef:r}=t,s=en(t,["children","forwardedRef"]);return this.context.hasIonicRouter()?s.ionPage?te.createElement(wL,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},s),i):te.createElement(e,{routeInfo:this.context.routeInfo},te.createElement(Em,Object.assign({},s,{forwardedRef:r}),i)):te.createElement(Em,Object.assign({ref:r},this.props),this.props.children)}static get contextType(){return Zi}}const xL=Hs(EL,"IonRouterOutlet"),Io=(()=>class extends te.Component{constructor(n){super(n),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const n=this.props,e=en(n,["onClick"]);return te.createElement(cL,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}})();class TL extends te.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=i=>{};const t={};te.Children.forEach(e.children,i=>{var r,s,o,a;i!=null&&typeof i=="object"&&i.props&&(i.type===Io||i.type.isTabButton)&&(t[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===((r=e.routeInfo)===null||r===void 0?void 0:r.pathname)?(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions:void 0,currentRouteOptions:i.props.href===((o=e.routeInfo)===null||o===void 0?void 0:o.pathname)?(a=e.routeInfo)===null||a===void 0?void 0:a.routeOptions:void 0})}),this.state={tabs:t},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,i=Object.keys(e).find(r=>{const s=e[r].originalHref;return this.props.routeInfo.pathname.startsWith(s)});i&&this.setState({activeTab:i})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const t=this.state.tabs[e];return t?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,t){var i,r,s;const o=Object.assign({},t.tabs),l=Object.keys(t.tabs).find(u=>{const d=t.tabs[u].originalHref;return e.routeInfo.pathname.startsWith(d)});te.Children.forEach(e.children,u=>{if(u!=null&&typeof u=="object"&&u.props&&(u.type===Io||u.type.isTabButton)){const d=o[u.props.tab];(!d||d.originalHref!==u.props.href)&&(o[u.props.tab]={originalHref:u.props.href,currentHref:u.props.href,originalRouteOptions:u.props.routeOptions,currentRouteOptions:u.props.routeOptions})}});const{activeTab:c}=t;if(l&&c){const u=t.tabs[c].currentHref,d=t.tabs[c].currentRouteOptions;(l!==c||u!==((i=e.routeInfo)===null||i===void 0?void 0:i.pathname)||d!==((r=e.routeInfo)===null||r===void 0?void 0:r.routeOptions))&&(o[l]={originalHref:o[l].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:o[l].originalRouteOptions,currentRouteOptions:(s=e.routeInfo)===null||s===void 0?void 0:s.routeOptions},e.routeInfo.routeAction==="pop"&&l!==c&&(o[c]={originalHref:o[c].originalHref,currentHref:o[c].originalHref,originalRouteOptions:o[c].originalRouteOptions,currentRouteOptions:o[c].currentRouteOptions}))}return l&&e.onSetCurrentTab(l,e.routeInfo),{activeTab:l,tabs:o}}onTabButtonClick(e,t){const i=this.state.tabs[e.detail.tab],r=i.originalHref,s=e.detail.href,{activeTab:o}=this.state;t&&t(e),o===e.detail.tab?r!==s&&this.context.resetTab(e.detail.tab,r,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,s,e.detail.routeOptions))}renderTabButton(e){return t=>{var i,r;if(t!=null&&t.props&&(t.type===Io||t.type.isTabButton)){const s=t.props.tab===e?(i=this.props.routeInfo)===null||i===void 0?void 0:i.pathname:this.state.tabs[t.props.tab].currentHref,o=t.props.tab===e?(r=this.props.routeInfo)===null||r===void 0?void 0:r.routeOptions:this.state.tabs[t.props.tab].currentRouteOptions;return te.cloneElement(t,{href:s,routeOptions:o,onClick:a=>this.onTabButtonClick(a,t.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return te.createElement(uL,Object.assign({},this.props,{selectedTab:e}),te.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return Zi}}const CL=te.memo(n=>{var{forwardedRef:e}=n,t=en(n,["forwardedRef"]);const i=De.useContext(Zi);return te.createElement(TL,Object.assign({ref:e},t,{routeInfo:t.routeInfo||i.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:i.setCurrentTab}),t.children)}),SL=Hs(CL,"IonTabBar");class NL extends vL{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",NL));const AL=(()=>class extends te.Component{constructor(){super(...arguments),this.clickButton=n=>{if(n.target&&n.target.closest("ion-nav")!==null)return;const{defaultHref:e,routerAnimation:t}=this.props;this.context.hasIonicRouter()?(n.stopPropagation(),this.context.goBack(e,t)):e!==void 0&&(window.location.href=e)}}render(){return te.createElement(dL,Object.assign({onClick:this.clickButton},this.props))}static get displayName(){return"IonBackButton"}static get contextType(){return Zi}})();class kL extends te.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,t;const i=this.props,{icon:r,ios:s,md:o,mode:a}=i,l=en(i,["icon","ios","md","mode"]);let c;const u=hy(),d=a||(u==null?void 0:u.get("mode"));return s||o?d==="ios"?c=(e=s!=null?s:o)!==null&&e!==void 0?e:r:c=(t=o!=null?o:s)!==null&&t!==void 0?t:r:c=r,te.createElement(pL,Object.assign({ref:this.props.forwardedRef,icon:c},l),this.props.children)}static get contextType(){return Zi}}const Si=Hs(kL,"IonIcon");class my extends te.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!my?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):te.createElement(e,Object.assign({},this.props))}static get contextType(){return Zi}}class hC extends te.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!hC?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):te.createElement(e,Object.assign({},this.props))}static get contextType(){return Zi}}const RL=te.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class D5 extends te.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=_t(e.id)}setupAnimation(e){const t=this.animation;this.nodes.size>0&&t.addElement(Array.from(this.nodes.values())),Dv(t,e),Lv(t,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const t=this.animation,i=this.props;Dv(t,i,e),$L(t,i,e),Lv(t,i,e)}render(){const{children:e}=this.props;return te.createElement(te.Fragment,null,te.Children.map(e,(t,i)=>te.cloneElement(t,{ref:r=>this.nodes.set(i,r)})))}}const Dv=(n,e={},t={})=>{const i=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!i.includes(l)&&e[l]!==t[l]&&n[l](e[l]);const r=e.from;r&&r!==t.from&&(Array.isArray(r)?r:[r]).forEach(c=>n.from(c.property,c.value));const s=e.to;s&&s!==t.to&&(Array.isArray(s)?s:[s]).forEach(c=>n.to(c.property,c.value));const o=e.fromTo;o&&o!==t.fromTo&&(Array.isArray(o)?o:[o]).forEach(c=>n.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==t.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>n.onFinish(c.callback,c.opts))},$L=(n,e={},t={})=>{var i,r,s,o,a;const{progressStart:l,progressStep:c,progressEnd:u}=e;l&&(((i=t.progressStart)===null||i===void 0?void 0:i.forceLinearEasing)!==(l==null?void 0:l.forceLinearEasing)||((r=t.progressStart)===null||r===void 0?void 0:r.step)!==(l==null?void 0:l.step))&&n.progressStart(l.forceLinearEasing,l.step),c&&((s=t.progressStep)===null||s===void 0?void 0:s.step)!==(c==null?void 0:c.step)&&n.progressStep(c.step),u&&(((o=t.progressEnd)===null||o===void 0?void 0:o.playTo)!==(u==null?void 0:u.playTo)||((a=t.progressEnd)===null||a===void 0?void 0:a.step)!==(u==null?void 0:u.step)||(t==null?void 0:t.dur)!==(u==null?void 0:u.dur))&&n.progressEnd(u.playTo,u.step,u.dur)},Lv=(n,e={},t={})=>{!t.play&&e.play&&n.play(),!t.pause&&e.pause&&n.pause(),!t.stop&&e.stop&&n.stop(),!t.destroy&&e.destroy&&n.destroy()},qv={main:0},yd=(n="main")=>{var e;const t=((e=qv[n])!==null&&e!==void 0?e:0)+1;return qv[n]=t,t.toString()},PL=(n={})=>{typeof document<"u"&&document.documentElement.classList.add("ion-ce"),NO(Object.assign({},n))},pC=te.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class Bv extends te.Component{constructor(e){super(e),this.ionLifeCycleContext=new VD,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return te.createElement(ly.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class OL{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){e.routeAction==="push"||e.routeAction==null?this._add(e):e.routeAction==="pop"?this._pop(e):e.routeAction==="replace"&&this._replace(e),e.routeDirection==="root"&&(this._clear(),this._add(e))}clearTabStack(e){const t=this._getRouteInfosByKey(e);t&&(t.forEach(i=>{this.locationHistory=this.locationHistory.filter(r=>r.id!==i.id)}),this.tabHistory[e]=[])}update(e){const t=this.locationHistory.findIndex(r=>r.id===e.id);t>-1&&this.locationHistory.splice(t,1,e);const i=this.tabHistory[e.tab||""];if(i){const r=i.findIndex(s=>s.id===e.id);r>-1?i.splice(r,1,e):i.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const t=this._getRouteInfosByKey(e.tab);t&&(this._areRoutesEqual(t[t.length-1],e)&&t.pop(),t.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,t){return!e||!t?!1:e.pathname===t.pathname&&e.search===t.search}_pop(e){const t=this._getRouteInfosByKey(e.tab);t&&(t.pop(),t.pop(),t.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const t=this._getRouteInfosByKey(e.tab);t&&t.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach(t=>this.tabHistory[t]=[]),this.locationHistory=[]}_getRouteInfosByKey(e){let t;return e&&(t=this.tabHistory[e],t||(t=this.tabHistory[e]=[])),t}getFirstRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[0]}getCurrentRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[t.length-1]}findLastLocation(e){const t=this._getRouteInfosByKey(e.tab);if(t)for(let i=t.length-2;i>=0;i--){const r=t[i];if(r&&r.pathname===e.pushedByRoute)return r}for(let i=this.locationHistory.length-2;i>=0;i--){const r=this.locationHistory[i];if(r&&r.pathname===e.pushedByRoute)return r}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class IL extends te.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(t,i,r,s,o)=>{this.navigate(t,i,r,o,s)},back:t=>{this.goBack(void 0,t)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,t=>{this.nativeGoBack(),t()})}goBack(e,t){this.props.onNavigateBack(e,t)}nativeGoBack(){this.props.onNativeBack()}navigate(e,t="forward",i="push",r,s,o){this.props.onNavigate(e,i,t,r,s,o)}getPageManager(){return dC}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return te.createElement(Zi.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},te.createElement(RL.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class ML{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:t}=e;this.viewStacks[t]?this.viewStacks[t].push(e):this.viewStacks[t]=[e]}clear(e){return setTimeout(()=>{delete this.viewStacks[e]},500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:t}=e,i=this.viewStacks[t];if(i){const r=i.find(s=>s.id===e.id);r&&(r.mount=!1,this.viewStacks[t]=i.filter(s=>s.id!==r.id))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),t=[];return e.forEach(i=>{t.push(...this.viewStacks[i])}),t}}class _L extends te.PureComponent{render(){return te.createElement(Ha,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},this.props.computedMatch!==void 0?{computedMatch:this.props.computedMatch}:{}))}}class DL extends ML{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,t,i,r){const s={id:yd("viewItem"),outletId:e,ionPageElement:r,reactElement:t,mount:!0,ionRoute:!1},o={exact:t.props.exact,path:t.props.path||t.props.from,component:t.props.component},a=_s(i.pathname,o);return t.type===my&&(s.ionRoute=!0,s.disableIonPageManagement=t.props.disableIonPageManagement),s.routeData={match:a,childProps:t.props},s}getChildrenToRender(e,t,i){const r=this.getViewItemsForOutlet(e);return te.Children.forEach(t.props.children,o=>{const a=r.find(l=>Fv(o,l.routeData.childProps.path||l.routeData.childProps.from));a&&(a.reactElement=o)}),r.map(o=>{let a;if(o.ionRoute&&!o.disableIonPageManagement)a=te.createElement(Bv,{key:"view-".concat(o.id),mount:o.mount,removeView:()=>this.remove(o)},te.cloneElement(o.reactElement,{computedMatch:o.routeData.match}));else{const l=Fv(o.reactElement,i.pathname);a=te.createElement(Bv,{key:"view-".concat(o.id),mount:o.mount,removeView:()=>this.remove(o)},te.cloneElement(o.reactElement,{computedMatch:o.routeData.match})),!l&&o.routeData.match&&(o.routeData.match=void 0,o.mount=!1)}return a})}findViewItemByRouteInfo(e,t,i){const{viewItem:r,match:s}=this.findViewItemByPath(e.pathname,t);return(i===void 0||i===!0)&&r&&s&&(r.routeData.match=s),r}findLeavingViewItemByRouteInfo(e,t,i=!0){const{viewItem:r}=this.findViewItemByPath(e.lastPathname,t,!1,i);return r}findViewItemByPathname(e,t){const{viewItem:i}=this.findViewItemByPath(e,t);return i}findViewItemByPath(e,t,i,r){let s,o,a;if(t)a=this.getViewItemsForOutlet(t),a.some(l),s||a.some(c);else{const u=this.getAllViewItems();u.some(l),s||u.some(c)}return{viewItem:s,match:o};function l(u){if(r&&!u.ionRoute)return!1;const d={exact:i?!0:u.routeData.childProps.exact,path:u.routeData.childProps.path||u.routeData.childProps.from,component:u.routeData.childProps.component},h=_s(e,d);return h?(s=u,o=h,!0):!1}function c(u){return!u.routeData.childProps.path&&!u.routeData.childProps.from?(o={path:e,url:e,isExact:!0,params:{}},s=u,!0):!1}}}function Fv(n,e,t){const i={exact:t?!0:n.props.exact,path:n.props.path||n.props.from,component:n.props.component};return _s(e,i)}function LL(n){let e;if(typeof n=="string"?e=n:e=n.outerHTML,document){const t=document.createElement("div");t.innerHTML=e,t.style.zIndex="";const i=t.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),t.firstChild}}const Uv=n=>!n.classList.contains("ion-page-invisible")&&!n.classList.contains("ion-page-hidden");class qL extends te.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=yd("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:t}=this.props.routeInfo,{pathname:i}=e.routeInfo;t!==i?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var t,i;if(!this.routerOutletElement||!this.routerOutletElement.commit)this.pendingPageTransition=!0;else{let r=this.context.findViewItemByRouteInfo(e,this.id),s=this.context.findLeavingViewItemByRouteInfo(e,this.id);!s&&e.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),s&&(e.routeAction==="replace"?s.mount=!1:e.routeAction==="push"&&e.routeDirection==="forward"?!((t=e.routeOptions)===null||t===void 0)&&t.unmount&&(s.mount=!1):e.routeDirection!=="none"&&r!==s&&(s.mount=!1));const o=BL((i=this.ionRouterOutlet)===null||i===void 0?void 0:i.props.children,e);if(r?r.reactElement=o:o&&(r=this.context.createViewItem(this.id,o,e),this.context.addViewItem(r)),r&&r.ionPageElement){if(r===s&&r.routeData.match.url!==e.pathname||(!s&&this.props.routeInfo.prevRouteLastPathname&&(s=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),Uv(r.ionPageElement)&&s!==void 0&&!Uv(s.ionPageElement)))return;this.transitionPage(e,r,s)}else s&&!o&&!r&&s.ionPageElement&&(s.ionPageElement.classList.add("ion-page-hidden"),s.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}}registerIonPage(e,t){const i=this.context.findViewItemByRouteInfo(t,this.id);if(i){const r=i.ionPageElement;if(i.ionPageElement=e,i.ionRoute=!0,r===e)return}this.handlePageTransition(t)}async setupRouterOutlet(e){const t=()=>{const s=hy();if(!(s&&s.get("swipeBackEnabled",e.mode==="ios")))return!1;const{routeInfo:a}=this.props,l=this.prevProps&&this.prevProps.routeInfo.pathname===a.pushedByRoute?this.prevProps.routeInfo:{pathname:a.pushedByRoute||""},c=this.context.findViewItemByRouteInfo(l,this.id,!1);return!!c&&c.mount&&c.routeData.match.path!==a.pathname},i=async()=>{const{routeInfo:s}=this.props,o=this.prevProps&&this.prevProps.routeInfo.pathname===s.pushedByRoute?this.prevProps.routeInfo:{pathname:s.pushedByRoute||""},a=this.context.findViewItemByRouteInfo(o,this.id,!1),l=this.context.findViewItemByRouteInfo(s,this.id,!1);return a&&l&&await this.transitionPage(s,a,l,"back",!0),Promise.resolve()},r=s=>{if(s)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:o}=this.props,a=this.prevProps&&this.prevProps.routeInfo.pathname===o.pushedByRoute?this.prevProps.routeInfo:{pathname:o.pushedByRoute||""},l=this.context.findViewItemByRouteInfo(a,this.id,!1),c=this.context.findViewItemByRouteInfo(o,this.id,!1);if(l!==c&&(l==null?void 0:l.ionPageElement)!==void 0){const{ionPageElement:u}=l;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden")}}};e.swipeHandler={canStart:t,onStart:i,onEnd:r}}async transitionPage(e,t,i,r,s=!1){const o=async(u,d)=>{const h=this.skipTransition;h?this.skipTransition=!1:(u.classList.add("ion-page"),u.classList.add("ion-page-invisible")),await a.commit(u,d,{duration:h||c===void 0?0:void 0,direction:c,showGoBack:!!e.pushedByRoute,progressAnimation:s,animationBuilder:e.routeAnimation})},a=this.routerOutletElement,l=e.routeDirection==="none"||e.routeDirection==="root"?void 0:e.routeDirection,c=r!=null?r:l;if(t&&t.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&t===i)if(FL(i.reactElement,e.pathname,!0)){const d=LL(i.ionPageElement.outerHTML);d&&(this.routerOutletElement.appendChild(d),await o(t.ionPageElement,d),this.routerOutletElement.removeChild(d))}else await o(t.ionPageElement,void 0);else await o(t.ionPageElement,i==null?void 0:i.ionPageElement),i&&i.ionPageElement&&!s&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,t=te.Children.only(e);this.ionRouterOutlet=t;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,()=>{this.forceUpdate()});return te.createElement(py.Provider,{value:this.stackContextValue},te.cloneElement(t,{ref:r=>{t.props.setRef&&t.props.setRef(r),t.props.forwardedRef&&(t.props.forwardedRef.current=r),this.routerOutletElement=r;const{ref:s}=t;typeof s=="function"&&s(r)}},i))}static get contextType(){return pC}}function BL(n,e){let t;return te.Children.forEach(n,i=>{const r={exact:i.props.exact,path:i.props.path||i.props.from,component:i.props.component};_s(e.pathname,r)&&(t=i)}),t||(te.Children.forEach(n,i=>{i.props.path||i.props.from||(t=i)}),t)}function FL(n,e,t){const i={exact:t?!0:n.props.exact,path:n.props.path||n.props.from,component:n.props.component};return _s(e,i)}class UL extends te.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new OL,this.viewStack=new DL,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const t={id:yd("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(t),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:t}}handleChangeTab(e,t,i){if(!t)return;const r=this.locationHistory.getCurrentRouteInfoForTab(e),[s,o]=t.split("?");r?(this.incomingRouteParams=Object.assign(Object.assign({},r),{routeAction:"push",routeDirection:"none"}),r.pathname===s?(this.incomingRouteParams.routeOptions=i,this.props.history.push(r.pathname+(r.search||""))):(this.incomingRouteParams.pathname=s,this.incomingRouteParams.search=o?"?"+o:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(s+(o?"?"+o:"")))):this.handleNavigate(s,"push","none",void 0,i,e)}handleHistoryChange(e,t){var i,r,s;let o;if(this.incomingRouteParams?this.incomingRouteParams.routeAction==="replace"?o=this.locationHistory.previous():o=this.locationHistory.current():o=this.locationHistory.current(),o.pathname+o.search!==e.pathname){if(!this.incomingRouteParams){if(t==="REPLACE"&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),t==="POP"){const c=this.locationHistory.current();if(c&&c.pushedByRoute){const u=this.locationHistory.findLastLocation(c);this.incomingRouteParams=Object.assign(Object.assign({},u),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:((i=e.state)===null||i===void 0?void 0:i.direction)||"forward",routeOptions:(r=e.state)===null||r===void 0?void 0:r.routerOptions,tab:this.currentTab})}let l;if(!((s=this.incomingRouteParams)===null||s===void 0)&&s.id)l=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:o.pathname}),this.locationHistory.add(l);else{const c=this.incomingRouteParams.routeAction==="push"&&this.incomingRouteParams.routeDirection==="forward";if(l=Object.assign(Object.assign({id:yd("routeInfo")},this.incomingRouteParams),{lastPathname:o.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:o.lastPathname}),c)l.tab=o.tab,l.pushedByRoute=o.pathname;else if(l.routeAction==="pop"){const u=this.locationHistory.findLastLocation(l);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="push"&&l.tab!==o.tab){const u=this.locationHistory.getCurrentRouteInfoForTab(l.tab);l.pushedByRoute=u==null?void 0:u.pushedByRoute}else if(l.routeAction==="replace"){const u=this.locationHistory.current(),d=u==null?void 0:u.pushedByRoute,h=d!==void 0&&d!==l.pathname?d:l.pushedByRoute;l.lastPathname=(u==null?void 0:u.pathname)||l.lastPathname,l.prevRouteLastPathname=u==null?void 0:u.lastPathname,l.pushedByRoute=h,l.routeDirection=(u==null?void 0:u.routeDirection)||l.routeDirection,l.routeAnimation=(u==null?void 0:u.routeAnimation)||l.routeAnimation}this.locationHistory.add(l)}this.setState({routeInfo:l})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,t,i,r,s,o){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:t,routeDirection:i,routeOptions:s,routeAnimation:r,tab:o}),t==="push"?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",t){const i=hy();e=e||i&&i.get("backButtonDefaultHref");const r=this.locationHistory.current();if(r&&r.pushedByRoute){const s=this.locationHistory.findLastLocation(r);if(s)if(this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back",routeAnimation:t||r.routeAnimation}),r.lastPathname===r.pushedByRoute||s.pathname===r.pushedByRoute&&r.tab===""&&s.tab===""){const o=this.props.history;(o.goBack||o.back)()}else this.handleNavigate(s.pathname+(s.search||""),"pop","back",t);else this.handleNavigate(e,"pop","back",t)}else this.handleNavigate(e,"pop","back",t)}handleResetTab(e,t,i){const r=this.locationHistory.getFirstRouteInfoForTab(e);if(r){const s=Object.assign({},r);s.pathname=t,s.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},s),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(s.pathname+(s.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const t=Object.assign({},this.locationHistory.current());t.tab!==e&&(t.tab=e,this.locationHistory.update(t))}render(){return te.createElement(pC.Provider,{value:this.routeMangerContextState},te.createElement(IL,{ionRoute:_L,ionRedirect:{},stackManager:qL,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const Eh=I$(UL);Eh.displayName="IonRouter";class jL extends te.Component{constructor(e){super(e);const{history:t}=e,i=en(e,["history"]);this.history=t||DR(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const i=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,i=en(e,["children"]);return te.createElement(Ul,Object.assign({history:this.history},i),te.createElement(Eh,{registerHistoryListener:this.registerHistoryListener},t))}}class L5 extends te.Component{constructor(e){super(e),this.history=e.history,this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const i=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,i=en(e,["children"]);return te.createElement(Ul,Object.assign({},i),te.createElement(Eh,{registerHistoryListener:this.registerHistoryListener},t))}}class q5 extends te.Component{constructor(e){super(e);const{history:t}=e,i=en(e,["history"]);this.history=t||BR(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const i=e.location||e,r=e.action||t;this.historyListenHandler&&this.historyListenHandler(i,r)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,i=en(e,["children"]);return te.createElement(Ul,Object.assign({history:this.history},i),te.createElement(Eh,{registerHistoryListener:this.registerHistoryListener},t))}}const zL="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80a176 176 0 10176 176A176 176 0 00256 80z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296' stroke-linecap='round' stroke-miterlimit='10' stroke-width='28' class='ionicon-fill-none'/><circle cx='250' cy='348' r='20'/></svg>",VL="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z'/><path d='M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z'/></svg>",HL="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M480 257.35c0-123.7-100.3-224-224-224s-224 100.3-224 224c0 111.8 81.9 204.47 189 221.29V322.12h-56.89v-64.77H221V208c0-56.13 33.45-87.16 84.61-87.16 24.51 0 50.15 4.38 50.15 4.38v55.13H327.5c-27.81 0-36.51 17.26-36.51 35v42h62.12l-9.92 64.77H291v156.54c107.1-16.81 189-109.48 189-221.31z' fill-rule='evenodd'/></svg>",WL="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M349.33 69.33a93.62 93.62 0 0193.34 93.34v186.66a93.62 93.62 0 01-93.34 93.34H162.67a93.62 93.62 0 01-93.34-93.34V162.67a93.62 93.62 0 0193.34-93.34h186.66m0-37.33H162.67C90.8 32 32 90.8 32 162.67v186.66C32 421.2 90.8 480 162.67 480h186.66C421.2 480 480 421.2 480 349.33V162.67C480 90.8 421.2 32 349.33 32z'/><path d='M377.33 162.67a28 28 0 1128-28 27.94 27.94 0 01-28 28zM256 181.33A74.67 74.67 0 11181.33 256 74.75 74.75 0 01256 181.33m0-37.33a112 112 0 10112 112 112 112 0 00-112-112z'/></svg>",QL="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448.67 154.45L274.1 68.2a41.1 41.1 0 00-36.2 0L63.33 154.45A55.6 55.6 0 0032 204.53v184.61c0 30.88 25.42 56 56.67 56h334.66c31.25 0 56.67-25.12 56.67-56V204.53a55.6 55.6 0 00-31.33-50.08zM252.38 96.82a8.22 8.22 0 017.24 0L429 180.48l-172 85a8.22 8.22 0 01-7.24 0L80.35 181.81z'/></svg>",GL="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M224 432h-80V80h80zM368 432h-80V80h80z'/></svg>",KL="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M96 448l320-192L96 64v384z'/></svg>",YL="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>",fC="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='272' r='16'/><path d='M280 81.5V72a24 24 0 00-48 0v9.5a191 191 0 00-84.43 32.13L137 103a24 24 0 00-34 34l8.6 8.6A191.17 191.17 0 0064 272c0 105.87 86.13 192 192 192s192-86.13 192-192c0-97.74-73.42-178.66-168-190.5zM256 320a48 48 0 01-16-93.25V152a16 16 0 0132 0v74.75A48 48 0 01256 320z'/></svg>",JL="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M434.67 285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179 179 0 00-140.14 67.36m-38.53 82v29.8C76.8 355 157 435 256 435a180.45 180.45 0 00140-66.92' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M32 256l44-44 46 44M480 256l-44 44-46-44' class='ionicon-fill-none ionicon-stroke-width'/></svg>",XL="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z'/></svg>",jv=n=>{let e;const t=new Set,i=(l,c)=>{const u=typeof l=="function"?l(e):l;if(!Object.is(u,e)){const d=e;e=(c!=null?c:typeof u!="object")?u:Object.assign({},e,u),t.forEach(h=>h(e,d))}},r=()=>e,a={setState:i,getState:r,subscribe:l=>(t.add(l),()=>t.delete(l)),destroy:()=>{t.clear()}};return e=n(i,r,a),a},ZL=n=>n?jv(n):jv;var mC={exports:{}},gC={},yC={exports:{}},bC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vo=De;function eq(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var tq=typeof Object.is=="function"?Object.is:eq,nq=Vo.useState,iq=Vo.useEffect,rq=Vo.useLayoutEffect,sq=Vo.useDebugValue;function oq(n,e){var t=e(),i=nq({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return rq(function(){r.value=t,r.getSnapshot=e,zp(r)&&s({inst:r})},[n,t,e]),iq(function(){return zp(r)&&s({inst:r}),n(function(){zp(r)&&s({inst:r})})},[n]),sq(t),t}function zp(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!tq(n,t)}catch(i){return!0}}function aq(n,e){return e()}var lq=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?aq:oq;bC.useSyncExternalStore=Vo.useSyncExternalStore!==void 0?Vo.useSyncExternalStore:lq;yC.exports=bC;var cq=yC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=De,uq=cq;function dq(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var hq=typeof Object.is=="function"?Object.is:dq,pq=uq.useSyncExternalStore,fq=xh.useRef,mq=xh.useEffect,gq=xh.useMemo,yq=xh.useDebugValue;gC.useSyncExternalStoreWithSelector=function(n,e,t,i,r){var s=fq(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=gq(function(){function l(p){if(!c){if(c=!0,u=p,p=i(p),r!==void 0&&o.hasValue){var y=o.value;if(r(y,p))return d=y}return d=p}if(y=d,hq(u,p))return y;var v=i(p);return r!==void 0&&r(y,v)?y:(u=p,d=v)}var c=!1,u,d,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,i,r]);var a=pq(n,s[0],s[1]);return mq(function(){o.hasValue=!0,o.value=a},[a]),yq(a),a};mC.exports=gC;var bq=mC.exports;const vq=ss(bq),{useSyncExternalStoreWithSelector:wq}=vq;function Eq(n,e=n.getState,t){const i=wq(n.subscribe,n.getState,n.getServerState||n.getState,e,t);return De.useDebugValue(i),i}const zv=n=>{const e=typeof n=="function"?ZL(n):n,t=(i,r)=>Eq(e,i,r);return Object.assign(t,e),t},xq=n=>n?zv(n):zv,xm=new Map,Qc=n=>{const e=xm.get(n);return e?Object.fromEntries(Object.entries(e.stores).map(([t,i])=>[t,i.getState()])):{}},Tq=(n,e,t)=>{if(n===void 0)return{type:"untracked",connection:e.connect(t)};const i=xm.get(t.name);if(i)return{type:"tracked",store:n,...i};const r={connection:e.connect(t),stores:{}};return xm.set(t.name,r),{type:"tracked",store:n,...r}},Cq=(n,e={})=>(t,i,r)=>{const{enabled:s,anonymousActionType:o,store:a,...l}=e;let c;try{c=(s!=null?s:!1)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(v){}if(!c)return n(t,i,r);const{connection:u,...d}=Tq(a,c,l);let h=!0;r.setState=(v,S,E)=>{const w=t(v,S);if(!h)return w;const C=E===void 0?{type:o||"anonymous"}:typeof E=="string"?{type:E}:E;return a===void 0?(u==null||u.send(C,i()),w):(u==null||u.send({...C,type:"".concat(a,"/").concat(C.type)},{...Qc(l.name),[a]:r.getState()}),w)};const p=(...v)=>{const S=h;h=!1,t(...v),h=S},y=n(r.setState,i,r);if(d.type==="untracked"?u==null||u.init(y):(d.stores[d.store]=r,u==null||u.init(Object.fromEntries(Object.entries(d.stores).map(([v,S])=>[v,v===d.store?y:S.getState()])))),r.dispatchFromDevtools&&typeof r.dispatch=="function"){let v=!1;const S=r.dispatch;r.dispatch=(...E)=>{S(...E)}}return u.subscribe(v=>{var S;switch(v.type){case"ACTION":if(typeof v.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Vp(v.payload,E=>{if(E.type==="__setState"){if(a===void 0){p(E.state);return}Object.keys(E.state).length!==1&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const w=E.state[a];if(w==null)return;JSON.stringify(r.getState())!==JSON.stringify(w)&&p(w);return}r.dispatchFromDevtools&&typeof r.dispatch=="function"&&r.dispatch(E)});case"DISPATCH":switch(v.payload.type){case"RESET":return p(y),a===void 0?u==null?void 0:u.init(r.getState()):u==null?void 0:u.init(Qc(l.name));case"COMMIT":if(a===void 0){u==null||u.init(r.getState());return}return u==null?void 0:u.init(Qc(l.name));case"ROLLBACK":return Vp(v.state,E=>{if(a===void 0){p(E),u==null||u.init(r.getState());return}p(E[a]),u==null||u.init(Qc(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Vp(v.state,E=>{if(a===void 0){p(E);return}JSON.stringify(r.getState())!==JSON.stringify(E[a])&&p(E[a])});case"IMPORT_STATE":{const{nextLiftedState:E}=v.payload,w=(S=E.computedStates.slice(-1)[0])==null?void 0:S.state;if(!w)return;p(a===void 0?w:w[a]),u==null||u.send(null,E);return}case"PAUSE_RECORDING":return h=!h}return}}),y},Sq=Cq,Vp=(n,e)=>{let t;try{t=JSON.parse(n)}catch(i){console.error("[zustand devtools middleware] Could not parse the received json",i)}t!==void 0&&e(t)};function vC(n,e){let t;try{t=n()}catch(r){return}return{getItem:r=>{var s;const o=l=>l===null?null:JSON.parse(l,e==null?void 0:e.reviver),a=(s=t.getItem(r))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(r,s)=>t.setItem(r,JSON.stringify(s,e==null?void 0:e.replacer)),removeItem:r=>t.removeItem(r)}}const Pl=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return Pl(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Pl(i)(t)}}}},Nq=(n,e)=>(t,i,r)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:S=>S,version:0,merge:(S,E)=>({...E,...S}),...e},o=!1;const a=new Set,l=new Set;let c;try{c=s.getStorage()}catch(S){}if(!c)return n((...S)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),t(...S)},i,r);const u=Pl(s.serialize),d=()=>{const S=s.partialize({...i()});let E;const w=u({state:S,version:s.version}).then(C=>c.setItem(s.name,C)).catch(C=>{E=C});if(E)throw E;return w},h=r.setState;r.setState=(S,E)=>{h(S,E),d()};const p=n((...S)=>{t(...S),d()},i,r);let y;const v=()=>{var S;if(!c)return;o=!1,a.forEach(w=>w(i()));const E=((S=s.onRehydrateStorage)==null?void 0:S.call(s,i()))||void 0;return Pl(c.getItem.bind(c))(s.name).then(w=>{if(w)return s.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var C;return y=s.merge(w,(C=i())!=null?C:p),t(y,!0),d()}).then(()=>{E==null||E(y,void 0),o=!0,l.forEach(w=>w(y))}).catch(w=>{E==null||E(void 0,w)})};return r.persist={setOptions:S=>{s={...s,...S},S.getStorage&&(c=S.getStorage())},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:S=>(a.add(S),()=>{a.delete(S)}),onFinishHydration:S=>(l.add(S),()=>{l.delete(S)})},v(),y||p},Aq=(n,e)=>(t,i,r)=>{let s={storage:vC(()=>localStorage),partialize:v=>v,version:0,merge:(v,S)=>({...S,...v}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return n((...v)=>{console.warn("[zustand persist middleware] Unable to update item '".concat(s.name,"', the given storage is currently unavailable.")),t(...v)},i,r);const u=()=>{const v=s.partialize({...i()});return c.setItem(s.name,{state:v,version:s.version})},d=r.setState;r.setState=(v,S)=>{d(v,S),u()};const h=n((...v)=>{t(...v),u()},i,r);let p;const y=()=>{var v,S;if(!c)return;o=!1,a.forEach(w=>{var C;return w((C=i())!=null?C:h)});const E=((S=s.onRehydrateStorage)==null?void 0:S.call(s,(v=i())!=null?v:h))||void 0;return Pl(c.getItem.bind(c))(s.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var C;return p=s.merge(w,(C=i())!=null?C:h),t(p,!0),u()}).then(()=>{E==null||E(p,void 0),p=i(),o=!0,l.forEach(w=>w(p))}).catch(w=>{E==null||E(void 0,w)})};return r.persist={setOptions:v=>{s={...s,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:v=>(a.add(v),()=>{a.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||y(),p||h},kq=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?Nq(n,e):Aq(n,e),Rq=kq,$q=n=>({timerInterval:25,setTimerInterval:e=>n(()=>({timerInterval:e}),!1,"setTimerInterval"),timerStatus:"idle",setTimerStatus:e=>n(()=>({timerStatus:e}),!1,"setTimerStatus"),timerKey:Date.now(),setTimerKey:()=>n(()=>({timerKey:Date.now()}),!1,"setTimerKey"),timerDuration:0,setTimerDuration:e=>n(()=>({timerDuration:Date.now()+e}),!1,"setTimerDuration"),timerPausedTime:0,setTimerPausedTime:()=>n(e=>({timerPausedTime:e.timerDuration-Date.now()}),!1,"setTimerPausedTime"),unsetTimer:()=>n(()=>({timerKey:Date.now(),timerStatus:"idle",timerDuration:0,timerPausedTime:0}),!1,"unsetTimer")});/*! Capacitor: https://capacitorjs.com/ - MIT License */const Pq=n=>{const e=new Map;e.set("web",{name:"web"});const t=n.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},i=(s,o)=>{t.platforms.set(s,o)},r=s=>{t.platforms.has(s)&&(t.currentPlatform=t.platforms.get(s))};return t.addPlatform=i,t.setPlatform=r,t},Oq=n=>n.CapacitorPlatforms=Pq(n),wC=Oq(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});wC.addPlatform;wC.setPlatform;var Ho;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(Ho||(Ho={}));class Hp extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const Iq=n=>{var e,t;return n!=null&&n.androidBridge?"android":!((t=(e=n==null?void 0:n.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},Mq=n=>{var e,t,i,r,s;const o=n.CapacitorCustomPlatform||null,a=n.Capacitor||{},l=a.Plugins=a.Plugins||{},c=n.CapacitorPlatforms,u=()=>o!==null?o.name:Iq(n),d=((e=c==null?void 0:c.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||u,h=()=>d()!=="web",p=((t=c==null?void 0:c.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||h,y=L=>{const M=P.get(L);return!!(M!=null&&M.platforms.has(d())||E(L))},v=((i=c==null?void 0:c.currentPlatform)===null||i===void 0?void 0:i.isPluginAvailable)||y,S=L=>{var M;return(M=a.PluginHeaders)===null||M===void 0?void 0:M.find(O=>O.name===L)},E=((r=c==null?void 0:c.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||S,w=L=>n.console.error(L),C=(L,M,O)=>Promise.reject("".concat(O,' does not have an implementation of "').concat(M,'".')),P=new Map,q=(L,M={})=>{const O=P.get(L);if(O)return console.warn('Capacitor plugin "'.concat(L,'" already registered. Cannot register plugins twice.')),O.proxy;const Q=d(),k=E(L);let J;const j=async()=>(!J&&Q in M?J=typeof M[Q]=="function"?J=await M[Q]():J=M[Q]:o!==null&&!J&&"web"in M&&(J=typeof M.web=="function"?J=await M.web():J=M.web),J),ne=(B,K)=>{var ae,Te;if(k){const Ee=k==null?void 0:k.methods.find(Ce=>K===Ce.name);if(Ee)return Ee.rtype==="promise"?Ce=>a.nativePromise(L,K.toString(),Ce):(Ce,ke)=>a.nativeCallback(L,K.toString(),Ce,ke);if(B)return(ae=B[K])===null||ae===void 0?void 0:ae.bind(B)}else{if(B)return(Te=B[K])===null||Te===void 0?void 0:Te.bind(B);throw new Hp('"'.concat(L,'" plugin is not implemented on ').concat(Q),Ho.Unimplemented)}},ue=B=>{let K;const ae=(...Te)=>{const Ee=j().then(Ce=>{const ke=ne(Ce,B);if(ke){const Ie=ke(...Te);return K=Ie==null?void 0:Ie.remove,Ie}else throw new Hp('"'.concat(L,".").concat(B,'()" is not implemented on ').concat(Q),Ho.Unimplemented)});return B==="addListener"&&(Ee.remove=async()=>K()),Ee};return ae.toString=()=>"".concat(B.toString(),"() { [capacitor code] }"),Object.defineProperty(ae,"name",{value:B,writable:!1,configurable:!1}),ae},fe=ue("addListener"),de=ue("removeListener"),Z=(B,K)=>{const ae=fe({eventName:B},K),Te=async()=>{const Ce=await ae;de({eventName:B,callbackId:Ce},K)},Ee=new Promise(Ce=>ae.then(()=>Ce({remove:Te})));return Ee.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Te()},Ee},ie=new Proxy({},{get(B,K){switch(K){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?Z:fe;case"removeListener":return de;default:return ue(K)}}});return l[L]=ie,P.set(L,{name:L,proxy:ie,platforms:new Set([...Object.keys(M),...k?[Q]:[]])}),ie},H=((s=c==null?void 0:c.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||q;return a.convertFileSrc||(a.convertFileSrc=L=>L),a.getPlatform=d,a.handleError=w,a.isNativePlatform=p,a.isPluginAvailable=v,a.pluginMethodNoop=C,a.registerPlugin=H,a.Exception=Hp,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},_q=n=>n.Capacitor=Mq(n),Wo=_q(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Gl=Wo.registerPlugin;Wo.Plugins;class EC{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn('Capacitor WebPlugin "'.concat(e.name,'" config object was deprecated in v3 and will be removed in v4.')),this.config=e)}addListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const s=async()=>this.removeListener(e,t),o=Promise.resolve({remove:s});return Object.defineProperty(o,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()}}),o}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t){const i=this.listeners[e];i&&i.forEach(r=>r(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:i=>{this.notifyListeners(t,i)}}}unimplemented(e="not implemented"){return new Wo.Exception(e,Ho.Unimplemented)}unavailable(e="not available"){return new Wo.Exception(e,Ho.Unavailable)}async removeListener(e,t){const i=this.listeners[e];if(!i)return;const r=i.indexOf(t);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const Vv=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Hv=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Dq extends EC{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[r,s]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=Hv(r).trim(),s=Hv(s).trim(),t[r]=s}),t}async setCookie(e){try{const t=Vv(e.key),i=Vv(e.value),r="; expires=".concat((e.expires||"").replace("expires=","")),s=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?"domain=".concat(e.url):"";document.cookie="".concat(t,"=").concat(i||"").concat(r,"; path=").concat(s,"; ").concat(o,";")}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie="".concat(e.key,"=; Max-Age=0")}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,"=;expires=".concat(new Date().toUTCString(),";path=/"))}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Gl("CapacitorCookies",{web:()=>new Dq});const Lq=async n=>new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{const r=i.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},i.onerror=r=>t(r),i.readAsDataURL(n)}),qq=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(r=>r.toLocaleLowerCase()).reduce((r,s,o)=>(r[s]=n[e[o]],r),{})},Bq=(n,e=!0)=>n?Object.entries(n).reduce((i,r)=>{const[s,o]=r;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+="".concat(s,"=").concat(a,"&")}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l="".concat(s,"=").concat(a)),"".concat(i,"&").concat(l)},"").substr(1):null,Fq=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),r=qq(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(r.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,a]of Object.entries(n.data||{}))s.set(o,a);t.body=s.toString()}else if(r.includes("multipart/form-data")){const s=new FormData;if(n.data instanceof FormData)n.data.forEach((a,l)=>{s.append(l,a)});else for(const a of Object.keys(n.data))s.append(a,n.data[a]);t.body=s;const o=new Headers(t.headers);o.delete("content-type"),t.headers=o}else(r.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class Uq extends EC{async request(e){const t=Fq(e,e.webFetchExtra),i=Bq(e.params,e.shouldEncodeUrlParams),r=i?"".concat(e.url,"?").concat(i):e.url,s=await fetch(r,t),o=s.headers.get("content-type")||"";let{responseType:a="text"}=s.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await s.blob(),l=await Lq(c);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const u={};return s.headers.forEach((d,h)=>{u[h]=d}),{data:l,headers:u,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Gl("CapacitorHttp",{web:()=>new Uq});class jq{constructor(e){this.sqlite=e,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(e){return Promise.reject(e)}}async saveToStore(e){try{return await this.sqlite.saveToStore({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async saveToLocalDisk(e){try{return await this.sqlite.saveToLocalDisk({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async getFromLocalDiskToStore(e){const t=e!=null?e:!0;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async echo(e){try{const t=await this.sqlite.echo({value:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isSecretStored(){try{const e=await this.sqlite.isSecretStored();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async setEncryptionSecret(e){try{return await this.sqlite.setEncryptionSecret({passphrase:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async changeEncryptionSecret(e,t){try{return await this.sqlite.changeEncryptionSecret({passphrase:e,oldpassphrase:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(e){return Promise.reject(e)}}async checkEncryptionSecret(e){try{const t=await this.sqlite.checkEncryptionSecret({passphrase:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async addUpgradeStatement(e,t,i){const r={toVersion:t,statements:i};try{return e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:e,upgrade:[r]}),Promise.resolve()}catch(s){return Promise.reject(s)}}async createConnection(e,t,i,r,s){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.createConnection({database:e,encrypted:t,mode:i,version:r,readonly:s});const o=new Wv(e,s,this.sqlite),a=s?"RO_".concat(e):"RW_".concat(e);return this._connectionDict.set(a,o),Promise.resolve(o)}catch(o){return Promise.reject(o)}}async closeConnection(e,t){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.closeConnection({database:e,readonly:t});const i=t?"RO_".concat(e):"RW_".concat(e);return this._connectionDict.delete(i),Promise.resolve()}catch(i){return Promise.reject(i)}}async isConnection(e,t){const i={};e.endsWith(".db")&&(e=e.slice(0,-3));const r=t?"RO_".concat(e):"RW_".concat(e);return i.result=this._connectionDict.has(r),Promise.resolve(i)}async retrieveConnection(e,t){e.endsWith(".db")&&(e=e.slice(0,-3));const i=t?"RO_".concat(e):"RW_".concat(e);if(this._connectionDict.has(i)){const r=this._connectionDict.get(i);return typeof r<"u"?Promise.resolve(r):Promise.reject("Connection ".concat(e," is undefined"))}else return Promise.reject("Connection ".concat(e," does not exist"))}async getNCDatabasePath(e,t){try{const i=await this.sqlite.getNCDatabasePath({path:e,database:t});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async createNCConnection(e,t){try{await this.sqlite.createNCConnection({databasePath:e,version:t});const i=new Wv(e,!0,this.sqlite),r="RO_".concat(e,")");return this._connectionDict.set(r,i),Promise.resolve(i)}catch(i){return Promise.reject(i)}}async closeNCConnection(e){try{await this.sqlite.closeNCConnection({databasePath:e});const t="RO_".concat(e,")");return this._connectionDict.delete(t),Promise.resolve()}catch(t){return Promise.reject(t)}}async isNCConnection(e){const t={},i="RO_".concat(e,")");return t.result=this._connectionDict.has(i),Promise.resolve(t)}async retrieveNCConnection(e){if(this._connectionDict.has(e)){const t="RO_".concat(e,")"),i=this._connectionDict.get(t);return typeof i<"u"?Promise.resolve(i):Promise.reject("Connection ".concat(e," is undefined"))}else return Promise.reject("Connection ".concat(e," does not exist"))}async isNCDatabase(e){try{const t=await this.sqlite.isNCDatabase({databasePath:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const e=new Map;try{for(const t of this._connectionDict.keys()){const i=t.substring(3),r=t.substring(0,3)==="RO_";await this.sqlite.closeConnection({database:i,readonly:r}),e.set(t,null)}for(const t of e.keys())this._connectionDict.delete(t);return Promise.resolve()}catch(t){return Promise.reject(t)}}async checkConnectionsConsistency(){try{const e=[...this._connectionDict.keys()],t=[],i=[];for(const s of e)t.push(s.substring(0,2)),i.push(s.substring(3));const r=await this.sqlite.checkConnectionsConsistency({dbNames:i,openModes:t});return r.result||(this._connectionDict=new Map),Promise.resolve(r)}catch(e){return this._connectionDict=new Map,Promise.reject(e)}}async importFromJson(e){try{const t=await this.sqlite.importFromJson({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isJsonValid(e){try{const t=await this.sqlite.isJsonValid({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async copyFromAssets(e){const t=e!=null?e:!0;try{return await this.sqlite.copyFromAssets({overwrite:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async getFromHTTPRequest(e,t){const i=t!=null?t:!0;try{return await this.sqlite.getFromHTTPRequest({url:e,overwrite:i}),Promise.resolve()}catch(r){return Promise.reject(r)}}async isDatabaseEncrypted(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=await this.sqlite.isDatabaseEncrypted({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isInConfigEncryption(){try{const e=await this.sqlite.isInConfigEncryption();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isInConfigBiometricAuth(){try{const e=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isDatabase(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=await this.sqlite.isDatabase({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getDatabaseList(){try{const t=(await this.sqlite.getDatabaseList()).values;t.sort();const i={values:t};return Promise.resolve(i)}catch(e){return Promise.reject(e)}}async getMigratableDbList(e){if(!e||e.length===0)return Promise.reject("You must provide a folder path");try{const t=await this.sqlite.getMigratableDbList({folderPath:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async addSQLiteSuffix(e,t){const i=e||"default",r=t||[];try{const s=await this.sqlite.addSQLiteSuffix({folderPath:i,dbNameList:r});return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async deleteOldDatabases(e,t){const i=e||"default",r=t||[];try{const s=await this.sqlite.deleteOldDatabases({folderPath:i,dbNameList:r});return Promise.resolve(s)}catch(s){return Promise.reject(s)}}async moveDatabasesAndAddSuffix(e,t){const i=e||"default",r=t||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:i,dbNameList:r})}}class Wv{constructor(e,t,i){this.dbName=e,this.readonly=t,this.sqlite=i}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async beginTransaction(){try{const e=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async commitTransaction(){try{const e=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async rollbackTransaction(){try{const e=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTransactionActive(){try{const e=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async loadExtension(e){try{return await this.sqlite.loadExtension({database:this.dbName,path:e,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async enableLoadExtension(e){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:e,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async getUrl(){try{const e=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getVersion(){try{const e=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getTableList(){try{const e=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async execute(e,t=!0,i=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const r=await this.sqlite.execute({database:this.dbName,statements:e,transaction:t,readonly:!1,isSQL92:i});return Promise.resolve(r)}}catch(r){return Promise.reject(r)}}async query(e,t,i=!0){let r;try{return t&&t.length>0?r=await this.sqlite.query({database:this.dbName,statement:e,values:t,readonly:this.readonly,isSql92:!0}):r=await this.sqlite.query({database:this.dbName,statement:e,values:[],readonly:this.readonly,isSQL92:i}),r=await this.reorderRows(r),Promise.resolve(r)}catch(s){return Promise.reject(s)}}async run(e,t,i=!0,r="no",s=!0){let o;try{if(this.readonly)return Promise.reject("not allowed in read-only mode");if(t&&t.length>0){const a=e.toUpperCase().includes("RETURNING")?r:"no";o=await this.sqlite.run({database:this.dbName,statement:e,values:t,transaction:i,readonly:!1,returnMode:a,isSQL92:!0})}else{const a=e.toUpperCase().includes("RETURNING")?r:"no";o=await this.sqlite.run({database:this.dbName,statement:e,values:[],transaction:i,readonly:!1,returnMode:a,isSQL92:s})}return o.changes=await this.reorderRows(o.changes),Promise.resolve(o)}catch(a){return Promise.reject(a)}}async executeSet(e,t=!0,i="no",r=!0){let s;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(s=await this.sqlite.executeSet({database:this.dbName,set:e,transaction:t,readonly:!1,returnMode:i,isSQL92:r}),s.changes=await this.reorderRows(s.changes),Promise.resolve(s))}catch(o){return Promise.reject(o)}}async isExists(){try{const e=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTable(e){try{const t=await this.sqlite.isTableExists({database:this.dbName,table:e,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isDBOpen(){try{const e=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const e=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(e)}}catch(e){return Promise.reject(e)}}async setSyncDate(e){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:e,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async getSyncDate(){try{const e=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let t="";return e.syncDate>0&&(t=new Date(e.syncDate*1e3).toISOString()),Promise.resolve(t)}catch(e){return Promise.reject(e)}}async exportToJson(e,t=!1){try{const i=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:e,readonly:this.readonly,encrypted:t});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async executeTransaction(e,t=!0){let i=0,r=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");try{if(await this.sqlite.beginTransaction({database:this.dbName}),r=await this.sqlite.isTransactionActive({database:this.dbName}),!r)return Promise.reject("After Begin Transaction, no transaction active")}catch(s){return Promise.reject(s)}try{for(const o of e)if(o.values&&o.values.length>0){const a=o.statement.toUpperCase().includes("RETURNING")?"all":"no",l=await this.sqlite.run({database:this.dbName,statement:o.statement,values:o.values,transaction:!1,readonly:!1,returnMode:a,isSQL92:t});if(l.changes.changes<=0)throw new Error("Error in transaction method run ");i+=l.changes.changes}else{const a=await this.sqlite.execute({database:this.dbName,statements:o.statement,transaction:!1,readonly:!1});if(r=await this.sqlite.isTransactionActive({database:this.dbName}),a.changes.changes<0)throw new Error("Error in transaction method execute ");i+=a.changes.changes}if(r=await this.sqlite.isTransactionActive({database:this.dbName}),r){const o=await this.sqlite.commitTransaction({database:this.dbName});i+=o.changes.changes}const s={changes:{changes:i}};return Promise.resolve(s)}catch(s){const o=s.message?s.message:s;return r=await this.sqlite.isTransactionActive({database:this.dbName}),r&&await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(o)}}async reorderRows(e){const t=e;if(e!=null&&e.values&&typeof e.values[0]=="object"&&Object.keys(e.values[0]).includes("ios_columns")){const i=e.values[0].ios_columns,r=[];for(let s=1;s<e.values.length;s++){const o=e.values[s],a={};for(const l of i)a[l]=o[l];r.push(a)}t.values=r}return Promise.resolve(t)}}const zq=Gl("CapacitorSQLite",{web:()=>an(()=>import("./web-20e57dcd.js"),[]).then(n=>new n.CapacitorSQLiteWeb),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite});class Cu{static getInheritanceTree(e){const t=[e],i=r=>{const s=Object.getPrototypeOf(r);s&&s.name&&(t.push(s),i(s))};return i(e),t}static isInherited(e,t){return e.prototype instanceof t}static filterByTarget(e,t){return t?e.filter(i=>i.target&&t.indexOf(i.target)!==-1):e}}class xC{constructor(){this.tables=[],this.trees=[],this.entityRepositories=[],this.transactionEntityManagers=[],this.transactionRepositories=[],this.namingStrategies=[],this.entitySubscribers=[],this.indices=[],this.uniques=[],this.checks=[],this.exclusions=[],this.columns=[],this.generations=[],this.relations=[],this.joinColumns=[],this.joinTables=[],this.entityListeners=[],this.relationCounts=[],this.relationIds=[],this.embeddeds=[],this.inheritances=[],this.discriminatorValues=[]}filterTables(e){return this.filterByTarget(this.tables,e)}filterColumns(e){return this.filterByTargetAndWithoutDuplicateProperties(this.columns,e)}findGenerated(e,t){return this.generations.find(i=>(Array.isArray(e)?e.indexOf(i.target)!==-1:i.target===e)&&i.propertyName===t)}findTree(e){return this.trees.find(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterRelations(e){return this.filterByTargetAndWithoutDuplicateRelationProperties(this.relations,e)}filterRelationIds(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationIds,e)}filterRelationCounts(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationCounts,e)}filterIndices(e){return this.indices.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterUniques(e){return this.uniques.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterChecks(e){return this.checks.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterExclusions(e){return this.exclusions.filter(t=>Array.isArray(e)?e.indexOf(t.target)!==-1:t.target===e)}filterListeners(e){return this.filterByTarget(this.entityListeners,e)}filterEmbeddeds(e){return this.filterByTargetAndWithoutDuplicateEmbeddedProperties(this.embeddeds,e)}findJoinTable(e,t){return this.joinTables.find(i=>i.target===e&&i.propertyName===t)}filterJoinColumns(e,t){return this.joinColumns.filter(i=>i.target===e&&i.propertyName===t)}filterSubscribers(e){return this.filterByTarget(this.entitySubscribers,e)}filterNamingStrategies(e){return this.filterByTarget(this.namingStrategies,e)}filterTransactionEntityManagers(e,t){return this.transactionEntityManagers.filter(i=>(Array.isArray(e)?e.indexOf(i.target)!==-1:i.target===e)&&i.methodName===t)}filterTransactionRepository(e,t){return this.transactionRepositories.filter(i=>(Array.isArray(e)?e.indexOf(i.target)!==-1:i.target===e)&&i.methodName===t)}filterSingleTableChildren(e){return this.tables.filter(t=>typeof t.target=="function"&&typeof e=="function"&&Cu.isInherited(t.target,e)&&t.type==="entity-child")}findInheritanceType(e){return this.inheritances.find(t=>t.target===e)}findDiscriminatorValue(e){return this.discriminatorValues.find(t=>t.target===e)}filterByTarget(e,t){return e.filter(i=>Array.isArray(t)?t.indexOf(i.target)!==-1:i.target===t)}filterByTargetAndWithoutDuplicateProperties(e,t){const i=[];return e.forEach(r=>{(Array.isArray(t)?t.indexOf(r.target)!==-1:r.target===t)&&(i.find(o=>o.propertyName===r.propertyName)||i.push(r))}),i}filterByTargetAndWithoutDuplicateRelationProperties(e,t){const i=[];return e.forEach(r=>{if(Array.isArray(t)?t.indexOf(r.target)!==-1:r.target===t){const o=i.findIndex(a=>a.propertyName===r.propertyName);if(Array.isArray(t)&&o!==-1&&t.indexOf(r.target)<t.indexOf(i[o].target)){const a=Object.create(i[o]);a.type=r.type,i[o]=a}else o===-1&&i.push(r)}}),i}filterByTargetAndWithoutDuplicateEmbeddedProperties(e,t){const i=[];return e.forEach(r=>{(Array.isArray(t)?t.indexOf(r.target)!==-1:r.target===t)&&(i.find(a=>a.prefix===r.prefix&&a.propertyName===r.propertyName)||i.push(r))}),i}}class lt{static getGlobalVariable(){return typeof window<"u"?window:global}static load(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: require("'.concat(e,'").'));return""}static pathNormalize(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: path.normalize("'.concat(e,'").'));return""}static pathExtname(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: path.extname("'.concat(e,'").'));return""}static pathResolve(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: path.resolve("'.concat(e,'").'));return""}static fileExist(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.existsSync("'.concat(e,'").'));return!1}static dotenv(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: dotenv.config({ path: "'.concat(e,'" }).'))}static getEnvVariable(e){}static readFileSync(e){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.readFileSync("'.concat(e,'").'));return null}static appendFileSync(e,t){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.appendFileSync("'.concat(e,'").'))}static writeFile(e,t){if(this.type==="browser")throw new Error('This option/function is not supported in the browser environment. Failed operation: fs.writeFile("'.concat(e,'").'));return Promise.reject(null)}static highlightSql(e){return e}static highlightJson(e){return e}static logInfo(e,t){console.info(e+" ",t)}static logError(e,t){console.error(e+" ",t)}static logWarn(e,t){console.warn(e+" ",t)}static log(e){console.log(e)}static warn(e){return e}}lt.type="browser";typeof window<"u"&&typeof require<"u"&&(window.Buffer=require("buffer/").Buffer);typeof global<"u"&&typeof require<"u"&&(global.Buffer=require("buffer/").Buffer);class Ir{static sha1(e){let t=function(q,H){return q<<H|q>>>32-H},i=function(q){let H="",L,M;for(L=7;L>=0;L--)M=q>>>L*4&15,H+=M.toString(16);return H},r,s,o,a=new Array(80),l=1732584193,c=4023233417,u=2562383102,d=271733878,h=3285377520,p,y,v,S,E,w;e=encodeURIComponent(e);let C=e.length,P=[];for(s=0;s<C-3;s+=4)o=e.charCodeAt(s)<<24|e.charCodeAt(s+1)<<16|e.charCodeAt(s+2)<<8|e.charCodeAt(s+3),P.push(o);switch(C%4){case 0:s=2147483648;break;case 1:s=e.charCodeAt(C-1)<<24|8388608;break;case 2:s=e.charCodeAt(C-2)<<24|e.charCodeAt(C-1)<<16|32768;break;case 3:s=e.charCodeAt(C-3)<<24|e.charCodeAt(C-2)<<16|e.charCodeAt(C-1)<<8|128;break}for(P.push(s);P.length%16!==14;)P.push(0);for(P.push(C>>>29),P.push(C<<3&4294967295),r=0;r<P.length;r+=16){for(s=0;s<16;s++)a[s]=P[r+s];for(s=16;s<=79;s++)a[s]=t(a[s-3]^a[s-8]^a[s-14]^a[s-16],1);for(p=l,y=c,v=u,S=d,E=h,s=0;s<=19;s++)w=t(p,5)+(y&v|~y&S)+E+a[s]+1518500249&4294967295,E=S,S=v,v=t(y,30),y=p,p=w;for(s=20;s<=39;s++)w=t(p,5)+(y^v^S)+E+a[s]+1859775393&4294967295,E=S,S=v,v=t(y,30),y=p,p=w;for(s=40;s<=59;s++)w=t(p,5)+(y&v|y&S|v&S)+E+a[s]+2400959708&4294967295,E=S,S=v,v=t(y,30),y=p,p=w;for(s=60;s<=79;s++)w=t(p,5)+(y^v^S)+E+a[s]+3395469782&4294967295,E=S,S=v,v=t(y,30),y=p,p=w;l=l+p&4294967295,c=c+y&4294967295,u=u+v&4294967295,d=d+S&4294967295,h=h+E&4294967295}return w=i(l)+i(c)+i(u)+i(d)+i(h),w.toLowerCase()}}var TC={exports:{}},Tm={exports:{}};typeof Object.create=="function"?Tm.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Tm.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}};var ta=Tm.exports,Cm={exports:{}},gy={},Th={};Th.byteLength=Wq;Th.toByteArray=Gq;Th.fromByteArray=Jq;var Wi=[],ei=[],Vq=typeof Uint8Array<"u"?Uint8Array:Array,Wp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Xs=0,Hq=Wp.length;Xs<Hq;++Xs)Wi[Xs]=Wp[Xs],ei[Wp.charCodeAt(Xs)]=Xs;ei["-".charCodeAt(0)]=62;ei["_".charCodeAt(0)]=63;function CC(n){var e=n.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=n.indexOf("=");t===-1&&(t=e);var i=t===e?0:4-t%4;return[t,i]}function Wq(n){var e=CC(n),t=e[0],i=e[1];return(t+i)*3/4-i}function Qq(n,e,t){return(e+t)*3/4-t}function Gq(n){var e,t=CC(n),i=t[0],r=t[1],s=new Vq(Qq(n,i,r)),o=0,a=r>0?i-4:i,l;for(l=0;l<a;l+=4)e=ei[n.charCodeAt(l)]<<18|ei[n.charCodeAt(l+1)]<<12|ei[n.charCodeAt(l+2)]<<6|ei[n.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return r===2&&(e=ei[n.charCodeAt(l)]<<2|ei[n.charCodeAt(l+1)]>>4,s[o++]=e&255),r===1&&(e=ei[n.charCodeAt(l)]<<10|ei[n.charCodeAt(l+1)]<<4|ei[n.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function Kq(n){return Wi[n>>18&63]+Wi[n>>12&63]+Wi[n>>6&63]+Wi[n&63]}function Yq(n,e,t){for(var i,r=[],s=e;s<t;s+=3)i=(n[s]<<16&16711680)+(n[s+1]<<8&65280)+(n[s+2]&255),r.push(Kq(i));return r.join("")}function Jq(n){for(var e,t=n.length,i=t%3,r=[],s=16383,o=0,a=t-i;o<a;o+=s)r.push(Yq(n,o,o+s>a?a:o+s));return i===1?(e=n[t-1],r.push(Wi[e>>2]+Wi[e<<4&63]+"==")):i===2&&(e=(n[t-2]<<8)+n[t-1],r.push(Wi[e>>10]+Wi[e>>4&63]+Wi[e<<2&63]+"=")),r.join("")}var yy={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */yy.read=function(n,e,t,i,r){var s,o,a=r*8-i-1,l=(1<<a)-1,c=l>>1,u=-7,d=t?r-1:0,h=t?-1:1,p=n[e+d];for(d+=h,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=s*256+n[e+d],d+=h,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=i;u>0;o=o*256+n[e+d],d+=h,u-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(p?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-c}return(p?-1:1)*o*Math.pow(2,s-i)};yy.write=function(n,e,t,i,r,s){var o,a,l,c=s*8-r-1,u=(1<<c)-1,d=u>>1,h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:s-1,y=i?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+d>=1?e+=h/l:e+=h*Math.pow(2,1-d),e*l>=2&&(o++,l/=2),o+d>=u?(a=0,o=u):o+d>=1?(a=(e*l-1)*Math.pow(2,r),o=o+d):(a=e*Math.pow(2,d-1)*Math.pow(2,r),o=0));r>=8;n[t+p]=a&255,p+=y,a/=256,r-=8);for(o=o<<r|a,c+=r;c>0;n[t+p]=o&255,p+=y,o/=256,c-=8);n[t+p-y]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const e=Th,t=yy,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=a,n.SlowBuffer=w,n.INSPECT_MAX_BYTES=50;const r=2147483647;n.kMaxLength=r,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const T=new Uint8Array(1),m={foo:function(){return 42}};return Object.setPrototypeOf(m,Uint8Array.prototype),Object.setPrototypeOf(T,m),T.foo()===42}catch(T){return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(T){if(T>r)throw new RangeError('The value "'+T+'" is invalid for option "size"');const m=new Uint8Array(T);return Object.setPrototypeOf(m,a.prototype),m}function a(T,m,b){if(typeof T=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(T)}return l(T,m,b)}a.poolSize=8192;function l(T,m,b){if(typeof T=="string")return h(T,m);if(ArrayBuffer.isView(T))return y(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(Rt(T,ArrayBuffer)||T&&Rt(T.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Rt(T,SharedArrayBuffer)||T&&Rt(T.buffer,SharedArrayBuffer)))return v(T,m,b);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const N=T.valueOf&&T.valueOf();if(N!=null&&N!==T)return a.from(N,m,b);const $=S(T);if($)return $;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return a.from(T[Symbol.toPrimitive]("string"),m,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}a.from=function(T,m,b){return l(T,m,b)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function u(T,m,b){return c(T),T<=0?o(T):m!==void 0?typeof b=="string"?o(T).fill(m,b):o(T).fill(m):o(T)}a.alloc=function(T,m,b){return u(T,m,b)};function d(T){return c(T),o(T<0?0:E(T)|0)}a.allocUnsafe=function(T){return d(T)},a.allocUnsafeSlow=function(T){return d(T)};function h(T,m){if((typeof m!="string"||m==="")&&(m="utf8"),!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);const b=C(T,m)|0;let N=o(b);const $=N.write(T,m);return $!==b&&(N=N.slice(0,$)),N}function p(T){const m=T.length<0?0:E(T.length)|0,b=o(m);for(let N=0;N<m;N+=1)b[N]=T[N]&255;return b}function y(T){if(Rt(T,Uint8Array)){const m=new Uint8Array(T);return v(m.buffer,m.byteOffset,m.byteLength)}return p(T)}function v(T,m,b){if(m<0||T.byteLength<m)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<m+(b||0))throw new RangeError('"length" is outside of buffer bounds');let N;return m===void 0&&b===void 0?N=new Uint8Array(T):b===void 0?N=new Uint8Array(T,m):N=new Uint8Array(T,m,b),Object.setPrototypeOf(N,a.prototype),N}function S(T){if(a.isBuffer(T)){const m=E(T.length)|0,b=o(m);return b.length===0||T.copy(b,0,0,m),b}if(T.length!==void 0)return typeof T.length!="number"||Mn(T.length)?o(0):p(T);if(T.type==="Buffer"&&Array.isArray(T.data))return p(T.data)}function E(T){if(T>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return T|0}function w(T){return+T!=T&&(T=0),a.alloc(+T)}a.isBuffer=function(m){return m!=null&&m._isBuffer===!0&&m!==a.prototype},a.compare=function(m,b){if(Rt(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),Rt(b,Uint8Array)&&(b=a.from(b,b.offset,b.byteLength)),!a.isBuffer(m)||!a.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(m===b)return 0;let N=m.length,$=b.length;for(let D=0,W=Math.min(N,$);D<W;++D)if(m[D]!==b[D]){N=m[D],$=b[D];break}return N<$?-1:$<N?1:0},a.isEncoding=function(m){switch(String(m).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(m,b){if(!Array.isArray(m))throw new TypeError('"list" argument must be an Array of Buffers');if(m.length===0)return a.alloc(0);let N;if(b===void 0)for(b=0,N=0;N<m.length;++N)b+=m[N].length;const $=a.allocUnsafe(b);let D=0;for(N=0;N<m.length;++N){let W=m[N];if(Rt(W,Uint8Array))D+W.length>$.length?(a.isBuffer(W)||(W=a.from(W)),W.copy($,D)):Uint8Array.prototype.set.call($,W,D);else if(a.isBuffer(W))W.copy($,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=W.length}return $};function C(T,m){if(a.isBuffer(T))return T.length;if(ArrayBuffer.isView(T)||Rt(T,ArrayBuffer))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const b=T.length,N=arguments.length>2&&arguments[2]===!0;if(!N&&b===0)return 0;let $=!1;for(;;)switch(m){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return ir(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return Li(T).length;default:if($)return N?-1:ir(T).length;m=(""+m).toLowerCase(),$=!0}}a.byteLength=C;function P(T,m,b){let N=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,m>>>=0,b<=m))return"";for(T||(T="utf8");;)switch(T){case"hex":return ie(this,m,b);case"utf8":case"utf-8":return ne(this,m,b);case"ascii":return de(this,m,b);case"latin1":case"binary":return Z(this,m,b);case"base64":return j(this,m,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,m,b);default:if(N)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),N=!0}}a.prototype._isBuffer=!0;function q(T,m,b){const N=T[m];T[m]=T[b],T[b]=N}a.prototype.swap16=function(){const m=this.length;if(m%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<m;b+=2)q(this,b,b+1);return this},a.prototype.swap32=function(){const m=this.length;if(m%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<m;b+=4)q(this,b,b+3),q(this,b+1,b+2);return this},a.prototype.swap64=function(){const m=this.length;if(m%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<m;b+=8)q(this,b,b+7),q(this,b+1,b+6),q(this,b+2,b+5),q(this,b+3,b+4);return this},a.prototype.toString=function(){const m=this.length;return m===0?"":arguments.length===0?ne(this,0,m):P.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(m){if(!a.isBuffer(m))throw new TypeError("Argument must be a Buffer");return this===m?!0:a.compare(this,m)===0},a.prototype.inspect=function(){let m="";const b=n.INSPECT_MAX_BYTES;return m=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(m+=" ... "),"<Buffer "+m+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(m,b,N,$,D){if(Rt(m,Uint8Array)&&(m=a.from(m,m.offset,m.byteLength)),!a.isBuffer(m))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof m);if(b===void 0&&(b=0),N===void 0&&(N=m?m.length:0),$===void 0&&($=0),D===void 0&&(D=this.length),b<0||N>m.length||$<0||D>this.length)throw new RangeError("out of range index");if($>=D&&b>=N)return 0;if($>=D)return-1;if(b>=N)return 1;if(b>>>=0,N>>>=0,$>>>=0,D>>>=0,this===m)return 0;let W=D-$,ge=N-b;const ye=Math.min(W,ge),He=this.slice($,D),rt=m.slice(b,N);for(let Le=0;Le<ye;++Le)if(He[Le]!==rt[Le]){W=He[Le],ge=rt[Le];break}return W<ge?-1:ge<W?1:0};function H(T,m,b,N,$){if(T.length===0)return-1;if(typeof b=="string"?(N=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,Mn(b)&&(b=$?0:T.length-1),b<0&&(b=T.length+b),b>=T.length){if($)return-1;b=T.length-1}else if(b<0)if($)b=0;else return-1;if(typeof m=="string"&&(m=a.from(m,N)),a.isBuffer(m))return m.length===0?-1:L(T,m,b,N,$);if(typeof m=="number")return m=m&255,typeof Uint8Array.prototype.indexOf=="function"?$?Uint8Array.prototype.indexOf.call(T,m,b):Uint8Array.prototype.lastIndexOf.call(T,m,b):L(T,[m],b,N,$);throw new TypeError("val must be string, number or Buffer")}function L(T,m,b,N,$){let D=1,W=T.length,ge=m.length;if(N!==void 0&&(N=String(N).toLowerCase(),N==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(T.length<2||m.length<2)return-1;D=2,W/=2,ge/=2,b/=2}function ye(rt,Le){return D===1?rt[Le]:rt.readUInt16BE(Le*D)}let He;if($){let rt=-1;for(He=b;He<W;He++)if(ye(T,He)===ye(m,rt===-1?0:He-rt)){if(rt===-1&&(rt=He),He-rt+1===ge)return rt*D}else rt!==-1&&(He-=He-rt),rt=-1}else for(b+ge>W&&(b=W-ge),He=b;He>=0;He--){let rt=!0;for(let Le=0;Le<ge;Le++)if(ye(T,He+Le)!==ye(m,Le)){rt=!1;break}if(rt)return He}return-1}a.prototype.includes=function(m,b,N){return this.indexOf(m,b,N)!==-1},a.prototype.indexOf=function(m,b,N){return H(this,m,b,N,!0)},a.prototype.lastIndexOf=function(m,b,N){return H(this,m,b,N,!1)};function M(T,m,b,N){b=Number(b)||0;const $=T.length-b;N?(N=Number(N),N>$&&(N=$)):N=$;const D=m.length;N>D/2&&(N=D/2);let W;for(W=0;W<N;++W){const ge=parseInt(m.substr(W*2,2),16);if(Mn(ge))return W;T[b+W]=ge}return W}function O(T,m,b,N){return jt(ir(m,T.length-b),T,b,N)}function Q(T,m,b,N){return jt(Re(m),T,b,N)}function k(T,m,b,N){return jt(Li(m),T,b,N)}function J(T,m,b,N){return jt(et(m,T.length-b),T,b,N)}a.prototype.write=function(m,b,N,$){if(b===void 0)$="utf8",N=this.length,b=0;else if(N===void 0&&typeof b=="string")$=b,N=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(N)?(N=N>>>0,$===void 0&&($="utf8")):($=N,N=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-b;if((N===void 0||N>D)&&(N=D),m.length>0&&(N<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");$||($="utf8");let W=!1;for(;;)switch($){case"hex":return M(this,m,b,N);case"utf8":case"utf-8":return O(this,m,b,N);case"ascii":case"latin1":case"binary":return Q(this,m,b,N);case"base64":return k(this,m,b,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,m,b,N);default:if(W)throw new TypeError("Unknown encoding: "+$);$=(""+$).toLowerCase(),W=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function j(T,m,b){return m===0&&b===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(m,b))}function ne(T,m,b){b=Math.min(T.length,b);const N=[];let $=m;for(;$<b;){const D=T[$];let W=null,ge=D>239?4:D>223?3:D>191?2:1;if($+ge<=b){let ye,He,rt,Le;switch(ge){case 1:D<128&&(W=D);break;case 2:ye=T[$+1],(ye&192)===128&&(Le=(D&31)<<6|ye&63,Le>127&&(W=Le));break;case 3:ye=T[$+1],He=T[$+2],(ye&192)===128&&(He&192)===128&&(Le=(D&15)<<12|(ye&63)<<6|He&63,Le>2047&&(Le<55296||Le>57343)&&(W=Le));break;case 4:ye=T[$+1],He=T[$+2],rt=T[$+3],(ye&192)===128&&(He&192)===128&&(rt&192)===128&&(Le=(D&15)<<18|(ye&63)<<12|(He&63)<<6|rt&63,Le>65535&&Le<1114112&&(W=Le))}}W===null?(W=65533,ge=1):W>65535&&(W-=65536,N.push(W>>>10&1023|55296),W=56320|W&1023),N.push(W),$+=ge}return fe(N)}const ue=4096;function fe(T){const m=T.length;if(m<=ue)return String.fromCharCode.apply(String,T);let b="",N=0;for(;N<m;)b+=String.fromCharCode.apply(String,T.slice(N,N+=ue));return b}function de(T,m,b){let N="";b=Math.min(T.length,b);for(let $=m;$<b;++$)N+=String.fromCharCode(T[$]&127);return N}function Z(T,m,b){let N="";b=Math.min(T.length,b);for(let $=m;$<b;++$)N+=String.fromCharCode(T[$]);return N}function ie(T,m,b){const N=T.length;(!m||m<0)&&(m=0),(!b||b<0||b>N)&&(b=N);let $="";for(let D=m;D<b;++D)$+=z[T[D]];return $}function B(T,m,b){const N=T.slice(m,b);let $="";for(let D=0;D<N.length-1;D+=2)$+=String.fromCharCode(N[D]+N[D+1]*256);return $}a.prototype.slice=function(m,b){const N=this.length;m=~~m,b=b===void 0?N:~~b,m<0?(m+=N,m<0&&(m=0)):m>N&&(m=N),b<0?(b+=N,b<0&&(b=0)):b>N&&(b=N),b<m&&(b=m);const $=this.subarray(m,b);return Object.setPrototypeOf($,a.prototype),$};function K(T,m,b){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+m>b)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(m,b,N){m=m>>>0,b=b>>>0,N||K(m,b,this.length);let $=this[m],D=1,W=0;for(;++W<b&&(D*=256);)$+=this[m+W]*D;return $},a.prototype.readUintBE=a.prototype.readUIntBE=function(m,b,N){m=m>>>0,b=b>>>0,N||K(m,b,this.length);let $=this[m+--b],D=1;for(;b>0&&(D*=256);)$+=this[m+--b]*D;return $},a.prototype.readUint8=a.prototype.readUInt8=function(m,b){return m=m>>>0,b||K(m,1,this.length),this[m]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(m,b){return m=m>>>0,b||K(m,2,this.length),this[m]|this[m+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(m,b){return m=m>>>0,b||K(m,2,this.length),this[m]<<8|this[m+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(m,b){return m=m>>>0,b||K(m,4,this.length),(this[m]|this[m+1]<<8|this[m+2]<<16)+this[m+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(m,b){return m=m>>>0,b||K(m,4,this.length),this[m]*16777216+(this[m+1]<<16|this[m+2]<<8|this[m+3])},a.prototype.readBigUInt64LE=ee(function(m){m=m>>>0,In(m,"offset");const b=this[m],N=this[m+7];(b===void 0||N===void 0)&&pt(m,this.length-8);const $=b+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24,D=this[++m]+this[++m]*2**8+this[++m]*2**16+N*2**24;return BigInt($)+(BigInt(D)<<BigInt(32))}),a.prototype.readBigUInt64BE=ee(function(m){m=m>>>0,In(m,"offset");const b=this[m],N=this[m+7];(b===void 0||N===void 0)&&pt(m,this.length-8);const $=b*2**24+this[++m]*2**16+this[++m]*2**8+this[++m],D=this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+N;return(BigInt($)<<BigInt(32))+BigInt(D)}),a.prototype.readIntLE=function(m,b,N){m=m>>>0,b=b>>>0,N||K(m,b,this.length);let $=this[m],D=1,W=0;for(;++W<b&&(D*=256);)$+=this[m+W]*D;return D*=128,$>=D&&($-=Math.pow(2,8*b)),$},a.prototype.readIntBE=function(m,b,N){m=m>>>0,b=b>>>0,N||K(m,b,this.length);let $=b,D=1,W=this[m+--$];for(;$>0&&(D*=256);)W+=this[m+--$]*D;return D*=128,W>=D&&(W-=Math.pow(2,8*b)),W},a.prototype.readInt8=function(m,b){return m=m>>>0,b||K(m,1,this.length),this[m]&128?(255-this[m]+1)*-1:this[m]},a.prototype.readInt16LE=function(m,b){m=m>>>0,b||K(m,2,this.length);const N=this[m]|this[m+1]<<8;return N&32768?N|4294901760:N},a.prototype.readInt16BE=function(m,b){m=m>>>0,b||K(m,2,this.length);const N=this[m+1]|this[m]<<8;return N&32768?N|4294901760:N},a.prototype.readInt32LE=function(m,b){return m=m>>>0,b||K(m,4,this.length),this[m]|this[m+1]<<8|this[m+2]<<16|this[m+3]<<24},a.prototype.readInt32BE=function(m,b){return m=m>>>0,b||K(m,4,this.length),this[m]<<24|this[m+1]<<16|this[m+2]<<8|this[m+3]},a.prototype.readBigInt64LE=ee(function(m){m=m>>>0,In(m,"offset");const b=this[m],N=this[m+7];(b===void 0||N===void 0)&&pt(m,this.length-8);const $=this[m+4]+this[m+5]*2**8+this[m+6]*2**16+(N<<24);return(BigInt($)<<BigInt(32))+BigInt(b+this[++m]*2**8+this[++m]*2**16+this[++m]*2**24)}),a.prototype.readBigInt64BE=ee(function(m){m=m>>>0,In(m,"offset");const b=this[m],N=this[m+7];(b===void 0||N===void 0)&&pt(m,this.length-8);const $=(b<<24)+this[++m]*2**16+this[++m]*2**8+this[++m];return(BigInt($)<<BigInt(32))+BigInt(this[++m]*2**24+this[++m]*2**16+this[++m]*2**8+N)}),a.prototype.readFloatLE=function(m,b){return m=m>>>0,b||K(m,4,this.length),t.read(this,m,!0,23,4)},a.prototype.readFloatBE=function(m,b){return m=m>>>0,b||K(m,4,this.length),t.read(this,m,!1,23,4)},a.prototype.readDoubleLE=function(m,b){return m=m>>>0,b||K(m,8,this.length),t.read(this,m,!0,52,8)},a.prototype.readDoubleBE=function(m,b){return m=m>>>0,b||K(m,8,this.length),t.read(this,m,!1,52,8)};function ae(T,m,b,N,$,D){if(!a.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>$||m<D)throw new RangeError('"value" argument is out of bounds');if(b+N>T.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(m,b,N,$){if(m=+m,b=b>>>0,N=N>>>0,!$){const ge=Math.pow(2,8*N)-1;ae(this,m,b,N,ge,0)}let D=1,W=0;for(this[b]=m&255;++W<N&&(D*=256);)this[b+W]=m/D&255;return b+N},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(m,b,N,$){if(m=+m,b=b>>>0,N=N>>>0,!$){const ge=Math.pow(2,8*N)-1;ae(this,m,b,N,ge,0)}let D=N-1,W=1;for(this[b+D]=m&255;--D>=0&&(W*=256);)this[b+D]=m/W&255;return b+N},a.prototype.writeUint8=a.prototype.writeUInt8=function(m,b,N){return m=+m,b=b>>>0,N||ae(this,m,b,1,255,0),this[b]=m&255,b+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(m,b,N){return m=+m,b=b>>>0,N||ae(this,m,b,2,65535,0),this[b]=m&255,this[b+1]=m>>>8,b+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(m,b,N){return m=+m,b=b>>>0,N||ae(this,m,b,2,65535,0),this[b]=m>>>8,this[b+1]=m&255,b+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(m,b,N){return m=+m,b=b>>>0,N||ae(this,m,b,4,4294967295,0),this[b+3]=m>>>24,this[b+2]=m>>>16,this[b+1]=m>>>8,this[b]=m&255,b+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(m,b,N){return m=+m,b=b>>>0,N||ae(this,m,b,4,4294967295,0),this[b]=m>>>24,this[b+1]=m>>>16,this[b+2]=m>>>8,this[b+3]=m&255,b+4};function Te(T,m,b,N,$){Lt(m,N,$,T,b,7);let D=Number(m&BigInt(4294967295));T[b++]=D,D=D>>8,T[b++]=D,D=D>>8,T[b++]=D,D=D>>8,T[b++]=D;let W=Number(m>>BigInt(32)&BigInt(4294967295));return T[b++]=W,W=W>>8,T[b++]=W,W=W>>8,T[b++]=W,W=W>>8,T[b++]=W,b}function Ee(T,m,b,N,$){Lt(m,N,$,T,b,7);let D=Number(m&BigInt(4294967295));T[b+7]=D,D=D>>8,T[b+6]=D,D=D>>8,T[b+5]=D,D=D>>8,T[b+4]=D;let W=Number(m>>BigInt(32)&BigInt(4294967295));return T[b+3]=W,W=W>>8,T[b+2]=W,W=W>>8,T[b+1]=W,W=W>>8,T[b]=W,b+8}a.prototype.writeBigUInt64LE=ee(function(m,b=0){return Te(this,m,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=ee(function(m,b=0){return Ee(this,m,b,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(m,b,N,$){if(m=+m,b=b>>>0,!$){const ye=Math.pow(2,8*N-1);ae(this,m,b,N,ye-1,-ye)}let D=0,W=1,ge=0;for(this[b]=m&255;++D<N&&(W*=256);)m<0&&ge===0&&this[b+D-1]!==0&&(ge=1),this[b+D]=(m/W>>0)-ge&255;return b+N},a.prototype.writeIntBE=function(m,b,N,$){if(m=+m,b=b>>>0,!$){const ye=Math.pow(2,8*N-1);ae(this,m,b,N,ye-1,-ye)}let D=N-1,W=1,ge=0;for(this[b+D]=m&255;--D>=0&&(W*=256);)m<0&&ge===0&&this[b+D+1]!==0&&(ge=1),this[b+D]=(m/W>>0)-ge&255;return b+N},a.prototype.writeInt8=function(m,b,N){return m=+m,b=b>>>0,N||ae(this,m,b,1,127,-128),m<0&&(m=255+m+1),this[b]=m&255,b+1},a.prototype.writeInt16LE=function(m,b,N){return m=+m,b=b>>>0,N||ae(this,m,b,2,32767,-32768),this[b]=m&255,this[b+1]=m>>>8,b+2},a.prototype.writeInt16BE=function(m,b,N){return m=+m,b=b>>>0,N||ae(this,m,b,2,32767,-32768),this[b]=m>>>8,this[b+1]=m&255,b+2},a.prototype.writeInt32LE=function(m,b,N){return m=+m,b=b>>>0,N||ae(this,m,b,4,2147483647,-2147483648),this[b]=m&255,this[b+1]=m>>>8,this[b+2]=m>>>16,this[b+3]=m>>>24,b+4},a.prototype.writeInt32BE=function(m,b,N){return m=+m,b=b>>>0,N||ae(this,m,b,4,2147483647,-2147483648),m<0&&(m=4294967295+m+1),this[b]=m>>>24,this[b+1]=m>>>16,this[b+2]=m>>>8,this[b+3]=m&255,b+4},a.prototype.writeBigInt64LE=ee(function(m,b=0){return Te(this,m,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=ee(function(m,b=0){return Ee(this,m,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ce(T,m,b,N,$,D){if(b+N>T.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function ke(T,m,b,N,$){return m=+m,b=b>>>0,$||Ce(T,m,b,4),t.write(T,m,b,N,23,4),b+4}a.prototype.writeFloatLE=function(m,b,N){return ke(this,m,b,!0,N)},a.prototype.writeFloatBE=function(m,b,N){return ke(this,m,b,!1,N)};function Ie(T,m,b,N,$){return m=+m,b=b>>>0,$||Ce(T,m,b,8),t.write(T,m,b,N,52,8),b+8}a.prototype.writeDoubleLE=function(m,b,N){return Ie(this,m,b,!0,N)},a.prototype.writeDoubleBE=function(m,b,N){return Ie(this,m,b,!1,N)},a.prototype.copy=function(m,b,N,$){if(!a.isBuffer(m))throw new TypeError("argument should be a Buffer");if(N||(N=0),!$&&$!==0&&($=this.length),b>=m.length&&(b=m.length),b||(b=0),$>0&&$<N&&($=N),$===N||m.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(N<0||N>=this.length)throw new RangeError("Index out of range");if($<0)throw new RangeError("sourceEnd out of bounds");$>this.length&&($=this.length),m.length-b<$-N&&($=m.length-b+N);const D=$-N;return this===m&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(b,N,$):Uint8Array.prototype.set.call(m,this.subarray(N,$),b),D},a.prototype.fill=function(m,b,N,$){if(typeof m=="string"){if(typeof b=="string"?($=b,b=0,N=this.length):typeof N=="string"&&($=N,N=this.length),$!==void 0&&typeof $!="string")throw new TypeError("encoding must be a string");if(typeof $=="string"&&!a.isEncoding($))throw new TypeError("Unknown encoding: "+$);if(m.length===1){const W=m.charCodeAt(0);($==="utf8"&&W<128||$==="latin1")&&(m=W)}}else typeof m=="number"?m=m&255:typeof m=="boolean"&&(m=Number(m));if(b<0||this.length<b||this.length<N)throw new RangeError("Out of range index");if(N<=b)return this;b=b>>>0,N=N===void 0?this.length:N>>>0,m||(m=0);let D;if(typeof m=="number")for(D=b;D<N;++D)this[D]=m;else{const W=a.isBuffer(m)?m:a.from(m,$),ge=W.length;if(ge===0)throw new TypeError('The value "'+m+'" is invalid for argument "value"');for(D=0;D<N-b;++D)this[D+b]=W[D%ge]}return this};const ht={};function wt(T,m,b){ht[T]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:m.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(T,"]"),this.stack,delete this.name}get code(){return T}set code($){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:$,writable:!0})}toString(){return"".concat(this.name," [").concat(T,"]: ").concat(this.message)}}}wt("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?"".concat(T," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),wt("ERR_INVALID_ARG_TYPE",function(T,m){return'The "'.concat(T,'" argument must be of type number. Received type ').concat(typeof m)},TypeError),wt("ERR_OUT_OF_RANGE",function(T,m,b){let N='The value of "'.concat(T,'" is out of range.'),$=b;return Number.isInteger(b)&&Math.abs(b)>2**32?$=mn(String(b)):typeof b=="bigint"&&($=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&($=mn($)),$+="n"),N+=" It must be ".concat(m,". Received ").concat($),N},RangeError);function mn(T){let m="",b=T.length;const N=T[0]==="-"?1:0;for(;b>=N+4;b-=3)m="_".concat(T.slice(b-3,b)).concat(m);return"".concat(T.slice(0,b)).concat(m)}function tn(T,m,b){In(m,"offset"),(T[m]===void 0||T[m+b]===void 0)&&pt(m,T.length-(b+1))}function Lt(T,m,b,N,$,D){if(T>b||T<m){const W=typeof m=="bigint"?"n":"";let ge;throw D>3?m===0||m===BigInt(0)?ge=">= 0".concat(W," and < 2").concat(W," ** ").concat((D+1)*8).concat(W):ge=">= -(2".concat(W," ** ").concat((D+1)*8-1).concat(W,") and < 2 ** ")+"".concat((D+1)*8-1).concat(W):ge=">= ".concat(m).concat(W," and <= ").concat(b).concat(W),new ht.ERR_OUT_OF_RANGE("value",ge,T)}tn(N,$,D)}function In(T,m){if(typeof T!="number")throw new ht.ERR_INVALID_ARG_TYPE(m,"number",T)}function pt(T,m,b){throw Math.floor(T)!==T?(In(T,b),new ht.ERR_OUT_OF_RANGE(b||"offset","an integer",T)):m<0?new ht.ERR_BUFFER_OUT_OF_BOUNDS:new ht.ERR_OUT_OF_RANGE(b||"offset",">= ".concat(b?1:0," and <= ").concat(m),T)}const nr=/[^+/0-9A-Za-z-_]/g;function Ar(T){if(T=T.split("=")[0],T=T.trim().replace(nr,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function ir(T,m){m=m||1/0;let b;const N=T.length;let $=null;const D=[];for(let W=0;W<N;++W){if(b=T.charCodeAt(W),b>55295&&b<57344){if(!$){if(b>56319){(m-=3)>-1&&D.push(239,191,189);continue}else if(W+1===N){(m-=3)>-1&&D.push(239,191,189);continue}$=b;continue}if(b<56320){(m-=3)>-1&&D.push(239,191,189),$=b;continue}b=($-55296<<10|b-56320)+65536}else $&&(m-=3)>-1&&D.push(239,191,189);if($=null,b<128){if((m-=1)<0)break;D.push(b)}else if(b<2048){if((m-=2)<0)break;D.push(b>>6|192,b&63|128)}else if(b<65536){if((m-=3)<0)break;D.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((m-=4)<0)break;D.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return D}function Re(T){const m=[];for(let b=0;b<T.length;++b)m.push(T.charCodeAt(b)&255);return m}function et(T,m){let b,N,$;const D=[];for(let W=0;W<T.length&&!((m-=2)<0);++W)b=T.charCodeAt(W),N=b>>8,$=b%256,D.push($),D.push(N);return D}function Li(T){return e.toByteArray(Ar(T))}function jt(T,m,b,N){let $;for($=0;$<N&&!($+b>=m.length||$>=T.length);++$)m[$+b]=T[$];return $}function Rt(T,m){return T instanceof m||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===m.name}function Mn(T){return T!==T}const z=function(){const T="0123456789abcdef",m=new Array(256);for(let b=0;b<16;++b){const N=b*16;for(let $=0;$<16;++$)m[N+$]=T[b]+T[$]}return m}();function ee(T){return typeof BigInt>"u"?le:T}function le(){throw new Error("BigInt not supported")}})(gy);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(n,e){var t=gy,i=t.Buffer;function r(o,a){for(var l in o)a[l]=o[l]}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?n.exports=t:(r(t,e),e.Buffer=s);function s(o,a,l){return i(o,a,l)}s.prototype=Object.create(i.prototype),r(i,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return i(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=i(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(o)}})(Cm,Cm.exports);var Ws=Cm.exports,SC=Ws.Buffer;function Ch(n,e){this._block=SC.alloc(n),this._finalSize=e,this._blockSize=n,this._len=0}Ch.prototype.update=function(n,e){typeof n=="string"&&(e=e||"utf8",n=SC.from(n,e));for(var t=this._block,i=this._blockSize,r=n.length,s=this._len,o=0;o<r;){for(var a=s%i,l=Math.min(r-o,i-a),c=0;c<l;c++)t[a+c]=n[o+c];s+=l,o+=l,s%i===0&&this._update(t)}return this._len+=r,this};Ch.prototype.digest=function(n){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var t=this._len*8;if(t<=4294967295)this._block.writeUInt32BE(t,this._blockSize-4);else{var i=(t&4294967295)>>>0,r=(t-i)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(i,this._blockSize-4)}this._update(this._block);var s=this._hash();return n?s.toString(n):s};Ch.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var na=Ch,Xq=ta,NC=na,Zq=Ws.Buffer,eB=[1518500249,1859775393,-1894007588,-899497514],tB=new Array(80);function Kl(){this.init(),this._w=tB,NC.call(this,64,56)}Xq(Kl,NC);Kl.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function nB(n){return n<<5|n>>>27}function iB(n){return n<<30|n>>>2}function rB(n,e,t,i){return n===0?e&t|~e&i:n===2?e&t|e&i|t&i:e^t^i}Kl.prototype._update=function(n){for(var e=this._w,t=this._a|0,i=this._b|0,r=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=n.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var l=0;l<80;++l){var c=~~(l/20),u=nB(t)+rB(c,i,r,s)+o+e[l]+eB[c]|0;o=s,s=r,r=iB(i),i=t,t=u}this._a=t+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Kl.prototype._hash=function(){var n=Zq.allocUnsafe(20);return n.writeInt32BE(this._a|0,0),n.writeInt32BE(this._b|0,4),n.writeInt32BE(this._c|0,8),n.writeInt32BE(this._d|0,12),n.writeInt32BE(this._e|0,16),n};var sB=Kl,oB=ta,AC=na,aB=Ws.Buffer,lB=[1518500249,1859775393,-1894007588,-899497514],cB=new Array(80);function Yl(){this.init(),this._w=cB,AC.call(this,64,56)}oB(Yl,AC);Yl.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function uB(n){return n<<1|n>>>31}function dB(n){return n<<5|n>>>27}function hB(n){return n<<30|n>>>2}function pB(n,e,t,i){return n===0?e&t|~e&i:n===2?e&t|e&i|t&i:e^t^i}Yl.prototype._update=function(n){for(var e=this._w,t=this._a|0,i=this._b|0,r=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=n.readInt32BE(a*4);for(;a<80;++a)e[a]=uB(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var l=0;l<80;++l){var c=~~(l/20),u=dB(t)+pB(c,i,r,s)+o+e[l]+lB[c]|0;o=s,s=r,r=hB(i),i=t,t=u}this._a=t+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};Yl.prototype._hash=function(){var n=aB.allocUnsafe(20);return n.writeInt32BE(this._a|0,0),n.writeInt32BE(this._b|0,4),n.writeInt32BE(this._c|0,8),n.writeInt32BE(this._d|0,12),n.writeInt32BE(this._e|0,16),n};var fB=Yl,mB=ta,kC=na,gB=Ws.Buffer,yB=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],bB=new Array(64);function Jl(){this.init(),this._w=bB,kC.call(this,64,56)}mB(Jl,kC);Jl.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function vB(n,e,t){return t^n&(e^t)}function wB(n,e,t){return n&e|t&(n|e)}function EB(n){return(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10)}function xB(n){return(n>>>6|n<<26)^(n>>>11|n<<21)^(n>>>25|n<<7)}function TB(n){return(n>>>7|n<<25)^(n>>>18|n<<14)^n>>>3}function CB(n){return(n>>>17|n<<15)^(n>>>19|n<<13)^n>>>10}Jl.prototype._update=function(n){for(var e=this._w,t=this._a|0,i=this._b|0,r=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,l=this._g|0,c=this._h|0,u=0;u<16;++u)e[u]=n.readInt32BE(u*4);for(;u<64;++u)e[u]=CB(e[u-2])+e[u-7]+TB(e[u-15])+e[u-16]|0;for(var d=0;d<64;++d){var h=c+xB(o)+vB(o,a,l)+yB[d]+e[d]|0,p=EB(t)+wB(t,i,r)|0;c=l,l=a,a=o,o=s+h|0,s=r,r=i,i=t,t=h+p|0}this._a=t+this._a|0,this._b=i+this._b|0,this._c=r+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=l+this._g|0,this._h=c+this._h|0};Jl.prototype._hash=function(){var n=gB.allocUnsafe(32);return n.writeInt32BE(this._a,0),n.writeInt32BE(this._b,4),n.writeInt32BE(this._c,8),n.writeInt32BE(this._d,12),n.writeInt32BE(this._e,16),n.writeInt32BE(this._f,20),n.writeInt32BE(this._g,24),n.writeInt32BE(this._h,28),n};var RC=Jl,SB=ta,NB=RC,AB=na,kB=Ws.Buffer,RB=new Array(64);function Sh(){this.init(),this._w=RB,AB.call(this,64,56)}SB(Sh,NB);Sh.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Sh.prototype._hash=function(){var n=kB.allocUnsafe(28);return n.writeInt32BE(this._a,0),n.writeInt32BE(this._b,4),n.writeInt32BE(this._c,8),n.writeInt32BE(this._d,12),n.writeInt32BE(this._e,16),n.writeInt32BE(this._f,20),n.writeInt32BE(this._g,24),n};var $B=Sh,PB=ta,$C=na,OB=Ws.Buffer,Qv=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],IB=new Array(160);function Xl(){this.init(),this._w=IB,$C.call(this,128,112)}PB(Xl,$C);Xl.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Gv(n,e,t){return t^n&(e^t)}function Kv(n,e,t){return n&e|t&(n|e)}function Yv(n,e){return(n>>>28|e<<4)^(e>>>2|n<<30)^(e>>>7|n<<25)}function Jv(n,e){return(n>>>14|e<<18)^(n>>>18|e<<14)^(e>>>9|n<<23)}function MB(n,e){return(n>>>1|e<<31)^(n>>>8|e<<24)^n>>>7}function _B(n,e){return(n>>>1|e<<31)^(n>>>8|e<<24)^(n>>>7|e<<25)}function DB(n,e){return(n>>>19|e<<13)^(e>>>29|n<<3)^n>>>6}function LB(n,e){return(n>>>19|e<<13)^(e>>>29|n<<3)^(n>>>6|e<<26)}function zt(n,e){return n>>>0<e>>>0?1:0}Xl.prototype._update=function(n){for(var e=this._w,t=this._ah|0,i=this._bh|0,r=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,l=this._gh|0,c=this._hh|0,u=this._al|0,d=this._bl|0,h=this._cl|0,p=this._dl|0,y=this._el|0,v=this._fl|0,S=this._gl|0,E=this._hl|0,w=0;w<32;w+=2)e[w]=n.readInt32BE(w*4),e[w+1]=n.readInt32BE(w*4+4);for(;w<160;w+=2){var C=e[w-30],P=e[w-15*2+1],q=MB(C,P),H=_B(P,C);C=e[w-2*2],P=e[w-2*2+1];var L=DB(C,P),M=LB(P,C),O=e[w-7*2],Q=e[w-7*2+1],k=e[w-16*2],J=e[w-16*2+1],j=H+Q|0,ne=q+O+zt(j,H)|0;j=j+M|0,ne=ne+L+zt(j,M)|0,j=j+J|0,ne=ne+k+zt(j,J)|0,e[w]=ne,e[w+1]=j}for(var ue=0;ue<160;ue+=2){ne=e[ue],j=e[ue+1];var fe=Kv(t,i,r),de=Kv(u,d,h),Z=Yv(t,u),ie=Yv(u,t),B=Jv(o,y),K=Jv(y,o),ae=Qv[ue],Te=Qv[ue+1],Ee=Gv(o,a,l),Ce=Gv(y,v,S),ke=E+K|0,Ie=c+B+zt(ke,E)|0;ke=ke+Ce|0,Ie=Ie+Ee+zt(ke,Ce)|0,ke=ke+Te|0,Ie=Ie+ae+zt(ke,Te)|0,ke=ke+j|0,Ie=Ie+ne+zt(ke,j)|0;var ht=ie+de|0,wt=Z+fe+zt(ht,ie)|0;c=l,E=S,l=a,S=v,a=o,v=y,y=p+ke|0,o=s+Ie+zt(y,p)|0,s=r,p=h,r=i,h=d,i=t,d=u,u=ke+ht|0,t=Ie+wt+zt(u,ke)|0}this._al=this._al+u|0,this._bl=this._bl+d|0,this._cl=this._cl+h|0,this._dl=this._dl+p|0,this._el=this._el+y|0,this._fl=this._fl+v|0,this._gl=this._gl+S|0,this._hl=this._hl+E|0,this._ah=this._ah+t+zt(this._al,u)|0,this._bh=this._bh+i+zt(this._bl,d)|0,this._ch=this._ch+r+zt(this._cl,h)|0,this._dh=this._dh+s+zt(this._dl,p)|0,this._eh=this._eh+o+zt(this._el,y)|0,this._fh=this._fh+a+zt(this._fl,v)|0,this._gh=this._gh+l+zt(this._gl,S)|0,this._hh=this._hh+c+zt(this._hl,E)|0};Xl.prototype._hash=function(){var n=OB.allocUnsafe(64);function e(t,i,r){n.writeInt32BE(t,r),n.writeInt32BE(i,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),n};var PC=Xl,qB=ta,BB=PC,FB=na,UB=Ws.Buffer,jB=new Array(160);function Nh(){this.init(),this._w=jB,FB.call(this,128,112)}qB(Nh,BB);Nh.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Nh.prototype._hash=function(){var n=UB.allocUnsafe(48);function e(t,i,r){n.writeInt32BE(t,r),n.writeInt32BE(i,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),n};var zB=Nh,Qs=TC.exports=function(e){e=e.toLowerCase();var t=Qs[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};Qs.sha=sB;Qs.sha1=fB;Qs.sha224=$B;Qs.sha256=RC;Qs.sha384=zB;Qs.sha512=PC;var VB=TC.exports;const HB=ss(VB);function Qp(n,e=!1){return e&&(n=" "+n),n.replace(/^([A-Z])|[\s-_](\w)/g,function(t,i,r){return r?r.toUpperCase():i.toLowerCase()})}function Xv(n){return n.replace(/([A-Z])([A-Z])([a-z])/g,"$1_$2$3").replace(/([a-z0-9])([A-Z])/g,"$1_$2").toLowerCase()}function WB(n){return n.replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())}function OC(n,e={}){const{segmentLength:t=4,separator:i="__",termLength:r=2}=e;return n.split(i).reduce((a,l)=>{const c=l.replace(/([a-z\xE0-\xFF])([A-Z\xC0-\xDF])/g,"$1 $2").split(" "),u=c.length>1?r:t,d=c.map(h=>h.substr(0,u)).join("");return a.push(d),a},[]).join(i)}function QB(n,e={}){const t=HB("sha1");t.update(n,"utf8");const i=t.digest("hex");return e.length?i.slice(0,e.length):i}class GB{constructor(){this.nestedSetColumnNames={left:"nsleft",right:"nsright"},this.materializedPathColumnName="mpath"}getTableName(e){return typeof e!="string"&&(e=e.name),e.split(".").pop()}tableName(e,t){return t||Xv(e)}closureJunctionTableName(e){return e+"_closure"}columnName(e,t,i){const r=t||e;return i.length?Qp(i.join("_"))+WB(r):r}relationName(e){return e}primaryKeyName(e,t){const i=[...t];i.sort();const s=this.getTableName(e).replace(".","_"),o="".concat(s,"_").concat(i.join("_"));return"PK_"+Ir.sha1(o).substr(0,27)}uniqueConstraintName(e,t){const i=[...t];i.sort();const s=this.getTableName(e).replace(".","_"),o="".concat(s,"_").concat(i.join("_"));return"UQ_"+Ir.sha1(o).substr(0,27)}relationConstraintName(e,t,i){const r=[...t];r.sort();const o=this.getTableName(e).replace(".","_");let a="".concat(o,"_").concat(r.join("_"));return i&&(a+="_".concat(i)),"REL_"+Ir.sha1(a).substr(0,26)}defaultConstraintName(e,t){const r=this.getTableName(e).replace(".","_"),s="".concat(r,"_").concat(t);return"DF_"+Ir.sha1(s).substr(0,27)}foreignKeyName(e,t,i,r){const s=[...t];s.sort();const a=this.getTableName(e).replace(".","_"),l="".concat(a,"_").concat(s.join("_"));return"FK_"+Ir.sha1(l).substr(0,27)}indexName(e,t,i){const r=[...t];r.sort();const o=this.getTableName(e).replace(".","_");let a="".concat(o,"_").concat(r.join("_"));return i&&(a+="_".concat(i)),"IDX_"+Ir.sha1(a).substr(0,26)}checkConstraintName(e,t,i){const s=this.getTableName(e).replace(".","_"),o="".concat(s,"_").concat(t),a="CHK_"+Ir.sha1(o).substr(0,26);return i?"".concat(a,"_ENUM"):a}exclusionConstraintName(e,t){const r=this.getTableName(e).replace(".","_"),s="".concat(r,"_").concat(t);return"XCL_"+Ir.sha1(s).substr(0,26)}joinColumnName(e,t){return Qp(e+"_"+t)}joinTableName(e,t,i,r){return Xv(e+"_"+i.replace(/\./gi,"_")+"_"+t)}joinTableColumnDuplicationPrefix(e,t){return e+"_"+t}joinTableColumnName(e,t,i){return Qp(e+"_"+(i||t))}joinTableInverseColumnName(e,t,i){return this.joinTableColumnName(e,t,i)}prefixTableName(e,t){return e+t}eagerJoinRelationAlias(e,t){return e+"_"+t.replace(".","_")}}class _ extends Error{get name(){return this.constructor.name}constructor(e){super(e),Object.setPrototypeOf?Object.setPrototypeOf(this,new.target.prototype):this.__proto__=new.target.prototype}}class Gc extends _{constructor(e){super("Internal error. Subject ".concat(e.metadata.targetName," must have an identifier to perform operation."))}}class KB extends _{constructor(e){super('Cannot create a "'.concat(e,'" connection because connection to the database already established.'))}}class Zs extends _{constructor(){super("Locking not supported on given driver.")}}class YB extends _{constructor(e,t){super();const i=e.primaryColumns.reduce((r,s,o)=>(s.setEntityValue(r,o+1),r),{});this.message='Cannot use given entity id "'.concat(t,'" because "').concat(e.targetName,'" contains multiple primary columns, you must provide object in following form: ').concat(JSON.stringify(i)," as an id.")}}class JB extends _{constructor(e){super("Cannot ".concat(e,", given value must be instance of entity class, ")+"instead object literal is given. Or you must specify an entity target to method call.")}}class XB extends _{constructor(e){super("Tree repositories are not supported in ".concat(e.options.type," driver."))}}class IC extends _{constructor(e){super("Custom repository ".concat(typeof e=="function"?e.name:e.constructor.name," was not found. ")+"Did you forgot to put @EntityRepository decorator on it?")}}class hi extends _{constructor(){super("Transaction is not started yet, start transaction before committing or rolling it back.")}}class ZB extends _{constructor(){super("Transaction already started for the given connection, commit current transaction before starting a new one.")}}class Be{static isObject(e){return e!==null&&typeof e=="object"}static isObjectWithName(e){return e!==null&&typeof e=="object"&&e.name!==void 0}static assign(e,...t){for(const i of t)for(const r of Object.getOwnPropertyNames(i))e[r]=i[r]}static mixedListToArray(e){return e!==null&&typeof e=="object"?Object.keys(e).map(t=>e[t]):e}}class U{static isMssqlParameter(e){return this.check(e,"MssqlParameter")}static isEntityMetadata(e){return this.check(e,"EntityMetadata")}static isColumnMetadata(e){return this.check(e,"ColumnMetadata")}static isSelectQueryBuilder(e){return this.check(e,"SelectQueryBuilder")}static isInsertQueryBuilder(e){return this.check(e,"InsertQueryBuilder")}static isDeleteQueryBuilder(e){return this.check(e,"DeleteQueryBuilder")}static isUpdateQueryBuilder(e){return this.check(e,"UpdateQueryBuilder")}static isSoftDeleteQueryBuilder(e){return this.check(e,"SoftDeleteQueryBuilder")}static isRelationQueryBuilder(e){return this.check(e,"RelationQueryBuilder")}static isBrackets(e){return this.check(e,"Brackets")||this.check(e,"NotBrackets")}static isNotBrackets(e){return this.check(e,"NotBrackets")}static isSubject(e){return this.check(e,"Subject")}static isRdbmsSchemaBuilder(e){return this.check(e,"RdbmsSchemaBuilder")}static isMongoEntityManager(e){return this.check(e,"MongoEntityManager")}static isSqljsEntityManager(e){return this.check(e,"SqljsEntityManager")}static isEntitySchema(e){return this.check(e,"EntitySchema")}static isBaseEntityConstructor(e){return typeof e=="function"&&typeof e.hasId=="function"&&typeof e.save=="function"&&typeof e.useDataSource=="function"}static isFindOperator(e){return this.check(e,"FindOperator")||this.check(e,"EqualOperator")}static isEqualOperator(e){return this.check(e,"EqualOperator")}static isQuery(e){return this.check(e,"Query")}static isTable(e){return this.check(e,"Table")}static isTableCheck(e){return this.check(e,"TableCheck")}static isTableColumn(e){return this.check(e,"TableColumn")}static isTableExclusion(e){return this.check(e,"TableExclusion")}static isTableForeignKey(e){return this.check(e,"TableForeignKey")}static isTableIndex(e){return this.check(e,"TableIndex")}static isTableUnique(e){return this.check(e,"TableUnique")}static isView(e){return this.check(e,"View")}static isDataSource(e){return this.check(e,"DataSource")}static check(e,t){return typeof e=="object"&&e!==null&&e["@instanceof"]===Symbol.for(t)}}class Sm extends _{constructor(e,t){super(),this.message='Could not find any entity of type "'.concat(this.stringifyTarget(e),'" ')+"matching: ".concat(this.stringifyCriteria(t))}stringifyTarget(e){return U.isEntitySchema(e)?e.options.name:typeof e=="function"||Be.isObject(e)&&"name"in e?e.name:e}stringifyCriteria(e){try{return JSON.stringify(e,null,4)}catch(t){}return""+e}}class e3 extends _{constructor(e){super(),this.message='No metadata for "'.concat(this.stringifyTarget(e),'" was found.')}stringifyTarget(e){return U.isEntitySchema(e)?e.options.name:typeof e=="function"||Be.isObject(e)&&"name"in e?e.name:e}}class t3 extends _{constructor(e,t){super("Cannot ".concat(e,', given value must be an entity, instead "').concat(t,'" is given.'))}}class Zv extends _{constructor(e,t,i){super("The optimistic lock on entity ".concat(e," failed, version ").concat(t," was expected, but is actually ").concat(i,"."))}}class n3 extends _{constructor(e,t){super("Primary column ".concat(e.constructor.name,"#").concat(t," cannot be nullable. ")+"Its not allowed for primary keys. Try to remove nullable option.")}}class i3 extends _{constructor(e){super("Custom entity repository ".concat(typeof e=="function"?e.name:e.constructor.name," ")+" cannot inherit Repository class without entity being set in the @EntityRepository decorator.")}}class MC extends _{constructor(){super("Database connection provided by a query runner was already released, cannot continue to use its querying methods anymore.")}}class ew extends _{constructor(e){super('Cannot attach entity "'.concat(e,'" to its parent. Please make sure parent ')+"is saved in the database before saving children nodes.")}}class Gp extends _{constructor(e){super("Custom repository ".concat(typeof e=="function"?e.name:e.constructor.name," does not have managed entity. ")+"Did you forget to specify entity for it @EntityRepository(MyEntity)? ")}}class r3 extends _{constructor(e){super("Circular relations detected: ".concat(e,". To resolve this issue you need to ")+"set nullable: true somewhere in this dependency structure.")}}class s3 extends _{constructor(e){super('Entity "'.concat(e.name,'" does not have a primary column. Primary column is required to ')+"have in all your entities. Use @PrimaryColumn decorator to add a primary column to your entity.")}}class Qi extends _{constructor(e,t){super(e),Object.setPrototypeOf(this,Qi.prototype),this.message='Property "'.concat(e,'" was not found in "').concat(t.targetName,'". Make sure your query is correct.')}}class o3 extends _{constructor(e,t=[]){super('Wrong driver: "'.concat(e,'" given. Supported drivers are: ')+"".concat(t.map(i=>'"'.concat(i,'"')).join(", "),"."))}}class ia extends _{constructor(e,t){super("".concat(e," package has not been found installed. ")+"Try to install it: npm install ".concat(t," --save"))}}class a3 extends _{constructor(e){super("Entity ".concat(e," does not have version or update date columns."))}}class _a extends _{constructor(){super("The optimistic lock can be used only with getOne() method.")}}class l3 extends _{constructor(e){super("Driver option (".concat(e,") is not set. ")+"Please set it to perform connection to the database.")}}class c3 extends _{constructor(e){super(),e.length===1?this.message='Relation "'.concat(e[0],'" was not found; please check if it is correct and really exists in your entity.'):this.message="Relations ".concat(e.map(t=>'"'.concat(t,'"')).join(", ")," were not found; please check if relations are correct and they exist in your entities.")}}class u3 extends _{constructor(){super("An open transaction is required for pessimistic lock.")}}class d3 extends _{constructor(e,t,i){super();const r=typeof t=="string"?t:t.name;this.message='Data type "'.concat(r,'" in "').concat(e.entityMetadata.targetName,".").concat(e.propertyName,'" is not supported by "').concat(i,'" database.')}}class h3 extends _{constructor(e){super("Array initializations are not allowed in entity relations. "+'Please remove array initialization (= []) from "'.concat(e.entityMetadata.targetName,"#").concat(e.propertyPath,'". ')+"This is ORM requirement to make relations to work properly. Refer docs for more information.")}}class Ji extends _{constructor(e,t,i){if(super(i.toString().replace(/^error: /,"").replace(/^Error: /,"").replace(/^Request/,"")),this.query=e,this.parameters=t,this.driverError=i,i){const{name:r,...s}=i;Be.assign(this,{...s})}}}class p3 extends _{constructor(){super("Entity manager is not using single database connection and cannot be released. Only entity managers created by connection#createEntityManagerWithSingleDatabaseConnection methods have a single database connection and they should be released.")}}class f3 extends _{constructor(e){super('Removed entity "'.concat(e.metadata.name,'" is also scheduled for update operation. ')+"Make sure you are not updating and removing same object (note that update or remove may be executed by cascade operations).")}}class _C extends _{constructor(e,t){super("Column type for ".concat(e.constructor.name,"#").concat(t," is not defined and cannot be guessed. ")+'Make sure you have turned on an "emitDecoratorMetadata": true option in tsconfig.json. Also make sure you have imported "reflect-metadata" on top of the main entry file in your application (before any entity imported).If you are using JavaScript instead of TypeScript you must explicitly provide a column type.')}}class wn extends _{constructor(){super("Query runner already released. Cannot run queries anymore.")}}class m3 extends _{constructor(){super("RDBMS does not support OFFSET without LIMIT in SELECT statements. You must use limit in conjunction with offset function (or take in conjunction with skip function if you are using pagination).")}}class Da extends _{constructor(e){super('Cannot execute operation on "'.concat(e,'" connection because connection is not yet established.'))}}class g3 extends _{constructor(e){super('Option "'.concat(e,'" is not set in your connection options, please ')+'define "'.concat(e,'" option in your connection options or ormconfig.json'))}}class y3 extends _{constructor(e){const t=e.map(i=>'"'.concat(i.name,'"'));super("Migrations ".concat(t.join(", "),' override the transaction mode, but the global transaction mode is "all"'))}}class Nn{constructor(e){this["@instanceof"]=Symbol.for("TableColumn"),this.isNullable=!1,this.isGenerated=!1,this.isPrimary=!1,this.isUnique=!1,this.isArray=!1,this.length="",this.zerofill=!1,this.unsigned=!1,e&&(this.name=e.name,this.type=e.type||"",this.length=e.length||"",this.width=e.width,this.charset=e.charset,this.collation=e.collation,this.precision=e.precision,this.scale=e.scale,this.zerofill=e.zerofill||!1,this.unsigned=this.zerofill?!0:e.unsigned||!1,this.default=e.default,this.onUpdate=e.onUpdate,this.isNullable=e.isNullable||!1,this.isGenerated=e.isGenerated||!1,this.generationStrategy=e.generationStrategy,this.generatedIdentity=e.generatedIdentity,this.isPrimary=e.isPrimary||!1,this.isUnique=e.isUnique||!1,this.isArray=e.isArray||!1,this.comment=e.comment,this.enum=e.enum,this.enumName=e.enumName,this.primaryKeyConstraintName=e.primaryKeyConstraintName,this.asExpression=e.asExpression,this.generatedType=e.generatedType,this.spatialFeatureType=e.spatialFeatureType,this.srid=e.srid)}clone(){return new Nn({name:this.name,type:this.type,length:this.length,width:this.width,charset:this.charset,collation:this.collation,precision:this.precision,scale:this.scale,zerofill:this.zerofill,unsigned:this.unsigned,enum:this.enum,enumName:this.enumName,primaryKeyConstraintName:this.primaryKeyConstraintName,asExpression:this.asExpression,generatedType:this.generatedType,default:this.default,onUpdate:this.onUpdate,isNullable:this.isNullable,isGenerated:this.isGenerated,generationStrategy:this.generationStrategy,generatedIdentity:this.generatedIdentity,isPrimary:this.isPrimary,isUnique:this.isUnique,isArray:this.isArray,comment:this.comment,spatialFeatureType:this.spatialFeatureType,srid:this.srid})}}class St{constructor(e){this["@instanceof"]=Symbol.for("TableIndex"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.isUnique=!!e.isUnique,this.isSpatial=!!e.isSpatial,this.isFulltext=!!e.isFulltext,this.isNullFiltered=!!e.isNullFiltered,this.parser=e.parser,this.where=e.where?e.where:""}clone(){return new St({name:this.name,columnNames:[...this.columnNames],isUnique:this.isUnique,isSpatial:this.isSpatial,isFulltext:this.isFulltext,isNullFiltered:this.isNullFiltered,parser:this.parser,where:this.where})}static create(e){return new St({name:e.name,columnNames:e.columns.map(t=>t.databaseName),isUnique:e.isUnique,isSpatial:e.isSpatial,isFulltext:e.isFulltext,isNullFiltered:e.isNullFiltered,parser:e.parser,where:e.where})}}class li{constructor(e){this["@instanceof"]=Symbol.for("TableForeignKey"),this.columnNames=[],this.referencedColumnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.referencedColumnNames=e.referencedColumnNames,this.referencedDatabase=e.referencedDatabase,this.referencedSchema=e.referencedSchema,this.referencedTableName=e.referencedTableName,this.onDelete=e.onDelete,this.onUpdate=e.onUpdate,this.deferrable=e.deferrable}clone(){return new li({name:this.name,columnNames:[...this.columnNames],referencedColumnNames:[...this.referencedColumnNames],referencedDatabase:this.referencedDatabase,referencedSchema:this.referencedSchema,referencedTableName:this.referencedTableName,onDelete:this.onDelete,onUpdate:this.onUpdate,deferrable:this.deferrable})}static create(e,t){return new li({name:e.name,columnNames:e.columnNames,referencedColumnNames:e.referencedColumnNames,referencedDatabase:e.referencedEntityMetadata.database,referencedSchema:e.referencedEntityMetadata.schema,referencedTableName:e.referencedTablePath,onDelete:e.onDelete,onUpdate:e.onUpdate,deferrable:e.deferrable})}}class Su{static createTableColumnOptions(e,t){return{name:e.databaseName,length:t.getColumnLength(e),width:e.width,charset:e.charset,collation:e.collation,precision:e.precision,scale:e.scale,zerofill:e.zerofill,unsigned:e.unsigned,asExpression:e.asExpression,generatedType:e.generatedType,default:t.normalizeDefault(e),onUpdate:e.onUpdate,comment:e.comment,isGenerated:e.isGenerated,generationStrategy:e.generationStrategy,generatedIdentity:e.generatedIdentity,isNullable:e.isNullable,type:t.normalizeType(e),isPrimary:e.isPrimary,isUnique:t.normalizeIsUnique(e),isArray:e.isArray||!1,enum:e.enum?e.enum.map(i=>i+""):e.enum,enumName:e.enumName,primaryKeyConstraintName:e.primaryKeyConstraintName,spatialFeatureType:e.spatialFeatureType,srid:e.srid}}}class dn{constructor(e){this["@instanceof"]=Symbol.for("TableUnique"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.deferrable=e.deferrable}clone(){return new dn({name:this.name,columnNames:[...this.columnNames],deferrable:this.deferrable})}static create(e){return new dn({name:e.name,columnNames:e.columns.map(t=>t.databaseName),deferrable:e.deferrable})}}class Ii{constructor(e){this["@instanceof"]=Symbol.for("TableCheck"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.expression=e.expression}clone(){return new Ii({name:this.name,columnNames:this.columnNames?[...this.columnNames]:[],expression:this.expression})}static create(e){return new Ii({name:e.name,expression:e.expression})}}class Fs{constructor(e){this["@instanceof"]=Symbol.for("TableExclusion"),this.name=e.name,this.expression=e.expression}clone(){return new Fs({name:this.name,expression:this.expression})}static create(e){return new Fs({name:e.name,expression:e.expression})}}class mt{constructor(e){this["@instanceof"]=Symbol.for("Table"),this.columns=[],this.indices=[],this.foreignKeys=[],this.uniques=[],this.checks=[],this.exclusions=[],this.justCreated=!1,this.withoutRowid=!1,e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,e.columns&&(this.columns=e.columns.map(t=>new Nn(t))),e.indices&&(this.indices=e.indices.map(t=>new St(t))),e.foreignKeys&&(this.foreignKeys=e.foreignKeys.map(t=>new li({...t,referencedDatabase:(t==null?void 0:t.referencedDatabase)||e.database,referencedSchema:(t==null?void 0:t.referencedSchema)||e.schema}))),e.uniques&&(this.uniques=e.uniques.map(t=>new dn(t))),e.checks&&(this.checks=e.checks.map(t=>new Ii(t))),e.exclusions&&(this.exclusions=e.exclusions.map(t=>new Fs(t))),e.justCreated!==void 0&&(this.justCreated=e.justCreated),e.withoutRowid&&(this.withoutRowid=e.withoutRowid),this.engine=e.engine)}get primaryColumns(){return this.columns.filter(e=>e.isPrimary)}clone(){return new mt({schema:this.schema,database:this.database,name:this.name,columns:this.columns.map(e=>e.clone()),indices:this.indices.map(e=>e.clone()),foreignKeys:this.foreignKeys.map(e=>e.clone()),uniques:this.uniques.map(e=>e.clone()),checks:this.checks.map(e=>e.clone()),exclusions:this.exclusions.map(e=>e.clone()),justCreated:this.justCreated,withoutRowid:this.withoutRowid,engine:this.engine})}addColumn(e){this.columns.push(e)}removeColumn(e){const t=this.columns.find(i=>i.name===e.name);t&&this.columns.splice(this.columns.indexOf(t),1)}addUniqueConstraint(e){if(this.uniques.push(e),e.columnNames.length===1){const t=this.columns.find(i=>i.name===e.columnNames[0]);t&&(t.isUnique=!0)}}removeUniqueConstraint(e){const t=this.uniques.find(i=>i.name===e.name);if(t&&(this.uniques.splice(this.uniques.indexOf(t),1),t.columnNames.length===1)){const i=this.columns.find(r=>r.name===t.columnNames[0]);i&&(i.isUnique=!1)}}addCheckConstraint(e){this.checks.push(e)}removeCheckConstraint(e){const t=this.checks.find(i=>i.name===e.name);t&&this.checks.splice(this.checks.indexOf(t),1)}addExclusionConstraint(e){this.exclusions.push(e)}removeExclusionConstraint(e){const t=this.exclusions.find(i=>i.name===e.name);t&&this.exclusions.splice(this.exclusions.indexOf(t),1)}addForeignKey(e){this.foreignKeys.push(e)}removeForeignKey(e){const t=this.foreignKeys.find(i=>i.name===e.name);t&&this.foreignKeys.splice(this.foreignKeys.indexOf(t),1)}addIndex(e,t=!1){if(this.indices.push(e),e.columnNames.length===1&&e.isUnique&&t){const i=this.columns.find(r=>r.name===e.columnNames[0]);i&&(i.isUnique=!0)}}removeIndex(e,t=!1){const i=this.indices.find(r=>r.name===e.name);if(i&&(this.indices.splice(this.indices.indexOf(i),1),i.columnNames.length===1&&i.isUnique&&t)){const r=this.columns.find(s=>s.name===i.columnNames[0]);r&&(r.isUnique=this.indices.some(s=>s.columnNames.length===1&&s.columnNames[0]===r.name&&!!i.isUnique))}}findColumnByName(e){return this.columns.find(t=>t.name===e)}findColumnIndices(e){return this.indices.filter(t=>!!t.columnNames.find(i=>i===e.name))}findColumnForeignKeys(e){return this.foreignKeys.filter(t=>!!t.columnNames.find(i=>i===e.name))}findColumnUniques(e){return this.uniques.filter(t=>!!t.columnNames.find(i=>i===e.name))}findColumnChecks(e){return this.checks.filter(t=>!!t.columnNames.find(i=>i===e.name))}static create(e,t){const i=e.database===t.database?void 0:e.database,r=e.schema===t.options.schema?void 0:e.schema,s={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,r,i),withoutRowid:e.withoutRowid,engine:e.engine,columns:e.columns.filter(o=>o&&!o.isVirtualProperty).map(o=>Su.createTableColumnOptions(o,t)),indices:e.indices.filter(o=>o.synchronize===!0).map(o=>St.create(o)),uniques:e.uniques.map(o=>dn.create(o)),checks:e.checks.map(o=>Ii.create(o)),exclusions:e.exclusions.map(o=>Fs.create(o))};return new mt(s)}}class tw{constructor(e,t,i,r,s){this.id=e,this.timestamp=t,this.name=i,this.instance=r,this.transaction=s}}class wi{constructor(e,t,...i){this.value=e,this.type=t,this["@instanceof"]=Symbol.for("MssqlParameter"),this.params=[],this.params=i||[]}}class Kp{constructor(e,t){this.connection=e,this.queryRunner=t,this.transaction="all";const{schema:i}=this.connection.driver.options,r=this.connection.driver.database;this.migrationsDatabase=r,this.migrationsSchema=i,this.migrationsTableName=e.options.migrationsTableName||"migrations",this.migrationsTable=this.connection.driver.buildTableName(this.migrationsTableName,i,r)}async executeMigration(e){return this.withQueryRunner(async t=>{await this.createMigrationsTableIfNotExist(t);const i=this.connection.driver.createSchemaBuilder();return U.isRdbmsSchemaBuilder(i)&&await i.createMetadataTableIfNecessary(t),await t.beforeMigration(),await e.instance.up(t),await t.afterMigration(),await this.insertExecutedMigration(t,e),e})}async getAllMigrations(){return Promise.resolve(this.getMigrations())}async getExecutedMigrations(){return this.withQueryRunner(async e=>(await this.createMigrationsTableIfNotExist(e),await this.loadExecutedMigrations(e)))}async getPendingMigrations(){const e=await this.getAllMigrations(),t=await this.getExecutedMigrations();return e.filter(i=>!t.find(r=>r.name===i.name))}insertMigration(e){return this.withQueryRunner(t=>this.insertExecutedMigration(t,e))}deleteMigration(e){return this.withQueryRunner(t=>this.deleteExecutedMigration(t,e))}async showMigrations(){let e=!1;const t=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(t);const i=await this.loadExecutedMigrations(t),r=this.getMigrations();for(const s of r){const o=i.find(a=>a.name===s.name);o?this.connection.logger.logSchemaBuild("[X] ".concat(o.id," ").concat(s.name)):(e=!0,this.connection.logger.logSchemaBuild("[ ] ".concat(s.name)))}return this.queryRunner||await t.release(),e}async executePendingMigrations(){const e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);const t=this.connection.driver.createSchemaBuilder();U.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);const i=await this.loadExecutedMigrations(e);let r=this.getLatestTimestampMigration(i);const s=this.getMigrations(),o=[],a=s.filter(u=>!i.find(h=>h.name===u.name));if(!a.length)return this.connection.logger.logSchemaBuild("No migrations are pending"),this.queryRunner||await e.release(),[];if(this.connection.logger.logSchemaBuild("".concat(i.length," migrations are already loaded in the database.")),this.connection.logger.logSchemaBuild("".concat(s.length," migrations were found in the source code.")),r&&this.connection.logger.logSchemaBuild("".concat(r.name," is the last executed migration. It was executed on ").concat(new Date(r.timestamp).toString(),".")),this.connection.logger.logSchemaBuild("".concat(a.length," migrations are new migrations must be executed.")),this.transaction==="all"){const u=a.filter(d=>{var h;return((h=d.instance)===null||h===void 0?void 0:h.transaction)!==void 0});if(u.length>0){const d=new y3(u);throw this.connection.logger.logMigration("Migrations failed, error: ".concat(d.message)),d}}const l={each:!0,none:!1,all:!1}[this.transaction];for(const u of a)if(u.instance){const d=u.instance.transaction;d===void 0?u.transaction=l:u.transaction=d}let c=!1;this.transaction==="all"&&!e.isTransactionActive&&(await e.beforeMigration(),await e.startTransaction(),c=!0);try{for(const u of a){if(this.fake){await this.insertExecutedMigration(e,u);continue}u.transaction&&!e.isTransactionActive&&(await e.beforeMigration(),await e.startTransaction(),c=!0),await u.instance.up(e).catch(d=>{throw this.connection.logger.logMigration('Migration "'.concat(u.name,'" failed, error: ').concat(d==null?void 0:d.message)),d}).then(async()=>{await this.insertExecutedMigration(e,u),u.transaction&&c&&(await e.commitTransaction(),await e.afterMigration())}).then(()=>{o.push(u),this.connection.logger.logSchemaBuild("Migration ".concat(u.name," has been ").concat(this.fake?"(fake)":""," executed successfully."))})}this.transaction==="all"&&c&&(await e.commitTransaction(),await e.afterMigration())}catch(u){if(c)try{await e.rollbackTransaction()}catch(d){}throw u}finally{this.queryRunner||await e.release()}return o}async undoLastMigration(){const e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);const t=this.connection.driver.createSchemaBuilder();U.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);const i=await this.loadExecutedMigrations(e);let r=this.getLatestExecutedMigration(i);if(!r){this.connection.logger.logSchemaBuild("No migrations were found in the database. Nothing to revert!");return}const o=this.getMigrations().find(l=>l.name===r.name);if(!o)throw new _("No migration ".concat(r.name," was found in the source code. Make sure you have this migration in your codebase and its included in the connection options."));this.connection.logger.logSchemaBuild("".concat(i.length," migrations are already loaded in the database.")),this.connection.logger.logSchemaBuild("".concat(r.name," is the last executed migration. It was executed on ").concat(new Date(r.timestamp).toString(),".")),this.connection.logger.logSchemaBuild("Now reverting it...");let a=!1;this.transaction!=="none"&&!e.isTransactionActive&&(await e.startTransaction(),a=!0);try{this.fake||(await e.beforeMigration(),await o.instance.down(e),await e.afterMigration()),await this.deleteExecutedMigration(e,o),this.connection.logger.logSchemaBuild("Migration ".concat(o.name," has been ").concat(this.fake?"(fake)":""," reverted successfully.")),a&&await e.commitTransaction()}catch(l){if(a)try{await e.rollbackTransaction()}catch(c){}throw l}finally{this.queryRunner||await e.release()}}async createMigrationsTableIfNotExist(e){if(this.connection.driver.options.type==="mongodb")return;await e.hasTable(this.migrationsTable)||await e.createTable(new mt({database:this.migrationsDatabase,schema:this.migrationsSchema,name:this.migrationsTable,columns:[{name:"id",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationId}),isGenerated:!0,generationStrategy:"increment",isPrimary:!0,isNullable:!1},{name:"timestamp",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp}),isPrimary:!1,isNullable:!1},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}),isNullable:!1}]}))}async loadExecutedMigrations(e){return this.connection.driver.options.type==="mongodb"?e.cursor(this.migrationsTableName,{}).sort({_id:-1}).toArray():(await this.connection.manager.createQueryBuilder(e).select().orderBy(this.connection.driver.escape("id"),"DESC").from(this.migrationsTable,this.migrationsTableName).getRawMany()).map(i=>new tw(parseInt(i.id),parseInt(i.timestamp),i.name))}getMigrations(){const e=this.connection.migrations.map(t=>{const i=t.name||t.constructor.name,r=parseInt(i.substr(-13),10);if(!r||isNaN(r))throw new _("".concat(i," migration name is wrong. Migration class name should have a JavaScript timestamp appended."));return new tw(void 0,r,i,t)});return this.checkForDuplicateMigrations(e),e.sort((t,i)=>t.timestamp-i.timestamp)}checkForDuplicateMigrations(e){const t=e.map(r=>r.name),i=Array.from(new Set(t.filter((r,s)=>t.indexOf(r)<s)));if(i.length>0)throw Error("Duplicate migrations: ".concat(i.join(", ")))}getLatestTimestampMigration(e){const t=e.map(i=>i).sort((i,r)=>(i.timestamp-r.timestamp)*-1);return t.length>0?t[0]:void 0}getLatestExecutedMigration(e){return e.length>0?e[0]:void 0}async insertExecutedMigration(e,t){const i={};this.connection.driver.options.type==="mssql"?(i.timestamp=new wi(t.timestamp,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp})),i.name=new wi(t.name,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}))):(i.timestamp=t.timestamp,i.name=t.name),this.connection.driver.options.type==="mongodb"?await e.databaseConnection.db(this.connection.driver.database).collection(this.migrationsTableName).insertOne(i):await e.manager.createQueryBuilder().insert().into(this.migrationsTable).values(i).execute()}async deleteExecutedMigration(e,t){const i={};if(this.connection.driver.options.type==="mssql"?(i.timestamp=new wi(t.timestamp,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp})),i.name=new wi(t.name,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}))):(i.timestamp=t.timestamp,i.name=t.name),this.connection.driver.options.type==="mongodb")await e.databaseConnection.db(this.connection.driver.database).collection(this.migrationsTableName).deleteOne(i);else{const r=e.manager.createQueryBuilder();await r.delete().from(this.migrationsTable).where("".concat(r.escape("timestamp")," = :timestamp")).andWhere("".concat(r.escape("name")," = :name")).setParameters(i).execute()}}async withQueryRunner(e){const t=this.queryRunner||this.connection.createQueryRunner();try{return await e(t)}finally{this.queryRunner||await t.release()}}}function Kc(n,e,t){let i=[],r={};return function s(o){r[o]=!0,i.push(o),n[o].forEach(function(a){if(!r[a])s(a);else if(i.indexOf(a)>=0)throw i.push(a),new _("Dependency Cycle Found: ".concat(i.join(" -> ")))}),i.pop(),(!e||n[o].length===0)&&t.indexOf(o)===-1&&t.push(o)}}class b3{constructor(){this.nodes={},this.outgoingEdges={},this.incomingEdges={}}addNode(e,t){this.hasNode(e)||(arguments.length===2?this.nodes[e]=t:this.nodes[e]=e,this.outgoingEdges[e]=[],this.incomingEdges[e]=[])}removeNode(e){this.hasNode(e)&&(delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],[this.incomingEdges,this.outgoingEdges].forEach(function(t){Object.keys(t).forEach(function(i){let r=t[i].indexOf(e);r>=0&&t[i].splice(r,1)},this)}))}hasNode(e){return this.nodes.hasOwnProperty(e)}getNodeData(e){if(this.hasNode(e))return this.nodes[e];throw new _("Node does not exist: ".concat(e))}setNodeData(e,t){if(this.hasNode(e))this.nodes[e]=t;else throw new _("Node does not exist: ".concat(e))}addDependency(e,t){if(!this.hasNode(e))throw new _("Node does not exist: ".concat(e));if(!this.hasNode(t))throw new _("Node does not exist: ".concat(t));return this.outgoingEdges[e].indexOf(t)===-1&&this.outgoingEdges[e].push(t),this.incomingEdges[t].indexOf(e)===-1&&this.incomingEdges[t].push(e),!0}removeDependency(e,t){let i;this.hasNode(e)&&(i=this.outgoingEdges[e].indexOf(t),i>=0&&this.outgoingEdges[e].splice(i,1)),this.hasNode(t)&&(i=this.incomingEdges[t].indexOf(e),i>=0&&this.incomingEdges[t].splice(i,1))}dependenciesOf(e,t){if(this.hasNode(e)){let i=[];Kc(this.outgoingEdges,t,i)(e);let s=i.indexOf(e);return s>=0&&i.splice(s,1),i}else throw new _("Node does not exist: ".concat(e))}dependantsOf(e,t){if(this.hasNode(e)){let i=[];Kc(this.incomingEdges,t,i)(e);let s=i.indexOf(e);return s>=0&&i.splice(s,1),i}else throw new _("Node does not exist: ".concat(e))}overallOrder(e){let t=this,i=[],r=Object.keys(this.nodes);if(r.length===0)return i;{let s=Kc(this.outgoingEdges,!1,[]);r.forEach(function(a){s(a)});let o=Kc(this.outgoingEdges,e,i);return r.filter(function(a){return t.incomingEdges[a].length===0}).forEach(function(a){o(a)}),i}}}class DC{static isGreaterOrEqual(e,t){const i=nw(e),r=nw(t);return i[0]>r[0]||i[0]===r[0]&&i[1]>r[1]||i[0]===r[0]&&i[1]===r[1]&&i[2]>=r[2]}}function nw(n=""){const e=[0,0,0];return n.split(".").forEach((t,i)=>e[i]=parseInt(t,10)),e}class me{static isSQLiteFamily(e){return["sqlite","cordova","react-native","nativescript","sqljs","expo","better-sqlite3","capacitor"].includes(e.options.type)}static isMySQLFamily(e){return["mysql","mariadb"].includes(e.options.type)}static isReleaseVersionOrGreater(e,t){return e.version!=null&&DC.isGreaterOrEqual(e.version,t)}static isPostgresFamily(e){return["postgres","aurora-postgres","cockroachdb"].includes(e.options.type)}static buildDriverOptions(e,t){if(e.url){const i=this.parseConnectionUrl(e.url);t&&t.useSid&&i.database&&(i.sid=i.database);for(const r of Object.keys(i))typeof i[r]>"u"&&delete i[r];return Object.assign({},e,i)}return Object.assign({},e)}static buildMongoDBDriverOptions(e,t){if(e.url){const i=this.parseMongoDBConnectionUrl(e.url);t&&t.useSid&&i.database&&(i.sid=i.database);for(const r of Object.keys(i))typeof i[r]>"u"&&delete i[r];return Object.assign({},e,i)}return Object.assign({},e)}static buildAlias({maxAliasLength:e},t,...i){const r=i.length===1?i[0]:i.join(t&&t.joiner?t.joiner:"_");if(e&&e>0&&r.length>e){if(t&&t.shorten===!0){const s=OC(r);if(s.length<e)return s}return QB(r,{length:e})}return r}static buildColumnAlias({maxAliasLength:e},t,...i){return typeof t=="string"?(i.unshift(t),t={shorten:!1,joiner:"_"}):t=Object.assign({shorten:!1,joiner:"_"},t),this.buildAlias({maxAliasLength:e},t,...i)}static parseConnectionUrl(e){const t=e.split(":")[0],i=e.indexOf("//"),r=e.substr(i+2),s=r.indexOf("/"),o=s!==-1?r.substr(0,s):r;let a=s!==-1?r.substr(s+1):void 0;a&&a.indexOf("?")!==-1&&(a=a.substr(0,a.indexOf("?")));const l=o.lastIndexOf("@"),c=o.substr(0,l),u=o.substr(l+1);let d=c,h="";const p=c.indexOf(":");p!==-1&&(d=c.substr(0,p),h=c.substr(p+1));const[y,v]=u.split(":");return{type:t,host:y,username:decodeURIComponent(d),password:decodeURIComponent(h),port:v?parseInt(v):void 0,database:a||void 0}}static parseMongoDBConnectionUrl(e){const t=e.split(":")[0],i=e.indexOf("//"),r=e.substr(i+2),s=r.indexOf("/"),o=s!==-1?r.substr(0,s):r;let a=s!==-1?r.substr(s+1):void 0,l="",c,u,d,h,p={};if(a&&a.indexOf("?")!==-1){l=a.substr(a.indexOf("?")+1,a.length);const q=l.split("&");let H,L;q.forEach(M=>{H=M.split("=")[0],L=M.split("=")[1],p[H]=L}),h=p.replicaSet,a=a.substr(0,a.indexOf("?"))}const y=o.lastIndexOf("@"),v=o.substr(0,y),S=o.substr(y+1);let E=v,w="";const C=v.indexOf(":");C!==-1&&(E=v.substr(0,C),w=v.substr(C+1)),h?d=S:[c,u]=S.split(":");let P={type:t,host:c,hostReplicaSet:d,username:decodeURIComponent(E),password:decodeURIComponent(w),port:u?parseInt(u):void 0,database:a||void 0};for(const[q,H]of Object.entries(p))P[q]=H;return P}}class v3{validateMany(e,t){e.forEach(i=>this.validate(i,e,t)),this.validateDependencies(e),this.validateEagerRelations(e)}validate(e,t,i){if(!e.primaryColumns.length&&!e.isJunction)throw new s3(e);if(e.primaryColumns.length>1&&!e.primaryColumns.every((o,a,l)=>o.primaryKeyConstraintName===l[0].primaryKeyConstraintName))throw new _("Entity ".concat(e.name," has multiple primary columns with different constraint names. Constraint names should be the equal."));if(e.inheritancePattern==="STI"||e.tableType==="entity-child"){if(!e.discriminatorColumn)throw new _("Entity ".concat(e.name," using single-table inheritance, it should also have a discriminator column. Did you forget to put discriminator column options?"));if(typeof e.discriminatorValue>"u")throw new _("Entity ".concat(e.name," has an undefined discriminator value. Discriminator value should be defined."));const s=t.find(o=>o!==e&&(o.inheritancePattern==="STI"||o.tableType==="entity-child")&&o.tableName===e.tableName&&o.discriminatorValue===e.discriminatorValue&&o.inheritanceTree.some(a=>e.inheritanceTree.indexOf(a)!==-1));if(s)throw new _("Entities ".concat(e.name," and ").concat(s.name," have the same discriminator values. Make sure they are different while using the @ChildEntity decorator."))}if(e.relationCounts.forEach(s=>{if(s.relation.isManyToOne||s.relation.isOneToOne)throw new _("Relation count can not be implemented on ManyToOne or OneToOne relations.")}),i.options.type!=="mongodb"&&e.columns.filter(s=>!s.isVirtualProperty).forEach(s=>{const o=i.normalizeType(s);if(i.supportedDataTypes.indexOf(o)===-1)throw new d3(s,o,i.options.type);if(s.length&&i.withLengthColumnTypes.indexOf(o)===-1)throw new _("Column ".concat(s.propertyName," of Entity ").concat(e.name," does not support length property."));if(s.type==="enum"&&!s.enum&&!s.enumName)throw new _('Column "'.concat(s.propertyName,'" of Entity "').concat(e.name,'" is defined as enum, but missing "enum" or "enumName" properties.'))}),(me.isMySQLFamily(i)||i.options.type==="aurora-mysql")&&e.columns.filter(o=>o.isGenerated&&o.generationStrategy!=="uuid").length>1)throw new _("Error in ".concat(e.name," entity. There can be only one auto-increment column in MySql table."));if(me.isMySQLFamily(i)&&t.filter(o=>o.database).length===0&&!i.database)throw new g3("database");if(i.options.type==="mssql"&&e.columns.filter(o=>o.charset).length>1)throw new _("Character set specifying is not supported in Sql Server");if(i.options.type==="postgres"){const s=e.columns.find(o=>o.asExpression&&(!o.generatedType||o.generatedType==="VIRTUAL"));if(s)throw new _('Column "'.concat(s.propertyName,'" of Entity "').concat(e.name,'" is defined as VIRTUAL, but Postgres supports only STORED generated columns.'))}const r=e.create(void 0,{fromDeserializer:!0});e.relations.forEach(s=>{if(s.isManyToMany||s.isOneToMany){if(s.persistenceEnabled===!1)return;const o=s.getEntityValue(r);if(Array.isArray(o))throw new h3(s)}}),e.relations.forEach(s=>{if(i.supportedOnDeleteTypes&&s.onDelete&&!i.supportedOnDeleteTypes.includes(s.onDelete))throw new _('OnDeleteType "'.concat(s.onDelete,'" is not supported for ').concat(i.options.type,"!"));if(i.supportedOnUpdateTypes&&s.onUpdate&&!i.supportedOnUpdateTypes.includes(s.onUpdate))throw new _('OnUpdateType "'.concat(s.onUpdate,'" is not valid for ').concat(i.options.type,"!"))}),e.relations.forEach(s=>{if(s.isCascadeRemove&&s.inverseRelation&&s.inverseRelation.isCascadeRemove)throw new _("Relation ".concat(e.name,"#").concat(s.propertyName," and ").concat(s.inverseRelation.entityMetadata.name,"#").concat(s.inverseRelation.propertyName," both has cascade remove set. ")+"This may lead to unexpected circular removals. Please set cascade remove only from one side of relationship.")}),e.eagerRelations.forEach(s=>{})}validateDependencies(e){const t=new b3;e.forEach(i=>{t.addNode(i.name)}),e.forEach(i=>{i.relationsWithJoinColumns.filter(r=>!r.isNullable).forEach(r=>{t.addDependency(i.name,r.inverseEntityMetadata.name)})});try{t.overallOrder()}catch(i){throw new r3(i.toString().replace("Error: Dependency Cycle Found: ",""))}}validateEagerRelations(e){e.forEach(t=>{t.eagerRelations.forEach(i=>{if(i.inverseRelation&&i.inverseRelation.isEager)throw new _("Circular eager relations are disallowed. "+"".concat(t.targetName,"#").concat(i.propertyPath,' contains "eager: true", and its inverse side ')+"".concat(i.inverseEntityMetadata.targetName,"#").concat(i.inverseRelation.propertyPath,' contains "eager: true" as well.')+' Remove "eager: true" from one side of the relation.')})})}}class w3{}class E3{}class x3{}class LC{}class T3{}class C3{}class S3{}class iw{}class N3{}class A3{}class k3{}class cn{static isFindOneOptions(e){const t=e;return t&&(Array.isArray(t.select)||Array.isArray(t.relations)||typeof t.select=="object"||typeof t.relations=="object"||typeof t.where=="object"||typeof t.join=="object"||typeof t.order=="object"||typeof t.cache=="object"||typeof t.cache=="boolean"||typeof t.cache=="number"||typeof t.comment=="string"||typeof t.lock=="object"||typeof t.loadRelationIds=="object"||typeof t.loadRelationIds=="boolean"||typeof t.loadEagerRelations=="boolean"||typeof t.withDeleted=="boolean"||typeof t.relationLoadStrategy=="string"||typeof t.transaction=="boolean")}static isFindManyOptions(e){const t=e;return t&&(this.isFindOneOptions(t)||typeof t.skip=="number"||typeof t.take=="number"||typeof t.skip=="string"||typeof t.take=="string")}static extractFindManyOptionsAlias(e){if(this.isFindManyOptions(e)&&e.join)return e.join.alias}static applyOptionsToTreeQueryBuilder(e,t){if(t!=null&&t.relations){const i=[...t.relations];if(cn.applyRelationsRecursively(e,i,e.expressionMap.mainAlias.name,e.expressionMap.mainAlias.metadata,""),i.length>0)throw new c3(i)}return e}static applyRelationsRecursively(e,t,i,r,s){let o=[];if(s){const a=new RegExp("^"+s.replace(".","\\.")+"\\.");o=t.filter(l=>l.match(a)).map(l=>r.findRelationWithPropertyPath(l.replace(a,""))).filter(l=>l)}else o=t.map(a=>r.findRelationWithPropertyPath(a)).filter(a=>a);o.forEach(a=>{let l=me.buildAlias(e.connection.driver,{joiner:"__"},i,a.propertyPath);const c=i+"."+a.propertyPath;e.expressionMap.relationLoadStrategy==="query"?e.concatRelationMetadata(a):e.leftJoinAndSelect(c,l),t.splice(t.indexOf(s?s+"."+a.propertyPath:a.propertyPath),1);let u,d;if(e.expressionMap.relationLoadStrategy==="query")u=a.inverseEntityMetadata,d=l;else{const h=e.expressionMap.joinAttributes.find(p=>p.entityOrProperty===c);u=h.metadata,d=h.alias.name}if(!d||!u)throw new Qi(a.propertyPath,r);if(this.applyRelationsRecursively(e,t,d,u,s?s+"."+a.propertyPath:a.propertyPath),e.expressionMap.relationLoadStrategy==="join"){const h=r.relations.find(p=>p.propertyName===a.propertyPath);h&&this.joinEagerRelations(e,l,h.inverseEntityMetadata)}})}static joinEagerRelations(e,t,i){i.eagerRelations.forEach(r=>{let s=me.buildAlias(e.connection.driver,{joiner:"__"},t,r.propertyPath),o=!0;for(const c of e.expressionMap.joinAttributes)if(!(c.condition!==void 0||c.mapToProperty!==void 0||c.isMappingMany!==void 0||c.direction!=="LEFT"||c.entityOrProperty!=="".concat(t,".").concat(r.propertyPath))){o=!1,s=c.alias.name;break}const a=!!e.expressionMap.joinAttributes.find(c=>c.alias.name===s);o&&!a&&e.leftJoin(t+"."+r.propertyPath,s);let l=!0;for(const c of e.expressionMap.selects)if(!(c.aliasName!==void 0||c.virtual!==void 0||c.selection!==s)){l=!1;break}l&&e.addSelect(s),this.joinEagerRelations(e,s,r.inverseEntityMetadata)})}}class Cs{static createRelationMaps(e,t,i,r){return r.map(s=>{var o;const a=t.treeParentRelation.joinColumns[0],l=(o=a.referencedColumn)!==null&&o!==void 0?o:t.primaryColumns[0],c=a.givenDatabaseName||a.databaseName,u=l.givenDatabaseName||l.databaseName,d=s[i+"_"+u],h=s[i+"_"+c];return{id:e.connection.driver.prepareHydratedValue(d,l),parentId:e.connection.driver.prepareHydratedValue(h,a)}})}static buildChildrenEntityTree(e,t,i,r,s){var o;const a=e.treeChildrenRelation.propertyName;if(s.depth===0){t[a]=[];return}const c=(o=e.treeParentRelation.joinColumns[0].referencedColumn)!==null&&o!==void 0?o:e.primaryColumns[0],u=c.getEntityValue(t),d=r.filter(p=>p.parentId===u),h=new Set(d.map(p=>p.id));t[a]=i.filter(p=>h.has(c.getEntityValue(p))),t[a].forEach(p=>{Cs.buildChildrenEntityTree(e,p,i,r,{...s,depth:s.depth-1})})}static buildParentEntityTree(e,t,i,r){var s;const o=e.treeParentRelation.propertyName,l=(s=e.treeParentRelation.joinColumns[0].referencedColumn)!==null&&s!==void 0?s:e.primaryColumns[0],c=l.getEntityValue(t),u=r.find(h=>h.id===c),d=i.find(h=>u?l.getEntityValue(h)===u.parentId:!1);d&&(t[o]=d,Cs.buildParentEntityTree(e,t[o],i,r))}}class qC{get metadata(){return this.manager.connection.getMetadata(this.target)}constructor(e,t,i){this.target=e,this.manager=t,this.queryRunner=i}createQueryBuilder(e,t){return this.manager.createQueryBuilder(this.metadata.target,e||this.metadata.targetName,t||this.queryRunner)}hasId(e){return this.manager.hasId(this.metadata.target,e)}getId(e){return this.manager.getId(this.metadata.target,e)}create(e){return this.manager.create(this.metadata.target,e)}merge(e,...t){return this.manager.merge(this.metadata.target,e,...t)}preload(e){return this.manager.preload(this.metadata.target,e)}save(e,t){return this.manager.save(this.metadata.target,e,t)}remove(e,t){return this.manager.remove(this.metadata.target,e,t)}softRemove(e,t){return this.manager.softRemove(this.metadata.target,e,t)}recover(e,t){return this.manager.recover(this.metadata.target,e,t)}insert(e){return this.manager.insert(this.metadata.target,e)}update(e,t){return this.manager.update(this.metadata.target,e,t)}upsert(e,t){return this.manager.upsert(this.metadata.target,e,t)}delete(e){return this.manager.delete(this.metadata.target,e)}softDelete(e){return this.manager.softDelete(this.metadata.target,e)}restore(e){return this.manager.restore(this.metadata.target,e)}exist(e){return this.manager.exists(this.metadata.target,e)}count(e){return this.manager.count(this.metadata.target,e)}countBy(e){return this.manager.countBy(this.metadata.target,e)}sum(e,t){return this.manager.sum(this.metadata.target,e,t)}average(e,t){return this.manager.average(this.metadata.target,e,t)}minimum(e,t){return this.manager.minimum(this.metadata.target,e,t)}maximum(e,t){return this.manager.maximum(this.metadata.target,e,t)}async find(e){return this.manager.find(this.metadata.target,e)}async findBy(e){return this.manager.findBy(this.metadata.target,e)}findAndCount(e){return this.manager.findAndCount(this.metadata.target,e)}findAndCountBy(e){return this.manager.findAndCountBy(this.metadata.target,e)}async findByIds(e){return this.manager.findByIds(this.metadata.target,e)}async findOne(e){return this.manager.findOne(this.metadata.target,e)}async findOneBy(e){return this.manager.findOneBy(this.metadata.target,e)}async findOneById(e){return this.manager.findOneById(this.metadata.target,e)}async findOneOrFail(e){return this.manager.findOneOrFail(this.metadata.target,e)}async findOneByOrFail(e){return this.manager.findOneByOrFail(this.metadata.target,e)}query(e,t){return this.manager.query(e,t)}clear(){return this.manager.clear(this.metadata.target)}increment(e,t,i){return this.manager.increment(this.metadata.target,e,t,i)}decrement(e,t,i){return this.manager.decrement(this.metadata.target,e,t,i)}extend(e){const t=this.constructor,{target:i,manager:r,queryRunner:s}=this,o=new class extends t{}(i,r,s);return Object.assign(o,e),o}}class R3 extends qC{async findTrees(e){const t=await this.findRoots(e);return await Promise.all(t.map(i=>this.findDescendantsTree(i,e))),t}findRoots(e){const t=a=>this.manager.connection.driver.escape(a),i=a=>this.manager.connection.driver.escape(a),r=this.metadata.treeParentRelation.joinColumns[0],s=r.givenDatabaseName||r.databaseName,o=this.createQueryBuilder("treeEntity");return cn.applyOptionsToTreeQueryBuilder(o,e),o.where("".concat(t("treeEntity"),".").concat(i(s)," IS NULL")).getMany()}findDescendants(e,t){const i=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);return cn.applyOptionsToTreeQueryBuilder(i,t),i.getMany()}async findDescendantsTree(e,t){const i=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);cn.applyOptionsToTreeQueryBuilder(i,t);const r=await i.getRawAndEntities(),s=Cs.createRelationMaps(this.manager,this.metadata,"treeEntity",r.raw);return Cs.buildChildrenEntityTree(this.metadata,e,r.entities,s,{depth:-1,...t}),e}countDescendants(e){return this.createDescendantsQueryBuilder("treeEntity","treeClosure",e).getCount()}createDescendantsQueryBuilder(e,t,i){const r=s=>this.manager.connection.driver.escape(s);if(this.metadata.treeType==="closure-table"){const s=this.metadata.closureJunctionTable.descendantColumns.map(l=>r(t)+"."+r(l.propertyPath)+" = "+r(e)+"."+r(l.referencedColumn.propertyPath)).join(" AND "),o={},a=this.metadata.closureJunctionTable.ancestorColumns.map(l=>(o[l.referencedColumn.propertyName]=l.referencedColumn.getEntityValue(i),r(t)+"."+r(l.propertyPath)+" = :"+l.referencedColumn.propertyName)).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,s).where(a).setParameters(o)}else if(this.metadata.treeType==="nested-set"){const s=e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN joined."+this.metadata.nestedSetLeftColumn.propertyPath+" AND joined."+this.metadata.nestedSetRightColumn.propertyPath,o={},a=this.metadata.treeParentRelation.joinColumns.map(l=>{const c=l.referencedColumn.propertyPath.replace(".","_");return o[c]=l.referencedColumn.getEntityValue(i),"joined."+l.referencedColumn.propertyPath+" = :"+c}).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",s).where(a,o)}else if(this.metadata.treeType==="materialized-path")return this.createQueryBuilder(e).where(s=>{const o=s.subQuery().select("".concat(this.metadata.targetName,".").concat(this.metadata.materializedPathColumn.propertyPath),"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(i));return me.isSQLiteFamily(this.manager.connection.driver)?"".concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath," LIKE ").concat(o.getQuery()," || '%'"):"".concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath," LIKE NULLIF(CONCAT(").concat(o.getQuery(),", '%'), '%')")});throw new _("Supported only in tree entities")}findAncestors(e,t){const i=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);return cn.applyOptionsToTreeQueryBuilder(i,t),i.getMany()}async findAncestorsTree(e,t){const i=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);cn.applyOptionsToTreeQueryBuilder(i,t);const r=await i.getRawAndEntities(),s=Cs.createRelationMaps(this.manager,this.metadata,"treeEntity",r.raw);return Cs.buildParentEntityTree(this.metadata,e,r.entities,s),e}countAncestors(e){return this.createAncestorsQueryBuilder("treeEntity","treeClosure",e).getCount()}createAncestorsQueryBuilder(e,t,i){if(this.metadata.treeType==="closure-table"){const r=this.metadata.closureJunctionTable.ancestorColumns.map(a=>t+"."+a.propertyPath+" = "+e+"."+a.referencedColumn.propertyPath).join(" AND "),s={},o=this.metadata.closureJunctionTable.descendantColumns.map(a=>(s[a.referencedColumn.propertyName]=a.referencedColumn.getEntityValue(i),t+"."+a.propertyPath+" = :"+a.referencedColumn.propertyName)).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,r).where(o).setParameters(s)}else if(this.metadata.treeType==="nested-set"){const r="joined."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN "+e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" AND "+e+"."+this.metadata.nestedSetRightColumn.propertyPath,s={},o=this.metadata.treeParentRelation.joinColumns.map(a=>{const l=a.referencedColumn.propertyPath.replace(".","_");return s[l]=a.referencedColumn.getEntityValue(i),"joined."+a.referencedColumn.propertyPath+" = :"+l}).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",r).where(o,s)}else if(this.metadata.treeType==="materialized-path")return this.createQueryBuilder(e).where(r=>{const s=r.subQuery().select("".concat(this.metadata.targetName,".").concat(this.metadata.materializedPathColumn.propertyPath),"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(i));return me.isSQLiteFamily(this.manager.connection.driver)?"".concat(s.getQuery()," LIKE ").concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath," || '%'"):"".concat(s.getQuery()," LIKE CONCAT(").concat(e,".").concat(this.metadata.materializedPathColumn.propertyPath,", '%')")});throw new _("Supported only in tree entities")}}class $3{transform(e,t,i,r=!1){return this.groupAndTransform(e,t,i,r),e}groupAndTransform(e,t,i,r=!1){i.nonVirtualColumns.forEach(s=>{const o=s.getEntityValue(t);o!==void 0&&s.setEntityValue(e,o)}),i.relations.length&&i.relations.forEach(s=>{let o=s.getEntityValue(e);const a=s.getEntityValue(t,r);if(a!==void 0)if(s.isOneToMany||s.isManyToMany){if(!Array.isArray(a))return;o||(o=[],s.setEntityValue(e,o)),a.forEach(l=>{let c=o.find(d=>s.inverseEntityMetadata.compareEntities(l,d));const u=s.inverseEntityMetadata.findInheritanceMetadata(l);c||(c=u.create(void 0,{fromDeserializer:!0}),o.push(c)),this.groupAndTransform(c,l,u,r)})}else{if(!Be.isObject(a)){Be.isObject(o)||s.setEntityValue(e,a);return}const l=s.inverseEntityMetadata.findInheritanceMetadata(a);o||(o=l.create(void 0,{fromDeserializer:!0}),s.setEntityValue(e,o)),this.groupAndTransform(o,a,l,r)}})}}class P3{constructor(e,t,i,r){this.plainEntity=e,this.metadata=t,this.parentLoadMapItem=i,this.relation=r}get target(){return this.metadata.target}get id(){return this.metadata.getEntityIdMixedMap(this.plainEntity)}}class O3{constructor(){this.loadMapItems=[]}get mainLoadMapItem(){return this.loadMapItems.find(e=>!e.relation&&!e.parentLoadMapItem)}addLoadMap(e){this.loadMapItems.find(i=>i.target===e.target&&i.id===e.id)||this.loadMapItems.push(e)}fillEntities(e,t){t.forEach(i=>{const r=this.loadMapItems.find(s=>s.target===e&&s.metadata.compareEntities(i,s.plainEntity));r&&(r.entity=i)})}groupByTargetIds(){const e=[];return this.loadMapItems.forEach(t=>{let i=e.find(r=>r.target===t.target);i||(i={target:t.target,ids:[]},e.push(i)),i.ids.push(t.id)}),e}}class I3{constructor(e){this.manager=e}async transform(e,t){if(!t.hasAllPrimaryKeys(e))return Promise.reject("Given object does not have a primary column, cannot transform it to database entity.");const i=new O3,r=(s,o,a,l)=>{const c=new P3(s,o,a,l);i.addLoadMap(c),o.extractRelationValuesFromEntity(s,t.relations).filter(u=>u!=null).forEach(([u,d,h])=>r(d,h,c,u))};return r(e,t),await Promise.all(i.groupByTargetIds().map(s=>this.manager.findByIds(s.target,s.ids).then(o=>i.fillEntities(s.target,o)))),i.loadMapItems.forEach(s=>{!s.relation||!s.entity||!s.parentLoadMapItem||!s.parentLoadMapItem.entity||(s.relation.isManyToMany||s.relation.isOneToMany?(s.parentLoadMapItem.entity[s.relation.propertyName]||(s.parentLoadMapItem.entity[s.relation.propertyName]=[]),s.parentLoadMapItem.entity[s.relation.propertyName].push(s.entity)):s.parentLoadMapItem.entity[s.relation.propertyName]=s.entity)}),i.mainLoadMapItem?i.mainLoadMapItem.entity:void 0}}class M3{get repository(){const e=this.getCustomRepositoryTarget(this);if(!e)throw new Gp(this.constructor);return this.manager.getRepository(e)}get treeRepository(){const e=this.getCustomRepositoryTarget(this);if(!e)throw new Gp(this.constructor);return this.manager.getTreeRepository(e)}createQueryBuilder(e){const t=this.getCustomRepositoryTarget(this.constructor);if(!t)throw new Gp(this.constructor);return this.manager.getRepository(t).createQueryBuilder(e)}createQueryBuilderFor(e,t){return this.getRepositoryFor(e).createQueryBuilder(t)}getRepositoryFor(e){return this.manager.getRepository(e)}getTreeRepositoryFor(e){return this.manager.getTreeRepository(e)}getCustomRepositoryTarget(e){const t=Ni().entityRepositories.find(i=>i.target===(typeof e=="function"?e:e.constructor));if(!t)throw new IC(e);return t.entity}}class rw{constructor(e){this.subjects=[...e],this.metadatas=this.getUniqueMetadatas(this.subjects)}sort(e){if(!this.metadatas.length)return this.subjects;const t=[];if(e==="delete"){const a=this.subjects.filter(l=>!l.entity&&!l.databaseEntity);t.push(...a),this.removeAlreadySorted(a)}const i=this.getNonNullableDependencies();let r=this.toposort(i);e==="insert"&&(r=r.reverse()),r.forEach(a=>{const l=this.subjects.filter(c=>c.metadata.targetName===a||c.metadata.inheritanceTree.some(u=>u.name===a));t.push(...l),this.removeAlreadySorted(l)});const s=this.getDependencies();let o=this.toposort(s);return e==="insert"&&(o=o.reverse()),o.forEach(a=>{const l=this.subjects.filter(c=>c.metadata.targetName===a);t.push(...l),this.removeAlreadySorted(l)}),t.push(...this.subjects),t}removeAlreadySorted(e){e.forEach(t=>{this.subjects.splice(this.subjects.indexOf(t),1)})}getUniqueMetadatas(e){const t=[];return e.forEach(i=>{t.indexOf(i.metadata)===-1&&t.push(i.metadata)}),t}getNonNullableDependencies(){return this.metadatas.reduce((e,t)=>(t.relationsWithJoinColumns.forEach(i=>{i.isNullable||e.push([t.targetName,i.inverseEntityMetadata.targetName])}),e),[])}getDependencies(){return this.metadatas.reduce((e,t)=>(t.relationsWithJoinColumns.forEach(i=>{i.inverseEntityMetadata!==t&&e.push([t.targetName,i.inverseEntityMetadata.targetName])}),e),[])}toposort(e){function t(c){let u=[];for(let d=0,h=c.length;d<h;d++){let p=c[d];u.indexOf(p[0])<0&&u.push(p[0]),u.indexOf(p[1])<0&&u.push(p[1])}return u}const i=t(e);let r=i.length,s=new Array(r),o={},a=r;for(;a--;)o[a]||l(i[a],a,[]);function l(c,u,d){if(d.indexOf(c)>=0)throw new _("Cyclic dependency: "+JSON.stringify(c));if(!~i.indexOf(c))throw new _("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(o[u])return;o[u]=!0;let h=e.filter(function(p){return p[0]===c});if(u=h.length){let p=d.concat(c);do{let y=h[--u][1];l(y,i.indexOf(y),p)}while(u)}s[--r]=c}return s}}function _3(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function D3(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}var BC=6e4,FC=36e5;function L3(n,e){var t;D3(1,arguments);var i=_3((t=e==null?void 0:e.additionalDigits)!==null&&t!==void 0?t:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var r=U3(n),s;if(r.date){var o=j3(r.date,i);s=z3(o.restDateString,o.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var a=s.getTime(),l=0,c;if(r.time&&(l=V3(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(c=H3(r.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(a+l),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return new Date(a+l+c)}var Yc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},q3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,B3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,F3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function U3(n){var e={},t=n.split(Yc.dateTimeDelimiter),i;if(t.length>2)return e;if(/:/.test(t[0])?i=t[0]:(e.date=t[0],i=t[1],Yc.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Yc.timeZoneDelimiter)[0],i=n.substr(e.date.length,n.length))),i){var r=Yc.timezone.exec(i);r?(e.time=i.replace(r[1],""),e.timezone=r[1]):e.time=i}return e}function j3(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=n.match(t);if(!i)return{year:NaN,restDateString:""};var r=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?r:s*100,restDateString:n.slice((i[1]||i[2]).length)}}function z3(n,e){if(e===null)return new Date(NaN);var t=n.match(q3);if(!t)return new Date(NaN);var i=!!t[4],r=La(t[1]),s=La(t[2])-1,o=La(t[3]),a=La(t[4]),l=La(t[5])-1;if(i)return Y3(e,a,l)?W3(e,a,l):new Date(NaN);var c=new Date(0);return!G3(e,s,o)||!K3(e,r)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(r,o)),c)}function La(n){return n?parseInt(n):1}function V3(n){var e=n.match(B3);if(!e)return NaN;var t=Yp(e[1]),i=Yp(e[2]),r=Yp(e[3]);return J3(t,i,r)?t*FC+i*BC+r*1e3:NaN}function Yp(n){return n&&parseFloat(n.replace(",","."))||0}function H3(n){if(n==="Z")return 0;var e=n.match(F3);if(!e)return 0;var t=e[1]==="+"?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return X3(i,r)?t*(i*FC+r*BC):NaN}function W3(n,e,t){var i=new Date(0);i.setUTCFullYear(n,0,4);var r=i.getUTCDay()||7,s=(e-1)*7+t+1-r;return i.setUTCDate(i.getUTCDate()+s),i}var Q3=[31,null,31,30,31,30,31,31,30,31,30,31];function UC(n){return n%400===0||n%4===0&&n%100!==0}function G3(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(Q3[e]||(UC(n)?29:28))}function K3(n,e){return e>=1&&e<=(UC(n)?366:365)}function Y3(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function J3(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function X3(n,e){return e>=0&&e<=59}class Ae{static normalizeHydratedDate(e){return e&&(typeof e=="string"?new Date(e):e)}static mixedDateToDateString(e){return e instanceof Date?this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate()):e}static mixedDateToDate(e,t=!1,i=!0){let r=typeof e=="string"?L3(e):e;return t&&(r=new Date(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds())),i||r.setUTCMilliseconds(0),r}static mixedDateToTimeString(e,t=!1){return e instanceof Date?this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+(t?"":":"+this.formatZerolessValue(e.getSeconds())):e}static mixedTimeToDate(e){if(typeof e=="string"){const[t,i,r]=e.split(":"),s=new Date;return t&&s.setHours(parseInt(t)),i&&s.setMinutes(parseInt(i)),r&&s.setSeconds(parseInt(r)),s}return e}static mixedTimeToString(e,t=!1){return e=e instanceof Date?e.getHours()+":"+e.getMinutes()+(t?"":":"+e.getSeconds()):e,typeof e=="string"?e.split(":").map(i=>i.length===1?"0"+i:i).join(":"):e}static mixedDateToDatetimeString(e,t){if(typeof e=="string"&&(e=new Date(e)),e instanceof Date){let i=this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate())+" "+this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+":"+this.formatZerolessValue(e.getSeconds());t&&(i+=".".concat(this.formatMilliseconds(e.getMilliseconds()))),e=i}return e}static mixedDateToUtcDatetimeString(e){return typeof e=="string"&&(e=new Date(e)),e instanceof Date?this.formatZerolessValue(e.getUTCFullYear(),4)+"-"+this.formatZerolessValue(e.getUTCMonth()+1)+"-"+this.formatZerolessValue(e.getUTCDate())+" "+this.formatZerolessValue(e.getUTCHours())+":"+this.formatZerolessValue(e.getUTCMinutes())+":"+this.formatZerolessValue(e.getUTCSeconds())+"."+this.formatMilliseconds(e.getUTCMilliseconds()):e}static simpleArrayToString(e){return Array.isArray(e)?e.map(t=>String(t)).join(","):e}static stringToSimpleArray(e){return typeof e=="string"?e.length>0?e.split(","):[]:e}static simpleJsonToString(e){return JSON.stringify(e)}static stringToSimpleJson(e){return typeof e=="string"?JSON.parse(e):e}static simpleEnumToString(e){return""+e}static stringToSimpleEnum(e,t){return t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0&&(e=parseInt(e)),e}static formatZerolessValue(e,t=2){const i="0".repeat(t);return String("".concat(i).concat(e)).slice(-t)}static formatMilliseconds(e){return e<10?"00"+e:e<100?"0"+e:String(e)}}class ve{static chunk(e,t){return Array.from(Array(Math.ceil(e.length/t)),(i,r)=>e.slice(r*t,r*t+t))}static splitClassesAndStrings(e){return[e.filter(t=>typeof t!="string"),e.filter(t=>typeof t=="string")]}static groupBy(e,t){return e.reduce((i,r)=>{const s=t(r);let o=i.find(a=>a.id===s);return o||(o={id:s,items:[]},i.push(o)),o.items.push(r),i},[])}static uniq(e,t){return e.reduce((i,r)=>{let s=!1;if(typeof t=="function"){const o=t(r);s=!!i.find(a=>t(a)===o)}else typeof t=="string"?s=!!i.find(o=>o[t]===r[t]):s=i.indexOf(r)!==-1;return s||i.push(r),i},[])}static isPlainObject(e){return e==null?!1:!e.constructor||e.constructor===Object}static mergeArrayKey(e,t,i,r){if(r.has(i)){e[t]=r.get(i);return}if(!(i instanceof Promise)){if(!this.isPlainObject(i)&&!Array.isArray(i)){e[t]=i;return}e[t]||(e[t]=Array.isArray(i)?[]:{}),r.set(i,e[t]),this.merge(e[t],i,r),r.delete(i)}}static mergeObjectKey(e,t,i,r){if(r.has(i)){Object.assign(e,{[t]:r.get(i)});return}if(!(i instanceof Promise)){if(!this.isPlainObject(i)&&!Array.isArray(i)){Object.assign(e,{[t]:i});return}e[t]||Object.assign(e,{[t]:Array.isArray(i)?[]:{}}),r.set(i,e[t]),this.merge(e[t],i,r),r.delete(i)}}static merge(e,t,i=new Map){if(this.isPlainObject(e)&&this.isPlainObject(t))for(const r of Object.keys(t))r!=="__proto__"&&this.mergeObjectKey(e,r,t[r],i);if(Array.isArray(e)&&Array.isArray(t))for(let r=0;r<t.length;r++)this.mergeArrayKey(e,r,t[r],i)}static mergeDeep(e,...t){if(!t.length)return e;for(const i of t)ve.merge(e,i);return e}static deepCompare(...e){let t,i,r,s;if(arguments.length<1)return!0;for(t=1,i=arguments.length;t<i;t++)if(r=[],s=[],!this.compare2Objects(r,s,arguments[0],arguments[t]))return!1;return!0}static deepValue(e,t){const i=t.split(".");for(let r=0,s=i.length;r<s;r++)e=e[i[r]];return e}static replaceEmptyObjectsWithBooleans(e){for(let t in e)e[t]&&typeof e[t]=="object"&&(Object.keys(e[t]).length===0?e[t]=!0:this.replaceEmptyObjectsWithBooleans(e[t]))}static propertyPathsToTruthyObject(e){let t={};for(let i of e){const r=i.split(".");if(!r.length)continue;(!t[r[0]]||t[r[0]]===!0)&&(t[r[0]]={});let s=t[r[0]];for(let[o,a]of r.entries())o!==0&&(s[a]?s=s[a]:o===r.length-1?(s[a]={},s=null):(s[a]={},s=s[a]))}return this.replaceEmptyObjectsWithBooleans(t),t}static compareIds(e,t){return e==null||t===void 0||t===null?!1:(typeof e.id=="string"&&typeof t.id=="string"||typeof e.id=="number"&&typeof t.id=="number")&&Object.keys(e).length===1&&Object.keys(t).length===1?e.id===t.id:ve.deepCompare(e,t)}static toBoolean(e){return typeof e=="boolean"?e:typeof e=="string"?e==="true"||e==="1":typeof e=="number"?e>0:!1}static zipObject(e,t){return e.reduce((i,r,s)=>(i[r]=t[s],i),{})}static isArraysEqual(e,t){return e.length!==t.length?!1:e.every(i=>t.indexOf(i)!==-1)}static areMutuallyExclusive(...e){return!e.some(i=>{const r=e.filter(s=>s!==i);return i.some(s=>r.some(o=>o.includes(s)))})}static compare2Objects(e,t,i,r){let s;if(Number.isNaN(i)&&Number.isNaN(r)||i===r)return!0;if(i===null||r===null||i===void 0||r===void 0)return!1;if((typeof i.equals=="function"||typeof i.equals=="function")&&i.equals(r))return!0;if(typeof i=="function"&&typeof r=="function"||i instanceof Date&&r instanceof Date||i instanceof RegExp&&r instanceof RegExp||typeof i=="string"&&typeof r=="string"||typeof i=="number"&&typeof r=="number")return i.toString()===r.toString();if(!(typeof i=="object"&&typeof r=="object")||Object.prototype.isPrototypeOf.call(i,r)||Object.prototype.isPrototypeOf.call(r,i)||i.constructor!==r.constructor||i.prototype!==r.prototype||e.indexOf(i)>-1||t.indexOf(r)>-1)return!1;for(s in r){if(r.hasOwnProperty(s)!==i.hasOwnProperty(s))return!1;if(typeof r[s]!=typeof i[s])return!1}for(s in i){if(r.hasOwnProperty(s)!==i.hasOwnProperty(s))return!1;if(typeof r[s]!=typeof i[s])return!1;switch(typeof i[s]){case"object":case"function":if(e.push(i),t.push(r),!this.compare2Objects(e,t,i[s],r[s]))return!1;e.pop(),t.pop();break;default:if(i[s]!==r[s])return!1;break}}return!0}}class Ut{static transformFrom(e,t){return Array.isArray(e)?e.slice().reverse().reduce((r,s)=>s.from(r),t):e.from(t)}static transformTo(e,t){return Array.isArray(e)?e.reduce((i,r)=>r.to(i),t):e.to(t)}}class Z3{compute(e){e.forEach(t=>{this.computeDiffColumns(t),this.computeDiffRelationalColumns(e,t)})}computeDiffColumns(e){e.entity&&e.metadata.columns.forEach(t=>{if(t.isVirtual||t.isDiscriminator)return;const i=e.changeMaps.find(s=>s.column===t);i&&e.changeMaps.splice(e.changeMaps.indexOf(i),1);const r=t.getEntityValue(e.entity);if(r!==void 0){if(e.databaseEntity){const s=t.type!=="json"&&t.type!=="jsonb";let o=t.getEntityValue(e.databaseEntity,s);if(t.relationMetadata){const l=t.relationMetadata.getEntityValue(e.entity);if(l!=null)return}let a=r;if(r!==null){switch(t.type){case"date":a=Ae.mixedDateToDateString(r);break;case"time":case"time with time zone":case"time without time zone":case"timetz":a=Ae.mixedDateToTimeString(r);break;case"datetime":case"datetime2":case Date:case"timestamp":case"timestamp without time zone":case"timestamp with time zone":case"timestamp with local time zone":case"timestamptz":a=Ae.mixedDateToUtcDatetimeString(r),o=Ae.mixedDateToUtcDatetimeString(o);break;case"json":case"jsonb":if(ve.deepCompare(r,o))return;break;case"simple-array":a=Ae.simpleArrayToString(r),o=Ae.simpleArrayToString(o);break;case"simple-enum":a=Ae.simpleEnumToString(r),o=Ae.simpleEnumToString(o);break;case"simple-json":a=Ae.simpleJsonToString(r),o=Ae.simpleJsonToString(o);break}t.transformer&&(a=Ut.transformTo(t.transformer,r))}if(Buffer.isBuffer(a)&&Buffer.isBuffer(o)){if(a.equals(o))return}else if(a===o)return}e.diffColumns.includes(t)||e.diffColumns.push(t),e.changeMaps.push({column:t,value:r})}})}computeDiffRelationalColumns(e,t){t.entity&&t.metadata.relationsWithJoinColumns.forEach(i=>{let r=i.getEntityValue(t.entity);if(r===void 0)return;if(t.databaseEntity){let a=r;a!==null&&Be.isObject(a)&&(a=i.getRelationIdMap(a));const l=i.getEntityValue(t.databaseEntity);if(ve.compareIds(a,l))return;t.diffRelations.push(i)}const s=e.find(a=>a.mustBeInserted&&a.entity===r);s&&(r=s);const o=t.changeMaps.find(a=>a.relation===i);o?o.value=r:t.changeMaps.push({relation:i,value:r})})}}class Nm{constructor(){this.count=0,this.promises=[]}async wait(){return this.promises.length>0&&await Promise.all(this.promises),this}}class sw extends _{constructor(){super("Nested sets do not support multiple root entities.")}}class Jp{constructor(e){this.queryRunner=e}async insert(e){const t=c=>this.queryRunner.connection.driver.escape(c),i=this.getTableName(e.metadata.tablePath),r=t(e.metadata.nestedSetLeftColumn.databaseName),s=t(e.metadata.nestedSetRightColumn.databaseName);let o=e.metadata.treeParentRelation.getEntityValue(e.entity);!o&&e.parentSubject&&e.parentSubject.entity&&(o=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);const a=e.metadata.getEntityIdMap(o);let l;if(a&&(l=await this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.nestedSetRightColumn.propertyPath,"right").from(e.metadata.target,e.metadata.targetName).whereInIds(a).getRawOne().then(c=>{const u=c?c.right:void 0;return typeof u=="string"?parseInt(u):u})),l!==void 0)await this.queryRunner.query("UPDATE ".concat(i," SET ")+"".concat(r," = CASE WHEN ").concat(r," > ").concat(l," THEN ").concat(r," + 2 ELSE ").concat(r," END,")+"".concat(s," = ").concat(s," + 2 ")+"WHERE ".concat(s," >= ").concat(l)),ve.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(l),e.metadata.nestedSetRightColumn.createValueMap(l+1));else{if(!await this.isUniqueRootEntity(e,o))throw new sw;ve.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(1),e.metadata.nestedSetRightColumn.createValueMap(2))}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;if(!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find(a=>Object.entries(e.identifier).every(([l,c])=>a[l]===c))),i===void 0||t===void 0)return;const r=e.metadata.treeParentRelation.getEntityValue(i),s=e.metadata.getEntityIdMap(r),o=e.metadata.getEntityIdMap(t);if(!ve.compareIds(s,o)){if(t){const a=y=>this.queryRunner.connection.driver.escape(y),l=this.getTableName(e.metadata.tablePath),c=a(e.metadata.nestedSetLeftColumn.databaseName),u=a(e.metadata.nestedSetRightColumn.databaseName),d=e.metadata.getEntityIdMap(i);let h;d&&(h=(await this.getNestedSetIds(e.metadata,d))[0]);let p;if(o&&(p=(await this.getNestedSetIds(e.metadata,o))[0]),h!==void 0&&p!==void 0){const y=p.left>h.left,v=h.right-h.left+1;let S;y?S=p.left-h.right:S=p.right-h.left;const E="WHEN ".concat(c," >= ").concat(h.left," AND ")+"".concat(c," < ").concat(h.right," ")+"THEN ".concat(c," + ").concat(S," "),w="WHEN ".concat(u," > ").concat(h.left," AND ")+"".concat(u," <= ").concat(h.right," ")+"THEN ".concat(u," + ").concat(S," ");y?await this.queryRunner.query("UPDATE ".concat(l," ")+"SET ".concat(c," = CASE ")+"WHEN ".concat(c," > ").concat(h.right," AND ")+"".concat(c," <= ").concat(p.left," ")+"THEN ".concat(c," - ").concat(v," ")+E+"ELSE ".concat(c," ")+"END, "+"".concat(u," = CASE ")+"WHEN ".concat(u," > ").concat(h.right," AND ")+"".concat(u," < ").concat(p.left," ")+"THEN ".concat(u," - ").concat(v," ")+w+"ELSE ".concat(u," ")+"END"):await this.queryRunner.query("UPDATE ".concat(l," ")+"SET ".concat(c," = CASE ")+"WHEN ".concat(c," < ").concat(h.left," AND ")+"".concat(c," > ").concat(p.right," ")+"THEN ".concat(c," + ").concat(v," ")+E+"ELSE ".concat(c," ")+"END, "+"".concat(u," = CASE ")+"WHEN ".concat(u," < ").concat(h.left," AND ")+"".concat(u," >= ").concat(p.right," ")+"THEN ".concat(u," + ").concat(v," ")+w+"ELSE ".concat(u," ")+"END")}}else if(!await this.isUniqueRootEntity(e,t))throw new sw}}async remove(e){Array.isArray(e)||(e=[e]);const t=e[0].metadata,i=c=>this.queryRunner.connection.driver.escape(c),r=this.getTableName(t.tablePath),s=i(t.nestedSetLeftColumn.databaseName),o=i(t.nestedSetRightColumn.databaseName);let a=[];for(const c of e){const u=t.getEntityIdMap(c.entity);u&&a.push(u)}let l=await this.getNestedSetIds(t,a);for(const c of l){const u=c.right-c.left+1;await this.queryRunner.query("UPDATE ".concat(r," ")+"SET ".concat(s," = CASE ")+"WHEN ".concat(s," > ").concat(c.left," THEN ").concat(s," - ").concat(u," ")+"ELSE ".concat(s," ")+"END, "+"".concat(o," = CASE ")+"WHEN ".concat(o," > ").concat(c.right," THEN ").concat(o," - ").concat(u," ")+"ELSE ".concat(o," ")+"END")}}getNestedSetIds(e,t){const i={left:"".concat(e.targetName,".").concat(e.nestedSetLeftColumn.propertyPath),right:"".concat(e.targetName,".").concat(e.nestedSetRightColumn.propertyPath)},r=this.queryRunner.manager.createQueryBuilder();return Object.entries(i).forEach(([s,o])=>{r.addSelect(o,s)}),r.from(e.target,e.targetName).whereInIds(t).orderBy(i.right,"DESC").getRawMany().then(s=>{const o=[];for(const a of s){const l={};for(const c of Object.keys(i)){const u=a?a[c]:void 0;l[c]=typeof u=="string"?parseInt(u):u}o.push(l)}return o})}async isUniqueRootEntity(e,t){const i=c=>this.queryRunner.connection.driver.escape(c),r=this.getTableName(e.metadata.tablePath),s=[],o=e.metadata.treeParentRelation.joinColumns.map(c=>{const u=i(c.databaseName),d=c.getEntityValue(t);if(d==null)return"".concat(u," IS NULL");s.push(d);const h=this.queryRunner.connection.driver.createParameter("entity_"+c.databaseName,s.length-1);return"".concat(u," = ").concat(h)}).join(" AND "),a="count",l=await this.queryRunner.query("SELECT COUNT(1) AS ".concat(i(a)," FROM ").concat(r," WHERE ").concat(o),s,!0);return parseInt(l.records[0][a])===0}getTableName(e){return e.split(".").map(t=>t===""?t:this.queryRunner.connection.driver.escape(t)).join(".")}}class Xp{constructor(e){this.queryRunner=e}async insert(e){const t={};e.metadata.closureJunctionTable.ancestorColumns.forEach(r=>{t[r.databaseName]=e.identifier}),e.metadata.closureJunctionTable.descendantColumns.forEach(r=>{t[r.databaseName]=e.identifier}),await this.queryRunner.manager.createQueryBuilder().insert().into(e.metadata.closureJunctionTable.tablePath).values(t).updateEntity(!1).callListeners(!1).execute();let i=e.metadata.treeParentRelation.getEntityValue(e.entity);if(!i&&e.parentSubject&&e.parentSubject.entity&&(i=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity),i){const r=d=>this.queryRunner.connection.driver.escape(d),s=this.getTableName(e.metadata.closureJunctionTable.tablePath),o=[],a=e.metadata.closureJunctionTable.ancestorColumns.map(d=>r(d.databaseName)),l=e.metadata.closureJunctionTable.descendantColumns.map(d=>r(d.databaseName)),c=e.metadata.primaryColumns.map(d=>(o.push(d.getEntityValue(e.insertedValueSet?e.insertedValueSet:e.entity)),this.queryRunner.connection.driver.createParameter("child_entity_"+d.databaseName,o.length-1))),u=e.metadata.closureJunctionTable.descendantColumns.map(d=>{const h=r(d.databaseName),p=d.referencedColumn.getEntityValue(i);if(!p)throw new ew(e.metadata.name);o.push(p);const y=this.queryRunner.connection.driver.createParameter("parent_entity_"+d.referencedColumn.databaseName,o.length-1);return"".concat(h," = ").concat(y)});await this.queryRunner.query("INSERT INTO ".concat(s," (").concat([...a,...l].join(", "),") ")+"SELECT ".concat(a.join(", "),", ").concat(c.join(", ")," FROM ").concat(s," WHERE ").concat(u.join(" AND ")),o)}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;if(!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find(p=>Object.entries(e.identifier).every(([y,v])=>p[y]===v))),i===void 0||t===void 0)return;const r=e.metadata.treeParentRelation.getEntityValue(i),s=e.metadata.getEntityIdMap(r),o=e.metadata.getEntityIdMap(t);if(ve.compareIds(s,o))return;const a=p=>this.queryRunner.connection.driver.escape(p),l=e.metadata.closureJunctionTable,c=l.ancestorColumns.map(p=>a(p.databaseName)),u=l.descendantColumns.map(p=>a(p.databaseName)),d=(p,y)=>{const v="sub".concat(y),S=p.createQueryBuilder().select(u.join(", ")).from(l.tablePath,v);for(const E of l.ancestorColumns)S.andWhere("".concat(a(v),".").concat(a(E.databaseName)," = :value_").concat(E.referencedColumn.databaseName));return p.createQueryBuilder().select(u.join(", ")).from("(".concat(S.getQuery(),")"),y).setParameters(S.getParameters()).getQuery()},h={};for(const p of e.metadata.primaryColumns)h["value_".concat(p.databaseName)]=i[p.databaseName];if(await this.queryRunner.manager.createQueryBuilder().delete().from(l.tablePath).where(p=>"(".concat(u.join(", "),") IN (").concat(d(p,"descendant"),")")).andWhere(p=>"(".concat(c.join(", "),") NOT IN (").concat(d(p,"ancestor"),")")).setParameters(h).execute(),t){const p=[],y=this.getTableName(l.tablePath),v=a("supertree"),S=a("subtree"),E=[...c.map(P=>"".concat(v,".").concat(P)),...u.map(P=>"".concat(S,".").concat(P))],w=e.metadata.closureJunctionTable.ancestorColumns.map(P=>{const q=a(P.databaseName),H=P.referencedColumn.getEntityValue(i);p.push(H);const L=this.queryRunner.connection.driver.createParameter("entity_"+P.referencedColumn.databaseName,p.length-1);return"".concat(S,".").concat(q," = ").concat(L)}),C=e.metadata.closureJunctionTable.descendantColumns.map(P=>{const q=a(P.databaseName),H=P.referencedColumn.getEntityValue(t);if(!H)throw new ew(e.metadata.name);p.push(H);const L=this.queryRunner.connection.driver.createParameter("parent_entity_"+P.referencedColumn.databaseName,p.length-1);return"".concat(v,".").concat(q," = ").concat(L)});await this.queryRunner.query("INSERT INTO ".concat(y," (").concat([...c,...u].join(", "),") ")+"SELECT ".concat(E.join(", ")," ")+"FROM ".concat(y," AS ").concat(v,", ").concat(y," AS ").concat(S," ")+"WHERE ".concat([...w,...C].join(" AND ")),p)}}async remove(e){if(this.queryRunner.connection.driver.options.type!=="mssql")return;Array.isArray(e)||(e=[e]);const t=l=>this.queryRunner.connection.driver.escape(l),i=e.map(l=>l.identifier),r=e[0].metadata.closureJunctionTable,s=l=>l.map(c=>{const u=i.map(d=>d[c.referencedColumn.databaseName]);return"".concat(t(c.databaseName)," IN (").concat(u.join(", "),")")}).join(" AND "),o=s(r.ancestorColumns),a=s(r.descendantColumns);await this.queryRunner.manager.createQueryBuilder().delete().from(r.tablePath).where(o).orWhere(a).execute()}getTableName(e){return e.split(".").map(t=>t===""?t:this.queryRunner.connection.driver.escape(t)).join(".")}}class Mi{constructor(e){this["@instanceof"]=Symbol.for("EntityMetadata"),this.childEntityMetadatas=[],this.inheritanceTree=[],this.tableType="regular",this.withoutRowid=!1,this.synchronize=!0,this.hasNonNullableRelations=!1,this.isJunction=!1,this.isAlwaysUsingConstructor=!0,this.isClosureJunction=!1,this.hasMultiplePrimaryKeys=!1,this.hasUUIDGeneratedColumns=!1,this.ownColumns=[],this.columns=[],this.ancestorColumns=[],this.descendantColumns=[],this.nonVirtualColumns=[],this.ownerColumns=[],this.inverseColumns=[],this.generatedColumns=[],this.primaryColumns=[],this.ownRelations=[],this.relations=[],this.eagerRelations=[],this.lazyRelations=[],this.oneToOneRelations=[],this.ownerOneToOneRelations=[],this.oneToManyRelations=[],this.manyToOneRelations=[],this.manyToManyRelations=[],this.ownerManyToManyRelations=[],this.relationsWithJoinColumns=[],this.relationIds=[],this.relationCounts=[],this.foreignKeys=[],this.embeddeds=[],this.allEmbeddeds=[],this.ownIndices=[],this.indices=[],this.uniques=[],this.ownUniques=[],this.checks=[],this.exclusions=[],this.ownListeners=[],this.listeners=[],this.afterLoadListeners=[],this.beforeInsertListeners=[],this.afterInsertListeners=[],this.beforeUpdateListeners=[],this.afterUpdateListeners=[],this.beforeRemoveListeners=[],this.beforeSoftRemoveListeners=[],this.beforeRecoverListeners=[],this.afterRemoveListeners=[],this.afterSoftRemoveListeners=[],this.afterRecoverListeners=[],this.connection=e.connection,this.inheritanceTree=e.inheritanceTree||[],this.inheritancePattern=e.inheritancePattern,this.treeType=e.tableTree?e.tableTree.type:void 0,this.treeOptions=e.tableTree?e.tableTree.options:void 0,this.parentClosureEntityMetadata=e.parentClosureEntityMetadata,this.tableMetadataArgs=e.args,this.target=this.tableMetadataArgs.target,this.tableType=this.tableMetadataArgs.type,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid,this.dependsOn=this.tableMetadataArgs.dependsOn}create(e,t){const i=!!(t&&t.pojo===!0);let r;return typeof this.target=="function"&&!i?!(t!=null&&t.fromDeserializer)||this.isAlwaysUsingConstructor?r=new this.target:r=Object.create(this.target.prototype):r={},this.connection.options.typename&&(r[this.connection.options.typename]=this.targetName),this.lazyRelations.forEach(s=>this.connection.relationLoader.enableLazyLoad(s,r,e)),r}hasId(e){return e?this.primaryColumns.every(t=>{const i=t.getEntityValue(e);return i!=null&&i!==""}):!1}hasAllPrimaryKeys(e){return this.primaryColumns.every(t=>{const i=t.getEntityValue(e);return i!=null})}ensureEntityIdMap(e){if(Be.isObject(e))return e;if(this.hasMultiplePrimaryKeys)throw new YB(this,e);return this.primaryColumns[0].createValueMap(e)}getEntityIdMap(e){if(e)return Mi.getValueMap(e,this.primaryColumns,{skipNulls:!0})}getEntityIdMixedMap(e){if(!e)return e;const t=this.getEntityIdMap(e);return this.hasMultiplePrimaryKeys?t:t&&this.primaryColumns[0].getEntityValue(t)}compareEntities(e,t){const i=this.getEntityIdMap(e);if(!i)return!1;const r=this.getEntityIdMap(t);return r?ve.compareIds(i,r):!1}findColumnWithPropertyName(e){return this.columns.find(t=>t.propertyName===e)}findColumnWithDatabaseName(e){return this.columns.find(t=>t.databaseName===e)}hasColumnWithPropertyPath(e){return this.columns.some(i=>i.propertyPath===e)||this.hasRelationWithPropertyPath(e)}findColumnWithPropertyPath(e){const t=this.columns.find(r=>r.propertyPath===e);if(t)return t;const i=this.relations.find(r=>r.propertyPath===e);if(i&&i.joinColumns.length===1)return i.joinColumns[0]}findColumnWithPropertyPathStrict(e){return this.columns.find(t=>t.propertyPath===e)}findColumnsWithPropertyPath(e){const t=this.columns.find(r=>r.propertyPath===e);if(t)return[t];const i=this.findRelationWithPropertyPath(e);return i&&i.joinColumns?i.joinColumns:[]}hasRelationWithPropertyPath(e){return this.relations.some(t=>t.propertyPath===e)}findRelationWithPropertyPath(e){return this.relations.find(t=>t.propertyPath===e)}hasEmbeddedWithPropertyPath(e){return this.allEmbeddeds.some(t=>t.propertyPath===e)}findEmbeddedWithPropertyPath(e){return this.allEmbeddeds.find(t=>t.propertyPath===e)}mapPropertyPathsToColumns(e){return e.map(t=>{const i=this.findColumnWithPropertyPath(t);if(i==null)throw new Qi(t,this);return i})}extractRelationValuesFromEntity(e,t){const i=[];return t.forEach(r=>{const s=r.getEntityValue(e);Array.isArray(s)?s.forEach(o=>i.push([r,o,Mi.getInverseEntityMetadata(o,r)])):s&&i.push([r,s,Mi.getInverseEntityMetadata(s,r)])}),i}findInheritanceMetadata(e){if(this.inheritancePattern==="STI"&&this.childEntityMetadatas.length>0){let t;return this.discriminatorColumn&&(t=e[this.discriminatorColumn.propertyName]),this.childEntityMetadatas.find(i=>t===i.discriminatorValue||e.constructor===i.target)||this}return this}static getInverseEntityMetadata(e,t){return t.inverseEntityMetadata.findInheritanceMetadata(e)}static createPropertyPath(e,t,i=""){const r=[];return Object.keys(t).forEach(s=>{const o=i?i+"."+s:s;if(e.hasEmbeddedWithPropertyPath(o)){const a=this.createPropertyPath(e,t[s],o);r.push(...a)}else{const a=i?i+"."+s:s;r.push(a)}}),r}static difference(e,t){return e.filter(i=>!t.find(r=>ve.compareIds(i,r)))}static getValueMap(e,t,i){return t.reduce((r,s)=>{const o=s.getEntityValueMap(e,i);if(!(r===void 0||o===null||o===void 0))return ve.mergeDeep(r,o)},{})}build(){var e;const t=this.connection.namingStrategy,i=this.connection.options.entityPrefix,r=this.connection.options.entitySkipConstructor;this.engine=this.tableMetadataArgs.engine,this.database=this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.parentEntityMetadata.database:this.tableMetadataArgs.database,this.tableMetadataArgs.schema?this.schema=this.tableMetadataArgs.schema:this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.schema=this.parentEntityMetadata.schema:!((e=this.connection.options)===null||e===void 0)&&e.hasOwnProperty("schema")&&(this.schema=this.connection.options.schema),this.givenTableName=this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.parentEntityMetadata.givenTableName:this.tableMetadataArgs.name,this.synchronize=this.tableMetadataArgs.synchronize!==!1,this.targetName=typeof this.tableMetadataArgs.target=="function"?this.tableMetadataArgs.target.name:this.tableMetadataArgs.target,this.tableMetadataArgs.type==="closure-junction"?this.tableNameWithoutPrefix=t.closureJunctionTableName(this.givenTableName):this.tableMetadataArgs.type==="entity-child"&&this.parentEntityMetadata?this.tableNameWithoutPrefix=t.tableName(this.parentEntityMetadata.targetName,this.parentEntityMetadata.givenTableName):(this.tableNameWithoutPrefix=t.tableName(this.targetName,this.givenTableName),this.tableMetadataArgs.type==="junction"&&this.connection.driver.maxAliasLength&&this.connection.driver.maxAliasLength>0&&this.tableNameWithoutPrefix.length>this.connection.driver.maxAliasLength&&(this.tableNameWithoutPrefix=OC(this.tableNameWithoutPrefix,{separator:"_",segmentLength:3}))),this.tableName=i?t.prefixTableName(i,this.tableNameWithoutPrefix):this.tableNameWithoutPrefix,this.target=this.target?this.target:this.tableName,this.name=this.targetName?this.targetName:this.tableName,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid===!0,this.tablePath=this.connection.driver.buildTableName(this.tableName,this.schema,this.database),this.orderBy=typeof this.tableMetadataArgs.orderBy=="function"?this.tableMetadataArgs.orderBy(this.propertiesMap):this.tableMetadataArgs.orderBy,r!==void 0&&(this.isAlwaysUsingConstructor=!r),this.isJunction=this.tableMetadataArgs.type==="closure-junction"||this.tableMetadataArgs.type==="junction",this.isClosureJunction=this.tableMetadataArgs.type==="closure-junction"}registerColumn(e){this.ownColumns.indexOf(e)===-1&&(this.ownColumns.push(e),this.columns=this.embeddeds.reduce((t,i)=>t.concat(i.columnsFromTree),this.ownColumns),this.primaryColumns=this.columns.filter(t=>t.isPrimary),this.hasMultiplePrimaryKeys=this.primaryColumns.length>1,this.hasUUIDGeneratedColumns=this.columns.filter(t=>t.isGenerated||t.generationStrategy==="uuid").length>0,this.propertiesMap=this.createPropertiesMap(),this.childEntityMetadatas&&this.childEntityMetadatas.forEach(t=>t.registerColumn(e)))}createPropertiesMap(){const e={};return this.columns.forEach(t=>ve.mergeDeep(e,t.createValueMap(t.propertyPath))),this.relations.forEach(t=>ve.mergeDeep(e,t.createValueMap(t.propertyPath))),e}getInsertionReturningColumns(){return this.columns.filter(e=>e.default!==void 0||e.isGenerated||e.isCreateDate||e.isUpdateDate||e.isDeleteDate||e.isVersion)}}class bd{constructor(e){this["@instanceof"]=Symbol.for("Brackets"),this.whereFactory=e}}class ow{constructor(e){this.queryRunner=e}async insert(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);const i=e.metadata.getEntityIdMap(t);let r="";i&&(r=await this.getEntityPath(e,i));const s=e.metadata.treeParentRelation.joinColumns.map(o=>o.referencedColumn.getEntityValue(e.insertedValueSet)).join("_");await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[e.metadata.materializedPathColumn.propertyPath]:r+s+"."}).where(e.identifier).execute()}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find(d=>Object.entries(e.identifier).every(([h,p])=>d[h]===p)));const r=e.metadata.treeParentRelation.getEntityValue(i),s=this.getEntityParentReferencedColumnMap(e,r),o=this.getEntityParentReferencedColumnMap(e,t);if(ve.compareIds(s,o))return;let a="";o&&(a=await this.getEntityPath(e,o));let l="";s&&(l=await this.getEntityPath(e,s)||"");const c=e.metadata.treeParentRelation.joinColumns.map(d=>d.referencedColumn.getEntityValue(i)).join("_"),u=e.metadata.materializedPathColumn.propertyPath;await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[u]:()=>"REPLACE(".concat(this.queryRunner.connection.driver.escape(u),", '").concat(l).concat(c,".', '").concat(a).concat(c,".')")}).where("".concat(u," LIKE :path"),{path:"".concat(l).concat(c,".%")}).execute()}getEntityParentReferencedColumnMap(e,t){if(t)return Mi.getValueMap(t,e.metadata.treeParentRelation.joinColumns.map(i=>i.referencedColumn).filter(i=>i!=null),{skipNulls:!0})}getEntityPath(e,t){const i=e.metadata,r=(Array.isArray(t)?t:[t]).map(s=>i.ensureEntityIdMap(s));return this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.materializedPathColumn.propertyPath,"path").from(e.metadata.target,e.metadata.targetName).where(new bd(s=>{for(const o of r)s.orWhere(new bd(a=>a.where(o)))})).getRawOne().then(s=>s?s.path:"")}}class e6{constructor(e,t,i){this.hasExecutableOperations=!1,this.insertSubjects=[],this.updateSubjects=[],this.removeSubjects=[],this.softRemoveSubjects=[],this.recoverSubjects=[],this.queryRunner=e,this.allSubjects=t,this.options=i,this.validate(),this.recompute()}async execute(){let e;(!this.options||this.options.listeners!==!1)&&(e=this.broadcastBeforeEventsForAll(),e.promises.length>0&&await Promise.all(e.promises)),e&&e.count>0&&(this.insertSubjects.forEach(t=>t.recompute()),this.updateSubjects.forEach(t=>t.recompute()),this.removeSubjects.forEach(t=>t.recompute()),this.softRemoveSubjects.forEach(t=>t.recompute()),this.recoverSubjects.forEach(t=>t.recompute()),this.recompute()),this.insertSubjects=new rw(this.insertSubjects).sort("insert"),await this.executeInsertOperations(),this.updateSubjects=this.allSubjects.filter(t=>t.mustBeUpdated),await this.executeUpdateOperations(),this.removeSubjects=new rw(this.removeSubjects).sort("delete"),await this.executeRemoveOperations(),this.softRemoveSubjects=this.allSubjects.filter(t=>t.mustBeSoftRemoved),await this.executeSoftRemoveOperations(),this.recoverSubjects=this.allSubjects.filter(t=>t.mustBeRecovered),await this.executeRecoverOperations(),await this.updateSpecialColumnsInPersistedEntities(),(!this.options||this.options.listeners!==!1)&&(e=this.broadcastAfterEventsForAll(),e.promises.length>0&&await Promise.all(e.promises))}validate(){this.allSubjects.forEach(e=>{if(e.mustBeUpdated&&e.mustBeRemoved)throw new f3(e)})}recompute(){new Z3().compute(this.allSubjects),this.insertSubjects=this.allSubjects.filter(e=>e.mustBeInserted),this.updateSubjects=this.allSubjects.filter(e=>e.mustBeUpdated),this.removeSubjects=this.allSubjects.filter(e=>e.mustBeRemoved),this.softRemoveSubjects=this.allSubjects.filter(e=>e.mustBeSoftRemoved),this.recoverSubjects=this.allSubjects.filter(e=>e.mustBeRecovered),this.hasExecutableOperations=this.insertSubjects.length>0||this.updateSubjects.length>0||this.removeSubjects.length>0||this.softRemoveSubjects.length>0||this.recoverSubjects.length>0}broadcastBeforeEventsForAll(){const e=new Nm;return this.insertSubjects.length&&this.insertSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeInsertEvent(e,t.metadata,t.entity)),this.updateSubjects.length&&this.updateSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations)),this.removeSubjects.length&&this.removeSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.recoverSubjects.length&&this.recoverSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastBeforeRecoverEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),e}broadcastAfterEventsForAll(){const e=new Nm;return this.insertSubjects.length&&this.insertSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterInsertEvent(e,t.metadata,t.entity)),this.updateSubjects.length&&this.updateSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations)),this.removeSubjects.length&&this.removeSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),this.recoverSubjects.length&&this.recoverSubjects.forEach(t=>this.queryRunner.broadcaster.broadcastAfterRecoverEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier)),e}async executeInsertOperations(){const[e,t]=this.groupBulkSubjects(this.insertSubjects,"insert");for(const i of t){const r=e[i],s=[],o=[],a=[];if(this.queryRunner.connection.driver.options.type==="mongodb"?r.forEach(l=>{l.metadata.createDateColumn&&l.entity&&(l.entity[l.metadata.createDateColumn.databaseName]=new Date),l.metadata.updateDateColumn&&l.entity&&(l.entity[l.metadata.updateDateColumn.databaseName]=new Date),l.createValueSetAndPopChangeMap(),o.push(l),s.push(l.entity)}):this.queryRunner.connection.driver.options.type==="oracle"?r.forEach(l=>{a.push(l)}):r.forEach(l=>{l.changeMaps.length===0||l.metadata.treeType||this.queryRunner.connection.driver.options.type==="oracle"||this.queryRunner.connection.driver.options.type==="sap"?a.push(l):(o.push(l),s.push(l.createValueSetAndPopChangeMap()))}),U.isMongoEntityManager(this.queryRunner.manager)){const l=await this.queryRunner.manager.insert(r[0].metadata.target,s);r.forEach((c,u)=>{c.identifier=l.identifiers[u],c.generatedMap=l.generatedMaps[u],c.insertedValueSet=s[u]})}else{if(s.length>0){const l=await this.queryRunner.manager.createQueryBuilder().insert().into(r[0].metadata.target).values(s).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1).execute();o.forEach((c,u)=>{c.identifier=l.identifiers[u],c.generatedMap=l.generatedMaps[u],c.insertedValueSet=s[u]})}if(a.length>0)for(const l of a)l.insertedValueSet=l.createValueSetAndPopChangeMap(),l.metadata.treeType==="nested-set"&&await new Jp(this.queryRunner).insert(l),await this.queryRunner.manager.createQueryBuilder().insert().into(l.metadata.target).values(l.insertedValueSet).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1).execute().then(c=>{l.identifier=c.identifiers[0],l.generatedMap=c.generatedMaps[0]}),l.metadata.treeType==="closure-table"?await new Xp(this.queryRunner).insert(l):l.metadata.treeType==="materialized-path"&&await new ow(this.queryRunner).insert(l)}r.forEach(l=>{l.generatedMap&&l.metadata.columns.forEach(c=>{const u=c.getEntityValue(l.generatedMap);if(u!=null){const d=this.queryRunner.connection.driver.prepareHydratedValue(u,c);c.setEntityValue(l.generatedMap,d)}})})}}async executeUpdateOperations(){const e=async s=>{if(!s.identifier)throw new Gc(s);if(U.isMongoEntityManager(this.queryRunner.manager)){const o=this.cloneMongoSubjectEntity(s);s.metadata.objectIdColumn&&s.metadata.objectIdColumn.propertyName&&delete o[s.metadata.objectIdColumn.propertyName],s.metadata.createDateColumn&&s.metadata.createDateColumn.propertyName&&delete o[s.metadata.createDateColumn.propertyName],s.metadata.updateDateColumn&&s.metadata.updateDateColumn.propertyName&&(o[s.metadata.updateDateColumn.propertyName]=new Date),await this.queryRunner.manager.update(s.metadata.target,s.identifier,o)}else{const o=s.createValueSetAndPopChangeMap();switch(s.metadata.treeType){case"nested-set":await new Jp(this.queryRunner).update(s);break;case"closure-table":await new Xp(this.queryRunner).update(s);break;case"materialized-path":await new ow(this.queryRunner).update(s);break}const a=this.queryRunner.manager.createQueryBuilder().update(s.metadata.target).set(o).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);s.entity?a.whereEntity(s.identifier):a.where(s.identifier);let c=(await a.execute()).generatedMaps[0];c&&(s.metadata.columns.forEach(u=>{const d=u.getEntityValue(c);if(d!=null){const h=this.queryRunner.connection.driver.prepareHydratedValue(d,u);u.setEntityValue(c,h)}}),s.generatedMap||(s.generatedMap={}),Object.assign(s.generatedMap,c))}},t=[],i=[];for(const s of this.updateSubjects)s.metadata.treeType==="nested-set"?t.push(s):i.push(s);const r=new Promise(async(s,o)=>{for(const a of t)try{await e(a)}catch(l){o(l)}s()});await Promise.all([...i.map(e),r])}async executeRemoveOperations(){const[e,t]=this.groupBulkSubjects(this.removeSubjects,"delete");for(const i of t){const r=e[i],s=r.map(o=>{if(!o.identifier)throw new Gc(o);return o.identifier});if(U.isMongoEntityManager(this.queryRunner.manager))await this.queryRunner.manager.delete(r[0].metadata.target,s);else{switch(r[0].metadata.treeType){case"nested-set":await new Jp(this.queryRunner).remove(r);break;case"closure-table":await new Xp(this.queryRunner).remove(r);break}await this.queryRunner.manager.createQueryBuilder().delete().from(r[0].metadata.target).where(s).callListeners(!1).execute()}}}cloneMongoSubjectEntity(e){const t={};if(e.entity)for(const i of e.metadata.columns)ve.mergeDeep(t,i.getEntityValueMap(e.entity));return t}async executeSoftRemoveOperations(){await Promise.all(this.softRemoveSubjects.map(async e=>{if(!e.identifier)throw new Gc(e);let t;if(U.isMongoEntityManager(this.queryRunner.manager)){const i=this.cloneMongoSubjectEntity(e);e.metadata.objectIdColumn&&e.metadata.objectIdColumn.propertyName&&delete i[e.metadata.objectIdColumn.propertyName],e.metadata.createDateColumn&&e.metadata.createDateColumn.propertyName&&delete i[e.metadata.createDateColumn.propertyName],e.metadata.updateDateColumn&&e.metadata.updateDateColumn.propertyName&&(i[e.metadata.updateDateColumn.propertyName]=new Date),e.metadata.deleteDateColumn&&e.metadata.deleteDateColumn.propertyName&&(i[e.metadata.deleteDateColumn.propertyName]=new Date),t=await this.queryRunner.manager.update(e.metadata.target,e.identifier,i)}else{const i=this.queryRunner.manager.createQueryBuilder().softDelete().from(e.metadata.target).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);e.entity?i.whereEntity(e.identifier):i.where(e.identifier),t=await i.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach(i=>{const r=i.getEntityValue(e.generatedMap);if(r!=null){const s=this.queryRunner.connection.driver.prepareHydratedValue(r,i);i.setEntityValue(e.generatedMap,s)}})}))}async executeRecoverOperations(){await Promise.all(this.recoverSubjects.map(async e=>{if(!e.identifier)throw new Gc(e);let t;if(U.isMongoEntityManager(this.queryRunner.manager)){const i=this.cloneMongoSubjectEntity(e);e.metadata.objectIdColumn&&e.metadata.objectIdColumn.propertyName&&delete i[e.metadata.objectIdColumn.propertyName],e.metadata.createDateColumn&&e.metadata.createDateColumn.propertyName&&delete i[e.metadata.createDateColumn.propertyName],e.metadata.updateDateColumn&&e.metadata.updateDateColumn.propertyName&&(i[e.metadata.updateDateColumn.propertyName]=new Date),e.metadata.deleteDateColumn&&e.metadata.deleteDateColumn.propertyName&&(i[e.metadata.deleteDateColumn.propertyName]=null),t=await this.queryRunner.manager.update(e.metadata.target,e.identifier,i)}else{const i=this.queryRunner.manager.createQueryBuilder().restore().from(e.metadata.target).updateEntity(!(this.options&&this.options.reload===!1)).callListeners(!1);e.entity?i.whereEntity(e.identifier):i.where(e.identifier),t=await i.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach(i=>{const r=i.getEntityValue(e.generatedMap);if(r!=null){const s=this.queryRunner.connection.driver.prepareHydratedValue(r,i);i.setEntityValue(e.generatedMap,s)}})}))}updateSpecialColumnsInPersistedEntities(){this.insertSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.insertSubjects),this.updateSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.updateSubjects),this.softRemoveSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.softRemoveSubjects),this.recoverSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.recoverSubjects),this.removeSubjects.length&&this.removeSubjects.forEach(e=>{e.entity&&e.metadata.primaryColumns.forEach(t=>{t.setEntityValue(e.entity,void 0)})}),this.allSubjects.forEach(e=>{e.entity&&(e.metadata.relationIds.forEach(t=>{t.setValue(e.entity)}),U.isMongoEntityManager(this.queryRunner.manager)&&e.metadata.objectIdColumn&&e.metadata.objectIdColumn.databaseName&&e.metadata.objectIdColumn.databaseName!==e.metadata.objectIdColumn.propertyName&&delete e.entity[e.metadata.objectIdColumn.databaseName])})}updateSpecialColumnsInInsertedAndUpdatedEntities(e){e.forEach(t=>{t.entity&&(t.metadata.columns.forEach(i=>{t.metadata.childEntityMetadatas.length>0&&t.metadata.childEntityMetadatas.map(r=>r.target).indexOf(i.target)!==-1||i.isVirtual||(i.isNullable&&i.getEntityValue(t.entity)===void 0&&i.setEntityValue(t.entity,null),t.updatedRelationMaps.length>0&&t.updatedRelationMaps.forEach(r=>{r.relation.joinColumns.forEach(s=>{s.isVirtual!==!0&&s.setEntityValue(t.entity,Be.isObject(r.value)?s.referencedColumn.getEntityValue(r.value):r.value)})}))}),t.generatedMap&&this.queryRunner.manager.merge(t.metadata.target,t.entity,t.generatedMap))})}groupBulkSubjects(e,t){const i={},r=[],s=e.some(a=>a.metadata.getInsertionReturningColumns().length>0),o=t==="delete"||this.queryRunner.connection.driver.isReturningSqlSupported("insert")||s===!1;return e.forEach((a,l)=>{const c=o||a.metadata.isJunction?a.metadata.name:a.metadata.name+"_"+l;i[c]?i[c].push(a):(i[c]=[a],r.push(c))}),[i,r]}}class gr{constructor(e){this["@instanceof"]=Symbol.for("Subject"),this.identifier=void 0,this.entityWithFulfilledIds=void 0,this.databaseEntityLoaded=!1,this.changeMaps=[],this.canBeInserted=!1,this.canBeUpdated=!1,this.mustBeRemoved=!1,this.canBeSoftRemoved=!1,this.canBeRecovered=!1,this.updatedRelationMaps=[],this.diffColumns=[],this.diffRelations=[],this.metadata=e.metadata,this.entity=e.entity,this.parentSubject=e.parentSubject,e.canBeInserted!==void 0&&(this.canBeInserted=e.canBeInserted),e.canBeUpdated!==void 0&&(this.canBeUpdated=e.canBeUpdated),e.mustBeRemoved!==void 0&&(this.mustBeRemoved=e.mustBeRemoved),e.canBeSoftRemoved!==void 0&&(this.canBeSoftRemoved=e.canBeSoftRemoved),e.canBeRecovered!==void 0&&(this.canBeRecovered=e.canBeRecovered),e.identifier!==void 0&&(this.identifier=e.identifier),e.changeMaps!==void 0&&this.changeMaps.push(...e.changeMaps),this.recompute()}get mustBeInserted(){return this.canBeInserted&&!this.databaseEntity}get mustBeUpdated(){return this.canBeUpdated&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)&&this.changeMaps.length>0}get mustBeSoftRemoved(){return this.canBeSoftRemoved&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)}get mustBeRecovered(){return this.canBeRecovered&&this.identifier&&(this.databaseEntityLoaded===!1||this.databaseEntityLoaded&&this.databaseEntity)}createValueSetAndPopChangeMap(){const e=[],t=this.changeMaps.reduce((i,r)=>{let s=r.value;U.isSubject(s)&&(s=s.insertedValueSet?s.insertedValueSet:s.entity);let o;if(this.metadata.isJunction&&r.column)o=r.column.createValueMap(r.column.referencedColumn.getEntityValue(s));else if(r.column)o=r.column.createValueMap(s);else if(r.relation)if(Be.isObject(s)&&!Buffer.isBuffer(s)){const a=r.relation.getRelationIdMap(s);if(a===void 0)return e.push(r),this.canBeUpdated=!0,i;o=r.relation.createValueMap(a),this.updatedRelationMaps.push({relation:r.relation,value:a})}else o=r.relation.createValueMap(s),this.updatedRelationMaps.push({relation:r.relation,value:s});return ve.mergeDeep(i,o),i},{});return this.changeMaps=e,t}recompute(){this.entity?(this.entityWithFulfilledIds=Object.assign({},this.entity),this.parentSubject&&this.metadata.primaryColumns.forEach(e=>{if(e.relationMetadata&&e.relationMetadata.inverseEntityMetadata===this.parentSubject.metadata){const t=e.referencedColumn.getEntityValue(this.parentSubject.entity);e.setEntityValue(this.entityWithFulfilledIds,t)}}),this.identifier=this.metadata.getEntityIdMap(this.entityWithFulfilledIds)):this.databaseEntity&&(this.identifier=this.metadata.getEntityIdMap(this.databaseEntity))}}class t6{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.metadata.oneToManyRelations.forEach(t=>{t.persistenceEnabled!==!1&&this.buildForSubjectRelation(e,t)})})}buildForSubjectRelation(e,t){var i;let r=[];if(e.databaseEntity){const a=t.getEntityValue(e.databaseEntity);a&&(r=a.map(l=>t.inverseEntityMetadata.getEntityIdMap(l)))}let s=t.getEntityValue(e.entity);if(s===null&&(s=[]),s===void 0)return;const o=[];s.forEach(a=>{let l=t.inverseEntityMetadata.getEntityIdMap(a),c=this.subjects.find(d=>d.entity===a);if(c&&(l=c.identifier),!l){if(!c)return;c.changeMaps.push({relation:t.inverseRelation,value:e});return}r.find(d=>ve.compareIds(l,d))||(c||(c=new gr({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:l}),this.subjects.push(c)),c.changeMaps.push({relation:t.inverseRelation,value:e})),o.push(l)}),((i=t.inverseRelation)===null||i===void 0?void 0:i.orphanedRowAction)!=="disable"&&Mi.difference(r,o).forEach(a=>{const l=new gr({metadata:t.inverseEntityMetadata,parentSubject:e,identifier:a});!t.inverseRelation||t.inverseRelation.orphanedRowAction==="nullify"?(l.canBeUpdated=!0,l.changeMaps=[{relation:t.inverseRelation,value:null}]):t.inverseRelation.orphanedRowAction==="delete"?l.mustBeRemoved=!0:t.inverseRelation.orphanedRowAction==="soft-delete"&&(l.canBeSoftRemoved=!0),this.subjects.push(l)})}}class n6{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.metadata.oneToOneRelations.forEach(t=>{t.isOwning||t.persistenceEnabled===!1||this.buildForSubjectRelation(e,t)})})}buildForSubjectRelation(e,t){let i;e.databaseEntity&&(i=t.getEntityValue(e.databaseEntity));let r=t.getEntityValue(e.entity);if(r===void 0)return;if(r===null){if(i){const l=new gr({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:i,changeMaps:[{relation:t.inverseRelation,value:null}]});this.subjects.push(l)}return}let s=t.inverseEntityMetadata.getEntityIdMap(r),o=this.subjects.find(l=>!!l.entity&&l.entity===r);if(o&&(s=o.identifier),!s){if(!o)return;o.changeMaps.push({relation:t.inverseRelation,value:e})}i&&ve.compareIds(s,i)||(o||(o=new gr({metadata:t.inverseEntityMetadata,canBeUpdated:!0,identifier:s}),this.subjects.push(o)),o.changeMaps.push({relation:t.inverseRelation,value:e}))}}class aw{constructor(e){this.subjects=e}build(){this.subjects.forEach(e=>{e.entity&&e.metadata.manyToManyRelations.forEach(t=>{t.persistenceEnabled!==!1&&this.buildForSubjectRelation(e,t)})})}buildForAllRemoval(e){e.databaseEntity&&e.metadata.manyToManyRelations.forEach(t=>{if(t.persistenceEnabled===!1)return;t.getEntityValue(e.databaseEntity).forEach(r=>{const s=new gr({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,r)});this.subjects.push(s)})})}buildForSubjectRelation(e,t){let i=[];e.databaseEntity&&(i=t.getEntityValue(e.databaseEntity));let r=t.getEntityValue(e.entity);if(r===null&&(r=[]),!Array.isArray(r))return;r.forEach(a=>{let l=t.inverseEntityMetadata.getEntityIdMap(a);const c=this.subjects.find(y=>y.entity===a);if(c&&(l=c.identifier),!l&&!c||i.find(y=>ve.compareIds(y,l)))return;const d=t.isOwning?e:c||a,h=t.isOwning?c||a:e,p=new gr({metadata:t.junctionEntityMetadata,parentSubject:e,canBeInserted:!0});this.subjects.push(p),t.junctionEntityMetadata.ownerColumns.forEach(y=>{p.changeMaps.push({column:y,value:d})}),t.junctionEntityMetadata.inverseColumns.forEach(y=>{p.changeMaps.push({column:y,value:h})})});const s=[];r.forEach(a=>{let l=t.inverseEntityMetadata.getEntityIdMap(a);const c=this.subjects.find(u=>u.entity===a);c&&(l=c.identifier),l!=null&&s.push(l)}),i.filter(a=>!s.find(l=>ve.compareIds(l,a))).forEach(a=>{const l=new gr({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,a)});this.subjects.push(l)})}buildJunctionIdentifier(e,t,i){const r=t.isOwning?e.entity:i,s=t.isOwning?i:e.entity,o={};return t.junctionEntityMetadata.ownerColumns.forEach(a=>{ve.mergeDeep(o,a.createValueMap(a.referencedColumn.getEntityValue(r)))}),t.junctionEntityMetadata.inverseColumns.forEach(a=>{ve.mergeDeep(o,a.createValueMap(a.referencedColumn.getEntityValue(s)))}),o}}class i6{constructor(e,t){this.queryRunner=e,this.subjects=t}async load(e){const t=this.groupByEntityTargets().map(async i=>{const r=[],s=[];if(i.subjects.forEach(c=>{c.databaseEntity||!c.identifier||(r.push(c.identifier),s.push(c))}),!r.length)return;const o=[];e==="save"||e==="soft-remove"||e==="recover"?i.subjects.forEach(c=>{c.metadata.relations.forEach(u=>{u.getEntityValue(c.entityWithFulfilledIds)!==void 0&&o.indexOf(u.propertyPath)===-1&&o.push(u.propertyPath)})}):o.push(...i.subjects[0].metadata.manyToManyRelations.map(c=>c.propertyPath));const a={loadEagerRelations:!1,loadRelationIds:{relations:o,disableMixedMap:!0},withDeleted:!0};let l=[];this.queryRunner.connection.driver.options.type==="mongodb"?l=await this.queryRunner.manager.getRepository(i.target).findByIds(r,a):l=await this.queryRunner.manager.getRepository(i.target).createQueryBuilder().setFindOptions(a).whereInIds(r).getMany(),l.forEach(c=>{this.findByPersistEntityLike(i.target,c).forEach(d=>{d.databaseEntity=c,d.identifier||(d.identifier=d.metadata.hasAllPrimaryKeys(c)?d.metadata.getEntityIdMap(c):void 0)})});for(let c of s)c.databaseEntityLoaded=!0});await Promise.all(t)}findByPersistEntityLike(e,t){return this.subjects.filter(i=>i.entity?i.entity===t?!0:i.metadata.target===e&&i.metadata.compareEntities(i.entityWithFulfilledIds,t):!1)}groupByEntityTargets(){return this.subjects.reduce((e,t)=>{let i=e.find(r=>r.target===t.metadata.target);return i||(i={target:t.metadata.target,subjects:[]},e.push(i)),i.subjects.push(t),e},[])}}class r6{constructor(e){this.allSubjects=e}build(e,t){e.metadata.extractRelationValuesFromEntity(e.entity,e.metadata.relations).forEach(([i,r,s])=>{if(r==null||!i.isCascadeInsert&&!i.isCascadeUpdate&&!i.isCascadeSoftRemove&&!i.isCascadeRecover||!Be.isObject(r))return;const o=this.findByPersistEntityLike(s.target,r);if(o){o.canBeInserted===!1&&(o.canBeInserted=i.isCascadeInsert===!0&&t==="save"),o.canBeUpdated===!1&&(o.canBeUpdated=i.isCascadeUpdate===!0&&t==="save"),o.canBeSoftRemoved===!1&&(o.canBeSoftRemoved=i.isCascadeSoftRemove===!0&&t==="soft-remove"),o.canBeRecovered===!1&&(o.canBeRecovered=i.isCascadeRecover===!0&&t==="recover");return}const a=new gr({metadata:s,parentSubject:e,entity:r,canBeInserted:i.isCascadeInsert===!0&&t==="save",canBeUpdated:i.isCascadeUpdate===!0&&t==="save",canBeSoftRemoved:i.isCascadeSoftRemove===!0&&t==="soft-remove",canBeRecovered:i.isCascadeRecover===!0&&t==="recover"});this.allSubjects.push(a),this.build(a,t)})}findByPersistEntityLike(e,t){return this.allSubjects.find(i=>i.entity?i.entity===t?!0:i.metadata.target===e&&i.metadata.compareEntities(i.entityWithFulfilledIds,t):!1)}}class Jc{constructor(e,t,i,r,s,o){this.connection=e,this.queryRunner=t,this.mode=i,this.target=r,this.entity=s,this.options=o}async execute(){if(!this.entity||typeof this.entity!="object")return Promise.reject(new t3(this.mode,this.entity));await Promise.resolve();const e=this.queryRunner||this.connection.createQueryRunner();let t=e.data;this.options&&this.options.data&&(e.data=this.options.data);try{const i=Array.isArray(this.entity)?this.entity:[this.entity],r=this.options&&this.options.chunk&&this.options.chunk>0?ve.chunk(i,this.options.chunk):[i],o=(await Promise.all(r.map(async l=>{const c=[];l.forEach(d=>{const h=this.target?this.target:d.constructor;if(h===Object)throw new JB(this.mode);let p=this.connection.getMetadata(h).findInheritanceMetadata(d);c.push(new gr({metadata:p,entity:d,canBeInserted:this.mode==="save",canBeUpdated:this.mode==="save",mustBeRemoved:this.mode==="remove",canBeSoftRemoved:this.mode==="soft-remove",canBeRecovered:this.mode==="recover"}))});const u=new r6(c);return c.forEach(d=>{u.build(d,this.mode)}),await new i6(e,c).load(this.mode),this.mode==="save"||this.mode==="soft-remove"||this.mode==="recover"?(new t6(c).build(),new n6(c).build(),new aw(c).build()):c.forEach(d=>{d.mustBeRemoved&&new aw(c).buildForAllRemoval(d)}),new e6(e,c,this.options)}))).filter(l=>l.hasExecutableOperations);if(o.length===0)return;let a=!1;try{e.isTransactionActive||this.connection.driver.transactionSupport!=="none"&&(!this.options||this.options.transaction!==!1)&&(a=!0,await e.startTransaction());for(const l of o)await l.execute();a===!0&&await e.commitTransaction()}catch(l){if(a)try{await e.rollbackTransaction()}catch(c){}throw l}}finally{e.data=t,this.queryRunner||await e.release()}}}class jC{constructor(e,t){this["@instanceof"]=Symbol.for("EntityManager"),this.repositories=new Map,this.treeRepositories=[],this.plainObjectToEntityTransformer=new $3,this.connection=e,t&&(this.queryRunner=t,Be.assign(this.queryRunner,{manager:this}))}async transaction(e,t){const i=typeof e=="string"?e:void 0,r=typeof e=="function"?e:t;if(!r)throw new _("Transaction method requires callback in second parameter if isolation level is supplied.");if(this.queryRunner&&this.queryRunner.isReleased)throw new MC;const s=this.queryRunner||this.connection.createQueryRunner();try{await s.startTransaction(i);const o=await r(s.manager);return await s.commitTransaction(),o}catch(o){try{await s.rollbackTransaction()}catch(a){}throw o}finally{this.queryRunner||await s.release()}}async query(e,t){return this.connection.query(e,t,this.queryRunner)}createQueryBuilder(e,t,i){return t?this.connection.createQueryBuilder(e,t,i||this.queryRunner):this.connection.createQueryBuilder(e||i||this.queryRunner)}hasId(e,t){const i=arguments.length===2?e:e.constructor,r=arguments.length===2?t:e;return this.connection.getMetadata(i).hasId(r)}getId(e,t){const i=arguments.length===2?e:e.constructor,r=arguments.length===2?t:e;return this.connection.getMetadata(i).getEntityIdMixedMap(r)}create(e,t){const i=this.connection.getMetadata(e);if(!t)return i.create(this.queryRunner);if(Array.isArray(t))return t.map(s=>this.create(e,s));const r=i.create(this.queryRunner);return this.plainObjectToEntityTransformer.transform(r,t,i,!0),r}merge(e,t,...i){const r=this.connection.getMetadata(e);return i.forEach(s=>this.plainObjectToEntityTransformer.transform(t,s,r)),t}async preload(e,t){const i=this.connection.getMetadata(e),s=await new I3(this.connection.manager).transform(t,i);if(s)return this.merge(e,s,t)}save(e,t,i){let r=arguments.length>1&&(typeof e=="function"||U.isEntitySchema(e)||typeof e=="string")?e:void 0;const s=r?t:e,o=r?i:t;return U.isEntitySchema(r)&&(r=r.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new Jc(this.connection,this.queryRunner,"save",r,s,o).execute().then(()=>s)}remove(e,t,i){const r=arguments.length>1&&(typeof e=="function"||U.isEntitySchema(e)||typeof e=="string")?e:void 0,s=r?t:e,o=r?i:t;return Array.isArray(s)&&s.length===0?Promise.resolve(s):new Jc(this.connection,this.queryRunner,"remove",r,s,o).execute().then(()=>s)}softRemove(e,t,i){let r=arguments.length>1&&(typeof e=="function"||U.isEntitySchema(e)||typeof e=="string")?e:void 0;const s=r?t:e,o=r?i:t;return U.isEntitySchema(r)&&(r=r.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new Jc(this.connection,this.queryRunner,"soft-remove",r,s,o).execute().then(()=>s)}recover(e,t,i){let r=arguments.length>1&&(typeof e=="function"||U.isEntitySchema(e)||typeof e=="string")?e:void 0;const s=r?t:e,o=r?i:t;return U.isEntitySchema(r)&&(r=r.options.name),Array.isArray(s)&&s.length===0?Promise.resolve(s):new Jc(this.connection,this.queryRunner,"recover",r,s,o).execute().then(()=>s)}async insert(e,t){return this.createQueryBuilder().insert().into(e).values(t).execute()}async upsert(e,t,i){const r=this.connection.getMetadata(e);let s;Array.isArray(i)?s={conflictPaths:i}:s=i;let o;Array.isArray(t)?o=t:o=[t];const a=r.mapPropertyPathsToColumns(Array.isArray(s.conflictPaths)?s.conflictPaths:Object.keys(s.conflictPaths)),l=r.columns.filter(c=>!a.includes(c)&&o.some(u=>typeof c.getEntityValue(u)<"u"));return this.createQueryBuilder().insert().into(e).values(o).orUpdate([...a,...l].map(c=>c.databaseName),a.map(c=>c.databaseName),{skipUpdateIfNoValuesChanged:s.skipUpdateIfNoValuesChanged,indexPredicate:s.indexPredicate,upsertType:s.upsertType||this.connection.driver.supportedUpsertTypes[0]}).execute()}update(e,t,i){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new _("Empty criteria(s) are not allowed for the update method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().update(e).set(i).whereInIds(t).execute():this.createQueryBuilder().update(e).set(i).where(t).execute()}delete(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new _("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().delete().from(e).whereInIds(t).execute():this.createQueryBuilder().delete().from(e).where(t).execute()}softDelete(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new _("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().softDelete().from(e).whereInIds(t).execute():this.createQueryBuilder().softDelete().from(e).where(t).execute()}restore(e,t){return t==null||t===""||Array.isArray(t)&&t.length===0?Promise.reject(new _("Empty criteria(s) are not allowed for the delete method.")):typeof t=="string"||typeof t=="number"||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().restore().from(e).whereInIds(t).execute():this.createQueryBuilder().restore().from(e).where(t).execute()}exists(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,cn.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getExists()}count(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,cn.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getCount()}countBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getCount()}sum(e,t,i){return this.callAggregateFun(e,"SUM",t,i)}average(e,t,i){return this.callAggregateFun(e,"AVG",t,i)}minimum(e,t,i){return this.callAggregateFun(e,"MIN",t,i)}maximum(e,t,i){return this.callAggregateFun(e,"MAX",t,i)}async callAggregateFun(e,t,i,r={}){const s=this.connection.getMetadata(e),o=await this.createQueryBuilder(e,s.name).setFindOptions({where:r}).select("".concat(t,"(").concat(this.connection.driver.escape(String(i)),")"),t).getRawOne();return o[t]===null?null:parseFloat(o[t])}async find(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,cn.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getMany()}async findBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getMany()}findAndCount(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,cn.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getManyAndCount()}findAndCountBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getManyAndCount()}async findByIds(e,t){if(!t.length)return Promise.resolve([]);const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).andWhereInIds(t).getMany()}async findOne(e,t){let r=this.connection.getMetadata(e).name;if(t&&t.join&&(r=t.join.alias),!t.where)throw new Error("You must provide selection conditions in order to find a single row.");return this.createQueryBuilder(e,r).setFindOptions({...t,take:1}).getOne()}async findOneBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t,take:1}).getOne()}async findOneById(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({take:1}).whereInIds(i.ensureEntityIdMap(t)).getOne()}async findOneOrFail(e,t){return this.findOne(e,t).then(i=>i===null?Promise.reject(new Sm(e,t)):Promise.resolve(i))}async findOneByOrFail(e,t){return this.findOneBy(e,t).then(i=>i===null?Promise.reject(new Sm(e,t)):Promise.resolve(i))}async clear(e){const t=this.connection.getMetadata(e),i=this.queryRunner||this.connection.createQueryRunner();try{return await i.clearTable(t.tablePath)}finally{this.queryRunner||await i.release()}}async increment(e,t,i,r){const s=this.connection.getMetadata(e),o=s.findColumnWithPropertyPath(i);if(!o)throw new _("Column ".concat(i," was not found in ").concat(s.targetName," entity."));if(isNaN(Number(r)))throw new _('Value "'.concat(r,'" is not a number.'));const a=i.split(".").reduceRight((l,c)=>({[c]:l}),()=>this.connection.driver.escape(o.databaseName)+" + "+r);return this.createQueryBuilder(e,"entity").update(e).set(a).where(t).execute()}async decrement(e,t,i,r){const s=this.connection.getMetadata(e),o=s.findColumnWithPropertyPath(i);if(!o)throw new _("Column ".concat(i," was not found in ").concat(s.targetName," entity."));if(isNaN(Number(r)))throw new _('Value "'.concat(r,'" is not a number.'));const a=i.split(".").reduceRight((l,c)=>({[c]:l}),()=>this.connection.driver.escape(o.databaseName)+" - "+r);return this.createQueryBuilder(e,"entity").update(e).set(a).where(t).execute()}getRepository(e){const t=this.repositories.get(e);if(t)return t;if(this.connection.driver.options.type==="mongodb"){const i=new x3(e,this,this.queryRunner);return this.repositories.set(e,i),i}else{const i=new qC(e,this,this.queryRunner);return this.repositories.set(e,i),i}}getTreeRepository(e){if(this.connection.driver.treeSupport===!1)throw new XB(this.connection.driver);const t=this.treeRepositories.find(r=>r.target===e);if(t)return t;const i=new R3(e,this,this.queryRunner);return this.treeRepositories.push(i),i}getMongoRepository(e){return this.connection.getMongoRepository(e)}withRepository(e){const t=e.constructor,{target:i,manager:r,queryRunner:s,...o}=e;return Object.assign(new t(e.target,this),{...o})}getCustomRepository(e){const t=Ni().entityRepositories.find(s=>s.target===(typeof e=="function"?e:e.constructor));if(!t)throw new IC(e);const i=t.entity?this.connection.getMetadata(t.entity):void 0,r=new t.target(this,i);if(r instanceof M3)r.manager||(r.manager=this);else{if(!i)throw new i3(e);r.manager=this,r.metadata=i}return r}async release(){if(!this.queryRunner)throw new p3;return this.queryRunner.release()}}class s6 extends jC{constructor(e,t){super(e,t),this["@instanceof"]=Symbol.for("SqljsEntityManager"),this.driver=e.driver}async loadDatabase(e){await this.driver.load(e)}async saveDatabase(e){await this.driver.save(e)}exportDatabase(){return this.driver.export()}}class o6{create(e,t){return e.driver.options.type==="mongodb"?new E3(e):e.driver.options.type==="sqljs"?new s6(e,t):new jC(e,t)}}class Tr{constructor(e){this["@instanceof"]=Symbol.for("View"),this.indices=[],e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,this.expression=e.expression,this.materialized=!!e.materialized)}clone(){return new Tr({database:this.database,schema:this.schema,name:this.name,expression:this.expression,materialized:this.materialized})}addIndex(e){this.indices.push(e)}removeIndex(e){const t=this.indices.find(i=>i.name===e.name);t&&this.indices.splice(this.indices.indexOf(t),1)}static create(e,t){const i={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,e.schema,e.database),expression:e.expression,materialized:e.tableMetadataArgs.materialized};return new Tr(i)}}class lw{static viewMetadataCmp(e,t){return!e||!t?0:e.dependsOn&&(e.dependsOn.has(t.target)||e.dependsOn.has(t.name))?1:t.dependsOn&&(t.dependsOn.has(e.target)||t.dependsOn.has(e.name))?-1:0}}class Ah{constructor(e){this.connection=e,this["@instanceof"]=Symbol.for("RdbmsSchemaBuilder")}async build(){this.queryRunner=this.connection.createQueryRunner(),this.currentDatabase=this.connection.driver.database,this.currentSchema=this.connection.driver.schema;const e=this.connection.driver.options.type!=="cockroachdb"&&this.connection.driver.options.type!=="spanner"&&this.connection.options.migrationsTransactionMode!=="none";await this.queryRunner.beforeMigration(),e&&await this.queryRunner.startTransaction();try{await this.createMetadataTableIfNecessary(this.queryRunner);const t=this.entityToSyncMetadatas.map(r=>this.getTablePath(r)),i=this.viewEntityToSyncMetadatas.map(r=>this.getTablePath(r));await this.queryRunner.getTables(t),await this.queryRunner.getViews(i),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),e&&await this.queryRunner.commitTransaction()}catch(t){try{e&&await this.queryRunner.rollbackTransaction()}catch(i){}throw t}finally{await this.queryRunner.afterMigration(),await this.queryRunner.release()}}async createMetadataTableIfNecessary(e){(this.viewEntityToSyncMetadatas.length>0||this.hasGeneratedColumns())&&await this.createTypeormMetadataTable(e)}async log(){this.queryRunner=this.connection.createQueryRunner();try{const e=this.entityToSyncMetadatas.map(i=>this.getTablePath(i)),t=this.viewEntityToSyncMetadatas.map(i=>this.getTablePath(i));return await this.queryRunner.getTables(e),await this.queryRunner.getViews(t),this.queryRunner.enableSqlMemory(),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),this.queryRunner.getMemorySql()}finally{this.queryRunner.disableSqlMemory(),await this.queryRunner.release()}}get entityToSyncMetadatas(){return this.connection.entityMetadatas.filter(e=>e.synchronize&&e.tableType!=="entity-child"&&e.tableType!=="view")}get viewEntityToSyncMetadatas(){return this.connection.entityMetadatas.filter(e=>e.tableType==="view"&&e.synchronize).sort(lw.viewMetadataCmp)}hasGeneratedColumns(){return this.connection.entityMetadatas.some(e=>e.columns.some(t=>t.generatedType))}async executeSchemaSyncOperationsInProperOrder(){await this.dropOldViews(),await this.dropOldForeignKeys(),await this.dropOldIndices(),await this.dropOldChecks(),await this.dropOldExclusions(),await this.dropCompositeUniqueConstraints(),await this.renameColumns(),await this.createNewTables(),await this.dropRemovedColumns(),await this.addNewColumns(),await this.updatePrimaryKeys(),await this.updateExistColumns(),await this.createNewIndices(),await this.createNewChecks(),await this.createNewExclusions(),await this.createCompositeUniqueConstraints(),await this.createForeignKeys(),await this.createViews(),await this.createNewViewIndices()}getTablePath(e){const t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema||this.currentSchema,t.database||this.currentDatabase)}async dropOldForeignKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.foreignKeys.filter(r=>{const s=e.foreignKeys.find(o=>r.name===o.name&&this.getTablePath(r)===this.getTablePath(o.referencedEntityMetadata));return!s||s.onDelete&&s.onDelete!==r.onDelete||s.onUpdate&&s.onUpdate!==r.onUpdate});i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old foreign keys of ".concat(t.name,": ").concat(i.map(r=>r.name).join(", "))),await this.queryRunner.dropForeignKeys(t,i))}}async renameTables(){}async renameColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===this.getTablePath(e));if(!t||e.columns.length!==t.columns.length)continue;const i=e.columns.filter(o=>!o.isVirtualProperty).filter(o=>!t.columns.find(a=>a.name===o.databaseName&&a.type===this.connection.driver.normalizeType(o)&&a.isNullable===o.isNullable&&a.isUnique===this.connection.driver.normalizeIsUnique(o)));if(i.length===0||i.length>1)continue;const r=t.columns.filter(o=>!e.columns.find(a=>!a.isVirtualProperty&&a.databaseName===o.name&&this.connection.driver.normalizeType(a)===o.type&&a.isNullable===o.isNullable&&this.connection.driver.normalizeIsUnique(a)===o.isUnique));if(r.length===0||r.length>1)continue;const s=r[0].clone();s.name=i[0].databaseName,this.connection.logger.logSchemaBuild('renaming column "'.concat(r[0].name,'" in "').concat(t.name,'" to "').concat(s.name,'"')),await this.queryRunner.renameColumn(t,r[0],s)}}async dropOldIndices(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.indices.filter(r=>{const s=e.indices.find(o=>o.name===r.name);return s?s.synchronize===!1?!1:s.isUnique!==r.isUnique||s.isSpatial!==r.isSpatial||this.connection.driver.isFullTextColumnTypeSupported()&&s.isFulltext!==r.isFulltext||s.columns.length!==r.columnNames.length?!0:!s.columns.every(o=>r.columnNames.indexOf(o.databaseName)!==-1):!0}).map(async r=>{this.connection.logger.logSchemaBuild('dropping an index: "'.concat(r.name,'" from table ').concat(t.name)),await this.queryRunner.dropIndex(t,r)});await Promise.all(i)}if(this.connection.options.type==="postgres"){const e=this.queryRunner;for(const t of this.viewEntityToSyncMetadatas){const i=this.queryRunner.loadedViews.find(s=>this.getTablePath(s)===this.getTablePath(t));if(!i)continue;const r=i.indices.filter(s=>{const o=t.indices.find(a=>a.name===s.name);return o?o.synchronize===!1?!1:o.isUnique!==s.isUnique||o.isSpatial!==s.isSpatial||this.connection.driver.isFullTextColumnTypeSupported()&&o.isFulltext!==s.isFulltext||o.columns.length!==s.columnNames.length?!0:!o.columns.every(a=>s.columnNames.indexOf(a.databaseName)!==-1):!0}).map(async s=>{this.connection.logger.logSchemaBuild('dropping an index: "'.concat(s.name,'" from view ').concat(i.name)),await e.dropViewIndex(i,s)});await Promise.all(r)}}}async dropOldChecks(){if(!(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"))for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.checks.filter(r=>!e.checks.find(s=>s.name===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old check constraint: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' from table "').concat(t.name,'"')),await this.queryRunner.dropCheckConstraints(t,i))}}async dropCompositeUniqueConstraints(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.uniques.filter(r=>r.columnNames.length>1&&!e.uniques.find(s=>s.name===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old unique constraint: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' from table "').concat(t.name,'"')),await this.queryRunner.dropUniqueConstraints(t,i))}}async dropOldExclusions(){if(this.connection.driver.options.type==="postgres")for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.exclusions.filter(r=>!e.exclusions.find(s=>s.name===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("dropping old exclusion constraint: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' from table "').concat(t.name,'"')),await this.queryRunner.dropExclusionConstraints(t,i))}}async createNewTables(){for(const e of this.entityToSyncMetadatas){if(this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e)))continue;this.connection.logger.logSchemaBuild("creating a new table: ".concat(this.getTablePath(e)));const i=mt.create(e,this.connection.driver);await this.queryRunner.createTable(i,!1,!1),this.queryRunner.loadedTables.push(i)}}async createViews(){for(const e of this.viewEntityToSyncMetadatas){if(this.queryRunner.loadedViews.find(r=>{const s=typeof r.expression=="string"?r.expression.trim():r.expression(this.connection).getQuery(),o=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.getTablePath(r)===this.getTablePath(e)&&s===o}))continue;this.connection.logger.logSchemaBuild("creating a new view: ".concat(this.getTablePath(e)));const i=Tr.create(e,this.connection.driver);await this.queryRunner.createView(i,!0),this.queryRunner.loadedViews.push(i)}}async dropOldViews(){const e=[],t=this.viewEntityToSyncMetadatas,i=new Map;for(const o of this.queryRunner.loadedViews){const a=t.find(l=>this.getTablePath(o)===this.getTablePath(l));a&&i.set(o,a)}for(const o of this.queryRunner.loadedViews){const a=i.get(o);if(!a)continue;const l=typeof o.expression=="string"?o.expression.trim():o.expression(this.connection).getQuery(),c=typeof a.expression=="string"?a.expression.trim():a.expression(this.connection).getQuery();l!==c&&(this.connection.logger.logSchemaBuild("dropping an old view: ".concat(o.name)),e.push(o))}const r=o=>{const a=i.get(o);let l=[o];if(!a)return l;for(const[c,u]of i.entries())c!==o&&u.dependsOn&&(u.dependsOn.has(a.target)||u.dependsOn.has(a.name))&&(l=l.concat(r(c)));return l},s=new Set(e.map(o=>r(o)).reduce((o,a)=>o.concat(a),[]).sort((o,a)=>lw.viewMetadataCmp(i.get(o),i.get(a))).reverse());for(const o of s)await this.queryRunner.dropView(o);this.queryRunner.loadedViews=this.queryRunner.loadedViews.filter(o=>!s.has(o))}async dropRemovedColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=t.columns.filter(r=>!e.columns.find(s=>s.isVirtualProperty||s.databaseName===r.name));i.length!==0&&(this.connection.logger.logSchemaBuild("columns dropped in ".concat(t.name,": ")+i.map(r=>r.name).join(", ")),await this.queryRunner.dropColumns(t,i))}}async addNewColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===this.getTablePath(e));if(!t)continue;const i=e.columns.filter(o=>!o.isVirtualProperty&&!t.columns.find(a=>a.name===o.databaseName));if(i.length===0)continue;const s=this.metadataColumnsToTableColumnOptions(i).map(o=>new Nn(o));s.length!==0&&(this.connection.logger.logSchemaBuild("new columns added: "+i.map(o=>o.databaseName).join(", ")),await this.queryRunner.addColumns(t,s))}}async updatePrimaryKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;const i=e.columns.filter(s=>s.isPrimary);if(t.columns.filter(s=>s.isPrimary).length!==i.length&&i.length>1){const s=i.map(o=>new Nn(Su.createTableColumnOptions(o,this.connection.driver)));await this.queryRunner.updatePrimaryKeys(t,s)}}}async updateExistColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;const i=this.connection.driver.findChangedColumns(t.columns,e.columns);if(i.length===0)continue;for(const s of i)await this.dropColumnReferencedForeignKeys(this.getTablePath(e),s.databaseName);for(const s of i)await this.dropColumnCompositeIndices(this.getTablePath(e),s.databaseName);if(!(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="spanner"))for(const s of i)await this.dropColumnCompositeUniques(this.getTablePath(e),s.databaseName);const r=i.map(s=>{const o=t.columns.find(c=>c.name===s.databaseName),a=Su.createTableColumnOptions(s,this.connection.driver),l=new Nn(a);return{oldColumn:o,newColumn:l}});r.length!==0&&(this.connection.logger.logSchemaBuild('columns changed in "'.concat(t.name,'". updating: ')+i.map(s=>s.databaseName).join(", ")),await this.queryRunner.changeColumns(t,r))}}async createNewIndices(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.indices.filter(r=>!t.indices.find(s=>s.name===r.name)&&r.synchronize===!0).map(r=>St.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new indices ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createIndices(t,i))}}async createNewViewIndices(){if(this.connection.options.type!=="postgres"||!me.isPostgresFamily(this.connection.driver))return;const e=this.queryRunner;for(const t of this.viewEntityToSyncMetadatas){const i=this.queryRunner.loadedViews.find(s=>{const o=typeof s.expression=="string"?s.expression.trim():s.expression(this.connection).getQuery(),a=typeof t.expression=="string"?t.expression.trim():t.expression(this.connection).getQuery();return this.getTablePath(s)===this.getTablePath(t)&&o===a});if(!i||!i.materialized)continue;const r=t.indices.filter(s=>!i.indices.find(o=>o.name===s.name)&&s.synchronize===!0).map(s=>St.create(s));r.length!==0&&(this.connection.logger.logSchemaBuild("adding new indices ".concat(r.map(s=>'"'.concat(s.name,'"')).join(", "),' in view "').concat(i.name,'"')),await e.createViewIndices(i,r))}}async createNewChecks(){if(!(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"))for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.checks.filter(r=>!t.checks.find(s=>s.name===r.name)).map(r=>Ii.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new check constraints: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createCheckConstraints(t,i))}}async createCompositeUniqueConstraints(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.uniques.filter(r=>r.columns.length>1&&!t.uniques.find(s=>s.name===r.name)).map(r=>dn.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new unique constraints: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createUniqueConstraints(t,i))}}async createNewExclusions(){if(this.connection.driver.options.type==="postgres")for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(r=>this.getTablePath(r)===this.getTablePath(e));if(!t)continue;const i=e.exclusions.filter(r=>!t.exclusions.find(s=>s.name===r.name)).map(r=>Fs.create(r));i.length!==0&&(this.connection.logger.logSchemaBuild("adding new exclusion constraints: ".concat(i.map(r=>'"'.concat(r.name,'"')).join(", "),' in table "').concat(t.name,'"')),await this.queryRunner.createExclusionConstraints(t,i))}}async createForeignKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===this.getTablePath(e));if(!t)continue;const i=e.foreignKeys.filter(s=>!t.foreignKeys.find(o=>o.name===s.name&&this.getTablePath(o)===this.getTablePath(s.referencedEntityMetadata)));if(i.length===0)continue;const r=i.map(s=>li.create(s,this.connection.driver));this.connection.logger.logSchemaBuild("creating a foreign keys: ".concat(i.map(s=>s.name).join(", "),' on table "').concat(t.name,'"')),await this.queryRunner.createForeignKeys(t,r)}}async dropColumnReferencedForeignKeys(e,t){const i=this.queryRunner.loadedTables.find(o=>this.getTablePath(o)===e);if(!i)return;const r=[],s=i.foreignKeys.find(o=>o.columnNames.indexOf(t)!==-1);if(s){const o=i.clone();o.foreignKeys=[s],r.push(o),i.removeForeignKey(s)}for(const o of this.queryRunner.loadedTables){const a=o.foreignKeys.filter(l=>this.getTablePath(l)===e&&l.referencedColumnNames.indexOf(t)!==-1);if(a.length>0){const l=o.clone();l.foreignKeys=a,r.push(l),a.forEach(c=>o.removeForeignKey(c))}}if(r.length>0)for(const o of r)this.connection.logger.logSchemaBuild("dropping related foreign keys of ".concat(o.name,": ").concat(o.foreignKeys.map(a=>a.name).join(", "))),await this.queryRunner.dropForeignKeys(o,o.foreignKeys)}async dropColumnCompositeIndices(e,t){const i=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===e);if(!i)return;const r=i.indices.filter(s=>s.columnNames.length>1&&s.columnNames.indexOf(t)!==-1);r.length!==0&&(this.connection.logger.logSchemaBuild('dropping related indices of "'.concat(e,'"."').concat(t,'": ').concat(r.map(s=>s.name).join(", "))),await this.queryRunner.dropIndices(i,r))}async dropColumnCompositeUniques(e,t){const i=this.queryRunner.loadedTables.find(s=>this.getTablePath(s)===e);if(!i)return;const r=i.uniques.filter(s=>s.columnNames.length>1&&s.columnNames.indexOf(t)!==-1);r.length!==0&&(this.connection.logger.logSchemaBuild('dropping related unique constraints of "'.concat(e,'"."').concat(t,'": ').concat(r.map(s=>s.name).join(", "))),await this.queryRunner.dropUniqueConstraints(i,r))}metadataColumnsToTableColumnOptions(e){return e.map(t=>Su.createTableColumnOptions(t,this.connection.driver))}async createTypeormMetadataTable(e){const t=this.currentSchema,i=this.currentDatabase,r=this.connection.driver.buildTableName(this.connection.metadataTableName,t,i),s=this.connection.driver.options.type==="spanner";await e.createTable(new mt({database:i,schema:t,name:r,columns:[{name:"type",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataType}),isNullable:!1,isPrimary:s},{name:"database",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataDatabase}),isNullable:!0,isPrimary:s},{name:"schema",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataSchema}),isNullable:!0,isPrimary:s},{name:"table",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataTable}),isNullable:!0,isPrimary:s},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataName}),isNullable:!0,isPrimary:s},{name:"value",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataValue}),isNullable:!0,isPrimary:s}]}),!0)}}class Zl{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["int","integer","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8","integer","character","varchar","varying character","nchar","native character","nvarchar","text","clob","text","blob","real","double","double precision","float","real","numeric","decimal","boolean","date","time","datetime","json"],this.supportedUpsertTypes=["on-conflict-do-update"],this.withLengthColumnTypes=["character","varchar","varying character","nchar","native character","nvarchar","text","blob","clob"],this.spatialTypes=[],this.withPrecisionColumnTypes=["real","double","double precision","float","real","numeric","decimal","date","time","datetime"],this.withScaleColumnTypes=["real","double","double precision","float","real","numeric","decimal"],this.mappedDataTypes={createDate:"datetime",createDateDefault:"datetime('now')",updateDate:"datetime",updateDateDefault:"datetime('now')",deleteDate:"datetime",deleteDateNullable:!0,version:"integer",treeLevel:"integer",migrationId:"integer",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.cteCapabilities={enabled:!0,requiresRecursiveHint:!0},this.attachedDatabases={},this.connection=e,this.options=e.options,this.database=me.buildDriverOptions(this.options).database}async connect(){this.databaseConnection=await this.createDatabaseConnection()}afterConnect(){return Promise.resolve()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close(i=>i?t(i):e())})}hasAttachedDatabases(){return!!Object.keys(this.attachedDatabases).length}getAttachedDatabaseHandleByRelativePath(e){var t,i;return(i=(t=this.attachedDatabases)===null||t===void 0?void 0:t[e])===null||i===void 0?void 0:i.attachHandle}getAttachedDatabasePathRelativeByHandle(e){var t;return(t=Object.values(this.attachedDatabases).find(({attachHandle:i})=>e===i))===null||t===void 0?void 0:t.attachFilepathRelative}createSchemaBuilder(){return new Ah(this.connection)}preparePersistentValue(e,t){return t.transformer&&(e=Ut.transformTo(t.transformer,e)),e==null?e:t.type===Boolean||t.type==="boolean"?e===!0?1:0:t.type==="date"?Ae.mixedDateToDateString(e):t.type==="time"?Ae.mixedDateToTimeString(e):t.type==="datetime"||t.type===Date?Ae.mixedDateToUtcDatetimeString(e):t.type==="json"||t.type==="simple-json"?Ae.simpleJsonToString(e):t.type==="simple-array"?Ae.simpleArrayToString(e):t.type==="simple-enum"?Ae.simpleEnumToString(e):e}prepareHydratedValue(e,t){return e==null?t.transformer?Ut.transformFrom(t.transformer,e):e:(t.type===Boolean||t.type==="boolean"?e=!!e:t.type==="datetime"||t.type===Date?(e&&typeof e=="string"&&(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d/.test(e)&&(e=e.replace(" ","T")),/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d(:\d\d(\.\d\d\d)?)?$/.test(e)&&(e+="Z")),e=Ae.normalizeHydratedDate(e)):t.type==="date"?e=Ae.mixedDateToDateString(e):t.type==="time"?e=Ae.mixedTimeToString(e):t.type==="json"||t.type==="simple-json"?e=Ae.stringToSimpleJson(e):t.type==="simple-array"?e=Ae.stringToSimpleArray(e):t.type==="simple-enum"?e=Ae.stringToSimpleEnum(e,t):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=Ut.transformFrom(t.transformer,e)),e)}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>typeof i[s]=="boolean"?i[s]===!0?1:0:i[s]instanceof Date?Ae.mixedDateToUtcDatetimeString(i[s]):i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):typeof l=="function"?l():typeof l=="number"?String(l):typeof l=="boolean"?(r.push(+l),this.createParameter(a,r.length-1)):l instanceof Date?(r.push(Ae.mixedDateToUtcDatetimeString(l)),this.createParameter(a,r.length-1)):(r.push(l),this.createParameter(a,r.length-1))}),[e,r])}escape(e){return'"'+e+'"'}buildTableName(e,t,i){return e}parseTableName(e){var t;const i=this.database,r=void 0;if(U.isTable(e)||U.isView(e)){const o=this.parseTableName(e.schema?'"'.concat(e.schema,'"."').concat(e.name,'"'):e.name);return{database:e.database||o.database||i,schema:e.schema||o.schema||r,tableName:o.tableName}}if(U.isTableForeignKey(e)){const o=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||o.database||i,schema:e.referencedSchema||o.schema||r,tableName:o.tableName}}if(U.isEntityMetadata(e))return{database:e.database||i,schema:e.schema||r,tableName:e.tableName};const s=e.split(".");return s.length===3?{database:s[0]||i,schema:s[1]||r,tableName:s[2]}:s.length===2?{database:(t=this.getAttachedDatabasePathRelativeByHandle(s[0]))!==null&&t!==void 0?t:i,schema:s[0],tableName:s[1]}:{database:i,schema:r,tableName:e}}normalizeType(e){return e.type===Number||e.type==="int"?"integer":e.type===String?"varchar":e.type===Date?"datetime":e.type===Boolean?"boolean":e.type==="uuid"?"varchar":e.type==="simple-array"||e.type==="simple-json"?"text":e.type==="simple-enum"?"varchar":e.type||""}normalizeDefault(e){const t=e.default;if(typeof t=="number")return""+t;if(typeof t=="boolean")return t?"1":"0";if(typeof t=="function")return t();if(typeof t=="string")return"'".concat(t,"'");if(t!=null)return"".concat(t)}normalizeIsUnique(e){return e.entityMetadata.uniques.some(t=>t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){return e.length?e.length.toString():""}createFullType(e){let t=e.type;return e.enum?"varchar":(e.length?t+="("+e.length+")":e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="("+e.precision+","+e.scale+")":e.precision!==null&&e.precision!==void 0&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t)}obtainMasterConnection(){return Promise.resolve()}obtainSlaveConnection(){return Promise.resolve()}createGeneratedMap(e,t,i,r){const s=e.generatedColumns.reduce((o,a)=>{let l;return a.generationStrategy==="increment"&&t&&(l=t-r+i+1),l?ve.mergeDeep(o,a.createValueMap(l)):o},{});return Object.keys(s).length>0?s:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);return r?r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==i.length||r.precision!==i.precision||r.scale!==i.scale||this.normalizeDefault(i)!==r.default||r.isPrimary!==i.isPrimary||r.isNullable!==i.isNullable||r.generatedType!==i.generatedType||r.asExpression!==i.asExpression||r.isUnique!==this.normalizeIsUnique(i)||r.enum&&i.enum&&!ve.isArraysEqual(r.enum,i.enum.map(o=>o+""))||i.generationStrategy!=="uuid"&&r.isGenerated!==i.isGenerated:!1})}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"?"}createDatabaseConnection(){throw new _("Do not use AbstractSqlite directly, it has to be used with one of the sqlite drivers")}loadDependencies(){}}class R{constructor(e,t){this.query=e,this.parameters=t,this["@instanceof"]=Symbol.for("Query")}}class Xc{constructor(){this.upQueries=[],this.downQueries=[]}}class kh{constructor(){this.isReleased=!1,this.isTransactionActive=!1,this.data={},this.loadedTables=[],this.loadedViews=[],this.sqlMemoryMode=!1,this.sqlInMemory=new Xc,this.transactionDepth=0,this.cachedTablePaths={}}async beforeMigration(){}async afterMigration(){}async getTable(e){return this.loadedTables=await this.loadTables([e]),this.loadedTables.length>0?this.loadedTables[0]:void 0}async getTables(e){return e?(this.loadedTables=await this.loadTables(e),this.loadedTables):await this.loadTables(e)}async getView(e){return this.loadedViews=await this.loadViews([e]),this.loadedViews.length>0?this.loadedViews[0]:void 0}async getViews(e){return this.loadedViews=await this.loadViews(e),this.loadedViews}enableSqlMemory(){this.sqlInMemory=new Xc,this.sqlMemoryMode=!0}disableSqlMemory(){this.sqlInMemory=new Xc,this.sqlMemoryMode=!1}clearSqlMemory(){this.sqlInMemory=new Xc}getMemorySql(){return this.sqlInMemory}async executeMemoryUpSql(){for(const{query:e,parameters:t}of this.sqlInMemory.upQueries)await this.query(e,t)}async executeMemoryDownSql(){for(const{query:e,parameters:t}of this.sqlInMemory.downQueries.reverse())await this.query(e,t)}getReplicationMode(){return this.mode}async getCachedView(e){const t=this.loadedViews.find(r=>r.name===e);if(t)return t;const i=await this.loadViews([e]);if(i.length>0)return this.loadedViews.push(i[0]),i[0];throw new _('View "'.concat(e,'" does not exist.'))}async getCachedTable(e){if(e in this.cachedTablePaths){const i=this.cachedTablePaths[e],r=this.loadedTables.find(s=>this.getTablePath(s)===i);if(r)return r}const t=await this.loadTables([e]);if(t.length>0){const i=this.getTablePath(t[0]),r=this.loadedTables.find(s=>this.getTablePath(s)===i);return r||(this.cachedTablePaths[e]=this.getTablePath(t[0]),this.loadedTables.push(t[0]),t[0])}else throw new _('Table "'.concat(e,'" does not exist.'))}replaceCachedTable(e,t){const i=this.getTablePath(e),r=this.loadedTables.find(s=>this.getTablePath(s)===i);for(const[s,o]of Object.entries(this.cachedTablePaths))o===i&&(this.cachedTablePaths[s]=this.getTablePath(t));r&&(r.database=t.database,r.schema=t.schema,r.name=t.name,r.columns=t.columns,r.indices=t.indices,r.foreignKeys=t.foreignKeys,r.uniques=t.uniques,r.checks=t.checks,r.justCreated=t.justCreated,r.engine=t.engine)}getTablePath(e){const t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema,t.database)}getTypeormMetadataTableName(){const e=this.connection.driver.options;return this.connection.driver.buildTableName(this.connection.metadataTableName,e.schema,e.database)}selectTypeormMetadataSql({database:e,schema:t,table:i,type:r,name:s}){const o=this.connection.createQueryBuilder(),a=o.select().from(this.getTypeormMetadataTableName(),"t").where("".concat(o.escape("type")," = :type"),{type:r}).andWhere("".concat(o.escape("name")," = :name"),{name:s});e&&a.andWhere("".concat(o.escape("database")," = :database"),{database:e}),t&&a.andWhere("".concat(o.escape("schema")," = :schema"),{schema:t}),i&&a.andWhere("".concat(o.escape("table")," = :table"),{table:i});const[l,c]=a.getQueryAndParameters();return new R(l,c)}insertTypeormMetadataSql({database:e,schema:t,table:i,type:r,name:s,value:o}){const[a,l]=this.connection.createQueryBuilder().insert().into(this.getTypeormMetadataTableName()).values({database:e,schema:t,table:i,type:r,name:s,value:o}).getQueryAndParameters();return new R(a,l)}deleteTypeormMetadataSql({database:e,schema:t,table:i,type:r,name:s}){const o=this.connection.createQueryBuilder(),a=o.delete().from(this.getTypeormMetadataTableName()).where("".concat(o.escape("type")," = :type"),{type:r}).andWhere("".concat(o.escape("name")," = :name"),{name:s});e&&a.andWhere("".concat(o.escape("database")," = :database"),{database:e}),t&&a.andWhere("".concat(o.escape("schema")," = :schema"),{schema:t}),i&&a.andWhere("".concat(o.escape("table")," = :table"),{table:i});const[l,c]=a.getQueryAndParameters();return new R(l,c)}isColumnChanged(e,t,i,r,s=!0){return e.charset!==t.charset||e.collation!==t.collation||e.precision!==t.precision||e.scale!==t.scale||e.width!==t.width||e.zerofill!==t.zerofill||e.unsigned!==t.unsigned||e.asExpression!==t.asExpression||i&&e.default!==t.default||e.onUpdate!==t.onUpdate||e.isNullable!==t.isNullable||r&&e.comment!==t.comment||s&&this.isEnumChanged(e,t)}isEnumChanged(e,t){return!ve.isArraysEqual(e.enum||[],t.enum||[])}isDefaultColumnLength(e,t,i){if(this.connection.hasMetadata(e.name)){const s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&this.connection.driver.getColumnLength(s))return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].length?this.connection.driver.dataTypeDefaults[t.type].length.toString()===i.toString():!1}isDefaultColumnPrecision(e,t,i){if(this.connection.hasMetadata(e.name)){const s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&s.precision!==null&&s.precision!==void 0)return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].precision!==null&&this.connection.driver.dataTypeDefaults[t.type].precision!==void 0?this.connection.driver.dataTypeDefaults[t.type].precision===i:!1}isDefaultColumnScale(e,t,i){if(this.connection.hasMetadata(e.name)){const s=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(s&&s.scale!==null&&s.scale!==void 0)return!1}return this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].scale!==null&&this.connection.driver.dataTypeDefaults[t.type].scale!==void 0?this.connection.driver.dataTypeDefaults[t.type].scale===i:!1}async executeQueries(e,t){if(U.isQuery(e)&&(e=[e]),U.isQuery(t)&&(t=[t]),this.sqlInMemory.upQueries.push(...e),this.sqlInMemory.downQueries.push(...t),this.sqlMemoryMode===!0)return Promise.resolve();for(const{query:i,parameters:r}of e)await this.query(i,r)}generateIndexName(e,t){return this.connection.namingStrategy.indexName(e,t.columnNames,t.where)}}var Ne;(function(n){n.VIEW="VIEW",n.MATERIALIZED_VIEW="MATERIALIZED_VIEW",n.GENERATED_COLUMN="GENERATED_COLUMN"})(Ne||(Ne={}));class ra extends kh{constructor(){super(),this.transactionPromise=null}connect(){return Promise.resolve(this.driver.databaseConnection)}release(){return this.loadedTables=[],this.clearSqlMemory(),Promise.resolve()}async startTransaction(e){if(this.driver.transactionSupport==="none")throw new _("Transactions aren't supported by ".concat(this.connection.driver.options.type,"."));if(this.isTransactionActive&&this.driver.transactionSupport==="simple")throw new ZB;if(e&&e!=="READ UNCOMMITTED"&&e!=="SERIALIZABLE")throw new _("SQLite only supports SERIALIZABLE and READ UNCOMMITTED isolation");this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?(e&&(e==="READ UNCOMMITTED"?await this.query("PRAGMA read_uncommitted = true"):await this.query("PRAGMA read_uncommitted = false")),await this.query("BEGIN TRANSACTION")):await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new hi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("COMMIT"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new hi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("ROLLBACK"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}stream(e,t,i,r){throw new _("Stream is not supported by sqlite driver.")}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){return Promise.resolve(!1)}async getCurrentDatabase(){return Promise.resolve(void 0)}async hasSchema(e){throw new _("This driver does not support table schemas")}async getCurrentSchema(){return Promise.resolve(void 0)}async hasTable(e){const t=U.isTable(e)?e.name:e,i='SELECT * FROM "sqlite_master" WHERE "type" = \'table\' AND "name" = \''.concat(t,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=U.isTable(e)?e.name:e,r="PRAGMA table_xinfo(".concat(this.escapePath(i),")");return!!(await this.query(r)).find(o=>o.name===t)}async createDatabase(e,t){return Promise.resolve()}async dropDatabase(e,t){return Promise.resolve()}async createSchema(e,t){return Promise.resolve()}async dropSchema(e,t){return Promise.resolve()}async createTable(e,t=!1,i=!0,r=!0){const s=[],o=[];if(t&&await this.hasTable(e))return Promise.resolve();s.push(this.createTableSql(e,i)),o.push(this.dropTableSql(e)),r&&e.indices.forEach(l=>{l.name||(l.name=this.connection.namingStrategy.indexName(e,l.columnNames,l.where)),s.push(this.createIndexSql(e,l)),o.push(this.dropIndexSql(l))});const a=e.columns.filter(l=>l.generatedType&&l.asExpression);for(const l of a){const c=this.insertTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:l.name,value:l.asExpression}),u=this.deleteTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:l.name});s.push(c),o.push(u)}await this.executeQueries(s,o)}async dropTable(e,t,i=!0,r=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const s=i,o=U.isTable(e)?e:await this.getCachedTable(e),a=[],l=[];r&&o.indices.forEach(u=>{a.push(this.dropIndexSql(u)),l.push(this.createIndexSql(o,u))}),a.push(this.dropTableSql(o,t)),l.push(this.createTableSql(o,s));const c=o.columns.filter(u=>u.generatedType&&u.asExpression);for(const u of c){const d=this.deleteTypeormMetadataSql({table:o.name,type:Ne.GENERATED_COLUMN,name:u.name}),h=this.insertTypeormMetadataSql({table:o.name,type:Ne.GENERATED_COLUMN,name:u.name,value:u.asExpression});a.push(d),l.push(h)}await this.executeQueries(a,l)}async createView(e,t=!1){const i=[],r=[];i.push(this.createViewSql(e)),t&&i.push(this.insertViewDefinitionSql(e)),r.push(this.dropViewSql(e)),t&&r.push(this.deleteViewDefinitionSql(e)),await this.executeQueries(i,r)}async dropView(e){const t=U.isView(e)?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone();r.name=t;const s=new R("ALTER TABLE ".concat(this.escapePath(i.name)," RENAME TO ").concat(this.escapePath(t))),o=new R("ALTER TABLE ".concat(this.escapePath(t)," RENAME TO ").concat(this.escapePath(i.name)));await this.executeQueries(s,o),r.uniques.forEach(a=>{const l=this.connection.namingStrategy.uniqueConstraintName(i,a.columnNames);a.name===l&&(a.name=this.connection.namingStrategy.uniqueConstraintName(r,a.columnNames))}),r.foreignKeys.forEach(a=>{const l=this.connection.namingStrategy.foreignKeyName(i,a.columnNames,this.getTablePath(a),a.referencedColumnNames);a.name===l&&(a.name=this.connection.namingStrategy.foreignKeyName(r,a.columnNames,this.getTablePath(a),a.referencedColumnNames))}),r.indices.forEach(a=>{const l=this.connection.namingStrategy.indexName(i,a.columnNames,a.where);a.name===l&&(a.name=this.connection.namingStrategy.indexName(r,a.columnNames,a.where))}),i.name=r.name,await this.recreateTable(r,i)}async addColumn(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e);return this.addColumns(i,[t])}async addColumns(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addColumn(s)),await this.recreateTable(r,i)}async renameColumn(e,t,i){const r=U.isTable(e)?e:await this.getCachedTable(e),s=U.isTableColumn(t)?t:r.columns.find(a=>a.name===t);if(!s)throw new _('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;return U.isTableColumn(i)?o=i:(o=s.clone(),o.name=i),this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=U.isTable(e)?e:await this.getCachedTable(e),s=U.isTableColumn(t)?t:r.columns.find(o=>o.name===t);if(!s)throw new _('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));await this.changeColumns(r,[{oldColumn:s,newColumn:i}])}async changeColumns(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>{s.newColumn.name!==s.oldColumn.name&&(r.findColumnUniques(s.oldColumn).forEach(a=>{const l=this.connection.namingStrategy.uniqueConstraintName(i,a.columnNames);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===l&&(a.name=this.connection.namingStrategy.uniqueConstraintName(r,a.columnNames))}),r.findColumnForeignKeys(s.oldColumn).forEach(a=>{const l=this.connection.namingStrategy.foreignKeyName(i,a.columnNames,this.getTablePath(a),a.referencedColumnNames);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===l&&(a.name=this.connection.namingStrategy.foreignKeyName(r,a.columnNames,this.getTablePath(a),a.referencedColumnNames))}),r.findColumnIndices(s.oldColumn).forEach(a=>{const l=this.connection.namingStrategy.indexName(i,a.columnNames,a.where);a.columnNames.splice(a.columnNames.indexOf(s.oldColumn.name),1),a.columnNames.push(s.newColumn.name),a.name===l&&(a.name=this.connection.namingStrategy.indexName(r,a.columnNames,a.where))}));const o=r.columns.find(a=>a.name===s.oldColumn.name);o&&(r.columns[r.columns.indexOf(o)]=s.newColumn)}),await this.recreateTable(r,i)}async dropColumn(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableColumn(t)?t:i.findColumnByName(t);if(!r)throw new _('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));await this.dropColumns(i,[r])}async dropColumns(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>{const o=U.isTableColumn(s)?s:i.findColumnByName(s);if(!o)throw new Error('Column "'.concat(s,'" was not found in table "').concat(i.name,'"'));r.removeColumn(o),r.findColumnUniques(o).forEach(a=>r.removeUniqueConstraint(a)),r.findColumnIndices(o).forEach(a=>r.removeIndex(a)),r.findColumnForeignKeys(o).forEach(a=>r.removeForeignKey(a))}),await this.recreateTable(r,i)}async createPrimaryKey(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone();r.columns.forEach(s=>{t.find(o=>o===s.name)&&(s.isPrimary=!0)}),await this.recreateTable(r,i),i.columns.forEach(s=>{t.find(o=>o===s.name)&&(s.isPrimary=!0)})}async updatePrimaryKeys(e,t){await Promise.resolve()}async dropPrimaryKey(e){const t=U.isTable(e)?e:await this.getCachedTable(e),i=t.clone();i.primaryColumns.forEach(r=>{r.isPrimary=!1}),await this.recreateTable(i,t),t.primaryColumns.forEach(r=>{r.isPrimary=!1})}async createUniqueConstraint(e,t){await this.createUniqueConstraints(e,[t])}async createUniqueConstraints(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addUniqueConstraint(s)),await this.recreateTable(r,i)}async dropUniqueConstraint(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableUnique(t)?t:i.uniques.find(s=>s.name===t);if(!r)throw new _("Supplied unique constraint was not found in table ".concat(i.name));await this.dropUniqueConstraints(i,[r])}async dropUniqueConstraints(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.removeUniqueConstraint(s)),await this.recreateTable(r,i)}async createCheckConstraint(e,t){await this.createCheckConstraints(e,[t])}async createCheckConstraints(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addCheckConstraint(s)),await this.recreateTable(r,i)}async dropCheckConstraint(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableCheck(t)?t:i.checks.find(s=>s.name===t);if(!r)throw new _("Supplied check constraint was not found in table ".concat(i.name));await this.dropCheckConstraints(i,[r])}async dropCheckConstraints(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.removeCheckConstraint(s)),await this.recreateTable(r,i)}async createExclusionConstraint(e,t){throw new _("Sqlite does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new _("Sqlite does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new _("Sqlite does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new _("Sqlite does not support exclusion constraints.")}async createForeignKey(e,t){await this.createForeignKeys(e,[t])}async createForeignKeys(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.addForeignKey(s)),await this.recreateTable(r,i)}async dropForeignKey(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableForeignKey(t)?t:i.foreignKeys.find(s=>s.name===t);if(!r)throw new _("Supplied foreign key was not found in table ".concat(i.name));await this.dropForeignKeys(e,[r])}async dropForeignKeys(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone();t.forEach(s=>r.removeForeignKey(s)),await this.recreateTable(r,i)}async createIndex(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(t);await this.executeQueries(r,s),i.addIndex(t)}async createIndices(e,t){const i=t.map(r=>this.createIndex(e,r));await Promise.all(i)}async dropIndex(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new _("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropIndices(e,t){const i=t.map(r=>this.dropIndex(e,r));await Promise.all(i)}async clearTable(e){await this.query("DELETE FROM ".concat(this.escapePath(e)))}async clearDatabase(e){let t;e&&this.driver.getAttachedDatabaseHandleByRelativePath(e)&&(t=this.driver.getAttachedDatabaseHandleByRelativePath(e)),await this.query("PRAGMA foreign_keys = OFF");const i=this.isTransactionActive;i||await this.startTransaction();try{const r=t?"SELECT 'DROP VIEW \"".concat(t,'"."\' || name || \'";\' as query FROM "').concat(t,'"."sqlite_master" WHERE "type" = \'view\''):"SELECT 'DROP VIEW \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'view'",s=await this.query(r);await Promise.all(s.map(l=>this.query(l.query)));const o=t?"SELECT 'DROP TABLE \"".concat(t,'"."\' || name || \'";\' as query FROM "').concat(t,'"."sqlite_master" WHERE "type" = \'table\' AND "name" != \'sqlite_sequence\''):"SELECT 'DROP TABLE \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'table' AND \"name\" != 'sqlite_sequence'",a=await this.query(o);await Promise.all(a.map(l=>this.query(l.query))),i||await this.commitTransaction()}catch(r){try{i||await this.rollbackTransaction()}catch(s){}throw r}finally{await this.query("PRAGMA foreign_keys = ON")}}async loadViews(e){if(!await this.hasTable(this.getTypeormMetadataTableName()))return[];e||(e=[]);const i=e.map(o=>"'"+o+"'").join(", ");let r='SELECT "t".* FROM "'.concat(this.getTypeormMetadataTableName(),'" "t" INNER JOIN "sqlite_master" s ON "s"."name" = "t"."name" AND "s"."type" = \'view\' WHERE "t"."type" = \'').concat(Ne.VIEW,"'");return i.length>0&&(r+=' AND "t"."name" IN ('.concat(i,")")),(await this.query(r)).map(o=>{const a=new Tr;return a.name=o.name,a.expression=o.value,a})}async loadTableRecords(e,t){let i;const[r,s]=this.splitTablePath(e);return r&&this.driver.getAttachedDatabasePathRelativeByHandle(r)&&(i=this.driver.getAttachedDatabasePathRelativeByHandle(r)),this.query("SELECT ".concat(i?"'".concat(i,"'"):null," as database, ").concat(r?"'".concat(r,"'"):null," as schema, * FROM ").concat(r?'"'.concat(r,'".'):"").concat(this.escapePath("sqlite_master"),' WHERE "type" = \'').concat(t,"' AND \"").concat(t==="table"?"name":"tbl_name","\" IN ('").concat(s,"')"))}async loadPragmaRecords(e,t){const[,i]=this.splitTablePath(e);return this.query("PRAGMA ".concat(t,'("').concat(i,'")'))}async loadTables(e){if(e&&e.length===0)return[];let t=[],i;if(e){const r=e.filter(a=>a.split(".").length===1).map(a=>"'".concat(a,"'")),s=e.filter(a=>a.split(".").length>1),o=a=>{const l=[...s.map(c=>this.loadTableRecords(c,a))];return r.length&&l.push(this.query('SELECT * FROM "sqlite_master" WHERE "type" = \''.concat(a,"' AND \"").concat(a==="table"?"name":"tbl_name",'" IN (').concat(r,")"))),l};t=(await Promise.all(o("table"))).reduce((a,l)=>[...a,...l],[]).filter(Boolean),i=(await Promise.all(o("index"))).reduce((a,l)=>[...a,...l],[]).filter(Boolean)}else{const r='SELECT * FROM "sqlite_master" WHERE "type" = \'table\'';t.push(...await this.query(r));const s=t.map(({name:o})=>"'".concat(o,"'")).join(", ");i=await this.query('SELECT * FROM "sqlite_master" WHERE "type" = \'index\' AND "tbl_name" IN ('.concat(s,")"))}return t.length===0?[]:Promise.all(t.map(async r=>{const s=r.database&&this.driver.getAttachedDatabaseHandleByRelativePath(r.database)?"".concat(this.driver.getAttachedDatabaseHandleByRelativePath(r.database),".").concat(r.name):r.name,o=r.sql,a=o.includes("WITHOUT ROWID"),l=new mt({name:s,withoutRowid:a}),[c,u,d]=await Promise.all([this.loadPragmaRecords(s,"table_xinfo"),this.loadPragmaRecords(s,"index_list"),this.loadPragmaRecords(s,"foreign_key_list")]);let h;const p=r.sql;let y=p.toUpperCase().indexOf("AUTOINCREMENT");if(y!==-1){h=p.substr(0,y);const k=h.lastIndexOf(","),J=h.lastIndexOf("(");k!==-1?(h=h.substr(k),h=h.substr(0,h.lastIndexOf('"')),h=h.substr(h.indexOf('"')+1)):J!==-1&&(h=h.substr(J),h=h.substr(0,h.lastIndexOf('"')),h=h.substr(h.indexOf('"')+1))}l.columns=await Promise.all(c.map(async k=>{const J=new Nn;if(J.name=k.name,J.type=k.type.toLowerCase(),J.default=k.dflt_value!==null&&k.dflt_value!==void 0?k.dflt_value:void 0,J.isNullable=k.notnull===0,J.isPrimary=k.pk>0,J.comment="",J.isGenerated=h===k.name,J.isGenerated&&(J.generationStrategy="increment"),k.hidden===2||k.hidden===3){J.generatedType=k.hidden===2?"VIRTUAL":"STORED";const ne=await this.selectTypeormMetadataSql({table:l.name,type:Ne.GENERATED_COLUMN,name:J.name}),ue=await this.query(ne.query,ne.parameters);ue[0]&&ue[0].value?J.asExpression=ue[0].value:J.asExpression=""}if(J.type==="varchar"){const ne=o.match(new RegExp('"('+J.name+")\" varchar CHECK\\s*\\(\\s*\"\\1\"\\s+IN\\s*\\(('[^']+'(?:\\s*,\\s*'[^']+')+)\\s*\\)\\s*\\)"));ne&&(J.enum=ne[2].substr(1,ne[2].length-2).split("','"))}let j=J.type.indexOf("(");if(j!==-1){const ne=J.type;let ue=ne.substr(0,j);if(this.driver.withLengthColumnTypes.find(fe=>fe===ue)){let fe=parseInt(ne.substring(j+1,ne.length-1));fe&&(J.length=fe.toString(),J.type=ue)}if(this.driver.withPrecisionColumnTypes.find(fe=>fe===ue)){const fe=new RegExp("^".concat(ue,"\\((\\d+),?\\s?(\\d+)?\\)")),de=ne.match(fe);de&&de[1]&&(J.precision=+de[1]),this.driver.withScaleColumnTypes.find(Z=>Z===ue)&&de&&de[2]&&(J.scale=+de[2]),J.type=ue}}return J}));let v;const S=[],E=/CONSTRAINT "([^"]*)" FOREIGN KEY ?\((.*?)\) REFERENCES "([^"]*)"/g;for(;(v=E.exec(o))!==null;)S.push({name:v[1],columns:v[2].substr(1,v[2].length-2).split('", "'),referencedTableName:v[3]});const w=ve.uniq(d,k=>k.id);l.foreignKeys=w.map(k=>{const J=d.filter(fe=>fe.id===k.id&&fe.table===k.table),j=J.map(fe=>fe.from),ne=J.map(fe=>fe.to),ue=S.find(fe=>fe.referencedTableName===k.table&&fe.columns.every(de=>j.indexOf(de)!==-1));return new li({name:ue==null?void 0:ue.name,columnNames:j,referencedTableName:k.table,referencedColumnNames:ne,onDelete:k.on_delete,onUpdate:k.on_update})});let C;const P=[],q=/CONSTRAINT "([^"]*)" UNIQUE ?\((.*?)\)/g;for(;(C=q.exec(o))!==null;)P.push({name:C[1],columns:C[2].substr(1,C[2].length-2).split('", "')});const H=u.filter(k=>k.origin==="u").map(k=>k.name).filter((k,J,j)=>j.indexOf(k)===J).map(async k=>{const J=u.find(fe=>fe.name===k),ne=(await this.query('PRAGMA index_info("'.concat(J.name,'")'))).sort((fe,de)=>parseInt(fe.seqno)-parseInt(de.seqno)).map(fe=>fe.name);if(ne.length===1){const fe=l.columns.find(de=>!!ne.find(Z=>Z===de.name));fe&&(fe.isUnique=!0)}const ue=P.find(fe=>fe.columns.every(de=>ne.indexOf(de)!==-1));return new dn({name:ue?ue.name:this.connection.namingStrategy.uniqueConstraintName(l,ne),columnNames:ne})});l.uniques=await Promise.all(H);let L;const M=/CONSTRAINT "([^"]*)" CHECK ?(\(.*?\))([,]|[)]$)/g;for(;(L=M.exec(o))!==null;)l.checks.push(new Ii({name:L[1],expression:L[2]}));const O=u.filter(k=>k.origin==="c").map(k=>k.name).filter((k,J,j)=>j.indexOf(k)===J).map(async k=>{const J=i.find(ie=>ie.name===k),j=/WHERE (.*)/.exec(J.sql),ne=u.find(ie=>ie.name===k),fe=(await this.query('PRAGMA index_info("'.concat(ne.name,'")'))).sort((ie,B)=>parseInt(ie.seqno)-parseInt(B.seqno)).map(ie=>ie.name),de="".concat(r.database?"".concat(r.database,"."):"").concat(ne.name),Z=ne.unique==="1"||ne.unique===1;return new St({table:l,name:de,columnNames:fe,isUnique:Z,where:j?j[1]:void 0})}),Q=await Promise.all(O);return l.indices=Q.filter(k=>!!k),l}))}createTableSql(e,t,i){const r=e.columns.filter(p=>p.isPrimary),s=r.find(p=>p.isGenerated&&p.generationStrategy==="increment"),o=r.length>1;if(o&&s)throw new _("Sqlite does not support AUTOINCREMENT on composite primary key");const a=e.columns.map(p=>this.buildCreateColumnSql(p,o)).join(", "),[l]=this.splitTablePath(e.name);let c="CREATE TABLE ".concat(this.escapePath(e.name)," (").concat(a),[u,d]=this.splitTablePath(e.name);const h=i?"".concat(u?"".concat(u,"."):"").concat(d.replace(/^temporary_/,"")):e.name;if(e.columns.filter(p=>p.isUnique).forEach(p=>{e.uniques.some(v=>v.columnNames.length===1&&v.columnNames[0]===p.name)||e.uniques.push(new dn({name:this.connection.namingStrategy.uniqueConstraintName(e,[p.name]),columnNames:[p.name]}))}),e.uniques.length>0){const p=e.uniques.map(y=>{const v=y.name?y.name:this.connection.namingStrategy.uniqueConstraintName(h,y.columnNames),S=y.columnNames.map(E=>'"'.concat(E,'"')).join(", ");return'CONSTRAINT "'.concat(v,'" UNIQUE (').concat(S,")")}).join(", ");c+=", ".concat(p)}if(e.checks.length>0){const p=e.checks.map(y=>{const v=y.name?y.name:this.connection.namingStrategy.checkConstraintName(h,y.expression);return'CONSTRAINT "'.concat(v,'" CHECK (').concat(y.expression,")")}).join(", ");c+=", ".concat(p)}if(e.foreignKeys.length>0&&t){const p=e.foreignKeys.filter(y=>{const[v]=this.splitTablePath(y.referencedTableName);return v===l}).map(y=>{const[,v]=this.splitTablePath(y.referencedTableName),S=y.columnNames.map(C=>'"'.concat(C,'"')).join(", ");y.name||(y.name=this.connection.namingStrategy.foreignKeyName(h,y.columnNames,this.getTablePath(y),y.referencedColumnNames));const E=y.referencedColumnNames.map(C=>'"'.concat(C,'"')).join(", ");let w='CONSTRAINT "'.concat(y.name,'" FOREIGN KEY (').concat(S,') REFERENCES "').concat(v,'" (').concat(E,")");return y.onDelete&&(w+=" ON DELETE ".concat(y.onDelete)),y.onUpdate&&(w+=" ON UPDATE ".concat(y.onUpdate)),y.deferrable&&(w+=" DEFERRABLE ".concat(y.deferrable)),w}).join(", ");c+=", ".concat(p)}if(r.length>1){const p=r.map(y=>'"'.concat(y.name,'"')).join(", ");c+=", PRIMARY KEY (".concat(p,")")}return c+=")",e.withoutRowid&&(c+=" WITHOUT ROWID"),new R(c)}dropTableSql(e,t){const i=U.isTable(e)?e.name:e,r=t?"DROP TABLE IF EXISTS ".concat(this.escapePath(i)):"DROP TABLE ".concat(this.escapePath(i));return new R(r)}createViewSql(e){return typeof e.expression=="string"?new R('CREATE VIEW "'.concat(e.name,'" AS ').concat(e.expression)):new R('CREATE VIEW "'.concat(e.name,'" AS ').concat(e.expression(this.connection).getQuery()))}insertViewDefinitionSql(e){const t=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:Ne.VIEW,name:e.name,value:t})}dropViewSql(e){const t=U.isView(e)?e.name:e;return new R('DROP VIEW "'.concat(t,'"'))}deleteViewDefinitionSql(e){const t=U.isView(e)?e.name:e;return this.deleteTypeormMetadataSql({type:Ne.VIEW,name:t})}createIndexSql(e,t){const i=t.columnNames.map(o=>'"'.concat(o,'"')).join(", "),[r,s]=this.splitTablePath(e.name);return new R("CREATE ".concat(t.isUnique?"UNIQUE ":"","INDEX ").concat(r?'"'.concat(r,'".'):"").concat(this.escapePath(t.name),' ON "').concat(s,'" (').concat(i,") ").concat(t.where?"WHERE "+t.where:""))}dropIndexSql(e){let t=U.isTableIndex(e)?e.name:e;return new R("DROP INDEX ".concat(this.escapePath(t)))}buildCreateColumnSql(e,t){let i='"'+e.name+'"';return U.isColumnMetadata(e)?i+=" "+this.driver.normalizeType(e):i+=" "+this.connection.driver.createFullType(e),e.enum&&(i+=' CHECK( "'+e.name+'" IN ('+e.enum.map(r=>"'"+r+"'").join(",")+") )"),e.isPrimary&&!t&&(i+=" PRIMARY KEY"),e.isGenerated===!0&&e.generationStrategy==="increment"&&(i+=" AUTOINCREMENT"),e.collation&&(i+=" COLLATE "+e.collation),e.isNullable!==!0&&(i+=" NOT NULL"),e.asExpression?i+=" AS (".concat(e.asExpression,") ").concat(e.generatedType?e.generatedType:"VIRTUAL"):e.default!==void 0&&e.default!==null&&(i+=" DEFAULT ("+e.default+")"),i}async recreateTable(e,t,i=!0){const r=[],s=[];t.indices.forEach(c=>{r.push(this.dropIndexSql(c)),s.push(this.createIndexSql(t,c))});let[o,a]=this.splitTablePath(e.name),[,l]=this.splitTablePath(t.name);if(e.name=a="".concat(o?"".concat(o,"."):"","temporary_").concat(a),r.push(this.createTableSql(e,!0,!0)),s.push(this.dropTableSql(e)),i){let c=e.columns.filter(d=>!d.generatedType).map(d=>'"'.concat(d.name,'"')),u=t.columns.filter(d=>!d.generatedType).map(d=>'"'.concat(d.name,'"'));u.length<c.length?c=e.columns.filter(d=>{const h=t.columns.find(p=>p.name===d.name);return h&&h.generatedType?!1:!d.generatedType&&h}).map(d=>'"'.concat(d.name,'"')):u.length>c.length&&(u=t.columns.filter(d=>!d.generatedType&&e.columns.find(h=>h.name===d.name)).map(d=>'"'.concat(d.name,'"'))),r.push(new R("INSERT INTO ".concat(this.escapePath(e.name),"(").concat(c.join(", "),") SELECT ").concat(u.join(", ")," FROM ").concat(this.escapePath(t.name)))),s.push(new R("INSERT INTO ".concat(this.escapePath(t.name),"(").concat(u.join(", "),") SELECT ").concat(c.join(", ")," FROM ").concat(this.escapePath(e.name))))}r.push(this.dropTableSql(t)),s.push(this.createTableSql(t,!0)),r.push(new R("ALTER TABLE ".concat(this.escapePath(e.name)," RENAME TO ").concat(this.escapePath(l)))),s.push(new R("ALTER TABLE ".concat(this.escapePath(t.name)," RENAME TO ").concat(this.escapePath(a)))),e.name=t.name,e.indices.forEach(c=>{c.name||(c.name=this.connection.namingStrategy.indexName(e,c.columnNames,c.where)),r.push(this.createIndexSql(e,c)),s.push(this.dropIndexSql(c))}),t.columns.filter(c=>{const u=e.columns.find(d=>d.name===c.name);return c.generatedType&&c.asExpression&&(!u||!u.generatedType&&!u.asExpression)}).forEach(c=>{const u=this.deleteTypeormMetadataSql({table:t.name,type:Ne.GENERATED_COLUMN,name:c.name}),d=this.insertTypeormMetadataSql({table:t.name,type:Ne.GENERATED_COLUMN,name:c.name,value:c.asExpression});r.push(u),s.push(d)}),e.columns.filter(c=>c.generatedType&&c.asExpression&&!t.columns.some(u=>u.name===c.name)).forEach(c=>{const u=this.insertTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:c.name,value:c.asExpression}),d=this.deleteTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:c.name});r.push(u),s.push(d)}),e.columns.filter(c=>c.generatedType&&c.asExpression).forEach(c=>{const u=t.columns.find(v=>v.name===c.name&&v.generatedType&&c.generatedType&&v.asExpression!==c.asExpression);if(!u)return;const d=this.deleteTypeormMetadataSql({table:t.name,type:Ne.GENERATED_COLUMN,name:u.name}),h=this.insertTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:c.name,value:c.asExpression});r.push(d),r.push(h);const p=this.insertTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:u.name,value:u.asExpression}),y=this.deleteTypeormMetadataSql({table:t.name,type:Ne.GENERATED_COLUMN,name:c.name});s.push(p),s.push(y)}),await this.executeQueries(r,s),this.replaceCachedTable(t,e)}splitTablePath(e){return e.indexOf(".")!==-1?e.split("."):[void 0,e]}escapePath(e,t){return(U.isTable(e)||U.isView(e)?e.name:e).replace(/^\.+|\.+$/g,"").split(".").map(r=>t?r:'"'.concat(r,'"')).join(".")}}class Nr{constructor(e){this.queryRunner=e}async broadcast(e,...t){const i=new Nm,r=this["broadcast".concat(e,"Event")];typeof r=="function"&&r.call(this,i,...t),await i.wait()}broadcastBeforeInsertEvent(e,t,i){i&&t.beforeInsertListeners.length&&t.beforeInsertListeners.forEach(r=>{if(r.isAllowed(i)){const s=r.execute(i);s instanceof Promise&&e.promises.push(s),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(r=>{if(this.isAllowedSubscriber(r,t.target)&&r.beforeInsert){const s=r.beforeInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t});s instanceof Promise&&e.promises.push(s),e.count++}})}broadcastBeforeUpdateEvent(e,t,i,r,s,o){i&&t.beforeUpdateListeners.length&&t.beforeUpdateListeners.forEach(a=>{if(a.isAllowed(i)){const l=a.execute(i);l instanceof Promise&&e.promises.push(l),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(a=>{if(this.isAllowedSubscriber(a,t.target)&&a.beforeUpdate){const l=a.beforeUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,updatedColumns:s||[],updatedRelations:o||[]});l instanceof Promise&&e.promises.push(l),e.count++}})}broadcastBeforeRemoveEvent(e,t,i,r,s){i&&t.beforeRemoveListeners.length&&t.beforeRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.beforeRemove){const a=o.beforeRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastBeforeSoftRemoveEvent(e,t,i,r,s){i&&t.beforeSoftRemoveListeners.length&&t.beforeSoftRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.beforeSoftRemove){const a=o.beforeSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastBeforeRecoverEvent(e,t,i,r,s){i&&t.beforeRecoverListeners.length&&t.beforeRecoverListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.beforeRecover){const a=o.beforeRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastAfterInsertEvent(e,t,i){i&&t.afterInsertListeners.length&&t.afterInsertListeners.forEach(r=>{if(r.isAllowed(i)){const s=r.execute(i);s instanceof Promise&&e.promises.push(s),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(r=>{if(this.isAllowedSubscriber(r,t.target)&&r.afterInsert){const s=r.afterInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t});s instanceof Promise&&e.promises.push(s),e.count++}})}broadcastBeforeTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionStart){const i=t.beforeTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionStart){const i=t.afterTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastBeforeTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionCommit){const i=t.beforeTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionCommit){const i=t.afterTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastBeforeTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.beforeTransactionRollback){const i=t.beforeTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(t=>{if(t.afterTransactionRollback){const i=t.afterTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}})}broadcastAfterUpdateEvent(e,t,i,r,s,o){i&&t.afterUpdateListeners.length&&t.afterUpdateListeners.forEach(a=>{if(a.isAllowed(i)){const l=a.execute(i);l instanceof Promise&&e.promises.push(l),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(a=>{if(this.isAllowedSubscriber(a,t.target)&&a.afterUpdate){const l=a.afterUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,updatedColumns:s||[],updatedRelations:o||[]});l instanceof Promise&&e.promises.push(l),e.count++}})}broadcastAfterRemoveEvent(e,t,i,r,s){i&&t.afterRemoveListeners.length&&t.afterRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.afterRemove){const a=o.afterRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastAfterSoftRemoveEvent(e,t,i,r,s){i&&t.afterSoftRemoveListeners.length&&t.afterSoftRemoveListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.afterSoftRemove){const a=o.afterSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastAfterRecoverEvent(e,t,i,r,s){i&&t.afterRecoverListeners.length&&t.afterRecoverListeners.forEach(o=>{if(o.isAllowed(i)){const a=o.execute(i);a instanceof Promise&&e.promises.push(a),e.count++}}),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach(o=>{if(this.isAllowedSubscriber(o,t.target)&&o.afterRecover){const a=o.afterRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:r,entityId:t.getEntityIdMixedMap(r!=null?r:s)});a instanceof Promise&&e.promises.push(a),e.count++}})}broadcastLoadEventsForAll(e,t,i){return this.broadcastLoadEvent(e,t,i)}broadcastLoadEvent(e,t,i){const r=this.queryRunner.connection.subscribers.filter(s=>this.isAllowedSubscriber(s,t.target)&&s.afterLoad);if(t.relations.length||t.afterLoadListeners.length||r.length){const s=i.filter(o=>!(o instanceof Promise));t.relations.length&&t.relations.forEach(o=>{s.forEach(a=>{if(o.isLazy&&!a.hasOwnProperty(o.propertyName))return;const l=o.getEntityValue(a);Be.isObject(l)&&this.broadcastLoadEvent(e,o.inverseEntityMetadata,Array.isArray(l)?l:[l])})}),t.afterLoadListeners.length&&t.afterLoadListeners.forEach(o=>{s.forEach(a=>{if(o.isAllowed(a)){const l=o.execute(a);l instanceof Promise&&e.promises.push(l),e.count++}})}),r.forEach(o=>{s.forEach(a=>{const l=o.afterLoad(a,{entity:a,metadata:t,connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});l instanceof Promise&&e.promises.push(l),e.count++})})}}isAllowedSubscriber(e,t){return!e.listenTo||!e.listenTo()||e.listenTo()===Object||e.listenTo()===t||e.listenTo().isPrototypeOf(t)}}class er{constructor(){this.records=[]}}class a6 extends ra{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Nr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const s=+new Date;try{const o=await new Promise(async(d,h)=>{r.executeSql(e,t,p=>d(p),p=>h(p))}),a=this.driver.options.maxQueryExecutionTime,c=+new Date-s;a&&c>a&&this.driver.connection.logger.logQuerySlow(c,e,t,this);const u=new er;if(e.substr(0,11)==="INSERT INTO")u.raw=o.insertId;else{let d=[];for(let h=0;h<o.rows.length;h++)d.push(o.rows.item(h));u.records=d,u.raw=d}return i?u:u.raw}catch(o){throw this.driver.connection.logger.logQueryError(o,e,t,this),new Ji(e,t,o)}}async startTransaction(){throw new _("Transactions are not supported by the Cordova driver")}async commitTransaction(){throw new _("Transactions are not supported by the Cordova driver")}async rollbackTransaction(){throw new _("Transactions are not supported by the Cordova driver")}async clearDatabase(){await this.query("PRAGMA foreign_keys = OFF");try{const e="SELECT 'DROP VIEW \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'view'",t=await this.query(e),i="SELECT 'DROP TABLE \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'table' AND \"name\" != 'sqlite_sequence'",r=await this.query(i);await Promise.all(t.map(s=>this.query(s.query))),await Promise.all(r.map(s=>this.query(s.query)))}finally{await this.query("PRAGMA foreign_keys = ON")}}parametrize(e,t=0){return Object.keys(e).map((i,r)=>'"'.concat(i,'"')+"=?")}}class l6 extends Zl{constructor(e){super(e),this.transactionSupport="none",this.database=this.options.database,this.loadDependencies()}async disconnect(){return this.queryRunner=void 0,new Promise((e,t)=>{this.databaseConnection.close(e,t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new a6(this)),this.queryRunner}async createDatabaseConnection(){const e=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{}),t=await new Promise(i=>{this.sqlite.openDatabase(e,r=>i(r))});return await new Promise((i,r)=>{t.executeSql("PRAGMA foreign_keys = ON",[],()=>i(),s=>r(s))}),t}loadDependencies(){try{const e=this.options.driver||window.sqlitePlugin;this.sqlite=e}catch(e){throw new ia("Cordova-SQLite","cordova-sqlite-storage")}}}class c6 extends ra{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Nr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}query(e,t,i=!1){if(this.isReleased)throw new wn;return new Promise(async(r,s)=>{const o=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const a=+new Date;o.executeSql(e,t,l=>{const c=this.driver.options.maxQueryExecutionTime,d=+new Date-a;c&&d>c&&this.driver.connection.logger.logQuerySlow(d,e,t,this);const h=new er;if(l!=null&&l.hasOwnProperty("rowsAffected")&&(h.affected=l.rowsAffected),l!=null&&l.hasOwnProperty("rows")){let p=[];for(let y=0;y<l.rows.length;y++)p.push(l.rows.item(y));h.raw=p,h.records=p}e.substr(0,11)==="INSERT INTO"&&(h.raw=l.insertId),r(i?h:h.raw)},l=>{this.driver.connection.logger.logQueryError(l,e,t,this),s(new Ji(e,t,l))})})}parametrize(e,t=0){return Object.keys(e).map((i,r)=>'"'.concat(i,'"')+"=?")}}class u6{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["int","integer","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8","integer","character","varchar","varying character","nchar","native character","nvarchar","text","clob","text","blob","real","double","double precision","float","real","numeric","decimal","boolean","date","time","datetime"],this.supportedUpsertTypes=["on-conflict-do-update"],this.withLengthColumnTypes=["character","varchar","varying character","nchar","native character","nvarchar","text","blob","clob"],this.spatialTypes=[],this.withPrecisionColumnTypes=["real","double","double precision","float","real","numeric","decimal","date","time","datetime"],this.withScaleColumnTypes=["real","double","double precision","float","real","numeric","decimal"],this.mappedDataTypes={createDate:"datetime",createDateDefault:"datetime('now')",updateDate:"datetime",updateDateDefault:"datetime('now')",deleteDate:"datetime",deleteDateNullable:!0,version:"integer",treeLevel:"integer",migrationId:"integer",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.cteCapabilities={enabled:!0,requiresRecursiveHint:!0},this.attachedDatabases={},this.connection=e,this.options=e.options,this.database=this.options.database,this.loadDependencies()}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new c6(this)),this.queryRunner}async connect(){this.databaseConnection=await this.createDatabaseConnection()}afterConnect(){return Promise.resolve()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close(e,t)})}hasAttachedDatabases(){return!!Object.keys(this.attachedDatabases).length}getAttachedDatabaseHandleByRelativePath(e){var t,i;return(i=(t=this.attachedDatabases)===null||t===void 0?void 0:t[e])===null||i===void 0?void 0:i.attachHandle}getAttachedDatabasePathRelativeByHandle(e){var t;return(t=Object.values(this.attachedDatabases).find(({attachHandle:i})=>e===i))===null||t===void 0?void 0:t.attachFilepathRelative}createSchemaBuilder(){return new Ah(this.connection)}preparePersistentValue(e,t){return t.transformer&&(e=Ut.transformTo(t.transformer,e)),e==null?e:t.type===Boolean||t.type==="boolean"?e===!0?1:0:t.type==="date"?Ae.mixedDateToDateString(e):t.type==="time"?Ae.mixedDateToTimeString(e):t.type==="datetime"||t.type===Date?Ae.mixedDateToUtcDatetimeString(e):t.type==="simple-array"?Ae.simpleArrayToString(e):t.type==="simple-json"?Ae.simpleJsonToString(e):t.type==="simple-enum"?Ae.simpleEnumToString(e):e}prepareHydratedValue(e,t){return e==null?t.transformer?Ut.transformFrom(t.transformer,e):e:(t.type===Boolean||t.type==="boolean"?e=!!e:t.type==="datetime"||t.type===Date?(e&&typeof e=="string"&&(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d/.test(e)&&(e=e.replace(" ","T")),/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d(:\d\d(\.\d\d\d)?)?$/.test(e)&&(e+="Z")),e=Ae.normalizeHydratedDate(e)):t.type==="date"?e=Ae.mixedDateToDateString(e):t.type==="time"?e=Ae.mixedTimeToString(e):t.type==="simple-array"?e=Ae.stringToSimpleArray(e):t.type==="simple-json"?e=Ae.stringToSimpleJson(e):t.type==="simple-enum"?e=Ae.stringToSimpleEnum(e,t):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=Ut.transformFrom(t.transformer,e)),e)}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>typeof i[s]=="boolean"?i[s]===!0?1:0:i[s]instanceof Date?Ae.mixedDateToUtcDatetimeString(i[s]):i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):typeof l=="function"?l():typeof l=="number"?String(l):typeof l=="boolean"?(r.push(+l),this.createParameter(a,r.length-1)):l instanceof Date?(r.push(Ae.mixedDateToUtcDatetimeString(l)),this.createParameter(a,r.length-1)):(r.push(l),this.createParameter(a,r.length-1))}),[e,r])}escape(e){return'"'+e+'"'}buildTableName(e,t,i){return e}parseTableName(e){var t;const i=this.database,r=void 0;if(U.isTable(e)||U.isView(e)){const o=this.parseTableName(e.schema?'"'.concat(e.schema,'"."').concat(e.name,'"'):e.name);return{database:e.database||o.database||i,schema:e.schema||o.schema||r,tableName:o.tableName}}if(U.isTableForeignKey(e)){const o=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||o.database||i,schema:e.referencedSchema||o.schema||r,tableName:o.tableName}}if(U.isEntityMetadata(e))return{database:e.database||i,schema:e.schema||r,tableName:e.tableName};const s=e.split(".");return s.length===3?{database:s[0]||i,schema:s[1]||r,tableName:s[2]}:s.length===2?{database:(t=this.getAttachedDatabasePathRelativeByHandle(s[0]))!==null&&t!==void 0?t:i,schema:s[0],tableName:s[1]}:{database:i,schema:r,tableName:e}}normalizeType(e){return e.type===Number||e.type==="int"?"integer":e.type===String?"varchar":e.type===Date?"datetime":e.type===Boolean?"boolean":e.type==="uuid"?"varchar":e.type==="simple-array"||e.type==="simple-json"?"text":e.type==="simple-enum"?"varchar":e.type||""}normalizeDefault(e){const t=e.default;if(typeof t=="number")return""+t;if(typeof t=="boolean")return t?"1":"0";if(typeof t=="function")return t();if(typeof t=="string")return"'".concat(t,"'");if(t!=null)return"".concat(t)}normalizeIsUnique(e){return e.entityMetadata.uniques.some(t=>t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){return e.length?e.length.toString():""}createFullType(e){let t=e.type;return e.enum?"varchar":(e.length?t+="("+e.length+")":e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="("+e.precision+","+e.scale+")":e.precision!==null&&e.precision!==void 0&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t)}obtainMasterConnection(){return Promise.resolve()}obtainSlaveConnection(){return Promise.resolve()}createGeneratedMap(e,t,i,r){const s=e.generatedColumns.reduce((o,a)=>{let l;return a.generationStrategy==="increment"&&t&&(l=t-r+i+1),l?ve.mergeDeep(o,a.createValueMap(l)):o},{});return Object.keys(s).length>0?s:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);return r?r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==i.length||r.precision!==i.precision||r.scale!==i.scale||this.normalizeDefault(i)!==r.default||r.isPrimary!==i.isPrimary||r.isNullable!==i.isNullable||r.generatedType!==i.generatedType||r.asExpression!==i.asExpression||r.isUnique!==this.normalizeIsUnique(i)||r.enum&&i.enum&&!ve.isArraysEqual(r.enum,i.enum.map(o=>o+""))||i.generationStrategy!=="uuid"&&r.isGenerated!==i.isGenerated:!1})}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"?"}createDatabaseConnection(){return new Promise((e,t)=>{const i=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{});this.sqlite.openDatabase(i,r=>{const s=r;s.executeSql("PRAGMA foreign_keys = ON",[],o=>{e(s)},o=>{t(o)})},r=>{t(r)})})}loadDependencies(){try{const e=this.options.driver||require("react-native-sqlite-storage");this.sqlite=e}catch(e){throw new ia("React-Native","react-native-sqlite-storage")}}}class d6 extends ra{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Nr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=this.driver.connection;return new Promise(async(s,o)=>{const a=await this.connect(),l=e.substr(0,11)==="INSERT INTO";r.logger.logQuery(e,t,this);const c=(d,h)=>{const p=this.driver.options.maxQueryExecutionTime,v=+new Date-u;p&&v>p&&r.logger.logQuerySlow(v,e,t,this),d&&(r.logger.logQueryError(d,e,t,this),o(new Ji(e,t,d)));const S=new er;S.raw=h,!l&&Array.isArray(h)&&(S.records=h),s(i?S:S.raw)},u=+new Date;l?a.execSQL(e,t,c):a.all(e,t,c)})}parametrize(e,t=0){return Object.keys(e).map((i,r)=>'"'.concat(i,'"')+"=?")}}class h6 extends Zl{constructor(e){super(e),this.connection=e,this.options=e.options,this.database=this.options.database,this.driver=this.options.driver,this.loadDependencies()}async disconnect(){return new Promise((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close().then(e).catch(t)})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new d6(this)),this.queryRunner}normalizeType(e){return e.type===Buffer?"blob":super.normalizeType(e)}createDatabaseConnection(){return new Promise((e,t)=>{const i=Object.assign({},{readOnly:this.options.readOnly,key:this.options.key,multithreading:this.options.multithreading,migrate:this.options.migrate,iosFlags:this.options.iosFlags,androidFlags:this.options.androidFlags},this.options.extra||{});new this.sqlite(this.options.database,i,(r,s)=>{if(r)return t(r);s.resultType(this.sqlite.RESULTSASOBJECT),s.execSQL("PRAGMA foreign_keys = ON",[],(o,a)=>{if(o)return t(o);e(s)})})})}loadDependencies(){if(this.sqlite=this.driver,!this.driver)throw new ia("Nativescript","nativescript-sqlite")}}class p6 extends ra{constructor(e){super(),this.isDirty=!1,this.driver=e,this.connection=e.connection,this.broadcaster=new Nr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async flush(){this.isDirty&&(await this.driver.autoSave(),this.isDirty=!1)}async release(){return await this.flush(),super.release()}async commitTransaction(){await super.commitTransaction(),this.isTransactionActive||await this.flush()}async query(e,t=[],i=!1){if(this.isReleased)throw new wn;const r=e.trim().split(" ",1)[0],s=this.driver.databaseConnection;this.driver.connection.logger.logQuery(e,t,this);const o=+new Date;let a;try{a=s.prepare(e),t&&(t=t.map(p=>typeof p<"u"?p:null),a.bind(t));const l=this.driver.options.maxQueryExecutionTime,u=+new Date-o;l&&u>l&&this.driver.connection.logger.logQuerySlow(u,e,t,this);const d=[];for(;a.step();)d.push(a.getAsObject());const h=new er;return h.affected=s.getRowsModified(),h.records=d,h.raw=d,a.free(),r!=="SELECT"&&(this.isDirty=!0),i?h:h.raw}catch(l){throw a&&a.free(),this.driver.connection.logger.logQueryError(l,e,t,this),new Ji(e,t,l)}}}class f6 extends Zl{constructor(e){if(super(e),this.options.autoSave&&!this.options.location&&!this.options.autoSaveCallback)throw new l3("location or autoSaveCallback");this.loadDependencies()}async connect(){this.databaseConnection=await this.createDatabaseConnection()}async disconnect(){this.queryRunner=void 0,this.databaseConnection.close()}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new p6(this)),this.queryRunner}async load(e,t=!0){if(typeof e=="string")if(lt.type==="node")if(lt.fileExist(e)){const i=lt.readFileSync(e);return this.createDatabaseConnectionWithImport(i)}else{if(t)throw new _("File ".concat(e," does not exist"));return this.createDatabaseConnectionWithImport()}else{let i=null;if(this.options.useLocalForage)if(window.localforage)i=await window.localforage.getItem(e);else throw new _("localforage is not defined - please import localforage.js into your site");else i=lt.getGlobalVariable().localStorage.getItem(e);if(i!=null)return this.createDatabaseConnectionWithImport(JSON.parse(i));if(t)throw new _("File ".concat(e," does not exist"));return this.createDatabaseConnectionWithImport()}else return this.createDatabaseConnectionWithImport(e)}async save(e){if(!e&&!this.options.location)throw new _("No location is set, specify a location parameter or add the location option to your configuration");let t="";if(e?t=e:this.options.location&&(t=this.options.location),lt.type==="node")try{const i=Buffer.from(this.databaseConnection.export());await lt.writeFile(t,i)}catch(i){throw new _("Could not save database, error: ".concat(i))}else{const i=this.databaseConnection.export(),r=[].slice.call(i);if(this.options.useLocalForage)if(window.localforage)await window.localforage.setItem(t,JSON.stringify(r));else throw new _("localforage is not defined - please import localforage.js into your site");else lt.getGlobalVariable().localStorage.setItem(t,JSON.stringify(r))}}async autoSave(){var e;this.options.autoSave&&!(!((e=this.queryRunner)===null||e===void 0)&&e.isTransactionActive)&&(this.options.autoSaveCallback?await this.options.autoSaveCallback(this.export()):await this.save())}export(){return this.databaseConnection.export()}createGeneratedMap(e,t){const i=e.generatedColumns.reduce((r,s)=>{if(s.isPrimary&&s.generationStrategy==="increment"){const o="SELECT last_insert_rowid()";try{let a=this.databaseConnection.exec(o);return this.connection.logger.logQuery(o),ve.mergeDeep(r,s.createValueMap(a[0].values[0][0]))}catch(a){this.connection.logger.logQueryError(a,o,[])}}return r},{});return Object.keys(i).length>0?i:void 0}createDatabaseConnection(){return this.options.location?this.load(this.options.location,!1):this.createDatabaseConnectionWithImport(this.options.database)}async createDatabaseConnectionWithImport(e){const i=typeof this.sqlite.Database=="function"?this.sqlite:await this.sqlite(this.options.sqlJsConfig);return e&&e.length>0?this.databaseConnection=new i.Database(e):this.databaseConnection=new i.Database,this.databaseConnection.exec("PRAGMA foreign_keys = ON"),this.databaseConnection}loadDependencies(){if(lt.type==="browser"){const e=this.options.driver||window.SQL;this.sqlite=e}else try{const e=this.options.driver||lt.load("sql.js");this.sqlite=e}catch(e){throw new ia("sql.js","sql.js")}}}class m6 extends ra{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Nr(this)}async startTransaction(){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(e){throw this.isTransactionActive=!1,e}this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive&&typeof this.transaction>"u")throw new hi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transaction=void 0,this.isTransactionActive=!1,this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive&&typeof this.transaction>"u")throw new hi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transaction=void 0,this.isTransactionActive=!1,this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async beforeMigration(){const e=await this.connect();return new Promise((t,i)=>{e.exec([{sql:"PRAGMA foreign_keys = OFF",args:[]}],!1,r=>r?i(r):t())})}async afterMigration(){const e=await this.connect();return new Promise((t,i)=>{e.exec([{sql:"PRAGMA foreign_keys = ON",args:[]}],!1,r=>r?i(r):t())})}async query(e,t,i=!1){if(this.isReleased)throw new wn;return new Promise(async(r,s)=>{const o=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const a=+new Date;o.transaction(async l=>{typeof this.transaction>"u"&&(await this.startTransaction(),this.transaction=l),this.transaction.executeSql(e,t,(c,u)=>{const d=this.driver.options.maxQueryExecutionTime,p=+new Date-a;d&&p>d&&this.driver.connection.logger.logQuerySlow(p,e,t,this);const y=new er;if(u!=null&&u.hasOwnProperty("rowsAffected")&&(y.affected=u.rowsAffected),u!=null&&u.hasOwnProperty("rows")){let v=[];for(let S=0;S<u.rows.length;S++)v.push(u.rows.item(S));y.raw=v,y.records=v}e.startsWith("INSERT INTO")&&(y.raw=u.insertId),r(i?y:y.raw)},(c,u)=>{this.driver.connection.logger.logQueryError(u,e,t,this),s(new Ji(e,t,u))})},async l=>{await this.rollbackTransaction(),s(l)},()=>{this.isTransactionActive=!1,this.transaction=void 0})})}}class g6 extends Zl{constructor(e){super(e),this.database=this.options.database,this.sqlite=this.options.driver}async disconnect(){return new Promise((e,t)=>{try{this.queryRunner=void 0,this.databaseConnection._db.close(),this.databaseConnection=void 0,e()}catch(i){t(i)}})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new m6(this)),this.queryRunner}createDatabaseConnection(){return new Promise((e,t)=>{try{const i=this.sqlite.openDatabase(this.options.database);i.transaction(r=>{r.executeSql("PRAGMA foreign_keys = ON",[],(s,o)=>{e(i)},(s,o)=>{t({transaction:s,error:o})})},r=>{t(r)})}catch(i){t(i)}})}}class y6 extends kh{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.client=t,this.broadcaster=new Nr(this)}async connect(){return{}}release(){return this.isReleased=!0,this.databaseConnection&&this.databaseConnection.release(),Promise.resolve()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?await this.client.startTransaction():await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new hi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.commitTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new hi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.rollbackTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=await this.client.query(e,t),s=new er;return s.raw=r,r!=null&&r.hasOwnProperty("records")&&Array.isArray(r.records)&&(s.records=r.records),r!=null&&r.hasOwnProperty("numberOfRecordsUpdated")&&(s.affected=r.numberOfRecordsUpdated),i?s:s.raw}stream(e,t,i,r){if(this.isReleased)throw new wn;return new Promise(async(s,o)=>{try{const l=(await this.connect()).query(e,t);i&&l.on("end",i),r&&l.on("error",r),s(l)}catch(a){o(a)}})}async getDatabases(){return Promise.resolve([])}async getSchemas(e){throw new _("MySql driver does not support table schemas")}async hasDatabase(e){return!!(await this.query("SELECT * FROM `INFORMATION_SCHEMA`.`SCHEMATA` WHERE `SCHEMA_NAME` = '".concat(e,"'"))).length}async getCurrentDatabase(){return(await this.query("SELECT DATABASE() AS `db_name`"))[0].db_name}async hasSchema(e){throw new _("MySql driver does not support table schemas")}async getCurrentSchema(){return(await this.query("SELECT SCHEMA() AS `schema_name`"))[0].schema_name}async hasTable(e){const t=this.driver.parseTableName(e),i="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = '".concat(t.database,"' AND `TABLE_NAME` = '").concat(t.tableName,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=this.driver.parseTableName(e),r=U.isTableColumn(t)?t.name:t,s="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_SCHEMA` = '".concat(i.database,"' AND `TABLE_NAME` = '").concat(i.tableName,"' AND `COLUMN_NAME` = '").concat(r,"'");return!!(await this.query(s)).length}async createDatabase(e,t){const i=t?"CREATE DATABASE IF NOT EXISTS `".concat(e,"`"):"CREATE DATABASE `".concat(e,"`"),r="DROP DATABASE `".concat(e,"`");await this.executeQueries(new R(i),new R(r))}async dropDatabase(e,t){const i=t?"DROP DATABASE IF EXISTS `".concat(e,"`"):"DROP DATABASE `".concat(e,"`"),r="CREATE DATABASE `".concat(e,"`");await this.executeQueries(new R(i),new R(r))}async createSchema(e,t){throw new _("Schema create queries are not supported by MySql driver.")}async dropSchema(e,t){throw new _("Schema drop queries are not supported by MySql driver.")}async createTable(e,t=!1,i=!0){if(t&&await this.hasTable(e))return Promise.resolve();const r=[],s=[];return r.push(this.createTableSql(e,i)),s.push(this.dropTableSql(e)),e.indices.forEach(o=>s.push(this.dropIndexSql(e,o))),i&&e.foreignKeys.forEach(o=>s.push(this.dropForeignKeySql(e,o))),this.executeQueries(r,s)}async dropTable(e,t,i=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const r=i,s=this.getTablePath(e),o=await this.getCachedTable(s),a=[],l=[];i&&o.foreignKeys.forEach(c=>a.push(this.dropForeignKeySql(o,c))),o.indices.forEach(c=>a.push(this.dropIndexSql(o,c))),a.push(this.dropTableSql(o)),l.push(this.createTableSql(o,r)),await this.executeQueries(a,l)}async createView(e,t=!1){const i=[],r=[];i.push(this.createViewSql(e)),t&&i.push(await this.insertViewDefinitionSql(e)),r.push(this.dropViewSql(e)),t&&r.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(i,r)}async dropView(e){const t=U.isView(e)?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(await this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(await this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){const i=[],r=[],s=U.isTable(e)?e:await this.getCachedTable(e),o=s.clone(),{database:a}=this.driver.parseTableName(s);o.name=a?"".concat(a,".").concat(t):t,i.push(new R("RENAME TABLE ".concat(this.escapePath(s)," TO ").concat(this.escapePath(o)))),r.push(new R("RENAME TABLE ".concat(this.escapePath(o)," TO ").concat(this.escapePath(s)))),o.indices.forEach(l=>{const c=l.columnNames.map(h=>"`".concat(h,"`")).join(", "),u=this.connection.namingStrategy.indexName(o,l.columnNames,l.where);let d="";l.isUnique&&(d+="UNIQUE "),l.isSpatial&&(d+="SPATIAL "),l.isFulltext&&(d+="FULLTEXT "),i.push(new R("ALTER TABLE ".concat(this.escapePath(o)," DROP INDEX `").concat(l.name,"`, ADD ").concat(d,"INDEX `").concat(u,"` (").concat(c,")"))),r.push(new R("ALTER TABLE ".concat(this.escapePath(o)," DROP INDEX `").concat(u,"`, ADD ").concat(d,"INDEX `").concat(l.name,"` (").concat(c,")"))),l.name=u}),o.foreignKeys.forEach(l=>{const c=l.columnNames.map(y=>"`".concat(y,"`")).join(", "),u=l.referencedColumnNames.map(y=>"`".concat(y,"`")).join(","),d=this.connection.namingStrategy.foreignKeyName(o,l.columnNames);let h="ALTER TABLE ".concat(this.escapePath(o)," DROP FOREIGN KEY `").concat(l.name,"`, ADD CONSTRAINT `").concat(d,"` FOREIGN KEY (").concat(c,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(l)),"(").concat(u,")");l.onDelete&&(h+=" ON DELETE ".concat(l.onDelete)),l.onUpdate&&(h+=" ON UPDATE ".concat(l.onUpdate));let p="ALTER TABLE ".concat(this.escapePath(o)," DROP FOREIGN KEY `").concat(d,"`, ADD CONSTRAINT `").concat(l.name,"` FOREIGN KEY (").concat(c,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(l)),"(").concat(u,")");l.onDelete&&(p+=" ON DELETE ".concat(l.onDelete)),l.onUpdate&&(p+=" ON UPDATE ".concat(l.onUpdate)),i.push(new R(h)),r.push(new R(p)),l.name=d}),await this.executeQueries(i,r),s.name=o.name,this.replaceCachedTable(s,o)}async addColumn(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=[],o=[],a=r.primaryColumns.length>0;if(s.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(t,a,!1)))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN `").concat(t.name,"`"))),t.isPrimary&&a){const c=r.columns.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(c){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,s.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(t.name,"` ").concat(this.buildCreateColumnSql(h,!0)))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(t,!0))))}const u=r.primaryColumns;let d=u.map(h=>"`".concat(h.name,"`")).join(", ");if(s.push(new R("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY"))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(d,")"))),u.push(t),d=u.map(h=>"`".concat(h.name,"`")).join(", "),s.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(d,")"))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY"))),c){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,s.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(t,!0)))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(t.name,"` ").concat(this.buildCreateColumnSql(h,!0))))}}const l=r.indices.find(c=>c.columnNames.length===1&&c.columnNames[0]===t.name);if(l)s.push(this.createIndexSql(i,l)),o.push(this.dropIndexSql(i,l));else if(t.isUnique){const c=new St({name:this.connection.namingStrategy.indexName(i,[t.name]),columnNames:[t.name],isUnique:!0});r.indices.push(c),r.uniques.push(new dn({name:c.name,columnNames:c.columnNames})),s.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD UNIQUE INDEX `").concat(c.name,"` (`").concat(t.name,"`)"))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," DROP INDEX `").concat(c.name,"`")))}await this.executeQueries(s,o),r.addColumn(t),this.replaceCachedTable(i,r)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const r=U.isTable(e)?e:await this.getCachedTable(e),s=U.isTableColumn(t)?t:r.columns.find(a=>a.name===t);if(!s)throw new _('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;U.isTableColumn(i)?o=i:(o=s.clone(),o.name=i),await this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=U.isTable(e)?e:await this.getCachedTable(e);let s=r.clone();const o=[],a=[],l=U.isTableColumn(t)?t:r.columns.find(c=>c.name===t);if(!l)throw new _('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));if(i.isGenerated!==l.isGenerated&&i.generationStrategy!=="uuid"||l.type!==i.type||l.length!==i.length||l.generatedType!==i.generatedType)await this.dropColumn(r,l),await this.addColumn(r,i),s=r.clone();else{if(i.name!==l.name){o.push(new R("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(l.name,"` `").concat(i.name,"` ").concat(this.buildCreateColumnSql(l,!0,!0)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(i.name,"` `").concat(l.name,"` ").concat(this.buildCreateColumnSql(l,!0,!0)))),s.findColumnIndices(l).forEach(u=>{u.columnNames.splice(u.columnNames.indexOf(l.name),1),u.columnNames.push(i.name);const d=u.columnNames.map(y=>"`".concat(y,"`")).join(", "),h=this.connection.namingStrategy.indexName(s,u.columnNames,u.where);let p="";u.isUnique&&(p+="UNIQUE "),u.isSpatial&&(p+="SPATIAL "),u.isFulltext&&(p+="FULLTEXT "),o.push(new R("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(u.name,"`, ADD ").concat(p,"INDEX `").concat(h,"` (").concat(d,")"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(h,"`, ADD ").concat(p,"INDEX `").concat(u.name,"` (").concat(d,")"))),u.name=h}),s.findColumnForeignKeys(l).forEach(u=>{u.columnNames.splice(u.columnNames.indexOf(l.name),1),u.columnNames.push(i.name);const d=u.columnNames.map(S=>"`".concat(S,"`")).join(", "),h=u.referencedColumnNames.map(S=>"`".concat(S,"`")).join(","),p=this.connection.namingStrategy.foreignKeyName(s,u.columnNames);let y="ALTER TABLE ".concat(this.escapePath(r)," DROP FOREIGN KEY `").concat(u.name,"`, ADD CONSTRAINT `").concat(p,"` FOREIGN KEY (").concat(d,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(u)),"(").concat(h,")");u.onDelete&&(y+=" ON DELETE ".concat(u.onDelete)),u.onUpdate&&(y+=" ON UPDATE ".concat(u.onUpdate));let v="ALTER TABLE ".concat(this.escapePath(r)," DROP FOREIGN KEY `").concat(p,"`, ADD CONSTRAINT `").concat(u.name,"` FOREIGN KEY (").concat(d,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(u)),"(").concat(h,")");u.onDelete&&(v+=" ON DELETE ".concat(u.onDelete)),u.onUpdate&&(v+=" ON UPDATE ".concat(u.onUpdate)),o.push(new R(y)),a.push(new R(v)),u.name=p});const c=s.columns.find(u=>u.name===l.name);s.columns[s.columns.indexOf(c)].name=i.name,l.name=i.name}if(this.isColumnChanged(l,i,!0)&&(o.push(new R("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(l.name,"` ").concat(this.buildCreateColumnSql(i,!0)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(i.name,"` ").concat(this.buildCreateColumnSql(l,!0))))),i.isPrimary!==l.isPrimary){const c=s.columns.find(d=>d.isGenerated&&d.generationStrategy==="increment");if(c){const d=c.clone();d.isGenerated=!1,d.generationStrategy=void 0,o.push(new R("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(d,!0)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(d.name,"` ").concat(this.buildCreateColumnSql(c,!0))))}const u=s.primaryColumns;if(u.length>0){const d=u.map(h=>"`".concat(h.name,"`")).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(r)," DROP PRIMARY KEY"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r)," ADD PRIMARY KEY (").concat(d,")")))}if(i.isPrimary===!0){u.push(i);const d=s.columns.find(p=>p.name===i.name);d.isPrimary=!0;const h=u.map(p=>"`".concat(p.name,"`")).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(r)," ADD PRIMARY KEY (").concat(h,")"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r)," DROP PRIMARY KEY")))}else{const d=u.find(p=>p.name===i.name);u.splice(u.indexOf(d),1);const h=s.columns.find(p=>p.name===i.name);if(h.isPrimary=!1,u.length>0){const p=u.map(y=>"`".concat(y.name,"`")).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(r)," ADD PRIMARY KEY (").concat(p,")"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r)," DROP PRIMARY KEY")))}}if(c){const d=c.clone();d.isGenerated=!1,d.generationStrategy=void 0,o.push(new R("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(d.name,"` ").concat(this.buildCreateColumnSql(c,!0)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(d,!0))))}}if(i.isUnique!==l.isUnique)if(i.isUnique===!0){const c=new St({name:this.connection.namingStrategy.indexName(r,[i.name]),columnNames:[i.name],isUnique:!0});s.indices.push(c),s.uniques.push(new dn({name:c.name,columnNames:c.columnNames})),o.push(new R("ALTER TABLE ".concat(this.escapePath(r)," ADD UNIQUE INDEX `").concat(c.name,"` (`").concat(i.name,"`)"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(c.name,"`")))}else{const c=s.indices.find(d=>d.columnNames.length===1&&d.isUnique===!0&&!!d.columnNames.find(h=>h===i.name));s.indices.splice(s.indices.indexOf(c),1);const u=s.uniques.find(d=>d.name===c.name);s.uniques.splice(s.uniques.indexOf(u),1),o.push(new R("ALTER TABLE ".concat(this.escapePath(r)," DROP INDEX `").concat(c.name,"`"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r)," ADD UNIQUE INDEX `").concat(c.name,"` (`").concat(i.name,"`)")))}}await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:r}of t)await this.changeColumn(e,i,r)}async dropColumn(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableColumn(t)?t:i.findColumnByName(t);if(!r)throw new _('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));const s=i.clone(),o=[],a=[];if(r.isPrimary){const c=s.columns.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(c){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(h,!0)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(c,!0))))}const u=s.primaryColumns.map(h=>"`".concat(h.name,"`")).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(s)," DROP PRIMARY KEY"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(s)," ADD PRIMARY KEY (").concat(u,")")));const d=s.findColumnByName(r.name);if(d.isPrimary=!1,s.primaryColumns.length>0){const h=s.primaryColumns.map(p=>"`".concat(p.name,"`")).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(s)," ADD PRIMARY KEY (").concat(h,")"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(s)," DROP PRIMARY KEY")))}if(c&&c.name!==r.name){const h=c.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(c,!0)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(c.name,"` ").concat(this.buildCreateColumnSql(h,!0))))}}const l=s.indices.find(c=>c.columnNames.length===1&&c.columnNames[0]===r.name);if(l)s.indices.splice(s.indices.indexOf(l),1),o.push(this.dropIndexSql(i,l)),a.push(this.createIndexSql(i,l));else if(r.isUnique){const c=this.connection.namingStrategy.uniqueConstraintName(i,[r.name]),u=s.uniques.find(p=>p.name===c);u&&s.uniques.splice(s.uniques.indexOf(u),1);const d=this.connection.namingStrategy.indexName(i,[r.name]),h=s.indices.find(p=>p.name===d);h&&s.indices.splice(s.indices.indexOf(h),1),o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," DROP INDEX `").concat(d,"`"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD UNIQUE INDEX `").concat(d,"` (`").concat(r.name,"`)")))}o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN `").concat(r.name,"`"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(r,!0)))),await this.executeQueries(o,a),s.removeColumn(r),this.replaceCachedTable(i,s)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=this.createPrimaryKeySql(i,t),o=this.dropPrimaryKeySql(i);await this.executeQueries(s,o),r.columns.forEach(a=>{t.find(l=>l===a.name)&&(a.isPrimary=!0)}),this.replaceCachedTable(i,r)}async updatePrimaryKeys(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=t.map(h=>h.name),o=[],a=[],l=r.columns.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(l){const h=l.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(l.name,"` ").concat(this.buildCreateColumnSql(h,!0)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(l,!0))))}const c=r.primaryColumns;if(c.length>0){const h=c.map(p=>"`".concat(p.name,"`")).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(h,")")))}r.columns.filter(h=>s.indexOf(h.name)!==-1).forEach(h=>h.isPrimary=!0);const u=s.map(h=>"`".concat(h,"`")).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD PRIMARY KEY (").concat(u,")"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(i)," DROP PRIMARY KEY")));const d=l||t.find(h=>h.isGenerated&&h.generationStrategy==="increment");if(d){const h=d.clone();h.isGenerated=!1,h.generationStrategy=void 0,o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(h.name,"` ").concat(this.buildCreateColumnSql(d,!0)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(i)," CHANGE `").concat(d.name,"` ").concat(this.buildCreateColumnSql(h,!0))));const p=r.columns.find(y=>y.name===d.name);p.isGenerated=!0,p.generationStrategy="increment"}await this.executeQueries(o,a),this.replaceCachedTable(i,r)}async dropPrimaryKey(e){const t=U.isTable(e)?e:await this.getCachedTable(e),i=this.dropPrimaryKeySql(t),r=this.createPrimaryKeySql(t,t.primaryColumns.map(s=>s.name));await this.executeQueries(i,r),t.primaryColumns.forEach(s=>{s.isPrimary=!1})}async createUniqueConstraint(e,t){throw new _("MySql does not support unique constraints. Use unique index instead.")}async createUniqueConstraints(e,t){throw new _("MySql does not support unique constraints. Use unique index instead.")}async dropUniqueConstraint(e,t){throw new _("MySql does not support unique constraints. Use unique index instead.")}async dropUniqueConstraints(e,t){throw new _("MySql does not support unique constraints. Use unique index instead.")}async createCheckConstraint(e,t){throw new _("MySql does not support check constraints.")}async createCheckConstraints(e,t){throw new _("MySql does not support check constraints.")}async dropCheckConstraint(e,t){throw new _("MySql does not support check constraints.")}async dropCheckConstraints(e,t){throw new _("MySql does not support check constraints.")}async createExclusionConstraint(e,t){throw new _("MySql does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new _("MySql does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new _("MySql does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new _("MySql does not support exclusion constraints.")}async createForeignKey(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames));const r=this.createForeignKeySql(i,t),s=this.dropForeignKeySql(i,t);await this.executeQueries(r,s),i.addForeignKey(t)}async createForeignKeys(e,t){const i=t.map(r=>this.createForeignKey(e,r));await Promise.all(i)}async dropForeignKey(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableForeignKey(t)?t:i.foreignKeys.find(a=>a.name===t);if(!r)throw new _("Supplied foreign key was not found in table ".concat(i.name));const s=this.dropForeignKeySql(i,r),o=this.createForeignKeySql(i,r);await this.executeQueries(s,o),i.removeForeignKey(r)}async dropForeignKeys(e,t){const i=t.map(r=>this.dropForeignKey(e,r));await Promise.all(i)}async createIndex(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t,!0)}async createIndices(e,t){const i=t.map(r=>this.createIndex(e,r));await Promise.all(i)}async dropIndex(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new _("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r,!0)}async dropIndices(e,t){const i=t.map(r=>this.dropIndex(e,r));await Promise.all(i)}async clearTable(e){await this.query("TRUNCATE TABLE ".concat(this.escapePath(e)))}async clearDatabase(e){const t=e||this.driver.database;if(t){if(!await this.hasDatabase(t))return Promise.resolve()}else throw new _("Can not clear database. No database is specified");const i=this.isTransactionActive;i||await this.startTransaction();try{const r="SELECT concat('DROP VIEW IF EXISTS `', table_schema, '`.`', table_name, '`') AS `query` FROM `INFORMATION_SCHEMA`.`VIEWS` WHERE `TABLE_SCHEMA` = '".concat(t,"'"),s=await this.query(r);await Promise.all(s.map(u=>this.query(u.query)));const o="SET FOREIGN_KEY_CHECKS = 0;",a="SELECT concat('DROP TABLE IF EXISTS `', table_schema, '`.`', table_name, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_SCHEMA` = '".concat(t,"'"),l="SET FOREIGN_KEY_CHECKS = 1;";await this.query(o);const c=await this.query(a);await Promise.all(c.map(u=>this.query(u.query))),await this.query(l),i||await this.commitTransaction()}catch(r){try{i||await this.rollbackTransaction()}catch(s){}throw r}}async loadViews(e){if(!await this.hasTable(this.getTypeormMetadataTableName()))return[];e||(e=[]);const i=await this.getCurrentDatabase(),r=e.map(a=>{let{database:l,tableName:c}=this.driver.parseTableName(a);return l||(l=i),"(`t`.`schema` = '".concat(l,"' AND `t`.`name` = '").concat(c,"')")}).join(" OR "),s="SELECT `t`.*, `v`.`check_option` FROM ".concat(this.escapePath(this.getTypeormMetadataTableName())," `t` ")+"INNER JOIN `information_schema`.`views` `v` ON `v`.`table_schema` = `t`.`schema` AND `v`.`table_name` = `t`.`name` WHERE `t`.`type` = '".concat(Ne.VIEW,"' ").concat(r?"AND (".concat(r,")"):"");return(await this.query(s)).map(a=>{const l=new Tr,c=a.schema===i?void 0:a.schema;return l.database=a.schema,l.name=this.driver.buildTableName(a.name,void 0,c),l.expression=a.value,l})}async loadTables(e){if(e&&e.length===0)return[];const t=[],i=await this.getCurrentDatabase();if(e){const w="SELECT TABLE_NAME, TABLE_SCHEMA FROM `INFORMATION_SCHEMA`.`TABLES` WHERE "+e.map(C=>{let[P,q]=C.split(".");return q||(q=P,P=this.driver.database||i),"(`TABLE_SCHEMA` = '".concat(P,"' AND `TABLE_NAME` = '").concat(q,"')")}).join(" OR ");t.push(...await this.query(w))}else{const E="SELECT TABLE_NAME, TABLE_SCHEMA FROM `INFORMATION_SCHEMA`.`TABLES`";t.push(...await this.query(E))}if(t.length===0)return[];const r=t.map(({TABLE_NAME:E,TABLE_SCHEMA:w})=>"(`TABLE_SCHEMA` = '".concat(w,"' AND `TABLE_NAME` = '").concat(E,"')")).join(" OR "),s="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE "+r,o="SELECT * FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` WHERE `CONSTRAINT_NAME` = 'PRIMARY' AND (".concat(r,")"),a="SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`",l=t.map(({TABLE_NAME:E,TABLE_SCHEMA:w})=>"(`s`.`TABLE_SCHEMA` = '".concat(w,"' AND `s`.`TABLE_NAME` = '").concat(E,"')")).join(" OR "),c="SELECT `s`.* FROM `INFORMATION_SCHEMA`.`STATISTICS` `s` LEFT JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `s`.`INDEX_NAME` = `rc`.`CONSTRAINT_NAME` "+"WHERE (".concat(l,") AND `s`.`INDEX_NAME` != 'PRIMARY' AND `rc`.`CONSTRAINT_NAME` IS NULL"),d="SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE "+t.map(({TABLE_NAME:E,TABLE_SCHEMA:w})=>"(`kcu`.`TABLE_SCHEMA` = '".concat(w,"' AND `kcu`.`TABLE_NAME` = '").concat(E,"')")).join(" OR "),[h,p,y,v,S]=await Promise.all([this.query(s),this.query(o),this.query(a),this.query(c),this.query(d)]);return Promise.all(t.map(async E=>{const w=new mt,C=y.find(O=>O.SCHEMA_NAME===E.TABLE_SCHEMA),P=C.COLLATION,q=C.CHARSET,H=E.TABLE_SCHEMA===i?void 0:E.TABLE_SCHEMA;w.database=E.TABLE_SCHEMA,w.name=this.driver.buildTableName(E.TABLE_NAME,void 0,H),w.columns=h.filter(O=>O.TABLE_NAME===E.TABLE_NAME&&O.TABLE_SCHEMA===E.TABLE_SCHEMA).map(O=>{const Q=v.filter(ue=>ue.TABLE_NAME===E.TABLE_NAME&&ue.TABLE_SCHEMA===E.TABLE_SCHEMA&&ue.COLUMN_NAME===O.COLUMN_NAME&&parseInt(ue.NON_UNIQUE,10)===0),k=this.connection.entityMetadatas.find(ue=>this.getTablePath(w)===this.getTablePath(ue)),J=Q.length>0&&k&&k.indices.some(ue=>Q.some(fe=>ue.name===fe.INDEX_NAME&&ue.synchronize===!1)),j=Q.every(ue=>v.some(fe=>fe.INDEX_NAME===ue.INDEX_NAME&&fe.COLUMN_NAME!==O.COLUMN_NAME)),ne=new Nn;if(ne.name=O.COLUMN_NAME,ne.type=O.DATA_TYPE.toLowerCase(),ne.unsigned=ne.zerofill?!0:O.COLUMN_TYPE.indexOf("unsigned")!==-1,this.driver.withWidthColumnTypes.indexOf(ne.type)!==-1){const ue=O.COLUMN_TYPE.substring(O.COLUMN_TYPE.indexOf("(")+1,O.COLUMN_TYPE.indexOf(")"));ne.width=ue&&!this.isDefaultColumnWidth(w,ne,parseInt(ue))?parseInt(ue):void 0}if(O.COLUMN_DEFAULT===null||O.COLUMN_DEFAULT===void 0?ne.default=void 0:ne.default=O.COLUMN_DEFAULT==="CURRENT_TIMESTAMP"?O.COLUMN_DEFAULT:"'".concat(O.COLUMN_DEFAULT,"'"),O.EXTRA.indexOf("on update")!==-1&&(ne.onUpdate=O.EXTRA.substring(O.EXTRA.indexOf("on update")+10)),O.GENERATION_EXPRESSION&&(ne.asExpression=O.GENERATION_EXPRESSION,ne.generatedType=O.EXTRA.indexOf("VIRTUAL")!==-1?"VIRTUAL":"STORED"),ne.isUnique=Q.length>0&&!J&&!j,ne.isNullable=O.IS_NULLABLE==="YES",ne.isPrimary=p.some(ue=>ue.TABLE_NAME===O.TABLE_NAME&&ue.TABLE_SCHEMA===O.TABLE_SCHEMA&&ue.COLUMN_NAME===O.COLUMN_NAME),ne.zerofill=O.COLUMN_TYPE.indexOf("zerofill")!==-1,ne.isGenerated=O.EXTRA.indexOf("auto_increment")!==-1,ne.isGenerated&&(ne.generationStrategy="increment"),ne.comment=typeof O.COLUMN_COMMENT=="string"&&O.COLUMN_COMMENT.length===0?void 0:O.COLUMN_COMMENT,O.CHARACTER_SET_NAME&&(ne.charset=O.CHARACTER_SET_NAME===q?void 0:O.CHARACTER_SET_NAME),O.COLLATION_NAME&&(ne.collation=O.COLLATION_NAME===P?void 0:O.COLLATION_NAME),this.driver.withLengthColumnTypes.indexOf(ne.type)!==-1&&O.CHARACTER_MAXIMUM_LENGTH){const ue=O.CHARACTER_MAXIMUM_LENGTH.toString();ne.length=this.isDefaultColumnLength(w,ne,ue)?"":ue}if((ne.type==="decimal"||ne.type==="double"||ne.type==="float")&&(O.NUMERIC_PRECISION!==null&&!this.isDefaultColumnPrecision(w,ne,O.NUMERIC_PRECISION)&&(ne.precision=parseInt(O.NUMERIC_PRECISION)),O.NUMERIC_SCALE!==null&&!this.isDefaultColumnScale(w,ne,O.NUMERIC_SCALE)&&(ne.scale=parseInt(O.NUMERIC_SCALE))),ne.type==="enum"||ne.type==="simple-enum"||ne.type==="set"){const ue=O.COLUMN_TYPE,fe=ue.substring(ue.indexOf("(")+1,ue.lastIndexOf(")")).split(",");ne.enum=fe.map(de=>de.substring(1,de.length-1)),ne.length=""}return(ne.type==="datetime"||ne.type==="time"||ne.type==="timestamp")&&O.DATETIME_PRECISION!==null&&O.DATETIME_PRECISION!==void 0&&!this.isDefaultColumnPrecision(w,ne,parseInt(O.DATETIME_PRECISION))&&(ne.precision=parseInt(O.DATETIME_PRECISION)),ne});const L=ve.uniq(S.filter(O=>O.TABLE_NAME===E.TABLE_NAME&&O.TABLE_SCHEMA===E.TABLE_SCHEMA),O=>O.CONSTRAINT_NAME);w.foreignKeys=L.map(O=>{const Q=S.filter(j=>j.CONSTRAINT_NAME===O.CONSTRAINT_NAME),k=O.REFERENCED_TABLE_SCHEMA===i?void 0:O.REFERENCED_TABLE_SCHEMA,J=this.driver.buildTableName(O.REFERENCED_TABLE_NAME,void 0,k);return new li({name:O.CONSTRAINT_NAME,columnNames:Q.map(j=>j.COLUMN_NAME),referencedDatabase:O.REFERENCED_TABLE_SCHEMA,referencedTableName:J,referencedColumnNames:Q.map(j=>j.REFERENCED_COLUMN_NAME),onDelete:O.ON_DELETE,onUpdate:O.ON_UPDATE})});const M=ve.uniq(v.filter(O=>O.TABLE_NAME===E.TABLE_NAME&&O.TABLE_SCHEMA===E.TABLE_SCHEMA),O=>O.INDEX_NAME);return w.indices=M.map(O=>{const Q=v.filter(J=>J.TABLE_SCHEMA===O.TABLE_SCHEMA&&J.TABLE_NAME===O.TABLE_NAME&&J.INDEX_NAME===O.INDEX_NAME),k=parseInt(O.NON_UNIQUE,10);return new St({table:w,name:O.INDEX_NAME,columnNames:Q.map(J=>J.COLUMN_NAME),isUnique:k===0,isSpatial:O.INDEX_TYPE==="SPATIAL",isFulltext:O.INDEX_TYPE==="FULLTEXT"})}),w}))}createTableSql(e,t){const i=e.columns.map(s=>this.buildCreateColumnSql(s,!0)).join(", ");let r="CREATE TABLE ".concat(this.escapePath(e)," (").concat(i);if(e.columns.filter(s=>s.isUnique).forEach(s=>{const o=e.indices.some(l=>l.columnNames.length===1&&!!l.isUnique&&l.columnNames.indexOf(s.name)!==-1),a=e.uniques.some(l=>l.columnNames.length===1&&l.columnNames.indexOf(s.name)!==-1);!o&&!a&&e.indices.push(new St({name:this.connection.namingStrategy.uniqueConstraintName(e,[s.name]),columnNames:[s.name],isUnique:!0}))}),e.uniques.length>0&&e.uniques.forEach(s=>{e.indices.some(a=>a.name===s.name)||e.indices.push(new St({name:s.name,columnNames:s.columnNames,isUnique:!0}))}),e.indices.length>0){const s=e.indices.map(o=>{const a=o.columnNames.map(c=>"`".concat(c,"`")).join(", ");o.name||(o.name=this.connection.namingStrategy.indexName(e,o.columnNames,o.where));let l="";return o.isUnique&&(l+="UNIQUE "),o.isSpatial&&(l+="SPATIAL "),o.isFulltext&&(l+="FULLTEXT "),"".concat(l,"INDEX `").concat(o.name,"` (").concat(a,")")}).join(", ");r+=", ".concat(s)}if(e.foreignKeys.length>0&&t){const s=e.foreignKeys.map(o=>{const a=o.columnNames.map(u=>"`".concat(u,"`")).join(", ");o.name||(o.name=this.connection.namingStrategy.foreignKeyName(e,o.columnNames));const l=o.referencedColumnNames.map(u=>"`".concat(u,"`")).join(", ");let c="CONSTRAINT `".concat(o.name,"` FOREIGN KEY (").concat(a,") REFERENCES ").concat(this.escapePath(this.getTablePath(o))," (").concat(l,")");return o.onDelete&&(c+=" ON DELETE ".concat(o.onDelete)),o.onUpdate&&(c+=" ON UPDATE ".concat(o.onUpdate)),c}).join(", ");r+=", ".concat(s)}if(e.primaryColumns.length>0){const s=e.primaryColumns.map(o=>"`".concat(o.name,"`")).join(", ");r+=", PRIMARY KEY (".concat(s,")")}return r+=") ENGINE=".concat(e.engine||"InnoDB"),new R(r)}dropTableSql(e){return new R("DROP TABLE ".concat(this.escapePath(e)))}createViewSql(e){return typeof e.expression=="string"?new R("CREATE VIEW ".concat(this.escapePath(e)," AS ").concat(e.expression)):new R("CREATE VIEW ".concat(this.escapePath(e)," AS ").concat(e.expression(this.connection).getQuery()))}async insertViewDefinitionSql(e){const t=await this.getCurrentDatabase(),i=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:Ne.VIEW,schema:t,name:e.name,value:i})}dropViewSql(e){return new R("DROP VIEW ".concat(this.escapePath(e)))}async deleteViewDefinitionSql(e){const t=await this.getCurrentDatabase(),i=U.isView(e)?e.name:e;return this.deleteTypeormMetadataSql({type:Ne.VIEW,schema:t,name:i})}createIndexSql(e,t){const i=t.columnNames.map(s=>"`".concat(s,"`")).join(", ");let r="";return t.isUnique&&(r+="UNIQUE "),t.isSpatial&&(r+="SPATIAL "),t.isFulltext&&(r+="FULLTEXT "),new R("CREATE ".concat(r,"INDEX `").concat(t.name,"` ON ").concat(this.escapePath(e)," (").concat(i,")"))}dropIndexSql(e,t){let i=U.isTableIndex(t)?t.name:t;return new R("DROP INDEX `".concat(i,"` ON ").concat(this.escapePath(e)))}createPrimaryKeySql(e,t){const i=t.map(r=>"`".concat(r,"`")).join(", ");return new R("ALTER TABLE ".concat(this.escapePath(e)," ADD PRIMARY KEY (").concat(i,")"))}dropPrimaryKeySql(e){return new R("ALTER TABLE ".concat(this.escapePath(e)," DROP PRIMARY KEY"))}createForeignKeySql(e,t){const i=t.columnNames.map(o=>"`".concat(o,"`")).join(", "),r=t.referencedColumnNames.map(o=>"`".concat(o,"`")).join(",");let s="ALTER TABLE ".concat(this.escapePath(e)," ADD CONSTRAINT `").concat(t.name,"` FOREIGN KEY (").concat(i,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(t)),"(").concat(r,")");return t.onDelete&&(s+=" ON DELETE ".concat(t.onDelete)),t.onUpdate&&(s+=" ON UPDATE ".concat(t.onUpdate)),new R(s)}dropForeignKeySql(e,t){const i=U.isTableForeignKey(t)?t.name:t;return new R("ALTER TABLE ".concat(this.escapePath(e)," DROP FOREIGN KEY `").concat(i,"`"))}escapeComment(e){return!e||e.length===0?"''":(e=e.replace(/\\/g,"\\\\").replace(/'/g,"''").replace(/\u0000/g,""),"'".concat(e,"'"))}escapePath(e){const{database:t,tableName:i}=this.driver.parseTableName(e);return t&&t!==this.driver.database?"`".concat(t,"`.`").concat(i,"`"):"`".concat(i,"`")}buildCreateColumnSql(e,t,i=!1){let r="";return i?r=this.connection.driver.createFullType(e):r="`".concat(e.name,"` ").concat(this.connection.driver.createFullType(e)),e.asExpression&&(r+=" AS (".concat(e.asExpression,") ").concat(e.generatedType?e.generatedType:"VIRTUAL")),e.zerofill?r+=" ZEROFILL":e.unsigned&&(r+=" UNSIGNED"),e.enum&&(r+=" (".concat(e.enum.map(s=>"'"+s+"'").join(", "),")")),e.charset&&(r+=' CHARACTER SET "'.concat(e.charset,'"')),e.collation&&(r+=' COLLATE "'.concat(e.collation,'"')),e.isNullable||(r+=" NOT NULL"),e.isNullable&&(r+=" NULL"),e.isPrimary&&!t&&(r+=" PRIMARY KEY"),e.isGenerated&&e.generationStrategy==="increment"&&(r+=" AUTO_INCREMENT"),e.comment&&(r+=" COMMENT ".concat(this.escapeComment(e.comment))),e.default!==void 0&&e.default!==null&&(r+=" DEFAULT ".concat(e.default)),e.onUpdate&&(r+=" ON UPDATE ".concat(e.onUpdate)),r}isDefaultColumnWidth(e,t,i){if(this.connection.hasMetadata(e.name)){const o=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(o&&o.width)return!1}const r=this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].width;if(r){const o=["int","tinyint","smallint","mediumint"].indexOf(t.type)!==-1;return t.unsigned&&o?r-1===i:r===i}return!1}}class b6{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["bit","int","integer","tinyint","smallint","mediumint","bigint","float","double","double precision","real","decimal","dec","numeric","fixed","bool","boolean","date","datetime","timestamp","time","year","char","nchar","national char","varchar","nvarchar","national varchar","blob","text","tinyblob","tinytext","mediumblob","mediumtext","longblob","longtext","enum","set","binary","varbinary","json","geometry","point","linestring","polygon","multipoint","multilinestring","multipolygon","geometrycollection"],this.supportedUpsertTypes=["on-duplicate-key-update"],this.spatialTypes=["geometry","point","linestring","polygon","multipoint","multilinestring","multipolygon","geometrycollection"],this.withLengthColumnTypes=["char","varchar","nvarchar","binary","varbinary"],this.withWidthColumnTypes=["bit","tinyint","smallint","mediumint","int","integer","bigint"],this.withPrecisionColumnTypes=["decimal","dec","numeric","fixed","float","double","double precision","real","time","datetime","timestamp"],this.withScaleColumnTypes=["decimal","dec","numeric","fixed","float","double","double precision","real"],this.unsignedAndZerofillTypes=["int","integer","smallint","tinyint","mediumint","bigint","decimal","dec","numeric","fixed","float","double","double precision","real"],this.mappedDataTypes={createDate:"datetime",createDatePrecision:6,createDateDefault:"CURRENT_TIMESTAMP(6)",updateDate:"datetime",updateDatePrecision:6,updateDateDefault:"CURRENT_TIMESTAMP(6)",deleteDate:"datetime",deleteDatePrecision:6,deleteDateNullable:!0,version:"int",treeLevel:"int",migrationId:"int",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.dataTypeDefaults={varchar:{length:255},nvarchar:{length:255},"national varchar":{length:255},char:{length:1},binary:{length:1},varbinary:{length:255},decimal:{precision:10,scale:0},dec:{precision:10,scale:0},numeric:{precision:10,scale:0},fixed:{precision:10,scale:0},float:{precision:12},double:{precision:22},time:{precision:0},datetime:{precision:0},timestamp:{precision:0},bit:{width:1},int:{width:11},integer:{width:11},tinyint:{width:4},smallint:{width:6},mediumint:{width:9},bigint:{width:20}},this.maxAliasLength=63,this.cteCapabilities={enabled:!1},this.connection=e,this.options=e.options,this.loadDependencies(),this.client=new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions),this.database=me.buildDriverOptions(this.options).database}async connect(){if(!this.database){const e=await this.createQueryRunner("master");this.database=await e.getCurrentDatabase(),await e.release()}}afterConnect(){return Promise.resolve()}async disconnect(){}createSchemaBuilder(){return new Ah(this.connection)}createQueryRunner(e){return new y6(this,new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions))}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):typeof l=="function"?l():(r.push(l),this.createParameter(a,r.length-1))}),[e,r])}escape(e){return"`"+e+"`"}buildTableName(e,t,i){let r=[e];return i&&r.unshift(i),r.join(".")}parseTableName(e){const t=this.database,i=void 0;if(U.isTable(e)||U.isView(e)){const s=this.parseTableName(e.name);return{database:e.database||s.database||t,schema:e.schema||s.schema||i,tableName:s.tableName}}if(U.isTableForeignKey(e)){const s=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||s.database||t,schema:e.referencedSchema||s.schema||i,tableName:s.tableName}}if(U.isEntityMetadata(e))return{database:e.database||t,schema:e.schema||i,tableName:e.tableName};const r=e.split(".");return{database:(r.length>1?r[0]:void 0)||t,schema:i,tableName:r.length>1?r[1]:r[0]}}preparePersistentValue(e,t){return t.transformer&&(e=Ut.transformTo(t.transformer,e)),!this.options.formatOptions||this.options.formatOptions.castParameters!==!1?this.client.preparePersistentValue(e,t):e==null?e:t.type===Boolean?e===!0?1:0:t.type==="date"?Ae.mixedDateToDateString(e):t.type==="time"?Ae.mixedDateToTimeString(e):t.type==="json"?JSON.stringify(e):t.type==="timestamp"||t.type==="datetime"||t.type===Date?Ae.mixedDateToDate(e):t.type==="simple-array"||t.type==="set"?Ae.simpleArrayToString(e):t.type==="simple-json"?Ae.simpleJsonToString(e):t.type==="enum"||t.type==="simple-enum"?""+e:e}prepareHydratedValue(e,t){return e==null?t.transformer?Ut.transformFrom(t.transformer,e):e:!this.options.formatOptions||this.options.formatOptions.castParameters!==!1?this.client.prepareHydratedValue(e,t):(t.type===Boolean||t.type==="bool"||t.type==="boolean"?e=!!e:t.type==="datetime"||t.type===Date?e=Ae.normalizeHydratedDate(e):t.type==="date"?e=Ae.mixedDateToDateString(e):t.type==="json"?e=typeof e=="string"?JSON.parse(e):e:t.type==="time"?e=Ae.mixedTimeToString(e):t.type==="simple-array"||t.type==="set"?e=Ae.stringToSimpleArray(e):t.type==="simple-json"?e=Ae.stringToSimpleJson(e):(t.type==="enum"||t.type==="simple-enum")&&t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0?e=parseInt(e):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=Ut.transformFrom(t.transformer,e)),e)}normalizeType(e){return e.type===Number||e.type==="integer"?"int":e.type===String?"varchar":e.type===Date?"datetime":e.type===Buffer?"blob":e.type===Boolean?"tinyint":e.type==="uuid"?"varchar":e.type==="simple-array"||e.type==="simple-json"?"text":e.type==="simple-enum"?"enum":e.type==="double precision"||e.type==="real"?"double":e.type==="dec"||e.type==="numeric"||e.type==="fixed"?"decimal":e.type==="bool"||e.type==="boolean"?"tinyint":e.type==="nvarchar"||e.type==="national varchar"?"varchar":e.type==="nchar"||e.type==="national char"?"char":e.type||""}normalizeDefault(e){const t=e.default;if(t!==null){if((e.type==="enum"||e.type==="simple-enum")&&t!==void 0)return"'".concat(t,"'");if(e.type==="set"&&t!==void 0)return"'".concat(Ae.simpleArrayToString(t),"'");if(typeof t=="number")return"".concat(t);if(typeof t=="boolean")return t?"1":"0";if(typeof t=="function")return t();if(typeof t=="string")return"'".concat(t,"'");if(t!==void 0)return"".concat(t)}}normalizeIsUnique(e){return e.entityMetadata.indices.some(t=>t.isUnique&&t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){if(e.length)return e.length.toString();if(e.generationStrategy==="uuid")return"36";switch(e.type){case String:case"varchar":case"nvarchar":case"national varchar":return"255";case"varbinary":return"255";default:return""}}createFullType(e){let t=e.type;return this.getColumnLength(e)?t+="(".concat(this.getColumnLength(e),")"):e.width?t+="(".concat(e.width,")"):e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="(".concat(e.precision,",").concat(e.scale,")"):e.precision!==null&&e.precision!==void 0&&(t+="(".concat(e.precision,")")),e.isArray&&(t+=" array"),t}obtainMasterConnection(){return new Promise((e,t)=>{this.poolCluster?this.poolCluster.getConnection("MASTER",(i,r)=>{i?t(i):e(this.prepareDbConnection(r))}):this.pool?this.pool.getConnection((i,r)=>{i?t(i):e(this.prepareDbConnection(r))}):t(new _("Connection is not established with mysql database"))})}obtainSlaveConnection(){return this.poolCluster?new Promise((e,t)=>{this.poolCluster.getConnection("SLAVE*",(i,r)=>{i?t(i):e(this.prepareDbConnection(r))})}):this.obtainMasterConnection()}createGeneratedMap(e,t,i){const r=e.generatedColumns.reduce((s,o)=>{let a;return o.generationStrategy==="increment"&&t.insertId&&(a=t.insertId+i),ve.mergeDeep(s,o.createValueMap(a))},{});return Object.keys(r).length>0?r:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);if(!r)return!1;let s=i.length;return!s&&i.generationStrategy==="uuid"&&(s=this.getColumnLength(i)),r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==s||r.width!==i.width||r.precision!==i.precision||r.scale!==i.scale||r.zerofill!==i.zerofill||r.unsigned!==i.unsigned||r.asExpression!==i.asExpression||r.generatedType!==i.generatedType||r.comment!==this.escapeComment(i.comment)||!this.compareDefaultValues(this.normalizeDefault(i),r.default)||r.enum&&i.enum&&!ve.isArraysEqual(r.enum,i.enum.map(o=>o+""))||r.onUpdate!==i.onUpdate||r.isPrimary!==i.isPrimary||r.isNullable!==i.isNullable||r.isUnique!==this.normalizeIsUnique(i)||i.generationStrategy!=="uuid"&&r.isGenerated!==i.isGenerated})}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!0}createParameter(e,t){return"?"}loadDependencies(){const e=this.options.driver||lt.load("typeorm-aurora-data-api-driver");this.DataApiDriver=e,this.DataApiDriver=this.DataApiDriver.default||this.DataApiDriver}createConnectionOptions(e,t){return t=Object.assign({},t,me.buildDriverOptions(t)),Object.assign({},{resourceArn:e.resourceArn,secretArn:e.secretArn,database:e.database,region:e.region,type:e.type},{host:t.host,user:t.username,password:t.password,database:t.database,port:t.port,ssl:e.ssl},e.extra||{})}async createPool(e){return{}}prepareDbConnection(e){const{logger:t}=this.connection;return e.listeners("error").length===0&&e.on("error",i=>t.log("warn","MySQL connection raised an error. ".concat(i))),e}compareDefaultValues(e,t){return typeof e=="string"&&typeof t=="string"&&(e=e.replace(/^'+|'+$/g,""),t=t.replace(/^'+|'+$/g,"")),e===t}escapeComment(e){return e&&(e=e.replace(/\u0000/g,""),e)}}class v6 extends kh{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.mode=t,this.broadcaster=new Nr(this)}connect(){return this.databaseConnection?Promise.resolve(this.databaseConnection):this.databaseConnectionPromise?this.databaseConnectionPromise:(this.mode==="slave"&&this.driver.isReplicated?this.databaseConnectionPromise=this.driver.obtainSlaveConnection().then(([e,t])=>{this.driver.connectedQueryRunners.push(this),this.databaseConnection=e;const i=r=>this.releasePostgresConnection(r);return this.releaseCallback=r=>{this.databaseConnection.removeListener("error",i),t(r)},this.databaseConnection.on("error",i),this.databaseConnection}):this.databaseConnectionPromise=this.driver.obtainMasterConnection().then(([e,t])=>{this.driver.connectedQueryRunners.push(this),this.databaseConnection=e;const i=r=>this.releasePostgresConnection(r);return this.releaseCallback=r=>{this.databaseConnection.removeListener("error",i),t(r)},this.databaseConnection.on("error",i),this.databaseConnection}),this.databaseConnectionPromise)}async releasePostgresConnection(e){if(this.isReleased)return;this.isReleased=!0,this.releaseCallback&&(this.releaseCallback(e),this.releaseCallback=void 0);const t=this.driver.connectedQueryRunners.indexOf(this);t!==-1&&this.driver.connectedQueryRunners.splice(t,1)}release(){return this.releasePostgresConnection()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?(await this.query("START TRANSACTION"),e&&await this.query("SET TRANSACTION ISOLATION LEVEL "+e)):await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new hi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("COMMIT"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new hi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.query("ROLLBACK"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=await this.connect();this.driver.connection.logger.logQuery(e,t,this);try{const s=+new Date,o=await r.query(e,t),a=this.driver.options.maxQueryExecutionTime,c=+new Date-s;a&&c>a&&this.driver.connection.logger.logQuerySlow(c,e,t,this);const u=new er;if(o){switch(o.hasOwnProperty("rows")&&(u.records=o.rows),o.hasOwnProperty("rowCount")&&(u.affected=o.rowCount),o.command){case"DELETE":case"UPDATE":u.raw=[o.rows,o.rowCount];break;default:u.raw=o.rows}if(!i)return u.raw}return u}catch(s){throw this.driver.connection.logger.logQueryError(s,e,t,this),new Ji(e,t,s)}}async stream(e,t,i,r){const s=this.driver.loadStreamDependency();if(this.isReleased)throw new wn;const o=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const a=o.query(new s(e,t));return i&&a.on("end",i),r&&a.on("error",r),a}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){return!!(await this.query("SELECT * FROM pg_database WHERE datname='".concat(e,"';"))).length}async getCurrentDatabase(){return(await this.query("SELECT * FROM current_database()"))[0].current_database}async hasSchema(e){return!!(await this.query('SELECT * FROM "information_schema"."schemata" WHERE "schema_name" = \''.concat(e,"'"))).length}async getCurrentSchema(){return(await this.query("SELECT * FROM current_schema()"))[0].current_schema}async hasTable(e){const t=this.driver.parseTableName(e);t.schema||(t.schema=await this.getCurrentSchema());const i='SELECT * FROM "information_schema"."tables" WHERE "table_schema" = \''.concat(t.schema,"' AND \"table_name\" = '").concat(t.tableName,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=this.driver.parseTableName(e);i.schema||(i.schema=await this.getCurrentSchema());const r='SELECT * FROM "information_schema"."columns" WHERE "table_schema" = \''.concat(i.schema,"' AND \"table_name\" = '").concat(i.tableName,"' AND \"column_name\" = '").concat(t,"'");return!!(await this.query(r)).length}async createDatabase(e,t){if(t&&await this.hasDatabase(e))return Promise.resolve();const i='CREATE DATABASE "'.concat(e,'"'),r='DROP DATABASE "'.concat(e,'"');await this.executeQueries(new R(i),new R(r))}async dropDatabase(e,t){const i=t?'DROP DATABASE IF EXISTS "'.concat(e,'"'):'DROP DATABASE "'.concat(e,'"'),r='CREATE DATABASE "'.concat(e,'"');await this.executeQueries(new R(i),new R(r))}async createSchema(e,t){const i=e.indexOf(".")===-1?e:e.split(".")[1],r=t?'CREATE SCHEMA IF NOT EXISTS "'.concat(i,'"'):'CREATE SCHEMA "'.concat(i,'"'),s='DROP SCHEMA "'.concat(i,'" CASCADE');await this.executeQueries(new R(r),new R(s))}async dropSchema(e,t,i){const r=e.indexOf(".")===-1?e:e.split(".")[1],s=t?'DROP SCHEMA IF EXISTS "'.concat(r,'" ').concat(i?"CASCADE":""):'DROP SCHEMA "'.concat(r,'" ').concat(i?"CASCADE":""),o='CREATE SCHEMA "'.concat(r,'"');await this.executeQueries(new R(s),new R(o))}async createTable(e,t=!1,i=!0,r=!0){if(t&&await this.hasTable(e))return Promise.resolve();const s=[],o=[],a=e.columns.filter(u=>u.type==="enum"||u.type==="simple-enum"),l=[];for(const u of a){const d=await this.hasEnumType(e,u),h=this.buildEnumName(e,u);!d&&l.indexOf(h)===-1&&(l.push(h),s.push(this.createEnumTypeSql(e,u,h)),o.push(this.dropEnumTypeSql(e,u,h)))}const c=e.columns.filter(u=>u.generatedType==="STORED"&&u.asExpression);for(const u of c){const d=(await this.getTableNameWithSchema(e.name)).split("."),h=d[1],p=d[0],y=this.insertTypeormMetadataSql({database:this.driver.database,schema:p,table:h,type:Ne.GENERATED_COLUMN,name:u.name,value:u.asExpression}),v=this.deleteTypeormMetadataSql({database:this.driver.database,schema:p,table:h,type:Ne.GENERATED_COLUMN,name:u.name});s.push(y),o.push(v)}s.push(this.createTableSql(e,i)),o.push(this.dropTableSql(e)),i&&e.foreignKeys.forEach(u=>o.push(this.dropForeignKeySql(e,u))),r&&e.indices.forEach(u=>{u.name||(u.name=this.connection.namingStrategy.indexName(e,u.columnNames,u.where)),s.push(this.createIndexSql(e,u)),o.push(this.dropIndexSql(e,u))}),await this.executeQueries(s,o)}async dropTable(e,t,i=!0,r=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const s=i,o=this.getTablePath(e),a=await this.getCachedTable(o),l=[],c=[];r&&a.indices.forEach(d=>{l.push(this.dropIndexSql(a,d)),c.push(this.createIndexSql(a,d))}),i&&a.foreignKeys.forEach(d=>l.push(this.dropForeignKeySql(a,d))),l.push(this.dropTableSql(a)),c.push(this.createTableSql(a,s));const u=a.columns.filter(d=>d.generatedType&&d.asExpression);for(const d of u){const h=(await this.getTableNameWithSchema(a.name)).split("."),p=h[1],y=h[0],v=this.deleteTypeormMetadataSql({database:this.driver.database,schema:y,table:p,type:Ne.GENERATED_COLUMN,name:d.name}),S=this.insertTypeormMetadataSql({database:this.driver.database,schema:y,table:p,type:Ne.GENERATED_COLUMN,name:d.name,value:d.asExpression});l.push(v),c.push(S)}await this.executeQueries(l,c)}async createView(e,t=!1){const i=[],r=[];i.push(this.createViewSql(e)),t&&i.push(await this.insertViewDefinitionSql(e)),r.push(this.dropViewSql(e)),t&&r.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(i,r)}async dropView(e){const t=U.isView(e)?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(await this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(await this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){const i=[],r=[],s=U.isTable(e)?e:await this.getCachedTable(e),o=s.clone(),{schema:a,tableName:l}=this.driver.parseTableName(s);if(o.name=a?"".concat(a,".").concat(t):t,i.push(new R("ALTER TABLE ".concat(this.escapePath(s),' RENAME TO "').concat(t,'"'))),r.push(new R("ALTER TABLE ".concat(this.escapePath(o),' RENAME TO "').concat(l,'"'))),o.primaryColumns.length>0&&!o.primaryColumns[0].primaryKeyConstraintName){const u=o.primaryColumns.map(p=>p.name),d=this.connection.namingStrategy.primaryKeyName(s,u),h=this.connection.namingStrategy.primaryKeyName(o,u);i.push(new R("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(d,'" TO "').concat(h,'"'))),r.push(new R("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(h,'" TO "').concat(d,'"')))}o.columns.map(u=>{if(u.isGenerated&&u.generationStrategy==="increment"){const d=this.buildSequencePath(s,u.name),h=this.buildSequenceName(s,u.name),p=this.buildSequencePath(o,u.name),y=this.buildSequenceName(o,u.name),v="ALTER SEQUENCE ".concat(this.escapePath(d),' RENAME TO "').concat(y,'"'),S="ALTER SEQUENCE ".concat(this.escapePath(p),' RENAME TO "').concat(h,'"');i.push(new R(v)),r.push(new R(S))}}),o.uniques.forEach(u=>{const d=this.connection.namingStrategy.uniqueConstraintName(s,u.columnNames);if(u.name!==d)return;const h=this.connection.namingStrategy.uniqueConstraintName(o,u.columnNames);i.push(new R("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(u.name,'" TO "').concat(h,'"'))),r.push(new R("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(h,'" TO "').concat(u.name,'"'))),u.name=h}),o.indices.forEach(u=>{const d=this.connection.namingStrategy.indexName(s,u.columnNames,u.where);if(u.name!==d)return;const{schema:h}=this.driver.parseTableName(o),p=this.connection.namingStrategy.indexName(o,u.columnNames,u.where),y=h?'ALTER INDEX "'.concat(h,'"."').concat(u.name,'" RENAME TO "').concat(p,'"'):'ALTER INDEX "'.concat(u.name,'" RENAME TO "').concat(p,'"'),v=h?'ALTER INDEX "'.concat(h,'"."').concat(p,'" RENAME TO "').concat(u.name,'"'):'ALTER INDEX "'.concat(p,'" RENAME TO "').concat(u.name,'"');i.push(new R(y)),r.push(new R(v)),u.name=p}),o.foreignKeys.forEach(u=>{const d=this.connection.namingStrategy.foreignKeyName(s,u.columnNames,this.getTablePath(u),u.referencedColumnNames);if(u.name!==d)return;const h=this.connection.namingStrategy.foreignKeyName(o,u.columnNames,this.getTablePath(u),u.referencedColumnNames);i.push(new R("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(u.name,'" TO "').concat(h,'"'))),r.push(new R("ALTER TABLE ".concat(this.escapePath(o),' RENAME CONSTRAINT "').concat(h,'" TO "').concat(u.name,'"'))),u.name=h});const c=o.columns.filter(u=>u.type==="enum"||u.type==="simple-enum");for(let u of c){if(u.enumName)continue;const d=await this.getUserDefinedTypeName(s,u);i.push(new R('ALTER TYPE "'.concat(d.schema,'"."').concat(d.name,'" RENAME TO ').concat(this.buildEnumName(o,u,!1)))),r.push(new R("ALTER TYPE ".concat(this.buildEnumName(o,u),' RENAME TO "').concat(d.name,'"')))}await this.executeQueries(i,r)}async addColumn(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=i.clone(),s=[],o=[];if((t.type==="enum"||t.type==="simple-enum")&&(await this.hasEnumType(i,t)||(s.push(this.createEnumTypeSql(i,t)),o.push(this.dropEnumTypeSql(i,t)))),s.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(i,t)))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i),' DROP COLUMN "').concat(t.name,'"'))),t.isPrimary){const l=r.primaryColumns;if(l.length>0){const d=l[0].primaryKeyConstraintName?l[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,l.map(p=>p.name)),h=l.map(p=>'"'.concat(p.name,'"')).join(", ");s.push(new R("ALTER TABLE ".concat(this.escapePath(i),' DROP CONSTRAINT "').concat(d,'"'))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i),' ADD CONSTRAINT "').concat(d,'" PRIMARY KEY (').concat(h,")")))}l.push(t);const c=l[0].primaryKeyConstraintName?l[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,l.map(d=>d.name)),u=l.map(d=>'"'.concat(d.name,'"')).join(", ");s.push(new R("ALTER TABLE ".concat(this.escapePath(i),' ADD CONSTRAINT "').concat(c,'" PRIMARY KEY (').concat(u,")"))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i),' DROP CONSTRAINT "').concat(c,'"')))}const a=r.indices.find(l=>l.columnNames.length===1&&l.columnNames[0]===t.name);if(a&&(s.push(this.createIndexSql(i,a)),o.push(this.dropIndexSql(i,a))),t.isUnique){const l=new dn({name:this.connection.namingStrategy.uniqueConstraintName(i,[t.name]),columnNames:[t.name]});r.uniques.push(l),s.push(new R("ALTER TABLE ".concat(this.escapePath(i),' ADD CONSTRAINT "').concat(l.name,'" UNIQUE ("').concat(t.name,'")'))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i),' DROP CONSTRAINT "').concat(l.name,'"')))}if(t.generatedType==="STORED"&&t.asExpression){const l=(await this.getTableNameWithSchema(i.name)).split("."),c=l[1],u=l[0],d=this.insertTypeormMetadataSql({database:this.driver.database,schema:u,table:c,type:Ne.GENERATED_COLUMN,name:t.name,value:t.asExpression}),h=this.deleteTypeormMetadataSql({database:this.driver.database,schema:u,table:c,type:Ne.GENERATED_COLUMN,name:t.name});s.push(d),o.push(h)}t.comment&&(s.push(new R("COMMENT ON COLUMN ".concat(this.escapePath(i),'."').concat(t.name,'" IS ').concat(this.escapeComment(t.comment)))),o.push(new R("COMMENT ON COLUMN ".concat(this.escapePath(i),'."').concat(t.name,'" IS ').concat(this.escapeComment(t.comment))))),await this.executeQueries(s,o),r.addColumn(t),this.replaceCachedTable(i,r)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const r=U.isTable(e)?e:await this.getCachedTable(e),s=U.isTableColumn(t)?t:r.columns.find(a=>a.name===t);if(!s)throw new _('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;return U.isTableColumn(i)?o=i:(o=s.clone(),o.name=i),this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=U.isTable(e)?e:await this.getCachedTable(e);let s=r.clone();const o=[],a=[];let l=!1;const c=U.isTableColumn(t)?t:r.columns.find(u=>u.name===t);if(!c)throw new _('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));if(c.type!==i.type||c.length!==i.length||i.isArray!==c.isArray||!c.generatedType&&i.generatedType==="STORED"||c.asExpression!==i.asExpression&&i.generatedType==="STORED")await this.dropColumn(r,c),await this.addColumn(r,i),s=r.clone();else{if(c.name!==i.name){if(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' RENAME COLUMN "').concat(c.name,'" TO "').concat(i.name,'"'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' RENAME COLUMN "').concat(i.name,'" TO "').concat(c.name,'"'))),c.type==="enum"||c.type==="simple-enum"){const d=await this.getUserDefinedTypeName(r,c);o.push(new R('ALTER TYPE "'.concat(d.schema,'"."').concat(d.name,'" RENAME TO ').concat(this.buildEnumName(r,i,!1)))),a.push(new R("ALTER TYPE ".concat(this.buildEnumName(r,i),' RENAME TO "').concat(d.name,'"')))}if(c.isPrimary===!0&&!c.primaryKeyConstraintName){const h=s.primaryColumns.map(v=>v.name),p=this.connection.namingStrategy.primaryKeyName(s,h);h.splice(h.indexOf(c.name),1),h.push(i.name);const y=this.connection.namingStrategy.primaryKeyName(s,h);o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(p,'" TO "').concat(y,'"'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(y,'" TO "').concat(p,'"')))}if(c.isGenerated===!0&&i.generationStrategy==="increment"){const d=this.buildSequencePath(r,c.name),h=this.buildSequenceName(r,c.name),p=this.buildSequencePath(r,i.name),y=this.buildSequenceName(r,i.name),v="ALTER SEQUENCE ".concat(this.escapePath(d),' RENAME TO "').concat(y,'"'),S="ALTER SEQUENCE ".concat(this.escapePath(p),' RENAME TO "').concat(h,'"');o.push(new R(v)),a.push(new R(S))}s.findColumnUniques(c).forEach(d=>{const h=this.connection.namingStrategy.uniqueConstraintName(s,d.columnNames);if(d.name!==h)return;d.columnNames.splice(d.columnNames.indexOf(c.name),1),d.columnNames.push(i.name);const p=this.connection.namingStrategy.uniqueConstraintName(s,d.columnNames);o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(d.name,'" TO "').concat(p,'"'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(p,'" TO "').concat(d.name,'"'))),d.name=p}),s.findColumnIndices(c).forEach(d=>{const h=this.connection.namingStrategy.indexName(s,d.columnNames,d.where);if(d.name!==h)return;d.columnNames.splice(d.columnNames.indexOf(c.name),1),d.columnNames.push(i.name);const{schema:p}=this.driver.parseTableName(r),y=this.connection.namingStrategy.indexName(s,d.columnNames,d.where),v=p?'ALTER INDEX "'.concat(p,'"."').concat(d.name,'" RENAME TO "').concat(y,'"'):'ALTER INDEX "'.concat(d.name,'" RENAME TO "').concat(y,'"'),S=p?'ALTER INDEX "'.concat(p,'"."').concat(y,'" RENAME TO "').concat(d.name,'"'):'ALTER INDEX "'.concat(y,'" RENAME TO "').concat(d.name,'"');o.push(new R(v)),a.push(new R(S)),d.name=y}),s.findColumnForeignKeys(c).forEach(d=>{const h=this.connection.namingStrategy.foreignKeyName(s,d.columnNames,this.getTablePath(d),d.referencedColumnNames);if(d.name!==h)return;d.columnNames.splice(d.columnNames.indexOf(c.name),1),d.columnNames.push(i.name);const p=this.connection.namingStrategy.foreignKeyName(s,d.columnNames,this.getTablePath(d),d.referencedColumnNames);o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(d.name,'" TO "').concat(p,'"'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' RENAME CONSTRAINT "').concat(p,'" TO "').concat(d.name,'"'))),d.name=p});const u=s.columns.find(d=>d.name===c.name);s.columns[s.columns.indexOf(u)].name=i.name,c.name=i.name}if((i.precision!==c.precision||i.scale!==c.scale)&&(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(i)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(c))))),(i.type==="enum"||i.type==="simple-enum")&&(c.type==="enum"||c.type==="simple-enum")&&(!ve.isArraysEqual(i.enum,c.enum)||i.enumName!==c.enumName)){const u=i.isArray?"[]":"",d=this.buildEnumName(r,i),h=this.buildEnumName(r,c),p=this.buildEnumName(r,c,!1),y=this.buildEnumName(r,c,!0,!1,!0),v=this.buildEnumName(r,c,!1,!1,!0);o.push(new R("ALTER TYPE ".concat(h," RENAME TO ").concat(v))),a.push(new R("ALTER TYPE ".concat(y," RENAME TO ").concat(p))),o.push(this.createEnumTypeSql(r,i,d)),a.push(this.dropEnumTypeSql(r,i,d)),c.default!==null&&c.default!==void 0&&(l=!0,o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP DEFAULT'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET DEFAULT ').concat(c.default))));const S="".concat(d).concat(u,' USING "').concat(i.name,'"::"text"::').concat(d).concat(u),E="".concat(y).concat(u,' USING "').concat(i.name,'"::"text"::').concat(y).concat(u);o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(S))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(E))),i.default!==null&&i.default!==void 0&&(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(i.default))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))),o.push(this.dropEnumTypeSql(r,c,y)),a.push(this.createEnumTypeSql(r,c,y))}if(c.isNullable!==i.isNullable&&(i.isNullable?(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP NOT NULL'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET NOT NULL')))):(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET NOT NULL'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP NOT NULL'))))),c.comment!==i.comment&&(o.push(new R("COMMENT ON COLUMN ".concat(this.escapePath(r),'."').concat(c.name,'" IS ').concat(this.escapeComment(i.comment)))),a.push(new R("COMMENT ON COLUMN ".concat(this.escapePath(r),'."').concat(i.name,'" IS ').concat(this.escapeComment(c.comment))))),i.isPrimary!==c.isPrimary){const u=s.primaryColumns;if(u.length>0){const d=u[0].primaryKeyConstraintName?u[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,u.map(p=>p.name)),h=u.map(p=>'"'.concat(p.name,'"')).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(d,'"'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(d,'" PRIMARY KEY (').concat(h,")")))}if(i.isPrimary===!0){u.push(i);const d=s.columns.find(y=>y.name===i.name);d.isPrimary=!0;const h=u[0].primaryKeyConstraintName?u[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,u.map(y=>y.name)),p=u.map(y=>'"'.concat(y.name,'"')).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(h,'" PRIMARY KEY (').concat(p,")"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(h,'"')))}else{const d=u.find(p=>p.name===i.name);u.splice(u.indexOf(d),1);const h=s.columns.find(p=>p.name===i.name);if(h.isPrimary=!1,u.length>0){const p=u[0].primaryKeyConstraintName?u[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,u.map(v=>v.name)),y=u.map(v=>'"'.concat(v.name,'"')).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(p,'" PRIMARY KEY (').concat(y,")"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(p,'"')))}}}if(i.isUnique!==c.isUnique)if(i.isUnique===!0){const u=new dn({name:this.connection.namingStrategy.uniqueConstraintName(r,[i.name]),columnNames:[i.name]});s.uniques.push(u),o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(u.name,'" UNIQUE ("').concat(i.name,'")'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(u.name,'"')))}else{const u=s.uniques.find(d=>d.columnNames.length===1&&!!d.columnNames.find(h=>h===i.name));s.uniques.splice(s.uniques.indexOf(u),1),o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(u.name,'"'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(u.name,'" UNIQUE ("').concat(i.name,'")')))}if(c.isGenerated!==i.isGenerated&&(c.isGenerated&&(c.generationStrategy==="uuid"?(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" DROP DEFAULT'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(c.name,'" SET DEFAULT ').concat(this.driver.uuidGenerator)))):c.generationStrategy==="increment"&&(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,"\" SET DEFAULT nextval('").concat(this.escapePath(this.buildSequencePath(r,i)),"')"))),o.push(new R("DROP SEQUENCE ".concat(this.escapePath(this.buildSequencePath(r,i))))),a.push(new R("CREATE SEQUENCE IF NOT EXISTS ".concat(this.escapePath(this.buildSequencePath(r,i))," OWNED BY ").concat(this.escapePath(r),'."').concat(i.name,'"'))))),i.generationStrategy==="uuid"?i.isGenerated===!0?(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(this.driver.uuidGenerator))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))):(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(this.driver.uuidGenerator)))):i.generationStrategy==="increment"&&(i.isGenerated===!0?(o.push(new R("CREATE SEQUENCE IF NOT EXISTS ".concat(this.escapePath(this.buildSequencePath(r,i))," OWNED BY ").concat(this.escapePath(r),'."').concat(i.name,'"'))),a.push(new R("DROP SEQUENCE ".concat(this.escapePath(this.buildSequencePath(r,i))))),o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,"\" SET DEFAULT nextval('").concat(this.escapePath(this.buildSequencePath(r,i)),"')"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))):(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,"\" SET DEFAULT nextval('").concat(this.escapePath(this.buildSequencePath(r,i)),"')"))),o.push(new R("DROP SEQUENCE ".concat(this.escapePath(this.buildSequencePath(r,i))))),a.push(new R("CREATE SEQUENCE IF NOT EXISTS ".concat(this.escapePath(this.buildSequencePath(r,i))," OWNED BY ").concat(this.escapePath(r),'."').concat(i.name,'"')))))),i.default!==c.default&&!l&&(i.default!==null&&i.default!==void 0?(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(i.default))),c.default!==null&&c.default!==void 0?a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(c.default))):a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT')))):c.default!==null&&c.default!==void 0&&(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" DROP DEFAULT'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" SET DEFAULT ').concat(c.default))))),((i.spatialFeatureType||"").toLowerCase()!==(c.spatialFeatureType||"").toLowerCase()||i.srid!==c.srid)&&(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(i)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(c))))),i.generatedType!==c.generatedType&&(!i.generatedType||i.generatedType==="VIRTUAL")){const u=(await this.getTableNameWithSchema(r.name)).split("."),d=u[1],h=u[0];o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' RENAME COLUMN "').concat(c.name,'" TO "TEMP_OLD_').concat(c.name,'"'))),o.push(new R("ALTER TABLE ".concat(this.escapePath(r)," ADD ").concat(this.buildCreateColumnSql(r,i)))),o.push(new R("UPDATE ".concat(this.escapePath(r),' SET "').concat(i.name,'" = "TEMP_OLD_').concat(c.name,'"'))),o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' DROP COLUMN "TEMP_OLD_').concat(c.name,'"'))),o.push(this.deleteTypeormMetadataSql({database:this.driver.database,schema:h,table:d,type:Ne.GENERATED_COLUMN,name:c.name})),a.push(this.insertTypeormMetadataSql({database:this.driver.database,schema:h,table:d,type:Ne.GENERATED_COLUMN,name:c.name,value:c.asExpression})),a.push(new R("ALTER TABLE ".concat(this.escapePath(r)," ADD ").concat(this.buildCreateColumnSql(r,c)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' DROP COLUMN "').concat(i.name,'"')))}}await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:r}of t)await this.changeColumn(e,i,r)}async dropColumn(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableColumn(t)?t:i.findColumnByName(t);if(!r)throw new _('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));const s=i.clone(),o=[],a=[];if(r.isPrimary){const d=r.primaryKeyConstraintName?r.primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,s.primaryColumns.map(y=>y.name)),h=s.primaryColumns.map(y=>'"'.concat(y.name,'"')).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(s),' DROP CONSTRAINT "').concat(d,'"'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(s),' ADD CONSTRAINT "').concat(d,'" PRIMARY KEY (').concat(h,")")));const p=s.findColumnByName(r.name);if(p.isPrimary=!1,s.primaryColumns.length>0){const y=s.primaryColumns[0].primaryKeyConstraintName?s.primaryColumns[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,s.primaryColumns.map(S=>S.name)),v=s.primaryColumns.map(S=>'"'.concat(S.name,'"')).join(", ");o.push(new R("ALTER TABLE ".concat(this.escapePath(s),' ADD CONSTRAINT "').concat(y,'" PRIMARY KEY (').concat(v,")"))),a.push(new R("ALTER TABLE ".concat(this.escapePath(s),' DROP CONSTRAINT "').concat(y,'"')))}}const l=s.indices.find(d=>d.columnNames.length===1&&d.columnNames[0]===r.name);l&&(s.indices.splice(s.indices.indexOf(l),1),o.push(this.dropIndexSql(i,l)),a.push(this.createIndexSql(i,l)));const c=s.checks.find(d=>!!d.columnNames&&d.columnNames.length===1&&d.columnNames[0]===r.name);c&&(s.checks.splice(s.checks.indexOf(c),1),o.push(this.dropCheckConstraintSql(i,c)),a.push(this.createCheckConstraintSql(i,c)));const u=s.uniques.find(d=>d.columnNames.length===1&&d.columnNames[0]===r.name);if(u&&(s.uniques.splice(s.uniques.indexOf(u),1),o.push(this.dropUniqueConstraintSql(i,u)),a.push(this.createUniqueConstraintSql(i,u))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i),' DROP COLUMN "').concat(r.name,'"'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(i,r)))),(r.type==="enum"||r.type==="simple-enum")&&await this.hasEnumType(i,r)){const h=await this.getUserDefinedTypeName(i,r),p='"'.concat(h.schema,'"."').concat(h.name,'"');o.push(this.dropEnumTypeSql(i,r,p)),a.push(this.createEnumTypeSql(i,r,p))}if(r.generatedType==="STORED"){const d=(await this.getTableNameWithSchema(i.name)).split("."),h=d[1],p=d[0],y=this.deleteTypeormMetadataSql({database:this.driver.database,schema:p,table:h,type:Ne.GENERATED_COLUMN,name:r.name}),v=this.insertTypeormMetadataSql({database:this.driver.database,schema:p,table:h,type:Ne.GENERATED_COLUMN,name:r.name,value:r.asExpression});o.push(y),a.push(v)}await this.executeQueries(o,a),s.removeColumn(r),this.replaceCachedTable(i,s)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t,i){const r=U.isTable(e)?e:await this.getCachedTable(e),s=r.clone(),o=this.createPrimaryKeySql(r,t,i);s.columns.forEach(l=>{t.find(c=>c===l.name)&&(l.isPrimary=!0)});const a=this.dropPrimaryKeySql(s);await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async updatePrimaryKeys(e,t){var i;const r=U.isTable(e)?e:await this.getCachedTable(e),s=r.clone(),o=t.map(h=>h.name),a=[],l=[],c=s.primaryColumns;if(c.length>0){const h=c[0].primaryKeyConstraintName?c[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,c.map(y=>y.name)),p=c.map(y=>'"'.concat(y.name,'"')).join(", ");a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(h,'"'))),l.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(h,'" PRIMARY KEY (').concat(p,")")))}s.columns.filter(h=>o.indexOf(h.name)!==-1).forEach(h=>h.isPrimary=!0);const u=!((i=c[0])===null||i===void 0)&&i.primaryKeyConstraintName?c[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(s,o),d=o.map(h=>'"'.concat(h,'"')).join(", ");a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ADD CONSTRAINT "').concat(u,'" PRIMARY KEY (').concat(d,")"))),l.push(new R("ALTER TABLE ".concat(this.escapePath(r),' DROP CONSTRAINT "').concat(u,'"'))),await this.executeQueries(a,l),this.replaceCachedTable(r,s)}async dropPrimaryKey(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=this.dropPrimaryKeySql(i),s=this.createPrimaryKeySql(i,i.primaryColumns.map(o=>o.name),t);await this.executeQueries(r,s),i.primaryColumns.forEach(o=>{o.isPrimary=!1})}async createUniqueConstraint(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.uniqueConstraintName(i,t.columnNames));const r=this.createUniqueConstraintSql(i,t),s=this.dropUniqueConstraintSql(i,t);await this.executeQueries(r,s),i.addUniqueConstraint(t)}async createUniqueConstraints(e,t){for(const i of t)await this.createUniqueConstraint(e,i)}async dropUniqueConstraint(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableUnique(t)?t:i.uniques.find(a=>a.name===t);if(!r)throw new _("Supplied unique constraint was not found in table ".concat(i.name));const s=this.dropUniqueConstraintSql(i,r),o=this.createUniqueConstraintSql(i,r);await this.executeQueries(s,o),i.removeUniqueConstraint(r)}async dropUniqueConstraints(e,t){for(const i of t)await this.dropUniqueConstraint(e,i)}async createCheckConstraint(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.checkConstraintName(i,t.expression));const r=this.createCheckConstraintSql(i,t),s=this.dropCheckConstraintSql(i,t);await this.executeQueries(r,s),i.addCheckConstraint(t)}async createCheckConstraints(e,t){const i=t.map(r=>this.createCheckConstraint(e,r));await Promise.all(i)}async dropCheckConstraint(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableCheck(t)?t:i.checks.find(a=>a.name===t);if(!r)throw new _("Supplied check constraint was not found in table ".concat(i.name));const s=this.dropCheckConstraintSql(i,r),o=this.createCheckConstraintSql(i,r);await this.executeQueries(s,o),i.removeCheckConstraint(r)}async dropCheckConstraints(e,t){const i=t.map(r=>this.dropCheckConstraint(e,r));await Promise.all(i)}async createExclusionConstraint(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.exclusionConstraintName(i,t.expression));const r=this.createExclusionConstraintSql(i,t),s=this.dropExclusionConstraintSql(i,t);await this.executeQueries(r,s),i.addExclusionConstraint(t)}async createExclusionConstraints(e,t){const i=t.map(r=>this.createExclusionConstraint(e,r));await Promise.all(i)}async dropExclusionConstraint(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableExclusion(t)?t:i.exclusions.find(a=>a.name===t);if(!r)throw new _("Supplied exclusion constraint was not found in table ".concat(i.name));const s=this.dropExclusionConstraintSql(i,r),o=this.createExclusionConstraintSql(i,r);await this.executeQueries(s,o),i.removeExclusionConstraint(r)}async dropExclusionConstraints(e,t){const i=t.map(r=>this.dropExclusionConstraint(e,r));await Promise.all(i)}async createForeignKey(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames,this.getTablePath(t),t.referencedColumnNames));const r=this.createForeignKeySql(i,t),s=this.dropForeignKeySql(i,t);await this.executeQueries(r,s),i.addForeignKey(t)}async createForeignKeys(e,t){for(const i of t)await this.createForeignKey(e,i)}async dropForeignKey(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableForeignKey(t)?t:i.foreignKeys.find(a=>a.name===t);if(!r)throw new _("Supplied foreign key was not found in table ".concat(i.name));r.name||(r.name=this.connection.namingStrategy.foreignKeyName(i,r.columnNames,this.getTablePath(r),r.referencedColumnNames));const s=this.dropForeignKeySql(i,r),o=this.createForeignKeySql(i,r);await this.executeQueries(s,o),i.removeForeignKey(r)}async dropForeignKeys(e,t){for(const i of t)await this.dropForeignKey(e,i)}async createIndex(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t)}async createViewIndex(e,t){const i=U.isView(e)?e:await this.getCachedView(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createViewIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t)}async createIndices(e,t){for(const i of t)await this.createIndex(e,i)}async createViewIndices(e,t){for(const i of t)await this.createViewIndex(e,i)}async dropIndex(e,t){const i=U.isTable(e)?e:await this.getCachedTable(e),r=U.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new _("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropViewIndex(e,t){const i=U.isView(e)?e:await this.getCachedView(e),r=U.isTableIndex(t)?t:i.indices.find(a=>a.name===t);if(!r)throw new _("Supplied index ".concat(t," was not found in view ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createViewIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropIndices(e,t){for(const i of t)await this.dropIndex(e,i)}async clearTable(e){await this.query("TRUNCATE TABLE ".concat(this.escapePath(e)))}async clearDatabase(){const e=[];this.connection.entityMetadatas.filter(r=>r.schema).forEach(r=>{!!e.find(o=>o===r.schema)||e.push(r.schema)}),e.push(this.driver.options.schema||"current_schema()");const t=e.map(r=>r==="current_schema()"?r:"'"+r+"'").join(", "),i=this.isTransactionActive;i||await this.startTransaction();try{const r=await this.getVersion(),s="SELECT 'DROP VIEW IF EXISTS \"' || schemaname || '\".\"' || viewname || '\" CASCADE;' as \"query\" "+'FROM "pg_views" WHERE "schemaname" IN ('.concat(t,") AND \"viewname\" NOT IN ('geography_columns', 'geometry_columns', 'raster_columns', 'raster_overviews')"),o=await this.query(s);if(await Promise.all(o.map(c=>this.query(c.query))),DC.isGreaterOrEqual(r,"9.3")){const c="SELECT 'DROP MATERIALIZED VIEW IF EXISTS \"' || schemaname || '\".\"' || matviewname || '\" CASCADE;' as \"query\" "+'FROM "pg_matviews" WHERE "schemaname" IN ('.concat(t,")"),u=await this.query(c);await Promise.all(u.map(d=>this.query(d.query)))}const a='SELECT \'DROP TABLE IF EXISTS "\' || schemaname || \'"."\' || tablename || \'" CASCADE;\' as "query" FROM "pg_tables" WHERE "schemaname" IN ('.concat(t,") AND \"tablename\" NOT IN ('spatial_ref_sys')"),l=await this.query(a);await Promise.all(l.map(c=>this.query(c.query))),await this.dropEnumTypes(t),i||await this.commitTransaction()}catch(r){try{i||await this.rollbackTransaction()}catch(s){}throw r}}async loadViews(e){if(!await this.hasTable(this.getTypeormMetadataTableName()))return[];e||(e=[]);const i=await this.getCurrentDatabase(),r=await this.getCurrentSchema(),s=e.length===0?"1=1":e.map(d=>this.driver.parseTableName(d)).map(({schema:d,tableName:h})=>(d||(d=this.driver.options.schema||r),'("t"."schema" = \''.concat(d,'\' AND "t"."name" = \'').concat(h,"')"))).join(" OR "),o=e.length===0?"1=1":e.map(d=>this.driver.parseTableName(d)).map(({schema:d,tableName:h})=>(d||(d=this.driver.options.schema||r),'("ns"."nspname" = \''.concat(d,'\' AND "t"."relname" = \'').concat(h,"')"))).join(" OR "),a='SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN \'t\' THEN \'TRUE\' ELSE\'FALSE\' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" '+'WHERE "t"."relkind" IN (\'m\') AND "cnst"."contype" IS NULL AND ('.concat(o,")"),l='SELECT "t".* FROM '.concat(this.escapePath(this.getTypeormMetadataTableName()),' "t" ')+'INNER JOIN "pg_catalog"."pg_class" "c" ON "c"."relname" = "t"."name" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "c"."relnamespace" AND "n"."nspname" = "t"."schema" '+'WHERE "t"."type" IN (\''.concat(Ne.VIEW,"', '").concat(Ne.MATERIALIZED_VIEW,"') ").concat(s?"AND (".concat(s,")"):""),c=await this.query(l),u=await this.query(a);return c.map(d=>{const h=ve.uniq(u.filter(v=>v.table_name===d.name&&v.table_schema===d.schema),v=>v.constraint_name),p=new Tr,y=d.schema===r&&!this.driver.options.schema?void 0:d.schema;return p.database=i,p.schema=d.schema,p.name=this.driver.buildTableName(d.name,y),p.expression=d.value,p.materialized=d.type===Ne.MATERIALIZED_VIEW,p.indices=h.map(v=>{const S=u.filter(E=>E.table_schema===v.table_schema&&E.table_name===v.table_name&&E.constraint_name===v.constraint_name);return new St({view:p,name:v.constraint_name,columnNames:S.map(E=>E.column_name),isUnique:v.is_unique==="TRUE",where:v.condition,isFulltext:!1})}),p})}async loadTables(e){if(e&&e.length===0)return[];const t=await this.getCurrentSchema(),i=await this.getCurrentDatabase(),r=[];if(e){const C='SELECT "table_schema", "table_name" FROM "information_schema"."tables" WHERE '+e.map(P=>this.driver.parseTableName(P)).map(({schema:P,tableName:q})=>'("table_schema" = \''.concat(P||t,"' AND \"table_name\" = '").concat(q,"')")).join(" OR ");r.push(...await this.query(C))}else{const w='SELECT "table_schema", "table_name" FROM "information_schema"."tables"';r.push(...await this.query(w))}if(r.length===0)return[];const o='SELECT columns.*, pg_catalog.col_description((\'"\' || table_catalog || \'"."\' || table_schema || \'"."\' || table_name || \'"\')::regclass::oid, ordinal_position) AS description, (\'"\' || "udt_schema" || \'"."\' || "udt_name" || \'"\')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE '+r.map(({table_schema:w,table_name:C})=>'("table_schema" = \''.concat(w,"' AND \"table_name\" = '").concat(C,"')")).join(" OR "),a=r.map(({table_schema:w,table_name:C})=>'("ns"."nspname" = \''.concat(w,'\' AND "t"."relname" = \'').concat(C,"')")).join(" OR "),l='SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN \'p\' THEN \'PRIMARY\' WHEN \'u\' THEN \'UNIQUE\' WHEN \'c\' THEN \'CHECK\' WHEN \'x\' THEN \'EXCLUDE\' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") '+"WHERE \"t\".\"relkind\" IN ('r', 'p') AND (".concat(a,")"),c='SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN \'t\' THEN \'TRUE\' ELSE\'FALSE\' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" '+'WHERE "t"."relkind" IN (\'r\', \'p\') AND "cnst"."contype" IS NULL AND ('.concat(a,")"),u=r.map(({table_schema:w,table_name:C})=>'("ns"."nspname" = \''.concat(w,'\' AND "cl"."relname" = \'').concat(C,"')")).join(" OR "),h=await this.hasSupportForPartitionedTables()?' AND "cl"."relispartition" = \'f\'':"",p='SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN \'INITIALLY DEFERRED\' ELSE \'INITIALLY IMMEDIATE\' END as condeferred, CASE "con1"."confdeltype" WHEN \'a\' THEN \'NO ACTION\' WHEN \'r\' THEN \'RESTRICT\' WHEN \'c\' THEN \'CASCADE\' WHEN \'n\' THEN \'SET NULL\' WHEN \'d\' THEN \'SET DEFAULT\' END as "confdeltype", CASE "con1"."confupdtype" WHEN \'a\' THEN \'NO ACTION\' WHEN \'r\' THEN \'RESTRICT\' WHEN \'c\' THEN \'CASCADE\' WHEN \'n\' THEN \'SET NULL\' WHEN \'d\' THEN \'SET DEFAULT\' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" '+'WHERE "con1"."contype" = \'f\' AND ('.concat(u,") ")+') "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" '+'INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid" '.concat(h)+'INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"',[y,v,S,E]=await Promise.all([this.query(o),this.query(l),this.query(c),this.query(p)]);return Promise.all(r.map(async w=>{const C=new mt,P=(k,J)=>k[J]===t&&(!this.driver.options.schema||this.driver.options.schema===t)?void 0:k[J],q=P(w,"table_schema");C.database=i,C.schema=w.table_schema,C.name=this.driver.buildTableName(w.table_name,q),C.columns=await Promise.all(y.filter(k=>k.table_name===w.table_name&&k.table_schema===w.table_schema).map(async k=>{const J=v.filter(de=>de.table_name===k.table_name&&de.table_schema===k.table_schema&&de.column_name===k.column_name),j=new Nn;if(j.name=k.column_name,j.type=k.regtype.toLowerCase(),(j.type==="numeric"||j.type==="decimal"||j.type==="float")&&(k.numeric_precision!==null&&!this.isDefaultColumnPrecision(C,j,k.numeric_precision)?j.precision=k.numeric_precision:k.numeric_scale!==null&&!this.isDefaultColumnScale(C,j,k.numeric_scale)&&(j.precision=void 0),k.numeric_scale!==null&&!this.isDefaultColumnScale(C,j,k.numeric_scale)?j.scale=k.numeric_scale:k.numeric_precision!==null&&!this.isDefaultColumnPrecision(C,j,k.numeric_precision)&&(j.scale=void 0)),(j.type==="interval"||j.type==="time without time zone"||j.type==="time with time zone"||j.type==="timestamp without time zone"||j.type==="timestamp with time zone")&&(j.precision=this.isDefaultColumnPrecision(C,j,k.datetime_precision)?void 0:k.datetime_precision),k.data_type==="USER-DEFINED"||k.data_type==="ARRAY"){const{name:de}=await this.getUserDefinedTypeName(C,j),ie=this.buildEnumName(C,j,!1,!0)!==de?de:void 0,B='SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" '+'WHERE "n"."nspname" = \''.concat(w.table_schema,'\' AND "t"."typname" = \'').concat(ie||de,"'"),K=await this.query(B);if(K.length&&(j.type="enum",j.enum=K.map(ae=>ae.value),j.enumName=ie),k.data_type==="ARRAY"){j.isArray=!0;const ae=j.type.replace("[]","");j.type=this.connection.driver.normalizeType({type:ae})}}if(j.type==="geometry"||j.type==="geography"){const de='SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", '+'"f_'.concat(j.type,'_column" "column_name", "srid", "type" ')+'FROM "'.concat(j.type,'_columns"')+") AS _ "+'WHERE "column_name" = \''.concat(k.column_name,"' AND ")+'"table_schema" = \''.concat(k.table_schema,"' AND ")+'"table_name" = \''.concat(k.table_name,"'"),Z=await this.query(de);Z.length>0&&(j.spatialFeatureType=Z[0].type,j.srid=Z[0].srid)}if(this.driver.withLengthColumnTypes.indexOf(j.type)!==-1){let de;if(j.isArray){const Z=/\((\d+)\)/.exec(k.format_type);de=Z?Z[1]:void 0}else k.character_maximum_length&&(de=k.character_maximum_length.toString());de&&(j.length=this.isDefaultColumnLength(C,j,de)?"":de)}j.isNullable=k.is_nullable==="YES";const ne=J.find(de=>de.constraint_type==="PRIMARY");if(ne){j.isPrimary=!0;const Z=v.filter(B=>B.table_name===k.table_name&&B.table_schema===k.table_schema&&B.column_name!==k.column_name&&B.constraint_type==="PRIMARY").map(B=>B.column_name);Z.push(k.column_name);const ie=this.connection.namingStrategy.primaryKeyName(C,Z);ne.constraint_name!==ie&&(j.primaryKeyConstraintName=ne.constraint_name)}const ue=J.filter(de=>de.constraint_type==="UNIQUE"),fe=ue.every(de=>v.some(Z=>Z.constraint_type==="UNIQUE"&&Z.constraint_name===de.constraint_name&&Z.column_name!==k.column_name));if(j.isUnique=ue.length>0&&!fe,k.is_identity==="YES")j.isGenerated=!0,j.generationStrategy="identity",j.generatedIdentity=k.identity_generation;else if(k.column_default!==null&&k.column_default!==void 0){const de="nextval('".concat(this.buildSequenceName(C,k.column_name),"'::regclass)"),Z="nextval('".concat(this.buildSequencePath(C,k.column_name),"'::regclass)"),ie=k.column_default.replace(/"/g,"");ie===de||ie===Z?(j.isGenerated=!0,j.generationStrategy="increment"):k.column_default==="gen_random_uuid()"||/^uuid_generate_v\d\(\)/.test(k.column_default)?j.type==="uuid"?(j.isGenerated=!0,j.generationStrategy="uuid"):j.default=k.column_default:k.column_default==="now()"||k.column_default.indexOf("'now'::text")!==-1?j.default=k.column_default:(j.default=k.column_default.replace(/::[\w\s.\[\]\-"]+/g,""),j.default=j.default.replace(/^(-?\d+)$/,"'$1'"))}if(k.is_generated==="ALWAYS"&&k.generation_expression){j.generatedType="STORED";const de=await this.selectTypeormMetadataSql({database:i,schema:w.table_schema,table:w.table_name,type:Ne.GENERATED_COLUMN,name:j.name}),Z=await this.query(de.query,de.parameters);Z[0]&&Z[0].value?j.asExpression=Z[0].value:j.asExpression=""}return j.comment=k.description?k.description:void 0,k.character_set_name&&(j.charset=k.character_set_name),k.collation_name&&(j.collation=k.collation_name),j}));const H=ve.uniq(v.filter(k=>k.table_name===w.table_name&&k.table_schema===w.table_schema&&k.constraint_type==="UNIQUE"),k=>k.constraint_name);C.uniques=H.map(k=>{const J=v.filter(j=>j.constraint_name===k.constraint_name);return new dn({name:k.constraint_name,columnNames:J.map(j=>j.column_name),deferrable:k.deferrable?k.deferred:void 0})});const L=ve.uniq(v.filter(k=>k.table_name===w.table_name&&k.table_schema===w.table_schema&&k.constraint_type==="CHECK"),k=>k.constraint_name);C.checks=L.map(k=>{const J=v.filter(j=>j.constraint_name===k.constraint_name);return new Ii({name:k.constraint_name,columnNames:J.map(j=>j.column_name),expression:k.expression.replace(/^\s*CHECK\s*\((.*)\)\s*$/i,"$1")})});const M=ve.uniq(v.filter(k=>k.table_name===w.table_name&&k.table_schema===w.table_schema&&k.constraint_type==="EXCLUDE"),k=>k.constraint_name);C.exclusions=M.map(k=>new Fs({name:k.constraint_name,expression:k.expression.substring(8)}));const O=ve.uniq(E.filter(k=>k.table_name===w.table_name&&k.table_schema===w.table_schema),k=>k.constraint_name);C.foreignKeys=O.map(k=>{const J=E.filter(ue=>ue.constraint_name===k.constraint_name),j=P(k,"referenced_table_schema"),ne=this.driver.buildTableName(k.referenced_table_name,j);return new li({name:k.constraint_name,columnNames:J.map(ue=>ue.column_name),referencedSchema:k.referenced_table_schema,referencedTableName:ne,referencedColumnNames:J.map(ue=>ue.referenced_column_name),onDelete:k.on_delete,onUpdate:k.on_update,deferrable:k.deferrable?k.deferred:void 0})});const Q=ve.uniq(S.filter(k=>k.table_name===w.table_name&&k.table_schema===w.table_schema),k=>k.constraint_name);return C.indices=Q.map(k=>{const J=S.filter(j=>j.table_schema===k.table_schema&&j.table_name===k.table_name&&j.constraint_name===k.constraint_name);return new St({table:C,name:k.constraint_name,columnNames:J.map(j=>j.column_name),isUnique:k.is_unique==="TRUE",where:k.condition,isSpatial:J.every(j=>this.driver.spatialTypes.indexOf(j.type_name)>=0),isFulltext:!1})}),C}))}createTableSql(e,t){const i=e.columns.map(o=>this.buildCreateColumnSql(e,o)).join(", ");let r="CREATE TABLE ".concat(this.escapePath(e)," (").concat(i);if(e.columns.filter(o=>o.isUnique).forEach(o=>{e.uniques.some(l=>l.columnNames.length===1&&l.columnNames[0]===o.name)||e.uniques.push(new dn({name:this.connection.namingStrategy.uniqueConstraintName(e,[o.name]),columnNames:[o.name]}))}),e.uniques.length>0){const o=e.uniques.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.uniqueConstraintName(e,a.columnNames),c=a.columnNames.map(d=>'"'.concat(d,'"')).join(", ");let u='CONSTRAINT "'.concat(l,'" UNIQUE (').concat(c,")");return a.deferrable&&(u+=" DEFERRABLE ".concat(a.deferrable)),u}).join(", ");r+=", ".concat(o)}if(e.checks.length>0){const o=e.checks.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.checkConstraintName(e,a.expression);return'CONSTRAINT "'.concat(l,'" CHECK (').concat(a.expression,")")}).join(", ");r+=", ".concat(o)}if(e.exclusions.length>0){const o=e.exclusions.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.exclusionConstraintName(e,a.expression);return'CONSTRAINT "'.concat(l,'" EXCLUDE ').concat(a.expression)}).join(", ");r+=", ".concat(o)}if(e.foreignKeys.length>0&&t){const o=e.foreignKeys.map(a=>{const l=a.columnNames.map(d=>'"'.concat(d,'"')).join(", ");a.name||(a.name=this.connection.namingStrategy.foreignKeyName(e,a.columnNames,this.getTablePath(a),a.referencedColumnNames));const c=a.referencedColumnNames.map(d=>'"'.concat(d,'"')).join(", ");let u='CONSTRAINT "'.concat(a.name,'" FOREIGN KEY (').concat(l,") REFERENCES ").concat(this.escapePath(this.getTablePath(a))," (").concat(c,")");return a.onDelete&&(u+=" ON DELETE ".concat(a.onDelete)),a.onUpdate&&(u+=" ON UPDATE ".concat(a.onUpdate)),a.deferrable&&(u+=" DEFERRABLE ".concat(a.deferrable)),u}).join(", ");r+=", ".concat(o)}const s=e.columns.filter(o=>o.isPrimary);if(s.length>0){const o=s[0].primaryKeyConstraintName?s[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(e,s.map(l=>l.name)),a=s.map(l=>'"'.concat(l.name,'"')).join(", ");r+=', CONSTRAINT "'.concat(o,'" PRIMARY KEY (').concat(a,")")}return r+=")",e.columns.filter(o=>o.comment).forEach(o=>r+="; COMMENT ON COLUMN ".concat(this.escapePath(e),'."').concat(o.name,'" IS ').concat(this.escapeComment(o.comment))),new R(r)}async getVersion(){return(await this.query("SELECT version()"))[0].version.replace(/^PostgreSQL ([\d\.]+) .*$/,"$1")}dropTableSql(e){return new R("DROP TABLE ".concat(this.escapePath(e)))}createViewSql(e){const t=e.materialized?"MATERIALIZED ":"",i=this.escapePath(e);return typeof e.expression=="string"?new R("CREATE ".concat(t,"VIEW ").concat(i," AS ").concat(e.expression)):new R("CREATE ".concat(t,"VIEW ").concat(i," AS ").concat(e.expression(this.connection).getQuery()))}async insertViewDefinitionSql(e){const t=await this.getCurrentSchema();let{schema:i,tableName:r}=this.driver.parseTableName(e);i||(i=t);const s=e.materialized?Ne.MATERIALIZED_VIEW:Ne.VIEW,o=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:s,schema:i,name:r,value:o})}dropViewSql(e){const t=e.materialized?"MATERIALIZED ":"";return new R("DROP ".concat(t,"VIEW ").concat(this.escapePath(e)))}async deleteViewDefinitionSql(e){const t=await this.getCurrentSchema();let{schema:i,tableName:r}=this.driver.parseTableName(e);i||(i=t);const s=e.materialized?Ne.MATERIALIZED_VIEW:Ne.VIEW;return this.deleteTypeormMetadataSql({type:s,schema:i,name:r})}async dropEnumTypes(e){const t='SELECT \'DROP TYPE IF EXISTS "\' || n.nspname || \'"."\' || t.typname || \'" CASCADE;\' as "query" FROM "pg_type" "t" INNER JOIN "pg_enum" "e" ON "e"."enumtypid" = "t"."oid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" '+'WHERE "n"."nspname" IN ('.concat(e,') GROUP BY "n"."nspname", "t"."typname"'),i=await this.query(t);await Promise.all(i.map(r=>this.query(r.query)))}async hasEnumType(e,t){let{schema:i}=this.driver.parseTableName(e);i||(i=await this.getCurrentSchema());const r=this.buildEnumName(e,t,!1,!0),s='SELECT "n"."nspname", "t"."typname" FROM "pg_type" "t" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" '+'WHERE "n"."nspname" = \''.concat(i,'\' AND "t"."typname" = \'').concat(r,"'");return!!(await this.query(s)).length}createEnumTypeSql(e,t,i){i||(i=this.buildEnumName(e,t));const r=t.enum.map(s=>"'".concat(s.replace("'","''"),"'")).join(", ");return new R("CREATE TYPE ".concat(i," AS ENUM(").concat(r,")"))}dropEnumTypeSql(e,t,i){return i||(i=this.buildEnumName(e,t)),new R("DROP TYPE ".concat(i))}createIndexSql(e,t){const i=t.columnNames.map(r=>'"'.concat(r,'"')).join(", ");return new R("CREATE ".concat(t.isUnique?"UNIQUE ":"",'INDEX "').concat(t.name,'" ON ').concat(this.escapePath(e)," ").concat(t.isSpatial?"USING GiST ":"","(").concat(i,") ").concat(t.where?"WHERE "+t.where:""))}createViewIndexSql(e,t){const i=t.columnNames.map(r=>'"'.concat(r,'"')).join(", ");return new R("CREATE ".concat(t.isUnique?"UNIQUE ":"",'INDEX "').concat(t.name,'" ON ').concat(this.escapePath(e)," (").concat(i,") ").concat(t.where?"WHERE "+t.where:""))}dropIndexSql(e,t){let i=U.isTableIndex(t)?t.name:t;const{schema:r}=this.driver.parseTableName(e);return r?new R('DROP INDEX "'.concat(r,'"."').concat(i,'"')):new R('DROP INDEX "'.concat(i,'"'))}createPrimaryKeySql(e,t,i){const r=i||this.connection.namingStrategy.primaryKeyName(e,t),s=t.map(o=>'"'.concat(o,'"')).join(", ");return new R("ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(r,'" PRIMARY KEY (').concat(s,")"))}dropPrimaryKeySql(e){if(!e.primaryColumns.length)throw new _("Table ".concat(e," has no primary keys."));const t=e.primaryColumns.map(s=>s.name),i=e.primaryColumns[0].primaryKeyConstraintName,r=i||this.connection.namingStrategy.primaryKeyName(e,t);return new R("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(r,'"'))}createUniqueConstraintSql(e,t){const i=t.columnNames.map(s=>'"'+s+'"').join(", ");let r="ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" UNIQUE (').concat(i,")");return t.deferrable&&(r+=" DEFERRABLE ".concat(t.deferrable)),new R(r)}dropUniqueConstraintSql(e,t){const i=U.isTableUnique(t)?t.name:t;return new R("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}createCheckConstraintSql(e,t){return new R("ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" CHECK (').concat(t.expression,")"))}dropCheckConstraintSql(e,t){const i=U.isTableCheck(t)?t.name:t;return new R("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}createExclusionConstraintSql(e,t){return new R("ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" EXCLUDE ').concat(t.expression))}dropExclusionConstraintSql(e,t){const i=U.isTableExclusion(t)?t.name:t;return new R("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}createForeignKeySql(e,t){const i=t.columnNames.map(o=>'"'+o+'"').join(", "),r=t.referencedColumnNames.map(o=>'"'+o+'"').join(",");let s="ALTER TABLE ".concat(this.escapePath(e),' ADD CONSTRAINT "').concat(t.name,'" FOREIGN KEY (').concat(i,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(t)),"(").concat(r,")");return t.onDelete&&(s+=" ON DELETE ".concat(t.onDelete)),t.onUpdate&&(s+=" ON UPDATE ".concat(t.onUpdate)),t.deferrable&&(s+=" DEFERRABLE ".concat(t.deferrable)),new R(s)}dropForeignKeySql(e,t){const i=U.isTableForeignKey(t)?t.name:t;return new R("ALTER TABLE ".concat(this.escapePath(e),' DROP CONSTRAINT "').concat(i,'"'))}buildSequenceName(e,t){const{tableName:i}=this.driver.parseTableName(e),r=U.isTableColumn(t)?t.name:t;let s="".concat(i,"_").concat(r,"_seq");return s.length>this.connection.driver.maxAliasLength&&(s="".concat(i.substring(0,29),"_").concat(r.substring(0,Math.max(29,63-e.name.length-5)),"_seq")),s}buildSequencePath(e,t){const{schema:i}=this.driver.parseTableName(e);return i?"".concat(i,".").concat(this.buildSequenceName(e,t)):this.buildSequenceName(e,t)}buildEnumName(e,t,i=!0,r,s){const{schema:o,tableName:a}=this.driver.parseTableName(e);let l=t.enumName?t.enumName:"".concat(a,"_").concat(t.name.toLowerCase(),"_enum");return o&&i&&(l="".concat(o,".").concat(l)),s&&(l=l+"_old"),l.split(".").map(c=>r?c:'"'.concat(c,'"')).join(".")}async getUserDefinedTypeName(e,t){let{schema:i,tableName:r}=this.driver.parseTableName(e);i||(i=await this.getCurrentSchema());const s=await this.query('SELECT "udt_schema", "udt_name" '+'FROM "information_schema"."columns" WHERE "table_schema" = \''.concat(i,"' AND \"table_name\" = '").concat(r,"' AND \"column_name\"='").concat(t.name,"'"));let o=s[0].udt_name;return o.indexOf("_")===0&&(o=o.substr(1,o.length)),{schema:s[0].udt_schema,name:o}}escapeComment(e){return!e||e.length===0?"NULL":(e=e.replace(/'/g,"''").replace(/\u0000/g,""),"'".concat(e,"'"))}escapePath(e){const{schema:t,tableName:i}=this.driver.parseTableName(e);return t&&t!==this.driver.searchSchema?'"'.concat(t,'"."').concat(i,'"'):'"'.concat(i,'"')}async getTableNameWithSchema(e){const t=U.isTable(e)?e.name:e;if(t.indexOf(".")===-1){const r=(await this.query("SELECT current_schema()"))[0].current_schema;return"".concat(r,".").concat(t)}else return"".concat(t.split(".")[0],".").concat(t.split(".")[1])}buildCreateColumnSql(e,t){let i='"'+t.name+'"';if(t.isGenerated===!0&&t.generationStrategy!=="uuid")if(t.generationStrategy==="identity"){const r=t.generatedIdentity||"BY DEFAULT";i+=" ".concat(t.type," GENERATED ").concat(r," AS IDENTITY")}else(t.type==="integer"||t.type==="int"||t.type==="int4")&&(i+=" SERIAL"),(t.type==="smallint"||t.type==="int2")&&(i+=" SMALLSERIAL"),(t.type==="bigint"||t.type==="int8")&&(i+=" BIGSERIAL");return t.type==="enum"||t.type==="simple-enum"?(i+=" "+this.buildEnumName(e,t),t.isArray&&(i+=" array")):(!t.isGenerated||t.type==="uuid")&&(i+=" "+this.connection.driver.createFullType(t)),t.generatedType==="STORED"&&t.asExpression&&(i+=" GENERATED ALWAYS AS (".concat(t.asExpression,") STORED")),t.charset&&(i+=' CHARACTER SET "'+t.charset+'"'),t.collation&&(i+=' COLLATE "'+t.collation+'"'),t.isNullable!==!0&&(i+=" NOT NULL"),t.default!==void 0&&t.default!==null&&(i+=" DEFAULT "+t.default),t.isGenerated&&t.generationStrategy==="uuid"&&!t.default&&(i+=" DEFAULT ".concat(this.driver.uuidGenerator)),i}async hasSupportForPartitionedTables(){return!!(await this.query("SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'")).length}}class w6 extends v6{constructor(e,t){super(e,t)}}class E6 extends w6{constructor(e,t,i){super(e,i),this.client=t}connect(){return this.databaseConnection?Promise.resolve(this.databaseConnection):this.databaseConnectionPromise?this.databaseConnectionPromise:(this.mode==="slave"&&this.driver.isReplicated?this.databaseConnectionPromise=this.driver.obtainSlaveConnection().then(([e,t])=>(this.driver.connectedQueryRunners.push(this),this.databaseConnection=e,this.releaseCallback=t,this.databaseConnection)):this.databaseConnectionPromise=this.driver.obtainMasterConnection().then(([e,t])=>(this.driver.connectedQueryRunners.push(this),this.databaseConnection=e,this.releaseCallback=t,this.databaseConnection)),this.databaseConnectionPromise)}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}this.transactionDepth===0?await this.client.startTransaction():await this.query("SAVEPOINT typeorm_".concat(this.transactionDepth)),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new hi;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.commitTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new hi;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_".concat(this.transactionDepth-1)):(await this.client.rollbackTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=await this.client.query(e,t),s=new er;return s.raw=r,r!=null&&r.hasOwnProperty("records")&&Array.isArray(r.records)&&(s.records=r.records),r!=null&&r.hasOwnProperty("numberOfRecordsUpdated")&&(s.affected=r.numberOfRecordsUpdated),i?s:s.raw}}class x6 extends LC{}class T6 extends x6{constructor(e){super(),this.transactionSupport="nested",this.connection=e,this.options=e.options,this.isReplicated=!1,this.loadDependencies(),this.client=new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions),this.database=me.buildDriverOptions(this.options).database}async connect(){}async disconnect(){}createQueryRunner(e){return new E6(this,new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,(t,i)=>this.connection.logger.logQuery(t,i),this.options.serviceConfigOptions,this.options.formatOptions),e)}preparePersistentValue(e,t){return this.options.formatOptions&&this.options.formatOptions.castParameters===!1?super.preparePersistentValue(e,t):(t.transformer&&(e=Ut.transformTo(t.transformer,e)),this.client.preparePersistentValue(e,t))}prepareHydratedValue(e,t){return this.options.formatOptions&&this.options.formatOptions.castParameters===!1?super.prepareHydratedValue(e,t):(t.transformer&&(e=Ut.transformFrom(t.transformer,e)),this.client.prepareHydratedValue(e,t))}loadDependencies(){const e=this.options.driver||lt.load("typeorm-aurora-data-api-driver"),{pg:t}=e;this.DataApiDriver=t}executeQuery(e,t){return this.connection.query(t)}async afterConnect(){const e=await this.checkMetadataForExtensions();return e.hasExtensions&&await this.enableExtensions(e,this.connection),Promise.resolve()}}class C6 extends ra{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new Nr(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async executeSet(e){if(this.isReleased)throw new wn;return(await this.connect()).executeSet(e,!1)}async query(e,t,i=!1){if(this.isReleased)throw new wn;const r=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const s=e.substr(0,e.indexOf(" "));try{let o;["BEGIN","ROLLBACK","COMMIT","CREATE","ALTER","DROP"].indexOf(s)!==-1?o=await r.execute(e,!1):["INSERT","UPDATE","DELETE"].indexOf(s)!==-1?o=await r.run(e,t,!1):o=await r.query(e,t||[]);const a=new er;return o!=null&&o.hasOwnProperty("values")&&(a.raw=o.values,a.records=o.values),o!=null&&o.hasOwnProperty("changes")&&(a.affected=o.changes.changes,a.raw=o.changes.lastId||o.changes.changes),i?a:a.raw}catch(o){throw this.driver.connection.logger.logQueryError(o,e,t,this),new Ji(e,t,o)}}parametrize(e){return Object.keys(e).map(t=>'"'.concat(t,'"')+"=?")}}class S6 extends Zl{constructor(e){super(e),this.database=this.options.database,this.driver=this.options.driver,this.sqlite=this.options.driver}async connect(){this.databaseConnection=this.createDatabaseConnection(),await this.databaseConnection}async disconnect(){return this.queryRunner=void 0,(await this.databaseConnection).close().then(()=>{this.databaseConnection=void 0})}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new C6(this)),this.queryRunner}async createDatabaseConnection(){const e=this.options.mode||"no-encryption",t=e!=="no-encryption",i=typeof this.options.version>"u"?1:this.options.version,r=await this.sqlite.createConnection(this.options.database,t,e,i);return await r.open(),await r.query("PRAGMA foreign_keys = ON"),this.options.journalMode&&["DELETE","TRUNCATE","PERSIST","MEMORY","WAL","OFF"].indexOf(this.options.journalMode)!==-1&&await r.query("PRAGMA journal_mode = ".concat(this.options.journalMode)),r}loadDependencies(){if(this.sqlite=this.driver,!this.driver)throw new ia("Capacitor","@capacitor-community/sqlite")}}class N6 extends kh{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.mode=t,this.broadcaster=new Nr(this)}async connect(){if(this.session)return Promise.resolve(this.session);const[e]=await this.driver.instanceDatabase.createSession({});return this.session=e,this.sessionTransaction=await e.transaction(),this.session}async release(){return this.isReleased=!0,this.session&&await this.session.delete(),this.session=void 0,Promise.resolve()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}await this.connect(),await this.sessionTransaction.begin(),this.connection.logger.logQuery("START TRANSACTION"),await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive||!this.sessionTransaction)throw new hi;await this.broadcaster.broadcast("BeforeTransactionCommit"),await this.sessionTransaction.commit(),this.connection.logger.logQuery("COMMIT"),this.isTransactionActive=!1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive||!this.sessionTransaction)throw new hi;await this.broadcaster.broadcast("BeforeTransactionRollback"),await this.sessionTransaction.rollback(),this.connection.logger.logQuery("ROLLBACK"),this.isTransactionActive=!1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new wn;try{const r=+new Date;await this.connect();let s;const o=e.startsWith("SELECT"),a=o&&!this.isTransactionActive?this.driver.instanceDatabase:this.sessionTransaction;!this.isTransactionActive&&!o&&await this.sessionTransaction.begin();try{this.driver.connection.logger.logQuery(e,t,this),s=await a.run({sql:e,params:t?t.reduce((h,p,y)=>(h["param"+y]=p,h),{}):void 0,json:!0}),!this.isTransactionActive&&!o&&await this.sessionTransaction.commit()}catch(h){try{!this.isTransactionActive&&!o&&await this.sessionTransaction.rollback()}catch(p){}throw h}const l=this.driver.options.maxQueryExecutionTime,u=+new Date-r;l&&u>l&&this.driver.connection.logger.logQuerySlow(u,e,t,this);const d=new er;return d.raw=s,d.records=s?s[0]:[],s&&s[1]&&s[1].rowCountExact&&(d.affected=parseInt(s[1].rowCountExact)),i?d:d.records}catch(r){throw this.driver.connection.logger.logQueryError(r,e,t,this),new Ji(e,t,r)}finally{}}async updateDDL(e,t){if(this.isReleased)throw new wn;this.driver.connection.logger.logQuery(e,t,this);try{const i=+new Date,[r]=await this.driver.instanceDatabase.updateSchema(e);await r.promise();const s=this.driver.options.maxQueryExecutionTime,a=+new Date-i;s&&a>s&&this.driver.connection.logger.logQuerySlow(a,e,t,this)}catch(i){throw this.driver.connection.logger.logQueryError(i,e,t,this),new Ji(e,t,i)}}async stream(e,t,i,r){if(this.isReleased)throw new wn;try{this.driver.connection.logger.logQuery(e,t,this);const s={sql:e,params:t?t.reduce((a,l,c)=>(a["param"+c]=l,a),{}):void 0,json:!0},o=this.driver.instanceDatabase.runStream(s);return i&&o.on("end",i),r&&o.on("error",r),o}catch(s){throw this.driver.connection.logger.logQueryError(s,e,t,this),new Ji(e,t,s)}}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){throw new _("Check database queries are not supported by Spanner driver.")}async getCurrentDatabase(){throw new _("Check database queries are not supported by Spanner driver.")}async hasSchema(e){return!!(await this.query('SELECT * FROM "information_schema"."schemata" WHERE "schema_name" = \''.concat(e,"'"))).length}async getCurrentSchema(){throw new _("Check schema queries are not supported by Spanner driver.")}async hasTable(e){const t=e instanceof mt?e.name:e,i="SELECT * FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE' "+"AND `TABLE_NAME` = '".concat(t,"'");return!!(await this.query(i)).length}async hasColumn(e,t){const i=e instanceof mt?e.name:e,r="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' "+"AND `TABLE_NAME` = '".concat(i,"' AND `COLUMN_NAME` = '").concat(t,"'");return!!(await this.query(r)).length}async createDatabase(e,t){if(t&&await this.hasDatabase(e))return Promise.resolve();const i='CREATE DATABASE "'.concat(e,'"'),r='DROP DATABASE "'.concat(e,'"');await this.executeQueries(new R(i),new R(r))}async dropDatabase(e,t){const i=t?'DROP DATABASE IF EXISTS "'.concat(e,'"'):'DROP DATABASE "'.concat(e,'"'),r='CREATE DATABASE "'.concat(e,'"');await this.executeQueries(new R(i),new R(r))}async createSchema(e,t){return Promise.resolve()}async dropSchema(e,t,i){return Promise.resolve()}async createTable(e,t=!1,i=!0,r=!0){if(t&&await this.hasTable(e))return Promise.resolve();const s=[],o=[];s.push(this.createTableSql(e,i)),o.push(this.dropTableSql(e)),i&&e.foreignKeys.forEach(l=>o.push(this.dropForeignKeySql(e,l))),r&&e.indices.forEach(l=>{l.name||(l.name=this.connection.namingStrategy.indexName(e,l.columnNames,l.where)),s.push(this.createIndexSql(e,l)),o.push(this.dropIndexSql(e,l))});const a=e.columns.filter(l=>l.generatedType&&l.asExpression);for(const l of a){const c=this.insertTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:l.name,value:l.asExpression}),u=this.deleteTypeormMetadataSql({table:e.name,type:Ne.GENERATED_COLUMN,name:l.name});s.push(c),o.push(u)}await this.executeQueries(s,o)}async dropTable(e,t,i=!0,r=!0){if(t&&!await this.hasTable(e))return Promise.resolve();const s=i,o=this.getTablePath(e),a=await this.getCachedTable(o),l=[],c=[];r&&a.indices.forEach(d=>{l.push(this.dropIndexSql(a,d)),c.push(this.createIndexSql(a,d))}),i&&a.foreignKeys.forEach(d=>l.push(this.dropForeignKeySql(a,d))),l.push(this.dropTableSql(a)),c.push(this.createTableSql(a,s));const u=a.columns.filter(d=>d.generatedType&&d.asExpression);for(const d of u){const h=this.deleteTypeormMetadataSql({table:a.name,type:Ne.GENERATED_COLUMN,name:d.name}),p=this.insertTypeormMetadataSql({table:a.name,type:Ne.GENERATED_COLUMN,name:d.name,value:d.asExpression});l.push(h),c.push(p)}await this.executeQueries(l,c)}async createView(e){const t=[],i=[];t.push(this.createViewSql(e)),t.push(await this.insertViewDefinitionSql(e)),i.push(this.dropViewSql(e)),i.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(t,i)}async dropView(e){const t=e instanceof Tr?e.name:e,i=await this.getCachedView(t),r=[],s=[];r.push(await this.deleteViewDefinitionSql(i)),r.push(this.dropViewSql(i)),s.push(await this.insertViewDefinitionSql(i)),s.push(this.createViewSql(i)),await this.executeQueries(r,s)}async renameTable(e,t){throw new _("Rename table queries are not supported by Spanner driver.")}async addColumn(e,t){const i=e instanceof mt?e:await this.getCachedTable(e),r=i.clone(),s=[],o=[];s.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(t)))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN ").concat(this.driver.escape(t.name))));const a=r.indices.find(l=>l.columnNames.length===1&&l.columnNames[0]===t.name);if(a)s.push(this.createIndexSql(i,a)),o.push(this.dropIndexSql(i,a));else if(t.isUnique){const l=new St({name:this.connection.namingStrategy.indexName(i,[t.name]),columnNames:[t.name],isUnique:!0});r.indices.push(l),r.uniques.push(new dn({name:l.name,columnNames:l.columnNames})),s.push(this.createIndexSql(i,l)),o.push(this.dropIndexSql(i,l))}if(t.generatedType&&t.asExpression){const l=this.insertTypeormMetadataSql({table:i.name,type:Ne.GENERATED_COLUMN,name:t.name,value:t.asExpression}),c=this.deleteTypeormMetadataSql({table:i.name,type:Ne.GENERATED_COLUMN,name:t.name});s.push(l),o.push(c)}await this.executeQueries(s,o),r.addColumn(t),this.replaceCachedTable(i,r)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const r=e instanceof mt?e:await this.getCachedTable(e),s=t instanceof Nn?t:r.columns.find(a=>a.name===t);if(!s)throw new _('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));let o;return i instanceof Nn?o=i:(o=s.clone(),o.name=i),this.changeColumn(r,s,o)}async changeColumn(e,t,i){const r=e instanceof mt?e:await this.getCachedTable(e);let s=r.clone();const o=[],a=[],l=t instanceof Nn?t:r.columns.find(c=>c.name===t);if(!l)throw new _('Column "'.concat(t,'" was not found in the "').concat(r.name,'" table.'));if(l.name!==i.name||l.type!==i.type||l.length!==i.length||l.isArray!==i.isArray||l.generatedType!==i.generatedType||l.asExpression!==i.asExpression)await this.dropColumn(r,l),await this.addColumn(r,i),s=r.clone();else if((i.precision!==l.precision||i.scale!==l.scale)&&(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(i)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(i.name,'" TYPE ').concat(this.driver.createFullType(l))))),l.isNullable!==i.isNullable&&(i.isNullable?(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" DROP NOT NULL'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" SET NOT NULL')))):(o.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" SET NOT NULL'))),a.push(new R("ALTER TABLE ".concat(this.escapePath(r),' ALTER COLUMN "').concat(l.name,'" DROP NOT NULL'))))),i.isUnique!==l.isUnique)if(i.isUnique===!0){const c=new St({name:this.connection.namingStrategy.indexName(r,[i.name]),columnNames:[i.name],isUnique:!0});s.indices.push(c),s.uniques.push(new dn({name:c.name,columnNames:c.columnNames})),o.push(this.createIndexSql(r,c)),a.push(this.dropIndexSql(r,c))}else{const c=s.indices.find(d=>d.columnNames.length===1&&d.isUnique===!0&&!!d.columnNames.find(h=>h===i.name));s.indices.splice(s.indices.indexOf(c),1);const u=s.uniques.find(d=>d.name===c.name);s.uniques.splice(s.uniques.indexOf(u),1),o.push(this.dropIndexSql(r,c)),a.push(this.createIndexSql(r,c))}await this.executeQueries(o,a),this.replaceCachedTable(r,s)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:r}of t)await this.changeColumn(e,i,r)}async dropColumn(e,t){const i=e instanceof mt?e:await this.getCachedTable(e),r=t instanceof Nn?t:i.findColumnByName(t);if(!r)throw new _('Column "'.concat(t,'" was not found in table "').concat(i.name,'"'));const s=i.clone(),o=[],a=[],l=s.indices.find(u=>u.columnNames.length===1&&u.columnNames[0]===r.name);l&&(s.indices.splice(s.indices.indexOf(l),1),o.push(this.dropIndexSql(i,l)),a.push(this.createIndexSql(i,l)));const c=s.checks.find(u=>!!u.columnNames&&u.columnNames.length===1&&u.columnNames[0]===r.name);if(c&&(s.checks.splice(s.checks.indexOf(c),1),o.push(this.dropCheckConstraintSql(i,c)),a.push(this.createCheckConstraintSql(i,c))),o.push(new R("ALTER TABLE ".concat(this.escapePath(i)," DROP COLUMN ").concat(this.driver.escape(r.name)))),a.push(new R("ALTER TABLE ".concat(this.escapePath(i)," ADD ").concat(this.buildCreateColumnSql(r)))),r.generatedType&&r.asExpression){const u=this.deleteTypeormMetadataSql({table:i.name,type:Ne.GENERATED_COLUMN,name:r.name}),d=this.insertTypeormMetadataSql({table:i.name,type:Ne.GENERATED_COLUMN,name:r.name,value:r.asExpression});o.push(u),a.push(d)}await this.executeQueries(o,a),s.removeColumn(r),this.replaceCachedTable(i,s)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async updatePrimaryKeys(e,t){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async dropPrimaryKey(e){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async createUniqueConstraint(e,t){throw new _("Spanner does not support unique constraints. Use unique index instead.")}async createUniqueConstraints(e,t){throw new _("Spanner does not support unique constraints. Use unique index instead.")}async dropUniqueConstraint(e,t){throw new _("Spanner does not support unique constraints. Use unique index instead.")}async dropUniqueConstraints(e,t){throw new _("Spanner does not support unique constraints. Use unique index instead.")}async createCheckConstraint(e,t){const i=e instanceof mt?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.checkConstraintName(i,t.expression));const r=this.createCheckConstraintSql(i,t),s=this.dropCheckConstraintSql(i,t);await this.executeQueries(r,s),i.addCheckConstraint(t)}async createCheckConstraints(e,t){const i=t.map(r=>this.createCheckConstraint(e,r));await Promise.all(i)}async dropCheckConstraint(e,t){const i=e instanceof mt?e:await this.getCachedTable(e),r=t instanceof Ii?t:i.checks.find(a=>a.name===t);if(!r)throw new _("Supplied check constraint was not found in table ".concat(i.name));const s=this.dropCheckConstraintSql(i,r),o=this.createCheckConstraintSql(i,r);await this.executeQueries(s,o),i.removeCheckConstraint(r)}async dropCheckConstraints(e,t){const i=t.map(r=>this.dropCheckConstraint(e,r));await Promise.all(i)}async createExclusionConstraint(e,t){throw new _("Spanner does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new _("Spanner does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new _("Spanner does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new _("Spanner does not support exclusion constraints.")}async createForeignKey(e,t){const i=e instanceof mt?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames,this.getTablePath(t),t.referencedColumnNames));const r=this.createForeignKeySql(i,t),s=this.dropForeignKeySql(i,t);await this.executeQueries(r,s),i.addForeignKey(t)}async createForeignKeys(e,t){for(const i of t)await this.createForeignKey(e,i)}async dropForeignKey(e,t){const i=e instanceof mt?e:await this.getCachedTable(e),r=t instanceof li?t:i.foreignKeys.find(a=>a.name===t);if(!r)throw new _("Supplied foreign key was not found in table ".concat(i.name));const s=this.dropForeignKeySql(i,r),o=this.createForeignKeySql(i,r);await this.executeQueries(s,o),i.removeForeignKey(r)}async dropForeignKeys(e,t){for(const i of t)await this.dropForeignKey(e,i)}async createIndex(e,t){const i=e instanceof mt?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const r=this.createIndexSql(i,t),s=this.dropIndexSql(i,t);await this.executeQueries(r,s),i.addIndex(t)}async createIndices(e,t){for(const i of t)await this.createIndex(e,i)}async dropIndex(e,t){const i=e instanceof mt?e:await this.getCachedTable(e),r=t instanceof St?t:i.indices.find(a=>a.name===t);if(!r)throw new _("Supplied index ".concat(t," was not found in table ").concat(i.name));r.name||(r.name=this.generateIndexName(i,r));const s=this.dropIndexSql(i,r),o=this.createIndexSql(i,r);await this.executeQueries(s,o),i.removeIndex(r)}async dropIndices(e,t){for(const i of t)await this.dropIndex(e,i)}async clearTable(e){await this.query("DELETE FROM ".concat(this.escapePath(e)," WHERE true"))}async clearDatabase(){const e="SELECT concat('DROP INDEX `', INDEX_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`INDEXES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `INDEX_TYPE` = 'INDEX' AND `SPANNER_IS_MANAGED` = false",t=await this.query(e),i="SELECT concat('ALTER TABLE `', TABLE_NAME, '`', ' DROP CONSTRAINT `', CONSTRAINT_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `CONSTRAINT_TYPE` = 'FOREIGN KEY'",r=await this.query(i),s="SELECT concat('DROP TABLE `', TABLE_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE'",o=await this.query(s);if(!t.length&&!r.length&&!o.length)return;const a=this.isTransactionActive;a||await this.startTransaction();try{for(let l of t)await this.updateDDL(l.query);for(let l of r)await this.updateDDL(l.query);for(let l of o)await this.updateDDL(l.query);await this.commitTransaction()}catch(l){try{a||await this.rollbackTransaction()}catch(c){}throw l}}async executeMemoryUpSql(){for(const{query:e,parameters:t}of this.sqlInMemory.upQueries)this.isDMLQuery(e)?await this.query(e,t):await this.updateDDL(e,t)}async executeMemoryDownSql(){for(const{query:e,parameters:t}of this.sqlInMemory.downQueries.reverse())this.isDMLQuery(e)?await this.query(e,t):await this.updateDDL(e,t)}async loadViews(e){return Promise.resolve([])}async loadTables(e){if(e&&e.length===0)return[];const t=[];if(!e||!e.length){const y="SELECT `TABLE_NAME` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE'";t.push(...await this.query(y))}else{const y="SELECT `TABLE_NAME` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE' "+"AND `TABLE_NAME` IN (".concat(e.map(v=>"'".concat(v,"'")).join(", "),")");t.push(...await this.query(y))}if(!t.length)return[];const i=t.map(y=>"'".concat(y.TABLE_NAME,"'")).join(", "),r="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_NAME` IN (".concat(i,")"),s="SELECT `KCU`.`TABLE_NAME`, `KCU`.`COLUMN_NAME` FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` `TC` INNER JOIN `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `KCU` ON `KCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` WHERE `TC`.`TABLE_CATALOG` = '' AND `TC`.`TABLE_SCHEMA` = '' AND `TC`.`CONSTRAINT_TYPE` = 'PRIMARY KEY' "+"AND `TC`.`TABLE_NAME` IN (".concat(i,")"),o="SELECT `I`.`TABLE_NAME`, `I`.`INDEX_NAME`, `I`.`IS_UNIQUE`, `I`.`IS_NULL_FILTERED`, `IC`.`COLUMN_NAME` FROM `INFORMATION_SCHEMA`.`INDEXES` `I` INNER JOIN `INFORMATION_SCHEMA`.`INDEX_COLUMNS` `IC` ON `IC`.`INDEX_NAME` = `I`.`INDEX_NAME` AND `IC`.`TABLE_NAME` = `I`.`TABLE_NAME` "+"WHERE `I`.`TABLE_CATALOG` = '' AND `I`.`TABLE_SCHEMA` = '' AND `I`.`TABLE_NAME` IN (".concat(i,") ")+"AND `I`.`INDEX_TYPE` = 'INDEX' AND `I`.`SPANNER_IS_MANAGED` = false",a="SELECT `TC`.`TABLE_NAME`, `TC`.`CONSTRAINT_NAME`, `CC`.`CHECK_CLAUSE`, `CCU`.`COLUMN_NAME`FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` `TC` INNER JOIN `INFORMATION_SCHEMA`.`CONSTRAINT_COLUMN_USAGE` `CCU` ON `CCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`CHECK_CONSTRAINTS` `CC` ON `CC`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` WHERE `TC`.`TABLE_CATALOG` = '' AND `TC`.`TABLE_SCHEMA` = '' AND `TC`.`CONSTRAINT_TYPE` = 'CHECK' "+"AND `TC`.`TABLE_NAME` IN (".concat(i,") AND `TC`.`CONSTRAINT_NAME` NOT LIKE 'CK_IS_NOT_NULL%'"),l="SELECT `TC`.`TABLE_NAME`, `TC`.`CONSTRAINT_NAME`, `KCU`.`COLUMN_NAME`, `CTU`.`TABLE_NAME` AS `REFERENCED_TABLE_NAME`, `CCU`.`COLUMN_NAME` AS `REFERENCED_COLUMN_NAME`, `RC`.`UPDATE_RULE`, `RC`.`DELETE_RULE` FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` `TC` INNER JOIN `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `KCU` ON `KCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`CONSTRAINT_TABLE_USAGE` `CTU` ON `CTU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `RC` ON `RC`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` INNER JOIN `INFORMATION_SCHEMA`.`CONSTRAINT_COLUMN_USAGE` `CCU` ON `CCU`.`CONSTRAINT_NAME` = `TC`.`CONSTRAINT_NAME` WHERE `TC`.`TABLE_CATALOG` = '' AND `TC`.`TABLE_SCHEMA` = '' AND `TC`.`CONSTRAINT_TYPE` = 'FOREIGN KEY' "+"AND `TC`.`TABLE_NAME` IN (".concat(i,")"),[c,u,d,h,p]=await Promise.all([this.query(r),this.query(s),this.query(o),this.query(a),this.query(l)]);return Promise.all(t.map(async y=>{const v=new mt;v.name=this.driver.buildTableName(y.TABLE_NAME),v.columns=await Promise.all(c.filter(C=>C.TABLE_NAME===y.TABLE_NAME).map(async C=>{const P=d.filter(Q=>Q.TABLE_NAME===y.TABLE_NAME&&Q.COLUMN_NAME===C.COLUMN_NAME&&Q.IS_UNIQUE===!0),q=this.connection.entityMetadatas.find(Q=>this.getTablePath(v)===this.getTablePath(Q)),H=P.length>0&&q&&q.indices.some(Q=>P.some(k=>Q.name===k.INDEX_NAME&&Q.synchronize===!1)),L=P.every(Q=>d.some(k=>k.INDEX_NAME===Q.INDEX_NAME&&k.COLUMN_NAME!==C.COLUMN_NAME)),M=new Nn;M.name=C.COLUMN_NAME;let O=C.SPANNER_TYPE.toLowerCase();if(O.indexOf("array")!==-1&&(M.isArray=!0,O=O.substring(O.indexOf("<")+1,O.indexOf(">"))),O.indexOf("(")!==-1?M.type=O.substring(0,O.indexOf("(")):M.type=O,this.driver.withLengthColumnTypes.indexOf(M.type)!==-1&&(M.length=O.substring(O.indexOf("(")+1,O.indexOf(")"))),C.IS_GENERATED==="ALWAYS"){M.asExpression=C.GENERATION_EXPRESSION,M.generatedType="STORED";const Q=await this.selectTypeormMetadataSql({table:y.TABLE_NAME,type:Ne.GENERATED_COLUMN,name:M.name}),k=await this.query(Q.query,Q.parameters);k[0]&&k[0].value?M.asExpression=k[0].value:M.asExpression=""}return M.isUnique=P.length>0&&!H&&!L,M.isNullable=C.IS_NULLABLE==="YES",M.isPrimary=u.some(Q=>Q.TABLE_NAME===C.TABLE_NAME&&Q.COLUMN_NAME===C.COLUMN_NAME),M}));const S=p.filter(C=>C.TABLE_NAME===y.TABLE_NAME);v.foreignKeys=ve.uniq(S,C=>C.CONSTRAINT_NAME).map(C=>{const P=S.filter(q=>q.CONSTRAINT_NAME===C.CONSTRAINT_NAME);return new li({name:C.CONSTRAINT_NAME,columnNames:ve.uniq(P.map(q=>q.COLUMN_NAME)),referencedDatabase:C.REFERENCED_TABLE_SCHEMA,referencedTableName:C.REFERENCED_TABLE_NAME,referencedColumnNames:ve.uniq(P.map(q=>q.REFERENCED_COLUMN_NAME)),onDelete:C.DELETE_RULE,onUpdate:C.UPDATE_RULE})});const E=d.filter(C=>C.TABLE_NAME===y.TABLE_NAME);v.indices=ve.uniq(E,C=>C.INDEX_NAME).map(C=>{const P=E.filter(q=>q.INDEX_NAME===C.INDEX_NAME);return new St({table:v,name:C.INDEX_NAME,columnNames:P.map(q=>q.COLUMN_NAME),isUnique:C.IS_UNIQUE,isNullFiltered:C.IS_NULL_FILTERED})});const w=h.filter(C=>C.TABLE_NAME===y.TABLE_NAME);return v.checks=ve.uniq(w,C=>C.CONSTRAINT_NAME).map(C=>{const P=w.filter(q=>q.CONSTRAINT_NAME===C.CONSTRAINT_NAME);return new Ii({name:C.CONSTRAINT_NAME,columnNames:P.map(q=>q.COLUMN_NAME),expression:C.CHECK_CLAUSE})}),v}))}createTableSql(e,t){const i=e.columns.map(o=>this.buildCreateColumnSql(o)).join(", ");let r="CREATE TABLE ".concat(this.escapePath(e)," (").concat(i);if(e.columns.filter(o=>o.isUnique).forEach(o=>{const a=e.indices.some(c=>c.columnNames.length===1&&!!c.isUnique&&c.columnNames.indexOf(o.name)!==-1),l=e.uniques.some(c=>c.columnNames.length===1&&c.columnNames.indexOf(o.name)!==-1);!a&&!l&&e.indices.push(new St({name:this.connection.namingStrategy.uniqueConstraintName(e,[o.name]),columnNames:[o.name],isUnique:!0}))}),e.uniques.length>0&&e.uniques.forEach(o=>{e.indices.some(l=>l.name===o.name)||e.indices.push(new St({name:o.name,columnNames:o.columnNames,isUnique:!0}))}),e.checks.length>0){const o=e.checks.map(a=>{const l=a.name?a.name:this.connection.namingStrategy.checkConstraintName(e,a.expression);return"CONSTRAINT `".concat(l,"` CHECK (").concat(a.expression,")")}).join(", ");r+=", ".concat(o)}if(e.foreignKeys.length>0&&t){const o=e.foreignKeys.map(a=>{const l=a.columnNames.map(u=>"`".concat(u,"`")).join(", ");a.name||(a.name=this.connection.namingStrategy.foreignKeyName(e,a.columnNames,this.getTablePath(a),a.referencedColumnNames));const c=a.referencedColumnNames.map(u=>"`".concat(u,"`")).join(", ");return"CONSTRAINT `".concat(a.name,"` FOREIGN KEY (").concat(l,") REFERENCES ").concat(this.escapePath(this.getTablePath(a))," (").concat(c,")")}).join(", ");r+=", ".concat(o)}r+=")";const s=e.columns.filter(o=>o.isPrimary);if(s.length>0){const o=s.map(a=>this.driver.escape(a.name)).join(", ");r+=" PRIMARY KEY (".concat(o,")")}return new R(r)}dropTableSql(e){return new R("DROP TABLE ".concat(this.escapePath(e)))}createViewSql(e){const t=e.materialized?"MATERIALIZED ":"",i=this.escapePath(e),r=typeof e.expression=="string"?e.expression:e.expression(this.connection).getQuery();return new R("CREATE ".concat(t,"VIEW ").concat(i," SQL SECURITY INVOKER AS ").concat(r))}async insertViewDefinitionSql(e){let{schema:t,tableName:i}=this.driver.parseTableName(e);const r=e.materialized?Ne.MATERIALIZED_VIEW:Ne.VIEW,s=typeof e.expression=="string"?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:r,schema:t,name:i,value:s})}dropViewSql(e){const t=e.materialized?"MATERIALIZED ":"";return new R("DROP ".concat(t,"VIEW ").concat(this.escapePath(e)))}async deleteViewDefinitionSql(e){let{schema:t,tableName:i}=this.driver.parseTableName(e);const r=e.materialized?Ne.MATERIALIZED_VIEW:Ne.VIEW;return this.deleteTypeormMetadataSql({type:r,schema:t,name:i})}createIndexSql(e,t){const i=t.columnNames.map(s=>this.driver.escape(s)).join(", ");let r="";return t.isUnique&&(r+="UNIQUE "),t.isNullFiltered&&(r+="NULL_FILTERED "),new R("CREATE ".concat(r,"INDEX `").concat(t.name,"` ON ").concat(this.escapePath(e)," (").concat(i,")"))}dropIndexSql(e,t){let i=t instanceof St?t.name:t;return new R("DROP INDEX `".concat(i,"`"))}createCheckConstraintSql(e,t){return new R("ALTER TABLE ".concat(this.escapePath(e)," ADD CONSTRAINT `").concat(t.name,"` CHECK (").concat(t.expression,")"))}dropCheckConstraintSql(e,t){const i=t instanceof Ii?t.name:t;return new R("ALTER TABLE ".concat(this.escapePath(e)," DROP CONSTRAINT `").concat(i,"`"))}createForeignKeySql(e,t){const i=t.columnNames.map(o=>this.driver.escape(o)).join(", "),r=t.referencedColumnNames.map(o=>this.driver.escape(o)).join(",");let s="ALTER TABLE ".concat(this.escapePath(e)," ADD CONSTRAINT `").concat(t.name,"` FOREIGN KEY (").concat(i,") ")+"REFERENCES ".concat(this.escapePath(this.getTablePath(t))," (").concat(r,")");return new R(s)}dropForeignKeySql(e,t){const i=t instanceof li?t.name:t;return new R("ALTER TABLE ".concat(this.escapePath(e)," DROP CONSTRAINT `").concat(i,"`"))}escapePath(e){const{tableName:t}=this.driver.parseTableName(e);return"`".concat(t,"`")}buildCreateColumnSql(e){let t="".concat(this.driver.escape(e.name)," ").concat(this.connection.driver.createFullType(e));return e.generatedType==="STORED"&&e.asExpression?t+=" AS (".concat(e.asExpression,") STORED"):e.isNullable||(t+=" NOT NULL"),t}async executeQueries(e,t){if(e instanceof R&&(e=[e]),t instanceof R&&(t=[t]),this.sqlInMemory.upQueries.push(...e),this.sqlInMemory.downQueries.push(...t),this.sqlMemoryMode===!0)return Promise.resolve();for(const{query:i,parameters:r}of e)this.isDMLQuery(i)?await this.query(i,r):await this.updateDDL(i,r)}isDMLQuery(e){return e.startsWith("INSERT")||e.startsWith("UPDATE")||e.startsWith("DELETE")}}class A6{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="none",this.supportedDataTypes=["bool","int64","float64","numeric","string","json","bytes","date","timestamp","array"],this.supportedUpsertTypes=[],this.spatialTypes=[],this.withLengthColumnTypes=["string","bytes"],this.withWidthColumnTypes=[],this.withPrecisionColumnTypes=[],this.withScaleColumnTypes=[],this.mappedDataTypes={createDate:"timestamp",createDateDefault:"",updateDate:"timestamp",updateDateDefault:"",deleteDate:"timestamp",deleteDateNullable:!0,version:"int64",treeLevel:"int64",migrationId:"int64",migrationName:"string",migrationTimestamp:"int64",cacheId:"string",cacheIdentifier:"string",cacheTime:"int64",cacheDuration:"int64",cacheQuery:"string",cacheResult:"string",metadataType:"string",metadataDatabase:"string",metadataSchema:"string",metadataTable:"string",metadataName:"string",metadataValue:"string"},this.dataTypeDefaults={},this.maxAliasLength=63,this.cteCapabilities={enabled:!0},this._isReturningSqlSupported={delete:!1,insert:!1,update:!1},this.connection=e,this.options=e.options,this.isReplicated=!!this.options.replication,this.loadDependencies()}async connect(){this.instance=this.spanner.instance(this.options.instanceId),this.instanceDatabase=this.instance.database(this.options.databaseId)}afterConnect(){return Promise.resolve()}async disconnect(){this.instanceDatabase.close()}createSchemaBuilder(){return new Ah(this.connection)}createQueryRunner(e){return new N6(this,e)}escapeQueryWithParameters(e,t,i){const r=Object.keys(i).map(s=>i[s]);return!t||!Object.keys(t).length?[e,r]:(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a)=>{if(!t.hasOwnProperty(a))return s;let l=t[a];return l===null?s:o?l.map(c=>(r.push(c),this.createParameter(a,r.length-1))).join(", "):l instanceof Function?l():(r.push(l),this.createParameter(a,r.length-1))}),e=e.replace(/([ ]+)?=([ ]+)?:(\.\.\.)?([A-Za-z0-9_.]+)/g,(s,o,a,l,c)=>t.hasOwnProperty(c)&&t[c]===null?" IS NULL":s),[e,r])}escape(e){return"`".concat(e,"`")}buildTableName(e,t,i){let r=[e];return i&&r.unshift(i),r.join(".")}parseTableName(e){const t=this.database,i=void 0;if(e instanceof mt||e instanceof Tr){const s=this.parseTableName(e.name);return{database:e.database||s.database||t,schema:e.schema||s.schema||i,tableName:s.tableName}}if(e instanceof li){const s=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||s.database||t,schema:e.referencedSchema||s.schema||i,tableName:s.tableName}}if(e instanceof Mi)return{database:e.database||t,schema:e.schema||i,tableName:e.tableName};const r=e.split(".");return{database:(r.length>1?r[0]:void 0)||t,schema:i,tableName:r.length>1?r[1]:r[0]}}preparePersistentValue(e,t){return t.transformer&&(e=Ut.transformTo(t.transformer,e)),e==null?e:t.type==="numeric"?(this.options.driver||lt.load("spanner")).Spanner.numeric(e):t.type==="date"?Ae.mixedDateToDateString(e):t.type==="json"?e:t.type==="timestamp"||t.type===Date?Ae.mixedDateToDate(e):e}prepareHydratedValue(e,t){return e==null?t.transformer?Ut.transformFrom(t.transformer,e):e:(t.type===Boolean||t.type==="bool"?e=!!e:t.type==="timestamp"||t.type===Date?e=new Date(e):t.type==="numeric"?e=e.value:t.type==="date"?e=Ae.mixedDateToDateString(e):t.type==="json"?e=typeof e=="string"?JSON.parse(e):e:t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=Ut.transformFrom(t.transformer,e)),e)}normalizeType(e){return e.type===Number?"int64":e.type===String||e.type==="uuid"?"string":e.type===Date?"timestamp":e.type===Buffer?"bytes":e.type===Boolean?"bool":e.type||""}normalizeDefault(e){return e.default===""?'"'.concat(e.default,'"'):"".concat(e.default)}normalizeIsUnique(e){return e.entityMetadata.indices.some(t=>t.isUnique&&t.columns.length===1&&t.columns[0]===e)}getColumnLength(e){if(e.length)return e.length.toString();if(e.generationStrategy==="uuid")return"36";switch(e.type){case String:case"string":case"bytes":return"max";default:return""}}createFullType(e){let t=e.type;return this.getColumnLength(e)?t+="(".concat(this.getColumnLength(e),")"):e.width?t+="(".concat(e.width,")"):e.precision!==null&&e.precision!==void 0&&e.scale!==null&&e.scale!==void 0?t+="(".concat(e.precision,",").concat(e.scale,")"):e.precision!==null&&e.precision!==void 0&&(t+="(".concat(e.precision,")")),e.isArray&&(t="array<".concat(t,">")),t}obtainMasterConnection(){return this.instanceDatabase}obtainSlaveConnection(){return this.instanceDatabase}createGeneratedMap(e,t,i){if(!t)return;if(t.insertId===void 0)return Object.keys(t).reduce((s,o)=>{const a=e.findColumnWithDatabaseName(o);return a&&ve.mergeDeep(s,a.createValueMap(t[o])),s},{});const r=e.generatedColumns.reduce((s,o)=>{let a;return o.generationStrategy==="increment"&&t.insertId&&(a=t.insertId+i),ve.mergeDeep(s,o.createValueMap(a))},{});return Object.keys(r).length>0?r:void 0}findChangedColumns(e,t){return t.filter(i=>{const r=e.find(o=>o.name===i.databaseName);return r?r.name!==i.databaseName||r.type!==this.normalizeType(i)||r.length!==this.getColumnLength(i)||r.asExpression!==i.asExpression||r.generatedType!==i.generatedType||r.isPrimary!==i.isPrimary||!this.compareNullableValues(i,r)||r.isUnique!==this.normalizeIsUnique(i):!1})}isReturningSqlSupported(e){return this._isReturningSqlSupported[e]}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"@param"+t}loadDependencies(){try{const e=this.options.driver||lt.load("spanner");this.spanner=new e.Spanner({projectId:this.options.projectId})}catch(e){throw console.error(e),new ia("Spanner","@google-cloud/spanner")}}compareNullableValues(e,t){return e.generatedType?!0:e.isNullable===t.isNullable}compareDefaultValues(e,t){return typeof e=="string"&&typeof t=="string"&&(e=e.replace(/^'+|'+$/g,""),t=t.replace(/^'+|'+$/g,"")),e===t}normalizeDatetimeFunction(e){if(!e)return e;if(e.toUpperCase().indexOf("CURRENT_TIMESTAMP")!==-1||e.toUpperCase().indexOf("NOW")!==-1){const i=e.match(/\(\d+\)/);return i?"CURRENT_TIMESTAMP".concat(i[0]):"CURRENT_TIMESTAMP"}else return e}escapeComment(e){return e&&(e=e.replace(/\u0000/g,""),e)}}class k6{create(e){const{type:t}=e.options;switch(t){case"mysql":return new iw(e);case"postgres":return new LC(e);case"cockroachdb":return new T3(e);case"sap":return new S3(e);case"mariadb":return new iw(e);case"sqlite":return new A3(e);case"better-sqlite3":return new k3(e);case"cordova":return new l6(e);case"nativescript":return new h6(e);case"react-native":return new u6(e);case"sqljs":return new f6(e);case"oracle":return new N3(e);case"mssql":return new C3(e);case"mongodb":return new w3(e);case"expo":return new g6(e);case"aurora-mysql":return new b6(e);case"aurora-postgres":return new T6(e);case"capacitor":return new S6(e);case"spanner":return new A6(e);default:throw new o3(t,["aurora-mysql","aurora-postgres","better-sqlite3","capacitor","cockroachdb","cordova","expo","mariadb","mongodb","mssql","mysql","nativescript","oracle","postgres","react-native","sap","sqlite","sqljs","spanner"])}}}function Zp(n,e,t=[".js",".cjs",".ts"]){return[]}const R6=new class{constructor(){this.instances=[]}get(n){let e=this.instances.find(t=>t.type===n);return e||(e={type:n,object:new n},this.instances.push(e)),e.object}};function cw(n){return R6.get(n)}class ii{constructor(e){this["@instanceof"]=Symbol.for("ColumnMetadata"),this.length="",this.isPrimary=!1,this.isGenerated=!1,this.isNullable=!1,this.isSelect=!0,this.isInsert=!0,this.isUpdate=!0,this.zerofill=!1,this.unsigned=!1,this.isArray=!1,this.isVirtual=!1,this.isVirtualProperty=!1,this.isDiscriminator=!1,this.isTreeLevel=!1,this.isCreateDate=!1,this.isUpdateDate=!1,this.isDeleteDate=!1,this.isVersion=!1,this.isObjectId=!1,this.isNestedSetLeft=!1,this.isNestedSetRight=!1,this.isMaterializedPath=!1,this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.referencedColumn=e.referencedColumn,e.args.target&&(this.target=e.args.target),e.args.propertyName&&(this.propertyName=e.args.propertyName),e.args.options.name&&(this.givenDatabaseName=e.args.options.name),e.args.options.type&&(this.type=e.args.options.type),e.args.options.length&&(this.length=e.args.options.length?e.args.options.length.toString():""),e.args.options.width&&(this.width=e.args.options.width),e.args.options.charset&&(this.charset=e.args.options.charset),e.args.options.collation&&(this.collation=e.args.options.collation),e.args.options.primary&&(this.isPrimary=e.args.options.primary),e.args.options.default===null&&(this.isNullable=!0),e.args.options.nullable!==void 0&&(this.isNullable=e.args.options.nullable),e.args.options.select!==void 0&&(this.isSelect=e.args.options.select),e.args.options.insert!==void 0&&(this.isInsert=e.args.options.insert),e.args.options.update!==void 0&&(this.isUpdate=e.args.options.update),e.args.options.readonly!==void 0&&(this.isUpdate=!e.args.options.readonly),e.args.options.comment&&(this.comment=e.args.options.comment),e.args.options.default!==void 0&&(this.default=e.args.options.default),e.args.options.onUpdate&&(this.onUpdate=e.args.options.onUpdate),e.args.options.generatedIdentity&&(this.generatedIdentity=e.args.options.generatedIdentity),e.args.options.scale!==null&&e.args.options.scale!==void 0&&(this.scale=e.args.options.scale),e.args.options.zerofill&&(this.zerofill=e.args.options.zerofill,this.unsigned=!0),e.args.options.unsigned&&(this.unsigned=e.args.options.unsigned),e.args.options.precision!==null&&(this.precision=e.args.options.precision),e.args.options.enum&&(Be.isObject(e.args.options.enum)&&!Array.isArray(e.args.options.enum)?this.enum=Object.keys(e.args.options.enum).filter(t=>isNaN(+t)&&typeof e.args.options.enum[t]!="function").map(t=>e.args.options.enum[t]):this.enum=e.args.options.enum),e.args.options.enumName&&(this.enumName=e.args.options.enumName),e.args.options.primaryKeyConstraintName&&(this.primaryKeyConstraintName=e.args.options.primaryKeyConstraintName),e.args.options.foreignKeyConstraintName&&(this.foreignKeyConstraintName=e.args.options.foreignKeyConstraintName),e.args.options.asExpression&&(this.asExpression=e.args.options.asExpression,this.generatedType=e.args.options.generatedType?e.args.options.generatedType:"VIRTUAL"),e.args.options.hstoreType&&(this.hstoreType=e.args.options.hstoreType),e.args.options.array&&(this.isArray=e.args.options.array),e.args.mode&&(this.isVirtualProperty=e.args.mode==="virtual-property",this.isVirtual=e.args.mode==="virtual",this.isTreeLevel=e.args.mode==="treeLevel",this.isCreateDate=e.args.mode==="createDate",this.isUpdateDate=e.args.mode==="updateDate",this.isDeleteDate=e.args.mode==="deleteDate",this.isVersion=e.args.mode==="version",this.isObjectId=e.args.mode==="objectId"),this.isVirtualProperty&&(this.isInsert=!1,this.isUpdate=!1),e.args.options.transformer&&(this.transformer=e.args.options.transformer),e.args.options.spatialFeatureType&&(this.spatialFeatureType=e.args.options.spatialFeatureType),e.args.options.srid!==void 0&&(this.srid=e.args.options.srid),e.args.options.query&&(this.query=e.args.options.query),this.isTreeLevel&&(this.type=e.connection.driver.mappedDataTypes.treeLevel),this.isCreateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.createDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.createDateDefault),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.createDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.createDatePrecision)),this.isUpdateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.updateDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.updateDateDefault),this.onUpdate||(this.onUpdate=e.connection.driver.mappedDataTypes.updateDateDefault),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.updateDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.updateDatePrecision)),this.isDeleteDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.deleteDate),this.isNullable||(this.isNullable=e.connection.driver.mappedDataTypes.deleteDateNullable),this.precision===void 0&&e.args.options.precision===void 0&&e.connection.driver.mappedDataTypes.deleteDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.deleteDatePrecision)),this.isVersion&&(this.type=e.connection.driver.mappedDataTypes.version),e.closureType&&(this.closureType=e.closureType),e.nestedSetLeft&&(this.isNestedSetLeft=e.nestedSetLeft),e.nestedSetRight&&(this.isNestedSetRight=e.nestedSetRight),e.materializedPath&&(this.isMaterializedPath=e.materializedPath)}createValueMap(e,t=!1){if(this.embeddedMetadata){const i=[...this.embeddedMetadata.parentPropertyNames],r=(s,o)=>{const a=s.shift();return a?(o[a]={},r(s,o[a]),o):((this.generationStrategy==="increment"||this.generationStrategy==="rowid")&&this.type==="bigint"&&e!==null&&(e=String(e)),o[t?this.databaseName:this.propertyName]=e,o)};return r(i,{})}else return(this.generationStrategy==="increment"||this.generationStrategy==="rowid")&&this.type==="bigint"&&e!==null&&(e=String(e)),{[t?this.databaseName:this.propertyName]:e}}getEntityValueMap(e,t){var i;if(this.embeddedMetadata){const s=[...this.embeddedMetadata.parentPropertyNames],o=this.embeddedMetadata.isArray,a=(c,u)=>{if(u===void 0)return{};const d=c.shift();if(d){const h=a(c,u[d]);return Object.keys(h).length>0?{[d]:h}:{}}return o&&Array.isArray(u)?u.map(h=>({[this.propertyName]:h[this.propertyName]})):u[this.propertyName]!==void 0?{[this.propertyName]:u[this.propertyName]}:{}},l=a(s,e);return Object.keys(l).length>0?l:void 0}else if(this.relationMetadata&&!(!((i=Object.getOwnPropertyDescriptor(e,this.relationMetadata.propertyName))===null||i===void 0)&&i.get)&&e[this.relationMetadata.propertyName]&&Be.isObject(e[this.relationMetadata.propertyName])){const s=this.relationMetadata.joinColumns.reduce((o,a)=>{const l=a.referencedColumn.getEntityValueMap(e[this.relationMetadata.propertyName]);return l===void 0?o:ve.mergeDeep(o,l)},{});return Object.keys(s).length>0?{[this.propertyName]:s}:void 0}else return e[this.propertyName]!==void 0?{[this.propertyName]:e[this.propertyName]}:void 0}getEntityValue(e,t=!1){if(e==null)return;let i;if(this.embeddedMetadata){const r=[...this.embeddedMetadata.parentPropertyNames],s=this.embeddedMetadata.isArray,o=(l,c)=>{const u=l.shift();return u&&c?o(l,c[u]):c},a=o(r,e);if(a)if(this.relationMetadata&&this.referencedColumn){const l=this.relationMetadata.getEntityValue(a);l&&Be.isObject(l)&&!U.isFindOperator(l)&&!Buffer.isBuffer(l)?i=this.referencedColumn.getEntityValue(l):a[this.propertyName]&&Be.isObject(a[this.propertyName])&&!U.isFindOperator(a[this.propertyName])&&!Buffer.isBuffer(a[this.propertyName])&&!(a[this.propertyName]instanceof Date)?i=this.referencedColumn.getEntityValue(a[this.propertyName]):i=a[this.propertyName]}else this.referencedColumn?i=this.referencedColumn.getEntityValue(a[this.propertyName]):s&&Array.isArray(a)?i=a.map(l=>l[this.propertyName]):i=a[this.propertyName]}else if(this.relationMetadata&&this.referencedColumn){const r=this.relationMetadata.getEntityValue(e);r&&Be.isObject(r)&&!U.isFindOperator(r)&&typeof r!="function"&&!Buffer.isBuffer(r)?i=this.referencedColumn.getEntityValue(r):e[this.propertyName]&&Be.isObject(e[this.propertyName])&&!U.isFindOperator(e[this.propertyName])&&typeof e[this.propertyName]!="function"&&!Buffer.isBuffer(e[this.propertyName])&&!(e[this.propertyName]instanceof Date)?i=this.referencedColumn.getEntityValue(e[this.propertyName]):i=e[this.propertyName]}else this.referencedColumn?i=this.referencedColumn.getEntityValue(e[this.propertyName]):i=e[this.propertyName];return t&&this.transformer&&(i=Ut.transformTo(this.transformer,i)),i}setEntityValue(e,t){if(this.embeddedMetadata){const i=(r,s)=>{const o=r.shift();return o?(s[o.propertyName]||(s[o.propertyName]=o.create()),i(r,s[o.propertyName]),s):(s[this.propertyName]=t,s)};return i([...this.embeddedMetadata.embeddedMetadataTree],e)}else!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName?(this.propertyName in e||(e[this.propertyName]={}),e[this.propertyName][this.referencedColumn.propertyName]=t):e[this.propertyName]=t}compareEntityValue(e,t){const i=this.getEntityValue(e);return Be.isObject(i)?i.equals(t):i===t}build(e){return this.propertyPath=this.buildPropertyPath(),this.propertyAliasName=this.propertyPath.replace(".","_"),this.databaseName=this.buildDatabaseName(e),this.databasePath=this.buildDatabasePath(),this.databaseNameWithoutPrefixes=e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,[]),this}buildPropertyPath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.propertyName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName&&(e+="."+this.referencedColumn.propertyName),e}buildDatabasePath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.databaseName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.databaseName!==this.databaseName&&(e+="."+this.referencedColumn.databaseName),e}buildDatabaseName(e){let t=this.embeddedMetadata?this.embeddedMetadata.parentPrefixes:[];return e.driver.options.type==="mongodb"&&(t=[]),e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,t)}}class Ei{constructor(e){this.isUnique=!1,this.isSpatial=!1,this.isFulltext=!1,this.isNullFiltered=!1,this.synchronize=!0,this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,e.args.synchronize!==null&&e.args.synchronize!==void 0&&(this.synchronize=e.args.synchronize),this.isUnique=!!e.args.unique,this.isSpatial=!!e.args.spatial,this.isFulltext=!!e.args.fulltext,this.isNullFiltered=!!e.args.nullFiltered,this.parser=e.args.parser,this.where=e.args.where,this.isSparse=e.args.sparse,this.isBackground=e.args.background,this.expireAfterSeconds=e.args.expireAfterSeconds,this.givenName=e.args.name,this.givenColumnNames=e.args.columns)}build(e){if(this.synchronize===!1)return this.name=this.givenName,this;const t={};if(this.givenColumnNames){let i=[];if(Array.isArray(this.givenColumnNames))i=this.givenColumnNames.map(r=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+r:r.trim()),i.forEach(r=>t[r]=1);else{const r=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(r)?(i=r.map(s=>String(s)),i.forEach(s=>t[s]=1)):(i=Object.keys(r).map(s=>String(s)),Object.keys(r).forEach(s=>t[s]=r[s]))}this.columns=i.map(r=>{const s=this.entityMetadata.columns.find(c=>c.propertyPath===r);if(s)return[s];const o=this.entityMetadata.relations.find(c=>c.isWithJoinColumn&&c.propertyName===r);if(o)return o.joinColumns;const a=this.givenName?'"'+this.givenName+'" ':"",l=this.entityMetadata.targetName;throw new _("Index ".concat(a,"contains column that is missing in the entity (").concat(l,"): ")+r)}).reduce((r,s)=>r.concat(s))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce((i,r)=>{const s=this.entityMetadata.columns.find(o=>o.propertyPath===r);return s&&(i[s.databasePath]=t[r]),i},{}),this.name=this.givenName?this.givenName:e.indexName(this.entityMetadata.tableName,this.columns.map(i=>i.databaseName),this.where),this}}class uw{constructor(e){this.isTreeParent=!1,this.isTreeChildren=!1,this.isPrimary=!1,this.isLazy=!1,this.isEager=!1,this.persistenceEnabled=!0,this.isCascadeInsert=!1,this.isCascadeUpdate=!1,this.isCascadeRemove=!1,this.isCascadeSoftRemove=!1,this.isCascadeRecover=!1,this.isNullable=!0,this.createForeignKeyConstraints=!0,this.isOwning=!1,this.isOneToOne=!1,this.isOneToOneOwner=!1,this.isWithJoinColumn=!1,this.isOneToOneNotOwner=!1,this.isOneToMany=!1,this.isManyToOne=!1,this.isManyToMany=!1,this.isManyToManyOwner=!1,this.isManyToManyNotOwner=!1,this.foreignKeys=[],this.joinColumns=[],this.inverseJoinColumns=[],this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata;const t=e.args;this.target=t.target,this.propertyName=t.propertyName,this.relationType=t.relationType,t.inverseSideProperty&&(this.givenInverseSidePropertyFactory=t.inverseSideProperty),this.isLazy=t.isLazy||!1,this.isCascadeInsert=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("insert")!==-1,this.isCascadeUpdate=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("update")!==-1,this.isCascadeRemove=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("remove")!==-1,this.isCascadeSoftRemove=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("soft-remove")!==-1,this.isCascadeRecover=t.options.cascade===!0||Array.isArray(t.options.cascade)&&t.options.cascade.indexOf("recover")!==-1,this.isNullable=!(t.options.nullable===!1||this.isPrimary),this.onDelete=t.options.onDelete,this.onUpdate=t.options.onUpdate,this.deferrable=t.options.deferrable,this.createForeignKeyConstraints=t.options.createForeignKeyConstraints!==!1,this.isEager=t.options.eager||!1,this.persistenceEnabled=t.options.persistence!==!1,this.orphanedRowAction=t.options.orphanedRowAction||"nullify",this.isTreeParent=t.isTreeParent||!1,this.isTreeChildren=t.isTreeChildren||!1,typeof t.type=="function"?this.type=typeof t.type=="function"?t.type():t.type:U.isEntitySchema(t.type)?this.type=t.type.options.name:Be.isObject(t.type)&&typeof t.type.name=="string"?this.type=t.type.name:this.type=t.type,this.isOneToOne=this.relationType==="one-to-one",this.isOneToMany=this.relationType==="one-to-many",this.isManyToOne=this.relationType==="many-to-one",this.isManyToMany=this.relationType==="many-to-many",this.isOneToOneNotOwner=!!this.isOneToOne,this.isManyToManyNotOwner=!!this.isManyToMany}getRelationIdMap(e){const i=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map(r=>r.referencedColumn);return Mi.getValueMap(e,i)}ensureRelationIdMap(e){if(Be.isObject(e))return e;const i=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map(r=>r.referencedColumn);if(i.length>1)throw new _("Cannot create relation id map for a single value because relation contains multiple referenced columns.");return i[0].createValueMap(e)}getEntityValue(e,t=!1){if(e!=null)if(this.embeddedMetadata){const i=[...this.embeddedMetadata.parentPropertyNames],r=(o,a)=>{const l=o.shift();return l?a[l]?r(o,a[l]):void 0:a},s=r(i,e);return this.isLazy?s["__"+this.propertyName+"__"]!==void 0?s["__"+this.propertyName+"__"]:t===!0?s[this.propertyName]:void 0:s?s[this.isLazy?"__"+this.propertyName+"__":this.propertyName]:void 0}else return this.isLazy?e["__"+this.propertyName+"__"]!==void 0?e["__"+this.propertyName+"__"]:t===!0?e[this.propertyName]:void 0:e[this.propertyName]}setEntityValue(e,t){const i=this.isLazy?"__"+this.propertyName+"__":this.propertyName;if(this.embeddedMetadata){const r=(s,o)=>{const a=s.shift();return a?(o[a.propertyName]||(o[a.propertyName]=a.create()),r(s,o[a.propertyName]),o):(o[i]=t,o)};return r([...this.embeddedMetadata.embeddedMetadataTree],e)}else e[i]=t}createValueMap(e){if(this.embeddedMetadata){const t=[...this.embeddedMetadata.parentPropertyNames],i=(r,s)=>{const o=r.shift();return o?(s[o]={},i(r,s[o]),s):(s[this.propertyName]=e,s)};return i(t,{})}else return{[this.propertyName]:e}}build(){this.propertyPath=this.buildPropertyPath()}registerForeignKeys(...e){this.foreignKeys.push(...e)}registerJoinColumns(e=[],t=[]){this.joinColumns=e,this.inverseJoinColumns=t,this.isOwning=this.isManyToOne||(this.isManyToMany||this.isOneToOne)&&this.joinColumns.length>0,this.isOneToOneOwner=this.isOneToOne&&this.isOwning,this.isOneToOneNotOwner=this.isOneToOne&&!this.isOwning,this.isManyToManyOwner=this.isManyToMany&&this.isOwning,this.isManyToManyNotOwner=this.isManyToMany&&!this.isOwning,this.isWithJoinColumn=this.isManyToOne||this.isOneToOneOwner}registerJunctionEntityMetadata(e){this.junctionEntityMetadata=e,this.joinTableName=e.tableName,this.inverseRelation&&(this.inverseRelation.junctionEntityMetadata=e,this.joinTableName=e.tableName)}buildInverseSidePropertyPath(){if(this.givenInverseSidePropertyFactory){const e=this.inverseEntityMetadata.propertiesMap;if(typeof this.givenInverseSidePropertyFactory=="function")return this.givenInverseSidePropertyFactory(e);if(typeof this.givenInverseSidePropertyFactory=="string")return this.givenInverseSidePropertyFactory}else{if(this.isTreeParent&&this.entityMetadata.treeChildrenRelation)return this.entityMetadata.treeChildrenRelation.propertyName;if(this.isTreeChildren&&this.entityMetadata.treeParentRelation)return this.entityMetadata.treeParentRelation.propertyName}return""}buildPropertyPath(){return!this.embeddedMetadata||!this.embeddedMetadata.parentPropertyNames.length?this.propertyName:this.embeddedMetadata.parentPropertyNames.join(".")+"."+this.propertyName}}class $6{constructor(e){this.columns=[],this.relations=[],this.listeners=[],this.indices=[],this.uniques=[],this.relationIds=[],this.relationCounts=[],this.embeddeds=[],this.isAlwaysUsingConstructor=!0,this.isArray=!1,this.parentPropertyNames=[],this.parentPrefixes=[],this.embeddedMetadataTree=[],this.columnsFromTree=[],this.relationsFromTree=[],this.listenersFromTree=[],this.indicesFromTree=[],this.uniquesFromTree=[],this.relationIdsFromTree=[],this.relationCountsFromTree=[],this.entityMetadata=e.entityMetadata,this.type=e.args.type(),this.propertyName=e.args.propertyName,this.customPrefix=e.args.prefix,this.isArray=e.args.isArray}create(e){return typeof this.type!="function"?{}:e!=null&&e.fromDeserializer||!this.isAlwaysUsingConstructor?Object.create(this.type.prototype):new this.type}build(e){return this.embeddeds.forEach(t=>t.build(e)),this.prefix=this.buildPrefix(e),this.parentPropertyNames=this.buildParentPropertyNames(),this.parentPrefixes=this.buildParentPrefixes(),this.propertyPath=this.parentPropertyNames.join("."),this.embeddedMetadataTree=this.buildEmbeddedMetadataTree(),this.columnsFromTree=this.buildColumnsFromTree(),this.relationsFromTree=this.buildRelationsFromTree(),this.listenersFromTree=this.buildListenersFromTree(),this.indicesFromTree=this.buildIndicesFromTree(),this.uniquesFromTree=this.buildUniquesFromTree(),this.relationIdsFromTree=this.buildRelationIdsFromTree(),this.relationCountsFromTree=this.buildRelationCountsFromTree(),e.options.entitySkipConstructor&&(this.isAlwaysUsingConstructor=!e.options.entitySkipConstructor),this}buildPartialPrefix(){if(this.customPrefix===void 0||this.customPrefix===!0)return[this.propertyName];if(this.customPrefix===""||this.customPrefix===!1)return[];if(typeof this.customPrefix=="string")return[this.customPrefix];throw new _("Invalid prefix option given for ".concat(this.entityMetadata.targetName,"#").concat(this.propertyName))}buildPrefix(e){if(e.driver.options.type==="mongodb")return this.propertyName;let t=[];return this.parentEmbeddedMetadata&&t.push(this.parentEmbeddedMetadata.buildPrefix(e)),t.push(...this.buildPartialPrefix()),t.join("_")}buildParentPropertyNames(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPropertyNames().concat(this.propertyName):[this.propertyName]}buildParentPrefixes(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPrefixes().concat(this.buildPartialPrefix()):this.buildPartialPrefix()}buildEmbeddedMetadataTree(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildEmbeddedMetadataTree().concat(this):[this]}buildColumnsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildColumnsFromTree()),this.columns)}buildRelationsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationsFromTree()),this.relations)}buildListenersFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildListenersFromTree()),this.listeners)}buildIndicesFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildIndicesFromTree()),this.indices)}buildUniquesFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildUniquesFromTree()),this.uniques)}buildRelationIdsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationIdsFromTree()),this.relationIds)}buildRelationCountsFromTree(){return this.embeddeds.reduce((e,t)=>e.concat(t.buildRelationCountsFromTree()),this.relationCounts)}}class dw{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}setValue(e){const t=this.relation.getEntityValue(e);if(Array.isArray(t))e[this.propertyName]=t.map(i=>this.relation.inverseEntityMetadata.getEntityIdMixedMap(i)).filter(i=>i!=null);else{const i=this.relation.inverseEntityMetadata.getEntityIdMixedMap(t);i!==void 0&&(e[this.propertyName]=i)}}build(){const e=typeof this.relationNameOrFactory=="function"?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new _("Cannot find relation ".concat(e,". Wrong relation specified for @RelationId decorator."));this.relation=t}}class hw{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}build(){const e=typeof this.relationNameOrFactory=="function"?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new _("Cannot find relation ".concat(e,". Wrong relation specified for @RelationCount decorator."));this.relation=t}}class Tt{}Tt.AFTER_LOAD="after-load";Tt.BEFORE_INSERT="before-insert";Tt.AFTER_INSERT="after-insert";Tt.BEFORE_UPDATE="before-update";Tt.AFTER_UPDATE="after-update";Tt.BEFORE_REMOVE="before-remove";Tt.AFTER_REMOVE="after-remove";Tt.BEFORE_SOFT_REMOVE="before-soft-remove";Tt.AFTER_SOFT_REMOVE="after-soft-remove";Tt.BEFORE_RECOVER="before-recover";Tt.AFTER_RECOVER="after-recover";class Ol{constructor(e){this.columns=[],this.referencedColumns=[],this.columnNames=[],this.referencedColumnNames=[],this.entityMetadata=e.entityMetadata,this.referencedEntityMetadata=e.referencedEntityMetadata,this.columns=e.columns,this.referencedColumns=e.referencedColumns,this.onDelete=e.onDelete||"NO ACTION",this.onUpdate=e.onUpdate||"NO ACTION",this.deferrable=e.deferrable,this.givenName=e.name,e.namingStrategy&&this.build(e.namingStrategy)}build(e){this.columnNames=this.columns.map(t=>t.databaseName),this.referencedColumnNames=this.referencedColumns.map(t=>t.databaseName),this.referencedTablePath=this.referencedEntityMetadata.tablePath,this.name=this.givenName?this.givenName:e.foreignKeyName(this.entityMetadata.tableName,this.columnNames,this.referencedEntityMetadata.tableName,this.referencedColumnNames)}}class P6{constructor(e){this.connection=e}build(e,t){var i,r;const s=this.collectReferencedColumns(e,t),o=this.collectInverseReferencedColumns(e,t),a=t.name||this.connection.namingStrategy.joinTableName(e.entityMetadata.tableNameWithoutPrefix,e.inverseEntityMetadata.tableNameWithoutPrefix,e.propertyPath,e.inverseRelation?e.inverseRelation.propertyName:""),l=new Mi({connection:this.connection,args:{target:"",name:a,type:"junction",database:t.database||e.entityMetadata.database,schema:t.schema||e.entityMetadata.schema,synchronize:t.synchronize}});l.build();const c=s.map(d=>{const h=t.joinColumns?t.joinColumns.find(y=>(!y.referencedColumnName||y.referencedColumnName===d.propertyName)&&!!y.name):void 0,p=h&&h.name?h.name:this.connection.namingStrategy.joinTableColumnName(e.entityMetadata.tableNameWithoutPrefix,d.propertyName,d.databaseName);return new ii({connection:this.connection,entityMetadata:l,referencedColumn:d,args:{target:"",mode:"virtual",propertyName:p,options:{name:p,length:!d.length&&(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&this.connection.driver.normalizeType(d)!=="uuid"&&(d.generationStrategy==="uuid"||d.type==="uuid")?"36":d.length,width:d.width,type:d.type,precision:d.precision,scale:d.scale,charset:d.charset,collation:d.collation,zerofill:d.zerofill,unsigned:d.zerofill?!0:d.unsigned,enum:d.enum,enumName:d.enumName,foreignKeyConstraintName:h==null?void 0:h.foreignKeyConstraintName,nullable:!1,primary:!0}}})}),u=o.map(d=>{const h=t.inverseJoinColumns?t.inverseJoinColumns.find(y=>(!y.referencedColumnName||y.referencedColumnName===d.propertyName)&&!!y.name):void 0,p=h&&h.name?h.name:this.connection.namingStrategy.joinTableInverseColumnName(e.inverseEntityMetadata.tableNameWithoutPrefix,d.propertyName,d.databaseName);return new ii({connection:this.connection,entityMetadata:l,referencedColumn:d,args:{target:"",mode:"virtual",propertyName:p,options:{length:!d.length&&(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&this.connection.driver.normalizeType(d)!=="uuid"&&(d.generationStrategy==="uuid"||d.type==="uuid")?"36":d.length,width:d.width,type:d.type,precision:d.precision,scale:d.scale,charset:d.charset,collation:d.collation,zerofill:d.zerofill,unsigned:d.zerofill?!0:d.unsigned,enum:d.enum,enumName:d.enumName,foreignKeyConstraintName:h==null?void 0:h.foreignKeyConstraintName,name:p,nullable:!1,primary:!0}}})});return this.changeDuplicatedColumnNames(c,u),l.ownerColumns=c,l.inverseColumns=u,l.ownColumns=[...c,...u],l.ownColumns.forEach(d=>d.relationMetadata=e),l.foreignKeys=e.createForeignKeyConstraints?[new Ol({entityMetadata:l,referencedEntityMetadata:e.entityMetadata,columns:c,referencedColumns:s,name:(i=c[0])===null||i===void 0?void 0:i.foreignKeyConstraintName,onDelete:this.connection.driver.options.type==="spanner"?"NO ACTION":e.onDelete||"CASCADE",onUpdate:this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="spanner"?"NO ACTION":e.onUpdate||"CASCADE"}),new Ol({entityMetadata:l,referencedEntityMetadata:e.inverseEntityMetadata,columns:u,referencedColumns:o,name:(r=u[0])===null||r===void 0?void 0:r.foreignKeyConstraintName,onDelete:this.connection.driver.options.type==="spanner"?"NO ACTION":e.inverseRelation?e.inverseRelation.onDelete:"CASCADE",onUpdate:this.connection.driver.options.type==="oracle"||this.connection.driver.options.type==="spanner"?"NO ACTION":e.inverseRelation?e.inverseRelation.onUpdate:"CASCADE"})]:[],l.ownIndices=[new Ei({entityMetadata:l,columns:c,args:{target:l.target,synchronize:!0}}),new Ei({entityMetadata:l,columns:u,args:{target:l.target,synchronize:!0}})],l}collectReferencedColumns(e,t){const i=t.joinColumns?t.joinColumns.find(r=>!!r.referencedColumnName):!1;return!t.joinColumns||t.joinColumns&&!i?e.entityMetadata.columns.filter(r=>r.isPrimary):t.joinColumns.map(r=>{const s=e.entityMetadata.columns.find(o=>o.propertyName===r.referencedColumnName);if(!s)throw new _("Referenced column ".concat(r.referencedColumnName," was not found in entity ").concat(e.entityMetadata.name));return s})}collectInverseReferencedColumns(e,t){const i=!!t.inverseJoinColumns,r=i?t.inverseJoinColumns.find(s=>!!s.referencedColumnName):!1;return!i||i&&!r?e.inverseEntityMetadata.primaryColumns:t.inverseJoinColumns.map(s=>{const o=e.inverseEntityMetadata.ownColumns.find(a=>a.propertyName===s.referencedColumnName);if(!o)throw new _("Referenced column ".concat(s.referencedColumnName," was not found in entity ").concat(e.inverseEntityMetadata.name));return o})}changeDuplicatedColumnNames(e,t){e.forEach(i=>{t.forEach(r=>{if(i.givenDatabaseName===r.givenDatabaseName){const s=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(i.propertyName,1);i.propertyName=s,i.givenDatabaseName=s;const o=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(r.propertyName,2);r.propertyName=o,r.givenDatabaseName=o}})})}}class O6{constructor(e){this.connection=e}build(e){const t=new Mi({parentClosureEntityMetadata:e,connection:this.connection,args:{target:"",name:e.treeOptions&&e.treeOptions.closureTableName?e.treeOptions.closureTableName:e.tableNameWithoutPrefix,type:"closure-junction"}});return t.build(),e.primaryColumns.forEach(i=>{t.ownColumns.push(new ii({connection:this.connection,entityMetadata:t,closureType:"ancestor",referencedColumn:i,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.ancestorColumnName?e.treeOptions.ancestorColumnName(i):i.propertyName+"_ancestor",options:{primary:!0,length:i.length,type:i.type}}})),t.ownColumns.push(new ii({connection:this.connection,entityMetadata:t,closureType:"descendant",referencedColumn:i,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.descendantColumnName?e.treeOptions.descendantColumnName(i):i.propertyName+"_descendant",options:{primary:!0,length:i.length,type:i.type}}}))}),t.ownIndices=[new Ei({entityMetadata:t,columns:[t.ownColumns[0]],args:{target:t.target,synchronize:!0}}),new Ei({entityMetadata:t,columns:[t.ownColumns[1]],args:{target:t.target,synchronize:!0}})],e.treeLevelColumn&&t.ownColumns.push(new ii({connection:this.connection,entityMetadata:t,args:{target:"",mode:"virtual",propertyName:"level",options:{type:this.connection.driver.mappedDataTypes.treeLevel}}})),t.foreignKeys=[new Ol({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[0]],referencedColumns:e.primaryColumns,onDelete:this.connection.driver.options.type==="mssql"?"NO ACTION":"CASCADE"}),new Ol({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[1]],referencedColumns:e.primaryColumns,onDelete:this.connection.driver.options.type==="mssql"?"NO ACTION":"CASCADE"})],t}}class Nu{constructor(e){this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,this.givenName=e.args.name,this.givenColumnNames=e.args.columns,this.deferrable=e.args.deferrable)}build(e){const t={};if(this.givenColumnNames){let i=[];if(Array.isArray(this.givenColumnNames))i=this.givenColumnNames.map(r=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+r:r.trim()),i.forEach(r=>t[r]=1);else{const r=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(r)?(i=r.map(s=>String(s)),i.forEach(s=>t[s]=1)):(i=Object.keys(r).map(s=>String(s)),Object.keys(r).forEach(s=>t[s]=r[s]))}this.columns=i.map(r=>{const s=this.entityMetadata.columns.find(c=>c.propertyPath===r);if(s)return[s];const o=this.entityMetadata.relations.find(c=>c.isWithJoinColumn&&c.propertyName===r);if(o)return o.joinColumns;const a=this.givenName?'"'+this.givenName+'" ':"",l=this.entityMetadata.targetName;throw new _("Unique constraint ".concat(a,"contains column that is missing in the entity (").concat(l,"): ")+r)}).reduce((r,s)=>r.concat(s))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce((i,r)=>{const s=this.entityMetadata.columns.find(o=>o.propertyPath===r);return s&&(i[s.databasePath]=t[r]),i},{}),this.name=this.givenName?this.givenName:e.uniqueConstraintName(this.entityMetadata.tableName,this.columns.map(i=>i.databaseName)),this}}class I6{constructor(e){this.connection=e}build(e,t){var i;const r=this.collectReferencedColumns(e,t),s=this.collectColumns(e,t,r);if(!r.length||!t.createForeignKeyConstraints)return{foreignKey:void 0,columns:s,uniqueConstraint:void 0};const o=new Ol({name:(i=e[0])===null||i===void 0?void 0:i.foreignKeyConstraintName,entityMetadata:t.entityMetadata,referencedEntityMetadata:t.inverseEntityMetadata,namingStrategy:this.connection.namingStrategy,columns:s,referencedColumns:r,onDelete:t.onDelete,onUpdate:t.onUpdate,deferrable:t.deferrable});if(s.every(l=>l.isPrimary)||!t.isOneToOne)return{foreignKey:o,columns:s,uniqueConstraint:void 0};const a=new Nu({entityMetadata:t.entityMetadata,columns:o.columns,args:{name:this.connection.namingStrategy.relationConstraintName(t.entityMetadata.tableName,o.columns.map(l=>l.databaseName)),target:t.entityMetadata.target}});return a.build(this.connection.namingStrategy),{foreignKey:o,columns:s,uniqueConstraint:a}}collectReferencedColumns(e,t){const i=e.find(o=>!!o.referencedColumnName),r=e.length===0&&t.isManyToOne,s=e.length>0&&!i;return r||s?t.inverseEntityMetadata.primaryColumns:e.map(o=>{const a=t.inverseEntityMetadata.ownColumns.find(l=>l.propertyName===o.referencedColumnName);if(!a)throw new _("Referenced column ".concat(o.referencedColumnName," was not found in entity ").concat(t.inverseEntityMetadata.name));return a})}collectColumns(e,t,i){return i.map(r=>{const s=e.find(c=>(!c.referencedColumnName||c.referencedColumnName===r.propertyName)&&!!c.name),o=s?s.name:this.connection.namingStrategy.joinColumnName(t.propertyName,r.propertyName);let l=(t.embeddedMetadata?t.embeddedMetadata.columns:t.entityMetadata.ownColumns).find(c=>c.databaseNameWithoutPrefixes===o);return l||(l=new ii({connection:this.connection,entityMetadata:t.entityMetadata,embeddedMetadata:t.embeddedMetadata,args:{target:"",mode:"virtual",propertyName:t.propertyName,options:{name:o,type:r.type,length:!r.length&&(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql")&&this.connection.driver.normalizeType(r)!=="uuid"&&(r.generationStrategy==="uuid"||r.type==="uuid")?"36":r.length,width:r.width,charset:r.charset,collation:r.collation,precision:r.precision,scale:r.scale,zerofill:r.zerofill,unsigned:r.unsigned,comment:r.comment,enum:r.enum,enumName:r.enumName,primary:t.isPrimary,nullable:t.isNullable}}}),t.entityMetadata.registerColumn(l)),l.referencedColumn=r,l.type=r.type,l.relationMetadata=t,l.build(this.connection),l})}}class pw{constructor(e){this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.type=e.args.type}isAllowed(e){return this.entityMetadata.target===e.constructor||typeof this.entityMetadata.target=="function"&&e.constructor.prototype instanceof this.entityMetadata.target}execute(e){if(!this.embeddedMetadata)return e[this.propertyName]();this.callEntityEmbeddedMethod(e,this.embeddedMetadata.propertyPath.split("."))}callEntityEmbeddedMethod(e,t){const i=t.shift();!i||!e[i]||(t.length===0?Array.isArray(e[i])?e[i].map(r=>r[this.propertyName]()):e[i][this.propertyName]():e[i]&&this.callEntityEmbeddedMethod(e[i],t))}}class M6{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.checkConstraintName(this.entityMetadata.tableName,this.expression),this}}class _6{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.exclusionConstraintName(this.entityMetadata.tableName,this.expression),this}}class fw{constructor(e,t){this.connection=e,this.metadataArgsStorage=t,this.junctionEntityMetadataBuilder=new P6(e),this.closureJunctionEntityMetadataBuilder=new O6(e),this.relationJoinColumnBuilder=new I6(e)}build(e){const r=(e?this.metadataArgsStorage.filterTables(e):this.metadataArgsStorage.tables).filter(s=>s.type==="regular"||s.type==="closure"||s.type==="entity-child"||s.type==="view").map(s=>this.createEntityMetadata(s));return r.forEach(s=>this.computeParentEntityMetadata(r,s)),r.forEach(s=>{s.childEntityMetadatas=r.filter(o=>typeof s.target=="function"&&typeof o.target=="function"&&Cu.isInherited(o.target,s.target))}),r.filter(s=>s.tableType!=="entity-child").forEach(s=>s.build()),r.filter(s=>s.tableType==="entity-child").forEach(s=>s.build()),r.filter(s=>s.tableType!=="entity-child").forEach(s=>this.computeEntityMetadataStep1(r,s)),r.filter(s=>s.tableType==="entity-child").forEach(s=>this.computeEntityMetadataStep1(r,s)),r.forEach(s=>this.computeEntityMetadataStep2(s)),r.forEach(s=>this.computeInverseProperties(s,r)),r.filter(s=>s.tableType!=="entity-child").forEach(s=>{s.relations.filter(o=>o.isOneToOne||o.isManyToOne).forEach(o=>{const a=this.metadataArgsStorage.filterJoinColumns(o.target,o.propertyName),{foreignKey:l,columns:c,uniqueConstraint:u}=this.relationJoinColumnBuilder.build(a,o);if(l&&(o.registerForeignKeys(l),s.foreignKeys.push(l)),c&&o.registerJoinColumns(c),u)if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="mssql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){const d=new Ei({entityMetadata:u.entityMetadata,columns:u.columns,args:{target:u.target,name:u.name,unique:!0,synchronize:!0}});this.connection.driver.options.type==="mssql"&&(d.where=d.columns.map(h=>"".concat(this.connection.driver.escape(h.databaseName)," IS NOT NULL")).join(" AND ")),this.connection.driver.options.type==="spanner"&&(d.isNullFiltered=!0),o.embeddedMetadata?o.embeddedMetadata.indices.push(d):o.entityMetadata.ownIndices.push(d),this.computeEntityMetadataStep2(s)}else o.embeddedMetadata?o.embeddedMetadata.uniques.push(u):o.entityMetadata.ownUniques.push(u),this.computeEntityMetadataStep2(s);if(l&&this.connection.driver.options.type==="cockroachdb"){const d=new Ei({entityMetadata:o.entityMetadata,columns:l.columns,args:{target:o.entityMetadata.target,synchronize:!0}});o.embeddedMetadata?o.embeddedMetadata.indices.push(d):o.entityMetadata.ownIndices.push(d),this.computeEntityMetadataStep2(s)}}),s.relations.filter(o=>o.isManyToMany).forEach(o=>{const a=this.metadataArgsStorage.findJoinTable(o.target,o.propertyName);if(!a)return;const l=this.junctionEntityMetadataBuilder.build(o,a);o.registerForeignKeys(...l.foreignKeys),o.registerJoinColumns(l.ownIndices[0].columns,l.ownIndices[1].columns),o.registerJunctionEntityMetadata(l),this.computeEntityMetadataStep2(l),this.computeInverseProperties(l,r),r.push(l)})}),r.forEach(s=>{s.relationsWithJoinColumns=s.relations.filter(o=>o.isWithJoinColumn),s.hasNonNullableRelations=s.relationsWithJoinColumns.some(o=>!o.isNullable||o.isPrimary)}),r.filter(s=>s.treeType==="closure-table").forEach(s=>{const o=this.closureJunctionEntityMetadataBuilder.build(s);s.closureJunctionTable=o,this.computeEntityMetadataStep2(o),this.computeInverseProperties(o,r),r.push(o)}),r.filter(s=>s.inheritancePattern==="STI"&&s.discriminatorColumn).forEach(s=>this.createKeysForTableInheritance(s)),r.forEach(s=>{s.indices.forEach(o=>o.build(this.connection.namingStrategy))}),r.forEach(s=>{s.uniques.forEach(o=>o.build(this.connection.namingStrategy))}),r.forEach(s=>{s.checks.forEach(o=>o.build(this.connection.namingStrategy))}),r.forEach(s=>{s.exclusions.forEach(o=>o.build(this.connection.namingStrategy))}),r.filter(s=>typeof s.target=="function").forEach(s=>{s.relations.filter(o=>o.isLazy).forEach(o=>{this.connection.relationLoader.enableLazyLoad(o,s.target.prototype)})}),r.forEach(s=>{s.columns.forEach(o=>{const a=this.metadataArgsStorage.findGenerated(o.target,o.propertyName);a&&(o.isGenerated=!0,o.generationStrategy=a.strategy,a.strategy==="uuid"?o.type="uuid":a.strategy==="rowid"?o.type="int":o.type=o.type||Number,o.build(this.connection),this.computeEntityMetadataStep2(s))})}),r}createEntityMetadata(e){const t=typeof e.target=="function"?Cu.getInheritanceTree(e.target):[e.target],i=this.metadataArgsStorage.findInheritanceType(e.target),r=this.metadataArgsStorage.findTree(e.target);let s;return(i&&i.pattern==="STI"||e.type==="entity-child")&&(s=this.metadataArgsStorage.filterSingleTableChildren(e.target).map(o=>o.target).filter(o=>typeof o=="function"),t.push(...s)),new Mi({connection:this.connection,args:e,inheritanceTree:t,tableTree:r,inheritancePattern:i?i.pattern:void 0})}computeParentEntityMetadata(e,t){t.tableType==="entity-child"&&(t.parentEntityMetadata=e.find(i=>i.inheritanceTree.indexOf(t.target)!==-1&&i.inheritancePattern==="STI"))}computeEntityMetadataStep1(e,t){const i=this.metadataArgsStorage.findInheritanceType(t.target),r=this.metadataArgsStorage.findDiscriminatorValue(t.target);if(typeof r<"u"?t.discriminatorValue=r.value:t.discriminatorValue=t.target.name,t.embeddeds=this.createEmbeddedsRecursively(t,this.metadataArgsStorage.filterEmbeddeds(t.inheritanceTree)).map(o=>(t.inheritancePattern==="STI"&&(o.columns=o.columns.map(a=>(a.isNullable=!0,a))),o)),t.ownColumns=this.metadataArgsStorage.filterColumns(t.inheritanceTree).map(o=>{if(t.tableType==="entity-child")return t.parentEntityMetadata.ownColumns.find(c=>c.propertyName===o.propertyName);const a=new ii({connection:this.connection,entityMetadata:t,args:o});return e.find(c=>c.tableType==="entity-child"&&c.target===o.target)&&(a.isNullable=!0),a}),i&&i.column){const o=i.column&&i.column.name?i.column.name:"type";let a=t.ownColumns.find(l=>l.propertyName===o);a?a.isDiscriminator=!0:(a=new ii({connection:this.connection,entityMetadata:t,args:{target:t.target,mode:"virtual",propertyName:o,options:i.column||{name:o,type:"varchar",nullable:!1}}}),a.isVirtual=!0,a.isDiscriminator=!0,t.ownColumns.push(a))}if(t.tableType==="entity-child"){const o=t.parentEntityMetadata.ownColumns.find(a=>a.isDiscriminator);o&&!t.ownColumns.find(a=>a===o)&&t.ownColumns.push(o),t.inheritancePattern=t.parentEntityMetadata.inheritancePattern,!t.treeType&&t.parentEntityMetadata.treeType&&(t.treeType=t.parentEntityMetadata.treeType,t.treeOptions=t.parentEntityMetadata.treeOptions,t.treeParentRelation=t.parentEntityMetadata.treeParentRelation,t.treeLevelColumn=t.parentEntityMetadata.treeLevelColumn)}const{namingStrategy:s}=this.connection;if(t.treeType==="materialized-path")t.ownColumns.push(new ii({connection:this.connection,entityMetadata:t,materializedPath:!0,args:{target:t.target,mode:"virtual",propertyName:"mpath",options:{name:s.materializedPathColumnName,type:String,nullable:!0,default:""}}}));else if(t.treeType==="nested-set"){const{left:o,right:a}=s.nestedSetColumnNames;t.ownColumns.push(new ii({connection:this.connection,entityMetadata:t,nestedSetLeft:!0,args:{target:t.target,mode:"virtual",propertyName:o,options:{name:o,type:Number,nullable:!1,default:1}}})),t.ownColumns.push(new ii({connection:this.connection,entityMetadata:t,nestedSetRight:!0,args:{target:t.target,mode:"virtual",propertyName:a,options:{name:a,type:Number,nullable:!1,default:2}}}))}if(t.ownRelations=this.metadataArgsStorage.filterRelations(t.inheritanceTree).map(o=>{if(t.tableType==="entity-child"){const a=t.parentEntityMetadata.ownRelations.find(c=>c.propertyName===o.propertyName),l=typeof o.type=="function"?o.type():o.type;if(a.type!==l){const c=Object.create(a);return c.type=l,c}return a}return new uw({entityMetadata:t,args:o})}),t.relationIds=this.metadataArgsStorage.filterRelationIds(t.inheritanceTree).map(o=>t.tableType==="entity-child"?t.parentEntityMetadata.relationIds.find(a=>a.propertyName===o.propertyName):new dw({entityMetadata:t,args:o})),t.relationCounts=this.metadataArgsStorage.filterRelationCounts(t.inheritanceTree).map(o=>t.tableType==="entity-child"?t.parentEntityMetadata.relationCounts.find(a=>a.propertyName===o.propertyName):new hw({entityMetadata:t,args:o})),t.ownListeners=this.metadataArgsStorage.filterListeners(t.inheritanceTree).map(o=>new pw({entityMetadata:t,args:o})),t.checks=this.metadataArgsStorage.filterChecks(t.inheritanceTree).map(o=>new M6({entityMetadata:t,args:o})),this.connection.driver.options.type==="postgres"&&(t.exclusions=this.metadataArgsStorage.filterExclusions(t.inheritanceTree).map(o=>new _6({entityMetadata:t,args:o}))),this.connection.driver.options.type==="cockroachdb"){t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter(a=>!a.unique).map(a=>new Ei({entityMetadata:t,args:a}));const o=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter(a=>a.unique).map(a=>new Nu({entityMetadata:t,args:{target:a.target,name:a.name,columns:a.columns}}));t.ownUniques.push(...o)}else t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).map(o=>new Ei({entityMetadata:t,args:o}));if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){const o=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map(a=>new Ei({entityMetadata:t,args:{target:a.target,name:a.name,columns:a.columns,unique:!0,synchronize:!0}}));t.ownIndices.push(...o)}else{const o=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map(a=>new Nu({entityMetadata:t,args:a}));t.ownUniques.push(...o)}}createEmbeddedsRecursively(e,t){return t.map(i=>{const r=new $6({entityMetadata:e,args:i}),s=typeof r.type=="function"?Cu.getInheritanceTree(r.type):[r.type];return r.columns=this.metadataArgsStorage.filterColumns(s).map(o=>new ii({connection:this.connection,entityMetadata:e,embeddedMetadata:r,args:o})),r.relations=this.metadataArgsStorage.filterRelations(s).map(o=>new uw({entityMetadata:e,embeddedMetadata:r,args:o})),r.listeners=this.metadataArgsStorage.filterListeners(s).map(o=>new pw({entityMetadata:e,embeddedMetadata:r,args:o})),r.indices=this.metadataArgsStorage.filterIndices(s).map(o=>new Ei({entityMetadata:e,embeddedMetadata:r,args:o})),r.uniques=this.metadataArgsStorage.filterUniques(s).map(o=>new Nu({entityMetadata:e,embeddedMetadata:r,args:o})),r.relationIds=this.metadataArgsStorage.filterRelationIds(s).map(o=>new dw({entityMetadata:e,args:o})),r.relationCounts=this.metadataArgsStorage.filterRelationCounts(s).map(o=>new hw({entityMetadata:e,args:o})),r.embeddeds=this.createEmbeddedsRecursively(e,this.metadataArgsStorage.filterEmbeddeds(s)),r.embeddeds.forEach(o=>o.parentEmbeddedMetadata=r),e.allEmbeddeds.push(r),r})}computeEntityMetadataStep2(e){e.embeddeds.forEach(t=>t.build(this.connection)),e.embeddeds.forEach(t=>{t.columnsFromTree.forEach(i=>i.build(this.connection)),t.relationsFromTree.forEach(i=>i.build())}),e.ownColumns.forEach(t=>t.build(this.connection)),e.ownRelations.forEach(t=>t.build()),e.relations=e.embeddeds.reduce((t,i)=>t.concat(i.relationsFromTree),e.ownRelations),e.eagerRelations=e.relations.filter(t=>t.isEager),e.lazyRelations=e.relations.filter(t=>t.isLazy),e.oneToOneRelations=e.relations.filter(t=>t.isOneToOne),e.oneToManyRelations=e.relations.filter(t=>t.isOneToMany),e.manyToOneRelations=e.relations.filter(t=>t.isManyToOne),e.manyToManyRelations=e.relations.filter(t=>t.isManyToMany),e.ownerOneToOneRelations=e.relations.filter(t=>t.isOneToOneOwner),e.ownerManyToManyRelations=e.relations.filter(t=>t.isManyToManyOwner),e.treeParentRelation=e.relations.find(t=>t.isTreeParent),e.treeChildrenRelation=e.relations.find(t=>t.isTreeChildren),e.columns=e.embeddeds.reduce((t,i)=>t.concat(i.columnsFromTree),e.ownColumns),e.listeners=e.embeddeds.reduce((t,i)=>t.concat(i.listenersFromTree),e.ownListeners),e.afterLoadListeners=e.listeners.filter(t=>t.type===Tt.AFTER_LOAD),e.afterInsertListeners=e.listeners.filter(t=>t.type===Tt.AFTER_INSERT),e.afterUpdateListeners=e.listeners.filter(t=>t.type===Tt.AFTER_UPDATE),e.afterRemoveListeners=e.listeners.filter(t=>t.type===Tt.AFTER_REMOVE),e.afterSoftRemoveListeners=e.listeners.filter(t=>t.type===Tt.AFTER_SOFT_REMOVE),e.afterRecoverListeners=e.listeners.filter(t=>t.type===Tt.AFTER_RECOVER),e.beforeInsertListeners=e.listeners.filter(t=>t.type===Tt.BEFORE_INSERT),e.beforeUpdateListeners=e.listeners.filter(t=>t.type===Tt.BEFORE_UPDATE),e.beforeRemoveListeners=e.listeners.filter(t=>t.type===Tt.BEFORE_REMOVE),e.beforeSoftRemoveListeners=e.listeners.filter(t=>t.type===Tt.BEFORE_SOFT_REMOVE),e.beforeRecoverListeners=e.listeners.filter(t=>t.type===Tt.BEFORE_RECOVER),e.indices=e.embeddeds.reduce((t,i)=>t.concat(i.indicesFromTree),e.ownIndices),e.uniques=e.embeddeds.reduce((t,i)=>t.concat(i.uniquesFromTree),e.ownUniques),e.primaryColumns=e.columns.filter(t=>t.isPrimary),e.nonVirtualColumns=e.columns.filter(t=>!t.isVirtual),e.ancestorColumns=e.columns.filter(t=>t.closureType==="ancestor"),e.descendantColumns=e.columns.filter(t=>t.closureType==="descendant"),e.hasMultiplePrimaryKeys=e.primaryColumns.length>1,e.generatedColumns=e.columns.filter(t=>t.isGenerated||t.isObjectId),e.hasUUIDGeneratedColumns=e.columns.filter(t=>t.isGenerated||t.generationStrategy==="uuid").length>0,e.createDateColumn=e.columns.find(t=>t.isCreateDate),e.updateDateColumn=e.columns.find(t=>t.isUpdateDate),e.deleteDateColumn=e.columns.find(t=>t.isDeleteDate),e.versionColumn=e.columns.find(t=>t.isVersion),e.discriminatorColumn=e.columns.find(t=>t.isDiscriminator),e.treeLevelColumn=e.columns.find(t=>t.isTreeLevel),e.nestedSetLeftColumn=e.columns.find(t=>t.isNestedSetLeft),e.nestedSetRightColumn=e.columns.find(t=>t.isNestedSetRight),e.materializedPathColumn=e.columns.find(t=>t.isMaterializedPath),e.objectIdColumn=e.columns.find(t=>t.isObjectId),e.foreignKeys.forEach(t=>t.build(this.connection.namingStrategy)),e.propertiesMap=e.createPropertiesMap(),e.relationIds.forEach(t=>t.build()),e.relationCounts.forEach(t=>t.build()),e.embeddeds.forEach(t=>{t.relationIdsFromTree.forEach(i=>i.build()),t.relationCountsFromTree.forEach(i=>i.build())})}computeInverseProperties(e,t){e.relations.forEach(i=>{const r=t.find(s=>s.target===i.type||typeof i.type=="string"&&(s.targetName===i.type||s.givenTableName===i.type));if(!r)throw new _("Entity metadata for "+e.name+"#"+i.propertyPath+" was not found. Check if you specified a correct entity object and if it's connected in the connection options.");i.inverseEntityMetadata=r,i.inverseSidePropertyPath=i.buildInverseSidePropertyPath(),i.inverseRelation=r.relations.find(s=>s.propertyPath===i.inverseSidePropertyPath)})}createKeysForTableInheritance(e){e.indices.push(new Ei({entityMetadata:e,columns:[e.discriminatorColumn],args:{target:e.target,unique:!1}}))}}class vd extends _{static createEntitySchemaIsRequiredException(e){return new vd("EntitySchema is required for ".concat(e," embedded field"))}static createTargetIsRequired(e){return new vd("Target field is required for ".concat(e," embedded EntitySchema"))}constructor(e){super(e)}}class D6{transform(e){const t=new xC;return e.forEach(i=>{var r;const s=i.options,o={target:s.target||s.name,name:s.tableName,database:s.database,schema:s.schema,type:s.type||"regular",orderBy:s.orderBy,synchronize:s.synchronize,withoutRowid:!!s.withoutRowid,expression:s.expression};t.tables.push(o);const{inheritance:a}=s;a&&t.inheritances.push({target:s.target,pattern:(r=a.pattern)!==null&&r!==void 0?r:"STI",column:a.column?typeof a.column=="string"?{name:a.column}:a.column:void 0}),this.transformColumnsRecursive(s,t)}),t}transformColumnsRecursive(e,t){Object.keys(e.columns).forEach(i=>{const s=e.columns[i];let o="regular";s.createDate&&(o="createDate"),s.updateDate&&(o="updateDate"),s.deleteDate&&(o="deleteDate"),s.version&&(o="version"),s.treeChildrenCount&&(o="treeChildrenCount"),s.treeLevel&&(o="treeLevel"),s.objectId&&(o="objectId");const a={target:e.target||e.name,mode:o,propertyName:i,options:{type:s.type,name:s.objectId?"_id":s.name,primaryKeyConstraintName:s.primaryKeyConstraintName,length:s.length,width:s.width,nullable:s.nullable,readonly:s.readonly,update:s.update,select:s.select,insert:s.insert,primary:s.primary,unique:s.unique,comment:s.comment,default:s.default,onUpdate:s.onUpdate,precision:s.precision,scale:s.scale,zerofill:s.zerofill,unsigned:s.unsigned,charset:s.charset,collation:s.collation,enum:s.enum,enumName:s.enumName,asExpression:s.asExpression,generatedType:s.generatedType,hstoreType:s.hstoreType,array:s.array,transformer:s.transformer,spatialFeatureType:s.spatialFeatureType,srid:s.srid}};if(t.columns.push(a),s.generated){const l={target:e.target||e.name,propertyName:i,strategy:typeof s.generated=="string"?s.generated:"increment"};t.generations.push(l)}s.unique&&t.uniques.push({target:e.target||e.name,columns:[i]})}),e.relations&&Object.keys(e.relations).forEach(i=>{const r=e.relations[i],s={target:e.target||e.name,propertyName:i,relationType:r.type,isLazy:r.lazy||!1,type:r.target,inverseSideProperty:r.inverseSide,isTreeParent:r.treeParent,isTreeChildren:r.treeChildren,options:{eager:r.eager||!1,cascade:r.cascade,nullable:r.nullable,onDelete:r.onDelete,onUpdate:r.onUpdate,deferrable:r.deferrable,createForeignKeyConstraints:r.createForeignKeyConstraints,persistence:r.persistence,orphanedRowAction:r.orphanedRowAction}};if(t.relations.push(s),r.joinColumn)if(typeof r.joinColumn=="boolean"){const o={target:e.target||e.name,propertyName:i};t.joinColumns.push(o)}else{const o=Array.isArray(r.joinColumn)?r.joinColumn:[r.joinColumn];for(const a of o){const l={target:e.target||e.name,propertyName:i,name:a.name,referencedColumnName:a.referencedColumnName,foreignKeyConstraintName:a.foreignKeyConstraintName};t.joinColumns.push(l)}}if(r.joinTable)if(typeof r.joinTable=="boolean"){const o={target:e.target||e.name,propertyName:i};t.joinTables.push(o)}else{const o={target:e.target||e.name,propertyName:i,name:r.joinTable.name,database:r.joinTable.database,schema:r.joinTable.schema,joinColumns:r.joinTable.joinColumn?[r.joinTable.joinColumn]:r.joinTable.joinColumns,inverseJoinColumns:r.joinTable.inverseJoinColumn?[r.joinTable.inverseJoinColumn]:r.joinTable.inverseJoinColumns};t.joinTables.push(o)}}),e.relationIds&&Object.keys(e.relationIds).forEach(i=>{const r=e.relationIds[i],s={propertyName:i,relation:r.relationName,target:e.target||e.name,alias:r.alias,queryBuilderFactory:r.queryBuilderFactory};t.relationIds.push(s)}),e.indices&&e.indices.forEach(i=>{const r={target:e.target||e.name,name:i.name,unique:i.unique===!0,spatial:i.spatial===!0,fulltext:i.fulltext===!0,nullFiltered:i.nullFiltered===!0,parser:i.parser,synchronize:i.synchronize!==!1,where:i.where,sparse:i.sparse,columns:i.columns};t.indices.push(r)}),e.uniques&&e.uniques.forEach(i=>{const r={target:e.target||e.name,name:i.name,columns:i.columns,deferrable:i.deferrable};t.uniques.push(r)}),e.checks&&e.checks.forEach(i=>{const r={target:e.target||e.name,name:i.name,expression:i.expression};t.checks.push(r)}),e.exclusions&&e.exclusions.forEach(i=>{const r={target:e.target||e.name,name:i.name,expression:i.expression};t.exclusions.push(r)}),e.embeddeds&&Object.keys(e.embeddeds).forEach(i=>{const r=e.embeddeds[i];if(!r.schema)throw vd.createEntitySchemaIsRequiredException(i);const s=r.schema.options;t.embeddeds.push({target:e.target||e.name,propertyName:i,isArray:r.array===!0,prefix:r.prefix!==void 0?r.prefix:void 0,type:()=>(s==null?void 0:s.target)||s.name}),this.transformColumnsRecursive(s,t)})}}class L6{constructor(e){this.connection=e}async buildMigrations(e){const[t,i]=ve.splitClassesAndStrings(e);return[...t,...await Zp(this.connection.logger)].map(s=>cw(s))}async buildSubscribers(e){const[t,i]=ve.splitClassesAndStrings(e||[]),r=[...t,...await Zp(this.connection.logger)];return Ni().filterSubscribers(r).map(s=>cw(s.target))}async buildEntityMetadatas(e){const[t,i]=ve.splitClassesAndStrings(e||[]),r=t.filter(u=>!U.isEntitySchema(u)),s=t.filter(u=>U.isEntitySchema(u)),o=[...r,...await Zp(this.connection.logger)];o.forEach(u=>{U.isEntitySchema(u)&&s.push(u)});const a=new fw(this.connection,Ni()).build(o),l=new D6().transform(s),c=new fw(this.connection,l).build();return[...a,...c]}}class q6{constructor(e,t,i,r,s){this.expressionMap=e,this.driver=t,this.rawRelationIdResults=i,this.rawRelationCountResults=r,this.queryRunner=s}transform(e,t){const i=this.group(e,t),r=[];return i.forEach(s=>{const o=this.transformRawResultsGroup(s,t);o!==void 0&&!Object.values(o).every(a=>a===null)&&r.push(o)}),r}group(e,t){const i=new Map,r=[];return t.metadata.tableType==="view"?r.push(...t.metadata.columns.map(s=>me.buildAlias(this.driver,void 0,t.name,s.databaseName))):r.push(...t.metadata.primaryColumns.map(s=>me.buildAlias(this.driver,void 0,t.name,s.databaseName))),e.forEach(s=>{const o=r.map(l=>{const c=s[l];return Buffer.isBuffer(c)?c.toString("hex"):Be.isObject(c)?JSON.stringify(c):c}).join("_"),a=i.get(o);a?a.push(s):i.set(o,[s])}),i}transformRawResultsGroup(e,t){let i=t.metadata;if(i.discriminatorColumn){const u=e.map(h=>h[me.buildAlias(this.driver,void 0,t.name,t.metadata.discriminatorColumn.databaseName)]),d=i.childEntityMetadatas.find(h=>typeof u.find(p=>p===h.discriminatorValue)<"u");d&&(i=d)}let r=i.create(this.queryRunner,{fromDeserializer:!0,pojo:this.expressionMap.options.indexOf("create-pojo")!==-1});const s=this.transformColumns(e,t,r,i),o=this.transformJoins(e,r,t,i),a=this.transformRelationIds(e,t,r,i),l=this.transformRelationCounts(e,t,r);if(s||i.primaryColumns.filter(u=>u.isVirtual===!1).length===0&&(o||a||l))return r}transformColumns(e,t,i,r){let s=!1;return r.columns.forEach(o=>{if(r.childEntityMetadatas.length>0&&r.childEntityMetadatas.findIndex(l=>l.target===o.target)!==-1)return;const a=e[0][me.buildAlias(this.driver,void 0,t.name,o.databaseName)];a===void 0||o.isVirtual||this.expressionMap.selects.find(l=>l.selection===t.name||l.selection===t.name+"."+o.propertyPath)&&(o.setEntityValue(i,this.driver.prepareHydratedValue(a,o)),a!==null&&(s=!0))}),s}transformJoins(e,t,i,r){let s=!1;return this.expressionMap.joinAttributes.forEach(o=>{if(!o.metadata||!o.isSelected||o.relation&&!r.relations.find(l=>l===o.relation))return;if(o.mapToProperty){if(o.mapToPropertyParentAlias!==i.name)return}else if(!o.relation||o.parentAlias!==i.name||o.relationPropertyPath!==o.relation.propertyPath)return;let a=this.transform(e,o.alias);a=o.isMany?a:a[0],a=!o.isMany&&a===void 0?null:a,a!==void 0&&(o.mapToPropertyPropertyName?t[o.mapToPropertyPropertyName]=a:o.relation.setEntityValue(t,a),s=!0)}),s}transformRelationIds(e,t,i,r){let s=!1;return this.rawRelationIdResults.forEach((o,a)=>{if(o.relationIdAttribute.parentAlias!==t.name)return;const l=o.relationIdAttribute.relation,c=this.createValueMapFromJoinColumns(l,o.relationIdAttribute.parentAlias,e);if(c==null)return;this.prepareDataForTransformRelationIds();const u=this.hashEntityIds(l,c),d=this.relationIdMaps[a][u]||[],h=o.relationIdAttribute.mapToPropertyPropertyPath.split("."),p=(y,v,S)=>{const E=y.shift();if(E&&y.length===0)return v[E]=S,v;if(E&&y.length>0)p(y,v[E],S);else return v};l.isOneToOne||l.isManyToOne?d[0]!==void 0&&(p(h,i,d[0]),s=!0):(p(h,i,d),s=s||d.length>0)}),s}transformRelationCounts(e,t,i){let r=!1;return this.rawRelationCountResults.filter(s=>s.relationCountAttribute.parentAlias===t.name).forEach(s=>{const o=s.relationCountAttribute.relation;let a;o.isOneToMany?a=o.inverseRelation.joinColumns[0].referencedColumn.databaseName:a=o.isOwning?o.joinColumns[0].referencedColumn.databaseName:o.inverseRelation.joinColumns[0].referencedColumn.databaseName;const l=e[0][me.buildAlias(this.driver,void 0,t.name,a)];l!=null&&(i[s.relationCountAttribute.mapToPropertyPropertyName]=0,s.results.filter(c=>c.parentId===l).forEach(c=>{i[s.relationCountAttribute.mapToPropertyPropertyName]=parseInt(c.cnt),r=!0}))}),r}createValueMapFromJoinColumns(e,t,i){let r;return e.isManyToOne||e.isOneToOneOwner?r=e.entityMetadata.primaryColumns.map(s=>s):e.isOneToMany||e.isOneToOneNotOwner?r=e.inverseRelation.joinColumns.map(s=>s):e.isOwning?r=e.joinColumns.map(s=>s):r=e.inverseRelation.inverseJoinColumns.map(s=>s),r.reduce((s,o)=>(i.forEach(a=>{e.isManyToOne||e.isOneToOneOwner?s[o.databaseName]=this.driver.prepareHydratedValue(a[me.buildAlias(this.driver,void 0,t,o.databaseName)],o):s[o.databaseName]=this.driver.prepareHydratedValue(a[me.buildAlias(this.driver,void 0,t,o.referencedColumn.databaseName)],o.referencedColumn)}),s),{})}extractEntityPrimaryIds(e,t){let i;return e.isManyToOne||e.isOneToOneOwner?i=e.entityMetadata.primaryColumns.map(r=>r):e.isOneToMany||e.isOneToOneNotOwner?i=e.inverseRelation.joinColumns.map(r=>r):e.isOwning?i=e.joinColumns.map(r=>r):i=e.inverseRelation.inverseJoinColumns.map(r=>r),i.reduce((r,s)=>(r[s.databaseName]=t[s.databaseName],r),{})}prepareDataForTransformRelationIds(){this.relationIdMaps||(this.relationIdMaps=this.rawRelationIdResults.map(e=>{const t=e.relationIdAttribute.relation;let i;return t.isManyToOne||t.isOneToOneOwner?i=t.joinColumns:t.isOneToMany||t.isOneToOneNotOwner?i=t.inverseEntityMetadata.primaryColumns:t.isOwning?i=t.inverseJoinColumns:i=t.inverseRelation.joinColumns,e.results.reduce((r,s)=>{let o=i.reduce((a,l)=>{let c=s[l.databaseName];return t.isOneToMany||t.isOneToOneNotOwner?(l.isVirtual&&l.referencedColumn&&l.referencedColumn.propertyName!==l.propertyName&&(c=l.referencedColumn.createValueMap(c)),ve.mergeDeep(a,l.createValueMap(c))):(!l.isPrimary&&l.referencedColumn.referencedColumn&&(c=l.referencedColumn.referencedColumn.createValueMap(c)),ve.mergeDeep(a,l.referencedColumn.createValueMap(c)))},{});if(i.length===1&&!e.relationIdAttribute.disableMixedMap&&(t.isOneToMany||t.isOneToOneNotOwner?o=i[0].getEntityValue(o):o=i[0].referencedColumn.getEntityValue(o)),o!==void 0){const a=this.hashEntityIds(t,s);r[a]?r[a].push(o):r[a]=[o]}return r},{})}))}hashEntityIds(e,t){const i=this.extractEntityPrimaryIds(e,t);return JSON.stringify(i)}}class Gi{static isAliasProperty(e){if(typeof e!="string"||e.indexOf(".")===-1)return!1;const[t,i]=e.split(".");return!(!t||!i||e.indexOf("(")!==-1||e.indexOf(")")!==-1)}}class zC{constructor(e,t,i){this.connection=e,this.queryExpressionMap=t,this.isSelectedEvaluated=!1,this.relationEvaluated=!1,i&&Be.assign(this,i)}get isMany(){return this.isMappingMany!==void 0?this.isMappingMany:this.relation?this.relation.isManyToMany||this.relation.isOneToMany:!1}get isSelected(){if(!this.isSelectedEvaluated){let e=()=>{for(const t of this.queryExpressionMap.selects)if(t.selection===this.alias.name||this.metadata&&this.metadata.columns.find(i=>t.selection===this.alias.name+"."+i.propertyPath))return!0;return!1};this.isSelectedCache=e(),this.isSelectedEvaluated=!0}return this.isSelectedCache}get tablePath(){return this.metadata?this.metadata.tablePath:this.entityOrProperty}get parentAlias(){if(Gi.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."))}get relationPropertyPath(){if(Gi.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(this.entityOrProperty.indexOf(".")+1)}get relation(){if(!this.relationEvaluated){let e=()=>{if(!Gi.isAliasProperty(this.entityOrProperty))return;const t=this.queryExpressionMap.findAliasByName(this.parentAlias);let i=t.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(i||t.metadata.parentEntityMetadata&&(i=t.metadata.parentEntityMetadata.findRelationWithPropertyPath(this.relationPropertyPath),i))return i;throw new _("Relation with property path ".concat(this.relationPropertyPath," in entity was not found."))};this.relationCache=e.bind(this)(),this.relationEvaluated=!0}return this.relationCache}get metadata(){if(this.relation)return this.relation.inverseEntityMetadata;if(this.connection.hasMetadata(this.entityOrProperty))return this.connection.getMetadata(this.entityOrProperty);if(this.mapAsEntity&&this.connection.hasMetadata(this.mapAsEntity))return this.connection.getMetadata(this.mapAsEntity)}get junctionAlias(){if(!this.relation)throw new _("Cannot get junction table for join without relation.");if(typeof this.entityOrProperty!="string")throw new _("Junction property is not defined.");const e=this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."));return this.relation.isOwning?me.buildAlias(this.connection.driver,void 0,e,this.alias.name):me.buildAlias(this.connection.driver,void 0,this.alias.name,e)}get mapToPropertyParentAlias(){if(this.mapToProperty)return this.mapToProperty.split(".")[0]}get mapToPropertyPropertyName(){if(this.mapToProperty)return this.mapToProperty.split(".")[1]}}class by{constructor(e,t){this.queryExpressionMap=e,this.disableMixedMap=!1,Be.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!Gi.isAliasProperty(this.relationName))throw new _("Given value must be a string representation of alias property");return this.relationName.substr(0,this.relationName.indexOf("."))}get relationPropertyPath(){if(!Gi.isAliasProperty(this.relationName))throw new _("Given value must be a string representation of alias property");return this.relationName.substr(this.relationName.indexOf(".")+1)}get relation(){if(!Gi.isAliasProperty(this.relationName))throw new _("Given value must be a string representation of alias property");const t=this.queryExpressionMap.findAliasByName(this.parentAlias).metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!t)throw new _("Relation with property path ".concat(this.relationPropertyPath," in entity was not found."));return t}get junctionAlias(){const[e,t]=this.relationName.split(".");return e+"_"+t+"_rid"}get junctionMetadata(){return this.relation.junctionEntityMetadata}get mapToPropertyParentAlias(){return this.mapToProperty.substr(0,this.mapToProperty.indexOf("."))}get mapToPropertyPropertyPath(){return this.mapToProperty.substr(this.mapToProperty.indexOf(".")+1)}}class vy{constructor(e,t){this.expressionMap=e,Be.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!Gi.isAliasProperty(this.relationName))throw new _("Given value must be a string representation of alias property");return this.relationName.split(".")[0]}get relationProperty(){if(!Gi.isAliasProperty(this.relationName))throw new _("Given value is a string representation of alias property");return this.relationName.split(".")[1]}get junctionAlias(){const[e,t]=this.relationName.split(".");return e+"_"+t+"_rc"}get relation(){if(!Gi.isAliasProperty(this.relationName))throw new _("Given value is a string representation of alias property");const[e,t]=this.relationName.split("."),r=this.expressionMap.findAliasByName(e).metadata.findRelationWithPropertyPath(t);if(!r)throw new _("Relation with property path ".concat(t," in entity was not found."));return r}get metadata(){if(!Gi.isAliasProperty(this.relationName))throw new _("Given value is a string representation of alias property");const e=this.relationName.split(".")[0];return this.expressionMap.findAliasByName(e).metadata}get mapToPropertyPropertyName(){return this.mapToProperty.split(".")[1]}}let B6=class{constructor(e,t,i){this.connection=e,this.queryRunner=t,this.relationIdAttributes=i}async load(e){const t=this.relationIdAttributes.map(async i=>{if(i.relation.isManyToOne||i.relation.isOneToOneOwner){if(i.queryBuilderFactory)throw new _("Additional condition can not be used with ManyToOne or OneToOne owner relations.");const r={},s=e.map(o=>{const a={},l=[];i.relation.joinColumns.forEach(u=>{a[u.databaseName]=this.connection.driver.prepareHydratedValue(o[me.buildAlias(this.connection.driver,void 0,i.parentAlias,u.databaseName)],u.referencedColumn);const d="".concat(u.databaseName,":").concat(a[u.databaseName]);l.indexOf(d)===-1&&l.push(d)}),i.relation.entityMetadata.primaryColumns.forEach(u=>{a[u.databaseName]=this.connection.driver.prepareHydratedValue(o[me.buildAlias(this.connection.driver,void 0,i.parentAlias,u.databaseName)],u);const d="".concat(u.databaseName,":").concat(a[u.databaseName]);l.indexOf(d)===-1&&l.push(d)}),l.sort();const c=l.join("::");return r[c]?null:(r[c]=!0,a)}).filter(o=>o);return{relationIdAttribute:i,results:s}}else if(i.relation.isOneToMany||i.relation.isOneToOneNotOwner){const r=i.relation,s=r.isOwning?r.joinColumns:r.inverseRelation.joinColumns,o=r.inverseEntityMetadata.target,a=r.inverseEntityMetadata.tableName,l=i.alias||a,c={},u={},d=e.map((v,S)=>{const E=[],w={},C=s.map(q=>{const H=q.databaseName+S,L=v[me.buildAlias(this.connection.driver,void 0,i.parentAlias,q.referencedColumn.databaseName)],M="".concat(l,":").concat(q.propertyPath,":").concat(L);return E.indexOf(M)!==-1?"":(E.push(M),w[H]=L,l+"."+q.propertyPath+" = :"+H)}).filter(q=>q).join(" AND ");E.sort();const P=E.join("::");return c[P]?"":(c[P]=!0,Object.assign(u,w),C)}).filter(v=>v).map(v=>"("+v+")").join(" OR ");if(!d)return{relationIdAttribute:i,results:[]};const h=this.connection.createQueryBuilder(this.queryRunner);ve.uniq([...s,...r.inverseRelation.entityMetadata.primaryColumns],v=>v.propertyPath).forEach(v=>{h.addSelect(l+"."+v.propertyPath,v.databaseName)}),h.from(o,l).where("("+d+")").setParameters(u),i.queryBuilderFactory&&i.queryBuilderFactory(h);const y=await h.getRawMany();return y.forEach(v=>{s.forEach(S=>{v[S.databaseName]=this.connection.driver.prepareHydratedValue(v[S.databaseName],S.referencedColumn)}),r.inverseRelation.entityMetadata.primaryColumns.forEach(S=>{v[S.databaseName]=this.connection.driver.prepareHydratedValue(v[S.databaseName],S)})}),{relationIdAttribute:i,results:y}}else{const r=i.relation,s=r.isOwning?r.joinColumns:r.inverseRelation.inverseJoinColumns,o=r.isOwning?r.inverseJoinColumns:r.inverseRelation.joinColumns,a=i.junctionAlias,l=i.joinInverseSideMetadata.tableName,c=i.alias||l,u=r.isOwning?r.junctionEntityMetadata.tableName:r.inverseRelation.junctionEntityMetadata.tableName,d=e.map(C=>s.reduce((P,q)=>(P[q.propertyPath]=C[me.buildAlias(this.connection.driver,void 0,i.parentAlias,q.referencedColumn.databaseName)],P),{}));if(d.length===0)return{relationIdAttribute:i,results:[]};const h={},p={},y=d.map((C,P)=>{const q=[],H={},L=Object.keys(C).map(O=>{const Q=O+P,k=C[O],J="".concat(a,":").concat(O,":").concat(k);return q.indexOf(J)!==-1?"":(q.push(J),H[Q]=k,a+"."+O+" = :"+Q)}).filter(O=>O).join(" AND ");q.sort();const M=q.join("::");return p[M]?"":(p[M]=!0,Object.assign(h,H),L)}).filter(C=>C),v=o.map(C=>a+"."+C.propertyPath+" = "+c+"."+C.referencedColumn.propertyPath).join(" AND "),S=y.map(C=>"("+C+" AND "+v+")").join(" OR "),E=this.connection.createQueryBuilder(this.queryRunner);o.forEach(C=>{E.addSelect(a+"."+C.propertyPath,C.databaseName).addOrderBy(a+"."+C.propertyPath)}),s.forEach(C=>{E.addSelect(a+"."+C.propertyPath,C.databaseName).addOrderBy(a+"."+C.propertyPath)}),E.from(l,c).innerJoin(u,a,S).setParameters(h),i.queryBuilderFactory&&i.queryBuilderFactory(E);const w=await E.getRawMany();return w.forEach(C=>{[...s,...o].forEach(P=>{C[P.databaseName]=this.connection.driver.prepareHydratedValue(C[P.databaseName],P.referencedColumn)})}),{relationIdAttribute:i,results:w}}});return Promise.all(t)}};class VC{constructor(e,t){this.connection=e,this.queryRunner=t}load(e,t,i){const r=Array.isArray(t)?t:[t],s=Array.isArray(i)?i:i?[i]:void 0;return e.isManyToMany?this.loadForManyToMany(e,r,s):e.isManyToOne||e.isOneToOneOwner?this.loadForManyToOneAndOneToOneOwner(e,r,s):this.loadForOneToManyAndOneToOneNotOwner(e,r,s)}async loadManyToManyRelationIdsAndGroup(e,t,i,r){const s=e.isManyToMany||e.isOneToMany,o=Array.isArray(t)?t:[t];if(!i&&(i=await this.connection.relationLoader.load(e,t,this.queryRunner,r),!i.length))return o.map(d=>({entity:d,related:s?[]:void 0}));const a=await this.load(e,t,i),l=Array.isArray(i)?i:[i];let c=[],u=[];return e.isManyToManyOwner?(c=e.junctionEntityMetadata.inverseColumns.map(d=>d.referencedColumn),u=e.junctionEntityMetadata.ownerColumns.map(d=>d.referencedColumn)):e.isManyToManyNotOwner?(c=e.junctionEntityMetadata.ownerColumns.map(d=>d.referencedColumn),u=e.junctionEntityMetadata.inverseColumns.map(d=>d.referencedColumn)):e.isManyToOne||e.isOneToOneOwner?(c=e.joinColumns.map(d=>d.referencedColumn),u=e.entityMetadata.primaryColumns):(e.isOneToMany||e.isOneToOneNotOwner)&&(c=e.inverseRelation.entityMetadata.primaryColumns,u=e.inverseRelation.joinColumns.map(d=>d.referencedColumn)),o.map(d=>{const h={entity:d,related:s?[]:void 0},p=a.filter(y=>u.every(v=>v.compareEntityValue(d,y[v.entityMetadata.name+"_"+v.propertyAliasName])));return p.length&&l.forEach(y=>{p.forEach(v=>{c.every(E=>E.compareEntityValue(y,v[me.buildAlias(this.connection.driver,void 0,E.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+E.propertyPath.replace(".","_"))]))&&(s?h.related.push(y):h.related=y)})}),h})}loadForManyToMany(e,t,i){const r=e.junctionEntityMetadata,s=r.name,o=e.isOwning?r.ownerColumns:r.inverseColumns,a=e.isOwning?r.inverseColumns:r.ownerColumns,l=this.connection.createQueryBuilder(this.queryRunner);o.forEach(h=>{const p=me.buildAlias(this.connection.driver,void 0,h.referencedColumn.entityMetadata.name+"_"+h.referencedColumn.propertyPath.replace(".","_"));l.addSelect(s+"."+h.propertyPath,p)}),a.forEach(h=>{const p=me.buildAlias(this.connection.driver,void 0,h.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+h.referencedColumn.propertyPath.replace(".","_"));l.addSelect(s+"."+h.propertyPath,p)});let c="";if(o.length===1){const h=t.map(y=>o[0].referencedColumn.getEntityValue(y));h.every(y=>typeof y=="number")?c="".concat(s,".").concat(o[0].propertyPath," IN (").concat(h.join(", "),")"):(l.setParameter("values1",h),c=s+"."+o[0].propertyPath+" IN (:...values1)")}else c="("+t.map((h,p)=>o.map(y=>{const v="entity1_"+p+"_"+y.propertyName;return l.setParameter(v,y.referencedColumn.getEntityValue(h)),s+"."+y.propertyPath+" = :"+v}).join(" AND ")).map(h=>"("+h+")").join(" OR ")+")";let u="";if(i)if(a.length===1){const h=i.map(y=>a[0].referencedColumn.getEntityValue(y));h.every(y=>typeof y=="number")?u="".concat(s,".").concat(a[0].propertyPath," IN (").concat(h.join(", "),")"):(l.setParameter("values2",h),u=s+"."+a[0].propertyPath+" IN (:...values2)")}else u="("+i.map((h,p)=>a.map(y=>{const v="entity2_"+p+"_"+y.propertyName;return l.setParameter(v,y.referencedColumn.getEntityValue(h)),s+"."+y.propertyPath+" = :"+v}).join(" AND ")).map(h=>"("+h+")").join(" OR ")+")";const d=[c,u].filter(h=>h.length>0).join(" AND ");return l.from(r.target,s).where(d).getRawMany()}loadForManyToOneAndOneToOneOwner(e,t,i){const r=e.entityMetadata.targetName,s=e.joinColumns.every(l=>!!e.entityMetadata.nonVirtualColumns.find(c=>c===l));if(i&&s){let l=[];if(t.forEach(c=>{let u={};e.entityMetadata.primaryColumns.forEach(d=>{const h=d.entityMetadata.name+"_"+d.propertyPath.replace(".","_");u[h]=d.getEntityValue(c)}),i.forEach(d=>{e.joinColumns.forEach(h=>{const p=h.getEntityValue(c),y=h.referencedColumn.getEntityValue(d);if(!(p===void 0||y===void 0)&&p===y){const v=h.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+h.referencedColumn.propertyPath.replace(".","_");u[v]=y}})}),Object.keys(u).length===e.entityMetadata.primaryColumns.length+e.joinColumns.length&&l.push(u)}),l.length===t.length)return Promise.resolve(l)}const o=this.connection.createQueryBuilder(this.queryRunner);e.entityMetadata.primaryColumns.forEach(l=>{const c=me.buildAlias(this.connection.driver,void 0,l.entityMetadata.name+"_"+l.propertyPath.replace(".","_"));o.addSelect(r+"."+l.propertyPath,c)}),e.joinColumns.forEach(l=>{const c=me.buildAlias(this.connection.driver,void 0,l.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+l.referencedColumn.propertyPath.replace(".","_"));o.addSelect(r+"."+l.propertyPath,c)});let a="";if(e.entityMetadata.primaryColumns.length===1){const l=t.map(u=>e.entityMetadata.primaryColumns[0].getEntityValue(u));l.every(u=>typeof u=="number")?a="".concat(r,".").concat(e.entityMetadata.primaryColumns[0].propertyPath," IN (").concat(l.join(", "),")"):(o.setParameter("values",l),a=r+"."+e.entityMetadata.primaryColumns[0].propertyPath+" IN (:...values)")}else a=t.map((l,c)=>e.entityMetadata.primaryColumns.map((u,d)=>{const h="entity"+c+"_"+d;return o.setParameter(h,u.getEntityValue(l)),r+"."+u.propertyPath+" = :"+h}).join(" AND ")).map(l=>"("+l+")").join(" OR ");return o.from(e.entityMetadata.target,r).where(a).getRawMany()}loadForOneToManyAndOneToOneNotOwner(e,t,i){if(e=e.inverseRelation,e.entityMetadata.primaryColumns.length===e.joinColumns.length&&e.entityMetadata.primaryColumns.every(l=>e.joinColumns.indexOf(l)!==-1))return Promise.resolve(t.map(l=>{const c={};return e.joinColumns.forEach(function(u){const d=u.referencedColumn.getEntityValue(l),h=u.referencedColumn.entityMetadata.name+"_"+u.referencedColumn.propertyPath.replace(".","_"),p=u.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+u.propertyPath.replace(".","_");c[h]=d,c[p]=d}),c}));const r=e.entityMetadata.targetName,s=this.connection.createQueryBuilder(this.queryRunner);e.entityMetadata.primaryColumns.forEach(a=>{const l=me.buildAlias(this.connection.driver,void 0,a.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+a.propertyPath.replace(".","_"));s.addSelect(r+"."+a.propertyPath,l)}),e.joinColumns.forEach(a=>{const l=me.buildAlias(this.connection.driver,void 0,a.referencedColumn.entityMetadata.name+"_"+a.referencedColumn.propertyPath.replace(".","_"));s.addSelect(r+"."+a.propertyPath,l)});let o="";if(e.joinColumns.length===1){const a=t.map(c=>e.joinColumns[0].referencedColumn.getEntityValue(c));a.every(c=>typeof c=="number")?o="".concat(r,".").concat(e.joinColumns[0].propertyPath," IN (").concat(a.join(", "),")"):(s.setParameter("values",a),o=r+"."+e.joinColumns[0].propertyPath+" IN (:...values)")}else o=t.map((a,l)=>e.joinColumns.map((c,u)=>{const d="entity"+l+"_"+u;return s.setParameter(d,c.referencedColumn.getEntityValue(a)),r+"."+c.propertyPath+" = :"+d}).join(" AND ")).map(a=>"("+a+")").join(" OR ");return s.from(e.entityMetadata.target,r).where(o).getRawMany()}}class F6{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationIds.forEach(e=>{const t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationIdAttributes.push(t)}),this.expressionMap.joinAttributes.forEach(e=>{!e.metadata||e.metadata.isJunction||e.metadata.relationIds.forEach(t=>{const i=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationIdAttributes.push(i)})})}metadataToAttribute(e,t){return new by(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}}class U6{constructor(e,t,i){this.connection=e,this.queryRunner=t,this.relationCountAttributes=i}async load(e){const t=(r,s,o)=>o.indexOf(r)===s,i=this.relationCountAttributes.map(async r=>{if(r.relation.isOneToMany){const s=r.relation,o=s.inverseRelation,a=o.joinColumns[0].referencedColumn.propertyName,l=s.inverseEntityMetadata.target,c=s.inverseEntityMetadata.tableName,u=r.alias||c,d=o.propertyName;let h=e.map(y=>y[r.parentAlias+"_"+a]).filter(y=>!!y);if(h=h.filter(t),h.length===0)return{relationCountAttribute:r,results:[]};const p=this.connection.createQueryBuilder(this.queryRunner);return p.select(u+"."+d,"parentId").addSelect("COUNT(*)","cnt").from(l,u).where(u+"."+d+" IN (:...ids)").addGroupBy(u+"."+d).setParameter("ids",h),r.queryBuilderFactory&&r.queryBuilderFactory(p),{relationCountAttribute:r,results:await p.getRawMany()}}else{let s,o,a,l;r.relation.isOwning?(s=r.relation.joinColumns[0].referencedColumn.databaseName,o=r.relation.inverseJoinColumns[0].referencedColumn.databaseName,a=r.relation.junctionEntityMetadata.columns[0],l=r.relation.junctionEntityMetadata.columns[1]):(s=r.relation.inverseRelation.inverseJoinColumns[0].referencedColumn.databaseName,o=r.relation.inverseRelation.joinColumns[0].referencedColumn.databaseName,a=r.relation.junctionEntityMetadata.columns[1],l=r.relation.junctionEntityMetadata.columns[0]);let c=e.map(S=>S[r.parentAlias+"_"+s]).filter(S=>!!S);if(c=c.filter(t),c.length===0)return{relationCountAttribute:r,results:[]};const u=r.junctionAlias,d=r.joinInverseSideMetadata.tableName,h=r.alias||d,p=r.relation.junctionEntityMetadata.tableName,y=u+"."+a.propertyName+" IN ("+c.map(S=>isNaN(S)?"'"+S+"'":S)+") AND "+u+"."+l.propertyName+" = "+h+"."+o,v=this.connection.createQueryBuilder(this.queryRunner);return v.select(u+"."+a.propertyName,"parentId").addSelect("COUNT("+v.escape(h)+"."+v.escape(o)+")","cnt").from(d,h).innerJoin(p,u,y).addGroupBy(u+"."+a.propertyName),r.queryBuilderFactory&&r.queryBuilderFactory(v),{relationCountAttribute:r,results:await v.getRawMany()}}});return Promise.all(i)}}class j6{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationCounts.forEach(e=>{const t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationCountAttributes.push(t)}),this.expressionMap.joinAttributes.forEach(e=>{!e.metadata||e.metadata.isJunction||e.metadata.relationCounts.forEach(t=>{const i=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationCountAttributes.push(i)})})}metadataToAttribute(e,t){return new vy(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}}class mw{constructor(e){Be.assign(this,e||{})}get target(){return this.metadata.target}get hasMetadata(){return!!this._metadata}set metadata(e){this._metadata=e}get metadata(){if(!this._metadata)throw new _('Cannot get entity metadata for the given alias "'.concat(this.name,'"'));return this._metadata}}class wy{constructor(e){var t;this.connection=e,this.relationLoadStrategy="join",this.queryEntity=!1,this.aliases=[],this.queryType="select",this.selects=[],this.maxExecutionTime=0,this.selectDistinct=!1,this.selectDistinctOn=[],this.extraReturningColumns=[],this.onConflict="",this.onIgnore=!1,this.joinAttributes=[],this.relationIdAttributes=[],this.relationCountAttributes=[],this.wheres=[],this.havings=[],this.orderBys={},this.groupBys=[],this.withDeleted=!1,this.parameters={},this.disableEscaping=!0,this.enableRelationIdValues=!1,this.extraAppendedAndWhereCondition="",this.subQuery=!1,this.aliasNamePrefixingEnabled=!0,this.cache=!1,this.options=[],this.insertColumns=[],this.whereEntities=[],this.updateEntity=!0,this.callListeners=!0,this.useTransaction=!1,this.nativeParameters={},this.locallyGenerated={},this.commonTableExpressions=[],e.options.relationLoadStrategy&&(this.relationLoadStrategy=e.options.relationLoadStrategy),this.timeTravel=((t=e.options)===null||t===void 0?void 0:t.timeTravelQueries)||!1}get allOrderBys(){if(!Object.keys(this.orderBys).length&&this.mainAlias.hasMetadata&&this.options.indexOf("disable-global-order")===-1){const e=this.mainAlias.metadata.orderBy||{};return Object.keys(e).reduce((t,i)=>(t[this.mainAlias.name+"."+i]=e[i],t),{})}return this.orderBys}setMainAlias(e){return this.mainAlias=e,e}createAlias(e){let t=e.name;!t&&e.tablePath&&(t=e.tablePath),!t&&typeof e.target=="function"&&(t=e.target.name),!t&&typeof e.target=="string"&&(t=e.target);const i=new mw;return i.type=e.type,t&&(i.name=t),e.metadata&&(i.metadata=e.metadata),e.target&&!i.hasMetadata&&(i.metadata=this.connection.getMetadata(e.target)),e.tablePath&&(i.tablePath=e.tablePath),e.subQuery&&(i.subQuery=e.subQuery),this.aliases.push(i),i}findAliasByName(e){const t=this.aliases.find(i=>i.name===e);if(!t)throw new _('"'.concat(e,'" alias was not found. Maybe you forgot to join it?'));return t}findColumnByAliasExpression(e){const[t,i]=e.split(".");return this.findAliasByName(t).metadata.findColumnWithPropertyName(i)}get relationMetadata(){if(!this.mainAlias)throw new _("Entity to work with is not specified!");const e=this.mainAlias.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!e)throw new _("Relation ".concat(this.relationPropertyPath," was not found in entity ").concat(this.mainAlias.name));return e}clone(){const e=new wy(this.connection);return e.queryType=this.queryType,e.selects=this.selects.map(t=>t),e.maxExecutionTime=this.maxExecutionTime,e.selectDistinct=this.selectDistinct,e.selectDistinctOn=this.selectDistinctOn,this.aliases.forEach(t=>e.aliases.push(new mw(t))),e.relationLoadStrategy=this.relationLoadStrategy,e.mainAlias=this.mainAlias,e.valuesSet=this.valuesSet,e.returning=this.returning,e.onConflict=this.onConflict,e.onIgnore=this.onIgnore,e.onUpdate=this.onUpdate,e.joinAttributes=this.joinAttributes.map(t=>new zC(this.connection,this,t)),e.relationIdAttributes=this.relationIdAttributes.map(t=>new by(this,t)),e.relationCountAttributes=this.relationCountAttributes.map(t=>new vy(this,t)),e.wheres=this.wheres.map(t=>({...t})),e.havings=this.havings.map(t=>({...t})),e.orderBys=Object.assign({},this.orderBys),e.groupBys=this.groupBys.map(t=>t),e.limit=this.limit,e.offset=this.offset,e.skip=this.skip,e.take=this.take,e.lockMode=this.lockMode,e.onLocked=this.onLocked,e.lockVersion=this.lockVersion,e.lockTables=this.lockTables,e.withDeleted=this.withDeleted,e.parameters=Object.assign({},this.parameters),e.disableEscaping=this.disableEscaping,e.enableRelationIdValues=this.enableRelationIdValues,e.extraAppendedAndWhereCondition=this.extraAppendedAndWhereCondition,e.subQuery=this.subQuery,e.aliasNamePrefixingEnabled=this.aliasNamePrefixingEnabled,e.cache=this.cache,e.cacheId=this.cacheId,e.cacheDuration=this.cacheDuration,e.relationPropertyPath=this.relationPropertyPath,e.of=this.of,e.insertColumns=this.insertColumns,e.whereEntities=this.whereEntities,e.updateEntity=this.updateEntity,e.callListeners=this.callListeners,e.useTransaction=this.useTransaction,e.timeTravel=this.timeTravel,e.nativeParameters=Object.assign({},this.nativeParameters),e.comment=this.comment,e.commonTableExpressions=this.commonTableExpressions.map(t=>({alias:t.alias,queryBuilder:typeof t.queryBuilder=="string"?t.queryBuilder:t.queryBuilder.clone(),options:t.options})),e}}class ec{constructor(e,t,i=!0,r=!1,s,o){this["@instanceof"]=Symbol.for("FindOperator"),this._type=e,this._value=t,this._useParameter=i,this._multipleParameters=r,this._getSql=s,this._objectLiteralParameters=o}get useParameter(){return U.isFindOperator(this._value)?this._value.useParameter:this._useParameter}get multipleParameters(){return U.isFindOperator(this._value)?this._value.multipleParameters:this._multipleParameters}get type(){return this._type}get value(){return U.isFindOperator(this._value)?this._value.value:this._value}get objectLiteralParameters(){return U.isFindOperator(this._value)?this._value.objectLiteralParameters:this._objectLiteralParameters}get child(){if(U.isFindOperator(this._value))return this._value}get getSql(){return U.isFindOperator(this._value)?this._value.getSql:this._getSql}transformValue(e){this._value instanceof ec?this._value.transformValue(e):this._value=Array.isArray(this._value)&&this._multipleParameters?this._value.map(t=>e&&Ut.transformTo(e,t)):Ut.transformTo(e,this._value)}}function z6(n){return new ec("in",n,!0,!0)}const V6=/[.*+\-?^${}()|[\]\\]/g,H6=n=>n.replace(V6,"\\$&");class W6{constructor(e,t){this["@instanceof"]=Symbol.for("QueryBuilder"),this.parameterIndex=0,U.isDataSource(e)?(this.connection=e,this.queryRunner=t,this.expressionMap=new wy(this.connection)):(this.connection=e.connection,this.queryRunner=e.queryRunner,this.expressionMap=e.expressionMap.clone())}get alias(){if(!this.expressionMap.mainAlias)throw new _("Main alias is not set");return this.expressionMap.mainAlias.name}select(e,t){this.expressionMap.queryType="select",Array.isArray(e)?this.expressionMap.selects=e.map(r=>({selection:r})):e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);const i=require("./SelectQueryBuilder").SelectQueryBuilder;return U.isSelectQueryBuilder(this)?this:new i(this)}insert(){this.expressionMap.queryType="insert";const e=require("./InsertQueryBuilder").InsertQueryBuilder;return U.isInsertQueryBuilder(this)?this:new e(this)}update(e,t){const i=t||e;if(e=U.isEntitySchema(e)?e.options.name:e,typeof e=="function"||typeof e=="string"){const s=this.createFromAlias(e);this.expressionMap.setMainAlias(s)}this.expressionMap.queryType="update",this.expressionMap.valuesSet=i;const r=require("./UpdateQueryBuilder").UpdateQueryBuilder;return U.isUpdateQueryBuilder(this)?this:new r(this)}delete(){this.expressionMap.queryType="delete";const e=require("./DeleteQueryBuilder").DeleteQueryBuilder;return U.isDeleteQueryBuilder(this)?this:new e(this)}softDelete(){this.expressionMap.queryType="soft-delete";const e=require("./SoftDeleteQueryBuilder").SoftDeleteQueryBuilder;return U.isSoftDeleteQueryBuilder(this)?this:new e(this)}restore(){this.expressionMap.queryType="restore";const e=require("./SoftDeleteQueryBuilder").SoftDeleteQueryBuilder;return U.isSoftDeleteQueryBuilder(this)?this:new e(this)}relation(e,t){const i=arguments.length===2?e:void 0,r=arguments.length===2?t:e;if(this.expressionMap.queryType="relation",this.expressionMap.relationPropertyPath=r,i){const o=this.createFromAlias(i);this.expressionMap.setMainAlias(o)}const s=require("./RelationQueryBuilder").RelationQueryBuilder;return U.isRelationQueryBuilder(this)?this:new s(this)}hasRelation(e,t){const i=this.connection.getMetadata(e);return(Array.isArray(t)?t:[t]).every(s=>!!i.findRelationWithPropertyPath(s))}hasParameter(e){var t;return((t=this.parentQueryBuilder)===null||t===void 0?void 0:t.hasParameter(e))||e in this.expressionMap.parameters}setParameter(e,t){if(typeof t=="function")throw new _("Function parameter isn't supported in the parameters. Please check \"".concat(e,'" parameter.'));if(!e.match(/^([A-Za-z0-9_.]+)$/))throw new _("QueryBuilder parameter keys may only contain numbers, letters, underscores, or periods.");return this.parentQueryBuilder&&this.parentQueryBuilder.setParameter(e,t),this.expressionMap.parameters[e]=t,this}setParameters(e){for(const[t,i]of Object.entries(e))this.setParameter(t,i);return this}createParameter(e){let t;do t="orm_param_".concat(this.parameterIndex++);while(this.hasParameter(t));return this.setParameter(t,e),":".concat(t)}setNativeParameters(e){return this.parentQueryBuilder&&this.parentQueryBuilder.setNativeParameters(e),Object.keys(e).forEach(t=>{this.expressionMap.nativeParameters[t]=e[t]}),this}getParameters(){const e=Object.assign({},this.expressionMap.parameters);if(this.expressionMap.mainAlias&&this.expressionMap.mainAlias.hasMetadata){const t=this.expressionMap.mainAlias.metadata;if(t.discriminatorColumn&&t.parentEntityMetadata){const i=t.childEntityMetadatas.filter(r=>r.discriminatorColumn).map(r=>r.discriminatorValue);i.push(t.discriminatorValue),e.discriminatorColumnValues=i}}return e}printSql(){const[e,t]=this.getQueryAndParameters();return this.connection.logger.logQuery(e,t),this}getSql(){return this.getQueryAndParameters()[0]}getQueryAndParameters(){const e=this.getQuery(),t=this.getParameters();return this.connection.driver.escapeQueryWithParameters(e,t,this.expressionMap.nativeParameters)}async execute(){const[e,t]=this.getQueryAndParameters(),i=this.obtainQueryRunner();try{return await i.query(e,t)}finally{i!==this.queryRunner&&await i.release()}}createQueryBuilder(){return new this.constructor(this.connection,this.queryRunner)}clone(){return new this.constructor(this)}comment(e){return this.expressionMap.comment=e,this}disableEscaping(){return this.expressionMap.disableEscaping=!1,this}escape(e){return this.expressionMap.disableEscaping?this.connection.driver.escape(e):e}setQueryRunner(e){return this.queryRunner=e,this}callListeners(e){return this.expressionMap.callListeners=e,this}useTransaction(e){return this.expressionMap.useTransaction=e,this}addCommonTableExpression(e,t,i){return this.expressionMap.commonTableExpressions.push({queryBuilder:e,alias:t,options:i||{}}),this}getTableName(e){return e.split(".").map(t=>t===""?t:this.escape(t)).join(".")}getMainTableName(){if(!this.expressionMap.mainAlias)throw new _('Entity where values should be inserted is not specified. Call "qb.into(entity)" method to specify it.');return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.tablePath:this.expressionMap.mainAlias.tablePath}createFromAlias(e,t){if(this.connection.hasMetadata(e)){const i=this.connection.getMetadata(e);return this.expressionMap.createAlias({type:"from",name:t,metadata:this.connection.getMetadata(e),tablePath:i.tablePath})}else{if(typeof e=="string"){const s=e.substr(0,1)==="("&&e.substr(-1)===")";return this.expressionMap.createAlias({type:"from",name:t,tablePath:s?void 0:e,subQuery:s?e:void 0})}const i=e(this.subQuery());this.setParameters(i.getParameters());const r=i.getQuery();return this.expressionMap.createAlias({type:"from",name:t,subQuery:r})}}replacePropertyNames(e){return e}replacePropertyNamesForTheWholeQuery(e){const t={};for(const s of this.expressionMap.aliases){if(!s.hasMetadata)continue;const o=this.expressionMap.aliasNamePrefixingEnabled&&s.name?"".concat(s.name,"."):"";t[o]||(t[o]={});for(const a of s.metadata.relations)a.joinColumns.length>0&&(t[o][a.propertyPath]=a.joinColumns[0].databaseName);for(const a of s.metadata.relations){const l=[...a.joinColumns,...a.inverseJoinColumns];for(const c of l){const u="".concat(a.propertyPath,".").concat(c.referencedColumn.propertyPath);t[o][u]=c.databaseName}}for(const a of s.metadata.columns)t[o][a.databaseName]=a.databaseName;for(const a of s.metadata.columns)t[o][a.propertyName]=a.databaseName;for(const a of s.metadata.columns)t[o][a.propertyPath]=a.databaseName}const i=Object.keys(t),r=i.map(s=>H6(s)).join("|");return i.length>0&&(e=e.replace(new RegExp("([ =(]|^.{0})"+"".concat(r?"("+r+")":"","([^ =(),]+)")+"(?=[ =),]|.{0}$)","gm"),(...s)=>{let o,a,l;if(r){if(o=s[0],a=s[1],l=s[3],t[s[2]][l])return"".concat(a).concat(this.escape(s[2].substring(0,s[2].length-1)),".").concat(this.escape(t[s[2]][l]))}else if(o=s[0],a=s[1],l=s[2],t[""][l])return"".concat(a).concat(this.escape(t[""][l]));return o})),e}createComment(){return this.expressionMap.comment?"/* ".concat(this.expressionMap.comment.replace("*/","")," */ "):""}createTimeTravelQuery(){return this.expressionMap.queryType==="select"&&this.expressionMap.timeTravel?" AS OF SYSTEM TIME ".concat(this.expressionMap.timeTravel):""}createWhereExpression(){const e=[],t=this.createWhereClausesExpression(this.expressionMap.wheres);if(t.length>0&&t!=="1=1"&&e.push(this.replacePropertyNames(t)),this.expressionMap.mainAlias.hasMetadata){const r=this.expressionMap.mainAlias.metadata;if(this.expressionMap.queryType==="select"&&!this.expressionMap.withDeleted&&r.deleteDateColumn){const s=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+r.deleteDateColumn.propertyName:r.deleteDateColumn.propertyName,o="".concat(this.replacePropertyNames(s)," IS NULL");e.push(o)}if(r.discriminatorColumn&&r.parentEntityMetadata){const s=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+r.discriminatorColumn.databaseName:r.discriminatorColumn.databaseName,o="".concat(this.replacePropertyNames(s)," IN (:...discriminatorColumnValues)");e.push(o)}}if(this.expressionMap.extraAppendedAndWhereCondition){const r=this.replacePropertyNames(this.expressionMap.extraAppendedAndWhereCondition);e.push(r)}let i="";return i+=this.createTimeTravelQuery(),e.length?e.length===1?i+=" WHERE ".concat(e[0]):i+=" WHERE ( ".concat(e.join(" ) AND ( ")," )"):i+="",i}createReturningExpression(e){const t=this.getReturningColumns(),i=this.connection.driver;if(typeof this.expressionMap.returning!="string"&&this.expressionMap.extraReturningColumns.length>0&&i.isReturningSqlSupported(e)&&t.push(...this.expressionMap.extraReturningColumns.filter(r=>t.indexOf(r)===-1)),t.length){let r=t.map(s=>{const o=this.escape(s.databaseName);return i.options.type==="mssql"?this.expressionMap.queryType==="insert"||this.expressionMap.queryType==="update"||this.expressionMap.queryType==="soft-delete"||this.expressionMap.queryType==="restore"?"INSERTED."+o:this.escape(this.getMainTableName())+"."+o:o}).join(", ");return i.options.type==="oracle"&&(r+=" INTO "+t.map(s=>this.createParameter({type:i.columnTypeToNativeParameter(s.type),dir:i.oracle.BIND_OUT})).join(", ")),i.options.type==="mssql"&&(this.expressionMap.queryType==="insert"||this.expressionMap.queryType==="update")&&(r+=" INTO @OutputTable"),r}else if(typeof this.expressionMap.returning=="string")return this.expressionMap.returning;return""}getReturningColumns(){const e=[];return Array.isArray(this.expressionMap.returning)&&this.expressionMap.returning.forEach(t=>{this.expressionMap.mainAlias.hasMetadata&&e.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(t))}),e}createWhereClausesExpression(e){return e.map((t,i)=>{const r=this.createWhereConditionExpression(t.condition);switch(t.type){case"and":return(i>0?"AND ":"")+r;case"or":return(i>0?"OR ":"")+r}return r}).join(" ").trim()}createWhereConditionExpression(e,t=!1){if(typeof e=="string")return e;if(Array.isArray(e))return e.length===0?"1=1":e.length===1&&!t?this.createWhereClausesExpression(e):"("+this.createWhereClausesExpression(e)+")";const{driver:i}=this.connection;switch(e.operator){case"lessThan":return"".concat(e.parameters[0]," < ").concat(e.parameters[1]);case"lessThanOrEqual":return"".concat(e.parameters[0]," <= ").concat(e.parameters[1]);case"arrayContains":return"".concat(e.parameters[0]," @> ").concat(e.parameters[1]);case"jsonContains":return"".concat(e.parameters[0]," ::jsonb @> ").concat(e.parameters[1]);case"arrayContainedBy":return"".concat(e.parameters[0]," <@ ").concat(e.parameters[1]);case"arrayOverlap":return"".concat(e.parameters[0]," && ").concat(e.parameters[1]);case"moreThan":return"".concat(e.parameters[0]," > ").concat(e.parameters[1]);case"moreThanOrEqual":return"".concat(e.parameters[0]," >= ").concat(e.parameters[1]);case"notEqual":return"".concat(e.parameters[0]," != ").concat(e.parameters[1]);case"equal":return"".concat(e.parameters[0]," = ").concat(e.parameters[1]);case"ilike":return i.options.type==="postgres"||i.options.type==="cockroachdb"?"".concat(e.parameters[0]," ILIKE ").concat(e.parameters[1]):"UPPER(".concat(e.parameters[0],") LIKE UPPER(").concat(e.parameters[1],")");case"like":return"".concat(e.parameters[0]," LIKE ").concat(e.parameters[1]);case"between":return"".concat(e.parameters[0]," BETWEEN ").concat(e.parameters[1]," AND ").concat(e.parameters[2]);case"in":return e.parameters.length<=1?"0=1":"".concat(e.parameters[0]," IN (").concat(e.parameters.slice(1).join(", "),")");case"any":return i.options.type==="cockroachdb"?"".concat(e.parameters[0],"::STRING = ANY(").concat(e.parameters[1],"::STRING[])"):"".concat(e.parameters[0]," = ANY(").concat(e.parameters[1],")");case"isNull":return"".concat(e.parameters[0]," IS NULL");case"not":return"NOT(".concat(this.createWhereConditionExpression(e.condition),")");case"brackets":return"".concat(this.createWhereConditionExpression(e.condition,!0));case"and":return e.parameters.join(" AND ")}throw new TypeError("Unsupported FindOperator ".concat(ec.constructor.name))}createCteExpression(){if(!this.hasCommonTableExpressions())return"";const e=this.connection.driver.cteCapabilities.requiresRecursiveHint;return"WITH "+this.expressionMap.commonTableExpressions.map(i=>{const r=typeof i.queryBuilder=="string"?i.queryBuilder:i.queryBuilder.getQuery();if(typeof i.queryBuilder!="string"){if(i.queryBuilder.hasCommonTableExpressions())throw new _("Nested CTEs aren't supported (CTE: ".concat(i.alias,")"));if(!this.connection.driver.cteCapabilities.writable&&!U.isSelectQueryBuilder(i.queryBuilder))throw new _("Only select queries are supported in CTEs in ".concat(this.connection.options.type," (CTE: ").concat(i.alias,")"));this.setParameters(i.queryBuilder.getParameters())}let s=this.escape(i.alias);if(i.options.columnNames){const l=i.options.columnNames.map(c=>this.escape(c));if(U.isSelectQueryBuilder(i.queryBuilder)&&i.queryBuilder.expressionMap.selects.length&&i.options.columnNames.length!==i.queryBuilder.expressionMap.selects.length)throw new _("cte.options.columnNames length (".concat(i.options.columnNames.length,") doesn't match subquery select list length ").concat(i.queryBuilder.expressionMap.selects.length," (CTE: ").concat(i.alias,")"));s+="(".concat(l.join(", "),")")}const o=i.options.recursive&&e?"RECURSIVE":"";let a="";return this.connection.driver.cteCapabilities.materializedHint&&i.options.materialized!==void 0&&(a=i.options.materialized?"MATERIALIZED":"NOT MATERIALIZED"),[o,s,"AS",a,"(".concat(r,")")].filter(Boolean).join(" ")}).join(", ")+" "}getWhereInIdsCondition(e){const t=this.expressionMap.mainAlias.metadata,i=(Array.isArray(e)?e:[e]).map(r=>t.ensureEntityIdMap(r));if(!t.hasMultiplePrimaryKeys){const r=t.primaryColumns[0];if(!r.transformer&&!r.relationMetadata&&!r.embeddedMetadata)return{[r.propertyName]:z6(i.map(s=>r.getEntityValue(s,!1)))}}return new bd(r=>{for(const s of i)r.orWhere(new bd(o=>o.where(s)))})}getExistsCondition(e){const t=e.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select("1").setOption("disable-global-order");return["EXISTS (".concat(t.getQuery(),")"),t.getParameters()]}findColumnsForPropertyPath(e){let t=this.expressionMap.mainAlias;const i=[],r=e.split(".");for(;r.length>1;){const a=r[0];if(!(t!=null&&t.hasMetadata))break;if(t.metadata.hasEmbeddedWithPropertyPath(a)){r.unshift("".concat(r.shift(),".").concat(r.shift()));continue}if(t.metadata.hasRelationWithPropertyPath(a)){const l=this.expressionMap.joinAttributes.find(c=>c.relationPropertyPath===a);if(!(l!=null&&l.alias)){const c=i.length>0?"".concat(i.join("."),".").concat(a):a;throw new Error("Cannot find alias for relation at ".concat(c))}t=l.alias,i.push(...a.split(".")),r.shift();continue}break}if(!t)throw new Error("Cannot find alias for property ".concat(e));const s=r.join("."),o=t.metadata.findColumnsWithPropertyPath(s);if(!o.length)throw new Qi(e,t.metadata);return[t,i,o]}createPropertyPath(e,t,i=""){const r=[];for(const s of Object.keys(t)){const o=i?"".concat(i,".").concat(s):s;if(t[s]===null||typeof t[s]!="object"||U.isFindOperator(t[s])){r.push(o);continue}if(e.hasEmbeddedWithPropertyPath(o)){const a=this.createPropertyPath(e,t[s],o);r.push(...a);continue}if(e.hasRelationWithPropertyPath(o)){const a=e.findRelationWithPropertyPath(o);if(a.relationType==="one-to-one"||a.relationType==="many-to-one"){const d=a.joinColumns.map(p=>p.referencedColumn).filter(p=>!!p);if(d.length>0&&d.every(p=>p.getEntityValue(t[s],!1))){r.push(o);continue}}if(a.relationType==="one-to-many"||a.relationType==="many-to-many")throw new Error("Cannot query across ".concat(a.relationType," for property ").concat(o));const l=a.inverseEntityMetadata.primaryColumns;if(l.length>0&&l.every(d=>d.getEntityValue(t[s],!1))){const d=l.map(h=>"".concat(o,".").concat(h.propertyPath));r.push(...d);continue}const u=this.createPropertyPath(a.inverseEntityMetadata,t[s]).map(d=>"".concat(o,".").concat(d));r.push(...u);continue}r.push(o)}return r}*getPredicates(e){if(this.expressionMap.mainAlias.hasMetadata){const t=this.createPropertyPath(this.expressionMap.mainAlias.metadata,e);for(const i of t){const[r,s,o]=this.findColumnsForPropertyPath(i);for(const a of o){let l=e;for(const d of s){if(!l||!(d in l)){l={};break}l=l[d]}const c=this.expressionMap.aliasNamePrefixingEnabled?"".concat(r.name,".").concat(a.propertyPath):a.propertyPath,u=a.getEntityValue(l,!0);yield[c,u]}}}else for(const t of Object.keys(e)){const i=e[t];yield[this.expressionMap.aliasNamePrefixingEnabled?"".concat(this.alias,".").concat(t):t,i]}}getWherePredicateCondition(e,t){if(U.isFindOperator(t)){let i=[];if(t.useParameter)if(t.objectLiteralParameters)this.setParameters(t.objectLiteralParameters);else if(t.multipleParameters)for(const r of t.value)i.push(this.createParameter(r));else i.push(this.createParameter(t.value));if(t.type==="raw")return t.getSql?t.getSql(e):{operator:"equal",parameters:[e,t.value]};if(t.type==="not")return t.child?{operator:t.type,condition:this.getWherePredicateCondition(e,t.child)}:{operator:"notEqual",parameters:[e,...i]};if(t.type==="and"){const r=t.value;return{operator:t.type,parameters:r.map(s=>this.createWhereConditionExpression(this.getWherePredicateCondition(e,s)))}}else return{operator:t.type,parameters:[e,...i]}}else return{operator:"equal",parameters:[e,this.createParameter(t)]}}getWhereCondition(e){if(typeof e=="string")return e;if(U.isBrackets(e)){const r=this.createQueryBuilder();return r.parentQueryBuilder=this,r.expressionMap.mainAlias=this.expressionMap.mainAlias,r.expressionMap.aliasNamePrefixingEnabled=this.expressionMap.aliasNamePrefixingEnabled,r.expressionMap.parameters=this.expressionMap.parameters,r.expressionMap.nativeParameters=this.expressionMap.nativeParameters,r.expressionMap.wheres=[],e.whereFactory(r),{operator:U.isNotBrackets(e)?"not":"brackets",condition:r.expressionMap.wheres}}if(typeof e=="function")return e(this);const t=Array.isArray(e)?e:[e],i=[];for(const r of t){const s=[];for(const[o,a]of this.getPredicates(r))s.push({type:"and",condition:this.getWherePredicateCondition(o,a)});i.push({type:"or",condition:s})}return i.length===1?i[0].condition:i}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner()}hasCommonTableExpressions(){return this.expressionMap.commonTableExpressions.length>0}}class wd extends W6{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("SelectQueryBuilder"),this.findOptions={},this.selects=[],this.joins=[],this.conditions="",this.orderBys=[],this.relationMetadatas=[]}getQuery(){let e=this.createComment();return e+=this.createCteExpression(),e+=this.createSelectExpression(),e+=this.createJoinExpression(),e+=this.createWhereExpression(),e+=this.createGroupByExpression(),e+=this.createHavingExpression(),e+=this.createOrderByExpression(),e+=this.createLimitOffsetExpression(),e+=this.createLockExpression(),e=e.trim(),this.expressionMap.subQuery&&(e="("+e+")"),this.replacePropertyNamesForTheWholeQuery(e)}setFindOptions(e){return this.findOptions=e,this.applyFindOptions(),this}subQuery(){const e=this.createQueryBuilder();return e.expressionMap.subQuery=!0,e.parentQueryBuilder=this,e}select(e,t){if(this.expressionMap.queryType="select",Array.isArray(e))this.expressionMap.selects=e.map(i=>({selection:i}));else if(typeof e=="function"){const i=e(this.subQuery());this.setParameters(i.getParameters()),this.expressionMap.selects.push({selection:i.getQuery(),aliasName:t})}else e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);return this}addSelect(e,t){if(!e)return this;if(Array.isArray(e))this.expressionMap.selects=this.expressionMap.selects.concat(e.map(i=>({selection:i})));else if(typeof e=="function"){const i=e(this.subQuery());this.setParameters(i.getParameters()),this.expressionMap.selects.push({selection:i.getQuery(),aliasName:t})}else e&&this.expressionMap.selects.push({selection:e,aliasName:t});return this}maxExecutionTime(e){return this.expressionMap.maxExecutionTime=e,this}distinct(e=!0){return this.expressionMap.selectDistinct=e,this}distinctOn(e){return this.expressionMap.selectDistinctOn=e,this}fromDummy(){var e;return this.from((e=this.connection.driver.dummyTableName)!==null&&e!==void 0?e:"(SELECT 1 AS dummy_column)","dummy_table")}from(e,t){const i=this.createFromAlias(e,t);return this.expressionMap.setMainAlias(i),this}addFrom(e,t){const i=this.createFromAlias(e,t);return this.expressionMap.mainAlias||this.expressionMap.setMainAlias(i),this}innerJoin(e,t,i,r){return this.join("INNER",e,t,i,r),this}leftJoin(e,t,i,r){return this.join("LEFT",e,t,i,r),this}innerJoinAndSelect(e,t,i,r){return this.addSelect(t),this.innerJoin(e,t,i,r),this}leftJoinAndSelect(e,t,i,r){return this.addSelect(t),this.leftJoin(e,t,i,r),this}innerJoinAndMapMany(e,t,i,r,s){return this.addSelect(i),this.join("INNER",t,i,r,s,e,!0),this}innerJoinAndMapOne(e,t,i,r,s,o){return this.addSelect(i),this.join("INNER",t,i,r,s,e,!1,o),this}leftJoinAndMapMany(e,t,i,r,s){return this.addSelect(i),this.join("LEFT",t,i,r,s,e,!0),this}leftJoinAndMapOne(e,t,i,r,s,o){return this.addSelect(i),this.join("LEFT",t,i,r,s,e,!1,o),this}loadRelationIdAndMap(e,t,i,r){const s=new by(this.expressionMap);return s.mapToProperty=e,s.relationName=t,typeof i=="string"&&(s.alias=i),typeof i=="object"&&i.disableMixedMap&&(s.disableMixedMap=!0),s.queryBuilderFactory=r,this.expressionMap.relationIdAttributes.push(s),s.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:s.junctionAlias,metadata:s.relation.junctionEntityMetadata}),this}loadRelationCountAndMap(e,t,i,r){const s=new vy(this.expressionMap);return s.mapToProperty=e,s.relationName=t,s.alias=i,s.queryBuilderFactory=r,this.expressionMap.relationCountAttributes.push(s),this.expressionMap.createAlias({type:"other",name:s.junctionAlias}),s.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:s.junctionAlias,metadata:s.relation.junctionEntityMetadata}),this}loadAllRelationIds(e){return this.expressionMap.mainAlias.metadata.relations.forEach(t=>{e!==void 0&&e.relations!==void 0&&e.relations.indexOf(t.propertyPath)===-1||this.loadRelationIdAndMap(this.expressionMap.mainAlias.name+"."+t.propertyPath,this.expressionMap.mainAlias.name+"."+t.propertyPath,e)}),this}where(e,t){this.expressionMap.wheres=[];const i=this.getWhereCondition(e);return i&&(this.expressionMap.wheres=[{type:"simple",condition:i}]),t&&this.setParameters(t),this}andWhere(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}orWhere(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}whereExists(e){return this.where(...this.getExistsCondition(e))}andWhereExists(e){return this.andWhere(...this.getExistsCondition(e))}orWhereExists(e){return this.orWhere(...this.getExistsCondition(e))}whereInIds(e){return this.where(this.getWhereInIdsCondition(e))}andWhereInIds(e){return this.andWhere(this.getWhereInIdsCondition(e))}orWhereInIds(e){return this.orWhere(this.getWhereInIdsCondition(e))}having(e,t){return this.expressionMap.havings.push({type:"simple",condition:e}),t&&this.setParameters(t),this}andHaving(e,t){return this.expressionMap.havings.push({type:"and",condition:e}),t&&this.setParameters(t),this}orHaving(e,t){return this.expressionMap.havings.push({type:"or",condition:e}),t&&this.setParameters(t),this}groupBy(e){return e?this.expressionMap.groupBys=[e]:this.expressionMap.groupBys=[],this}addGroupBy(e){return this.expressionMap.groupBys.push(e),this}timeTravelQuery(e){return this.connection.driver.options.type==="cockroachdb"&&(e===void 0?this.expressionMap.timeTravel="follower_read_timestamp()":this.expressionMap.timeTravel=e),this}orderBy(e,t="ASC",i){if(t!==void 0&&t!=="ASC"&&t!=="DESC")throw new _('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(i!==void 0&&i!=="NULLS FIRST"&&i!=="NULLS LAST")throw new _('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return e?typeof e=="object"?this.expressionMap.orderBys=e:i?this.expressionMap.orderBys={[e]:{order:t,nulls:i}}:this.expressionMap.orderBys={[e]:t}:this.expressionMap.orderBys={},this}addOrderBy(e,t="ASC",i){if(t!==void 0&&t!=="ASC"&&t!=="DESC")throw new _('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(i!==void 0&&i!=="NULLS FIRST"&&i!=="NULLS LAST")throw new _('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return i?this.expressionMap.orderBys[e]={order:t,nulls:i}:this.expressionMap.orderBys[e]=t,this}limit(e){if(this.expressionMap.limit=this.normalizeNumber(e),this.expressionMap.limit!==void 0&&isNaN(this.expressionMap.limit))throw new _('Provided "limit" value is not a number. Please provide a numeric value.');return this}offset(e){if(this.expressionMap.offset=this.normalizeNumber(e),this.expressionMap.offset!==void 0&&isNaN(this.expressionMap.offset))throw new _('Provided "offset" value is not a number. Please provide a numeric value.');return this}take(e){if(this.expressionMap.take=this.normalizeNumber(e),this.expressionMap.take!==void 0&&isNaN(this.expressionMap.take))throw new _('Provided "take" value is not a number. Please provide a numeric value.');return this}skip(e){if(this.expressionMap.skip=this.normalizeNumber(e),this.expressionMap.skip!==void 0&&isNaN(this.expressionMap.skip))throw new _('Provided "skip" value is not a number. Please provide a numeric value.');return this}useIndex(e){return this.expressionMap.useIndex=e,this}setLock(e,t,i){return this.expressionMap.lockMode=e,this.expressionMap.lockVersion=t,this.expressionMap.lockTables=i,this}setOnLocked(e){return this.expressionMap.onLocked=e,this}withDeleted(){return this.expressionMap.withDeleted=!0,this}async getRawOne(){return(await this.getRawMany())[0]}async getRawMany(){if(this.expressionMap.lockMode==="optimistic")throw new _a;this.expressionMap.queryEntity=!1;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0);const i=await this.loadRawResults(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getRawAndEntities(){const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;const i=await this.executeEntitiesAndRawResults(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getOne(){const t=(await this.getRawAndEntities()).entities[0];if(t&&this.expressionMap.lockMode==="optimistic"&&this.expressionMap.lockVersion){const i=this.expressionMap.mainAlias.metadata;if(this.expressionMap.lockVersion instanceof Date){const r=i.updateDateColumn.getEntityValue(t);if(r.getTime()!==this.expressionMap.lockVersion.getTime())throw new Zv(i.name,this.expressionMap.lockVersion,r)}else{const r=i.versionColumn.getEntityValue(t);if(r!==this.expressionMap.lockVersion)throw new Zv(i.name,this.expressionMap.lockVersion,r)}}return t===void 0?null:t}async getOneOrFail(){const e=await this.getOne();if(!e)throw new Sm(this.expressionMap.mainAlias.target,this.expressionMap.parameters);return e}async getMany(){if(this.expressionMap.lockMode==="optimistic")throw new _a;return(await this.getRawAndEntities()).entities}async getCount(){if(this.expressionMap.lockMode==="optimistic")throw new _a;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!1;const i=await this.executeCountQuery(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getExists(){if(this.expressionMap.lockMode==="optimistic")throw new _a;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!1;const i=await this.executeExistsQuery(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getManyAndCount(){if(this.expressionMap.lockMode==="optimistic")throw new _a;const e=this.obtainQueryRunner();let t=!1;try{this.expressionMap.useTransaction===!0&&e.isTransactionActive===!1&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;const i=await this.executeEntitiesAndRawResults(e);this.expressionMap.queryEntity=!1;const r=this.expressionMap.cacheId;this.expressionMap.cacheId=r&&"".concat(r,"-count");const s=await this.executeCountQuery(e),o=[i.entities,s];return t&&await e.commitTransaction(),o}catch(i){if(t)try{await e.rollbackTransaction()}catch(r){}throw i}finally{e!==this.queryRunner&&await e.release()}}async stream(){this.expressionMap.queryEntity=!1;const[e,t]=this.getQueryAndParameters(),i=this.obtainQueryRunner();let r=!1;try{this.expressionMap.useTransaction===!0&&i.isTransactionActive===!1&&(await i.startTransaction(),r=!0);const s=()=>{if(i!==this.queryRunner)return i.release()},o=i.stream(e,t,s,s);return r&&await i.commitTransaction(),o}catch(s){if(r)try{await i.rollbackTransaction()}catch(o){}throw s}}cache(e,t){return typeof e=="boolean"?this.expressionMap.cache=e:typeof e=="number"?(this.expressionMap.cache=!0,this.expressionMap.cacheDuration=e):(typeof e=="string"||typeof e=="number")&&(this.expressionMap.cache=!0,this.expressionMap.cacheId=e),t&&(this.expressionMap.cacheDuration=t),this}setOption(e){return this.expressionMap.options.push(e),this}join(e,t,i,r,s,o,a,l){s&&this.setParameters(s);const c=new zC(this.connection,this.expressionMap);c.direction=e,c.mapAsEntity=l,c.mapToProperty=o,c.isMappingMany=a,c.entityOrProperty=t,c.condition=r,this.expressionMap.joinAttributes.push(c);const u=c.metadata;if(u){if(u.deleteDateColumn&&!this.expressionMap.withDeleted){const d="".concat(i,".").concat(u.deleteDateColumn.propertyName," IS NULL");c.condition=c.condition?" ".concat(c.condition," AND ").concat(d):"".concat(d)}c.alias=this.expressionMap.createAlias({type:"join",name:i,metadata:u}),c.relation&&c.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"join",name:c.junctionAlias,metadata:c.relation.junctionEntityMetadata})}else{let d="";if(typeof t=="function"){const p=t(this.subQuery());this.setParameters(p.getParameters()),d=p.getQuery()}else d=t;const h=typeof t=="function"||t.substr(0,1)==="("&&t.substr(-1)===")";c.alias=this.expressionMap.createAlias({type:"join",name:i,tablePath:h===!1?t:void 0,subQuery:h===!0?d:void 0})}}createSelectExpression(){if(!this.expressionMap.mainAlias)throw new _("Cannot build query because main alias is not set (call qb#from method)");const e=[],t=[];if(this.expressionMap.mainAlias.hasMetadata){const a=this.expressionMap.mainAlias.metadata;e.push(...this.buildEscapedEntityColumnSelects(this.expressionMap.mainAlias.name,a)),t.push(...this.findEntityColumnSelects(this.expressionMap.mainAlias.name,a))}this.expressionMap.joinAttributes.forEach(a=>{if(a.metadata)e.push(...this.buildEscapedEntityColumnSelects(a.alias.name,a.metadata)),t.push(...this.findEntityColumnSelects(a.alias.name,a.metadata));else if(this.expressionMap.selects.some(c=>c.selection===a.alias.name)){e.push({selection:this.escape(a.alias.name)+".*"});const c=this.expressionMap.selects.find(u=>u.selection===a.alias.name);t.push(c)}}),this.expressionMap.selects.filter(a=>t.indexOf(a)===-1).forEach(a=>e.push({selection:this.replacePropertyNames(a.selection),aliasName:a.aliasName})),e.length===0&&e.push({selection:"*"});let i="";this.expressionMap.useIndex&&me.isMySQLFamily(this.connection.driver)&&(i=" USE INDEX (".concat(this.expressionMap.useIndex,")"));const r=this.expressionMap.aliases.filter(a=>a.type==="from"&&(a.tablePath||a.subQuery)).map(a=>a.subQuery?a.subQuery+" "+this.escape(a.name):this.getTableName(a.tablePath)+" "+this.escape(a.name)),s=this.createSelectDistinctExpression(),o=e.map(a=>a.selection+(a.aliasName?" AS "+this.escape(a.aliasName):"")).join(", ");return s+o+" FROM "+r.join(", ")+this.createTableLockExpression()+i}createSelectDistinctExpression(){const{selectDistinct:e,selectDistinctOn:t,maxExecutionTime:i}=this.expressionMap,{driver:r}=this.connection;let s="SELECT ";if(i>0&&me.isMySQLFamily(r)&&(s+="/*+ MAX_EXECUTION_TIME(".concat(this.expressionMap.maxExecutionTime,") */ ")),me.isPostgresFamily(r)&&t.length>0){const o=t.map(a=>this.replacePropertyNames(a)).join(", ");s="SELECT DISTINCT ON (".concat(o,") ")}else e&&(s="SELECT DISTINCT ");return s}createJoinExpression(){return this.expressionMap.joinAttributes.map(t=>{const i=t.relation,r=t.tablePath,s=t.alias.name;let o=t.condition?" AND ("+t.condition+")":"";const a=t.parentAlias;if(!a||!i){const l=t.alias.subQuery?t.alias.subQuery:this.getTableName(r);return" "+t.direction+" JOIN "+l+" "+this.escape(s)+this.createTableLockExpression()+(t.condition?" ON "+this.replacePropertyNames(t.condition):"")}if(i.isManyToOne||i.isOneToOneOwner){const l=i.joinColumns.map(c=>s+"."+c.referencedColumn.propertyPath+"="+a+"."+i.propertyPath+"."+c.referencedColumn.propertyPath).join(" AND ");return" "+t.direction+" JOIN "+this.getTableName(r)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(l+o)}else if(i.isOneToMany||i.isOneToOneNotOwner){const l=i.inverseRelation.joinColumns.map(c=>(i.inverseEntityMetadata.tableType==="entity-child"&&i.inverseEntityMetadata.discriminatorColumn&&(o+=" AND "+s+"."+i.inverseEntityMetadata.discriminatorColumn.databaseName+"='"+i.inverseEntityMetadata.discriminatorValue+"'"),s+"."+i.inverseRelation.propertyPath+"."+c.referencedColumn.propertyPath+"="+a+"."+c.referencedColumn.propertyPath)).join(" AND ");return" "+t.direction+" JOIN "+this.getTableName(r)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(l+o)}else{const l=i.junctionEntityMetadata.tablePath,c=t.junctionAlias;let u="",d="";return i.isOwning?(u=i.joinColumns.map(h=>c+"."+h.propertyPath+"="+a+"."+h.referencedColumn.propertyPath).join(" AND "),d=i.inverseJoinColumns.map(h=>s+"."+h.referencedColumn.propertyPath+"="+c+"."+h.propertyPath).join(" AND ")):(u=i.inverseRelation.inverseJoinColumns.map(h=>c+"."+h.propertyPath+"="+a+"."+h.referencedColumn.propertyPath).join(" AND "),d=i.inverseRelation.joinColumns.map(h=>s+"."+h.referencedColumn.propertyPath+"="+c+"."+h.propertyPath).join(" AND "))," "+t.direction+" JOIN "+this.getTableName(l)+" "+this.escape(c)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(u)+" "+t.direction+" JOIN "+this.getTableName(r)+" "+this.escape(s)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(d+o)}}).join(" ")}createGroupByExpression(){return!this.expressionMap.groupBys||!this.expressionMap.groupBys.length?"":" GROUP BY "+this.replacePropertyNames(this.expressionMap.groupBys.join(", "))}createOrderByExpression(){const e=this.expressionMap.allOrderBys;return Object.keys(e).length===0?"":" ORDER BY "+Object.keys(e).map(t=>{const i=typeof e[t]=="string"?e[t]:e[t].order+" "+e[t].nulls,r=this.expressionMap.selects.find(s=>s.selection===t);if(r&&!r.aliasName&&t.indexOf(".")!==-1){const s=t.split("."),o=s[0],a=s.slice(1).join("."),l=this.expressionMap.aliases.find(c=>c.name===o);if(l){const c=l.metadata.findColumnWithPropertyPath(a);if(c){const u=me.buildAlias(this.connection.driver,void 0,o,c.databaseName);return this.escape(u)+" "+i}}}return this.replacePropertyNames(t)+" "+i}).join(", ")}createLimitOffsetExpression(){let e=this.expressionMap.offset,t=this.expressionMap.limit;if(!e&&!t&&this.expressionMap.joinAttributes.length===0&&(e=this.expressionMap.skip,t=this.expressionMap.take),this.connection.driver.options.type==="mssql"){let i="";if((t||e)&&Object.keys(this.expressionMap.allOrderBys).length<=0&&(i=" ORDER BY (SELECT NULL)"),t&&e)return i+" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return i+" OFFSET 0 ROWS FETCH NEXT "+t+" ROWS ONLY";if(e)return i+" OFFSET "+e+" ROWS"}else if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"||this.connection.driver.options.type==="sap"||this.connection.driver.options.type==="spanner"){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)throw new m3}else if(me.isSQLiteFamily(this.connection.driver)){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" LIMIT -1 OFFSET "+e}else if(this.connection.driver.options.type==="oracle"){if(t&&e)return" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return" FETCH NEXT "+t+" ROWS ONLY";if(e)return" OFFSET "+e+" ROWS"}else{if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" OFFSET "+e}return""}createTableLockExpression(){if(this.connection.driver.options.type==="mssql")switch(this.expressionMap.lockMode){case"pessimistic_read":return" WITH (HOLDLOCK, ROWLOCK)";case"pessimistic_write":return" WITH (UPDLOCK, ROWLOCK)";case"dirty_read":return" WITH (NOLOCK)"}return""}createLockExpression(){const e=this.connection.driver;let t="";if(this.expressionMap.lockTables){if(!(me.isPostgresFamily(e)||e.options.type==="cockroachdb"))throw new _("Lock tables not supported in selected driver");if(this.expressionMap.lockTables.length<1)throw new _("lockTables cannot be an empty array");t=" OF "+this.expressionMap.lockTables.join(", ")}let i="";switch(this.expressionMap.onLocked==="nowait"?i=" NOWAIT":this.expressionMap.onLocked==="skip_locked"&&(i=" SKIP LOCKED"),this.expressionMap.lockMode){case"pessimistic_read":if(e.options.type==="mysql"||e.options.type==="aurora-mysql")return me.isReleaseVersionOrGreater(e,"8.0.0")?" FOR SHARE"+t+i:" LOCK IN SHARE MODE";if(e.options.type==="mariadb")return" LOCK IN SHARE MODE";if(me.isPostgresFamily(e))return" FOR SHARE"+t+i;if(e.options.type==="oracle")return" FOR UPDATE";if(e.options.type==="mssql")return"";throw new Zs;case"pessimistic_write":if(me.isMySQLFamily(e)||e.options.type==="aurora-mysql"||e.options.type==="oracle")return" FOR UPDATE"+i;if(me.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR UPDATE"+t+i;if(e.options.type==="mssql")return"";throw new Zs;case"pessimistic_partial_write":if(me.isPostgresFamily(e))return" FOR UPDATE"+t+" SKIP LOCKED";if(me.isMySQLFamily(e))return" FOR UPDATE SKIP LOCKED";throw new Zs;case"pessimistic_write_or_fail":if(me.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR UPDATE"+t+" NOWAIT";if(me.isMySQLFamily(e))return" FOR UPDATE NOWAIT";throw new Zs;case"for_no_key_update":if(me.isPostgresFamily(e)||e.options.type==="cockroachdb")return" FOR NO KEY UPDATE"+t+i;throw new Zs;case"for_key_share":if(me.isPostgresFamily(e))return" FOR KEY SHARE"+t+i;throw new Zs;default:return""}}createHavingExpression(){if(!this.expressionMap.havings||!this.expressionMap.havings.length)return"";const e=this.expressionMap.havings.map((t,i)=>{switch(t.type){case"and":return(i>0?"AND ":"")+this.replacePropertyNames(t.condition);case"or":return(i>0?"OR ":"")+this.replacePropertyNames(t.condition);default:return this.replacePropertyNames(t.condition)}}).join(" ");return e.length?" HAVING "+e:""}buildEscapedEntityColumnSelects(e,t){const i=this.expressionMap.selects.some(c=>c.selection===e),r=[];if(i&&r.push(...t.columns.filter(c=>c.isSelect===!0)),r.push(...t.columns.filter(c=>this.expressionMap.selects.some(u=>u.selection===e+"."+c.propertyPath))),r.length===0)return[];const s=this.expressionMap.queryEntity?t.primaryColumns.filter(c=>r.indexOf(c)===-1):[],o=[...r,...s],a=[],l=this.escape(e);return o.forEach(c=>{let u=l+"."+this.escape(c.databaseName);if(c.isVirtualProperty&&c.query&&(u="(".concat(c.query(l),")")),this.connection.driver.spatialTypes.indexOf(c.type)!==-1){if(me.isMySQLFamily(this.connection.driver)||this.connection.driver.options.type==="aurora-mysql"){const p=this.connection.driver.options.legacySpatialSupport?"AsText":"ST_AsText";u="".concat(p,"(").concat(u,")")}me.isPostgresFamily(this.connection.driver)&&(c.precision?u="ST_AsGeoJSON(".concat(u,", ").concat(c.precision,")::json"):u="ST_AsGeoJSON(".concat(u,")::json")),this.connection.driver.options.type==="mssql"&&(u="".concat(u,".ToString()"))}const d=this.expressionMap.selects.filter(h=>h.selection===e+"."+c.propertyPath);d.length?d.forEach(h=>{a.push({selection:u,aliasName:h.aliasName?h.aliasName:me.buildAlias(this.connection.driver,void 0,e,c.databaseName),virtual:h.virtual})}):a.push({selection:u,aliasName:me.buildAlias(this.connection.driver,void 0,e,c.databaseName),virtual:i})}),a}findEntityColumnSelects(e,t){const i=this.expressionMap.selects.find(r=>r.selection===e);return i?[i]:this.expressionMap.selects.filter(r=>t.columns.some(s=>r.selection===e+"."+s.propertyPath))}computeCountExpression(){const e=this.expressionMap.mainAlias.name,i=this.expressionMap.mainAlias.metadata.primaryColumns,r=this.escape(e);if(this.expressionMap.joinAttributes.length===0&&this.expressionMap.relationIdAttributes.length===0&&this.expressionMap.relationCountAttributes.length===0)return"COUNT(1)";if(this.connection.driver.options.type==="cockroachdb"||me.isPostgresFamily(this.connection.driver))return"COUNT(DISTINCT("+i.map(s=>"".concat(r,".").concat(this.escape(s.databaseName))).join(", ")+"))";if(me.isMySQLFamily(this.connection.driver))return"COUNT(DISTINCT "+i.map(s=>"".concat(r,".").concat(this.escape(s.databaseName))).join(", ")+")";if(this.connection.driver.options.type==="mssql"){const s=i.map(o=>"".concat(r,".").concat(this.escape(o.databaseName))).join(", '|;|', ");return i.length===1?"COUNT(DISTINCT(".concat(s,"))"):"COUNT(DISTINCT(CONCAT(".concat(s,")))")}if(this.connection.driver.options.type==="spanner"){if(i.length===1)return"COUNT(DISTINCT(".concat(r,".").concat(this.escape(i[0].databaseName),"))");const s=i.map(o=>"CAST(".concat(r,".").concat(this.escape(o.databaseName)," AS STRING)")).join(", '|;|', ");return"COUNT(DISTINCT(CONCAT(".concat(s,")))")}return"COUNT(DISTINCT("+i.map(s=>"".concat(r,".").concat(this.escape(s.databaseName))).join(" || '|;|' || ")+"))"}async executeCountQuery(e){const t=this.computeCountExpression(),i=await this.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select(t,"cnt").setOption("disable-global-order").loadRawResults(e);return!i||!i[0]||!i[0].cnt?0:parseInt(i[0].cnt)}async executeExistsQuery(e){return(await this.connection.createQueryBuilder().fromDummy().select("1","row_exists").whereExists(this).limit(1).loadRawResults(e)).length>0}applyFindOptions(){if(this.expressionMap.mainAlias.metadata){if(this.findOptions.relationLoadStrategy&&(this.expressionMap.relationLoadStrategy=this.findOptions.relationLoadStrategy),this.findOptions.comment&&this.comment(this.findOptions.comment),this.findOptions.withDeleted&&this.withDeleted(),this.findOptions.select){const e=Array.isArray(this.findOptions.select)?ve.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select;this.buildSelect(e,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.select(this.selects),this.selects=[],this.findOptions.relations){const e=Array.isArray(this.findOptions.relations)?ve.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations;this.buildRelations(e,typeof this.findOptions.select=="object"?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.findOptions.loadEagerRelations!==!1&&this.expressionMap.relationLoadStrategy==="join"&&this.buildEagerRelations(e,typeof this.findOptions.select=="object"?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.addSelect(this.selects),this.findOptions.where&&(this.conditions=this.buildWhere(this.findOptions.where,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.conditions.length&&this.andWhere(this.conditions.substr(0,1)!=="("?"("+this.conditions+")":this.conditions)),this.findOptions.order&&this.buildOrder(this.findOptions.order,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.joins.length&&this.joins.forEach(e=>{e.select&&!e.selection?e.type==="inner"?this.innerJoinAndSelect("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias):this.leftJoinAndSelect("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias):e.type==="inner"?this.innerJoin("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias):this.leftJoin("".concat(e.parentAlias,".").concat(e.relationMetadata.propertyPath),e.alias)}),this.findOptions.skip!==void 0&&this.skip(this.findOptions.skip),this.findOptions.take!==void 0&&this.take(this.findOptions.take),typeof this.findOptions.cache=="number"?this.cache(this.findOptions.cache):typeof this.findOptions.cache=="boolean"?this.cache(this.findOptions.cache):typeof this.findOptions.cache=="object"&&this.cache(this.findOptions.cache.id,this.findOptions.cache.milliseconds),this.findOptions.join&&(this.findOptions.join.leftJoin&&Object.keys(this.findOptions.join.leftJoin).forEach(e=>{this.leftJoin(this.findOptions.join.leftJoin[e],e)}),this.findOptions.join.innerJoin&&Object.keys(this.findOptions.join.innerJoin).forEach(e=>{this.innerJoin(this.findOptions.join.innerJoin[e],e)}),this.findOptions.join.leftJoinAndSelect&&Object.keys(this.findOptions.join.leftJoinAndSelect).forEach(e=>{this.leftJoinAndSelect(this.findOptions.join.leftJoinAndSelect[e],e)}),this.findOptions.join.innerJoinAndSelect&&Object.keys(this.findOptions.join.innerJoinAndSelect).forEach(e=>{this.innerJoinAndSelect(this.findOptions.join.innerJoinAndSelect[e],e)})),this.findOptions.lock){if(this.findOptions.lock.mode==="optimistic")this.setLock(this.findOptions.lock.mode,this.findOptions.lock.version);else if(this.findOptions.lock.mode==="pessimistic_read"||this.findOptions.lock.mode==="pessimistic_write"||this.findOptions.lock.mode==="dirty_read"||this.findOptions.lock.mode==="pessimistic_partial_write"||this.findOptions.lock.mode==="pessimistic_write_or_fail"||this.findOptions.lock.mode==="for_no_key_update"||this.findOptions.lock.mode==="for_key_share"){const e=this.findOptions.lock.tables?this.findOptions.lock.tables.map(t=>{const i=this.expressionMap.aliases.find(r=>r.metadata.tableNameWithoutPrefix===t);if(!i)throw new _('"'.concat(t,'" is not part of this query'));return this.escape(i.name)}):void 0;this.setLock(this.findOptions.lock.mode,void 0,e),this.findOptions.lock.onLocked&&this.setOnLocked(this.findOptions.lock.onLocked)}}this.findOptions.loadRelationIds===!0?this.loadAllRelationIds():typeof this.findOptions.loadRelationIds=="object"&&this.loadAllRelationIds(this.findOptions.loadRelationIds),this.findOptions.loadEagerRelations!==!1&&cn.joinEagerRelations(this,this.expressionMap.mainAlias.name,this.expressionMap.mainAlias.metadata),this.findOptions.transaction===!0&&(this.expressionMap.useTransaction=!0)}}concatRelationMetadata(e){this.relationMetadatas.push(e)}async executeEntitiesAndRawResults(e){if(!this.expressionMap.mainAlias)throw new _('Alias is not set. Use "from" method to set an alias.');if((this.expressionMap.lockMode==="pessimistic_read"||this.expressionMap.lockMode==="pessimistic_write"||this.expressionMap.lockMode==="pessimistic_partial_write"||this.expressionMap.lockMode==="pessimistic_write_or_fail"||this.expressionMap.lockMode==="for_no_key_update"||this.expressionMap.lockMode==="for_key_share")&&!e.isTransactionActive)throw new u3;if(this.expressionMap.lockMode==="optimistic"){const l=this.expressionMap.mainAlias.metadata;if(!l.versionColumn&&!l.updateDateColumn)throw new a3(l.name)}const t=new B6(this.connection,e,this.expressionMap.relationIdAttributes),i=new U6(this.connection,e,this.expressionMap.relationCountAttributes);new F6(this.expressionMap).transform(),new j6(this.expressionMap).transform();let o=[],a=[];if((this.expressionMap.skip||this.expressionMap.take)&&this.expressionMap.joinAttributes.length>0){const[l,c]=this.createOrderByCombinedWithSelectExpression("distinctAlias"),u=this.expressionMap.mainAlias.metadata,d=this.expressionMap.mainAlias.name,h=u.primaryColumns.map(v=>{const S=this.escape("distinctAlias"),E=this.escape(me.buildAlias(this.connection.driver,void 0,d,v.databaseName));c[E]||(c[E]="ASC");const w=me.buildAlias(this.connection.driver,void 0,"ids_"+d,v.databaseName);return"".concat(S,".").concat(E," AS ").concat(this.escape(w))}),p=this.clone(),y=p.expressionMap.timeTravel;if(o=await new wd(this.connection,e).select("DISTINCT ".concat(h.join(", "))).addSelect(l).from("(".concat(p.orderBy().timeTravelQuery(!1).getQuery(),")"),"distinctAlias").timeTravelQuery(y).offset(this.expressionMap.skip).limit(this.expressionMap.take).orderBy(c).cache(this.expressionMap.cache&&this.expressionMap.cacheId?"".concat(this.expressionMap.cacheId,"-pagination"):this.expressionMap.cache,this.expressionMap.cacheDuration).setParameters(this.getParameters()).setNativeParameters(this.expressionMap.nativeParameters).getRawMany(),o.length>0){let v="";const S={};if(u.hasMultiplePrimaryKeys)v=o.map((E,w)=>u.primaryColumns.map(C=>{const P="orm_distinct_ids_".concat(w,"_").concat(C.databaseName),q=me.buildAlias(this.connection.driver,void 0,"ids_"+d,C.databaseName);return S[P]=E[q],"".concat(d,".").concat(C.propertyPath,"=:").concat(P)}).join(" AND ")).join(" OR ");else{const E=me.buildAlias(this.connection.driver,void 0,"ids_"+d,u.primaryColumns[0].databaseName),w=o.map(P=>P[E]);w.every(P=>typeof P=="number")?v="".concat(d,".").concat(u.primaryColumns[0].propertyPath," IN (").concat(w.join(", "),")"):(S.orm_distinct_ids=w,v=d+"."+u.primaryColumns[0].propertyPath+" IN (:...orm_distinct_ids)")}o=await this.clone().mergeExpressionMap({extraAppendedAndWhereCondition:v}).setParameters(S).loadRawResults(e)}}else o=await this.loadRawResults(e);if(o.length>0){const l=await t.load(o),c=await i.load(o);a=new q6(this.expressionMap,this.connection.driver,l,c,this.queryRunner).transform(o,this.expressionMap.mainAlias),this.expressionMap.callListeners===!0&&this.expressionMap.mainAlias.hasMetadata&&await e.broadcaster.broadcast("Load",this.expressionMap.mainAlias.metadata,a)}if(this.expressionMap.relationLoadStrategy==="query"){const l=new VC(this.connection,e);await Promise.all(this.relationMetadatas.map(async c=>{const u=c.inverseEntityMetadata.target,d=c.inverseEntityMetadata.targetName,h=Array.isArray(this.findOptions.select)?ve.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select,p=Array.isArray(this.findOptions.relations)?ve.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations,y=this.createQueryBuilder().select(d).from(u,d).setFindOptions({select:h?ve.deepValue(h,c.propertyPath):void 0,order:this.findOptions.order?ve.deepValue(this.findOptions.order,c.propertyPath):void 0,relations:p?ve.deepValue(p,c.propertyPath):void 0,withDeleted:this.findOptions.withDeleted,relationLoadStrategy:this.findOptions.relationLoadStrategy});if(a.length>0){const v=await l.loadManyToManyRelationIdsAndGroup(c,a,void 0,y);a.forEach(S=>{const E=v.find(w=>w.entity===S);if(E){const w=E.related===void 0?null:E.related;c.setEntityValue(S,w)}})}}))}return{raw:o,entities:a}}createOrderByCombinedWithSelectExpression(e){const t=this.expressionMap.allOrderBys,i=Object.keys(t).map(s=>{if(s.indexOf(".")!==-1){const o=s.split("."),a=o[0],l=o.slice(1).join("."),u=this.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyPath(l);return this.escape(e)+"."+this.escape(me.buildAlias(this.connection.driver,void 0,a,u.databaseName))}else return this.expressionMap.selects.find(o=>o.selection===s||o.aliasName===s)?this.escape(e)+"."+this.escape(s):""}).join(", "),r={};return Object.keys(t).forEach(s=>{if(s.indexOf(".")!==-1){const o=s.split("."),a=o[0],l=o.slice(1).join("."),u=this.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyPath(l);r[this.escape(e)+"."+this.escape(me.buildAlias(this.connection.driver,void 0,a,u.databaseName))]=t[s]}else this.expressionMap.selects.find(o=>o.selection===s||o.aliasName===s)?r[this.escape(e)+"."+this.escape(s)]=t[s]:r[s]=t[s]}),[i,r]}async loadRawResults(e){const[t,i]=this.getQueryAndParameters(),r=t+" -- PARAMETERS: "+JSON.stringify(i),s=typeof this.connection.options.cache=="object"?this.connection.options.cache:{};let o;const a=s.alwaysEnabled&&this.expressionMap.cache||this.expressionMap.cache;let l=!1;if(this.connection.queryResultCache&&a)try{if(o=await this.connection.queryResultCache.getFromCache({identifier:this.expressionMap.cacheId,query:r,duration:this.expressionMap.cacheDuration||s.duration||1e3},e),o&&!this.connection.queryResultCache.isExpired(o))return JSON.parse(o.result)}catch(u){if(!s.ignoreErrors)throw u;l=!0}const c=await e.query(t,i,!0);if(!l&&this.connection.queryResultCache&&a)try{await this.connection.queryResultCache.storeInCache({identifier:this.expressionMap.cacheId,query:r,time:new Date().getTime(),duration:this.expressionMap.cacheDuration||s.duration||1e3,result:JSON.stringify(c.records)},o,e)}catch(u){if(!s.ignoreErrors)throw u}return c.records}mergeExpressionMap(e){return Be.assign(this.expressionMap,e),this}normalizeNumber(e){return typeof e=="number"||e===void 0||e===null?e:Number(e)}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner("slave")}buildSelect(e,t,i,r){for(let s in e){if(e[s]===void 0||e[s]===!1)continue;const o=r?r+"."+s:s,a=t.findColumnWithPropertyPathStrict(o),l=t.findEmbeddedWithPropertyPath(o),c=t.findRelationWithPropertyPath(o);if(!l&&!a&&!c)throw new Qi(o,t);a?this.selects.push(i+"."+o):l&&this.buildSelect(e[s],t,i,o)}}buildRelations(e,t,i,r,s){e&&Object.keys(e).forEach(o=>{const a=e[o],l=s?s+"."+o:o,c=i.findEmbeddedWithPropertyPath(l),u=i.findRelationWithPropertyPath(l);if(!c&&!u)throw new Qi(l,i);if(c)this.buildRelations(a,typeof t=="object"?ve.deepValue(t,c.propertyPath):void 0,i,r,l);else if(u){let d=r+"_"+l.replace(".","_");d=me.buildAlias(this.connection.driver,{joiner:"__"},r,d),(a===!0||typeof a=="object")&&(this.expressionMap.relationLoadStrategy==="query"?this.concatRelationMetadata(u):(this.joins.push({type:"left",select:!0,selection:t&&typeof t[o]=="object"?t[o]:void 0,alias:d,parentAlias:r,relationMetadata:u}),t&&typeof t[o]=="object"&&this.buildSelect(t[o],u.inverseEntityMetadata,d))),typeof a=="object"&&this.expressionMap.relationLoadStrategy==="join"&&this.buildRelations(a,typeof t=="object"?ve.deepValue(t,u.propertyPath):void 0,u.inverseEntityMetadata,d,void 0)}})}buildEagerRelations(e,t,i,r,s){e&&Object.keys(e).forEach(o=>{const a=e[o],l=s?s+"."+o:o,c=i.findEmbeddedWithPropertyPath(l),u=i.findRelationWithPropertyPath(l);if(!c&&!u)throw new Qi(l,i);if(c)this.buildEagerRelations(a,typeof t=="object"?ve.deepValue(t,c.propertyPath):void 0,i,r,l);else if(u){let d=r+"_"+l.replace(".","_");d=me.buildAlias(this.connection.driver,{joiner:"__"},r,d),(a===!0||typeof a=="object")&&u.inverseEntityMetadata.eagerRelations.forEach(h=>{let p=d+"_"+h.propertyPath.replace(".","_");p=me.buildAlias(this.connection.driver,{joiner:"__"},d,p),this.joins.find(v=>v.alias===p)||this.joins.push({type:"left",select:!0,alias:p,parentAlias:d,selection:void 0,relationMetadata:h}),t&&typeof t[o]=="object"&&this.buildSelect(t[o],u.inverseEntityMetadata,d)}),typeof a=="object"&&this.buildEagerRelations(a,typeof t=="object"?ve.deepValue(t,u.propertyPath):void 0,u.inverseEntityMetadata,d,void 0)}})}buildOrder(e,t,i,r){for(let s in e){if(e[s]===void 0)continue;const o=r?r+"."+s:s,a=t.findColumnWithPropertyPathStrict(o),l=t.findEmbeddedWithPropertyPath(o),c=t.findRelationWithPropertyPath(o);if(!l&&!a&&!c)throw new Qi(o,t);if(a){let u=typeof e[s]=="object"?e[s].direction:e[s];u=u==="DESC"||u==="desc"||u===-1?"DESC":"ASC";let d=typeof e[s]=="object"?e[s].nulls:void 0;d=(d==null?void 0:d.toLowerCase())==="first"?"NULLS FIRST":(d==null?void 0:d.toLowerCase())==="last"?"NULLS LAST":void 0;let h="".concat(i,".").concat(o);this.addOrderBy(h,u,d)}else if(l)this.buildOrder(e[s],t,i,o);else if(c){let u=i+"_"+o.replace(".","_");u=me.buildAlias(this.connection.driver,{joiner:"__"},i,u),this.joins.find(h=>h.alias===u)||this.joins.push({type:"left",select:!1,alias:u,parentAlias:i,selection:void 0,relationMetadata:c}),this.buildOrder(e[s],c.inverseEntityMetadata,u)}}}buildWhere(e,t,i,r){let s="";if(Array.isArray(e)&&e.length)s="("+e.map(o=>this.buildWhere(o,t,i,r)).filter(o=>!!o).map(o=>"("+o+")").join(" OR ")+")";else{let o=[];for(let a in e){if(e[a]===void 0||e[a]===null)continue;const l=r?r+"."+a:a,c=t.findColumnWithPropertyPathStrict(l),u=t.findEmbeddedWithPropertyPath(l),d=t.findRelationWithPropertyPath(l);if(!u&&!c&&!d)throw new Qi(l,t);if(c){let h="".concat(i,".").concat(l);c.isVirtualProperty&&c.query&&(h="(".concat(c.query(i),")"));let p=e[a];U.isEqualOperator(e[a])&&(p=e[a].value),c.transformer&&(p instanceof ec?p.transformValue(c.transformer):p=Ut.transformTo(c.transformer,p)),o.push(this.createWhereConditionExpression(this.getWherePredicateCondition(h,p)))}else if(u){const h=this.buildWhere(e[a],t,i,l);h&&o.push(h)}else if(d){if(typeof e[a]=="object"&&Object.keys(e[a]).every(p=>e[a][p]===void 0))continue;if(U.isFindOperator(e[a]))if(e[a].type==="moreThan"||e[a].type==="lessThan"||e[a].type==="moreThanOrEqual"||e[a].type==="lessThanOrEqual"){let h="";e[a].type==="moreThan"?h=">":e[a].type==="lessThan"?h="<":e[a].type==="moreThanOrEqual"?h=">=":e[a].type==="lessThanOrEqual"&&(h="<=");const p=this.subQuery();if(d.isManyToManyOwner)p.select("COUNT(*)").from(d.joinTableName,d.joinTableName).where(d.joinColumns.map(y=>"".concat(d.joinTableName,".").concat(y.propertyName," = ").concat(i,".").concat(y.referencedColumn.propertyName)).join(" AND "));else if(d.isManyToManyNotOwner)p.select("COUNT(*)").from(d.inverseRelation.joinTableName,d.inverseRelation.joinTableName).where(d.inverseRelation.inverseJoinColumns.map(y=>"".concat(d.inverseRelation.joinTableName,".").concat(y.propertyName," = ").concat(i,".").concat(y.referencedColumn.propertyName)).join(" AND "));else if(d.isOneToMany)p.select("COUNT(*)").from(d.inverseEntityMetadata.target,d.inverseEntityMetadata.tableName).where(d.inverseRelation.joinColumns.map(y=>"".concat(d.inverseEntityMetadata.tableName,".").concat(y.propertyName," = ").concat(i,".").concat(y.referencedColumn.propertyName)).join(" AND "));else throw new Error("This relation isn't supported by given find operator");this.andWhere(p.getSql()+" "+h+" "+parseInt(e[a].value))}else if(d.isManyToOne||d.isOneToOne&&d.isOneToOneOwner){const h="".concat(i,".").concat(l);o.push(this.createWhereConditionExpression(this.getWherePredicateCondition(h,e[a])))}else throw new Error("This relation isn't supported by given find operator");else{let h=i+"_"+d.propertyPath.replace(".","_");h=me.buildAlias(this.connection.driver,{joiner:"__"},i,h),this.joins.find(v=>v.alias===h)||this.joins.push({type:"left",select:!1,selection:void 0,alias:h,parentAlias:i,relationMetadata:d});const y=this.buildWhere(e[a],d.inverseEntityMetadata,h);y&&o.push(y)}}}s=o.join(" AND ")}return s}}class Ey{constructor(e){this.options=e}logQuery(e,t,i){this.isLogEnabledFor("query")&&this.writeLog("query",{type:"query",prefix:"query",message:e,format:"sql",parameters:t},i)}logQueryError(e,t,i,r){this.isLogEnabledFor("query-error")&&this.writeLog("warn",[{type:"query-error",prefix:"query failed",message:t,format:"sql",parameters:i},{type:"query-error",prefix:"error",message:e}],r)}logQuerySlow(e,t,i,r){this.isLogEnabledFor("query-slow")&&this.writeLog("warn",[{type:"query-slow",prefix:"query is slow",message:t,format:"sql",parameters:i,additionalInfo:{time:e}},{type:"query-slow",prefix:"execution time",message:e}],r)}logSchemaBuild(e,t){this.isLogEnabledFor("schema-build")&&this.writeLog("schema",{type:"schema-build",message:e},t)}logMigration(e,t){this.isLogEnabledFor("migration")||this.writeLog("log",{type:"migration",message:e},t)}log(e,t,i){switch(e){case"log":if(!this.isLogEnabledFor("log"))return;this.writeLog("log",{type:"log",message:t},i);break;case"info":if(!this.isLogEnabledFor("info"))return;this.writeLog("info",{type:"info",prefix:"info",message:t},i);break;case"warn":if(!this.isLogEnabledFor("warn"))return;this.writeLog("warn",{type:"warn",message:t},i);break}}isLogEnabledFor(e){switch(e){case"query":return this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("query")!==-1;case"error":case"query-error":return this.options==="all"||this.options===!0||Array.isArray(this.options)&&this.options.indexOf("error")!==-1;case"query-slow":return!0;case"schema":case"schema-build":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("schema")!==-1;case"migration":return!0;case"log":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("log")!==-1;case"info":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("info")!==-1;case"warn":return this.options==="all"||Array.isArray(this.options)&&this.options.indexOf("warn")!==-1;default:return!1}}prepareLogMessages(e,t){t={addColonToPrefix:!0,appendParameterAsComment:!0,highlightSql:!0,...t};const i=Array.isArray(e)?e:[e];for(let r of i){if(typeof r!="object"&&(r={message:r}),r.format==="sql"){let s=String(r.message);t.appendParameterAsComment&&r.parameters&&r.parameters.length&&(s+=" -- PARAMETERS: ".concat(this.stringifyParams(r.parameters))),t.highlightSql&&(s=lt.highlightSql(s)),r.message=s}t.addColonToPrefix&&r.prefix&&(r.prefix+=":")}return i}stringifyParams(e){try{return JSON.stringify(e)}catch(t){return e}}}class Q6 extends Ey{writeLog(e,t,i){var r;const s=this.prepareLogMessages(t,{highlightSql:!1});for(let o of s)switch((r=o.type)!==null&&r!==void 0?r:e){case"log":case"schema-build":case"migration":console.log(o.message);break;case"info":case"query":o.prefix?console.info(o.prefix,o.message):console.info(o.message);break;case"warn":case"query-slow":o.prefix?console.warn(o.prefix,o.message):console.warn(o.message);break;case"error":case"query-error":o.prefix?console.error(o.prefix,o.message):console.error(o.message);break}}}class gw extends Ey{writeLog(e,t,i){var r;const s=this.prepareLogMessages(t);for(let o of s)switch((r=o.type)!==null&&r!==void 0?r:e){case"log":case"schema-build":case"migration":lt.log(String(o.message));break;case"info":case"query":o.prefix?lt.logInfo(o.prefix,o.message):lt.log(String(o.message));break;case"warn":case"query-slow":o.prefix?lt.logWarn(o.prefix,o.message):console.warn(lt.warn(String(o.message)));break;case"error":case"query-error":o.prefix?lt.logError(o.prefix,String(o.message)):console.error(lt.error(String(o.message)));break}}}class G6{logQuery(){throw new Error("This logger is not applicable in a browser context")}logQueryError(){throw new Error("This logger is not applicable in a browser context")}logQuerySlow(){throw new Error("This logger is not applicable in a browser context")}logSchemaBuild(){throw new Error("This logger is not applicable in a browser context")}logMigration(){throw new Error("This logger is not applicable in a browser context")}log(){throw new Error("This logger is not applicable in a browser context")}}class K6 extends G6{}var Am={exports:{}},ef,yw;function Y6(){if(yw)return ef;yw=1;var n=1e3,e=n*60,t=e*60,i=t*24,r=i*7,s=i*365.25;ef=function(u,d){d=d||{};var h=typeof u;if(h==="string"&&u.length>0)return o(u);if(h==="number"&&isFinite(u))return d.long?l(u):a(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function o(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var h=parseFloat(d[1]),p=(d[2]||"ms").toLowerCase();switch(p){case"years":case"year":case"yrs":case"yr":case"y":return h*s;case"weeks":case"week":case"w":return h*r;case"days":case"day":case"d":return h*i;case"hours":case"hour":case"hrs":case"hr":case"h":return h*t;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function a(u){var d=Math.abs(u);return d>=i?Math.round(u/i)+"d":d>=t?Math.round(u/t)+"h":d>=e?Math.round(u/e)+"m":d>=n?Math.round(u/n)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=i?c(u,d,i,"day"):d>=t?c(u,d,t,"hour"):d>=e?c(u,d,e,"minute"):d>=n?c(u,d,n,"second"):u+" ms"}function c(u,d,h,p){var y=d>=h*1.5;return Math.round(u/h)+" "+p+(y?"s":"")}return ef}function J6(n){t.debug=t,t.default=t,t.coerce=l,t.disable=s,t.enable=r,t.enabled=o,t.humanize=Y6(),t.destroy=c,Object.keys(n).forEach(u=>{t[u]=n[u]}),t.names=[],t.skips=[],t.formatters={};function e(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return t.colors[Math.abs(d)%t.colors.length]}t.selectColor=e;function t(u){let d,h=null,p,y;function v(...S){if(!v.enabled)return;const E=v,w=Number(new Date),C=w-(d||w);E.diff=C,E.prev=d,E.curr=w,d=w,S[0]=t.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let P=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(H,L)=>{if(H==="%%")return"%";P++;const M=t.formatters[L];if(typeof M=="function"){const O=S[P];H=M.call(E,O),S.splice(P,1),P--}return H}),t.formatArgs.call(E,S),(E.log||t.log).apply(E,S)}return v.namespace=u,v.useColors=t.useColors(),v.color=t.selectColor(u),v.extend=i,v.destroy=t.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==t.namespaces&&(p=t.namespaces,y=t.enabled(u)),y),set:S=>{h=S}}),typeof t.init=="function"&&t.init(v),v}function i(u,d){const h=t(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function r(u){t.save(u),t.namespaces=u,t.names=[],t.skips=[];let d;const h=(typeof u=="string"?u:"").split(/[\s,]+/),p=h.length;for(d=0;d<p;d++)h[d]&&(u=h[d].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.slice(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...t.names.map(a),...t.skips.map(a).map(d=>"-"+d)].join(",");return t.enable(""),u}function o(u){if(u[u.length-1]==="*")return!0;let d,h;for(d=0,h=t.skips.length;d<h;d++)if(t.skips[d].test(u))return!1;for(d=0,h=t.names.length;d<h;d++)if(t.names[d].test(u))return!0;return!1}function a(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t.enable(t.load()),t}var X6=J6;(function(n,e){e.formatArgs=i,e.save=r,e.load=s,e.useColors=t,e.storage=o(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,d=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(d=u))}),l.splice(d,0,c)}e.log=console.debug||console.log||(()=>{});function r(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch(c){}}function s(){let l;try{l=e.storage.getItem("debug")}catch(c){}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function o(){try{return localStorage}catch(l){}}n.exports=X6(e);const{formatters:a}=n.exports;a.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(Am,Am.exports);var or=Am.exports;class Z6 extends Ey{constructor(){super(...arguments),this.logger={log:or.debug("typeorm:log"),info:or.debug("typeorm:info"),warn:or.debug("typeorm:warn"),error:or.debug("typeorm:error"),query:or.debug("typeorm:query:log"),"query-error":or.debug("typeorm:query:error"),"query-slow":or.debug("typeorm:query:slow"),"schema-build":or.debug("typeorm:schema"),migration:or.debug("typeorm:migration")}}isLogEnabledFor(e){switch(e){case"query":return this.logger.query.enabled;case"query-error":return this.logger["query-error"].enabled;case"query-slow":return!0;case"schema":case"schema-build":return this.logger["schema-build"].enabled;case"migration":return this.logger.migration.enabled;case"log":return this.logger.log.enabled;case"info":return this.logger.info.enabled;case"warn":return this.logger.warn.enabled;default:return!1}}writeLog(e,t,i){var r;const s=this.prepareLogMessages(t,{appendParameterAsComment:!1});for(let o of s){const a=(r=o.type)!==null&&r!==void 0?r:e;a in this.logger&&(o.prefix?this.logger[a](o.prefix,o.message):this.logger[a](o.message),o.parameters&&o.parameters.length&&this.logger[a]("parameters:",o.parameters))}}}class bw{create(e,t){if(Be.isObject(e))return e;if(e)switch(e){case"simple-console":return new Q6(t);case"file":return new K6(t);case"advanced-console":return new gw(t);case"debug":return new Z6}return new gw(t)}}class eF{constructor(e,t){this.connection=e,this.clientType=t,this.redis=this.loadRedis()}async connect(){const e=this.connection.options.cache;if(this.clientType==="redis")this.client=this.redis.createClient({...e==null?void 0:e.options,legacyMode:!0}),typeof this.connection.options.cache=="object"&&this.connection.options.cache.ignoreErrors&&this.client.on("error",t=>{this.connection.logger.log("warn",t)}),"connect"in this.client&&await this.client.connect();else if(this.clientType==="ioredis")e&&e.port?e.options?this.client=new this.redis(e.port,e.options):this.client=new this.redis(e.port):e&&e.options?this.client=new this.redis(e.options):this.client=new this.redis;else if(this.clientType==="ioredis/cluster")if(e&&e.options&&Array.isArray(e.options))this.client=new this.redis.Cluster(e.options);else if(e&&e.options&&e.options.startupNodes)this.client=new this.redis.Cluster(e.options.startupNodes,e.options.options);else throw new _("options.startupNodes required for ".concat(this.clientType,"."))}async disconnect(){return new Promise((e,t)=>{this.client.quit((i,r)=>{if(i)return t(i);e(),this.client=void 0})})}async synchronize(e){}getFromCache(e,t){return new Promise((i,r)=>{e.identifier?this.client.get(e.identifier,(s,o)=>{if(s)return r(s);i(JSON.parse(o))}):e.query?this.client.get(e.query,(s,o)=>{if(s)return r(s);i(JSON.parse(o))}):i(void 0)})}isExpired(e){return e.time+e.duration<new Date().getTime()}async storeInCache(e,t,i){return new Promise((r,s)=>{e.identifier?this.client.set(e.identifier,JSON.stringify(e),"PX",e.duration,(o,a)=>{if(o)return s(o);r()}):e.query&&this.client.set(e.query,JSON.stringify(e),"PX",e.duration,(o,a)=>{if(o)return s(o);r()})})}async clear(e){return new Promise((t,i)=>{this.client.flushdb((r,s)=>{if(r)return i(r);t()})})}async remove(e,t){await Promise.all(e.map(i=>this.deleteKey(i)))}deleteKey(e){return new Promise((t,i)=>{this.client.del(e,(r,s)=>{if(r)return i(r);t()})})}loadRedis(){try{return this.clientType==="ioredis/cluster"?lt.load("ioredis"):lt.load(this.clientType)}catch(e){throw new _("Cannot use cache because ".concat(this.clientType,' is not installed. Please run "npm i ').concat(this.clientType,' --save".'))}}}let Zc;const tF=new Uint8Array(16);function nF(){if(!Zc&&(Zc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Zc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zc(tF)}const Yt=[];for(let n=0;n<256;++n)Yt.push((n+256).toString(16).slice(1));function iF(n,e=0){return Yt[n[e+0]]+Yt[n[e+1]]+Yt[n[e+2]]+Yt[n[e+3]]+"-"+Yt[n[e+4]]+Yt[n[e+5]]+"-"+Yt[n[e+6]]+Yt[n[e+7]]+"-"+Yt[n[e+8]]+Yt[n[e+9]]+"-"+Yt[n[e+10]]+Yt[n[e+11]]+Yt[n[e+12]]+Yt[n[e+13]]+Yt[n[e+14]]+Yt[n[e+15]]}const rF=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vw={randomUUID:rF};function sF(n,e,t){if(vw.randomUUID&&!e&&!n)return vw.randomUUID();n=n||{};const i=n.random||(n.rng||nF)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){t=t||0;for(let r=0;r<16;++r)e[t+r]=i[r];return e}return iF(i)}class oF{constructor(e){this.connection=e;const{schema:t}=this.connection.driver.options,i=this.connection.driver.database,s=(typeof this.connection.options.cache=="object"?this.connection.options.cache:{}).tableName||"query-result-cache";this.queryResultCacheDatabase=i,this.queryResultCacheSchema=t,this.queryResultCacheTable=this.connection.driver.buildTableName(s,t,i)}async connect(){}async disconnect(){}async synchronize(e){e=this.getQueryRunner(e);const t=this.connection.driver;await e.hasTable(this.queryResultCacheTable)||await e.createTable(new mt({database:this.queryResultCacheDatabase,schema:this.queryResultCacheSchema,name:this.queryResultCacheTable,columns:[{name:"id",isPrimary:!0,isNullable:!1,type:t.normalizeType({type:t.mappedDataTypes.cacheId}),generationStrategy:t.options.type==="spanner"?"uuid":"increment",isGenerated:!0},{name:"identifier",type:t.normalizeType({type:t.mappedDataTypes.cacheIdentifier}),isNullable:!0},{name:"time",type:t.normalizeType({type:t.mappedDataTypes.cacheTime}),isPrimary:!1,isNullable:!1},{name:"duration",type:t.normalizeType({type:t.mappedDataTypes.cacheDuration}),isPrimary:!1,isNullable:!1},{name:"query",type:t.normalizeType({type:t.mappedDataTypes.cacheQuery}),isPrimary:!1,isNullable:!1},{name:"result",type:t.normalizeType({type:t.mappedDataTypes.cacheResult}),isNullable:!1}]}))}getFromCache(e,t){t=this.getQueryRunner(t);const i=this.connection.createQueryBuilder(t).select().from(this.queryResultCacheTable,"cache");return e.identifier?i.where("".concat(i.escape("cache"),".").concat(i.escape("identifier")," = :identifier")).setParameters({identifier:this.connection.driver.options.type==="mssql"?new wi(e.identifier,"nvarchar"):e.identifier}).getRawOne():e.query?this.connection.driver.options.type==="oracle"?i.where("dbms_lob.compare(".concat(i.escape("cache"),".").concat(i.escape("query"),", :query) = 0"),{query:e.query}).getRawOne():i.where("".concat(i.escape("cache"),".").concat(i.escape("query")," = :query")).setParameters({query:this.connection.driver.options.type==="mssql"?new wi(e.query,"nvarchar"):e.query}).getRawOne():Promise.resolve(void 0)}isExpired(e){const t=typeof e.duration=="string"?parseInt(e.duration):e.duration;return(typeof e.time=="string"?parseInt(e.time):e.time)+t<new Date().getTime()}async storeInCache(e,t,i){const r=i===void 0||(i==null?void 0:i.getReplicationMode())==="slave";(i===void 0||r)&&(i=this.connection.createQueryRunner("master"));let s=e;if(this.connection.driver.options.type==="mssql"&&(s={identifier:new wi(e.identifier,"nvarchar"),time:new wi(e.time,"bigint"),duration:new wi(e.duration,"int"),query:new wi(e.query,"nvarchar"),result:new wi(e.result,"nvarchar")}),t&&t.identifier){const o=i.manager.createQueryBuilder().update(this.queryResultCacheTable).set(s);o.where("".concat(o.escape("identifier")," = :condition"),{condition:s.identifier}),await o.execute()}else if(t&&t.query){const o=i.manager.createQueryBuilder().update(this.queryResultCacheTable).set(s);this.connection.driver.options.type==="oracle"?o.where('dbms_lob.compare("query", :condition) = 0',{condition:s.query}):o.where("".concat(o.escape("query")," = :condition"),{condition:s.query}),await o.execute()}else this.connection.driver.options.type==="spanner"&&!s.id&&(s.id=sF()),await i.manager.createQueryBuilder().insert().into(this.queryResultCacheTable).values(s).execute();r&&await i.release()}async clear(e){return this.getQueryRunner(e).clearTable(this.queryResultCacheTable)}async remove(e,t){let i=t||this.getQueryRunner();await Promise.all(e.map(r=>{const s=i.manager.createQueryBuilder();return s.delete().from(this.queryResultCacheTable).where("".concat(s.escape("identifier")," = :identifier"),{identifier:r}).execute()})),t||await i.release()}getQueryRunner(e){return e||this.connection.createQueryRunner()}}class ww{constructor(e){this.connection=e}create(){if(!this.connection.options.cache)throw new _("To use cache you need to enable it in connection options by setting cache: true or providing some caching options. Example: { host: ..., username: ..., cache: true }");const e=this.connection.options.cache;return e.provider&&typeof e.provider=="function"?e.provider(this.connection):e.type==="redis"||e.type==="ioredis"||e.type==="ioredis/cluster"?new eF(this.connection,e.type):new oF(this.connection)}}class aF{constructor(e){this.connection=e}load(e,t,i,r){return i&&i.isReleased&&(i=void 0),e.isManyToOne||e.isOneToOneOwner?this.loadManyToOneOrOneToOneOwner(e,t,i,r):e.isOneToMany||e.isOneToOneNotOwner?this.loadOneToManyOrOneToOneNotOwner(e,t,i,r):e.isManyToManyOwner?this.loadManyToManyOwner(e,t,i,r):this.loadManyToManyNotOwner(e,t,i,r)}loadManyToOneOrOneToOneOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=e.entityMetadata.name,a=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),l=a.expressionMap.mainAlias.name,c=e.entityMetadata.primaryColumns,d=(e.isOwning?e.joinColumns:e.inverseRelation.joinColumns).map(h=>"".concat(e.entityMetadata.name,".").concat(h.propertyName," = ").concat(l,".").concat(h.referencedColumn.propertyName)).join(" AND ");if(a.innerJoin(e.entityMetadata.target,o,d),c.length===1)a.where("".concat(o,".").concat(c[0].propertyPath," IN (:...").concat(o+"_"+c[0].propertyName,")")),a.setParameter(o+"_"+c[0].propertyName,s.map(h=>c[0].getEntityValue(h,!0)));else{const h=s.map((p,y)=>c.map((v,S)=>{const E=o+"_entity_"+y+"_"+S;return a.setParameter(E,v.getEntityValue(p,!0)),o+"."+v.propertyPath+" = :"+E}).join(" AND ")).map(p=>"("+p+")").join(" OR ");a.where(h)}return cn.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadOneToManyOrOneToOneNotOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=e.inverseRelation.joinColumns,a=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.inverseRelation.entityMetadata.target,e.propertyName),l=a.expressionMap.mainAlias.name;if(o.length===1)a.where("".concat(l,".").concat(o[0].propertyPath," IN (:...").concat(l+"_"+o[0].propertyName,")")),a.setParameter(l+"_"+o[0].propertyName,s.map(c=>o[0].referencedColumn.getEntityValue(c,!0)));else{const c=s.map((u,d)=>o.map((h,p)=>{const y=l+"_entity_"+d+"_"+p;return a.setParameter(y,h.referencedColumn.getEntityValue(u,!0)),l+"."+h.propertyPath+" = :"+y}).join(" AND ")).map(u=>"("+u+")").join(" OR ");a.where(c)}return cn.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadManyToManyOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=e.joinColumns.reduce((h,p)=>(h[p.propertyName]=s.map(y=>p.referencedColumn.getEntityValue(y,!0)),h),{}),a=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),l=a.expressionMap.mainAlias.name,c=e.junctionEntityMetadata.tableName,u=e.joinColumns.map(h=>"".concat(c,".").concat(h.propertyName," IN (:...").concat(h.propertyName,")")),d=e.inverseJoinColumns.map(h=>"".concat(c,".").concat(h.propertyName,"=").concat(l,".").concat(h.referencedColumn.propertyName));return a.innerJoin(c,c,[...u,...d].join(" AND ")).setParameters(o),cn.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}loadManyToManyNotOwner(e,t,i,r){const s=Array.isArray(t)?t:[t],o=r||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),a=o.expressionMap.mainAlias.name,l=e.junctionEntityMetadata.tableName,c=e.inverseRelation.joinColumns.map(h=>"".concat(l,".").concat(h.propertyName," = ").concat(a,".").concat(h.referencedColumn.propertyName)),u=e.inverseRelation.inverseJoinColumns.map(h=>"".concat(l,".").concat(h.propertyName," IN (:...").concat(h.propertyName,")")),d=e.inverseRelation.inverseJoinColumns.reduce((h,p)=>(h[p.propertyName]=s.map(y=>p.referencedColumn.getEntityValue(y,!0)),h),{});return o.innerJoin(l,l,[...c,...u].join(" AND ")).setParameters(d),cn.joinEagerRelations(o,o.alias,o.expressionMap.mainAlias.metadata),o.getMany()}enableLazyLoad(e,t,i){const r=this,s="__"+e.propertyName+"__",o="__promise_"+e.propertyName+"__",a="__has_"+e.propertyName+"__",l=(u,d)=>(u[s]=d,u[a]=!0,delete u[o],d),c=(u,d)=>(delete u[a],delete u[s],u[o]=d,d.then(h=>u[o]===d?l(u,h):h),d);Object.defineProperty(t,e.propertyName,{get:function(){if(this[a]===!0||this[s]!==void 0)return Promise.resolve(this[s]);if(this[o])return this[o];const u=r.load(e,this,i).then(d=>e.isOneToOne||e.isManyToOne?d.length===0?null:d[0]:d);return c(this,u)},set:function(u){u instanceof Promise?c(this,u):l(this,u)},configurable:!0,enumerable:!1})}}class Ew{constructor(e){this["@instanceof"]=Symbol.for("DataSource"),this.migrations=[],this.subscribers=[],this.entityMetadatas=[],this.entityMetadatasMap=new Map,this.name=e.name||"default",this.options=e,this.logger=new bw().create(this.options.logger,this.options.logging),this.driver=new k6().create(this),this.manager=this.createEntityManager(),this.namingStrategy=e.namingStrategy||new GB,this.metadataTableName=e.metadataTableName||"typeorm_metadata",this.queryResultCache=e.cache?new ww(this).create():void 0,this.relationLoader=new aF(this),this.relationIdLoader=new VC(this),this.isInitialized=!1}get isConnected(){return this.isInitialized}get mongoManager(){if(!U.isMongoEntityManager(this.manager))throw new _("MongoEntityManager is only available for MongoDB databases.");return this.manager}get sqljsManager(){if(!U.isSqljsEntityManager(this.manager))throw new _("SqljsEntityManager is only available for Sqljs databases.");return this.manager}setOptions(e){return Object.assign(this.options,e),(e.logger||e.logging)&&(this.logger=new bw().create(e.logger||this.options.logger,e.logging||this.options.logging)),e.namingStrategy&&(this.namingStrategy=e.namingStrategy),e.cache&&(this.queryResultCache=new ww(this).create()),e.database&&(this.driver.database=me.buildDriverOptions(this.options).database),this}async initialize(){if(this.isInitialized)throw new KB(this.name);await this.driver.connect(),this.queryResultCache&&await this.queryResultCache.connect(),Be.assign(this,{isInitialized:!0});try{await this.buildMetadatas(),await this.driver.afterConnect(),this.options.dropSchema&&await this.dropDatabase(),this.options.migrationsRun&&await this.runMigrations({transaction:this.options.migrationsTransactionMode}),this.options.synchronize&&await this.synchronize()}catch(e){throw await this.destroy(),e}return this}async connect(){return this.initialize()}async destroy(){if(!this.isInitialized)throw new Da(this.name);await this.driver.disconnect(),this.queryResultCache&&await this.queryResultCache.disconnect(),Be.assign(this,{isInitialized:!1})}async close(){return this.destroy()}async synchronize(e=!1){if(!this.isInitialized)throw new Da(this.name);e&&await this.dropDatabase(),await this.driver.createSchemaBuilder().build()}async dropDatabase(){const e=this.createQueryRunner();try{if(this.driver.options.type==="mssql"||me.isMySQLFamily(this.driver)||this.driver.options.type==="aurora-mysql"||me.isSQLiteFamily(this.driver)){const t=[];if(this.entityMetadatas.forEach(i=>{i.database&&t.indexOf(i.database)===-1&&t.push(i.database)}),t.length===0&&this.driver.database&&t.push(this.driver.database),t.length===0)await e.clearDatabase();else for(const i of t)await e.clearDatabase(i)}else await e.clearDatabase()}finally{await e.release()}}async runMigrations(e){if(!this.isInitialized)throw new Da(this.name);const t=new Kp(this);return t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1,await t.executePendingMigrations()}async undoLastMigration(e){if(!this.isInitialized)throw new Da(this.name);const t=new Kp(this);t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1,await t.undoLastMigration()}async showMigrations(){if(!this.isInitialized)throw new Da(this.name);return await new Kp(this).showMigrations()}hasMetadata(e){return!!this.findMetadata(e)}getMetadata(e){const t=this.findMetadata(e);if(!t)throw new e3(e);return t}getRepository(e){return this.manager.getRepository(e)}getTreeRepository(e){return this.manager.getTreeRepository(e)}getMongoRepository(e){if(this.driver.options.type!=="mongodb")throw new _("You can use getMongoRepository only for MongoDB connections.");return this.manager.getRepository(e)}getCustomRepository(e){return this.manager.getCustomRepository(e)}async transaction(e,t){return this.manager.transaction(e,t)}async query(e,t,i){if(U.isMongoEntityManager(this.manager))throw new _("Queries aren't supported by MongoDB.");if(i&&i.isReleased)throw new MC;const r=i||this.createQueryRunner();try{return await r.query(e,t)}finally{i||await r.release()}}createQueryBuilder(e,t,i){if(U.isMongoEntityManager(this.manager))throw new _("Query Builder is not supported by MongoDB.");if(t){t=me.buildAlias(this.driver,void 0,t);const r=this.getMetadata(e);return new wd(this,i).select(t).from(r.target,t)}else return new wd(this,e)}createQueryRunner(e="master"){const t=this.driver.createQueryRunner(e),i=this.createEntityManager(t);return Object.assign(t,{manager:i}),t}getManyToManyMetadata(e,t){const i=this.getMetadata(e).findRelationWithPropertyPath(t);if(!i)throw new _('Relation "'.concat(t,'" was not found in ').concat(e," entity."));if(!i.isManyToMany)throw new _('Relation "'.concat(e,"#").concat(t,'" does not have a many-to-many relationship.')+"You can use this method only on many-to-many relations.");return i.junctionEntityMetadata}createEntityManager(e){return new o6().create(this,e)}findMetadata(e){const t=this.entityMetadatasMap.get(e);if(t)return t;for(let[i,r]of this.entityMetadatasMap){if(U.isEntitySchema(e)&&r.name===e.options.name)return r;if(typeof e=="string"){if(e.indexOf(".")!==-1){if(r.tablePath===e)return r}else if(r.name===e||r.tableName===e)return r}if(Be.isObjectWithName(e)&&typeof e.name=="string"){if(e.name.indexOf(".")!==-1){if(r.tablePath===e.name)return r}else if(r.name===e.name||r.tableName===e.name)return r}}}async buildMetadatas(){const e=new L6(this),t=new v3,i=Be.mixedListToArray(this.options.subscribers||[]),r=await e.buildSubscribers(i);Be.assign(this,{subscribers:r});const s=Be.mixedListToArray(this.options.entities||[]),o=await e.buildEntityMetadatas(s);Be.assign(this,{entityMetadatas:o,entityMetadatasMap:new Map(o.map(c=>[c.target,c]))});const a=Be.mixedListToArray(this.options.migrations||[]),l=await e.buildMigrations(a);Be.assign(this,{migrations:l}),t.validateMany(this.entityMetadatas.filter(c=>c.tableType!=="view"),this.driver);for(let c of o)U.isBaseEntityConstructor(c.target)&&c.target.useDataSource(this)}}function Ni(){const n=lt.getGlobalVariable();return n.typeormMetadataArgsStorage||(n.typeormMetadataArgsStorage=new xC),n.typeormMetadataArgsStorage}function xy(n,e){return function(t,i){let r;typeof n=="string"||typeof n=="function"?r=n:n&&(e=n,r=n.type),e||(e={});const s=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",t,i):void 0;if(!r&&s&&(r=s),!e.type&&r&&(e.type=r),e.type==="hstore"&&!e.hstoreType&&(e.hstoreType=s===Object?"object":"string"),typeof n=="function")Ni().embeddeds.push({target:t.constructor,propertyName:i,isArray:s===Array||e.array===!0,prefix:e.prefix!==void 0?e.prefix:void 0,type:n});else{if(!e.type)throw new _C(t,i);e.unique===!0&&Ni().uniques.push({target:t.constructor,columns:[i]}),Ni().columns.push({target:t.constructor,propertyName:i,mode:"regular",options:e}),e.generated&&Ni().generations.push({target:t.constructor,propertyName:i,strategy:typeof e.generated=="string"?e.generated:"increment"})}}}function HC(n,e){return function(t,i){let r;typeof n=="string"||n===String||n===Boolean||n===Number?r=n:e=Object.assign({},n),e||(e={});const s=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",t,i):void 0;if(!r&&s&&(r=s),!e.type&&r&&(e.type=r),!e.type)throw new _C(t,i);if(e.nullable)throw new n3(t,i);e.primary=!0,Ni().columns.push({target:t.constructor,propertyName:i,mode:"regular",options:e}),e.generated&&Ni().generations.push({target:t.constructor,propertyName:i,strategy:typeof e.generated=="string"?e.generated:"increment"})}}function WC(n,e){const t=(Be.isObject(n)?n:e)||{},i=typeof n=="string"?n:t.name;return function(r){Ni().tables.push({target:r,name:i,type:"regular",orderBy:t.orderBy?t.orderBy:void 0,engine:t.engine?t.engine:void 0,database:t.database?t.database:void 0,schema:t.schema?t.schema:void 0,synchronize:t.synchronize,withoutRowid:t.withoutRowid})}}var lF=Object.defineProperty,cF=Object.getOwnPropertyDescriptor,Rh=(n,e,t,i)=>{for(var r=i>1?void 0:i?cF(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&lF(e,t,r),r};let yr=class{constructor(){sr(this,"id");sr(this,"isActive");sr(this,"file")}};Rh([HC({type:"varchar"})],yr.prototype,"id",2);Rh([xy({type:"boolean"})],yr.prototype,"isActive",2);Rh([xy({type:"blob",length:255})],yr.prototype,"file",2);yr=Rh([WC("test")],yr);var uF=Object.defineProperty,dF=Object.getOwnPropertyDescriptor,Ty=(n,e,t,i)=>{for(var r=i>1?void 0:i?dF(e,t):e,s=n.length-1,o;s>=0;s--)(o=n[s])&&(r=(i?o(e,t,r):o(r))||r);return i&&r&&uF(e,t,r),r};let Qo=class{constructor(){sr(this,"id");sr(this,"store")}};Ty([HC({type:"varchar"})],Qo.prototype,"id",2);Ty([xy({type:"text"})],Qo.prototype,"store",2);Qo=Ty([WC("state")],Qo);class hF{async up(e){await e.query('\n            CREATE TABLE "test" (\n                "id" integer PRIMARY KEY NOT NULL,\n                "isActive" boolean NOT NULL,\n                "file" blob NOT NULL\n            )\n        ')}async down(e){await e.query('\n            DROP TABLE "test"\n        ')}}class pF{async up(e){await e.query('\n            CREATE TABLE "state" (\n                "id" text PRIMARY KEY NOT NULL,\n                "store" text NOT NULL\n            )\n        ')}async down(e){await e.query('\n            DROP TABLE "state"\n        ')}}var QC={exports:{}};const fF={},mF=Object.freeze(Object.defineProperty({__proto__:null,default:fF},Symbol.toStringTag,{value:"Module"})),eu=YN(mF);(function(n,e){var t=void 0,i=function(r){return t||(t=new Promise(function(s,o){var a=typeof r<"u"?r:{},l=a.onAbort;a.onAbort=function(f){o(new Error(f)),l&&l(f)},a.postRun=a.postRun||[],a.postRun.push(function(){s(a)}),n=void 0;var c;c||(c=typeof a<"u"?a:{}),c.onRuntimeInitialized=function(){function f(V,ce){switch(typeof ce){case"boolean":HN(V,ce?1:0);break;case"number":jN(V,ce);break;case"string":zN(V,ce,-1,-1);break;case"object":if(ce===null)Yy(V);else if(ce.length!=null){var Se=Jh(ce);VN(V,Se,ce.length,-1),vc(Se)}else Ec(V,"Wrong API use : tried to return a value of an unknown type ("+ce+").",-1);break;default:Yy(V)}}function g(V,ce){for(var Se=[],Pe=0;Pe<V;Pe+=1){var qe=jt(ce+4*Pe,"i32"),Je=LN(qe);if(Je===1||Je===2)qe=UN(qe);else if(Je===3)qe=BN(qe);else if(Je===4){Je=qe,qe=qN(Je),Je=FN(Je);for(var Fi=new Uint8Array(qe),_n=0;_n<qe;_n+=1)Fi[_n]=de[Je+_n];qe=Fi}else qe=null;Se.push(qe)}return Se}function x(V,ce){this.La=V,this.db=ce,this.Ja=1,this.fb=[]}function A(V,ce){if(this.db=ce,ce=ue(V)+1,this.Ya=bc(ce),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");ne(V,Z,this.Ya,ce),this.eb=this.Ya,this.Ua=this.ib=null}function I(V){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),V!=null){var ce=this.filename,Se="/",Pe=ce;if(Se&&(Se=typeof Se=="string"?Se:cs(Se),Pe=ce?z(Se+"/"+ce):Se),ce=Ly(!0,!0),Pe=Ks(Pe,(ce!==void 0?ce:438)&4095|32768,0),V){if(typeof V=="string"){Se=Array(V.length);for(var qe=0,Je=V.length;qe<Je;++qe)Se[qe]=V.charCodeAt(qe);V=Se}us(Pe,ce|146),Se=ds(Pe,577),Et(Se,V,0,V.length,0),G(Se),us(Pe,ce)}}this.handleError(Oe(this.filename,X)),this.db=jt(X,"i32"),WN(this.db),this.Za={},this.Na={}}var X=Pr(4),re=c.cwrap,Oe=re("sqlite3_open","number",["string","number"]),Ge=re("sqlite3_close_v2","number",["number"]),ze=re("sqlite3_exec","number",["number","string","number","number","number"]),Nt=re("sqlite3_changes","number",["number"]),rr=re("sqlite3_prepare_v2","number",["number","string","number","number","number"]),Hy=re("sqlite3_sql","string",["number"]),wN=re("sqlite3_normalized_sql","string",["number"]),Wy=re("sqlite3_prepare_v2","number",["number","number","number","number","number"]),EN=re("sqlite3_bind_text","number",["number","number","number","number","number"]),Qy=re("sqlite3_bind_blob","number",["number","number","number","number","number"]),xN=re("sqlite3_bind_double","number",["number","number","number"]),TN=re("sqlite3_bind_int","number",["number","number","number"]),CN=re("sqlite3_bind_parameter_index","number",["number","string"]),SN=re("sqlite3_step","number",["number"]),NN=re("sqlite3_errmsg","string",["number"]),AN=re("sqlite3_column_count","number",["number"]),kN=re("sqlite3_data_count","number",["number"]),RN=re("sqlite3_column_double","number",["number","number"]),Gy=re("sqlite3_column_text","string",["number","number"]),$N=re("sqlite3_column_blob","number",["number","number"]),PN=re("sqlite3_column_bytes","number",["number","number"]),ON=re("sqlite3_column_type","number",["number","number"]),IN=re("sqlite3_column_name","string",["number","number"]),MN=re("sqlite3_reset","number",["number"]),_N=re("sqlite3_clear_bindings","number",["number"]),DN=re("sqlite3_finalize","number",["number"]),Ky=re("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),LN=re("sqlite3_value_type","number",["number"]),qN=re("sqlite3_value_bytes","number",["number"]),BN=re("sqlite3_value_text","string",["number"]),FN=re("sqlite3_value_blob","number",["number"]),UN=re("sqlite3_value_double","number",["number"]),jN=re("sqlite3_result_double","",["number","number"]),Yy=re("sqlite3_result_null","",["number"]),zN=re("sqlite3_result_text","",["number","string","number","number"]),VN=re("sqlite3_result_blob","",["number","number","number","number"]),HN=re("sqlite3_result_int","",["number","number"]),Ec=re("sqlite3_result_error","",["number","string","number"]),Jy=re("sqlite3_aggregate_context","number",["number","number"]),WN=re("RegisterExtensionFunctions","number",["number"]);x.prototype.bind=function(V){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(V)?this.xb(V):V!=null&&typeof V=="object"?this.yb(V):!0},x.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var V=SN(this.La);switch(V){case 100:return!0;case 101:return!1;default:throw this.db.handleError(V)}},x.prototype.sb=function(V){return V==null&&(V=this.Ja,this.Ja+=1),RN(this.La,V)},x.prototype.Cb=function(V){if(V==null&&(V=this.Ja,this.Ja+=1),V=Gy(this.La,V),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(V)},x.prototype.Db=function(V){return V==null&&(V=this.Ja,this.Ja+=1),Gy(this.La,V)},x.prototype.getBlob=function(V){V==null&&(V=this.Ja,this.Ja+=1);var ce=PN(this.La,V);V=$N(this.La,V);for(var Se=new Uint8Array(ce),Pe=0;Pe<ce;Pe+=1)Se[Pe]=de[V+Pe];return Se},x.prototype.get=function(V,ce){ce=ce||{},V!=null&&this.bind(V)&&this.step(),V=[];for(var Se=kN(this.La),Pe=0;Pe<Se;Pe+=1)switch(ON(this.La,Pe)){case 1:var qe=ce.useBigInt?this.Cb(Pe):this.sb(Pe);V.push(qe);break;case 2:V.push(this.sb(Pe));break;case 3:V.push(this.Db(Pe));break;case 4:V.push(this.getBlob(Pe));break;default:V.push(null)}return V},x.prototype.getColumnNames=function(){for(var V=[],ce=AN(this.La),Se=0;Se<ce;Se+=1)V.push(IN(this.La,Se));return V},x.prototype.getAsObject=function(V,ce){V=this.get(V,ce),ce=this.getColumnNames();for(var Se={},Pe=0;Pe<ce.length;Pe+=1)Se[ce[Pe]]=V[Pe];return Se},x.prototype.getSQL=function(){return Hy(this.La)},x.prototype.getNormalizedSQL=function(){return wN(this.La)},x.prototype.run=function(V){return V!=null&&this.bind(V),this.step(),this.reset()},x.prototype.nb=function(V,ce){ce==null&&(ce=this.Ja,this.Ja+=1),V=b(V);var Se=Jh(V);this.fb.push(Se),this.db.handleError(EN(this.La,ce,Se,V.length-1,0))},x.prototype.wb=function(V,ce){ce==null&&(ce=this.Ja,this.Ja+=1);var Se=Jh(V);this.fb.push(Se),this.db.handleError(Qy(this.La,ce,Se,V.length,0))},x.prototype.mb=function(V,ce){ce==null&&(ce=this.Ja,this.Ja+=1),this.db.handleError((V===(V|0)?TN:xN)(this.La,ce,V))},x.prototype.zb=function(V){V==null&&(V=this.Ja,this.Ja+=1),Qy(this.La,V,0,0,0)},x.prototype.ob=function(V,ce){switch(ce==null&&(ce=this.Ja,this.Ja+=1),typeof V){case"string":this.nb(V,ce);return;case"number":this.mb(V,ce);return;case"bigint":this.nb(V.toString(),ce);return;case"boolean":this.mb(V+0,ce);return;case"object":if(V===null){this.zb(ce);return}if(V.length!=null){this.wb(V,ce);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+V+")."},x.prototype.yb=function(V){var ce=this;return Object.keys(V).forEach(function(Se){var Pe=CN(ce.La,Se);Pe!==0&&ce.ob(V[Se],Pe)}),!0},x.prototype.xb=function(V){for(var ce=0;ce<V.length;ce+=1)this.ob(V[ce],ce+1);return!0},x.prototype.reset=function(){return this.freemem(),_N(this.La)===0&&MN(this.La)===0},x.prototype.freemem=function(){for(var V;(V=this.fb.pop())!==void 0;)vc(V)},x.prototype.free=function(){this.freemem();var V=DN(this.La)===0;return delete this.db.Za[this.La],this.La=0,V},A.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var V=xa(),ce=Pr(4);Rt(X),Rt(ce);try{this.db.handleError(Wy(this.db.db,this.eb,-1,X,ce)),this.eb=jt(ce,"i32");var Se=jt(X,"i32");return Se===0?(this.gb(),{done:!0}):(this.Ua=new x(Se,this.db),this.db.Za[Se]=this.Ua,{value:this.Ua,done:!1})}catch(Pe){throw this.ib=j(this.eb),this.gb(),Pe}finally{Ta(V)}},A.prototype.gb=function(){vc(this.Ya),this.Ya=null},A.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:j(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(A.prototype[Symbol.iterator]=function(){return this}),I.prototype.run=function(V,ce){if(!this.db)throw"Database closed";if(ce){V=this.prepare(V,ce);try{V.step()}finally{V.free()}}else this.handleError(ze(this.db,V,0,0,X));return this},I.prototype.exec=function(V,ce,Se){if(!this.db)throw"Database closed";var Pe=xa(),qe=null;try{var Je=ue(V)+1,Fi=Pr(Je);ne(V,de,Fi,Je);var _n=Fi,Yn=Pr(4);for(V=[];jt(_n,"i8")!==0;){Rt(X),Rt(Yn),this.handleError(Wy(this.db,_n,-1,X,Yn));var Jn=jt(X,"i32");if(_n=jt(Yn,"i32"),Jn!==0){for(Je=null,qe=new x(Jn,this),ce!=null&&qe.bind(ce);qe.step();)Je===null&&(Je={columns:qe.getColumnNames(),values:[]},V.push(Je)),Je.values.push(qe.get(null,Se));qe.free()}}return V}catch(Ca){throw qe&&qe.free(),Ca}finally{Ta(Pe)}},I.prototype.each=function(V,ce,Se,Pe,qe){typeof ce=="function"&&(Pe=Se,Se=ce,ce=void 0),V=this.prepare(V,ce);try{for(;V.step();)Se(V.getAsObject(null,qe))}finally{V.free()}if(typeof Pe=="function")return Pe()},I.prototype.prepare=function(V,ce){if(Rt(X),this.handleError(rr(this.db,V,-1,X,0)),V=jt(X,"i32"),V===0)throw"Nothing to prepare";var Se=new x(V,this);return ce!=null&&Se.bind(ce),this.Za[V]=Se},I.prototype.iterateStatements=function(V){return new A(V,this)},I.prototype.export=function(){Object.values(this.Za).forEach(function(ce){ce.free()}),Object.values(this.Na).forEach(Ea),this.Na={},this.handleError(Ge(this.db));var V=qt(this.filename);return this.handleError(Oe(this.filename,X)),this.db=jt(X,"i32"),V},I.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(V){V.free()}),Object.values(this.Na).forEach(Ea),this.Na={},this.handleError(Ge(this.db)),dc("/"+this.filename),this.db=null)},I.prototype.handleError=function(V){if(V===0)return null;throw V=NN(this.db),Error(V)},I.prototype.getRowsModified=function(){return Nt(this.db)},I.prototype.create_function=function(V,ce){Object.prototype.hasOwnProperty.call(this.Na,V)&&(Ea(this.Na[V]),delete this.Na[V]);var Se=Yh(function(Pe,qe,Je){qe=g(qe,Je);try{var Fi=ce.apply(null,qe)}catch(_n){Ec(Pe,_n,-1);return}f(Pe,Fi)},"viii");return this.Na[V]=Se,this.handleError(Ky(this.db,V,ce.length,1,0,Se,0,0,0)),this},I.prototype.create_aggregate=function(V,ce){var Se=ce.init||function(){return null},Pe=ce.finalize||function(Yn){return Yn},qe=ce.step;if(!qe)throw"An aggregate function must have a step function in "+V;var Je={};Object.hasOwnProperty.call(this.Na,V)&&(Ea(this.Na[V]),delete this.Na[V]),ce=V+"__finalize",Object.hasOwnProperty.call(this.Na,ce)&&(Ea(this.Na[ce]),delete this.Na[ce]);var Fi=Yh(function(Yn,Jn,Ca){var ps=Jy(Yn,1);Object.hasOwnProperty.call(Je,ps)||(Je[ps]=Se()),Jn=g(Jn,Ca),Jn=[Je[ps]].concat(Jn);try{Je[ps]=qe.apply(null,Jn)}catch(QN){delete Je[ps],Ec(Yn,QN,-1)}},"viii"),_n=Yh(function(Yn){var Jn=Jy(Yn,1);try{var Ca=Pe(Je[Jn])}catch(ps){delete Je[Jn],Ec(Yn,ps,-1);return}f(Yn,Ca),delete Je[Jn]},"vi");return this.Na[V]=Fi,this.Na[ce]=_n,this.handleError(Ky(this.db,V,qe.length-1,1,0,0,Fi,_n,0)),this},c.Database=I};var u=Object.assign({},c),d="./this.program",h=typeof window=="object",p=typeof importScripts=="function",y=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v="",S,E,w,C,P,q;y?(v=p?eu.dirname(v)+"/":__dirname+"/",q=()=>{P||(C=eu,P=eu)},S=function(f,g){return q(),f=P.normalize(f),C.readFileSync(f,g?void 0:"utf8")},w=f=>(f=S(f,!0),f.buffer||(f=new Uint8Array(f)),f),E=(f,g,x)=>{q(),f=P.normalize(f),C.readFile(f,function(A,I){A?x(A):g(I.buffer)})},1<process.argv.length&&(d=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),n.exports=c,c.inspect=function(){return"[Emscripten Module object]"}):(h||p)&&(p?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),v=v.indexOf("blob:")!==0?v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):"",S=f=>{var g=new XMLHttpRequest;return g.open("GET",f,!1),g.send(null),g.responseText},p&&(w=f=>{var g=new XMLHttpRequest;return g.open("GET",f,!1),g.responseType="arraybuffer",g.send(null),new Uint8Array(g.response)}),E=(f,g,x)=>{var A=new XMLHttpRequest;A.open("GET",f,!0),A.responseType="arraybuffer",A.onload=()=>{A.status==200||A.status==0&&A.response?g(A.response):x()},A.onerror=x,A.send(null)});var H=c.print||console.log.bind(console),L=c.printErr||console.warn.bind(console);Object.assign(c,u),u=null,c.thisProgram&&(d=c.thisProgram);var M;c.wasmBinary&&(M=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&Lt("no native wasm support detected");var O,Q=!1,k=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function J(f,g,x){var A=g+x;for(x=g;f[x]&&!(x>=A);)++x;if(16<x-g&&f.buffer&&k)return k.decode(f.subarray(g,x));for(A="";g<x;){var I=f[g++];if(I&128){var X=f[g++]&63;if((I&224)==192)A+=String.fromCharCode((I&31)<<6|X);else{var re=f[g++]&63;I=(I&240)==224?(I&15)<<12|X<<6|re:(I&7)<<18|X<<12|re<<6|f[g++]&63,65536>I?A+=String.fromCharCode(I):(I-=65536,A+=String.fromCharCode(55296|I>>10,56320|I&1023))}}else A+=String.fromCharCode(I)}return A}function j(f,g){return f?J(Z,f,g):""}function ne(f,g,x,A){if(!(0<A))return 0;var I=x;A=x+A-1;for(var X=0;X<f.length;++X){var re=f.charCodeAt(X);if(55296<=re&&57343>=re){var Oe=f.charCodeAt(++X);re=65536+((re&1023)<<10)|Oe&1023}if(127>=re){if(x>=A)break;g[x++]=re}else{if(2047>=re){if(x+1>=A)break;g[x++]=192|re>>6}else{if(65535>=re){if(x+2>=A)break;g[x++]=224|re>>12}else{if(x+3>=A)break;g[x++]=240|re>>18,g[x++]=128|re>>12&63}g[x++]=128|re>>6&63}g[x++]=128|re&63}}return g[x]=0,x-I}function ue(f){for(var g=0,x=0;x<f.length;++x){var A=f.charCodeAt(x);127>=A?g++:2047>=A?g+=2:55296<=A&&57343>=A?(g+=4,++x):g+=3}return g}var fe,de,Z,ie,B,K,ae,Te;function Ee(){var f=O.buffer;fe=f,c.HEAP8=de=new Int8Array(f),c.HEAP16=ie=new Int16Array(f),c.HEAP32=B=new Int32Array(f),c.HEAPU8=Z=new Uint8Array(f),c.HEAPU16=new Uint16Array(f),c.HEAPU32=K=new Uint32Array(f),c.HEAPF32=ae=new Float32Array(f),c.HEAPF64=Te=new Float64Array(f)}var Ce,ke=[],Ie=[],ht=[];function wt(){var f=c.preRun.shift();ke.unshift(f)}var mn=0,tn=null;function Lt(f){throw c.onAbort&&c.onAbort(f),f="Aborted("+f+")",L(f),Q=!0,new WebAssembly.RuntimeError(f+". Build with -sASSERTIONS for more info.")}function In(){return pt.startsWith("data:application/octet-stream;base64,")}var pt;if(pt="sql-wasm.wasm",!In()){var nr=pt;pt=c.locateFile?c.locateFile(nr,v):v+nr}function Ar(){var f=pt;try{if(f==pt&&M)return new Uint8Array(M);if(w)return w(f);throw"both async and sync fetching of the wasm failed"}catch(g){Lt(g)}}function ir(){if(!M&&(h||p)){if(typeof fetch=="function"&&!pt.startsWith("file://"))return fetch(pt,{credentials:"same-origin"}).then(function(f){if(!f.ok)throw"failed to load wasm binary file at '"+pt+"'";return f.arrayBuffer()}).catch(function(){return Ar()});if(E)return new Promise(function(f,g){E(pt,function(x){f(new Uint8Array(x))},g)})}return Promise.resolve().then(function(){return Ar()})}var Re,et;function Li(f){for(;0<f.length;)f.shift()(c)}function jt(f,g="i8"){switch(g.endsWith("*")&&(g="*"),g){case"i1":return de[f>>0];case"i8":return de[f>>0];case"i16":return ie[f>>1];case"i32":return B[f>>2];case"i64":return B[f>>2];case"float":return ae[f>>2];case"double":return Te[f>>3];case"*":return K[f>>2];default:Lt("invalid type for getValue: "+g)}return null}function Rt(f){var g="i32";switch(g.endsWith("*")&&(g="*"),g){case"i1":de[f>>0]=0;break;case"i8":de[f>>0]=0;break;case"i16":ie[f>>1]=0;break;case"i32":B[f>>2]=0;break;case"i64":et=[0,(Re=0,1<=+Math.abs(Re)?0<Re?(Math.min(+Math.floor(Re/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Re-+(~~Re>>>0))/4294967296)>>>0:0)],B[f>>2]=et[0],B[f+4>>2]=et[1];break;case"float":ae[f>>2]=0;break;case"double":Te[f>>3]=0;break;case"*":K[f>>2]=0;break;default:Lt("invalid type for setValue: "+g)}}var Mn=(f,g)=>{for(var x=0,A=f.length-1;0<=A;A--){var I=f[A];I==="."?f.splice(A,1):I===".."?(f.splice(A,1),x++):x&&(f.splice(A,1),x--)}if(g)for(;x;x--)f.unshift("..");return f},z=f=>{var g=f.charAt(0)==="/",x=f.substr(-1)==="/";return(f=Mn(f.split("/").filter(A=>!!A),!g).join("/"))||g||(f="."),f&&x&&(f+="/"),(g?"/":"")+f},ee=f=>{var g=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(f).slice(1);return f=g[0],g=g[1],!f&&!g?".":(g&&(g=g.substr(0,g.length-1)),f+g)},le=f=>{if(f==="/")return"/";f=z(f),f=f.replace(/\/$/,"");var g=f.lastIndexOf("/");return g===-1?f:f.substr(g+1)};function T(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var f=new Uint8Array(1);return()=>(crypto.getRandomValues(f),f[0])}if(y)try{var g=eu;return()=>g.randomBytes(1)[0]}catch(x){}return()=>Lt("randomDevice")}function m(){for(var f="",g=!1,x=arguments.length-1;-1<=x&&!g;x--){if(g=0<=x?arguments[x]:"/",typeof g!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!g)return"";f=g+"/"+f,g=g.charAt(0)==="/"}return f=Mn(f.split("/").filter(A=>!!A),!g).join("/"),(g?"/":"")+f||"."}function b(f,g){var x=Array(ue(f)+1);return f=ne(f,x,0,x.length),g&&(x.length=f),x}var N=[];function $(f,g){N[f]={input:[],output:[],Xa:g},ga(f,D)}var D={open:function(f){var g=N[f.node.rdev];if(!g)throw new oe(43);f.tty=g,f.seekable=!1},close:function(f){f.tty.Xa.fsync(f.tty)},fsync:function(f){f.tty.Xa.fsync(f.tty)},read:function(f,g,x,A){if(!f.tty||!f.tty.Xa.tb)throw new oe(60);for(var I=0,X=0;X<A;X++){try{var re=f.tty.Xa.tb(f.tty)}catch(Oe){throw new oe(29)}if(re===void 0&&I===0)throw new oe(6);if(re==null)break;I++,g[x+X]=re}return I&&(f.node.timestamp=Date.now()),I},write:function(f,g,x,A){if(!f.tty||!f.tty.Xa.jb)throw new oe(60);try{for(var I=0;I<A;I++)f.tty.Xa.jb(f.tty,g[x+I])}catch(X){throw new oe(29)}return A&&(f.node.timestamp=Date.now()),I}},W={tb:function(f){if(!f.input.length){var g=null;if(y){var x=Buffer.alloc(256),A=0;try{A=C.readSync(process.stdin.fd,x,0,256,-1)}catch(I){if(I.toString().includes("EOF"))A=0;else throw I}0<A?g=x.slice(0,A).toString("utf-8"):g=null}else typeof window<"u"&&typeof window.prompt=="function"?(g=window.prompt("Input: "),g!==null&&(g+="\n")):typeof readline=="function"&&(g=readline(),g!==null&&(g+="\n"));if(!g)return null;f.input=b(g,!0)}return f.input.shift()},jb:function(f,g){g===null||g===10?(H(J(f.output,0)),f.output=[]):g!=0&&f.output.push(g)},fsync:function(f){f.output&&0<f.output.length&&(H(J(f.output,0)),f.output=[])}},ge={jb:function(f,g){g===null||g===10?(L(J(f.output,0)),f.output=[]):g!=0&&f.output.push(g)},fsync:function(f){f.output&&0<f.output.length&&(L(J(f.output,0)),f.output=[])}},ye={Qa:null,Ra:function(){return ye.createNode(null,"/",16895,0)},createNode:function(f,g,x,A){if((x&61440)===24576||(x&61440)===4096)throw new oe(63);return ye.Qa||(ye.Qa={dir:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa,lookup:ye.Ga.lookup,ab:ye.Ga.ab,rename:ye.Ga.rename,unlink:ye.Ga.unlink,rmdir:ye.Ga.rmdir,readdir:ye.Ga.readdir,symlink:ye.Ga.symlink},stream:{Ta:ye.Ha.Ta}},file:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa},stream:{Ta:ye.Ha.Ta,read:ye.Ha.read,write:ye.Ha.write,lb:ye.Ha.lb,bb:ye.Ha.bb,cb:ye.Ha.cb}},link:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa,readlink:ye.Ga.readlink},stream:{}},pb:{node:{Pa:ye.Ga.Pa,Oa:ye.Ga.Oa},stream:jh}}),x=ha(f,g,x,A),(x.mode&61440)===16384?(x.Ga=ye.Qa.dir.node,x.Ha=ye.Qa.dir.stream,x.Ia={}):(x.mode&61440)===32768?(x.Ga=ye.Qa.file.node,x.Ha=ye.Qa.file.stream,x.Ma=0,x.Ia=null):(x.mode&61440)===40960?(x.Ga=ye.Qa.link.node,x.Ha=ye.Qa.link.stream):(x.mode&61440)===8192&&(x.Ga=ye.Qa.pb.node,x.Ha=ye.Qa.pb.stream),x.timestamp=Date.now(),f&&(f.Ia[g]=x,f.timestamp=x.timestamp),x},Jb:function(f){return f.Ia?f.Ia.subarray?f.Ia.subarray(0,f.Ma):new Uint8Array(f.Ia):new Uint8Array(0)},qb:function(f,g){var x=f.Ia?f.Ia.length:0;x>=g||(g=Math.max(g,x*(1048576>x?2:1.125)>>>0),x!=0&&(g=Math.max(g,256)),x=f.Ia,f.Ia=new Uint8Array(g),0<f.Ma&&f.Ia.set(x.subarray(0,f.Ma),0))},Gb:function(f,g){if(f.Ma!=g)if(g==0)f.Ia=null,f.Ma=0;else{var x=f.Ia;f.Ia=new Uint8Array(g),x&&f.Ia.set(x.subarray(0,Math.min(g,f.Ma))),f.Ma=g}},Ga:{Pa:function(f){var g={};return g.dev=(f.mode&61440)===8192?f.id:1,g.ino=f.id,g.mode=f.mode,g.nlink=1,g.uid=0,g.gid=0,g.rdev=f.rdev,(f.mode&61440)===16384?g.size=4096:(f.mode&61440)===32768?g.size=f.Ma:(f.mode&61440)===40960?g.size=f.link.length:g.size=0,g.atime=new Date(f.timestamp),g.mtime=new Date(f.timestamp),g.ctime=new Date(f.timestamp),g.Ab=4096,g.blocks=Math.ceil(g.size/g.Ab),g},Oa:function(f,g){g.mode!==void 0&&(f.mode=g.mode),g.timestamp!==void 0&&(f.timestamp=g.timestamp),g.size!==void 0&&ye.Gb(f,g.size)},lookup:function(){throw ua[44]},ab:function(f,g,x,A){return ye.createNode(f,g,x,A)},rename:function(f,g,x){if((f.mode&61440)===16384){try{var A=Tn(g,x)}catch(X){}if(A)for(var I in A.Ia)throw new oe(55)}delete f.parent.Ia[f.name],f.parent.timestamp=Date.now(),f.name=x,g.Ia[x]=f,g.timestamp=f.parent.timestamp,f.parent=g},unlink:function(f,g){delete f.Ia[g],f.timestamp=Date.now()},rmdir:function(f,g){var x=Tn(f,g),A;for(A in x.Ia)throw new oe(55);delete f.Ia[g],f.timestamp=Date.now()},readdir:function(f){var g=[".",".."],x;for(x in f.Ia)f.Ia.hasOwnProperty(x)&&g.push(x);return g},symlink:function(f,g,x){return f=ye.createNode(f,g,41471,0),f.link=x,f},readlink:function(f){if((f.mode&61440)!==40960)throw new oe(28);return f.link}},Ha:{read:function(f,g,x,A,I){var X=f.node.Ia;if(I>=f.node.Ma)return 0;if(f=Math.min(f.node.Ma-I,A),8<f&&X.subarray)g.set(X.subarray(I,I+f),x);else for(A=0;A<f;A++)g[x+A]=X[I+A];return f},write:function(f,g,x,A,I,X){if(g.buffer===de.buffer&&(X=!1),!A)return 0;if(f=f.node,f.timestamp=Date.now(),g.subarray&&(!f.Ia||f.Ia.subarray)){if(X)return f.Ia=g.subarray(x,x+A),f.Ma=A;if(f.Ma===0&&I===0)return f.Ia=g.slice(x,x+A),f.Ma=A;if(I+A<=f.Ma)return f.Ia.set(g.subarray(x,x+A),I),A}if(ye.qb(f,I+A),f.Ia.subarray&&g.subarray)f.Ia.set(g.subarray(x,x+A),I);else for(X=0;X<A;X++)f.Ia[I+X]=g[x+X];return f.Ma=Math.max(f.Ma,I+A),A},Ta:function(f,g,x){if(x===1?g+=f.position:x===2&&(f.node.mode&61440)===32768&&(g+=f.node.Ma),0>g)throw new oe(28);return g},lb:function(f,g,x){ye.qb(f.node,g+x),f.node.Ma=Math.max(f.node.Ma,g+x)},bb:function(f,g,x,A,I){if((f.node.mode&61440)!==32768)throw new oe(43);if(f=f.node.Ia,I&2||f.buffer!==fe){if((0<x||x+g<f.length)&&(f.subarray?f=f.subarray(x,x+g):f=Array.prototype.slice.call(f,x,x+g)),x=!0,g=65536*Math.ceil(g/65536),(I=zy(65536,g))?(Z.fill(0,I,I+g),g=I):g=0,!g)throw new oe(48);de.set(f,g)}else x=!1,g=f.byteOffset;return{Fb:g,vb:x}},cb:function(f,g,x,A,I){if((f.node.mode&61440)!==32768)throw new oe(43);return I&2||ye.Ha.write(f,g,0,A,x,!1),0}}},He=null,rt={},Le=[],Fh=1,qi=null,ac=!0,oe=null,ua={},nn=(f,g={})=>{if(f=m("/",f),!f)return{path:"",node:null};if(g=Object.assign({rb:!0,kb:0},g),8<g.kb)throw new oe(32);f=Mn(f.split("/").filter(re=>!!re),!1);for(var x=He,A="/",I=0;I<f.length;I++){var X=I===f.length-1;if(X&&g.parent)break;if(x=Tn(x,f[I]),A=z(A+"/"+f[I]),x.Va&&(!X||X&&g.rb)&&(x=x.Va.root),!X||g.Sa){for(X=0;(x.mode&61440)===40960;)if(x=hc(A),A=m(ee(A),x),x=nn(A,{kb:g.kb+1}).node,40<X++)throw new oe(32)}}return{path:A,node:x}},cs=f=>{for(var g;;){if(f===f.parent)return f=f.Ra.ub,g?f[f.length-1]!=="/"?f+"/"+g:f+g:f;g=g?f.name+"/"+g:f.name,f=f.parent}},da=(f,g)=>{for(var x=0,A=0;A<g.length;A++)x=(x<<5)-x+g.charCodeAt(A)|0;return(f+x>>>0)%qi.length},lc=f=>{var g=da(f.parent.id,f.name);if(qi[g]===f)qi[g]=f.Wa;else for(g=qi[g];g;){if(g.Wa===f){g.Wa=f.Wa;break}g=g.Wa}},Tn=(f,g)=>{var x;if(x=(x=Gn(f,"x"))?x:f.Ga.lookup?0:2)throw new oe(x,f);for(x=qi[da(f.id,g)];x;x=x.Wa){var A=x.name;if(x.parent.id===f.id&&A===g)return x}return f.Ga.lookup(f,g)},ha=(f,g,x,A)=>(f=new Uy(f,g,x,A),g=da(f.parent.id,f.name),f.Wa=qi[g],qi[g]=f),Uh={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},pa=f=>{var g=["r","w","rw"][f&3];return f&512&&(g+="w"),g},Gn=(f,g)=>{if(ac)return 0;if(!g.includes("r")||f.mode&292){if(g.includes("w")&&!(f.mode&146)||g.includes("x")&&!(f.mode&73))return 2}else return 2;return 0},fa=(f,g)=>{try{return Tn(f,g),20}catch(x){}return Gn(f,"wx")},ma=(f,g,x)=>{try{var A=Tn(f,g)}catch(I){return I.Ka}if(f=Gn(f,"wx"))return f;if(x){if((A.mode&61440)!==16384)return 54;if(A===A.parent||cs(A)==="/")return 10}else if((A.mode&61440)===16384)return 31;return 0},Cn=(f=0)=>{for(;4096>=f;f++)if(!Le[f])return f;throw new oe(33)},cc=(f,g)=>(wa||(wa=function(){this.$a={}},wa.prototype={},Object.defineProperties(wa.prototype,{object:{get:function(){return this.node},set:function(x){this.node=x}},flags:{get:function(){return this.$a.flags},set:function(x){this.$a.flags=x}},position:{get:function(){return this.$a.position},set:function(x){this.$a.position=x}}})),f=Object.assign(new wa,f),g=Cn(g),f.fd=g,Le[g]=f),jh={open:f=>{f.Ha=rt[f.node.rdev].Ha,f.Ha.open&&f.Ha.open(f)},Ta:()=>{throw new oe(70)}},ga=(f,g)=>{rt[f]={Ha:g}},ya=(f,g)=>{var x=g==="/",A=!g;if(x&&He)throw new oe(10);if(!x&&!A){var I=nn(g,{rb:!1});if(g=I.path,I=I.node,I.Va)throw new oe(10);if((I.mode&61440)!==16384)throw new oe(54)}g={type:f,Kb:{},ub:g,Eb:[]},f=f.Ra(g),f.Ra=g,g.root=f,x?He=f:I&&(I.Va=g,I.Ra&&I.Ra.Eb.push(g))},Ks=(f,g,x)=>{var A=nn(f,{parent:!0}).node;if(f=le(f),!f||f==="."||f==="..")throw new oe(28);var I=fa(A,f);if(I)throw new oe(I);if(!A.Ga.ab)throw new oe(63);return A.Ga.ab(A,f,g,x)},Kn=(f,g)=>Ks(f,(g!==void 0?g:511)&1023|16384,0),kr=(f,g,x)=>{typeof x>"u"&&(x=g,g=438),Ks(f,g|8192,x)},ba=(f,g)=>{if(!m(f))throw new oe(44);var x=nn(g,{parent:!0}).node;if(!x)throw new oe(44);g=le(g);var A=fa(x,g);if(A)throw new oe(A);if(!x.Ga.symlink)throw new oe(63);x.Ga.symlink(x,g,f)},uc=f=>{var g=nn(f,{parent:!0}).node;f=le(f);var x=Tn(g,f),A=ma(g,f,!0);if(A)throw new oe(A);if(!g.Ga.rmdir)throw new oe(63);if(x.Va)throw new oe(10);g.Ga.rmdir(g,f),lc(x)},dc=f=>{var g=nn(f,{parent:!0}).node;if(!g)throw new oe(44);f=le(f);var x=Tn(g,f),A=ma(g,f,!1);if(A)throw new oe(A);if(!g.Ga.unlink)throw new oe(63);if(x.Va)throw new oe(10);g.Ga.unlink(g,f),lc(x)},hc=f=>{if(f=nn(f).node,!f)throw new oe(44);if(!f.Ga.readlink)throw new oe(28);return m(cs(f.parent),f.Ga.readlink(f))},Rr=(f,g)=>{if(f=nn(f,{Sa:!g}).node,!f)throw new oe(44);if(!f.Ga.Pa)throw new oe(63);return f.Ga.Pa(f)},pc=f=>Rr(f,!0),us=(f,g)=>{if(f=typeof f=="string"?nn(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new oe(63);f.Ga.Oa(f,{mode:g&4095|f.mode&-4096,timestamp:Date.now()})},zh=(f,g)=>{if(0>g)throw new oe(28);if(f=typeof f=="string"?nn(f,{Sa:!0}).node:f,!f.Ga.Oa)throw new oe(63);if((f.mode&61440)===16384)throw new oe(31);if((f.mode&61440)!==32768)throw new oe(28);var x=Gn(f,"w");if(x)throw new oe(x);f.Ga.Oa(f,{size:g,timestamp:Date.now()})},ds=(f,g,x)=>{if(f==="")throw new oe(44);if(typeof g=="string"){var A=Uh[g];if(typeof A>"u")throw Error("Unknown file open mode: "+g);g=A}if(x=g&64?(typeof x>"u"?438:x)&4095|32768:0,typeof f=="object")var I=f;else{f=z(f);try{I=nn(f,{Sa:!(g&131072)}).node}catch(X){}}if(A=!1,g&64)if(I){if(g&128)throw new oe(20)}else I=Ks(f,x,0),A=!0;if(!I)throw new oe(44);if((I.mode&61440)===8192&&(g&=-513),g&65536&&(I.mode&61440)!==16384)throw new oe(54);if(!A&&(x=I?(I.mode&61440)===40960?32:(I.mode&61440)===16384&&(pa(g)!=="r"||g&512)?31:Gn(I,pa(g)):44))throw new oe(x);return g&512&&!A&&zh(I,0),g&=-131713,I=cc({node:I,path:cs(I),flags:g,seekable:!0,position:0,Ha:I.Ha,Ib:[],error:!1}),I.Ha.open&&I.Ha.open(I),!c.logReadFiles||g&1||(fc||(fc={}),f in fc||(fc[f]=1)),I},G=f=>{if(f.fd===null)throw new oe(8);f.hb&&(f.hb=null);try{f.Ha.close&&f.Ha.close(f)}catch(g){throw g}finally{Le[f.fd]=null}f.fd=null},pe=(f,g,x)=>{if(f.fd===null)throw new oe(8);if(!f.seekable||!f.Ha.Ta)throw new oe(70);if(x!=0&&x!=1&&x!=2)throw new oe(28);f.position=f.Ha.Ta(f,g,x),f.Ib=[]},xe=(f,g,x,A,I)=>{if(0>A||0>I)throw new oe(28);if(f.fd===null)throw new oe(8);if((f.flags&2097155)===1)throw new oe(8);if((f.node.mode&61440)===16384)throw new oe(31);if(!f.Ha.read)throw new oe(28);var X=typeof I<"u";if(!X)I=f.position;else if(!f.seekable)throw new oe(70);return g=f.Ha.read(f,g,x,A,I),X||(f.position+=g),g},Et=(f,g,x,A,I)=>{if(0>A||0>I)throw new oe(28);if(f.fd===null)throw new oe(8);if(!(f.flags&2097155))throw new oe(8);if((f.node.mode&61440)===16384)throw new oe(31);if(!f.Ha.write)throw new oe(28);f.seekable&&f.flags&1024&&pe(f,0,2);var X=typeof I<"u";if(!X)I=f.position;else if(!f.seekable)throw new oe(70);return g=f.Ha.write(f,g,x,A,I,void 0),X||(f.position+=g),g},qt=f=>{var g,x=ds(f,x||0);f=Rr(f).size;var A=new Uint8Array(f);return xe(x,A,0,f,0),g=A,G(x),g},gn=()=>{oe||(oe=function(f,g){this.node=g,this.Hb=function(x){this.Ka=x},this.Hb(f),this.message="FS error"},oe.prototype=Error(),oe.prototype.constructor=oe,[44].forEach(f=>{ua[f]=new oe(f),ua[f].stack="<generic error, no stack>"}))},Bi,Ly=(f,g)=>{var x=0;return f&&(x|=365),g&&(x|=146),x},va=(f,g,x)=>{f=z("/dev/"+f);var A=Ly(!!g,!!x);Vh||(Vh=64);var I=Vh++<<8|0;ga(I,{open:X=>{X.seekable=!1},close:()=>{x&&x.buffer&&x.buffer.length&&x(10)},read:(X,re,Oe,Ge)=>{for(var ze=0,Nt=0;Nt<Ge;Nt++){try{var rr=g()}catch(Hy){throw new oe(29)}if(rr===void 0&&ze===0)throw new oe(6);if(rr==null)break;ze++,re[Oe+Nt]=rr}return ze&&(X.node.timestamp=Date.now()),ze},write:(X,re,Oe,Ge)=>{for(var ze=0;ze<Ge;ze++)try{x(re[Oe+ze])}catch(Nt){throw new oe(29)}return Ge&&(X.node.timestamp=Date.now()),ze}}),kr(f,A,I)},Vh,ot={},wa,fc;function hs(f,g,x){if(g.charAt(0)==="/")return g;if(f=f===-100?"/":pi(f).path,g.length==0){if(!x)throw new oe(44);return f}return z(f+"/"+g)}function mc(f,g,x){try{var A=f(g)}catch(I){if(I&&I.node&&z(g)!==z(cs(I.node)))return-54;throw I}return B[x>>2]=A.dev,B[x+8>>2]=A.ino,B[x+12>>2]=A.mode,K[x+16>>2]=A.nlink,B[x+20>>2]=A.uid,B[x+24>>2]=A.gid,B[x+28>>2]=A.rdev,et=[A.size>>>0,(Re=A.size,1<=+Math.abs(Re)?0<Re?(Math.min(+Math.floor(Re/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Re-+(~~Re>>>0))/4294967296)>>>0:0)],B[x+40>>2]=et[0],B[x+44>>2]=et[1],B[x+48>>2]=4096,B[x+52>>2]=A.blocks,et=[Math.floor(A.atime.getTime()/1e3)>>>0,(Re=Math.floor(A.atime.getTime()/1e3),1<=+Math.abs(Re)?0<Re?(Math.min(+Math.floor(Re/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Re-+(~~Re>>>0))/4294967296)>>>0:0)],B[x+56>>2]=et[0],B[x+60>>2]=et[1],K[x+64>>2]=0,et=[Math.floor(A.mtime.getTime()/1e3)>>>0,(Re=Math.floor(A.mtime.getTime()/1e3),1<=+Math.abs(Re)?0<Re?(Math.min(+Math.floor(Re/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Re-+(~~Re>>>0))/4294967296)>>>0:0)],B[x+72>>2]=et[0],B[x+76>>2]=et[1],K[x+80>>2]=0,et=[Math.floor(A.ctime.getTime()/1e3)>>>0,(Re=Math.floor(A.ctime.getTime()/1e3),1<=+Math.abs(Re)?0<Re?(Math.min(+Math.floor(Re/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Re-+(~~Re>>>0))/4294967296)>>>0:0)],B[x+88>>2]=et[0],B[x+92>>2]=et[1],K[x+96>>2]=0,et=[A.ino>>>0,(Re=A.ino,1<=+Math.abs(Re)?0<Re?(Math.min(+Math.floor(Re/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Re-+(~~Re>>>0))/4294967296)>>>0:0)],B[x+104>>2]=et[0],B[x+108>>2]=et[1],0}var gc=void 0;function yc(){return gc+=4,B[gc-4>>2]}function pi(f){if(f=Le[f],!f)throw new oe(8);return f}function Hh(f){return K[f>>2]+4294967296*B[f+4>>2]}function qy(f){var g=ue(f)+1,x=bc(g);return x&&ne(f,de,x,g),x}function yN(f,g,x){function A(Ge){return(Ge=Ge.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Ge[1]:"GMT"}var I=new Date().getFullYear(),X=new Date(I,0,1),re=new Date(I,6,1);I=X.getTimezoneOffset();var Oe=re.getTimezoneOffset();B[f>>2]=60*Math.max(I,Oe),B[g>>2]=+(I!=Oe),f=A(X),g=A(re),f=qy(f),g=qy(g),Oe<I?(K[x>>2]=f,K[x+4>>2]=g):(K[x>>2]=g,K[x+4>>2]=f)}function Wh(f,g,x){Wh.Bb||(Wh.Bb=!0,yN(f,g,x))}var By;By=y?()=>{var f=process.hrtime();return 1e3*f[0]+f[1]/1e6}:()=>performance.now();var Qh={};function Fy(){if(!Gh){var f={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"},g;for(g in Qh)Qh[g]===void 0?delete f[g]:f[g]=Qh[g];var x=[];for(g in f)x.push(g+"="+f[g]);Gh=x}return Gh}var Gh,$r=void 0,Kh=[];function Yh(f,g){if(!$r){$r=new WeakMap;var x=Ce.length;if($r)for(var A=0;A<0+x;A++){var I=Ce.get(A);I&&$r.set(I,A)}}if($r.has(f))return $r.get(f);if(Kh.length)x=Kh.pop();else{try{Ce.grow(1)}catch(Oe){throw Oe instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Oe}x=Ce.length-1}try{Ce.set(x,f)}catch(Oe){if(!(Oe instanceof TypeError))throw Oe;if(typeof WebAssembly.Function=="function"){A=WebAssembly.Function,I={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var X={parameters:[],results:g[0]=="v"?[]:[I[g[0]]]},re=1;re<g.length;++re)X.parameters.push(I[g[re]]);g=new A(X,f)}else{for(A=[1,96],I=g.slice(0,1),g=g.slice(1),X={i:127,p:127,j:126,f:125,d:124},re=g.length,128>re?A.push(re):A.push(re%128|128,re>>7),re=0;re<g.length;++re)A.push(X[g[re]]);I=="v"?A.push(0):A.push(1,X[I]),g=[0,97,115,109,1,0,0,0,1],I=A.length,128>I?g.push(I):g.push(I%128|128,I>>7),g.push.apply(g,A),g.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),g=new WebAssembly.Module(new Uint8Array(g)),g=new WebAssembly.Instance(g,{e:{f}}).exports.f}Ce.set(x,g)}return $r.set(f,x),x}function Ea(f){$r.delete(Ce.get(f)),Kh.push(f)}function Jh(f){var g=bc(f.length);return f.subarray||f.slice||(f=new Uint8Array(f)),Z.set(f,g),g}function bN(f,g,x,A){var I={string:ze=>{var Nt=0;if(ze!=null&&ze!==0){var rr=(ze.length<<2)+1;Nt=Pr(rr),ne(ze,Z,Nt,rr)}return Nt},array:ze=>{var Nt=Pr(ze.length);return de.set(ze,Nt),Nt}};f=c["_"+f];var X=[],re=0;if(A)for(var Oe=0;Oe<A.length;Oe++){var Ge=I[x[Oe]];Ge?(re===0&&(re=xa()),X[Oe]=Ge(A[Oe])):X[Oe]=A[Oe]}return x=f.apply(null,X),x=function(ze){return re!==0&&Ta(re),g==="string"?j(ze):g==="boolean"?!!ze:ze}(x)}function Uy(f,g,x,A){f||(f=this),this.parent=f,this.Ra=f.Ra,this.Va=null,this.id=Fh++,this.name=g,this.mode=x,this.Ga={},this.Ha={},this.rdev=A}Object.defineProperties(Uy.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(f){f?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(f){f?this.mode|=146:this.mode&=-147}}}),gn(),qi=Array(4096),ya(ye,"/"),Kn("/tmp"),Kn("/home"),Kn("/home/web_user"),(()=>{Kn("/dev"),ga(259,{read:()=>0,write:(g,x,A,I)=>I}),kr("/dev/null",259),$(1280,W),$(1536,ge),kr("/dev/tty",1280),kr("/dev/tty1",1536);var f=T();va("random",f),va("urandom",f),Kn("/dev/shm"),Kn("/dev/shm/tmp")})(),(()=>{Kn("/proc");var f=Kn("/proc/self");Kn("/proc/self/fd"),ya({Ra:()=>{var g=ha(f,"fd",16895,73);return g.Ga={lookup:(x,A)=>{var I=Le[+A];if(!I)throw new oe(8);return x={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>I.path}},x.parent=x}},g}},"/proc/self/fd")})();var vN={a:function(f,g,x,A){Lt("Assertion failed: "+j(f)+", at: "+[g?j(g):"unknown filename",x,A?j(A):"unknown function"])},h:function(f,g){try{return f=j(f),us(f,g),0}catch(x){if(typeof ot>"u"||!(x instanceof oe))throw x;return-x.Ka}},H:function(f,g,x){try{if(g=j(g),g=hs(f,g),x&-8)return-28;var A=nn(g,{Sa:!0}).node;return A?(f="",x&4&&(f+="r"),x&2&&(f+="w"),x&1&&(f+="x"),f&&Gn(A,f)?-2:0):-44}catch(I){if(typeof ot>"u"||!(I instanceof oe))throw I;return-I.Ka}},i:function(f,g){try{var x=Le[f];if(!x)throw new oe(8);return us(x.node,g),0}catch(A){if(typeof ot>"u"||!(A instanceof oe))throw A;return-A.Ka}},g:function(f){try{var g=Le[f];if(!g)throw new oe(8);var x=g.node,A=typeof x=="string"?nn(x,{Sa:!0}).node:x;if(!A.Ga.Oa)throw new oe(63);return A.Ga.Oa(A,{timestamp:Date.now()}),0}catch(I){if(typeof ot>"u"||!(I instanceof oe))throw I;return-I.Ka}},b:function(f,g,x){gc=x;try{var A=pi(f);switch(g){case 0:var I=yc();return 0>I?-28:cc(A,I).fd;case 1:case 2:return 0;case 3:return A.flags;case 4:return I=yc(),A.flags|=I,0;case 5:return I=yc(),ie[I+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return B[jy()>>2]=28,-1;default:return-28}}catch(X){if(typeof ot>"u"||!(X instanceof oe))throw X;return-X.Ka}},G:function(f,g){try{var x=pi(f);return mc(Rr,x.path,g)}catch(A){if(typeof ot>"u"||!(A instanceof oe))throw A;return-A.Ka}},l:function(f,g,x){try{if(g=x+2097152>>>0<4194305-!!g?(g>>>0)+4294967296*x:NaN,isNaN(g))return-61;var A=Le[f];if(!A)throw new oe(8);if(!(A.flags&2097155))throw new oe(28);return zh(A.node,g),0}catch(I){if(typeof ot>"u"||!(I instanceof oe))throw I;return-I.Ka}},B:function(f,g){try{if(g===0)return-28;var x=ue("/")+1;return g<x?-68:(ne("/",Z,f,g),x)}catch(A){if(typeof ot>"u"||!(A instanceof oe))throw A;return-A.Ka}},E:function(f,g){try{return f=j(f),mc(pc,f,g)}catch(x){if(typeof ot>"u"||!(x instanceof oe))throw x;return-x.Ka}},y:function(f,g,x){try{return g=j(g),g=hs(f,g),g=z(g),g[g.length-1]==="/"&&(g=g.substr(0,g.length-1)),Kn(g,x),0}catch(A){if(typeof ot>"u"||!(A instanceof oe))throw A;return-A.Ka}},D:function(f,g,x,A){try{g=j(g);var I=A&256;return g=hs(f,g,A&4096),mc(I?pc:Rr,g,x)}catch(X){if(typeof ot>"u"||!(X instanceof oe))throw X;return-X.Ka}},v:function(f,g,x,A){gc=A;try{g=j(g),g=hs(f,g);var I=A?yc():0;return ds(g,x,I).fd}catch(X){if(typeof ot>"u"||!(X instanceof oe))throw X;return-X.Ka}},t:function(f,g,x,A){try{if(g=j(g),g=hs(f,g),0>=A)return-28;var I=hc(g),X=Math.min(A,ue(I)),re=de[x+X];return ne(I,Z,x,A+1),de[x+X]=re,X}catch(Oe){if(typeof ot>"u"||!(Oe instanceof oe))throw Oe;return-Oe.Ka}},s:function(f){try{return f=j(f),uc(f),0}catch(g){if(typeof ot>"u"||!(g instanceof oe))throw g;return-g.Ka}},F:function(f,g){try{return f=j(f),mc(Rr,f,g)}catch(x){if(typeof ot>"u"||!(x instanceof oe))throw x;return-x.Ka}},p:function(f,g,x){try{return g=j(g),g=hs(f,g),x===0?dc(g):x===512?uc(g):Lt("Invalid flags passed to unlinkat"),0}catch(A){if(typeof ot>"u"||!(A instanceof oe))throw A;return-A.Ka}},o:function(f,g,x){try{if(g=j(g),g=hs(f,g,!0),x){var A=Hh(x),I=B[x+8>>2];X=1e3*A+I/1e6,x+=16,A=Hh(x),I=B[x+8>>2],re=1e3*A+I/1e6}else var X=Date.now(),re=X;f=X;var Oe=nn(g,{Sa:!0}).node;return Oe.Ga.Oa(Oe,{timestamp:Math.max(f,re)}),0}catch(Ge){if(typeof ot>"u"||!(Ge instanceof oe))throw Ge;return-Ge.Ka}},e:function(){return Date.now()},j:function(f,g){f=new Date(1e3*Hh(f)),B[g>>2]=f.getSeconds(),B[g+4>>2]=f.getMinutes(),B[g+8>>2]=f.getHours(),B[g+12>>2]=f.getDate(),B[g+16>>2]=f.getMonth(),B[g+20>>2]=f.getFullYear()-1900,B[g+24>>2]=f.getDay();var x=new Date(f.getFullYear(),0,1);B[g+28>>2]=(f.getTime()-x.getTime())/864e5|0,B[g+36>>2]=-(60*f.getTimezoneOffset());var A=new Date(f.getFullYear(),6,1).getTimezoneOffset();x=x.getTimezoneOffset(),B[g+32>>2]=(A!=x&&f.getTimezoneOffset()==Math.min(x,A))|0},w:function(f,g,x,A,I,X){try{var re=pi(A);if(g&2&&!(x&2)&&(re.flags&2097155)!==2)throw new oe(2);if((re.flags&2097155)===1)throw new oe(2);if(!re.Ha.bb)throw new oe(43);var Oe=re.Ha.bb(re,f,I,g,x),Ge=Oe.Fb;return B[X>>2]=Oe.vb,Ge}catch(ze){if(typeof ot>"u"||!(ze instanceof oe))throw ze;return-ze.Ka}},x:function(f,g,x,A,I,X){try{var re=pi(I);if(x&2){var Oe=Z.slice(f,f+g);re&&re.Ha.cb&&re.Ha.cb(re,Oe,X,g,A)}}catch(Ge){if(typeof ot>"u"||!(Ge instanceof oe))throw Ge;return-Ge.Ka}},n:Wh,q:function(){return 2147483648},d:By,c:function(f){var g=Z.length;if(f>>>=0,2147483648<f)return!1;for(var x=1;4>=x;x*=2){var A=g*(1+.2/x);A=Math.min(A,f+100663296);var I=Math;A=Math.max(f,A),I=I.min.call(I,2147483648,A+(65536-A%65536)%65536);e:{try{O.grow(I-fe.byteLength+65535>>>16),Ee();var X=1;break e}catch(re){}X=void 0}if(X)return!0}return!1},z:function(f,g){var x=0;return Fy().forEach(function(A,I){var X=g+x;for(I=K[f+4*I>>2]=X,X=0;X<A.length;++X)de[I++>>0]=A.charCodeAt(X);de[I>>0]=0,x+=A.length+1}),0},A:function(f,g){var x=Fy();K[f>>2]=x.length;var A=0;return x.forEach(function(I){A+=I.length+1}),K[g>>2]=A,0},f:function(f){try{var g=pi(f);return G(g),0}catch(x){if(typeof ot>"u"||!(x instanceof oe))throw x;return x.Ka}},m:function(f,g){try{var x=pi(f);return de[g>>0]=x.tty?2:(x.mode&61440)===16384?3:(x.mode&61440)===40960?7:4,0}catch(A){if(typeof ot>"u"||!(A instanceof oe))throw A;return A.Ka}},u:function(f,g,x,A){try{e:{var I=pi(f);f=g;for(var X=g=0;X<x;X++){var re=K[f>>2],Oe=K[f+4>>2];f+=8;var Ge=xe(I,de,re,Oe);if(0>Ge){var ze=-1;break e}if(g+=Ge,Ge<Oe)break}ze=g}return K[A>>2]=ze,0}catch(Nt){if(typeof ot>"u"||!(Nt instanceof oe))throw Nt;return Nt.Ka}},k:function(f,g,x,A,I){try{if(g=x+2097152>>>0<4194305-!!g?(g>>>0)+4294967296*x:NaN,isNaN(g))return 61;var X=pi(f);return pe(X,g,A),et=[X.position>>>0,(Re=X.position,1<=+Math.abs(Re)?0<Re?(Math.min(+Math.floor(Re/4294967296),4294967295)|0)>>>0:~~+Math.ceil((Re-+(~~Re>>>0))/4294967296)>>>0:0)],B[I>>2]=et[0],B[I+4>>2]=et[1],X.hb&&g===0&&A===0&&(X.hb=null),0}catch(re){if(typeof ot>"u"||!(re instanceof oe))throw re;return re.Ka}},C:function(f){try{var g=pi(f);return g.Ha&&g.Ha.fsync?g.Ha.fsync(g):0}catch(x){if(typeof ot>"u"||!(x instanceof oe))throw x;return x.Ka}},r:function(f,g,x,A){try{e:{var I=pi(f);f=g;for(var X=g=0;X<x;X++){var re=K[f>>2],Oe=K[f+4>>2];f+=8;var Ge=Et(I,de,re,Oe);if(0>Ge){var ze=-1;break e}g+=Ge}ze=g}return K[A>>2]=ze,0}catch(Nt){if(typeof ot>"u"||!(Nt instanceof oe))throw Nt;return Nt.Ka}}};(function(){function f(I){c.asm=I.exports,O=c.asm.I,Ee(),Ce=c.asm.Aa,Ie.unshift(c.asm.J),mn--,c.monitorRunDependencies&&c.monitorRunDependencies(mn),mn==0&&tn&&(I=tn,tn=null,I())}function g(I){f(I.instance)}function x(I){return ir().then(function(X){return WebAssembly.instantiate(X,A)}).then(function(X){return X}).then(I,function(X){L("failed to asynchronously prepare wasm: "+X),Lt(X)})}var A={a:vN};if(mn++,c.monitorRunDependencies&&c.monitorRunDependencies(mn),c.instantiateWasm)try{return c.instantiateWasm(A,f)}catch(I){return L("Module.instantiateWasm callback failed with error: "+I),!1}return function(){return M||typeof WebAssembly.instantiateStreaming!="function"||In()||pt.startsWith("file://")||y||typeof fetch!="function"?x(g):fetch(pt,{credentials:"same-origin"}).then(function(I){return WebAssembly.instantiateStreaming(I,A).then(g,function(X){return L("wasm streaming compile failed: "+X),L("falling back to ArrayBuffer instantiation"),x(g)})})}(),{}})(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.J).apply(null,arguments)},c._sqlite3_free=function(){return(c._sqlite3_free=c.asm.K).apply(null,arguments)},c._sqlite3_value_double=function(){return(c._sqlite3_value_double=c.asm.L).apply(null,arguments)},c._sqlite3_value_text=function(){return(c._sqlite3_value_text=c.asm.M).apply(null,arguments)};var jy=c.___errno_location=function(){return(jy=c.___errno_location=c.asm.N).apply(null,arguments)};c._sqlite3_prepare_v2=function(){return(c._sqlite3_prepare_v2=c.asm.O).apply(null,arguments)},c._sqlite3_step=function(){return(c._sqlite3_step=c.asm.P).apply(null,arguments)},c._sqlite3_finalize=function(){return(c._sqlite3_finalize=c.asm.Q).apply(null,arguments)},c._sqlite3_reset=function(){return(c._sqlite3_reset=c.asm.R).apply(null,arguments)},c._sqlite3_value_int=function(){return(c._sqlite3_value_int=c.asm.S).apply(null,arguments)},c._sqlite3_clear_bindings=function(){return(c._sqlite3_clear_bindings=c.asm.T).apply(null,arguments)},c._sqlite3_value_blob=function(){return(c._sqlite3_value_blob=c.asm.U).apply(null,arguments)},c._sqlite3_value_bytes=function(){return(c._sqlite3_value_bytes=c.asm.V).apply(null,arguments)},c._sqlite3_value_type=function(){return(c._sqlite3_value_type=c.asm.W).apply(null,arguments)},c._sqlite3_result_blob=function(){return(c._sqlite3_result_blob=c.asm.X).apply(null,arguments)},c._sqlite3_result_double=function(){return(c._sqlite3_result_double=c.asm.Y).apply(null,arguments)},c._sqlite3_result_error=function(){return(c._sqlite3_result_error=c.asm.Z).apply(null,arguments)},c._sqlite3_result_int=function(){return(c._sqlite3_result_int=c.asm._).apply(null,arguments)},c._sqlite3_result_int64=function(){return(c._sqlite3_result_int64=c.asm.$).apply(null,arguments)},c._sqlite3_result_null=function(){return(c._sqlite3_result_null=c.asm.aa).apply(null,arguments)},c._sqlite3_result_text=function(){return(c._sqlite3_result_text=c.asm.ba).apply(null,arguments)},c._sqlite3_sql=function(){return(c._sqlite3_sql=c.asm.ca).apply(null,arguments)},c._sqlite3_aggregate_context=function(){return(c._sqlite3_aggregate_context=c.asm.da).apply(null,arguments)},c._sqlite3_column_count=function(){return(c._sqlite3_column_count=c.asm.ea).apply(null,arguments)},c._sqlite3_data_count=function(){return(c._sqlite3_data_count=c.asm.fa).apply(null,arguments)},c._sqlite3_column_blob=function(){return(c._sqlite3_column_blob=c.asm.ga).apply(null,arguments)},c._sqlite3_column_bytes=function(){return(c._sqlite3_column_bytes=c.asm.ha).apply(null,arguments)},c._sqlite3_column_double=function(){return(c._sqlite3_column_double=c.asm.ia).apply(null,arguments)},c._sqlite3_column_text=function(){return(c._sqlite3_column_text=c.asm.ja).apply(null,arguments)},c._sqlite3_column_type=function(){return(c._sqlite3_column_type=c.asm.ka).apply(null,arguments)},c._sqlite3_column_name=function(){return(c._sqlite3_column_name=c.asm.la).apply(null,arguments)},c._sqlite3_bind_blob=function(){return(c._sqlite3_bind_blob=c.asm.ma).apply(null,arguments)},c._sqlite3_bind_double=function(){return(c._sqlite3_bind_double=c.asm.na).apply(null,arguments)},c._sqlite3_bind_int=function(){return(c._sqlite3_bind_int=c.asm.oa).apply(null,arguments)},c._sqlite3_bind_text=function(){return(c._sqlite3_bind_text=c.asm.pa).apply(null,arguments)},c._sqlite3_bind_parameter_index=function(){return(c._sqlite3_bind_parameter_index=c.asm.qa).apply(null,arguments)},c._sqlite3_normalized_sql=function(){return(c._sqlite3_normalized_sql=c.asm.ra).apply(null,arguments)},c._sqlite3_errmsg=function(){return(c._sqlite3_errmsg=c.asm.sa).apply(null,arguments)},c._sqlite3_exec=function(){return(c._sqlite3_exec=c.asm.ta).apply(null,arguments)},c._sqlite3_changes=function(){return(c._sqlite3_changes=c.asm.ua).apply(null,arguments)},c._sqlite3_close_v2=function(){return(c._sqlite3_close_v2=c.asm.va).apply(null,arguments)},c._sqlite3_create_function_v2=function(){return(c._sqlite3_create_function_v2=c.asm.wa).apply(null,arguments)},c._sqlite3_open=function(){return(c._sqlite3_open=c.asm.xa).apply(null,arguments)};var bc=c._malloc=function(){return(bc=c._malloc=c.asm.ya).apply(null,arguments)},vc=c._free=function(){return(vc=c._free=c.asm.za).apply(null,arguments)};c._RegisterExtensionFunctions=function(){return(c._RegisterExtensionFunctions=c.asm.Ba).apply(null,arguments)};var zy=c._emscripten_builtin_memalign=function(){return(zy=c._emscripten_builtin_memalign=c.asm.Ca).apply(null,arguments)},xa=c.stackSave=function(){return(xa=c.stackSave=c.asm.Da).apply(null,arguments)},Ta=c.stackRestore=function(){return(Ta=c.stackRestore=c.asm.Ea).apply(null,arguments)},Pr=c.stackAlloc=function(){return(Pr=c.stackAlloc=c.asm.Fa).apply(null,arguments)};c.UTF8ToString=j,c.stackAlloc=Pr,c.stackSave=xa,c.stackRestore=Ta,c.cwrap=function(f,g,x,A){x=x||[];var I=x.every(X=>X==="number"||X==="boolean");return g!=="string"&&I&&!A?c["_"+f]:function(){return bN(f,g,x,arguments)}};var wc;tn=function f(){wc||Vy(),wc||(tn=f)};function Vy(){function f(){if(!wc&&(wc=!0,c.calledRun=!0,!Q)){if(c.noFSInit||Bi||(Bi=!0,gn(),c.stdin=c.stdin,c.stdout=c.stdout,c.stderr=c.stderr,c.stdin?va("stdin",c.stdin):ba("/dev/tty","/dev/stdin"),c.stdout?va("stdout",null,c.stdout):ba("/dev/tty","/dev/stdout"),c.stderr?va("stderr",null,c.stderr):ba("/dev/tty1","/dev/stderr"),ds("/dev/stdin",0),ds("/dev/stdout",1),ds("/dev/stderr",1)),ac=!1,Li(Ie),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var g=c.postRun.shift();ht.unshift(g)}Li(ht)}}if(!(0<mn)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)wt();Li(ke),0<mn||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),f()},1)):f())}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Vy(),a}),t)};n.exports=i,n.exports.default=i})(QC);var gF=QC.exports;const yF=ss(gF),xw={entities:[yr,Qo],migrations:[hF,pF],migrationsRun:!0,logging:["error","query","schema"]},$t=class $t{static async initLocalForage(){try{const e=await an(()=>import("./localforage-04262cd4.js").then(t=>t.l),[]);$t.localForage=e.default,window.localforage=$t.localForage}catch(e){console.log("Error with initLocalForage: ",e)}}static async initSqlJs(){try{const e=await yF({locateFile:t=>"/static/assets/sql.js/".concat(t)});window.SQL=e}catch(e){console.log("Error with initSqlite: ",e)}}static configureNativeConnection(){try{const e=new jq(zq);return $t.connection=new Ew({type:"capacitor",database:$t.dbName,driver:e,migrationsTransactionMode:"none",...xw}),$t.connection}catch(e){console.log("Error with configureNativeConnection: ",e)}}static configureWebConnection(){try{return $t.localForage.config({description:"quest",driver:$t.localForage.INDEXEDDB}),$t.connection=new Ew({type:"sqljs",autoSave:!0,location:$t.dbName,useLocalForage:!0,...xw}),$t.connection}catch(e){console.log("Error with configureWebConnection: ",e)}}static async initConnection(){try{if($t.connection)return;await $t.initLocalForage(),await $t.initSqlJs();let e;Wo.getPlatform()==="web"?e=$t.configureWebConnection():e=$t.configureNativeConnection(),await(e==null?void 0:e.initialize())}catch(e){console.log("Error with initConnection: ",e)}}};sr($t,"dbName","fitrem_db"),sr($t,"connection",null),sr($t,"localForage");let ks=$t;const Tw=async()=>{var n;return(n=ks.connection)==null?void 0:n.getRepository(Qo)};class bF{async getItem(e){await ks.initConnection();try{const t=await Tw(),i=await(t==null?void 0:t.findOne({where:{id:e}}));return i?(console.log("***GET_ITEM",i==null?void 0:i.store),i.store):null}catch(t){return console.log("Error GET_ITEM:",t),null}}async setItem(e,t){try{const i=await Tw();await(i==null?void 0:i.upsert({id:e,store:t},{conflictPaths:["id"],skipUpdateIfNoValuesChanged:!0})),console.log("***SET_ITEM: ",await(i==null?void 0:i.find({})))}catch(i){console.log("Error with SET_ITEM",i)}}async removeItem(e){await new Promise(t=>t(e)).then(t=>console.log(t))}}const vF=n=>({rehydrated:!1}),wF=["timerStatus"],EF=new bF,Il=xq()(Sq(Rq((...n)=>({...vF(...n),...$q(...n)}),{name:"combineStore",partialize:n=>Object.fromEntries(Object.entries(n).filter(([e])=>!wF.includes(e))),storage:vC(()=>EF),onRehydrateStorage:n=>(console.log("hydration starts"),(e,t)=>{t?console.log("an error happened during hydration",t):(Il.setState({rehydrated:!0}),console.log("hydration finished",e))})})));function xF({isOpen:n,setIsOpen:e}){return Y.jsx(uC,{isOpen:n,header:"",subHeader:"Nice choice",message:"Let's do it!",buttons:["OK"],onDidDismiss:()=>{e(!1),history.back()}})}const TF=()=>{const{unsetTimer:n}=Il(),{timerInterval:e,setTimerInterval:t}=Il(),[i,r]=De.useState(e),[s,o]=De.useState(!1),a=()=>{t(i),o(!0),n()};return Y.jsxs(fy,{id:"main-content",children:[Y.jsx(zo,{children:Y.jsx(wh,{color:"warning",children:Y.jsx(bh,{slot:"start",children:Y.jsx(AL,{defaultHref:"/timer"})})})}),Y.jsxs(vh,{children:[Y.jsxs(aC,{children:[Y.jsx(ol,{children:Y.jsxs(Oo,{children:[Y.jsxs(jp,{children:[Y.jsx("h2",{children:"Timer Settings"}),Y.jsxs("p",{children:["Your timer is set to ring in ",i.toString()," seconds.",Y.jsx(Si,{slot:"icon-only",icon:zL,color:"primary"})]})]}),Y.jsxs(tL,{min:5,max:60,step:5,snaps:!0,color:"primary",value:i,onIonChange:l=>r(l.detail.value),children:[Y.jsx(es,{slot:"start",children:"5 sec"}),Y.jsx(es,{slot:"end",children:"60 sec"})]}),Y.jsx(jp,{children:Y.jsx("small",{children:"If you wish to change the settings drag the nob to the desired time interval (5 to 60 seconds)."})})]})}),Y.jsx(ol,{children:Y.jsx(Oo,{children:Y.jsx(jp,{})})}),Y.jsx(ol,{children:Y.jsx(Oo,{children:Y.jsx(Hi,{expand:"block",onClick:a,children:"Save"})})})]}),Y.jsx(xF,{isOpen:s,setIsOpen:o})]})]})};var Cw=typeof window>"u"?De.useEffect:De.useLayoutEffect,CF=({isPlaying:n,duration:e,startAt:t=0,updateInterval:i=0,onComplete:r,onUpdate:s})=>{let[o,a]=De.useState(t),l=De.useRef(0),c=De.useRef(t),u=De.useRef(t*-1e3),d=De.useRef(null),h=De.useRef(null),p=De.useRef(null),y=E=>{let w=E/1e3;if(h.current===null){h.current=w,d.current=requestAnimationFrame(y);return}let C=w-h.current,P=l.current+C;h.current=w,l.current=P;let q=c.current+(i===0?P:(P/i|0)*i),H=c.current+P,L=typeof e=="number"&&H>=e;a(L?e:q),L||(d.current=requestAnimationFrame(y))},v=()=>{d.current&&cancelAnimationFrame(d.current),p.current&&clearTimeout(p.current),h.current=null},S=De.useCallback(E=>{v(),l.current=0;let w=typeof E=="number"?E:t;c.current=w,a(w),n&&(d.current=requestAnimationFrame(y))},[n,t]);return Cw(()=>{if(s==null||s(o),e&&o>=e){u.current+=e*1e3;let{shouldRepeat:E=!1,delay:w=0,newStartAt:C}=(r==null?void 0:r(u.current/1e3))||{};E&&(p.current=setTimeout(()=>S(C),w*1e3))}},[o,e]),Cw(()=>(n&&(d.current=requestAnimationFrame(y)),v),[n,e,i]),{elapsedTime:o,reset:S}},SF=(n,e,t)=>{let i=n/2,r=e/2,s=i-r,o=2*s,a=t==="clockwise"?"1,0":"0,1",l=2*Math.PI*s;return{path:"m ".concat(i,",").concat(r," a ").concat(s,",").concat(s," 0 ").concat(a," 0,").concat(o," a ").concat(s,",").concat(s," 0 ").concat(a," 0,-").concat(o),pathLength:l}},Sw=(n,e)=>n===0||n===e?0:typeof e=="number"?n-e:0,NF=n=>({position:"relative",width:n,height:n}),AF={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},GC=(n,e,t,i,r)=>{if(i===0)return e;let s=(r?i-n:n)/i;return e+t*s},Nw=n=>{var e,t;return(t=(e=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(i,r,s,o)=>"#".concat(r).concat(r).concat(s).concat(s).concat(o).concat(o)).substring(1).match(/.{2}/g))==null?void 0:e.map(i=>parseInt(i,16)))!=null?t:[]},kF=(n,e)=>{var t;let{colors:i,colorsTime:r,isSmoothColorTransition:s=!0}=n;if(typeof i=="string")return i;let o=(t=r==null?void 0:r.findIndex((h,p)=>h>=e&&e>=r[p+1]))!=null?t:-1;if(!r||o===-1)return i[0];if(!s)return i[o];let a=r[o]-e,l=r[o]-r[o+1],c=Nw(i[o]),u=Nw(i[o+1]),d=!!n.isGrowing;return"rgb(".concat(c.map((h,p)=>GC(a,h,u[p]-h,l,d)|0).join(","),")")},RF=n=>{let{duration:e,initialRemainingTime:t,updateInterval:i,size:r=180,strokeWidth:s=12,trailStrokeWidth:o,isPlaying:a=!1,isGrowing:l=!1,rotation:c="clockwise",onComplete:u,onUpdate:d}=n,h=De.useRef(),p=Math.max(s,o!=null?o:0),{path:y,pathLength:v}=SF(r,p,c),{elapsedTime:S}=CF({isPlaying:a,duration:e,startAt:Sw(e,t),updateInterval:i,onUpdate:typeof d=="function"?w=>{let C=Math.ceil(e-w);C!==h.current&&(h.current=C,d(C))}:void 0,onComplete:typeof u=="function"?w=>{var C;let{shouldRepeat:P,delay:q,newInitialRemainingTime:H}=(C=u(w))!=null?C:{};if(P)return{shouldRepeat:P,delay:q,newStartAt:Sw(e,H)}}:void 0}),E=e-S;return{elapsedTime:S,path:y,pathLength:v,remainingTime:Math.ceil(E),rotation:c,size:r,stroke:kF(n,E),strokeDashoffset:GC(S,0,v,e,l),strokeWidth:s}},KC=n=>{let{children:e,strokeLinecap:t,trailColor:i,trailStrokeWidth:r}=n,{path:s,pathLength:o,stroke:a,strokeDashoffset:l,remainingTime:c,elapsedTime:u,size:d,strokeWidth:h}=RF(n);return te.createElement("div",{style:NF(d)},te.createElement("svg",{viewBox:"0 0 ".concat(d," ").concat(d),width:d,height:d,xmlns:"http://www.w3.org/2000/svg"},te.createElement("path",{d:s,fill:"none",stroke:i!=null?i:"#d9d9d9",strokeWidth:r!=null?r:h}),te.createElement("path",{d:s,fill:"none",stroke:a,strokeLinecap:t!=null?t:"round",strokeWidth:h,strokeDasharray:o,strokeDashoffset:l})),typeof e=="function"&&te.createElement("div",{style:AF},e({remainingTime:c,elapsedTime:u,color:a})))};KC.displayName="CountdownCircleTimer";class Gs extends Error{}class $F extends Gs{constructor(e){super("Invalid DateTime: ".concat(e.toMessage()))}}class PF extends Gs{constructor(e){super("Invalid Interval: ".concat(e.toMessage()))}}class OF extends Gs{constructor(e){super("Invalid Duration: ".concat(e.toMessage()))}}class Qa extends Gs{}class YC extends Gs{constructor(e){super("Invalid unit ".concat(e))}}class ri extends Gs{}class Mr extends Gs{constructor(){super("Zone is an abstract class")}}const be="numeric",Di="short",jn="long",Ed={year:be,month:be,day:be},JC={year:be,month:Di,day:be},IF={year:be,month:Di,day:be,weekday:Di},XC={year:be,month:jn,day:be},ZC={year:be,month:jn,day:be,weekday:jn},eS={hour:be,minute:be},tS={hour:be,minute:be,second:be},nS={hour:be,minute:be,second:be,timeZoneName:Di},iS={hour:be,minute:be,second:be,timeZoneName:jn},rS={hour:be,minute:be,hourCycle:"h23"},sS={hour:be,minute:be,second:be,hourCycle:"h23"},oS={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:Di},aS={hour:be,minute:be,second:be,hourCycle:"h23",timeZoneName:jn},lS={year:be,month:be,day:be,hour:be,minute:be},cS={year:be,month:be,day:be,hour:be,minute:be,second:be},uS={year:be,month:Di,day:be,hour:be,minute:be},dS={year:be,month:Di,day:be,hour:be,minute:be,second:be},MF={year:be,month:Di,day:be,weekday:Di,hour:be,minute:be},hS={year:be,month:jn,day:be,hour:be,minute:be,timeZoneName:Di},pS={year:be,month:jn,day:be,hour:be,minute:be,second:be,timeZoneName:Di},fS={year:be,month:jn,day:be,weekday:jn,hour:be,minute:be,timeZoneName:jn},mS={year:be,month:jn,day:be,weekday:jn,hour:be,minute:be,second:be,timeZoneName:jn};class tc{get type(){throw new Mr}get name(){throw new Mr}get ianaName(){return this.name}get isUniversal(){throw new Mr}offsetName(e,t){throw new Mr}formatOffset(e,t){throw new Mr}offset(e){throw new Mr}equals(e){throw new Mr}get isValid(){throw new Mr}}let tf=null;class $h extends tc{static get instance(){return tf===null&&(tf=new $h),tf}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return yS(e,t,i)}formatOffset(e,t){return ll(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Au={};function _F(n){return Au[n]||(Au[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Au[n]}const DF={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function LF(n,e){const t=n.format(e).replace(/\u200E/g,""),i=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(t),[,r,s,o,a,l,c,u]=i;return[o,r,s,a,l,c,u]}function qF(n,e){const t=n.formatToParts(e),i=[];for(let r=0;r<t.length;r++){const{type:s,value:o}=t[r],a=DF[s];s==="era"?i[a]=o:Ue(a)||(i[a]=parseInt(o,10))}return i}let tu={};class Cr extends tc{static create(e){return tu[e]||(tu[e]=new Cr(e)),tu[e]}static resetCache(){tu={},Au={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(t){return!1}}constructor(e){super(),this.zoneName=e,this.valid=Cr.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return yS(e,t,i,this.name)}formatOffset(e,t){return ll(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=_F(this.name);let[r,s,o,a,l,c,u]=i.formatToParts?qF(i,t):LF(i,t);a==="BC"&&(r=-Math.abs(r)+1);const h=Oh({year:r,month:s,day:o,hour:l===24?0:l,minute:c,second:u,millisecond:0});let p=+t;const y=p%1e3;return p-=y>=0?y:1e3+y,(h-p)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Aw={};function BF(n,e={}){const t=JSON.stringify([n,e]);let i=Aw[t];return i||(i=new Intl.ListFormat(n,e),Aw[t]=i),i}let km={};function Rm(n,e={}){const t=JSON.stringify([n,e]);let i=km[t];return i||(i=new Intl.DateTimeFormat(n,e),km[t]=i),i}let $m={};function FF(n,e={}){const t=JSON.stringify([n,e]);let i=$m[t];return i||(i=new Intl.NumberFormat(n,e),$m[t]=i),i}let Pm={};function UF(n,e={}){const{base:t,...i}=e,r=JSON.stringify([n,i]);let s=Pm[r];return s||(s=new Intl.RelativeTimeFormat(n,e),Pm[r]=s),s}let Ga=null;function jF(){return Ga||(Ga=new Intl.DateTimeFormat().resolvedOptions().locale,Ga)}function zF(n){const e=n.indexOf("-x-");e!==-1&&(n=n.substring(0,e));const t=n.indexOf("-u-");if(t===-1)return[n];{let i,r;try{i=Rm(n).resolvedOptions(),r=n}catch(a){const l=n.substring(0,t);i=Rm(l).resolvedOptions(),r=l}const{numberingSystem:s,calendar:o}=i;return[r,s,o]}}function VF(n,e,t){return(t||e)&&(n.includes("-u-")||(n+="-u"),t&&(n+="-ca-".concat(t)),e&&(n+="-nu-".concat(e))),n}function HF(n){const e=[];for(let t=1;t<=12;t++){const i=_e.utc(2009,t,1);e.push(n(i))}return e}function WF(n){const e=[];for(let t=1;t<=7;t++){const i=_e.utc(2016,11,13+t);e.push(n(i))}return e}function nu(n,e,t,i){const r=n.listingMode();return r==="error"?null:r==="en"?t(e):i(e)}function QF(n){return n.numberingSystem&&n.numberingSystem!=="latn"?!1:n.numberingSystem==="latn"||!n.locale||n.locale.startsWith("en")||new Intl.DateTimeFormat(n.intl).resolvedOptions().numberingSystem==="latn"}class GF{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:r,floor:s,...o}=i;if(!t||Object.keys(o).length>0){const a={useGrouping:!1,...i};i.padTo>0&&(a.minimumIntegerDigits=i.padTo),this.inf=FF(e,a)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}else{const t=this.floor?Math.floor(e):Sy(e,3);return It(t,this.padTo)}}}class KF{constructor(e,t,i){this.opts=i,this.originalZone=void 0;let r;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?"Etc/GMT+".concat(o):"Etc/GMT".concat(o);e.offset!==0&&Cr.create(a).valid?(r=a,this.dt=e):(r="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,r=e.zone.name):(r="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||r,this.dtf=Rm(t,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(t=>{if(t.type==="timeZoneName"){const i=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:i}}else return t}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class YF{constructor(e,t,i){this.opts={style:"long",...i},!t&&gS()&&(this.rtf=UF(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):p4(t,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class ct{static fromOpts(e){return ct.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,i,r=!1){const s=e||Ot.defaultLocale,o=s||(r?"en-US":jF()),a=t||Ot.defaultNumberingSystem,l=i||Ot.defaultOutputCalendar;return new ct(o,a,l,s)}static resetCache(){Ga=null,km={},$m={},Pm={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:i}={}){return ct.create(e,t,i)}constructor(e,t,i,r){const[s,o,a]=zF(e);this.locale=s,this.numberingSystem=t||o||null,this.outputCalendar=i||a||null,this.intl=VF(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=QF(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&t?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ct.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return nu(this,e,wS,()=>{const i=t?{month:e,day:"numeric"}:{month:e},r=t?"format":"standalone";return this.monthsCache[r][e]||(this.monthsCache[r][e]=HF(s=>this.extract(s,i,"month"))),this.monthsCache[r][e]})}weekdays(e,t=!1){return nu(this,e,TS,()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},r=t?"format":"standalone";return this.weekdaysCache[r][e]||(this.weekdaysCache[r][e]=WF(s=>this.extract(s,i,"weekday"))),this.weekdaysCache[r][e]})}meridiems(){return nu(this,void 0,()=>CS,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[_e.utc(2016,11,13,9),_e.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return nu(this,e,SS,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[_e.utc(-40,1,1),_e.utc(2017,1,1)].map(i=>this.extract(i,t,"era"))),this.eraCache[e]})}extract(e,t,i){const r=this.dtFormatter(e,t),s=r.formatToParts(),o=s.find(a=>a.type.toLowerCase()===i);return o?o.value:null}numberFormatter(e={}){return new GF(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new KF(e,this.intl,t)}relFormatter(e={}){return new YF(this.intl,this.isEnglish(),e)}listFormatter(e={}){return BF(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let nf=null;class bn extends tc{static get utcInstance(){return nf===null&&(nf=new bn(0)),nf}static instance(e){return e===0?bn.utcInstance:new bn(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new bn(Ih(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":"UTC".concat(ll(this.fixed,"narrow"))}get ianaName(){return this.fixed===0?"Etc/UTC":"Etc/GMT".concat(ll(-this.fixed,"narrow"))}offsetName(){return this.name}formatOffset(e,t){return ll(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class JF extends tc{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function zr(n,e){if(Ue(n)||n===null)return e;if(n instanceof tc)return n;if(XF(n)){const t=n.toLowerCase();return t==="default"?e:t==="local"||t==="system"?$h.instance:t==="utc"||t==="gmt"?bn.utcInstance:bn.parseSpecifier(t)||Cr.create(n)}else return Rs(n)?bn.instance(n):typeof n=="object"&&"offset"in n&&typeof n.offset=="function"?n:new JF(n)}let kw=()=>Date.now(),Rw="system",$w=null,Pw=null,Ow=null,Iw=60,Mw;class Ot{static get now(){return kw}static set now(e){kw=e}static set defaultZone(e){Rw=e}static get defaultZone(){return zr(Rw,$h.instance)}static get defaultLocale(){return $w}static set defaultLocale(e){$w=e}static get defaultNumberingSystem(){return Pw}static set defaultNumberingSystem(e){Pw=e}static get defaultOutputCalendar(){return Ow}static set defaultOutputCalendar(e){Ow=e}static get twoDigitCutoffYear(){return Iw}static set twoDigitCutoffYear(e){Iw=e%100}static get throwOnInvalid(){return Mw}static set throwOnInvalid(e){Mw=e}static resetCaches(){ct.resetCache(),Cr.resetCache()}}function Ue(n){return typeof n>"u"}function Rs(n){return typeof n=="number"}function Ph(n){return typeof n=="number"&&n%1===0}function XF(n){return typeof n=="string"}function ZF(n){return Object.prototype.toString.call(n)==="[object Date]"}function gS(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch(n){return!1}}function e4(n){return Array.isArray(n)?n:[n]}function _w(n,e,t){if(n.length!==0)return n.reduce((i,r)=>{const s=[e(r),r];return i&&t(i[0],s[0])===i[0]?i:s},null)[1]}function t4(n,e){return e.reduce((t,i)=>(t[i]=n[i],t),{})}function Go(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function fr(n,e,t){return Ph(n)&&n>=e&&n<=t}function n4(n,e){return n-e*Math.floor(n/e)}function It(n,e=2){const t=n<0;let i;return t?i="-"+(""+-n).padStart(e,"0"):i=(""+n).padStart(e,"0"),i}function Br(n){if(!(Ue(n)||n===null||n===""))return parseInt(n,10)}function ms(n){if(!(Ue(n)||n===null||n===""))return parseFloat(n)}function Cy(n){if(!(Ue(n)||n===null||n==="")){const e=parseFloat("0."+n)*1e3;return Math.floor(e)}}function Sy(n,e,t=!1){const i=10**e;return(t?Math.trunc:Math.round)(n*i)/i}function nc(n){return n%4===0&&(n%100!==0||n%400===0)}function al(n){return nc(n)?366:365}function xd(n,e){const t=n4(e-1,12)+1,i=n+(e-t)/12;return t===2?nc(i)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][t-1]}function Oh(n){let e=Date.UTC(n.year,n.month-1,n.day,n.hour,n.minute,n.second,n.millisecond);return n.year<100&&n.year>=0&&(e=new Date(e),e.setUTCFullYear(n.year,n.month-1,n.day)),+e}function Td(n){const e=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7,t=n-1,i=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7;return e===4||i===3?53:52}function Om(n){return n>99?n:n>Ot.twoDigitCutoffYear?1900+n:2e3+n}function yS(n,e,t,i=null){const r=new Date(n),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};i&&(s.timeZone=i);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(t,o).formatToParts(r).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Ih(n,e){let t=parseInt(n,10);Number.isNaN(t)&&(t=0);const i=parseInt(e,10)||0,r=t<0||Object.is(t,-0)?-i:i;return t*60+r}function bS(n){const e=Number(n);if(typeof n=="boolean"||n===""||Number.isNaN(e))throw new ri("Invalid unit value ".concat(n));return e}function Cd(n,e){const t={};for(const i in n)if(Go(n,i)){const r=n[i];if(r==null)continue;t[e(i)]=bS(r)}return t}function ll(n,e){const t=Math.trunc(Math.abs(n/60)),i=Math.trunc(Math.abs(n%60)),r=n>=0?"+":"-";switch(e){case"short":return"".concat(r).concat(It(t,2),":").concat(It(i,2));case"narrow":return"".concat(r).concat(t).concat(i>0?":".concat(i):"");case"techie":return"".concat(r).concat(It(t,2)).concat(It(i,2));default:throw new RangeError("Value format ".concat(e," is out of range for property format"))}}function Mh(n){return t4(n,["hour","minute","second","millisecond"])}const i4=["January","February","March","April","May","June","July","August","September","October","November","December"],vS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],r4=["J","F","M","A","M","J","J","A","S","O","N","D"];function wS(n){switch(n){case"narrow":return[...r4];case"short":return[...vS];case"long":return[...i4];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ES=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],xS=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],s4=["M","T","W","T","F","S","S"];function TS(n){switch(n){case"narrow":return[...s4];case"short":return[...xS];case"long":return[...ES];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const CS=["AM","PM"],o4=["Before Christ","Anno Domini"],a4=["BC","AD"],l4=["B","A"];function SS(n){switch(n){case"narrow":return[...l4];case"short":return[...a4];case"long":return[...o4];default:return null}}function c4(n){return CS[n.hour<12?0:1]}function u4(n,e){return TS(e)[n.weekday-1]}function d4(n,e){return wS(e)[n.month-1]}function h4(n,e){return SS(e)[n.year<0?0:1]}function p4(n,e,t="always",i=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(n)===-1;if(t==="auto"&&s){const d=n==="days";switch(e){case 1:return d?"tomorrow":"next ".concat(r[n][0]);case-1:return d?"yesterday":"last ".concat(r[n][0]);case 0:return d?"today":"this ".concat(r[n][0])}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,c=r[n],u=i?l?c[1]:c[2]||c[1]:l?r[n][0]:n;return o?"".concat(a," ").concat(u," ago"):"in ".concat(a," ").concat(u)}function Dw(n,e){let t="";for(const i of n)i.literal?t+=i.val:t+=e(i.val);return t}const f4={D:Ed,DD:JC,DDD:XC,DDDD:ZC,t:eS,tt:tS,ttt:nS,tttt:iS,T:rS,TT:sS,TTT:oS,TTTT:aS,f:lS,ff:uS,fff:hS,ffff:fS,F:cS,FF:dS,FFF:pS,FFFF:mS};class un{static create(e,t={}){return new un(e,t)}static parseFormat(e){let t=null,i="",r=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?(i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),t=null,i="",r=!r):r||a===t?i+=a:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=a,t=a)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s}static macroTokenToFormatOpts(e){return f4[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return It(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i=this.loc.listingMode()==="en",r=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(p,y)=>this.loc.extract(e,p,y),o=p=>e.isOffsetFixed&&e.offset===0&&p.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,p.format):"",a=()=>i?c4(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(p,y)=>i?d4(e,p):s(y?{month:p}:{month:p,day:"numeric"},"month"),c=(p,y)=>i?u4(e,p):s(y?{weekday:p}:{weekday:p,month:"long",day:"numeric"},"weekday"),u=p=>{const y=un.macroTokenToFormatOpts(p);return y?this.formatWithSystemDefault(e,y):p},d=p=>i?h4(e,p):s({era:p},"era"),h=p=>{switch(p){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return r?s({day:"numeric"},"day"):this.num(e.day);case"dd":return r?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return r?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return r?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return r?s({month:"numeric"},"month"):this.num(e.month);case"MM":return r?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return r?s({year:"numeric"},"year"):this.num(e.year);case"yy":return r?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return r?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return r?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return u(p)}};return Dw(un.parseFormat(t),h)}formatDurationFromString(e,t){const i=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},r=l=>c=>{const u=i(c);return u?this.num(l.get(u),c.length):c},s=un.parseFormat(t),o=s.reduce((l,{literal:c,val:u})=>c?l:l.concat(u),[]),a=e.shiftTo(...o.map(i).filter(l=>l));return Dw(s,r(a))}}class Ai{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?"".concat(this.reason,": ").concat(this.explanation):this.reason}}const NS=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function sa(...n){const e=n.reduce((t,i)=>t+i.source,"");return RegExp("^".concat(e,"$"))}function oa(...n){return e=>n.reduce(([t,i,r],s)=>{const[o,a,l]=s(e,r);return[{...t,...o},a||i,l]},[{},null,1]).slice(0,2)}function aa(n,...e){if(n==null)return[null,null];for(const[t,i]of e){const r=t.exec(n);if(r)return i(r)}return[null,null]}function AS(...n){return(e,t)=>{const i={};let r;for(r=0;r<n.length;r++)i[n[r]]=Br(e[t+r]);return[i,null,t+r]}}const kS=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,m4="(?:".concat(kS.source,"?(?:\\[(").concat(NS.source,")\\])?)?"),Ny=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,RS=RegExp("".concat(Ny.source).concat(m4)),Ay=RegExp("(?:T".concat(RS.source,")?")),g4=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,y4=/(\d{4})-?W(\d\d)(?:-?(\d))?/,b4=/(\d{4})-?(\d{3})/,v4=AS("weekYear","weekNumber","weekDay"),w4=AS("year","ordinal"),E4=/(\d{4})-(\d\d)-(\d\d)/,$S=RegExp("".concat(Ny.source," ?(?:").concat(kS.source,"|(").concat(NS.source,"))?")),x4=RegExp("(?: ".concat($S.source,")?"));function Mo(n,e,t){const i=n[e];return Ue(i)?t:Br(i)}function T4(n,e){return[{year:Mo(n,e),month:Mo(n,e+1,1),day:Mo(n,e+2,1)},null,e+3]}function la(n,e){return[{hours:Mo(n,e,0),minutes:Mo(n,e+1,0),seconds:Mo(n,e+2,0),milliseconds:Cy(n[e+3])},null,e+4]}function ic(n,e){const t=!n[e]&&!n[e+1],i=Ih(n[e+1],n[e+2]),r=t?null:bn.instance(i);return[{},r,e+3]}function rc(n,e){const t=n[e]?Cr.create(n[e]):null;return[{},t,e+1]}const C4=RegExp("^T?".concat(Ny.source,"$")),S4=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function N4(n){const[e,t,i,r,s,o,a,l,c]=n,u=e[0]==="-",d=l&&l[0]==="-",h=(p,y=!1)=>p!==void 0&&(y||p&&u)?-p:p;return[{years:h(ms(t)),months:h(ms(i)),weeks:h(ms(r)),days:h(ms(s)),hours:h(ms(o)),minutes:h(ms(a)),seconds:h(ms(l),l==="-0"),milliseconds:h(Cy(c),d)}]}const A4={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function ky(n,e,t,i,r,s,o){const a={year:e.length===2?Om(Br(e)):Br(e),month:vS.indexOf(t)+1,day:Br(i),hour:Br(r),minute:Br(s)};return o&&(a.second=Br(o)),n&&(a.weekday=n.length>3?ES.indexOf(n)+1:xS.indexOf(n)+1),a}const k4=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function R4(n){const[,e,t,i,r,s,o,a,l,c,u,d]=n,h=ky(e,r,i,t,s,o,a);let p;return l?p=A4[l]:c?p=0:p=Ih(u,d),[h,new bn(p)]}function $4(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const P4=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,O4=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,I4=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Lw(n){const[,e,t,i,r,s,o,a]=n;return[ky(e,r,i,t,s,o,a),bn.utcInstance]}function M4(n){const[,e,t,i,r,s,o,a]=n;return[ky(e,a,t,i,r,s,o),bn.utcInstance]}const _4=sa(g4,Ay),D4=sa(y4,Ay),L4=sa(b4,Ay),q4=sa(RS),PS=oa(T4,la,ic,rc),B4=oa(v4,la,ic,rc),F4=oa(w4,la,ic,rc),U4=oa(la,ic,rc);function j4(n){return aa(n,[_4,PS],[D4,B4],[L4,F4],[q4,U4])}function z4(n){return aa($4(n),[k4,R4])}function V4(n){return aa(n,[P4,Lw],[O4,Lw],[I4,M4])}function H4(n){return aa(n,[S4,N4])}const W4=oa(la);function Q4(n){return aa(n,[C4,W4])}const G4=sa(E4,x4),K4=sa($S),Y4=oa(la,ic,rc);function J4(n){return aa(n,[G4,PS],[K4,Y4])}const qw="Invalid Duration",OS={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},X4={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...OS},Xn=146097/400,eo=146097/4800,Z4={years:{quarters:4,months:12,weeks:Xn/7,days:Xn,hours:Xn*24,minutes:Xn*24*60,seconds:Xn*24*60*60,milliseconds:Xn*24*60*60*1e3},quarters:{months:3,weeks:Xn/28,days:Xn/4,hours:Xn*24/4,minutes:Xn*24*60/4,seconds:Xn*24*60*60/4,milliseconds:Xn*24*60*60*1e3/4},months:{weeks:eo/7,days:eo,hours:eo*24,minutes:eo*24*60,seconds:eo*24*60*60,milliseconds:eo*24*60*60*1e3},...OS},Ss=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],eU=Ss.slice(0).reverse();function _r(n,e,t=!1){const i={values:t?e.values:{...n.values,...e.values||{}},loc:n.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||n.conversionAccuracy,matrix:e.matrix||n.matrix};return new Ve(i)}function IS(n,e){var i;let t=(i=e.milliseconds)!=null?i:0;for(const r of eU.slice(1))e[r]&&(t+=e[r]*n[r].milliseconds);return t}function Bw(n,e){const t=IS(n,e)<0?-1:1;Ss.reduceRight((i,r)=>{if(Ue(e[r]))return i;if(i){const s=e[i]*t,o=n[r][i],a=Math.floor(s/o);e[r]+=a*t,e[i]-=a*o*t}return r},null),Ss.reduce((i,r)=>{if(Ue(e[r]))return i;if(i){const s=e[i]%1;e[i]-=s,e[r]+=s*n[i][r]}return r},null)}function tU(n){const e={};for(const[t,i]of Object.entries(n))i!==0&&(e[t]=i);return e}class Ve{constructor(e){const t=e.conversionAccuracy==="longterm"||!1;let i=t?Z4:X4;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||ct.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return Ve.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(e==null||typeof e!="object")throw new ri("Duration.fromObject: argument expected to be an object, got ".concat(e===null?"null":typeof e));return new Ve({values:Cd(e,Ve.normalizeUnit),loc:ct.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Rs(e))return Ve.fromMillis(e);if(Ve.isDuration(e))return e;if(typeof e=="object")return Ve.fromObject(e);throw new ri("Unknown duration argument ".concat(e," of type ").concat(typeof e))}static fromISO(e,t){const[i]=H4(e);return i?Ve.fromObject(i,t):Ve.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static fromISOTime(e,t){const[i]=Q4(e);return i?Ve.fromObject(i,t):Ve.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static invalid(e,t=null){if(!e)throw new ri("need to specify a reason the Duration is invalid");const i=e instanceof Ai?e:new Ai(e,t);if(Ot.throwOnInvalid)throw new OF(i);return new Ve({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!t)throw new YC(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:t.round!==!1&&t.floor!==!1};return this.isValid?un.create(this.loc,i).formatDurationFromString(this,e):qw}toHuman(e={}){if(!this.isValid)return qw;const t=Ss.map(i=>{const r=this.values[i];return Ue(r)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:i.slice(0,-1)}).format(r)}).filter(i=>i);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Sy(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},_e.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?IS(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=Ve.fromDurationLike(e),i={};for(const r of Ss)(Go(t.values,r)||Go(this.values,r))&&(i[r]=t.get(r)+this.get(r));return _r(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=Ve.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=bS(e(this.values[i],i));return _r(this,{values:t},!0)}get(e){return this[Ve.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const t={...this.values,...Cd(e,Ve.normalizeUnit)};return _r(this,{values:t})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:r}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:r,conversionAccuracy:i};return _r(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Bw(this.matrix,e),_r(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=tU(this.normalize().shiftToAll().toObject());return _r(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>Ve.normalizeUnit(o));const t={},i={},r=this.toObject();let s;for(const o of Ss)if(e.indexOf(o)>=0){s=o;let a=0;for(const c in i)a+=this.matrix[c][o]*i[c],i[c]=0;Rs(r[o])&&(a+=r[o]);const l=Math.trunc(a);t[o]=l,i[o]=(a*1e3-l*1e3)/1e3}else Rs(r[o])&&(i[o]=r[o]);for(const o in i)i[o]!==0&&(t[s]+=o===s?i[o]:i[o]/this.matrix[s][o]);return Bw(this.matrix,t),_r(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=this.values[t]===0?0:-this.values[t];return _r(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function t(i,r){return i===void 0||i===0?r===void 0||r===0:i===r}for(const i of Ss)if(!t(this.values[i],e.values[i]))return!1;return!0}}const to="Invalid Interval";function nU(n,e){return!n||!n.isValid?xt.invalid("missing or invalid start"):!e||!e.isValid?xt.invalid("missing or invalid end"):e<n?xt.invalid("end before start","The end of an interval must be after its start, but you had start=".concat(n.toISO()," and end=").concat(e.toISO())):null}class xt{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new ri("need to specify a reason the Interval is invalid");const i=e instanceof Ai?e:new Ai(e,t);if(Ot.throwOnInvalid)throw new PF(i);return new xt({invalid:i})}static fromDateTimes(e,t){const i=Ba(e),r=Ba(t),s=nU(i,r);return s==null?new xt({start:i,end:r}):s}static after(e,t){const i=Ve.fromDurationLike(t),r=Ba(e);return xt.fromDateTimes(r,r.plus(i))}static before(e,t){const i=Ve.fromDurationLike(t),r=Ba(e);return xt.fromDateTimes(r.minus(i),r)}static fromISO(e,t){const[i,r]=(e||"").split("/",2);if(i&&r){let s,o;try{s=_e.fromISO(i,t),o=s.isValid}catch(c){o=!1}let a,l;try{a=_e.fromISO(r,t),l=a.isValid}catch(c){l=!1}if(o&&l)return xt.fromDateTimes(s,a);if(o){const c=Ve.fromISO(r,t);if(c.isValid)return xt.after(s,c)}else if(l){const c=Ve.fromISO(i,t);if(c.isValid)return xt.before(a,c)}}return xt.invalid("unparsable",'the input "'.concat(e,"\" can't be parsed as ISO 8601"))}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),i=this.end.startOf(e);return Math.floor(i.diff(t,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:t}={}){return this.isValid?xt.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(Ba).filter(o=>this.contains(o)).sort(),i=[];let{s:r}=this,s=0;for(;r<this.e;){const o=t[s]||this.e,a=+o>+this.e?this.e:o;i.push(xt.fromDateTimes(r,a)),r=a,s+=1}return i}splitBy(e){const t=Ve.fromDurationLike(e);if(!this.isValid||!t.isValid||t.as("milliseconds")===0)return[];let{s:i}=this,r=1,s;const o=[];for(;i<this.e;){const a=this.start.plus(t.mapUnits(l=>l*r));s=+a>+this.e?this.e:a,o.push(xt.fromDateTimes(i,s)),i=s,r+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:xt.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return xt.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort((r,s)=>r.s-s.s).reduce(([r,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[r,s.union(o)]:[r.concat([s]),o]:[r,o],[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const r=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,c)=>l.time-c.time);for(const l of a)i+=l.type==="s"?1:-1,i===1?t=l.time:(t&&+t!=+l.time&&r.push(xt.fromDateTimes(t,l.time)),t=null);return xt.merge(r)}difference(...e){return xt.xor([this].concat(e)).map(t=>this.intersection(t)).filter(t=>t&&!t.isEmpty())}toString(){return this.isValid?"[".concat(this.s.toISO()," – ").concat(this.e.toISO(),")"):to}toLocaleString(e=Ed,t={}){return this.isValid?un.create(this.s.loc.clone(t),e).formatInterval(this):to}toISO(e){return this.isValid?"".concat(this.s.toISO(e),"/").concat(this.e.toISO(e)):to}toISODate(){return this.isValid?"".concat(this.s.toISODate(),"/").concat(this.e.toISODate()):to}toISOTime(e){return this.isValid?"".concat(this.s.toISOTime(e),"/").concat(this.e.toISOTime(e)):to}toFormat(e,{separator:t=" – "}={}){return this.isValid?"".concat(this.s.toFormat(e)).concat(t).concat(this.e.toFormat(e)):to}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):Ve.invalid(this.invalidReason)}mapEndpoints(e){return xt.fromDateTimes(e(this.s),e(this.e))}}class iu{static hasDST(e=Ot.defaultZone){const t=_e.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return Cr.isValidZone(e)}static normalizeZone(e){return zr(e,Ot.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||ct.create(t,i,s)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null,outputCalendar:s="gregory"}={}){return(r||ct.create(t,i,s)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||ct.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:r=null}={}){return(r||ct.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ct.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return ct.create(t,null,"gregory").eras(e)}static features(){return{relative:gS()}}}function Fw(n,e){const t=r=>r.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),i=t(e)-t(n);return Math.floor(Ve.fromMillis(i).as("days"))}function iU(n,e,t){const i=[["years",(l,c)=>c.year-l.year],["quarters",(l,c)=>c.quarter-l.quarter+(c.year-l.year)*4],["months",(l,c)=>c.month-l.month+(c.year-l.year)*12],["weeks",(l,c)=>{const u=Fw(l,c);return(u-u%7)/7}],["days",Fw]],r={},s=n;let o,a;for(const[l,c]of i)t.indexOf(l)>=0&&(o=l,r[l]=c(n,e),a=s.plus(r),a>e?(r[l]--,n=s.plus(r),n>e&&(a=n,r[l]--,n=s.plus(r))):n=a);return[n,r,a,o]}function rU(n,e,t,i){let[r,s,o,a]=iU(n,e,t);const l=e-r,c=t.filter(d=>["hours","minutes","seconds","milliseconds"].indexOf(d)>=0);c.length===0&&(o<e&&(o=r.plus({[a]:1})),o!==r&&(s[a]=(s[a]||0)+l/(o-r)));const u=Ve.fromObject(s,i);return c.length>0?Ve.fromMillis(l,i).shiftTo(...c).plus(u):u}const Ry={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Uw={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},sU=Ry.hanidec.replace(/[\[|\]]/g,"").split("");function oU(n){let e=parseInt(n,10);if(isNaN(e)){e="";for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);if(n[t].search(Ry.hanidec)!==-1)e+=sU.indexOf(n[t]);else for(const r in Uw){const[s,o]=Uw[r];i>=s&&i<=o&&(e+=i-s)}}return parseInt(e,10)}else return e}function gi({numberingSystem:n},e=""){return new RegExp("".concat(Ry[n||"latn"]).concat(e))}const aU="missing Intl.DateTimeFormat.formatToParts support";function Ke(n,e=t=>t){return{regex:n,deser:([t])=>e(oU(t))}}const lU=String.fromCharCode(160),MS="[ ".concat(lU,"]"),_S=new RegExp(MS,"g");function cU(n){return n.replace(/\./g,"\\.?").replace(_S,MS)}function jw(n){return n.replace(/\./g,"").replace(_S," ").toLowerCase()}function yi(n,e){return n===null?null:{regex:RegExp(n.map(cU).join("|")),deser:([t])=>n.findIndex(i=>jw(t)===jw(i))+e}}function zw(n,e){return{regex:n,deser:([,t,i])=>Ih(t,i),groups:e}}function ru(n){return{regex:n,deser:([e])=>e}}function uU(n){return n.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function dU(n,e){const t=gi(e),i=gi(e,"{2}"),r=gi(e,"{3}"),s=gi(e,"{4}"),o=gi(e,"{6}"),a=gi(e,"{1,2}"),l=gi(e,"{1,3}"),c=gi(e,"{1,6}"),u=gi(e,"{1,9}"),d=gi(e,"{2,4}"),h=gi(e,"{4,6}"),p=S=>({regex:RegExp(uU(S.val)),deser:([E])=>E,literal:!0}),v=(S=>{if(n.literal)return p(S);switch(S.val){case"G":return yi(e.eras("short"),0);case"GG":return yi(e.eras("long"),0);case"y":return Ke(c);case"yy":return Ke(d,Om);case"yyyy":return Ke(s);case"yyyyy":return Ke(h);case"yyyyyy":return Ke(o);case"M":return Ke(a);case"MM":return Ke(i);case"MMM":return yi(e.months("short",!0),1);case"MMMM":return yi(e.months("long",!0),1);case"L":return Ke(a);case"LL":return Ke(i);case"LLL":return yi(e.months("short",!1),1);case"LLLL":return yi(e.months("long",!1),1);case"d":return Ke(a);case"dd":return Ke(i);case"o":return Ke(l);case"ooo":return Ke(r);case"HH":return Ke(i);case"H":return Ke(a);case"hh":return Ke(i);case"h":return Ke(a);case"mm":return Ke(i);case"m":return Ke(a);case"q":return Ke(a);case"qq":return Ke(i);case"s":return Ke(a);case"ss":return Ke(i);case"S":return Ke(l);case"SSS":return Ke(r);case"u":return ru(u);case"uu":return ru(a);case"uuu":return Ke(t);case"a":return yi(e.meridiems(),0);case"kkkk":return Ke(s);case"kk":return Ke(d,Om);case"W":return Ke(a);case"WW":return Ke(i);case"E":case"c":return Ke(t);case"EEE":return yi(e.weekdays("short",!1),1);case"EEEE":return yi(e.weekdays("long",!1),1);case"ccc":return yi(e.weekdays("short",!0),1);case"cccc":return yi(e.weekdays("long",!0),1);case"Z":case"ZZ":return zw(new RegExp("([+-]".concat(a.source,")(?::(").concat(i.source,"))?")),2);case"ZZZ":return zw(new RegExp("([+-]".concat(a.source,")(").concat(i.source,")?")),2);case"z":return ru(/[a-z_+-/]{1,256}?/i);case" ":return ru(/[^\S\n\r]/);default:return p(S)}})(n)||{invalidReason:aU};return v.token=n,v}const hU={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function pU(n,e,t){const{type:i,value:r}=n;if(i==="literal"){const l=/^\s+$/.test(r);return{literal:!l,val:l?" ":r}}const s=e[i];let o=i;i==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=t.hour12?"hour12":"hour24");let a=hU[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function fU(n){const e=n.map(t=>t.regex).reduce((t,i)=>"".concat(t,"(").concat(i.source,")"),"");return["^".concat(e,"$"),n]}function mU(n,e,t){const i=n.match(e);if(i){const r={};let s=1;for(const o in t)if(Go(t,o)){const a=t[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(r[a.token.val[0]]=a.deser(i.slice(s,s+l))),s+=l}return[i,r]}else return[i,{}]}function gU(n){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let t=null,i;return Ue(n.z)||(t=Cr.create(n.z)),Ue(n.Z)||(t||(t=new bn(n.Z)),i=n.Z),Ue(n.q)||(n.M=(n.q-1)*3+1),Ue(n.h)||(n.h<12&&n.a===1?n.h+=12:n.h===12&&n.a===0&&(n.h=0)),n.G===0&&n.y&&(n.y=-n.y),Ue(n.u)||(n.S=Cy(n.u)),[Object.keys(n).reduce((s,o)=>{const a=e(o);return a&&(s[a]=n[o]),s},{}),t,i]}let rf=null;function yU(){return rf||(rf=_e.fromMillis(1555555555555)),rf}function bU(n,e){if(n.literal)return n;const t=un.macroTokenToFormatOpts(n.val),i=qS(t,e);return i==null||i.includes(void 0)?n:i}function DS(n,e){return Array.prototype.concat(...n.map(t=>bU(t,e)))}function LS(n,e,t){const i=DS(un.parseFormat(t),n),r=i.map(o=>dU(o,n)),s=r.find(o=>o.invalidReason);if(s)return{input:e,tokens:i,invalidReason:s.invalidReason};{const[o,a]=fU(r),l=RegExp(o,"i"),[c,u]=mU(e,l,a),[d,h,p]=u?gU(u):[null,null,void 0];if(Go(u,"a")&&Go(u,"H"))throw new Qa("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:i,regex:l,rawMatches:c,matches:u,result:d,zone:h,specificOffset:p}}}function vU(n,e,t){const{result:i,zone:r,specificOffset:s,invalidReason:o}=LS(n,e,t);return[i,r,s,o]}function qS(n,e){if(!n)return null;const i=un.create(e,n).dtFormatter(yU()),r=i.formatToParts(),s=i.resolvedOptions();return r.map(o=>pU(o,n,s))}const BS=[0,31,59,90,120,151,181,212,243,273,304,334],FS=[0,31,60,91,121,152,182,213,244,274,305,335];function oi(n,e){return new Ai("unit out of range","you specified ".concat(e," (of type ").concat(typeof e,") as a ").concat(n,", which is invalid"))}function US(n,e,t){const i=new Date(Date.UTC(n,e-1,t));n<100&&n>=0&&i.setUTCFullYear(i.getUTCFullYear()-1900);const r=i.getUTCDay();return r===0?7:r}function jS(n,e,t){return t+(nc(n)?FS:BS)[e-1]}function zS(n,e){const t=nc(n)?FS:BS,i=t.findIndex(s=>s<e),r=e-t[i];return{month:i+1,day:r}}function Im(n){const{year:e,month:t,day:i}=n,r=jS(e,t,i),s=US(e,t,i);let o=Math.floor((r-s+10)/7),a;return o<1?(a=e-1,o=Td(a)):o>Td(e)?(a=e+1,o=1):a=e,{weekYear:a,weekNumber:o,weekday:s,...Mh(n)}}function Vw(n){const{weekYear:e,weekNumber:t,weekday:i}=n,r=US(e,1,4),s=al(e);let o=t*7+i-r-3,a;o<1?(a=e-1,o+=al(a)):o>s?(a=e+1,o-=al(e)):a=e;const{month:l,day:c}=zS(a,o);return{year:a,month:l,day:c,...Mh(n)}}function sf(n){const{year:e,month:t,day:i}=n,r=jS(e,t,i);return{year:e,ordinal:r,...Mh(n)}}function Hw(n){const{year:e,ordinal:t}=n,{month:i,day:r}=zS(e,t);return{year:e,month:i,day:r,...Mh(n)}}function wU(n){const e=Ph(n.weekYear),t=fr(n.weekNumber,1,Td(n.weekYear)),i=fr(n.weekday,1,7);return e?t?i?!1:oi("weekday",n.weekday):oi("week",n.week):oi("weekYear",n.weekYear)}function EU(n){const e=Ph(n.year),t=fr(n.ordinal,1,al(n.year));return e?t?!1:oi("ordinal",n.ordinal):oi("year",n.year)}function VS(n){const e=Ph(n.year),t=fr(n.month,1,12),i=fr(n.day,1,xd(n.year,n.month));return e?t?i?!1:oi("day",n.day):oi("month",n.month):oi("year",n.year)}function HS(n){const{hour:e,minute:t,second:i,millisecond:r}=n,s=fr(e,0,23)||e===24&&t===0&&i===0&&r===0,o=fr(t,0,59),a=fr(i,0,59),l=fr(r,0,999);return s?o?a?l?!1:oi("millisecond",r):oi("second",i):oi("minute",t):oi("hour",e)}const of="Invalid DateTime",Ww=864e13;function su(n){return new Ai("unsupported zone",'the zone "'.concat(n.name,'" is not supported'))}function af(n){return n.weekData===null&&(n.weekData=Im(n.c)),n.weekData}function gs(n,e){const t={ts:n.ts,zone:n.zone,c:n.c,o:n.o,loc:n.loc,invalid:n.invalid};return new _e({...t,...e,old:t})}function WS(n,e,t){let i=n-e*60*1e3;const r=t.offset(i);if(e===r)return[i,e];i-=(r-e)*60*1e3;const s=t.offset(i);return r===s?[i,r]:[n-Math.min(r,s)*60*1e3,Math.max(r,s)]}function ou(n,e){n+=e*60*1e3;const t=new Date(n);return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate(),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),millisecond:t.getUTCMilliseconds()}}function ku(n,e,t){return WS(Oh(n),e,t)}function Qw(n,e){const t=n.o,i=n.c.year+Math.trunc(e.years),r=n.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...n.c,year:i,month:r,day:Math.min(n.c.day,xd(i,r))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=Ve.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=Oh(s);let[l,c]=WS(a,t,n.zone);return o!==0&&(l+=o,c=n.zone.offset(l)),{ts:l,o:c}}function qa(n,e,t,i,r,s){const{setZone:o,zone:a}=t;if(n&&Object.keys(n).length!==0||e){const l=e||a,c=_e.fromObject(n,{...t,zone:l,specificOffset:s});return o?c:c.setZone(a)}else return _e.invalid(new Ai("unparsable",'the input "'.concat(r,"\" can't be parsed as ").concat(i)))}function au(n,e,t=!0){return n.isValid?un.create(ct.create("en-US"),{allowZ:t,forceSimple:!0}).formatDateTimeFromString(n,e):null}function lf(n,e){const t=n.c.year>9999||n.c.year<0;let i="";return t&&n.c.year>=0&&(i+="+"),i+=It(n.c.year,t?6:4),e?(i+="-",i+=It(n.c.month),i+="-",i+=It(n.c.day)):(i+=It(n.c.month),i+=It(n.c.day)),i}function Gw(n,e,t,i,r,s){let o=It(n.c.hour);return e?(o+=":",o+=It(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(o+=":")):o+=It(n.c.minute),(n.c.millisecond!==0||n.c.second!==0||!t)&&(o+=It(n.c.second),(n.c.millisecond!==0||!i)&&(o+=".",o+=It(n.c.millisecond,3))),r&&(n.isOffsetFixed&&n.offset===0&&!s?o+="Z":n.o<0?(o+="-",o+=It(Math.trunc(-n.o/60)),o+=":",o+=It(Math.trunc(-n.o%60))):(o+="+",o+=It(Math.trunc(n.o/60)),o+=":",o+=It(Math.trunc(n.o%60)))),s&&(o+="["+n.zone.ianaName+"]"),o}const QS={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},xU={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},TU={ordinal:1,hour:0,minute:0,second:0,millisecond:0},GS=["year","month","day","hour","minute","second","millisecond"],CU=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],SU=["year","ordinal","hour","minute","second","millisecond"];function Kw(n){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[n.toLowerCase()];if(!e)throw new YC(n);return e}function Yw(n,e){const t=zr(e.zone,Ot.defaultZone),i=ct.fromObject(e),r=Ot.now();let s,o;if(Ue(n.year))s=r;else{for(const c of GS)Ue(n[c])&&(n[c]=QS[c]);const a=VS(n)||HS(n);if(a)return _e.invalid(a);const l=t.offset(r);[s,o]=ku(n,l,t)}return new _e({ts:s,zone:t,loc:i,o})}function Jw(n,e,t){const i=Ue(t.round)?!0:t.round,r=(o,a)=>(o=Sy(o,i||t.calendary?0:2,!0),e.loc.clone(t).relFormatter(t).format(o,a)),s=o=>t.calendary?e.hasSame(n,o)?0:e.startOf(o).diff(n.startOf(o),o).get(o):e.diff(n,o).get(o);if(t.unit)return r(s(t.unit),t.unit);for(const o of t.units){const a=s(o);if(Math.abs(a)>=1)return r(a,o)}return r(n>e?-0:0,t.units[t.units.length-1])}function Xw(n){let e={},t;return n.length>0&&typeof n[n.length-1]=="object"?(e=n[n.length-1],t=Array.from(n).slice(0,n.length-1)):t=Array.from(n),[e,t]}class _e{constructor(e){const t=e.zone||Ot.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new Ai("invalid input"):null)||(t.isValid?null:su(t));this.ts=Ue(e.ts)?Ot.now():e.ts;let r=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[r,s]=[e.old.c,e.old.o];else{const a=t.offset(this.ts);r=ou(this.ts,a),i=Number.isNaN(r.year)?new Ai("invalid input"):null,r=i?null:r,s=i?null:a}this._zone=t,this.loc=e.loc||ct.create(),this.invalid=i,this.weekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}static now(){return new _e({})}static local(){const[e,t]=Xw(arguments),[i,r,s,o,a,l,c]=t;return Yw({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static utc(){const[e,t]=Xw(arguments),[i,r,s,o,a,l,c]=t;return e.zone=bn.utcInstance,Yw({year:i,month:r,day:s,hour:o,minute:a,second:l,millisecond:c},e)}static fromJSDate(e,t={}){const i=ZF(e)?e.valueOf():NaN;if(Number.isNaN(i))return _e.invalid("invalid input");const r=zr(t.zone,Ot.defaultZone);return r.isValid?new _e({ts:i,zone:r,loc:ct.fromObject(t)}):_e.invalid(su(r))}static fromMillis(e,t={}){if(Rs(e))return e<-Ww||e>Ww?_e.invalid("Timestamp out of range"):new _e({ts:e,zone:zr(t.zone,Ot.defaultZone),loc:ct.fromObject(t)});throw new ri("fromMillis requires a numerical input, but received a ".concat(typeof e," with value ").concat(e))}static fromSeconds(e,t={}){if(Rs(e))return new _e({ts:e*1e3,zone:zr(t.zone,Ot.defaultZone),loc:ct.fromObject(t)});throw new ri("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=zr(t.zone,Ot.defaultZone);if(!i.isValid)return _e.invalid(su(i));const r=Ot.now(),s=Ue(t.specificOffset)?i.offset(r):t.specificOffset,o=Cd(e,Kw),a=!Ue(o.ordinal),l=!Ue(o.year),c=!Ue(o.month)||!Ue(o.day),u=l||c,d=o.weekYear||o.weekNumber,h=ct.fromObject(t);if((u||a)&&d)throw new Qa("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new Qa("Can't mix ordinal dates with month/day");const p=d||o.weekday&&!u;let y,v,S=ou(r,s);p?(y=CU,v=xU,S=Im(S)):a?(y=SU,v=TU,S=sf(S)):(y=GS,v=QS);let E=!1;for(const M of y){const O=o[M];Ue(O)?E?o[M]=v[M]:o[M]=S[M]:E=!0}const w=p?wU(o):a?EU(o):VS(o),C=w||HS(o);if(C)return _e.invalid(C);const P=p?Vw(o):a?Hw(o):o,[q,H]=ku(P,s,i),L=new _e({ts:q,zone:i,o:H,loc:h});return o.weekday&&u&&e.weekday!==L.weekday?_e.invalid("mismatched weekday","you can't specify both a weekday of ".concat(o.weekday," and a date of ").concat(L.toISO())):L}static fromISO(e,t={}){const[i,r]=j4(e);return qa(i,r,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,r]=z4(e);return qa(i,r,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,r]=V4(e);return qa(i,r,t,"HTTP",t)}static fromFormat(e,t,i={}){if(Ue(e)||Ue(t))throw new ri("fromFormat requires an input string and a format");const{locale:r=null,numberingSystem:s=null}=i,o=ct.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0}),[a,l,c,u]=vU(o,e,t);return u?_e.invalid(u):qa(a,l,i,"format ".concat(t),e,c)}static fromString(e,t,i={}){return _e.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,r]=J4(e);return qa(i,r,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new ri("need to specify a reason the DateTime is invalid");const i=e instanceof Ai?e:new Ai(e,t);if(Ot.throwOnInvalid)throw new $F(i);return new _e({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=qS(e,ct.fromObject(t));return i?i.map(r=>r?r.val:null).join(""):null}static expandFormat(e,t={}){return DS(un.parseFormat(e),ct.fromObject(t)).map(r=>r.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?af(this).weekYear:NaN}get weekNumber(){return this.isValid?af(this).weekNumber:NaN}get weekday(){return this.isValid?af(this).weekday:NaN}get ordinal(){return this.isValid?sf(this.c).ordinal:NaN}get monthShort(){return this.isValid?iu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?iu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?iu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?iu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=Oh(this.c),r=this.zone.offset(i-e),s=this.zone.offset(i+e),o=this.zone.offset(i-r*t),a=this.zone.offset(i-s*t);if(o===a)return[this];const l=i-o*t,c=i-a*t,u=ou(l,o),d=ou(c,a);return u.hour===d.hour&&u.minute===d.minute&&u.second===d.second&&u.millisecond===d.millisecond?[gs(this,{ts:l}),gs(this,{ts:c})]:[this]}get isInLeapYear(){return nc(this.year)}get daysInMonth(){return xd(this.year,this.month)}get daysInYear(){return this.isValid?al(this.year):NaN}get weeksInWeekYear(){return this.isValid?Td(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:r}=un.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:r}}toUTC(e=0,t={}){return this.setZone(bn.instance(e),t)}toLocal(){return this.setZone(Ot.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if(e=zr(e,Ot.defaultZone),e.equals(this.zone))return this;if(e.isValid){let r=this.ts;if(t||i){const s=e.offset(this.ts),o=this.toObject();[r]=ku(o,s,e)}return gs(this,{ts:r,zone:e})}else return _e.invalid(su(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){const r=this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i});return gs(this,{loc:r})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=Cd(e,Kw),i=!Ue(t.weekYear)||!Ue(t.weekNumber)||!Ue(t.weekday),r=!Ue(t.ordinal),s=!Ue(t.year),o=!Ue(t.month)||!Ue(t.day),a=s||o,l=t.weekYear||t.weekNumber;if((a||r)&&l)throw new Qa("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&r)throw new Qa("Can't mix ordinal dates with month/day");let c;i?c=Vw({...Im(this.c),...t}):Ue(t.ordinal)?(c={...this.toObject(),...t},Ue(t.day)&&(c.day=Math.min(xd(c.year,c.month),c.day))):c=Hw({...sf(this.c),...t});const[u,d]=ku(c,this.o,this.zone);return gs(this,{ts:u,o:d})}plus(e){if(!this.isValid)return this;const t=Ve.fromDurationLike(e);return gs(this,Qw(this,t))}minus(e){if(!this.isValid)return this;const t=Ve.fromDurationLike(e).negate();return gs(this,Qw(this,t))}startOf(e){if(!this.isValid)return this;const t={},i=Ve.normalizeUnit(e);switch(i){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0;break}if(i==="weeks"&&(t.weekday=1),i==="quarters"){const r=Math.ceil(this.month/3);t.month=(r-1)*3+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?un.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):of}toLocaleString(e=Ed,t={}){return this.isValid?un.create(this.loc.clone(t),e).formatDateTime(this):of}toLocaleParts(e={}){return this.isValid?un.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:r=!0,extendedZone:s=!1}={}){if(!this.isValid)return null;const o=e==="extended";let a=lf(this,o);return a+="T",a+=Gw(this,o,t,i,r,s),a}toISODate({format:e="extended"}={}){return this.isValid?lf(this,e==="extended"):null}toISOWeekDate(){return au(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:r=!1,extendedZone:s=!1,format:o="extended"}={}){return this.isValid?(r?"T":"")+Gw(this,o==="extended",t,e,i,s):null}toRFC2822(){return au(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return au(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?lf(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let r="HH:mm:ss.SSS";return(t||e)&&(i&&(r+=" "),t?r+="z":e&&(r+="ZZ")),au(this,r,!0)}toSQL(e={}){return this.isValid?"".concat(this.toSQLDate()," ").concat(this.toSQLTime(e)):null}toString(){return this.isValid?this.toISO():of}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return Ve.invalid("created by diffing an invalid DateTime");const r={locale:this.locale,numberingSystem:this.numberingSystem,...i},s=e4(t).map(Ve.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,c=rU(a,l,s,r);return o?c.negate():c}diffNow(e="milliseconds",t={}){return this.diff(_e.now(),e,t)}until(e){return this.isValid?xt.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const i=e.valueOf(),r=this.setZone(e.zone,{keepLocalTime:!0});return r.startOf(t)<=i&&i<=r.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||_e.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let r=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(r=e.unit,s=void 0),Jw(t,this.plus(i),{...e,numeric:"always",units:r,unit:s})}toRelativeCalendar(e={}){return this.isValid?Jw(e.base||_e.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(_e.isDateTime))throw new ri("min requires all arguments be DateTimes");return _w(e,t=>t.valueOf(),Math.min)}static max(...e){if(!e.every(_e.isDateTime))throw new ri("max requires all arguments be DateTimes");return _w(e,t=>t.valueOf(),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:r=null,numberingSystem:s=null}=i,o=ct.fromOpts({locale:r,numberingSystem:s,defaultToEN:!0});return LS(o,e,t)}static fromStringExplain(e,t,i={}){return _e.fromFormatExplain(e,t,i)}static get DATE_SHORT(){return Ed}static get DATE_MED(){return JC}static get DATE_MED_WITH_WEEKDAY(){return IF}static get DATE_FULL(){return XC}static get DATE_HUGE(){return ZC}static get TIME_SIMPLE(){return eS}static get TIME_WITH_SECONDS(){return tS}static get TIME_WITH_SHORT_OFFSET(){return nS}static get TIME_WITH_LONG_OFFSET(){return iS}static get TIME_24_SIMPLE(){return rS}static get TIME_24_WITH_SECONDS(){return sS}static get TIME_24_WITH_SHORT_OFFSET(){return oS}static get TIME_24_WITH_LONG_OFFSET(){return aS}static get DATETIME_SHORT(){return lS}static get DATETIME_SHORT_WITH_SECONDS(){return cS}static get DATETIME_MED(){return uS}static get DATETIME_MED_WITH_SECONDS(){return dS}static get DATETIME_MED_WITH_WEEKDAY(){return MF}static get DATETIME_FULL(){return hS}static get DATETIME_FULL_WITH_SECONDS(){return pS}static get DATETIME_HUGE(){return fS}static get DATETIME_HUGE_WITH_SECONDS(){return mS}}function Ba(n){if(_e.isDateTime(n))return n;if(n&&n.valueOf&&Rs(n.valueOf()))return _e.fromJSDate(n);if(n&&typeof n=="object")return _e.fromObject(n);throw new ri("Unknown datetime argument: ".concat(n,", of type ").concat(typeof n))}const NU=({timerInterval:n,timerKey:e,timerDuration:t,timerActive:i,unsetTimer:r})=>{const o=t?(t-Date.now())/1e3:n*1,a=(l,c)=>{const u=Ve.fromMillis(l*1e3).toFormat("mm:ss");return Y.jsxs("div",{className:"time-wrapper",children:[Y.jsx("div",{children:c?"NEXT BREAK IS IN":"CLICK PLAY BUTTON"}),Y.jsx("div",{className:"timer-digits",children:Y.jsx("div",{children:u})})]})};return Y.jsx(KC,{isPlaying:i,size:300,strokeWidth:22,colors:["#004777","#F7B801","#A30000","#A30000"],colorsTime:[7,5,2,0],rotation:"clockwise",duration:n*1,initialRemainingTime:o>0?o:n*1,onComplete:()=>{r()},children:({remainingTime:l})=>a(l,i)},e)},AU=({timerStatus:n,timerHandler:e})=>Y.jsx(Hi,{color:"success",expand:"full",onClick:e,children:Y.jsx(Si,{icon:n==="running"?GL:KL,size:"large"})});const KS=()=>{const n=()=>{window.location.href="https://backpackgym.com"};return Y.jsxs(eL,{contentId:"main-content",children:[Y.jsx(zo,{children:Y.jsx(wh,{color:"tertiary",children:Y.jsx(dy,{children:"Menu"})})}),Y.jsxs(vh,{className:"ion-padding",children:[Y.jsxs(ZD,{children:[Y.jsx(Ma,{children:Y.jsxs(jr,{lines:"full",button:!0,routerLink:"/timer",children:[Y.jsx(Si,{slot:"start",icon:fC}),Y.jsx(es,{children:"Start Your Workout"})]})}),Y.jsx(Ma,{children:Y.jsxs(jr,{lines:"full",button:!0,href:"https://backpackgym.com/contact",children:[Y.jsx(Si,{slot:"start",icon:XL}),Y.jsx(es,{children:"Video Tutorial"})]})}),Y.jsx(Ma,{children:Y.jsxs(jr,{lines:"full",button:!0,href:"https://backpackgym.com/contact",children:[Y.jsx(Si,{slot:"start",icon:QL}),Y.jsx(es,{children:"Contact"})]})}),Y.jsx(Ma,{children:Y.jsx(jr,{lines:"none",children:Y.jsxs(bh,{slot:"end",children:[Y.jsx(Hi,{href:"https://facebook.com/backpackgym",children:Y.jsx(Si,{slot:"icon-only",icon:HL})}),Y.jsx(Hi,{href:"https://facebook.com/backpackgym",children:Y.jsx(Si,{slot:"icon-only",icon:WL})})]})})}),Y.jsx(Ma,{children:Y.jsx(jr,{className:"bpg-block",onClick:n})})]}),Y.jsx("div",{slot:"fixed",className:"app-info",children:Y.jsxs("p",{children:["Presented by Backpack Gym® ",Y.jsx("br",{}),"App version 1.0.1"]})})]})]})};const YS=()=>Y.jsxs(SL,{slot:"bottom",color:"warning",children:[Y.jsxs(Io,{className:"my-tab-button",tab:"home",href:"/home",children:[Y.jsx(Si,{icon:VL}),Y.jsx(es,{children:"Home"}),Y.jsx(JD,{color:"danger",children:"1"})]}),Y.jsxs(Io,{className:"my-tab-button",tab:"timer",href:"/timer",children:[Y.jsx(Si,{icon:fC}),Y.jsx(es,{children:"Timer"})]}),Y.jsxs(Io,{className:"my-tab-button",tab:"settings",href:"/timer-configuration",children:[Y.jsx(Si,{icon:YL}),Y.jsx(es,{children:"Settings"})]})]}),kU=({timerStatus:n,unsetTimer:e})=>Y.jsx(Hi,{color:"danger",expand:"full",disabled:n==="running",onClick:e,children:Y.jsx(Si,{icon:JL,size:"large"})});var Zw;(function(n){n[n.Sunday=1]="Sunday",n[n.Monday=2]="Monday",n[n.Tuesday=3]="Tuesday",n[n.Wednesday=4]="Wednesday",n[n.Thursday=5]="Thursday",n[n.Friday=6]="Friday",n[n.Saturday=7]="Saturday"})(Zw||(Zw={}));const Mm=Gl("LocalNotifications",{web:()=>an(()=>import("./web-6235af05.js"),[]).then(n=>new n.LocalNotificationsWeb)}),eE=async n=>{try{if((await Mm.requestPermissions()).display!=="granted")throw new Error("Permissions haven't been granted");await Mm.schedule({notifications:[{title:"Friendly Reminder",body:"Get up and workout",id:1,schedule:{at:new Date(Date.now()+n)},extra:{data:"Pass data to your handler"},iconColor:"#FF7F50",sound:"birds.wav"}]})}catch(e){console.log(e)}},RU=async()=>{Mm.cancel({notifications:[{id:1}]})},$U=()=>{const{timerInterval:n,timerStatus:e,timerKey:t,timerDuration:i,timerPausedTime:r,setTimerStatus:s,setTimerDuration:o,setTimerPausedTime:a,unsetTimer:l}=Il(),c=()=>{s("pause"),a(),RU()},u=()=>{r?(o(r),eE(r)):(o(n*1e3),eE(n*1e3)),s("running")};return Y.jsxs(Y.Fragment,{children:[Y.jsx(KS,{}),Y.jsxs(fy,{id:"main-content",children:[Y.jsx(zo,{children:Y.jsx(zo,{children:Y.jsxs(wh,{color:"warning",children:[Y.jsx(bh,{slot:"start",children:Y.jsx(lC,{})}),Y.jsx(dy,{children:"Timer"})]})})}),Y.jsx(vh,{children:Y.jsxs(aC,{children:[Y.jsx(ol,{children:Y.jsx(Oo,{className:"timer-content",children:Y.jsx(NU,{timerKey:t,timerInterval:n,timerDuration:r?Date.now()+r:i,timerActive:e==="running",unsetTimer:l})})}),Y.jsxs(ol,{className:"ion-text-center",children:[Y.jsx(Oo,{children:Y.jsx(AU,{timerHandler:e==="running"?c:u,timerStatus:e})}),Y.jsx(Oo,{children:Y.jsx(kU,{unsetTimer:l,timerStatus:e})})]})]})}),Y.jsx(YS,{})]})]})};function JS(n,e){return function(){return n.apply(e,arguments)}}const{toString:PU}=Object.prototype,{getPrototypeOf:$y}=Object,_h=(n=>e=>{const t=PU.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),tr=n=>(n=n.toLowerCase(),e=>_h(e)===n),Dh=n=>e=>typeof e===n,{isArray:ca}=Array,Ml=Dh("undefined");function OU(n){return n!==null&&!Ml(n)&&n.constructor!==null&&!Ml(n.constructor)&&ci(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const XS=tr("ArrayBuffer");function IU(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&XS(n.buffer),e}const MU=Dh("string"),ci=Dh("function"),ZS=Dh("number"),Lh=n=>n!==null&&typeof n=="object",_U=n=>n===!0||n===!1,Ru=n=>{if(_h(n)!=="object")return!1;const e=$y(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},DU=tr("Date"),LU=tr("File"),qU=tr("Blob"),BU=tr("FileList"),FU=n=>Lh(n)&&ci(n.pipe),UU=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||ci(n.append)&&((e=_h(n))==="formdata"||e==="object"&&ci(n.toString)&&n.toString()==="[object FormData]"))},jU=tr("URLSearchParams"),zU=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sc(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),ca(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{const s=t?Object.getOwnPropertyNames(n):Object.keys(n),o=s.length;let a;for(i=0;i<o;i++)a=s[i],e.call(null,n[a],a,n)}}function eN(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const tN=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),nN=n=>!Ml(n)&&n!==tN;function _m(){const{caseless:n}=nN(this)&&this||{},e={},t=(i,r)=>{const s=n&&eN(e,r)||r;Ru(e[s])&&Ru(i)?e[s]=_m(e[s],i):Ru(i)?e[s]=_m({},i):ca(i)?e[s]=i.slice():e[s]=i};for(let i=0,r=arguments.length;i<r;i++)arguments[i]&&sc(arguments[i],t);return e}const VU=(n,e,t,{allOwnKeys:i}={})=>(sc(e,(r,s)=>{t&&ci(r)?n[s]=JS(r,t):n[s]=r},{allOwnKeys:i}),n),HU=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),WU=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},QU=(n,e,t,i)=>{let r,s,o;const a={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)o=r[s],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&$y(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},GU=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},KU=n=>{if(!n)return null;if(ca(n))return n;let e=n.length;if(!ZS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},YU=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&$y(Uint8Array)),JU=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},XU=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},ZU=tr("HTMLFormElement"),ej=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),tE=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),tj=tr("RegExp"),iN=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};sc(t,(r,s)=>{let o;(o=e(r,s,n))!==!1&&(i[s]=o||r)}),Object.defineProperties(n,i)},nj=n=>{iN(n,(e,t)=>{if(ci(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(ci(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},ij=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return ca(n)?i(n):i(String(n).split(e)),t},rj=()=>{},sj=(n,e)=>(n=+n,Number.isFinite(n)?n:e),cf="abcdefghijklmnopqrstuvwxyz",nE="0123456789",rN={DIGIT:nE,ALPHA:cf,ALPHA_DIGIT:cf+cf.toUpperCase()+nE},oj=(n=16,e=rN.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function aj(n){return!!(n&&ci(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const lj=n=>{const e=new Array(10),t=(i,r)=>{if(Lh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[r]=i;const s=ca(i)?[]:{};return sc(i,(o,a)=>{const l=t(o,r+1);!Ml(l)&&(s[a]=l)}),e[r]=void 0,s}}return i};return t(n,0)},cj=tr("AsyncFunction"),uj=n=>n&&(Lh(n)||ci(n))&&ci(n.then)&&ci(n.catch),se={isArray:ca,isArrayBuffer:XS,isBuffer:OU,isFormData:UU,isArrayBufferView:IU,isString:MU,isNumber:ZS,isBoolean:_U,isObject:Lh,isPlainObject:Ru,isUndefined:Ml,isDate:DU,isFile:LU,isBlob:qU,isRegExp:tj,isFunction:ci,isStream:FU,isURLSearchParams:jU,isTypedArray:YU,isFileList:BU,forEach:sc,merge:_m,extend:VU,trim:zU,stripBOM:HU,inherits:WU,toFlatObject:QU,kindOf:_h,kindOfTest:tr,endsWith:GU,toArray:KU,forEachEntry:JU,matchAll:XU,isHTMLForm:ZU,hasOwnProperty:tE,hasOwnProp:tE,reduceDescriptors:iN,freezeMethods:nj,toObjectSet:ij,toCamelCase:ej,noop:rj,toFiniteNumber:sj,findKey:eN,global:tN,isContextDefined:nN,ALPHABET:rN,generateString:oj,isSpecCompliantForm:aj,toJSONObject:lj,isAsyncFn:cj,isThenable:uj};function We(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r)}se.inherits(We,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:se.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const sN=We.prototype,oN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{oN[n]={value:n}});Object.defineProperties(We,oN);Object.defineProperty(sN,"isAxiosError",{value:!0});We.from=(n,e,t,i,r,s)=>{const o=Object.create(sN);return se.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),We.call(o,n.message,e,t,i,r),o.cause=n,o.name=n.name,s&&Object.assign(o,s),o};const dj=null;function Dm(n){return se.isPlainObject(n)||se.isArray(n)}function aN(n){return se.endsWith(n,"[]")?n.slice(0,-2):n}function iE(n,e,t){return n?n.concat(e).map(function(r,s){return r=aN(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function hj(n){return se.isArray(n)&&!n.some(Dm)}const pj=se.toFlatObject(se,{},null,function(e){return/^is[A-Z]/.test(e)});function qh(n,e,t){if(!se.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=se.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,S){return!se.isUndefined(S[v])});const i=t.metaTokens,r=t.visitor||u,s=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&se.isSpecCompliantForm(e);if(!se.isFunction(r))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(se.isDate(y))return y.toISOString();if(!l&&se.isBlob(y))throw new We("Blob is not supported. Use a Buffer instead.");return se.isArrayBuffer(y)||se.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,v,S){let E=y;if(y&&!S&&typeof y=="object"){if(se.endsWith(v,"{}"))v=i?v:v.slice(0,-2),y=JSON.stringify(y);else if(se.isArray(y)&&hj(y)||(se.isFileList(y)||se.endsWith(v,"[]"))&&(E=se.toArray(y)))return v=aN(v),E.forEach(function(C,P){!(se.isUndefined(C)||C===null)&&e.append(o===!0?iE([v],P,s):o===null?v:v+"[]",c(C))}),!1}return Dm(y)?!0:(e.append(iE(S,v,s),c(y)),!1)}const d=[],h=Object.assign(pj,{defaultVisitor:u,convertValue:c,isVisitable:Dm});function p(y,v){if(!se.isUndefined(y)){if(d.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));d.push(y),se.forEach(y,function(E,w){(!(se.isUndefined(E)||E===null)&&r.call(e,E,se.isString(w)?w.trim():w,v,h))===!0&&p(E,v?v.concat(w):[w])}),d.pop()}}if(!se.isObject(n))throw new TypeError("data must be an object");return p(n),e}function rE(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function Py(n,e){this._pairs=[],n&&qh(n,this,e)}const lN=Py.prototype;lN.append=function(e,t){this._pairs.push([e,t])};lN.toString=function(e){const t=e?function(i){return e.call(this,i,rE)}:rE;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function fj(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cN(n,e,t){if(!e)return n;const i=t&&t.encode||fj,r=t&&t.serialize;let s;if(r?s=r(e,t):s=se.isURLSearchParams(e)?e.toString():new Py(e,t).toString(i),s){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class mj{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){se.forEach(this.handlers,function(i){i!==null&&e(i)})}}const sE=mj,uN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gj=typeof URLSearchParams<"u"?URLSearchParams:Py,yj=typeof FormData<"u"?FormData:null,bj=typeof Blob<"u"?Blob:null,vj=(()=>{let n;return typeof navigator<"u"&&((n=navigator.product)==="ReactNative"||n==="NativeScript"||n==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),wj=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ki={isBrowser:!0,classes:{URLSearchParams:gj,FormData:yj,Blob:bj},isStandardBrowserEnv:vj,isStandardBrowserWebWorkerEnv:wj,protocols:["http","https","file","blob","url","data"]};function Ej(n,e){return qh(n,new ki.classes.URLSearchParams,Object.assign({visitor:function(t,i,r,s){return ki.isNode&&se.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function xj(n){return se.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Tj(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function dN(n){function e(t,i,r,s){let o=t[s++];const a=Number.isFinite(+o),l=s>=t.length;return o=!o&&se.isArray(r)?r.length:o,l?(se.hasOwnProp(r,o)?r[o]=[r[o],i]:r[o]=i,!a):((!r[o]||!se.isObject(r[o]))&&(r[o]=[]),e(t,i,r[o],s)&&se.isArray(r[o])&&(r[o]=Tj(r[o])),!a)}if(se.isFormData(n)&&se.isFunction(n.entries)){const t={};return se.forEachEntry(n,(i,r)=>{e(xj(i),r,t,0)}),t}return null}function Cj(n,e,t){if(se.isString(n))try{return(e||JSON.parse)(n),se.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Oy={transitional:uN,adapter:ki.isNode?"http":"xhr",transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=se.isObject(e);if(s&&se.isHTMLForm(e)&&(e=new FormData(e)),se.isFormData(e))return r&&r?JSON.stringify(dN(e)):e;if(se.isArrayBuffer(e)||se.isBuffer(e)||se.isStream(e)||se.isFile(e)||se.isBlob(e))return e;if(se.isArrayBufferView(e))return e.buffer;if(se.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Ej(e,this.formSerializer).toString();if((a=se.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return qh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),Cj(e)):e}],transformResponse:[function(e){const t=this.transitional||Oy.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(e&&se.isString(e)&&(i&&!this.responseType||r)){const o=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?We.from(a,We.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ki.classes.FormData,Blob:ki.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};se.forEach(["delete","get","head","post","put","patch"],n=>{Oy.headers[n]={}});const Iy=Oy,Sj=se.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Nj=n=>{const e={};let t,i,r;return n&&n.split("\n").forEach(function(o){r=o.indexOf(":"),t=o.substring(0,r).trim().toLowerCase(),i=o.substring(r+1).trim(),!(!t||e[t]&&Sj[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},oE=Symbol("internals");function Fa(n){return n&&String(n).trim().toLowerCase()}function $u(n){return n===!1||n==null?n:se.isArray(n)?n.map($u):String(n)}function Aj(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const kj=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function uf(n,e,t,i,r){if(se.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!se.isString(e)){if(se.isString(i))return e.indexOf(i)!==-1;if(se.isRegExp(i))return i.test(e)}}function Rj(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function $j(n,e){const t=se.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,o){return this[i].call(this,e,r,s,o)},configurable:!0})})}class Bh{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(a,l,c){const u=Fa(l);if(!u)throw new Error("header name must be a non-empty string");const d=se.findKey(r,u);(!d||r[d]===void 0||c===!0||c===void 0&&r[d]!==!1)&&(r[d||l]=$u(a))}const o=(a,l)=>se.forEach(a,(c,u)=>s(c,u,l));return se.isPlainObject(e)||e instanceof this.constructor?o(e,t):se.isString(e)&&(e=e.trim())&&!kj(e)?o(Nj(e),t):e!=null&&s(t,e,i),this}get(e,t){if(e=Fa(e),e){const i=se.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return Aj(r);if(se.isFunction(t))return t.call(this,r,i);if(se.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Fa(e),e){const i=se.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||uf(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(o){if(o=Fa(o),o){const a=se.findKey(i,o);a&&(!t||uf(i,i[a],a,t))&&(delete i[a],r=!0)}}return se.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||uf(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return se.forEach(this,(r,s)=>{const o=se.findKey(i,s);if(o){t[o]=$u(r),delete t[s];return}const a=e?Rj(s):String(s).trim();a!==s&&delete t[s],t[a]=$u(r),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return se.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&se.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[oE]=this[oE]={accessors:{}}).accessors,r=this.prototype;function s(o){const a=Fa(o);i[a]||($j(r,o),i[a]=!0)}return se.isArray(e)?e.forEach(s):s(e),this}}Bh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);se.reduceDescriptors(Bh.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});se.freezeMethods(Bh);const br=Bh;function df(n,e){const t=this||Iy,i=e||t,r=br.from(i.headers);let s=i.data;return se.forEach(n,function(a){s=a.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function hN(n){return!!(n&&n.__CANCEL__)}function oc(n,e,t){We.call(this,n==null?"canceled":n,We.ERR_CANCELED,e,t),this.name="CanceledError"}se.inherits(oc,We,{__CANCEL__:!0});function Pj(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new We("Request failed with status code "+t.status,[We.ERR_BAD_REQUEST,We.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}const Oj=ki.isStandardBrowserEnv?function(){return{write:function(t,i,r,s,o,a){const l=[];l.push(t+"="+encodeURIComponent(i)),se.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),se.isString(s)&&l.push("path="+s),se.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Ij(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Mj(n,e){return e?n.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):n}function pN(n,e){return n&&!Ij(e)?Mj(n,e):e}const _j=ki.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function r(s){let o=s;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return i=r(window.location.href),function(o){const a=se.isString(o)?r(o):o;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}();function Dj(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Lj(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[s];o||(o=c),t[r]=l,i[r]=c;let d=s,h=0;for(;d!==r;)h+=t[d++],d=d%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),c-o<e)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function aE(n,e){let t=0;const i=Lj(50,250);return r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,a=s-t,l=i(a),c=s<=o;t=s;const u={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-s)/l:void 0,event:r};u[e?"download":"upload"]=!0,n(u)}}const qj=typeof XMLHttpRequest<"u",Bj=qj&&function(n){return new Promise(function(t,i){let r=n.data;const s=br.from(n.headers).normalize(),o=n.responseType;let a;function l(){n.cancelToken&&n.cancelToken.unsubscribe(a),n.signal&&n.signal.removeEventListener("abort",a)}se.isFormData(r)&&(ki.isStandardBrowserEnv||ki.isStandardBrowserWebWorkerEnv?s.setContentType(!1):s.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(n.auth){const p=n.auth.username||"",y=n.auth.password?unescape(encodeURIComponent(n.auth.password)):"";s.set("Authorization","Basic "+btoa(p+":"+y))}const u=pN(n.baseURL,n.url);c.open(n.method.toUpperCase(),cN(u,n.params,n.paramsSerializer),!0),c.timeout=n.timeout;function d(){if(!c)return;const p=br.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),v={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:n,request:c};Pj(function(E){t(E),l()},function(E){i(E),l()},v),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(i(new We("Request aborted",We.ECONNABORTED,n,c)),c=null)},c.onerror=function(){i(new We("Network Error",We.ERR_NETWORK,n,c)),c=null},c.ontimeout=function(){let y=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const v=n.transitional||uN;n.timeoutErrorMessage&&(y=n.timeoutErrorMessage),i(new We(y,v.clarifyTimeoutError?We.ETIMEDOUT:We.ECONNABORTED,n,c)),c=null},ki.isStandardBrowserEnv){const p=(n.withCredentials||_j(u))&&n.xsrfCookieName&&Oj.read(n.xsrfCookieName);p&&s.set(n.xsrfHeaderName,p)}r===void 0&&s.setContentType(null),"setRequestHeader"in c&&se.forEach(s.toJSON(),function(y,v){c.setRequestHeader(v,y)}),se.isUndefined(n.withCredentials)||(c.withCredentials=!!n.withCredentials),o&&o!=="json"&&(c.responseType=n.responseType),typeof n.onDownloadProgress=="function"&&c.addEventListener("progress",aE(n.onDownloadProgress,!0)),typeof n.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",aE(n.onUploadProgress)),(n.cancelToken||n.signal)&&(a=p=>{c&&(i(!p||p.type?new oc(null,n,c):p),c.abort(),c=null)},n.cancelToken&&n.cancelToken.subscribe(a),n.signal&&(n.signal.aborted?a():n.signal.addEventListener("abort",a)));const h=Dj(u);if(h&&ki.protocols.indexOf(h)===-1){i(new We("Unsupported protocol "+h+":",We.ERR_BAD_REQUEST,n));return}c.send(r||null)})},Pu={http:dj,xhr:Bj};se.forEach(Pu,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch(t){}Object.defineProperty(n,"adapterName",{value:e})}});const fN={getAdapter:n=>{n=se.isArray(n)?n:[n];const{length:e}=n;let t,i;for(let r=0;r<e&&(t=n[r],!(i=se.isString(t)?Pu[t.toLowerCase()]:t));r++);if(!i)throw i===!1?new We("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT"):new Error(se.hasOwnProp(Pu,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"));if(!se.isFunction(i))throw new TypeError("adapter is not a function");return i},adapters:Pu};function hf(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new oc(null,n)}function lE(n){return hf(n),n.headers=br.from(n.headers),n.data=df.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),fN.getAdapter(n.adapter||Iy.adapter)(n).then(function(i){return hf(n),i.data=df.call(n,n.transformResponse,i),i.headers=br.from(i.headers),i},function(i){return hN(i)||(hf(n),i&&i.response&&(i.response.data=df.call(n,n.transformResponse,i.response),i.response.headers=br.from(i.response.headers))),Promise.reject(i)})}const cE=n=>n instanceof br?n.toJSON():n;function Ko(n,e){e=e||{};const t={};function i(c,u,d){return se.isPlainObject(c)&&se.isPlainObject(u)?se.merge.call({caseless:d},c,u):se.isPlainObject(u)?se.merge({},u):se.isArray(u)?u.slice():u}function r(c,u,d){if(se.isUndefined(u)){if(!se.isUndefined(c))return i(void 0,c,d)}else return i(c,u,d)}function s(c,u){if(!se.isUndefined(u))return i(void 0,u)}function o(c,u){if(se.isUndefined(u)){if(!se.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,d){if(d in e)return i(c,u);if(d in n)return i(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>r(cE(c),cE(u),!0)};return se.forEach(Object.keys(Object.assign({},n,e)),function(u){const d=l[u]||r,h=d(n[u],e[u],u);se.isUndefined(h)&&d!==a||(t[u]=h)}),t}const mN="1.5.0",My={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{My[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const uE={};My.transitional=function(e,t,i){function r(s,o){return"[Axios v"+mN+"] Transitional option '"+s+"'"+o+(i?". "+i:"")}return(s,o,a)=>{if(e===!1)throw new We(r(o," has been removed"+(t?" in "+t:"")),We.ERR_DEPRECATED);return t&&!uE[o]&&(uE[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Fj(n,e,t){if(typeof n!="object")throw new We("options must be an object",We.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],o=e[s];if(o){const a=n[s],l=a===void 0||o(a,s,n);if(l!==!0)throw new We("option "+s+" must be "+l,We.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new We("Unknown option "+s,We.ERR_BAD_OPTION)}}const Lm={assertOptions:Fj,validators:My},Dr=Lm.validators;class Sd{constructor(e){this.defaults=e,this.interceptors={request:new sE,response:new sE}}request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Ko(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&Lm.assertOptions(i,{silentJSONParsing:Dr.transitional(Dr.boolean),forcedJSONParsing:Dr.transitional(Dr.boolean),clarifyTimeoutError:Dr.transitional(Dr.boolean)},!1),r!=null&&(se.isFunction(r)?t.paramsSerializer={serialize:r}:Lm.assertOptions(r,{encode:Dr.function,serialize:Dr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=s&&se.merge(s.common,s[t.method]);s&&se.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),t.headers=br.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(t)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const c=[];this.interceptors.response.forEach(function(v){c.push(v.fulfilled,v.rejected)});let u,d=0,h;if(!l){const y=[lE.bind(this),void 0];for(y.unshift.apply(y,a),y.push.apply(y,c),h=y.length,u=Promise.resolve(t);d<h;)u=u.then(y[d++],y[d++]);return u}h=a.length;let p=t;for(d=0;d<h;){const y=a[d++],v=a[d++];try{p=y(p)}catch(S){v.call(this,S);break}}try{u=lE.call(this,p)}catch(y){return Promise.reject(y)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Ko(this.defaults,e);const t=pN(e.baseURL,e.url);return cN(t,e.params,e.paramsSerializer)}}se.forEach(["delete","get","head","options"],function(e){Sd.prototype[e]=function(t,i){return this.request(Ko(i||{},{method:e,url:t,data:(i||{}).data}))}});se.forEach(["post","put","patch"],function(e){function t(i){return function(s,o,a){return this.request(Ko(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Sd.prototype[e]=t(),Sd.prototype[e+"Form"]=t(!0)});const Ou=Sd;class _y{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const o=new Promise(a=>{i.subscribe(a),s=a}).then(r);return o.cancel=function(){i.unsubscribe(s)},o},e(function(s,o,a){i.reason||(i.reason=new oc(s,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}static source(){let e;return{token:new _y(function(r){e=r}),cancel:e}}}const Uj=_y;function jj(n){return function(t){return n.apply(null,t)}}function zj(n){return se.isObject(n)&&n.isAxiosError===!0}const qm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qm).forEach(([n,e])=>{qm[e]=n});const Vj=qm;function gN(n){const e=new Ou(n),t=JS(Ou.prototype.request,e);return se.extend(t,Ou.prototype,e,{allOwnKeys:!0}),se.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return gN(Ko(n,r))},t}const Dt=gN(Iy);Dt.Axios=Ou;Dt.CanceledError=oc;Dt.CancelToken=Uj;Dt.isCancel=hN;Dt.VERSION=mN;Dt.toFormData=qh;Dt.AxiosError=We;Dt.Cancel=Dt.CanceledError;Dt.all=function(e){return Promise.all(e)};Dt.spread=jj;Dt.isAxiosError=zj;Dt.mergeConfig=Ko;Dt.AxiosHeaders=br;Dt.formToJSON=n=>dN(se.isHTMLForm(n)?new FormData(n):n);Dt.getAdapter=fN.getAdapter;Dt.HttpStatusCode=Vj;Dt.default=Dt;const Hj=Dt,Wj=()=>{const[n,e]=De.useState(!1),[t,i]=De.useState(""),[r,s]=De.useState(),o=(c,u)=>{i(c),s(()=>u),e(!0)},a=()=>{r&&r(),e(!1)},l=()=>{e(!1)};return{showConfirmationAlert:o,ConfirmationAlert:Y.jsx(uC,{isOpen:n,message:t,buttons:[{text:"Cancel",role:"cancel",handler:l},{text:"Confirm",handler:a}]})}};var _l;(function(n){n.Documents="DOCUMENTS",n.Data="DATA",n.Library="LIBRARY",n.Cache="CACHE",n.External="EXTERNAL",n.ExternalStorage="EXTERNAL_STORAGE"})(_l||(_l={}));var dE;(function(n){n.UTF8="utf8",n.ASCII="ascii",n.UTF16="utf16"})(dE||(dE={}));const Dy=Gl("Filesystem",{web:()=>an(()=>import("./web-a4a0d9e8.js"),[]).then(n=>new n.FilesystemWeb)});async function Qj(n){const e=await fetch(n).then(t=>t.blob());return new Promise((t,i)=>{const r=new FileReader;r.readAsDataURL(e),r.onerror=i,r.onload=()=>{typeof r.result=="string"?t(r.result):i("base64 format isn't string")}})}const Gj=async(n,e)=>{try{const t=await Qj(n),i=await Dy.writeFile({path:"".concat(e),data:t,directory:_l.Data});return iL("hybrid")?(console.log("Base64 file for hybrid platform"),{filePath:i.uri,webviewPath:Wo.convertFileSrc(i.uri)}):(console.log("Base64 file for web platform"),{filePath:e,webviewPath:"".concat(e)})}catch(t){console.log("Error with writing base64 file ",t)}},Kj=async n=>{try{const e=await Dy.readFile({path:n,directory:_l.Data});return console.log("*********** read"),e.data}catch(e){return console.error("Error with reading",e),null}},Yj=async n=>{try{await Dy.deleteFile({path:n,directory:_l.Data}),console.log("Track was removed successfully")}catch(e){console.log("Error with removing track ",e)}},Jj=()=>{const n="track.mp4",e="/assets/icons/Step_jacks_wo_bounce0030-0150.mp4",[t,i]=De.useState();De.useEffect(()=>{},[]);const r=()=>Kj(n).then(v=>i(v)),[s,o]=De.useState("");De.useState();const{showConfirmationAlert:a,ConfirmationAlert:l}=Wj(),[c,u]=De.useState();De.useEffect(()=>{d()},[]);const d=async()=>{var E;const v=(E=ks.connection)==null?void 0:E.getRepository(yr),S=await(v==null?void 0:v.find({}));u(S)},h=e,p=async()=>{var w;const v=await Hj.request({url:h,method:"get",responseType:"arraybuffer"}),S=(w=ks.connection)==null?void 0:w.getRepository(yr);await(S==null?void 0:S.save({id:Date.now().toString(),isActive:!0,isActive2:!1,name:s,jsonTest:JSON.stringify({id:Math.random(),nest:{nested:!0}}),file:Buffer.from(v.data).toString("base64")}));const E=await(S==null?void 0:S.find({}));u(E)},y=async v=>{var S;try{const E=(S=ks.connection)==null?void 0:S.getRepository(yr);if(E){const C=await E.findOne({where:{id:v}});C?await E.remove(C):console.log("can't rename input:",C.id)}else console.log("Connection to DB is absent");const w=await(E==null?void 0:E.find({}));u(w)}catch(E){alert(E.message)}};return Y.jsxs(Y.Fragment,{children:[Y.jsx(KS,{}),Y.jsxs(fy,{id:"main-content",children:[Y.jsx(zo,{children:Y.jsx(zo,{children:Y.jsxs(wh,{color:"warning",children:[Y.jsx(bh,{slot:"start",children:Y.jsx(lC,{})}),Y.jsx(dy,{children:"Home"})]})})}),Y.jsxs(vh,{fullscreen:!0,className:"ion-padding",children:[Y.jsx(jr,{children:Y.jsx("iframe",{width:"560",height:"315",src:"data:video/mp4;base64, "+t,title:"TestFitRem",allowFullScreen:!0})}),Y.jsxs(jr,{children:[Y.jsx(XD,{type:"text",value:s,onIonInput:v=>o(v.target.value)}),Y.jsx(Hi,{slot:"end",onClick:p,disabled:s.trim()==="",children:"ADD"}),Y.jsx(Hi,{slot:"end",onClick:()=>Gj(e,n),children:"ADD TRACK"}),Y.jsx(Hi,{slot:"end",onClick:()=>Yj(n),children:"DELETE"}),Y.jsx(Hi,{slot:"end",onClick:r,children:"READ"})]}),Y.jsx("h3",{children:"THE SQLITE DATA"}),c==null?void 0:c.map(v=>Y.jsxs(jr,{children:[Y.jsx("iframe",{width:"300",height:"315",src:"data:video/mp4;base64, "+v.file,title:"TestFitRem",allowFullScreen:!0}),Y.jsx(Hi,{onClick:()=>y(v==null?void 0:v.id),children:"DELETE"})]},v==null?void 0:v.id)),l]}),Y.jsx(YS,{})]})]})};PL();const Xj=()=>{const{rehydrated:n}=Il();return Y.jsx(fL,{children:n?Y.jsx(jL,{children:Y.jsxs(xL,{children:[Y.jsx(Ha,{exact:!0,path:"/home",children:Y.jsx(Jj,{})}),Y.jsx(Ha,{exact:!0,path:"/timer",children:Y.jsx($U,{})}),Y.jsx(Ha,{exact:!0,path:"/timer-configuration",children:Y.jsx(TF,{})}),Y.jsx(Ha,{exact:!0,path:"/",children:Y.jsx(A$,{to:"/home"})})]})}):Y.jsx(nL,{className:"spinner"})})};window.addEventListener("DOMContentLoaded",async()=>{try{const n=document.getElementById("root");ST(n).render(Y.jsx(Xj,{}))}catch(n){console.log(n)}});window.Buffer=gy.Buffer;export{dE as E,xM as K,EC as W,e5 as __vite_legacy_guard,Vi as a,Ls as b,m1 as c,Ro as d,AP as e,vM as f,kP as g,ym as h,xu as i,Bn as j,rv as k,m5 as l,ss as m,t5 as n,Xy as o,n5 as p,_t as q,Al as r,f5 as s,i5 as t,Fq as u,Xi as w};
