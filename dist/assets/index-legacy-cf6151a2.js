!function(){function e(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}System.register([],(function(t,i){"use strict";return{execute:function(){var n=document.createElement("style");n.textContent='html.ios{--ion-default-font: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Roboto", sans-serif}html.md{--ion-default-font: "Roboto", "Helvetica Neue", sans-serif}html{--ion-font-family: var(--ion-default-font)}body{background:var(--ion-background-color)}body.backdrop-no-scroll{overflow:hidden}html.ios ion-modal.modal-card ion-header ion-toolbar:first-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:first-of-type,html.ios ion-modal ion-footer ion-toolbar:first-of-type{padding-top:6px}html.ios ion-modal.modal-card ion-header ion-toolbar:last-of-type,html.ios ion-modal.modal-sheet ion-header ion-toolbar:last-of-type{padding-bottom:6px}html.ios ion-modal ion-toolbar{padding-right:calc(var(--ion-safe-area-right) + 8px);padding-left:calc(var(--ion-safe-area-left) + 8px)}@media screen and (min-width: 768px){html.ios ion-modal.modal-card:first-of-type{--backdrop-opacity: .18}}ion-modal.modal-default.show-modal~ion-modal.modal-default{--backdrop-opacity: 0;--box-shadow: none}html.ios ion-modal.modal-card .ion-page{border-top-left-radius:var(--border-radius)}.ion-color-primary{--ion-color-base: var(--ion-color-primary, #3880ff) !important;--ion-color-base-rgb: var(--ion-color-primary-rgb, 56, 128, 255) !important;--ion-color-contrast: var(--ion-color-primary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-primary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-primary-shade, #3171e0) !important;--ion-color-tint: var(--ion-color-primary-tint, #4c8dff) !important}.ion-color-secondary{--ion-color-base: var(--ion-color-secondary, #3dc2ff) !important;--ion-color-base-rgb: var(--ion-color-secondary-rgb, 61, 194, 255) !important;--ion-color-contrast: var(--ion-color-secondary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-secondary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-secondary-shade, #36abe0) !important;--ion-color-tint: var(--ion-color-secondary-tint, #50c8ff) !important}.ion-color-tertiary{--ion-color-base: var(--ion-color-tertiary, #5260ff) !important;--ion-color-base-rgb: var(--ion-color-tertiary-rgb, 82, 96, 255) !important;--ion-color-contrast: var(--ion-color-tertiary-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-tertiary-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-tertiary-shade, #4854e0) !important;--ion-color-tint: var(--ion-color-tertiary-tint, #6370ff) !important}.ion-color-success{--ion-color-base: var(--ion-color-success, #2dd36f) !important;--ion-color-base-rgb: var(--ion-color-success-rgb, 45, 211, 111) !important;--ion-color-contrast: var(--ion-color-success-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-success-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-success-shade, #28ba62) !important;--ion-color-tint: var(--ion-color-success-tint, #42d77d) !important}.ion-color-warning{--ion-color-base: var(--ion-color-warning, #ffc409) !important;--ion-color-base-rgb: var(--ion-color-warning-rgb, 255, 196, 9) !important;--ion-color-contrast: var(--ion-color-warning-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-warning-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-warning-shade, #e0ac08) !important;--ion-color-tint: var(--ion-color-warning-tint, #ffca22) !important}.ion-color-danger{--ion-color-base: var(--ion-color-danger, #eb445a) !important;--ion-color-base-rgb: var(--ion-color-danger-rgb, 235, 68, 90) !important;--ion-color-contrast: var(--ion-color-danger-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-danger-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-danger-shade, #cf3c4f) !important;--ion-color-tint: var(--ion-color-danger-tint, #ed576b) !important}.ion-color-light{--ion-color-base: var(--ion-color-light, #f4f5f8) !important;--ion-color-base-rgb: var(--ion-color-light-rgb, 244, 245, 248) !important;--ion-color-contrast: var(--ion-color-light-contrast, #000) !important;--ion-color-contrast-rgb: var(--ion-color-light-contrast-rgb, 0, 0, 0) !important;--ion-color-shade: var(--ion-color-light-shade, #d7d8da) !important;--ion-color-tint: var(--ion-color-light-tint, #f5f6f9) !important}.ion-color-medium{--ion-color-base: var(--ion-color-medium, #92949c) !important;--ion-color-base-rgb: var(--ion-color-medium-rgb, 146, 148, 156) !important;--ion-color-contrast: var(--ion-color-medium-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-medium-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-medium-shade, #808289) !important;--ion-color-tint: var(--ion-color-medium-tint, #9d9fa6) !important}.ion-color-dark{--ion-color-base: var(--ion-color-dark, #222428) !important;--ion-color-base-rgb: var(--ion-color-dark-rgb, 34, 36, 40) !important;--ion-color-contrast: var(--ion-color-dark-contrast, #fff) !important;--ion-color-contrast-rgb: var(--ion-color-dark-contrast-rgb, 255, 255, 255) !important;--ion-color-shade: var(--ion-color-dark-shade, #1e2023) !important;--ion-color-tint: var(--ion-color-dark-tint, #383a3e) !important}.ion-page{left:0;right:0;top:0;bottom:0;display:flex;position:absolute;flex-direction:column;justify-content:space-between;contain:layout size style;overflow:hidden;z-index:0}ion-modal>.ion-page{position:relative;contain:layout style;height:100%}.split-pane-visible>.ion-page.split-pane-main{position:relative}ion-route,ion-route-redirect,ion-router,ion-select-option,ion-nav-controller,ion-menu-controller,ion-action-sheet-controller,ion-alert-controller,ion-loading-controller,ion-modal-controller,ion-picker-controller,ion-popover-controller,ion-toast-controller,.ion-page-hidden{display:none!important}.ion-page-invisible{opacity:0}.can-go-back>ion-header ion-back-button{display:block}html.plt-ios.plt-hybrid,html.plt-ios.plt-pwa{--ion-statusbar-padding: 20px}@supports (padding-top: 20px){html{--ion-safe-area-top: var(--ion-statusbar-padding)}}@supports (padding-top: constant(safe-area-inset-top)){html{--ion-safe-area-top: constant(safe-area-inset-top);--ion-safe-area-bottom: constant(safe-area-inset-bottom);--ion-safe-area-left: constant(safe-area-inset-left);--ion-safe-area-right: constant(safe-area-inset-right)}}@supports (padding-top: env(safe-area-inset-top)){html{--ion-safe-area-top: env(safe-area-inset-top);--ion-safe-area-bottom: env(safe-area-inset-bottom);--ion-safe-area-left: env(safe-area-inset-left);--ion-safe-area-right: env(safe-area-inset-right)}}ion-card.ion-color .ion-inherit-color,ion-card-header.ion-color .ion-inherit-color{color:inherit}.menu-content{transform:translateZ(0)}.menu-content-open{cursor:pointer;touch-action:manipulation;pointer-events:none}.ios .menu-content-reveal{box-shadow:-8px 0 42px rgba(0,0,0,.08)}[dir=rtl].ios .menu-content-reveal{box-shadow:8px 0 42px rgba(0,0,0,.08)}.md .menu-content-reveal,.md .menu-content-push{box-shadow:4px 0 16px rgba(0,0,0,.18)}ion-accordion-group.accordion-group-expand-inset>ion-accordion:first-of-type{border-top-left-radius:8px;border-top-right-radius:8px}ion-accordion-group.accordion-group-expand-inset>ion-accordion:last-of-type{border-bottom-left-radius:8px;border-bottom-right-radius:8px}ion-accordion-group>ion-accordion:last-of-type ion-item[slot=header]{--border-width: 0px}ion-accordion.accordion-animated>[slot=header] .ion-accordion-toggle-icon{transition:.3s transform cubic-bezier(.25,.8,.5,1)}@media (prefers-reduced-motion: reduce){ion-accordion .ion-accordion-toggle-icon{transition:none!important}}ion-accordion.accordion-expanding>[slot=header] .ion-accordion-toggle-icon,ion-accordion.accordion-expanded>[slot=header] .ion-accordion-toggle-icon{transform:rotate(180deg)}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-previous ion-item[slot=header]{--border-width: 0px;--inner-border-width: 0px}ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanding:first-of-type,ion-accordion-group.accordion-group-expand-inset.md>ion-accordion.accordion-expanded:first-of-type{margin-top:0}ion-input input::-webkit-date-and-time-value{text-align:start}.ion-datetime-button-overlay{--width: fit-content;--height: fit-content}.ion-datetime-button-overlay ion-datetime.datetime-grid{width:320px;min-height:320px}audio,canvas,progress,video{vertical-align:baseline}audio:not([controls]){display:none;height:0}b,strong{font-weight:700}img{max-width:100%}hr{height:1px;border-width:0;box-sizing:content-box}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}label,input,select,textarea{font-family:inherit;line-height:normal}textarea{overflow:auto;height:auto;font:inherit;color:inherit}textarea::placeholder{padding-left:2px}form,input,optgroup,select{margin:0;font:inherit;color:inherit}html input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}a,a div,a span,a ion-icon,a ion-label,button,button div,button span,button ion-icon,button ion-label,.ion-tappable,[tappable],[tappable] div,[tappable] span,[tappable] ion-icon,[tappable] ion-label,input,textarea{touch-action:manipulation}a ion-label,button ion-label{pointer-events:none}button{padding:0;border:0;border-radius:0;font-family:inherit;font-style:inherit;font-variant:inherit;line-height:1;text-transform:none;cursor:pointer;-webkit-appearance:button}[tappable]{cursor:pointer}a[disabled],button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{padding:0;border:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}*{box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}html{width:100%;height:100%;-webkit-text-size-adjust:100%;text-size-adjust:100%}html:not(.hydrated) body{display:none}html.ion-ce body{display:block}html.plt-pwa{height:100vh}body{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin:0;padding:0;position:fixed;width:100%;max-width:100%;height:100%;max-height:100%;transform:translateZ(0);text-rendering:optimizeLegibility;overflow:hidden;touch-action:manipulation;-webkit-user-drag:none;-ms-content-zooming:none;word-wrap:break-word;overscroll-behavior-y:none;-webkit-text-size-adjust:none;text-size-adjust:none}html{font-family:var(--ion-font-family)}a{background-color:transparent;color:var(--ion-color-primary, #3880ff)}h1,h2,h3,h4,h5,h6{margin-top:16px;margin-bottom:10px;font-weight:500;line-height:1.2}h1{margin-top:20px;font-size:26px}h2{margin-top:18px;font-size:24px}h3{font-size:22px}h4{font-size:20px}h5{font-size:18px}h6{font-size:16px}small{font-size:75%}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}.ion-no-padding{--padding-start: 0;--padding-end: 0;--padding-top: 0;--padding-bottom: 0;padding:0}.ion-padding{--padding-start: var(--ion-padding, 16px);--padding-end: var(--ion-padding, 16px);--padding-top: var(--ion-padding, 16px);--padding-bottom: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-top{--padding-top: var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px)}.ion-padding-start{--padding-start: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px)}.ion-padding-end{--padding-end: var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}.ion-padding-bottom{--padding-bottom: var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-vertical{--padding-top: var(--ion-padding, 16px);--padding-bottom: var(--ion-padding, 16px);padding-top:var(--ion-padding, 16px);padding-bottom:var(--ion-padding, 16px)}.ion-padding-horizontal{--padding-start: var(--ion-padding, 16px);--padding-end: var(--ion-padding, 16px);-webkit-padding-start:var(--ion-padding, 16px);padding-inline-start:var(--ion-padding, 16px);-webkit-padding-end:var(--ion-padding, 16px);padding-inline-end:var(--ion-padding, 16px)}.ion-no-margin{--margin-start: 0;--margin-end: 0;--margin-top: 0;--margin-bottom: 0;margin:0}.ion-margin{--margin-start: var(--ion-margin, 16px);--margin-end: var(--ion-margin, 16px);--margin-top: var(--ion-margin, 16px);--margin-bottom: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-top{--margin-top: var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px)}.ion-margin-start{--margin-start: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px)}.ion-margin-end{--margin-end: var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}.ion-margin-bottom{--margin-bottom: var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-vertical{--margin-top: var(--ion-margin, 16px);--margin-bottom: var(--ion-margin, 16px);margin-top:var(--ion-margin, 16px);margin-bottom:var(--ion-margin, 16px)}.ion-margin-horizontal{--margin-start: var(--ion-margin, 16px);--margin-end: var(--ion-margin, 16px);-webkit-margin-start:var(--ion-margin, 16px);margin-inline-start:var(--ion-margin, 16px);-webkit-margin-end:var(--ion-margin, 16px);margin-inline-end:var(--ion-margin, 16px)}.ion-float-left{float:left!important}.ion-float-right{float:right!important}.ion-float-start{float:left!important}:host-context([dir=rtl]) .ion-float-start{float:right!important}[dir=rtl] .ion-float-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-start:dir(rtl){float:right!important}}.ion-float-end{float:right!important}:host-context([dir=rtl]) .ion-float-end{float:left!important}[dir=rtl] .ion-float-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-end:dir(rtl){float:left!important}}@media (min-width: 576px){.ion-float-sm-left{float:left!important}.ion-float-sm-right{float:right!important}.ion-float-sm-start{float:left!important}:host-context([dir=rtl]) .ion-float-sm-start{float:right!important}[dir=rtl] .ion-float-sm-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-sm-start:dir(rtl){float:right!important}}.ion-float-sm-end{float:right!important}:host-context([dir=rtl]) .ion-float-sm-end{float:left!important}[dir=rtl] .ion-float-sm-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-sm-end:dir(rtl){float:left!important}}}@media (min-width: 768px){.ion-float-md-left{float:left!important}.ion-float-md-right{float:right!important}.ion-float-md-start{float:left!important}:host-context([dir=rtl]) .ion-float-md-start{float:right!important}[dir=rtl] .ion-float-md-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-md-start:dir(rtl){float:right!important}}.ion-float-md-end{float:right!important}:host-context([dir=rtl]) .ion-float-md-end{float:left!important}[dir=rtl] .ion-float-md-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-md-end:dir(rtl){float:left!important}}}@media (min-width: 992px){.ion-float-lg-left{float:left!important}.ion-float-lg-right{float:right!important}.ion-float-lg-start{float:left!important}:host-context([dir=rtl]) .ion-float-lg-start{float:right!important}[dir=rtl] .ion-float-lg-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-lg-start:dir(rtl){float:right!important}}.ion-float-lg-end{float:right!important}:host-context([dir=rtl]) .ion-float-lg-end{float:left!important}[dir=rtl] .ion-float-lg-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-lg-end:dir(rtl){float:left!important}}}@media (min-width: 1200px){.ion-float-xl-left{float:left!important}.ion-float-xl-right{float:right!important}.ion-float-xl-start{float:left!important}:host-context([dir=rtl]) .ion-float-xl-start{float:right!important}[dir=rtl] .ion-float-xl-start{float:right!important}@supports selector(:dir(rtl)){.ion-float-xl-start:dir(rtl){float:right!important}}.ion-float-xl-end{float:right!important}:host-context([dir=rtl]) .ion-float-xl-end{float:left!important}[dir=rtl] .ion-float-xl-end{float:left!important}@supports selector(:dir(rtl)){.ion-float-xl-end:dir(rtl){float:left!important}}}.ion-text-center{text-align:center!important}.ion-text-justify{text-align:justify!important}.ion-text-start{text-align:start!important}.ion-text-end{text-align:end!important}.ion-text-left{text-align:left!important}.ion-text-right{text-align:right!important}.ion-text-nowrap{white-space:nowrap!important}.ion-text-wrap{white-space:normal!important}@media (min-width: 576px){.ion-text-sm-center{text-align:center!important}.ion-text-sm-justify{text-align:justify!important}.ion-text-sm-start{text-align:start!important}.ion-text-sm-end{text-align:end!important}.ion-text-sm-left{text-align:left!important}.ion-text-sm-right{text-align:right!important}.ion-text-sm-nowrap{white-space:nowrap!important}.ion-text-sm-wrap{white-space:normal!important}}@media (min-width: 768px){.ion-text-md-center{text-align:center!important}.ion-text-md-justify{text-align:justify!important}.ion-text-md-start{text-align:start!important}.ion-text-md-end{text-align:end!important}.ion-text-md-left{text-align:left!important}.ion-text-md-right{text-align:right!important}.ion-text-md-nowrap{white-space:nowrap!important}.ion-text-md-wrap{white-space:normal!important}}@media (min-width: 992px){.ion-text-lg-center{text-align:center!important}.ion-text-lg-justify{text-align:justify!important}.ion-text-lg-start{text-align:start!important}.ion-text-lg-end{text-align:end!important}.ion-text-lg-left{text-align:left!important}.ion-text-lg-right{text-align:right!important}.ion-text-lg-nowrap{white-space:nowrap!important}.ion-text-lg-wrap{white-space:normal!important}}@media (min-width: 1200px){.ion-text-xl-center{text-align:center!important}.ion-text-xl-justify{text-align:justify!important}.ion-text-xl-start{text-align:start!important}.ion-text-xl-end{text-align:end!important}.ion-text-xl-left{text-align:left!important}.ion-text-xl-right{text-align:right!important}.ion-text-xl-nowrap{white-space:nowrap!important}.ion-text-xl-wrap{white-space:normal!important}}.ion-text-uppercase{text-transform:uppercase!important}.ion-text-lowercase{text-transform:lowercase!important}.ion-text-capitalize{text-transform:capitalize!important}@media (min-width: 576px){.ion-text-sm-uppercase{text-transform:uppercase!important}.ion-text-sm-lowercase{text-transform:lowercase!important}.ion-text-sm-capitalize{text-transform:capitalize!important}}@media (min-width: 768px){.ion-text-md-uppercase{text-transform:uppercase!important}.ion-text-md-lowercase{text-transform:lowercase!important}.ion-text-md-capitalize{text-transform:capitalize!important}}@media (min-width: 992px){.ion-text-lg-uppercase{text-transform:uppercase!important}.ion-text-lg-lowercase{text-transform:lowercase!important}.ion-text-lg-capitalize{text-transform:capitalize!important}}@media (min-width: 1200px){.ion-text-xl-uppercase{text-transform:uppercase!important}.ion-text-xl-lowercase{text-transform:lowercase!important}.ion-text-xl-capitalize{text-transform:capitalize!important}}.ion-align-self-start{align-self:flex-start!important}.ion-align-self-end{align-self:flex-end!important}.ion-align-self-center{align-self:center!important}.ion-align-self-stretch{align-self:stretch!important}.ion-align-self-baseline{align-self:baseline!important}.ion-align-self-auto{align-self:auto!important}.ion-wrap{flex-wrap:wrap!important}.ion-nowrap{flex-wrap:nowrap!important}.ion-wrap-reverse{flex-wrap:wrap-reverse!important}.ion-justify-content-start{justify-content:flex-start!important}.ion-justify-content-center{justify-content:center!important}.ion-justify-content-end{justify-content:flex-end!important}.ion-justify-content-around{justify-content:space-around!important}.ion-justify-content-between{justify-content:space-between!important}.ion-justify-content-evenly{justify-content:space-evenly!important}.ion-align-items-start{align-items:flex-start!important}.ion-align-items-center{align-items:center!important}.ion-align-items-end{align-items:flex-end!important}.ion-align-items-stretch{align-items:stretch!important}.ion-align-items-baseline{align-items:baseline!important}.ion-hide,.ion-hide-up,.ion-hide-down{display:none!important}@media (min-width: 576px){.ion-hide-sm-up{display:none!important}}@media (max-width: 575.98px){.ion-hide-sm-down{display:none!important}}@media (min-width: 768px){.ion-hide-md-up{display:none!important}}@media (max-width: 767.98px){.ion-hide-md-down{display:none!important}}@media (min-width: 992px){.ion-hide-lg-up{display:none!important}}@media (max-width: 991.98px){.ion-hide-lg-down{display:none!important}}@media (min-width: 1200px){.ion-hide-xl-up{display:none!important}}@media (max-width: 1199.98px){.ion-hide-xl-down{display:none!important}}:root{--ion-color-primary: #3880FF;--ion-color-primary-rgb: 56, 128, 255;--ion-color-primary-contrast: #ffffff;--ion-color-primary-contrast-rgb: 255, 255, 255;--ion-color-primary-shade: #3171e0;--ion-color-primary-tint: #4c8dff;--ion-color-secondary: #3dc2ff;--ion-color-secondary-rgb: 61, 194, 255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255, 255, 255;--ion-color-secondary-shade: #36abe0;--ion-color-secondary-tint: #50c8ff;--ion-color-tertiary: #5260ff;--ion-color-tertiary-rgb: 82, 96, 255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255, 255, 255;--ion-color-tertiary-shade: #4854e0;--ion-color-tertiary-tint: #6370ff;--ion-color-success: #2dd36f;--ion-color-success-rgb: 45, 211, 111;--ion-color-success-contrast: #ffffff;--ion-color-success-contrast-rgb: 255, 255, 255;--ion-color-success-shade: #28ba62;--ion-color-success-tint: #42d77d;--ion-color-warning: #ffc409;--ion-color-warning-rgb: 255, 196, 9;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0, 0, 0;--ion-color-warning-shade: #e0ac08;--ion-color-warning-tint: #ffca22;--ion-color-danger: #eb445a;--ion-color-danger-rgb: 235, 68, 90;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255, 255, 255;--ion-color-danger-shade: #cf3c4f;--ion-color-danger-tint: #ed576b;--ion-color-dark: #222428;--ion-color-dark-rgb: 34, 36, 40;--ion-color-dark-contrast: #ffffff;--ion-color-dark-contrast-rgb: 255, 255, 255;--ion-color-dark-shade: #1e2023;--ion-color-dark-tint: #383a3e;--ion-color-medium: #92949c;--ion-color-medium-rgb: 146, 148, 156;--ion-color-medium-contrast: #ffffff;--ion-color-medium-contrast-rgb: 255, 255, 255;--ion-color-medium-shade: #808289;--ion-color-medium-tint: #9d9fa6;--ion-color-light: #f4f5f8;--ion-color-light-rgb: 244, 245, 248;--ion-color-light-contrast: #000000;--ion-color-light-contrast-rgb: 0, 0, 0;--ion-color-light-shade: #d7d8da;--ion-color-light-tint: #f5f6f9}@media (prefers-color-scheme: dark){body{--ion-color-primary: #afccff;--ion-color-primary-rgb: 175, 204, 255;--ion-color-primary-contrast: #000000;--ion-color-primary-contrast-rgb: 0, 0, 0;--ion-color-primary-shade: #9ab4e0;--ion-color-primary-tint: #b7d1ff;--ion-color-secondary: #50c8ff;--ion-color-secondary-rgb: 80,200,255;--ion-color-secondary-contrast: #ffffff;--ion-color-secondary-contrast-rgb: 255,255,255;--ion-color-secondary-shade: #46b0e0;--ion-color-secondary-tint: #62ceff;--ion-color-tertiary: #6a64ff;--ion-color-tertiary-rgb: 106,100,255;--ion-color-tertiary-contrast: #ffffff;--ion-color-tertiary-contrast-rgb: 255,255,255;--ion-color-tertiary-shade: #5d58e0;--ion-color-tertiary-tint: #7974ff;--ion-color-success: #2fdf75;--ion-color-success-rgb: 47,223,117;--ion-color-success-contrast: #000000;--ion-color-success-contrast-rgb: 0,0,0;--ion-color-success-shade: #29c467;--ion-color-success-tint: #44e283;--ion-color-warning: #ffd534;--ion-color-warning-rgb: 255,213,52;--ion-color-warning-contrast: #000000;--ion-color-warning-contrast-rgb: 0,0,0;--ion-color-warning-shade: #e0bb2e;--ion-color-warning-tint: #ffd948;--ion-color-danger: #ff4961;--ion-color-danger-rgb: 255,73,97;--ion-color-danger-contrast: #ffffff;--ion-color-danger-contrast-rgb: 255,255,255;--ion-color-danger-shade: #e04055;--ion-color-danger-tint: #ff5b71;--ion-color-dark: #f4f5f8;--ion-color-dark-rgb: 244,245,248;--ion-color-dark-contrast: #000000;--ion-color-dark-contrast-rgb: 0,0,0;--ion-color-dark-shade: #d7d8da;--ion-color-dark-tint: #f5f6f9;--ion-color-medium: #989aa2;--ion-color-medium-rgb: 152,154,162;--ion-color-medium-contrast: #000000;--ion-color-medium-contrast-rgb: 0,0,0;--ion-color-medium-shade: #86888f;--ion-color-medium-tint: #a2a4ab;--ion-color-light: #222428;--ion-color-light-rgb: 34,36,40;--ion-color-light-contrast: #ffffff;--ion-color-light-contrast-rgb: 255,255,255;--ion-color-light-shade: #1e2023;--ion-color-light-tint: #383a3e}.ios body{--ion-background-color: #000000;--ion-background-color-rgb: 0,0,0;--ion-text-color: #ffffff;--ion-text-color-rgb: 255,255,255;--ion-color-step-50: #0d0d0d;--ion-color-step-100: #1a1a1a;--ion-color-step-150: #262626;--ion-color-step-200: #333333;--ion-color-step-250: #404040;--ion-color-step-300: #4d4d4d;--ion-color-step-350: #595959;--ion-color-step-400: #666666;--ion-color-step-450: #737373;--ion-color-step-500: #808080;--ion-color-step-550: #8c8c8c;--ion-color-step-600: #999999;--ion-color-step-650: #a6a6a6;--ion-color-step-700: #b3b3b3;--ion-color-step-750: #bfbfbf;--ion-color-step-800: #cccccc;--ion-color-step-850: #d9d9d9;--ion-color-step-900: #e6e6e6;--ion-color-step-950: #f2f2f2;--ion-item-background: #000000;--ion-card-background: #1c1c1d}.ios ion-modal{--ion-background-color: var(--ion-color-step-100);--ion-toolbar-background: var(--ion-color-step-150);--ion-toolbar-border-color: var(--ion-color-step-250)}.md body{--ion-background-color: #121212;--ion-background-color-rgb: 18,18,18;--ion-text-color: #ffffff;--ion-text-color-rgb: 255,255,255;--ion-border-color: #222222;--ion-color-step-50: #1e1e1e;--ion-color-step-100: #2a2a2a;--ion-color-step-150: #363636;--ion-color-step-200: #414141;--ion-color-step-250: #4d4d4d;--ion-color-step-300: #595959;--ion-color-step-350: #656565;--ion-color-step-400: #717171;--ion-color-step-450: #7d7d7d;--ion-color-step-500: #898989;--ion-color-step-550: #949494;--ion-color-step-600: #a0a0a0;--ion-color-step-650: #acacac;--ion-color-step-700: #b8b8b8;--ion-color-step-750: #c4c4c4;--ion-color-step-800: #d0d0d0;--ion-color-step-850: #dbdbdb;--ion-color-step-900: #e7e7e7;--ion-color-step-950: #f3f3f3;--ion-item-background: #1e1e1e;--ion-toolbar-background: #1f1f1f;--ion-tab-bar-background: #1f1f1f;--ion-card-background: #1e1e1e}}*{padding:0;margin:0;border:0}*,*:before,*:after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}:focus,:active{outline:none}nav,footer,header,aside{display:block}a{text-decoration:none}ul,ol,li{list-style:none}h1,h2,h3,h4,h5,h6{font-weight:inherit;font-size:inherit}input,button,textarea{font-family:inherit}input::-ms-clear{display:none}button{cursor:pointer}button::-moz-focus-inner{padding:0;border:0}a,a:visited,a:hover{text-decoration:none}ul li{list-style:none}img{vertical-align:top}html,body{height:100%;width:100%;line-height:1;font-size:20px;font-weight:400;color:#000;font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;background-color:#f5f5f5}.spinner{height:100%;margin:0 auto}.timer-content{display:flex;flex-direction:column;align-items:center}.time-wrapper{display:flex;flex:1;flex-direction:column;align-items:center;color:var(--ion-color-dark)}.timer-digits{font-size:45px}.timer-digits__digit{display:flex;justify-content:right;display:inline-block;width:30px}.timer-digits__colon{display:flex;justify-content:center;display:inline-block;width:10px}.bpg-block{background-image:url(https://img.freepik.com/free-photo/vivid-blurred-colorful-background_58702-2655.jpg?w=2000&t=st=1693908730~exp=1693909330~hmac=37207fca4e2a1c7c9f1e4ab088da7e4352cde834e7331325fbfa59125381b96e);min-height:300px;background-size:cover}.app-info{bottom:0;padding-left:20px}.app-info p{font-size:11px}.my-tab-button{color:var(--ion-color-dark)}.my-tab-button.tab-selected{color:#fff;background-color:var(--ion-color-dark);transition:background-color 2s ease}button{height:8vh;width:8vh;border-radius:50px;background-color:#d7d8da;color:#f4f5f8}.swiper__btn_left{position:absolute;top:40%;left:3vw;z-index:1}.swiper__btn_right{position:absolute;top:40%;right:3vw;z-index:5}.swiper__icon_left{height:5vh;width:5vh;margin:0 0 0 -1vh}.swiper__icon_right{height:5vh;width:5vh;margin:0 -1vh 0 0}@font-face{font-family:swiper-icons;src:url(data:application/font-woff;charset=utf-8;base64,\\ d09GRgABAAAAAAZgABAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAGRAAAABoAAAAci6qHkUdERUYAAAWgAAAAIwAAACQAYABXR1BPUwAABhQAAAAuAAAANuAY7+xHU1VCAAAFxAAAAFAAAABm2fPczU9TLzIAAAHcAAAASgAAAGBP9V5RY21hcAAAAkQAAACIAAABYt6F0cBjdnQgAAACzAAAAAQAAAAEABEBRGdhc3AAAAWYAAAACAAAAAj//wADZ2x5ZgAAAywAAADMAAAD2MHtryVoZWFkAAABbAAAADAAAAA2E2+eoWhoZWEAAAGcAAAAHwAAACQC9gDzaG10eAAAAigAAAAZAAAArgJkABFsb2NhAAAC0AAAAFoAAABaFQAUGG1heHAAAAG8AAAAHwAAACAAcABAbmFtZQAAA/gAAAE5AAACXvFdBwlwb3N0AAAFNAAAAGIAAACE5s74hXjaY2BkYGAAYpf5Hu/j+W2+MnAzMYDAzaX6QjD6/4//Bxj5GA8AuRwMYGkAPywL13jaY2BkYGA88P8Agx4j+/8fQDYfA1AEBWgDAIB2BOoAeNpjYGRgYNBh4GdgYgABEMnIABJzYNADCQAACWgAsQB42mNgYfzCOIGBlYGB0YcxjYGBwR1Kf2WQZGhhYGBiYGVmgAFGBiQQkOaawtDAoMBQxXjg/wEGPcYDDA4wNUA2CCgwsAAAO4EL6gAAeNpj2M0gyAACqxgGNWBkZ2D4/wMA+xkDdgAAAHjaY2BgYGaAYBkGRgYQiAHyGMF8FgYHIM3DwMHABGQrMOgyWDLEM1T9/w8UBfEMgLzE////P/5//f/V/xv+r4eaAAeMbAxwIUYmIMHEgKYAYjUcsDAwsLKxc3BycfPw8jEQA/gZBASFhEVExcQlJKWkZWTl5BUUlZRVVNXUNTQZBgMAAMR+E+gAEQFEAAAAKgAqACoANAA+AEgAUgBcAGYAcAB6AIQAjgCYAKIArAC2AMAAygDUAN4A6ADyAPwBBgEQARoBJAEuATgBQgFMAVYBYAFqAXQBfgGIAZIBnAGmAbIBzgHsAAB42u2NMQ6CUAyGW568x9AneYYgm4MJbhKFaExIOAVX8ApewSt4Bic4AfeAid3VOBixDxfPYEza5O+Xfi04YADggiUIULCuEJK8VhO4bSvpdnktHI5QCYtdi2sl8ZnXaHlqUrNKzdKcT8cjlq+rwZSvIVczNiezsfnP/uznmfPFBNODM2K7MTQ45YEAZqGP81AmGGcF3iPqOop0r1SPTaTbVkfUe4HXj97wYE+yNwWYxwWu4v1ugWHgo3S1XdZEVqWM7ET0cfnLGxWfkgR42o2PvWrDMBSFj/IHLaF0zKjRgdiVMwScNRAoWUoH78Y2icB/yIY09An6AH2Bdu/UB+yxopYshQiEvnvu0dURgDt8QeC8PDw7Fpji3fEA4z/PEJ6YOB5hKh4dj3EvXhxPqH/SKUY3rJ7srZ4FZnh1PMAtPhwP6fl2PMJMPDgeQ4rY8YT6Gzao0eAEA409DuggmTnFnOcSCiEiLMgxCiTI6Cq5DZUd3Qmp10vO0LaLTd2cjN4fOumlc7lUYbSQcZFkutRG7g6JKZKy0RmdLY680CDnEJ+UMkpFFe1RN7nxdVpXrC4aTtnaurOnYercZg2YVmLN/d/gczfEimrE/fs/bOuq29Zmn8tloORaXgZgGa78yO9/cnXm2BpaGvq25Dv9S4E9+5SIc9PqupJKhYFSSl47+Qcr1mYNAAAAeNptw0cKwkAAAMDZJA8Q7OUJvkLsPfZ6zFVERPy8qHh2YER+3i/BP83vIBLLySsoKimrqKqpa2hp6+jq6RsYGhmbmJqZSy0sraxtbO3sHRydnEMU4uR6yx7JJXveP7WrDycAAAAAAAH//wACeNpjYGRgYOABYhkgZgJCZgZNBkYGLQZtIJsFLMYAAAw3ALgAeNolizEKgDAQBCchRbC2sFER0YD6qVQiBCv/H9ezGI6Z5XBAw8CBK/m5iQQVauVbXLnOrMZv2oLdKFa8Pjuru2hJzGabmOSLzNMzvutpB3N42mNgZGBg4GKQYzBhYMxJLMlj4GBgAYow/P/PAJJhLM6sSoWKfWCAAwDAjgbRAAB42mNgYGBkAIIbCZo5IPrmUn0hGA0AO8EFTQAA);font-weight:400;font-style:normal}:root{--swiper-theme-color: #007aff}:host{position:relative;display:block;margin-left:auto;margin-right:auto;z-index:1}.swiper{margin-left:auto;margin-right:auto;position:relative;overflow:hidden;overflow:clip;list-style:none;padding:0;z-index:1;display:block}.swiper-vertical>.swiper-wrapper{flex-direction:column}.swiper-wrapper{position:relative;width:100%;height:100%;z-index:1;display:flex;transition-property:transform;transition-timing-function:var(--swiper-wrapper-transition-timing-function, initial);box-sizing:content-box}.swiper-android .swiper-slide,.swiper-ios .swiper-slide,.swiper-wrapper{transform:translateZ(0)}.swiper-horizontal{touch-action:pan-y}.swiper-vertical{touch-action:pan-x}.swiper-slide{flex-shrink:0;width:100%;height:100%;position:relative;transition-property:transform;display:block}.swiper-slide-invisible-blank{visibility:hidden}.swiper-autoheight,.swiper-autoheight .swiper-slide{height:auto}.swiper-autoheight .swiper-wrapper{align-items:flex-start;transition-property:transform,height}.swiper-backface-hidden .swiper-slide{transform:translateZ(0);-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-3d.swiper-css-mode .swiper-wrapper{perspective:1200px}.swiper-3d .swiper-wrapper{transform-style:preserve-3d}.swiper-3d{perspective:1200px}.swiper-3d .swiper-slide,.swiper-3d .swiper-cube-shadow{transform-style:preserve-3d}.swiper-css-mode>.swiper-wrapper{overflow:auto;scrollbar-width:none;-ms-overflow-style:none}.swiper-css-mode>.swiper-wrapper::-webkit-scrollbar{display:none}.swiper-css-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:start start}.swiper-css-mode.swiper-horizontal>.swiper-wrapper{scroll-snap-type:x mandatory}.swiper-css-mode.swiper-vertical>.swiper-wrapper{scroll-snap-type:y mandatory}.swiper-css-mode.swiper-free-mode>.swiper-wrapper{scroll-snap-type:none}.swiper-css-mode.swiper-free-mode>.swiper-wrapper>.swiper-slide{scroll-snap-align:none}.swiper-css-mode.swiper-centered>.swiper-wrapper:before{content:"";flex-shrink:0;order:9999}.swiper-css-mode.swiper-centered>.swiper-wrapper>.swiper-slide{scroll-snap-align:center center;scroll-snap-stop:always}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper>.swiper-slide:first-child{margin-inline-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-horizontal>.swiper-wrapper:before{height:100%;min-height:1px;width:var(--swiper-centered-offset-after)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper>.swiper-slide:first-child{margin-block-start:var(--swiper-centered-offset-before)}.swiper-css-mode.swiper-centered.swiper-vertical>.swiper-wrapper:before{width:100%;min-width:1px;height:var(--swiper-centered-offset-after)}.swiper-3d .swiper-slide-shadow,.swiper-3d .swiper-slide-shadow-left,.swiper-3d .swiper-slide-shadow-right,.swiper-3d .swiper-slide-shadow-top,.swiper-3d .swiper-slide-shadow-bottom{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}.swiper-3d .swiper-slide-shadow{background:rgba(0,0,0,.15)}.swiper-3d .swiper-slide-shadow-left{background-image:linear-gradient(to left,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-right{background-image:linear-gradient(to right,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-top{background-image:linear-gradient(to top,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-3d .swiper-slide-shadow-bottom{background-image:linear-gradient(to bottom,rgba(0,0,0,.5),rgba(0,0,0,0))}.swiper-lazy-preloader{width:42px;height:42px;position:absolute;left:50%;top:50%;margin-left:-21px;margin-top:-21px;z-index:10;transform-origin:50%;box-sizing:border-box;border:4px solid var(--swiper-preloader-color, var(--swiper-theme-color));border-radius:50%;border-top-color:transparent}.swiper:not(.swiper-watch-progress) .swiper-lazy-preloader,.swiper-watch-progress .swiper-slide-visible .swiper-lazy-preloader{animation:swiper-preloader-spin 1s infinite linear}.swiper-lazy-preloader-white{--swiper-preloader-color: #fff}.swiper-lazy-preloader-black{--swiper-preloader-color: #000}@keyframes swiper-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.swiper-pagination{position:absolute;text-align:center;transition:.3s opacity;transform:translateZ(0);z-index:10}.swiper-pagination.swiper-pagination-hidden{opacity:0}.swiper-pagination-disabled>.swiper-pagination,.swiper-pagination.swiper-pagination-disabled{display:none!important}.swiper-pagination-fraction,.swiper-pagination-custom,.swiper-horizontal>.swiper-pagination-bullets,.swiper-pagination-bullets.swiper-pagination-horizontal{bottom:var(--swiper-pagination-bottom, 8px);top:var(--swiper-pagination-top, auto);left:0;width:100%}.swiper-pagination-bullets-dynamic{overflow:hidden;font-size:0}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transform:scale(.33);position:relative}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active,.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-main{transform:scale(1)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-prev-prev{transform:scale(.33)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next{transform:scale(.66)}.swiper-pagination-bullets-dynamic .swiper-pagination-bullet-active-next-next{transform:scale(.33)}.swiper-pagination-bullet{width:var(--swiper-pagination-bullet-width, var(--swiper-pagination-bullet-size, 8px));height:var(--swiper-pagination-bullet-height, var(--swiper-pagination-bullet-size, 8px));display:inline-block;border-radius:var(--swiper-pagination-bullet-border-radius, 50%);background:var(--swiper-pagination-bullet-inactive-color, #000);opacity:var(--swiper-pagination-bullet-inactive-opacity, .2)}button.swiper-pagination-bullet{border:none;margin:0;padding:0;box-shadow:none;-webkit-appearance:none;appearance:none}.swiper-pagination-clickable .swiper-pagination-bullet{cursor:pointer}.swiper-pagination-bullet:only-child{display:none!important}.swiper-pagination-bullet-active{opacity:var(--swiper-pagination-bullet-opacity, 1);background:var(--swiper-pagination-color, var(--swiper-theme-color))}.swiper-vertical>.swiper-pagination-bullets,.swiper-pagination-vertical.swiper-pagination-bullets{right:var(--swiper-pagination-right, 8px);left:var(--swiper-pagination-left, auto);top:50%;transform:translate3d(0,-50%,0)}.swiper-vertical>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-vertical.swiper-pagination-bullets .swiper-pagination-bullet{margin:var(--swiper-pagination-bullet-vertical-gap, 6px) 0;display:block}.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{top:50%;transform:translateY(-50%);width:8px}.swiper-vertical>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-vertical.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{display:inline-block;transition:.2s transform,.2s top}.swiper-horizontal>.swiper-pagination-bullets .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets .swiper-pagination-bullet{margin:0 var(--swiper-pagination-bullet-horizontal-gap, 4px)}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic{left:50%;transform:translate(-50%);white-space:nowrap}.swiper-horizontal>.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet,.swiper-pagination-horizontal.swiper-pagination-bullets.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s left}.swiper-horizontal.swiper-rtl>.swiper-pagination-bullets-dynamic .swiper-pagination-bullet{transition:.2s transform,.2s right}.swiper-pagination-fraction{color:var(--swiper-pagination-fraction-color, inherit)}.swiper-pagination-progressbar{background:var(--swiper-pagination-progressbar-bg-color, rgba(0, 0, 0, .25));position:absolute}.swiper-pagination-progressbar .swiper-pagination-progressbar-fill{background:var(--swiper-pagination-color, var(--swiper-theme-color));position:absolute;left:0;top:0;width:100%;height:100%;transform:scale(0);transform-origin:left top}.swiper-rtl .swiper-pagination-progressbar .swiper-pagination-progressbar-fill{transform-origin:right top}.swiper-horizontal>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-horizontal,.swiper-vertical>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-vertical.swiper-pagination-progressbar-opposite{width:100%;height:var(--swiper-pagination-progressbar-size, 4px);left:0;top:0}.swiper-vertical>.swiper-pagination-progressbar,.swiper-pagination-progressbar.swiper-pagination-vertical,.swiper-horizontal>.swiper-pagination-progressbar.swiper-pagination-progressbar-opposite,.swiper-pagination-progressbar.swiper-pagination-horizontal.swiper-pagination-progressbar-opposite{width:var(--swiper-pagination-progressbar-size, 4px);height:100%;left:0;top:0}.swiper-pagination-lock{display:none}:root{--swiper-navigation-size: 44px}.swiper-button-prev,.swiper-button-next{position:absolute;top:var(--swiper-navigation-top-offset, 50%);width:calc(var(--swiper-navigation-size) / 44 * 27);height:var(--swiper-navigation-size);margin-top:calc(0px - (var(--swiper-navigation-size) / 2));z-index:10;cursor:pointer;display:flex;align-items:center;justify-content:center;color:var(--swiper-navigation-color, var(--swiper-theme-color))}.swiper-button-prev.swiper-button-disabled,.swiper-button-next.swiper-button-disabled{opacity:.35;cursor:auto;pointer-events:none}.swiper-button-prev.swiper-button-hidden,.swiper-button-next.swiper-button-hidden{opacity:0;cursor:auto;pointer-events:none}.swiper-navigation-disabled .swiper-button-prev,.swiper-navigation-disabled .swiper-button-next{display:none!important}.swiper-button-prev svg,.swiper-button-next svg{width:100%;height:100%;object-fit:contain;transform-origin:center}.swiper-rtl .swiper-button-prev svg,.swiper-rtl .swiper-button-next svg{transform:rotate(180deg)}.swiper-button-prev,.swiper-rtl .swiper-button-next{left:var(--swiper-navigation-sides-offset, 10px);right:auto}.swiper-button-lock{display:none}.swiper-button-prev:after,.swiper-button-next:after{font-family:swiper-icons;font-size:var(--swiper-navigation-size);text-transform:none!important;letter-spacing:0;font-variant:initial;line-height:1}.swiper-button-prev:after,.swiper-rtl .swiper-button-next:after{content:"prev"}.swiper-button-next,.swiper-rtl .swiper-button-prev{right:var(--swiper-navigation-sides-offset, 10px);left:auto}.swiper-button-next:after,.swiper-rtl .swiper-button-prev:after{content:"next"}.swiper-fade.swiper-free-mode .swiper-slide{transition-timing-function:ease-out}.swiper-fade .swiper-slide{pointer-events:none;transition-property:opacity}.swiper-fade .swiper-slide .swiper-slide{pointer-events:none}.swiper-fade .swiper-slide-active,.swiper-fade .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-flip{overflow:visible}.swiper-flip .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1}.swiper-flip .swiper-slide .swiper-slide{pointer-events:none}.swiper-flip .swiper-slide-active,.swiper-flip .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-flip .swiper-slide-shadow-flip.swiper-slide-shadow-top,.swiper-flip .swiper-slide-shadow-flip.swiper-slide-shadow-bottom,.swiper-flip .swiper-slide-shadow-flip.swiper-slide-shadow-left,.swiper-flip .swiper-slide-shadow-flip.swiper-slide-shadow-right{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.swiper-cube{overflow:visible}.swiper-cube .swiper-slide{pointer-events:none;-webkit-backface-visibility:hidden;backface-visibility:hidden;z-index:1;visibility:hidden;transform-origin:0 0;width:100%;height:100%}.swiper-cube .swiper-slide .swiper-slide{pointer-events:none}.swiper-cube.swiper-rtl .swiper-slide{transform-origin:100% 0}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-active .swiper-slide-active{pointer-events:auto}.swiper-cube .swiper-slide-active,.swiper-cube .swiper-slide-next,.swiper-cube .swiper-slide-prev{pointer-events:auto;visibility:visible}.swiper-cube .swiper-cube-shadow{position:absolute;left:0;bottom:0;width:100%;height:100%;opacity:.6;z-index:0}.swiper-cube .swiper-cube-shadow:before{content:"";background:#000;position:absolute;left:0;top:0;bottom:0;right:0;filter:blur(50px)}.swiper-cube .swiper-slide-next+.swiper-slide{pointer-events:auto;visibility:visible}.swiper-cube .swiper-slide-shadow-cube.swiper-slide-shadow-top,.swiper-cube .swiper-slide-shadow-cube.swiper-slide-shadow-bottom,.swiper-cube .swiper-slide-shadow-cube.swiper-slide-shadow-left,.swiper-cube .swiper-slide-shadow-cube.swiper-slide-shadow-right{z-index:0;-webkit-backface-visibility:hidden;backface-visibility:hidden}.track__exercises{background-color:var(--ion-color-dark);color:#fff;font-size:24px;line-height:120%;padding-left:10px}.track__category{background-color:var(--ion-color-dark);color:#ffc409;font-weight:600;font-size:12px;line-height:168%;padding-left:10px}ion-button{--background: var(--ion-color-dark);--background-activated: #ffc409;--background-hover: #e09c9c;--background-focused: #a588f4;--color: #ffffff;--box-shadow: 0 2px 6px 0 rgb(0, 0, 0, .4)}.mySwiper .swiper-pagination-bullet{width:10px;height:10px}.vjs-svg-icon{display:inline-block;background-repeat:no-repeat;background-position:center;fill:#fff;height:1.5em;width:1.5em}.vjs-svg-icon:before{content:none!important}.vjs-svg-icon:hover,.vjs-control:focus .vjs-svg-icon{filter:drop-shadow(0 0 .25em #fff)}.vjs-modal-dialog .vjs-modal-dialog-content,.video-js .vjs-modal-dialog,.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-button>.vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{text-align:center}@font-face{font-family:VideoJS;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABUgAAsAAAAAItAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAPgAAAFZRiV33Y21hcAAAAYQAAAEJAAAD5p42+VxnbHlmAAACkAAADwwAABdk9R/WHmhlYWQAABGcAAAAKwAAADYn8kSnaGhlYQAAEcgAAAAdAAAAJA+RCL1obXR4AAAR6AAAABMAAAC8Q44AAGxvY2EAABH8AAAAYAAAAGB7SIHGbWF4cAAAElwAAAAfAAAAIAFAAI9uYW1lAAASfAAAASUAAAIK1cf1oHBvc3QAABOkAAABfAAAAnXdFqh1eJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGR7xDiBgZWBgaWQ5RkDA8MvCM0cwxDOeI6BgYmBlZkBKwhIc01hcPjI+FGPHcRdyA4RZgQRADbZCycAAHic7dPXbcMwAEXRK1vuvffem749XAbKV3bjBA6fXsaIgMMLEWoQJaAEFKNnlELyQ4K27zib5PNF6vl8yld+TKr5kH0+cUw0xv00Hwvx2DResUyFKrV4XoMmLdp06NKjz4AhI8ZMmDJjzoIlK9Zs2LJjz4EjJ85cuHLjziPe/0UWL17mf2tqKLz/9jK9f8tXpGCoRdPKhtS0RqFkWvVQNtSKoVYNtWaoddPXEBqG2jQ9XWgZattQO4baNdSeofYNdWCoQ0MdGerYUCeGOjXUmaHODXVhqEtDXRnq2lA3hro11J2h7g31YKhHQz0Z6tlQL4Z6NdSbod4N9WGoT9MfHF6GmhnZLxyDcRMAAAB4nJ1YC1gUV5auc6urCmxEGrq6VRD6ATQP5dHPKK8GRIyoKApoEBUDAiGzGmdUfKNRM4qLZrUZdGKcGN/GZJKd0SyOWTbfbmZ2NxqzM5IxRtNZd78vwYlJdtREoO7sudVNq6PmmxmKqrqPU+eee173P80Bh39Cu9DOEY4DHZBK3i20D/QRLcfxbE5sEVtwLpZzclw4ibFIkSCJUcZ4MBpMnnzwuKNsGWBL5i3qy6kO2dVpvUpKbkAP9fq62rdeGJ+TM/7C1nbIutfuWrWk5ci4zMxxR1qW/N+9JsmCGXj9VKWhFx/6tr/nz78INDm2C9yPF/fDcxLuyKxLBZ1ZBz2QTi+RSkiH5RrDQJ/GgGQadX9m0YSURs7GpSG905Zsk41uj14yul1OtieZ7QUk5GRG/YiS7PYYPSAZNRed9sq3+bOpz00rKb7pe/ZEZvbALxZAHT3AFoH8GXP3rt67QFn40kt8W13FjLTDb48c+fSi5/7h0P4dL5yz7DPtbmgmYxfQA9RL2+EOfTcvdp+1vmuBpvOll1As1S6ak0IvJzC7sKWJFtJgBd2uWcg+0Zyg7dzQfhcjXRgXGZRf5/a4A58IDU777Nl252AUk4m2ByRRjqTNqIDCEJeAnU3iCFwrkrNwXEzg4yFevBwypzxkcX+AIfk3VEKl3XmWbT8788SzvpvFJaiOezL6QyuSr9VNf97csNu0z3LuhR0wATUxZAfVBwVOy+nQFhxYdWaXlXe4HC4zWGWzzsrLDtmhI9pOWOHv7PTT7XybH1Z0+v2d5Abd3kmG+TsH23CS/KwTxx/JkzEwx6jcQOUc42LLwHJ/J93uZ9ygh3HuZGwqsY9dWDHQ58dxNqyqKRQTYdxwTubiOSs3FiMDkq0WSZQgCT0GBDOg2lxOAd1FlPVGs4AKBAcYHHaP2wPkHaivmLF5zYqnIZrvcHx5gN4k/6tchNW1DtdgNL2KrxEkS/kfnIHoVnp1VjmjpTf5r0lTzLj0mdS28tX+XGorU364eMPmnWVl8J36nlKGw3CZhjEiuMw8h8mKvhGD+4/lElBWjAhLJMg6fTw4zPZ8cOmcGQBm2Qxml1nAm13CpYGq1JKUlJJUzQn1PTAO0mgv6VMMpA/DuRfSWEu4lDIxdbAtdWIKvnn2Vk766CWfz9fpY0sH/UpdP50rfszaVpdVRmvIejEdLMk45s4Bu0EWHjeOySmFyZSiMahvZdNSn29peoI/YexYfKQTLeurTXXwEVLeSfInTWHkkMaeUx7sBvOCSTSj3AlcKjfueyS36tCrXDlgRtF0etFq9jhc1kfKuBT/OwMr0F4UUTTh1AN0g20+H/ScPcsIEsYu9d/zN5PmjprPtNwI1ZZcDK6iC97Mcjp2y2aX36f+QbpGHrgRuHlXJ+Zf6PFRL2uQSp8vxHeF2IoRb8Rd2rhMzsNxSRmEuKK4JFnkojhMcx6jzqHzGMGFcW+MhBj0bhf6cowN+45I4LHvwT6fteu7M42wGRI/pxcg6/MZdEvt1U1XaulHFXuLmqov/MukvRVL35/b3ODM1+4aPjtzeK7zmUkV2h3DN54HaQ9GzJvxHRb6Ks2gB81fwqraT+A7GvZJrRLRofU6G0urNL+zFw3v0FaVDFxsKEZW56F31r6ip6vOL+FCObBPuIMRiXld9RaMdLzRIOGhPey2T9vA/35DmZPK9IWaT9d/WgOGMieYqJ/dzjLIhZU118gbysxrNUGefxD6UO/hyNNllpFTOIbx32kSFQctnweV5PxTMHLjRqiAN+fQE9gL+Xy5WB6MOS4GJJuYbDUHhcKDhHGRbLzOpjsjdM1+iwAZLGeieehACX2hhI7SjK/ZUTNrvVje31TxJiFBGYViWFkCn9PMeX9fS6qVbzfCj4fOCTzDnuWy2c4xA7mdNkA3RS9FH2VeqzdCBlixxbzXjvkHU1I8BOYFb1pZvPIHSSIj4svT8xpzcxtXN+ZKyjdDvbz08niiF3PqV9Tn5NST8vg48MTaY8E5xqSSIsWoWHo+LtAzxdH/GDUyp37CBEYfso04F/NlMTcDJUTpECLY0HFGQHImE8xsEUdgnrQlixIvGhJA1BvxpDHGxEMBYFeNOHcBJlSjwe2JcSfbBEsGOPPBHg/6SBBOCsLLw0SpUxod0Z1bFMfLkbQ3UiZxEyd0Dx8t+SRBu18Q9msFbI4e3p1THEfkSEh7kEJ5orR10qTWDvbgPWn5aWvCYyOAjwgXyjJi34uMjo58L25cmRAeQZWI2PA1QQLsPESAH8WGFwZZ4SPoR73BHPzIPMJj9AreBzKUmrH4todT18ANvi1oc3YGjUT/0j+ExUwq8PI9BLaCQIpvewwYu2evAG/Vo/5avPdY7o+BemLLXw3y+AdkzP9bpIxB1wm5EYq8fesHbPEPtm6HrHvtx4jcGPR8fDDpkZBefIjB46QnlUNRltv4Z/pO/J6dxEjhYAtmoMeq+GozvUVvNYOW3m6GCIhoprcfr97B8AcIQYsfD8ljUvGNjvkrpj0ETA48ZMIxCeqsRIsQALE0gi2GB+glSOfbOjW3GSBM9yPq8/rpJXrJDz0BPxV6xdN4uiCGDQed3WhgFkBUZEFsmeyyBpzXrm7UGTBZG8Lh5aubFufk5eUsbrrFGr7McYdbltxa0nKYqRKbQjvikXYkTGM0f2xuyM3Ly21oXnWfvf6I1BmZwfh7EWWIYsg2nHhsDhOnczhJcmI6eBAmy3jZ3RiJmKQR/JA99FcwsfaVbNDDyi1rL9NPj9hfo61wjM6BjzOLijLpeTgk/pL+ip6tfYWupzeOgPny2tcUu9J/9mhxJlgyi985NFRbvCVewXUNXLJaW0RxZqtRYtnfYdcYomXQWdnJHQA3jiEEkeTQWcWxdDP9IvvVWvo2TK553XEMEq+s69/QDU1Q7p0zxwsm9qS379whr8NI2PJqLUyGyfNeX3eFfnJU2U+uHR9cVV1IqgurqwuV44XVp0h2qN55X5XJwtk59yP0IZuHrqBOBIuIYhkcoT6Kx79Pu2HS/IPZIMOqLWs/pteOOk4NPgEb6QAIdAPsyZk5Mwd+wVaHMexJv719W7xCu2l37UG6lvYdBcvHa08p89741zd63phTRGqL5ggo6SlvdbWXzCqsPq78NnSu7wnKy2HNZbVoRCI7UJEOyRj+sPE002tOOY7Qa5fXboFWkLNeqYUSZRocp9XwSUZxcQZ9Hw6LV2pOoVmvHQEDbGIENEG5i6bLgMSM4n8+FNLTtAds99DaWEvgcf4o5SyYe9x+kF6/tGoTPAdRmS/XQIEy//QxKC2oqioAI3tS5auvxCtzT6y6RK8fhChYcwCJaMJhxc0vqSxQ/qmgsrKAlBZUHlauheTpvd9uj5DnLzJct6qfq5fXbYHVIGcfrIVJihbaVLu1wW7Vbs8zK0A8e9Jvb91S9cVMjPrazD6gpfeZTXzYbCFMcppVRsGMpp55OWgx1/3JeAxW1Y7AORgM/m3rWrsdLkQVmEVSU16cX/e7uvkvpqRiQsG06XJ0t64Tf+l0nG1dt025gyOIZlvq5u9KSU1N2TW/rsWnnMRPyTDkctbhvIcNvYIXWyLzdwYLoYesUbaQG4iK2cWO2gdpeUYLqDD0MUTOPhDIGnZEs58yArR86FznuWEsU4YDi2x26dA4klkn8Qa6vhk2QUfX4Jxm/ngX9r7ogn1dmlmwqZmuhxtdg9XN/DEcUgqb+9hMyNansfaQET2mcROCmGEMVqxm5u+h6kN2MOwgqykV2wH9yQG9DvVFU38Pogaf4FVuE62KI/oJ02RDdWW2w5dqQwU/8+N1q1DlvsL863u61KLE7x/o8w0VJQM/Y/SQ3unIrqxueEa1BqT5VFNsO7p39/UC771a77RowpaKe9nvJQIT1Pog5LGx8XblBKmCNGTf3xMogAQvPnz9PYKX/08sVDTG1OKUlOLUgS/UaZtm1NAaYTsl7i9ZQ+L6O4Rl0OGa577LuWvc+C+x96/vYh0lLBuM+7XwI/dTLtdT7v4d6rRTWDnku0IBrqFnZ5bVIqKP8lasJlithWnaLhTsr8qFJBulF/70p4undou36HeTJ5+jv1fCybeQ8nH3+Xv6aENczmOFlab+hqMDg1rLOt12A+tiUFrYDwQ6c3RUJp601nzegTNX6WlYAI2zSUV945F6zU56ZmZVQaWspWcIADxJ9GmljQUnL2p2Dpr5T8H+5KJFu+vqBq8qvyHRzStLHPEO5SPYCV9nZe0yZT2RcH0oHvegSzNEJ0oGWU8iQWM12dgPEugngVceGIwZgPFp0BiT1a0a3R5Rcot7ihfA1J/20v96jX7zmTX9s583H0kwx6WnLd09cXrR9LGroOa9sHNbdyz8wcKk5lqhaVFJZNwmqtw884MXNdvJujpBa3xzuSaZH9sxa06Z7x+HJSduPbdYHv/DgmEhfbehvlmGN7JUkcG78GDM12CeyFFTPNqVeNxC1gzjz+c2nVo63Xxs8rKJWXoBJM0tmEbfGm4qzpoOH3xpzQfyxLzW1gnE9NHo6tol1eMEic4ZVPrjnVi0kqAe2sQ2bgqupScaq8WGlUWgWHI51SKJl/UYT6zccNsCSkBtiVZLsiefuFSDYT3Fi8Zk7EUnmjTRYtsFeuDDJS05MW79M3mr3mla+d8dzac31KTPmBYfFiYSUef48PhPjm9ryZsSGZZkdNvzq0Y9rdNcwDq5Dg5C3QW+7UN64IKptvS3tvHbvu5c9pv1Exau21rc9LIpwpQwUjTq8576yeVDz5+4WZ1nXT43wV60rPLJbDp/UksNrP3iQ2SA63Pst058gOYDbhRnRUw8l/sRt4HbxPzO4WYpInCpuVgSbVh6JXuwnnJngKTTCwaPWmG5Xbhpm1U0Yt3FyBGpGYemPM77p2TD904JjgJ2QFpFLeYpGx8X15Qx1Zk31p5ki9ZLUuXE0lmuJlcakJMVLeFS1iIvrB8drY0aloilakqCZwzwRORtxlgwxS4IThggJd4TDxoiaAIT80fFPGrCPPru+puFn504P/ybr4ihA/6dKASLshEJic7xE8tmzu3KzA7TABBe8y5fNbWo3ilQn/SuFKM16b2l5bOeayqfGhYmhIulU+fVNDdWVv4NMzX10MBHyPR5uhWUu8D9P1VnIMt4nGNgZGBgAOJ/1bf64vltvjJwszOAwAOlmqvINEc/WJyDgQlEAQA+dgnjAHicY2BkYGBnAAGOPgaG//85+hkYGVCBPgBGJwNkAAAAeJxjYGBgYB/EmKMPtxwAhg4B0gAAAAAAAA4AaAB+AMwA4AECAUIBbAGYAe4CLgKKAtAC/ANiA4wDqAPgBDAEsATaBQgFWgXABggGLgZwBqwG9gdOB4oH0ggqCHAIhgicCMgJJAlWCYgJrAnyCkAKdgrkC7J4nGNgZGBg0GdoZmBnAAEmIOYCQgaG/2A+AwAaqwHQAHicXZBNaoNAGIZfE5PQCKFQ2lUps2oXBfOzzAESyDKBQJdGR2NQR3QSSE/QE/QEPUUPUHqsvsrXjTMw83zPvPMNCuAWP3DQDAejdm1GjzwS7pMmwi75XngAD4/CQ/oX4TFe4Qt7uMMbOzjuDc0EmXCP/C7cJ38Iu+RP4QEe8CU8pP8WHmOPX2EPz87TPo202ey2OjlnQSXV/6arOjWFmvszMWtd6CqwOlKHq6ovycLaWMWVydXKFFZnmVFlZU46tP7R2nI5ncbi/dDkfDtFBA2DDXbYkhKc+V0Bqs5Zt9JM1HQGBRTm/EezTmZNKtpcAMs9Yu6AK9caF76zoLWIWcfMGOSkVduvSWechqZsz040Ib2PY3urxBJTzriT95lipz+TN1fmAAAAeJxtkXlT2zAQxf1C4thJAwRajt4HRy8VMwwfSJHXsQZZcnUQ+PYoTtwpM+wf2t9brWZ2n5JBsol58nJcYYAdDDFCijEy5JhgileYYRd72MccBzjEa7zBEY5xglO8xTu8xwd8xCd8xhd8xTec4RwXuMR3/MBP/MJvMPzBFYpk2Cr+OF0fTEgrFI1aHhxN740KDbEmeJpsWZlVj40s+45aLuv9KijlhCXSjLQnu/d/4UH6sWul1mRzFxZeekUuE7z10mg3qMtM1FGQddPSrLQyvJR6OaukItYXDp6pCJrmz0umqkau5pZ2hFmm7m+ImG5W2t0kZoJXUtPhVnYTbbdOBdeCVGqpJe7XKTqSbRK7zbdwXfR0U+SVsStuS3Y76em6+Ic3xYiHUppc04Nn0lMzay3dSxNcp8auDlWlaCi48yetFD7Y9USsx87G45cuop1ZxQUtjLnL4j53FO0a+5X08UXqQ7NQNo92R0XOz7sxWEnxN2TneJI8Acttu4Q=) format("woff");font-weight:400;font-style:normal}.vjs-icon-play,.video-js .vjs-play-control .vjs-icon-placeholder,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play:before,.video-js .vjs-play-control .vjs-icon-placeholder:before,.video-js .vjs-big-play-button .vjs-icon-placeholder:before{content:""}.vjs-icon-play-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-play-circle:before{content:""}.vjs-icon-pause,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pause:before,.video-js .vjs-play-control.vjs-playing .vjs-icon-placeholder:before{content:""}.vjs-icon-volume-mute,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-mute:before,.video-js .vjs-mute-control.vjs-vol-0 .vjs-icon-placeholder:before{content:""}.vjs-icon-volume-low,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-low:before,.video-js .vjs-mute-control.vjs-vol-1 .vjs-icon-placeholder:before{content:""}.vjs-icon-volume-mid,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-mid:before,.video-js .vjs-mute-control.vjs-vol-2 .vjs-icon-placeholder:before{content:""}.vjs-icon-volume-high,.video-js .vjs-mute-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-volume-high:before,.video-js .vjs-mute-control .vjs-icon-placeholder:before{content:""}.vjs-icon-fullscreen-enter,.video-js .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-fullscreen-enter:before,.video-js .vjs-fullscreen-control .vjs-icon-placeholder:before{content:""}.vjs-icon-fullscreen-exit,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-fullscreen-exit:before,.video-js.vjs-fullscreen .vjs-fullscreen-control .vjs-icon-placeholder:before{content:""}.vjs-icon-spinner{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-spinner:before{content:""}.vjs-icon-subtitles,.video-js .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-subtitles-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-subtitles:before,.video-js .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-GB) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-IE) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-AU) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js.video-js:lang(en-NZ) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-subtitles-button .vjs-icon-placeholder:before{content:""}.vjs-icon-captions,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder,.video-js .vjs-captions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-captions:before,.video-js:lang(en) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js:lang(fr-CA) .vjs-subs-caps-button .vjs-icon-placeholder:before,.video-js .vjs-captions-button .vjs-icon-placeholder:before{content:""}.vjs-icon-hd{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-hd:before{content:""}.vjs-icon-chapters,.video-js .vjs-chapters-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-chapters:before,.video-js .vjs-chapters-button .vjs-icon-placeholder:before{content:""}.vjs-icon-downloading{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-downloading:before{content:""}.vjs-icon-file-download{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-file-download:before{content:""}.vjs-icon-file-download-done{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-file-download-done:before{content:""}.vjs-icon-file-download-off{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-file-download-off:before{content:""}.vjs-icon-share{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-share:before{content:""}.vjs-icon-cog{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cog:before{content:""}.vjs-icon-square{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-square:before{content:""}.vjs-icon-circle,.vjs-seek-to-live-control .vjs-icon-placeholder,.video-js .vjs-volume-level,.video-js .vjs-play-progress{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle:before,.vjs-seek-to-live-control .vjs-icon-placeholder:before,.video-js .vjs-volume-level:before,.video-js .vjs-play-progress:before{content:""}.vjs-icon-circle-outline{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-outline:before{content:""}.vjs-icon-circle-inner-circle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-circle-inner-circle:before{content:""}.vjs-icon-cancel,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cancel:before,.video-js .vjs-control.vjs-close-button .vjs-icon-placeholder:before{content:""}.vjs-icon-repeat{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-repeat:before{content:""}.vjs-icon-replay,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-replay:before,.video-js .vjs-play-control.vjs-ended .vjs-icon-placeholder:before{content:""}.vjs-icon-replay-5,.video-js .vjs-skip-backward-5 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-replay-5:before,.video-js .vjs-skip-backward-5 .vjs-icon-placeholder:before{content:""}.vjs-icon-replay-10,.video-js .vjs-skip-backward-10 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-replay-10:before,.video-js .vjs-skip-backward-10 .vjs-icon-placeholder:before{content:""}.vjs-icon-replay-30,.video-js .vjs-skip-backward-30 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-replay-30:before,.video-js .vjs-skip-backward-30 .vjs-icon-placeholder:before{content:""}.vjs-icon-forward-5,.video-js .vjs-skip-forward-5 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-forward-5:before,.video-js .vjs-skip-forward-5 .vjs-icon-placeholder:before{content:""}.vjs-icon-forward-10,.video-js .vjs-skip-forward-10 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-forward-10:before,.video-js .vjs-skip-forward-10 .vjs-icon-placeholder:before{content:""}.vjs-icon-forward-30,.video-js .vjs-skip-forward-30 .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-forward-30:before,.video-js .vjs-skip-forward-30 .vjs-icon-placeholder:before{content:""}.vjs-icon-audio,.video-js .vjs-audio-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-audio:before,.video-js .vjs-audio-button .vjs-icon-placeholder:before{content:""}.vjs-icon-next-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-next-item:before{content:""}.vjs-icon-previous-item{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-previous-item:before{content:""}.vjs-icon-shuffle{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-shuffle:before{content:""}.vjs-icon-cast{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-cast:before{content:""}.vjs-icon-picture-in-picture-enter,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-picture-in-picture-enter:before,.video-js .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:""}.vjs-icon-picture-in-picture-exit,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-picture-in-picture-exit:before,.video-js.vjs-picture-in-picture .vjs-picture-in-picture-control .vjs-icon-placeholder:before{content:""}.vjs-icon-facebook{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-facebook:before{content:""}.vjs-icon-linkedin{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-linkedin:before{content:""}.vjs-icon-twitter{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-twitter:before{content:""}.vjs-icon-tumblr{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-tumblr:before{content:""}.vjs-icon-pinterest{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-pinterest:before{content:""}.vjs-icon-audio-description,.video-js .vjs-descriptions-button .vjs-icon-placeholder{font-family:VideoJS;font-weight:400;font-style:normal}.vjs-icon-audio-description:before,.video-js .vjs-descriptions-button .vjs-icon-placeholder:before{content:""}.video-js{display:inline-block;vertical-align:top;box-sizing:border-box;color:#fff;background-color:#000;position:relative;padding:0;font-size:10px;line-height:1;font-weight:400;font-style:normal;font-family:Arial,Helvetica,sans-serif;word-break:initial}.video-js:-moz-full-screen{position:absolute}.video-js:-webkit-full-screen{width:100%!important;height:100%!important}.video-js[tabindex="-1"]{outline:none}.video-js *,.video-js *:before,.video-js *:after{box-sizing:inherit}.video-js ul{font-family:inherit;font-size:inherit;line-height:inherit;list-style-position:outside;margin:0}.video-js.vjs-fluid,.video-js.vjs-16-9,.video-js.vjs-4-3,.video-js.vjs-9-16,.video-js.vjs-1-1{width:100%;max-width:100%}.video-js.vjs-fluid:not(.vjs-audio-only-mode),.video-js.vjs-16-9:not(.vjs-audio-only-mode),.video-js.vjs-4-3:not(.vjs-audio-only-mode),.video-js.vjs-9-16:not(.vjs-audio-only-mode),.video-js.vjs-1-1:not(.vjs-audio-only-mode){height:0}.video-js.vjs-16-9:not(.vjs-audio-only-mode){padding-top:56.25%}.video-js.vjs-4-3:not(.vjs-audio-only-mode){padding-top:75%}.video-js.vjs-9-16:not(.vjs-audio-only-mode){padding-top:177.7777777778%}.video-js.vjs-1-1:not(.vjs-audio-only-mode){padding-top:100%}.video-js.vjs-fill:not(.vjs-audio-only-mode){width:100%;height:100%}.video-js .vjs-tech{position:absolute;top:0;left:0;width:100%;height:100%}.video-js.vjs-audio-only-mode .vjs-tech{display:none}body.vjs-full-window,body.vjs-pip-window{padding:0;margin:0;height:100%}.vjs-full-window .video-js.vjs-fullscreen,body.vjs-pip-window .video-js{position:fixed;overflow:hidden;z-index:1000;left:0;top:0;bottom:0;right:0}.video-js.vjs-fullscreen:not(.vjs-ios-native-fs),body.vjs-pip-window .video-js{width:100%!important;height:100%!important;padding-top:0!important;display:block}.video-js.vjs-fullscreen.vjs-user-inactive{cursor:none}.vjs-pip-container .vjs-pip-text{position:absolute;bottom:10%;font-size:2em;background-color:rgba(0,0,0,.7);padding:.5em;text-align:center;width:100%}.vjs-layout-tiny.vjs-pip-container .vjs-pip-text,.vjs-layout-x-small.vjs-pip-container .vjs-pip-text,.vjs-layout-small.vjs-pip-container .vjs-pip-text{bottom:0;font-size:1.4em}.vjs-hidden{display:none!important}.vjs-disabled{opacity:.5;cursor:default}.video-js .vjs-offscreen{height:1px;left:-9999px;position:absolute;top:0;width:1px}.vjs-lock-showing{display:block!important;opacity:1!important;visibility:visible!important}.vjs-no-js{padding:20px;color:#fff;background-color:#000;font-size:18px;font-family:Arial,Helvetica,sans-serif;text-align:center;width:300px;height:150px;margin:0 auto}.vjs-no-js a,.vjs-no-js a:visited{color:#66a8cc}.video-js .vjs-big-play-button{font-size:3em;line-height:1.5em;height:1.63332em;width:3em;display:block;position:absolute;top:50%;left:50%;padding:0;margin-top:-.81666em;margin-left:-1.5em;cursor:pointer;opacity:1;border:.06666em solid #fff;background-color:#2b333f;background-color:rgba(43,51,63,.7);border-radius:.3em;transition:all .4s}.vjs-big-play-button .vjs-svg-icon{width:.75em;height:.75em}.video-js:hover .vjs-big-play-button,.video-js .vjs-big-play-button:focus{border-color:#fff;background-color:#73859f;background-color:rgba(115,133,159,.5);transition:all 0s}.vjs-controls-disabled .vjs-big-play-button,.vjs-has-started .vjs-big-play-button,.vjs-using-native-controls .vjs-big-play-button,.vjs-error .vjs-big-play-button{display:none}.vjs-has-started.vjs-paused.vjs-show-big-play-button-on-pause .vjs-big-play-button{display:block}.video-js button{background:none;border:none;color:inherit;display:inline-block;font-size:inherit;line-height:inherit;text-transform:none;text-decoration:none;transition:none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.vjs-control .vjs-button{width:100%;height:100%}.video-js .vjs-control.vjs-close-button{cursor:pointer;height:3em;position:absolute;right:0;top:.5em;z-index:2}.video-js .vjs-modal-dialog{background:rgba(0,0,0,.8);background:linear-gradient(180deg,rgba(0,0,0,.8),rgba(255,255,255,0));overflow:auto}.video-js .vjs-modal-dialog>*{box-sizing:border-box}.vjs-modal-dialog .vjs-modal-dialog-content{font-size:1.2em;line-height:1.5;padding:20px 24px;z-index:1}.vjs-menu-button{cursor:pointer}.vjs-menu-button.vjs-disabled{cursor:default}.vjs-workinghover .vjs-menu-button.vjs-disabled:hover .vjs-menu{display:none}.vjs-menu .vjs-menu-content{display:block;padding:0;margin:0;font-family:Arial,Helvetica,sans-serif;overflow:auto}.vjs-menu .vjs-menu-content>*{box-sizing:border-box}.vjs-scrubbing .vjs-control.vjs-menu-button:hover .vjs-menu{display:none}.vjs-menu li{display:flex;justify-content:center;list-style:none;margin:0;padding:.2em 0;line-height:1.4em;font-size:1.2em;text-align:center;text-transform:lowercase}.vjs-menu li.vjs-menu-item:focus,.vjs-menu li.vjs-menu-item:hover,.js-focus-visible .vjs-menu li.vjs-menu-item:hover{background-color:#73859f;background-color:rgba(115,133,159,.5)}.vjs-menu li.vjs-selected,.vjs-menu li.vjs-selected:focus,.vjs-menu li.vjs-selected:hover,.js-focus-visible .vjs-menu li.vjs-selected:hover{background-color:#fff;color:#2b333f}.vjs-menu li.vjs-selected .vjs-svg-icon,.vjs-menu li.vjs-selected:focus .vjs-svg-icon,.vjs-menu li.vjs-selected:hover .vjs-svg-icon,.js-focus-visible .vjs-menu li.vjs-selected:hover .vjs-svg-icon{fill:#000}.video-js .vjs-menu *:not(.vjs-selected):focus:not(:focus-visible),.js-focus-visible .vjs-menu *:not(.vjs-selected):focus:not(.focus-visible){background:none}.vjs-menu li.vjs-menu-title{text-align:center;text-transform:uppercase;font-size:1em;line-height:2em;padding:0;margin:0 0 .3em;font-weight:700;cursor:default}.vjs-menu-button-popup .vjs-menu{display:none;position:absolute;bottom:0;width:10em;left:-3em;height:0em;margin-bottom:1.5em;border-top-color:rgba(43,51,63,.7)}.vjs-pip-window .vjs-menu-button-popup .vjs-menu{left:unset;right:1em}.vjs-menu-button-popup .vjs-menu .vjs-menu-content{background-color:#2b333f;background-color:rgba(43,51,63,.7);position:absolute;width:100%;bottom:1.5em;max-height:15em}.vjs-layout-tiny .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:5em}.vjs-layout-small .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:10em}.vjs-layout-medium .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:14em}.vjs-layout-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-x-large .vjs-menu-button-popup .vjs-menu .vjs-menu-content,.vjs-layout-huge .vjs-menu-button-popup .vjs-menu .vjs-menu-content{max-height:25em}.vjs-workinghover .vjs-menu-button-popup.vjs-hover .vjs-menu,.vjs-menu-button-popup .vjs-menu.vjs-lock-showing{display:block}.video-js .vjs-menu-button-inline{transition:all .4s;overflow:hidden}.video-js .vjs-menu-button-inline:before{width:2.222222222em}.video-js .vjs-menu-button-inline:hover,.video-js .vjs-menu-button-inline:focus,.video-js .vjs-menu-button-inline.vjs-slider-active{width:12em}.vjs-menu-button-inline .vjs-menu{opacity:0;height:100%;width:auto;position:absolute;left:4em;top:0;padding:0;margin:0;transition:all .4s}.vjs-menu-button-inline:hover .vjs-menu,.vjs-menu-button-inline:focus .vjs-menu,.vjs-menu-button-inline.vjs-slider-active .vjs-menu{display:block;opacity:1}.vjs-menu-button-inline .vjs-menu-content{width:auto;height:100%;margin:0;overflow:hidden}.video-js .vjs-control-bar{display:none;width:100%;position:absolute;bottom:0;left:0;right:0;height:3em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.vjs-has-started .vjs-control-bar,.vjs-audio-only-mode .vjs-control-bar{display:flex;visibility:visible;opacity:1;transition:visibility .1s,opacity .1s}.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{visibility:visible;opacity:0;pointer-events:none;transition:visibility 1s,opacity 1s}.vjs-controls-disabled .vjs-control-bar,.vjs-using-native-controls .vjs-control-bar,.vjs-error .vjs-control-bar{display:none!important}.vjs-audio.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar,.vjs-audio-only-mode.vjs-has-started.vjs-user-inactive.vjs-playing .vjs-control-bar{opacity:1;visibility:visible;pointer-events:auto}.video-js .vjs-control{position:relative;text-align:center;margin:0;padding:0;height:100%;width:4em;flex:none}.video-js .vjs-control.vjs-visible-text{width:auto;padding-left:1em;padding-right:1em}.vjs-button>.vjs-icon-placeholder:before{font-size:1.8em;line-height:1.67}.vjs-button>.vjs-icon-placeholder{display:block}.vjs-button>.vjs-svg-icon{display:inline-block}.video-js .vjs-control:focus:before,.video-js .vjs-control:hover:before,.video-js .vjs-control:focus{text-shadow:0em 0em 1em white}.video-js *:not(.vjs-visible-text)>.vjs-control-text{border:0;clip:rect(0 0 0 0);height:1px;overflow:hidden;padding:0;position:absolute;width:1px}.video-js .vjs-custom-control-spacer{display:none}.video-js .vjs-progress-control{cursor:pointer;flex:auto;display:flex;align-items:center;min-width:4em;touch-action:none}.video-js .vjs-progress-control.disabled{cursor:default}.vjs-live .vjs-progress-control{display:none}.vjs-liveui .vjs-progress-control{display:flex;align-items:center}.video-js .vjs-progress-holder{flex:auto;transition:all .2s;height:.3em}.video-js .vjs-progress-control .vjs-progress-holder{margin:0 10px}.video-js .vjs-progress-control:hover .vjs-progress-holder{font-size:1.6666666667em}.video-js .vjs-progress-control:hover .vjs-progress-holder.disabled{font-size:1em}.video-js .vjs-progress-holder .vjs-play-progress,.video-js .vjs-progress-holder .vjs-load-progress,.video-js .vjs-progress-holder .vjs-load-progress div{position:absolute;display:block;height:100%;margin:0;padding:0;width:0}.video-js .vjs-play-progress{background-color:#fff}.video-js .vjs-play-progress:before{font-size:.9em;position:absolute;right:-.5em;line-height:.35em;z-index:1}.vjs-svg-icons-enabled .vjs-play-progress:before{content:none!important}.vjs-play-progress .vjs-svg-icon{position:absolute;top:-.35em;right:-.4em;width:1em;height:1em;pointer-events:none;line-height:.15em;z-index:1}.video-js .vjs-load-progress{background:rgba(115,133,159,.5)}.video-js .vjs-load-progress div{background:rgba(115,133,159,.75)}.video-js .vjs-time-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.vjs-progress-control:hover .vjs-progress-holder .vjs-play-progress .vjs-svg-icon{width:.8em;height:.8em;top:-.25em;right:-.5em;line-height:.35em}.video-js .vjs-progress-holder:focus .vjs-time-tooltip{display:none}.video-js .vjs-progress-control:hover .vjs-time-tooltip,.video-js .vjs-progress-control:hover .vjs-progress-holder:focus .vjs-time-tooltip{display:block;font-size:.6em;visibility:visible}.video-js .vjs-progress-control.disabled:hover .vjs-time-tooltip{font-size:1em}.video-js .vjs-progress-control .vjs-mouse-display{display:none;position:absolute;width:1px;height:100%;background-color:#000;z-index:1}.video-js .vjs-progress-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-progress-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.vjs-mouse-display .vjs-time-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.video-js .vjs-slider{position:relative;cursor:pointer;padding:0;margin:0 .45em;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:#73859f;background-color:rgba(115,133,159,.5)}.video-js .vjs-slider.disabled{cursor:default}.video-js .vjs-slider:focus{text-shadow:0em 0em 1em white;box-shadow:0 0 1em #fff}.video-js .vjs-mute-control{cursor:pointer;flex:none}.video-js .vjs-volume-control{cursor:pointer;margin-right:1em;display:flex}.video-js .vjs-volume-control.vjs-volume-horizontal{width:5em}.video-js .vjs-volume-panel .vjs-volume-control{visibility:visible;opacity:0;width:1px;height:1px;margin-left:-1px}.video-js .vjs-volume-panel{transition:width 1s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control,.video-js .vjs-volume-panel:active .vjs-volume-control,.video-js .vjs-volume-panel:focus .vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control:active,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active{visibility:visible;opacity:1;position:relative;transition:visibility .1s,opacity .1s,height .1s,width .1s,left 0s,top 0s}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-horizontal,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-horizontal,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-horizontal{width:5em;height:3em;margin-right:0}.video-js .vjs-volume-panel.vjs-hover .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:active .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel:focus .vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control:active.vjs-volume-vertical,.video-js .vjs-volume-panel.vjs-hover .vjs-mute-control~.vjs-volume-control.vjs-volume-vertical,.video-js .vjs-volume-panel .vjs-volume-control.vjs-slider-active.vjs-volume-vertical{left:-3.5em;transition:left 0s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active{width:10em;transition:width .1s}.video-js .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-mute-toggle-only{width:4em}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-vertical{height:8em;width:3em;left:-3000em;transition:visibility 1s,opacity 1s,height 1s 1s,width 1s 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel .vjs-volume-control.vjs-volume-horizontal{transition:visibility 1s,opacity 1s,height 1s 1s,width 1s,left 1s 1s,top 1s 1s}.video-js .vjs-volume-panel{display:flex}.video-js .vjs-volume-bar{margin:1.35em .45em}.vjs-volume-bar.vjs-slider-horizontal{width:5em;height:.3em}.vjs-volume-bar.vjs-slider-vertical{width:.3em;height:5em;margin:1.35em auto}.video-js .vjs-volume-level{position:absolute;bottom:0;left:0;background-color:#fff}.video-js .vjs-volume-level:before{position:absolute;font-size:.9em;z-index:1}.vjs-slider-vertical .vjs-volume-level{width:.3em}.vjs-slider-vertical .vjs-volume-level:before{top:-.5em;left:-.3em;z-index:1}.vjs-svg-icons-enabled .vjs-volume-level:before{content:none}.vjs-volume-level .vjs-svg-icon{position:absolute;width:.6em;height:.6em;top:-.55em;pointer-events:none}.vjs-mute-control .vjs-svg-icon{width:1.75em;height:1.75em}.vjs-slider-horizontal .vjs-volume-level{height:.3em}.vjs-slider-horizontal .vjs-volume-level:before{line-height:.35em;right:-.5em}.vjs-slider-horizontal .vjs-volume-level .vjs-svg-icon{top:-.15em;right:-.3em;line-height:.05em}.vjs-slider-vertical .vjs-volume-level .vjs-svg-icon{top:-.9em;right:-.15em}.video-js .vjs-volume-panel.vjs-volume-panel-vertical{width:4em}.vjs-volume-bar.vjs-slider-vertical .vjs-volume-level{height:100%}.vjs-volume-bar.vjs-slider-horizontal .vjs-volume-level{width:100%}.video-js .vjs-volume-vertical{width:3em;height:8em;bottom:8em;background-color:#2b333f;background-color:rgba(43,51,63,.7)}.video-js .vjs-volume-horizontal .vjs-menu{left:-2em}.video-js .vjs-volume-tooltip{background-color:#fff;background-color:rgba(255,255,255,.8);border-radius:.3em;color:#000;float:right;font-family:Arial,Helvetica,sans-serif;font-size:1em;padding:6px 8px 8px;pointer-events:none;position:absolute;top:-3.4em;visibility:hidden;z-index:1}.video-js .vjs-volume-control:hover .vjs-volume-tooltip,.video-js .vjs-volume-control:hover .vjs-progress-holder:focus .vjs-volume-tooltip{display:block;font-size:1em;visibility:visible}.video-js .vjs-volume-vertical:hover .vjs-volume-tooltip,.video-js .vjs-volume-vertical:hover .vjs-progress-holder:focus .vjs-volume-tooltip{left:1em;top:-12px}.video-js .vjs-volume-control.disabled:hover .vjs-volume-tooltip{font-size:1em}.video-js .vjs-volume-control .vjs-mouse-display{display:none;position:absolute;width:100%;height:1px;background-color:#000;z-index:1}.video-js .vjs-volume-horizontal .vjs-mouse-display{width:1px;height:100%}.video-js .vjs-volume-control:hover .vjs-mouse-display{display:block}.video-js.vjs-user-inactive .vjs-volume-control .vjs-mouse-display{visibility:hidden;opacity:0;transition:visibility 1s,opacity 1s}.vjs-mouse-display .vjs-volume-tooltip{color:#fff;background-color:#000;background-color:rgba(0,0,0,.8)}.vjs-poster{display:inline-block;vertical-align:middle;cursor:pointer;margin:0;padding:0;position:absolute;top:0;right:0;bottom:0;left:0;height:100%}.vjs-has-started .vjs-poster,.vjs-using-native-controls .vjs-poster{display:none}.vjs-audio.vjs-has-started .vjs-poster,.vjs-has-started.vjs-audio-poster-mode .vjs-poster,.vjs-pip-container.vjs-has-started .vjs-poster{display:block}.vjs-poster img{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.video-js .vjs-live-control{display:flex;align-items:flex-start;flex:auto;font-size:1em;line-height:3em}.video-js:not(.vjs-live) .vjs-live-control,.video-js.vjs-liveui .vjs-live-control{display:none}.video-js .vjs-seek-to-live-control{align-items:center;cursor:pointer;flex:none;display:inline-flex;height:100%;padding-left:.5em;padding-right:.5em;font-size:1em;line-height:3em;width:auto;min-width:4em}.video-js.vjs-live:not(.vjs-liveui) .vjs-seek-to-live-control,.video-js:not(.vjs-live) .vjs-seek-to-live-control{display:none}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge{cursor:auto}.vjs-seek-to-live-control .vjs-icon-placeholder{margin-right:.5em;color:#888}.vjs-svg-icons-enabled .vjs-seek-to-live-control{line-height:0}.vjs-seek-to-live-control .vjs-svg-icon{width:1em;height:1em;pointer-events:none;fill:#888}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-icon-placeholder{color:red}.vjs-seek-to-live-control.vjs-control.vjs-at-live-edge .vjs-svg-icon{fill:red}.video-js .vjs-time-control{flex:none;font-size:1em;line-height:3em;min-width:2em;width:auto;padding-left:1em;padding-right:1em}.vjs-live .vjs-time-control,.vjs-live .vjs-time-divider,.video-js .vjs-current-time,.video-js .vjs-duration{display:none}.vjs-time-divider{display:none;line-height:3em}.video-js .vjs-play-control{cursor:pointer}.video-js .vjs-play-control .vjs-icon-placeholder{flex:none}.vjs-text-track-display{position:absolute;bottom:3em;left:0;right:0;top:0;pointer-events:none}.video-js.vjs-controls-disabled .vjs-text-track-display,.video-js.vjs-user-inactive.vjs-playing .vjs-text-track-display{bottom:1em}.video-js .vjs-text-track{font-size:1.4em;text-align:center;margin-bottom:.1em}.vjs-subtitles{color:#fff}.vjs-captions{color:#fc6}.vjs-tt-cue{display:block}video::-webkit-media-text-track-display{transform:translateY(-3em)}.video-js.vjs-controls-disabled video::-webkit-media-text-track-display,.video-js.vjs-user-inactive.vjs-playing video::-webkit-media-text-track-display{transform:translateY(-1.5em)}.video-js .vjs-picture-in-picture-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-picture-in-picture-control,.vjs-pip-window .vjs-picture-in-picture-control{display:none}.video-js .vjs-fullscreen-control{cursor:pointer;flex:none}.video-js.vjs-audio-only-mode .vjs-fullscreen-control,.vjs-pip-window .vjs-fullscreen-control{display:none}.vjs-playback-rate>.vjs-menu-button,.vjs-playback-rate .vjs-playback-rate-value{position:absolute;top:0;left:0;width:100%;height:100%}.vjs-playback-rate .vjs-playback-rate-value{pointer-events:none;font-size:1.5em;line-height:2;text-align:center}.vjs-playback-rate .vjs-menu{width:4em;left:0}.vjs-error .vjs-error-display .vjs-modal-dialog-content{font-size:1.4em;text-align:center}.vjs-error .vjs-error-display:before{color:#fff;content:"X";font-family:Arial,Helvetica,sans-serif;font-size:4em;left:0;line-height:1;margin-top:-.5em;position:absolute;text-shadow:.05em .05em .1em #000;text-align:center;top:50%;vertical-align:middle;width:100%}.vjs-loading-spinner{display:none;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);opacity:.85;text-align:left;border:.6em solid rgba(43,51,63,.7);box-sizing:border-box;background-clip:padding-box;width:5em;height:5em;border-radius:50%;visibility:hidden}.vjs-seeking .vjs-loading-spinner,.vjs-waiting .vjs-loading-spinner{display:block;animation:vjs-spinner-show 0s linear .3s forwards}.vjs-loading-spinner:before,.vjs-loading-spinner:after{content:"";position:absolute;margin:-.6em;box-sizing:inherit;width:inherit;height:inherit;border-radius:inherit;opacity:1;border:inherit;border-color:transparent;border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:before,.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:after{animation:vjs-spinner-spin 1.1s cubic-bezier(.6,.2,0,.8) infinite,vjs-spinner-fade 1.1s linear infinite}.vjs-seeking .vjs-loading-spinner:before,.vjs-waiting .vjs-loading-spinner:before{border-top-color:#fff}.vjs-seeking .vjs-loading-spinner:after,.vjs-waiting .vjs-loading-spinner:after{border-top-color:#fff;animation-delay:.44s}@keyframes vjs-spinner-show{to{visibility:visible}}@keyframes vjs-spinner-spin{to{transform:rotate(360deg)}}@keyframes vjs-spinner-fade{0%{border-top-color:#73859f}20%{border-top-color:#73859f}35%{border-top-color:#fff}60%{border-top-color:#73859f}to{border-top-color:#73859f}}.video-js.vjs-audio-only-mode .vjs-captions-button{display:none}.vjs-chapters-button .vjs-menu ul{width:24em}.video-js.vjs-audio-only-mode .vjs-descriptions-button{display:none}.vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-svg-icon{margin-left:.3em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-subs-caps-button+.vjs-menu .vjs-captions-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:"";font-size:1.5em;line-height:inherit}.video-js.vjs-audio-only-mode .vjs-subs-caps-button{display:none}.video-js .vjs-audio-button+.vjs-menu .vjs-description-menu-item .vjs-menu-item-text .vjs-icon-placeholder,.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder{vertical-align:middle;display:inline-block;margin-bottom:-.1em}.video-js .vjs-audio-button+.vjs-menu .vjs-description-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before,.video-js .vjs-audio-button+.vjs-menu .vjs-main-desc-menu-item .vjs-menu-item-text .vjs-icon-placeholder:before{font-family:VideoJS;content:" ";font-size:1.5em;line-height:inherit}.video-js.vjs-layout-small .vjs-current-time,.video-js.vjs-layout-small .vjs-time-divider,.video-js.vjs-layout-small .vjs-duration,.video-js.vjs-layout-small .vjs-remaining-time,.video-js.vjs-layout-small .vjs-playback-rate,.video-js.vjs-layout-small .vjs-volume-control,.video-js.vjs-layout-x-small .vjs-current-time,.video-js.vjs-layout-x-small .vjs-time-divider,.video-js.vjs-layout-x-small .vjs-duration,.video-js.vjs-layout-x-small .vjs-remaining-time,.video-js.vjs-layout-x-small .vjs-playback-rate,.video-js.vjs-layout-x-small .vjs-volume-control,.video-js.vjs-layout-tiny .vjs-current-time,.video-js.vjs-layout-tiny .vjs-time-divider,.video-js.vjs-layout-tiny .vjs-duration,.video-js.vjs-layout-tiny .vjs-remaining-time,.video-js.vjs-layout-tiny .vjs-playback-rate,.video-js.vjs-layout-tiny .vjs-volume-control{display:none}.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-x-small .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:hover,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal:active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-slider-active,.video-js.vjs-layout-tiny .vjs-volume-panel.vjs-volume-panel-horizontal.vjs-hover{width:auto;width:initial}.video-js.vjs-layout-x-small .vjs-progress-control,.video-js.vjs-layout-tiny .vjs-progress-control{display:none}.video-js.vjs-layout-x-small .vjs-custom-control-spacer{flex:auto;display:block}.vjs-modal-dialog.vjs-text-track-settings{background-color:#2b333f;background-color:rgba(43,51,63,.75);color:#fff;height:70%}.vjs-text-track-settings .vjs-modal-dialog-content{display:table}.vjs-text-track-settings .vjs-track-settings-colors,.vjs-text-track-settings .vjs-track-settings-font,.vjs-text-track-settings .vjs-track-settings-controls{display:table-cell}.vjs-text-track-settings .vjs-track-settings-controls{text-align:right;vertical-align:bottom}@supports (display: grid){.vjs-text-track-settings .vjs-modal-dialog-content{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr;padding:20px 24px 0}.vjs-track-settings-controls .vjs-default-button{margin-bottom:20px}.vjs-text-track-settings .vjs-track-settings-controls{grid-column:1/-1}.vjs-layout-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-x-small .vjs-text-track-settings .vjs-modal-dialog-content,.vjs-layout-tiny .vjs-text-track-settings .vjs-modal-dialog-content{grid-template-columns:1fr}}.vjs-text-track-settings select{font-size:inherit}.vjs-track-setting>select{margin-right:1em;margin-bottom:.5em}.vjs-text-track-settings fieldset{margin:10px;border:none}.vjs-text-track-settings fieldset span{display:inline-block;padding:0 .6em .8em}.vjs-text-track-settings fieldset span>select{max-width:7.3em}.vjs-text-track-settings legend{color:#fff;font-weight:700;font-size:1.2em}.vjs-text-track-settings .vjs-label{margin:0 .5em .5em 0}.vjs-track-settings-controls button:focus,.vjs-track-settings-controls button:active{outline-style:solid;outline-width:medium;background-image:linear-gradient(0deg,#fff 88%,#73859f 100%)}.vjs-track-settings-controls button:hover{color:rgba(43,51,63,.75)}.vjs-track-settings-controls button{background-color:#fff;background-image:linear-gradient(-180deg,#fff 88%,#73859f 100%);color:#2b333f;cursor:pointer;border-radius:2px}.vjs-track-settings-controls .vjs-default-button{margin-right:1em}.vjs-title-bar{background:rgba(0,0,0,.9);background:linear-gradient(180deg,rgba(0,0,0,.9) 0%,rgba(0,0,0,.7) 60%,rgba(0,0,0,0) 100%);font-size:1.2em;line-height:1.5;transition:opacity .1s;padding:.666em 1.333em 4em;pointer-events:none;position:absolute;top:0;width:100%}.vjs-title-bar-title,.vjs-title-bar-description{margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vjs-title-bar-title{font-weight:700;margin-bottom:.333em}.vjs-playing.vjs-user-inactive .vjs-title-bar{opacity:0;transition:opacity 1s}.video-js .vjs-skip-forward-5,.video-js .vjs-skip-forward-10,.video-js .vjs-skip-forward-30,.video-js .vjs-skip-backward-5,.video-js .vjs-skip-backward-10,.video-js .vjs-skip-backward-30{cursor:pointer}@media print{.video-js>*:not(.vjs-tech):not(.vjs-poster){visibility:hidden}}.vjs-resize-manager{position:absolute;top:0;left:0;width:100%;height:100%;border:none;z-index:-1000}.js-focus-visible .video-js *:focus:not(.focus-visible){outline:none}.video-js *:focus:not(:focus-visible){outline:none}.title{text-align:center}.test-image{width:560px;height:315px}\n',document.head.appendChild(n),t("m",a);var r=t("o","undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{});function a(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function s(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var i=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};i.prototype=t.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var n=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,n.get?n:{enumerable:!0,get:function(){return e[t]}})})),i}var o={exports:{}},l={},c={exports:{}},d={},u=Symbol.for("react.element"),h=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.iterator;var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,S={};function C(e,t,i){this.props=e,this.context=t,this.refs=S,this.updater=i||E}function k(){}function A(e,t,i){this.props=e,this.context=t,this.refs=S,this.updater=i||E}C.prototype.isReactComponent={},C.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},C.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=C.prototype;var N=A.prototype=new k;N.constructor=A,_(N,C.prototype),N.isPureReactComponent=!0;var O=Array.isArray,M=Object.prototype.hasOwnProperty,P={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function R(e,t,i){var n,r={},a=null,s=null;if(null!=t)for(n in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)M.call(t,n)&&!I.hasOwnProperty(n)&&(r[n]=t[n]);var o=arguments.length-2;if(1===o)r.children=i;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===r[n]&&(r[n]=o[n]);return{$$typeof:u,type:e,key:a,ref:s,props:r,_owner:P.current}}function L(e){return"object"==typeof e&&null!==e&&e.$$typeof===u}var D=/\/+/g;function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function $(e,t,i,n,r){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var s=!1;if(null===e)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case u:case h:s=!0}}if(s)return r=r(s=e),e=""===n?"."+j(s,0):n,O(r)?(i="",null!=e&&(i=e.replace(D,"$&/")+"/"),$(r,t,i,"",(function(e){return e}))):null!=r&&(L(r)&&(r=function(e,t){return{$$typeof:u,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(r,i+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(D,"$&/")+"/")+e)),t.push(r)),1;if(s=0,n=""===n?".":n+":",O(e))for(var o=0;o<e.length;o++){var l=n+j(a=e[o],o);s+=$(a,t,i,l,r)}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=x&&e[x]||e["@@iterator"])?e:null}(e),"function"==typeof l)for(e=l.call(e),o=0;!(a=e.next()).done;)s+=$(a=a.value,t,i,l=n+j(a,o++),r);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function B(e,t,i){if(null==e)return e;var n=[],r=0;return $(e,n,"","",(function(e){return t.call(i,e,r++)})),n}function q(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var U={current:null},F={transition:null},z={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:F,ReactCurrentOwner:P};d.Children={map:B,forEach:function(e,t,i){B(e,(function(){t.apply(this,arguments)}),i)},count:function(e){var t=0;return B(e,(function(){t++})),t},toArray:function(e){return B(e,(function(e){return e}))||[]},only:function(e){if(!L(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},d.Component=C,d.Fragment=p,d.Profiler=f,d.PureComponent=A,d.StrictMode=m,d.Suspense=v,d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z,d.cloneElement=function(e,t,i){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=_({},e.props),r=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=P.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)M.call(t,l)&&!I.hasOwnProperty(l)&&(n[l]=void 0===t[l]&&void 0!==o?o[l]:t[l])}var l=arguments.length-2;if(1===l)n.children=i;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:u,type:e.type,key:r,ref:a,props:n,_owner:s}},d.createContext=function(e){return(e={$$typeof:y,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:g,_context:e},e.Consumer=e},d.createElement=R,d.createFactory=function(e){var t=R.bind(null,e);return t.type=e,t},d.createRef=function(){return{current:null}},d.forwardRef=function(e){return{$$typeof:b,render:e}},d.isValidElement=L,d.lazy=function(e){return{$$typeof:T,_payload:{_status:-1,_result:e},_init:q}},d.memo=function(e,t){return{$$typeof:w,type:e,compare:void 0===t?null:t}},d.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}},d.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},d.useCallback=function(e,t){return U.current.useCallback(e,t)},d.useContext=function(e){return U.current.useContext(e)},d.useDebugValue=function(){},d.useDeferredValue=function(e){return U.current.useDeferredValue(e)},d.useEffect=function(e,t){return U.current.useEffect(e,t)},d.useId=function(){return U.current.useId()},d.useImperativeHandle=function(e,t,i){return U.current.useImperativeHandle(e,t,i)},d.useInsertionEffect=function(e,t){return U.current.useInsertionEffect(e,t)},d.useLayoutEffect=function(e,t){return U.current.useLayoutEffect(e,t)},d.useMemo=function(e,t){return U.current.useMemo(e,t)},d.useReducer=function(e,t,i){return U.current.useReducer(e,t,i)},d.useRef=function(e){return U.current.useRef(e)},d.useState=function(e){return U.current.useState(e)},d.useSyncExternalStore=function(e,t,i){return U.current.useSyncExternalStore(e,t,i)},d.useTransition=function(){return U.current.useTransition()},d.version="18.2.0",c.exports=d;var V=c.exports;const H=a(V);
/**
             * @license React
             * react-jsx-runtime.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */var W=V,G=Symbol.for("react.element"),K=Symbol.for("react.fragment"),Q=Object.prototype.hasOwnProperty,Y=W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,X={key:!0,ref:!0,__self:!0,__source:!0};function J(e,t,i){var n,r={},a=null,s=null;for(n in void 0!==i&&(a=""+i),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(s=t.ref),t)Q.call(t,n)&&!X.hasOwnProperty(n)&&(r[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===r[n]&&(r[n]=t[n]);return{$$typeof:G,type:e,key:a,ref:s,props:r,_owner:Y.current}}l.Fragment=K,l.jsx=J,l.jsxs=J,o.exports=l;var Z,ee=o.exports;
/*! *****************************************************************************
            Copyright (C) Microsoft. All rights reserved.
            Licensed under the Apache License, Version 2.0 (the "License"); you may not use
            this file except in compliance with the License. You may obtain a copy of the
            License at http://www.apache.org/licenses/LICENSE-2.0

            THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
            KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
            WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
            MERCHANTABLITY OR NON-INFRINGEMENT.

            See the Apache Version 2.0 License for specific language governing permissions
            and limitations under the License.
            ***************************************************************************** */!function(e){!function(t){var i="object"==typeof r?r:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=a(e);function a(e,t){return function(i,n){"function"!=typeof e[i]&&Object.defineProperty(e,i,{configurable:!0,writable:!0,value:n}),t&&t(i,n)}}void 0===i.Reflect?i.Reflect=e:n=a(i.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,i="function"==typeof Symbol,n=i&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=i&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,o=!a&&!s,l={create:a?function(){return ne(Object.create(null))}:s?function(){return ne({__proto__:null})}:function(){return ne({})},has:o?function(e,i){return t.call(e,i)}:function(e,t){return t in e},get:o?function(e,i){return t.call(e,i)?e[i]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),d="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,u=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,h=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,p=new(d||"function"!=typeof WeakMap?ie():WeakMap);function m(e,t,i,n){if(L(i)){if(!V(e))throw new TypeError;if(!W(t))throw new TypeError;return _(e,t)}if(!V(e))throw new TypeError;if(!$(t))throw new TypeError;if(!$(n)&&!L(n)&&!D(n))throw new TypeError;return D(n)&&(n=void 0),S(e,t,i=z(i),n)}function f(e,t){function i(i,n){if(!$(i))throw new TypeError;if(!L(n)&&!G(n))throw new TypeError;M(e,t,i,n)}return i}function g(e,t,i,n){if(!$(i))throw new TypeError;return L(n)||(n=z(n)),M(e,t,i,n)}function y(e,t,i){if(!$(t))throw new TypeError;return L(i)||(i=z(i)),k(e,t,i)}function b(e,t,i){if(!$(t))throw new TypeError;return L(i)||(i=z(i)),A(e,t,i)}function v(e,t,i){if(!$(t))throw new TypeError;return L(i)||(i=z(i)),N(e,t,i)}function w(e,t,i){if(!$(t))throw new TypeError;return L(i)||(i=z(i)),O(e,t,i)}function T(e,t){if(!$(e))throw new TypeError;return L(t)||(t=z(t)),P(e,t)}function x(e,t){if(!$(e))throw new TypeError;return L(t)||(t=z(t)),I(e,t)}function E(e,t,i){if(!$(t))throw new TypeError;L(i)||(i=z(i));var n=C(t,i,!1);if(L(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var r=p.get(t);return r.delete(i),r.size>0||p.delete(t),!0}function _(e,t){for(var i=e.length-1;i>=0;--i){var n=(0,e[i])(t);if(!L(n)&&!D(n)){if(!W(n))throw new TypeError;t=n}}return t}function S(e,t,i,n){for(var r=e.length-1;r>=0;--r){var a=(0,e[r])(t,i,n);if(!L(a)&&!D(a)){if(!$(a))throw new TypeError;n=a}}return n}function C(e,t,i){var n=p.get(e);if(L(n)){if(!i)return;n=new u,p.set(e,n)}var r=n.get(t);if(L(r)){if(!i)return;r=new u,n.set(t,r)}return r}function k(e,t,i){if(A(e,t,i))return!0;var n=Z(t);return!D(n)&&k(e,n,i)}function A(e,t,i){var n=C(t,i,!1);return!L(n)&&U(n.has(e))}function N(e,t,i){if(A(e,t,i))return O(e,t,i);var n=Z(t);return D(n)?void 0:N(e,n,i)}function O(e,t,i){var n=C(t,i,!1);if(!L(n))return n.get(e)}function M(e,t,i,n){C(i,n,!0).set(e,t)}function P(e,t){var i=I(e,t),n=Z(e);if(null===n)return i;var r=P(n,t);if(r.length<=0)return i;if(i.length<=0)return r;for(var a=new h,s=[],o=0,l=i;o<l.length;o++){var c=l[o];a.has(c)||(a.add(c),s.push(c))}for(var d=0,u=r;d<u.length;d++){c=u[d];a.has(c)||(a.add(c),s.push(c))}return s}function I(e,t){var i=[],n=C(e,t,!1);if(L(n))return i;for(var r=Q(n.keys()),a=0;;){var s=X(r);if(!s)return i.length=a,i;var o=Y(s);try{i[a]=o}catch(E_){try{J(r)}finally{throw E_}}a++}}function R(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function L(e){return void 0===e}function D(e){return null===e}function j(e){return"symbol"==typeof e}function $(e){return"object"==typeof e?null!==e:"function"==typeof e}function B(e,t){switch(R(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var i=3===t?"string":5===t?"number":"default",r=K(e,n);if(void 0!==r){var a=r.call(e,i);if($(a))throw new TypeError;return a}return q(e,"default"===i?"number":i)}function q(e,t){if("string"===t){var i=e.toString;if(H(i))if(!$(r=i.call(e)))return r;if(H(n=e.valueOf))if(!$(r=n.call(e)))return r}else{var n;if(H(n=e.valueOf))if(!$(r=n.call(e)))return r;var r,a=e.toString;if(H(a))if(!$(r=a.call(e)))return r}throw new TypeError}function U(e){return!!e}function F(e){return""+e}function z(e){var t=B(e,3);return j(t)?t:F(t)}function V(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function H(e){return"function"==typeof e}function W(e){return"function"==typeof e}function G(e){switch(R(e)){case 3:case 4:return!0;default:return!1}}function K(e,t){var i=e[t];if(null!=i){if(!H(i))throw new TypeError;return i}}function Q(e){var t=K(e,r);if(!H(t))throw new TypeError;var i=t.call(e);if(!$(i))throw new TypeError;return i}function Y(e){return e.value}function X(e){var t=e.next();return!t.done&&t}function J(e){var t=e.return;t&&t.call(e)}function Z(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var i=e.prototype,n=i&&Object.getPrototypeOf(i);if(null==n||n===Object.prototype)return t;var r=n.constructor;return"function"!=typeof r||r===e?t:r}function ee(){var e={},t=[],i=function(){function e(e,t,i){this._index=0,this._keys=e,this._values=t,this._selector=i}return e.prototype["@@iterator"]=function(){return this},e.prototype[r]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var i=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:i,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var i=this._find(e,!0);return this._values[i]=t,this},t.prototype.delete=function(t){var i=this._find(t,!1);if(i>=0){for(var n=this._keys.length,r=i+1;r<n;r++)this._keys[r-1]=this._keys[r],this._values[r-1]=this._values[r];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new i(this._keys,this._values,n)},t.prototype.values=function(){return new i(this._keys,this._values,a)},t.prototype.entries=function(){return new i(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[r]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function a(e,t){return t}function s(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new u}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[r]=function(){return this.keys()},e}()}function ie(){var e=16,i=l.create(),n=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=a(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=a(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return a(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=a(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var e;do{e="@@WeakMap@@"+c()}while(l.has(i,e));return i[e]=!0,e}function a(e,i){if(!t.call(e,n)){if(!i)return;Object.defineProperty(e,n,{value:l.create()})}return e[n]}function s(e,t){for(var i=0;i<t;++i)e[i]=255*Math.random()|0;return e}function o(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):s(new Uint8Array(e),e):s(new Array(e),e)}function c(){var t=o(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var i="",n=0;n<e;++n){var r=t[n];4!==n&&6!==n&&8!==n||(i+="-"),r<16&&(i+="0"),i+=r.toString(16).toLowerCase()}return i}}function ne(e){return e.__=void 0,delete e.__,e}e("decorate",m),e("metadata",f),e("defineMetadata",g),e("hasMetadata",y),e("hasOwnMetadata",b),e("getMetadata",v),e("getOwnMetadata",w),e("getMetadataKeys",T),e("getOwnMetadataKeys",x),e("deleteMetadata",E)}(n)}()}(Z||(Z={}));var te={exports:{}},ie={},ne={exports:{}},re={};
/**
             * @license React
             * scheduler.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */
!function(e){function t(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,a=e[n];if(!(0<r(a,t)))break e;e[n]=t,e[i]=a,i=n}}function i(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,a=e.length,s=a>>>1;n<s;){var o=2*(n+1)-1,l=e[o],c=o+1,d=e[c];if(0>r(l,i))c<a&&0>r(d,l)?(e[n]=d,e[c]=i,n=c):(e[n]=l,e[o]=i,n=o);else{if(!(c<a&&0>r(d,i)))break e;e[n]=d,e[c]=i,n=c}}}return t}function r(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],d=1,u=null,h=3,p=!1,m=!1,f=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function v(e){for(var r=i(c);null!==r;){if(null===r.callback)n(c);else{if(!(r.startTime<=e))break;n(c),r.sortIndex=r.expirationTime,t(l,r)}r=i(c)}}function w(e){if(f=!1,v(e),!m)if(null!==i(l))m=!0,P(T);else{var t=i(c);null!==t&&I(w,t.startTime-e)}}function T(t,r){m=!1,f&&(f=!1,y(S),S=-1),p=!0;var a=h;try{for(v(r),u=i(l);null!==u&&(!(u.expirationTime>r)||t&&!A());){var s=u.callback;if("function"==typeof s){u.callback=null,h=u.priorityLevel;var o=s(u.expirationTime<=r);r=e.unstable_now(),"function"==typeof o?u.callback=o:u===i(l)&&n(l),v(r)}else n(l);u=i(l)}if(null!==u)var d=!0;else{var g=i(c);null!==g&&I(w,g.startTime-r),d=!1}return d}finally{u=null,h=a,p=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,E=!1,_=null,S=-1,C=5,k=-1;function A(){return!(e.unstable_now()-k<C)}function N(){if(null!==_){var t=e.unstable_now();k=t;var i=!0;try{i=_(!0,t)}finally{i?x():(E=!1,_=null)}}else E=!1}if("function"==typeof b)x=function(){b(N)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,M=O.port2;O.port1.onmessage=N,x=function(){M.postMessage(null)}}else x=function(){g(N,0)};function P(e){_=e,E||(E=!0,x())}function I(t,i){S=g((function(){t(e.unstable_now())}),i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,P(T))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return i(l)},e.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var i=h;h=t;try{return e()}finally{h=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=h;h=e;try{return t()}finally{h=i}},e.unstable_scheduleCallback=function(n,r,a){var s=e.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,n){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return n={id:d++,callback:r,priorityLevel:n,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(n.sortIndex=a,t(c,n),null===i(l)&&n===i(c)&&(f?(y(S),S=-1):f=!0,I(w,a-s))):(n.sortIndex=o,t(l,n),m||p||(m=!0,P(T))),n},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(e){var t=h;return function(){var i=h;h=t;try{return e.apply(this,arguments)}finally{h=i}}}}(re),ne.exports=re;var ae=ne.exports,se=V,oe=ae;
/**
             * @license React
             * react-dom.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ce=new Set,de={};function ue(e,t){he(e,t),he(e+"Capture",t)}function he(e,t){for(de[e]=t,e=0;e<t.length;e++)ce.add(t[e])}var pe=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),me=Object.prototype.hasOwnProperty,fe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ge={},ye={};function be(e,t,i,n,r,a,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=r,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ve[e]=new be(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ve[t]=new be(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ve[e]=new be(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ve[e]=new be(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ve[e]=new be(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ve[e]=new be(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){ve[e]=new be(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){ve[e]=new be(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){ve[e]=new be(e,5,!1,e.toLowerCase(),null,!1,!1)}));var we=/[\-:]([a-z])/g;function Te(e){return e[1].toUpperCase()}function xe(e,t,i,n){var r=ve.hasOwnProperty(t)?ve[t]:null;(null!==r?0!==r.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,i,n){if(null==t||function(e,t,i,n){if(null!==i&&0===i.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==i?!i.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,i,n))return!0;if(n)return!1;if(null!==i)switch(i.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,i,r,n)&&(i=null),n||null===r?function(e){return!!me.call(ye,e)||!me.call(ge,e)&&(fe.test(e)?ye[e]=!0:(ge[e]=!0,!1))}(t)&&(null===i?e.removeAttribute(t):e.setAttribute(t,""+i)):r.mustUseProperty?e[r.propertyName]=null===i?3!==r.type&&"":i:(t=r.attributeName,n=r.attributeNamespace,null===i?e.removeAttribute(t):(i=3===(r=r.type)||4===r&&!0===i?"":""+i,n?e.setAttributeNS(n,t,i):e.setAttribute(t,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(we,Te);ve[t]=new be(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(we,Te);ve[t]=new be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(we,Te);ve[t]=new be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){ve[e]=new be(e,1,!1,e.toLowerCase(),null,!1,!1)})),ve.xlinkHref=new be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){ve[e]=new be(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Ee=se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_e=Symbol.for("react.element"),Se=Symbol.for("react.portal"),Ce=Symbol.for("react.fragment"),ke=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),Ne=Symbol.for("react.provider"),Oe=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Ie=Symbol.for("react.suspense_list"),Re=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),je=Symbol.iterator;function $e(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=je&&e[je]||e["@@iterator"])?e:null}var Be,qe=Object.assign;function Ue(e){if(void 0===Be)try{throw Error()}catch(Sh){var t=Sh.stack.trim().match(/\n( *(at )?)/);Be=t&&t[1]||""}return"\n"+Be+e}var Fe=!1;function ze(e,t){if(!e||Fe)return"";Fe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(OM){var n=OM}Reflect.construct(e,[],t)}else{try{t.call()}catch(OM){n=OM}e.call(t.prototype)}else{try{throw Error()}catch(OM){n=OM}e()}}catch(OM){if(OM&&n&&"string"==typeof OM.stack){for(var r=OM.stack.split("\n"),a=n.stack.split("\n"),s=r.length-1,o=a.length-1;1<=s&&0<=o&&r[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==a[o]){if(1!==s||1!==o)do{if(s--,0>--o||r[s]!==a[o]){var l="\n"+r[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=o);break}}}finally{Fe=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Ue(e):""}function Ve(e){switch(e.tag){case 5:return Ue(e.type);case 16:return Ue("Lazy");case 13:return Ue("Suspense");case 19:return Ue("SuspenseList");case 0:case 2:case 15:return e=ze(e.type,!1);case 11:return e=ze(e.type.render,!1);case 1:return e=ze(e.type,!0);default:return""}}function He(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Ce:return"Fragment";case Se:return"Portal";case Ae:return"Profiler";case ke:return"StrictMode";case Pe:return"Suspense";case Ie:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Oe:return(e.displayName||"Context")+".Consumer";case Ne:return(e._context.displayName||"Context")+".Provider";case Me:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Re:return null!==(t=e.displayName||null)?t:He(e.type)||"Memo";case Le:t=e._payload,e=e._init;try{return He(e(t))}catch(Sh){}}return null}function We(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return He(t);case 8:return t===ke?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Ge(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Ke(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Qe(e){e._valueTracker||(e._valueTracker=function(e){var t=Ke(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var r=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ye(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),n="";return e&&(n=Ke(e)?e.checked?"true":"false":e.value),(e=n)!==i&&(t.setValue(e),!0)}function Xe(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(_h){return e.body}}function Je(e,t){var i=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:e._wrapperState.initialChecked})}function Ze(e,t){var i=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;i=Ge(null!=t.value?t.value:i),e._wrapperState={initialChecked:n,initialValue:i,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function et(e,t){null!=(t=t.checked)&&xe(e,"checked",t,!1)}function tt(e,t){et(e,t);var i=Ge(t.value),n=t.type;if(null!=i)"number"===n?(0===i&&""===e.value||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?nt(e,t.type,i):t.hasOwnProperty("defaultValue")&&nt(e,t.type,Ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function it(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}""!==(i=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==i&&(e.name=i)}function nt(e,t,i){"number"===t&&Xe(e.ownerDocument)===e||(null==i?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var rt=Array.isArray;function at(e,t,i,n){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&n&&(e[i].defaultSelected=!0)}else{for(i=""+Ge(i),t=null,r=0;r<e.length;r++){if(e[r].value===i)return e[r].selected=!0,void(n&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function st(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(le(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ot(e,t){var i=t.value;if(null==i){if(i=t.children,t=t.defaultValue,null!=i){if(null!=t)throw Error(le(92));if(rt(i)){if(1<i.length)throw Error(le(93));i=i[0]}t=i}null==t&&(t=""),i=t}e._wrapperState={initialValue:Ge(i)}}function lt(e,t){var i=Ge(t.value),n=Ge(t.defaultValue);null!=i&&((i=""+i)!==e.value&&(e.value=i),null==t.defaultValue&&e.defaultValue!==i&&(e.defaultValue=i)),null!=n&&(e.defaultValue=""+n)}function ct(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function dt(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?dt(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ht,pt,mt=(pt=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ht=ht||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ht.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction((function(){return pt(e,t)}))}:pt);function ft(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t}var gt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yt=["Webkit","ms","Moz","O"];function bt(e,t,i){return null==t||"boolean"==typeof t||""===t?"":i||"number"!=typeof t||0===t||gt.hasOwnProperty(e)&&gt[e]?(""+t).trim():t+"px"}function vt(e,t){for(var i in e=e.style,t)if(t.hasOwnProperty(i)){var n=0===i.indexOf("--"),r=bt(i,t[i],n);"float"===i&&(i="cssFloat"),n?e.setProperty(i,r):e[i]=r}}Object.keys(gt).forEach((function(e){yt.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gt[t]=gt[e]}))}));var wt=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tt(e,t){if(t){if(wt[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(le(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(le(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(le(62))}}function xt(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Et=null;function _t(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var St=null,Ct=null,kt=null;function At(e){if(e=xa(e)){if("function"!=typeof St)throw Error(le(280));var t=e.stateNode;t&&(t=_a(t),St(e.stateNode,e.type,t))}}function Nt(e){Ct?kt?kt.push(e):kt=[e]:Ct=e}function Ot(){if(Ct){var e=Ct,t=kt;if(kt=Ct=null,At(e),t)for(e=0;e<t.length;e++)At(t[e])}}function Mt(e,t){return e(t)}function Pt(){}var It=!1;function Rt(e,t,i){if(It)return e(t,i);It=!0;try{return Mt(e,t,i)}finally{It=!1,(null!==Ct||null!==kt)&&(Pt(),Ot())}}function Lt(e,t){var i=e.stateNode;if(null===i)return null;var n=_a(i);if(null===n)return null;i=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(i&&"function"!=typeof i)throw Error(le(231,t,typeof i));return i}var Dt=!1;if(pe)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(pt){Dt=!1}function $t(e,t,i,n,r,a,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(i,c)}catch(C_){this.onError(C_)}}var Bt=!1,qt=null,Ut=!1,Ft=null,zt={onError:function(e){Bt=!0,qt=e}};function Vt(e,t,i,n,r,a,s,o,l){Bt=!1,qt=null,$t.apply(zt,arguments)}function Ht(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(4098&(t=e).flags)&&(i=t.return),e=t.return}while(e)}return 3===t.tag?i:null}function Wt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Gt(e){if(Ht(e)!==e)throw Error(le(188))}function Kt(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ht(e)))throw Error(le(188));return t!==e?null:e}for(var i=e,n=t;;){var r=i.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(n=r.return)){i=n;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===i)return Gt(r),e;if(a===n)return Gt(r),t;a=a.sibling}throw Error(le(188))}if(i.return!==n.return)i=r,n=a;else{for(var s=!1,o=r.child;o;){if(o===i){s=!0,i=r,n=a;break}if(o===n){s=!0,n=r,i=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===i){s=!0,i=a,n=r;break}if(o===n){s=!0,n=a,i=r;break}o=o.sibling}if(!s)throw Error(le(189))}}if(i.alternate!==n)throw Error(le(190))}if(3!==i.tag)throw Error(le(188));return i.stateNode.current===i?e:t}(e),null!==e?Qt(e):null}function Qt(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Qt(e);if(null!==t)return t;e=e.sibling}return null}var Yt=oe.unstable_scheduleCallback,Xt=oe.unstable_cancelCallback,Jt=oe.unstable_shouldYield,Zt=oe.unstable_requestPaint,ei=oe.unstable_now,ti=oe.unstable_getCurrentPriorityLevel,ii=oe.unstable_ImmediatePriority,ni=oe.unstable_UserBlockingPriority,ri=oe.unstable_NormalPriority,ai=oe.unstable_LowPriority,si=oe.unstable_IdlePriority,oi=null,li=null;var ci=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(di(e)/ui|0)|0},di=Math.log,ui=Math.LN2;var hi=64,pi=4194304;function mi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fi(e,t){var i=e.pendingLanes;if(0===i)return 0;var n=0,r=e.suspendedLanes,a=e.pingedLanes,s=268435455&i;if(0!==s){var o=s&~r;0!==o?n=mi(o):0!==(a&=s)&&(n=mi(a))}else 0!==(s=i&~r)?n=mi(s):0!==a&&(n=mi(a));if(0===n)return 0;if(0!==t&&t!==n&&0==(t&r)&&((r=n&-n)>=(a=t&-t)||16===r&&0!=(4194240&a)))return t;if(0!=(4&n)&&(n|=16&i),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)r=1<<(i=31-ci(t)),n|=e[i],t&=~r;return n}function gi(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function yi(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function bi(){var e=hi;return 0==(4194240&(hi<<=1))&&(hi=64),e}function vi(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function wi(e,t,i){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ci(t)]=i}function Ti(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var n=31-ci(i),r=1<<n;r&t|e[n]&t&&(e[n]|=t),i&=~r}}var xi=0;function Ei(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var _i,Si,Ci,ki,Ai,Ni=!1,Oi=[],Mi=null,Pi=null,Ii=null,Ri=new Map,Li=new Map,Di=[],ji="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $i(e,t){switch(e){case"focusin":case"focusout":Mi=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Ii=null;break;case"pointerover":case"pointerout":Ri.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Bi(e,t,i,n,r,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:i,eventSystemFlags:n,nativeEvent:a,targetContainers:[r]},null!==t&&(null!==(t=xa(t))&&Si(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function qi(e){var t=Ta(e.target);if(null!==t){var i=Ht(t);if(null!==i)if(13===(t=i.tag)){if(null!==(t=Wt(i)))return e.blockedOn=t,void Ai(e.priority,(function(){Ci(i)}))}else if(3===t&&i.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}e.blockedOn=null}function Ui(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var i=Ji(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==i)return null!==(t=xa(i))&&Si(t),e.blockedOn=i,!1;var n=new(i=e.nativeEvent).constructor(i.type,i);Et=n,i.target.dispatchEvent(n),Et=null,t.shift()}return!0}function Fi(e,t,i){Ui(e)&&i.delete(t)}function zi(){Ni=!1,null!==Mi&&Ui(Mi)&&(Mi=null),null!==Pi&&Ui(Pi)&&(Pi=null),null!==Ii&&Ui(Ii)&&(Ii=null),Ri.forEach(Fi),Li.forEach(Fi)}function Vi(e,t){e.blockedOn===t&&(e.blockedOn=null,Ni||(Ni=!0,oe.unstable_scheduleCallback(oe.unstable_NormalPriority,zi)))}function Hi(e){function t(t){return Vi(t,e)}if(0<Oi.length){Vi(Oi[0],e);for(var i=1;i<Oi.length;i++){var n=Oi[i];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Mi&&Vi(Mi,e),null!==Pi&&Vi(Pi,e),null!==Ii&&Vi(Ii,e),Ri.forEach(t),Li.forEach(t),i=0;i<Di.length;i++)(n=Di[i]).blockedOn===e&&(n.blockedOn=null);for(;0<Di.length&&null===(i=Di[0]).blockedOn;)qi(i),null===i.blockedOn&&Di.shift()}var Wi=Ee.ReactCurrentBatchConfig,Gi=!0;function Ki(e,t,i,n){var r=xi,a=Wi.transition;Wi.transition=null;try{xi=1,Yi(e,t,i,n)}finally{xi=r,Wi.transition=a}}function Qi(e,t,i,n){var r=xi,a=Wi.transition;Wi.transition=null;try{xi=4,Yi(e,t,i,n)}finally{xi=r,Wi.transition=a}}function Yi(e,t,i,n){if(Gi){var r=Ji(e,t,i,n);if(null===r)Gr(e,t,n,Xi,i),$i(e,n);else if(function(e,t,i,n,r){switch(t){case"focusin":return Mi=Bi(Mi,e,t,i,n,r),!0;case"dragenter":return Pi=Bi(Pi,e,t,i,n,r),!0;case"mouseover":return Ii=Bi(Ii,e,t,i,n,r),!0;case"pointerover":var a=r.pointerId;return Ri.set(a,Bi(Ri.get(a)||null,e,t,i,n,r)),!0;case"gotpointercapture":return a=r.pointerId,Li.set(a,Bi(Li.get(a)||null,e,t,i,n,r)),!0}return!1}(r,e,t,i,n))n.stopPropagation();else if($i(e,n),4&t&&-1<ji.indexOf(e)){for(;null!==r;){var a=xa(r);if(null!==a&&_i(a),null===(a=Ji(e,t,i,n))&&Gr(e,t,n,Xi,i),a===r)break;r=a}null!==r&&n.stopPropagation()}else Gr(e,t,n,null,i)}}var Xi=null;function Ji(e,t,i,n){if(Xi=null,null!==(e=Ta(e=_t(n))))if(null===(t=Ht(e)))e=null;else if(13===(i=t.tag)){if(null!==(e=Wt(t)))return e;e=null}else if(3===i){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xi=e,null}function Zi(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ti()){case ii:return 1;case ni:return 4;case ri:case ai:return 16;case si:return 536870912;default:return 16}default:return 16}}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,i=tn,n=i.length,r="value"in en?en.value:en.textContent,a=r.length;for(e=0;e<n&&i[e]===r[e];e++);var s=n-e;for(t=1;t<=s&&i[n-t]===r[a-t];t++);return nn=r.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function sn(){return!0}function on(){return!1}function ln(e){function t(t,i,n,r,a){for(var s in this._reactName=t,this._targetInst=n,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?sn:on,this.isPropagationStopped=on,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),t}var cn,dn,un,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=ln(hn),mn=qe({},hn,{view:0,detail:0}),fn=ln(mn),gn=qe({},mn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:An,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(cn=e.screenX-un.screenX,dn=e.screenY-un.screenY):dn=cn=0,un=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:dn}}),yn=ln(gn),bn=ln(qe({},gn,{dataTransfer:0})),vn=ln(qe({},mn,{relatedTarget:0})),wn=ln(qe({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),Tn=qe({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=ln(Tn),En=ln(qe({},hn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function An(){return kn}var Nn=qe({},mn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:An,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),On=ln(Nn),Mn=ln(qe({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=ln(qe({},mn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:An})),In=ln(qe({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=qe({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=ln(Rn),Dn=[9,13,27,32],jn=pe&&"CompositionEvent"in window,$n=null;pe&&"documentMode"in document&&($n=document.documentMode);var Bn=pe&&"TextEvent"in window&&!$n,qn=pe&&(!jn||$n&&8<$n&&11>=$n),Un=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Kn(e,t,i,n){Nt(n),0<(t=Qr(t,"onChange")).length&&(i=new pn("onChange","change",null,i,n),e.push({event:i,listeners:t}))}var Qn=null,Yn=null;function Xn(e){Ur(e,0)}function Jn(e){if(Ye(Ea(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(pe){var tr;if(pe){var ir="oninput"in document;if(!ir){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),ir="function"==typeof nr.oninput}tr=ir}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ar),Yn=Qn=null)}function ar(e){if("value"===e.propertyName&&Jn(Yn)){var t=[];Kn(t,Yn,e,_t(e)),Rt(Xn,t)}}function sr(e,t,i){"focusin"===e?(rr(),Yn=i,(Qn=t).attachEvent("onpropertychange",ar)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Yn)}function lr(e,t){if("click"===e)return Jn(t)}function cr(e,t){if("input"===e||"change"===e)return Jn(t)}var dr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ur(e,t){if(dr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var r=i[n];if(!me.call(t,r)||!dr(e[r],t[r]))return!1}return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var i,n=hr(e);for(e=0;n;){if(3===n.nodeType){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=hr(n)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=Xe();t instanceof e.HTMLIFrameElement;){try{var i="string"==typeof t.contentWindow.location.href}catch(Ch){i=!1}if(!i)break;t=Xe((e=t.contentWindow).document)}return t}function gr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function yr(e){var t=fr(),i=e.focusedElem,n=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&mr(i.ownerDocument.documentElement,i)){if(null!==n&&gr(i))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if((e=(t=i.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=i.textContent.length,a=Math.min(n.start,r);n=void 0===n.end?a:Math.min(n.end,r),!e.extend&&a>n&&(r=n,n=a,a=r),r=pr(i,a);var s=pr(i,n);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=i;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof i.focus&&i.focus(),i=0;i<t.length;i++)(e=t[i]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var br=pe&&"documentMode"in document&&11>=document.documentMode,vr=null,wr=null,Tr=null,xr=!1;function Er(e,t,i){var n=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;xr||null==vr||vr!==Xe(n)||("selectionStart"in(n=vr)&&gr(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Tr&&ur(Tr,n)||(Tr=n,0<(n=Qr(wr,"onSelect")).length&&(t=new pn("onSelect","select",null,t,i),e.push({event:t,listeners:n}),t.target=vr)))}function _r(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Cr={},kr={};function Ar(e){if(Cr[e])return Cr[e];if(!Sr[e])return e;var t,i=Sr[e];for(t in i)if(i.hasOwnProperty(t)&&t in kr)return Cr[e]=i[t];return e}pe&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var Nr=Ar("animationend"),Or=Ar("animationiteration"),Mr=Ar("animationstart"),Pr=Ar("transitionend"),Ir=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Ir.set(e,t),ue(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var jr=Rr[Dr];Lr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Lr(Nr,"onAnimationEnd"),Lr(Or,"onAnimationIteration"),Lr(Mr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Pr,"onTransitionEnd"),he("onMouseEnter",["mouseout","mouseover"]),he("onMouseLeave",["mouseout","mouseover"]),he("onPointerEnter",["pointerout","pointerover"]),he("onPointerLeave",["pointerout","pointerover"]),ue("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ue("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ue("onBeforeInput",["compositionend","keypress","textInput","paste"]),ue("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ue("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ue("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Br=new Set("cancel close invalid load scroll toggle".split(" ").concat($r));function qr(e,t,i){var n=e.type||"unknown-event";e.currentTarget=i,function(e,t,i,n,r,a,s,o,l){if(Vt.apply(this,arguments),Bt){if(!Bt)throw Error(le(198));var c=qt;Bt=!1,qt=null,Ut||(Ut=!0,Ft=c)}}(n,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!=(4&t);for(var i=0;i<e.length;i++){var n=e[i],r=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&r.isPropagationStopped())break e;qr(r,o,c),a=l}else for(s=0;s<n.length;s++){if(l=(o=n[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&r.isPropagationStopped())break e;qr(r,o,c),a=l}}}if(Ut)throw e=Ft,Ut=!1,Ft=null,e}function Fr(e,t){var i=t[ba];void 0===i&&(i=t[ba]=new Set);var n=e+"__bubble";i.has(n)||(Wr(t,e,2,!1),i.add(n))}function zr(e,t,i){var n=0;t&&(n|=4),Wr(i,e,n,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Vr]){e[Vr]=!0,ce.forEach((function(t){"selectionchange"!==t&&(Br.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,i,n){switch(Zi(t)){case 1:var r=Ki;break;case 4:r=Qi;break;default:r=Yi}i=r.bind(null,t,i,e),r=void 0,!Dt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),n?void 0!==r?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):void 0!==r?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function Gr(e,t,i,n,r){var a=n;if(0==(1&t)&&0==(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===s)for(s=n.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;s=s.return}for(;null!==o;){if(null===(s=Ta(o)))return;if(5===(l=s.tag)||6===l){n=a=s;continue e}o=o.parentNode}}n=n.return}Rt((function(){var n=a,r=_t(i),s=[];e:{var o=Ir.get(e);if(void 0!==o){var l=pn,c=e;switch(e){case"keypress":if(0===an(i))break e;case"keydown":case"keyup":l=On;break;case"focusin":c="focus",l=vn;break;case"focusout":c="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===i.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=bn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Nr:case Or:case Mr:l=wn;break;case Pr:l=In;break;case"scroll":l=fn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var d=0!=(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=n;null!==m;){var f=(p=m).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==h&&(null!=(f=Lt(m,h))&&d.push(Kr(m,f,p)))),u)break;m=m.return}0<d.length&&(o=new l(o,c,null,i,r),s.push({event:o,listeners:d}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||i===Et||!(c=i.relatedTarget||i.fromElement)||!Ta(c)&&!c[ya])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=n,null!==(c=(c=i.relatedTarget||i.toElement)?Ta(c):null)&&(c!==(u=Ht(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(d=yn,f="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=Mn,f="onPointerLeave",h="onPointerEnter",m="pointer"),u=null==l?o:Ea(l),p=null==c?o:Ea(c),(o=new d(f,m+"leave",l,i,r)).target=u,o.relatedTarget=p,f=null,Ta(r)===n&&((d=new d(h,m+"enter",c,i,r)).target=p,d.relatedTarget=u,f=d),u=f,l&&c)e:{for(h=c,m=0,p=d=l;p;p=Yr(p))m++;for(p=0,f=h;f;f=Yr(f))p++;for(;0<m-p;)d=Yr(d),m--;for(;0<p-m;)h=Yr(h),p--;for(;m--;){if(d===h||null!==h&&d===h.alternate)break e;d=Yr(d),h=Yr(h)}d=null}else d=null;null!==l&&Xr(s,o,l,d,!1),null!==c&&null!==u&&Xr(s,u,c,d,!0)}if("select"===(l=(o=n?Ea(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Zn;else if(Gn(o))if(er)g=cr;else{g=or;var y=sr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=lr);switch(g&&(g=g(e,n))?Kn(s,g,i,r):(y&&y(e,o,n),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&nt(o,"number",o.value)),y=n?Ea(n):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(vr=y,wr=n,Tr=null);break;case"focusout":Tr=wr=vr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Er(s,i,r);break;case"selectionchange":if(br)break;case"keydown":case"keyup":Er(s,i,r)}var b;if(jn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Hn?zn(e,i)&&(v="onCompositionEnd"):"keydown"===e&&229===i.keyCode&&(v="onCompositionStart");v&&(qn&&"ko"!==i.locale&&(Hn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Hn&&(b=rn()):(tn="value"in(en=r)?en.value:en.textContent,Hn=!0)),0<(y=Qr(n,v)).length&&(v=new En(v,e,null,i,r),s.push({event:v,listeners:y}),b?v.data=b:null!==(b=Vn(i))&&(v.data=b))),(b=Bn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,i):function(e,t){if(Hn)return"compositionend"===e||!jn&&zn(e,t)?(e=rn(),nn=tn=en=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data}}(e,i))&&(0<(n=Qr(n,"onBeforeInput")).length&&(r=new En("onBeforeInput","beforeinput",null,i,r),s.push({event:r,listeners:n}),r.data=b))}Ur(s,t)}))}function Kr(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Qr(e,t){for(var i=t+"Capture",n=[];null!==e;){var r=e,a=r.stateNode;5===r.tag&&null!==a&&(r=a,null!=(a=Lt(e,i))&&n.unshift(Kr(e,a,r)),null!=(a=Lt(e,t))&&n.push(Kr(e,a,r))),e=e.return}return n}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,i,n,r){for(var a=t._reactName,s=[];null!==i&&i!==n;){var o=i,l=o.alternate,c=o.stateNode;if(null!==l&&l===n)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Lt(i,a))&&s.unshift(Kr(i,l,o)):r||null!=(l=Lt(i,a))&&s.push(Kr(i,l,o))),i=i.return}0!==s.length&&e.push({event:t,listeners:s})}var Jr=/\r\n?/g,Zr=/\u0000|\uFFFD/g;function ea(e){return("string"==typeof e?e:""+e).replace(Jr,"\n").replace(Zr,"")}function ta(e,t,i){if(t=ea(t),ea(e)!==t&&i)throw Error(le(425))}function ia(){}var na=null,ra=null;function aa(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sa="function"==typeof setTimeout?setTimeout:void 0,oa="function"==typeof clearTimeout?clearTimeout:void 0,la="function"==typeof Promise?Promise:void 0,ca="function"==typeof queueMicrotask?queueMicrotask:void 0!==la?function(e){return la.resolve(null).then(e).catch(da)}:sa;function da(e){setTimeout((function(){throw e}))}function ua(e,t){var i=t,n=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&8===r.nodeType)if("/$"===(i=r.data)){if(0===n)return e.removeChild(r),void Hi(t);n--}else"$"!==i&&"$?"!==i&&"$!"!==i||n++;i=r}while(i);Hi(t)}function ha(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function pa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var i=e.data;if("$"===i||"$!"===i||"$?"===i){if(0===t)return e;t--}else"/$"===i&&t++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),fa="__reactFiber$"+ma,ga="__reactProps$"+ma,ya="__reactContainer$"+ma,ba="__reactEvents$"+ma,va="__reactListeners$"+ma,wa="__reactHandles$"+ma;function Ta(e){var t=e[fa];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ya]||i[fa]){if(i=t.alternate,null!==t.child||null!==i&&null!==i.child)for(e=pa(e);null!==e;){if(i=e[fa])return i;e=pa(e)}return t}i=(e=i).parentNode}return null}function xa(e){return!(e=e[fa]||e[ya])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ea(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(le(33))}function _a(e){return e[ga]||null}var Sa=[],Ca=-1;function ka(e){return{current:e}}function Aa(e){0>Ca||(e.current=Sa[Ca],Sa[Ca]=null,Ca--)}function Na(e,t){Ca++,Sa[Ca]=e.current,e.current=t}var Oa={},Ma=ka(Oa),Pa=ka(!1),Ia=Oa;function Ra(e,t){var i=e.type.contextTypes;if(!i)return Oa;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var r,a={};for(r in i)a[r]=t[r];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function La(e){return null!=(e=e.childContextTypes)}function Da(){Aa(Pa),Aa(Ma)}function ja(e,t,i){if(Ma.current!==Oa)throw Error(le(168));Na(Ma,t),Na(Pa,i)}function $a(e,t,i){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return i;for(var r in n=n.getChildContext())if(!(r in t))throw Error(le(108,We(e)||"Unknown",r));return qe({},i,n)}function Ba(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oa,Ia=Ma.current,Na(Ma,e),Na(Pa,Pa.current),!0}function qa(e,t,i){var n=e.stateNode;if(!n)throw Error(le(169));i?(e=$a(e,t,Ia),n.__reactInternalMemoizedMergedChildContext=e,Aa(Pa),Aa(Ma),Na(Ma,e)):Aa(Pa),Na(Pa,i)}var Ua=null,Fa=!1,za=!1;function Va(e){null===Ua?Ua=[e]:Ua.push(e)}function Ha(){if(!za&&null!==Ua){za=!0;var e=0,t=xi;try{var i=Ua;for(xi=1;e<i.length;e++){var n=i[e];do{n=n(!0)}while(null!==n)}Ua=null,Fa=!1}catch(E_){throw null!==Ua&&(Ua=Ua.slice(e+1)),Yt(ii,Ha),E_}finally{xi=t,za=!1}}return null}var Wa=[],Ga=0,Ka=null,Qa=0,Ya=[],Xa=0,Ja=null,Za=1,es="";function ts(e,t){Wa[Ga++]=Qa,Wa[Ga++]=Ka,Ka=e,Qa=t}function is(e,t,i){Ya[Xa++]=Za,Ya[Xa++]=es,Ya[Xa++]=Ja,Ja=e;var n=Za;e=es;var r=32-ci(n)-1;n&=~(1<<r),i+=1;var a=32-ci(t)+r;if(30<a){var s=r-r%5;a=(n&(1<<s)-1).toString(32),n>>=s,r-=s,Za=1<<32-ci(t)+r|i<<r|n,es=a+e}else Za=1<<a|i<<r|n,es=e}function ns(e){null!==e.return&&(ts(e,1),is(e,1,0))}function rs(e){for(;e===Ka;)Ka=Wa[--Ga],Wa[Ga]=null,Qa=Wa[--Ga],Wa[Ga]=null;for(;e===Ja;)Ja=Ya[--Xa],Ya[Xa]=null,es=Ya[--Xa],Ya[Xa]=null,Za=Ya[--Xa],Ya[Xa]=null}var as=null,ss=null,os=!1,ls=null;function cs(e,t){var i=Ld(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,null===(t=e.deletions)?(e.deletions=[i],e.flags|=16):t.push(i)}function ds(e,t){switch(e.tag){case 5:var i=e.type;return null!==(t=1!==t.nodeType||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,as=e,ss=ha(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,as=e,ss=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(i=null!==Ja?{id:Za,overflow:es}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},(i=Ld(18,null,null,0)).stateNode=t,i.return=e,e.child=i,as=e,ss=null,!0);default:return!1}}function us(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function hs(e){if(os){var t=ss;if(t){var i=t;if(!ds(e,t)){if(us(e))throw Error(le(418));t=ha(i.nextSibling);var n=as;t&&ds(e,t)?cs(n,i):(e.flags=-4097&e.flags|2,os=!1,as=e)}}else{if(us(e))throw Error(le(418));e.flags=-4097&e.flags|2,os=!1,as=e}}}function ps(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;as=e}function ms(e){if(e!==as)return!1;if(!os)return ps(e),os=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!aa(e.type,e.memoizedProps)),t&&(t=ss)){if(us(e))throw fs(),Error(le(418));for(;t;)cs(e,t),t=ha(t.nextSibling)}if(ps(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var i=e.data;if("/$"===i){if(0===t){ss=ha(e.nextSibling);break e}t--}else"$"!==i&&"$!"!==i&&"$?"!==i||t++}e=e.nextSibling}ss=null}}else ss=as?ha(e.stateNode.nextSibling):null;return!0}function fs(){for(var e=ss;e;)e=ha(e.nextSibling)}function gs(){ss=as=null,os=!1}function ys(e){null===ls?ls=[e]:ls.push(e)}var bs=Ee.ReactCurrentBatchConfig;function vs(e,t){if(e&&e.defaultProps){for(var i in t=qe({},t),e=e.defaultProps)void 0===t[i]&&(t[i]=e[i]);return t}return t}var ws=ka(null),Ts=null,xs=null,Es=null;function _s(){Es=xs=Ts=null}function Ss(e){var t=ws.current;Aa(ws),e._currentValue=t}function Cs(e,t,i){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===i)break;e=e.return}}function ks(e,t){Ts=e,Es=xs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(El=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Es!==e)if(e={context:e,memoizedValue:t,next:null},null===xs){if(null===Ts)throw Error(le(308));xs=e,Ts.dependencies={lanes:0,firstContext:e}}else xs=xs.next=e;return t}var Ns=null;function Os(e){null===Ns?Ns=[e]:Ns.push(e)}function Ms(e,t,i,n){var r=t.interleaved;return null===r?(i.next=i,Os(t)):(i.next=r.next,r.next=i),t.interleaved=i,Ps(e,n)}function Ps(e,t){e.lanes|=t;var i=e.alternate;for(null!==i&&(i.lanes|=t),i=e,e=e.return;null!==e;)e.childLanes|=t,null!==(i=e.alternate)&&(i.childLanes|=t),i=e,e=e.return;return 3===i.tag?i.stateNode:null}var Is=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ls(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,i){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!=(2&Pc)){var r=n.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),n.pending=t,Ps(e,i)}return null===(r=n.interleaved)?(t.next=t,Os(n)):(t.next=r.next,r.next=t),n.interleaved=t,Ps(e,i)}function $s(e,t,i){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&i))){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,Ti(e,i)}}function Bs(e,t){var i=e.updateQueue,n=e.alternate;if(null!==n&&i===(n=n.updateQueue)){var r=null,a=null;if(null!==(i=i.firstBaseUpdate)){do{var s={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===a?r=a=s:a=a.next=s,i=i.next}while(null!==i);null===a?r=a=t:a=a.next=t}else r=a=t;return i={baseState:n.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:n.shared,effects:n.effects},void(e.updateQueue=i)}null===(e=i.lastBaseUpdate)?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function qs(e,t,i,n){var r=e.updateQueue;Is=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=r.baseState;for(s=0,d=c=l=null,o=a;;){var h=o.lane,p=o.eventTime;if((n&h)===h){null!==d&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,f=o;switch(h=t,p=i,f.tag){case 1:if("function"==typeof(m=f.payload)){u=m.call(p,u,h);break e}u=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null==(h="function"==typeof(m=f.payload)?m.call(p,u,h):m))break e;u=qe({},u,h);break e;case 2:Is=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=r.effects)?r.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=p,l=u):d=d.next=p,s|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(h=o).next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}if(null===d&&(l=u),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===a&&(r.shared.lanes=0);qc|=s,e.lanes=s,e.memoizedState=u}}function Us(e,t,i){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],r=n.callback;if(null!==r){if(n.callback=null,n=i,"function"!=typeof r)throw Error(le(191,r));r.call(n)}}}var Fs=(new se.Component).refs;function zs(e,t,i,n){i=null==(i=i(n,t=e.memoizedState))?t:qe({},t,i),e.memoizedState=i,0===e.lanes&&(e.updateQueue.baseState=i)}var Vs={isMounted:function(e){return!!(e=e._reactInternals)&&Ht(e)===e},enqueueSetState:function(e,t,i){e=e._reactInternals;var n=rd(),r=ad(e),a=Ds(n,r);a.payload=t,null!=i&&(a.callback=i),null!==(t=js(e,a,r))&&(sd(t,e,r,n),$s(t,e,r))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var n=rd(),r=ad(e),a=Ds(n,r);a.tag=1,a.payload=t,null!=i&&(a.callback=i),null!==(t=js(e,a,r))&&(sd(t,e,r,n),$s(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=rd(),n=ad(e),r=Ds(i,n);r.tag=2,null!=t&&(r.callback=t),null!==(t=js(e,r,n))&&(sd(t,e,n,i),$s(t,e,n))}};function Hs(e,t,i,n,r,a,s){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!ur(i,n)||!ur(r,a))}function Ws(e,t,i){var n=!1,r=Oa,a=t.contextType;return"object"==typeof a&&null!==a?a=As(a):(r=La(t)?Ia:Ma.current,a=(n=null!=(n=t.contextTypes))?Ra(e,r):Oa),t=new t(i,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=a),t}function Gs(e,t,i,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(i,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(i,n),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Ks(e,t,i,n){var r=e.stateNode;r.props=i,r.state=e.memoizedState,r.refs=Fs,Rs(e);var a=t.contextType;"object"==typeof a&&null!==a?r.context=As(a):(a=La(t)?Ia:Ma.current,r.context=Ra(e,a)),r.state=e.memoizedState,"function"==typeof(a=t.getDerivedStateFromProps)&&(zs(e,t,a,i),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Vs.enqueueReplaceState(r,r.state,null),qs(e,i,r,n),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.flags|=4194308)}function Qs(e,t,i){if(null!==(e=i.ref)&&"function"!=typeof e&&"object"!=typeof e){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(le(309));var n=i.stateNode}if(!n)throw Error(le(147,e));var r=n,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===Fs&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(le(284));if(!i._owner)throw Error(le(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xs(e){return(0,e._init)(e._payload)}function Js(e){function t(t,i){if(e){var n=t.deletions;null===n?(t.deletions=[i],t.flags|=16):n.push(i)}}function i(i,n){if(!e)return null;for(;null!==n;)t(i,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=jd(e,t)).index=0,e.sibling=null,e}function a(t,i,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<i?(t.flags|=2,i):n:(t.flags|=2,i):(t.flags|=1048576,i)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,i,n){return null===t||6!==t.tag?((t=Ud(i,e.mode,n)).return=e,t):((t=r(t,i)).return=e,t)}function l(e,t,i,n){var a=i.type;return a===Ce?d(e,t,i.props.children,n,i.key):null!==t&&(t.elementType===a||"object"==typeof a&&null!==a&&a.$$typeof===Le&&Xs(a)===t.type)?((n=r(t,i.props)).ref=Qs(e,t,i),n.return=e,n):((n=$d(i.type,i.key,i.props,null,e.mode,n)).ref=Qs(e,t,i),n.return=e,n)}function c(e,t,i,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==i.containerInfo||t.stateNode.implementation!==i.implementation?((t=Fd(i,e.mode,n)).return=e,t):((t=r(t,i.children||[])).return=e,t)}function d(e,t,i,n,a){return null===t||7!==t.tag?((t=Bd(i,e.mode,n,a)).return=e,t):((t=r(t,i)).return=e,t)}function u(e,t,i){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Ud(""+t,e.mode,i)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case _e:return(i=$d(t.type,t.key,t.props,null,e.mode,i)).ref=Qs(e,null,t),i.return=e,i;case Se:return(t=Fd(t,e.mode,i)).return=e,t;case Le:return u(e,(0,t._init)(t._payload),i)}if(rt(t)||$e(t))return(t=Bd(t,e.mode,i,null)).return=e,t;Ys(e,t)}return null}function h(e,t,i,n){var r=null!==t?t.key:null;if("string"==typeof i&&""!==i||"number"==typeof i)return null!==r?null:o(e,t,""+i,n);if("object"==typeof i&&null!==i){switch(i.$$typeof){case _e:return i.key===r?l(e,t,i,n):null;case Se:return i.key===r?c(e,t,i,n):null;case Le:return h(e,t,(r=i._init)(i._payload),n)}if(rt(i)||$e(i))return null!==r?null:d(e,t,i,n,null);Ys(e,i)}return null}function p(e,t,i,n,r){if("string"==typeof n&&""!==n||"number"==typeof n)return o(t,e=e.get(i)||null,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _e:return l(t,e=e.get(null===n.key?i:n.key)||null,n,r);case Se:return c(t,e=e.get(null===n.key?i:n.key)||null,n,r);case Le:return p(e,t,i,(0,n._init)(n._payload),r)}if(rt(n)||$e(n))return d(t,e=e.get(i)||null,n,r,null);Ys(t,n)}return null}function m(r,s,o,l){for(var c=null,d=null,m=s,f=s=0,g=null;null!==m&&f<o.length;f++){m.index>f?(g=m,m=null):g=m.sibling;var y=h(r,m,o[f],l);if(null===y){null===m&&(m=g);break}e&&m&&null===y.alternate&&t(r,m),s=a(y,s,f),null===d?c=y:d.sibling=y,d=y,m=g}if(f===o.length)return i(r,m),os&&ts(r,f),c;if(null===m){for(;f<o.length;f++)null!==(m=u(r,o[f],l))&&(s=a(m,s,f),null===d?c=m:d.sibling=m,d=m);return os&&ts(r,f),c}for(m=n(r,m);f<o.length;f++)null!==(g=p(m,r,f,o[f],l))&&(e&&null!==g.alternate&&m.delete(null===g.key?f:g.key),s=a(g,s,f),null===d?c=g:d.sibling=g,d=g);return e&&m.forEach((function(e){return t(r,e)})),os&&ts(r,f),c}function f(r,s,o,l){var c=$e(o);if("function"!=typeof c)throw Error(le(150));if(null==(o=c.call(o)))throw Error(le(151));for(var d=c=null,m=s,f=s=0,g=null,y=o.next();null!==m&&!y.done;f++,y=o.next()){m.index>f?(g=m,m=null):g=m.sibling;var b=h(r,m,y.value,l);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(r,m),s=a(b,s,f),null===d?c=b:d.sibling=b,d=b,m=g}if(y.done)return i(r,m),os&&ts(r,f),c;if(null===m){for(;!y.done;f++,y=o.next())null!==(y=u(r,y.value,l))&&(s=a(y,s,f),null===d?c=y:d.sibling=y,d=y);return os&&ts(r,f),c}for(m=n(r,m);!y.done;f++,y=o.next())null!==(y=p(m,r,f,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?f:y.key),s=a(y,s,f),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(r,e)})),os&&ts(r,f),c}return function e(n,a,o,l){if("object"==typeof o&&null!==o&&o.type===Ce&&null===o.key&&(o=o.props.children),"object"==typeof o&&null!==o){switch(o.$$typeof){case _e:e:{for(var c=o.key,d=a;null!==d;){if(d.key===c){if((c=o.type)===Ce){if(7===d.tag){i(n,d.sibling),(a=r(d,o.props.children)).return=n,n=a;break e}}else if(d.elementType===c||"object"==typeof c&&null!==c&&c.$$typeof===Le&&Xs(c)===d.type){i(n,d.sibling),(a=r(d,o.props)).ref=Qs(n,d,o),a.return=n,n=a;break e}i(n,d);break}t(n,d),d=d.sibling}o.type===Ce?((a=Bd(o.props.children,n.mode,l,o.key)).return=n,n=a):((l=$d(o.type,o.key,o.props,null,n.mode,l)).ref=Qs(n,a,o),l.return=n,n=l)}return s(n);case Se:e:{for(d=o.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){i(n,a.sibling),(a=r(a,o.children||[])).return=n,n=a;break e}i(n,a);break}t(n,a),a=a.sibling}(a=Fd(o,n.mode,l)).return=n,n=a}return s(n);case Le:return e(n,a,(d=o._init)(o._payload),l)}if(rt(o))return m(n,a,o,l);if($e(o))return f(n,a,o,l);Ys(n,o)}return"string"==typeof o&&""!==o||"number"==typeof o?(o=""+o,null!==a&&6===a.tag?(i(n,a.sibling),(a=r(a,o)).return=n,n=a):(i(n,a),(a=Ud(o,n.mode,l)).return=n,n=a),s(n)):i(n,a)}}var Zs=Js(!0),eo=Js(!1),to={},io=ka(to),no=ka(to),ro=ka(to);function ao(e){if(e===to)throw Error(le(174));return e}function so(e,t){switch(Na(ro,t),Na(no,e),Na(io,to),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ut(null,"");break;default:t=ut(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Aa(io),Na(io,t)}function oo(){Aa(io),Aa(no),Aa(ro)}function lo(e){ao(ro.current);var t=ao(io.current),i=ut(t,e.type);t!==i&&(Na(no,e),Na(io,i))}function co(e){no.current===e&&(Aa(io),Aa(no))}var uo=ka(0);function ho(e){for(var t=e;null!==t;){if(13===t.tag){var i=t.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var po=[];function mo(){for(var e=0;e<po.length;e++)po[e]._workInProgressVersionPrimary=null;po.length=0}var fo=Ee.ReactCurrentDispatcher,go=Ee.ReactCurrentBatchConfig,yo=0,bo=null,vo=null,wo=null,To=!1,xo=!1,Eo=0,_o=0;function So(){throw Error(le(321))}function Co(e,t){if(null===t)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!dr(e[i],t[i]))return!1;return!0}function ko(e,t,i,n,r,a){if(yo=a,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?dl:ul,e=i(n,r),xo){a=0;do{if(xo=!1,Eo=0,25<=a)throw Error(le(301));a+=1,wo=vo=null,t.updateQueue=null,fo.current=hl,e=i(n,r)}while(xo)}if(fo.current=cl,t=null!==vo&&null!==vo.next,yo=0,wo=vo=bo=null,To=!1,t)throw Error(le(300));return e}function Ao(){var e=0!==Eo;return Eo=0,e}function No(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wo?bo.memoizedState=wo=e:wo=wo.next=e,wo}function Oo(){if(null===vo){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=vo.next;var t=null===wo?bo.memoizedState:wo.next;if(null!==t)wo=t,vo=e;else{if(null===e)throw Error(le(310));e={memoizedState:(vo=e).memoizedState,baseState:vo.baseState,baseQueue:vo.baseQueue,queue:vo.queue,next:null},null===wo?bo.memoizedState=wo=e:wo=wo.next=e}return wo}function Mo(e,t){return"function"==typeof t?t(e):t}function Po(e){var t=Oo(),i=t.queue;if(null===i)throw Error(le(311));i.lastRenderedReducer=e;var n=vo,r=n.baseQueue,a=i.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}n.baseQueue=r=a,i.pending=null}if(null!==r){a=r.next,n=n.baseState;var o=s=null,l=null,c=a;do{var d=c.lane;if((yo&d)===d)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(o=l=u,s=n):l=l.next=u,bo.lanes|=d,qc|=d}c=c.next}while(null!==c&&c!==a);null===l?s=n:l.next=o,dr(n,t.memoizedState)||(El=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,i.lastRenderedState=n}if(null!==(e=i.interleaved)){r=e;do{a=r.lane,bo.lanes|=a,qc|=a,r=r.next}while(r!==e)}else null===r&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function Io(e){var t=Oo(),i=t.queue;if(null===i)throw Error(le(311));i.lastRenderedReducer=e;var n=i.dispatch,r=i.pending,a=t.memoizedState;if(null!==r){i.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);dr(a,t.memoizedState)||(El=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),i.lastRenderedState=a}return[a,n]}function Ro(){}function Lo(e,t){var i=bo,n=Oo(),r=t(),a=!dr(n.memoizedState,r);if(a&&(n.memoizedState=r,El=!0),n=n.queue,Go($o.bind(null,i,n,e),[e]),n.getSnapshot!==t||a||null!==wo&&1&wo.memoizedState.tag){if(i.flags|=2048,Fo(9,jo.bind(null,i,n,r,t),void 0,null),null===Ic)throw Error(le(349));0!=(30&yo)||Do(i,t,r)}return r}function Do(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},null===(t=bo.updateQueue)?(t={lastEffect:null,stores:null},bo.updateQueue=t,t.stores=[e]):null===(i=t.stores)?t.stores=[e]:i.push(e)}function jo(e,t,i,n){t.value=i,t.getSnapshot=n,Bo(t)&&qo(e)}function $o(e,t,i){return i((function(){Bo(t)&&qo(e)}))}function Bo(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!dr(e,i)}catch(Ch){return!0}}function qo(e){var t=Ps(e,1);null!==t&&sd(t,e,1,-1)}function Uo(e){var t=No();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mo,lastRenderedState:e},t.queue=e,e=e.dispatch=al.bind(null,bo,e),[t.memoizedState,e]}function Fo(e,t,i,n){return e={tag:e,create:t,destroy:i,deps:n,next:null},null===(t=bo.updateQueue)?(t={lastEffect:null,stores:null},bo.updateQueue=t,t.lastEffect=e.next=e):null===(i=t.lastEffect)?t.lastEffect=e.next=e:(n=i.next,i.next=e,e.next=n,t.lastEffect=e),e}function zo(){return Oo().memoizedState}function Vo(e,t,i,n){var r=No();bo.flags|=e,r.memoizedState=Fo(1|t,i,void 0,void 0===n?null:n)}function Ho(e,t,i,n){var r=Oo();n=void 0===n?null:n;var a=void 0;if(null!==vo){var s=vo.memoizedState;if(a=s.destroy,null!==n&&Co(n,s.deps))return void(r.memoizedState=Fo(t,i,a,n))}bo.flags|=e,r.memoizedState=Fo(1|t,i,a,n)}function Wo(e,t){return Vo(8390656,8,e,t)}function Go(e,t){return Ho(2048,8,e,t)}function Ko(e,t){return Ho(4,2,e,t)}function Qo(e,t){return Ho(4,4,e,t)}function Yo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,i){return i=null!=i?i.concat([e]):null,Ho(4,4,Yo.bind(null,t,e),i)}function Jo(){}function Zo(e,t){var i=Oo();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&Co(t,n[1])?n[0]:(i.memoizedState=[e,t],e)}function el(e,t){var i=Oo();t=void 0===t?null:t;var n=i.memoizedState;return null!==n&&null!==t&&Co(t,n[1])?n[0]:(e=e(),i.memoizedState=[e,t],e)}function tl(e,t,i){return 0==(21&yo)?(e.baseState&&(e.baseState=!1,El=!0),e.memoizedState=i):(dr(i,t)||(i=bi(),bo.lanes|=i,qc|=i,e.baseState=!0),t)}function il(e,t){var i=xi;xi=0!==i&&4>i?i:4,e(!0);var n=go.transition;go.transition={};try{e(!1),t()}finally{xi=i,go.transition=n}}function nl(){return Oo().memoizedState}function rl(e,t,i){var n=ad(e);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},sl(e))ol(t,i);else if(null!==(i=Ms(e,t,i,n))){sd(i,e,n,rd()),ll(i,t,n)}}function al(e,t,i){var n=ad(e),r={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(sl(e))ol(t,r);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,i);if(r.hasEagerState=!0,r.eagerState=o,dr(o,s)){var l=t.interleaved;return null===l?(r.next=r,Os(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(OM){}null!==(i=Ms(e,t,r,n))&&(sd(i,e,n,r=rd()),ll(i,t,n))}}function sl(e){var t=e.alternate;return e===bo||null!==t&&t===bo}function ol(e,t){xo=To=!0;var i=e.pending;null===i?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function ll(e,t,i){if(0!=(4194240&i)){var n=t.lanes;i|=n&=e.pendingLanes,t.lanes=i,Ti(e,i)}}var cl={readContext:As,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},dl={readContext:As,useCallback:function(e,t){return No().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Wo,useImperativeHandle:function(e,t,i){return i=null!=i?i.concat([e]):null,Vo(4194308,4,Yo.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var i=No();return t=void 0===t?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var n=No();return t=void 0!==i?i(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rl.bind(null,bo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},No().memoizedState=e},useState:Uo,useDebugValue:Jo,useDeferredValue:function(e){return No().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=il.bind(null,e[1]),No().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var n=bo,r=No();if(os){if(void 0===i)throw Error(le(407));i=i()}else{if(i=t(),null===Ic)throw Error(le(349));0!=(30&yo)||Do(n,t,i)}r.memoizedState=i;var a={value:i,getSnapshot:t};return r.queue=a,Wo($o.bind(null,n,a,e),[e]),n.flags|=2048,Fo(9,jo.bind(null,n,a,i,t),void 0,null),i},useId:function(){var e=No(),t=Ic.identifierPrefix;if(os){var i=es;t=":"+t+"R"+(i=(Za&~(1<<32-ci(Za)-1)).toString(32)+i),0<(i=Eo++)&&(t+="H"+i.toString(32)),t+=":"}else t=":"+t+"r"+(i=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ul={readContext:As,useCallback:Zo,useContext:As,useEffect:Go,useImperativeHandle:Xo,useInsertionEffect:Ko,useLayoutEffect:Qo,useMemo:el,useReducer:Po,useRef:zo,useState:function(){return Po(Mo)},useDebugValue:Jo,useDeferredValue:function(e){return tl(Oo(),vo.memoizedState,e)},useTransition:function(){return[Po(Mo)[0],Oo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Lo,useId:nl,unstable_isNewReconciler:!1},hl={readContext:As,useCallback:Zo,useContext:As,useEffect:Go,useImperativeHandle:Xo,useInsertionEffect:Ko,useLayoutEffect:Qo,useMemo:el,useReducer:Io,useRef:zo,useState:function(){return Io(Mo)},useDebugValue:Jo,useDeferredValue:function(e){var t=Oo();return null===vo?t.memoizedState=e:tl(t,vo.memoizedState,e)},useTransition:function(){return[Io(Mo)[0],Oo().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Lo,useId:nl,unstable_isNewReconciler:!1};function pl(e,t){try{var i="",n=t;do{i+=Ve(n),n=n.return}while(n);var r=i}catch(Ah){r="\nError generating stack: "+Ah.message+"\n"+Ah.stack}return{value:e,source:t,stack:r,digest:null}}function ml(e,t,i){return{value:e,source:null,stack:null!=i?i:null,digest:null!=t?t:null}}function fl(e,t){try{console.error(t.value)}catch(Sh){setTimeout((function(){throw Sh}))}}var gl="function"==typeof WeakMap?WeakMap:Map;function yl(e,t,i){(i=Ds(-1,i)).tag=3,i.payload={element:null};var n=t.value;return i.callback=function(){Kc||(Kc=!0,Qc=n),fl(0,t)},i}function bl(e,t,i){(i=Ds(-1,i)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var r=t.value;i.payload=function(){return n(r)},i.callback=function(){fl(0,t)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(i.callback=function(){fl(0,t),"function"!=typeof n&&(null===Yc?Yc=new Set([this]):Yc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),i}function vl(e,t,i){var n=e.pingCache;if(null===n){n=e.pingCache=new gl;var r=new Set;n.set(t,r)}else void 0===(r=n.get(t))&&(r=new Set,n.set(t,r));r.has(i)||(r.add(i),e=Nd.bind(null,e,t,i),t.then(e,e))}function wl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Tl(e,t,i,n,r){return 0==(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((t=Ds(-1,1)).tag=2,js(i,t,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var xl=Ee.ReactCurrentOwner,El=!1;function _l(e,t,i,n){t.child=null===e?eo(t,null,i,n):Zs(t,e.child,i,n)}function Sl(e,t,i,n,r){i=i.render;var a=t.ref;return ks(t,r),n=ko(e,t,i,n,a,r),i=Ao(),null===e||El?(os&&i&&ns(t),t.flags|=1,_l(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Kl(e,t,r))}function Cl(e,t,i,n,r){if(null===e){var a=i.type;return"function"!=typeof a||Dd(a)||void 0!==a.defaultProps||null!==i.compare||void 0!==i.defaultProps?((e=$d(i.type,null,n,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,kl(e,t,a,n,r))}if(a=e.child,0==(e.lanes&r)){var s=a.memoizedProps;if((i=null!==(i=i.compare)?i:ur)(s,n)&&e.ref===t.ref)return Kl(e,t,r)}return t.flags|=1,(e=jd(a,n)).ref=t.ref,e.return=t,t.child=e}function kl(e,t,i,n,r){if(null!==e){var a=e.memoizedProps;if(ur(a,n)&&e.ref===t.ref){if(El=!1,t.pendingProps=n=a,0==(e.lanes&r))return t.lanes=e.lanes,Kl(e,t,r);0!=(131072&e.flags)&&(El=!0)}}return Ol(e,t,i,n,r)}function Al(e,t,i){var n=t.pendingProps,r=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(jc,Dc),Dc|=i;else{if(0==(1073741824&i))return e=null!==a?a.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(jc,Dc),Dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==a?a.baseLanes:i,Na(jc,Dc),Dc|=n}else null!==a?(n=a.baseLanes|i,t.memoizedState=null):n=i,Na(jc,Dc),Dc|=n;return _l(e,t,r,i),t.child}function Nl(e,t){var i=t.ref;(null===e&&null!==i||null!==e&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Ol(e,t,i,n,r){var a=La(i)?Ia:Ma.current;return a=Ra(t,a),ks(t,r),i=ko(e,t,i,n,a,r),n=Ao(),null===e||El?(os&&n&&ns(t),t.flags|=1,_l(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Kl(e,t,r))}function Ml(e,t,i,n,r){if(La(i)){var a=!0;Ba(t)}else a=!1;if(ks(t,r),null===t.stateNode)Gl(e,t),Ws(t,i,n),Ks(t,i,n,r),n=!0;else if(null===e){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=i.contextType;"object"==typeof c&&null!==c?c=As(c):c=Ra(t,c=La(i)?Ia:Ma.current);var d=i.getDerivedStateFromProps,u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate;u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==n||l!==c)&&Gs(t,s,n,c),Is=!1;var h=t.memoizedState;s.state=h,qs(t,n,s,r),l=t.memoizedState,o!==n||h!==l||Pa.current||Is?("function"==typeof d&&(zs(t,i,d,n),l=t.memoizedState),(o=Is||Hs(t,i,o,n,h,l,c))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):("function"==typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Ls(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:vs(t.type,o),s.props=c,u=t.pendingProps,h=s.context,"object"==typeof(l=i.contextType)&&null!==l?l=As(l):l=Ra(t,l=La(i)?Ia:Ma.current);var p=i.getDerivedStateFromProps;(d="function"==typeof p||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o!==u||h!==l)&&Gs(t,s,n,l),Is=!1,h=t.memoizedState,s.state=h,qs(t,n,s,r);var m=t.memoizedState;o!==u||h!==m||Pa.current||Is?("function"==typeof p&&(zs(t,i,p,n),m=t.memoizedState),(c=Is||Hs(t,i,c,n,h,m,l)||!1)?(d||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(n,m,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,m,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):("function"!=typeof s.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Pl(e,t,i,n,a,r)}function Pl(e,t,i,n,r,a){Nl(e,t);var s=0!=(128&t.flags);if(!n&&!s)return r&&qa(t,i,!1),Kl(e,t,a);n=t.stateNode,xl.current=t;var o=s&&"function"!=typeof i.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=Zs(t,e.child,null,a),t.child=Zs(t,null,o,a)):_l(e,t,o,a),t.memoizedState=n.state,r&&qa(t,i,!0),t.child}function Il(e){var t=e.stateNode;t.pendingContext?ja(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ja(0,t.context,!1),so(e,t.containerInfo)}function Rl(e,t,i,n,r){return gs(),ys(r),t.flags|=256,_l(e,t,i,n),t.child}var Ll,Dl,jl,$l,Bl={dehydrated:null,treeContext:null,retryLane:0};function ql(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ul(e,t,i){var n,r=t.pendingProps,a=uo.current,s=!1,o=0!=(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!=(2&a)),n?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Na(uo,1&a),null===e)return hs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},0==(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=o):s=qd(o,r,0,null),e=Bd(e,r,i,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=ql(i),t.memoizedState=Bl,e):Fl(t,o));if(null!==(a=e.memoizedState)&&null!==(n=a.dehydrated))return function(e,t,i,n,r,a,s){if(i)return 256&t.flags?(t.flags&=-257,zl(e,t,s,n=ml(Error(le(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=n.fallback,r=t.mode,n=qd({mode:"visible",children:n.children},r,0,null),(a=Bd(a,r,s,null)).flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,0!=(1&t.mode)&&Zs(t,e.child,null,s),t.child.memoizedState=ql(s),t.memoizedState=Bl,a);if(0==(1&t.mode))return zl(e,t,s,null);if("$!"===r.data){if(n=r.nextSibling&&r.nextSibling.dataset)var o=n.dgst;return n=o,zl(e,t,s,n=ml(a=Error(le(419)),n,void 0))}if(o=0!=(s&e.childLanes),El||o){if(null!==(n=Ic)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!=(r&(n.suspendedLanes|s))?0:r)&&r!==a.retryLane&&(a.retryLane=r,Ps(e,r),sd(n,e,r,-1))}return vd(),zl(e,t,s,n=ml(Error(le(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Md.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,ss=ha(r.nextSibling),as=t,os=!0,ls=null,null!==e&&(Ya[Xa++]=Za,Ya[Xa++]=es,Ya[Xa++]=Ja,Za=e.id,es=e.overflow,Ja=t),t=Fl(t,n.children),t.flags|=4096,t)}(e,t,o,r,n,a,i);if(s){s=r.fallback,o=t.mode,n=(a=e.child).sibling;var l={mode:"hidden",children:r.children};return 0==(1&o)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=l,t.deletions=null):(r=jd(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==n?s=jd(n,s):(s=Bd(s,o,i,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=null===(o=e.child.memoizedState)?ql(i):{baseLanes:o.baseLanes|i,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~i,t.memoizedState=Bl,r}return e=(s=e.child).sibling,r=jd(s,{mode:"visible",children:r.children}),0==(1&t.mode)&&(r.lanes=i),r.return=t,r.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=r,t.memoizedState=null,r}function Fl(e,t){return(t=qd({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zl(e,t,i,n){return null!==n&&ys(n),Zs(t,e.child,null,i),(e=Fl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vl(e,t,i){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Cs(e.return,t,i)}function Hl(e,t,i,n,r){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=i,a.tailMode=r)}function Wl(e,t,i){var n=t.pendingProps,r=n.revealOrder,a=n.tail;if(_l(e,t,n.children,i),0!=(2&(n=uo.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vl(e,i,t);else if(19===e.tag)Vl(e,i,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Na(uo,n),0==(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(i=t.child,r=null;null!==i;)null!==(e=i.alternate)&&null===ho(e)&&(r=i),i=i.sibling;null===(i=r)?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),Hl(t,!1,r,i,a);break;case"backwards":for(i=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ho(e)){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}Hl(t,!0,i,null,a);break;case"together":Hl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gl(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kl(e,t,i){if(null!==e&&(t.dependencies=e.dependencies),qc|=t.lanes,0==(i&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(le(153));if(null!==t.child){for(i=jd(e=t.child,e.pendingProps),t.child=i,i.return=t;null!==e.sibling;)e=e.sibling,(i=i.sibling=jd(e,e.pendingProps)).return=t;i.sibling=null}return t.child}function Ql(e,t){if(!os)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;null!==t;)null!==t.alternate&&(i=t),t=t.sibling;null===i?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var n=null;null!==i;)null!==i.alternate&&(n=i),i=i.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Yl(e){var t=null!==e.alternate&&e.alternate.child===e.child,i=0,n=0;if(t)for(var r=e.child;null!==r;)i|=r.lanes|r.childLanes,n|=14680064&r.subtreeFlags,n|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)i|=r.lanes|r.childLanes,n|=r.subtreeFlags,n|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=n,e.childLanes=i,t}function Xl(e,t,i){var n=t.pendingProps;switch(rs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yl(t),null;case 1:case 17:return La(t.type)&&Da(),Yl(t),null;case 3:return n=t.stateNode,oo(),Aa(Pa),Aa(Ma),mo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(ms(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==ls&&(dd(ls),ls=null))),Dl(e,t),Yl(t),null;case 5:co(t);var r=ao(ro.current);if(i=t.type,null!==e&&null!=t.stateNode)jl(e,t,i,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(le(166));return Yl(t),null}if(e=ao(io.current),ms(t)){n=t.stateNode,i=t.type;var a=t.memoizedProps;switch(n[fa]=t,n[ga]=a,e=0!=(1&t.mode),i){case"dialog":Fr("cancel",n),Fr("close",n);break;case"iframe":case"object":case"embed":Fr("load",n);break;case"video":case"audio":for(r=0;r<$r.length;r++)Fr($r[r],n);break;case"source":Fr("error",n);break;case"img":case"image":case"link":Fr("error",n),Fr("load",n);break;case"details":Fr("toggle",n);break;case"input":Ze(n,a),Fr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",n);break;case"textarea":ot(n,a),Fr("invalid",n)}for(var s in Tt(i,a),r=null,a)if(a.hasOwnProperty(s)){var o=a[s];"children"===s?"string"==typeof o?n.textContent!==o&&(!0!==a.suppressHydrationWarning&&ta(n.textContent,o,e),r=["children",o]):"number"==typeof o&&n.textContent!==""+o&&(!0!==a.suppressHydrationWarning&&ta(n.textContent,o,e),r=["children",""+o]):de.hasOwnProperty(s)&&null!=o&&"onScroll"===s&&Fr("scroll",n)}switch(i){case"input":Qe(n),it(n,a,!0);break;case"textarea":Qe(n),ct(n);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(n.onclick=ia)}n=r,t.updateQueue=n,null!==n&&(t.flags|=4)}else{s=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=dt(i)),"http://www.w3.org/1999/xhtml"===e?"script"===i?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=s.createElement(i,{is:n.is}):(e=s.createElement(i),"select"===i&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,i),e[fa]=t,e[ga]=n,Ll(e,t,!1,!1),t.stateNode=e;e:{switch(s=xt(i,n),i){case"dialog":Fr("cancel",e),Fr("close",e),r=n;break;case"iframe":case"object":case"embed":Fr("load",e),r=n;break;case"video":case"audio":for(r=0;r<$r.length;r++)Fr($r[r],e);r=n;break;case"source":Fr("error",e),r=n;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),r=n;break;case"details":Fr("toggle",e),r=n;break;case"input":Ze(e,n),r=Je(e,n),Fr("invalid",e);break;case"option":default:r=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},r=qe({},n,{value:void 0}),Fr("invalid",e);break;case"textarea":ot(e,n),r=st(e,n),Fr("invalid",e)}for(a in Tt(i,r),o=r)if(o.hasOwnProperty(a)){var l=o[a];"style"===a?vt(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&mt(e,l):"children"===a?"string"==typeof l?("textarea"!==i||""!==l)&&ft(e,l):"number"==typeof l&&ft(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(de.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Fr("scroll",e):null!=l&&xe(e,a,l,s))}switch(i){case"input":Qe(e),it(e,n,!1);break;case"textarea":Qe(e),ct(e);break;case"option":null!=n.value&&e.setAttribute("value",""+Ge(n.value));break;case"select":e.multiple=!!n.multiple,null!=(a=n.value)?at(e,!!n.multiple,a,!1):null!=n.defaultValue&&at(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(e.onclick=ia)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Yl(t),null;case 6:if(e&&null!=t.stateNode)$l(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(le(166));if(i=ao(ro.current),ao(io.current),ms(t)){if(n=t.stateNode,i=t.memoizedProps,n[fa]=t,(a=n.nodeValue!==i)&&null!==(e=as))switch(e.tag){case 3:ta(n.nodeValue,i,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ta(n.nodeValue,i,0!=(1&e.mode))}a&&(t.flags|=4)}else(n=(9===i.nodeType?i:i.ownerDocument).createTextNode(n))[fa]=t,t.stateNode=n}return Yl(t),null;case 13:if(Aa(uo),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(os&&null!==ss&&0!=(1&t.mode)&&0==(128&t.flags))fs(),gs(),t.flags|=98560,a=!1;else if(a=ms(t),null!==n&&null!==n.dehydrated){if(null===e){if(!a)throw Error(le(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(le(317));a[fa]=t}else gs(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Yl(t),a=!1}else null!==ls&&(dd(ls),ls=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!=(128&t.flags)?(t.lanes=i,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&uo.current)?0===$c&&($c=3):vd())),null!==t.updateQueue&&(t.flags|=4),Yl(t),null);case 4:return oo(),Dl(e,t),null===e&&Hr(t.stateNode.containerInfo),Yl(t),null;case 10:return Ss(t.type._context),Yl(t),null;case 19:if(Aa(uo),null===(a=t.memoizedState))return Yl(t),null;if(n=0!=(128&t.flags),null===(s=a.rendering))if(n)Ql(a,!1);else{if(0!==$c||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ho(e))){for(t.flags|=128,Ql(a,!1),null!==(n=s.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=i,i=t.child;null!==i;)e=n,(a=i).flags&=14680066,null===(s=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Na(uo,1&uo.current|2),t.child}e=e.sibling}null!==a.tail&&ei()>Wc&&(t.flags|=128,n=!0,Ql(a,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ho(s))){if(t.flags|=128,n=!0,null!==(i=e.updateQueue)&&(t.updateQueue=i,t.flags|=4),Ql(a,!0),null===a.tail&&"hidden"===a.tailMode&&!s.alternate&&!os)return Yl(t),null}else 2*ei()-a.renderingStartTime>Wc&&1073741824!==i&&(t.flags|=128,n=!0,Ql(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(null!==(i=a.last)?i.sibling=s:t.child=s,a.last=s)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ei(),t.sibling=null,i=uo.current,Na(uo,n?1&i|2:1&i),t):(Yl(t),null);case 22:case 23:return fd(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!=(1&t.mode)?0!=(1073741824&Dc)&&(Yl(t),6&t.subtreeFlags&&(t.flags|=8192)):Yl(t),null;case 24:case 25:return null}throw Error(le(156,t.tag))}function Jl(e,t){switch(rs(t),t.tag){case 1:return La(t.type)&&Da(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oo(),Aa(Pa),Aa(Ma),mo(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return co(t),null;case 13:if(Aa(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(le(340));gs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Aa(uo),null;case 4:return oo(),null;case 10:return Ss(t.type._context),null;case 22:case 23:return fd(),null;default:return null}}Ll=function(e,t){for(var i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Dl=function(){},jl=function(e,t,i,n){var r=e.memoizedProps;if(r!==n){e=t.stateNode,ao(io.current);var a,s=null;switch(i){case"input":r=Je(e,r),n=Je(e,n),s=[];break;case"select":r=qe({},r,{value:void 0}),n=qe({},n,{value:void 0}),s=[];break;case"textarea":r=st(e,r),n=st(e,n),s=[];break;default:"function"!=typeof r.onClick&&"function"==typeof n.onClick&&(e.onclick=ia)}for(c in Tt(i,n),i=null,r)if(!n.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var o=r[c];for(a in o)o.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(de.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=null!=r?r[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(null!=l||null!=o))if("style"===c)if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(i||(i={}),i[a]=l[a])}else i||(s||(s=[]),s.push(c,i)),i=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(s=s||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(s=s||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(de.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}i&&(s=s||[]).push("style",i);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},$l=function(e,t,i,n){i!==n&&(t.flags|=4)};var Zl=!1,ec=!1,tc="function"==typeof WeakSet?WeakSet:Set,ic=null;function nc(e,t){var i=e.ref;if(null!==i)if("function"==typeof i)try{i(null)}catch(Ch){Ad(e,t,Ch)}else i.current=null}function rc(e,t,i){try{i()}catch(Ch){Ad(e,t,Ch)}}var ac=!1;function sc(e,t,i){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var a=r.destroy;r.destroy=void 0,void 0!==a&&rc(t,i,a)}r=r.next}while(r!==n)}}function oc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var n=i.create;i.destroy=n()}i=i.next}while(i!==t)}}function lc(e){var t=e.ref;if(null!==t){var i=e.stateNode;e.tag,e=i,"function"==typeof t?t(e):t.current=e}}function cc(e){var t=e.alternate;null!==t&&(e.alternate=null,cc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fa],delete t[ga],delete t[ba],delete t[va],delete t[wa])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dc(e){return 5===e.tag||3===e.tag||4===e.tag}function uc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||dc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function hc(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===i.nodeType?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(8===i.nodeType?(t=i.parentNode).insertBefore(e,i):(t=i).appendChild(e),null!=(i=i._reactRootContainer)||null!==t.onclick||(t.onclick=ia));else if(4!==n&&null!==(e=e.child))for(hc(e,t,i),e=e.sibling;null!==e;)hc(e,t,i),e=e.sibling}function pc(e,t,i){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(4!==n&&null!==(e=e.child))for(pc(e,t,i),e=e.sibling;null!==e;)pc(e,t,i),e=e.sibling}var mc=null,fc=!1;function gc(e,t,i){for(i=i.child;null!==i;)yc(e,t,i),i=i.sibling}function yc(e,t,i){if(li&&"function"==typeof li.onCommitFiberUnmount)try{li.onCommitFiberUnmount(oi,i)}catch(P_){}switch(i.tag){case 5:ec||nc(i,t);case 6:var n=mc,r=fc;mc=null,gc(e,t,i),fc=r,null!==(mc=n)&&(fc?(e=mc,i=i.stateNode,8===e.nodeType?e.parentNode.removeChild(i):e.removeChild(i)):mc.removeChild(i.stateNode));break;case 18:null!==mc&&(fc?(e=mc,i=i.stateNode,8===e.nodeType?ua(e.parentNode,i):1===e.nodeType&&ua(e,i),Hi(e)):ua(mc,i.stateNode));break;case 4:n=mc,r=fc,mc=i.stateNode.containerInfo,fc=!0,gc(e,t,i),mc=n,fc=r;break;case 0:case 11:case 14:case 15:if(!ec&&(null!==(n=i.updateQueue)&&null!==(n=n.lastEffect))){r=n=n.next;do{var a=r,s=a.destroy;a=a.tag,void 0!==s&&(0!=(2&a)||0!=(4&a))&&rc(i,t,s),r=r.next}while(r!==n)}gc(e,t,i);break;case 1:if(!ec&&(nc(i,t),"function"==typeof(n=i.stateNode).componentWillUnmount))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(P_){Ad(i,t,P_)}gc(e,t,i);break;case 21:gc(e,t,i);break;case 22:1&i.mode?(ec=(n=ec)||null!==i.memoizedState,gc(e,t,i),ec=n):gc(e,t,i);break;default:gc(e,t,i)}}function bc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var i=e.stateNode;null===i&&(i=e.stateNode=new tc),t.forEach((function(t){var n=Pd.bind(null,e,t);i.has(t)||(i.add(t),t.then(n,n))}))}}function vc(e,t){var i=t.deletions;if(null!==i)for(var n=0;n<i.length;n++){var r=i[n];try{var a=e,s=t,o=s;e:for(;null!==o;){switch(o.tag){case 5:mc=o.stateNode,fc=!1;break e;case 3:case 4:mc=o.stateNode.containerInfo,fc=!0;break e}o=o.return}if(null===mc)throw Error(le(160));yc(a,s,r),mc=null,fc=!1;var l=r.alternate;null!==l&&(l.return=null),r.return=null}catch(OM){Ad(r,t,OM)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)wc(t,e),t=t.sibling}function wc(e,t){var i=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vc(t,e),Tc(e),4&n){try{sc(3,e,e.return),oc(3,e)}catch(D_){Ad(e,e.return,D_)}try{sc(5,e,e.return)}catch(D_){Ad(e,e.return,D_)}}break;case 1:vc(t,e),Tc(e),512&n&&null!==i&&nc(i,i.return);break;case 5:if(vc(t,e),Tc(e),512&n&&null!==i&&nc(i,i.return),32&e.flags){var r=e.stateNode;try{ft(r,"")}catch(D_){Ad(e,e.return,D_)}}if(4&n&&null!=(r=e.stateNode)){var a=e.memoizedProps,s=null!==i?i.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===a.type&&null!=a.name&&et(r,a),xt(o,s);var c=xt(o,a);for(s=0;s<l.length;s+=2){var d=l[s],u=l[s+1];"style"===d?vt(r,u):"dangerouslySetInnerHTML"===d?mt(r,u):"children"===d?ft(r,u):xe(r,d,u,c)}switch(o){case"input":tt(r,a);break;case"textarea":lt(r,a);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?at(r,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?at(r,!!a.multiple,a.defaultValue,!0):at(r,!!a.multiple,a.multiple?[]:"",!1))}r[ga]=a}catch(D_){Ad(e,e.return,D_)}}break;case 6:if(vc(t,e),Tc(e),4&n){if(null===e.stateNode)throw Error(le(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(D_){Ad(e,e.return,D_)}}break;case 3:if(vc(t,e),Tc(e),4&n&&null!==i&&i.memoizedState.isDehydrated)try{Hi(t.containerInfo)}catch(D_){Ad(e,e.return,D_)}break;case 4:default:vc(t,e),Tc(e);break;case 13:vc(t,e),Tc(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Hc=ei())),4&n&&bc(e);break;case 22:if(d=null!==i&&null!==i.memoizedState,1&e.mode?(ec=(c=ec)||d,vc(t,e),ec=c):vc(t,e),Tc(e),8192&n){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!=(1&e.mode))for(ic=e,d=e.child;null!==d;){for(u=ic=d;null!==ic;){switch(p=(h=ic).child,h.tag){case 0:case 11:case 14:case 15:sc(4,h,h.return);break;case 1:nc(h,h.return);var m=h.stateNode;if("function"==typeof m.componentWillUnmount){n=h,i=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(D_){Ad(n,i,D_)}}break;case 5:nc(h,h.return);break;case 22:if(null!==h.memoizedState){Sc(u);continue}}null!==p?(p.return=h,ic=p):Sc(u)}d=d.sibling}e:for(d=null,u=e;;){if(5===u.tag){if(null===d){d=u;try{r=u.stateNode,c?"function"==typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(o=u.stateNode,s=null!=(l=u.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=bt("display",s))}catch(D_){Ad(e,e.return,D_)}}}else if(6===u.tag){if(null===d)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(D_){Ad(e,e.return,D_)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:vc(t,e),Tc(e),4&n&&bc(e);case 21:}}function Tc(e){var t=e.flags;if(2&t){try{e:{for(var i=e.return;null!==i;){if(dc(i)){var n=i;break e}i=i.return}throw Error(le(160))}switch(n.tag){case 5:var r=n.stateNode;32&n.flags&&(ft(r,""),n.flags&=-33),pc(e,uc(e),r);break;case 3:case 4:var a=n.stateNode.containerInfo;hc(e,uc(e),a);break;default:throw Error(le(161))}}catch(__){Ad(e,e.return,__)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xc(e,t,i){ic=e,Ec(e)}function Ec(e,t,i){for(var n=0!=(1&e.mode);null!==ic;){var r=ic,a=r.child;if(22===r.tag&&n){var s=null!==r.memoizedState||Zl;if(!s){var o=r.alternate,l=null!==o&&null!==o.memoizedState||ec;o=Zl;var c=ec;if(Zl=s,(ec=l)&&!c)for(ic=r;null!==ic;)l=(s=ic).child,22===s.tag&&null!==s.memoizedState?Cc(r):null!==l?(l.return=s,ic=l):Cc(r);for(;null!==a;)ic=a,Ec(a),a=a.sibling;ic=r,Zl=o,ec=c}_c(e)}else 0!=(8772&r.subtreeFlags)&&null!==a?(a.return=r,ic=a):_c(e)}}function _c(e){for(;null!==ic;){var t=ic;if(0!=(8772&t.flags)){var i=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ec||oc(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!ec)if(null===i)n.componentDidMount();else{var r=t.elementType===t.type?i.memoizedProps:vs(t.type,i.memoizedProps);n.componentDidUpdate(r,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Us(t,a,n);break;case 3:var s=t.updateQueue;if(null!==s){if(i=null,null!==t.child)switch(t.child.tag){case 5:case 1:i=t.child.stateNode}Us(t,s,i)}break;case 5:var o=t.stateNode;if(null===i&&4&t.flags){i=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var u=d.dehydrated;null!==u&&Hi(u)}}}break;default:throw Error(le(163))}ec||512&t.flags&&lc(t)}catch(L_){Ad(t,t.return,L_)}}if(t===e){ic=null;break}if(null!==(i=t.sibling)){i.return=t.return,ic=i;break}ic=t.return}}function Sc(e){for(;null!==ic;){var t=ic;if(t===e){ic=null;break}var i=t.sibling;if(null!==i){i.return=t.return,ic=i;break}ic=t.return}}function Cc(e){for(;null!==ic;){var t=ic;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{oc(4,t)}catch(__){Ad(t,i,__)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var r=t.return;try{n.componentDidMount()}catch(__){Ad(t,r,__)}}var a=t.return;try{lc(t)}catch(__){Ad(t,a,__)}break;case 5:var s=t.return;try{lc(t)}catch(__){Ad(t,s,__)}}}catch(__){Ad(t,t.return,__)}if(t===e){ic=null;break}var o=t.sibling;if(null!==o){o.return=t.return,ic=o;break}ic=t.return}}var kc,Ac=Math.ceil,Nc=Ee.ReactCurrentDispatcher,Oc=Ee.ReactCurrentOwner,Mc=Ee.ReactCurrentBatchConfig,Pc=0,Ic=null,Rc=null,Lc=0,Dc=0,jc=ka(0),$c=0,Bc=null,qc=0,Uc=0,Fc=0,zc=null,Vc=null,Hc=0,Wc=1/0,Gc=null,Kc=!1,Qc=null,Yc=null,Xc=!1,Jc=null,Zc=0,ed=0,td=null,id=-1,nd=0;function rd(){return 0!=(6&Pc)?ei():-1!==id?id:id=ei()}function ad(e){return 0==(1&e.mode)?1:0!=(2&Pc)&&0!==Lc?Lc&-Lc:null!==bs.transition?(0===nd&&(nd=bi()),nd):0!==(e=xi)?e:e=void 0===(e=window.event)?16:Zi(e.type)}function sd(e,t,i,n){if(50<ed)throw ed=0,td=null,Error(le(185));wi(e,i,n),0!=(2&Pc)&&e===Ic||(e===Ic&&(0==(2&Pc)&&(Uc|=i),4===$c&&ud(e,Lc)),od(e,n),1===i&&0===Pc&&0==(1&t.mode)&&(Wc=ei()+500,Fa&&Ha()))}function od(e,t){var i=e.callbackNode;!function(e,t){for(var i=e.suspendedLanes,n=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-ci(a),o=1<<s,l=r[s];-1===l?0!=(o&i)&&0==(o&n)||(r[s]=gi(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var n=fi(e,e===Ic?Lc:0);if(0===n)null!==i&&Xt(i),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=i&&Xt(i),1===t)0===e.tag?function(e){Fa=!0,Va(e)}(hd.bind(null,e)):Va(hd.bind(null,e)),ca((function(){0==(6&Pc)&&Ha()})),i=null;else{switch(Ei(n)){case 1:i=ii;break;case 4:i=ni;break;case 16:default:i=ri;break;case 536870912:i=si}i=Id(i,ld.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function ld(e,t){if(id=-1,nd=0,0!=(6&Pc))throw Error(le(327));var i=e.callbackNode;if(Cd()&&e.callbackNode!==i)return null;var n=fi(e,e===Ic?Lc:0);if(0===n)return null;if(0!=(30&n)||0!=(n&e.expiredLanes)||t)t=wd(e,n);else{t=n;var r=Pc;Pc|=2;var a=bd();for(Ic===e&&Lc===t||(Gc=null,Wc=ei()+500,gd(e,t));;)try{xd();break}catch(P_){yd(e,P_)}_s(),Nc.current=a,Pc=r,null!==Rc?t=0:(Ic=null,Lc=0,t=$c)}if(0!==t){if(2===t&&(0!==(r=yi(e))&&(n=r,t=cd(e,r))),1===t)throw i=Bc,gd(e,0),ud(e,n),od(e,ei()),i;if(6===t)ud(e,n);else{if(r=e.current.alternate,0==(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var i=t.updateQueue;if(null!==i&&null!==(i=i.stores))for(var n=0;n<i.length;n++){var r=i[n],a=r.getSnapshot;r=r.value;try{if(!dr(a(),r))return!1}catch(s){return!1}}}if(i=t.child,16384&t.subtreeFlags&&null!==i)i.return=t,t=i;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=wd(e,n))&&(0!==(a=yi(e))&&(n=a,t=cd(e,a))),1===t))throw i=Bc,gd(e,0),ud(e,n),od(e,ei()),i;switch(e.finishedWork=r,e.finishedLanes=n,t){case 0:case 1:throw Error(le(345));case 2:case 5:Sd(e,Vc,Gc);break;case 3:if(ud(e,n),(130023424&n)===n&&10<(t=Hc+500-ei())){if(0!==fi(e,0))break;if(((r=e.suspendedLanes)&n)!==n){rd(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=sa(Sd.bind(null,e,Vc,Gc),t);break}Sd(e,Vc,Gc);break;case 4:if(ud(e,n),(4194240&n)===n)break;for(t=e.eventTimes,r=-1;0<n;){var s=31-ci(n);a=1<<s,(s=t[s])>r&&(r=s),n&=~a}if(n=r,10<(n=(120>(n=ei()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ac(n/1960))-n)){e.timeoutHandle=sa(Sd.bind(null,e,Vc,Gc),n);break}Sd(e,Vc,Gc);break;default:throw Error(le(329))}}}return od(e,ei()),e.callbackNode===i?ld.bind(null,e):null}function cd(e,t){var i=zc;return e.current.memoizedState.isDehydrated&&(gd(e,t).flags|=256),2!==(e=wd(e,t))&&(t=Vc,Vc=i,null!==t&&dd(t)),e}function dd(e){null===Vc?Vc=e:Vc.push.apply(Vc,e)}function ud(e,t){for(t&=~Fc,t&=~Uc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-ci(t),n=1<<i;e[i]=-1,t&=~n}}function hd(e){if(0!=(6&Pc))throw Error(le(327));Cd();var t=fi(e,0);if(0==(1&t))return od(e,ei()),null;var i=wd(e,t);if(0!==e.tag&&2===i){var n=yi(e);0!==n&&(t=n,i=cd(e,n))}if(1===i)throw i=Bc,gd(e,0),ud(e,t),od(e,ei()),i;if(6===i)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sd(e,Vc,Gc),od(e,ei()),null}function pd(e,t){var i=Pc;Pc|=1;try{return e(t)}finally{0===(Pc=i)&&(Wc=ei()+500,Fa&&Ha())}}function md(e){null!==Jc&&0===Jc.tag&&0==(6&Pc)&&Cd();var t=Pc;Pc|=1;var i=Mc.transition,n=xi;try{if(Mc.transition=null,xi=1,e)return e()}finally{xi=n,Mc.transition=i,0==(6&(Pc=t))&&Ha()}}function fd(){Dc=jc.current,Aa(jc)}function gd(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(-1!==i&&(e.timeoutHandle=-1,oa(i)),null!==Rc)for(i=Rc.return;null!==i;){var n=i;switch(rs(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&Da();break;case 3:oo(),Aa(Pa),Aa(Ma),mo();break;case 5:co(n);break;case 4:oo();break;case 13:case 19:Aa(uo);break;case 10:Ss(n.type._context);break;case 22:case 23:fd()}i=i.return}if(Ic=e,Rc=e=jd(e.current,null),Lc=Dc=t,$c=0,Bc=null,Fc=Uc=qc=0,Vc=zc=null,null!==Ns){for(t=0;t<Ns.length;t++)if(null!==(n=(i=Ns[t]).interleaved)){i.interleaved=null;var r=n.next,a=i.pending;if(null!==a){var s=a.next;a.next=r,n.next=s}i.pending=n}Ns=null}return e}function yd(e,t){for(;;){var i=Rc;try{if(_s(),fo.current=cl,To){for(var n=bo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}To=!1}if(yo=0,wo=vo=bo=null,xo=!1,Eo=0,Oc.current=null,null===i||null===i.return){$c=1,Bc=t,Rc=null;break}e:{var a=e,s=i.return,o=i,l=t;if(t=Lc,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l,d=o,u=d.tag;if(0==(1&d.mode)&&(0===u||11===u||15===u)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=wl(s);if(null!==p){p.flags&=-257,Tl(p,s,o,0,t),1&p.mode&&vl(a,c,t),l=c;var m=(t=p).updateQueue;if(null===m){var f=new Set;f.add(l),t.updateQueue=f}else m.add(l);break e}if(0==(1&t)){vl(a,c,t),vd();break e}l=Error(le(426))}else if(os&&1&o.mode){var g=wl(s);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),Tl(g,s,o,0,t),ys(pl(l,o));break e}}a=l=pl(l,o),4!==$c&&($c=2),null===zc?zc=[a]:zc.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Bs(a,yl(0,l,t));break e;case 1:o=l;var y=a.type,b=a.stateNode;if(0==(128&a.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===Yc||!Yc.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Bs(a,bl(a,o,t));break e}}a=a.return}while(null!==a)}_d(i)}catch(v){t=v,Rc===i&&null!==i&&(Rc=i=i.return);continue}break}}function bd(){var e=Nc.current;return Nc.current=cl,null===e?cl:e}function vd(){0!==$c&&3!==$c&&2!==$c||($c=4),null===Ic||0==(268435455&qc)&&0==(268435455&Uc)||ud(Ic,Lc)}function wd(e,t){var i=Pc;Pc|=2;var n=bd();for(Ic===e&&Lc===t||(Gc=null,gd(e,t));;)try{Td();break}catch(E_){yd(e,E_)}if(_s(),Pc=i,Nc.current=n,null!==Rc)throw Error(le(261));return Ic=null,Lc=0,$c}function Td(){for(;null!==Rc;)Ed(Rc)}function xd(){for(;null!==Rc&&!Jt();)Ed(Rc)}function Ed(e){var t=kc(e.alternate,e,Dc);e.memoizedProps=e.pendingProps,null===t?_d(e):Rc=t,Oc.current=null}function _d(e){var t=e;do{var i=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(i=Xl(i,t,Dc)))return void(Rc=i)}else{if(null!==(i=Jl(i,t)))return i.flags&=32767,void(Rc=i);if(null===e)return $c=6,void(Rc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rc=t);Rc=t=e}while(null!==t);0===$c&&($c=5)}function Sd(e,t,i){var n=xi,r=Mc.transition;try{Mc.transition=null,xi=1,function(e,t,i,n){do{Cd()}while(null!==Jc);if(0!=(6&Pc))throw Error(le(327));i=e.finishedWork;var r=e.finishedLanes;if(null===i)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var a=i.lanes|i.childLanes;if(function(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<i;){var r=31-ci(i),a=1<<r;t[r]=0,n[r]=-1,e[r]=-1,i&=~a}}(e,a),e===Ic&&(Rc=Ic=null,Lc=0),0==(2064&i.subtreeFlags)&&0==(2064&i.flags)||Xc||(Xc=!0,Id(ri,(function(){return Cd(),null}))),a=0!=(15990&i.flags),0!=(15990&i.subtreeFlags)||a){a=Mc.transition,Mc.transition=null;var s=xi;xi=1;var o=Pc;Pc|=4,Oc.current=null,function(e,t){if(na=Gi,gr(e=fr())){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(i=(i=e.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(n&&0!==n.rangeCount){i=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{i.nodeType,a.nodeType}catch(fM){i=null;break e}var s=0,o=-1,l=-1,c=0,d=0,u=e,h=null;t:for(;;){for(var p;u!==i||0!==r&&3!==u.nodeType||(o=s+r),u!==a||0!==n&&3!==u.nodeType||(l=s+n),3===u.nodeType&&(s+=u.nodeValue.length),null!==(p=u.firstChild);)h=u,u=p;for(;;){if(u===e)break t;if(h===i&&++c===r&&(o=s),h===a&&++d===n&&(l=s),null!==(p=u.nextSibling))break;h=(u=h).parentNode}u=p}i=-1===o||-1===l?null:{start:o,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(ra={focusedElem:e,selectionRange:i},Gi=!1,ic=t;null!==ic;)if(e=(t=ic).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,ic=e;else for(;null!==ic;){t=ic;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var f=m.memoizedProps,g=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:vs(t.type,f),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(le(163))}}catch(fM){Ad(t,t.return,fM)}if(null!==(e=t.sibling)){e.return=t.return,ic=e;break}ic=t.return}m=ac,ac=!1}(e,i),wc(i,e),yr(ra),Gi=!!na,ra=na=null,e.current=i,xc(i),Zt(),Pc=o,xi=s,Mc.transition=a}else e.current=i;if(Xc&&(Xc=!1,Jc=e,Zc=r),a=e.pendingLanes,0===a&&(Yc=null),function(e){if(li&&"function"==typeof li.onCommitFiberRoot)try{li.onCommitFiberRoot(oi,e,void 0,128==(128&e.current.flags))}catch(t){}}(i.stateNode),od(e,ei()),null!==t)for(n=e.onRecoverableError,i=0;i<t.length;i++)r=t[i],n(r.value,{componentStack:r.stack,digest:r.digest});if(Kc)throw Kc=!1,e=Qc,Qc=null,e;0!=(1&Zc)&&0!==e.tag&&Cd(),a=e.pendingLanes,0!=(1&a)?e===td?ed++:(ed=0,td=e):ed=0,Ha()}(e,t,i,n)}finally{Mc.transition=r,xi=n}return null}function Cd(){if(null!==Jc){var e=Ei(Zc),t=Mc.transition,i=xi;try{if(Mc.transition=null,xi=16>e?16:e,null===Jc)var n=!1;else{if(e=Jc,Jc=null,Zc=0,0!=(6&Pc))throw Error(le(331));var r=Pc;for(Pc|=4,ic=e.current;null!==ic;){var a=ic,s=a.child;if(0!=(16&ic.flags)){var o=a.deletions;if(null!==o){for(var l=0;l<o.length;l++){var c=o[l];for(ic=c;null!==ic;){var d=ic;switch(d.tag){case 0:case 11:case 15:sc(8,d,a)}var u=d.child;if(null!==u)u.return=d,ic=u;else for(;null!==ic;){var h=(d=ic).sibling,p=d.return;if(cc(d),d===c){ic=null;break}if(null!==h){h.return=p,ic=h;break}ic=p}}}var m=a.alternate;if(null!==m){var f=m.child;if(null!==f){m.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(null!==f)}}ic=a}}if(0!=(2064&a.subtreeFlags)&&null!==s)s.return=a,ic=s;else e:for(;null!==ic;){if(0!=(2048&(a=ic).flags))switch(a.tag){case 0:case 11:case 15:sc(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,ic=y;break e}ic=a.return}}var b=e.current;for(ic=b;null!==ic;){var v=(s=ic).child;if(0!=(2064&s.subtreeFlags)&&null!==v)v.return=s,ic=v;else e:for(s=b;null!==ic;){if(0!=(2048&(o=ic).flags))try{switch(o.tag){case 0:case 11:case 15:oc(9,o)}}catch(T){Ad(o,o.return,T)}if(o===s){ic=null;break e}var w=o.sibling;if(null!==w){w.return=o.return,ic=w;break e}ic=o.return}}if(Pc=r,Ha(),li&&"function"==typeof li.onPostCommitFiberRoot)try{li.onPostCommitFiberRoot(oi,e)}catch(T){}n=!0}return n}finally{xi=i,Mc.transition=t}}return!1}function kd(e,t,i){e=js(e,t=yl(0,t=pl(i,t),1),1),t=rd(),null!==e&&(wi(e,1,t),od(e,t))}function Ad(e,t,i){if(3===e.tag)kd(e,e,i);else for(;null!==t;){if(3===t.tag){kd(t,e,i);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===Yc||!Yc.has(n))){t=js(t,e=bl(t,e=pl(i,e),1),1),e=rd(),null!==t&&(wi(t,1,e),od(t,e));break}}t=t.return}}function Nd(e,t,i){var n=e.pingCache;null!==n&&n.delete(t),t=rd(),e.pingedLanes|=e.suspendedLanes&i,Ic===e&&(Lc&i)===i&&(4===$c||3===$c&&(130023424&Lc)===Lc&&500>ei()-Hc?gd(e,0):Fc|=i),od(e,t)}function Od(e,t){0===t&&(0==(1&e.mode)?t=1:(t=pi,0==(130023424&(pi<<=1))&&(pi=4194304)));var i=rd();null!==(e=Ps(e,t))&&(wi(e,t,i),od(e,i))}function Md(e){var t=e.memoizedState,i=0;null!==t&&(i=t.retryLane),Od(e,i)}function Pd(e,t){var i=0;switch(e.tag){case 13:var n=e.stateNode,r=e.memoizedState;null!==r&&(i=r.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(le(314))}null!==n&&n.delete(t),Od(e,i)}function Id(e,t){return Yt(e,t)}function Rd(e,t,i,n){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ld(e,t,i,n){return new Rd(e,t,i,n)}function Dd(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jd(e,t){var i=e.alternate;return null===i?((i=Ld(e.tag,t,e.key,e.mode)).elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&e.flags,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function $d(e,t,i,n,r,a){var s=2;if(n=e,"function"==typeof e)Dd(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Ce:return Bd(i.children,r,a,t);case ke:s=8,r|=8;break;case Ae:return(e=Ld(12,i,t,2|r)).elementType=Ae,e.lanes=a,e;case Pe:return(e=Ld(13,i,t,r)).elementType=Pe,e.lanes=a,e;case Ie:return(e=Ld(19,i,t,r)).elementType=Ie,e.lanes=a,e;case De:return qd(i,r,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ne:s=10;break e;case Oe:s=9;break e;case Me:s=11;break e;case Re:s=14;break e;case Le:s=16,n=null;break e}throw Error(le(130,null==e?e:typeof e,""))}return(t=Ld(s,i,t,r)).elementType=e,t.type=n,t.lanes=a,t}function Bd(e,t,i,n){return(e=Ld(7,e,n,t)).lanes=i,e}function qd(e,t,i,n){return(e=Ld(22,e,n,t)).elementType=De,e.lanes=i,e.stateNode={isHidden:!1},e}function Ud(e,t,i){return(e=Ld(6,e,null,t)).lanes=i,e}function Fd(e,t,i){return(t=Ld(4,null!==e.children?e.children:[],e.key,t)).lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zd(e,t,i,n,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vi(0),this.expirationTimes=vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.identifierPrefix=n,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vd(e,t,i,n,r,a,s,o,l){return e=new zd(e,t,i,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ld(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(a),e}function Hd(e){if(!e)return Oa;e:{if(Ht(e=e._reactInternals)!==e||1!==e.tag)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(La(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(le(171))}if(1===e.tag){var i=e.type;if(La(i))return $a(e,i,t)}return t}function Wd(e,t,i,n,r,a,s,o,l){return(e=Vd(i,n,!0,e,0,a,0,o,l)).context=Hd(null),i=e.current,(a=Ds(n=rd(),r=ad(i))).callback=null!=t?t:null,js(i,a,r),e.current.lanes=r,wi(e,r,n),od(e,n),e}function Gd(e,t,i,n){var r=t.current,a=rd(),s=ad(r);return i=Hd(i),null===t.context?t.context=i:t.pendingContext=i,(t=Ds(a,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=js(r,t,s))&&(sd(e,r,s,a),$s(e,r,s)),s}function Kd(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Qd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var i=e.retryLane;e.retryLane=0!==i&&i<t?i:t}}function Yd(e,t){Qd(e,t),(e=e.alternate)&&Qd(e,t)}kc=function(e,t,i){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pa.current)El=!0;else{if(0==(e.lanes&i)&&0==(128&t.flags))return El=!1,function(e,t,i){switch(t.tag){case 3:Il(t),gs();break;case 5:lo(t);break;case 1:La(t.type)&&Ba(t);break;case 4:so(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,r=t.memoizedProps.value;Na(ws,n._currentValue),n._currentValue=r;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Na(uo,1&uo.current),t.flags|=128,null):0!=(i&t.child.childLanes)?Ul(e,t,i):(Na(uo,1&uo.current),null!==(e=Kl(e,t,i))?e.sibling:null);Na(uo,1&uo.current);break;case 19:if(n=0!=(i&t.childLanes),0!=(128&e.flags)){if(n)return Wl(e,t,i);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Na(uo,uo.current),n)break;return null;case 22:case 23:return t.lanes=0,Al(e,t,i)}return Kl(e,t,i)}(e,t,i);El=0!=(131072&e.flags)}else El=!1,os&&0!=(1048576&t.flags)&&is(t,Qa,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gl(e,t),e=t.pendingProps;var r=Ra(t,Ma.current);ks(t,i),r=ko(null,t,n,e,r,i);var a=Ao();return t.flags|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,La(n)?(a=!0,Ba(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Rs(t),r.updater=Vs,t.stateNode=r,r._reactInternals=t,Ks(t,n,e,i),t=Pl(null,t,n,!0,a,i)):(t.tag=0,os&&a&&ns(t),_l(null,t,r,i),t=t.child),t;case 16:n=t.elementType;e:{switch(Gl(e,t),e=t.pendingProps,n=(r=n._init)(n._payload),t.type=n,r=t.tag=function(e){if("function"==typeof e)return Dd(e)?1:0;if(null!=e){if((e=e.$$typeof)===Me)return 11;if(e===Re)return 14}return 2}(n),e=vs(n,e),r){case 0:t=Ol(null,t,n,e,i);break e;case 1:t=Ml(null,t,n,e,i);break e;case 11:t=Sl(null,t,n,e,i);break e;case 14:t=Cl(null,t,n,vs(n.type,e),i);break e}throw Error(le(306,n,""))}return t;case 0:return n=t.type,r=t.pendingProps,Ol(e,t,n,r=t.elementType===n?r:vs(n,r),i);case 1:return n=t.type,r=t.pendingProps,Ml(e,t,n,r=t.elementType===n?r:vs(n,r),i);case 3:e:{if(Il(t),null===e)throw Error(le(387));n=t.pendingProps,r=(a=t.memoizedState).element,Ls(e,t),qs(t,n,null,i);var s=t.memoizedState;if(n=s.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rl(e,t,n,i,r=pl(Error(le(423)),t));break e}if(n!==r){t=Rl(e,t,n,i,r=pl(Error(le(424)),t));break e}for(ss=ha(t.stateNode.containerInfo.firstChild),as=t,os=!0,ls=null,i=eo(t,null,n,i),t.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(gs(),n===r){t=Kl(e,t,i);break e}_l(e,t,n,i)}t=t.child}return t;case 5:return lo(t),null===e&&hs(t),n=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,aa(n,r)?s=null:null!==a&&aa(n,a)&&(t.flags|=32),Nl(e,t),_l(e,t,s,i),t.child;case 6:return null===e&&hs(t),null;case 13:return Ul(e,t,i);case 4:return so(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Zs(t,null,n,i):_l(e,t,n,i),t.child;case 11:return n=t.type,r=t.pendingProps,Sl(e,t,n,r=t.elementType===n?r:vs(n,r),i);case 7:return _l(e,t,t.pendingProps,i),t.child;case 8:case 12:return _l(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(n=t.type._context,r=t.pendingProps,a=t.memoizedProps,s=r.value,Na(ws,n._currentValue),n._currentValue=s,null!==a)if(dr(a.value,s)){if(a.children===r.children&&!Pa.current){t=Kl(e,t,i);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var o=a.dependencies;if(null!==o){s=a.child;for(var l=o.firstContext;null!==l;){if(l.context===n){if(1===a.tag){(l=Ds(-1,i&-i)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),Cs(a.return,i,t),o.lanes|=i;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(le(341));s.lanes|=i,null!==(o=s.alternate)&&(o.lanes|=i),Cs(s,i,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}_l(e,t,r.children,i),t=t.child}return t;case 9:return r=t.type,n=t.pendingProps.children,ks(t,i),n=n(r=As(r)),t.flags|=1,_l(e,t,n,i),t.child;case 14:return r=vs(n=t.type,t.pendingProps),Cl(e,t,n,r=vs(n.type,r),i);case 15:return kl(e,t,t.type,t.pendingProps,i);case 17:return n=t.type,r=t.pendingProps,r=t.elementType===n?r:vs(n,r),Gl(e,t),t.tag=1,La(n)?(e=!0,Ba(t)):e=!1,ks(t,i),Ws(t,n,r),Ks(t,n,r,i),Pl(null,t,n,!0,e,i);case 19:return Wl(e,t,i);case 22:return Al(e,t,i)}throw Error(le(156,t.tag))};var Xd="function"==typeof reportError?reportError:function(e){console.error(e)};function Jd(e){this._internalRoot=e}function Zd(e){this._internalRoot=e}function eu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function tu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function iu(){}function nu(e,t,i,n,r){var a=i._reactRootContainer;if(a){var s=a;if("function"==typeof r){var o=r;r=function(){var e=Kd(s);o.call(e)}}Gd(t,s,e,r)}else s=function(e,t,i,n,r){if(r){if("function"==typeof n){var a=n;n=function(){var e=Kd(s);a.call(e)}}var s=Wd(t,n,e,0,null,!1,0,"",iu);return e._reactRootContainer=s,e[ya]=s.current,Hr(8===e.nodeType?e.parentNode:e),md(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"==typeof n){var o=n;n=function(){var e=Kd(l);o.call(e)}}var l=Vd(e,0,!1,null,0,!1,0,"",iu);return e._reactRootContainer=l,e[ya]=l.current,Hr(8===e.nodeType?e.parentNode:e),md((function(){Gd(t,l,i,n)})),l}(i,t,e,r,n);return Kd(s)}Zd.prototype.render=Jd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(le(409));Gd(e,t,null,null)},Zd.prototype.unmount=Jd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;md((function(){Gd(null,e,null,null)})),t[ya]=null}},Zd.prototype.unstable_scheduleHydration=function(e){if(e){var t=ki();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Di.length&&0!==t&&t<Di[i].priority;i++);Di.splice(i,0,e),0===i&&qi(e)}},_i=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=mi(t.pendingLanes);0!==i&&(Ti(t,1|i),od(t,ei()),0==(6&Pc)&&(Wc=ei()+500,Ha()))}break;case 13:md((function(){var t=Ps(e,1);if(null!==t){var i=rd();sd(t,e,1,i)}})),Yd(e,1)}},Si=function(e){if(13===e.tag){var t=Ps(e,134217728);if(null!==t)sd(t,e,134217728,rd());Yd(e,134217728)}},Ci=function(e){if(13===e.tag){var t=ad(e),i=Ps(e,t);if(null!==i)sd(i,e,t,rd());Yd(e,t)}},ki=function(){return xi},Ai=function(e,t){var i=xi;try{return xi=e,t()}finally{xi=i}},St=function(e,t,i){switch(t){case"input":if(tt(e,i),t=i.name,"radio"===i.type&&null!=t){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var n=i[t];if(n!==e&&n.form===e.form){var r=_a(n);if(!r)throw Error(le(90));Ye(n),tt(n,r)}}}break;case"textarea":lt(e,i);break;case"select":null!=(t=i.value)&&at(e,!!i.multiple,t,!1)}},Mt=pd,Pt=md;var ru={usingClientEntryPoint:!1,Events:[xa,Ea,_a,Nt,Ot,pd]},au={findFiberByHostInstance:Ta,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Kt(e))?null:e.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ou.isDisabled&&ou.supportsFiber)try{oi=ou.inject(su),li=ou}catch(pt){}}ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ru,ie.createPortal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!eu(t))throw Error(le(200));return function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Se,key:null==n?null:""+n,children:e,containerInfo:t,implementation:i}}(e,t,null,i)},ie.createRoot=function(e,t){if(!eu(e))throw Error(le(299));var i=!1,n="",r=Xd;return null!=t&&(!0===t.unstable_strictMode&&(i=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Vd(e,1,!1,null,0,i,0,n,r),e[ya]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Jd(t)},ie.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(le(188));throw e=Object.keys(e).join(","),Error(le(268,e))}return e=null===(e=Kt(t))?null:e.stateNode},ie.flushSync=function(e){return md(e)},ie.hydrate=function(e,t,i){if(!tu(t))throw Error(le(200));return nu(null,e,t,!0,i)},ie.hydrateRoot=function(e,t,i){if(!eu(e))throw Error(le(405));var n=null!=i&&i.hydratedSources||null,r=!1,a="",s=Xd;if(null!=i&&(!0===i.unstable_strictMode&&(r=!0),void 0!==i.identifierPrefix&&(a=i.identifierPrefix),void 0!==i.onRecoverableError&&(s=i.onRecoverableError)),t=Wd(t,null,e,1,null!=i?i:null,r,0,a,s),e[ya]=t.current,Hr(e),n)for(e=0;e<n.length;e++)r=(r=(i=n[e])._getVersion)(i._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[i,r]:t.mutableSourceEagerHydrationData.push(i,r);return new Zd(t)},ie.render=function(e,t,i){if(!tu(t))throw Error(le(200));return nu(null,e,t,!1,i)},ie.unmountComponentAtNode=function(e){if(!tu(e))throw Error(le(40));return!!e._reactRootContainer&&(md((function(){nu(null,null,e,!1,(function(){e._reactRootContainer=null,e[ya]=null}))})),!0)},ie.unstable_batchedUpdates=pd,ie.unstable_renderSubtreeIntoContainer=function(e,t,i,n){if(!tu(i))throw Error(le(200));if(null==e||void 0===e._reactInternals)throw Error(le(38));return nu(e,t,i,!1,n)},ie.version="18.2.0-next-9e3b772b8-20220608",function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),te.exports=ie;var lu=te.exports;const cu=a(lu);var du,uu=lu;function hu(e,t){return hu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},hu(e,t)}function pu(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,hu(e,t)}du=uu.createRoot,uu.hydrateRoot;var mu={exports:{}};function fu(){}function gu(){}gu.resetWarningCache=fu;mu.exports=function(){function e(e,t,i,n,r,a){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:gu,resetWarningCache:fu};return i.PropTypes=i,i}();const yu=a(mu.exports);function bu(){return bu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},bu.apply(this,arguments)}const vu=Object.freeze(Object.defineProperty({__proto__:null,default:bu},Symbol.toStringTag,{value:"Module"}));function wu(e){return"/"===e.charAt(0)}function Tu(e,t){for(var i=t,n=i+1,r=e.length;n<r;i+=1,n+=1)e[i]=e[n];e.pop()}function xu(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}function Eu(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every((function(e,i){return Eu(e,t[i])}));if("object"==typeof e||"object"==typeof t){var i=xu(e),n=xu(t);return i!==e||n!==t?Eu(i,n):Object.keys(Object.assign({},e,t)).every((function(i){return Eu(e[i],t[i])}))}return!1}var _u=!0,Su="Invariant failed";function Cu(e,t){if(!e){if(_u)throw new Error(Su);var i="function"==typeof t?t():t,n=i?"".concat(Su,": ").concat(i):Su;throw new Error(n)}}function ku(e){return"/"===e.charAt(0)?e:"/"+e}function Au(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Nu(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Ou(e){var t=e.pathname,i=e.search,n=e.hash,r=t||"/";return i&&"?"!==i&&(r+="?"===i.charAt(0)?i:"?"+i),n&&"#"!==n&&(r+="#"===n.charAt(0)?n:"#"+n),r}function Mu(e,t,i,n){var r;"string"==typeof e?(r=function(e){var t=e||"/",i="",n="",r=t.indexOf("#");-1!==r&&(n=t.substr(r),t=t.substr(0,r));var a=t.indexOf("?");return-1!==a&&(i=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===i?"":i,hash:"#"===n?"":n}}(e),r.state=t):(void 0===(r=bu({},e)).pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==t&&void 0===r.state&&(r.state=t));try{r.pathname=decodeURI(r.pathname)}catch(E_){throw E_ instanceof URIError?new URIError('Pathname "'+r.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):E_}return i&&(r.key=i),n?r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=function(e,t){void 0===t&&(t="");var i,n=e&&e.split("/")||[],r=t&&t.split("/")||[],a=e&&wu(e),s=t&&wu(t),o=a||s;if(e&&wu(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";if(r.length){var l=r[r.length-1];i="."===l||".."===l||""===l}else i=!1;for(var c=0,d=r.length;d>=0;d--){var u=r[d];"."===u?Tu(r,d):".."===u?(Tu(r,d),c++):c&&(Tu(r,d),c--)}if(!o)for(;c--;c)r.unshift("..");!o||""===r[0]||r[0]&&wu(r[0])||r.unshift("");var h=r.join("/");return i&&"/"!==h.substr(-1)&&(h+="/"),h}(r.pathname,n.pathname)):r.pathname=n.pathname:r.pathname||(r.pathname="/"),r}function Pu(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Eu(e.state,t.state)}function Iu(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,i,n,r){if(null!=e){var a="function"==typeof e?e(t,i):e;"string"==typeof a?"function"==typeof n?n(a,r):r(!0):r(!1!==a)}else r(!0)},appendListener:function(e){var i=!0;function n(){i&&e.apply(void 0,arguments)}return t.push(n),function(){i=!1,t=t.filter((function(e){return e!==n}))}},notifyListeners:function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];t.forEach((function(e){return e.apply(void 0,i)}))}}}var Ru=!("undefined"==typeof window||!window.document||!window.document.createElement);function Lu(e,t){t(window.confirm(e))}var Du="popstate",ju="hashchange";function $u(){try{return window.history.state||{}}catch(E_){return{}}}function Bu(e){void 0===e&&(e={}),Ru||Cu(!1);var t=window.history,i=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),n=!(-1===window.navigator.userAgent.indexOf("Trident")),r=e,a=r.forceRefresh,s=void 0!==a&&a,o=r.getUserConfirmation,l=void 0===o?Lu:o,c=r.keyLength,d=void 0===c?6:c,u=e.basename?Nu(ku(e.basename)):"";function h(e){var t=e||{},i=t.key,n=t.state,r=window.location,a=r.pathname+r.search+r.hash;return u&&(a=Au(a,u)),Mu(a,n,i)}function p(){return Math.random().toString(36).substr(2,d)}var m=Iu();function f(e){bu(k,e),k.length=t.length,m.notifyListeners(k.location,k.action)}function g(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||v(h(e.state))}function y(){v(h($u()))}var b=!1;function v(e){if(b)b=!1,f();else{m.confirmTransitionTo(e,"POP",l,(function(t){t?f({action:"POP",location:e}):function(e){var t=k.location,i=T.indexOf(t.key);-1===i&&(i=0);var n=T.indexOf(e.key);-1===n&&(n=0);var r=i-n;r&&(b=!0,E(r))}(e)}))}}var w=h($u()),T=[w.key];function x(e){return u+Ou(e)}function E(e){t.go(e)}var _=0;function S(e){1===(_+=e)&&1===e?(window.addEventListener(Du,g),n&&window.addEventListener(ju,y)):0===_&&(window.removeEventListener(Du,g),n&&window.removeEventListener(ju,y))}var C=!1;var k={length:t.length,action:"POP",location:w,createHref:x,push:function(e,n){var r="PUSH",a=Mu(e,n,p(),k.location);m.confirmTransitionTo(a,r,l,(function(e){if(e){var n=x(a),o=a.key,l=a.state;if(i)if(t.pushState({key:o,state:l},null,n),s)window.location.href=n;else{var c=T.indexOf(k.location.key),d=T.slice(0,c+1);d.push(a.key),T=d,f({action:r,location:a})}else window.location.href=n}}))},replace:function(e,n){var r="REPLACE",a=Mu(e,n,p(),k.location);m.confirmTransitionTo(a,r,l,(function(e){if(e){var n=x(a),o=a.key,l=a.state;if(i)if(t.replaceState({key:o,state:l},null,n),s)window.location.replace(n);else{var c=T.indexOf(k.location.key);-1!==c&&(T[c]=a.key),f({action:r,location:a})}else window.location.replace(n)}}))},go:E,goBack:function(){E(-1)},goForward:function(){E(1)},block:function(e){void 0===e&&(e=!1);var t=m.setPrompt(e);return C||(S(1),C=!0),function(){return C&&(C=!1,S(-1)),t()}},listen:function(e){var t=m.appendListener(e);return S(1),function(){S(-1),t()}}};return k}var qu={exports:{}},Uu=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)};qu.exports=Xu,qu.exports.parse=zu,qu.exports.compile=function(e,t){return Hu(zu(e,t),t)},qu.exports.tokensToFunction=Hu,qu.exports.tokensToRegExp=Yu;var Fu=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function zu(e,t){for(var i,n=[],r=0,a=0,s="",o=t&&t.delimiter||"/";null!=(i=Fu.exec(e));){var l=i[0],c=i[1],d=i.index;if(s+=e.slice(a,d),a=d+l.length,c)s+=c[1];else{var u=e[a],h=i[2],p=i[3],m=i[4],f=i[5],g=i[6],y=i[7];s&&(n.push(s),s="");var b=null!=h&&null!=u&&u!==h,v="+"===g||"*"===g,w="?"===g||"*"===g,T=i[2]||o,x=m||f;n.push({name:p||r++,prefix:h||"",delimiter:T,optional:w,repeat:v,partial:b,asterisk:!!y,pattern:x?Gu(x):y?".*":"[^"+Wu(T)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&n.push(s),n}function Vu(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function Hu(e,t){for(var i=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(i[n]=new RegExp("^(?:"+e[n].pattern+")$",Qu(t)));return function(t,n){for(var r="",a=t||{},s=(n||{}).pretty?Vu:encodeURIComponent,o=0;o<e.length;o++){var l=e[o];if("string"!=typeof l){var c,d=a[l.name];if(null==d){if(l.optional){l.partial&&(r+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(Uu(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var u=0;u<d.length;u++){if(c=s(d[u]),!i[o].test(c))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(c)+"`");r+=(0===u?l.prefix:l.delimiter)+c}}else{if(c=l.asterisk?encodeURI(d).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(d),!i[o].test(c))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+c+'"');r+=l.prefix+c}}else r+=l}return r}}function Wu(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function Gu(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function Ku(e,t){return e.keys=t,e}function Qu(e){return e&&e.sensitive?"":"i"}function Yu(e,t,i){Uu(t)||(i=t||i,t=[]);for(var n=(i=i||{}).strict,r=!1!==i.end,a="",s=0;s<e.length;s++){var o=e[s];if("string"==typeof o)a+=Wu(o);else{var l=Wu(o.prefix),c="(?:"+o.pattern+")";t.push(o),o.repeat&&(c+="(?:"+l+c+")*"),a+=c=o.optional?o.partial?l+"("+c+")?":"(?:"+l+"("+c+"))?":l+"("+c+")"}}var d=Wu(i.delimiter||"/"),u=a.slice(-d.length)===d;return n||(a=(u?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=r?"$":n&&u?"":"(?="+d+"|$)",Ku(new RegExp("^"+a,Qu(i)),t)}function Xu(e,t,i){return Uu(t)||(i=t||i,t=[]),i=i||{},e instanceof RegExp?function(e,t){var i=e.source.match(/\((?!\?)/g);if(i)for(var n=0;n<i.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Ku(e,t)}(e,t):Uu(e)?function(e,t,i){for(var n=[],r=0;r<e.length;r++)n.push(Xu(e[r],t,i).source);return Ku(new RegExp("(?:"+n.join("|")+")",Qu(i)),t)}(e,t,i):function(e,t,i){return Yu(zu(e,i),t,i)}(e,t,i)}const Ju=a(qu.exports);var Zu={},eh="function"==typeof Symbol&&Symbol.for,th=eh?Symbol.for("react.element"):60103,ih=eh?Symbol.for("react.portal"):60106,nh=eh?Symbol.for("react.fragment"):60107,rh=eh?Symbol.for("react.strict_mode"):60108,ah=eh?Symbol.for("react.profiler"):60114,sh=eh?Symbol.for("react.provider"):60109,oh=eh?Symbol.for("react.context"):60110,lh=eh?Symbol.for("react.async_mode"):60111,ch=eh?Symbol.for("react.concurrent_mode"):60111,dh=eh?Symbol.for("react.forward_ref"):60112,uh=eh?Symbol.for("react.suspense"):60113,hh=eh?Symbol.for("react.suspense_list"):60120,ph=eh?Symbol.for("react.memo"):60115,mh=eh?Symbol.for("react.lazy"):60116,fh=eh?Symbol.for("react.block"):60121,gh=eh?Symbol.for("react.fundamental"):60117,yh=eh?Symbol.for("react.responder"):60118,bh=eh?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
             * react-is.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */function vh(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case th:switch(e=e.type){case lh:case ch:case nh:case ah:case rh:case uh:return e;default:switch(e=e&&e.$$typeof){case oh:case dh:case mh:case ph:case sh:return e;default:return t}}case ih:return t}}}function wh(e){return vh(e)===ch}function Th(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}Zu.AsyncMode=lh,Zu.ConcurrentMode=ch,Zu.ContextConsumer=oh,Zu.ContextProvider=sh,Zu.Element=th,Zu.ForwardRef=dh,Zu.Fragment=nh,Zu.Lazy=mh,Zu.Memo=ph,Zu.Portal=ih,Zu.Profiler=ah,Zu.StrictMode=rh,Zu.Suspense=uh,Zu.isAsyncMode=function(e){return wh(e)||vh(e)===lh},Zu.isConcurrentMode=wh,Zu.isContextConsumer=function(e){return vh(e)===oh},Zu.isContextProvider=function(e){return vh(e)===sh},Zu.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===th},Zu.isForwardRef=function(e){return vh(e)===dh},Zu.isFragment=function(e){return vh(e)===nh},Zu.isLazy=function(e){return vh(e)===mh},Zu.isMemo=function(e){return vh(e)===ph},Zu.isPortal=function(e){return vh(e)===ih},Zu.isProfiler=function(e){return vh(e)===ah},Zu.isStrictMode=function(e){return vh(e)===rh},Zu.isSuspense=function(e){return vh(e)===uh},Zu.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===nh||e===ch||e===ah||e===rh||e===uh||e===hh||"object"==typeof e&&null!==e&&(e.$$typeof===mh||e.$$typeof===ph||e.$$typeof===sh||e.$$typeof===oh||e.$$typeof===dh||e.$$typeof===gh||e.$$typeof===yh||e.$$typeof===bh||e.$$typeof===fh)},Zu.typeOf=vh;var xh={exports:{}},Eh={},_h="function"==typeof Symbol&&Symbol.for,Sh=_h?Symbol.for("react.element"):60103,Ch=_h?Symbol.for("react.portal"):60106,kh=_h?Symbol.for("react.fragment"):60107,Ah=_h?Symbol.for("react.strict_mode"):60108,Nh=_h?Symbol.for("react.profiler"):60114,Oh=_h?Symbol.for("react.provider"):60109,Mh=_h?Symbol.for("react.context"):60110,Ph=_h?Symbol.for("react.async_mode"):60111,Ih=_h?Symbol.for("react.concurrent_mode"):60111,Rh=_h?Symbol.for("react.forward_ref"):60112,Lh=_h?Symbol.for("react.suspense"):60113,Dh=_h?Symbol.for("react.suspense_list"):60120,jh=_h?Symbol.for("react.memo"):60115,$h=_h?Symbol.for("react.lazy"):60116,Bh=_h?Symbol.for("react.block"):60121,qh=_h?Symbol.for("react.fundamental"):60117,Uh=_h?Symbol.for("react.responder"):60118,Fh=_h?Symbol.for("react.scope"):60119;function zh(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Sh:switch(e=e.type){case Ph:case Ih:case kh:case Nh:case Ah:case Lh:return e;default:switch(e=e&&e.$$typeof){case Mh:case Rh:case $h:case jh:case Oh:return e;default:return t}}case Ch:return t}}}function Vh(e){return zh(e)===Ih}Eh.AsyncMode=Ph,Eh.ConcurrentMode=Ih,Eh.ContextConsumer=Mh,Eh.ContextProvider=Oh,Eh.Element=Sh,Eh.ForwardRef=Rh,Eh.Fragment=kh,Eh.Lazy=$h,Eh.Memo=jh,Eh.Portal=Ch,Eh.Profiler=Nh,Eh.StrictMode=Ah,Eh.Suspense=Lh,Eh.isAsyncMode=function(e){return Vh(e)||zh(e)===Ph},Eh.isConcurrentMode=Vh,Eh.isContextConsumer=function(e){return zh(e)===Mh},Eh.isContextProvider=function(e){return zh(e)===Oh},Eh.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Sh},Eh.isForwardRef=function(e){return zh(e)===Rh},Eh.isFragment=function(e){return zh(e)===kh},Eh.isLazy=function(e){return zh(e)===$h},Eh.isMemo=function(e){return zh(e)===jh},Eh.isPortal=function(e){return zh(e)===Ch},Eh.isProfiler=function(e){return zh(e)===Nh},Eh.isStrictMode=function(e){return zh(e)===Ah},Eh.isSuspense=function(e){return zh(e)===Lh},Eh.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===kh||e===Ih||e===Nh||e===Ah||e===Lh||e===Dh||"object"==typeof e&&null!==e&&(e.$$typeof===$h||e.$$typeof===jh||e.$$typeof===Oh||e.$$typeof===Mh||e.$$typeof===Rh||e.$$typeof===qh||e.$$typeof===Uh||e.$$typeof===Fh||e.$$typeof===Bh)},Eh.typeOf=zh,xh.exports=Eh;var Hh=xh.exports,Wh={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Gh={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Kh={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Qh={};function Yh(e){return Hh.isMemo(e)?Kh:Qh[e.$$typeof]||Wh}Qh[Hh.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qh[Hh.Memo]=Kh;var Xh=Object.defineProperty,Jh=Object.getOwnPropertyNames,Zh=Object.getOwnPropertySymbols,ep=Object.getOwnPropertyDescriptor,tp=Object.getPrototypeOf,ip=Object.prototype;var np=function e(t,i,n){if("string"!=typeof i){if(ip){var r=tp(i);r&&r!==ip&&e(t,r,n)}var a=Jh(i);Zh&&(a=a.concat(Zh(i)));for(var s=Yh(t),o=Yh(i),l=0;l<a.length;++l){var c=a[l];if(!(Gh[c]||n&&n[c]||o&&o[c]||s&&s[c])){var d=ep(i,c);try{Xh(t,c,d)}catch(E_){}}}}return t};const rp=a(np);var ap=1073741823,sp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};var op=H.createContext||function(e,t){var i,n,r,a="__create-react-context-"+((sp[r="__global_unique_id__"]=(sp[r]||0)+1)+"__"),s=function(e){function i(){for(var t,i,n,r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))||this).emitter=(i=t.props.value,n=[],{on:function(e){n.push(e)},off:function(e){n=n.filter((function(t){return t!==e}))},get:function(){return i},set:function(e,t){i=e,n.forEach((function(e){return e(i,t)}))}}),t}pu(i,e);var n=i.prototype;return n.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},n.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var i,n=this.props.value,r=e.value;!function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}(n,r)?(i="function"==typeof t?t(n,r):ap,0!==(i|=0)&&this.emitter.set(e.value,i)):i=0}},n.render=function(){return this.props.children},i}(H.Component);s.childContextTypes=((i={})[a]=yu.object.isRequired,i);var o=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,i){0!=((0|e.observedBits)&i)&&e.setState({value:e.getValue()})},e}pu(i,t);var n=i.prototype;return n.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?ap:t},n.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?ap:e},n.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},n.getValue=function(){return this.context[a]?this.context[a].get():e},n.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},i}(H.Component);return o.contextTypes=((n={})[a]=yu.object,n),{Provider:s,Consumer:o}},lp=function(e){var t=op();return t.displayName=e,t},cp=lp("Router-History"),dp=lp("Router"),up=function(e){function t(t){var i;return(i=e.call(this,t)||this).state={location:t.history.location},i._isMounted=!1,i._pendingLocation=null,t.staticContext||(i.unlisten=t.history.listen((function(e){i._pendingLocation=e}))),i}pu(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var i=t.prototype;return i.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},i.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},i.render=function(){return H.createElement(dp.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},H.createElement(cp.Provider,{children:this.props.children||null,value:this.props.history}))},t}(H.Component);H.Component;var hp=function(e){function t(){return e.apply(this,arguments)||this}pu(t,e);var i=t.prototype;return i.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},i.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},i.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},i.render=function(){return null},t}(H.Component),pp={},mp=1e4,fp=0;function gp(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(pp[e])return pp[e];var t=Ju.compile(e);return fp<mp&&(pp[e]=t,fp++),t}(e)(t,{pretty:!0})}function yp(e){var t=e.computedMatch,i=e.to,n=e.push,r=void 0!==n&&n;return H.createElement(dp.Consumer,null,(function(e){e||Cu(!1);var n=e.history,a=e.staticContext,s=r?n.push:n.replace,o=Mu(t?"string"==typeof i?gp(i,t.params):bu({},i,{pathname:gp(i.pathname,t.params)}):i);return a?(s(o),null):H.createElement(hp,{onMount:function(){s(o)},onUpdate:function(e,t){var i=Mu(t.to);Pu(i,bu({},o,{key:i.key}))||s(o)},to:i})}))}var bp={},vp=1e4,wp=0;function Tp(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var i=t,n=i.path,r=i.exact,a=void 0!==r&&r,s=i.strict,o=void 0!==s&&s,l=i.sensitive,c=void 0!==l&&l;return[].concat(n).reduce((function(t,i){if(!i&&""!==i)return null;if(t)return t;var n=function(e,t){var i=""+t.end+t.strict+t.sensitive,n=bp[i]||(bp[i]={});if(n[e])return n[e];var r=[],a={regexp:Ju(e,r,t),keys:r};return wp<vp&&(n[e]=a,wp++),a}(i,{end:a,strict:o,sensitive:c}),r=n.regexp,s=n.keys,l=r.exec(e);if(!l)return null;var d=l[0],u=l.slice(1),h=e===d;return a&&!h?null:{path:i,url:"/"===i&&""===d?"/":d,isExact:h,params:s.reduce((function(e,t,i){return e[t.name]=u[i],e}),{})}}),null)}var xp=function(e){function t(){return e.apply(this,arguments)||this}return pu(t,e),t.prototype.render=function(){var e=this;return H.createElement(dp.Consumer,null,(function(t){t||Cu(!1);var i=e.props.location||t.location,n=bu({},t,{location:i,match:e.props.computedMatch?e.props.computedMatch:e.props.path?Tp(i.pathname,e.props):t.match}),r=e.props,a=r.children,s=r.component,o=r.render;return Array.isArray(a)&&function(e){return 0===H.Children.count(e)}(a)&&(a=null),H.createElement(dp.Provider,{value:n},n.match?a?"function"==typeof a?a(n):a:s?H.createElement(s,n):o?o(n):null:"function"==typeof a?a(n):null)}))},t}(H.Component);H.Component,H.Component,H.useContext;const Ep=function(e,t,i){return e()},_p=!0,Sp=!0,Cp=!0,kp=!1,Ap=!1;let Np,Op,Mp,Pp=!1,Ip=!1,Rp=!1,Lp=!1,Dp=null,jp=!1;const $p=!0,Bp="http://www.w3.org/1999/xlink",qp={},Up=e=>"object"===(e=typeof e)||"function"===e;const Fp=(e,t,...i)=>{let n=null,r=null,a=null,s=!1,o=!1;const l=[],c=t=>{for(let i=0;i<t.length;i++)n=t[i],Array.isArray(n)?c(n):null!=n&&"boolean"!=typeof n&&((s="function"!=typeof e&&!Up(n))&&(n=String(n)),s&&o?l[l.length-1].$text$+=n:l.push(s?zp(null,n):n),o=s)};if(c(i),t){t.key&&(r=t.key),t.name&&(a=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,l,Hp);const d=zp(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),d.$key$=r,d.$name$=a,d},zp=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return i},Vp={},Hp={forEach:(e,t)=>e.map(Wp).forEach(t),map:(e,t)=>e.map(Wp).map(t).map(Gp)},Wp=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),Gp=e=>{if("function"==typeof e.vtag){const t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),Fp(e.vtag,t,...e.vchildren||[])}const t=zp(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},Kp=(e,t,i)=>{const n=e;return{emit:e=>Qp(n,t,{bubbles:!!(4&i),composed:!!(2&i),cancelable:!!(1&i),detail:e})}},Qp=(e,t,i)=>{const n=Hm.ce(t,i);return e.dispatchEvent(n),n},Yp=new WeakMap,Xp=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,n=t.$flags$,r=(t.$tagName$,()=>{}),a=((e,t,i)=>{var n;const r=Jp(t,i),a=qm.get(r);if(e=11===e.nodeType?e:zm,a)if("string"==typeof a){e=e.head||e;let t,i=Yp.get(e);if(i||Yp.set(e,i=new Set),!i.has(r)){{t=zm.createElement("style"),t.innerHTML=a;const i=null!==(n=Hm.$nonce$)&&void 0!==n?n:function(e){var t,i,n;return null!==(n=null===(i=null===(t=e.head)||void 0===t?void 0:t.querySelector('meta[name="csp-nonce"]'))||void 0===i?void 0:i.getAttribute("content"))&&void 0!==n?n:void 0}(zm);null!=i&&t.setAttribute("nonce",i),e.insertBefore(t,e.querySelector("link"))}i&&i.add(r)}}else e.adoptedStyleSheets.includes(a)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,a]);return r})(i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);10&n&&(i["s-sc"]=a,i.classList.add(a+"-h"),2&n&&i.classList.add(a+"-s")),r()},Jp=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),Zp=(e,t,i,n,r,a)=>{if(i!==n){let s=$m(e,t),o=t.toLowerCase();if("class"===t){const t=e.classList,r=tm(i),a=tm(n);t.remove(...r.filter((e=>e&&!a.includes(e)))),t.add(...a.filter((e=>e&&!r.includes(e))))}else if("style"===t){for(const t in i)n&&null!=n[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in n)i&&n[t]===i[t]||(t.includes("-")?e.style.setProperty(t,n[t]):e.style[t]=n[t])}else if("key"===t);else if("ref"===t)n&&n(e);else if(e.__lookupSetter__(t)||"o"!==t[0]||"n"!==t[1]){const l=Up(n);if((s||l&&null!==n)&&!r)try{if(e.tagName.includes("-"))e[t]=n;else{const r=null==n?"":n;"list"===t?s=!1:null!=i&&e[t]==r||(e[t]=r)}}catch(E_){}let c=!1;o!==(o=o.replace(/^xlink\:?/,""))&&(t=o,c=!0),null==n||!1===n?!1===n&&""!==e.getAttribute(t)||(c?e.removeAttributeNS(Bp,t):e.removeAttribute(t)):(!s||4&a||r)&&!l&&(n=!0===n?"":n,c?e.setAttributeNS(Bp,t,n):e.setAttribute(t,n))}else t="-"===t[2]?t.slice(3):$m(Fm,o)?o.slice(2):o[2]+t.slice(3),i&&Hm.rel(e,t,i,!1),n&&Hm.ael(e,t,n,!1)}},em=/\s/,tm=e=>e?e.split(em):[],im=(e,t,i,n)=>{const r=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||qp,s=t.$attrs$||qp;for(n in a)n in s||Zp(r,n,a[n],void 0,i,t.$flags$);for(n in s)Zp(r,n,a[n],s[n],i,t.$flags$)},nm=(e,t,i,n)=>{const r=t.$children$[i];let a,s,o,l=0;if(Pp||(Rp=!0,"slot"===r.$tag$&&(Np&&n.classList.add(Np+"-s"),r.$flags$|=r.$children$?2:1)),null!==r.$text$)a=r.$elm$=zm.createTextNode(r.$text$);else if(1&r.$flags$)a=r.$elm$=zm.createTextNode("");else{if(Lp||(Lp="svg"===r.$tag$),a=r.$elm$=zm.createElementNS(Lp?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&r.$flags$?"slot-fb":r.$tag$),Lp&&"foreignObject"===r.$tag$&&(Lp=!1),im(null,r,Lp),(e=>null!=e)(Np)&&a["s-si"]!==Np&&a.classList.add(a["s-si"]=Np),r.$children$)for(l=0;l<r.$children$.length;++l)s=nm(e,r,l,a),s&&a.appendChild(s);"svg"===r.$tag$?Lp=!1:"foreignObject"===a.tagName&&(Lp=!0)}return a["s-hn"]=Mp,3&r.$flags$&&(a["s-sr"]=!0,a["s-cr"]=Op,a["s-sn"]=r.$name$||"",o=e&&e.$children$&&e.$children$[i],o&&o.$tag$===r.$tag$&&e.$elm$&&rm(e.$elm$,!1)),a},rm=(e,t)=>{Hm.$flags$|=1;const i=e.childNodes;for(let n=i.length-1;n>=0;n--){const e=i[n];e["s-hn"]!==Mp&&e["s-ol"]&&(cm(e).insertBefore(e,lm(e)),e["s-ol"].remove(),e["s-ol"]=void 0,Rp=!0),t&&rm(e,t)}Hm.$flags$&=-2},am=(e,t,i,n,r,a)=>{let s,o=e["s-cr"]&&e["s-cr"].parentNode||e;for(o.shadowRoot&&o.tagName===Mp&&(o=o.shadowRoot);r<=a;++r)n[r]&&(s=nm(null,i,r,e),s&&(n[r].$elm$=s,o.insertBefore(s,lm(t))))},sm=(e,t,i)=>{for(let n=t;n<=i;++n){const t=e[n];if(t){const e=t.$elm$;fm(t),e&&(Ip=!0,e["s-ol"]?e["s-ol"].remove():rm(e,!0),e.remove())}}},om=(e,t)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$),lm=e=>e&&e["s-ol"]||e,cm=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,dm=(e,t)=>{const i=t.$elm$=e.$elm$,n=e.$children$,r=t.$children$,a=t.$tag$,s=t.$text$;let o;null===s?(Lp="svg"===a||"foreignObject"!==a&&Lp,"slot"===a||im(e,t,Lp),null!==n&&null!==r?((e,t,i,n)=>{let r,a,s=0,o=0,l=0,c=0,d=t.length-1,u=t[0],h=t[d],p=n.length-1,m=n[0],f=n[p];for(;s<=d&&o<=p;)if(null==u)u=t[++s];else if(null==h)h=t[--d];else if(null==m)m=n[++o];else if(null==f)f=n[--p];else if(om(u,m))dm(u,m),u=t[++s],m=n[++o];else if(om(h,f))dm(h,f),h=t[--d],f=n[--p];else if(om(u,f))"slot"!==u.$tag$&&"slot"!==f.$tag$||rm(u.$elm$.parentNode,!1),dm(u,f),e.insertBefore(u.$elm$,h.$elm$.nextSibling),u=t[++s],f=n[--p];else if(om(h,m))"slot"!==u.$tag$&&"slot"!==f.$tag$||rm(h.$elm$.parentNode,!1),dm(h,m),e.insertBefore(h.$elm$,u.$elm$),h=t[--d],m=n[++o];else{for(l=-1,c=s;c<=d;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===m.$key$){l=c;break}l>=0?(a=t[l],a.$tag$!==m.$tag$?r=nm(t&&t[o],i,l,e):(dm(a,m),t[l]=void 0,r=a.$elm$),m=n[++o]):(r=nm(t&&t[o],i,o,e),m=n[++o]),r&&cm(u.$elm$).insertBefore(r,lm(u.$elm$))}s>d?am(e,null==n[p+1]?null:n[p+1].$elm$,i,n,o,p):o>p&&sm(t,s,d)})(i,n,t,r):null!==r?(null!==e.$text$&&(i.textContent=""),am(i,null,t,r,0,r.length-1)):null!==n&&sm(n,0,n.length-1),Lp&&"svg"===a&&(Lp=!1)):(o=i["s-cr"])?o.parentNode.textContent=s:e.$text$!==s&&(i.data=s)},um=e=>{const t=e.childNodes;let i,n,r,a,s,o;for(n=0,r=t.length;n<r;n++)if(i=t[n],1===i.nodeType){if(i["s-sr"])for(s=i["s-sn"],i.hidden=!1,a=0;a<r;a++)if(o=t[a].nodeType,t[a]["s-hn"]!==i["s-hn"]||""!==s){if(1===o&&s===t[a].getAttribute("slot")){i.hidden=!0;break}}else if(1===o||3===o&&""!==t[a].textContent.trim()){i.hidden=!0;break}um(i)}},hm=[],pm=e=>{let t,i,n,r,a,s,o=0;const l=e.childNodes,c=l.length;for(;o<c;o++){if(t=l[o],t["s-sr"]&&(i=t["s-cr"])&&i.parentNode)for(n=i.parentNode.childNodes,r=t["s-sn"],s=n.length-1;s>=0;s--)i=n[s],i["s-cn"]||i["s-nr"]||i["s-hn"]===t["s-hn"]||(mm(i,r)?(a=hm.find((e=>e.$nodeToRelocate$===i)),Ip=!0,i["s-sn"]=i["s-sn"]||r,a?a.$slotRefNode$=t:hm.push({$slotRefNode$:t,$nodeToRelocate$:i}),i["s-sr"]&&hm.map((e=>{mm(e.$nodeToRelocate$,i["s-sn"])&&(a=hm.find((e=>e.$nodeToRelocate$===i)),a&&!e.$slotRefNode$&&(e.$slotRefNode$=a.$slotRefNode$))}))):hm.some((e=>e.$nodeToRelocate$===i))||hm.push({$nodeToRelocate$:i}));1===t.nodeType&&pm(t)}},mm=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,fm=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(fm)},gm=(e,t,i=!1)=>{const n=e.$hostElement$,r=e.$cmpMeta$,a=e.$vnode$||zp(null,null),s=(o=t)&&o.$tag$===Vp?t:Fp(null,null,t);var o;if(Mp=n.tagName,r.$attrsToReflect$&&(s.$attrs$=s.$attrs$||{},r.$attrsToReflect$.map((([e,t])=>s.$attrs$[t]=n[e]))),i&&s.$attrs$)for(const l of Object.keys(s.$attrs$))n.hasAttribute(l)&&!["key","ref","style","class"].includes(l)&&(s.$attrs$[l]=n[l]);if(s.$tag$=null,s.$flags$|=4,e.$vnode$=s,s.$elm$=a.$elm$=n.shadowRoot||n,Np=n["s-sc"],Op=n["s-cr"],Pp=0!=(1&r.$flags$),Ip=!1,dm(a,s),Hm.$flags$|=1,Rp){let e,t,i,n,r,a;pm(s.$elm$);let o=0;for(;o<hm.length;o++)e=hm[o],t=e.$nodeToRelocate$,t["s-ol"]||(i=zm.createTextNode(""),i["s-nr"]=t,t.parentNode.insertBefore(t["s-ol"]=i,t));for(o=0;o<hm.length;o++)if(e=hm[o],t=e.$nodeToRelocate$,e.$slotRefNode$){for(n=e.$slotRefNode$.parentNode,r=e.$slotRefNode$.nextSibling,i=t["s-ol"];i=i.previousSibling;)if(a=i["s-nr"],a&&a["s-sn"]===t["s-sn"]&&n===a.parentNode&&(a=a.nextSibling,!a||!a["s-nr"])){r=a;break}(!r&&n!==t.parentNode||t.nextSibling!==r)&&t!==r&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),n.insertBefore(t,r))}else 1===t.nodeType&&(t.hidden=!0)}Ip&&um(s.$elm$),Hm.$flags$&=-2,hm.length=0},ym=(e,t)=>{e.$flags$|=16,e.$ancestorComponent$;return tf((()=>bm(e,t)))},bm=(e,t)=>{const i=e.$hostElement$,n=(e.$cmpMeta$.$tagName$,()=>{}),r=i;let a;return a=Sm(r,t?"componentWillLoad":"componentWillUpdate"),a=vm(a,(()=>Sm(r,"componentWillRender"))),n(),vm(a,(()=>Tm(e,r,t)))},vm=(e,t)=>wm(e)?e.then(t):t(),wm=e=>e instanceof Promise||e&&e.then&&"function"==typeof e.then,Tm=async(e,t,i)=>{const n=e.$hostElement$,r=(e.$cmpMeta$.$tagName$,()=>{});n["s-rc"],i&&Xp(e);const a=(e.$cmpMeta$.$tagName$,()=>{});xm(e,t,n,i),a(),r(),Em(e)},xm=(e,t,i,n)=>{try{Dp=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(_p||Sp)&&(Cp||Sp)&&(kp||gm(e,t,n))}catch(E_){Bm(E_,e.$hostElement$)}return Dp=null,null},Em=e=>{e.$cmpMeta$.$tagName$;const t=()=>{},i=e.$hostElement$;e.$ancestorComponent$,Sm(i,"componentDidRender"),64&e.$flags$?(Sm(i,"componentDidUpdate"),t()):(e.$flags$|=64,Sm(i,"componentDidLoad"),t())},_m=e=>{{const t=Dm(e),i=t.$hostElement$.isConnected;return i&&2==(18&t.$flags$)&&ym(t,!1),i}},Sm=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(E_){Bm(E_)}},Cm=(e,t,i,n)=>{const r=Dm(e),a=e,s=r.$instanceValues$.get(t),o=r.$flags$,l=a;var c,d;c=i,d=n.$members$[t][0],i=null==c||Up(c)?c:4&d?"false"!==c&&(""===c||!!c):2&d?parseFloat(c):1&d?String(c):c;const u=Number.isNaN(s)&&Number.isNaN(i);if(i!==s&&!u){if(r.$instanceValues$.set(t,i),n.$watchers$&&128&o){const e=n.$watchers$[t];e&&e.map((e=>{try{l[e](i,s,t)}catch(E_){Bm(E_,a)}}))}if(2==(18&o)){if(l.componentShouldUpdate&&!1===l.componentShouldUpdate(i,s,t))return;ym(r,!1)}}},km=(e,t,i)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const i=Object.entries(t.$members$),n=e.prototype;i.map((([e,[i]])=>{(31&i||32&i)&&Object.defineProperty(n,e,{get(){return t=e,Dm(this).$instanceValues$.get(t);var t},set(i){Cm(this,e,i,t)},configurable:!0,enumerable:!0})}));{const r=new Map;n.attributeChangedCallback=function(e,t,i){Hm.jmp((()=>{const t=r.get(e);if(this.hasOwnProperty(t))i=this[t],delete this[t];else if(n.hasOwnProperty(t)&&"number"==typeof this[t]&&this[t]==i)return;this[t]=(null!==i||"boolean"!=typeof this[t])&&i}))},e.observedAttributes=i.filter((([e,t])=>15&t[0])).map((([e,i])=>{const n=i[1]||e;return r.set(n,e),512&i[0]&&t.$attrsToReflect$.push([e,n]),n}))}}return e},Am=async(e,t,i,n,r)=>{if(0==(32&t.$flags$)&&(t.$flags$|=32,r=e.constructor,customElements.whenDefined(i.$tagName$).then((()=>t.$flags$|=128)),r.style)){let n=r.style;"string"!=typeof n&&(n=n[t.$modeName$=(e=>Um.map((t=>t(e))).find((e=>!!e)))(e)]);const a=Jp(i,t.$modeName$);if(!qm.has(a)){const e=(i.$tagName$,()=>{});((e,t,i)=>{let n=qm.get(e);Gm&&i?(n=n||new CSSStyleSheet,"string"==typeof n?n=t:n.replaceSync(t)):n=t,qm.set(e,n)})(a,n,!!(1&i.$flags$)),e()}}t.$ancestorComponent$;ym(t,!0)},Nm=e=>{const t=e["s-cr"]=zm.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},Om=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};i.$members$=t[2],i.$listeners$=t[3],i.$watchers$=e.$watchers$,i.$attrsToReflect$=[];const n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){jm(this,i)},connectedCallback(){(e=>{if(0==(1&Hm.$flags$)){const t=Dm(e),i=t.$cmpMeta$,n=(i.$tagName$,()=>{});1&t.$flags$?(Mm(e,t,i.$listeners$),(null==t?void 0:t.$lazyInstance$)?t.$lazyInstance$:(null==t?void 0:t.$onReadyPromise$)&&t.$onReadyPromise$.then((()=>{t.$lazyInstance$}))):(t.$flags$|=1,12&i.$flags$&&Nm(e),i.$members$&&Object.entries(i.$members$).map((([t,[i]])=>{if(31&i&&e.hasOwnProperty(t)){const i=e[t];delete e[t],e[t]=i}})),Am(e,t,i)),n()}})(this),n&&n.call(this)},disconnectedCallback(){(async e=>{if(0==(1&Hm.$flags$)){const t=Dm(e);t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0)}})(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(16&i.$flags$)})}}),e.is=i.$tagName$,km(e,i)},Mm=(e,t,i,n)=>{i&&i.map((([i,n,r])=>{const a=Im(e,i),s=Pm(t,r),o=Rm(i);Hm.ael(a,n,s,o),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>Hm.rel(a,n,s,o)))}))},Pm=(e,t)=>i=>{try{Ap||e.$hostElement$[t](i)}catch(E_){Bm(E_)}},Im=(e,t)=>4&t?zm:8&t?Fm:16&t?zm.body:e,Rm=e=>Wm?{passive:0!=(1&e),capture:0!=(2&e)}:0!=(2&e),Lm=new WeakMap,Dm=e=>Lm.get(e),jm=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return Mm(e,i,t.$listeners$),Lm.set(e,i)},$m=(e,t)=>t in e,Bm=(e,t)=>(0,console.error)(e,t),qm=new Map,Um=[],Fm="undefined"!=typeof window?window:{},zm=Fm.document||{head:{}},Vm=Fm.HTMLElement||class{},Hm={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,n)=>e.addEventListener(t,i,n),rel:(e,t,i,n)=>e.removeEventListener(t,i,n),ce:(e,t)=>new CustomEvent(e,t)},Wm=(()=>{let e=!1;try{zm.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(E_){}return e})(),Gm=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(E_){}return!1})(),Km=[],Qm=[],Ym=(e,t)=>i=>{e.push(i),jp||(jp=!0,t&&4&Hm.$flags$?Zm(Jm):Hm.raf(Jm))},Xm=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(E_){Bm(E_)}e.length=0},Jm=()=>{Xm(Km),Xm(Qm),(jp=Km.length>0)&&Hm.raf(Jm)},Zm=e=>(e=>Promise.resolve(e))().then(e),ef=t("r",Ym(Km,!1)),tf=t("w",Ym(Qm,!0)),nf="undefined"!=typeof window?window:void 0,rf=t("d","undefined"!=typeof document?document:void 0),af=t("b",((e,t)=>{e.componentOnReady?e.componentOnReady().then((e=>t(e))):pf((()=>t(e)))})),sf=e=>void 0!==e.componentOnReady,of=(e,t=[])=>{const i={};return t.forEach((t=>{if(e.hasAttribute(t)){null!==e.getAttribute(t)&&(i[t]=e.getAttribute(t)),e.removeAttribute(t)}})),i},lf=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],cf=(e,t)=>{let i=lf;return t&&t.length>0&&(i=i.filter((e=>!t.includes(e)))),of(e,i)},df=t("e",((e,t,i,n)=>{var r;if("undefined"!=typeof window){const a=window,s=null===(r=null==a?void 0:a.Ionic)||void 0===r?void 0:r.config;if(s){const r=s.get("_ael");if(r)return r(e,t,i,n);if(s._ael)return s._ael(e,t,i,n)}}return e.addEventListener(t,i,n)})),uf=t("g",((e,t,i,n)=>{var r;if("undefined"!=typeof window){const a=window,s=null===(r=null==a?void 0:a.Ionic)||void 0===r?void 0:r.config;if(s){const r=s.get("_rel");if(r)return r(e,t,i,n);if(s._rel)return s._rel(e,t,i,n)}}return e.removeEventListener(t,i,n)})),hf=(e,t=e)=>e.shadowRoot||t,pf=t("j",(e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(e):"function"==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e))),mf=e=>!!e.shadowRoot&&!!e.attachShadow,ff=e=>{const t=e.closest("ion-item");return t?t.querySelector("ion-label"):null},gf=(e,t,i,n,r)=>{if(e||mf(t)){let e=t.querySelector("input.aux-input");e||(e=t.ownerDocument.createElement("input"),e.type="hidden",e.classList.add("aux-input"),t.appendChild(e)),e.disabled=r,e.name=i,e.value=n||""}},yf=t("a",((e,t,i)=>Math.max(e,Math.min(t,i)))),bf=(e,t)=>{if(!e){const e="ASSERT: "+t;throw console.error(e),new Error(e)}},vf=(t("n",(e=>e.timeStamp||Date.now())),t("p",(e=>{if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];return{x:e.clientX,y:e.clientY}}if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY}}return{x:0,y:0}})),e=>{const t="rtl"===document.dir;switch(e){case"start":return t;case"end":return!t;default:throw new Error(`"${e}" is not a valid value for [side]. Use "start" or "end" instead.`)}}),wf=(e,t)=>{const i=e._original||e;return{_original:e,emit:Tf(i.emit.bind(i),t)}},Tf=(e,t=0)=>{let i;return(...n)=>{clearTimeout(i),i=setTimeout(e,t,...n)}},xf=(e,t)=>{if(null!=e||(e={}),null!=t||(t={}),e===t)return!0;const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!1;for(const n of i){if(!(n in t))return!1;if(e[n]!==t[n])return!1}return!0};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let Ef;const _f=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sf=e=>{if(void 0===Ef){const t=void 0!==e.style.animationName,i=void 0!==e.style.webkitAnimationName;Ef=!t&&i?"-webkit-":""}return Ef},Cf=(e,t,i)=>{const n=t.startsWith("animation")?Sf(e):"";e.style.setProperty(n+t,i)},kf=(e,t)=>{const i=t.startsWith("animation")?Sf(e):"";e.style.removeProperty(i+t)},Af=[],Nf=(e=[],t)=>{if(void 0!==t){const i=Array.isArray(t)?t:[t];return[...e,...i]}return e},Of=t("q",(e=>{let t,i,n,r,a,s,o,l,c,d,u,h,p,m=[],f=[],g=[],y=!1,b={},v=[],w=[],T={},x=0,E=!1,_=!1,S=!0,C=!1,k=!0,A=!1;const N=e,O=[],M=[],P=[],I=[],R=[],L=[],D=[],j=[],$=[],B=[],q="function"==typeof AnimationEffect||void 0!==nf&&"function"==typeof nf.AnimationEffect,U="function"==typeof Element&&"function"==typeof Element.prototype.animate&&q,F=()=>B,z=e=>{W(),e&&G()},V=(e,t)=>(((null==t?void 0:t.oneTimeCallback)?M:O).push({c:e,o:t}),p),H=()=>(O.length=0,M.length=0,p),W=()=>{if(U)B.forEach((e=>{e.cancel()})),B.length=0;else{const e=P.slice();pf((()=>{e.forEach((e=>{kf(e,"animation-name"),kf(e,"animation-duration"),kf(e,"animation-timing-function"),kf(e,"animation-iteration-count"),kf(e,"animation-delay"),kf(e,"animation-play-state"),kf(e,"animation-fill-mode"),kf(e,"animation-direction")}))}))}},G=()=>{R.forEach((e=>{(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)})),R.length=0},K=()=>void 0!==a?a:o?o.getFill():"both",Q=()=>void 0!==c?c:void 0!==s?s:o?o.getDirection():"normal",Y=()=>E?"linear":void 0!==n?n:o?o.getEasing():"linear",X=()=>_?0:void 0!==d?d:void 0!==i?i:o?o.getDuration():0,J=()=>void 0!==r?r:o?o.getIterations():1,Z=()=>void 0!==u?u:void 0!==t?t:o?o.getDelay():0,ee=e=>{U?F().forEach((t=>{if(t.effect.setKeyframes)t.effect.setKeyframes(e);else{const i=new KeyframeEffect(t.effect.target,e,t.effect.getTiming());t.effect=i}})):ie()},te=()=>{0!==x&&(x--,0===x&&((()=>{de(),j.forEach((e=>e())),$.forEach((e=>e()));const e=S?1:0,t=v,i=w,n=T;P.forEach((e=>{const r=e.classList;t.forEach((e=>r.add(e))),i.forEach((e=>r.remove(e)));for(const t in n)n.hasOwnProperty(t)&&Cf(e,t,n[t])})),O.forEach((t=>t.c(e,p))),M.forEach((t=>t.c(e,p))),M.length=0,k=!0,S&&(C=!0),S=!0})(),o&&o.animationFinish()))},ie=(t=!0)=>{G();const i=(e=>(e.forEach((e=>{for(const t in e)if(e.hasOwnProperty(t)){const i=e[t];if("easing"===t)e["animation-timing-function"]=i,delete e[t];else{const n=_f(t);n!==t&&(e[n]=i,delete e[t])}}})),e))(m);P.forEach((n=>{if(i.length>0){const r=((e=[])=>e.map((e=>{const t=e.offset,i=[];for(const n in e)e.hasOwnProperty(n)&&"offset"!==n&&i.push(`${n}: ${e[n]};`);return`${100*t}% { ${i.join(" ")} }`})).join(" "))(i);h=void 0!==e?e:(e=>{let t=Af.indexOf(e);return t<0&&(t=Af.push(e)-1),`ion-animation-${t}`})(r);const a=((e,t,i)=>{var n;const r=(e=>{const t=void 0!==e.getRootNode?e.getRootNode():e;return t.head||t})(i),a=Sf(i),s=r.querySelector("#"+e);if(s)return s;const o=(null!==(n=i.ownerDocument)&&void 0!==n?n:document).createElement("style");return o.id=e,o.textContent=`@${a}keyframes ${e} { ${t} } @${a}keyframes ${e}-alt { ${t} }`,r.appendChild(o),o})(h,r,n);R.push(a),Cf(n,"animation-duration",`${X()}ms`),Cf(n,"animation-timing-function",Y()),Cf(n,"animation-delay",`${Z()}ms`),Cf(n,"animation-fill-mode",K()),Cf(n,"animation-direction",Q());const s=J()===1/0?"infinite":J().toString();Cf(n,"animation-iteration-count",s),Cf(n,"animation-play-state","paused"),t&&Cf(n,"animation-name",`${a.id}-alt`),pf((()=>{Cf(n,"animation-name",a.id||null)}))}}))},ne=(e=!0)=>{(()=>{L.forEach((e=>e())),D.forEach((e=>e()));const e=f,t=g,i=b;P.forEach((n=>{const r=n.classList;e.forEach((e=>r.add(e))),t.forEach((e=>r.remove(e)));for(const e in i)i.hasOwnProperty(e)&&Cf(n,e,i[e])}))})(),m.length>0&&(U?(P.forEach((e=>{const t=e.animate(m,{id:N,delay:Z(),duration:X(),easing:Y(),iterations:J(),fill:K(),direction:Q()});t.pause(),B.push(t)})),B.length>0&&(B[0].onfinish=()=>{te()})):ie(e)),y=!0},re=e=>{if(e=Math.min(Math.max(e,0),.9999),U)B.forEach((t=>{t.currentTime=t.effect.getComputedTiming().delay+X()*e,t.pause()}));else{const t=`-${X()*e}ms`;P.forEach((e=>{m.length>0&&(Cf(e,"animation-delay",t),Cf(e,"animation-play-state","paused"))}))}},ae=e=>{B.forEach((e=>{e.effect.updateTiming({delay:Z(),duration:X(),easing:Y(),iterations:J(),fill:K(),direction:Q()})})),void 0!==e&&re(e)},se=(e=!0,t)=>{pf((()=>{P.forEach((i=>{Cf(i,"animation-name",h||null),Cf(i,"animation-duration",`${X()}ms`),Cf(i,"animation-timing-function",Y()),Cf(i,"animation-delay",void 0!==t?`-${t*X()}ms`:`${Z()}ms`),Cf(i,"animation-fill-mode",K()||null),Cf(i,"animation-direction",Q()||null);const n=J()===1/0?"infinite":J().toString();Cf(i,"animation-iteration-count",n),e&&Cf(i,"animation-name",`${h}-alt`),pf((()=>{Cf(i,"animation-name",h||null)}))}))}))},oe=(e=!1,t=!0,i)=>(e&&I.forEach((n=>{n.update(e,t,i)})),U?ae(i):se(t,i),p),le=()=>{y&&(U?B.forEach((e=>{e.pause()})):P.forEach((e=>{Cf(e,"animation-play-state","paused")})),A=!0)},ce=()=>{l=void 0,te()},de=()=>{l&&clearTimeout(l)},ue=()=>{P.forEach((e=>{kf(e,"animation-duration"),kf(e,"animation-delay"),kf(e,"animation-play-state")}))},he=e=>new Promise((t=>{(null==e?void 0:e.sync)&&(_=!0,V((()=>_=!1),{oneTimeCallback:!0})),y||ne(),C&&(U?(re(0),ae()):se(),C=!1),k&&(x=I.length+1,k=!1),V((()=>t()),{oneTimeCallback:!0}),I.forEach((e=>{e.play()})),U?(B.forEach((e=>{e.play()})),0!==m.length&&0!==P.length||te()):(()=>{if(de(),pf((()=>{P.forEach((e=>{m.length>0&&Cf(e,"animation-play-state","running")}))})),0===m.length||0===P.length)te();else{const e=Z()||0,t=X()||0,i=J()||1;isFinite(i)&&(l=setTimeout(ce,e+t*i+100)),((e,t)=>{let i;const n={passive:!0},r=()=>{i&&i()},a=i=>{e===i.target&&(r(),t(i))};e&&(e.addEventListener("webkitAnimationEnd",a,n),e.addEventListener("animationend",a,n),i=()=>{e.removeEventListener("webkitAnimationEnd",a,n),e.removeEventListener("animationend",a,n)})})(P[0],(()=>{de(),pf((()=>{ue(),pf(te)}))}))}})(),A=!1})),pe=(e,t)=>{const i=m[0];return void 0===i||void 0!==i.offset&&0!==i.offset?m=[{offset:0,[e]:t},...m]:i[e]=t,p};return p={parentAnimation:o,elements:P,childAnimations:I,id:N,animationFinish:te,from:pe,to:(e,t)=>{const i=m[m.length-1];return void 0===i||void 0!==i.offset&&1!==i.offset?m=[...m,{offset:1,[e]:t}]:i[e]=t,p},fromTo:(e,t,i)=>pe(e,t).to(e,i),parent:e=>(o=e,p),play:he,pause:()=>(I.forEach((e=>{e.pause()})),le(),p),stop:()=>{I.forEach((e=>{e.stop()})),y&&(W(),y=!1),E=!1,_=!1,k=!0,c=void 0,d=void 0,u=void 0,x=0,C=!1,S=!0,A=!1},destroy:e=>(I.forEach((t=>{t.destroy(e)})),z(e),P.length=0,I.length=0,m.length=0,H(),y=!1,k=!0,p),keyframes:e=>{const t=m!==e;return m=e,t&&ee(m),p},addAnimation:e=>{if(null!=e)if(Array.isArray(e))for(const t of e)t.parent(p),I.push(t);else e.parent(p),I.push(e);return p},addElement:e=>{if(null!=e)if(1===e.nodeType)P.push(e);else if(e.length>=0)for(let t=0;t<e.length;t++)P.push(e[t]);else console.error("Invalid addElement value");return p},update:oe,fill:e=>(a=e,oe(!0),p),direction:e=>(s=e,oe(!0),p),iterations:e=>(r=e,oe(!0),p),duration:e=>(U||0!==e||(e=1),i=e,oe(!0),p),easing:e=>(n=e,oe(!0),p),delay:e=>(t=e,oe(!0),p),getWebAnimations:F,getKeyframes:()=>m,getFill:K,getDirection:Q,getDelay:Z,getIterations:J,getEasing:Y,getDuration:X,afterAddRead:e=>(j.push(e),p),afterAddWrite:e=>($.push(e),p),afterClearStyles:(e=[])=>{for(const t of e)T[t]="";return p},afterStyles:(e={})=>(T=e,p),afterRemoveClass:e=>(w=Nf(w,e),p),afterAddClass:e=>(v=Nf(v,e),p),beforeAddRead:e=>(L.push(e),p),beforeAddWrite:e=>(D.push(e),p),beforeClearStyles:(e=[])=>{for(const t of e)b[t]="";return p},beforeStyles:(e={})=>(b=e,p),beforeRemoveClass:e=>(g=Nf(g,e),p),beforeAddClass:e=>(f=Nf(f,e),p),onFinish:V,isRunning:()=>0!==x&&!A,progressStart:(e=!1,t)=>(I.forEach((i=>{i.progressStart(e,t)})),le(),E=e,y||ne(),oe(!1,!0,t),p),progressStep:e=>(I.forEach((t=>{t.progressStep(e)})),re(e),p),progressEnd:(e,t,i)=>(E=!1,I.forEach((n=>{n.progressEnd(e,t,i)})),void 0!==i&&(d=i),C=!1,S=!0,0===e?(c="reverse"===Q()?"normal":"reverse","reverse"===c&&(S=!1),U?(oe(),re(1-t)):(u=(1-t)*X()*-1,oe(!1,!1))):1===e&&(U?(oe(),re(t)):(u=t*X()*-1,oe(!1,!1))),void 0!==e&&(V((()=>{d=void 0,c=void 0,u=void 0}),{oneTimeCallback:!0}),o||he()),p)}})),Mf="ionViewWillLeave",Pf="ionViewDidLeave",If="ionViewWillUnload",Rf=e=>new Promise(((t,i)=>{tf((()=>{Lf(e),Df(e).then((i=>{i.animation&&i.animation.destroy(),jf(e),t(i)}),(t=>{jf(e),i(t)}))}))})),Lf=e=>{const t=e.enteringEl,i=e.leavingEl;Qf(t,i,e.direction),e.showGoBack?t.classList.add("can-go-back"):t.classList.remove("can-go-back"),Kf(t,!1),t.style.setProperty("pointer-events","none"),i&&(Kf(i,!1),i.style.setProperty("pointer-events","none"))},Df=async e=>{const t=await $f(e);return t&&$p?Bf(t,e):qf(e)},jf=e=>{const t=e.enteringEl,i=e.leavingEl;t.classList.remove("ion-page-invisible"),t.style.removeProperty("pointer-events"),void 0!==i&&(i.classList.remove("ion-page-invisible"),i.style.removeProperty("pointer-events"))},$f=async e=>{if(!e.leavingEl||!e.animated||0===e.duration)return;if(e.animationBuilder)return e.animationBuilder;return"ios"===e.mode?(await Ep((()=>i.import("./ios.transition-legacy-6606e641.js")))).iosTransitionAnimation:(await Ep((()=>i.import("./md.transition-legacy-85c9b011.js")))).mdTransitionAnimation},Bf=async(e,t)=>{await Uf(t,!0);const i=e(t.baseEl,t);Vf(t.enteringEl,t.leavingEl);const n=await zf(i,t);return t.progressCallback&&t.progressCallback(void 0),n&&Hf(t.enteringEl,t.leavingEl),{hasCompleted:n,animation:i}},qf=async e=>{const t=e.enteringEl,i=e.leavingEl;return await Uf(e,!1),Vf(t,i),Hf(t,i),{hasCompleted:!0}},Uf=async(e,t)=>{(void 0!==e.deepWait?e.deepWait:t)&&await Promise.all([Gf(e.enteringEl),Gf(e.leavingEl)]),await Ff(e.viewIsReady,e.enteringEl)},Ff=async(e,t)=>{e&&await e(t)},zf=(e,t)=>{const i=t.progressCallback,n=new Promise((t=>{e.onFinish((e=>t(1===e)))}));return i?(e.progressStart(!0),i(e)):e.play(),n},Vf=(e,t)=>{Wf(t,Mf),Wf(e,"ionViewWillEnter")},Hf=(e,t)=>{Wf(e,"ionViewDidEnter"),Wf(t,Pf)},Wf=(e,t)=>{if(e){const i=new CustomEvent(t,{bubbles:!1,cancelable:!1});e.dispatchEvent(i)}},Gf=async e=>{const t=e;if(t){if(null!=t.componentOnReady){if(null!=await t.componentOnReady())return}else if(null!=t.__registerHost){const e=new Promise((e=>pf(e)));return void(await e)}await Promise.all(Array.from(t.children).map(Gf))}},Kf=(e,t)=>{t?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},Qf=(e,t,i)=>{void 0!==e&&(e.style.zIndex="back"===i?"99":"101"),void 0!==t&&(t.style.zIndex="100")},Yf=(t("t",(e=>{if(e.classList.contains("ion-page"))return e;const t=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return t||e})),(e,t,i,n,r)=>Jf(e[1],t[1],i[1],n[1],r).map((r=>Xf(e[0],t[0],i[0],n[0],r)))),Xf=(e,t,i,n,r)=>r*(3*t*Math.pow(r-1,2)+r*(-3*i*r+3*i+n*r))-e*Math.pow(r-1,3),Jf=(e,t,i,n,r)=>Zf((n-=r)-3*(i-=r)+3*(t-=r)-(e-=r),3*i-6*t+3*e,3*t-3*e,e).filter((e=>e>=0&&e<=1)),Zf=(e,t,i,n)=>{if(0===e)return((e,t,i)=>{const n=t*t-4*e*i;return n<0?[]:[(-t+Math.sqrt(n))/(2*e),(-t-Math.sqrt(n))/(2*e)]})(t,i,n);const r=(3*(i/=e)-(t/=e)*t)/3,a=(2*t*t*t-9*t*i+27*(n/=e))/27;if(0===r)return[Math.pow(-a,1/3)];if(0===a)return[Math.sqrt(-r),-Math.sqrt(-r)];const s=Math.pow(a/2,2)+Math.pow(r/3,3);if(0===s)return[Math.pow(a/2,.5)-t/3];if(s>0)return[Math.pow(-a/2+Math.sqrt(s),1/3)-Math.pow(a/2+Math.sqrt(s),1/3)-t/3];const o=Math.sqrt(Math.pow(-r/3,3)),l=Math.acos(-a/(2*Math.sqrt(Math.pow(-r/3,3)))),c=2*Math.pow(o,1/3);return[c*Math.cos(l/3)-t/3,c*Math.cos((l+2*Math.PI)/3)-t/3,c*Math.cos((l+4*Math.PI)/3)-t/3]};class eg{constructor(e,t,i,n,r){this.id=t,this.name=i,this.disableScroll=r,this.priority=1e6*n+t,this.ctrl=e}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const e=this.ctrl.capture(this.name,this.id,this.priority);return e&&this.disableScroll&&this.ctrl.disableScroll(this.id),e}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class tg{constructor(e,t,i,n){this.id=t,this.disable=i,this.disableScroll=n,this.ctrl=e}block(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.disableGesture(e,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const e of this.disable)this.ctrl.enableGesture(e,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ig="backdrop-no-scroll",ng=new
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
class{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(e){var t;return new eg(this,this.newID(),e.name,null!==(t=e.priority)&&void 0!==t?t:0,!!e.disableScroll)}createBlocker(e={}){return new tg(this,this.newID(),e.disable,!!e.disableScroll)}start(e,t,i){return this.canStart(e)?(this.requestedStart.set(t,i),!0):(this.requestedStart.delete(t),!1)}capture(e,t,i){if(!this.start(e,t,i))return!1;const n=this.requestedStart;let r=-1e4;if(n.forEach((e=>{r=Math.max(r,e)})),r===i){this.capturedId=t,n.clear();const i=new CustomEvent("ionGestureCaptured",{detail:{gestureName:e}});return document.dispatchEvent(i),!0}return n.delete(t),!1}release(e){this.requestedStart.delete(e),this.capturedId===e&&(this.capturedId=void 0)}disableGesture(e,t){let i=this.disabledGestures.get(e);void 0===i&&(i=new Set,this.disabledGestures.set(e,i)),i.add(t)}enableGesture(e,t){const i=this.disabledGestures.get(e);void 0!==i&&i.delete(t)}disableScroll(e){this.disabledScroll.add(e),1===this.disabledScroll.size&&document.body.classList.add(ig)}enableScroll(e){this.disabledScroll.delete(e),0===this.disabledScroll.size&&document.body.classList.remove(ig)}canStart(e){return void 0===this.capturedId&&!this.isDisabled(e)}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(e){const t=this.disabledGestures.get(e);return!!(t&&t.size>0)}newID(){return this.gestureId++,this.gestureId}},rg=(e,t,i,n)=>{const r=ag(e)?{capture:!!n.capture,passive:!!n.passive}:!!n.capture;let a,s;return e.__zone_symbol__addEventListener?(a="__zone_symbol__addEventListener",s="__zone_symbol__removeEventListener"):(a="addEventListener",s="removeEventListener"),e[a](t,i,r),()=>{e[s](t,i,r)}},ag=e=>{if(void 0===sg)try{const t=Object.defineProperty({},"passive",{get:()=>{sg=!0}});e.addEventListener("optsTest",(()=>{}),t)}catch(E_){sg=!1}return!!sg};let sg;const og=e=>e instanceof Document?e:e.ownerDocument,lg=t("c",(e=>{let t=!1,i=!1,n=!0,r=!1;const a=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},e),s=a.canStart,o=a.onWillStart,l=a.onStart,c=a.onEnd,d=a.notCaptured,u=a.onMove,h=a.threshold,p=a.passive,m=a.blurOnStart,f={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},g=((e,t,i)=>{const n=i*(Math.PI/180),r="x"===e,a=Math.cos(n),s=t*t;let o=0,l=0,c=!1,d=0;return{start(e,t){o=e,l=t,d=0,c=!0},detect(e,t){if(!c)return!1;const i=e-o,n=t-l,u=i*i+n*n;if(u<s)return!1;const h=Math.sqrt(u),p=(r?i:n)/h;return d=p>a?1:p<-a?-1:0,c=!1,!0},isGesture:()=>0!==d,getDirection:()=>d}})(a.direction,a.threshold,a.maxAngle),y=ng.createGesture({name:e.gestureName,priority:e.gesturePriority,disableScroll:e.disableScroll}),b=()=>{t&&(r=!1,u&&u(f))},v=()=>!!y.capture()&&(t=!0,n=!1,f.startX=f.currentX,f.startY=f.currentY,f.startTime=f.currentTime,o?o(f).then(w):w(),!0),w=()=>{m&&(()=>{if("undefined"!=typeof document){const e=document.activeElement;(null==e?void 0:e.blur)&&e.blur()}})(),l&&l(f),n=!0},T=()=>{t=!1,i=!1,r=!1,n=!0,y.release()},x=e=>{const i=t,r=n;T(),r&&(cg(f,e),i?c&&c(f):d&&d(f))},E=((e,t,i,n,r)=>{let a,s,o,l,c,d,u,h=0;const p=n=>{h=Date.now()+2e3,t(n)&&(!s&&i&&(s=rg(e,"touchmove",i,r)),o||(o=rg(n.target,"touchend",f,r)),l||(l=rg(n.target,"touchcancel",f,r)))},m=n=>{h>Date.now()||t(n)&&(!d&&i&&(d=rg(og(e),"mousemove",i,r)),u||(u=rg(og(e),"mouseup",g,r)))},f=e=>{y(),n&&n(e)},g=e=>{b(),n&&n(e)},y=()=>{s&&s(),o&&o(),l&&l(),s=o=l=void 0},b=()=>{d&&d(),u&&u(),d=u=void 0},v=()=>{y(),b()},w=(t=!0)=>{t?(a||(a=rg(e,"touchstart",p,r)),c||(c=rg(e,"mousedown",m,r))):(a&&a(),c&&c(),a=c=void 0,v())};return{enable:w,stop:v,destroy:()=>{w(!1),n=i=t=void 0}}})(a.el,(e=>{const t=ug(e);return!(i||!n)&&(dg(e,f),f.startX=f.currentX,f.startY=f.currentY,f.startTime=f.currentTime=t,f.velocityX=f.velocityY=f.deltaX=f.deltaY=0,f.event=e,(!s||!1!==s(f))&&(y.release(),!!y.start()&&(i=!0,0===h?v():(g.start(f.startX,f.startY),!0))))}),(e=>{t?!r&&n&&(r=!0,cg(f,e),requestAnimationFrame(b)):(cg(f,e),g.detect(f.currentX,f.currentY)&&(g.isGesture()&&v()||_()))}),x,{capture:!1,passive:p}),_=()=>{T(),E.stop(),d&&d(f)};return{enable(e=!0){e||(t&&x(void 0),T()),E.enable(e)},destroy(){y.destroy(),E.destroy()}}})),cg=(e,t)=>{if(!t)return;const i=e.currentX,n=e.currentY,r=e.currentTime;dg(t,e);const a=e.currentX,s=e.currentY,o=(e.currentTime=ug(t))-r;if(o>0&&o<100){const t=(a-i)/o,r=(s-n)/o;e.velocityX=.7*t+.3*e.velocityX,e.velocityY=.7*r+.3*e.velocityY}e.deltaX=a-e.startX,e.deltaY=s-e.startY,e.event=t},dg=(e,t)=>{let i=0,n=0;if(e){const t=e.changedTouches;if(t&&t.length>0){const e=t[0];i=e.clientX,n=e.clientY}else void 0!==e.pageX&&(i=e.pageX,n=e.pageY)}t.currentX=i,t.currentY=n},ug=e=>e.timeStamp||Date.now(),hg=Object.freeze(Object.defineProperty({__proto__:null,GESTURE_CONTROLLER:ng,createGesture:lg},Symbol.toStringTag,{value:"Module"}));const pg=new class{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,t){const i=this.m.get(e);return void 0!==i?i:t}getBoolean(e,t=!1){const i=this.m.get(e);return void 0===i?t:"string"==typeof i?"true"===i:!!i}getNumber(e,t){const i=parseFloat(this.m.get(e));return isNaN(i)?void 0!==t?t:NaN:i}set(e,t){this.m.set(e,t)}},mg=(e,t)=>e.substr(0,t.length)===t,fg="ionic:",gg="ionic-persist-config",yg=(e,t)=>("string"==typeof e&&(t=e,e=void 0),(e=>bg(e))(e).includes(t)),bg=(e=window)=>{if(void 0===e)return[];e.Ionic=e.Ionic||{};let t=e.Ionic.platforms;return null==t&&(t=e.Ionic.platforms=vg(e),t.forEach((t=>e.document.documentElement.classList.add(`plt-${t}`)))),t},vg=e=>{const t=pg.get("platform");return Object.keys(Ag).filter((i=>{const n=null==t?void 0:t[i];return"function"==typeof n?n(e):Ag[i](e)}))},wg=e=>!!Cg(e,/iPad/i)||!(!Cg(e,/Macintosh/i)||!xg(e)),Tg=e=>Cg(e,/android|sink/i),xg=e=>kg(e,"(any-pointer:coarse)"),Eg=e=>_g(e)||Sg(e),_g=e=>!!(e.cordova||e.phonegap||e.PhoneGap),Sg=e=>{const t=e.Capacitor;return!!(null==t?void 0:t.isNative)},Cg=(e,t)=>t.test(e.navigator.userAgent),kg=(e,t)=>{var i;return null===(i=e.matchMedia)||void 0===i?void 0:i.call(e,t).matches},Ag={ipad:wg,iphone:e=>Cg(e,/iPhone/i),ios:e=>Cg(e,/iPhone|iPod/i)||wg(e),android:Tg,phablet:e=>{const t=e.innerWidth,i=e.innerHeight,n=Math.min(t,i),r=Math.max(t,i);return n>390&&n<520&&r>620&&r<800},tablet:e=>{const t=e.innerWidth,i=e.innerHeight,n=Math.min(t,i),r=Math.max(t,i);return wg(e)||(e=>Tg(e)&&!Cg(e,/mobile/i))(e)||n>460&&n<820&&r>780&&r<1400},cordova:_g,capacitor:Sg,electron:e=>Cg(e,/electron/i),pwa:e=>{var t;return!(!(null===(t=e.matchMedia)||void 0===t?void 0:t.call(e,"(display-mode: standalone)").matches)&&!e.navigator.standalone)},mobile:xg,mobileweb:e=>xg(e)&&!Eg(e),desktop:e=>!xg(e),hybrid:Eg};let Ng;const Og=e=>e&&(e=>Dm(e).$modeName$)(e)||Ng,Mg=(e={})=>{if("undefined"==typeof window)return;const t=window.document,i=window,n=i.Ionic=i.Ionic||{},r={};var a;e._ael&&(r.ael=e._ael),e._rel&&(r.rel=e._rel),e._ce&&(r.ce=e._ce),a=r,Object.assign(Hm,a);const s=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(e=>{try{const t=e.sessionStorage.getItem(gg);return null!==t?JSON.parse(t):{}}catch(E_){return{}}})(i)),{persistConfig:!1}),n.config),(e=>{const t={};return e.location.search.slice(1).split("&").map((e=>e.split("="))).map((([e,t])=>[decodeURIComponent(e),decodeURIComponent(t)])).filter((([e])=>mg(e,fg))).map((([e,t])=>[e.slice(fg.length),t])).forEach((([e,i])=>{t[e]=i})),t})(i)),e);pg.reset(s),pg.getBoolean("persistConfig")&&((e,t)=>{try{e.sessionStorage.setItem(gg,JSON.stringify(t))}catch(E_){return}})(i,s),bg(i),n.config=pg,n.mode=Ng=pg.get("mode",t.documentElement.getAttribute("mode")||(yg(i,"ios")?"ios":"md")),pg.set("mode",Ng),t.documentElement.setAttribute("mode",Ng),t.documentElement.classList.add(Ng),pg.getBoolean("_testing")&&pg.set("animated",!1);const o=e=>{var t;return null===(t=e.tagName)||void 0===t?void 0:t.startsWith("ION-")},l=e=>["ios","md"].includes(e);var c;c=e=>{for(;e;){const t=e.mode||e.getAttribute("mode");if(t){if(l(t))return t;o(e)&&console.warn('Invalid ionic mode: "'+t+'", expected: "ios" or "md"')}e=e.parentElement}return Ng},Um.push(c)},Pg=e=>{try{if(e instanceof $g)return e.value;if(!Lg()||"string"!=typeof e||""===e)return e;if(e.includes("onload="))return"";const t=document.createDocumentFragment(),i=document.createElement("div");t.appendChild(i),i.innerHTML=e,jg.forEach((e=>{const i=t.querySelectorAll(e);for(let n=i.length-1;n>=0;n--){const e=i[n];e.parentNode?e.parentNode.removeChild(e):t.removeChild(e);const r=Rg(e);for(let t=0;t<r.length;t++)Ig(r[t])}}));const n=Rg(t);for(let e=0;e<n.length;e++)Ig(n[e]);const r=document.createElement("div");r.appendChild(t);const a=r.querySelector("div");return null!==a?a.innerHTML:r.innerHTML}catch(t){return console.error(t),""}},Ig=e=>{if(e.nodeType&&1!==e.nodeType)return;if("undefined"!=typeof NamedNodeMap&&!(e.attributes instanceof NamedNodeMap))return void e.remove();for(let i=e.attributes.length-1;i>=0;i--){const t=e.attributes.item(i),n=t.name;if(!Dg.includes(n.toLowerCase())){e.removeAttribute(n);continue}const r=t.value,a=e[n];(null!=r&&r.toLowerCase().includes("javascript:")||null!=a&&a.toLowerCase().includes("javascript:"))&&e.removeAttribute(n)}const t=Rg(e);for(let i=0;i<t.length;i++)Ig(t[i])},Rg=e=>null!=e.children?e.children:e.childNodes,Lg=()=>{var e;const t=window,i=null===(e=null==t?void 0:t.Ionic)||void 0===e?void 0:e.config;return!i||(i.get?i.get("sanitizerEnabled",!0):!0===i.sanitizerEnabled||void 0===i.sanitizerEnabled)},Dg=["class","id","href","src","name","slot"],jg=["script","style","iframe","meta","link","object","embed"];class $g{constructor(e){this.value=e}}const Bg=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:99,OVERLAY_BACK_BUTTON_PRIORITY:100,blockHardwareBackButton:()=>{document.addEventListener("backbutton",(()=>{}))},startHardwareBackButton:()=>{const e=document;let t=!1;e.addEventListener("backbutton",(()=>{if(t)return;let i=0,n=[];const r=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(e,t){n.push({priority:e,handler:t,id:i++})}}});e.dispatchEvent(r);const a=()=>{if(n.length>0){let e={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};n.forEach((t=>{t.priority>=e.priority&&(e=t)})),t=!0,n=n.filter((t=>t.id!==e.id)),(async e=>{try{if(null==e?void 0:e.handler){const t=e.handler(a);null!=t&&await t}}catch(E_){console.error(E_)}})(e).then((()=>t=!1))}};a()}))}},Symbol.toStringTag,{value:"Module"})),qg=e=>Of().duration(e?400:300),Ug=e=>{let t,i;const n=e.width+8,r=Of(),a=Of();e.isEndSide?(t=n+"px",i="0px"):(t=-n+"px",i="0px"),r.addElement(e.menuInnerEl).fromTo("transform",`translateX(${t})`,`translateX(${i})`);const s="ios"===Og(e),o=s?.2:.25;return a.addElement(e.backdropEl).fromTo("opacity",.01,o),qg(s).addAnimation([r,a])},Fg=e=>{let t,i;const n=Og(e),r=e.width;e.isEndSide?(t=-r+"px",i=r+"px"):(t=r+"px",i=-r+"px");const a=Of().addElement(e.menuInnerEl).fromTo("transform",`translateX(${i})`,"translateX(0px)"),s=Of().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${t})`),o=Of().addElement(e.backdropEl).fromTo("opacity",.01,.32);return qg("ios"===n).addAnimation([a,s,o])},zg=e=>{const t=Og(e),i=e.width*(e.isEndSide?-1:1)+"px",n=Of().addElement(e.contentEl).fromTo("transform","translateX(0px)",`translateX(${i})`);return qg("ios"===t).addAnimation(n)},Vg=()=>{const e=new Map,t=[],i=async e=>{if(await d(),"start"===e||"end"===e){const t=c((t=>t.side===e&&!t.disabled));return t||c((t=>t.side===e))}if(null!=e)return c((t=>t.menuId===e));const i=c((e=>!e.disabled));return i||(t.length>0?t[0].el:void 0)},n=async()=>(await d(),s()),r=(t,i)=>{e.set(t,i)},a=e=>{const i=e.side;t.filter((t=>t.side===i&&t!==e)).forEach((e=>e.disabled=!0))},s=()=>c((e=>e._isOpen)),o=()=>t.map((e=>e.el)),l=()=>t.some((e=>e.isAnimating)),c=e=>{const i=t.find(e);if(void 0!==i)return i.el},d=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map((e=>new Promise((t=>af(e,t))))));return r("reveal",zg),r("push",Fg),r("overlay",Ug),"undefined"!=typeof document&&document.addEventListener("ionBackButton",(e=>{const t=s();t&&e.detail.register(99,(()=>t.close()))})),{registerAnimation:r,get:i,getMenus:async()=>(await d(),o()),getOpen:n,isEnabled:async e=>{const t=await i(e);return!!t&&!t.disabled},swipeGesture:async(e,t)=>{const n=await i(t);return n&&(n.swipeGesture=e),n},isAnimating:async()=>(await d(),l()),isOpen:async e=>{if(null!=e){const t=await i(e);return void 0!==t&&t.isOpen()}return void 0!==await n()},enable:async(e,t)=>{const n=await i(t);return n&&(n.disabled=!e),n},toggle:async e=>{const t=await i(e);return!!t&&t.toggle()},close:async e=>{const t=await(void 0!==e?i(e):n());return void 0!==t&&t.close()},open:async e=>{const t=await i(e);return!!t&&t.open()},_getOpenSync:s,_createAnimation:(t,i)=>{const n=e.get(t);if(!n)throw new Error("animation not registered");return n(i)},_register:e=>{t.indexOf(e)<0&&(e.disabled||a(e),t.push(e))},_unregister:e=>{const i=t.indexOf(e);i>-1&&t.splice(i,1)},_setOpen:async(e,t,i)=>{if(l())return!1;if(t){const t=await n();t&&e.el!==t&&await t.setOpen(!1,!1)}return e._setOpen(t,i)},_setActiveMenu:a}},Hg=Vg(),Wg=async(e,t,i,n,r,a)=>{var s;if(e)return e.attachViewToDom(t,i,r,n);if(!(a||"string"==typeof i||i instanceof HTMLElement))throw new Error("framework delegate is missing");const o="string"==typeof i?null===(s=t.ownerDocument)||void 0===s?void 0:s.createElement(i):i;return n&&n.forEach((e=>o.classList.add(e))),r&&Object.assign(o,r),t.appendChild(o),await new Promise((e=>af(o,e))),o},Gg=(e,t)=>{if(t){if(e){const i=t.parentElement;return e.removeViewFromDom(i,t)}t.remove()}return Promise.resolve()},Kg=()=>{let e,t;return{attachViewToDom:async(i,n,r={},a=[])=>{var s,o;if(e=i,n){const t="string"==typeof n?null===(s=e.ownerDocument)||void 0===s?void 0:s.createElement(n):n;a.forEach((e=>t.classList.add(e))),Object.assign(t,r),e.appendChild(t),await new Promise((e=>af(t,e)))}else if(e.children.length>0&&("ION-MODAL"===e.tagName||"ION-POPOVER"===e.tagName)){if(!e.children[0].classList.contains("ion-delegate-host")){const t=null===(o=e.ownerDocument)||void 0===o?void 0:o.createElement("div");t.classList.add("ion-delegate-host"),a.forEach((e=>t.classList.add(e))),t.append(...e.children),e.appendChild(t)}}const l=document.querySelector("ion-app")||document.body;return t=document.createComment("ionic teleport"),e.parentNode.insertBefore(t,e),l.appendChild(e),e},removeViewFromDom:()=>(e&&t&&(t.parentNode.insertBefore(e,t),t.remove()),Promise.resolve())}},Qg=(e,...t)=>console.warn(`[Ionic Warning]: ${e}`,...t),Yg=(e,...t)=>console.error(`[Ionic Error]: ${e}`,...t);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let Xg=0,Jg=0;const Zg=new WeakMap,ey=e=>{"undefined"!=typeof document&&sy(document);const t=Xg++;e.overlayIndex=t},ty=e=>(e.hasAttribute("id")||(e.id="ion-overlay-"+ ++Jg),e.id),iy='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ny=(e,t)=>{let i=e.querySelector(iy);const n=null==i?void 0:i.shadowRoot;n&&(i=n.querySelector(iy)||i),i?(e=>{if(e.focus(),e.classList.contains("ion-focusable")){const t=e.closest("ion-app");t&&t.setFocus([e])}})(i):t.focus()},ry=(e,t)=>{const i=Array.from(e.querySelectorAll(iy));let n=i.length>0?i[i.length-1]:null;const r=null==n?void 0:n.shadowRoot;r&&(n=r.querySelector(iy)||n),n?n.focus():t.focus()},ay=(e,t)=>{const i=oy(t,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),n=e.target;if(!i||!n)return;if(i.classList.contains("ion-disable-focus-trap"))return;i.shadowRoot?(()=>{if(i.contains(n))i.lastFocus=n;else{const e=i.lastFocus;ny(i,i),e===t.activeElement&&ry(i,i),i.lastFocus=t.activeElement}})():(()=>{if(i===n)i.lastFocus=void 0;else{const e=hf(i);if(!e.contains(n))return;const r=e.querySelector(".ion-overlay-wrapper");if(!r)return;if(r.contains(n)||n===e.querySelector("ion-backdrop"))i.lastFocus=n;else{const e=i.lastFocus;ny(r,i),e===t.activeElement&&ry(r,i),i.lastFocus=t.activeElement}}})()},sy=e=>{0===Xg&&(Xg=1,e.addEventListener("focus",(t=>{ay(t,e)}),!0),e.addEventListener("ionBackButton",(t=>{const i=oy(e);(null==i?void 0:i.backdropDismiss)&&t.detail.register(100,(()=>i.dismiss(void 0,vy)))})),e.addEventListener("keydown",(t=>{if("Escape"===t.key){const t=oy(e);(null==t?void 0:t.backdropDismiss)&&t.dismiss(void 0,vy)}})))},oy=(e,t,i)=>{const n=((e,t)=>(void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(e.querySelectorAll(t)).filter((e=>e.overlayIndex>0))))(e,t).filter((e=>!e.classList.contains("overlay-hidden")));return void 0===i?n[n.length-1]:n.find((e=>e.id===i))},ly=(e=!1)=>{const t=hy(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");t&&(e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden"))},cy=async(e,t,i,n,r)=>{var a,s;if(e.presented)return;ly(!0),e.presented=!0,e.willPresent.emit(),null===(a=e.willPresentShorthand)||void 0===a||a.emit();const o=Og(e),l=e.enterAnimation?e.enterAnimation:pg.get(t,"ios"===o?i:n);await py(e,l,e.el,r)&&(e.didPresent.emit(),null===(s=e.didPresentShorthand)||void 0===s||s.emit()),"ION-TOAST"!==e.el.tagName&&dy(e.el),!e.keyboardClose||null!==document.activeElement&&e.el.contains(document.activeElement)||e.el.focus()},dy=async e=>{let t=document.activeElement;if(!t)return;const i=null==t?void 0:t.shadowRoot;i&&(t=i.querySelector(iy)||t),await e.onDidDismiss(),t.focus()},uy=async(e,t,i,n,r,a,s)=>{var o,l;if(!e.presented)return!1;ly(!1),e.presented=!1;try{e.el.style.setProperty("pointer-events","none"),e.willDismiss.emit({data:t,role:i}),null===(o=e.willDismissShorthand)||void 0===o||o.emit({data:t,role:i});const c=Og(e),d=e.leaveAnimation?e.leaveAnimation:pg.get(n,"ios"===c?r:a);i!==wy&&await py(e,d,e.el,s),e.didDismiss.emit({data:t,role:i}),null===(l=e.didDismissShorthand)||void 0===l||l.emit({data:t,role:i}),Zg.delete(e),e.el.classList.add("overlay-hidden"),e.el.style.removeProperty("pointer-events"),void 0!==e.el.lastFocus&&(e.el.lastFocus=void 0)}catch(c){console.error(c)}return e.el.remove(),!0},hy=e=>e.querySelector("ion-app")||e.body,py=async(e,t,i,n)=>{i.classList.remove("overlay-hidden");const r=t(e.el,n);e.animated&&pg.getBoolean("animated",!0)||r.duration(0),e.keyboardClose&&r.beforeAddWrite((()=>{const e=i.ownerDocument.activeElement;(null==e?void 0:e.matches("input,ion-input, ion-textarea"))&&e.blur()}));const a=Zg.get(e)||[];return Zg.set(e,[...a,r]),await r.play(),!0},my=(e,t)=>{let i;const n=new Promise((e=>i=e));return fy(e,t,(e=>{i(e.detail)})),n},fy=(e,t,i)=>{const n=r=>{uf(e,t,n),i(r)};df(e,t,n)},gy=e=>"cancel"===e||e===vy,yy=e=>e(),by=(e,t)=>{if("function"==typeof e){return pg.get("_zoneGate",yy)((()=>{try{return e(t)}catch(E_){throw E_}}))}},vy="backdrop",wy="gesture",Ty=()=>{let e;const t=()=>{e&&(e(),e=void 0)};return{addClickListener:(i,n)=>{t();const r=void 0!==n?document.getElementById(n):null;if(!r)return void Qg(`A trigger element with the ID "${n}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,i);e=((e,t)=>{const i=()=>{t.present()};return e.addEventListener("click",i),()=>{e.removeEventListener("click",i)}})(r,i)},removeClickListener:t}};function xy(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}"function"==typeof SuppressedError&&SuppressedError;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Ey="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",_y="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",Sy="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>";
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
let Cy;const ky=e=>{const t=(()=>{if("undefined"==typeof window)return new Map;if(!Cy){const e=window;e.Ionicons=e.Ionicons||{},Cy=e.Ionicons.map=e.Ionicons.map||new Map}return Cy})().get(e);return t||(e=>{const t=new URL(e,Hm.$resourcesUrl$);return t.origin!==Fm.location.origin?t.href:t.pathname})(`svg/${e}.svg`)},Ay=(e,t,i,n,r)=>{if(i="ios"===(i&&Py(i))?"ios":"md",n&&"ios"===i?e=Py(n):r&&"md"===i?e=Py(r):(e||!t||Oy(t)||(e=t),My(e)&&(e=Py(e))),!My(e)||""===e.trim())return null;return""!==e.replace(/[a-z]|-|\d/gi,"")?null:e},Ny=e=>My(e)&&(e=e.trim(),Oy(e))?e:null,Oy=e=>e.length>0&&/(\/|\.)/.test(e),My=e=>"string"==typeof e,Py=e=>e.toLowerCase(),Iy=e=>{if(1===e.nodeType){if("script"===e.nodeName.toLowerCase())return!1;for(let t=0;t<e.attributes.length;t++){const i=e.attributes[t].name;if(My(i)&&0===i.toLowerCase().indexOf("on"))return!1}for(let t=0;t<e.childNodes.length;t++)if(!Iy(e.childNodes[t]))return!1}return!0},Ry=new Map,Ly=new Map;let Dy;const jy=(e,t)=>{let i=Ly.get(e);if(!i){if("undefined"==typeof fetch||"undefined"==typeof document)return Ry.set(e,""),Promise.resolve();if((e=>e.startsWith("data:image/svg+xml"))(e)&&(e=>-1!==e.indexOf(";utf8,"))(e)){Dy||(Dy=new DOMParser);const t=Dy.parseFromString(e,"text/html").querySelector("svg");return t&&Ry.set(e,t.outerHTML),Promise.resolve()}i=fetch(e).then((i=>{if(i.ok)return i.text().then((i=>{i&&!1!==t&&(i=(e=>{const t=document.createElement("div");t.innerHTML=e;for(let n=t.childNodes.length-1;n>=0;n--)"svg"!==t.childNodes[n].nodeName.toLowerCase()&&t.removeChild(t.childNodes[n]);const i=t.firstElementChild;if(i&&"svg"===i.nodeName.toLowerCase()){const e=i.getAttribute("class")||"";if(i.setAttribute("class",(e+" s-ion-icon").trim()),Iy(i))return t.innerHTML}return""})(i)),Ry.set(e,i||"")}));Ry.set(e,"")})),Ly.set(e,i)}return i},$y=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=By(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=((e,t=[])=>{const i={};return t.forEach((t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(i[t]=e.getAttribute(t)),e.removeAttribute(t))})),i})(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",(()=>{this.isVisible=!0,this.loadIcon()}))}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,i){if(this.lazy&&"undefined"!=typeof window&&window.IntersectionObserver){const n=this.io=new window.IntersectionObserver((e=>{e[0].isIntersecting&&(n.disconnect(),this.io=void 0,i())}),{rootMargin:t});n.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=(e=>{let t=Ny(e.src);if(t)return t;if(t=Ay(e.name,e.icon,e.mode,e.ios,e.md),t)return ky(t);if(e.icon){if(t=Ny(e.icon),t)return t;if(t=Ny(e.icon[e.mode]),t)return t}return null})(this);e&&(Ry.has(e)?this.svgContent=Ry.get(e):jy(e,this.sanitize).then((()=>this.svgContent=Ry.get(e))))}this.iconName=Ay(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{iconName:e,el:t,inheritedAttributes:i}=this,n=this.mode||"md",r=this.flipRtl||e&&(e.indexOf("arrow")>-1||e.indexOf("chevron")>-1)&&!1!==this.flipRtl;return Fp(Vp,Object.assign({role:"img",class:Object.assign(Object.assign({[n]:!0},qy(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":!!r&&(a=t,a&&""!==a.dir?"rtl"===a.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))})},i),this.svgContent?Fp("div",{class:"icon-inner",innerHTML:this.svgContent}):Fp("div",{class:"icon-inner"}));var a}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}:host(.flip-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),By=()=>"undefined"!=typeof document&&document.documentElement.getAttribute("mode")||"md",qy=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null;function Uy(){if("undefined"==typeof customElements)return;["ion-icon"].forEach((e=>{if("ion-icon"===e)customElements.get(e)||customElements.define(e,$y)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Fy=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=Kp(this,"ionBackdropTap",7),this.blocker=ng.createBlocker({disableScroll:!0}),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}connectedCallback(){this.stopPropagation&&this.blocker.block()}disconnectedCallback(){this.blocker.unblock()}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const e=Og(this);return Fp(Vp,{tabindex:"-1","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",md:":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}"}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function zy(){if("undefined"==typeof customElements)return;["ion-backdrop"].forEach((e=>{if("ion-backdrop"===e)customElements.get(e)||customElements.define(e,Fy)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Vy=(e,t)=>null!==t.closest(e),Hy=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,Wy=e=>{const t={};return(e=>{if(void 0!==e)return(Array.isArray(e)?e:e.split(" ")).filter((e=>null!=e)).map((e=>e.trim())).filter((e=>""!==e));return[]})(e).forEach((e=>t[e]=!0)),t},Gy=/^[a-z][a-z0-9+\-.]*:/,Ky=async(e,t,i,n)=>{if(null!=e&&"#"!==e[0]&&!Gy.test(e)){const r=document.querySelector("ion-router");if(r)return null!=t&&t.preventDefault(),r.push(e,i,n)}return!1},Qy=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Og(this);return Fp(Vp,{class:Hy(this.color,{[e]:!0})},Fp("slot",null))}static get style(){return{ios:":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{border-radius:10px}",md:":host{--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff);--padding-top:3px;--padding-end:8px;--padding-bottom:3px;--padding-start:8px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:inline-block;min-width:10px;background:var(--background);color:var(--color);font-family:var(--ion-font-family, inherit);font-size:13px;font-weight:bold;line-height:1;text-align:center;white-space:nowrap;contain:content;vertical-align:baseline}:host(.ion-color){background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(:empty){display:none}:host{--padding-top:3px;--padding-end:4px;--padding-bottom:4px;--padding-start:4px;border-radius:4px}"}}},[33,"ion-badge",{color:[513]}]);const Yy=function(){if("undefined"==typeof customElements)return;["ion-badge"].forEach((e=>{if("ion-badge"===e)customElements.get(e)||customElements.define(e,Qy)}))},Xy=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){const e=Og(this);return Fp(Vp,{class:{[e]:!0,"buttons-collapse":this.collapse}})}static get style(){return{ios:".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:28px;line-height:0.67}",md:".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:48px;height:48px}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}"}}},[34,"ion-buttons",{collapse:[4]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Jy=function(){if("undefined"==typeof customElements)return;["ion-buttons"].forEach((e=>{if("ion-buttons"===e)customElements.get(e)||customElements.define(e,Xy)}))},Zy=e=>{const t=e;let i;return{hasLegacyControl:()=>{if(void 0===i){const e=void 0!==t.label||eb(t),n=t.hasAttribute("aria-label")||t.hasAttribute("aria-labelledby")&&null===t.shadowRoot,r=ff(t);i=!0===t.legacy||!e&&!n&&null!==r}return i}}},eb=e=>null!==e.shadowRoot&&(!(!tb.includes(e.tagName)||null===e.querySelector('[slot="label"]'))||!(!ib.includes(e.tagName)||""===e.textContent)),tb=["ION-RANGE"],ib=["ION-TOGGLE","ION-CHECKBOX","ION-RADIO"],nb=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,t){return new Promise((i=>{ef((()=>{const n=this.el.getBoundingClientRect(),r=n.width,a=n.height,s=Math.sqrt(r*r+a*a),o=Math.max(a,r),l=this.unbounded?o:s+ab,c=Math.floor(o*sb),d=l/c;let u=e-n.left,h=t-n.top;this.unbounded&&(u=.5*r,h=.5*a);const p=u-.5*c,m=h-.5*c,f=.5*r-u,g=.5*a-h;tf((()=>{const e=document.createElement("div");e.classList.add("ripple-effect");const t=e.style;t.top=m+"px",t.left=p+"px",t.width=t.height=c+"px",t.setProperty("--final-scale",`${d}`),t.setProperty("--translate-end",`${f}px, ${g}px`);(this.el.shadowRoot||this.el).appendChild(e),setTimeout((()=>{i((()=>{rb(e)}))}),325)}))}))}))}get unbounded(){return"unbounded"===this.type}render(){const e=Og(this);return Fp(Vp,{role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}"}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),rb=e=>{e.classList.add("fade-out"),setTimeout((()=>{e.remove()}),200)},ab=10,sb=.5;
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */function ob(){if("undefined"==typeof customElements)return;["ion-ripple-effect"].forEach((e=>{if("ion-ripple-effect"===e)customElements.get(e)||customElements.define(e,nb)}))}
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const lb={xs:"(min-width: 0px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"},cb=e=>{if(void 0===e||""===e)return!0;if(window.matchMedia){const t=lb[e];return window.matchMedia(t).matches}return!1},db="undefined"!=typeof window?window:void 0,ub=db&&!!(db.CSS&&db.CSS.supports&&db.CSS.supports("--a: 0")),hb=["","xs","sm","md","lg","xl"],pb=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.offset=void 0,this.offsetXs=void 0,this.offsetSm=void 0,this.offsetMd=void 0,this.offsetLg=void 0,this.offsetXl=void 0,this.pull=void 0,this.pullXs=void 0,this.pullSm=void 0,this.pullMd=void 0,this.pullLg=void 0,this.pullXl=void 0,this.push=void 0,this.pushXs=void 0,this.pushSm=void 0,this.pushMd=void 0,this.pushLg=void 0,this.pushXl=void 0,this.size=void 0,this.sizeXs=void 0,this.sizeSm=void 0,this.sizeMd=void 0,this.sizeLg=void 0,this.sizeXl=void 0}onResize(){_m(this)}getColumns(e){let t;for(const i of hb){const n=cb(i),r=this[e+i.charAt(0).toUpperCase()+i.slice(1)];n&&void 0!==r&&(t=r)}return t}calculateSize(){const e=this.getColumns("size");if(!e||""===e)return;const t="auto"===e?"auto":ub?`calc(calc(${e} / var(--ion-grid-columns, 12)) * 100%)`:e/12*100+"%";return{flex:`0 0 ${t}`,width:`${t}`,"max-width":`${t}`}}calculatePosition(e,t){const i=this.getColumns(e);if(!i)return;return{[t]:ub?`calc(calc(${i} / var(--ion-grid-columns, 12)) * 100%)`:i>0&&i<12?i/12*100+"%":"auto"}}calculateOffset(e){return this.calculatePosition("offset",e?"margin-right":"margin-left")}calculatePull(e){return this.calculatePosition("pull",e?"left":"right")}calculatePush(e){return this.calculatePosition("push",e?"right":"left")}render(){const e="rtl"===document.dir,t=Og(this);return Fp(Vp,{class:{[t]:!0},style:Object.assign(Object.assign(Object.assign(Object.assign({},this.calculateOffset(e)),this.calculatePull(e)),this.calculatePush(e)),this.calculateSize())},Fp("slot",null))}static get style(){return":host{-webkit-padding-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;-ms-flex-preferred-size:0;flex-basis:0;-ms-flex-positive:1;flex-grow:1;width:100%;max-width:100%;min-height:1px}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-start:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));-webkit-padding-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-inline-end:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-top:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));padding-bottom:var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px))}}"}},[1,"ion-col",{offset:[1],offsetXs:[1,"offset-xs"],offsetSm:[1,"offset-sm"],offsetMd:[1,"offset-md"],offsetLg:[1,"offset-lg"],offsetXl:[1,"offset-xl"],pull:[1],pullXs:[1,"pull-xs"],pullSm:[1,"pull-sm"],pullMd:[1,"pull-md"],pullLg:[1,"pull-lg"],pullXl:[1,"pull-xl"],push:[1],pushXs:[1,"push-xs"],pushSm:[1,"push-sm"],pushMd:[1,"push-md"],pushLg:[1,"push-lg"],pushXl:[1,"push-xl"],size:[1],sizeXs:[1,"size-xs"],sizeSm:[1,"size-sm"],sizeMd:[1,"size-md"],sizeLg:[1,"size-lg"],sizeXl:[1,"size-xl"]},[[9,"resize","onResize"]]]);const mb=function(){if("undefined"==typeof customElements)return;["ion-col"].forEach((e=>{if("ion-col"===e)customElements.get(e)||customElements.define(e,pb)}))},fb=t("i",(e=>e&&""!==e.dir?"rtl"===e.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))),gb=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=Kp(this,"ionScrollStart",7),this.ionScroll=Kp(this,"ionScroll",7),this.ionScrollEnd=Kp(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}connectedCallback(){this.isMainContent=null===this.el.closest("ion-menu, ion-popover, ion-modal")}disconnectedCallback(){this.onScrollEnd()}onAppLoad(){this.resize()}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout((()=>{null!==this.el.offsetParent&&this.resize()}),100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,t=Og(this);return void 0===e?"ios"===t&&yg("ios"):e}resize(){this.fullscreen?ef((()=>this.readDimensions())):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,_m(this))}readDimensions(){const e=yb(this.el),t=Math.max(this.el.offsetTop,0),i=Math.max(e.offsetHeight-t-this.el.offsetHeight,0);(t!==this.cTop||i!==this.cBottom)&&(this.cTop=t,this.cBottom=i,_m(this))}onScroll(e){const t=Date.now(),i=!this.isScrolling;this.lastScroll=t,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,ef((t=>{this.queued=!1,this.detail.event=e,bb(this.detail,this.scrollEl,t,i),this.ionScroll.emit(this.detail)})))}async getScrollElement(){return this.scrollEl||await new Promise((e=>af(this.el,e))),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise((e=>af(this.el,e))),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const t=await this.getScrollElement(),i=t.scrollHeight-t.clientHeight;return this.scrollToPoint(void 0,i,e)}async scrollByPoint(e,t,i){const n=await this.getScrollElement();return this.scrollToPoint(e+n.scrollLeft,t+n.scrollTop,i)}async scrollToPoint(e,t,i=0){const n=await this.getScrollElement();if(i<32)return null!=t&&(n.scrollTop=t),void(null!=e&&(n.scrollLeft=e));let r,a=0;const s=new Promise((e=>r=e)),o=n.scrollTop,l=n.scrollLeft,c=null!=t?t-o:0,d=null!=e?e-l:0,u=e=>{const t=Math.min(1,(e-a)/i)-1,s=Math.pow(t,3)+1;0!==c&&(n.scrollTop=Math.floor(s*c+o)),0!==d&&(n.scrollLeft=Math.floor(s*d+l)),s<1?requestAnimationFrame(u):r()};return requestAnimationFrame((e=>{a=e,u(e)})),s}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval((()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()}),100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{isMainContent:e,scrollX:t,scrollY:i,el:n}=this,r=fb(n)?"rtl":"ltr",a=Og(this),s=this.shouldForceOverscroll(),o="ios"===a,l=e?"main":"div";return this.resize(),Fp(Vp,{class:Hy(this.color,{[a]:!0,"content-sizing":Vy("ion-popover",this.el),overscroll:s,[`content-${r}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},Fp("div",{ref:e=>this.backgroundContentEl=e,id:"background-content",part:"background"}),Fp(l,{class:{"inner-scroll":!0,"scroll-x":t,"scroll-y":i,overscroll:(t||i)&&s},ref:e=>this.scrollEl=e,onScroll:this.scrollEvents?e=>this.onScroll(e):void 0,part:"scroll"},Fp("slot",null)),o?Fp("div",{class:"transition-effect"},Fp("div",{class:"transition-cover"}),Fp("div",{class:"transition-shadow"})):null,Fp("slot",{name:"fixed"}))}get el(){return this}static get style(){return':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50, #f2f2f2)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}'}},[1,"ion-content",{color:[513],fullscreen:[4],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]]),yb=e=>{const t=e.closest("ion-tabs");if(t)return t;const i=e.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return i||(e=>{var t;return e.parentElement?e.parentElement:(null===(t=e.parentNode)||void 0===t?void 0:t.host)?e.parentNode.host:null})(e)},bb=(e,t,i,n)=>{const r=e.currentX,a=e.currentY,s=e.currentTime,o=t.scrollLeft,l=t.scrollTop,c=i-s;if(n&&(e.startTime=i,e.startX=o,e.startY=l,e.velocityX=e.velocityY=0),e.currentTime=i,e.currentX=e.scrollLeft=o,e.currentY=e.scrollTop=l,e.deltaX=o-e.startX,e.deltaY=l-e.startY,c>0&&c<100){const t=(o-r)/c,i=(l-a)/c;e.velocityX=.7*t+.3*e.velocityX,e.velocityY=.7*i+.3*e.velocityY}};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const vb=function(){if("undefined"==typeof customElements)return;["ion-content"].forEach((e=>{if("ion-content"===e)customElements.get(e)||customElements.define(e,gb)}))},wb=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionFocus=Kp(this,"ionFocus",7),this.ionBlur=Kp(this,"ionBlur",7),this.inItem=!1,this.inListHeader=!1,this.inToolbar=!1,this.formButtonEl=null,this.formEl=null,this.inheritedAttributes={},this.handleClick=e=>{const{el:t}=this;"button"===this.type?Ky(this.href,e,this.routerDirection,this.routerAnimation):mf(t)&&this.submitForm(e)},this.onFocus=()=>{this.ionFocus.emit()},this.onBlur=()=>{this.ionBlur.emit()},this.color=void 0,this.buttonType="button",this.disabled=!1,this.expand=void 0,this.fill=void 0,this.routerDirection="forward",this.routerAnimation=void 0,this.download=void 0,this.href=void 0,this.rel=void 0,this.shape=void 0,this.size=void 0,this.strong=!1,this.target=void 0,this.type="button",this.form=void 0}disabledChanged(){const{disabled:e}=this;this.formButtonEl&&(this.formButtonEl.disabled=e)}renderHiddenButton(){const e=this.formEl=this.findForm();if(e){const{formButtonEl:t}=this;if(null!==t&&e.contains(t))return;const i=this.formButtonEl=document.createElement("button");i.type=this.type,i.style.display="none",i.disabled=this.disabled,e.appendChild(i)}}componentWillLoad(){this.inToolbar=!!this.el.closest("ion-buttons"),this.inListHeader=!!this.el.closest("ion-list-header"),this.inItem=!!this.el.closest("ion-item")||!!this.el.closest("ion-item-divider"),this.inheritedAttributes=cf(this.el)}get hasIconOnly(){return!!this.el.querySelector('[slot="icon-only"]')}get rippleType(){return(void 0===this.fill||"clear"===this.fill)&&this.hasIconOnly&&this.inToolbar?"unbounded":"bounded"}findForm(){const{form:e}=this;if(e instanceof HTMLFormElement)return e;if("string"==typeof e){const t=document.getElementById(e);return t?t instanceof HTMLFormElement?t:(Qg(`Form with selector: "#${e}" could not be found. Verify that the id is attached to a <form> element.`,this.el),null):(Qg(`Form with selector: "#${e}" could not be found. Verify that the id is correct and the form is rendered in the DOM.`,this.el),null)}return void 0!==e?(Qg('The provided "form" element is invalid. Verify that the form is a HTMLFormElement and rendered in the DOM.',this.el),null):this.el.closest("form")}submitForm(e){this.formEl&&this.formButtonEl&&(e.preventDefault(),this.formButtonEl.click())}render(){const e=Og(this),{buttonType:t,type:i,disabled:n,rel:r,target:a,size:s,href:o,color:l,expand:c,hasIconOnly:d,shape:u,strong:h,inheritedAttributes:p}=this,m=void 0===s&&this.inItem?"small":s,f=void 0===o?"button":"a",g="button"===f?{type:i}:{download:this.download,href:o,rel:r,target:a};let y=this.fill;return null==y&&(y=this.inToolbar||this.inListHeader?"clear":"solid"),"button"!==i&&this.renderHiddenButton(),Fp(Vp,{onClick:this.handleClick,"aria-disabled":n?"true":null,class:Hy(l,{[e]:!0,[t]:!0,[`${t}-${c}`]:void 0!==c,[`${t}-${m}`]:void 0!==m,[`${t}-${u}`]:void 0!==u,[`${t}-${y}`]:!0,[`${t}-strong`]:h,"in-toolbar":Vy("ion-toolbar",this.el),"in-toolbar-color":Vy("ion-toolbar[color]",this.el),"in-buttons":Vy("ion-buttons",this.el),"button-has-icon-only":d,"button-disabled":n,"ion-activatable":!0,"ion-focusable":!0})},Fp(f,Object.assign({},g,{class:"button-native",part:"native",disabled:n,onFocus:this.onFocus,onBlur:this.onBlur},p),Fp("span",{class:"button-inner"},Fp("slot",{name:"icon-only"}),Fp("slot",{name:"start"}),Fp("slot",null),Fp("slot",{name:"end"})),"md"===e&&Fp("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get watchers(){return{disabled:["disabledChanged"]}}static get style(){return{ios:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:14px;--padding-top:13px;--padding-bottom:13px;--padding-start:1em;--padding-end:1em;--transition:background-color, opacity 100ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:3.1em;font-size:16px;font-weight:500;letter-spacing:0}:host(.in-buttons){font-size:17px;font-weight:400}:host(.button-solid){--background-activated:var(--ion-color-primary-shade, #3171e0);--background-focused:var(--ion-color-primary-shade, #3171e0);--background-hover:var(--ion-color-primary-tint, #4c8dff);--background-activated-opacity:1;--background-focused-opacity:1;--background-hover-opacity:1}:host(.button-outline){--border-radius:14px;--border-width:1px;--border-style:solid;--background-activated:var(--ion-color-primary, #3880ff);--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;--color-activated:var(--ion-color-primary-contrast, #fff)}:host(.button-clear){--background-activated:transparent;--background-activated-opacity:0;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:transparent;--background-focused-opacity:.1;font-size:17px;font-weight:normal}:host(.button-large){--border-radius:16px;--padding-top:17px;--padding-start:1em;--padding-end:1em;--padding-bottom:17px;min-height:3.1em;font-size:20px}:host(.button-small){--border-radius:6px;--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:13px}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-strong){font-weight:600}:host(.button-outline.ion-focused.ion-color) .button-native,:host(.button-clear.ion-focused.ion-color) .button-native{color:var(--ion-color-base)}:host(.button-outline.ion-focused.ion-color) .button-native::after,:host(.button-clear.ion-focused.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-shade)}@media (any-hover: hover){:host(.button-clear:not(.ion-activated):hover),:host(.button-outline:not(.ion-activated):hover){opacity:0.6}:host(.button-clear.ion-color:hover) .button-native,:host(.button-outline.ion-color:hover) .button-native{color:var(--ion-color-base)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:transparent}:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-tint)}:host(:hover.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color):not(.ion-activated)) .button-native::after{background:#fff;opacity:0.1}}:host(.button-clear.ion-activated){opacity:0.4}:host(.button-outline.ion-activated.ion-color) .button-native{color:var(--ion-color-contrast)}:host(.button-outline.ion-activated.ion-color) .button-native::after{background:var(--ion-color-base)}:host(.button-solid.ion-color.ion-activated) .button-native::after{background:var(--ion-color-shade)}',md:':host{--overflow:hidden;--ripple-color:currentColor;--border-width:initial;--border-color:initial;--border-style:initial;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--box-shadow:none;display:inline-block;width:auto;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;vertical-align:top;vertical-align:-webkit-baseline-middle;-webkit-font-kerning:none;font-kerning:none}:host(.button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.button-solid){--background:var(--ion-color-primary, #3880ff);--color:var(--ion-color-primary-contrast, #fff)}:host(.button-outline){--border-color:var(--ion-color-primary, #3880ff);--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-clear){--border-width:0;--background:transparent;--color:var(--ion-color-primary, #3880ff)}:host(.button-block){display:block}:host(.button-block) .button-native{margin-left:0;margin-right:0;width:100%;clear:both;contain:content}:host(.button-block) .button-native::after{clear:both}:host(.button-full){display:block}:host(.button-full) .button-native{margin-left:0;margin-right:0;width:100%;contain:content}:host(.button-full:not(.button-round)) .button-native{border-radius:0;border-right-width:0;border-left-width:0}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:center;align-items:center;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);line-height:1;-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);contain:layout style;cursor:pointer;opacity:var(--opacity);overflow:var(--overflow);z-index:0;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-native::-moz-focus-inner{border:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}::slotted([slot=start]),::slotted([slot=end]){-ms-flex-negative:0;flex-shrink:0}::slotted(ion-icon){font-size:1.35em;pointer-events:none}::slotted(ion-icon[slot=start]){-webkit-margin-start:-0.3em;margin-inline-start:-0.3em;-webkit-margin-end:0.3em;margin-inline-end:0.3em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=end]){-webkit-margin-start:0.3em;margin-inline-start:0.3em;-webkit-margin-end:-0.2em;margin-inline-end:-0.2em;margin-top:0;margin-bottom:0}::slotted(ion-icon[slot=icon-only]){font-size:1.8em}ion-ripple-effect{color:var(--ripple-color)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}:host(.ion-focused){color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){:host(:hover){color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-activated){color:var(--color-activated)}:host(.ion-activated) .button-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.button-solid.ion-color) .button-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.button-outline.ion-color) .button-native{border-color:var(--ion-color-base);background:transparent;color:var(--ion-color-base)}:host(.button-clear.ion-color) .button-native{background:transparent;color:var(--ion-color-base)}:host(.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{color:var(--ion-toolbar-color, var(--color))}:host(.button-outline.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{border-color:var(--ion-toolbar-color, var(--color, var(--border-color)))}:host(.button-solid.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--background));color:var(--ion-toolbar-background, var(--color))}:host(.button-outline.ion-activated.in-toolbar:not(.ion-color):not(.in-toolbar-color)) .button-native{background:var(--ion-toolbar-color, var(--color));color:var(--ion-toolbar-background, var(--background), var(--ion-color-primary-contrast, #fff))}:host{--border-radius:4px;--padding-top:8px;--padding-bottom:8px;--padding-start:1.1em;--padding-end:1.1em;--transition:box-shadow 280ms cubic-bezier(.4, 0, .2, 1),\n                background-color 15ms linear,\n                color 15ms linear;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;margin-top:4px;margin-bottom:4px;min-height:36px;font-size:14px;font-weight:500;letter-spacing:0.06em;text-transform:uppercase}:host(.button-solid){--background-activated:transparent;--background-hover:var(--ion-color-primary-contrast, #fff);--background-focused:var(--ion-color-primary-contrast, #fff);--background-activated-opacity:0;--background-focused-opacity:.24;--background-hover-opacity:.08;--box-shadow:0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12)}:host(.button-solid.ion-activated){--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12)}:host(.button-outline){--border-width:2px;--border-style:solid;--box-shadow:none;--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-outline.ion-activated.ion-color) .button-native{background:transparent}:host(.button-clear){--background-activated:transparent;--background-focused:var(--ion-color-primary, #3880ff);--background-hover:var(--ion-color-primary, #3880ff);--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04}:host(.button-round){--border-radius:64px;--padding-top:0;--padding-start:26px;--padding-end:26px;--padding-bottom:0}:host(.button-large){--padding-top:14px;--padding-start:1em;--padding-end:1em;--padding-bottom:14px;min-height:2.8em;font-size:20px}:host(.button-small){--padding-top:4px;--padding-start:0.9em;--padding-end:0.9em;--padding-bottom:4px;min-height:2.1em;font-size:13px}:host(.button-has-icon-only){--padding-top:0;--padding-bottom:0}:host(.button-strong){font-weight:bold}::slotted(ion-icon[slot=icon-only]){padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}:host(.button-solid.ion-color.ion-focused) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color.ion-focused) .button-native::after,:host(.button-outline.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.button-solid.ion-color:hover) .button-native::after{background:var(--ion-color-contrast)}:host(.button-clear.ion-color:hover) .button-native::after,:host(.button-outline.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}'}}},[33,"ion-button",{color:[513],buttonType:[1025,"button-type"],disabled:[516],expand:[513],fill:[1537],routerDirection:[1,"router-direction"],routerAnimation:[16],download:[1],href:[1],rel:[1],shape:[513],size:[513],strong:[4],target:[1],type:[1],form:[1]}]),Tb=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.color=void 0,this.button=!1,this.detail=void 0,this.detailIcon=Ey,this.disabled=!1,this.download=void 0,this.fill=void 0,this.shape=void 0,this.href=void 0,this.rel=void 0,this.lines=void 0,this.counter=!1,this.routerAnimation=void 0,this.routerDirection="forward",this.target=void 0,this.type="button",this.counterFormatter=void 0,this.counterString=void 0}counterFormatterChanged(){this.updateCounterOutput(this.getFirstInput())}handleIonInput(e){this.counter&&e.target===this.getFirstInput()&&this.updateCounterOutput(e.target)}labelColorChanged(e){const{color:t}=this;void 0===t&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const t=e.target.tagName,i=e.detail,n={},r=this.itemStyles.get(t)||{};let a=!1;Object.keys(i).forEach((e=>{if(i[e]){const t=`item-${e}`;r[t]||(a=!0),n[t]=!0}})),a||Object.keys(n).length===Object.keys(r).length||(a=!0),a&&(this.itemStyles.set(t,n),_m(this))}connectedCallback(){this.counter&&this.updateCounterOutput(this.getFirstInput()),this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=of(this.el,["aria-label"])}componentDidLoad(){const{el:e,counter:t,counterFormatter:i,fill:n,shape:r}=this;null!==e.querySelector('[slot="helper"]')&&Qg('The "helper" slot has been deprecated in favor of using the "helperText" property on ion-input or ion-textarea.',e);null!==e.querySelector('[slot="error"]')&&Qg('The "error" slot has been deprecated in favor of using the "errorText" property on ion-input or ion-textarea.',e),!0===t&&Qg('The "counter" property has been deprecated in favor of using the "counter" property on ion-input or ion-textarea.',e),void 0!==i&&Qg('The "counterFormatter" property has been deprecated in favor of using the "counterFormatter" property on ion-input or ion-textarea.',e),void 0!==n&&Qg('The "fill" property has been deprecated in favor of using the "fill" property on ion-input or ion-textarea.',e),void 0!==r&&Qg('The "shape" property has been deprecated in favor of using the "shape" property on ion-input or ion-textarea.',e),pf((()=>{this.setMultipleInputs(),this.focusable=this.isFocusable()}))}setMultipleInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),t=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),i=this.el.querySelectorAll("ion-anchor, ion-button, a, button");this.multipleInputs=e.length+t.length>1||e.length+i.length>1||e.length>0&&this.isClickable()}hasCover(){return 1===this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length&&!this.multipleInputs}isClickable(){return void 0!==this.href||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||null!==e}getFirstInput(){return this.el.querySelectorAll("ion-input, ion-textarea")[0]}updateCounterOutput(e){var t,i;const{counter:n,counterFormatter:r,defaultCounterFormatter:a}=this;if(n&&!this.multipleInputs&&void 0!==(null==e?void 0:e.maxlength)){const n=null!==(i=null===(t=null==e?void 0:e.value)||void 0===t?void 0:t.toString().length)&&void 0!==i?i:0;if(void 0===r)this.counterString=a(n,e.maxlength);else try{this.counterString=r(n,e.maxlength)}catch(E_){Yg("Exception in provided `counterFormatter`.",E_),this.counterString=a(n,e.maxlength)}}}defaultCounterFormatter(e,t){return`${e} / ${t}`}hasStartEl(){null!==this.el.querySelector('[slot="start"]')&&this.el.classList.add("item-has-start-slot")}render(){const{counterString:e,detail:t,detailIcon:i,download:n,fill:r,labelColorStyles:a,lines:s,disabled:o,href:l,rel:c,shape:d,target:u,routerAnimation:h,routerDirection:p,inheritedAriaAttributes:m}=this,f={},g=Og(this),y=this.isClickable(),b=this.canActivate(),v=y?void 0===l?"button":"a":"div",w="button"===v?{type:this.type}:{download:n,href:l,rel:c,target:u},T=y?{onClick:e=>{Ky(l,e,p,h)}}:{},x=void 0!==t?t:"ios"===g&&y;this.itemStyles.forEach((e=>{Object.assign(f,e)}));const E=o||f["item-interactive-disabled"]?"true":null,_=r||"none",S=Vy("ion-list",this.el)&&!Vy("ion-radio-group",this.el);return Fp(Vp,{"aria-disabled":E,class:Object.assign(Object.assign(Object.assign({},f),a),Hy(this.color,{item:!0,[g]:!0,"item-lines-default":void 0===s,[`item-lines-${s}`]:void 0!==s,[`item-fill-${_}`]:!0,[`item-shape-${d}`]:void 0!==d,"item-disabled":o,"in-list":S,"item-multiple-inputs":this.multipleInputs,"ion-activatable":b,"ion-focusable":this.focusable,"item-rtl":"rtl"===document.dir})),role:S?"listitem":null},Fp(v,Object.assign({},w,m,{class:"item-native",part:"native",disabled:o},T),Fp("slot",{name:"start"}),Fp("div",{class:"item-inner"},Fp("div",{class:"input-wrapper"},Fp("slot",null)),Fp("slot",{name:"end"}),x&&Fp("ion-icon",{icon:i,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":i===Ey}),Fp("div",{class:"item-inner-highlight"})),b&&"md"===g&&Fp("ion-ripple-effect",null),Fp("div",{class:"item-highlight"})),Fp("div",{class:"item-bottom"},Fp("slot",{name:"error"}),Fp("slot",{name:"helper"}),e&&Fp("ion-note",{class:"item-counter"},e)))}static get delegatesFocus(){return!0}get el(){return this}static get watchers(){return{counterFormatter:["counterFormatterChanged"]}}static get style(){return{ios:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));--color:var(--ion-item-color, var(--ion-text-color, #000));--highlight-height:0px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--bottom-padding-start:0px;font-size:16px}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-interactive){--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px;--show-inset-highlight:0}.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus) .item-highlight{border-top:none;border-right:none;border-left:none}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:13px}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:0}',md:':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--show-full-highlight:0;--show-inset-highlight:0;--detail-icon-color:initial;--detail-icon-font-size:20px;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-native,:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--inner-padding-start);padding-inline-start:var(--inner-padding-start);-webkit-padding-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-inline-end:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.item-bottom{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));padding-inline-start:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));-webkit-padding-end:var(--inner-padding-end);padding-inline-end:var(--inner-padding-end);padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}.item-highlight,.item-inner-highlight{left:0;right:0;top:0;bottom:0;border-radius:inherit;position:absolute;width:100%;height:100%;-webkit-transform:scaleX(0);transform:scaleX(0);-webkit-transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:border-bottom-width 200ms, -webkit-transform 200ms;transition:transform 200ms, border-bottom-width 200ms;transition:transform 200ms, border-bottom-width 200ms, -webkit-transform 200ms;z-index:2;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus),:host(.item-interactive.ion-touched.ion-invalid){--full-highlight-height:calc(var(--highlight-height) * var(--show-full-highlight));--inset-highlight-height:calc(var(--highlight-height) * var(--show-inset-highlight))}:host(.ion-focused) .item-highlight,:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-highlight,:host(.item-has-focus) .item-inner-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.ion-focused) .item-highlight,:host(.item-has-focus) .item-highlight{border-width:var(--full-highlight-height);opacity:var(--show-full-highlight)}:host(.ion-focused) .item-inner-highlight,:host(.item-has-focus) .item-inner-highlight{border-bottom-width:var(--inset-highlight-height);opacity:var(--show-inset-highlight)}:host(.ion-focused.item-fill-solid) .item-highlight,:host(.item-has-focus.item-fill-solid) .item-highlight{border-width:calc(var(--full-highlight-height) - 1px)}:host(.ion-focused) .item-inner-highlight,:host(.ion-focused:not(.item-fill-outline)) .item-highlight,:host(.item-has-focus) .item-inner-highlight,:host(.item-has-focus:not(.item-fill-outline)) .item-highlight{border-top:none;border-right:none;border-left:none}:host(.item-interactive.ion-focused),:host(.item-interactive.item-has-focus){--highlight-background:var(--highlight-color-focused)}:host(.item-interactive.ion-valid){--highlight-background:var(--highlight-color-valid)}:host(.item-interactive.ion-invalid){--highlight-background:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=helper]){display:none}::slotted([slot=error]){display:none;color:var(--highlight-color-invalid)}:host(.item-interactive.ion-invalid) ::slotted([slot=error]){display:block}:host(:not(.item-label)) ::slotted(ion-select.legacy-select){--padding-start:0;max-width:none}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0;-ms-flex-item-align:stretch;align-self:stretch;width:100%;max-width:100%}:host(:not(.item-label)) ::slotted(ion-datetime){--padding-start:0}:host(.item-label-stacked) ::slotted(ion-datetime),:host(.item-label-floating) ::slotted(ion-datetime){--padding-start:0;width:100%}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio),:host(.item-multiple-inputs) ::slotted(ion-select.legacy-select){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted([slot=helper]),::slotted([slot=error]),.item-counter{padding-top:5px;font-size:12px;z-index:1}.item-counter{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}@media (prefers-reduced-motion: reduce){.item-highlight,.item-inner-highlight{-webkit-transition:none;transition:none}}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;--highlight-height:1px;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);font-size:16px;font-weight:normal;text-transform:none}:host(.item-fill-outline){--highlight-height:2px}:host(.item-fill-none.item-interactive.ion-focus) .item-highlight,:host(.item-fill-none.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-none.item-interactive.ion-focus) .item-native,:host(.item-fill-none.item-interactive.item-has-focus) .item-native,:host(.item-fill-none.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1)}:host(.item-fill-outline.item-interactive.ion-focus) .item-highlight,:host(.item-fill-outline.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-highlight{border-width:var(--full-highlight-height);border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-outline.item-interactive.ion-touched.ion-invalid) .item-native{border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-highlight,:host(.item-fill-solid.item-interactive.item-has-focus) .item-highlight,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-highlight{-webkit-transform:scaleX(1);transform:scaleX(1);border-width:0 0 var(--full-highlight-height) 0;border-style:var(--border-style);border-color:var(--highlight-background)}:host(.item-fill-solid.item-interactive.ion-focus) .item-native,:host(.item-fill-solid.item-interactive.item-has-focus) .item-native,:host(.item-fill-solid.item-interactive.ion-touched.ion-invalid) .item-native{border-bottom-color:var(--highlight-background)}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-has-focus) .item-native{caret-color:var(--highlight-background)}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-full){--border-width:0 0 1px 0;--show-full-highlight:1;--show-inset-highlight:0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0;--show-full-highlight:0;--show-inset-highlight:1}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0;--show-full-highlight:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0;--show-inset-highlight:0}:host(.item-fill-outline) .item-highlight{--position-offset:calc(-1 * var(--border-width));top:var(--position-offset);width:calc(100% + 2 * var(--border-width));height:calc(100% + 2 * var(--border-width));-webkit-transition:none;transition:none}@supports (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{inset-inline-start:var(--position-offset)}}@supports not (inset-inline-start: 0){:host(.item-fill-outline) .item-highlight{left:var(--position-offset)}:host-context([dir=rtl]):host(.item-fill-outline) .item-highlight,:host-context([dir=rtl]).item-fill-outline .item-highlight{left:unset;right:unset;right:var(--position-offset)}@supports selector(:dir(rtl)){:host(.item-fill-outline) .item-highlight:dir(rtl){left:unset;right:unset;right:var(--position-offset)}}}:host(.item-fill-outline.ion-focused) .item-native,:host(.item-fill-outline.item-has-focus) .item-native{border-color:transparent}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted([slot=end]){-webkit-margin-start:32px;margin-inline-start:32px}:host(.item-fill-solid) ::slotted([slot=start]),:host(.item-fill-solid) ::slotted([slot=end]),:host(.item-fill-outline) ::slotted([slot=start]),:host(.item-fill-outline) ::slotted([slot=end]){-ms-flex-item-align:center;align-self:center}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:24px}:host(.ion-color:not(.item-fill-solid):not(.item-fill-outline)) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}:host(.item-fill-solid) ::slotted(ion-icon[slot=start]),:host(.item-fill-outline) ::slotted(ion-icon[slot=start]){-webkit-margin-end:8px;margin-inline-end:8px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:11px}::slotted(ion-note[slot]:not([slot=helper]):not([slot=error])){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-note[slot=start]){-webkit-padding-end:16px;padding-inline-end:16px}::slotted(ion-note[slot=end]){-webkit-padding-start:16px;padding-inline-start:16px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-label-fixed) ::slotted(ion-select.legacy-select),:host(.item-label-fixed) ::slotted(ion-datetime){--padding-start:8px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:12px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.item-label-stacked) ::slotted(ion-select.legacy-select),:host(.item-label-floating) ::slotted(ion-select.legacy-select){--padding-top:8px;--padding-bottom:8px;--padding-start:0}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #3880ff)}:host(.ion-color){--highlight-color-focused:var(--ion-color-contrast)}:host(.item-label-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid.ion-color),:host(.item-fill-outline.ion-color){--highlight-color-focused:var(--ion-color-base)}:host(.item-fill-solid){--background:var(--ion-color-step-50, #f2f2f2);--background-hover:var(--ion-color-step-100, #e6e6e6);--background-focused:var(--ion-color-step-150, #d9d9d9);--border-width:0 0 1px 0;--inner-border-width:0;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid),:host-context([dir=rtl]).item-fill-solid{border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid):dir(rtl){border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.item-fill-solid) .item-native{--border-color:var(--ion-color-step-500, gray)}:host(.item-fill-solid.ion-focused) .item-native,:host(.item-fill-solid.item-has-focus) .item-native{--background:var(--background-focused)}:host(.item-fill-solid.item-shape-round){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.item-fill-solid.item-shape-round),:host-context([dir=rtl]).item-fill-solid.item-shape-round{border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.item-fill-solid.item-shape-round):dir(rtl){border-top-left-radius:16px;border-top-right-radius:16px;border-bottom-right-radius:0;border-bottom-left-radius:0}}@media (any-hover: hover){:host(.item-fill-solid:hover) .item-native{--background:var(--background-hover);--border-color:var(--ion-color-step-750, #404040)}}:host(.item-fill-outline){--ripple-color:transparent;--background-focused:transparent;--background-hover:transparent;--border-color:var(--ion-color-step-500, gray);--border-width:1px;border:none;overflow:visible}:host(.item-fill-outline) .item-native{--native-padding-left:16px;border-radius:4px}:host(.item-fill-outline.item-shape-round) .item-native{--inner-padding-start:16px;border-radius:28px}:host(.item-fill-outline.item-shape-round) .item-bottom{-webkit-padding-start:32px;padding-inline-start:32px}:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.ion-focused) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-focus) .item-native ::slotted(ion-textarea:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-input:not(:first-child)),:host(.item-fill-outline.item-label-floating.item-has-value) .item-native ::slotted(ion-textarea:not(:first-child)){-webkit-transform:translateY(-14px);transform:translateY(-14px)}@media (any-hover: hover){:host(.item-fill-outline:hover) .item-native{--border-color:var(--ion-color-step-750, #404040)}}.item-counter{letter-spacing:0.0333333333em}'}}},[49,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[4],download:[1],fill:[1],shape:[1],href:[1],rel:[1],lines:[1],counter:[4],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],counterFormatter:[16],multipleInputs:[32],focusable:[32],counterString:[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]]),xb=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.ionColor=Kp(this,"ionColor",7),this.ionStyle=Kp(this,"ionStyle",7),this.inRange=!1,this.color=void 0,this.position=void 0,this.noAnimate=!1}componentWillLoad(){this.inRange=!!this.el.closest("ion-range"),this.noAnimate="floating"===this.position,this.emitStyle(),this.emitColor()}componentDidLoad(){this.noAnimate&&setTimeout((()=>{this.noAnimate=!1}),1e3)}colorChanged(){this.emitColor()}positionChanged(){this.emitStyle()}emitColor(){const{color:e}=this;this.ionColor.emit({"item-label-color":void 0!==e,[`ion-color-${e}`]:void 0!==e})}emitStyle(){const{inRange:e,position:t}=this;e||this.ionStyle.emit({label:!0,[`label-${t}`]:void 0!==t})}render(){const e=this.position,t=Og(this);return Fp(Vp,{class:Hy(this.color,{[t]:!0,"in-item-color":Vy("ion-item.ion-color",this.el),[`label-${e}`]:void 0!==e,"label-no-animate":this.noAnimate,"label-rtl":"rtl"===document.dir})})}get el(){return this}static get watchers(){return{color:["colorChanged"],position:["positionChanged"]}}static get style(){return{ios:".item.sc-ion-label-ios-h,.item .sc-ion-label-ios-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-ios-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{white-space:normal}.item-interactive-disabled.sc-ion-label-ios-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-ios-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-ios-h,.item-input .sc-ion-label-ios-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-ios-h,.item-textarea .sc-ion-label-ios-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-ios-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-ios-h,.label-floating.sc-ion-label-ios-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-ios-h{-webkit-transition:none;transition:none}.sc-ion-label-ios-s h1,.sc-ion-label-ios-s h2,.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-ios-h,[text-wrap].sc-ion-label-ios-h{font-size:14px;line-height:1.5}.label-stacked.sc-ion-label-ios-h{margin-bottom:4px;font-size:14px}.label-floating.sc-ion-label-ios-h{margin-bottom:0;-webkit-transform:translate(0, 29px);transform:translate(0, 29px);-webkit-transform-origin:left top;transform-origin:left top;-webkit-transition:-webkit-transform 150ms ease-in-out;transition:-webkit-transform 150ms ease-in-out;transition:transform 150ms ease-in-out;transition:transform 150ms ease-in-out, -webkit-transform 150ms ease-in-out}[dir=rtl].sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl] .sc-ion-label-ios-h -no-combinator.label-floating.sc-ion-label-ios-h,[dir=rtl].label-floating.sc-ion-label-ios-h,[dir=rtl] .label-floating.sc-ion-label-ios-h{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.label-floating.sc-ion-label-ios-h:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.item-textarea.label-floating.sc-ion-label-ios-h,.item-textarea .label-floating.sc-ion-label-ios-h{-webkit-transform:translate(0, 28px);transform:translate(0, 28px)}.item-has-focus.label-floating.sc-ion-label-ios-h,.item-has-focus .label-floating.sc-ion-label-ios-h,.item-has-placeholder.sc-ion-label-ios-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-ios-h,.item-has-value.label-floating.sc-ion-label-ios-h,.item-has-value .label-floating.sc-ion-label-ios-h{-webkit-transform:scale(0.82);transform:scale(0.82)}.sc-ion-label-ios-s h1{margin-left:0;margin-right:0;margin-top:3px;margin-bottom:2px;font-size:22px;font-weight:normal}.sc-ion-label-ios-s h2{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:17px;font-weight:normal}.sc-ion-label-ios-s h3,.sc-ion-label-ios-s h4,.sc-ion-label-ios-s h5,.sc-ion-label-ios-s h6{margin-left:0;margin-right:0;margin-top:0;margin-bottom:3px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-ios-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:normal;text-overflow:inherit;overflow:inherit}.sc-ion-label-ios-s>p{color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.4)}.sc-ion-label-ios-h.in-item-color.sc-ion-label-ios-s>p{color:inherit}.sc-ion-label-ios-s h2:last-child,.sc-ion-label-ios-s h3:last-child,.sc-ion-label-ios-s h4:last-child,.sc-ion-label-ios-s h5:last-child,.sc-ion-label-ios-s h6:last-child,.sc-ion-label-ios-s p:last-child{margin-bottom:0}",md:'.item.sc-ion-label-md-h,.item .sc-ion-label-md-h{--color:initial;display:block;color:var(--color);font-family:var(--ion-font-family, inherit);font-size:inherit;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}.ion-color.sc-ion-label-md-h{color:var(--ion-color-base)}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{white-space:normal}.item-interactive-disabled.sc-ion-label-md-h:not(.item-multiple-inputs),.item-interactive-disabled:not(.item-multiple-inputs) .sc-ion-label-md-h{cursor:default;opacity:0.3;pointer-events:none}.item-input.sc-ion-label-md-h,.item-input .sc-ion-label-md-h{-ms-flex:initial;flex:initial;max-width:200px;pointer-events:none}.item-textarea.sc-ion-label-md-h,.item-textarea .sc-ion-label-md-h{-ms-flex-item-align:baseline;align-self:baseline}.label-fixed.sc-ion-label-md-h{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-bottom:0;-ms-flex-item-align:stretch;align-self:stretch;width:auto;max-width:100%}.label-no-animate.label-floating.sc-ion-label-md-h{-webkit-transition:none;transition:none}.sc-ion-label-md-s h1,.sc-ion-label-md-s h2,.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{text-overflow:inherit;overflow:inherit}.ion-text-wrap.sc-ion-label-md-h,[text-wrap].sc-ion-label-md-h{line-height:1.5}.label-stacked.sc-ion-label-md-h,.label-floating.sc-ion-label-md-h{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-transform-origin:top left;transform-origin:top left}.label-stacked.label-rtl.sc-ion-label-md-h,.label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform-origin:top right;transform-origin:top right}.label-stacked.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.label-floating.sc-ion-label-md-h{-webkit-transform:translateY(96%);transform:translateY(96%);-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1)}.ion-focused.label-floating.sc-ion-label-md-h,.ion-focused .label-floating.sc-ion-label-md-h,.item-has-focus.label-floating.sc-ion-label-md-h,.item-has-focus .label-floating.sc-ion-label-md-h,.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-has-value.label-floating.sc-ion-label-md-h,.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h{-webkit-transform:translateY(-6px) scale(0.75);transform:translateY(-6px) scale(0.75);position:relative;max-width:-webkit-min-content;max-width:-moz-min-content;max-width:min-content;background-color:var(--ion-item-background, var(--ion-background-color, #fff));overflow:visible;z-index:3}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{position:absolute;width:4px;height:100%;background-color:var(--ion-item-background, var(--ion-background-color, #fff));content:""}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::before,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::before,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::before,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::before{left:calc(-1 * 4px)}.item-fill-outline.ion-focused.label-floating.sc-ion-label-md-h::after,.item-fill-outline.ion-focused .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-focus .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).label-floating::after,.item-fill-outline.item-has-placeholder:not(.item-input) .label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value.label-floating.sc-ion-label-md-h::after,.item-fill-outline.item-has-value .label-floating.sc-ion-label-md-h::after{right:calc(-1 * 4px)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.sc-ion-label-md-h{-webkit-transform:translateX(-32px) translateY(-6px) scale(0.75);transform:translateX(-32px) translateY(-6px) scale(0.75)}.item-fill-outline.ion-focused.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.ion-focused.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-focus.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-placeholder.sc-ion-label-md-h:not(.item-input).item-has-start-slot.label-floating.label-rtl,.item-fill-outline.item-has-placeholder:not(.item-input).item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot.label-floating.label-rtl.sc-ion-label-md-h,.item-fill-outline.item-has-value.item-has-start-slot .label-floating.label-rtl.sc-ion-label-md-h{-webkit-transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75);transform:translateX(calc(-1 * -32px)) translateY(-6px) scale(0.75)}.ion-focused.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-primary, #3880ff)}.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-contrast)}.item-fill-solid.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.ion-focused.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-solid.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-stacked.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color.label-floating.sc-ion-label-md-h:not(.ion-color),.item-fill-outline.item-has-focus.ion-color .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--ion-color-base)}.ion-invalid.ion-touched.label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-stacked.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched.label-floating.sc-ion-label-md-h:not(.ion-color),.ion-invalid.ion-touched .label-floating.sc-ion-label-md-h:not(.ion-color){color:var(--highlight-color-invalid)}.sc-ion-label-md-s h1{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:24px;font-weight:normal}.sc-ion-label-md-s h2{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:16px;font-weight:normal}.sc-ion-label-md-s h3,.sc-ion-label-md-s h4,.sc-ion-label-md-s h5,.sc-ion-label-md-s h6{margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:14px;font-weight:normal;line-height:normal}.sc-ion-label-md-s p{margin-left:0;margin-right:0;margin-top:0;margin-bottom:2px;font-size:14px;line-height:20px;text-overflow:inherit;overflow:inherit}.sc-ion-label-md-s>p{color:var(--ion-color-step-600, #666666)}.sc-ion-label-md-h.in-item-color.sc-ion-label-md-s>p{color:inherit}'}}},[34,"ion-label",{color:[513],position:[1],noAnimate:[32]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Eb=()=>{if(void 0!==nf)return nf.Capacitor};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */var _b,Sb;!function(e){e.Heavy="HEAVY",e.Medium="MEDIUM",e.Light="LIGHT"}(_b||(_b={})),function(e){e.Success="SUCCESS",e.Warning="WARNING",e.Error="ERROR"}(Sb||(Sb={}));const Cb={getEngine(){const e=window.TapticEngine;if(e)return e;const t=Eb();return(null==t?void 0:t.isPluginAvailable("Haptics"))?t.Plugins.Haptics:void 0},available(){if(!this.getEngine())return!1;const e=Eb();return"web"!==(null==e?void 0:e.getPlatform())||"undefined"!=typeof navigator&&void 0!==navigator.vibrate},isCordova:()=>void 0!==window.TapticEngine,isCapacitor:()=>void 0!==Eb(),impact(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.style:e.style.toLowerCase();t.impact({style:i})},notification(e){const t=this.getEngine();if(!t)return;const i=this.isCapacitor()?e.type:e.type.toLowerCase();t.notification({type:i})},selection(){const e=this.isCapacitor()?_b.Light:"light";this.impact({style:e})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},kb=()=>Cb.available(),Ab=()=>{kb()&&Cb.selectionStart()},Nb=()=>{kb()&&Cb.selectionChanged()},Ob="ion-content",Mb=".ion-content-scroll-host",Pb=`${Ob}, ${Mb}`,Ib=e=>"ION-CONTENT"===e.tagName,Rb=t("k",(async e=>Ib(e)?(await new Promise((t=>af(e,t))),e.getScrollElement()):e)),Lb=e=>{const t=e.querySelector(Mb);return t||e.querySelector(Pb)},Db=t("f",(e=>e.closest(Pb))),jb=(t("s",((e,t)=>{if(Ib(e)){return e.scrollToTop(t)}return Promise.resolve(e.scrollTo({top:0,left:0,behavior:t>0?"smooth":"auto"}))})),t("l",((e,t,i,n)=>{if(Ib(e)){return e.scrollByPoint(t,i,n)}return Promise.resolve(e.scrollBy({top:i,left:t,behavior:n>0?"smooth":"auto"}))})),e=>((e,...t)=>console.error(`<${e.tagName.toLowerCase()}> must be used inside ${t.join(" or ")}.`))(e,Ob)),$b=e=>{if(Ib(e)){const t=e,i=t.scrollY;return t.scrollY=!1,i}return e.style.setProperty("overflow","hidden"),!0},Bb=(e,t)=>{Ib(e)?e.scrollY=t:e.style.removeProperty("overflow")};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
var qb,Ub;!function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(qb||(qb={})),t("h",Ub),function(e){e.Body="body",e.Ionic="ionic",e.Native="native",e.None="none"}(Ub||t("h",Ub={}));const Fb=t("K",{getEngine(){const e=Eb();if(null==e?void 0:e.isPluginAvailable("Keyboard"))return e.Plugins.Keyboard},getResizeMode(){const e=this.getEngine();return(null==e?void 0:e.getResizeMode)?e.getResizeMode().catch((e=>{if(e.code!==qb.Unimplemented)throw e})):Promise.resolve(void 0)}}),zb=e=>{if(void 0===rf||e===Ub.None||void 0===e)return null;const t=rf.querySelector("ion-app");return null!=t?t:rf.body},Vb=e=>{const t=zb(e);return null===t?0:t.clientHeight},Hb=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.fixed=!1}render(){const e=Og(this);return Fp(Vp,{class:{[e]:!0,"grid-fixed":this.fixed}},Fp("slot",null))}static get style(){return":host{-webkit-padding-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xs, var(--ion-grid-padding, 5px));-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;display:block;-ms-flex:1;flex:1}@media (min-width: 576px){:host{-webkit-padding-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-sm, var(--ion-grid-padding, 5px))}}@media (min-width: 768px){:host{-webkit-padding-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-md, var(--ion-grid-padding, 5px))}}@media (min-width: 992px){:host{-webkit-padding-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-lg, var(--ion-grid-padding, 5px))}}@media (min-width: 1200px){:host{-webkit-padding-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-start:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));-webkit-padding-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-inline-end:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-top:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px));padding-bottom:var(--ion-grid-padding-xl, var(--ion-grid-padding, 5px))}}:host(.grid-fixed){width:var(--ion-grid-width-xs, var(--ion-grid-width, 100%));max-width:100%}@media (min-width: 576px){:host(.grid-fixed){width:var(--ion-grid-width-sm, var(--ion-grid-width, 540px))}}@media (min-width: 768px){:host(.grid-fixed){width:var(--ion-grid-width-md, var(--ion-grid-width, 720px))}}@media (min-width: 992px){:host(.grid-fixed){width:var(--ion-grid-width-lg, var(--ion-grid-width, 960px))}}@media (min-width: 1200px){:host(.grid-fixed){width:var(--ion-grid-width-xl, var(--ion-grid-width, 1140px))}}:host(.ion-no-padding){--ion-grid-column-padding:0;--ion-grid-column-padding-xs:0;--ion-grid-column-padding-sm:0;--ion-grid-column-padding-md:0;--ion-grid-column-padding-lg:0;--ion-grid-column-padding-xl:0}"}},[1,"ion-grid",{fixed:[4]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Wb=function(){if("undefined"==typeof customElements)return;["ion-grid"].forEach((e=>{if("ion-grid"===e)customElements.get(e)||customElements.define(e,Hb)}))},Gb=e=>{const t=document.querySelector(`${e}.ion-cloned-element`);if(null!==t)return t;const i=document.createElement(e);return i.classList.add("ion-cloned-element"),i.style.setProperty("display","none"),document.body.appendChild(i),i},Kb=e=>{if(!e)return;const t=e.querySelectorAll("ion-toolbar");return{el:e,toolbars:Array.from(t).map((e=>{const t=e.querySelector("ion-title");return{el:e,background:e.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:t,innerTitleEl:t?t.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(e.querySelectorAll("ion-buttons"))}}))}},Qb=(e,t)=>{"fade"!==e.collapse&&(void 0===t?e.style.removeProperty("--opacity-scale"):e.style.setProperty("--opacity-scale",t.toString()))},Yb=(e,t,i,n)=>{tf((()=>{const r=n.scrollTop;((e,t,i)=>{if(!e[0].isIntersecting)return;const n=e[0].intersectionRatio>.9||i<=0?0:100*(1-e[0].intersectionRatio)/75;Qb(t.el,1===n?void 0:n)})(e,t,r);const a=e[0],s=a.intersectionRect,o=s.width*s.height,l=a.rootBounds.width*a.rootBounds.height,c=0===o&&0===l,d=Math.abs(s.left-a.boundingClientRect.left),u=Math.abs(s.right-a.boundingClientRect.right);if(!c&&!(o>0&&(d>=5||u>=5)))if(a.isIntersecting)Xb(t,!1),Xb(i);else{(0===s.x&&0===s.y||0!==s.width&&0!==s.height)&&r>0&&(Xb(t),Xb(i,!1),Qb(t.el))}}))},Xb=(e,t=!0)=>{const i=e.el;t?(i.classList.remove("header-collapse-condense-inactive"),i.removeAttribute("aria-hidden")):(i.classList.add("header-collapse-condense-inactive"),i.setAttribute("aria-hidden","true"))},Jb=(e=[],t=1,i=!1)=>{e.forEach((e=>{const n=e.ionTitleEl,r=e.innerTitleEl;n&&"large"===n.size&&(r.style.transition=i?"all 0.2s ease-in-out":"",r.style.transform=`scale3d(${t}, ${t}, 1)`)}))},Zb=(e,t,i)=>{ef((()=>{const n=e.scrollTop,r=t.clientHeight,a=i?i.clientHeight:0;if(null!==i&&n<a)return t.style.setProperty("--opacity-scale","0"),void e.style.setProperty("clip-path",`inset(${r}px 0px 0px 0px)`);const s=yf(0,(n-a)/10,1);tf((()=>{e.style.removeProperty("clip-path"),t.style.setProperty("--opacity-scale",s.toString())}))}))},ev=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=async(e,t)=>{const i=this.scrollEl=await Rb(e);this.contentScrollCallback=()=>{Zb(this.scrollEl,this.el,t)},i.addEventListener("scroll",this.contentScrollCallback),Zb(this.scrollEl,this.el,t)},this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=cf(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){if("ios"!==Og(this))return;const{collapse:e}=this,t="condense"===e,i="fade"===e;if(this.destroyCollapsibleHeader(),t){const e=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),t=e?Lb(e):null;tf((()=>{Gb("ion-title").size="large",Gb("ion-back-button")})),await this.setupCondenseHeader(t,e)}else if(i){const e=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),t=e?Lb(e):null;if(!t)return void jb(this.el);const i=t.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(t,i)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}async setupCondenseHeader(e,t){if(!e||!t)return void jb(this.el);if("undefined"==typeof IntersectionObserver)return;this.scrollEl=await Rb(e);const i=t.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(i).find((e=>"condense"!==e.collapse)),!this.collapsibleMainHeader)return;const n=Kb(this.collapsibleMainHeader),r=Kb(this.el);if(!n||!r)return;Xb(n,!1),Qb(n.el,0);this.intersectionObserver=new IntersectionObserver((e=>{Yb(e,n,r,this.scrollEl)}),{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(r.toolbars[r.toolbars.length-1].el),this.contentScrollCallback=()=>{((e,t,i)=>{ef((()=>{const n=e.scrollTop,r=yf(1,1+-n/500,1.1);null===i.querySelector("ion-refresher.refresher-native")&&tf((()=>{Jb(t.toolbars,r)}))}))})(this.scrollEl,r,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),tf((()=>{void 0!==this.collapsibleMainHeader&&this.collapsibleMainHeader.classList.add("header-collapse-main")}))}render(){const{translucent:e,inheritedAttributes:t}=this,i=Og(this),n=this.collapse||"none",r=Vy("ion-menu",this.el)?"none":"banner";return Fp(Vp,Object.assign({role:r,class:{[i]:!0,[`header-${i}`]:!0,"header-translucent":this.translucent,[`header-collapse-${n}`]:!0,[`header-translucent-${i}`]:this.translucent}},t),"ios"===i&&e&&Fp("div",{class:"header-background"}),Fp("slot",null))}get el(){return this}static get style(){return{ios:"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:1px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}",md:"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}"}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const tv=function(){if("undefined"==typeof customElements)return;["ion-header"].forEach((e=>{if("ion-header"===e)customElements.get(e)||customElements.define(e,ev)}))},iv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=Kp(this,"ionImgWillLoad",7),this.ionImgDidLoad=Kp(this,"ionImgDidLoad",7),this.ionError=Kp(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()},this.loadSrc=void 0,this.loadError=void 0,this.alt=void 0,this.src=void 0}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=of(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){void 0!==this.src&&("undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver((e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())})),this.io.observe(this.el)):setTimeout((()=>this.load()),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:t,onLoad:i,loadError:n,inheritedAttributes:r}=this,{draggable:a}=r;return Fp(Vp,{class:Og(this)},Fp("img",{decoding:"async",src:e,alt:t,onLoad:i,onError:n,part:"image",draggable:nv(a)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}"}},[1,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]}]),nv=e=>{switch(e){case"true":return!0;case"false":return!1;default:return}};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const rv=function(){if("undefined"==typeof customElements)return;["ion-img"].forEach((e=>{if("ion-img"===e)customElements.get(e)||customElements.define(e,iv)}))},av={bubbles:{dur:1e3,circles:9,fn:(e,t,i)=>{const n=e*t/i-e+"ms",r=2*Math.PI*t/i;return{r:5,style:{top:32*Math.sin(r)+"%",left:32*Math.cos(r)+"%","animation-delay":n}}}},circles:{dur:1e3,circles:8,fn:(e,t,i)=>{const n=t/i,r=e*n-e+"ms",a=2*Math.PI*n;return{r:5,style:{top:32*Math.sin(a)+"%",left:32*Math.cos(a)+"%","animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:32-32*t+"%","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:8,fn:(e,t,i)=>({y1:14,y2:26,style:{transform:`rotate(${360/i*t+(t<i/2?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(e,t,i)=>({y1:12,y2:20,style:{transform:`rotate(${360/i*t+(t<i/2?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(e,t,i)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(e,t,i)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/i-e+"ms"}})}},sv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0,this.duration=void 0,this.name=void 0,this.paused=!1}getName(){const e=this.name||pg.get("spinner"),t=Og(this);return e||("ios"===t?"lines":"circular")}render(){var e;const t=this,i=Og(t),n=t.getName(),r=null!==(e=av[n])&&void 0!==e?e:av.lines,a="number"==typeof t.duration&&t.duration>10?t.duration:r.dur,s=[];if(void 0!==r.circles)for(let o=0;o<r.circles;o++)s.push(ov(r,a,o,r.circles));else if(void 0!==r.lines)for(let o=0;o<r.lines;o++)s.push(lv(r,a,o,r.lines));return Fp(Vp,{class:Hy(t.color,{[i]:!0,[`spinner-${n}`]:!0,"spinner-paused":t.paused||pg.getBoolean("_testing")}),role:"progressbar",style:r.elmDuration?{animationDuration:a+"ms"}:{}},s)}static get style(){return":host{display:inline-block;position:relative;width:28px;height:28px;color:var(--color);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}:host(.ion-color){color:var(--ion-color-base)}svg{-webkit-transform-origin:center;transform-origin:center;position:absolute;top:0;left:0;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0)}:host-context([dir=rtl]) svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}[dir=rtl] svg{-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}@supports selector(:dir(rtl)){svg:dir(rtl){-webkit-transform-origin:calc(100% - center);transform-origin:calc(100% - center)}}:host(.spinner-lines) line,:host(.spinner-lines-small) line{stroke-width:7px}:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-width:4px}:host(.spinner-lines) line,:host(.spinner-lines-small) line,:host(.spinner-lines-sharp) line,:host(.spinner-lines-sharp-small) line{stroke-linecap:round;stroke:currentColor}:host(.spinner-lines) svg,:host(.spinner-lines-small) svg,:host(.spinner-lines-sharp) svg,:host(.spinner-lines-sharp-small) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite}:host(.spinner-bubbles) svg{-webkit-animation:spinner-scale-out 1s linear infinite;animation:spinner-scale-out 1s linear infinite;fill:currentColor}:host(.spinner-circles) svg{-webkit-animation:spinner-fade-out 1s linear infinite;animation:spinner-fade-out 1s linear infinite;fill:currentColor}:host(.spinner-crescent) circle{fill:transparent;stroke-width:4px;stroke-dasharray:128px;stroke-dashoffset:82px;stroke:currentColor}:host(.spinner-crescent) svg{-webkit-animation:spinner-rotate 1s linear infinite;animation:spinner-rotate 1s linear infinite}:host(.spinner-dots) circle{stroke-width:0;fill:currentColor}:host(.spinner-dots) svg{-webkit-animation:spinner-dots 1s linear infinite;animation:spinner-dots 1s linear infinite}:host(.spinner-circular) svg{-webkit-animation:spinner-circular linear infinite;animation:spinner-circular linear infinite}:host(.spinner-circular) circle{-webkit-animation:spinner-circular-inner ease-in-out infinite;animation:spinner-circular-inner ease-in-out infinite;stroke:currentColor;stroke-dasharray:80px, 200px;stroke-dashoffset:0px;stroke-width:5.6;fill:none}:host(.spinner-paused),:host(.spinner-paused) svg,:host(.spinner-paused) circle{-webkit-animation-play-state:paused;animation-play-state:paused}@-webkit-keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@keyframes spinner-fade-out{0%{opacity:1}100%{opacity:0}}@-webkit-keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@keyframes spinner-scale-out{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1)}100%{-webkit-transform:scale(0, 0);transform:scale(0, 0)}}@-webkit-keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-rotate{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@keyframes spinner-dots{0%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}50%{-webkit-transform:scale(0.4, 0.4);transform:scale(0.4, 0.4);opacity:0.3}100%{-webkit-transform:scale(1, 1);transform:scale(1, 1);opacity:0.9}}@-webkit-keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spinner-circular{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}@keyframes spinner-circular-inner{0%{stroke-dasharray:1px, 200px;stroke-dashoffset:0px}50%{stroke-dasharray:100px, 200px;stroke-dashoffset:-15px}100%{stroke-dasharray:100px, 200px;stroke-dashoffset:-125px}}"}},[1,"ion-spinner",{color:[513],duration:[2],name:[1],paused:[4]}]),ov=(e,t,i,n)=>{const r=e.fn(t,i,n);return r.style["animation-duration"]=t+"ms",Fp("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},Fp("circle",{transform:r.transform||"translate(32,32)",cx:r.cx,cy:r.cy,r:r.r,style:e.elmDuration?{animationDuration:t+"ms"}:{}}))},lv=(e,t,i,n)=>{const r=e.fn(t,i,n);return r.style["animation-duration"]=t+"ms",Fp("svg",{viewBox:r.viewBox||"0 0 64 64",style:r.style},Fp("line",{transform:"translate(32,32)",y1:r.y1,y2:r.y2}))};
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const cv=(e,t)=>`${e} / ${t}`,dv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.ionInput=Kp(this,"ionInput",7),this.ionChange=Kp(this,"ionChange",7),this.ionBlur=Kp(this,"ionBlur",7),this.ionFocus=Kp(this,"ionFocus",7),this.ionStyle=Kp(this,"ionStyle",7),this.inputId="ion-input-"+uv++,this.inheritedAttributes={},this.isComposing=!1,this.hasLoggedDeprecationWarning=!1,this.didInputClearOnEdit=!1,this.onInput=e=>{const t=e.target;t&&(this.value=t.value||""),this.emitInputChange(e)},this.onChange=e=>{this.emitValueChange(e)},this.onBlur=e=>{this.hasFocus=!1,this.emitStyle(),this.focusedValue!==this.value&&this.emitValueChange(e),this.didInputClearOnEdit=!1,this.ionBlur.emit(e)},this.onFocus=e=>{this.hasFocus=!0,this.focusedValue=this.value,this.emitStyle(),this.ionFocus.emit(e)},this.onKeydown=e=>{this.checkClearOnEdit(e)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=e=>{this.clearInput&&!this.readonly&&!this.disabled&&e&&(e.preventDefault(),e.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(e)},this.hasFocus=!1,this.color=void 0,this.accept=void 0,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.clearOnEdit=void 0,this.counter=!1,this.counterFormatter=void 0,this.debounce=void 0,this.disabled=!1,this.enterkeyhint=void 0,this.errorText=void 0,this.fill=void 0,this.inputmode=void 0,this.helperText=void 0,this.label=void 0,this.labelPlacement="start",this.legacy=void 0,this.max=void 0,this.maxlength=void 0,this.min=void 0,this.minlength=void 0,this.multiple=void 0,this.name=this.inputId,this.pattern=void 0,this.placeholder=void 0,this.readonly=!1,this.required=!1,this.shape=void 0,this.spellcheck=!1,this.step=void 0,this.size=void 0,this.type="text",this.value=""}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:i}=this;this.ionInput=void 0===t?null!=i?i:e:wf(e,t)}disabledChanged(){this.emitStyle()}placeholderChanged(){this.emitStyle()}valueChanged(){const e=this.nativeInput,t=this.getValue();e&&e.value!==t&&!this.isComposing&&(e.value=t),this.emitStyle()}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},cf(this.el)),of(this.el,["tabindex","title","data-form-type"]))}connectedCallback(){const{el:e}=this;this.legacyFormController=Zy(e),this.slotMutationController=((e,t,i)=>{let n,r;void 0!==nf&&"MutationObserver"in nf&&(n=new MutationObserver((e=>{for(const n of e)for(const e of n.addedNodes)if(e.nodeType===Node.ELEMENT_NODE&&e.slot===t)return i(),void pf((()=>a(e)))})),n.observe(e,{childList:!0}));const a=e=>{var n;r&&(r.disconnect(),r=void 0),r=new MutationObserver((e=>{i();for(const i of e)for(const e of i.removedNodes)e.nodeType===Node.ELEMENT_NODE&&e.slot===t&&s()})),r.observe(null!==(n=e.parentElement)&&void 0!==n?n:e,{subtree:!0,childList:!0})},s=()=>{r&&(r.disconnect(),r=void 0)};return{destroy:()=>{n&&(n.disconnect(),n=void 0),s()}}})(e,"label",(()=>_m(this))),this.notchController=((e,t,i)=>{let n;const r=()=>void 0!==t()&&void 0===e.label&&null!==i(),a=()=>{const s=t();if(void 0===s)return;if(!r())return void s.style.removeProperty("width");const o=i().scrollWidth;if(0===o&&null===s.offsetParent&&void 0!==nf&&"IntersectionObserver"in nf){if(void 0!==n)return;const t=n=new IntersectionObserver((e=>{1===e[0].intersectionRatio&&(a(),t.disconnect(),n=void 0)}),{threshold:.01,root:e});t.observe(s)}else s.style.setProperty("width",.75*o+"px")};return{calculateNotchWidth:()=>{r()&&pf((()=>{a()}))},destroy:()=>{n&&(n.disconnect(),n=void 0)}}})(e,(()=>this.notchSpacerEl),(()=>this.labelSlot)),this.emitStyle(),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput}componentDidRender(){var e;null===(e=this.notchController)||void 0===e||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}getInputElement(){return Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:t}=this,i=null==t?t:t.toString();this.focusedValue=i,this.ionChange.emit({value:i,event:e})}emitInputChange(e){const{value:t}=this,i=null==t?t:t.toString();this.ionInput.emit({value:i,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:t}=this;return void 0===t?"password"===e:t}getValue(){return"number"==typeof this.value?this.value.toString():(this.value||"").toString()}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,input:!0,"has-placeholder":void 0!==this.placeholder,"has-value":this.hasValue(),"has-focus":this.hasFocus,"interactive-disabled":this.disabled})}checkClearOnEdit(e){this.shouldClearOnEdit()&&(!this.didInputClearOnEdit&&this.hasValue()&&"Enter"!==e.key&&"Tab"!==e.key&&(this.value="",this.emitInputChange(e)),this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:t}=this;return[Fp("div",{class:"helper-text"},e),Fp("div",{class:"error-text"},t)]}renderCounter(){const{counter:e,maxlength:t,counterFormatter:i,value:n}=this;if(!0===e&&void 0!==t)return Fp("div",{class:"counter"},((e,t,i)=>{const n=null==e?0:e.toString().length,r=cv(n,t);if(void 0===i)return r;try{return i(n,t)}catch(E_){return Yg("Exception in provided `counterFormatter`.",E_),r}})(n,t,i))}renderBottomContent(){const{counter:e,helperText:t,errorText:i,maxlength:n}=this;if(!!t||!!i||!0===e&&void 0!==n)return Fp("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return Fp("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},void 0===e?Fp("slot",{name:"label"}):Fp("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return void 0!==this.label||null!==this.labelSlot}renderLabelContainer(){return"md"===Og(this)&&"outline"===this.fill?[Fp("div",{class:"input-outline-container"},Fp("div",{class:"input-outline-start"}),Fp("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},Fp("div",{class:"notch-spacer","aria-hidden":"true",ref:e=>this.notchSpacerEl=e},this.label)),Fp("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}renderInput(){const{disabled:e,fill:t,readonly:i,shape:n,inputId:r,labelPlacement:a}=this,s=Og(this),o=this.getValue(),l=Vy("ion-item",this.el),c="md"===s&&"outline"!==t&&!l;return Fp(Vp,{class:Hy(this.color,{[s]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,[`input-fill-${t}`]:void 0!==t,[`input-shape-${n}`]:void 0!==n,[`input-label-placement-${a}`]:!0,"in-item":l,"in-item-color":Vy("ion-item.ion-color",this.el),"input-disabled":e})},Fp("label",{class:"input-wrapper"},this.renderLabelContainer(),Fp("div",{class:"native-wrapper"},Fp("input",Object.assign({class:"native-input",ref:e=>this.nativeInput=e,id:r,disabled:e,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:i,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:o,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd},this.inheritedAttributes)),this.clearInput&&!i&&!e&&Fp("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:e=>{e.preventDefault()},onClick:this.clearTextInput},Fp("ion-icon",{"aria-hidden":"true",icon:"ios"===s?_y:Sy}))),c&&Fp("div",{class:"input-highlight"})),this.renderBottomContent())}renderLegacyInput(){this.hasLoggedDeprecationWarning||(Qg('ion-input now requires providing a label with either the "label" property or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the "label" property or the "aria-label" attribute.\n\nExample: <ion-input label="Email"></ion-input>\nExample with aria-label: <ion-input aria-label="Email"></ion-input>\n\nFor inputs that do not render the label immediately next to the input, developers may continue to use "ion-label" but must manually associate the label with the input by using "aria-labelledby".\n\nDevelopers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.',this.el),this.legacy&&Qg('ion-input is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.\n\nDevelopers can dismiss this warning by removing their usage of the "legacy" property and using the new input syntax.',this.el),this.hasLoggedDeprecationWarning=!0);const e=Og(this),t=this.getValue(),i=this.inputId+"-lbl",n=ff(this.el);return n&&(n.id=i),Fp(Vp,{"aria-disabled":this.disabled?"true":null,class:Hy(this.color,{[e]:!0,"has-value":this.hasValue(),"has-focus":this.hasFocus,"legacy-input":!0,"in-item-color":Vy("ion-item.ion-color",this.el)})},Fp("input",Object.assign({class:"native-input",ref:e=>this.nativeInput=e,"aria-labelledby":n?n.id:null,disabled:this.disabled,accept:this.accept,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:this.readonly,required:this.required,spellcheck:this.spellcheck,step:this.step,size:this.size,type:this.type,value:t,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown},this.inheritedAttributes)),this.clearInput&&!this.readonly&&!this.disabled&&Fp("button",{"aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:e=>{e.preventDefault()},onClick:this.clearTextInput},Fp("ion-icon",{"aria-hidden":"true",icon:"ios"===e?_y:Sy})))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyInput():this.renderInput()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],disabled:["disabledChanged"],placeholder:["placeholderChanged"],value:["valueChanged"]}}static get style(){return{ios:".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-ios-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-ios-h .native-input.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-ios-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-ios-h{--padding-start:0}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.legacy-input.ion-color.sc-ion-input-ios-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-ios{left:0}[dir=rtl].sc-ion-input-ios-h .cloned-input.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-ios .cloned-input.sc-ion-input-ios{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-ios:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.legacy-input.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.has-focus.sc-ion-input-ios-h{pointer-events:none}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h a.sc-ion-input-ios,.has-focus.sc-ion-input-ios-h button.sc-ion-input-ios{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-ios-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-ios-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-ios-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl),.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-focus.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));font-size:inherit}.legacy-input.sc-ion-input-ios-h{--padding-top:10px;--padding-end:8px;--padding-bottom:10px;--padding-start:0}.item-label-stacked.sc-ion-input-ios-h,.item-label-stacked .sc-ion-input-ios-h,.item-label-floating.sc-ion-input-ios-h,.item-label-floating .sc-ion-input-ios-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0px}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.sc-ion-input-ios-h:not(.legacy-input){min-height:44px}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.legacy-input.sc-ion-input-ios-h .native-input[disabled].sc-ion-input-ios,.input-disabled.sc-ion-input-ios-h{opacity:0.3}",md:".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:0.6;--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #3880ff);--highlight-color-valid:var(--ion-color-success, #2dd36f);--highlight-color-invalid:var(--ion-color-danger, #eb445a);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}.legacy-input.sc-ion-input-md-h{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;background:var(--background)}.legacy-input.sc-ion-input-md-h .native-input.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius)}ion-item.sc-ion-input-md-h:not(.item-label):not(.item-has-modern-input),ion-item:not(.item-label):not(.item-has-modern-input) .sc-ion-input-md-h{--padding-start:0}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.legacy-input.ion-color.sc-ion-input-md-h{color:var(--ion-color-base)}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}@supports (inset-inline-start: 0){.cloned-input.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.cloned-input.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .cloned-input.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .cloned-input.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.cloned-input.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.cloned-input.sc-ion-input-md:disabled{opacity:1}.legacy-input.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, #666666);visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.has-focus.sc-ion-input-md-h{pointer-events:none}.has-focus.sc-ion-input-md-h input.sc-ion-input-md,.has-focus.sc-ion-input-md-h a.sc-ion-input-md,.has-focus.sc-ion-input-md-h button.sc-ion-input-md{pointer-events:auto}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value),.item-label-floating.item-has-placeholder:not(.item-has-value) .sc-ion-input-md-h{opacity:0}.item-label-floating.item-has-placeholder.sc-ion-input-md-h:not(.item-has-value).item-has-focus,.item-label-floating.item-has-placeholder:not(.item-has-value).item-has-focus .sc-ion-input-md-h{-webkit-transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 0.15s cubic-bezier(0.4, 0, 0.2, 1);opacity:1}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:12px}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-550, #737373)}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-550, #737373);white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, #f2f2f2);--border-color:var(--ion-color-step-500, gray);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, #e6e6e6);--border-color:var(--ion-color-step-750, #404040)}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, #d9d9d9);--border-color:var(--ion-color-step-750, #404040)}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl].input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0px;border-bottom-left-radius:0px}}.input-fill-solid.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, #b3b3b3);--border-radius:4px;--padding-start:16px;--padding-end:16px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, #404040)}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:2px;--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl),.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md:dir(rtl){border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px}}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-top-left-radius:0px;border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius);border-bottom-left-radius:0px;-ms-flex-positive:1;flex-grow:1}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl].input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md,[dir=rtl] .input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}@supports selector(:dir(rtl)){.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:0px;border-bottom-right-radius:0px;border-bottom-left-radius:var(--border-radius)}}.has-focus.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.has-value.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.13))));font-size:inherit}.legacy-input.sc-ion-input-md-h{--padding-top:10px;--padding-end:0;--padding-bottom:10px;--padding-start:8px}.item-label-stacked.sc-ion-input-md-h,.item-label-stacked .sc-ion-input-md-h,.item-label-floating.sc-ion-input-md-h,.item-label-floating .sc-ion-input-md-h{--padding-top:8px;--padding-bottom:8px;--padding-start:0}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.legacy-input.sc-ion-input-md-h .native-input[disabled].sc-ion-input-md,.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.sc-ion-input-md-h:not(.legacy-input){min-height:56px}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:2px;-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}@supports (inset-inline-start: 0){.input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}[dir=rtl].sc-ion-input-md .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}@supports (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}}@supports not (inset-inline-start: 0){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:0}[dir=rtl].sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl].in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md,[dir=rtl] .in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md:dir(rtl){left:unset;right:unset;right:0}}}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}"}}},[38,"ion-input",{color:[513],accept:[1],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[4],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],legacy:[4],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[4],required:[4],shape:[1],spellcheck:[4],step:[1],size:[2],type:[1],value:[1032],hasFocus:[32],setFocus:[64],getInputElement:[64]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let uv=0;const hv=function(){if("undefined"==typeof customElements)return;["ion-input","ion-icon"].forEach((e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,dv);break;case"ion-icon":customElements.get(e)||Uy()}}))},pv=function(){if("undefined"==typeof customElements)return;["ion-label"].forEach((e=>{if("ion-label"===e)customElements.get(e)||customElements.define(e,xb)}))},mv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.lines=void 0,this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return!!(null==e?void 0:e.closeOpened)&&e.closeOpened()}render(){const e=Og(this),{lines:t,inset:i}=this;return Fp(Vp,{role:"list",class:{[e]:!0,[`list-${e}`]:!0,"list-inset":i,[`list-lines-${t}`]:void 0!==t,[`list-${e}-lines-${t}`]:void 0!==t}})}get el(){return this}static get style(){return{ios:"ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:last-child{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",md:"ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}@supports (inset-inline-start: 0){.list-md>.input:last-child::after{inset-inline-start:0}}@supports not (inset-inline-start: 0){.list-md>.input:last-child::after{left:0}:host-context([dir=rtl]) .list-md>.input:last-child::after{left:unset;right:unset;right:0}[dir=rtl] .list-md>.input:last-child::after{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.list-md>.input:last-child::after:dir(rtl){left:unset;right:unset;right:0}}}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:first-child{--border-radius:2px 2px 0 0}.list-md.list-inset ion-item:last-child{--border-radius:0 0 2px, 2px;--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}"}}},[32,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const fv=function(){if("undefined"==typeof customElements)return;["ion-list"].forEach((e=>{if("ion-list"===e)customElements.get(e)||customElements.define(e,mv)}))},gv='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',yv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=Kp(this,"ionWillOpen",7),this.ionWillClose=Kp(this,"ionWillClose",7),this.ionDidOpen=Kp(this,"ionDidOpen",7),this.ionDidClose=Kp(this,"ionDidClose",7),this.ionMenuChange=Kp(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=ng.createBlocker({disableScroll:!0}),this.didLoad=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const t=oy(document);t&&!t.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,t){const i=this.contentEl;i&&(void 0!==t&&i.classList.remove(`menu-content-${t}`),i.classList.add(`menu-content-${e}`),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=vf(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){"undefined"!=typeof customElements&&null!=customElements&&await customElements.whenDefined("ion-menu"),void 0===this.type&&(this.type=pg.get("menuType","overlay"));const e=void 0!==this.contentId?document.getElementById(this.contentId):null;null!==e?(this.el.contains(e)&&console.error('Menu: "contentId" should refer to the main view\'s ion-content, not the ion-content inside of the ion-menu.'),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),Hg._register(this),this.menuChanged(),this.gesture=(await Ep((()=>Promise.resolve().then((()=>hg))))).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:e=>this.canStart(e),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:e=>this.onMove(e),onEnd:e=>this.onEnd(e)}),this.updateState()):console.error('Menu: must have a "content" element to listen for drag events on.')}componentWillLoad(){this.inheritedAttributes=cf(this.el)}async componentDidLoad(){this.didLoad=!0,this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),Hg._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){this.isPaneVisible=e.detail.isPane(this.el),this.updateState()}onBackdropClick(e){if(this._isOpen&&this.lastOnEnd<e.timeStamp-100){!!e.composedPath&&!e.composedPath().includes(this.menuInnerEl)&&(e.preventDefault(),e.stopPropagation(),this.close())}}onKeydown(e){"Escape"===e.key&&this.close()}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0){return this.setOpen(!1,e)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,t=!0){return Hg._setOpen(this,e,t)}focusFirstDescendant(){const{el:e}=this,t=e.querySelector(gv);t?t.focus():e.focus()}focusLastDescendant(){const{el:e}=this,t=Array.from(e.querySelectorAll(gv)),i=t.length>0?t[t.length-1]:null;i?i.focus():e.focus()}trapKeyboardFocus(e,t){const i=e.target;i&&(this.el.contains(i)?this.lastFocus=i:(this.focusFirstDescendant(),this.lastFocus===t.activeElement&&this.focusLastDescendant()))}async _setOpen(e,t=!0){return!(!this._isActive()||this.isAnimating||e===this._isOpen)&&(this.beforeAnimation(e),await this.loadAnimation(),await this.startAnimation(e,t),this.afterAnimation(e),!0)}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,t=vf(this.side);e===this.width&&void 0!==this.animation&&t===this.isEndSide||(this.width=e,this.isEndSide=t,this.animation&&(this.animation.destroy(),this.animation=void 0),this.animation=await Hg._createAnimation(this.type,this),pg.getBoolean("animated",!0)||this.animation.duration(0),this.animation.fill("both"))}async startAnimation(e,t){const i=!e,n=Og(this),r="ios"===n?"cubic-bezier(0.32,0.72,0,1)":"cubic-bezier(0.0,0.0,0.2,1)",a="ios"===n?"cubic-bezier(1, 0, 0.68, 0.28)":"cubic-bezier(0.4, 0, 0.6, 1)",s=this.animation.direction(i?"reverse":"normal").easing(i?a:r).onFinish((()=>{"reverse"===s.getDirection()&&s.direction("normal")}));t?await s.play():s.play({sync:!0})}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!(!!document.querySelector("ion-modal.show-modal")||!this.canSwipe())&&(!!this._isOpen||!Hg._getOpenSync()&&vv(window,e.currentX,this.isEndSide,this.maxEdgeStart))}onWillStart(){return this.beforeAnimation(!this._isOpen),this.loadAnimation()}onStart(){this.isAnimating&&this.animation?this.animation.progressStart(!0,this._isOpen?1:0):bf(!1,"isAnimating has to be true")}onMove(e){if(!this.isAnimating||!this.animation)return void bf(!1,"isAnimating has to be true");const t=bv(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-t:t)}onEnd(e){if(!this.isAnimating||!this.animation)return void bf(!1,"isAnimating has to be true");const t=this._isOpen,i=this.isEndSide,n=bv(e.deltaX,t,i),r=this.width,a=n/r,s=e.velocityX,o=r/2,l=s>=0&&(s>.2||e.deltaX>o),c=s<=0&&(s<-.2||e.deltaX<-o),d=t?i?l:c:i?c:l;let u=!t&&d;t&&!d&&(u=!0),this.lastOnEnd=e.currentTime;let h=d?.001:-.001;h+=Yf([0,0],[.4,0],[.6,1],[1,1],yf(0,a<0?.01:a,.9999))[0]||0;const p=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish((()=>this.afterAnimation(u)),{oneTimeCallback:!0}).progressEnd(p?1:0,this._isOpen?1-h:h,300)}beforeAnimation(e){bf(!this.isAnimating,"_before() should not be called while animating"),this.el.classList.add(wv),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(Tv),this.contentEl&&(this.contentEl.classList.add(xv),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit()}afterAnimation(e){var t;if(bf(this.isAnimating,"_before() should be called while animating"),this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e){this.ionDidOpen.emit();(null===(t=document.activeElement)||void 0===t?void 0:t.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)}else this.el.classList.remove(wv),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(xv),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(Tv),this.animation&&this.animation.stop(),this.ionDidClose.emit(),document.removeEventListener("focus",this.handleFocus,!0)}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),!e&&this._isOpen&&this.forceClosing(),(null==rf?void 0:rf.contains(this.el))&&(this.disabled||Hg._setActiveMenu(this)),bf(!this.isAnimating,"can not be animating")}forceClosing(){bf(this._isOpen,"menu cannot be closed"),this.isAnimating=!0;this.animation.direction("reverse").play({sync:!0}),this.afterAnimation(!1)}render(){const{type:e,disabled:t,isPaneVisible:i,inheritedAttributes:n,side:r}=this,a=Og(this);return Fp(Vp,{role:"navigation","aria-label":n["aria-label"]||"menu",class:{[a]:!0,[`menu-type-${e}`]:!0,"menu-enabled":!t,[`menu-side-${r}`]:!0,"menu-pane-visible":i}},Fp("div",{class:"menu-inner",part:"container",ref:e=>this.menuInnerEl=e},Fp("slot",null)),Fp("ion-backdrop",{ref:e=>this.backdropEl=e,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start) .menu-inner:dir(rtl){left:unset;right:unset;left:auto;right:0}}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end) .menu-inner:dir(rtl){left:unset;right:unset;left:0;right:auto}}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none !important;transform:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}:host(.menu-pane-visible) ion-backdrop{display:hidden !important;}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",md:":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start) .menu-inner:dir(rtl){left:unset;right:unset;left:auto;right:0}}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end) .menu-inner:dir(rtl){left:unset;right:unset;left:0;right:auto}}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none !important;transform:none !important;-webkit-box-shadow:none !important;box-shadow:none !important}:host(.menu-pane-visible) ion-backdrop{display:hidden !important;}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}"}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]]),bv=(e,t,i)=>Math.max(0,t!==i?-e:e),vv=(e,t,i,n)=>i?t>=e.innerWidth-n:t<=n,wv="show-menu",Tv="show-backdrop",xv="menu-content-open";const Ev=function(){if("undefined"==typeof customElements)return;["ion-menu","ion-backdrop"].forEach((e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,yv);break;case"ion-backdrop":customElements.get(e)||zy()}}))},_v=async e=>{const t=await Hg.get(e);return!(!t||!(await t.isActive()))},Sv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async()=>Hg.toggle(this.menu),this.visible=!1,this.color=void 0,this.disabled=!1,this.menu=void 0,this.autoHide=!0,this.type="button"}componentWillLoad(){this.inheritedAttributes=cf(this.el)}componentDidLoad(){this.visibilityChanged()}async visibilityChanged(){this.visible=await _v(this.menu)}render(){const{color:e,disabled:t,inheritedAttributes:i}=this,n=Og(this),r=pg.get("menuIcon","ios"===n?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>"),a=this.autoHide&&!this.visible,s={type:this.type},o=i["aria-label"]||"menu";return Fp(Vp,{onClick:this.onClick,"aria-disabled":t?"true":null,"aria-hidden":a?"true":null,class:Hy(e,{[n]:!0,button:!0,"menu-button-hidden":a,"menu-button-disabled":t,"in-toolbar":Vy("ion-toolbar",this.el),"in-toolbar-color":Vy("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0})},Fp("button",Object.assign({},s,{disabled:t,class:"button-native",part:"native","aria-label":o}),Fp("span",{class:"button-inner"},Fp("slot",null,Fp("ion-icon",{part:"icon",icon:r,mode:n,lazy:!1,"aria-hidden":"true"}))),"md"===n&&Fp("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--padding-start:5px;--padding-end:5px;height:32px;font-size:31px}:host(.ion-activated){opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',md:':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:.04;--border-radius:50%;--color:initial;--padding-start:8px;--padding-end:8px;width:48px;height:48px;font-size:24px}:host(.ion-color.ion-focused)::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}'}}},[33,"ion-menu-button",{color:[513],disabled:[4],menu:[1],autoHide:[4,"auto-hide"],type:[1],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Cv=function(){if("undefined"==typeof customElements)return;["ion-menu-button","ion-icon","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-menu-button":customElements.get(e)||customElements.define(e,Sv);break;case"ion-icon":customElements.get(e)||Uy();break;case"ion-ripple-effect":customElements.get(e)||ob()}}))},kv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.onClick=()=>Hg.toggle(this.menu),this.visible=!1,this.menu=void 0,this.autoHide=!0}connectedCallback(){this.visibilityChanged()}async visibilityChanged(){this.visible=await _v(this.menu)}render(){const e=Og(this),t=this.autoHide&&!this.visible;return Fp(Vp,{onClick:this.onClick,"aria-hidden":t?"true":null,class:{[e]:!0,"menu-toggle-hidden":t}},Fp("slot",null))}static get style(){return":host(.menu-toggle-hidden){display:none}"}},[1,"ion-menu-toggle",{menu:[1],autoHide:[4,"auto-hide"],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Av=function(){if("undefined"==typeof customElements)return;["ion-menu-toggle"].forEach((e=>{if("ion-menu-toggle"===e)customElements.get(e)||customElements.define(e,kv)}))};class Nv{constructor(e,t){this.component=e,this.params=t,this.state=1}async init(e){if(this.state=2,!this.element){const t=this.component;this.element=await Wg(this.delegate,e,t,["ion-page","ion-page-invisible"],this.params)}}_destroy(){bf(3!==this.state,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=3}}const Ov=(e,t,i)=>!!e&&(e.component===t&&xf(e.params,i)),Mv=(e,t)=>e?e instanceof Nv?e:new Nv(e,t):null,Pv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Kp(this,"ionNavWillLoad",7),this.ionNavWillChange=Kp(this,"ionNavWillChange",3),this.ionNavDidChange=Kp(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.delegate=void 0,this.swipeGesture=void 0,this.animated=!0,this.animation=void 0,this.rootParams=void 0,this.root=void 0}swipeGestureChanged(){this.gesture&&this.gesture.enable(!0===this.swipeGesture)}rootChanged(){void 0!==this.root&&!1!==this.didLoad&&(this.useRouter||void 0!==this.root&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=null!==document.querySelector("ion-router")&&null===this.el.closest("[no-router]"),void 0===this.swipeGesture){const e=Og(this);this.swipeGesture=pg.getBoolean("swipeBackEnabled","ios"===e)}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Ep((()=>i.import("./swipe-back-legacy-af8b65e5.js")))).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)Wf(e.element,If),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,t,i,n){return this.insert(-1,e,t,i,n)}insert(e,t,i,n,r){return this.insertPages(e,[{component:t,componentProps:i}],n,r)}insertPages(e,t,i,n){return this.queueTrns({insertStart:e,insertViews:t,opts:i},n)}pop(e,t){return this.removeIndex(-1,1,e,t)}popTo(e,t,i){const n={removeStart:-1,removeCount:-1,opts:t};return"object"==typeof e&&e.component?(n.removeView=e,n.removeStart=1):"number"==typeof e&&(n.removeStart=e+1),this.queueTrns(n,i)}popToRoot(e,t){return this.removeIndex(1,-1,e,t)}removeIndex(e,t=1,i,n){return this.queueTrns({removeStart:e,removeCount:t,opts:i},n)}setRoot(e,t,i,n){return this.setPages([{component:e,componentProps:t}],i,n)}setPages(e,t,i){return null!=t||(t={}),!0!==t.animated&&(t.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:t},i)}setRouteId(e,t,i,n){const r=this.getActiveSync();if(Ov(r,e,t))return Promise.resolve({changed:!1,element:r.element});let a;const s=new Promise((e=>a=e));let o;const l={updateURL:!1,viewIsReady:e=>{let t;const i=new Promise((e=>t=e));return a({changed:!0,element:e,markVisible:async()=>{t(),await o}}),i}};if("root"===i)o=this.setRoot(e,t,l);else{const r=this.views.find((i=>Ov(i,e,t)));r?o=this.popTo(r,Object.assign(Object.assign({},l),{direction:"back",animationBuilder:n})):"forward"===i?o=this.push(e,t,Object.assign(Object.assign({},l),{animationBuilder:n})):"back"===i&&(o=this.setRoot(e,t,Object.assign(Object.assign({},l),{direction:"back",animated:!0,animationBuilder:n})))}return s}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!(!e||!this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const t=this.views,i=t.indexOf(e);return i>0?t[i-1]:void 0}async queueTrns(e,t){var i,n;if(this.isTransitioning&&(null===(i=e.opts)||void 0===i?void 0:i.skipIfBusy))return!1;const r=new Promise(((t,i)=>{e.resolve=t,e.reject=i}));if(e.done=t,e.opts&&!1!==e.opts.updateURL&&this.useRouter){const t=document.querySelector("ion-router");if(t){const i=await t.canTransition();if(!1===i)return!1;if("string"==typeof i)return t.push(i,e.opts.direction||"back"),!1}}return 0===(null===(n=e.insertViews)||void 0===n?void 0:n.length)&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),r}success(e,t){if(this.destroyed)this.fireError("nav controller was destroyed",t);else if(t.done&&t.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),t.resolve(e.hasCompleted),!1!==t.opts.updateURL&&this.useRouter){const t=document.querySelector("ion-router");if(t){const i="back"===e.direction?"back":"forward";t.navChanged(i)}}}failed(e,t){this.destroyed?this.fireError("nav controller was destroyed",t):(this.transInstr.length=0,this.fireError(e,t))}fireError(e,t){t.done&&t.done(!1,!1,e),t.reject&&!this.destroyed?t.reject(e):t.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return!!e&&(this.runTransition(e),!0)}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const t=this.getActiveSync(),i=this.getEnteringView(e,t);if(!t&&!i)throw new Error("no views in the stack to be removed");i&&1===i.state&&await i.init(this.el),this.postViewInit(i,t,e);const n=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&i!==t;if(n&&e.opts&&t){"back"===e.opts.direction&&(e.opts.animationBuilder=e.opts.animationBuilder||(null==i?void 0:i.animationBuilder)),t.animationBuilder=e.opts.animationBuilder}let r;r=n?await this.transition(i,t,e):{hasCompleted:!0,requiresTransition:!1},this.success(r,e),this.ionNavDidChange.emit()}catch(t){this.failed(t,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var t,i,n;const r=this.views.length;if(null!==(t=e.opts)&&void 0!==t||(e.opts={}),null!==(i=(n=e.opts).delegate)&&void 0!==i||(n.delegate=this.delegate),void 0!==e.removeView){bf(void 0!==e.removeStart,"removeView needs removeStart"),bf(void 0!==e.removeCount,"removeView needs removeCount");const t=this.views.indexOf(e.removeView);if(t<0)throw new Error("removeView was not found");e.removeStart+=t}void 0!==e.removeStart&&(e.removeStart<0&&(e.removeStart=r-1),e.removeCount<0&&(e.removeCount=r-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===r),e.insertViews&&((e.insertStart<0||e.insertStart>r)&&(e.insertStart=r),e.enteringRequiresTransition=e.insertStart===r);const a=e.insertViews;if(!a)return;bf(a.length>0,"length can not be zero");const s=a.map((e=>e instanceof Nv?e:"component"in e?Mv(e.component,null===e.componentProps?void 0:e.componentProps):Mv(e,void 0))).filter((e=>null!==e));if(0===s.length)throw new Error("invalid views to insert");for(const o of s){o.delegate=e.opts.delegate;const t=o.nav;if(t&&t!==this)throw new Error("inserted view was already inserted");if(3===o.state)throw new Error("inserted view was already destroyed")}e.insertViews=s}getEnteringView(e,t){const i=e.insertViews;if(void 0!==i)return i[i.length-1];const n=e.removeStart;if(void 0!==n){const i=this.views,r=n+e.removeCount;for(let e=i.length-1;e>=0;e--){const a=i[e];if((e<n||e>=r)&&a!==t)return a}}}postViewInit(e,t,i){var n,r,a;bf(t||e,"Both leavingView and enteringView are null"),bf(i.resolve,"resolve must be valid"),bf(i.reject,"reject must be valid");const s=i.opts,{insertViews:o,removeStart:l,removeCount:c}=i;let d;if(void 0!==l&&void 0!==c){bf(l>=0,"removeStart can not be negative"),bf(c>=0,"removeCount can not be negative"),d=[];for(let i=l;i<l+c;i++){const n=this.views[i];void 0!==n&&n!==e&&n!==t&&d.push(n)}null!==(n=s.direction)&&void 0!==n||(s.direction="back")}const u=this.views.length+(null!==(r=null==o?void 0:o.length)&&void 0!==r?r:0)-(null!=c?c:0);if(bf(u>=0,"final balance can not be negative"),0===u)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(o){let e=i.insertStart;for(const t of o)this.insertViewAt(t,e),e++;i.enteringRequiresTransition&&(null!==(a=s.direction)&&void 0!==a||(s.direction="forward"))}if(d&&d.length>0){for(const e of d)Wf(e.element,Mf),Wf(e.element,Pf),Wf(e.element,If);for(const e of d)this.destroyView(e)}}async transition(e,t,i){const n=i.opts,r=n.progressAnimation?e=>{void 0===e||this.gestureOrAnimationInProgress?this.sbAni=e:(this.gestureOrAnimationInProgress=!0,e.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0,a=Og(this),s=e.element,o=t&&t.element,l=Object.assign(Object.assign({mode:a,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:r,animated:this.animated&&pg.getBoolean("animated",!0),enteringEl:s,leavingEl:o},n),{animationBuilder:n.animationBuilder||this.animation||pg.get("navAnimation")}),{hasCompleted:c}=await Rf(l);return this.transitionFinish(c,e,t,n)}transitionFinish(e,t,i,n){const r=e?t:i;return r&&this.unmountInactiveViews(r),{hasCompleted:e,requiresTransition:!0,enteringView:t,leavingView:i,direction:n.direction}}insertViewAt(e,t){const i=this.views,n=i.indexOf(e);n>-1?(bf(e.nav===this,"view is not part of the nav"),i.splice(n,1),i.splice(t,0,e)):(bf(!e.nav,"nav is used"),e.nav=this,i.splice(t,0,e))}removeView(e){bf(2===e.state||3===e.state,"view state should be loaded or destroyed");const t=this.views,i=t.indexOf(e);bf(i>-1,"view must be part of the stack"),i>=0&&t.splice(i,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const t=this.views,i=t.indexOf(e);for(let n=t.length-1;n>=0;n--){const e=t[n],r=e.element;r&&(n>i?(Wf(r,If),this.destroyView(e)):n<i&&Kf(r,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,t,i){if(this.sbAni){this.sbAni.onFinish((()=>{this.gestureOrAnimationInProgress=!1}),{oneTimeCallback:!0});let n=e?-.001:.001;e?n+=Yf([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),n+=Yf([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.sbAni.progressEnd(e?1:0,n,i)}else this.gestureOrAnimationInProgress=!1}render(){return Fp("slot",null)}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}"}},[1,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64]}]);const Iv=function(){if("undefined"==typeof customElements)return;["ion-nav"].forEach((e=>{if("ion-nav"===e)customElements.get(e)||customElements.define(e,Pv)}))};const Rv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionChange=Kp(this,"ionChange",7),this.ionInput=Kp(this,"ionInput",7),this.ionStyle=Kp(this,"ionStyle",7),this.ionFocus=Kp(this,"ionFocus",7),this.ionBlur=Kp(this,"ionBlur",7),this.ionKnobMoveStart=Kp(this,"ionKnobMoveStart",7),this.ionKnobMoveEnd=Kp(this,"ionKnobMoveEnd",7),this.rangeId="ion-r-"+$v++,this.didLoad=!1,this.noUpdate=!1,this.hasFocus=!1,this.inheritedAttributes={},this.contentEl=null,this.initialContentScrollY=!0,this.hasLoggedDeprecationWarning=!1,this.clampBounds=e=>yf(this.min,e,this.max),this.ensureValueInBounds=e=>this.dualKnobs?{lower:this.clampBounds(e.lower),upper:this.clampBounds(e.upper)}:this.clampBounds(e),this.setupGesture=async()=>{const e=this.rangeSlider;e&&(this.gesture=(await Ep((()=>Promise.resolve().then((()=>hg))))).createGesture({el:e,gestureName:"range",gesturePriority:100,threshold:0,onStart:e=>this.onStart(e),onMove:e=>this.onMove(e),onEnd:e=>this.onEnd(e)}),this.gesture.enable(!this.disabled))},this.handleKeyboard=(e,t)=>{const{ensureValueInBounds:i}=this;let n=this.step;n=n>0?n:1,n/=this.max-this.min,t||(n*=-1),"A"===e?this.ratioA=yf(0,this.ratioA+n,1):this.ratioB=yf(0,this.ratioB+n,1),this.ionKnobMoveStart.emit({value:i(this.value)}),this.updateValue(),this.emitValueChange(),this.ionKnobMoveEnd.emit({value:i(this.value)})},this.onBlur=()=>{this.hasFocus&&(this.hasFocus=!1,this.ionBlur.emit(),this.emitStyle())},this.onFocus=()=>{this.hasFocus||(this.hasFocus=!0,this.ionFocus.emit(),this.emitStyle())},this.ratioA=0,this.ratioB=0,this.pressedKnob=void 0,this.color=void 0,this.debounce=void 0,this.name=this.rangeId,this.label=void 0,this.dualKnobs=!1,this.min=0,this.max=100,this.pin=!1,this.pinFormatter=e=>Math.round(e),this.snaps=!1,this.step=1,this.ticks=!0,this.activeBarStart=void 0,this.disabled=!1,this.value=0,this.labelPlacement="start",this.legacy=void 0}debounceChanged(){const{ionInput:e,debounce:t,originalIonInput:i}=this;this.ionInput=void 0===t?null!=i?i:e:wf(e,t)}minChanged(){this.noUpdate||this.updateRatio()}maxChanged(){this.noUpdate||this.updateRatio()}activeBarStartChanged(){const{activeBarStart:e}=this;void 0!==e&&(e>this.max?(Qg(`Range: The value of activeBarStart (${e}) is greater than the max (${this.max}). Valid values are greater than or equal to the min value and less than or equal to the max value.`,this.el),this.activeBarStart=this.max):e<this.min&&(Qg(`Range: The value of activeBarStart (${e}) is less than the min (${this.min}). Valid values are greater than or equal to the min value and less than or equal to the max value.`,this.el),this.activeBarStart=this.min))}disabledChanged(){this.gesture&&this.gesture.enable(!this.disabled),this.emitStyle()}valueChanged(){this.noUpdate||this.updateRatio()}componentWillLoad(){this.el.hasAttribute("id")&&(this.rangeId=this.el.getAttribute("id")),this.inheritedAttributes=cf(this.el)}componentDidLoad(){this.originalIonInput=this.ionInput,this.setupGesture(),this.didLoad=!0}connectedCallback(){const{el:e}=this;this.legacyFormController=Zy(e),this.updateRatio(),this.debounceChanged(),this.disabledChanged(),this.activeBarStartChanged(),this.didLoad&&this.setupGesture(),this.contentEl=Db(this.el)}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}getValue(){var e;const t=null!==(e=this.value)&&void 0!==e?e:0;return this.dualKnobs?"object"==typeof t?t:{lower:0,upper:t}:"object"==typeof t?t.upper:t}emitStyle(){this.legacyFormController.hasLegacyControl()&&this.ionStyle.emit({interactive:!0,"interactive-disabled":this.disabled})}emitValueChange(){this.value=this.ensureValueInBounds(this.value),this.ionChange.emit({value:this.value})}onStart(e){const{contentEl:t}=this;t&&(this.initialContentScrollY=$b(t));const i=this.rect=this.rangeSlider.getBoundingClientRect(),n=e.currentX;let r=yf(0,(n-i.left)/i.width,1);fb(this.el)&&(r=1-r),this.pressedKnob=!this.dualKnobs||Math.abs(this.ratioA-r)<Math.abs(this.ratioB-r)?"A":"B",this.setFocus(this.pressedKnob),this.update(n),this.ionKnobMoveStart.emit({value:this.ensureValueInBounds(this.value)})}onMove(e){this.update(e.currentX)}onEnd(e){const{contentEl:t,initialContentScrollY:i}=this;t&&Bb(t,i),this.update(e.currentX),this.pressedKnob=void 0,this.emitValueChange(),this.ionKnobMoveEnd.emit({value:this.ensureValueInBounds(this.value)})}update(e){const t=this.rect;let i=yf(0,(e-t.left)/t.width,1);fb(this.el)&&(i=1-i),this.snaps&&(i=jv(Dv(i,this.min,this.max,this.step),this.min,this.max)),"A"===this.pressedKnob?this.ratioA=i:this.ratioB=i,this.updateValue()}get valA(){return Dv(this.ratioA,this.min,this.max,this.step)}get valB(){return Dv(this.ratioB,this.min,this.max,this.step)}get ratioLower(){if(this.dualKnobs)return Math.min(this.ratioA,this.ratioB);const{activeBarStart:e}=this;return null==e?0:jv(e,this.min,this.max)}get ratioUpper(){return this.dualKnobs?Math.max(this.ratioA,this.ratioB):this.ratioA}updateRatio(){const e=this.getValue(),{min:t,max:i}=this;this.dualKnobs?(this.ratioA=jv(e.lower,t,i),this.ratioB=jv(e.upper,t,i)):this.ratioA=jv(e,t,i)}updateValue(){this.noUpdate=!0;const{valA:e,valB:t}=this;this.value=this.dualKnobs?{lower:Math.min(e,t),upper:Math.max(e,t)}:e,this.ionInput.emit({value:this.value}),this.noUpdate=!1}setFocus(e){if(this.el.shadowRoot){const t=this.el.shadowRoot.querySelector("A"===e?".range-knob-a":".range-knob-b");t&&t.focus()}}renderLegacyRange(){this.hasLoggedDeprecationWarning||(Qg('ion-range now requires providing a label with either the label slot or the "aria-label" attribute. To migrate, remove any usage of "ion-label" and pass the label text to either the component or the "aria-label" attribute.\n\nExample: <ion-range><div slot="label">Volume</div></ion-range>\nExample with aria-label: <ion-range aria-label="Volume"></ion-range>\n\nDevelopers can use the "legacy" property to continue using the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.',this.el),this.legacy&&Qg('ion-range is being used with the "legacy" property enabled which will forcibly enable the legacy form markup. This property will be removed in an upcoming major release of Ionic where this form control will use the modern form markup.\n\nDevelopers can dismiss this warning by removing their usage of the "legacy" property and using the new range syntax.',this.el),this.hasLoggedDeprecationWarning=!0);const{el:e,pressedKnob:t,disabled:i,pin:n,rangeId:r}=this,a=Og(this);return gf(!0,e,this.name,JSON.stringify(this.getValue()),i),Fp(Vp,{onFocusin:this.onFocus,onFocusout:this.onBlur,id:r,class:Hy(this.color,{[a]:!0,"in-item":Vy("ion-item",e),"range-disabled":i,"range-pressed":void 0!==t,"range-has-pin":n,"legacy-range":!0})},Fp("slot",{name:"start"}),this.renderRangeSlider(),Fp("slot",{name:"end"}))}renderRange(){const{disabled:e,el:t,rangeId:i,pin:n,pressedKnob:r,labelPlacement:a,label:s}=this,o=Og(this);return gf(!0,t,this.name,JSON.stringify(this.getValue()),e),Fp(Vp,{onFocusin:this.onFocus,onFocusout:this.onBlur,id:i,class:Hy(this.color,{[o]:!0,"in-item":Vy("ion-item",t),"range-disabled":e,"range-pressed":void 0!==r,"range-has-pin":n,[`range-label-placement-${a}`]:!0})},Fp("label",{class:"range-wrapper",id:"range-label"},Fp("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},void 0!==s?Fp("div",{class:"label-text"},s):Fp("slot",{name:"label"})),Fp("div",{class:"native-wrapper"},Fp("slot",{name:"start"}),this.renderRangeSlider(),Fp("slot",{name:"end"}))))}get hasLabel(){return void 0!==this.label||null!==this.el.querySelector('[slot="label"]')}renderRangeSlider(){var e;const{min:t,max:i,step:n,el:r,handleKeyboard:a,pressedKnob:s,disabled:o,pin:l,ratioLower:c,ratioUpper:d,inheritedAttributes:u,rangeId:h,pinFormatter:p}=this;let{labelText:m}=((e,t)=>{let i;const n=e.getAttribute("aria-labelledby"),r=e.id;let a=null!==n&&""!==n.trim()?n:t+"-lbl",s=null!==n&&""!==n.trim()?document.getElementById(n):ff(e);return s?(null===n&&(s.id=a),i=s.textContent,s.setAttribute("aria-hidden","true")):""!==r.trim()&&(s=document.querySelector(`label[for="${r}"]`),s&&(""!==s.id?a=s.id:s.id=a=`${r}-lbl`,i=s.textContent)),{label:s,labelId:a,labelText:i}})(r,h);null==m&&(m=u["aria-label"]);let f=100*c+"%",g=100-100*d+"%";const y=fb(this.el),b=y?"right":"left",v=y?"left":"right",w=e=>({[b]:e[b]});!1===this.dualKnobs&&(this.valA<(null!==(e=this.activeBarStart)&&void 0!==e?e:this.min)?(f=100*d+"%",g=100-100*c+"%"):(f=100*c+"%",g=100-100*d+"%"));const T={[b]:f,[v]:g},x=[];if(this.snaps&&this.ticks)for(let _=t;_<=i;_+=n){const e=jv(_,t,i),n=Math.min(c,d),r=Math.max(c,d),a={ratio:e,active:e>=n&&e<=r};a[b]=100*e+"%",x.push(a)}let E;return!this.legacyFormController.hasLegacyControl()&&this.hasLabel&&(E="range-label"),Fp("div",{class:"range-slider",ref:e=>this.rangeSlider=e},x.map((e=>Fp("div",{style:w(e),role:"presentation",class:{"range-tick":!0,"range-tick-active":e.active},part:e.active?"tick-active":"tick"}))),Fp("div",{class:"range-bar-container"},Fp("div",{class:"range-bar",role:"presentation",part:"bar"}),Fp("div",{class:{"range-bar":!0,"range-bar-active":!0,"has-ticks":x.length>0},role:"presentation",style:T,part:"bar-active"})),Lv(y,{knob:"A",pressed:"A"===s,value:this.valA,ratio:this.ratioA,pin:l,pinFormatter:p,disabled:o,handleKeyboard:a,min:t,max:i,labelText:m,labelledBy:E}),this.dualKnobs&&Lv(y,{knob:"B",pressed:"B"===s,value:this.valB,ratio:this.ratioB,pin:l,pinFormatter:p,disabled:o,handleKeyboard:a,min:t,max:i,labelText:m,labelledBy:E}))}render(){const{legacyFormController:e}=this;return e.hasLegacyControl()?this.renderLegacyRange():this.renderRange()}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],min:["minChanged"],max:["maxChanged"],activeBarStart:["activeBarStartChanged"],disabled:["disabledChanged"],value:["valueChanged"]}}static get style(){return{ios:":host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}@supports (inset-inline-start: 0){.range-knob-handle{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob-handle{left:0}:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}[dir=rtl] .range-knob-handle{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}@supports (inset-inline-start: 0){.range-bar-container{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-bar-container{left:0}:host-context([dir=rtl]) .range-bar-container{left:unset;right:unset;right:0}[dir=rtl] .range-bar-container{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}@supports (inset-inline-start: 0){.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}}@supports not (inset-inline-start: 0){.range-knob{left:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}}}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host{--knob-border-radius:50%;--knob-background:#ffffff;--knob-box-shadow:0px 0.5px 4px rgba(0, 0, 0, 0.12), 0px 6px 13px rgba(0, 0, 0, 0.12);--knob-size:26px;--bar-height:4px;--bar-background:var(--ion-color-step-900, #e6e6e6);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:2px;--height:42px}:host(.legacy-range){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:8px;padding-bottom:8px}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-tick-active{background:var(--ion-color-base)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin){padding-top:20px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-bar-active.has-ticks{border-radius:0;-webkit-margin-start:-2px;margin-inline-start:-2px;-webkit-margin-end:-2px;margin-inline-end:-2px}.range-tick{-webkit-margin-start:-2px;margin-inline-start:-2px;border-radius:0;position:absolute;top:17px;width:4px;height:8px;background:var(--ion-color-step-900, #e6e6e6);pointer-events:none}.range-tick-active{background:var(--bar-background-active)}.range-pin{-webkit-transform:translate3d(0,  28px,  0) scale(0.01);transform:translate3d(0,  28px,  0) scale(0.01);-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;display:inline-block;position:relative;top:-20px;min-width:28px;-webkit-transition:-webkit-transform 120ms ease;transition:-webkit-transform 120ms ease;transition:transform 120ms ease;transition:transform 120ms ease, -webkit-transform 120ms ease;background:transparent;color:var(--ion-text-color, #000);font-size:12px;text-align:center}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0,  0,  0) scale(1);transform:translate3d(0,  0,  0) scale(1)}:host(.range-disabled){opacity:0.3}",md:':host{--knob-handle-size:calc(var(--knob-size) * 2);display:-ms-flexbox;display:flex;position:relative;-ms-flex:3;flex:3;-ms-flex-align:center;align-items:center;font-family:var(--ion-font-family, inherit);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:2}:host(.range-disabled){pointer-events:none}::slotted(ion-label){-ms-flex:initial;flex:initial}::slotted(ion-icon[slot]){font-size:24px}.range-slider{position:relative;-ms-flex:1;flex:1;width:100%;height:var(--height);contain:size layout style;cursor:-webkit-grab;cursor:grab;-ms-touch-action:pan-y;touch-action:pan-y}:host(.range-pressed) .range-slider{cursor:-webkit-grabbing;cursor:grabbing}.range-pin{position:absolute;background:var(--ion-color-base);color:var(--ion-color-contrast);text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box}.range-knob-handle{top:calc((var(--height) - var(--knob-handle-size)) / 2);-webkit-margin-start:calc(0px - var(--knob-handle-size) / 2);margin-inline-start:calc(0px - var(--knob-handle-size) / 2);position:absolute;width:var(--knob-handle-size);height:var(--knob-handle-size);text-align:center}@supports (inset-inline-start: 0){.range-knob-handle{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob-handle{left:0}:host-context([dir=rtl]) .range-knob-handle{left:unset;right:unset;right:0}[dir=rtl] .range-knob-handle{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-knob-handle{left:unset}[dir=rtl] .range-knob-handle{left:unset}@supports selector(:dir(rtl)){.range-knob-handle:dir(rtl){left:unset}}.range-knob-handle:active,.range-knob-handle:focus{outline:none}.range-bar-container{border-radius:var(--bar-border-radius);top:calc((var(--height) - var(--bar-height)) / 2);position:absolute;width:100%;height:var(--bar-height)}@supports (inset-inline-start: 0){.range-bar-container{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-bar-container{left:0}:host-context([dir=rtl]) .range-bar-container{left:unset;right:unset;right:0}[dir=rtl] .range-bar-container{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset;right:unset;right:0}}}:host-context([dir=rtl]) .range-bar-container{left:unset}[dir=rtl] .range-bar-container{left:unset}@supports selector(:dir(rtl)){.range-bar-container:dir(rtl){left:unset}}.range-bar{border-radius:var(--bar-border-radius);position:absolute;width:100%;height:var(--bar-height);background:var(--bar-background);pointer-events:none}.range-knob{border-radius:var(--knob-border-radius);top:calc(50% - var(--knob-size) / 2);position:absolute;width:var(--knob-size);height:var(--knob-size);background:var(--knob-background);-webkit-box-shadow:var(--knob-box-shadow);box-shadow:var(--knob-box-shadow);z-index:2;pointer-events:none}@supports (inset-inline-start: 0){.range-knob{inset-inline-start:calc(50% - var(--knob-size) / 2)}}@supports not (inset-inline-start: 0){.range-knob{left:calc(50% - var(--knob-size) / 2)}:host-context([dir=rtl]) .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}[dir=rtl] .range-knob{left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset;right:unset;right:calc(50% - var(--knob-size) / 2)}}}:host-context([dir=rtl]) .range-knob{left:unset}[dir=rtl] .range-knob{left:unset}@supports selector(:dir(rtl)){.range-knob:dir(rtl){left:unset}}:host(.range-pressed) .range-bar-active{will-change:left, right}:host(.in-item){width:100%}:host([slot=start]),:host([slot=end]){width:auto}:host(.in-item) ::slotted(ion-label){-ms-flex-item-align:center;align-self:center}.range-wrapper{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;height:inherit}::slotted([slot=label]){max-width:200px;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden{display:none}.native-wrapper{display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center}:host(.range-label-placement-start) .range-wrapper{-ms-flex-direction:row;flex-direction:row}:host(.range-label-placement-start) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-end) .range-wrapper{-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.range-label-placement-end) .label-text-wrapper{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}:host(.range-label-placement-fixed) .label-text-wrapper{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}:host{--knob-border-radius:50%;--knob-background:var(--bar-background-active);--knob-box-shadow:none;--knob-size:18px;--bar-height:2px;--bar-background:rgba(var(--ion-color-primary-rgb, 56, 128, 255), 0.26);--bar-background-active:var(--ion-color-primary, #3880ff);--bar-border-radius:0;--height:42px;--pin-background:var(--ion-color-primary, #3880ff);--pin-color:var(--ion-color-primary-contrast, #fff);font-size:12px}::slotted([slot=label]),.label-text{font-size:initial}:host(.legacy-range){-webkit-padding-start:14px;padding-inline-start:14px;-webkit-padding-end:14px;padding-inline-end:14px;padding-top:8px;padding-bottom:8px}:host(.ion-color) .range-bar{background:rgba(var(--ion-color-base-rgb), 0.26)}:host(.ion-color) .range-bar-active,:host(.ion-color) .range-knob,:host(.ion-color) .range-knob::before,:host(.ion-color) .range-pin,:host(.ion-color) .range-pin::before,:host(.ion-color) .range-tick{background:var(--ion-color-base);color:var(--ion-color-contrast)}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:14px;margin-inline-end:14px;margin-top:0;margin-bottom:0}::slotted([slot=end]){-webkit-margin-start:14px;margin-inline-start:14px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}:host(.range-has-pin){padding-top:28px}.range-bar-active{bottom:0;width:auto;background:var(--bar-background-active)}.range-knob{-webkit-transform:scale(0.67);transform:scale(0.67);-webkit-transition-duration:120ms;transition-duration:120ms;-webkit-transition-property:background-color, border, -webkit-transform;transition-property:background-color, border, -webkit-transform;transition-property:transform, background-color, border;transition-property:transform, background-color, border, -webkit-transform;-webkit-transition-timing-function:ease;transition-timing-function:ease;z-index:2}.range-knob::before{border-radius:50%;position:absolute;width:var(--knob-size);height:var(--knob-size);-webkit-transform:scale(1);transform:scale(1);-webkit-transition:0.267s cubic-bezier(0, 0, 0.58, 1);transition:0.267s cubic-bezier(0, 0, 0.58, 1);background:var(--knob-background);content:"";opacity:0.13;pointer-events:none}@supports (inset-inline-start: 0){.range-knob::before{inset-inline-start:0}}@supports not (inset-inline-start: 0){.range-knob::before{left:0}:host-context([dir=rtl]) .range-knob::before{left:unset;right:unset;right:0}[dir=rtl] .range-knob::before{left:unset;right:unset;right:0}@supports selector(:dir(rtl)){.range-knob::before:dir(rtl){left:unset;right:unset;right:0}}}.range-tick{position:absolute;top:calc((var(--height) - var(--bar-height)) / 2);width:var(--bar-height);height:var(--bar-height);background:var(--bar-background-active);z-index:1;pointer-events:none}.range-tick-active{background:transparent}.range-pin{padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;border-radius:50%;-webkit-transform:translate3d(0,  0,  0) scale(0.01);transform:translate3d(0,  0,  0) scale(0.01);display:inline-block;position:relative;min-width:28px;height:28px;-webkit-transition:background 120ms ease, -webkit-transform 120ms ease;transition:background 120ms ease, -webkit-transform 120ms ease;transition:transform 120ms ease, background 120ms ease;transition:transform 120ms ease, background 120ms ease, -webkit-transform 120ms ease;background:var(--pin-background);color:var(--pin-color);text-align:center}.range-pin::before{top:3px;-webkit-margin-start:-13px;margin-inline-start:-13px;border-radius:50% 50% 50% 0;position:absolute;width:26px;height:26px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transition:background 120ms ease;transition:background 120ms ease;background:var(--pin-background);content:"";z-index:-1}@supports (inset-inline-start: 0){.range-pin::before{inset-inline-start:50%}}@supports not (inset-inline-start: 0){.range-pin::before{left:50%}:host-context([dir=rtl]) .range-pin::before{left:unset;right:unset;right:50%}[dir=rtl] .range-pin::before{left:unset;right:unset;right:50%}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset;right:unset;right:50%}}}:host-context([dir=rtl]) .range-pin::before{left:unset}[dir=rtl] .range-pin::before{left:unset}@supports selector(:dir(rtl)){.range-pin::before:dir(rtl){left:unset}}.range-knob-pressed .range-pin,.range-knob-handle.ion-focused .range-pin{-webkit-transform:translate3d(0,  -24px,  0) scale(1);transform:translate3d(0,  -24px,  0) scale(1)}@media (any-hover: hover){.range-knob-handle:hover .range-knob:before{-webkit-transform:scale(2);transform:scale(2);opacity:0.13}}.range-knob-handle.ion-activated .range-knob:before,.range-knob-handle.ion-focused .range-knob:before,.range-knob-handle.range-knob-pressed .range-knob:before{-webkit-transform:scale(2);transform:scale(2)}.range-knob-handle.ion-focused .range-knob::before{opacity:0.13}.range-knob-handle.ion-activated .range-knob::before,.range-knob-handle.range-knob-pressed .range-knob::before{opacity:0.25}:host(:not(.range-has-pin)) .range-knob-pressed .range-knob,:host(:not(.range-has-pin)) .range-knob-handle.ion-focused .range-knob{-webkit-transform:scale(1);transform:scale(1)}:host(.range-disabled) .range-bar-active,:host(.range-disabled) .range-bar,:host(.range-disabled) .range-tick{background-color:var(--ion-color-step-250, #bfbfbf)}:host(.range-disabled) .range-knob{-webkit-transform:scale(0.55);transform:scale(0.55);outline:5px solid #fff;background-color:var(--ion-color-step-250, #bfbfbf)}:host(.range-disabled) .label-text-wrapper,:host(.range-disabled) ::slotted([slot=start]),:host(.range-disabled) ::slotted([slot=end]){opacity:0.38}'}}},[33,"ion-range",{color:[513],debounce:[2],name:[1],label:[1],dualKnobs:[4,"dual-knobs"],min:[2],max:[2],pin:[4],pinFormatter:[16],snaps:[4],step:[2],ticks:[4],activeBarStart:[1026,"active-bar-start"],disabled:[4],value:[1026],labelPlacement:[1,"label-placement"],legacy:[4],ratioA:[32],ratioB:[32],pressedKnob:[32]}]),Lv=(e,{knob:t,value:i,ratio:n,min:r,max:a,disabled:s,pressed:o,pin:l,handleKeyboard:c,labelText:d,labelledBy:u,pinFormatter:h})=>{const p=e?"right":"left";return Fp("div",{onKeyDown:e=>{const i=e.key;"ArrowLeft"===i||"ArrowDown"===i?(c(t,!1),e.preventDefault(),e.stopPropagation()):"ArrowRight"!==i&&"ArrowUp"!==i||(c(t,!0),e.preventDefault(),e.stopPropagation())},class:{"range-knob-handle":!0,"range-knob-a":"A"===t,"range-knob-b":"B"===t,"range-knob-pressed":o,"range-knob-min":i===r,"range-knob-max":i===a,"ion-activatable":!0,"ion-focusable":!0},style:(()=>{const e={};return e[p]=100*n+"%",e})(),role:"slider",tabindex:s?-1:0,"aria-label":void 0===u?d:null,"aria-labelledby":void 0!==u?u:null,"aria-valuemin":r,"aria-valuemax":a,"aria-disabled":s?"true":null,"aria-valuenow":i},l&&Fp("div",{class:"range-pin",role:"presentation",part:"pin"},h(i)),Fp("div",{class:"range-knob",role:"presentation",part:"knob"}))},Dv=(e,t,i,n)=>{let r=(i-t)*e;n>0&&(r=Math.round(r/n)*n+t);return function(e,...t){const i=Math.max(...t.map((e=>function(e){return e%1==0?0:e.toString().split(".")[1].length}(e))));return Number(e.toFixed(i))}(yf(t,r,i),t,i,n)},jv=(e,t,i)=>yf(0,(e-t)/(i-t),1);let $v=0;const Bv=function(){if("undefined"==typeof customElements)return;["ion-range"].forEach((e=>{if("ion-range"===e)customElements.get(e)||customElements.define(e,Rv)}))},qv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow()}render(){return Fp(Vp,{class:Og(this)},Fp("slot",null))}static get style(){return":host{display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap}"}},[1,"ion-row"]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Uv=function(){if("undefined"==typeof customElements)return;["ion-row"].forEach((e=>{if("ion-row"===e)customElements.get(e)||customElements.define(e,qv)}))},Fv=(e,t)=>{let i,n;const r=(e,n,r)=>{if("undefined"==typeof document)return;const o=document.elementFromPoint(e,n);o&&t(o)?o!==i&&(s(),a(o,r)):s()},a=(e,t)=>{i=e,n||(n=i);const r=i;tf((()=>r.classList.add("ion-activated"))),t()},s=(e=!1)=>{if(!i)return;const t=i;tf((()=>t.classList.remove("ion-activated"))),e&&n!==i&&i.click(),i=void 0};return lg({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>r(e.currentX,e.currentY,Ab),onMove:e=>r(e.currentX,e.currentY,Nb),onEnd:()=>{s(!0),kb()&&Cb.selectionEnd(),n=void 0}})},zv=e=>{const t=Of(),i=Of(),n=Of();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),n.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(1.1)"},{offset:1,opacity:"1",transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([i,n])},Vv=e=>{const t=Of(),i=Of(),n=Of();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),n.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:.99,transform:"scale(1)"},{offset:1,opacity:0,transform:"scale(0.9)"}]),t.addElement(e).easing("ease-in-out").duration(200).addAnimation([i,n])},Hv=e=>{const t=Of(),i=Of(),n=Of();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),n.addElement(e.querySelector(".alert-wrapper")).keyframes([{offset:0,opacity:"0.01",transform:"scale(0.9)"},{offset:1,opacity:"1",transform:"scale(1)"}]),t.addElement(e).easing("ease-in-out").duration(150).addAnimation([i,n])},Wv=e=>{const t=Of(),i=Of(),n=Of();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),n.addElement(e.querySelector(".alert-wrapper")).fromTo("opacity",.99,0),t.addElement(e).easing("ease-in-out").duration(150).addAnimation([i,n])},Gv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.didPresent=Kp(this,"ionAlertDidPresent",7),this.willPresent=Kp(this,"ionAlertWillPresent",7),this.willDismiss=Kp(this,"ionAlertWillDismiss",7),this.didDismiss=Kp(this,"ionAlertDidDismiss",7),this.didPresentShorthand=Kp(this,"didPresent",7),this.willPresentShorthand=Kp(this,"willPresent",7),this.willDismissShorthand=Kp(this,"willDismiss",7),this.didDismissShorthand=Kp(this,"didDismiss",7),this.delegateController=(e=>{let t,i=!1;const n=Kg(),r=(r=!1)=>{if(t&&!r)return{delegate:t,inline:i};const{el:a,hasController:s,delegate:o}=e,l=a.parentNode;return i=null!==l&&!s,t=i?o||n:o,{inline:i,delegate:t}};return{attachViewToDom:async t=>{const{delegate:i}=r(!0);if(i)return await i.attachViewToDom(e.el,t);const{hasController:n}=e;if(n&&void 0!==t)throw new Error("framework delegate is missing");return null},removeViewFromDom:()=>{const{delegate:t}=r();t&&void 0!==e.el&&t.removeViewFromDom(e.el.parentElement,e.el)}}})(this),this.triggerController=Ty(),this.customHTMLEnabled=pg.get("innerHTMLTemplatesEnabled",false),this.processedInputs=[],this.processedButtons=[],this.presented=!1,this.onBackdropTap=()=>{this.dismiss(void 0,vy)},this.dispatchCancelHandler=e=>{const t=e.detail.role;if(gy(t)){const e=this.processedButtons.find((e=>"cancel"===e.role));this.callButtonHandler(e)}},this.overlayIndex=void 0,this.delegate=void 0,this.hasController=!1,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.cssClass=void 0,this.header=void 0,this.subHeader=void 0,this.message=void 0,this.buttons=[],this.inputs=[],this.backdropDismiss=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:i}=this;e&&i.addClickListener(t,e)}onKeydown(e){const t=new Set(this.processedInputs.map((e=>e.type)));if(!t.has("radio")||e.target&&!this.el.contains(e.target)||e.target.classList.contains("alert-button"))return;const i=this.el.querySelectorAll(".alert-radio"),n=Array.from(i).filter((e=>!e.disabled)),r=n.findIndex((t=>t.id===e.target.id));let a;if(["ArrowDown","ArrowRight"].includes(e.key)&&(a=r===n.length-1?n[0]:n[r+1]),["ArrowUp","ArrowLeft"].includes(e.key)&&(a=0===r?n[n.length-1]:n[r-1]),a&&n.includes(a)){const e=this.processedInputs.find((e=>e.id===(null==a?void 0:a.id)));e&&(this.rbClick(e),a.focus())}}buttonsChanged(){const e=this.buttons;this.processedButtons=e.map((e=>"string"==typeof e?{text:e,role:"cancel"===e.toLowerCase()?"cancel":void 0}:e))}inputsChanged(){const e=this.inputs,t=e.find((e=>!e.disabled)),i=e.find((e=>e.checked&&!e.disabled))||t,n=new Set(e.map((e=>e.type)));n.has("checkbox")&&n.has("radio")&&console.warn(`Alert cannot mix input types: ${Array.from(n.values()).join("/")}. Please see alert docs for more info.`),this.inputType=n.values().next().value,this.processedInputs=e.map(((e,t)=>{var n;return{type:e.type||"text",name:e.name||`${t}`,placeholder:e.placeholder||"",value:e.value,label:e.label,checked:!!e.checked,disabled:!!e.disabled,id:e.id||`alert-input-${this.overlayIndex}-${t}`,handler:e.handler,min:e.min,max:e.max,cssClass:null!==(n=e.cssClass)&&void 0!==n?n:"",attributes:e.attributes||{},tabindex:"radio"===e.type&&e!==i?-1:0}}))}connectedCallback(){ey(this.el),this.triggerChanged()}componentWillLoad(){ty(this.el),this.inputsChanged(),this.buttonsChanged()}disconnectedCallback(){this.triggerController.removeClickListener(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}componentDidLoad(){!this.gesture&&"ios"===Og(this)&&this.wrapperEl&&(this.gesture=Fv(this.wrapperEl,(e=>e.classList.contains("alert-button"))),this.gesture.enable(!0)),!0===this.isOpen&&pf((()=>this.present()))}async present(){void 0!==this.currentTransition&&await this.currentTransition,await this.delegateController.attachViewToDom(),this.currentTransition=cy(this,"alertEnter",zv,Hv),await this.currentTransition,this.currentTransition=void 0}async dismiss(e,t){this.currentTransition=uy(this,e,t,"alertLeave",Vv,Wv);const i=await this.currentTransition;return i&&this.delegateController.removeViewFromDom(),i}onDidDismiss(){return my(this.el,"ionAlertDidDismiss")}onWillDismiss(){return my(this.el,"ionAlertWillDismiss")}rbClick(e){for(const t of this.processedInputs)t.checked=t===e,t.tabindex=t===e?0:-1;this.activeId=e.id,by(e.handler,e),_m(this)}cbClick(e){e.checked=!e.checked,by(e.handler,e),_m(this)}async buttonClick(e){const t=e.role,i=this.getValues();if(gy(t))return this.dismiss({values:i},t);const n=await this.callButtonHandler(e,i);return!1!==n&&this.dismiss(Object.assign({values:i},n),e.role)}async callButtonHandler(e,t){if(null==e?void 0:e.handler){const i=await by(e.handler,t);if(!1===i)return!1;if("object"==typeof i)return i}return{}}getValues(){if(0===this.processedInputs.length)return;if("radio"===this.inputType){const e=this.processedInputs.find((e=>!!e.checked));return e?e.value:void 0}if("checkbox"===this.inputType)return this.processedInputs.filter((e=>e.checked)).map((e=>e.value));const e={};return this.processedInputs.forEach((t=>{e[t.name]=t.value||""})),e}renderAlertInputs(){switch(this.inputType){case"checkbox":return this.renderCheckbox();case"radio":return this.renderRadio();default:return this.renderInput()}}renderCheckbox(){const e=this.processedInputs,t=Og(this);return 0===e.length?null:Fp("div",{class:"alert-checkbox-group"},e.map((e=>Fp("button",{type:"button",onClick:()=>this.cbClick(e),"aria-checked":`${e.checked}`,id:e.id,disabled:e.disabled,tabIndex:e.tabindex,role:"checkbox",class:Object.assign(Object.assign({},Wy(e.cssClass)),{"alert-tappable":!0,"alert-checkbox":!0,"alert-checkbox-button":!0,"ion-focusable":!0,"alert-checkbox-button-disabled":e.disabled||!1})},Fp("div",{class:"alert-button-inner"},Fp("div",{class:"alert-checkbox-icon"},Fp("div",{class:"alert-checkbox-inner"})),Fp("div",{class:"alert-checkbox-label"},e.label)),"md"===t&&Fp("ion-ripple-effect",null)))))}renderRadio(){const e=this.processedInputs;return 0===e.length?null:Fp("div",{class:"alert-radio-group",role:"radiogroup","aria-activedescendant":this.activeId},e.map((e=>Fp("button",{type:"button",onClick:()=>this.rbClick(e),"aria-checked":`${e.checked}`,disabled:e.disabled,id:e.id,tabIndex:e.tabindex,class:Object.assign(Object.assign({},Wy(e.cssClass)),{"alert-radio-button":!0,"alert-tappable":!0,"alert-radio":!0,"ion-focusable":!0,"alert-radio-button-disabled":e.disabled||!1}),role:"radio"},Fp("div",{class:"alert-button-inner"},Fp("div",{class:"alert-radio-icon"},Fp("div",{class:"alert-radio-inner"})),Fp("div",{class:"alert-radio-label"},e.label))))))}renderInput(){const e=this.processedInputs;return 0===e.length?null:Fp("div",{class:"alert-input-group"},e.map((e=>{var t,i,n,r;return"textarea"===e.type?Fp("div",{class:"alert-input-wrapper"},Fp("textarea",Object.assign({placeholder:e.placeholder,value:e.value,id:e.id,tabIndex:e.tabindex},e.attributes,{disabled:null!==(i=null===(t=e.attributes)||void 0===t?void 0:t.disabled)&&void 0!==i?i:e.disabled,class:Kv(e),onInput:t=>{var i;e.value=t.target.value,(null===(i=e.attributes)||void 0===i?void 0:i.onInput)&&e.attributes.onInput(t)}}))):Fp("div",{class:"alert-input-wrapper"},Fp("input",Object.assign({placeholder:e.placeholder,type:e.type,min:e.min,max:e.max,value:e.value,id:e.id,tabIndex:e.tabindex},e.attributes,{disabled:null!==(r=null===(n=e.attributes)||void 0===n?void 0:n.disabled)&&void 0!==r?r:e.disabled,class:Kv(e),onInput:t=>{var i;e.value=t.target.value,(null===(i=e.attributes)||void 0===i?void 0:i.onInput)&&e.attributes.onInput(t)}})))})))}renderAlertButtons(){const e=this.processedButtons,t=Og(this),i={"alert-button-group":!0,"alert-button-group-vertical":e.length>2};return Fp("div",{class:i},e.map((e=>Fp("button",Object.assign({},e.htmlAttributes,{type:"button",id:e.id,class:Qv(e),tabIndex:0,onClick:()=>this.buttonClick(e)}),Fp("span",{class:"alert-button-inner"},e.text),"md"===t&&Fp("ion-ripple-effect",null)))))}renderAlertMessage(e){const{customHTMLEnabled:t,message:i}=this;return t?Fp("div",{id:e,class:"alert-message",innerHTML:Pg(i)}):Fp("div",{id:e,class:"alert-message"},i)}render(){const{overlayIndex:e,header:t,subHeader:i,message:n,htmlAttributes:r}=this,a=Og(this),s=`alert-${e}-hdr`,o=`alert-${e}-sub-hdr`,l=`alert-${e}-msg`,c=this.inputs.length>0||this.buttons.length>0?"alertdialog":"alert",d=t?s:i?o:null;return Fp(Vp,Object.assign({role:c,"aria-modal":"true","aria-labelledby":d,"aria-describedby":void 0!==n?l:null,tabindex:"-1"},r,{style:{zIndex:`${2e4+e}`},class:Object.assign(Object.assign({},Wy(this.cssClass)),{[a]:!0,"overlay-hidden":!0,"alert-translucent":this.translucent}),onIonAlertWillDismiss:this.dispatchCancelHandler,onIonBackdropTap:this.onBackdropTap}),Fp("ion-backdrop",{tappable:this.backdropDismiss}),Fp("div",{tabindex:"0"}),Fp("div",{class:"alert-wrapper ion-overlay-wrapper",ref:e=>this.wrapperEl=e},Fp("div",{class:"alert-head"},t&&Fp("h2",{id:s,class:"alert-title"},t),i&&Fp("h2",{id:o,class:"alert-sub-title"},i)),this.renderAlertMessage(l),this.renderAlertInputs(),this.renderAlertButtons()),Fp("div",{tabindex:"0"}))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"],buttons:["buttonsChanged"],inputs:["inputsChanged"]}}static get style(){return{ios:".sc-ion-alert-ios-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-ios-h{display:none}.alert-top.sc-ion-alert-ios-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-ios::-webkit-scrollbar,.alert-message.sc-ion-alert-ios::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-ios{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-ios,.alert-tappable.ion-focused.sc-ion-alert-ios{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-ios{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-ios,.alert-checkbox-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios,.alert-radio-button-disabled.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-ios,.alert-checkbox.sc-ion-alert-ios,.alert-input.sc-ion-alert-ios,.alert-radio.sc-ion-alert-ios{outline:none}.alert-radio-icon.sc-ion-alert-ios,.alert-checkbox-icon.sc-ion-alert-ios,.alert-checkbox-inner.sc-ion-alert-ios{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-ios{min-height:37px;resize:none}.sc-ion-alert-ios-h{--background:var(--ion-overlay-background-color, var(--ion-color-step-100, #f9f9f9));--max-width:270px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.3);font-size:14px}.alert-wrapper.sc-ion-alert-ios{border-radius:13px;-webkit-box-shadow:none;box-shadow:none;overflow:hidden}.alert-button.sc-ion-alert-ios .alert-button-inner.sc-ion-alert-ios{pointer-events:none}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.alert-translucent.sc-ion-alert-ios-h .alert-wrapper.sc-ion-alert-ios{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.9);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}.alert-head.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:12px;padding-bottom:7px;text-align:center}.alert-title.sc-ion-alert-ios{margin-top:8px;color:var(--ion-text-color, #000);font-size:17px;font-weight:600}.alert-sub-title.sc-ion-alert-ios{color:var(--ion-color-step-600, #666666);font-size:14px}.alert-message.sc-ion-alert-ios,.alert-input-group.sc-ion-alert-ios{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:21px;color:var(--ion-text-color, #000);font-size:13px;text-align:center}.alert-message.sc-ion-alert-ios{max-height:240px}.alert-message.sc-ion-alert-ios:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:12px}.alert-input.sc-ion-alert-ios{border-radius:4px;margin-top:10px;-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:6px;padding-bottom:6px;border:0.55px solid var(--ion-color-step-250, #bfbfbf);background-color:var(--ion-background-color, #fff);-webkit-appearance:none;-moz-appearance:none;appearance:none}.alert-input.sc-ion-alert-ios::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-ios::-ms-clear{display:none}.alert-radio-group.sc-ion-alert-ios,.alert-checkbox-group.sc-ion-alert-ios{-ms-scroll-chaining:none;overscroll-behavior:contain;max-height:240px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);overflow-y:auto;-webkit-overflow-scrolling:touch}.alert-tappable.sc-ion-alert-ios{min-height:44px}.alert-radio-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;-ms-flex-order:0;order:0;color:var(--ion-text-color, #000)}[aria-checked=true].sc-ion-alert-ios .alert-radio-label.sc-ion-alert-ios{color:var(--ion-color-primary, #3880ff)}.alert-radio-icon.sc-ion-alert-ios{position:relative;-ms-flex-order:1;order:1;min-width:30px}[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{top:-7px;position:absolute;width:6px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary, #3880ff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{inset-inline-start:7px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:7px}[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios{left:unset;right:unset;right:7px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-ios .alert-radio-inner.sc-ion-alert-ios:dir(rtl){left:unset;right:unset;right:7px}}}.alert-checkbox-label.sc-ion-alert-ios{-webkit-padding-start:13px;padding-inline-start:13px;-webkit-padding-end:13px;padding-inline-end:13px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-text-color, #000)}.alert-checkbox-icon.sc-ion-alert-ios{border-radius:50%;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:6px;margin-inline-end:6px;margin-top:10px;margin-bottom:10px;position:relative;width:24px;height:24px;border-width:1px;border-style:solid;border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, #c8c7cc)));background-color:var(--ion-item-background, var(--ion-background-color, #fff));contain:strict}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-icon.sc-ion-alert-ios{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{top:4px;position:absolute;width:5px;height:12px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:1px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-background-color, #fff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{inset-inline-start:9px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:9px}[dir=rtl].sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios,[dir=rtl] .sc-ion-alert-ios-h [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}[dir=rtl].sc-ion-alert-ios [aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios{left:unset;right:unset;right:9px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-ios .alert-checkbox-inner.sc-ion-alert-ios:dir(rtl){left:unset;right:unset;right:9px}}}.alert-button-group.sc-ion-alert-ios{-webkit-margin-end:-0.55px;margin-inline-end:-0.55px;-ms-flex-wrap:wrap;flex-wrap:wrap}.alert-button.sc-ion-alert-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;border-radius:0;-ms-flex:1 1 auto;flex:1 1 auto;min-width:50%;height:44px;border-top:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2);background-color:transparent;color:var(--ion-color-primary, #3880ff);font-size:17px;overflow:hidden}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:first-child{border-right:0}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:first-child{border-right:0}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:first-child:dir(rtl){border-right:0}}.alert-button.sc-ion-alert-ios:last-child{border-right:0;font-weight:bold}[dir=rtl].sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child,[dir=rtl] .sc-ion-alert-ios-h .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}[dir=rtl].sc-ion-alert-ios .alert-button.sc-ion-alert-ios:last-child{border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}@supports selector(:dir(rtl)){.alert-button.sc-ion-alert-ios:last-child:dir(rtl){border-right:0.55px solid rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.2)}}.alert-button.ion-activated.sc-ion-alert-ios{background-color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.1)}.alert-button-role-destructive.sc-ion-alert-ios,.alert-button-role-destructive.ion-activated.sc-ion-alert-ios,.alert-button-role-destructive.ion-focused.sc-ion-alert-ios{color:var(--ion-color-danger, #eb445a)}",md:".sc-ion-alert-md-h{--min-width:250px;--width:auto;--min-height:auto;--height:auto;--max-height:90%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;font-family:var(--ion-font-family, inherit);contain:strict;-ms-touch-action:none;touch-action:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:1001}.overlay-hidden.sc-ion-alert-md-h{display:none}.alert-top.sc-ion-alert-md-h{padding-top:50px;-ms-flex-align:start;align-items:flex-start}.alert-wrapper.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:content;opacity:0;z-index:10}.alert-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-sub-title.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-weight:normal}.alert-message.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-overflow-scrolling:touch;overflow-y:auto;overscroll-behavior-y:contain}.alert-checkbox-group.sc-ion-alert-md::-webkit-scrollbar,.alert-radio-group.sc-ion-alert-md::-webkit-scrollbar,.alert-message.sc-ion-alert-md::-webkit-scrollbar{display:none}.alert-input.sc-ion-alert-md{padding-left:0;padding-right:0;padding-top:10px;padding-bottom:10px;width:100%;border:0;background:inherit;font:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}.alert-button-group.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;width:100%}.alert-button-group-vertical.sc-ion-alert-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.alert-button.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;border:0;font-size:14px;line-height:20px;z-index:0}.alert-button.ion-focused.sc-ion-alert-md,.alert-tappable.ion-focused.sc-ion-alert-md{background:var(--ion-color-step-100, #e6e6e6)}.alert-button-inner.sc-ion-alert-md{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit}.alert-input-disabled.sc-ion-alert-md,.alert-checkbox-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md,.alert-radio-button-disabled.sc-ion-alert-md .alert-button-inner.sc-ion-alert-md{cursor:default;opacity:0.5;pointer-events:none}.alert-tappable.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:-ms-flexbox;display:flex;width:100%;border:0;background:transparent;font-size:inherit;line-height:initial;text-align:start;-webkit-appearance:none;-moz-appearance:none;appearance:none;contain:content}.alert-button.sc-ion-alert-md,.alert-checkbox.sc-ion-alert-md,.alert-input.sc-ion-alert-md,.alert-radio.sc-ion-alert-md{outline:none}.alert-radio-icon.sc-ion-alert-md,.alert-checkbox-icon.sc-ion-alert-md,.alert-checkbox-inner.sc-ion-alert-md{-webkit-box-sizing:border-box;box-sizing:border-box}textarea.alert-input.sc-ion-alert-md{min-height:37px;resize:none}.sc-ion-alert-md-h{--background:var(--ion-overlay-background-color, var(--ion-background-color, #fff));--max-width:280px;--backdrop-opacity:var(--ion-backdrop-opacity, 0.32);font-size:14px}.alert-wrapper.sc-ion-alert-md{border-radius:4px;-webkit-box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12);box-shadow:0 11px 15px -7px rgba(0, 0, 0, 0.2), 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12)}.alert-head.sc-ion-alert-md{-webkit-padding-start:23px;padding-inline-start:23px;-webkit-padding-end:23px;padding-inline-end:23px;padding-top:20px;padding-bottom:15px;text-align:start}.alert-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:20px;font-weight:500}.alert-sub-title.sc-ion-alert-md{color:var(--ion-text-color, #000);font-size:16px}.alert-message.sc-ion-alert-md,.alert-input-group.sc-ion-alert-md{-webkit-padding-start:24px;padding-inline-start:24px;-webkit-padding-end:24px;padding-inline-end:24px;padding-top:20px;padding-bottom:20px;color:var(--ion-color-step-550, #737373)}.alert-message.sc-ion-alert-md{max-height:266px;font-size:16px}.alert-message.sc-ion-alert-md:empty{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0}.alert-head.sc-ion-alert-md+.alert-message.sc-ion-alert-md{padding-top:0}.alert-input.sc-ion-alert-md{margin-left:0;margin-right:0;margin-top:5px;margin-bottom:5px;border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);color:var(--ion-text-color, #000)}.alert-input.sc-ion-alert-md::-webkit-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-moz-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md:-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-input-placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::placeholder{color:var(--ion-placeholder-color, var(--ion-color-step-400, #999999));font-family:inherit;font-weight:inherit}.alert-input.sc-ion-alert-md::-ms-clear{display:none}.alert-input.sc-ion-alert-md:focus{margin-bottom:4px;border-bottom:2px solid var(--ion-color-primary, #3880ff)}.alert-radio-group.sc-ion-alert-md,.alert-checkbox-group.sc-ion-alert-md{position:relative;max-height:266px;border-top:1px solid var(--ion-color-step-150, #d9d9d9);border-bottom:1px solid var(--ion-color-step-150, #d9d9d9);overflow:auto}.alert-tappable.sc-ion-alert-md{position:relative;min-height:48px}.alert-radio-label.sc-ion-alert-md{-webkit-padding-start:52px;padding-inline-start:52px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px}.alert-radio-icon.sc-ion-alert-md{top:0;border-radius:50%;display:block;position:relative;width:20px;height:20px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373)}@supports (inset-inline-start: 0){.alert-radio-icon.sc-ion-alert-md{inset-inline-start:26px}}@supports not (inset-inline-start: 0){.alert-radio-icon.sc-ion-alert-md{left:26px}[dir=rtl].sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[dir=rtl].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}@supports selector(:dir(rtl)){.alert-radio-icon.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:26px}}}.alert-radio-inner.sc-ion-alert-md{top:3px;border-radius:50%;position:absolute;width:10px;height:10px;-webkit-transform:scale3d(0, 0, 0);transform:scale3d(0, 0, 0);-webkit-transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:-webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1);transition:transform 280ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--ion-color-primary, #3880ff)}@supports (inset-inline-start: 0){.alert-radio-inner.sc-ion-alert-md{inset-inline-start:3px}}@supports not (inset-inline-start: 0){.alert-radio-inner.sc-ion-alert-md{left:3px}[dir=rtl].sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[dir=rtl].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}@supports selector(:dir(rtl)){.alert-radio-inner.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:3px}}}[aria-checked=true].sc-ion-alert-md .alert-radio-label.sc-ion-alert-md{color:var(--ion-color-step-850, #262626)}[aria-checked=true].sc-ion-alert-md .alert-radio-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-radio-inner.sc-ion-alert-md{-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)}.alert-checkbox-label.sc-ion-alert-md{-webkit-padding-start:53px;padding-inline-start:53px;-webkit-padding-end:26px;padding-inline-end:26px;padding-top:13px;padding-bottom:13px;-ms-flex:1;flex:1;color:var(--ion-color-step-850, #262626);font-size:16px}.alert-checkbox-icon.sc-ion-alert-md{top:0;border-radius:2px;position:relative;width:16px;height:16px;border-width:2px;border-style:solid;border-color:var(--ion-color-step-550, #737373);contain:strict}@supports (inset-inline-start: 0){.alert-checkbox-icon.sc-ion-alert-md{inset-inline-start:26px}}@supports not (inset-inline-start: 0){.alert-checkbox-icon.sc-ion-alert-md{left:26px}[dir=rtl].sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}[dir=rtl].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{left:unset;right:unset;right:26px}@supports selector(:dir(rtl)){.alert-checkbox-icon.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:26px}}}[aria-checked=true].sc-ion-alert-md .alert-checkbox-icon.sc-ion-alert-md{border-color:var(--ion-color-primary, #3880ff);background-color:var(--ion-color-primary, #3880ff)}[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{top:0;position:absolute;width:6px;height:10px;-webkit-transform:rotate(45deg);transform:rotate(45deg);border-width:2px;border-top-width:0;border-left-width:0;border-style:solid;border-color:var(--ion-color-primary-contrast, #fff)}@supports (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{inset-inline-start:3px}}@supports not (inset-inline-start: 0){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:3px}[dir=rtl].sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md,[dir=rtl] .sc-ion-alert-md-h [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}[dir=rtl].sc-ion-alert-md [aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md{left:unset;right:unset;right:3px}@supports selector(:dir(rtl)){[aria-checked=true].sc-ion-alert-md .alert-checkbox-inner.sc-ion-alert-md:dir(rtl){left:unset;right:unset;right:3px}}}.alert-button-group.sc-ion-alert-md{-webkit-padding-start:8px;padding-inline-start:8px;-webkit-padding-end:8px;padding-inline-end:8px;padding-top:8px;padding-bottom:8px;-webkit-box-sizing:border-box;box-sizing:border-box;-ms-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;-ms-flex-pack:end;justify-content:flex-end}.alert-button.sc-ion-alert-md{border-radius:2px;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:0;margin-bottom:0;-webkit-padding-start:10px;padding-inline-start:10px;-webkit-padding-end:10px;padding-inline-end:10px;padding-top:10px;padding-bottom:10px;position:relative;background-color:transparent;color:var(--ion-color-primary, #3880ff);font-weight:500;text-align:end;text-transform:uppercase;overflow:hidden}.alert-button-inner.sc-ion-alert-md{-ms-flex-pack:end;justify-content:flex-end}"}}},[34,"ion-alert",{overlayIndex:[2,"overlay-index"],delegate:[16],hasController:[4,"has-controller"],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],cssClass:[1,"css-class"],header:[1],subHeader:[1,"sub-header"],message:[1],buttons:[16],inputs:[1040],backdropDismiss:[4,"backdrop-dismiss"],translucent:[4],animated:[4],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64]},[[4,"keydown","onKeydown"]]]),Kv=e=>{var t,i,n;return Object.assign(Object.assign({"alert-input":!0,"alert-input-disabled":(null!==(i=null===(t=e.attributes)||void 0===t?void 0:t.disabled)&&void 0!==i?i:e.disabled)||!1},Wy(e.cssClass)),Wy(e.attributes?null===(n=e.attributes.class)||void 0===n?void 0:n.toString():""))},Qv=e=>Object.assign({"alert-button":!0,"ion-focusable":!0,"ion-activatable":!0,[`alert-button-role-${e.role}`]:void 0!==e.role},Wy(e.cssClass));
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
const Yv=function(){if("undefined"==typeof customElements)return;["ion-spinner"].forEach((e=>{if("ion-spinner"===e)customElements.get(e)||customElements.define(e,sv)}))},Xv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.color=void 0}render(){const e=Og(this);return Fp(Vp,{class:Hy(this.color,{[e]:!0})},Fp("slot",null))}static get style(){return":host(.ion-color){color:var(--ion-color-base)}"}},[1,"ion-text",{color:[513]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Jv=function(){if("undefined"==typeof customElements)return;["ion-text"].forEach((e=>{if("ion-text"===e)customElements.get(e)||customElements.define(e,Xv)}))},Zv=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=Kp(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const e=this.getSize();this.ionStyle.emit({[`title-${e}`]:!0})}getSize(){return void 0!==this.size?this.size:"default"}render(){const e=Og(this),t=this.getSize();return Fp(Vp,{class:Hy(this.color,{[e]:!0,[`title-${t}`]:!0,"title-rtl":"rtl"===document.dir})},Fp("div",{class:"toolbar-title"},Fp("slot",null)))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:17px;font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}@supports (inset-inline-start: 0){:host{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}@supports selector(:dir(rtl)){:host:dir(rtl){left:unset;right:unset;right:0}}}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:13px;font-weight:normal}:host(.title-large){-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0;padding-bottom:0;-webkit-transform-origin:left center;transform-origin:left center;bottom:0;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:34px;font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large) .toolbar-title:dir(rtl){-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",md:":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:20px;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:15px;font-weight:normal}"}}},[33,"ion-title",{color:[513],size:[1]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const ew=function(){if("undefined"==typeof customElements)return;["ion-title"].forEach((e=>{if("ion-title"===e)customElements.get(e)||customElements.define(e,Zv)}))},tw=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){const e=Array.from(this.el.querySelectorAll("ion-buttons")),t=e.find((e=>"start"===e.slot));t&&t.classList.add("buttons-first-slot");const i=e.reverse(),n=i.find((e=>"end"===e.slot))||i.find((e=>"primary"===e.slot))||i.find((e=>"secondary"===e.slot));n&&n.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();const t=e.target.tagName,i=e.detail,n={},r=this.childrenStyles.get(t)||{};let a=!1;Object.keys(i).forEach((e=>{const t=`toolbar-${e}`,s=i[e];s!==r[t]&&(a=!0),s&&(n[t]=!0)})),a&&(this.childrenStyles.set(t,n),_m(this))}render(){const e=Og(this),t={};return this.childrenStyles.forEach((e=>{Object.assign(t,e)})),Fp(Vp,{class:Object.assign(Object.assign({},t),Hy(this.color,{[e]:!0,"in-toolbar":Vy("ion-toolbar",this.el)}))},Fp("div",{class:"toolbar-background"}),Fp("div",{class:"toolbar-container"},Fp("slot",{name:"start"}),Fp("slot",{name:"secondary"}),Fp("div",{class:"toolbar-content"},Fp("slot",null)),Fp("slot",{name:"primary"}),Fp("slot",{name:"end"})))}get el(){return this}static get style(){return{ios:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}:host(.toolbar-searchbar) ::slotted(ion-back-button){height:38px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large){padding-bottom:7px}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",md:":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, #c1c4cd)));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}"}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const iw=function(){if("undefined"==typeof customElements)return;["ion-toolbar"].forEach((e=>{if("ion-toolbar"===e)customElements.get(e)||customElements.define(e,tw)}))},nw=wb,rw=Tb,aw=function(){if("undefined"==typeof customElements)return;["ion-alert","ion-backdrop","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-alert":customElements.get(e)||customElements.define(e,Gv);break;case"ion-backdrop":customElements.get(e)||zy();break;case"ion-ripple-effect":customElements.get(e)||ob()}}))},sw="ionKeyboardDidShow",ow="ionKeyboardDidHide";
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */let lw={},cw={},dw=!1;const uw=e=>{e.addEventListener("keyboardDidShow",(t=>hw(e,t))),e.addEventListener("keyboardDidHide",(()=>pw(e)))},hw=(e,t)=>{yw(e,t),dw=!0},pw=e=>{bw(e),dw=!1},mw=()=>{const e=(lw.height-cw.height)*cw.scale;return!dw&&lw.width===cw.width&&e>150},fw=e=>dw&&!gw(e),gw=e=>dw&&cw.height===e.innerHeight,yw=(e,t)=>{const i=t?t.keyboardHeight:e.innerHeight-cw.height,n=new CustomEvent(sw,{detail:{keyboardHeight:i}});e.dispatchEvent(n)},bw=e=>{const t=new CustomEvent(ow);e.dispatchEvent(t)},vw=e=>{lw=Object.assign({},cw),cw=ww(e.visualViewport)},ww=e=>({width:Math.round(e.width),height:Math.round(e.height),offsetTop:e.offsetTop,offsetLeft:e.offsetLeft,pageTop:e.pageTop,pageLeft:e.pageLeft,scale:e.scale}),Tw=Object.freeze(Object.defineProperty({__proto__:null,KEYBOARD_DID_CLOSE:ow,KEYBOARD_DID_OPEN:sw,copyVisualViewport:ww,keyboardDidClose:gw,keyboardDidOpen:mw,keyboardDidResize:fw,resetKeyboardAssist:()=>{lw={},cw={},dw=!1},setKeyboardClose:pw,setKeyboardOpen:hw,startKeyboardAssist:e=>{if(Fb.getEngine())uw(e);else{if(!e.visualViewport)return;cw=ww(e.visualViewport),e.visualViewport.onresize=()=>{vw(e),mw()||fw(e)?hw(e):gw(e)&&pw(e)}}},trackViewportChanges:vw},Symbol.toStringTag,{value:"Module"}));
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */
var xw;!function(e){e.Dark="DARK",e.Light="LIGHT",e.Default="DEFAULT"}(xw||(xw={}));const Ew={getEngine(){const e=Eb();if(null==e?void 0:e.isPluginAvailable("StatusBar"))return e.Plugins.StatusBar},supportsDefaultStatusBarStyle(){const e=Eb();return!!(null==e?void 0:e.PluginHeaders)},setStyle(e){const t=this.getEngine();t&&t.setStyle(e)},getStyle:async function(){const e=this.getEngine();if(!e)return xw.Default;const{style:t}=await e.getInfo();return t}},_w=(e,t)=>{if(1===t)return 0;const i=1/(1-t);return e*i+-t*i},Sw=()=>{!nf||nf.innerWidth>=768||!Ew.supportsDefaultStatusBarStyle()||Ew.setStyle({style:xw.Dark})},Cw=(e=xw.Default)=>{!nf||nf.innerWidth>=768||!Ew.supportsDefaultStatusBarStyle()||Ew.setStyle({style:e})},kw=async(e,t)=>{if("function"!=typeof e.canDismiss)return;await e.canDismiss(void 0,wy)&&(t.isRunning()?t.onFinish((()=>{e.dismiss(void 0,"handler")}),{oneTimeCallback:!0}):e.dismiss(void 0,"handler"))},Aw=e=>.00255275*2.71828**(-14.9619*e)-1.00255*2.71828**(-.0380968*e)+1,Nw=.93,Ow=(e,t,i,n)=>{const r=.5,a=e.offsetHeight;let s=!1,o=!1,l=null,c=null;let d=!0,u=0;const h=lg({el:e,gestureName:"modalSwipeToClose",gesturePriority:39,direction:"y",threshold:10,canStart:e=>{const t=e.event.target;if(null===t||!t.closest)return!0;if(l=Db(t),l){if(Ib(l)){const e=hf(l);c=e.querySelector(".inner-scroll")}else c=l;return!!!l.querySelector("ion-refresher")&&0===c.scrollTop}return null===t.closest("ion-footer")},onStart:i=>{const{deltaY:n}=i;d=!l||!Ib(l)||l.scrollY,o=void 0!==e.canDismiss&&!0!==e.canDismiss,n>0&&l&&$b(l),t.progressStart(!0,s?1:0)},onMove:e=>{const{deltaY:n}=e;n>0&&l&&$b(l);const s=e.deltaY/a,c=s>=0&&o,d=c?.2:.9999,h=c?Aw(s/d):s,p=yf(1e-4,h,d);t.progressStep(p),p>=r&&u<r?Cw(i):p<r&&u>=r&&Sw(),u=p},onEnd:i=>{const c=i.velocityY,u=i.deltaY/a,p=u>=0&&o,m=p?.2:.9999,f=p?Aw(u/m):u,g=yf(1e-4,f,m),y=(i.deltaY+1e3*c)/a,b=!p&&y>=r;let v=b?-.001:.001;b?(t.easing("cubic-bezier(0.32, 0.72, 0, 1)"),v+=Yf([0,0],[.32,.72],[0,1],[1,1],g)[0]):(t.easing("cubic-bezier(1, 0, 0.68, 0.28)"),v+=Yf([0,0],[1,0],[.68,.28],[1,1],g)[0]);const w=Mw(b?u*a:(1-g)*a,c);s=b,h.enable(!1),l&&Bb(l,d),t.onFinish((()=>{b||h.enable(!0)})).progressEnd(b?1:0,v,w),p&&g>m/4?kw(e,t):b&&n()}});return h},Mw=(e,t)=>yf(400,e/Math.abs(1.1*t),500),Pw=e=>{const{currentBreakpoint:t,backdropBreakpoint:i}=e,n=void 0===i||i<t,r=n?`calc(var(--backdrop-opacity) * ${t})`:"0",a=Of("backdropAnimation").fromTo("opacity",0,r);n&&a.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);return{wrapperAnimation:Of("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-100*t}%)`}]),backdropAnimation:a}},Iw=e=>{const{currentBreakpoint:t,backdropBreakpoint:i}=e,n=`calc(var(--backdrop-opacity) * ${_w(t,i)})`,r=[{offset:0,opacity:n},{offset:1,opacity:0}],a=[{offset:0,opacity:n},{offset:i,opacity:0},{offset:1,opacity:0}],s=Of("backdropAnimation").keyframes(0!==i?a:r);return{wrapperAnimation:Of("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-100*t}%)`},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:s}},Rw=(e,t)=>{const{presentingEl:i,currentBreakpoint:n}=t,r=hf(e),{wrapperAnimation:a,backdropAnimation:s}=void 0!==n?Pw(t):{backdropAnimation:Of().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:Of().fromTo("transform","translateY(100vh)","translateY(0vh)")};s.addElement(r.querySelector("ion-backdrop")),a.addElement(r.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const o=Of("entering-base").addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation(a);if(i){const e=window.innerWidth<768,t="ION-MODAL"===i.tagName&&void 0!==i.presentingElement,n=hf(i),r=Of().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),l=document.body;if(e){const e=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",n=`translateY(${t?"-10px":e}) scale(${Nw})`;r.afterStyles({transform:n}).beforeAddWrite((()=>l.style.setProperty("background-color","black"))).addElement(i).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:n,borderRadius:"10px 10px 0 0"}]),o.addAnimation(r)}else if(o.addAnimation(s),t){const e=`translateY(-10px) scale(${t?Nw:1})`;r.afterStyles({transform:e}).addElement(n.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:e}]);const i=Of().afterStyles({transform:e}).addElement(n.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:e}]);o.addAnimation([r,i])}else a.fromTo("opacity","0","1")}else o.addAnimation(s);return o},Lw=(e,t,i=500)=>{const{presentingEl:n,currentBreakpoint:r}=t,a=hf(e),{wrapperAnimation:s,backdropAnimation:o}=void 0!==r?Iw(t):{backdropAnimation:Of().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:Of().fromTo("transform","translateY(0vh)","translateY(100vh)")};o.addElement(a.querySelector("ion-backdrop")),s.addElement(a.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});const l=Of("leaving-base").addElement(e).easing("cubic-bezier(0.32,0.72,0,1)").duration(i).addAnimation(s);if(n){const e=window.innerWidth<768,t="ION-MODAL"===n.tagName&&void 0!==n.presentingElement,i=hf(n),r=Of().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish((e=>{if(1!==e)return;n.style.setProperty("overflow","");const t=Array.from(a.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter((e=>void 0!==e.presentingElement)).length;t<=1&&a.style.setProperty("background-color","")})),a=document.body;if(e){const e=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",i=`translateY(${t?"-10px":e}) scale(${Nw})`;r.addElement(n).keyframes([{offset:0,filter:"contrast(0.85)",transform:i,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),l.addAnimation(r)}else if(l.addAnimation(o),t){const e=`translateY(-10px) scale(${t?Nw:1})`;r.addElement(i.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:e},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);const n=Of().addElement(i.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:e},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);l.addAnimation([r,n])}else s.fromTo("opacity","1","0")}else l.addAnimation(o);return l},Dw=(e,t)=>{const{currentBreakpoint:i}=t,n=hf(e),{wrapperAnimation:r,backdropAnimation:a}=void 0!==i?Pw(t):{backdropAnimation:Of().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),wrapperAnimation:Of().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}])};return a.addElement(n.querySelector("ion-backdrop")),r.addElement(n.querySelector(".modal-wrapper")),Of().addElement(e).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([a,r])},jw=(e,t)=>{const{currentBreakpoint:i}=t,n=hf(e),{wrapperAnimation:r,backdropAnimation:a}=void 0!==i?Iw(t):{backdropAnimation:Of().fromTo("opacity","var(--backdrop-opacity)",0),wrapperAnimation:Of().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}])};return a.addElement(n.querySelector("ion-backdrop")),r.addElement(n.querySelector(".modal-wrapper")),Of().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([a,r])},$w=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=Kp(this,"ionModalDidPresent",7),this.willPresent=Kp(this,"ionModalWillPresent",7),this.willDismiss=Kp(this,"ionModalWillDismiss",7),this.didDismiss=Kp(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=Kp(this,"ionBreakpointDidChange",7),this.didPresentShorthand=Kp(this,"didPresent",7),this.willPresentShorthand=Kp(this,"willPresent",7),this.willDismissShorthand=Kp(this,"willDismiss",7),this.didDismissShorthand=Kp(this,"didDismiss",7),this.ionMount=Kp(this,"ionMount",7),this.triggerController=Ty(),this.coreDelegate=Kg(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{const{sheetTransition:e,handleBehavior:t}=this;"cycle"===t&&void 0===e&&this.moveToNextBreakpoint()},this.onBackdropTap=()=>{const{sheetTransition:e}=this;void 0===e&&this.dismiss(void 0,vy)},this.onLifecycle=e=>{const t=this.usersElement,i=Bw[e.type];if(t&&i){const n=new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:e.detail});t.dispatchEvent(n)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.canDismiss=!0}onIsOpenChange(e,t){!0===e&&!1===t?this.present():!1===e&&!0===t&&this.dismiss()}triggerChanged(){const{trigger:e,el:t,triggerController:i}=this;e&&i.addClickListener(t,e)}breakpointsChanged(e){void 0!==e&&(this.sortedBreakpoints=e.sort(((e,t)=>e-t)))}connectedCallback(){const{el:e}=this;ey(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){const{breakpoints:e,initialBreakpoint:t,el:i}=this,n=this.isSheetModal=void 0!==e&&void 0!==t;this.inheritedAttributes=of(i,["aria-label","role"]),n&&(this.currentBreakpoint=this.initialBreakpoint),void 0===e||void 0===t||e.includes(t)||Qg("Your breakpoints array must include the initialBreakpoint value."),ty(i)}componentDidLoad(){!0===this.isOpen&&pf((()=>this.present())),this.breakpointsChanged(this.breakpoints)}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};const t=this.el.parentNode,i=this.inline=null!==t&&!this.hasController;return{inline:i,delegate:this.workingDelegate=i?this.delegate||this.coreDelegate:this.delegate}}async checkCanDismiss(e,t){const{canDismiss:i}=this;return"function"==typeof i?i(e,t):i}async present(){if(this.presented)return;const{presentingElement:e,el:t}=this;void 0!==this.currentTransition&&await this.currentTransition,this.currentBreakpoint=this.initialBreakpoint;const{inline:i,delegate:n}=this.getDelegate(!0);this.usersElement=await Wg(n,t,this.component,["ion-page"],this.componentProps,i),this.ionMount.emit(),sf(t)?await Gf(this.usersElement):this.keepContentsMounted||await new Promise((e=>pf((()=>pf((()=>e())))))),tf((()=>this.el.classList.add("show-modal"))),this.currentTransition=cy(this,"modalEnter",Rw,Dw,{presentingEl:e,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint}),"undefined"!=typeof window&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),pf((()=>{this.gesture&&this.gesture.enable(!0)})))},window.addEventListener(sw,this.keyboardOpenCallback));const r=void 0!==e;r&&"ios"===Og(this)&&(this.statusBarStyle=await Ew.getStyle(),Sw()),await this.currentTransition,this.isSheetModal?this.initSheetGesture():r&&this.initSwipeToClose(),this.currentTransition=void 0}initSwipeToClose(){var e;if("ios"!==Og(this))return;const{el:t}=this,i=this.leaveAnimation||pg.get("modalLeave",Lw),n=this.animation=i(t,{presentingEl:this.presentingElement});if(!Lb(t))return void jb(t);const r=null!==(e=this.statusBarStyle)&&void 0!==e?e:xw.Default;this.gesture=Ow(t,n,r,(()=>{this.gestureAnimationDismissing=!0,this.animation.onFinish((async()=>{await this.dismiss(void 0,wy),this.gestureAnimationDismissing=!1}))})),this.gesture.enable(!0)}initSheetGesture(){const{wrapperEl:e,initialBreakpoint:t,backdropBreakpoint:i}=this;if(!e||void 0===t)return;const n=this.enterAnimation||pg.get("modalEnter",Rw),r=this.animation=n(this.el,{presentingEl:this.presentingElement,currentBreakpoint:t,backdropBreakpoint:i});r.progressStart(!0,1);const{gesture:a,moveSheetToBreakpoint:s}=((e,t,i,n,r,a,s=[],o,l,c)=>{const d={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:0!==r?[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-r,opacity:0},{offset:1,opacity:0}]:[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}]},u=e.querySelector("ion-content"),h=i.clientHeight;let p=n,m=0,f=!1;const g=a.childAnimations.find((e=>"wrapperAnimation"===e.id)),y=a.childAnimations.find((e=>"backdropAnimation"===e.id)),b=s[s.length-1],v=s[0],w=()=>{e.style.setProperty("pointer-events","auto"),t.style.setProperty("pointer-events","auto"),e.classList.remove("ion-disable-focus-trap")},T=()=>{e.style.setProperty("pointer-events","none"),t.style.setProperty("pointer-events","none"),e.classList.add("ion-disable-focus-trap")};g&&y&&(g.keyframes([...d.WRAPPER_KEYFRAMES]),y.keyframes([...d.BACKDROP_KEYFRAMES]),a.progressStart(!0,1-p),p>r?w():T());u&&p!==b&&(u.scrollY=!1);const x=t=>{const{breakpoint:i,canDismiss:n,breakpointOffset:o,animated:h}=t,m=n&&0===i,f=m?p:i,b=0!==f;return p=0,g&&y&&(g.keyframes([{offset:0,transform:`translateY(${100*o}%)`},{offset:1,transform:`translateY(${100*(1-f)}%)`}]),y.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${_w(1-o,r)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${_w(f,r)})`}]),a.progressStep(0)),E.enable(!1),m?kw(e,a):b||l(),new Promise((e=>{a.onFinish((()=>{b?g&&y?pf((()=>{g.keyframes([...d.WRAPPER_KEYFRAMES]),y.keyframes([...d.BACKDROP_KEYFRAMES]),a.progressStart(!0,1-f),p=f,c(p),u&&p===s[s.length-1]&&(u.scrollY=!0),p>r?w():T(),E.enable(!0),e()})):(E.enable(!0),e()):e()}),{oneTimeCallback:!0}).progressEnd(1,0,h?500:0)}))},E=lg({el:i,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:e=>{const t=e.event.target.closest("ion-content");return p=o(),1!==p||!t},onStart:()=>{f=void 0!==e.canDismiss&&!0!==e.canDismiss&&0===v,u&&(u.scrollY=!1),pf((()=>{e.focus()})),a.progressStart(!0,1-p)},onMove:e=>{const t=1-p,i=s.length>1?1-s[1]:void 0,n=t+e.deltaY/h,r=void 0!==i&&n>=i&&f,o=r?.95:.9999,l=r&&void 0!==i?i+Aw((n-i)/(o-i)):n;m=yf(1e-4,l,o),a.progressStep(m)},onEnd:e=>{const t=e.velocityY,i=(e.deltaY+350*t)/h,n=p-i,r=s.reduce(((e,t)=>Math.abs(t-n)<Math.abs(e-n)?t:e));x({breakpoint:r,breakpointOffset:m,canDismiss:f,animated:!0})}});return{gesture:E,moveSheetToBreakpoint:x}})(this.el,this.backdropEl,e,t,i,r,this.sortedBreakpoints,(()=>{var e;return null!==(e=this.currentBreakpoint)&&void 0!==e?e:0}),(()=>this.sheetOnDismiss()),(e=>{this.currentBreakpoint!==e&&(this.currentBreakpoint=e,this.ionBreakpointDidChange.emit({breakpoint:e}))}));this.gesture=a,this.moveSheetToBreakpoint=s,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish((async()=>{this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),await this.dismiss(void 0,wy),this.gestureAnimationDismissing=!1}))}async dismiss(e,t){var i;if(this.gestureAnimationDismissing&&t!==wy)return!1;if("handler"!==t&&!(await this.checkCanDismiss(e,t)))return!1;const{presentingElement:n}=this;void 0!==n&&"ios"===Og(this)&&Cw(this.statusBarStyle),"undefined"!=typeof window&&this.keyboardOpenCallback&&(window.removeEventListener(sw,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0),void 0!==this.currentTransition&&await this.currentTransition;const r=Zg.get(this)||[];this.currentTransition=uy(this,e,t,"modalLeave",Lw,jw,{presentingEl:n,currentBreakpoint:null!==(i=this.currentBreakpoint)&&void 0!==i?i:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint});const a=await this.currentTransition;if(a){const{delegate:e}=this.getDelegate();await Gg(e,this.usersElement),tf((()=>this.el.classList.remove("show-modal"))),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy(),r.forEach((e=>e.destroy()))}return this.currentBreakpoint=void 0,this.currentTransition=void 0,this.animation=void 0,a}onDidDismiss(){return my(this.el,"ionModalDidDismiss")}onWillDismiss(){return my(this.el,"ionModalWillDismiss")}async setCurrentBreakpoint(e){if(!this.isSheetModal)return void Qg("setCurrentBreakpoint is only supported on sheet modals.");if(!this.breakpoints.includes(e))return void Qg(`Attempted to set invalid breakpoint value ${e}. Please double check that the breakpoint value is part of your defined breakpoints.`);const{currentBreakpoint:t,moveSheetToBreakpoint:i,canDismiss:n,breakpoints:r,animated:a}=this;t!==e&&i&&(this.sheetTransition=i({breakpoint:e,breakpointOffset:1-t,canDismiss:void 0!==n&&!0!==n&&0===r[0],animated:a}),await this.sheetTransition,this.sheetTransition=void 0)}async getCurrentBreakpoint(){return this.currentBreakpoint}async moveToNextBreakpoint(){const{breakpoints:e,currentBreakpoint:t}=this;if(!e||null==t)return!1;const i=e.filter((e=>0!==e)),n=i.indexOf(t),r=i[(n+1)%i.length];return await this.setCurrentBreakpoint(r),!0}render(){const{handle:e,isSheetModal:t,presentingElement:i,htmlAttributes:n,handleBehavior:r,inheritedAttributes:a}=this,s=!1!==e&&t,o=Og(this),l=void 0!==i&&"ios"===o,c="cycle"===r;return Fp(Vp,Object.assign({"no-router":!0,tabindex:"-1"},n,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[o]:!0,"modal-default":!l&&!t,"modal-card":l,"modal-sheet":t,"overlay-hidden":!0},Wy(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),Fp("ion-backdrop",{ref:e=>this.backdropEl=e,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),"ios"===o&&Fp("div",{class:"modal-shadow"}),Fp("div",Object.assign({role:"dialog"},a,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:e=>this.wrapperEl=e}),s&&Fp("button",{class:"modal-handle",tabIndex:c?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:c?this.onHandleClick:void 0,part:"handle"}),Fp("slot",null)))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-card) .modal-wrapper,:host-context([dir=rtl]).modal-card .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.modal-card) .modal-wrapper:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}:host-context([dir=rtl]):host(.modal-sheet) .modal-wrapper,:host-context([dir=rtl]).modal-sheet .modal-wrapper{border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}@supports selector(:dir(rtl)){:host(.modal-sheet) .modal-wrapper:dir(rtl){border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);border-bottom-right-radius:0;border-bottom-left-radius:0}}',md:':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, #c0c0be);cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}'}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]}]),Bw={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};const qw=function(){if("undefined"==typeof customElements)return;["ion-modal","ion-backdrop"].forEach((e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,$w);break;case"ion-backdrop":customElements.get(e)||zy()}}))},Uw=Om(class extends Vm{constructor(){super(),this.__registerHost()}componentDidLoad(){zw((async()=>{const e=yg(window,"hybrid");if(pg.getBoolean("_testing")||Ep((()=>i.import("./index9-legacy-a961f38c.js"))).then((e=>e.startTapClick(pg))),pg.getBoolean("statusTap",e)&&Ep((()=>i.import("./status-tap-legacy-906f7941.js"))).then((e=>e.startStatusTap())),pg.getBoolean("inputShims",Fw())){const e=yg(window,"ios")?"ios":"android";Ep((()=>i.import("./input-shims-legacy-1800896a.js"))).then((t=>t.startInputShims(pg,e)))}const t=await Ep((()=>Promise.resolve().then((()=>Bg))));pg.getBoolean("hardwareBackButton",e)?t.startHardwareBackButton():t.blockHardwareBackButton(),"undefined"!=typeof window&&Ep((()=>Promise.resolve().then((()=>Tw)))).then((e=>e.startKeyboardAssist(window))),Ep((()=>i.import("./focus-visible-legacy-b3e947fe.js"))).then((e=>this.focusVisible=e.startFocusVisible()))}))}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=Og(this);return Fp(Vp,{class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":pg.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}},[0,"ion-app",{setFocus:[64]}]),Fw=()=>{if(yg(window,"ios")&&yg(window,"mobile"))return!0;return!(!yg(window,"android")||!yg(window,"mobileweb"))},zw=e=>{"requestIdleCallback"in window?window.requestIdleCallback(e):setTimeout(e,32)};const Vw=function(){if("undefined"==typeof customElements)return;["ion-app"].forEach((e=>{if("ion-app"===e)customElements.get(e)||customElements.define(e,Uw)}))},Hw=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=async e=>{const t=this.el.closest("ion-nav");return e.preventDefault(),t&&await t.canGoBack()?t.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):Ky(this.defaultHref,e,"back",this.routerAnimation)},this.color=void 0,this.defaultHref=void 0,this.disabled=!1,this.icon=void 0,this.text=void 0,this.type="button",this.routerAnimation=void 0}componentWillLoad(){this.inheritedAttributes=cf(this.el),void 0===this.defaultHref&&(this.defaultHref=pg.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return null!=e?e:"ios"===Og(this)?pg.get("backButtonIcon","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>"):pg.get("backButtonIcon","data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>")}get backButtonText(){const e="ios"===Og(this)?"Back":null;return null!=this.text?this.text:pg.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:t,disabled:i,type:n,hasIconOnly:r,backButtonIcon:a,backButtonText:s,icon:o,inheritedAttributes:l}=this,c=void 0!==t,d=Og(this),u=l["aria-label"]||s||"back";return Fp(Vp,{onClick:this.onClick,class:Hy(e,{[d]:!0,button:!0,"back-button-disabled":i,"back-button-has-icon-only":r,"in-toolbar":Vy("ion-toolbar",this.el),"in-toolbar-color":Vy("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":c})},Fp("button",{type:n,disabled:i,class:"button-native",part:"native","aria-label":u},Fp("span",{class:"button-inner"},a&&Fp("ion-icon",{part:"icon",icon:a,"aria-hidden":"true",lazy:!1,"flip-rtl":void 0===o}),s&&Fp("span",{part:"text","aria-hidden":"true",class:"button-text"},s)),"md"===d&&Fp("ion-ripple-effect",{type:this.rippleType})))}get el(){return this}static get style(){return{ios:':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #3880ff);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:17px}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',md:':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:24px;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:14px;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;height:48px}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}'}}},[33,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Ww=function(){if("undefined"==typeof customElements)return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,Hw);break;case"ion-icon":customElements.get(e)||Uy();break;case"ion-ripple-effect":customElements.get(e)||ob()}}))},Gw=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=Kp(this,"ionNavWillLoad",7),this.ionNavWillChange=Kp(this,"ionNavWillChange",3),this.ionNavDidChange=Kp(this,"ionNavDidChange",3),this.gestureOrAnimationInProgress=!1,this.mode=Og(this),this.delegate=void 0,this.animated=!0,this.animation=void 0,this.swipeHandler=void 0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(void 0!==this.swipeHandler)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Ep((()=>i.import("./swipe-back-legacy-af8b65e5.js")))).createSwipeBackGesture(this.el,(()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart()),(()=>e()),(e=>{var t;return null===(t=this.ani)||void 0===t?void 0:t.progressStep(e)}),((e,t,i)=>{if(this.ani){this.ani.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(e)}),{oneTimeCallback:!0});let n=e?-.001:.001;e?n+=Yf([0,0],[.32,.72],[0,1],[1,1],t)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),n+=Yf([0,0],[1,0],[.68,.28],[1,1],t)[0]),this.ani.progressEnd(e?1:0,n,i)}else this.gestureOrAnimationInProgress=!1})),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,t,i){const n=await this.lock();let r=!1;try{r=await this.transition(e,t,i)}catch(E_){console.error(E_)}return n(),r}async setRouteId(e,t,i,n){return{changed:await this.setRoot(e,t,{duration:"root"===i?0:void 0,direction:"back"===i?"back":"forward",animationBuilder:n}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,t,i){if(this.activeComponent===e&&xf(t,this.activeParams))return!1;const n=this.activeEl,r=await Wg(this.delegate,this.el,e,["ion-page","ion-page-invisible"],t);return this.activeComponent=e,this.activeEl=r,this.activeParams=t,await this.commit(r,n,i),await Gg(this.delegate,n),!0}async transition(e,t,i={}){if(t===e)return!1;this.ionNavWillChange.emit();const{el:n,mode:r}=this,a=this.animated&&pg.getBoolean("animated",!0),s=i.animationBuilder||this.animation||pg.get("navAnimation");return await Rf(Object.assign(Object.assign({mode:r,animated:a,enteringEl:e,leavingEl:t,baseEl:n,deepWait:sf(n),progressCallback:i.progressAnimation?e=>{void 0===e||this.gestureOrAnimationInProgress?this.ani=e:(this.gestureOrAnimationInProgress=!0,e.onFinish((()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)}),{oneTimeCallback:!0}),e.progressEnd(0,0,0))}:void 0},i),{animationBuilder:s})),this.ionNavDidChange.emit(),!0}async lock(){const e=this.waitPromise;let t;return this.waitPromise=new Promise((e=>t=e)),void 0!==e&&await e,t}render(){return Fp("slot",null)}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}"}},[1,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]}]);const Kw=function(){if("undefined"==typeof customElements)return;["ion-router-outlet"].forEach((e=>{if("ion-router-outlet"===e)customElements.get(e)||customElements.define(e,Gw)}))},Qw=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=Kp(this,"ionTabBarChanged",7),this.keyboardCtrl=null,this.keyboardVisible=!1,this.color=void 0,this.selectedTab=void 0,this.translucent=!1}selectedTabChanged(){void 0!==this.selectedTab&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentWillLoad(){this.selectedTabChanged()}async connectedCallback(){this.keyboardCtrl=await(async e=>{let t,i,n,r;const a=async()=>{const e=await Fb.getResizeMode(),a=void 0===e?void 0:e.mode;t=()=>{void 0===r&&(r=Vb(a)),n=!0,s(n,a)},i=()=>{n=!1,s(n,a)},null==nf||nf.addEventListener("keyboardWillShow",t),null==nf||nf.addEventListener("keyboardWillHide",i)},s=(t,i)=>{e&&e(t,o(i))},o=e=>{if(0===r||r===Vb(e))return;const t=zb(e);return null!==t?new Promise((e=>{const i=new ResizeObserver((()=>{t.clientHeight===r&&(i.disconnect(),e())}));i.observe(t)})):void 0};return await a(),{init:a,destroy:()=>{null==nf||nf.removeEventListener("keyboardWillShow",t),null==nf||nf.removeEventListener("keyboardWillHide",i),t=i=void 0},isKeyboardVisible:()=>n}})((async(e,t)=>{!1===e&&void 0!==t&&await t,this.keyboardVisible=e}))}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}render(){const{color:e,translucent:t,keyboardVisible:i}=this,n=Og(this),r=i&&"top"!==this.el.getAttribute("slot");return Fp(Vp,{role:"tablist","aria-hidden":r?"true":null,class:Hy(e,{[n]:!0,"tab-bar-translucent":t,"tab-bar-hidden":r})},Fp("slot",null))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, #f7f7f7));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.2))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, #666666));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",md:":host{-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right);display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-bottom:var(--ion-safe-area-bottom, 0);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, rgba(0, 0, 0, 0.07))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, #595959));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #3880ff));height:56px}"}}},[33,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]}]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Yw=function(){if("undefined"==typeof customElements)return;["ion-tab-bar"].forEach((e=>{if("ion-tab-bar"===e)customElements.get(e)||customElements.define(e,Qw)}))},Xw=Om(class extends Vm{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=Kp(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.onKeyUp=e=>{"Enter"!==e.key&&" "!==e.key||this.selectTab(e)},this.onClick=e=>{this.selectTab(e)},this.disabled=!1,this.download=void 0,this.href=void 0,this.rel=void 0,this.layout=void 0,this.selected=!1,this.tab=void 0,this.target=void 0}onTabBarChanged(e){const t=e.target,i=this.el.parentElement;(e.composedPath().includes(i)||(null==t?void 0:t.contains(this.el)))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},of(this.el,["aria-label"])),void 0===this.layout&&(this.layout=pg.get("tabButtonLayout","icon-top"))}selectTab(e){void 0!==this.tab&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:t,hasLabel:i,href:n,rel:r,target:a,layout:s,selected:o,tab:l,inheritedAttributes:c}=this,d=Og(this),u={download:this.download,href:n,rel:r,target:a};return Fp(Vp,{onClick:this.onClick,onKeyup:this.onKeyUp,id:void 0!==l?`tab-button-${l}`:null,class:{[d]:!0,"tab-selected":o,"tab-disabled":e,"tab-has-label":i,"tab-has-icon":t,"tab-has-label-only":i&&!t,"tab-has-icon-only":t&&!i,[`tab-layout-${s}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},Fp("a",Object.assign({},u,{class:"button-native",part:"native",role:"tab","aria-selected":o?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},c),Fp("span",{class:"button-inner"},Fp("slot",null)),"md"===d&&Fp("ion-ripple-effect",{type:"unbounded"})))}get el(){return this}static get style(){return{ios:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:30px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:calc(50% + 12px)}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 12px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 12px)}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:calc(50% + 35px)}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 35px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 35px)}}}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:calc(50% + 30px)}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 30px)}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 30px)}}}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}',md:':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}@supports (inset-inline-start: 0){::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}}@supports not (inset-inline-start: 0){::slotted(ion-badge){left:calc(50% + 6px)}:host-context([dir=rtl]) ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}[dir=rtl] ::slotted(ion-badge){left:unset;right:unset;right:calc(50% + 6px)}@supports selector(:dir(rtl)){::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:calc(50% + 6px)}}}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-bottom) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-bottom) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-bottom ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-bottom) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){left:80%}:host-context([dir=rtl]):host(.tab-layout-icon-start) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-start ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-layout-icon-end) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-end ::slotted(ion-badge){left:unset;right:unset;right:80%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-start) ::slotted(ion-badge):dir(rtl),:host(.tab-layout-icon-end) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:80%}}}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}@supports (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}}@supports not (inset-inline-start: 0){:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){left:70%}:host-context([dir=rtl]):host(.tab-layout-icon-hide) ::slotted(ion-badge),:host-context([dir=rtl]).tab-layout-icon-hide ::slotted(ion-badge),:host-context([dir=rtl]):host(.tab-has-label-only) ::slotted(ion-badge),:host-context([dir=rtl]).tab-has-label-only ::slotted(ion-badge){left:unset;right:unset;right:70%}@supports selector(:dir(rtl)){:host(.tab-layout-icon-hide) ::slotted(ion-badge):dir(rtl),:host(.tab-has-label-only) ::slotted(ion-badge):dir(rtl){left:unset;right:unset;right:70%}}}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}'}}},[33,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);
/*!
             * (C) Ionic http://ionicframework.com - MIT License
             */const Jw=function(){if("undefined"==typeof customElements)return;["ion-tab-button","ion-ripple-effect"].forEach((e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,Xw);break;case"ion-ripple-effect":customElements.get(e)||ob()}}))},Zw=!0,eT=!0,tT=!0,iT=!1,nT=!1;let rT,aT,sT,oT=!1,lT=!1,cT=!1,dT=!1,uT=null,hT=!1;const pT="http://www.w3.org/1999/xlink",mT={},fT=e=>"object"===(e=typeof e)||"function"===e;const gT=(e,t,...i)=>{let n=null,r=null,a=null,s=!1,o=!1;const l=[],c=t=>{for(let i=0;i<t.length;i++)n=t[i],Array.isArray(n)?c(n):null!=n&&"boolean"!=typeof n&&((s="function"!=typeof e&&!fT(n))&&(n=String(n)),s&&o?l[l.length-1].$text$+=n:l.push(s?yT(null,n):n),o=s)};if(c(i),t){t.key&&(r=t.key),t.name&&(a=t.name);{const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}}if("function"==typeof e)return e(null===t?{}:t,l,vT);const d=yT(e,null);return d.$attrs$=t,l.length>0&&(d.$children$=l),d.$key$=r,d.$name$=a,d},yT=(e,t)=>{const i={$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null};return i},bT={},vT={forEach:(e,t)=>e.map(wT).forEach(t),map:(e,t)=>e.map(wT).map(t).map(TT)},wT=e=>({vattrs:e.$attrs$,vchildren:e.$children$,vkey:e.$key$,vname:e.$name$,vtag:e.$tag$,vtext:e.$text$}),TT=e=>{if("function"==typeof e.vtag){const t=Object.assign({},e.vattrs);return e.vkey&&(t.key=e.vkey),e.vname&&(t.name=e.vname),gT(e.vtag,t,...e.vchildren||[])}const t=yT(e.vtag,e.vtext);return t.$attrs$=e.vattrs,t.$children$=e.vchildren,t.$key$=e.vkey,t.$name$=e.vname,t},xT=new WeakMap,ET=e=>{const t=e.$cmpMeta$,i=e.$hostElement$,n=t.$flags$,r=(t.$tagName$,()=>{}),a=((e,t,i,n)=>{var r;let a=_T(t,i);const s=dx.get(a);if(e=11===e.nodeType?e:px,s)if("string"==typeof s){e=e.head||e;let t,i=xT.get(e);if(i||xT.set(e,i=new Set),!i.has(a)){{t=px.createElement("style"),t.innerHTML=s;const i=null!==(r=fx.$nonce$)&&void 0!==r?r:function(e){var t,i,n;return null!==(n=null===(i=null===(t=e.head)||void 0===t?void 0:t.querySelector('meta[name="csp-nonce"]'))||void 0===i?void 0:i.getAttribute("content"))&&void 0!==n?n:void 0}(px);null!=i&&t.setAttribute("nonce",i),e.insertBefore(t,e.querySelector("link"))}i&&i.add(a)}}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return a})(i.shadowRoot?i.shadowRoot:i.getRootNode(),t,e.$modeName$);10&n&&(i["s-sc"]=a,i.classList.add(a+"-h"),2&n&&i.classList.add(a+"-s")),r()},_T=(e,t)=>"sc-"+(t&&32&e.$flags$?e.$tagName$+"-"+t:e.$tagName$),ST=(e,t,i,n,r,a)=>{if(i!==n){let s=lx(e,t),o=t.toLowerCase();if("class"===t){const t=e.classList,r=kT(i),a=kT(n);t.remove(...r.filter((e=>e&&!a.includes(e)))),t.add(...a.filter((e=>e&&!r.includes(e))))}else if("style"===t){for(const t in i)n&&null!=n[t]||(t.includes("-")?e.style.removeProperty(t):e.style[t]="");for(const t in n)i&&n[t]===i[t]||(t.includes("-")?e.style.setProperty(t,n[t]):e.style[t]=n[t])}else if("key"===t);else if("ref"===t)n&&n(e);else if(e.__lookupSetter__(t)||"o"!==t[0]||"n"!==t[1]){const l=fT(n);if((s||l&&null!==n)&&!r)try{if(e.tagName.includes("-"))e[t]=n;else{const r=null==n?"":n;"list"===t?s=!1:null!=i&&e[t]==r||(e[t]=r)}}catch(E_){}let c=!1;o!==(o=o.replace(/^xlink\:?/,""))&&(t=o,c=!0),null==n||!1===n?!1===n&&""!==e.getAttribute(t)||(c?e.removeAttributeNS(pT,t):e.removeAttribute(t)):(!s||4&a||r)&&!l&&(n=!0===n?"":n,c?e.setAttributeNS(pT,t,n):e.setAttribute(t,n))}else t="-"===t[2]?t.slice(3):lx(hx,o)?o.slice(2):o[2]+t.slice(3),i&&fx.rel(e,t,i,!1),n&&fx.ael(e,t,n,!1)}},CT=/\s/,kT=e=>e?e.split(CT):[],AT=(e,t,i,n)=>{const r=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,a=e&&e.$attrs$||mT,s=t.$attrs$||mT;for(n in a)n in s||ST(r,n,a[n],void 0,i,t.$flags$);for(n in s)ST(r,n,a[n],s[n],i,t.$flags$)},NT=(e,t,i,n)=>{const r=t.$children$[i];let a,s,o,l=0;if(oT||(cT=!0,"slot"===r.$tag$&&(rT&&n.classList.add(rT+"-s"),r.$flags$|=r.$children$?2:1)),null!==r.$text$)a=r.$elm$=px.createTextNode(r.$text$);else if(1&r.$flags$)a=r.$elm$=px.createTextNode("");else{if(dT||(dT="svg"===r.$tag$),a=r.$elm$=px.createElementNS(dT?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&r.$flags$?"slot-fb":r.$tag$),dT&&"foreignObject"===r.$tag$&&(dT=!1),AT(null,r,dT),(e=>null!=e)(rT)&&a["s-si"]!==rT&&a.classList.add(a["s-si"]=rT),r.$children$)for(l=0;l<r.$children$.length;++l)s=NT(e,r,l,a),s&&a.appendChild(s);"svg"===r.$tag$?dT=!1:"foreignObject"===a.tagName&&(dT=!0)}return a["s-hn"]=sT,3&r.$flags$&&(a["s-sr"]=!0,a["s-cr"]=aT,a["s-sn"]=r.$name$||"",o=e&&e.$children$&&e.$children$[i],o&&o.$tag$===r.$tag$&&e.$elm$&&OT(e.$elm$,!1)),a},OT=(e,t)=>{fx.$flags$|=1;const i=e.childNodes;for(let n=i.length-1;n>=0;n--){const e=i[n];e["s-hn"]!==sT&&e["s-ol"]&&(LT(e).insertBefore(e,RT(e)),e["s-ol"].remove(),e["s-ol"]=void 0,cT=!0),t&&OT(e,t)}fx.$flags$&=-2},MT=(e,t,i,n,r,a)=>{let s,o=e["s-cr"]&&e["s-cr"].parentNode||e;for(o.shadowRoot&&o.tagName===sT&&(o=o.shadowRoot);r<=a;++r)n[r]&&(s=NT(null,i,r,e),s&&(n[r].$elm$=s,o.insertBefore(s,RT(t))))},PT=(e,t,i,n,r)=>{for(;t<=i;++t)(n=e[t])&&(r=n.$elm$,UT(n),lT=!0,r["s-ol"]?r["s-ol"].remove():OT(r,!0),r.remove())},IT=(e,t)=>e.$tag$===t.$tag$&&("slot"===e.$tag$?e.$name$===t.$name$:e.$key$===t.$key$),RT=e=>e&&e["s-ol"]||e,LT=e=>(e["s-ol"]?e["s-ol"]:e).parentNode,DT=(e,t)=>{const i=t.$elm$=e.$elm$,n=e.$children$,r=t.$children$,a=t.$tag$,s=t.$text$;let o;null===s?(dT="svg"===a||"foreignObject"!==a&&dT,"slot"===a||AT(e,t,dT),null!==n&&null!==r?((e,t,i,n)=>{let r,a,s=0,o=0,l=0,c=0,d=t.length-1,u=t[0],h=t[d],p=n.length-1,m=n[0],f=n[p];for(;s<=d&&o<=p;)if(null==u)u=t[++s];else if(null==h)h=t[--d];else if(null==m)m=n[++o];else if(null==f)f=n[--p];else if(IT(u,m))DT(u,m),u=t[++s],m=n[++o];else if(IT(h,f))DT(h,f),h=t[--d],f=n[--p];else if(IT(u,f))"slot"!==u.$tag$&&"slot"!==f.$tag$||OT(u.$elm$.parentNode,!1),DT(u,f),e.insertBefore(u.$elm$,h.$elm$.nextSibling),u=t[++s],f=n[--p];else if(IT(h,m))"slot"!==u.$tag$&&"slot"!==f.$tag$||OT(h.$elm$.parentNode,!1),DT(h,m),e.insertBefore(h.$elm$,u.$elm$),h=t[--d],m=n[++o];else{for(l=-1,c=s;c<=d;++c)if(t[c]&&null!==t[c].$key$&&t[c].$key$===m.$key$){l=c;break}l>=0?(a=t[l],a.$tag$!==m.$tag$?r=NT(t&&t[o],i,l,e):(DT(a,m),t[l]=void 0,r=a.$elm$),m=n[++o]):(r=NT(t&&t[o],i,o,e),m=n[++o]),r&&LT(u.$elm$).insertBefore(r,RT(u.$elm$))}s>d?MT(e,null==n[p+1]?null:n[p+1].$elm$,i,n,o,p):o>p&&PT(t,s,d)})(i,n,t,r):null!==r?(null!==e.$text$&&(i.textContent=""),MT(i,null,t,r,0,r.length-1)):null!==n&&PT(n,0,n.length-1),dT&&"svg"===a&&(dT=!1)):(o=i["s-cr"])?o.parentNode.textContent=s:e.$text$!==s&&(i.data=s)},jT=e=>{const t=e.childNodes;let i,n,r,a,s,o;for(n=0,r=t.length;n<r;n++)if(i=t[n],1===i.nodeType){if(i["s-sr"])for(s=i["s-sn"],i.hidden=!1,a=0;a<r;a++)if(o=t[a].nodeType,t[a]["s-hn"]!==i["s-hn"]||""!==s){if(1===o&&s===t[a].getAttribute("slot")){i.hidden=!0;break}}else if(1===o||3===o&&""!==t[a].textContent.trim()){i.hidden=!0;break}jT(i)}},$T=[],BT=e=>{let t,i,n,r,a,s,o=0;const l=e.childNodes,c=l.length;for(;o<c;o++){if(t=l[o],t["s-sr"]&&(i=t["s-cr"])&&i.parentNode)for(n=i.parentNode.childNodes,r=t["s-sn"],s=n.length-1;s>=0;s--)i=n[s],i["s-cn"]||i["s-nr"]||i["s-hn"]===t["s-hn"]||(qT(i,r)?(a=$T.find((e=>e.$nodeToRelocate$===i)),lT=!0,i["s-sn"]=i["s-sn"]||r,a?a.$slotRefNode$=t:$T.push({$slotRefNode$:t,$nodeToRelocate$:i}),i["s-sr"]&&$T.map((e=>{qT(e.$nodeToRelocate$,i["s-sn"])&&(a=$T.find((e=>e.$nodeToRelocate$===i)),a&&!e.$slotRefNode$&&(e.$slotRefNode$=a.$slotRefNode$))}))):$T.some((e=>e.$nodeToRelocate$===i))||$T.push({$nodeToRelocate$:i}));1===t.nodeType&&BT(t)}},qT=(e,t)=>1===e.nodeType?null===e.getAttribute("slot")&&""===t||e.getAttribute("slot")===t:e["s-sn"]===t||""===t,UT=e=>{e.$attrs$&&e.$attrs$.ref&&e.$attrs$.ref(null),e.$children$&&e.$children$.map(UT)},FT=(e,t)=>{const i=e.$hostElement$,n=e.$cmpMeta$,r=e.$vnode$||yT(null,null),a=(s=t)&&s.$tag$===bT?t:gT(null,null,t);var s;if(sT=i.tagName,n.$attrsToReflect$&&(a.$attrs$=a.$attrs$||{},n.$attrsToReflect$.map((([e,t])=>a.$attrs$[t]=i[e]))),a.$tag$=null,a.$flags$|=4,e.$vnode$=a,a.$elm$=r.$elm$=i.shadowRoot||i,rT=i["s-sc"],aT=i["s-cr"],oT=0!=(1&n.$flags$),lT=!1,DT(r,a),fx.$flags$|=1,cT){let e,t,i,n,r,s;BT(a.$elm$);let o=0;for(;o<$T.length;o++)e=$T[o],t=e.$nodeToRelocate$,t["s-ol"]||(i=px.createTextNode(""),i["s-nr"]=t,t.parentNode.insertBefore(t["s-ol"]=i,t));for(o=0;o<$T.length;o++)if(e=$T[o],t=e.$nodeToRelocate$,e.$slotRefNode$){for(n=e.$slotRefNode$.parentNode,r=e.$slotRefNode$.nextSibling,i=t["s-ol"];i=i.previousSibling;)if(s=i["s-nr"],s&&s["s-sn"]===t["s-sn"]&&n===s.parentNode&&(s=s.nextSibling,!s||!s["s-nr"])){r=s;break}(!r&&n!==t.parentNode||t.nextSibling!==r)&&t!==r&&(!t["s-hn"]&&t["s-ol"]&&(t["s-hn"]=t["s-ol"].parentNode.nodeName),n.insertBefore(t,r))}else 1===t.nodeType&&(t.hidden=!0)}lT&&jT(a.$elm$),fx.$flags$&=-2,$T.length=0},zT=(e,t)=>{e.$flags$|=16,e.$ancestorComponent$;return _x((()=>VT(e,t)))},VT=(e,t)=>{const i=e.$hostElement$,n=(e.$cmpMeta$.$tagName$,()=>{}),r=i;let a;return a=KT(r,t?"componentWillLoad":"componentWillUpdate"),a=QT(a,(()=>KT(r,"componentWillRender"))),n(),QT(a,(()=>HT(e,r,t)))},HT=async(e,t,i)=>{const n=e.$hostElement$,r=(e.$cmpMeta$.$tagName$,()=>{});n["s-rc"],i&&ET(e);const a=(e.$cmpMeta$.$tagName$,()=>{});WT(e,t,n),a(),r(),GT(e)},WT=(e,t,i)=>{try{uT=t,t=t.render&&t.render(),e.$flags$&=-17,e.$flags$|=2,(Zw||eT)&&(tT||eT)&&(iT||FT(e,t))}catch(E_){cx(E_,e.$hostElement$)}return uT=null,null},GT=e=>{e.$cmpMeta$.$tagName$;const t=()=>{},i=e.$hostElement$;e.$ancestorComponent$,KT(i,"componentDidRender"),64&e.$flags$?(KT(i,"componentDidUpdate"),t()):(e.$flags$|=64,KT(i,"componentDidLoad"),t())},KT=(e,t,i)=>{if(e&&e[t])try{return e[t](i)}catch(E_){cx(E_)}},QT=(e,t)=>e&&e.then?e.then(t):t(),YT=(e,t,i,n)=>{const r=sx(e),a=e,s=r.$instanceValues$.get(t),o=r.$flags$,l=a;var c,d;c=i,d=n.$members$[t][0],i=null==c||fT(c)?c:4&d?"false"!==c&&(""===c||!!c):2&d?parseFloat(c):1&d?String(c):c;const u=Number.isNaN(s)&&Number.isNaN(i);if(i!==s&&!u){if(r.$instanceValues$.set(t,i),n.$watchers$&&128&o){const e=n.$watchers$[t];e&&e.map((e=>{try{l[e](i,s,t)}catch(E_){cx(E_,a)}}))}if(2==(18&o)){if(l.componentShouldUpdate&&!1===l.componentShouldUpdate(i,s,t))return;zT(r,!1)}}},XT=(e,t,i)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const i=Object.entries(t.$members$),n=e.prototype;i.map((([e,[i]])=>{(31&i||32&i)&&Object.defineProperty(n,e,{get(){return t=e,sx(this).$instanceValues$.get(t);var t},set(i){YT(this,e,i,t)},configurable:!0,enumerable:!0})}));{const r=new Map;n.attributeChangedCallback=function(e,t,i){fx.jmp((()=>{const t=r.get(e);if(this.hasOwnProperty(t))i=this[t],delete this[t];else if(n.hasOwnProperty(t)&&"number"==typeof this[t]&&this[t]==i)return;this[t]=(null!==i||"boolean"!=typeof this[t])&&i}))},e.observedAttributes=i.filter((([e,t])=>15&t[0])).map((([e,i])=>{const n=i[1]||e;return r.set(n,e),512&i[0]&&t.$attrsToReflect$.push([e,n]),n}))}}return e},JT=async(e,t,i,n,r)=>{if(0==(32&t.$flags$)&&(r=e.constructor,t.$flags$|=32,customElements.whenDefined(i.$tagName$).then((()=>t.$flags$|=128)),r.style)){let n=r.style;"string"!=typeof n&&(n=n[t.$modeName$=(e=>ux.map((t=>t(e))).find((e=>!!e)))(e)]);const a=_T(i,t.$modeName$);if(!dx.has(a)){const e=(i.$tagName$,()=>{});((e,t,i)=>{let n=dx.get(e);yx&&i?(n=n||new CSSStyleSheet,"string"==typeof n?n=t:n.replaceSync(t)):n=t,dx.set(e,n)})(a,n,!!(1&i.$flags$)),e()}}t.$ancestorComponent$;zT(t,!0)},ZT=e=>{const t=e["s-cr"]=px.createComment("");t["s-cn"]=!0,e.insertBefore(t,e.firstChild)},ex=(e,t)=>{const i={$flags$:t[0],$tagName$:t[1]};i.$members$=t[2],i.$listeners$=t[3],i.$watchers$=e.$watchers$,i.$attrsToReflect$=[];const n=e.prototype.connectedCallback,r=e.prototype.disconnectedCallback;return Object.assign(e.prototype,{__registerHost(){ox(this,i)},connectedCallback(){(e=>{if(0==(1&fx.$flags$)){const t=sx(e),i=t.$cmpMeta$,n=(i.$tagName$,()=>{});1&t.$flags$?(tx(e,t,i.$listeners$),t.$lazyInstance$):(t.$flags$|=1,12&i.$flags$&&ZT(e),i.$members$&&Object.entries(i.$members$).map((([t,[i]])=>{if(31&i&&e.hasOwnProperty(t)){const i=e[t];delete e[t],e[t]=i}})),JT(e,t,i)),n()}})(this),n&&n.call(this)},disconnectedCallback(){(e=>{if(0==(1&fx.$flags$)){const t=sx(e);t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0)}})(this),r&&r.call(this)},__attachShadow(){this.attachShadow({mode:"open",delegatesFocus:!!(16&i.$flags$)})}}),e.is=i.$tagName$,XT(e,i)},tx=(e,t,i,n)=>{i&&i.map((([i,n,r])=>{const a=nx(e,i),s=ix(t,r),o=rx(i);fx.ael(a,n,s,o),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>fx.rel(a,n,s,o)))}))},ix=(e,t)=>i=>{try{nT||e.$hostElement$[t](i)}catch(E_){cx(E_)}},nx=(e,t)=>4&t?px:8&t?hx:16&t?px.body:e,rx=e=>gx?{passive:0!=(1&e),capture:0!=(2&e)}:0!=(2&e),ax=new WeakMap,sx=e=>ax.get(e),ox=(e,t)=>{const i={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return tx(e,i,t.$listeners$),ax.set(e,i)},lx=(e,t)=>t in e,cx=(e,t)=>(0,console.error)(e,t),dx=new Map,ux=[],hx="undefined"!=typeof window?window:{},px=hx.document||{head:{}},mx=hx.HTMLElement||class{},fx={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,i,n)=>e.addEventListener(t,i,n),rel:(e,t,i,n)=>e.removeEventListener(t,i,n),ce:(e,t)=>new CustomEvent(e,t)},gx=(()=>{let e=!1;try{px.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch(E_){}return e})(),yx=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch(E_){}return!1})(),bx=[],vx=[],wx=(e,t)=>i=>{e.push(i),hT||(hT=!0,t&&4&fx.$flags$?Ex(xx):fx.raf(xx))},Tx=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(E_){cx(E_)}e.length=0},xx=()=>{Tx(bx),Tx(vx),(hT=bx.length>0)&&fx.raf(xx)},Ex=e=>(e=>Promise.resolve(e))().then(e),_x=wx(vx,!0);let Sx;const Cx=e=>{const t=(()=>{if("undefined"==typeof window)return new Map;if(!Sx){const e=window;e.Ionicons=e.Ionicons||{},Sx=e.Ionicons.map=e.Ionicons.map||new Map}return Sx})().get(e);return t||(e=>{const t=new URL(e,fx.$resourcesUrl$);return t.origin!==hx.location.origin?t.href:t.pathname})(`svg/${e}.svg`)},kx=(e,t,i,n,r)=>{if(i="ios"===(i&&Mx(i))?"ios":"md",n&&"ios"===i?e=Mx(n):r&&"md"===i?e=Mx(r):(e||!t||Nx(t)||(e=t),Ox(e)&&(e=Mx(e))),!Ox(e)||""===e.trim())return null;return""!==e.replace(/[a-z]|-|\d/gi,"")?null:e},Ax=e=>Ox(e)&&(e=e.trim(),Nx(e))?e:null,Nx=e=>e.length>0&&/(\/|\.)/.test(e),Ox=e=>"string"==typeof e,Mx=e=>e.toLowerCase(),Px=e=>{if(1===e.nodeType){if("script"===e.nodeName.toLowerCase())return!1;for(let t=0;t<e.attributes.length;t++){const i=e.attributes[t].name;if(Ox(i)&&0===i.toLowerCase().indexOf("on"))return!1}for(let t=0;t<e.childNodes.length;t++)if(!Px(e.childNodes[t]))return!1}return!0},Ix=new Map,Rx=new Map;let Lx;const Dx=(e,t)=>{let i=Rx.get(e);if(!i){if("undefined"==typeof fetch||"undefined"==typeof document)return Ix.set(e,""),Promise.resolve();if((e=>e.startsWith("data:image/svg+xml"))(e)&&(e=>-1!==e.indexOf(";utf8,"))(e)){Lx||(Lx=new DOMParser);const t=Lx.parseFromString(e,"text/html").querySelector("svg");return t&&Ix.set(e,t.outerHTML),Promise.resolve()}i=fetch(e).then((i=>{if(i.ok)return i.text().then((i=>{i&&!1!==t&&(i=(e=>{const t=document.createElement("div");t.innerHTML=e;for(let n=t.childNodes.length-1;n>=0;n--)"svg"!==t.childNodes[n].nodeName.toLowerCase()&&t.removeChild(t.childNodes[n]);const i=t.firstElementChild;if(i&&"svg"===i.nodeName.toLowerCase()){const e=i.getAttribute("class")||"";if(i.setAttribute("class",(e+" s-ion-icon").trim()),Px(i))return t.innerHTML}return""})(i)),Ix.set(e,i||"")}));Ix.set(e,"")})),Rx.set(e,i)}return i},jx=ex(class extends mx{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.isVisible=!1,this.mode=$x(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=((e,t=[])=>{const i={};return t.forEach((t=>{e.hasAttribute(t)&&(null!==e.getAttribute(t)&&(i[t]=e.getAttribute(t)),e.removeAttribute(t))})),i})(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",(()=>{this.isVisible=!0,this.loadIcon()}))}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,t,i){if(this.lazy&&"undefined"!=typeof window&&window.IntersectionObserver){const n=this.io=new window.IntersectionObserver((e=>{e[0].isIntersecting&&(n.disconnect(),this.io=void 0,i())}),{rootMargin:t});n.observe(e)}else i()}loadIcon(){if(this.isVisible){const e=(e=>{let t=Ax(e.src);if(t)return t;if(t=kx(e.name,e.icon,e.mode,e.ios,e.md),t)return Cx(t);if(e.icon){if(t=Ax(e.icon),t)return t;if(t=Ax(e.icon[e.mode]),t)return t}return null})(this);e&&(Ix.has(e)?this.svgContent=Ix.get(e):Dx(e,this.sanitize).then((()=>this.svgContent=Ix.get(e))))}this.iconName=kx(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:t,inheritedAttributes:i,el:n}=this,r=this.mode||"md",a=!!t&&((t.includes("arrow")||t.includes("chevron"))&&!1!==e),s=e||a;return gT(bT,Object.assign({role:"img",class:Object.assign(Object.assign({[r]:!0},Bx(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":s,"icon-rtl":s&&(o=n,o&&""!==o.dir?"rtl"===o.dir.toLowerCase():"rtl"===(null===document||void 0===document?void 0:document.dir.toLowerCase()))})},i),this.svgContent?gT("div",{class:"icon-inner",innerHTML:this.svgContent}):gT("div",{class:"icon-inner"}));var o}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:18px !important}:host(.icon-large){font-size:32px !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}"}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]}]),$x=()=>"undefined"!=typeof document&&document.documentElement.getAttribute("mode")||"md",Bx=e=>e?{"ion-color":!0,[`ion-color-${e}`]:!0}:null;const qx=function(){if("undefined"==typeof customElements)return;["ion-icon"].forEach((e=>{if("ion-icon"===e)customElements.get(e)||customElements.define(e,jx)}))},Ux=H.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{}}),Fx=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[]}onIonViewWillEnter(e){if(e.id){const t=this.ionViewWillEnterCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewWillEnterCallbacks[t]=e:this.ionViewWillEnterCallbacks.push(e)}else this.ionViewWillEnterCallbacks.push(e)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach((e=>e()))}onIonViewDidEnter(e){if(e.id){const t=this.ionViewDidEnterCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewDidEnterCallbacks[t]=e:this.ionViewDidEnterCallbacks.push(e)}else this.ionViewDidEnterCallbacks.push(e)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach((e=>e()))}onIonViewWillLeave(e){if(e.id){const t=this.ionViewWillLeaveCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewWillLeaveCallbacks[t]=e:this.ionViewWillLeaveCallbacks.push(e)}else this.ionViewWillLeaveCallbacks.push(e)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach((e=>e()))}onIonViewDidLeave(e){if(e.id){const t=this.ionViewDidLeaveCallbacks.findIndex((t=>t.id===e.id));t>-1?this.ionViewDidLeaveCallbacks[t]=e:this.ionViewDidLeaveCallbacks.push(e)}else this.ionViewDidLeaveCallbacks.push(e)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach((e=>e())),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(e){this.componentCanBeDestroyedCallback=e}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},zx=H.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:e=>{"undefined"!=typeof window&&("string"==typeof e?window.location.pathname=e:window.history.back())},navigate:e=>{"undefined"!=typeof window&&(window.location.pathname=e)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(e,t)=>{"undefined"!=typeof window&&(window.location.pathname=t)},resetTab:(e,t)=>{"undefined"!=typeof window&&(window.location.pathname=t)}}),Vx=e=>e.toLowerCase().split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),Hx=e=>e.replace(/([A-Z])/g,(e=>`-${e[0].toLowerCase()}`)),Wx=(e,t,i={})=>{if(e instanceof Element){const n=Gx(e.classList,t,i);""!==n&&(e.className=n),Object.keys(t).forEach((i=>{if("children"!==i&&"style"!==i&&"ref"!==i&&"class"!==i&&"className"!==i&&"forwardedRef"!==i)if(0===i.indexOf("on")&&i[2]===i[2].toUpperCase()){const n=i.substring(2),r=n[0].toLowerCase()+n.substring(1);Kx(r)||Qx(e,r,t[i])}else{e[i]=t[i];"string"===typeof t[i]&&e.setAttribute(Hx(i),t[i])}}))}},Gx=(e,t,i)=>{const n=t.className||t.class,r=i.className||i.class,a=Yx(e),s=Yx(n?n.split(" "):[]),o=Yx(r?r.split(" "):[]),l=[];return a.forEach((e=>{s.has(e)?(l.push(e),s.delete(e)):o.has(e)||l.push(e)})),s.forEach((e=>l.push(e))),l.join(" ")},Kx=e=>{if("undefined"==typeof document)return!0;{const t="on"+(e=>"doubleclick"===e?"dblclick":e)(e);let i=t in document;if(!i){const e=document.createElement("div");e.setAttribute(t,"return;"),i="function"==typeof e[t]}return i}},Qx=(e,t,i)=>{const n=e.__events||(e.__events={}),r=n[t];r&&e.removeEventListener(t,r),e.addEventListener(t,n[t]=function(e){i&&i.call(this,e)})},Yx=e=>{const t=new Map;return e.forEach((e=>t.set(e,e))),t},Xx=(...e)=>t=>{e.forEach((e=>{((e,t)=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})(e,t)}))},Jx=(e,t,i,n)=>{void 0!==n&&n();const r=Vx(e),a=class extends H.Component{constructor(e){super(e),this.setComponentElRef=e=>{this.componentEl=e}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(e){Wx(this.componentEl,this.props,e)}render(){const t=this.props,{children:n,forwardedRef:r,style:a,className:s,ref:o}=t,l=xy(t,["children","forwardedRef","style","className","ref"]);let c=Object.keys(l).reduce(((e,t)=>{const i=l[t];if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const n=t.substring(2).toLowerCase();"undefined"!=typeof document&&Kx(n)&&(e[t]=i)}else{const n=typeof i;"string"!==n&&"boolean"!==n&&"number"!==n||(e[Hx(t)]=i)}return e}),{});i&&(c=i(this.props,c));const d=Object.assign(Object.assign({},c),{ref:Xx(r,this.setComponentElRef),style:a});return V.createElement(e,d,n)}static get displayName(){return r}};return t&&(a.contextType=t),((e,t)=>{const i=(t,i)=>H.createElement(e,Object.assign({},t,{forwardedRef:i}));return i.displayName=t,H.forwardRef(i)})(a,r)},Zx=Jx("ion-badge",void 0,void 0,Yy),eE=Jx("ion-buttons",void 0,void 0,Jy),tE=Jx("ion-col",void 0,void 0,mb),iE=Jx("ion-content",void 0,void 0,vb),nE=Jx("ion-grid",void 0,void 0,Wb),rE=Jx("ion-header",void 0,void 0,tv),aE=Jx("ion-img",void 0,void 0,rv),sE=Jx("ion-input",void 0,void 0,hv),oE=Jx("ion-label",void 0,void 0,pv),lE=Jx("ion-list",void 0,void 0,fv),cE=Jx("ion-menu",void 0,void 0,Ev),dE=Jx("ion-menu-button",void 0,void 0,Cv),uE=Jx("ion-menu-toggle",void 0,void 0,Av),hE=Jx("ion-range",void 0,void 0,Bv),pE=Jx("ion-row",void 0,void 0,Uv),mE=Jx("ion-spinner",void 0,void 0,Yv),fE=Jx("ion-text",void 0,void 0,Jv),gE=Jx("ion-title",void 0,void 0,ew),yE=Jx("ion-toolbar",void 0,void 0,iw),bE=(e,t)=>{const i=(t,i)=>H.createElement(e,Object.assign({},t,{forwardedRef:i}));return i.displayName=t,H.forwardRef(i)},vE=()=>{if("undefined"!=typeof window){const e=window.Ionic;if(e&&e.config)return e.config}return null},wE=(e,t)=>{((e,t)=>{void 0===t||"undefined"==typeof customElements||customElements.get(e)||customElements.define(e,t)})(e,t);const i=Vx(e),n=class extends H.Component{constructor(e){super(e),this.handleClick=e=>{const{routerLink:t,routerDirection:i,routerOptions:n,routerAnimation:r}=this.props;void 0!==t&&(e.preventDefault(),this.context.navigate(t,i,void 0,r,n))},this.ref=H.createRef(),this.stableMergedRefs=Xx(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(e){const t=this.ref.current;Wx(t,this.props,e)}render(){const t=this.props,{children:i,forwardedRef:n,style:r,className:a,ref:s}=t,o=xy(t,["children","forwardedRef","style","className","ref"]),l=Object.keys(o).reduce(((e,t)=>{if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const i=t.substring(2).toLowerCase();Kx(i)&&(e[t]=o[t])}else["string","boolean","number"].includes(typeof o[t])&&(e[Hx(t)]=o[t]);return e}),{}),c=Object.assign(Object.assign({},l),{ref:this.stableMergedRefs,style:r});if(this.props.routerLink&&!this.props.href&&(c.href=this.props.routerLink),c.onClick){const e=c.onClick;c.onClick=t=>{e(t),t.defaultPrevented||this.handleClick(t)}}else c.onClick=this.handleClick;return V.createElement(e,c,i)}static get displayName(){return i}static get contextType(){return zx}};return bE(n,i)},TE=wE("ion-button",nw),xE=wE("ion-item",rw),EE=(e,t)=>{const i=e.__events||(e.__events={}),n=i[t];n&&(e.removeEventListener(t,n),i[t]=void 0)},_E=(e,t,i)=>{t&&t();const n=Vx(e),r=class extends H.Component{constructor(e){super(e),this.handleIonMount=()=>{this.setState({isOpen:!0})},this.handleWillPresent=e=>{this.setState({isOpen:!0}),this.props.onWillPresent&&this.props.onWillPresent(e)},this.handleDidDismiss=e=>{const t=this.wrapperRef.current,i=this.ref.current;t&&i&&(i.append(t),this.setState({isOpen:!1})),this.props.onDidDismiss&&this.props.onDidDismiss(e)},this.ref=H.createRef(),this.stableMergedRefs=Xx(this.ref,this.props.forwardedRef),this.state={isOpen:!1},this.wrapperRef=H.createRef()}componentDidMount(){var e,t,i;this.componentDidUpdate(this.props),null===(e=this.ref.current)||void 0===e||e.addEventListener("ionMount",this.handleIonMount),null===(t=this.ref.current)||void 0===t||t.addEventListener("willPresent",this.handleWillPresent),null===(i=this.ref.current)||void 0===i||i.addEventListener("didDismiss",this.handleDidDismiss)}componentDidUpdate(e){const t=this.ref.current,i=xy(this.props,["onDidDismiss","onWillPresent"]);Wx(t,i,e)}componentWillUnmount(){const e=this.ref.current;e&&this.state.isOpen&&(e.removeEventListener("didDismiss",this.handleDidDismiss),e.remove(),((e,t)=>{e instanceof Element&&Object.keys(t).forEach((t=>{if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const i=t.substring(2),n=i[0].toLowerCase()+i.substring(1);Kx(n)||EE(e,n)}}))})(e,this.props))}render(){const t=this.props,{children:n,forwardedRef:r,style:a,className:s,ref:o}=t,l=xy(t,["children","forwardedRef","style","className","ref"]),c=Object.keys(l).reduce(((e,t)=>{if(0===t.indexOf("on")&&t[2]===t[2].toUpperCase()){const i=t.substring(2).toLowerCase();Kx(i)&&(e[t]=l[t])}else["string","boolean","number"].includes(typeof l[t])&&(e[Hx(t)]=l[t]);return e}),{}),d=Object.assign(Object.assign({},c),{ref:this.stableMergedRefs,style:a});return V.createElement("template",{},V.createElement(e,d,this.state.isOpen||this.props.keepContentsMounted?V.createElement("div",{ref:this.wrapperRef,className:i?`${SE} ion-page`:SE},n):null))}static get displayName(){return n}};return bE(r,n)},SE="ion-delegate-host",CE=_E("ion-alert",aw),kE=_E("ion-modal",qw,!0),AE=H.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),NE=({onAddOverlay:e,onRemoveOverlay:t})=>{const[i,n]=V.useState({}),r=V.useRef({});r.current=i,V.useEffect((()=>{e(a),t(s)}),[]);const a=(e,t,i)=>{const a=Object.assign({},r.current);a[e]={component:t,containerElement:i},n(a)},s=e=>{const t=Object.assign({},r.current);delete t[e],n(t)},o=Object.keys(i);return H.createElement(H.Fragment,null,o.map((e=>{const t=i[e];return cu.createPortal(t.component,t.containerElement,`overlay-${e}`)})))},OE=Jx("ion-tab-button",void 0,void 0,Jw),ME=Jx("ion-tab-bar",void 0,void 0,Yw),PE=Jx("ion-back-button",void 0,void 0,Ww),IE=Jx("ion-router-outlet",void 0,void 0,Kw),RE=Jx("ion-app",void 0,void 0,Vw),LE=Jx("ion-icon",void 0,void 0,qx),DE=(()=>class extends H.Component{constructor(e){super(e),this.ionContext={addOverlay:(e,t,i)=>{this.addOverlayCallback&&this.addOverlayCallback(e,t,i)},removeOverlay:e=>{this.removeOverlayCallback&&this.removeOverlayCallback(e)}}}render(){return H.createElement(AE.Provider,{value:this.ionContext},H.createElement(RE,Object.assign({},this.props),this.props.children),H.createElement(NE,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}}))}static get displayName(){return"IonApp"}})(),jE=H.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class $E extends H.PureComponent{constructor(e){super(e),this.ionPageElementRef=H.createRef(),this.stableMergedRefs=Xx(this.ionPageElementRef,this.props.forwardedRef)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionPageElementRef.current.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{className:t,children:i,routeInfo:n,forwardedRef:r}=e,a=xy(e,["className","children","routeInfo","forwardedRef"]);return H.createElement(Ux.Consumer,null,(e=>(this.ionLifeCycleContext=e,H.createElement("div",Object.assign({className:t?`${t} ion-page`:"ion-page",ref:this.stableMergedRefs},a),i))))}static get contextType(){return jE}}class BE extends H.Component{constructor(e){super(e)}render(){const e=this.props,{className:t,children:i,forwardedRef:n}=e,r=xy(e,["className","children","forwardedRef"]);return this.context.hasIonicRouter()?H.createElement($E,Object.assign({className:t?`${t}`:"",routeInfo:this.context.routeInfo,forwardedRef:n},r),i):H.createElement("div",Object.assign({className:t?`ion-page ${t}`:"ion-page",ref:n},r),i)}static get displayName(){return"IonPage"}static get contextType(){return zx}}const qE=bE(BE,"IonPage"),UE=Jx("ion-nav",void 0,void 0,Iv);bE((e=>{var{children:t,forwardedRef:i}=e,n=xy(e,["children","forwardedRef"]);const[r,a]=V.useState([]),s=e=>a((t=>[...t,e])),o=e=>a((t=>t.filter((t=>t!==e)))),l=V.useMemo((()=>((e,t)=>{const i=new WeakMap;return{attachViewToDom:async(t,n,r,a)=>{const s=document.createElement("div");a&&s.classList.add(...a),t.appendChild(s);const o=n(r),l=lu.createPortal(o,s);return i.set(s,l),e(l),Promise.resolve(s)},removeViewFromDom:(e,n)=>{const r=i.get(n);return r&&t(r),n.remove(),Promise.resolve()}}})(s,o)),[]);return H.createElement(UE,Object.assign({delegate:l,ref:i},n),r)}),"IonNav"),H.createContext({activeTab:void 0,selectTab:()=>!1});const FE="undefined"!=typeof HTMLElement?HTMLElement:class{};class zE extends H.Component{constructor(e){super(e),this.outletIsReady=!1}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||af(this.ionRouterOutlet,(()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)})),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler.bind(this)),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler.bind(this)))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const e=this.props,{StackManager:t,children:i,routeInfo:n}=e,r=xy(e,["StackManager","children","routeInfo"]);return H.createElement(Ux.Consumer,null,(e=>(this.ionLifeCycleContext=e,H.createElement(t,{routeInfo:n},H.createElement(IE,Object.assign({setRef:e=>this.ionRouterOutlet=e},r),i)))))}static get contextType(){return jE}}class VE extends H.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),t=this.props,{children:i,forwardedRef:n}=t,r=xy(t,["children","forwardedRef"]);return this.context.hasIonicRouter()?r.ionPage?H.createElement(zE,Object.assign({StackManager:e,routeInfo:this.context.routeInfo},r),i):H.createElement(e,{routeInfo:this.context.routeInfo},H.createElement(IE,Object.assign({},r,{forwardedRef:n}),i)):H.createElement(IE,Object.assign({ref:n},this.props),this.props.children)}static get contextType(){return zx}}const HE=bE(VE,"IonRouterOutlet"),WE=(()=>class extends H.Component{constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const e=xy(this.props,["onClick"]);return H.createElement(OE,Object.assign({onIonTabButtonClick:this.handleIonTabButtonClick},e))}static get displayName(){return"IonTabButton"}})();class GE extends H.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=e=>{};const t={};H.Children.forEach(e.children,(i=>{var n,r,a,s;null!=i&&"object"==typeof i&&i.props&&(i.type===WE||i.type.isTabButton)&&(t[i.props.tab]={originalHref:i.props.href,currentHref:i.props.href,originalRouteOptions:i.props.href===(null===(n=e.routeInfo)||void 0===n?void 0:n.pathname)?null===(r=e.routeInfo)||void 0===r?void 0:r.routeOptions:void 0,currentRouteOptions:i.props.href===(null===(a=e.routeInfo)||void 0===a?void 0:a.pathname)?null===(s=e.routeInfo)||void 0===s?void 0:s.routeOptions:void 0})})),this.state={tabs:t},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,t=Object.keys(e).find((t=>{const i=e[t].originalHref;return this.props.routeInfo.pathname.startsWith(i)}));t&&this.setState({activeTab:t})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const t=this.state.tabs[e];return!!t&&(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:t.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0)}static getDerivedStateFromProps(e,t){var i,n,r;const a=Object.assign({},t.tabs),s=Object.keys(t.tabs).find((i=>{const n=t.tabs[i].originalHref;return e.routeInfo.pathname.startsWith(n)}));H.Children.forEach(e.children,(e=>{if(null!=e&&"object"==typeof e&&e.props&&(e.type===WE||e.type.isTabButton)){const t=a[e.props.tab];t&&t.originalHref===e.props.href||(a[e.props.tab]={originalHref:e.props.href,currentHref:e.props.href,originalRouteOptions:e.props.routeOptions,currentRouteOptions:e.props.routeOptions})}}));const{activeTab:o}=t;if(s&&o){const l=t.tabs[o].currentHref,c=t.tabs[o].currentRouteOptions;s===o&&l===(null===(i=e.routeInfo)||void 0===i?void 0:i.pathname)&&c===(null===(n=e.routeInfo)||void 0===n?void 0:n.routeOptions)||(a[s]={originalHref:a[s].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:a[s].originalRouteOptions,currentRouteOptions:null===(r=e.routeInfo)||void 0===r?void 0:r.routeOptions},"pop"===e.routeInfo.routeAction&&s!==o&&(a[o]={originalHref:a[o].originalHref,currentHref:a[o].originalHref,originalRouteOptions:a[o].originalRouteOptions,currentRouteOptions:a[o].currentRouteOptions}))}return s&&e.onSetCurrentTab(s,e.routeInfo),{activeTab:s,tabs:a}}onTabButtonClick(e,t){const i=this.state.tabs[e.detail.tab],n=i.originalHref,r=e.detail.href,{activeTab:a}=this.state;t&&t(e),a===e.detail.tab?n!==r&&this.context.resetTab(e.detail.tab,n,i.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,r,e.detail.routeOptions))}renderTabButton(e){return t=>{var i,n;if(null!=t&&t.props&&(t.type===WE||t.type.isTabButton)){const r=t.props.tab===e?null===(i=this.props.routeInfo)||void 0===i?void 0:i.pathname:this.state.tabs[t.props.tab].currentHref,a=t.props.tab===e?null===(n=this.props.routeInfo)||void 0===n?void 0:n.routeOptions:this.state.tabs[t.props.tab].currentRouteOptions;return H.cloneElement(t,{href:r,routeOptions:a,onClick:e=>this.onTabButtonClick(e,t.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return H.createElement(ME,Object.assign({},this.props,{selectedTab:e}),H.Children.map(this.props.children,this.renderTabButton(e)))}static get contextType(){return zx}}const KE=H.memo((e=>{var{forwardedRef:t}=e,i=xy(e,["forwardedRef"]);const n=V.useContext(zx);return H.createElement(GE,Object.assign({ref:t},i,{routeInfo:i.routeInfo||n.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:n.setCurrentTab}),i.children)})),QE=bE(KE,"IonTabBar");class YE extends FE{constructor(){super()}}if("undefined"!=typeof window&&window.customElements){window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",YE)}const XE=(()=>class extends H.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&null!==e.target.closest("ion-nav"))return;const{defaultHref:t,routerAnimation:i}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(t,i)):void 0!==t&&(window.location.href=t)}}render(){return H.createElement(PE,Object.assign({onClick:this.clickButton},this.props))}static get displayName(){return"IonBackButton"}static get contextType(){return zx}})();class JE extends H.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){var e,t;const i=this.props,{icon:n,ios:r,md:a,mode:s}=i,o=xy(i,["icon","ios","md","mode"]);let l;const c=vE(),d=s||(null==c?void 0:c.get("mode"));return l=r||a?"ios"===d?null!==(e=null!=r?r:a)&&void 0!==e?e:n:null!==(t=null!=a?a:r)&&void 0!==t?t:n:n,H.createElement(LE,Object.assign({ref:this.props.forwardedRef,icon:l},o),this.props.children)}static get contextType(){return zx}}const ZE=bE(JE,"IonIcon");class e_ extends H.PureComponent{render(){const e=this.context.getIonRoute();return this.context.hasIonicRouter()&&e_?H.createElement(e,Object.assign({},this.props)):(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null)}static get contextType(){return zx}}H.PureComponent;const t_=H.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});H.PureComponent;const i_={main:0},n_=(e="main")=>{var t;const i=(null!==(t=i_[e])&&void 0!==t?t:0)+1;return i_[e]=i,i.toString()},r_=H.createContext({addViewItem:()=>{},canGoBack:()=>{},clearOutlet:()=>{},createViewItem:()=>{},findViewItemByPathname:()=>{},findLeavingViewItemByRouteInfo:()=>{},findViewItemByRouteInfo:()=>{},getChildrenToRender:()=>{},goBack:()=>{},unMountViewItem:()=>{}});class a_ extends H.Component{constructor(e){super(e),this.ionLifeCycleContext=new Fx,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed((()=>{this.props.mount||this._isMounted&&this.setState({show:!1},(()=>this.props.removeView()))})),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return H.createElement(Ux.Provider,{value:this.ionLifeCycleContext},e&&this.props.children)}}class s_{constructor(){this.locationHistory=[],this.tabHistory={}}add(e){"push"===e.routeAction||null==e.routeAction?this._add(e):"pop"===e.routeAction?this._pop(e):"replace"===e.routeAction&&this._replace(e),"root"===e.routeDirection&&(this._clear(),this._add(e))}clearTabStack(e){const t=this._getRouteInfosByKey(e);t&&(t.forEach((e=>{this.locationHistory=this.locationHistory.filter((t=>t.id!==e.id))})),this.tabHistory[e]=[])}update(e){const t=this.locationHistory.findIndex((t=>t.id===e.id));t>-1&&this.locationHistory.splice(t,1,e);const i=this.tabHistory[e.tab||""];if(i){const t=i.findIndex((t=>t.id===e.id));t>-1?i.splice(t,1,e):i.push(e)}else e.tab&&(this.tabHistory[e.tab]=[e])}_add(e){const t=this._getRouteInfosByKey(e.tab);t&&(this._areRoutesEqual(t[t.length-1],e)&&t.pop(),t.push(e)),this.locationHistory.push(e)}_areRoutesEqual(e,t){return!(!e||!t)&&(e.pathname===t.pathname&&e.search===t.search)}_pop(e){const t=this._getRouteInfosByKey(e.tab);t&&(t.pop(),t.pop(),t.push(e)),this.locationHistory.pop(),this.locationHistory.pop(),this.locationHistory.push(e)}_replace(e){const t=this._getRouteInfosByKey(e.tab);t&&t.pop(),this.locationHistory.pop(),this._add(e)}_clear(){Object.keys(this.tabHistory).forEach((e=>this.tabHistory[e]=[])),this.locationHistory=[]}_getRouteInfosByKey(e){let t;return e&&(t=this.tabHistory[e],t||(t=this.tabHistory[e]=[])),t}getFirstRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[0]}getCurrentRouteInfoForTab(e){const t=this._getRouteInfosByKey(e);if(t)return t[t.length-1]}findLastLocation(e){const t=this._getRouteInfosByKey(e.tab);if(t)for(let i=t.length-2;i>=0;i--){const n=t[i];if(n&&n.pathname===e.pushedByRoute)return n}for(let i=this.locationHistory.length-2;i>=0;i--){const t=this.locationHistory[i];if(t&&t.pathname===e.pushedByRoute)return t}}previous(){return this.locationHistory[this.locationHistory.length-2]||this.locationHistory[this.locationHistory.length-1]}current(){return this.locationHistory[this.locationHistory.length-1]}canGoBack(){return this.locationHistory.length>1}}class o_ extends H.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(e,t,i,n,r)=>{this.navigate(e,t,i,r,n)},back:e=>{this.goBack(void 0,e)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){"undefined"!=typeof document&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){"undefined"!=typeof document&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,(e=>{this.nativeGoBack(),e()}))}goBack(e,t){this.props.onNavigateBack(e,t)}nativeGoBack(){this.props.onNativeBack()}navigate(e,t="forward",i="push",n,r,a){this.props.onNavigate(e,i,t,n,r,a)}getPageManager(){return $E}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return H.createElement(zx.Provider,{value:Object.assign(Object.assign({},this.state),{routeInfo:this.props.routeInfo})},H.createElement(t_.Provider,{value:Object.assign(Object.assign({},this.ionRouterContextValue),{routeInfo:this.props.routeInfo})},this.props.children))}}class l_{constructor(){this.viewStacks={},this.add=this.add.bind(this),this.clear=this.clear.bind(this),this.getViewItemsForOutlet=this.getViewItemsForOutlet.bind(this),this.remove=this.remove.bind(this)}add(e){const{outletId:t}=e;this.viewStacks[t]?this.viewStacks[t].push(e):this.viewStacks[t]=[e]}clear(e){return setTimeout((()=>{delete this.viewStacks[e]}),500)}getViewItemsForOutlet(e){return this.viewStacks[e]||[]}remove(e){const{outletId:t}=e,i=this.viewStacks[t];if(i){const n=i.find((t=>t.id===e.id));n&&(n.mount=!1,this.viewStacks[t]=i.filter((e=>e.id!==n.id)))}}getStackIds(){return Object.keys(this.viewStacks)}getAllViewItems(){const e=this.getStackIds(),t=[];return e.forEach((e=>{t.push(...this.viewStacks[e])})),t}}class c_ extends H.PureComponent{render(){return H.createElement(xp,Object.assign({path:this.props.path,exact:this.props.exact,render:this.props.render},void 0!==this.props.computedMatch?{computedMatch:this.props.computedMatch}:{}))}}class d_ extends l_{constructor(){super(),this.createViewItem=this.createViewItem.bind(this),this.findViewItemByRouteInfo=this.findViewItemByRouteInfo.bind(this),this.findLeavingViewItemByRouteInfo=this.findLeavingViewItemByRouteInfo.bind(this),this.getChildrenToRender=this.getChildrenToRender.bind(this),this.findViewItemByPathname=this.findViewItemByPathname.bind(this)}createViewItem(e,t,i,n){const r={id:n_("viewItem"),outletId:e,ionPageElement:n,reactElement:t,mount:!0,ionRoute:!1},a={exact:t.props.exact,path:t.props.path||t.props.from,component:t.props.component},s=Tp(i.pathname,a);return t.type===e_&&(r.ionRoute=!0,r.disableIonPageManagement=t.props.disableIonPageManagement),r.routeData={match:s,childProps:t.props},r}getChildrenToRender(e,t,i){const n=this.getViewItemsForOutlet(e);H.Children.forEach(t.props.children,(e=>{const t=n.find((t=>u_(e,t.routeData.childProps.path||t.routeData.childProps.from)));t&&(t.reactElement=e)}));const r=n.map((e=>{let t;if(e.ionRoute&&!e.disableIonPageManagement)t=H.createElement(a_,{key:`view-${e.id}`,mount:e.mount,removeView:()=>this.remove(e)},H.cloneElement(e.reactElement,{computedMatch:e.routeData.match}));else{const n=u_(e.reactElement,i.pathname);t=H.createElement(a_,{key:`view-${e.id}`,mount:e.mount,removeView:()=>this.remove(e)},H.cloneElement(e.reactElement,{computedMatch:e.routeData.match})),!n&&e.routeData.match&&(e.routeData.match=void 0,e.mount=!1)}return t}));return r}findViewItemByRouteInfo(e,t,i){const{viewItem:n,match:r}=this.findViewItemByPath(e.pathname,t);return(void 0===i||!0===i)&&n&&r&&(n.routeData.match=r),n}findLeavingViewItemByRouteInfo(e,t,i=!0){const{viewItem:n}=this.findViewItemByPath(e.lastPathname,t,!1,i);return n}findViewItemByPathname(e,t){const{viewItem:i}=this.findViewItemByPath(e,t);return i}findViewItemByPath(e,t,i,n){let r,a,s;if(t)s=this.getViewItemsForOutlet(t),s.some(o),r||s.some(l);else{const e=this.getAllViewItems();e.some(o),r||e.some(l)}return{viewItem:r,match:a};function o(t){if(n&&!t.ionRoute)return!1;const s={exact:!!i||t.routeData.childProps.exact,path:t.routeData.childProps.path||t.routeData.childProps.from,component:t.routeData.childProps.component},o=Tp(e,s);return!!o&&(r=t,a=o,!0)}function l(t){return!t.routeData.childProps.path&&!t.routeData.childProps.from&&(a={path:e,url:e,isExact:!0,params:{}},r=t,!0)}}}function u_(e,t,i){return Tp(t,{exact:!!i||e.props.exact,path:e.props.path||e.props.from,component:e.props.component})}const h_=e=>!e.classList.contains("ion-page-invisible")&&!e.classList.contains("ion-page-hidden");class p_ extends H.PureComponent{constructor(e){super(e),this.stackContextValue={registerIonPage:this.registerIonPage.bind(this),isInOutlet:()=>!0},this.pendingPageTransition=!1,this.registerIonPage=this.registerIonPage.bind(this),this.transitionPage=this.transitionPage.bind(this),this.handlePageTransition=this.handlePageTransition.bind(this),this.id=n_("routerOutlet"),this.prevProps=void 0,this.skipTransition=!1}componentDidMount(){this.clearOutletTimeout&&clearTimeout(this.clearOutletTimeout),this.routerOutletElement&&(this.setupRouterOutlet(this.routerOutletElement),this.handlePageTransition(this.props.routeInfo))}componentDidUpdate(e){const{pathname:t}=this.props.routeInfo,{pathname:i}=e.routeInfo;t!==i?(this.prevProps=e,this.handlePageTransition(this.props.routeInfo)):this.pendingPageTransition&&(this.handlePageTransition(this.props.routeInfo),this.pendingPageTransition=!1)}componentWillUnmount(){this.clearOutletTimeout=this.context.clearOutlet(this.id)}async handlePageTransition(e){var t,i;if(this.routerOutletElement&&this.routerOutletElement.commit){let n=this.context.findViewItemByRouteInfo(e,this.id),r=this.context.findLeavingViewItemByRouteInfo(e,this.id);!r&&e.prevRouteLastPathname&&(r=this.context.findViewItemByPathname(e.prevRouteLastPathname,this.id)),r&&("replace"===e.routeAction?r.mount=!1:"push"!==e.routeAction||"forward"!==e.routeDirection?"none"!==e.routeDirection&&n!==r&&(r.mount=!1):(null===(t=e.routeOptions)||void 0===t?void 0:t.unmount)&&(r.mount=!1));const a=function(e,t){let i;if(H.Children.forEach(e,(e=>{const n={exact:e.props.exact,path:e.props.path||e.props.from,component:e.props.component};Tp(t.pathname,n)&&(i=e)})),i)return i;return H.Children.forEach(e,(e=>{e.props.path||e.props.from||(i=e)})),i}(null===(i=this.ionRouterOutlet)||void 0===i?void 0:i.props.children,e);if(n?n.reactElement=a:a&&(n=this.context.createViewItem(this.id,a,e),this.context.addViewItem(n)),n&&n.ionPageElement){if(n===r&&n.routeData.match.url!==e.pathname)return;if(!r&&this.props.routeInfo.prevRouteLastPathname&&(r=this.context.findViewItemByPathname(this.props.routeInfo.prevRouteLastPathname,this.id)),h_(n.ionPageElement)&&void 0!==r&&!h_(r.ionPageElement))return;this.transitionPage(e,n,r)}else!r||a||n||r.ionPageElement&&(r.ionPageElement.classList.add("ion-page-hidden"),r.ionPageElement.setAttribute("aria-hidden","true"));this.forceUpdate()}else this.pendingPageTransition=!0}registerIonPage(e,t){const i=this.context.findViewItemByRouteInfo(t,this.id);if(i){const t=i.ionPageElement;if(i.ionPageElement=e,i.ionRoute=!0,t===e)return}this.handlePageTransition(t)}async setupRouterOutlet(e){e.swipeHandler={canStart:()=>{const t=vE();if(!(t&&t.get("swipeBackEnabled","ios"===e.mode)))return!1;const{routeInfo:i}=this.props,n=this.prevProps&&this.prevProps.routeInfo.pathname===i.pushedByRoute?this.prevProps.routeInfo:{pathname:i.pushedByRoute||""},r=this.context.findViewItemByRouteInfo(n,this.id,!1);return!!r&&r.mount&&r.routeData.match.path!==i.pathname},onStart:async()=>{const{routeInfo:e}=this.props,t=this.prevProps&&this.prevProps.routeInfo.pathname===e.pushedByRoute?this.prevProps.routeInfo:{pathname:e.pushedByRoute||""},i=this.context.findViewItemByRouteInfo(t,this.id,!1),n=this.context.findViewItemByRouteInfo(e,this.id,!1);return i&&n&&await this.transitionPage(e,i,n,"back",!0),Promise.resolve()},onEnd:e=>{if(e)this.skipTransition=!0,this.context.goBack();else{const{routeInfo:e}=this.props,t=this.prevProps&&this.prevProps.routeInfo.pathname===e.pushedByRoute?this.prevProps.routeInfo:{pathname:e.pushedByRoute||""},i=this.context.findViewItemByRouteInfo(t,this.id,!1);if(i!==this.context.findViewItemByRouteInfo(e,this.id,!1)&&void 0!==(null==i?void 0:i.ionPageElement)){const{ionPageElement:e}=i;e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")}}}}}async transitionPage(e,t,i,n,r=!1){const a=async(t,i)=>{const n=this.skipTransition;n?this.skipTransition=!1:(t.classList.add("ion-page"),t.classList.add("ion-page-invisible")),await s.commit(t,i,{duration:n||void 0===l?0:void 0,direction:l,showGoBack:!!e.pushedByRoute,progressAnimation:r,animationBuilder:e.routeAnimation})},s=this.routerOutletElement,o="none"===e.routeDirection||"root"===e.routeDirection?void 0:e.routeDirection,l=null!=n?n:o;if(t&&t.ionPageElement&&this.routerOutletElement)if(i&&i.ionPageElement&&t===i){if(function(e,t,i){const n={exact:!!i||e.props.exact,path:e.props.path||e.props.from,component:e.props.component},r=Tp(t,n);return r}(i.reactElement,e.pathname,!0)){const e=function(e){let t;if(t="string"==typeof e?e:e.outerHTML,document){const e=document.createElement("div");e.innerHTML=t,e.style.zIndex="";const i=e.getElementsByTagName("ion-back-button");return i[0]&&i[0].remove(),e.firstChild}}(i.ionPageElement.outerHTML);e&&(this.routerOutletElement.appendChild(e),await a(t.ionPageElement,e),this.routerOutletElement.removeChild(e))}else await a(t.ionPageElement,void 0)}else await a(t.ionPageElement,null==i?void 0:i.ionPageElement),i&&i.ionPageElement&&!r&&(i.ionPageElement.classList.add("ion-page-hidden"),i.ionPageElement.setAttribute("aria-hidden","true"))}render(){const{children:e}=this.props,t=H.Children.only(e);this.ionRouterOutlet=t;const i=this.context.getChildrenToRender(this.id,this.ionRouterOutlet,this.props.routeInfo,(()=>{this.forceUpdate()}));return H.createElement(jE.Provider,{value:this.stackContextValue},H.cloneElement(t,{ref:e=>{t.props.setRef&&t.props.setRef(e),t.props.forwardedRef&&(t.props.forwardedRef.current=e),this.routerOutletElement=e;const{ref:i}=t;"function"==typeof i&&i(e)}},i))}static get contextType(){return r_}}class m_ extends H.PureComponent{constructor(e){super(e),this.exitViewFromOtherOutletHandlers=[],this.locationHistory=new s_,this.viewStack=new d_,this.routeMangerContextState={canGoBack:()=>this.locationHistory.canGoBack(),clearOutlet:this.viewStack.clear,findViewItemByPathname:this.viewStack.findViewItemByPathname,getChildrenToRender:this.viewStack.getChildrenToRender,goBack:()=>this.handleNavigateBack(),createViewItem:this.viewStack.createViewItem,findViewItemByRouteInfo:this.viewStack.findViewItemByRouteInfo,findLeavingViewItemByRouteInfo:this.viewStack.findLeavingViewItemByRouteInfo,addViewItem:this.viewStack.add,unMountViewItem:this.viewStack.remove};const t={id:n_("routeInfo"),pathname:this.props.location.pathname,search:this.props.location.search};this.locationHistory.add(t),this.handleChangeTab=this.handleChangeTab.bind(this),this.handleResetTab=this.handleResetTab.bind(this),this.handleNativeBack=this.handleNativeBack.bind(this),this.handleNavigate=this.handleNavigate.bind(this),this.handleNavigateBack=this.handleNavigateBack.bind(this),this.props.registerHistoryListener(this.handleHistoryChange.bind(this)),this.handleSetCurrentTab=this.handleSetCurrentTab.bind(this),this.state={routeInfo:t}}handleChangeTab(e,t,i){if(!t)return;const n=this.locationHistory.getCurrentRouteInfoForTab(e),[r,a]=t.split("?");n?(this.incomingRouteParams=Object.assign(Object.assign({},n),{routeAction:"push",routeDirection:"none"}),n.pathname===r?(this.incomingRouteParams.routeOptions=i,this.props.history.push(n.pathname+(n.search||""))):(this.incomingRouteParams.pathname=r,this.incomingRouteParams.search=a?"?"+a:void 0,this.incomingRouteParams.routeOptions=i,this.props.history.push(r+(a?"?"+a:"")))):this.handleNavigate(r,"push","none",void 0,i,e)}handleHistoryChange(e,t){var i,n,r;let a;a=this.incomingRouteParams&&"replace"===this.incomingRouteParams.routeAction?this.locationHistory.previous():this.locationHistory.current();if(a.pathname+a.search!==e.pathname){if(!this.incomingRouteParams){if("REPLACE"===t&&(this.incomingRouteParams={routeAction:"replace",routeDirection:"none",tab:this.currentTab}),"POP"===t){const e=this.locationHistory.current();if(e&&e.pushedByRoute){const t=this.locationHistory.findLastLocation(e);this.incomingRouteParams=Object.assign(Object.assign({},t),{routeAction:"pop",routeDirection:"back"})}else this.incomingRouteParams={routeAction:"pop",routeDirection:"none",tab:this.currentTab}}this.incomingRouteParams||(this.incomingRouteParams={routeAction:"push",routeDirection:(null===(i=e.state)||void 0===i?void 0:i.direction)||"forward",routeOptions:null===(n=e.state)||void 0===n?void 0:n.routerOptions,tab:this.currentTab})}let s;if(null===(r=this.incomingRouteParams)||void 0===r?void 0:r.id)s=Object.assign(Object.assign({},this.incomingRouteParams),{lastPathname:a.pathname}),this.locationHistory.add(s);else{const t="push"===this.incomingRouteParams.routeAction&&"forward"===this.incomingRouteParams.routeDirection;if(s=Object.assign(Object.assign({id:n_("routeInfo")},this.incomingRouteParams),{lastPathname:a.pathname,pathname:e.pathname,search:e.search,params:this.props.match.params,prevRouteLastPathname:a.lastPathname}),t)s.tab=a.tab,s.pushedByRoute=a.pathname;else if("pop"===s.routeAction){const e=this.locationHistory.findLastLocation(s);s.pushedByRoute=null==e?void 0:e.pushedByRoute}else if("push"===s.routeAction&&s.tab!==a.tab){const e=this.locationHistory.getCurrentRouteInfoForTab(s.tab);s.pushedByRoute=null==e?void 0:e.pushedByRoute}else if("replace"===s.routeAction){const e=this.locationHistory.current(),t=null==e?void 0:e.pushedByRoute,i=void 0!==t&&t!==s.pathname?t:s.pushedByRoute;s.lastPathname=(null==e?void 0:e.pathname)||s.lastPathname,s.prevRouteLastPathname=null==e?void 0:e.lastPathname,s.pushedByRoute=i,s.routeDirection=(null==e?void 0:e.routeDirection)||s.routeDirection,s.routeAnimation=(null==e?void 0:e.routeAnimation)||s.routeAnimation}this.locationHistory.add(s)}this.setState({routeInfo:s})}this.incomingRouteParams=void 0}handleNativeBack(){const e=this.props.history;(e.goBack||e.back)()}handleNavigate(e,t,i,n,r,a){this.incomingRouteParams=Object.assign(this.incomingRouteParams||{},{routeAction:t,routeDirection:i,routeOptions:r,routeAnimation:n,tab:a}),"push"===t?this.props.history.push(e):this.props.history.replace(e)}handleNavigateBack(e="/",t){const i=vE();e=e||i&&i.get("backButtonDefaultHref");const n=this.locationHistory.current();if(n&&n.pushedByRoute){const i=this.locationHistory.findLastLocation(n);if(i)if(this.incomingRouteParams=Object.assign(Object.assign({},i),{routeAction:"pop",routeDirection:"back",routeAnimation:t||n.routeAnimation}),n.lastPathname===n.pushedByRoute||i.pathname===n.pushedByRoute&&""===n.tab&&""===i.tab){const e=this.props.history;(e.goBack||e.back)()}else this.handleNavigate(i.pathname+(i.search||""),"pop","back",t);else this.handleNavigate(e,"pop","back",t)}else this.handleNavigate(e,"pop","back",t)}handleResetTab(e,t,i){const n=this.locationHistory.getFirstRouteInfoForTab(e);if(n){const e=Object.assign({},n);e.pathname=t,e.routeOptions=i,this.incomingRouteParams=Object.assign(Object.assign({},e),{routeAction:"pop",routeDirection:"back"}),this.props.history.push(e.pathname+(e.search||""))}}handleSetCurrentTab(e){this.currentTab=e;const t=Object.assign({},this.locationHistory.current());t.tab!==e&&(t.tab=e,this.locationHistory.update(t))}render(){return H.createElement(r_.Provider,{value:this.routeMangerContextState},H.createElement(o_,{ionRoute:c_,ionRedirect:{},stackManager:p_,routeInfo:this.state.routeInfo,onNativeBack:this.handleNativeBack,onNavigateBack:this.handleNavigateBack,onNavigate:this.handleNavigate,onSetCurrentTab:this.handleSetCurrentTab,onChangeTab:this.handleChangeTab,onResetTab:this.handleResetTab,locationHistory:this.locationHistory},this.props.children))}}const f_=function(e){var t="withRouter("+(e.displayName||e.name)+")",i=function(t){var i=t.wrappedComponentRef,n=Th(t,["wrappedComponentRef"]);return H.createElement(dp.Consumer,null,(function(t){return t||Cu(!1),H.createElement(e,bu({},n,t,{ref:i}))}))};return i.displayName=t,i.WrappedComponent=e,rp(i,e)}(m_);f_.displayName="IonRouter";class g_ extends H.Component{constructor(e){super(e);const{history:t}=e,i=xy(e,["history"]);this.history=t||Bu(i),this.history.listen(this.handleHistoryChange.bind(this)),this.registerHistoryListener=this.registerHistoryListener.bind(this)}handleHistoryChange(e,t){const i=e.location||e,n=e.action||t;this.historyListenHandler&&this.historyListenHandler(i,n)}registerHistoryListener(e){this.historyListenHandler=e}render(){const e=this.props,{children:t}=e,i=xy(e,["children"]);return H.createElement(up,Object.assign({history:this.history},i),H.createElement(f_,{registerHistoryListener:this.registerHistoryListener},t))}}H.Component;H.Component;const y_="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='272' r='16'/><path d='M280 81.5V72a24 24 0 00-48 0v9.5a191 191 0 00-84.43 32.13L137 103a24 24 0 00-34 34l8.6 8.6A191.17 191.17 0 0064 272c0 105.87 86.13 192 192 192s192-86.13 192-192c0-97.74-73.42-178.66-168-190.5zM256 320a48 48 0 01-16-93.25V152a16 16 0 0132 0v74.75A48 48 0 01256 320z'/></svg>",b_=e=>{let t;const i=new Set,n=(e,n)=>{const r="function"==typeof e?e(t):e;if(!Object.is(r,t)){const e=t;t=(null!=n?n:"object"!=typeof r)?r:Object.assign({},t,r),i.forEach((i=>i(t,e)))}},r=()=>t,a={setState:n,getState:r,subscribe:e=>(i.add(e),()=>i.delete(e)),destroy:()=>{i.clear()}};return t=e(n,r,a),a};var v_={exports:{}},w_={},T_={exports:{}},x_={},E_=V;var __="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},S_=E_.useState,C_=E_.useEffect,k_=E_.useLayoutEffect,A_=E_.useDebugValue;function N_(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!__(e,i)}catch(Ah){return!0}}var O_="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var i=t(),n=S_({inst:{value:i,getSnapshot:t}}),r=n[0].inst,a=n[1];return k_((function(){r.value=i,r.getSnapshot=t,N_(r)&&a({inst:r})}),[e,i,t]),C_((function(){return N_(r)&&a({inst:r}),e((function(){N_(r)&&a({inst:r})}))}),[e]),A_(i),i};x_.useSyncExternalStore=void 0!==E_.useSyncExternalStore?E_.useSyncExternalStore:O_,T_.exports=x_;var M_=T_.exports,P_=V,I_=M_;
/**
             * @license React
             * use-sync-external-store-shim/with-selector.production.min.js
             *
             * Copyright (c) Facebook, Inc. and its affiliates.
             *
             * This source code is licensed under the MIT license found in the
             * LICENSE file in the root directory of this source tree.
             */var R_="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},L_=I_.useSyncExternalStore,D_=P_.useRef,j_=P_.useEffect,$_=P_.useMemo,B_=P_.useDebugValue;w_.useSyncExternalStoreWithSelector=function(e,t,i,n,r){var a=D_(null);if(null===a.current){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=$_((function(){function e(e){if(!l){if(l=!0,a=e,e=n(e),void 0!==r&&s.hasValue){var t=s.value;if(r(t,e))return o=t}return o=e}if(t=o,R_(a,e))return t;var i=n(e);return void 0!==r&&r(t,i)?t:(a=e,o=i)}var a,o,l=!1,c=void 0===i?null:i;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,i,n,r]);var o=L_(e,a[0],a[1]);return j_((function(){s.hasValue=!0,s.value=o}),[o]),B_(o),o},v_.exports=w_;const q_=a(v_.exports),{useSyncExternalStoreWithSelector:U_}=q_;const F_=e=>{const t="function"==typeof e?(e=>e?b_(e):b_)(e):e,i=(e,i)=>function(e,t=e.getState,i){const n=U_(e.subscribe,e.getState,e.getServerState||e.getState,t,i);return V.useDebugValue(n),n}(t,e,i);return Object.assign(i,t),i},z_=new Map,V_=e=>{const t=z_.get(e);return t?Object.fromEntries(Object.entries(t.stores).map((([e,t])=>[e,t.getState()]))):{}},H_=(e,t={})=>(i,n,r)=>{const{enabled:a,anonymousActionType:s,store:o,...l}=t;let c;try{c=null!=a&&a&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(E_){}if(!c)return e(i,n,r);const{connection:d,...u}=((e,t,i)=>{if(void 0===e)return{type:"untracked",connection:t.connect(i)};const n=z_.get(i.name);if(n)return{type:"tracked",store:e,...n};const r={connection:t.connect(i),stores:{}};return z_.set(i.name,r),{type:"tracked",store:e,...r}})(o,c,l);let h=!0;r.setState=(e,t,a)=>{const c=i(e,t);if(!h)return c;const u=void 0===a?{type:s||"anonymous"}:"string"==typeof a?{type:a}:a;return void 0===o?(null==d||d.send(u,n()),c):(null==d||d.send({...u,type:`${o}/${u.type}`},{...V_(l.name),[o]:r.getState()}),c)};const p=(...e)=>{const t=h;h=!1,i(...e),h=t},m=e(r.setState,n,r);if("untracked"===u.type?null==d||d.init(m):(u.stores[u.store]=r,null==d||d.init(Object.fromEntries(Object.entries(u.stores).map((([e,t])=>[e,e===u.store?m:t.getState()]))))),r.dispatchFromDevtools&&"function"==typeof r.dispatch){const e=r.dispatch;r.dispatch=(...t)=>{e(...t)}}return d.subscribe((e=>{var t;switch(e.type){case"ACTION":return"string"!=typeof e.payload?void console.error("[zustand devtools middleware] Unsupported action format"):W_(e.payload,(e=>{if("__setState"!==e.type)r.dispatchFromDevtools&&"function"==typeof r.dispatch&&r.dispatch(e);else{if(void 0===o)return void p(e.state);1!==Object.keys(e.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const t=e.state[o];if(null==t)return;JSON.stringify(r.getState())!==JSON.stringify(t)&&p(t)}}));case"DISPATCH":switch(e.payload.type){case"RESET":return p(m),void 0===o?null==d?void 0:d.init(r.getState()):null==d?void 0:d.init(V_(l.name));case"COMMIT":return void 0===o?void(null==d||d.init(r.getState())):null==d?void 0:d.init(V_(l.name));case"ROLLBACK":return W_(e.state,(e=>{if(void 0===o)return p(e),void(null==d||d.init(r.getState()));p(e[o]),null==d||d.init(V_(l.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return W_(e.state,(e=>{void 0!==o?JSON.stringify(r.getState())!==JSON.stringify(e[o])&&p(e[o]):p(e)}));case"IMPORT_STATE":{const{nextLiftedState:i}=e.payload,n=null==(t=i.computedStates.slice(-1)[0])?void 0:t.state;if(!n)return;return p(void 0===o?n:n[o]),void(null==d||d.send(null,i))}case"PAUSE_RECORDING":return h=!h}return}})),m},W_=(e,t)=>{let i;try{i=JSON.parse(e)}catch(E_){console.error("[zustand devtools middleware] Could not parse the received json",E_)}void 0!==i&&t(i)};function G_(e,t){let i;try{i=e()}catch(E_){return}const n={getItem:e=>{var n;const r=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),a=null!=(n=i.getItem(e))?n:null;return a instanceof Promise?a.then(r):r(a)},setItem:(e,n)=>i.setItem(e,JSON.stringify(n,null==t?void 0:t.replacer)),removeItem:e=>i.removeItem(e)};return n}const K_=e=>t=>{try{const i=e(t);return i instanceof Promise?i:{then:e=>K_(e)(i),catch(e){return this}}}catch(E_){return{then(e){return this},catch:t=>K_(t)(E_)}}},Q_=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((e,t)=>(i,n,r)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const o=new Set,l=new Set;let c;try{c=a.getStorage()}catch(E_){}if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),i(...e)}),n,r);const d=K_(a.serialize),u=()=>{const e=a.partialize({...n()});let t;const i=d({state:e,version:a.version}).then((e=>c.setItem(a.name,e))).catch((e=>{t=e}));if(t)throw t;return i},h=r.setState;r.setState=(e,t)=>{h(e,t),u()};const p=e(((...e)=>{i(...e),u()}),n,r);let m;const f=()=>{var e;if(!c)return;s=!1,o.forEach((e=>e(n())));const t=(null==(e=a.onRehydrateStorage)?void 0:e.call(a,n()))||void 0;return K_(c.getItem.bind(c))(a.name).then((e=>{if(e)return a.deserialize(e)})).then((e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return m=a.merge(e,null!=(t=n())?t:p),i(m,!0),u()})).then((()=>{null==t||t(m,void 0),s=!0,l.forEach((e=>e(m)))})).catch((e=>{null==t||t(void 0,e)}))};return r.persist={setOptions:e=>{a={...a,...e},e.getStorage&&(c=e.getStorage())},clearStorage:()=>{null==c||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>f(),hasHydrated:()=>s,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},f(),m||p})(e,t):((e,t)=>(i,n,r)=>{let a={storage:G_((()=>localStorage)),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},s=!1;const o=new Set,l=new Set;let c=a.storage;if(!c)return e(((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),i(...e)}),n,r);const d=()=>{const e=a.partialize({...n()});return c.setItem(a.name,{state:e,version:a.version})},u=r.setState;r.setState=(e,t)=>{u(e,t),d()};const h=e(((...e)=>{i(...e),d()}),n,r);let p;const m=()=>{var e,t;if(!c)return;s=!1,o.forEach((e=>{var t;return e(null!=(t=n())?t:h)}));const r=(null==(t=a.onRehydrateStorage)?void 0:t.call(a,null!=(e=n())?e:h))||void 0;return K_(c.getItem.bind(c))(a.name).then((e=>{if(e){if("number"!=typeof e.version||e.version===a.version)return e.state;if(a.migrate)return a.migrate(e.state,e.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((e=>{var t;return p=a.merge(e,null!=(t=n())?t:h),i(p,!0),d()})).then((()=>{null==r||r(p,void 0),p=n(),s=!0,l.forEach((e=>e(p)))})).catch((e=>{null==r||r(void 0,e)}))};return r.persist={setOptions:e=>{a={...a,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>m(),hasHydrated:()=>s,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},a.skipHydration||m(),p||h})(e,t),Y_=e=>({timerInterval:25,setTimerInterval:t=>e((()=>({timerInterval:t})),!1,"setTimerInterval"),timerStatus:"idle",setTimerStatus:t=>e((()=>({timerStatus:t})),!1,"setTimerStatus"),timerKey:Date.now(),setTimerKey:()=>e((()=>({timerKey:Date.now()})),!1,"setTimerKey"),timerDuration:0,setTimerDuration:t=>e((()=>({timerDuration:Date.now()+t})),!1,"setTimerDuration"),timerPausedTime:0,setTimerPausedTime:()=>e((e=>({timerPausedTime:e.timerDuration-Date.now()})),!1,"setTimerPausedTime"),unsetTimer:()=>e((()=>({timerKey:Date.now(),timerStatus:"idle",timerDuration:0,timerPausedTime:0})),!1,"unsetTimer")})/*! Capacitor: https://capacitorjs.com/ - MIT License */,X_=e=>e.CapacitorPlatforms=(e=>{const t=new Map;t.set("web",{name:"web"});const i=e.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:t};return i.addPlatform=(e,t)=>{i.platforms.set(e,t)},i.setPlatform=e=>{i.platforms.has(e)&&(i.currentPlatform=i.platforms.get(e))},i})(e),J_=X_("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});var Z_;J_.addPlatform,J_.setPlatform,function(e){e.Unimplemented="UNIMPLEMENTED",e.Unavailable="UNAVAILABLE"}(Z_||(Z_={}));class eS extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const tS=e=>{var t,i,n,r,a;const s=e.CapacitorCustomPlatform||null,o=e.Capacitor||{},l=o.Plugins=o.Plugins||{},c=e.CapacitorPlatforms,d=(null===(t=null==c?void 0:c.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==s?s.name:(e=>{var t,i;return(null==e?void 0:e.androidBridge)?"android":(null===(i=null===(t=null==e?void 0:e.webkit)||void 0===t?void 0:t.messageHandlers)||void 0===i?void 0:i.bridge)?"ios":"web"})(e)),u=(null===(i=null==c?void 0:c.currentPlatform)||void 0===i?void 0:i.isNativePlatform)||(()=>"web"!==d()),h=(null===(n=null==c?void 0:c.currentPlatform)||void 0===n?void 0:n.isPluginAvailable)||(e=>{const t=m.get(e);return!!(null==t?void 0:t.platforms.has(d()))||!!p(e)}),p=(null===(r=null==c?void 0:c.currentPlatform)||void 0===r?void 0:r.getPluginHeader)||(e=>{var t;return null===(t=o.PluginHeaders)||void 0===t?void 0:t.find((t=>t.name===e))}),m=new Map,f=(null===(a=null==c?void 0:c.currentPlatform)||void 0===a?void 0:a.registerPlugin)||((e,t={})=>{const i=m.get(e);if(i)return console.warn(`Capacitor plugin "${e}" already registered. Cannot register plugins twice.`),i.proxy;const n=d(),r=p(e);let a;const c=i=>{let l;const c=(...c)=>{const d=(async()=>(!a&&n in t?a=a="function"==typeof t[n]?await t[n]():t[n]:null!==s&&!a&&"web"in t&&(a=a="function"==typeof t.web?await t.web():t.web),a))().then((t=>{const a=((t,i)=>{var a,s;if(!r){if(t)return null===(s=t[i])||void 0===s?void 0:s.bind(t);throw new eS(`"${e}" plugin is not implemented on ${n}`,Z_.Unimplemented)}{const n=null==r?void 0:r.methods.find((e=>i===e.name));if(n)return"promise"===n.rtype?t=>o.nativePromise(e,i.toString(),t):(t,n)=>o.nativeCallback(e,i.toString(),t,n);if(t)return null===(a=t[i])||void 0===a?void 0:a.bind(t)}})(t,i);if(a){const e=a(...c);return l=null==e?void 0:e.remove,e}throw new eS(`"${e}.${i}()" is not implemented on ${n}`,Z_.Unimplemented)}));return"addListener"===i&&(d.remove=async()=>l()),d};return c.toString=()=>`${i.toString()}() { [capacitor code] }`,Object.defineProperty(c,"name",{value:i,writable:!1,configurable:!1}),c},u=c("addListener"),h=c("removeListener"),f=(e,t)=>{const i=u({eventName:e},t),n=async()=>{const n=await i;h({eventName:e,callbackId:n},t)},r=new Promise((e=>i.then((()=>e({remove:n})))));return r.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await n()},r},g=new Proxy({},{get(e,t){switch(t){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return r?f:u;case"removeListener":return h;default:return c(t)}}});return l[e]=g,m.set(e,{name:e,proxy:g,platforms:new Set([...Object.keys(t),...r?[n]:[]])}),g});return o.convertFileSrc||(o.convertFileSrc=e=>e),o.getPlatform=d,o.handleError=t=>e.console.error(t),o.isNativePlatform=u,o.isPluginAvailable=h,o.pluginMethodNoop=(e,t,i)=>Promise.reject(`${i} does not have an implementation of "${t}".`),o.registerPlugin=f,o.Exception=eS,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},iS=e=>e.Capacitor=tS(e),nS=iS("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),rS=nS.registerPlugin;nS.Plugins;class aS{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i);const n=async()=>this.removeListener(e,t),r=Promise.resolve({remove:n});return Object.defineProperty(r,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await n()}}),r}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t){const i=this.listeners[e];i&&i.forEach((e=>e(t)))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:e=>{this.notifyListeners(t,e)}}}unimplemented(e="not implemented"){return new nS.Exception(e,Z_.Unimplemented)}unavailable(e="not available"){return new nS.Exception(e,Z_.Unavailable)}async removeListener(e,t){const i=this.listeners[e];if(!i)return;const n=i.indexOf(t);this.listeners[e].splice(n,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}t("W",aS);const sS=e=>encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),oS=e=>e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class lS extends aS{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach((e=>{if(e.length<=0)return;let[i,n]=e.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=oS(i).trim(),n=oS(n).trim(),t[i]=n})),t}async setCookie(e){try{const t=sS(e.key),i=sS(e.value),n=`; expires=${(e.expires||"").replace("expires=","")}`,r=(e.path||"/").replace("path=",""),a=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${i||""}${n}; path=${r}; ${a};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}rS("CapacitorCookies",{web:()=>new lS});const cS=t("u",((e,t={})=>{const i=Object.assign({method:e.method||"GET",headers:e.headers},t),n=((e={})=>{const t=Object.keys(e),i=Object.keys(e).map((e=>e.toLocaleLowerCase()));return i.reduce(((i,n,r)=>(i[n]=e[t[r]],i)),{})})(e.headers),r=n["content-type"]||"";if("string"==typeof e.data)i.body=e.data;else if(r.includes("application/x-www-form-urlencoded")){const t=new URLSearchParams;for(const[i,n]of Object.entries(e.data||{}))t.set(i,n);i.body=t.toString()}else if(r.includes("multipart/form-data")){const t=new FormData;if(e.data instanceof FormData)e.data.forEach(((e,i)=>{t.append(i,e)}));else for(const i of Object.keys(e.data))t.append(i,e.data[i]);i.body=t;const n=new Headers(i.headers);n.delete("content-type"),i.headers=n}else(r.includes("application/json")||"object"==typeof e.data)&&(i.body=JSON.stringify(e.data));return i}));class dS extends aS{async request(e){const t=cS(e,e.webFetchExtra),i=((e,t=!0)=>e?Object.entries(e).reduce(((e,i)=>{const[n,r]=i;let a,s;return Array.isArray(r)?(s="",r.forEach((e=>{a=t?encodeURIComponent(e):e,s+=`${n}=${a}&`})),s.slice(0,-1)):(a=t?encodeURIComponent(r):r,s=`${n}=${a}`),`${e}&${s}`}),"").substr(1):null)(e.params,e.shouldEncodeUrlParams),n=i?`${e.url}?${i}`:e.url,r=await fetch(n,t),a=r.headers.get("content-type")||"";let s,o,{responseType:l="text"}=r.ok?e:{};switch(a.includes("application/json")&&(l="json"),l){case"arraybuffer":case"blob":o=await r.blob(),s=await(async e=>new Promise(((t,i)=>{const n=new FileReader;n.onload=()=>{const e=n.result;t(e.indexOf(",")>=0?e.split(",")[1]:e)},n.onerror=e=>i(e),n.readAsDataURL(e)})))(o);break;case"json":s=await r.json();break;default:s=await r.text()}const c={};return r.headers.forEach(((e,t)=>{c[t]=e})),{data:s,headers:c,status:r.status,url:r.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}rS("CapacitorHttp",{web:()=>new dS});class uS{constructor(e){this.sqlite=e,this._connectionDict=new Map}async initWebStore(){try{return await this.sqlite.initWebStore(),Promise.resolve()}catch(e){return Promise.reject(e)}}async saveToStore(e){try{return await this.sqlite.saveToStore({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async saveToLocalDisk(e){try{return await this.sqlite.saveToLocalDisk({database:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async getFromLocalDiskToStore(e){const t=null==e||e;try{return await this.sqlite.getFromLocalDiskToStore({overwrite:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async echo(e){try{const t=await this.sqlite.echo({value:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isSecretStored(){try{const e=await this.sqlite.isSecretStored();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async setEncryptionSecret(e){try{return await this.sqlite.setEncryptionSecret({passphrase:e}),Promise.resolve()}catch(t){return Promise.reject(t)}}async changeEncryptionSecret(e,t){try{return await this.sqlite.changeEncryptionSecret({passphrase:e,oldpassphrase:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async clearEncryptionSecret(){try{return await this.sqlite.clearEncryptionSecret(),Promise.resolve()}catch(e){return Promise.reject(e)}}async checkEncryptionSecret(e){try{const t=await this.sqlite.checkEncryptionSecret({passphrase:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async addUpgradeStatement(e,t,i){const n={toVersion:t,statements:i};try{return e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.addUpgradeStatement({database:e,upgrade:[n]}),Promise.resolve()}catch(r){return Promise.reject(r)}}async createConnection(e,t,i,n,r){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.createConnection({database:e,encrypted:t,mode:i,version:n,readonly:r});const a=new hS(e,r,this.sqlite),s=r?`RO_${e}`:`RW_${e}`;return this._connectionDict.set(s,a),Promise.resolve(a)}catch(a){return Promise.reject(a)}}async closeConnection(e,t){try{e.endsWith(".db")&&(e=e.slice(0,-3)),await this.sqlite.closeConnection({database:e,readonly:t});const i=t?`RO_${e}`:`RW_${e}`;return this._connectionDict.delete(i),Promise.resolve()}catch(i){return Promise.reject(i)}}async isConnection(e,t){const i={};e.endsWith(".db")&&(e=e.slice(0,-3));const n=t?`RO_${e}`:`RW_${e}`;return i.result=this._connectionDict.has(n),Promise.resolve(i)}async retrieveConnection(e,t){e.endsWith(".db")&&(e=e.slice(0,-3));const i=t?`RO_${e}`:`RW_${e}`;if(this._connectionDict.has(i)){const t=this._connectionDict.get(i);return void 0!==t?Promise.resolve(t):Promise.reject(`Connection ${e} is undefined`)}return Promise.reject(`Connection ${e} does not exist`)}async getNCDatabasePath(e,t){try{const i=await this.sqlite.getNCDatabasePath({path:e,database:t});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async createNCConnection(e,t){try{await this.sqlite.createNCConnection({databasePath:e,version:t});const i=new hS(e,!0,this.sqlite),n=`RO_${e})`;return this._connectionDict.set(n,i),Promise.resolve(i)}catch(i){return Promise.reject(i)}}async closeNCConnection(e){try{await this.sqlite.closeNCConnection({databasePath:e});const t=`RO_${e})`;return this._connectionDict.delete(t),Promise.resolve()}catch(t){return Promise.reject(t)}}async isNCConnection(e){const t={},i=`RO_${e})`;return t.result=this._connectionDict.has(i),Promise.resolve(t)}async retrieveNCConnection(e){if(this._connectionDict.has(e)){const t=`RO_${e})`,i=this._connectionDict.get(t);return void 0!==i?Promise.resolve(i):Promise.reject(`Connection ${e} is undefined`)}return Promise.reject(`Connection ${e} does not exist`)}async isNCDatabase(e){try{const t=await this.sqlite.isNCDatabase({databasePath:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async retrieveAllConnections(){return this._connectionDict}async closeAllConnections(){const e=new Map;try{for(const t of this._connectionDict.keys()){const i=t.substring(3),n="RO_"===t.substring(0,3);await this.sqlite.closeConnection({database:i,readonly:n}),e.set(t,null)}for(const t of e.keys())this._connectionDict.delete(t);return Promise.resolve()}catch(t){return Promise.reject(t)}}async checkConnectionsConsistency(){try{const e=[...this._connectionDict.keys()],t=[],i=[];for(const r of e)t.push(r.substring(0,2)),i.push(r.substring(3));const n=await this.sqlite.checkConnectionsConsistency({dbNames:i,openModes:t});return n.result||(this._connectionDict=new Map),Promise.resolve(n)}catch(e){return this._connectionDict=new Map,Promise.reject(e)}}async importFromJson(e){try{const t=await this.sqlite.importFromJson({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isJsonValid(e){try{const t=await this.sqlite.isJsonValid({jsonstring:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async copyFromAssets(e){const t=null==e||e;try{return await this.sqlite.copyFromAssets({overwrite:t}),Promise.resolve()}catch(i){return Promise.reject(i)}}async getFromHTTPRequest(e,t){const i=null==t||t;try{return await this.sqlite.getFromHTTPRequest({url:e,overwrite:i}),Promise.resolve()}catch(n){return Promise.reject(n)}}async isDatabaseEncrypted(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=await this.sqlite.isDatabaseEncrypted({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isInConfigEncryption(){try{const e=await this.sqlite.isInConfigEncryption();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isInConfigBiometricAuth(){try{const e=await this.sqlite.isInConfigBiometricAuth();return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isDatabase(e){e.endsWith(".db")&&(e=e.slice(0,-3));try{const t=await this.sqlite.isDatabase({database:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async getDatabaseList(){try{const e=(await this.sqlite.getDatabaseList()).values;e.sort();const t={values:e};return Promise.resolve(t)}catch(e){return Promise.reject(e)}}async getMigratableDbList(e){if(!e||0===e.length)return Promise.reject("You must provide a folder path");try{const t=await this.sqlite.getMigratableDbList({folderPath:e});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async addSQLiteSuffix(e,t){const i=e||"default",n=t||[];try{const e=await this.sqlite.addSQLiteSuffix({folderPath:i,dbNameList:n});return Promise.resolve(e)}catch(r){return Promise.reject(r)}}async deleteOldDatabases(e,t){const i=e||"default",n=t||[];try{const e=await this.sqlite.deleteOldDatabases({folderPath:i,dbNameList:n});return Promise.resolve(e)}catch(r){return Promise.reject(r)}}async moveDatabasesAndAddSuffix(e,t){const i=e||"default",n=t||[];return this.sqlite.moveDatabasesAndAddSuffix({folderPath:i,dbNameList:n})}}class hS{constructor(e,t,i){this.dbName=e,this.readonly=t,this.sqlite=i}getConnectionDBName(){return this.dbName}getConnectionReadOnly(){return this.readonly}async open(){try{return await this.sqlite.open({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async close(){try{return await this.sqlite.close({database:this.dbName,readonly:this.readonly}),Promise.resolve()}catch(e){return Promise.reject(e)}}async beginTransaction(){try{const e=await this.sqlite.beginTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async commitTransaction(){try{const e=await this.sqlite.commitTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async rollbackTransaction(){try{const e=await this.sqlite.rollbackTransaction({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTransactionActive(){try{const e=await this.sqlite.isTransactionActive({database:this.dbName});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async loadExtension(e){try{return await this.sqlite.loadExtension({database:this.dbName,path:e,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async enableLoadExtension(e){try{return await this.sqlite.enableLoadExtension({database:this.dbName,toggle:e,readonly:this.readonly}),Promise.resolve()}catch(t){return Promise.reject(t)}}async getUrl(){try{const e=await this.sqlite.getUrl({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getVersion(){try{const e=await this.sqlite.getVersion({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async getTableList(){try{const e=await this.sqlite.getTableList({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async execute(e,t=!0,i=!0){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const n=await this.sqlite.execute({database:this.dbName,statements:e,transaction:t,readonly:!1,isSQL92:i});return Promise.resolve(n)}}catch(n){return Promise.reject(n)}}async query(e,t,i=!0){let n;try{return n=t&&t.length>0?await this.sqlite.query({database:this.dbName,statement:e,values:t,readonly:this.readonly,isSql92:!0}):await this.sqlite.query({database:this.dbName,statement:e,values:[],readonly:this.readonly,isSQL92:i}),n=await this.reorderRows(n),Promise.resolve(n)}catch(r){return Promise.reject(r)}}async run(e,t,i=!0,n="no",r=!0){let a;try{if(this.readonly)return Promise.reject("not allowed in read-only mode");if(t&&t.length>0){const r=e.toUpperCase().includes("RETURNING")?n:"no";a=await this.sqlite.run({database:this.dbName,statement:e,values:t,transaction:i,readonly:!1,returnMode:r,isSQL92:!0})}else{const t=e.toUpperCase().includes("RETURNING")?n:"no";a=await this.sqlite.run({database:this.dbName,statement:e,values:[],transaction:i,readonly:!1,returnMode:t,isSQL92:r})}return a.changes=await this.reorderRows(a.changes),Promise.resolve(a)}catch(s){return Promise.reject(s)}}async executeSet(e,t=!0,i="no",n=!0){let r;try{return this.readonly?Promise.reject("not allowed in read-only mode"):(r=await this.sqlite.executeSet({database:this.dbName,set:e,transaction:t,readonly:!1,returnMode:i,isSQL92:n}),r.changes=await this.reorderRows(r.changes),Promise.resolve(r))}catch(a){return Promise.reject(a)}}async isExists(){try{const e=await this.sqlite.isDBExists({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async isTable(e){try{const t=await this.sqlite.isTableExists({database:this.dbName,table:e,readonly:this.readonly});return Promise.resolve(t)}catch(t){return Promise.reject(t)}}async isDBOpen(){try{const e=await this.sqlite.isDBOpen({database:this.dbName,readonly:this.readonly});return Promise.resolve(e)}catch(e){return Promise.reject(e)}}async delete(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteDatabase({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async createSyncTable(){try{if(this.readonly)return Promise.reject("not allowed in read-only mode");{const e=await this.sqlite.createSyncTable({database:this.dbName,readonly:!1});return Promise.resolve(e)}}catch(e){return Promise.reject(e)}}async setSyncDate(e){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.setSyncDate({database:this.dbName,syncdate:e,readonly:!1}),Promise.resolve())}catch(t){return Promise.reject(t)}}async getSyncDate(){try{const e=await this.sqlite.getSyncDate({database:this.dbName,readonly:this.readonly});let t="";return e.syncDate>0&&(t=new Date(1e3*e.syncDate).toISOString()),Promise.resolve(t)}catch(e){return Promise.reject(e)}}async exportToJson(e,t=!1){try{const i=await this.sqlite.exportToJson({database:this.dbName,jsonexportmode:e,readonly:this.readonly,encrypted:t});return Promise.resolve(i)}catch(i){return Promise.reject(i)}}async deleteExportedRows(){try{return this.readonly?Promise.reject("not allowed in read-only mode"):(await this.sqlite.deleteExportedRows({database:this.dbName,readonly:!1}),Promise.resolve())}catch(e){return Promise.reject(e)}}async executeTransaction(e,t=!0){let i=0,n=!1;if(this.readonly)return Promise.reject("not allowed in read-only mode");try{if(await this.sqlite.beginTransaction({database:this.dbName}),n=await this.sqlite.isTransactionActive({database:this.dbName}),!n)return Promise.reject("After Begin Transaction, no transaction active")}catch(r){return Promise.reject(r)}try{for(const a of e)if(a.values&&a.values.length>0){const e=a.statement.toUpperCase().includes("RETURNING")?"all":"no",n=await this.sqlite.run({database:this.dbName,statement:a.statement,values:a.values,transaction:!1,readonly:!1,returnMode:e,isSQL92:t});if(n.changes.changes<=0)throw new Error("Error in transaction method run ");i+=n.changes.changes}else{const e=await this.sqlite.execute({database:this.dbName,statements:a.statement,transaction:!1,readonly:!1});if(n=await this.sqlite.isTransactionActive({database:this.dbName}),e.changes.changes<0)throw new Error("Error in transaction method execute ");i+=e.changes.changes}if(n=await this.sqlite.isTransactionActive({database:this.dbName}),n){i+=(await this.sqlite.commitTransaction({database:this.dbName})).changes.changes}const r={changes:{changes:i}};return Promise.resolve(r)}catch(r){const e=r.message?r.message:r;return n=await this.sqlite.isTransactionActive({database:this.dbName}),n&&await this.sqlite.rollbackTransaction({database:this.dbName}),Promise.reject(e)}}async reorderRows(e){const t=e;if(null!=e&&e.values&&"object"==typeof e.values[0]&&Object.keys(e.values[0]).includes("ios_columns")){const i=e.values[0].ios_columns,n=[];for(let t=1;t<e.values.length;t++){const r=e.values[t],a={};for(const e of i)a[e]=r[e];n.push(a)}t.values=n}return Promise.resolve(t)}}const pS=rS("CapacitorSQLite",{web:()=>Ep((()=>i.import("./web-legacy-e78173a9.js"))).then((e=>new e.CapacitorSQLiteWeb)),electron:()=>window.CapacitorCustomPlatform.plugins.CapacitorSQLite});class mS{static getInheritanceTree(e){const t=[e],i=e=>{const n=Object.getPrototypeOf(e);n&&n.name&&(t.push(n),i(n))};return i(e),t}static isInherited(e,t){return e.prototype instanceof t}static filterByTarget(e,t){return t?e.filter((e=>e.target&&-1!==t.indexOf(e.target))):e}}class fS{constructor(){this.tables=[],this.trees=[],this.entityRepositories=[],this.transactionEntityManagers=[],this.transactionRepositories=[],this.namingStrategies=[],this.entitySubscribers=[],this.indices=[],this.uniques=[],this.checks=[],this.exclusions=[],this.columns=[],this.generations=[],this.relations=[],this.joinColumns=[],this.joinTables=[],this.entityListeners=[],this.relationCounts=[],this.relationIds=[],this.embeddeds=[],this.inheritances=[],this.discriminatorValues=[]}filterTables(e){return this.filterByTarget(this.tables,e)}filterColumns(e){return this.filterByTargetAndWithoutDuplicateProperties(this.columns,e)}findGenerated(e,t){return this.generations.find((i=>(Array.isArray(e)?-1!==e.indexOf(i.target):i.target===e)&&i.propertyName===t))}findTree(e){return this.trees.find((t=>Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e))}filterRelations(e){return this.filterByTargetAndWithoutDuplicateRelationProperties(this.relations,e)}filterRelationIds(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationIds,e)}filterRelationCounts(e){return this.filterByTargetAndWithoutDuplicateProperties(this.relationCounts,e)}filterIndices(e){return this.indices.filter((t=>Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e))}filterUniques(e){return this.uniques.filter((t=>Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e))}filterChecks(e){return this.checks.filter((t=>Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e))}filterExclusions(e){return this.exclusions.filter((t=>Array.isArray(e)?-1!==e.indexOf(t.target):t.target===e))}filterListeners(e){return this.filterByTarget(this.entityListeners,e)}filterEmbeddeds(e){return this.filterByTargetAndWithoutDuplicateEmbeddedProperties(this.embeddeds,e)}findJoinTable(e,t){return this.joinTables.find((i=>i.target===e&&i.propertyName===t))}filterJoinColumns(e,t){return this.joinColumns.filter((i=>i.target===e&&i.propertyName===t))}filterSubscribers(e){return this.filterByTarget(this.entitySubscribers,e)}filterNamingStrategies(e){return this.filterByTarget(this.namingStrategies,e)}filterTransactionEntityManagers(e,t){return this.transactionEntityManagers.filter((i=>(Array.isArray(e)?-1!==e.indexOf(i.target):i.target===e)&&i.methodName===t))}filterTransactionRepository(e,t){return this.transactionRepositories.filter((i=>(Array.isArray(e)?-1!==e.indexOf(i.target):i.target===e)&&i.methodName===t))}filterSingleTableChildren(e){return this.tables.filter((t=>"function"==typeof t.target&&"function"==typeof e&&mS.isInherited(t.target,e)&&"entity-child"===t.type))}findInheritanceType(e){return this.inheritances.find((t=>t.target===e))}findDiscriminatorValue(e){return this.discriminatorValues.find((t=>t.target===e))}filterByTarget(e,t){return e.filter((e=>Array.isArray(t)?-1!==t.indexOf(e.target):e.target===t))}filterByTargetAndWithoutDuplicateProperties(e,t){const i=[];return e.forEach((e=>{(Array.isArray(t)?-1!==t.indexOf(e.target):e.target===t)&&(i.find((t=>t.propertyName===e.propertyName))||i.push(e))})),i}filterByTargetAndWithoutDuplicateRelationProperties(e,t){const i=[];return e.forEach((e=>{if(Array.isArray(t)?-1!==t.indexOf(e.target):e.target===t){const n=i.findIndex((t=>t.propertyName===e.propertyName));if(Array.isArray(t)&&-1!==n&&t.indexOf(e.target)<t.indexOf(i[n].target)){const t=Object.create(i[n]);t.type=e.type,i[n]=t}else-1===n&&i.push(e)}})),i}filterByTargetAndWithoutDuplicateEmbeddedProperties(e,t){const i=[];return e.forEach((e=>{if(Array.isArray(t)?-1!==t.indexOf(e.target):e.target===t){i.find((t=>t.prefix===e.prefix&&t.propertyName===e.propertyName))||i.push(e)}})),i}}class gS{static getGlobalVariable(){return"undefined"!=typeof window?window:global}static load(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: require("${e}").`);return""}static pathNormalize(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: path.normalize("${e}").`);return""}static pathExtname(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: path.extname("${e}").`);return""}static pathResolve(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: path.resolve("${e}").`);return""}static fileExist(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: fs.existsSync("${e}").`);return!1}static dotenv(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: dotenv.config({ path: "${e}" }).`)}static getEnvVariable(e){}static readFileSync(e){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: fs.readFileSync("${e}").`);return null}static appendFileSync(e,t){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: fs.appendFileSync("${e}").`)}static writeFile(e,t){if("browser"===this.type)throw new Error(`This option/function is not supported in the browser environment. Failed operation: fs.writeFile("${e}").`);return Promise.reject(null)}static highlightSql(e){return e}static highlightJson(e){return e}static logInfo(e,t){console.info(e+" ",t)}static logError(e,t){console.error(e+" ",t)}static logWarn(e,t){console.warn(e+" ",t)}static log(e){console.log(e)}static warn(e){return e}}gS.type="browser","undefined"!=typeof window&&"undefined"!=typeof require&&(window.Buffer=require("buffer/").Buffer),"undefined"!=typeof global&&"undefined"!=typeof require&&(global.Buffer=require("buffer/").Buffer);class yS{static sha1(e){let t,i,n,r,a,s,o,l,c,d=function(e,t){return e<<t|e>>>32-t},u=function(e){let t,i,n="";for(t=7;t>=0;t--)i=e>>>4*t&15,n+=i.toString(16);return n},h=new Array(80),p=1732584193,m=4023233417,f=2562383102,g=271733878,y=3285377520,b=(e=encodeURIComponent(e)).length,v=[];for(i=0;i<b-3;i+=4)n=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),v.push(n);switch(b%4){case 0:i=2147483648;break;case 1:i=e.charCodeAt(b-1)<<24|8388608;break;case 2:i=e.charCodeAt(b-2)<<24|e.charCodeAt(b-1)<<16|32768;break;case 3:i=e.charCodeAt(b-3)<<24|e.charCodeAt(b-2)<<16|e.charCodeAt(b-1)<<8|128}for(v.push(i);v.length%16!=14;)v.push(0);for(v.push(b>>>29),v.push(b<<3&4294967295),t=0;t<v.length;t+=16){for(i=0;i<16;i++)h[i]=v[t+i];for(i=16;i<=79;i++)h[i]=d(h[i-3]^h[i-8]^h[i-14]^h[i-16],1);for(r=p,a=m,s=f,o=g,l=y,i=0;i<=19;i++)c=d(r,5)+(a&s|~a&o)+l+h[i]+1518500249&4294967295,l=o,o=s,s=d(a,30),a=r,r=c;for(i=20;i<=39;i++)c=d(r,5)+(a^s^o)+l+h[i]+1859775393&4294967295,l=o,o=s,s=d(a,30),a=r,r=c;for(i=40;i<=59;i++)c=d(r,5)+(a&s|a&o|s&o)+l+h[i]+2400959708&4294967295,l=o,o=s,s=d(a,30),a=r,r=c;for(i=60;i<=79;i++)c=d(r,5)+(a^s^o)+l+h[i]+3395469782&4294967295,l=o,o=s,s=d(a,30),a=r,r=c;p=p+r&4294967295,m=m+a&4294967295,f=f+s&4294967295,g=g+o&4294967295,y=y+l&4294967295}return c=u(p)+u(m)+u(f)+u(g)+u(y),c.toLowerCase()}}var bS={exports:{}},vS={exports:{}};"function"==typeof Object.create?vS.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:vS.exports=function(e,t){if(t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}};for(var wS=vS.exports,TS={exports:{}},xS={},ES={byteLength:function(e){var t=NS(e),i=t[0],n=t[1];return 3*(i+n)/4-n},toByteArray:function(e){var t,i,n=NS(e),r=n[0],a=n[1],s=new CS(function(e,t,i){return 3*(t+i)/4-i}(0,r,a)),o=0,l=a>0?r-4:r;for(i=0;i<l;i+=4)t=SS[e.charCodeAt(i)]<<18|SS[e.charCodeAt(i+1)]<<12|SS[e.charCodeAt(i+2)]<<6|SS[e.charCodeAt(i+3)],s[o++]=t>>16&255,s[o++]=t>>8&255,s[o++]=255&t;2===a&&(t=SS[e.charCodeAt(i)]<<2|SS[e.charCodeAt(i+1)]>>4,s[o++]=255&t);1===a&&(t=SS[e.charCodeAt(i)]<<10|SS[e.charCodeAt(i+1)]<<4|SS[e.charCodeAt(i+2)]>>2,s[o++]=t>>8&255,s[o++]=255&t);return s},fromByteArray:function(e){for(var t,i=e.length,n=i%3,r=[],a=16383,s=0,o=i-n;s<o;s+=a)r.push(OS(e,s,s+a>o?o:s+a));1===n?(t=e[i-1],r.push(_S[t>>2]+_S[t<<4&63]+"==")):2===n&&(t=(e[i-2]<<8)+e[i-1],r.push(_S[t>>10]+_S[t>>4&63]+_S[t<<2&63]+"="));return r.join("")}},_S=[],SS=[],CS="undefined"!=typeof Uint8Array?Uint8Array:Array,kS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",AS=0;AS<64;++AS)_S[AS]=kS[AS],SS[kS.charCodeAt(AS)]=AS;function NS(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");return-1===i&&(i=t),[i,i===t?0:4-i%4]}function OS(e,t,i){for(var n,r,a=[],s=t;s<i;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(_S[(r=n)>>18&63]+_S[r>>12&63]+_S[r>>6&63]+_S[63&r]);return a.join("")}SS["-".charCodeAt(0)]=62,SS["_".charCodeAt(0)]=63;var MS={/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */read:function(e,t,i,n,r){var a,s,o=8*r-n-1,l=(1<<o)-1,c=l>>1,d=-7,u=i?r-1:0,h=i?-1:1,p=e[t+u];for(u+=h,a=p&(1<<-d)-1,p>>=-d,d+=o;d>0;a=256*a+e[t+u],u+=h,d-=8);for(s=a&(1<<-d)-1,a>>=-d,d+=n;d>0;s=256*s+e[t+u],u+=h,d-=8);if(0===a)a=1-c;else{if(a===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),a-=c}return(p?-1:1)*s*Math.pow(2,a-n)},write:function(e,t,i,n,r,a){var s,o,l,c=8*a-r-1,d=(1<<c)-1,u=d>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,m=n?1:-1,f=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+u>=1?h/l:h*Math.pow(2,1-u))*l>=2&&(s++,l/=2),s+u>=d?(o=0,s=d):s+u>=1?(o=(t*l-1)*Math.pow(2,r),s+=u):(o=t*Math.pow(2,u-1)*Math.pow(2,r),s=0));r>=8;e[i+p]=255&o,p+=m,o/=256,r-=8);for(s=s<<r|o,c+=r;c>0;e[i+p]=255&s,p+=m,s/=256,c-=8);e[i+p-m]|=128*f}};
/*!
             * The buffer module from node.js, for the browser.
             *
             * @author   Feross Aboukhadijeh <https://feross.org>
             * @license  MIT
             */
(function(e){const t=ES,i=MS,n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},e.INSPECT_MAX_BYTES=50;const r=2147483647;function a(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,i){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return o(e,t,i)}function o(e,t,i){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const i=0|p(e,t);let n=a(i);const r=n.write(e,t);r!==i&&(n=n.slice(0,r));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return u(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return u(e,t,i);if("undefined"!=typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return u(e,t,i);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,i);const r=function(e){if(s.isBuffer(e)){const t=0|h(e.length),i=a(t);return 0===i.length||e.copy(i,0,0,t),i}if(void 0!==e.length)return"number"!=typeof e.length||K(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(r)return r;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return l(e),a(e<0?0:0|h(e))}function d(e){const t=e.length<0?0:0|h(e.length),i=a(t);for(let n=0;n<t;n+=1)i[n]=255&e[n];return i}function u(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i),Object.setPrototypeOf(n,s.prototype),n}function h(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const i=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===i)return 0;let r=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return H(e).length;default:if(r)return n?-1:V(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,i){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,i);case"utf8":case"utf-8":return _(this,t,i);case"ascii":return C(this,t,i);case"latin1":case"binary":return k(this,t,i);case"base64":return E(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,i);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function f(e,t,i){const n=e[t];e[t]=e[i],e[i]=n}function g(e,t,i,n,r){if(0===e.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),K(i=+i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:y(e,t,i,n,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(e,t,i):Uint8Array.prototype.lastIndexOf.call(e,t,i):y(e,[t],i,n,r);throw new TypeError("val must be string, number or Buffer")}function y(e,t,i,n,r){let a,s=1,o=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,o/=2,l/=2,i/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(r){let n=-1;for(a=i;a<o;a++)if(c(e,a)===c(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===l)return n*s}else-1!==n&&(a-=a-n),n=-1}else for(i+l>o&&(i=o-l),a=i;a>=0;a--){let i=!0;for(let n=0;n<l;n++)if(c(e,a+n)!==c(t,n)){i=!1;break}if(i)return a}return-1}function b(e,t,i,n){i=Number(i)||0;const r=e.length-i;n?(n=Number(n))>r&&(n=r):n=r;const a=t.length;let s;for(n>a/2&&(n=a/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(K(n))return s;e[i+s]=n}return s}function v(e,t,i,n){return W(V(t,e.length-i),e,i,n)}function w(e,t,i,n){return W(function(e){const t=[];for(let i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,n)}function T(e,t,i,n){return W(H(t),e,i,n)}function x(e,t,i,n){return W(function(e,t){let i,n,r;const a=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)i=e.charCodeAt(s),n=i>>8,r=i%256,a.push(r),a.push(n);return a}(t,e.length-i),e,i,n)}function E(e,i,n){return 0===i&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(i,n))}function _(e,t,i){i=Math.min(e.length,i);const n=[];let r=t;for(;r<i;){const t=e[r];let a=null,s=t>239?4:t>223?3:t>191?2:1;if(r+s<=i){let i,n,o,l;switch(s){case 1:t<128&&(a=t);break;case 2:i=e[r+1],128==(192&i)&&(l=(31&t)<<6|63&i,l>127&&(a=l));break;case 3:i=e[r+1],n=e[r+2],128==(192&i)&&128==(192&n)&&(l=(15&t)<<12|(63&i)<<6|63&n,l>2047&&(l<55296||l>57343)&&(a=l));break;case 4:i=e[r+1],n=e[r+2],o=e[r+3],128==(192&i)&&128==(192&n)&&128==(192&o)&&(l=(15&t)<<18|(63&i)<<12|(63&n)<<6|63&o,l>65535&&l<1114112&&(a=l))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),r+=s}return function(e){const t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);let i="",n=0;for(;n<t;)i+=String.fromCharCode.apply(String,e.slice(n,n+=S));return i}(n)}e.kMaxLength=r,s.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(E_){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,i){return o(e,t,i)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,i){return function(e,t,i){return l(e),e<=0?a(e):void 0!==t?"string"==typeof i?a(e).fill(t,i):a(e).fill(t):a(e)}(e,t,i)},s.allocUnsafe=function(e){return c(e)},s.allocUnsafeSlow=function(e){return c(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(G(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,n=t.length;for(let r=0,a=Math.min(i,n);r<a;++r)if(e[r]!==t[r]){i=e[r],n=t[r];break}return i<n?-1:n<i?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);let i;if(void 0===t)for(t=0,i=0;i<e.length;++i)t+=e[i].length;const n=s.allocUnsafe(t);let r=0;for(i=0;i<e.length;++i){let t=e[i];if(G(t,Uint8Array))r+t.length>n.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(n,r)):Uint8Array.prototype.set.call(n,t,r);else{if(!s.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,r)}r+=t.length}return n},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)f(this,t,t+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},s.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):m.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let t="";const i=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(e,t,i,n,r){if(G(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),t<0||i>e.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=i)return 0;if(n>=r)return-1;if(t>=i)return 1;if(this===e)return 0;let a=(r>>>=0)-(n>>>=0),o=(i>>>=0)-(t>>>=0);const l=Math.min(a,o),c=this.slice(n,r),d=e.slice(t,i);for(let s=0;s<l;++s)if(c[s]!==d[s]){a=c[s],o=d[s];break}return a<o?-1:o<a?1:0},s.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},s.prototype.indexOf=function(e,t,i){return g(this,e,t,i,!0)},s.prototype.lastIndexOf=function(e,t,i){return g(this,e,t,i,!1)},s.prototype.write=function(e,t,i,n){if(void 0===t)n="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)n=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}const r=this.length-t;if((void 0===i||i>r)&&(i=r),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return b(this,e,t,i);case"utf8":case"utf-8":return v(this,e,t,i);case"ascii":case"latin1":case"binary":return w(this,e,t,i);case"base64":return T(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const S=4096;function C(e,t,i){let n="";i=Math.min(e.length,i);for(let r=t;r<i;++r)n+=String.fromCharCode(127&e[r]);return n}function k(e,t,i){let n="";i=Math.min(e.length,i);for(let r=t;r<i;++r)n+=String.fromCharCode(e[r]);return n}function A(e,t,i){const n=e.length;(!t||t<0)&&(t=0),(!i||i<0||i>n)&&(i=n);let r="";for(let a=t;a<i;++a)r+=Q[e[a]];return r}function N(e,t,i){const n=e.slice(t,i);let r="";for(let a=0;a<n.length-1;a+=2)r+=String.fromCharCode(n[a]+256*n[a+1]);return r}function O(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>i)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,i,n,r,a){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||t<a)throw new RangeError('"value" argument is out of bounds');if(i+n>e.length)throw new RangeError("Index out of range")}function P(e,t,i,n,r){q(t,n,r,e,i,7);let a=Number(t&BigInt(4294967295));e[i++]=a,a>>=8,e[i++]=a,a>>=8,e[i++]=a,a>>=8,e[i++]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[i++]=s,s>>=8,e[i++]=s,s>>=8,e[i++]=s,s>>=8,e[i++]=s,i}function I(e,t,i,n,r){q(t,n,r,e,i,7);let a=Number(t&BigInt(4294967295));e[i+7]=a,a>>=8,e[i+6]=a,a>>=8,e[i+5]=a,a>>=8,e[i+4]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[i+3]=s,s>>=8,e[i+2]=s,s>>=8,e[i+1]=s,s>>=8,e[i]=s,i+8}function R(e,t,i,n,r,a){if(i+n>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function L(e,t,n,r,a){return t=+t,n>>>=0,a||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,a){return t=+t,n>>>=0,a||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}s.prototype.slice=function(e,t){const i=this.length;(e=~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||O(e,t,this.length);let n=this[e],r=1,a=0;for(;++a<t&&(r*=256);)n+=this[e+a]*r;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||O(e,t,this.length);let n=this[e+--t],r=1;for(;t>0&&(r*=256);)n+=this[e+--t]*r;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=Y((function(e){U(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||F(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,r=this[++e]+256*this[++e]+65536*this[++e]+i*2**24;return BigInt(n)+(BigInt(r)<<BigInt(32))})),s.prototype.readBigUInt64BE=Y((function(e){U(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||F(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],r=this[++e]*2**24+65536*this[++e]+256*this[++e]+i;return(BigInt(n)<<BigInt(32))+BigInt(r)})),s.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||O(e,t,this.length);let n=this[e],r=1,a=0;for(;++a<t&&(r*=256);)n+=this[e+a]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||O(e,t,this.length);let n=t,r=1,a=this[e+--n];for(;n>0&&(r*=256);)a+=this[e+--n]*r;return r*=128,a>=r&&(a-=Math.pow(2,8*t)),a},s.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const i=this[e]|this[e+1]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const i=this[e+1]|this[e]<<8;return 32768&i?4294901760|i:i},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=Y((function(e){U(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||F(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(i<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),s.prototype.readBigInt64BE=Y((function(e){U(e>>>=0,"offset");const t=this[e],i=this[e+7];void 0!==t&&void 0!==i||F(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+i)})),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,i,n){if(e=+e,t>>>=0,i>>>=0,!n){M(this,e,t,i,Math.pow(2,8*i)-1,0)}let r=1,a=0;for(this[t]=255&e;++a<i&&(r*=256);)this[t+a]=e/r&255;return t+i},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,i,n){if(e=+e,t>>>=0,i>>>=0,!n){M(this,e,t,i,Math.pow(2,8*i)-1,0)}let r=i-1,a=1;for(this[t+r]=255&e;--r>=0&&(a*=256);)this[t+r]=e/a&255;return t+i},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=Y((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeBigUInt64BE=Y((function(e,t=0){return I(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),s.prototype.writeIntLE=function(e,t,i,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*i-1);M(this,e,t,i,n-1,-n)}let r=0,a=1,s=0;for(this[t]=255&e;++r<i&&(a*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+i},s.prototype.writeIntBE=function(e,t,i,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*i-1);M(this,e,t,i,n-1,-n)}let r=i-1,a=1,s=0;for(this[t+r]=255&e;--r>=0&&(a*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/a>>0)-s&255;return t+i},s.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=Y((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeBigInt64BE=Y((function(e,t=0){return I(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),s.prototype.writeFloatLE=function(e,t,i){return L(this,e,t,!0,i)},s.prototype.writeFloatBE=function(e,t,i){return L(this,e,t,!1,i)},s.prototype.writeDoubleLE=function(e,t,i){return D(this,e,t,!0,i)},s.prototype.writeDoubleBE=function(e,t,i){return D(this,e,t,!1,i)},s.prototype.copy=function(e,t,i,n){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-i&&(n=e.length-t+i);const r=n-i;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,i,n):Uint8Array.prototype.set.call(e,this.subarray(i,n),t),r},s.prototype.fill=function(e,t,i,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;let r;if(t>>>=0,i=void 0===i?this.length:i>>>0,e||(e=0),"number"==typeof e)for(r=t;r<i;++r)this[r]=e;else{const a=s.isBuffer(e)?e:s.from(e,n),o=a.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(r=0;r<i-t;++r)this[r+t]=a[r%o]}return this};const j={};function $(e,t,i){j[e]=class extends i{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",i=e.length;const n="-"===e[0]?1:0;for(;i>=n+4;i-=3)t=`_${e.slice(i-3,i)}${t}`;return`${e.slice(0,i)}${t}`}function q(e,t,i,n,r,a){if(e>i||e<t){const n="bigint"==typeof t?"n":"";let r;throw r=a>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(a+1)}${n}`:`>= -(2${n} ** ${8*(a+1)-1}${n}) and < 2 ** ${8*(a+1)-1}${n}`:`>= ${t}${n} and <= ${i}${n}`,new j.ERR_OUT_OF_RANGE("value",r,e)}!function(e,t,i){U(t,"offset"),void 0!==e[t]&&void 0!==e[t+i]||F(t,e.length-(i+1))}(n,r,a)}function U(e,t){if("number"!=typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function F(e,t,i){if(Math.floor(e)!==e)throw U(e,i),new j.ERR_OUT_OF_RANGE(i||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(i||"offset",`>= ${i?1:0} and <= ${t}`,e)}$("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),$("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),$("ERR_OUT_OF_RANGE",(function(e,t,i){let n=`The value of "${e}" is out of range.`,r=i;return Number.isInteger(i)&&Math.abs(i)>2**32?r=B(String(i)):"bigint"==typeof i&&(r=String(i),(i>BigInt(2)**BigInt(32)||i<-(BigInt(2)**BigInt(32)))&&(r=B(r)),r+="n"),n+=` It must be ${t}. Received ${r}`,n}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function V(e,t){let i;t=t||1/0;const n=e.length;let r=null;const a=[];for(let s=0;s<n;++s){if(i=e.charCodeAt(s),i>55295&&i<57344){if(!r){if(i>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}r=i;continue}if(i<56320){(t-=3)>-1&&a.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(t-=3)>-1&&a.push(239,191,189);if(r=null,i<128){if((t-=1)<0)break;a.push(i)}else if(i<2048){if((t-=2)<0)break;a.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;a.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return a}function H(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function W(e,t,i,n){let r;for(r=0;r<n&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let i=0;i<16;++i){const n=16*i;for(let r=0;r<16;++r)t[n+r]=e[i]+e[r]}return t}();function Y(e){return"undefined"==typeof BigInt?X:e}function X(){throw new Error("BigInt not supported")}})(xS),/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */function(e,t){var i=xS,n=i.Buffer;function r(e,t){for(var i in e)t[i]=e[i]}function a(e,t,i){return n(e,t,i)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=i:(r(i,t),t.Buffer=a),a.prototype=Object.create(n.prototype),r(n,a),a.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,i)},a.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=n(e);return void 0!==t?"string"==typeof i?r.fill(t,i):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}}(TS,TS.exports);var PS=TS.exports,IS=PS.Buffer;function RS(e,t){this._block=IS.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}RS.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=IS.from(e,t));for(var i=this._block,n=this._blockSize,r=e.length,a=this._len,s=0;s<r;){for(var o=a%n,l=Math.min(r-s,n-o),c=0;c<l;c++)i[o+c]=e[s+c];s+=l,(a+=l)%n==0&&this._update(i)}return this._len+=r,this},RS.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var i=8*this._len;if(i<=4294967295)this._block.writeUInt32BE(i,this._blockSize-4);else{var n=(4294967295&i)>>>0,r=(i-n)/4294967296;this._block.writeUInt32BE(r,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var a=this._hash();return e?a.toString(e):a},RS.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var LS=RS,DS=wS,jS=LS,$S=PS.Buffer,BS=[1518500249,1859775393,-1894007588,-899497514],qS=new Array(80);function US(){this.init(),this._w=qS,jS.call(this,64,56)}function FS(e){return e<<30|e>>>2}function zS(e,t,i,n){return 0===e?t&i|~t&n:2===e?t&i|t&n|i&n:t^i^n}DS(US,jS),US.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},US.prototype._update=function(e){for(var t,i=this._w,n=0|this._a,r=0|this._b,a=0|this._c,s=0|this._d,o=0|this._e,l=0;l<16;++l)i[l]=e.readInt32BE(4*l);for(;l<80;++l)i[l]=i[l-3]^i[l-8]^i[l-14]^i[l-16];for(var c=0;c<80;++c){var d=~~(c/20),u=0|((t=n)<<5|t>>>27)+zS(d,r,a,s)+o+i[c]+BS[d];o=s,s=a,a=FS(r),r=n,n=u}this._a=n+this._a|0,this._b=r+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0},US.prototype._hash=function(){var e=$S.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var VS=US,HS=wS,WS=LS,GS=PS.Buffer,KS=[1518500249,1859775393,-1894007588,-899497514],QS=new Array(80);function YS(){this.init(),this._w=QS,WS.call(this,64,56)}function XS(e){return e<<5|e>>>27}function JS(e){return e<<30|e>>>2}function ZS(e,t,i,n){return 0===e?t&i|~t&n:2===e?t&i|t&n|i&n:t^i^n}HS(YS,WS),YS.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},YS.prototype._update=function(e){for(var t,i=this._w,n=0|this._a,r=0|this._b,a=0|this._c,s=0|this._d,o=0|this._e,l=0;l<16;++l)i[l]=e.readInt32BE(4*l);for(;l<80;++l)i[l]=(t=i[l-3]^i[l-8]^i[l-14]^i[l-16])<<1|t>>>31;for(var c=0;c<80;++c){var d=~~(c/20),u=XS(n)+ZS(d,r,a,s)+o+i[c]+KS[d]|0;o=s,s=a,a=JS(r),r=n,n=u}this._a=n+this._a|0,this._b=r+this._b|0,this._c=a+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0},YS.prototype._hash=function(){var e=GS.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e};var eC=YS,tC=wS,iC=LS,nC=PS.Buffer,rC=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],aC=new Array(64);function sC(){this.init(),this._w=aC,iC.call(this,64,56)}function oC(e,t,i){return i^e&(t^i)}function lC(e,t,i){return e&t|i&(e|t)}function cC(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function dC(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function uC(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function hC(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}tC(sC,iC),sC.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},sC.prototype._update=function(e){for(var t=this._w,i=0|this._a,n=0|this._b,r=0|this._c,a=0|this._d,s=0|this._e,o=0|this._f,l=0|this._g,c=0|this._h,d=0;d<16;++d)t[d]=e.readInt32BE(4*d);for(;d<64;++d)t[d]=hC(t[d-2])+t[d-7]+uC(t[d-15])+t[d-16]|0;for(var u=0;u<64;++u){var h=c+dC(s)+oC(s,o,l)+rC[u]+t[u]|0,p=cC(i)+lC(i,n,r)|0;c=l,l=o,o=s,s=a+h|0,a=r,r=n,n=i,i=h+p|0}this._a=i+this._a|0,this._b=n+this._b|0,this._c=r+this._c|0,this._d=a+this._d|0,this._e=s+this._e|0,this._f=o+this._f|0,this._g=l+this._g|0,this._h=c+this._h|0},sC.prototype._hash=function(){var e=nC.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var pC=sC,mC=wS,fC=pC,gC=LS,yC=PS.Buffer,bC=new Array(64);function vC(){this.init(),this._w=bC,gC.call(this,64,56)}mC(vC,fC),vC.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},vC.prototype._hash=function(){var e=yC.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var wC=vC,TC=wS,xC=LS,EC=PS.Buffer,_C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],SC=new Array(160);function CC(){this.init(),this._w=SC,xC.call(this,128,112)}function kC(e,t,i){return i^e&(t^i)}function AC(e,t,i){return e&t|i&(e|t)}function NC(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function OC(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function MC(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function PC(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function IC(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function RC(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function LC(e,t){return e>>>0<t>>>0?1:0}TC(CC,xC),CC.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},CC.prototype._update=function(e){for(var t=this._w,i=0|this._ah,n=0|this._bh,r=0|this._ch,a=0|this._dh,s=0|this._eh,o=0|this._fh,l=0|this._gh,c=0|this._hh,d=0|this._al,u=0|this._bl,h=0|this._cl,p=0|this._dl,m=0|this._el,f=0|this._fl,g=0|this._gl,y=0|this._hl,b=0;b<32;b+=2)t[b]=e.readInt32BE(4*b),t[b+1]=e.readInt32BE(4*b+4);for(;b<160;b+=2){var v=t[b-30],w=t[b-30+1],T=MC(v,w),x=PC(w,v),E=IC(v=t[b-4],w=t[b-4+1]),_=RC(w,v),S=t[b-14],C=t[b-14+1],k=t[b-32],A=t[b-32+1],N=x+C|0,O=T+S+LC(N,x)|0;O=(O=O+E+LC(N=N+_|0,_)|0)+k+LC(N=N+A|0,A)|0,t[b]=O,t[b+1]=N}for(var M=0;M<160;M+=2){O=t[M],N=t[M+1];var P=AC(i,n,r),I=AC(d,u,h),R=NC(i,d),L=NC(d,i),D=OC(s,m),j=OC(m,s),$=_C[M],B=_C[M+1],q=kC(s,o,l),U=kC(m,f,g),F=y+j|0,z=c+D+LC(F,y)|0;z=(z=(z=z+q+LC(F=F+U|0,U)|0)+$+LC(F=F+B|0,B)|0)+O+LC(F=F+N|0,N)|0;var V=L+I|0,H=R+P+LC(V,L)|0;c=l,y=g,l=o,g=f,o=s,f=m,s=a+z+LC(m=p+F|0,p)|0,a=r,p=h,r=n,h=u,n=i,u=d,i=z+H+LC(d=F+V|0,F)|0}this._al=this._al+d|0,this._bl=this._bl+u|0,this._cl=this._cl+h|0,this._dl=this._dl+p|0,this._el=this._el+m|0,this._fl=this._fl+f|0,this._gl=this._gl+g|0,this._hl=this._hl+y|0,this._ah=this._ah+i+LC(this._al,d)|0,this._bh=this._bh+n+LC(this._bl,u)|0,this._ch=this._ch+r+LC(this._cl,h)|0,this._dh=this._dh+a+LC(this._dl,p)|0,this._eh=this._eh+s+LC(this._el,m)|0,this._fh=this._fh+o+LC(this._fl,f)|0,this._gh=this._gh+l+LC(this._gl,g)|0,this._hh=this._hh+c+LC(this._hl,y)|0},CC.prototype._hash=function(){var e=EC.allocUnsafe(64);function t(t,i,n){e.writeInt32BE(t,n),e.writeInt32BE(i,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var DC=CC,jC=wS,$C=DC,BC=LS,qC=PS.Buffer,UC=new Array(160);function FC(){this.init(),this._w=UC,BC.call(this,128,112)}jC(FC,$C),FC.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},FC.prototype._hash=function(){var e=qC.allocUnsafe(48);function t(t,i,n){e.writeInt32BE(t,n),e.writeInt32BE(i,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var zC=FC,VC=bS.exports=function(e){e=e.toLowerCase();var t=VC[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};VC.sha=VS,VC.sha1=eC,VC.sha224=wC,VC.sha256=pC,VC.sha384=zC,VC.sha512=DC;const HC=a(bS.exports);function WC(e,t=!1){return t&&(e=" "+e),e.replace(/^([A-Z])|[\s-_](\w)/g,(function(e,t,i){return i?i.toUpperCase():t.toLowerCase()}))}function GC(e){return e.replace(/([A-Z])([A-Z])([a-z])/g,"$1_$2$3").replace(/([a-z0-9])([A-Z])/g,"$1_$2").toLowerCase()}function KC(e,t={}){const{segmentLength:i=4,separator:n="__",termLength:r=2}=t;return e.split(n).reduce(((e,t)=>{const n=t.replace(/([a-z\xE0-\xFF])([A-Z\xC0-\xDF])/g,"$1 $2").split(" "),a=n.length>1?r:i,s=n.map((e=>e.substr(0,a))).join("");return e.push(s),e}),[]).join(n)}class QC{constructor(){this.nestedSetColumnNames={left:"nsleft",right:"nsright"},this.materializedPathColumnName="mpath"}getTableName(e){return"string"!=typeof e&&(e=e.name),e.split(".").pop()}tableName(e,t){return t||GC(e)}closureJunctionTableName(e){return e+"_closure"}columnName(e,t,i){const n=t||e;return i.length?WC(i.join("_"))+n.replace(/\w\S*/g,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())):n}relationName(e){return e}primaryKeyName(e,t){const i=[...t];i.sort();const n=`${this.getTableName(e).replace(".","_")}_${i.join("_")}`;return"PK_"+yS.sha1(n).substr(0,27)}uniqueConstraintName(e,t){const i=[...t];i.sort();const n=`${this.getTableName(e).replace(".","_")}_${i.join("_")}`;return"UQ_"+yS.sha1(n).substr(0,27)}relationConstraintName(e,t,i){const n=[...t];n.sort();let r=`${this.getTableName(e).replace(".","_")}_${n.join("_")}`;return i&&(r+=`_${i}`),"REL_"+yS.sha1(r).substr(0,26)}defaultConstraintName(e,t){const i=`${this.getTableName(e).replace(".","_")}_${t}`;return"DF_"+yS.sha1(i).substr(0,27)}foreignKeyName(e,t,i,n){const r=[...t];r.sort();const a=`${this.getTableName(e).replace(".","_")}_${r.join("_")}`;return"FK_"+yS.sha1(a).substr(0,27)}indexName(e,t,i){const n=[...t];n.sort();let r=`${this.getTableName(e).replace(".","_")}_${n.join("_")}`;return i&&(r+=`_${i}`),"IDX_"+yS.sha1(r).substr(0,26)}checkConstraintName(e,t,i){const n=`${this.getTableName(e).replace(".","_")}_${t}`,r="CHK_"+yS.sha1(n).substr(0,26);return i?`${r}_ENUM`:r}exclusionConstraintName(e,t){const i=`${this.getTableName(e).replace(".","_")}_${t}`;return"XCL_"+yS.sha1(i).substr(0,26)}joinColumnName(e,t){return WC(e+"_"+t)}joinTableName(e,t,i,n){return GC(e+"_"+i.replace(/\./gi,"_")+"_"+t)}joinTableColumnDuplicationPrefix(e,t){return e+"_"+t}joinTableColumnName(e,t,i){return WC(e+"_"+(i||t))}joinTableInverseColumnName(e,t,i){return this.joinTableColumnName(e,t,i)}prefixTableName(e,t){return e+t}eagerJoinRelationAlias(e,t){return e+"_"+t.replace(".","_")}}class YC extends Error{get name(){return this.constructor.name}constructor(e){super(e),Object.setPrototypeOf?Object.setPrototypeOf(this,new.target.prototype):this.__proto__=new.target.prototype}}class XC extends YC{constructor(e){super(`Internal error. Subject ${e.metadata.targetName} must have an identifier to perform operation.`)}}class JC extends YC{constructor(e){super(`Cannot create a "${e}" connection because connection to the database already established.`)}}class ZC extends YC{constructor(){super("Locking not supported on given driver.")}}class ek extends YC{constructor(e,t){super();const i=e.primaryColumns.reduce(((e,t,i)=>(t.setEntityValue(e,i+1),e)),{});this.message=`Cannot use given entity id "${t}" because "${e.targetName}" contains multiple primary columns, you must provide object in following form: ${JSON.stringify(i)} as an id.`}}class tk extends YC{constructor(e){super(`Cannot ${e}, given value must be instance of entity class, instead object literal is given. Or you must specify an entity target to method call.`)}}class ik extends YC{constructor(e){super(`Tree repositories are not supported in ${e.options.type} driver.`)}}class nk extends YC{constructor(e){super(`Custom repository ${"function"==typeof e?e.name:e.constructor.name} was not found. Did you forgot to put @EntityRepository decorator on it?`)}}class rk extends YC{constructor(){super("Transaction is not started yet, start transaction before committing or rolling it back.")}}class ak extends YC{constructor(){super("Transaction already started for the given connection, commit current transaction before starting a new one.")}}class sk{static isObject(e){return null!==e&&"object"==typeof e}static isObjectWithName(e){return null!==e&&"object"==typeof e&&void 0!==e.name}static assign(e,...t){for(const i of t)for(const t of Object.getOwnPropertyNames(i))e[t]=i[t]}static mixedListToArray(e){return null!==e&&"object"==typeof e?Object.keys(e).map((t=>e[t])):e}}class ok{static isMssqlParameter(e){return this.check(e,"MssqlParameter")}static isEntityMetadata(e){return this.check(e,"EntityMetadata")}static isColumnMetadata(e){return this.check(e,"ColumnMetadata")}static isSelectQueryBuilder(e){return this.check(e,"SelectQueryBuilder")}static isInsertQueryBuilder(e){return this.check(e,"InsertQueryBuilder")}static isDeleteQueryBuilder(e){return this.check(e,"DeleteQueryBuilder")}static isUpdateQueryBuilder(e){return this.check(e,"UpdateQueryBuilder")}static isSoftDeleteQueryBuilder(e){return this.check(e,"SoftDeleteQueryBuilder")}static isRelationQueryBuilder(e){return this.check(e,"RelationQueryBuilder")}static isBrackets(e){return this.check(e,"Brackets")||this.check(e,"NotBrackets")}static isNotBrackets(e){return this.check(e,"NotBrackets")}static isSubject(e){return this.check(e,"Subject")}static isRdbmsSchemaBuilder(e){return this.check(e,"RdbmsSchemaBuilder")}static isMongoEntityManager(e){return this.check(e,"MongoEntityManager")}static isSqljsEntityManager(e){return this.check(e,"SqljsEntityManager")}static isEntitySchema(e){return this.check(e,"EntitySchema")}static isBaseEntityConstructor(e){return"function"==typeof e&&"function"==typeof e.hasId&&"function"==typeof e.save&&"function"==typeof e.useDataSource}static isFindOperator(e){return this.check(e,"FindOperator")||this.check(e,"EqualOperator")}static isEqualOperator(e){return this.check(e,"EqualOperator")}static isQuery(e){return this.check(e,"Query")}static isTable(e){return this.check(e,"Table")}static isTableCheck(e){return this.check(e,"TableCheck")}static isTableColumn(e){return this.check(e,"TableColumn")}static isTableExclusion(e){return this.check(e,"TableExclusion")}static isTableForeignKey(e){return this.check(e,"TableForeignKey")}static isTableIndex(e){return this.check(e,"TableIndex")}static isTableUnique(e){return this.check(e,"TableUnique")}static isView(e){return this.check(e,"View")}static isDataSource(e){return this.check(e,"DataSource")}static check(e,t){return"object"==typeof e&&null!==e&&e["@instanceof"]===Symbol.for(t)}}class lk extends YC{constructor(e,t){super(),this.message=`Could not find any entity of type "${this.stringifyTarget(e)}" matching: ${this.stringifyCriteria(t)}`}stringifyTarget(e){return ok.isEntitySchema(e)?e.options.name:"function"==typeof e||sk.isObject(e)&&"name"in e?e.name:e}stringifyCriteria(e){try{return JSON.stringify(e,null,4)}catch(E_){}return""+e}}class ck extends YC{constructor(e){super(),this.message=`No metadata for "${this.stringifyTarget(e)}" was found.`}stringifyTarget(e){return ok.isEntitySchema(e)?e.options.name:"function"==typeof e||sk.isObject(e)&&"name"in e?e.name:e}}class dk extends YC{constructor(e,t){super(`Cannot ${e}, given value must be an entity, instead "${t}" is given.`)}}class uk extends YC{constructor(e,t,i){super(`The optimistic lock on entity ${e} failed, version ${t} was expected, but is actually ${i}.`)}}class hk extends YC{constructor(e,t){super(`Primary column ${e.constructor.name}#${t} cannot be nullable. Its not allowed for primary keys. Try to remove nullable option.`)}}class pk extends YC{constructor(e){super(`Custom entity repository ${"function"==typeof e?e.name:e.constructor.name}  cannot inherit Repository class without entity being set in the @EntityRepository decorator.`)}}class mk extends YC{constructor(){super("Database connection provided by a query runner was already released, cannot continue to use its querying methods anymore.")}}class fk extends YC{constructor(e){super(`Cannot attach entity "${e}" to its parent. Please make sure parent is saved in the database before saving children nodes.`)}}class gk extends YC{constructor(e){super(`Custom repository ${"function"==typeof e?e.name:e.constructor.name} does not have managed entity. Did you forget to specify entity for it @EntityRepository(MyEntity)? `)}}class yk extends YC{constructor(e){super(`Circular relations detected: ${e}. To resolve this issue you need to set nullable: true somewhere in this dependency structure.`)}}class bk extends YC{constructor(e){super(`Entity "${e.name}" does not have a primary column. Primary column is required to have in all your entities. Use @PrimaryColumn decorator to add a primary column to your entity.`)}}class vk extends YC{constructor(e,t){super(e),Object.setPrototypeOf(this,vk.prototype),this.message=`Property "${e}" was not found in "${t.targetName}". Make sure your query is correct.`}}class wk extends YC{constructor(e,t=[]){super(`Wrong driver: "${e}" given. Supported drivers are: ${t.map((e=>`"${e}"`)).join(", ")}.`)}}class Tk extends YC{constructor(e,t){super(`${e} package has not been found installed. Try to install it: npm install ${t} --save`)}}class xk extends YC{constructor(e){super(`Entity ${e} does not have version or update date columns.`)}}class Ek extends YC{constructor(){super("The optimistic lock can be used only with getOne() method.")}}class _k extends YC{constructor(e){super(`Driver option (${e}) is not set. Please set it to perform connection to the database.`)}}class Sk extends YC{constructor(e){super(),1===e.length?this.message=`Relation "${e[0]}" was not found; please check if it is correct and really exists in your entity.`:this.message=`Relations ${e.map((e=>`"${e}"`)).join(", ")} were not found; please check if relations are correct and they exist in your entities.`}}class Ck extends YC{constructor(){super("An open transaction is required for pessimistic lock.")}}class kk extends YC{constructor(e,t,i){super();const n="string"==typeof t?t:t.name;this.message=`Data type "${n}" in "${e.entityMetadata.targetName}.${e.propertyName}" is not supported by "${i}" database.`}}class Ak extends YC{constructor(e){super(`Array initializations are not allowed in entity relations. Please remove array initialization (= []) from "${e.entityMetadata.targetName}#${e.propertyPath}". This is ORM requirement to make relations to work properly. Refer docs for more information.`)}}class Nk extends YC{constructor(e,t,i){if(super(i.toString().replace(/^error: /,"").replace(/^Error: /,"").replace(/^Request/,"")),this.query=e,this.parameters=t,this.driverError=i,i){const{name:e,...t}=i;sk.assign(this,{...t})}}}class Ok extends YC{constructor(){super("Entity manager is not using single database connection and cannot be released. Only entity managers created by connection#createEntityManagerWithSingleDatabaseConnection methods have a single database connection and they should be released.")}}class Mk extends YC{constructor(e){super(`Removed entity "${e.metadata.name}" is also scheduled for update operation. Make sure you are not updating and removing same object (note that update or remove may be executed by cascade operations).`)}}class Pk extends YC{constructor(e,t){super(`Column type for ${e.constructor.name}#${t} is not defined and cannot be guessed. Make sure you have turned on an "emitDecoratorMetadata": true option in tsconfig.json. Also make sure you have imported "reflect-metadata" on top of the main entry file in your application (before any entity imported).If you are using JavaScript instead of TypeScript you must explicitly provide a column type.`)}}class Ik extends YC{constructor(){super("Query runner already released. Cannot run queries anymore.")}}class Rk extends YC{constructor(){super("RDBMS does not support OFFSET without LIMIT in SELECT statements. You must use limit in conjunction with offset function (or take in conjunction with skip function if you are using pagination).")}}class Lk extends YC{constructor(e){super(`Cannot execute operation on "${e}" connection because connection is not yet established.`)}}class Dk extends YC{constructor(e){super(`Option "${e}" is not set in your connection options, please define "${e}" option in your connection options or ormconfig.json`)}}class jk extends YC{constructor(e){super(`Migrations ${e.map((e=>`"${e.name}"`)).join(", ")} override the transaction mode, but the global transaction mode is "all"`)}}class $k{constructor(e){this["@instanceof"]=Symbol.for("TableColumn"),this.isNullable=!1,this.isGenerated=!1,this.isPrimary=!1,this.isUnique=!1,this.isArray=!1,this.length="",this.zerofill=!1,this.unsigned=!1,e&&(this.name=e.name,this.type=e.type||"",this.length=e.length||"",this.width=e.width,this.charset=e.charset,this.collation=e.collation,this.precision=e.precision,this.scale=e.scale,this.zerofill=e.zerofill||!1,this.unsigned=!!this.zerofill||(e.unsigned||!1),this.default=e.default,this.onUpdate=e.onUpdate,this.isNullable=e.isNullable||!1,this.isGenerated=e.isGenerated||!1,this.generationStrategy=e.generationStrategy,this.generatedIdentity=e.generatedIdentity,this.isPrimary=e.isPrimary||!1,this.isUnique=e.isUnique||!1,this.isArray=e.isArray||!1,this.comment=e.comment,this.enum=e.enum,this.enumName=e.enumName,this.primaryKeyConstraintName=e.primaryKeyConstraintName,this.asExpression=e.asExpression,this.generatedType=e.generatedType,this.spatialFeatureType=e.spatialFeatureType,this.srid=e.srid)}clone(){return new $k({name:this.name,type:this.type,length:this.length,width:this.width,charset:this.charset,collation:this.collation,precision:this.precision,scale:this.scale,zerofill:this.zerofill,unsigned:this.unsigned,enum:this.enum,enumName:this.enumName,primaryKeyConstraintName:this.primaryKeyConstraintName,asExpression:this.asExpression,generatedType:this.generatedType,default:this.default,onUpdate:this.onUpdate,isNullable:this.isNullable,isGenerated:this.isGenerated,generationStrategy:this.generationStrategy,generatedIdentity:this.generatedIdentity,isPrimary:this.isPrimary,isUnique:this.isUnique,isArray:this.isArray,comment:this.comment,spatialFeatureType:this.spatialFeatureType,srid:this.srid})}}class Bk{constructor(e){this["@instanceof"]=Symbol.for("TableIndex"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.isUnique=!!e.isUnique,this.isSpatial=!!e.isSpatial,this.isFulltext=!!e.isFulltext,this.isNullFiltered=!!e.isNullFiltered,this.parser=e.parser,this.where=e.where?e.where:""}clone(){return new Bk({name:this.name,columnNames:[...this.columnNames],isUnique:this.isUnique,isSpatial:this.isSpatial,isFulltext:this.isFulltext,isNullFiltered:this.isNullFiltered,parser:this.parser,where:this.where})}static create(e){return new Bk({name:e.name,columnNames:e.columns.map((e=>e.databaseName)),isUnique:e.isUnique,isSpatial:e.isSpatial,isFulltext:e.isFulltext,isNullFiltered:e.isNullFiltered,parser:e.parser,where:e.where})}}class qk{constructor(e){this["@instanceof"]=Symbol.for("TableForeignKey"),this.columnNames=[],this.referencedColumnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.referencedColumnNames=e.referencedColumnNames,this.referencedDatabase=e.referencedDatabase,this.referencedSchema=e.referencedSchema,this.referencedTableName=e.referencedTableName,this.onDelete=e.onDelete,this.onUpdate=e.onUpdate,this.deferrable=e.deferrable}clone(){return new qk({name:this.name,columnNames:[...this.columnNames],referencedColumnNames:[...this.referencedColumnNames],referencedDatabase:this.referencedDatabase,referencedSchema:this.referencedSchema,referencedTableName:this.referencedTableName,onDelete:this.onDelete,onUpdate:this.onUpdate,deferrable:this.deferrable})}static create(e,t){return new qk({name:e.name,columnNames:e.columnNames,referencedColumnNames:e.referencedColumnNames,referencedDatabase:e.referencedEntityMetadata.database,referencedSchema:e.referencedEntityMetadata.schema,referencedTableName:e.referencedTablePath,onDelete:e.onDelete,onUpdate:e.onUpdate,deferrable:e.deferrable})}}class Uk{static createTableColumnOptions(e,t){return{name:e.databaseName,length:t.getColumnLength(e),width:e.width,charset:e.charset,collation:e.collation,precision:e.precision,scale:e.scale,zerofill:e.zerofill,unsigned:e.unsigned,asExpression:e.asExpression,generatedType:e.generatedType,default:t.normalizeDefault(e),onUpdate:e.onUpdate,comment:e.comment,isGenerated:e.isGenerated,generationStrategy:e.generationStrategy,generatedIdentity:e.generatedIdentity,isNullable:e.isNullable,type:t.normalizeType(e),isPrimary:e.isPrimary,isUnique:t.normalizeIsUnique(e),isArray:e.isArray||!1,enum:e.enum?e.enum.map((e=>e+"")):e.enum,enumName:e.enumName,primaryKeyConstraintName:e.primaryKeyConstraintName,spatialFeatureType:e.spatialFeatureType,srid:e.srid}}}class Fk{constructor(e){this["@instanceof"]=Symbol.for("TableUnique"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.deferrable=e.deferrable}clone(){return new Fk({name:this.name,columnNames:[...this.columnNames],deferrable:this.deferrable})}static create(e){return new Fk({name:e.name,columnNames:e.columns.map((e=>e.databaseName)),deferrable:e.deferrable})}}class zk{constructor(e){this["@instanceof"]=Symbol.for("TableCheck"),this.columnNames=[],this.name=e.name,this.columnNames=e.columnNames,this.expression=e.expression}clone(){return new zk({name:this.name,columnNames:this.columnNames?[...this.columnNames]:[],expression:this.expression})}static create(e){return new zk({name:e.name,expression:e.expression})}}class Vk{constructor(e){this["@instanceof"]=Symbol.for("TableExclusion"),this.name=e.name,this.expression=e.expression}clone(){return new Vk({name:this.name,expression:this.expression})}static create(e){return new Vk({name:e.name,expression:e.expression})}}class Hk{constructor(e){this["@instanceof"]=Symbol.for("Table"),this.columns=[],this.indices=[],this.foreignKeys=[],this.uniques=[],this.checks=[],this.exclusions=[],this.justCreated=!1,this.withoutRowid=!1,e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,e.columns&&(this.columns=e.columns.map((e=>new $k(e)))),e.indices&&(this.indices=e.indices.map((e=>new Bk(e)))),e.foreignKeys&&(this.foreignKeys=e.foreignKeys.map((t=>new qk({...t,referencedDatabase:(null==t?void 0:t.referencedDatabase)||e.database,referencedSchema:(null==t?void 0:t.referencedSchema)||e.schema})))),e.uniques&&(this.uniques=e.uniques.map((e=>new Fk(e)))),e.checks&&(this.checks=e.checks.map((e=>new zk(e)))),e.exclusions&&(this.exclusions=e.exclusions.map((e=>new Vk(e)))),void 0!==e.justCreated&&(this.justCreated=e.justCreated),e.withoutRowid&&(this.withoutRowid=e.withoutRowid),this.engine=e.engine)}get primaryColumns(){return this.columns.filter((e=>e.isPrimary))}clone(){return new Hk({schema:this.schema,database:this.database,name:this.name,columns:this.columns.map((e=>e.clone())),indices:this.indices.map((e=>e.clone())),foreignKeys:this.foreignKeys.map((e=>e.clone())),uniques:this.uniques.map((e=>e.clone())),checks:this.checks.map((e=>e.clone())),exclusions:this.exclusions.map((e=>e.clone())),justCreated:this.justCreated,withoutRowid:this.withoutRowid,engine:this.engine})}addColumn(e){this.columns.push(e)}removeColumn(e){const t=this.columns.find((t=>t.name===e.name));t&&this.columns.splice(this.columns.indexOf(t),1)}addUniqueConstraint(e){if(this.uniques.push(e),1===e.columnNames.length){const t=this.columns.find((t=>t.name===e.columnNames[0]));t&&(t.isUnique=!0)}}removeUniqueConstraint(e){const t=this.uniques.find((t=>t.name===e.name));if(t&&(this.uniques.splice(this.uniques.indexOf(t),1),1===t.columnNames.length)){const e=this.columns.find((e=>e.name===t.columnNames[0]));e&&(e.isUnique=!1)}}addCheckConstraint(e){this.checks.push(e)}removeCheckConstraint(e){const t=this.checks.find((t=>t.name===e.name));t&&this.checks.splice(this.checks.indexOf(t),1)}addExclusionConstraint(e){this.exclusions.push(e)}removeExclusionConstraint(e){const t=this.exclusions.find((t=>t.name===e.name));t&&this.exclusions.splice(this.exclusions.indexOf(t),1)}addForeignKey(e){this.foreignKeys.push(e)}removeForeignKey(e){const t=this.foreignKeys.find((t=>t.name===e.name));t&&this.foreignKeys.splice(this.foreignKeys.indexOf(t),1)}addIndex(e,t=!1){if(this.indices.push(e),1===e.columnNames.length&&e.isUnique&&t){const t=this.columns.find((t=>t.name===e.columnNames[0]));t&&(t.isUnique=!0)}}removeIndex(e,t=!1){const i=this.indices.find((t=>t.name===e.name));if(i&&(this.indices.splice(this.indices.indexOf(i),1),1===i.columnNames.length&&i.isUnique&&t)){const e=this.columns.find((e=>e.name===i.columnNames[0]));e&&(e.isUnique=this.indices.some((t=>1===t.columnNames.length&&t.columnNames[0]===e.name&&!!i.isUnique)))}}findColumnByName(e){return this.columns.find((t=>t.name===e))}findColumnIndices(e){return this.indices.filter((t=>!!t.columnNames.find((t=>t===e.name))))}findColumnForeignKeys(e){return this.foreignKeys.filter((t=>!!t.columnNames.find((t=>t===e.name))))}findColumnUniques(e){return this.uniques.filter((t=>!!t.columnNames.find((t=>t===e.name))))}findColumnChecks(e){return this.checks.filter((t=>!!t.columnNames.find((t=>t===e.name))))}static create(e,t){const i=e.database===t.database?void 0:e.database,n=e.schema===t.options.schema?void 0:e.schema,r={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,n,i),withoutRowid:e.withoutRowid,engine:e.engine,columns:e.columns.filter((e=>e&&!e.isVirtualProperty)).map((e=>Uk.createTableColumnOptions(e,t))),indices:e.indices.filter((e=>!0===e.synchronize)).map((e=>Bk.create(e))),uniques:e.uniques.map((e=>Fk.create(e))),checks:e.checks.map((e=>zk.create(e))),exclusions:e.exclusions.map((e=>Vk.create(e)))};return new Hk(r)}}class Wk{constructor(e,t,i,n,r){this.id=e,this.timestamp=t,this.name=i,this.instance=n,this.transaction=r}}class Gk{constructor(e,t,...i){this.value=e,this.type=t,this["@instanceof"]=Symbol.for("MssqlParameter"),this.params=[],this.params=i||[]}}class Kk{constructor(e,t){this.connection=e,this.queryRunner=t,this.transaction="all";const{schema:i}=this.connection.driver.options,n=this.connection.driver.database;this.migrationsDatabase=n,this.migrationsSchema=i,this.migrationsTableName=e.options.migrationsTableName||"migrations",this.migrationsTable=this.connection.driver.buildTableName(this.migrationsTableName,i,n)}async executeMigration(e){return this.withQueryRunner((async t=>{await this.createMigrationsTableIfNotExist(t);const i=this.connection.driver.createSchemaBuilder();return ok.isRdbmsSchemaBuilder(i)&&await i.createMetadataTableIfNecessary(t),await t.beforeMigration(),await e.instance.up(t),await t.afterMigration(),await this.insertExecutedMigration(t,e),e}))}async getAllMigrations(){return Promise.resolve(this.getMigrations())}async getExecutedMigrations(){return this.withQueryRunner((async e=>(await this.createMigrationsTableIfNotExist(e),await this.loadExecutedMigrations(e))))}async getPendingMigrations(){const e=await this.getAllMigrations(),t=await this.getExecutedMigrations();return e.filter((e=>!t.find((t=>t.name===e.name))))}insertMigration(e){return this.withQueryRunner((t=>this.insertExecutedMigration(t,e)))}deleteMigration(e){return this.withQueryRunner((t=>this.deleteExecutedMigration(t,e)))}async showMigrations(){let e=!1;const t=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(t);const i=await this.loadExecutedMigrations(t),n=this.getMigrations();for(const r of n){const t=i.find((e=>e.name===r.name));t?this.connection.logger.logSchemaBuild(`[X] ${t.id} ${r.name}`):(e=!0,this.connection.logger.logSchemaBuild(`[ ] ${r.name}`))}return this.queryRunner||await t.release(),e}async executePendingMigrations(){const e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);const t=this.connection.driver.createSchemaBuilder();ok.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);const i=await this.loadExecutedMigrations(e);let n=this.getLatestTimestampMigration(i);const r=this.getMigrations(),a=[],s=r.filter((e=>!i.find((t=>t.name===e.name))));if(!s.length)return this.connection.logger.logSchemaBuild("No migrations are pending"),this.queryRunner||await e.release(),[];if(this.connection.logger.logSchemaBuild(`${i.length} migrations are already loaded in the database.`),this.connection.logger.logSchemaBuild(`${r.length} migrations were found in the source code.`),n&&this.connection.logger.logSchemaBuild(`${n.name} is the last executed migration. It was executed on ${new Date(n.timestamp).toString()}.`),this.connection.logger.logSchemaBuild(`${s.length} migrations are new migrations must be executed.`),"all"===this.transaction){const e=s.filter((e=>{var t;return!(void 0===(null===(t=e.instance)||void 0===t?void 0:t.transaction))}));if(e.length>0){const t=new jk(e);throw this.connection.logger.logMigration(`Migrations failed, error: ${t.message}`),t}}const o={each:!0,none:!1,all:!1}[this.transaction];for(const u of s)if(u.instance){const e=u.instance.transaction;u.transaction=void 0===e?o:e}let l=!1;"all"!==this.transaction||e.isTransactionActive||(await e.beforeMigration(),await e.startTransaction(),l=!0);try{for(const t of s)this.fake?await this.insertExecutedMigration(e,t):(t.transaction&&!e.isTransactionActive&&(await e.beforeMigration(),await e.startTransaction(),l=!0),await t.instance.up(e).catch((e=>{throw this.connection.logger.logMigration(`Migration "${t.name}" failed, error: ${null==e?void 0:e.message}`),e})).then((async()=>{await this.insertExecutedMigration(e,t),t.transaction&&l&&(await e.commitTransaction(),await e.afterMigration())})).then((()=>{a.push(t),this.connection.logger.logSchemaBuild(`Migration ${t.name} has been ${this.fake?"(fake)":""} executed successfully.`)})));"all"===this.transaction&&l&&(await e.commitTransaction(),await e.afterMigration())}catch(c){if(l)try{await e.rollbackTransaction()}catch(d){}throw c}finally{this.queryRunner||await e.release()}return a}async undoLastMigration(){const e=this.queryRunner||this.connection.createQueryRunner();await this.createMigrationsTableIfNotExist(e);const t=this.connection.driver.createSchemaBuilder();ok.isRdbmsSchemaBuilder(t)&&await t.createMetadataTableIfNecessary(e);const i=await this.loadExecutedMigrations(e);let n=this.getLatestExecutedMigration(i);if(!n)return void this.connection.logger.logSchemaBuild("No migrations were found in the database. Nothing to revert!");const r=this.getMigrations().find((e=>e.name===n.name));if(!r)throw new YC(`No migration ${n.name} was found in the source code. Make sure you have this migration in your codebase and its included in the connection options.`);this.connection.logger.logSchemaBuild(`${i.length} migrations are already loaded in the database.`),this.connection.logger.logSchemaBuild(`${n.name} is the last executed migration. It was executed on ${new Date(n.timestamp).toString()}.`),this.connection.logger.logSchemaBuild("Now reverting it...");let a=!1;"none"===this.transaction||e.isTransactionActive||(await e.startTransaction(),a=!0);try{this.fake||(await e.beforeMigration(),await r.instance.down(e),await e.afterMigration()),await this.deleteExecutedMigration(e,r),this.connection.logger.logSchemaBuild(`Migration ${r.name} has been ${this.fake?"(fake)":""} reverted successfully.`),a&&await e.commitTransaction()}catch(s){if(a)try{await e.rollbackTransaction()}catch(o){}throw s}finally{this.queryRunner||await e.release()}}async createMigrationsTableIfNotExist(e){if("mongodb"===this.connection.driver.options.type)return;await e.hasTable(this.migrationsTable)||await e.createTable(new Hk({database:this.migrationsDatabase,schema:this.migrationsSchema,name:this.migrationsTable,columns:[{name:"id",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationId}),isGenerated:!0,generationStrategy:"increment",isPrimary:!0,isNullable:!1},{name:"timestamp",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp}),isPrimary:!1,isNullable:!1},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}),isNullable:!1}]}))}async loadExecutedMigrations(e){if("mongodb"===this.connection.driver.options.type){return e.cursor(this.migrationsTableName,{}).sort({_id:-1}).toArray()}return(await this.connection.manager.createQueryBuilder(e).select().orderBy(this.connection.driver.escape("id"),"DESC").from(this.migrationsTable,this.migrationsTableName).getRawMany()).map((e=>new Wk(parseInt(e.id),parseInt(e.timestamp),e.name)))}getMigrations(){const e=this.connection.migrations.map((e=>{const t=e.name||e.constructor.name,i=parseInt(t.substr(-13),10);if(!i||isNaN(i))throw new YC(`${t} migration name is wrong. Migration class name should have a JavaScript timestamp appended.`);return new Wk(void 0,i,t,e)}));return this.checkForDuplicateMigrations(e),e.sort(((e,t)=>e.timestamp-t.timestamp))}checkForDuplicateMigrations(e){const t=e.map((e=>e.name)),i=Array.from(new Set(t.filter(((e,i)=>t.indexOf(e)<i))));if(i.length>0)throw Error(`Duplicate migrations: ${i.join(", ")}`)}getLatestTimestampMigration(e){const t=e.map((e=>e)).sort(((e,t)=>-1*(e.timestamp-t.timestamp)));return t.length>0?t[0]:void 0}getLatestExecutedMigration(e){return e.length>0?e[0]:void 0}async insertExecutedMigration(e,t){const i={};if("mssql"===this.connection.driver.options.type?(i.timestamp=new Gk(t.timestamp,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp})),i.name=new Gk(t.name,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}))):(i.timestamp=t.timestamp,i.name=t.name),"mongodb"===this.connection.driver.options.type){const t=e;await t.databaseConnection.db(this.connection.driver.database).collection(this.migrationsTableName).insertOne(i)}else{const t=e.manager.createQueryBuilder();await t.insert().into(this.migrationsTable).values(i).execute()}}async deleteExecutedMigration(e,t){const i={};if("mssql"===this.connection.driver.options.type?(i.timestamp=new Gk(t.timestamp,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationTimestamp})),i.name=new Gk(t.name,this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.migrationName}))):(i.timestamp=t.timestamp,i.name=t.name),"mongodb"===this.connection.driver.options.type){const t=e;await t.databaseConnection.db(this.connection.driver.database).collection(this.migrationsTableName).deleteOne(i)}else{const t=e.manager.createQueryBuilder();await t.delete().from(this.migrationsTable).where(`${t.escape("timestamp")} = :timestamp`).andWhere(`${t.escape("name")} = :name`).setParameters(i).execute()}}async withQueryRunner(e){const t=this.queryRunner||this.connection.createQueryRunner();try{return await e(t)}finally{this.queryRunner||await t.release()}}}function Qk(e,t,i){let n=[],r={};return function a(s){r[s]=!0,n.push(s),e[s].forEach((function(e){if(r[e]){if(n.indexOf(e)>=0)throw n.push(e),new YC(`Dependency Cycle Found: ${n.join(" -> ")}`)}else a(e)})),n.pop(),t&&0!==e[s].length||-1!==i.indexOf(s)||i.push(s)}}class Yk{constructor(){this.nodes={},this.outgoingEdges={},this.incomingEdges={}}addNode(e,t){this.hasNode(e)||(this.nodes[e]=2===arguments.length?t:e,this.outgoingEdges[e]=[],this.incomingEdges[e]=[])}removeNode(e){this.hasNode(e)&&(delete this.nodes[e],delete this.outgoingEdges[e],delete this.incomingEdges[e],[this.incomingEdges,this.outgoingEdges].forEach((function(t){Object.keys(t).forEach((function(i){let n=t[i].indexOf(e);n>=0&&t[i].splice(n,1)}),this)})))}hasNode(e){return this.nodes.hasOwnProperty(e)}getNodeData(e){if(this.hasNode(e))return this.nodes[e];throw new YC(`Node does not exist: ${e}`)}setNodeData(e,t){if(!this.hasNode(e))throw new YC(`Node does not exist: ${e}`);this.nodes[e]=t}addDependency(e,t){if(!this.hasNode(e))throw new YC(`Node does not exist: ${e}`);if(!this.hasNode(t))throw new YC(`Node does not exist: ${t}`);return-1===this.outgoingEdges[e].indexOf(t)&&this.outgoingEdges[e].push(t),-1===this.incomingEdges[t].indexOf(e)&&this.incomingEdges[t].push(e),!0}removeDependency(e,t){let i;this.hasNode(e)&&(i=this.outgoingEdges[e].indexOf(t),i>=0&&this.outgoingEdges[e].splice(i,1)),this.hasNode(t)&&(i=this.incomingEdges[t].indexOf(e),i>=0&&this.incomingEdges[t].splice(i,1))}dependenciesOf(e,t){if(this.hasNode(e)){let i=[];Qk(this.outgoingEdges,t,i)(e);let n=i.indexOf(e);return n>=0&&i.splice(n,1),i}throw new YC(`Node does not exist: ${e}`)}dependantsOf(e,t){if(this.hasNode(e)){let i=[];Qk(this.incomingEdges,t,i)(e);let n=i.indexOf(e);return n>=0&&i.splice(n,1),i}throw new YC(`Node does not exist: ${e}`)}overallOrder(e){let t=this,i=[],n=Object.keys(this.nodes);if(0===n.length)return i;{let r=Qk(this.outgoingEdges,!1,[]);n.forEach((function(e){r(e)}));let a=Qk(this.outgoingEdges,e,i);return n.filter((function(e){return 0===t.incomingEdges[e].length})).forEach((function(e){a(e)})),i}}}class Xk{static isGreaterOrEqual(e,t){const i=Jk(e),n=Jk(t);return i[0]>n[0]||i[0]===n[0]&&i[1]>n[1]||i[0]===n[0]&&i[1]===n[1]&&i[2]>=n[2]}}function Jk(e=""){const t=[0,0,0];return e.split(".").forEach(((e,i)=>t[i]=parseInt(e,10))),t}class Zk{static isSQLiteFamily(e){return["sqlite","cordova","react-native","nativescript","sqljs","expo","better-sqlite3","capacitor"].includes(e.options.type)}static isMySQLFamily(e){return["mysql","mariadb"].includes(e.options.type)}static isReleaseVersionOrGreater(e,t){return null!=e.version&&Xk.isGreaterOrEqual(e.version,t)}static isPostgresFamily(e){return["postgres","aurora-postgres","cockroachdb"].includes(e.options.type)}static buildDriverOptions(e,t){if(e.url){const i=this.parseConnectionUrl(e.url);t&&t.useSid&&i.database&&(i.sid=i.database);for(const e of Object.keys(i))void 0===i[e]&&delete i[e];return Object.assign({},e,i)}return Object.assign({},e)}static buildMongoDBDriverOptions(e,t){if(e.url){const i=this.parseMongoDBConnectionUrl(e.url);t&&t.useSid&&i.database&&(i.sid=i.database);for(const e of Object.keys(i))void 0===i[e]&&delete i[e];return Object.assign({},e,i)}return Object.assign({},e)}static buildAlias({maxAliasLength:e},t,...i){const n=1===i.length?i[0]:i.join(t&&t.joiner?t.joiner:"_");if(e&&e>0&&n.length>e){if(t&&!0===t.shorten){const t=KC(n);if(t.length<e)return t}return function(e,t={}){const i=HC("sha1");i.update(e,"utf8");const n=i.digest("hex");return t.length?n.slice(0,t.length):n}(n,{length:e})}return n}static buildColumnAlias({maxAliasLength:e},t,...i){return"string"==typeof t?(i.unshift(t),t={shorten:!1,joiner:"_"}):t=Object.assign({shorten:!1,joiner:"_"},t),this.buildAlias({maxAliasLength:e},t,...i)}static parseConnectionUrl(e){const t=e.split(":")[0],i=e.indexOf("//"),n=e.substr(i+2),r=n.indexOf("/"),a=-1!==r?n.substr(0,r):n;let s=-1!==r?n.substr(r+1):void 0;s&&-1!==s.indexOf("?")&&(s=s.substr(0,s.indexOf("?")));const o=a.lastIndexOf("@"),l=a.substr(0,o),c=a.substr(o+1);let d=l,u="";const h=l.indexOf(":");-1!==h&&(d=l.substr(0,h),u=l.substr(h+1));const[p,m]=c.split(":");return{type:t,host:p,username:decodeURIComponent(d),password:decodeURIComponent(u),port:m?parseInt(m):void 0,database:s||void 0}}static parseMongoDBConnectionUrl(e){const t=e.split(":")[0],i=e.indexOf("//"),n=e.substr(i+2),r=n.indexOf("/"),a=-1!==r?n.substr(0,r):n;let s,o,l,c,d=-1!==r?n.substr(r+1):void 0,u="",h={};if(d&&-1!==d.indexOf("?")){u=d.substr(d.indexOf("?")+1,d.length);let e,t;u.split("&").forEach((i=>{e=i.split("=")[0],t=i.split("=")[1],h[e]=t})),c=h.replicaSet,d=d.substr(0,d.indexOf("?"))}const p=a.lastIndexOf("@"),m=a.substr(0,p),f=a.substr(p+1);let g=m,y="";const b=m.indexOf(":");-1!==b&&(g=m.substr(0,b),y=m.substr(b+1)),c?l=f:[s,o]=f.split(":");let v={type:t,host:s,hostReplicaSet:l,username:decodeURIComponent(g),password:decodeURIComponent(y),port:o?parseInt(o):void 0,database:d||void 0};for(const[w,T]of Object.entries(h))v[w]=T;return v}}class eA{validateMany(e,t){e.forEach((i=>this.validate(i,e,t))),this.validateDependencies(e),this.validateEagerRelations(e)}validate(e,t,i){if(!e.primaryColumns.length&&!e.isJunction)throw new bk(e);if(e.primaryColumns.length>1){if(!e.primaryColumns.every(((e,t,i)=>e.primaryKeyConstraintName===i[0].primaryKeyConstraintName)))throw new YC(`Entity ${e.name} has multiple primary columns with different constraint names. Constraint names should be the equal.`)}if("STI"===e.inheritancePattern||"entity-child"===e.tableType){if(!e.discriminatorColumn)throw new YC(`Entity ${e.name} using single-table inheritance, it should also have a discriminator column. Did you forget to put discriminator column options?`);if(void 0===e.discriminatorValue)throw new YC(`Entity ${e.name} has an undefined discriminator value. Discriminator value should be defined.`);const i=t.find((t=>t!==e&&("STI"===t.inheritancePattern||"entity-child"===t.tableType)&&t.tableName===e.tableName&&t.discriminatorValue===e.discriminatorValue&&t.inheritanceTree.some((t=>-1!==e.inheritanceTree.indexOf(t)))));if(i)throw new YC(`Entities ${e.name} and ${i.name} have the same discriminator values. Make sure they are different while using the @ChildEntity decorator.`)}if(e.relationCounts.forEach((e=>{if(e.relation.isManyToOne||e.relation.isOneToOne)throw new YC("Relation count can not be implemented on ManyToOne or OneToOne relations.")})),"mongodb"!==i.options.type&&e.columns.filter((e=>!e.isVirtualProperty)).forEach((t=>{const n=i.normalizeType(t);if(-1===i.supportedDataTypes.indexOf(n))throw new kk(t,n,i.options.type);if(t.length&&-1===i.withLengthColumnTypes.indexOf(n))throw new YC(`Column ${t.propertyName} of Entity ${e.name} does not support length property.`);if("enum"===t.type&&!t.enum&&!t.enumName)throw new YC(`Column "${t.propertyName}" of Entity "${e.name}" is defined as enum, but missing "enum" or "enumName" properties.`)})),Zk.isMySQLFamily(i)||"aurora-mysql"===i.options.type){if(e.columns.filter((e=>e.isGenerated&&"uuid"!==e.generationStrategy)).length>1)throw new YC(`Error in ${e.name} entity. There can be only one auto-increment column in MySql table.`)}if(Zk.isMySQLFamily(i)){if(0===t.filter((e=>e.database)).length&&!i.database)throw new Dk("database")}if("mssql"===i.options.type){if(e.columns.filter((e=>e.charset)).length>1)throw new YC("Character set specifying is not supported in Sql Server")}if("postgres"===i.options.type){const t=e.columns.find((e=>e.asExpression&&(!e.generatedType||"VIRTUAL"===e.generatedType)));if(t)throw new YC(`Column "${t.propertyName}" of Entity "${e.name}" is defined as VIRTUAL, but Postgres supports only STORED generated columns.`)}const n=e.create(void 0,{fromDeserializer:!0});e.relations.forEach((e=>{if(e.isManyToMany||e.isOneToMany){if(!1===e.persistenceEnabled)return;const t=e.getEntityValue(n);if(Array.isArray(t))throw new Ak(e)}})),e.relations.forEach((e=>{if(i.supportedOnDeleteTypes&&e.onDelete&&!i.supportedOnDeleteTypes.includes(e.onDelete))throw new YC(`OnDeleteType "${e.onDelete}" is not supported for ${i.options.type}!`);if(i.supportedOnUpdateTypes&&e.onUpdate&&!i.supportedOnUpdateTypes.includes(e.onUpdate))throw new YC(`OnUpdateType "${e.onUpdate}" is not valid for ${i.options.type}!`)})),e.relations.forEach((t=>{if(t.isCascadeRemove&&t.inverseRelation&&t.inverseRelation.isCascadeRemove)throw new YC(`Relation ${e.name}#${t.propertyName} and ${t.inverseRelation.entityMetadata.name}#${t.inverseRelation.propertyName} both has cascade remove set. This may lead to unexpected circular removals. Please set cascade remove only from one side of relationship.`)})),e.eagerRelations.forEach((e=>{}))}validateDependencies(e){const t=new Yk;e.forEach((e=>{t.addNode(e.name)})),e.forEach((e=>{e.relationsWithJoinColumns.filter((e=>!e.isNullable)).forEach((i=>{t.addDependency(e.name,i.inverseEntityMetadata.name)}))}));try{t.overallOrder()}catch(i){throw new yk(i.toString().replace("Error: Dependency Cycle Found: ",""))}}validateEagerRelations(e){e.forEach((e=>{e.eagerRelations.forEach((t=>{if(t.inverseRelation&&t.inverseRelation.isEager)throw new YC(`Circular eager relations are disallowed. ${e.targetName}#${t.propertyPath} contains "eager: true", and its inverse side ${t.inverseEntityMetadata.targetName}#${t.inverseRelation.propertyPath} contains "eager: true" as well. Remove "eager: true" from one side of the relation.`)}))}))}}class tA{}class iA{}class nA{}class rA{}class aA{}class sA{}class oA{}class lA{}class cA{}class dA{}class uA{}class hA{static isFindOneOptions(e){const t=e;return t&&(Array.isArray(t.select)||Array.isArray(t.relations)||"object"==typeof t.select||"object"==typeof t.relations||"object"==typeof t.where||"object"==typeof t.join||"object"==typeof t.order||"object"==typeof t.cache||"boolean"==typeof t.cache||"number"==typeof t.cache||"string"==typeof t.comment||"object"==typeof t.lock||"object"==typeof t.loadRelationIds||"boolean"==typeof t.loadRelationIds||"boolean"==typeof t.loadEagerRelations||"boolean"==typeof t.withDeleted||"string"==typeof t.relationLoadStrategy||"boolean"==typeof t.transaction)}static isFindManyOptions(e){const t=e;return t&&(this.isFindOneOptions(t)||"number"==typeof t.skip||"number"==typeof t.take||"string"==typeof t.skip||"string"==typeof t.take)}static extractFindManyOptionsAlias(e){if(this.isFindManyOptions(e)&&e.join)return e.join.alias}static applyOptionsToTreeQueryBuilder(e,t){if(null==t?void 0:t.relations){const i=[...t.relations];if(hA.applyRelationsRecursively(e,i,e.expressionMap.mainAlias.name,e.expressionMap.mainAlias.metadata,""),i.length>0)throw new Sk(i)}return e}static applyRelationsRecursively(e,t,i,n,r){let a=[];if(r){const e=new RegExp("^"+r.replace(".","\\.")+"\\.");a=t.filter((t=>t.match(e))).map((t=>n.findRelationWithPropertyPath(t.replace(e,"")))).filter((e=>e))}else a=t.map((e=>n.findRelationWithPropertyPath(e))).filter((e=>e));a.forEach((a=>{let s=Zk.buildAlias(e.connection.driver,{joiner:"__"},i,a.propertyPath);const o=i+"."+a.propertyPath;let l,c;if("query"===e.expressionMap.relationLoadStrategy?e.concatRelationMetadata(a):e.leftJoinAndSelect(o,s),t.splice(t.indexOf(r?r+"."+a.propertyPath:a.propertyPath),1),"query"===e.expressionMap.relationLoadStrategy)l=a.inverseEntityMetadata,c=s;else{const t=e.expressionMap.joinAttributes.find((e=>e.entityOrProperty===o));l=t.metadata,c=t.alias.name}if(!c||!l)throw new vk(a.propertyPath,n);if(this.applyRelationsRecursively(e,t,c,l,r?r+"."+a.propertyPath:a.propertyPath),"join"===e.expressionMap.relationLoadStrategy){const t=n.relations.find((e=>e.propertyName===a.propertyPath));t&&this.joinEagerRelations(e,s,t.inverseEntityMetadata)}}))}static joinEagerRelations(e,t,i){i.eagerRelations.forEach((i=>{let n=Zk.buildAlias(e.connection.driver,{joiner:"__"},t,i.propertyPath),r=!0;for(const o of e.expressionMap.joinAttributes)if(void 0===o.condition&&void 0===o.mapToProperty&&void 0===o.isMappingMany&&"LEFT"===o.direction&&o.entityOrProperty===`${t}.${i.propertyPath}`){r=!1,n=o.alias.name;break}const a=Boolean(e.expressionMap.joinAttributes.find((e=>e.alias.name===n)));r&&!a&&e.leftJoin(t+"."+i.propertyPath,n);let s=!0;for(const t of e.expressionMap.selects)if(void 0===t.aliasName&&void 0===t.virtual&&t.selection===n){s=!1;break}s&&e.addSelect(n),this.joinEagerRelations(e,n,i.inverseEntityMetadata)}))}}class pA{static createRelationMaps(e,t,i,n){return n.map((n=>{var r;const a=t.treeParentRelation.joinColumns[0],s=null!==(r=a.referencedColumn)&&void 0!==r?r:t.primaryColumns[0],o=a.givenDatabaseName||a.databaseName,l=s.givenDatabaseName||s.databaseName,c=n[i+"_"+l],d=n[i+"_"+o];return{id:e.connection.driver.prepareHydratedValue(c,s),parentId:e.connection.driver.prepareHydratedValue(d,a)}}))}static buildChildrenEntityTree(e,t,i,n,r){var a;const s=e.treeChildrenRelation.propertyName;if(0===r.depth)return void(t[s]=[]);const o=null!==(a=e.treeParentRelation.joinColumns[0].referencedColumn)&&void 0!==a?a:e.primaryColumns[0],l=o.getEntityValue(t),c=n.filter((e=>e.parentId===l)),d=new Set(c.map((e=>e.id)));t[s]=i.filter((e=>d.has(o.getEntityValue(e)))),t[s].forEach((t=>{pA.buildChildrenEntityTree(e,t,i,n,{...r,depth:r.depth-1})}))}static buildParentEntityTree(e,t,i,n){var r;const a=e.treeParentRelation.propertyName,s=null!==(r=e.treeParentRelation.joinColumns[0].referencedColumn)&&void 0!==r?r:e.primaryColumns[0],o=s.getEntityValue(t),l=n.find((e=>e.id===o)),c=i.find((e=>!!l&&s.getEntityValue(e)===l.parentId));c&&(t[a]=c,pA.buildParentEntityTree(e,t[a],i,n))}}class mA{get metadata(){return this.manager.connection.getMetadata(this.target)}constructor(e,t,i){this.target=e,this.manager=t,this.queryRunner=i}createQueryBuilder(e,t){return this.manager.createQueryBuilder(this.metadata.target,e||this.metadata.targetName,t||this.queryRunner)}hasId(e){return this.manager.hasId(this.metadata.target,e)}getId(e){return this.manager.getId(this.metadata.target,e)}create(e){return this.manager.create(this.metadata.target,e)}merge(e,...t){return this.manager.merge(this.metadata.target,e,...t)}preload(e){return this.manager.preload(this.metadata.target,e)}save(e,t){return this.manager.save(this.metadata.target,e,t)}remove(e,t){return this.manager.remove(this.metadata.target,e,t)}softRemove(e,t){return this.manager.softRemove(this.metadata.target,e,t)}recover(e,t){return this.manager.recover(this.metadata.target,e,t)}insert(e){return this.manager.insert(this.metadata.target,e)}update(e,t){return this.manager.update(this.metadata.target,e,t)}upsert(e,t){return this.manager.upsert(this.metadata.target,e,t)}delete(e){return this.manager.delete(this.metadata.target,e)}softDelete(e){return this.manager.softDelete(this.metadata.target,e)}restore(e){return this.manager.restore(this.metadata.target,e)}exist(e){return this.manager.exists(this.metadata.target,e)}count(e){return this.manager.count(this.metadata.target,e)}countBy(e){return this.manager.countBy(this.metadata.target,e)}sum(e,t){return this.manager.sum(this.metadata.target,e,t)}average(e,t){return this.manager.average(this.metadata.target,e,t)}minimum(e,t){return this.manager.minimum(this.metadata.target,e,t)}maximum(e,t){return this.manager.maximum(this.metadata.target,e,t)}async find(e){return this.manager.find(this.metadata.target,e)}async findBy(e){return this.manager.findBy(this.metadata.target,e)}findAndCount(e){return this.manager.findAndCount(this.metadata.target,e)}findAndCountBy(e){return this.manager.findAndCountBy(this.metadata.target,e)}async findByIds(e){return this.manager.findByIds(this.metadata.target,e)}async findOne(e){return this.manager.findOne(this.metadata.target,e)}async findOneBy(e){return this.manager.findOneBy(this.metadata.target,e)}async findOneById(e){return this.manager.findOneById(this.metadata.target,e)}async findOneOrFail(e){return this.manager.findOneOrFail(this.metadata.target,e)}async findOneByOrFail(e){return this.manager.findOneByOrFail(this.metadata.target,e)}query(e,t){return this.manager.query(e,t)}clear(){return this.manager.clear(this.metadata.target)}increment(e,t,i){return this.manager.increment(this.metadata.target,e,t,i)}decrement(e,t,i){return this.manager.decrement(this.metadata.target,e,t,i)}extend(e){const t=this.constructor,{target:i,manager:n,queryRunner:r}=this,a=new class extends t{}(i,n,r);return Object.assign(a,e),a}}class fA extends mA{async findTrees(e){const t=await this.findRoots(e);return await Promise.all(t.map((t=>this.findDescendantsTree(t,e)))),t}findRoots(e){const t=this.metadata.treeParentRelation.joinColumns[0],i=t.givenDatabaseName||t.databaseName,n=this.createQueryBuilder("treeEntity");return hA.applyOptionsToTreeQueryBuilder(n,e),n.where(`${(e=>this.manager.connection.driver.escape(e))("treeEntity")}.${(e=>this.manager.connection.driver.escape(e))(i)} IS NULL`).getMany()}findDescendants(e,t){const i=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);return hA.applyOptionsToTreeQueryBuilder(i,t),i.getMany()}async findDescendantsTree(e,t){const i=this.createDescendantsQueryBuilder("treeEntity","treeClosure",e);hA.applyOptionsToTreeQueryBuilder(i,t);const n=await i.getRawAndEntities(),r=pA.createRelationMaps(this.manager,this.metadata,"treeEntity",n.raw);return pA.buildChildrenEntityTree(this.metadata,e,n.entities,r,{depth:-1,...t}),e}countDescendants(e){return this.createDescendantsQueryBuilder("treeEntity","treeClosure",e).getCount()}createDescendantsQueryBuilder(e,t,i){const n=e=>this.manager.connection.driver.escape(e);if("closure-table"===this.metadata.treeType){const r=this.metadata.closureJunctionTable.descendantColumns.map((i=>n(t)+"."+n(i.propertyPath)+" = "+n(e)+"."+n(i.referencedColumn.propertyPath))).join(" AND "),a={},s=this.metadata.closureJunctionTable.ancestorColumns.map((e=>(a[e.referencedColumn.propertyName]=e.referencedColumn.getEntityValue(i),n(t)+"."+n(e.propertyPath)+" = :"+e.referencedColumn.propertyName))).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,r).where(s).setParameters(a)}if("nested-set"===this.metadata.treeType){const t=e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN joined."+this.metadata.nestedSetLeftColumn.propertyPath+" AND joined."+this.metadata.nestedSetRightColumn.propertyPath,n={},r=this.metadata.treeParentRelation.joinColumns.map((e=>{const t=e.referencedColumn.propertyPath.replace(".","_");return n[t]=e.referencedColumn.getEntityValue(i),"joined."+e.referencedColumn.propertyPath+" = :"+t})).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",t).where(r,n)}if("materialized-path"===this.metadata.treeType)return this.createQueryBuilder(e).where((t=>{const n=t.subQuery().select(`${this.metadata.targetName}.${this.metadata.materializedPathColumn.propertyPath}`,"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(i));return Zk.isSQLiteFamily(this.manager.connection.driver)?`${e}.${this.metadata.materializedPathColumn.propertyPath} LIKE ${n.getQuery()} || '%'`:`${e}.${this.metadata.materializedPathColumn.propertyPath} LIKE NULLIF(CONCAT(${n.getQuery()}, '%'), '%')`}));throw new YC("Supported only in tree entities")}findAncestors(e,t){const i=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);return hA.applyOptionsToTreeQueryBuilder(i,t),i.getMany()}async findAncestorsTree(e,t){const i=this.createAncestorsQueryBuilder("treeEntity","treeClosure",e);hA.applyOptionsToTreeQueryBuilder(i,t);const n=await i.getRawAndEntities(),r=pA.createRelationMaps(this.manager,this.metadata,"treeEntity",n.raw);return pA.buildParentEntityTree(this.metadata,e,n.entities,r),e}countAncestors(e){return this.createAncestorsQueryBuilder("treeEntity","treeClosure",e).getCount()}createAncestorsQueryBuilder(e,t,i){if("closure-table"===this.metadata.treeType){const n=this.metadata.closureJunctionTable.ancestorColumns.map((i=>t+"."+i.propertyPath+" = "+e+"."+i.referencedColumn.propertyPath)).join(" AND "),r={},a=this.metadata.closureJunctionTable.descendantColumns.map((e=>(r[e.referencedColumn.propertyName]=e.referencedColumn.getEntityValue(i),t+"."+e.propertyPath+" = :"+e.referencedColumn.propertyName))).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.closureJunctionTable.tableName,t,n).where(a).setParameters(r)}if("nested-set"===this.metadata.treeType){const t="joined."+this.metadata.nestedSetLeftColumn.propertyPath+" BETWEEN "+e+"."+this.metadata.nestedSetLeftColumn.propertyPath+" AND "+e+"."+this.metadata.nestedSetRightColumn.propertyPath,n={},r=this.metadata.treeParentRelation.joinColumns.map((e=>{const t=e.referencedColumn.propertyPath.replace(".","_");return n[t]=e.referencedColumn.getEntityValue(i),"joined."+e.referencedColumn.propertyPath+" = :"+t})).join(" AND ");return this.createQueryBuilder(e).innerJoin(this.metadata.targetName,"joined",t).where(r,n)}if("materialized-path"===this.metadata.treeType)return this.createQueryBuilder(e).where((t=>{const n=t.subQuery().select(`${this.metadata.targetName}.${this.metadata.materializedPathColumn.propertyPath}`,"path").from(this.metadata.target,this.metadata.targetName).whereInIds(this.metadata.getEntityIdMap(i));return Zk.isSQLiteFamily(this.manager.connection.driver)?`${n.getQuery()} LIKE ${e}.${this.metadata.materializedPathColumn.propertyPath} || '%'`:`${n.getQuery()} LIKE CONCAT(${e}.${this.metadata.materializedPathColumn.propertyPath}, '%')`}));throw new YC("Supported only in tree entities")}}class gA{transform(e,t,i,n=!1){return this.groupAndTransform(e,t,i,n),e}groupAndTransform(e,t,i,n=!1){i.nonVirtualColumns.forEach((i=>{const n=i.getEntityValue(t);void 0!==n&&i.setEntityValue(e,n)})),i.relations.length&&i.relations.forEach((i=>{let r=i.getEntityValue(e);const a=i.getEntityValue(t,n);if(void 0!==a)if(i.isOneToMany||i.isManyToMany){if(!Array.isArray(a))return;r||(r=[],i.setEntityValue(e,r)),a.forEach((e=>{let t=r.find((t=>i.inverseEntityMetadata.compareEntities(e,t)));const a=i.inverseEntityMetadata.findInheritanceMetadata(e);t||(t=a.create(void 0,{fromDeserializer:!0}),r.push(t)),this.groupAndTransform(t,e,a,n)}))}else{if(!sk.isObject(a))return void(sk.isObject(r)||i.setEntityValue(e,a));const t=i.inverseEntityMetadata.findInheritanceMetadata(a);r||(r=t.create(void 0,{fromDeserializer:!0}),i.setEntityValue(e,r)),this.groupAndTransform(r,a,t,n)}}))}}class yA{constructor(e,t,i,n){this.plainEntity=e,this.metadata=t,this.parentLoadMapItem=i,this.relation=n}get target(){return this.metadata.target}get id(){return this.metadata.getEntityIdMixedMap(this.plainEntity)}}class bA{constructor(){this.loadMapItems=[]}get mainLoadMapItem(){return this.loadMapItems.find((e=>!e.relation&&!e.parentLoadMapItem))}addLoadMap(e){this.loadMapItems.find((t=>t.target===e.target&&t.id===e.id))||this.loadMapItems.push(e)}fillEntities(e,t){t.forEach((t=>{const i=this.loadMapItems.find((i=>i.target===e&&i.metadata.compareEntities(t,i.plainEntity)));i&&(i.entity=t)}))}groupByTargetIds(){const e=[];return this.loadMapItems.forEach((t=>{let i=e.find((e=>e.target===t.target));i||(i={target:t.target,ids:[]},e.push(i)),i.ids.push(t.id)})),e}}class vA{constructor(e){this.manager=e}async transform(e,t){if(!t.hasAllPrimaryKeys(e))return Promise.reject("Given object does not have a primary column, cannot transform it to database entity.");const i=new bA,n=(e,r,a,s)=>{const o=new yA(e,r,a,s);i.addLoadMap(o),r.extractRelationValuesFromEntity(e,t.relations).filter((e=>null!=e)).forEach((([e,t,i])=>n(t,i,o,e)))};return n(e,t),await Promise.all(i.groupByTargetIds().map((e=>this.manager.findByIds(e.target,e.ids).then((t=>i.fillEntities(e.target,t)))))),i.loadMapItems.forEach((e=>{e.relation&&e.entity&&e.parentLoadMapItem&&e.parentLoadMapItem.entity&&(e.relation.isManyToMany||e.relation.isOneToMany?(e.parentLoadMapItem.entity[e.relation.propertyName]||(e.parentLoadMapItem.entity[e.relation.propertyName]=[]),e.parentLoadMapItem.entity[e.relation.propertyName].push(e.entity)):e.parentLoadMapItem.entity[e.relation.propertyName]=e.entity)})),i.mainLoadMapItem?i.mainLoadMapItem.entity:void 0}}class wA{get repository(){const e=this.getCustomRepositoryTarget(this);if(!e)throw new gk(this.constructor);return this.manager.getRepository(e)}get treeRepository(){const e=this.getCustomRepositoryTarget(this);if(!e)throw new gk(this.constructor);return this.manager.getTreeRepository(e)}createQueryBuilder(e){const t=this.getCustomRepositoryTarget(this.constructor);if(!t)throw new gk(this.constructor);return this.manager.getRepository(t).createQueryBuilder(e)}createQueryBuilderFor(e,t){return this.getRepositoryFor(e).createQueryBuilder(t)}getRepositoryFor(e){return this.manager.getRepository(e)}getTreeRepositoryFor(e){return this.manager.getTreeRepository(e)}getCustomRepositoryTarget(e){const t=UO().entityRepositories.find((t=>t.target===("function"==typeof e?e:e.constructor)));if(!t)throw new nk(e);return t.entity}}class TA{constructor(e){this.subjects=[...e],this.metadatas=this.getUniqueMetadatas(this.subjects)}sort(e){if(!this.metadatas.length)return this.subjects;const t=[];if("delete"===e){const e=this.subjects.filter((e=>!e.entity&&!e.databaseEntity));t.push(...e),this.removeAlreadySorted(e)}const i=this.getNonNullableDependencies();let n=this.toposort(i);"insert"===e&&(n=n.reverse()),n.forEach((e=>{const i=this.subjects.filter((t=>t.metadata.targetName===e||t.metadata.inheritanceTree.some((t=>t.name===e))));t.push(...i),this.removeAlreadySorted(i)}));const r=this.getDependencies();let a=this.toposort(r);return"insert"===e&&(a=a.reverse()),a.forEach((e=>{const i=this.subjects.filter((t=>t.metadata.targetName===e));t.push(...i),this.removeAlreadySorted(i)})),t.push(...this.subjects),t}removeAlreadySorted(e){e.forEach((e=>{this.subjects.splice(this.subjects.indexOf(e),1)}))}getUniqueMetadatas(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e.metadata)&&t.push(e.metadata)})),t}getNonNullableDependencies(){return this.metadatas.reduce(((e,t)=>(t.relationsWithJoinColumns.forEach((i=>{i.isNullable||e.push([t.targetName,i.inverseEntityMetadata.targetName])})),e)),[])}getDependencies(){return this.metadatas.reduce(((e,t)=>(t.relationsWithJoinColumns.forEach((i=>{i.inverseEntityMetadata!==t&&e.push([t.targetName,i.inverseEntityMetadata.targetName])})),e)),[])}toposort(e){const t=function(e){let t=[];for(let i=0,n=e.length;i<n;i++){let n=e[i];t.indexOf(n[0])<0&&t.push(n[0]),t.indexOf(n[1])<0&&t.push(n[1])}return t}(e);let i=t.length,n=new Array(i),r={},a=i;for(;a--;)r[a]||s(t[a],a,[]);function s(a,o,l){if(l.indexOf(a)>=0)throw new YC("Cyclic dependency: "+JSON.stringify(a));if(!~t.indexOf(a))throw new YC("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(a));if(r[o])return;r[o]=!0;let c=e.filter((function(e){return e[0]===a}));if(o=c.length){let e=l.concat(a);do{let i=c[--o][1];s(i,t.indexOf(i),e)}while(o)}n[--i]=a}return n}}var xA=6e4,EA=36e5;function _A(e,t){var i;!function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}(1,arguments);var n=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(null!==(i=null==t?void 0:t.additionalDigits)&&void 0!==i?i:2);if(2!==n&&1!==n&&0!==n)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var r,a=function(e){var t,i={},n=e.split(SA.dateTimeDelimiter);if(n.length>2)return i;/:/.test(n[0])?t=n[0]:(i.date=n[0],t=n[1],SA.timeZoneDelimiter.test(i.date)&&(i.date=e.split(SA.timeZoneDelimiter)[0],t=e.substr(i.date.length,e.length)));if(t){var r=SA.timezone.exec(t);r?(i.time=t.replace(r[1],""),i.timezone=r[1]):i.time=t}return i}(e);if(a.date){var s=function(e,t){var i=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(i);if(!n)return{year:NaN,restDateString:""};var r=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:null===a?r:100*a,restDateString:e.slice((n[1]||n[2]).length)}}(a.date,n);r=function(e,t){if(null===t)return new Date(NaN);var i=e.match(CA);if(!i)return new Date(NaN);var n=!!i[4],r=NA(i[1]),a=NA(i[2])-1,s=NA(i[3]),o=NA(i[4]),l=NA(i[5])-1;if(n)return function(e,t,i){return t>=1&&t<=53&&i>=0&&i<=6}(0,o,l)?function(e,t,i){var n=new Date(0);n.setUTCFullYear(e,0,4);var r=n.getUTCDay()||7,a=7*(t-1)+i+1-r;return n.setUTCDate(n.getUTCDate()+a),n}(t,o,l):new Date(NaN);var c=new Date(0);return function(e,t,i){return t>=0&&t<=11&&i>=1&&i<=(PA[t]||(IA(e)?29:28))}(t,a,s)&&function(e,t){return t>=1&&t<=(IA(e)?366:365)}(t,r)?(c.setUTCFullYear(t,a,Math.max(r,s)),c):new Date(NaN)}(s.restDateString,s.year)}if(!r||isNaN(r.getTime()))return new Date(NaN);var o,l=r.getTime(),c=0;if(a.time&&(c=function(e){var t=e.match(kA);if(!t)return NaN;var i=OA(t[1]),n=OA(t[2]),r=OA(t[3]);if(!function(e,t,i){if(24===e)return 0===t&&0===i;return i>=0&&i<60&&t>=0&&t<60&&e>=0&&e<25}(i,n,r))return NaN;return i*EA+n*xA+1e3*r}(a.time),isNaN(c)))return new Date(NaN);if(!a.timezone){var d=new Date(l+c),u=new Date(0);return u.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),u.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),u}return o=function(e){if("Z"===e)return 0;var t=e.match(AA);if(!t)return 0;var i="+"===t[1]?-1:1,n=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,r))return NaN;return i*(n*EA+r*xA)}(a.timezone),isNaN(o)?new Date(NaN):new Date(l+c+o)}var SA={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CA=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kA=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,AA=/^([+-])(\d{2})(?::?(\d{2}))?$/;function NA(e){return e?parseInt(e):1}function OA(e){return e&&parseFloat(e.replace(",","."))||0}var MA,PA=[31,null,31,30,31,30,31,31,30,31,30,31];function IA(e){return e%400==0||e%4==0&&e%100!=0}class RA{static normalizeHydratedDate(e){return e&&"string"==typeof e?new Date(e):e}static mixedDateToDateString(e){return e instanceof Date?this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate()):e}static mixedDateToDate(e,t=!1,i=!0){let n="string"==typeof e?_A(e):e;return t&&(n=new Date(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds(),n.getUTCMilliseconds())),i||n.setUTCMilliseconds(0),n}static mixedDateToTimeString(e,t=!1){return e instanceof Date?this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+(t?"":":"+this.formatZerolessValue(e.getSeconds())):e}static mixedTimeToDate(e){if("string"==typeof e){const[t,i,n]=e.split(":"),r=new Date;return t&&r.setHours(parseInt(t)),i&&r.setMinutes(parseInt(i)),n&&r.setSeconds(parseInt(n)),r}return e}static mixedTimeToString(e,t=!1){return"string"==typeof(e=e instanceof Date?e.getHours()+":"+e.getMinutes()+(t?"":":"+e.getSeconds()):e)?e.split(":").map((e=>1===e.length?"0"+e:e)).join(":"):e}static mixedDateToDatetimeString(e,t){if("string"==typeof e&&(e=new Date(e)),e instanceof Date){let i=this.formatZerolessValue(e.getFullYear(),4)+"-"+this.formatZerolessValue(e.getMonth()+1)+"-"+this.formatZerolessValue(e.getDate())+" "+this.formatZerolessValue(e.getHours())+":"+this.formatZerolessValue(e.getMinutes())+":"+this.formatZerolessValue(e.getSeconds());t&&(i+=`.${this.formatMilliseconds(e.getMilliseconds())}`),e=i}return e}static mixedDateToUtcDatetimeString(e){return"string"==typeof e&&(e=new Date(e)),e instanceof Date?this.formatZerolessValue(e.getUTCFullYear(),4)+"-"+this.formatZerolessValue(e.getUTCMonth()+1)+"-"+this.formatZerolessValue(e.getUTCDate())+" "+this.formatZerolessValue(e.getUTCHours())+":"+this.formatZerolessValue(e.getUTCMinutes())+":"+this.formatZerolessValue(e.getUTCSeconds())+"."+this.formatMilliseconds(e.getUTCMilliseconds()):e}static simpleArrayToString(e){return Array.isArray(e)?e.map((e=>String(e))).join(","):e}static stringToSimpleArray(e){return"string"==typeof e?e.length>0?e.split(","):[]:e}static simpleJsonToString(e){return JSON.stringify(e)}static stringToSimpleJson(e){return"string"==typeof e?JSON.parse(e):e}static simpleEnumToString(e){return""+e}static stringToSimpleEnum(e,t){return t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0&&(e=parseInt(e)),e}static formatZerolessValue(e,t=2){const i="0".repeat(t);return String(`${i}${e}`).slice(-t)}static formatMilliseconds(e){return e<10?"00"+e:e<100?"0"+e:String(e)}}class LA{static chunk(e,t){return Array.from(Array(Math.ceil(e.length/t)),((i,n)=>e.slice(n*t,n*t+t)))}static splitClassesAndStrings(e){return[e.filter((e=>"string"!=typeof e)),e.filter((e=>"string"==typeof e))]}static groupBy(e,t){return e.reduce(((e,i)=>{const n=t(i);let r=e.find((e=>e.id===n));return r||(r={id:n,items:[]},e.push(r)),r.items.push(i),e}),[])}static uniq(e,t){return e.reduce(((e,i)=>{let n=!1;if("function"==typeof t){const r=t(i);n=!!e.find((e=>t(e)===r))}else n="string"==typeof t?!!e.find((e=>e[t]===i[t])):-1!==e.indexOf(i);return n||e.push(i),e}),[])}static isPlainObject(e){return null!=e&&(!e.constructor||e.constructor===Object)}static mergeArrayKey(e,t,i,n){n.has(i)?e[t]=n.get(i):i instanceof Promise||(this.isPlainObject(i)||Array.isArray(i)?(e[t]||(e[t]=Array.isArray(i)?[]:{}),n.set(i,e[t]),this.merge(e[t],i,n),n.delete(i)):e[t]=i)}static mergeObjectKey(e,t,i,n){n.has(i)?Object.assign(e,{[t]:n.get(i)}):i instanceof Promise||(this.isPlainObject(i)||Array.isArray(i)?(e[t]||Object.assign(e,{[t]:Array.isArray(i)?[]:{}}),n.set(i,e[t]),this.merge(e[t],i,n),n.delete(i)):Object.assign(e,{[t]:i}))}static merge(e,t,i=new Map){if(this.isPlainObject(e)&&this.isPlainObject(t))for(const n of Object.keys(t))"__proto__"!==n&&this.mergeObjectKey(e,n,t[n],i);if(Array.isArray(e)&&Array.isArray(t))for(let n=0;n<t.length;n++)this.mergeArrayKey(e,n,t[n],i)}static mergeDeep(e,...t){if(!t.length)return e;for(const i of t)LA.merge(e,i);return e}static deepCompare(...e){let t,i,n,r;if(arguments.length<1)return!0;for(t=1,i=arguments.length;t<i;t++)if(n=[],r=[],!this.compare2Objects(n,r,arguments[0],arguments[t]))return!1;return!0}static deepValue(e,t){const i=t.split(".");for(let n=0,r=i.length;n<r;n++)e=e[i[n]];return e}static replaceEmptyObjectsWithBooleans(e){for(let t in e)e[t]&&"object"==typeof e[t]&&(0===Object.keys(e[t]).length?e[t]=!0:this.replaceEmptyObjectsWithBooleans(e[t]))}static propertyPathsToTruthyObject(e){let t={};for(let i of e){const e=i.split(".");if(!e.length)continue;t[e[0]]&&!0!==t[e[0]]||(t[e[0]]={});let n=t[e[0]];for(let[t,i]of e.entries())0!==t&&(n[i]?n=n[i]:t===e.length-1?(n[i]={},n=null):(n[i]={},n=n[i]))}return this.replaceEmptyObjectsWithBooleans(t),t}static compareIds(e,t){return null!=e&&null!=t&&(("string"==typeof e.id&&"string"==typeof t.id||"number"==typeof e.id&&"number"==typeof t.id)&&1===Object.keys(e).length&&1===Object.keys(t).length?e.id===t.id:LA.deepCompare(e,t))}static toBoolean(e){return"boolean"==typeof e?e:"string"==typeof e?"true"===e||"1"===e:"number"==typeof e&&e>0}static zipObject(e,t){return e.reduce(((e,i,n)=>(e[i]=t[n],e)),{})}static isArraysEqual(e,t){return e.length===t.length&&e.every((e=>-1!==t.indexOf(e)))}static areMutuallyExclusive(...e){return!e.some((t=>{const i=e.filter((e=>e!==t));return t.some((e=>i.some((t=>t.includes(e)))))}))}static compare2Objects(e,t,i,n){let r;if(Number.isNaN(i)&&Number.isNaN(n))return!0;if(i===n)return!0;if(null===i||null===n||void 0===i||void 0===n)return!1;if(("function"==typeof i.equals||"function"==typeof i.equals)&&i.equals(n))return!0;if("function"==typeof i&&"function"==typeof n||i instanceof Date&&n instanceof Date||i instanceof RegExp&&n instanceof RegExp||"string"==typeof i&&"string"==typeof n||"number"==typeof i&&"number"==typeof n)return i.toString()===n.toString();if("object"!=typeof i||"object"!=typeof n)return!1;if(Object.prototype.isPrototypeOf.call(i,n)||Object.prototype.isPrototypeOf.call(n,i))return!1;if(i.constructor!==n.constructor)return!1;if(i.prototype!==n.prototype)return!1;if(e.indexOf(i)>-1||t.indexOf(n)>-1)return!1;for(r in n){if(n.hasOwnProperty(r)!==i.hasOwnProperty(r))return!1;if(typeof n[r]!=typeof i[r])return!1}for(r in i){if(n.hasOwnProperty(r)!==i.hasOwnProperty(r))return!1;if(typeof n[r]!=typeof i[r])return!1;switch(typeof i[r]){case"object":case"function":if(e.push(i),t.push(n),!this.compare2Objects(e,t,i[r],n[r]))return!1;e.pop(),t.pop();break;default:if(i[r]!==n[r])return!1}}return!0}}class DA{static transformFrom(e,t){if(Array.isArray(e)){return e.slice().reverse().reduce(((e,t)=>t.from(e)),t)}return e.from(t)}static transformTo(e,t){return Array.isArray(e)?e.reduce(((e,t)=>t.to(e)),t):e.to(t)}}class jA{compute(e){e.forEach((t=>{this.computeDiffColumns(t),this.computeDiffRelationalColumns(e,t)}))}computeDiffColumns(e){e.entity&&e.metadata.columns.forEach((t=>{if(t.isVirtual||t.isDiscriminator)return;const i=e.changeMaps.find((e=>e.column===t));i&&e.changeMaps.splice(e.changeMaps.indexOf(i),1);const n=t.getEntityValue(e.entity);if(void 0!==n){if(e.databaseEntity){const i="json"!==t.type&&"jsonb"!==t.type;let r=t.getEntityValue(e.databaseEntity,i);if(t.relationMetadata){const i=t.relationMetadata.getEntityValue(e.entity);if(null!=i)return}let a=n;if(null!==n){switch(t.type){case"date":a=RA.mixedDateToDateString(n);break;case"time":case"time with time zone":case"time without time zone":case"timetz":a=RA.mixedDateToTimeString(n);break;case"datetime":case"datetime2":case Date:case"timestamp":case"timestamp without time zone":case"timestamp with time zone":case"timestamp with local time zone":case"timestamptz":a=RA.mixedDateToUtcDatetimeString(n),r=RA.mixedDateToUtcDatetimeString(r);break;case"json":case"jsonb":if(LA.deepCompare(n,r))return;break;case"simple-array":a=RA.simpleArrayToString(n),r=RA.simpleArrayToString(r);break;case"simple-enum":a=RA.simpleEnumToString(n),r=RA.simpleEnumToString(r);break;case"simple-json":a=RA.simpleJsonToString(n),r=RA.simpleJsonToString(r)}t.transformer&&(a=DA.transformTo(t.transformer,n))}if(Buffer.isBuffer(a)&&Buffer.isBuffer(r)){if(a.equals(r))return}else if(a===r)return}e.diffColumns.includes(t)||e.diffColumns.push(t),e.changeMaps.push({column:t,value:n})}}))}computeDiffRelationalColumns(e,t){t.entity&&t.metadata.relationsWithJoinColumns.forEach((i=>{let n=i.getEntityValue(t.entity);if(void 0===n)return;if(t.databaseEntity){let e=n;null!==e&&sk.isObject(e)&&(e=i.getRelationIdMap(e));const r=i.getEntityValue(t.databaseEntity);if(LA.compareIds(e,r))return;t.diffRelations.push(i)}const r=e.find((e=>e.mustBeInserted&&e.entity===n));r&&(n=r);const a=t.changeMaps.find((e=>e.relation===i));a?a.value=n:t.changeMaps.push({relation:i,value:n})}))}}class $A{constructor(){this.count=0,this.promises=[]}async wait(){return this.promises.length>0&&await Promise.all(this.promises),this}}class BA extends YC{constructor(){super("Nested sets do not support multiple root entities.")}}class qA{constructor(e){this.queryRunner=e}async insert(e){const t=e=>this.queryRunner.connection.driver.escape(e),i=this.getTableName(e.metadata.tablePath),n=t(e.metadata.nestedSetLeftColumn.databaseName),r=t(e.metadata.nestedSetRightColumn.databaseName);let a=e.metadata.treeParentRelation.getEntityValue(e.entity);!a&&e.parentSubject&&e.parentSubject.entity&&(a=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);const s=e.metadata.getEntityIdMap(a);let o;if(s&&(o=await this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.nestedSetRightColumn.propertyPath,"right").from(e.metadata.target,e.metadata.targetName).whereInIds(s).getRawOne().then((e=>{const t=e?e.right:void 0;return"string"==typeof t?parseInt(t):t}))),void 0!==o)await this.queryRunner.query(`UPDATE ${i} SET ${n} = CASE WHEN ${n} > ${o} THEN ${n} + 2 ELSE ${n} END,${r} = ${r} + 2 WHERE ${r} >= ${o}`),LA.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(o),e.metadata.nestedSetRightColumn.createValueMap(o+1));else{if(!(await this.isUniqueRootEntity(e,a)))throw new BA;LA.mergeDeep(e.insertedValueSet,e.metadata.nestedSetLeftColumn.createValueMap(1),e.metadata.nestedSetRightColumn.createValueMap(2))}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;if(!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find((t=>Object.entries(e.identifier).every((([e,i])=>t[e]===i))))),void 0===i||void 0===t)return;const n=e.metadata.treeParentRelation.getEntityValue(i),r=e.metadata.getEntityIdMap(n),a=e.metadata.getEntityIdMap(t);if(!LA.compareIds(r,a))if(t){const t=e=>this.queryRunner.connection.driver.escape(e),n=this.getTableName(e.metadata.tablePath),r=t(e.metadata.nestedSetLeftColumn.databaseName),s=t(e.metadata.nestedSetRightColumn.databaseName),o=e.metadata.getEntityIdMap(i);let l,c;if(o&&(l=(await this.getNestedSetIds(e.metadata,o))[0]),a&&(c=(await this.getNestedSetIds(e.metadata,a))[0]),void 0!==l&&void 0!==c){const e=c.left>l.left,t=l.right-l.left+1;let i;i=e?c.left-l.right:c.right-l.left;const a=`WHEN ${r} >= ${l.left} AND ${r} < ${l.right} THEN ${r} + ${i} `,o=`WHEN ${s} > ${l.left} AND ${s} <= ${l.right} THEN ${s} + ${i} `;e?await this.queryRunner.query(`UPDATE ${n} SET ${r} = CASE WHEN ${r} > ${l.right} AND ${r} <= ${c.left} THEN ${r} - ${t} `+a+`ELSE ${r} END, `+`${s} = CASE `+`WHEN ${s} > ${l.right} AND `+`${s} < ${c.left} `+`THEN ${s} - ${t} `+o+`ELSE ${s} END`):await this.queryRunner.query(`UPDATE ${n} SET ${r} = CASE WHEN ${r} < ${l.left} AND ${r} > ${c.right} THEN ${r} + ${t} `+a+`ELSE ${r} END, `+`${s} = CASE `+`WHEN ${s} < ${l.left} AND `+`${s} >= ${c.right} `+`THEN ${s} + ${t} `+o+`ELSE ${s} END`)}}else{if(!(await this.isUniqueRootEntity(e,t)))throw new BA}}async remove(e){Array.isArray(e)||(e=[e]);const t=e[0].metadata,i=e=>this.queryRunner.connection.driver.escape(e),n=this.getTableName(t.tablePath),r=i(t.nestedSetLeftColumn.databaseName),a=i(t.nestedSetRightColumn.databaseName);let s=[];for(const l of e){const e=t.getEntityIdMap(l.entity);e&&s.push(e)}let o=await this.getNestedSetIds(t,s);for(const l of o){const e=l.right-l.left+1;await this.queryRunner.query(`UPDATE ${n} SET ${r} = CASE WHEN ${r} > ${l.left} THEN ${r} - ${e} ELSE ${r} END, ${a} = CASE WHEN ${a} > ${l.right} THEN ${a} - ${e} ELSE ${a} END`)}}getNestedSetIds(e,t){const i={left:`${e.targetName}.${e.nestedSetLeftColumn.propertyPath}`,right:`${e.targetName}.${e.nestedSetRightColumn.propertyPath}`},n=this.queryRunner.manager.createQueryBuilder();return Object.entries(i).forEach((([e,t])=>{n.addSelect(t,e)})),n.from(e.target,e.targetName).whereInIds(t).orderBy(i.right,"DESC").getRawMany().then((e=>{const t=[];for(const n of e){const e={};for(const t of Object.keys(i)){const i=n?n[t]:void 0;e[t]="string"==typeof i?parseInt(i):i}t.push(e)}return t}))}async isUniqueRootEntity(e,t){const i=e=>this.queryRunner.connection.driver.escape(e),n=this.getTableName(e.metadata.tablePath),r=[],a=e.metadata.treeParentRelation.joinColumns.map((e=>{const n=i(e.databaseName),a=e.getEntityValue(t);if(null==a)return`${n} IS NULL`;r.push(a);return`${n} = ${this.queryRunner.connection.driver.createParameter("entity_"+e.databaseName,r.length-1)}`})).join(" AND "),s="count",o=await this.queryRunner.query(`SELECT COUNT(1) AS ${i(s)} FROM ${n} WHERE ${a}`,r,!0);return 0===parseInt(o.records[0][s])}getTableName(e){return e.split(".").map((e=>""===e?e:this.queryRunner.connection.driver.escape(e))).join(".")}}class UA{constructor(e){this.queryRunner=e}async insert(e){const t={};e.metadata.closureJunctionTable.ancestorColumns.forEach((i=>{t[i.databaseName]=e.identifier})),e.metadata.closureJunctionTable.descendantColumns.forEach((i=>{t[i.databaseName]=e.identifier})),await this.queryRunner.manager.createQueryBuilder().insert().into(e.metadata.closureJunctionTable.tablePath).values(t).updateEntity(!1).callListeners(!1).execute();let i=e.metadata.treeParentRelation.getEntityValue(e.entity);if(!i&&e.parentSubject&&e.parentSubject.entity&&(i=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity),i){const t=e=>this.queryRunner.connection.driver.escape(e),n=this.getTableName(e.metadata.closureJunctionTable.tablePath),r=[],a=e.metadata.closureJunctionTable.ancestorColumns.map((e=>t(e.databaseName))),s=e.metadata.closureJunctionTable.descendantColumns.map((e=>t(e.databaseName))),o=e.metadata.primaryColumns.map((t=>(r.push(t.getEntityValue(e.insertedValueSet?e.insertedValueSet:e.entity)),this.queryRunner.connection.driver.createParameter("child_entity_"+t.databaseName,r.length-1)))),l=e.metadata.closureJunctionTable.descendantColumns.map((n=>{const a=t(n.databaseName),s=n.referencedColumn.getEntityValue(i);if(!s)throw new fk(e.metadata.name);r.push(s);return`${a} = ${this.queryRunner.connection.driver.createParameter("parent_entity_"+n.referencedColumn.databaseName,r.length-1)}`}));await this.queryRunner.query(`INSERT INTO ${n} (${[...a,...s].join(", ")}) SELECT ${a.join(", ")}, ${o.join(", ")} FROM ${n} WHERE ${l.join(" AND ")}`,r)}}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;if(!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find((t=>Object.entries(e.identifier).every((([e,i])=>t[e]===i))))),void 0===i||void 0===t)return;const n=e.metadata.treeParentRelation.getEntityValue(i),r=e.metadata.getEntityIdMap(n),a=e.metadata.getEntityIdMap(t);if(LA.compareIds(r,a))return;const s=e=>this.queryRunner.connection.driver.escape(e),o=e.metadata.closureJunctionTable,l=o.ancestorColumns.map((e=>s(e.databaseName))),c=o.descendantColumns.map((e=>s(e.databaseName))),d=(e,t)=>{const i=`sub${t}`,n=e.createQueryBuilder().select(c.join(", ")).from(o.tablePath,i);for(const r of o.ancestorColumns)n.andWhere(`${s(i)}.${s(r.databaseName)} = :value_${r.referencedColumn.databaseName}`);return e.createQueryBuilder().select(c.join(", ")).from(`(${n.getQuery()})`,t).setParameters(n.getParameters()).getQuery()},u={};for(const h of e.metadata.primaryColumns)u[`value_${h.databaseName}`]=i[h.databaseName];if(await this.queryRunner.manager.createQueryBuilder().delete().from(o.tablePath).where((e=>`(${c.join(", ")}) IN (${d(e,"descendant")})`)).andWhere((e=>`(${l.join(", ")}) NOT IN (${d(e,"ancestor")})`)).setParameters(u).execute(),t){const n=[],r=this.getTableName(o.tablePath),a=s("supertree"),d=s("subtree"),u=[...l.map((e=>`${a}.${e}`)),...c.map((e=>`${d}.${e}`))],h=e.metadata.closureJunctionTable.ancestorColumns.map((e=>{const t=s(e.databaseName),r=e.referencedColumn.getEntityValue(i);n.push(r);const a=this.queryRunner.connection.driver.createParameter("entity_"+e.referencedColumn.databaseName,n.length-1);return`${d}.${t} = ${a}`})),p=e.metadata.closureJunctionTable.descendantColumns.map((i=>{const r=s(i.databaseName),o=i.referencedColumn.getEntityValue(t);if(!o)throw new fk(e.metadata.name);n.push(o);const l=this.queryRunner.connection.driver.createParameter("parent_entity_"+i.referencedColumn.databaseName,n.length-1);return`${a}.${r} = ${l}`}));await this.queryRunner.query(`INSERT INTO ${r} (${[...l,...c].join(", ")}) SELECT ${u.join(", ")} FROM ${r} AS ${a}, ${r} AS ${d} WHERE ${[...h,...p].join(" AND ")}`,n)}}async remove(e){if("mssql"!==this.queryRunner.connection.driver.options.type)return;Array.isArray(e)||(e=[e]);const t=e=>this.queryRunner.connection.driver.escape(e),i=e.map((e=>e.identifier)),n=e[0].metadata.closureJunctionTable,r=e=>e.map((e=>{const n=i.map((t=>t[e.referencedColumn.databaseName]));return`${t(e.databaseName)} IN (${n.join(", ")})`})).join(" AND "),a=r(n.ancestorColumns),s=r(n.descendantColumns);await this.queryRunner.manager.createQueryBuilder().delete().from(n.tablePath).where(a).orWhere(s).execute()}getTableName(e){return e.split(".").map((e=>""===e?e:this.queryRunner.connection.driver.escape(e))).join(".")}}class FA{constructor(e){this["@instanceof"]=Symbol.for("EntityMetadata"),this.childEntityMetadatas=[],this.inheritanceTree=[],this.tableType="regular",this.withoutRowid=!1,this.synchronize=!0,this.hasNonNullableRelations=!1,this.isJunction=!1,this.isAlwaysUsingConstructor=!0,this.isClosureJunction=!1,this.hasMultiplePrimaryKeys=!1,this.hasUUIDGeneratedColumns=!1,this.ownColumns=[],this.columns=[],this.ancestorColumns=[],this.descendantColumns=[],this.nonVirtualColumns=[],this.ownerColumns=[],this.inverseColumns=[],this.generatedColumns=[],this.primaryColumns=[],this.ownRelations=[],this.relations=[],this.eagerRelations=[],this.lazyRelations=[],this.oneToOneRelations=[],this.ownerOneToOneRelations=[],this.oneToManyRelations=[],this.manyToOneRelations=[],this.manyToManyRelations=[],this.ownerManyToManyRelations=[],this.relationsWithJoinColumns=[],this.relationIds=[],this.relationCounts=[],this.foreignKeys=[],this.embeddeds=[],this.allEmbeddeds=[],this.ownIndices=[],this.indices=[],this.uniques=[],this.ownUniques=[],this.checks=[],this.exclusions=[],this.ownListeners=[],this.listeners=[],this.afterLoadListeners=[],this.beforeInsertListeners=[],this.afterInsertListeners=[],this.beforeUpdateListeners=[],this.afterUpdateListeners=[],this.beforeRemoveListeners=[],this.beforeSoftRemoveListeners=[],this.beforeRecoverListeners=[],this.afterRemoveListeners=[],this.afterSoftRemoveListeners=[],this.afterRecoverListeners=[],this.connection=e.connection,this.inheritanceTree=e.inheritanceTree||[],this.inheritancePattern=e.inheritancePattern,this.treeType=e.tableTree?e.tableTree.type:void 0,this.treeOptions=e.tableTree?e.tableTree.options:void 0,this.parentClosureEntityMetadata=e.parentClosureEntityMetadata,this.tableMetadataArgs=e.args,this.target=this.tableMetadataArgs.target,this.tableType=this.tableMetadataArgs.type,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=this.tableMetadataArgs.withoutRowid,this.dependsOn=this.tableMetadataArgs.dependsOn}create(e,t){const i=!(!t||!0!==t.pojo);let n;return n="function"!=typeof this.target||i?{}:!(null==t?void 0:t.fromDeserializer)||this.isAlwaysUsingConstructor?new this.target:Object.create(this.target.prototype),this.connection.options.typename&&(n[this.connection.options.typename]=this.targetName),this.lazyRelations.forEach((t=>this.connection.relationLoader.enableLazyLoad(t,n,e))),n}hasId(e){return!!e&&this.primaryColumns.every((t=>{const i=t.getEntityValue(e);return null!=i&&""!==i}))}hasAllPrimaryKeys(e){return this.primaryColumns.every((t=>{const i=t.getEntityValue(e);return null!=i}))}ensureEntityIdMap(e){if(sk.isObject(e))return e;if(this.hasMultiplePrimaryKeys)throw new ek(this,e);return this.primaryColumns[0].createValueMap(e)}getEntityIdMap(e){if(e)return FA.getValueMap(e,this.primaryColumns,{skipNulls:!0})}getEntityIdMixedMap(e){if(!e)return e;const t=this.getEntityIdMap(e);return this.hasMultiplePrimaryKeys?t:t?this.primaryColumns[0].getEntityValue(t):t}compareEntities(e,t){const i=this.getEntityIdMap(e);if(!i)return!1;const n=this.getEntityIdMap(t);return!!n&&LA.compareIds(i,n)}findColumnWithPropertyName(e){return this.columns.find((t=>t.propertyName===e))}findColumnWithDatabaseName(e){return this.columns.find((t=>t.databaseName===e))}hasColumnWithPropertyPath(e){return this.columns.some((t=>t.propertyPath===e))||this.hasRelationWithPropertyPath(e)}findColumnWithPropertyPath(e){const t=this.columns.find((t=>t.propertyPath===e));if(t)return t;const i=this.relations.find((t=>t.propertyPath===e));return i&&1===i.joinColumns.length?i.joinColumns[0]:void 0}findColumnWithPropertyPathStrict(e){return this.columns.find((t=>t.propertyPath===e))}findColumnsWithPropertyPath(e){const t=this.columns.find((t=>t.propertyPath===e));if(t)return[t];const i=this.findRelationWithPropertyPath(e);return i&&i.joinColumns?i.joinColumns:[]}hasRelationWithPropertyPath(e){return this.relations.some((t=>t.propertyPath===e))}findRelationWithPropertyPath(e){return this.relations.find((t=>t.propertyPath===e))}hasEmbeddedWithPropertyPath(e){return this.allEmbeddeds.some((t=>t.propertyPath===e))}findEmbeddedWithPropertyPath(e){return this.allEmbeddeds.find((t=>t.propertyPath===e))}mapPropertyPathsToColumns(e){return e.map((e=>{const t=this.findColumnWithPropertyPath(e);if(null==t)throw new vk(e,this);return t}))}extractRelationValuesFromEntity(e,t){const i=[];return t.forEach((t=>{const n=t.getEntityValue(e);Array.isArray(n)?n.forEach((e=>i.push([t,e,FA.getInverseEntityMetadata(e,t)]))):n&&i.push([t,n,FA.getInverseEntityMetadata(n,t)])})),i}findInheritanceMetadata(e){if("STI"===this.inheritancePattern&&this.childEntityMetadatas.length>0){let t;return this.discriminatorColumn&&(t=e[this.discriminatorColumn.propertyName]),this.childEntityMetadatas.find((i=>t===i.discriminatorValue||e.constructor===i.target))||this}return this}static getInverseEntityMetadata(e,t){return t.inverseEntityMetadata.findInheritanceMetadata(e)}static createPropertyPath(e,t,i=""){const n=[];return Object.keys(t).forEach((r=>{const a=i?i+"."+r:r;if(e.hasEmbeddedWithPropertyPath(a)){const i=this.createPropertyPath(e,t[r],a);n.push(...i)}else{const e=i?i+"."+r:r;n.push(e)}})),n}static difference(e,t){return e.filter((e=>!t.find((t=>LA.compareIds(e,t)))))}static getValueMap(e,t,i){return t.reduce(((t,n)=>{const r=n.getEntityValueMap(e,i);if(void 0!==t&&null!=r)return LA.mergeDeep(t,r)}),{})}build(){var e;const t=this.connection.namingStrategy,i=this.connection.options.entityPrefix,n=this.connection.options.entitySkipConstructor;this.engine=this.tableMetadataArgs.engine,this.database="entity-child"===this.tableMetadataArgs.type&&this.parentEntityMetadata?this.parentEntityMetadata.database:this.tableMetadataArgs.database,this.tableMetadataArgs.schema?this.schema=this.tableMetadataArgs.schema:"entity-child"===this.tableMetadataArgs.type&&this.parentEntityMetadata?this.schema=this.parentEntityMetadata.schema:(null===(e=this.connection.options)||void 0===e?void 0:e.hasOwnProperty("schema"))&&(this.schema=this.connection.options.schema),this.givenTableName="entity-child"===this.tableMetadataArgs.type&&this.parentEntityMetadata?this.parentEntityMetadata.givenTableName:this.tableMetadataArgs.name,this.synchronize=!1!==this.tableMetadataArgs.synchronize,this.targetName="function"==typeof this.tableMetadataArgs.target?this.tableMetadataArgs.target.name:this.tableMetadataArgs.target,"closure-junction"===this.tableMetadataArgs.type?this.tableNameWithoutPrefix=t.closureJunctionTableName(this.givenTableName):"entity-child"===this.tableMetadataArgs.type&&this.parentEntityMetadata?this.tableNameWithoutPrefix=t.tableName(this.parentEntityMetadata.targetName,this.parentEntityMetadata.givenTableName):(this.tableNameWithoutPrefix=t.tableName(this.targetName,this.givenTableName),"junction"===this.tableMetadataArgs.type&&this.connection.driver.maxAliasLength&&this.connection.driver.maxAliasLength>0&&this.tableNameWithoutPrefix.length>this.connection.driver.maxAliasLength&&(this.tableNameWithoutPrefix=KC(this.tableNameWithoutPrefix,{separator:"_",segmentLength:3}))),this.tableName=i?t.prefixTableName(i,this.tableNameWithoutPrefix):this.tableNameWithoutPrefix,this.target=this.target?this.target:this.tableName,this.name=this.targetName?this.targetName:this.tableName,this.expression=this.tableMetadataArgs.expression,this.withoutRowid=!0===this.tableMetadataArgs.withoutRowid,this.tablePath=this.connection.driver.buildTableName(this.tableName,this.schema,this.database),this.orderBy="function"==typeof this.tableMetadataArgs.orderBy?this.tableMetadataArgs.orderBy(this.propertiesMap):this.tableMetadataArgs.orderBy,void 0!==n&&(this.isAlwaysUsingConstructor=!n),this.isJunction="closure-junction"===this.tableMetadataArgs.type||"junction"===this.tableMetadataArgs.type,this.isClosureJunction="closure-junction"===this.tableMetadataArgs.type}registerColumn(e){-1===this.ownColumns.indexOf(e)&&(this.ownColumns.push(e),this.columns=this.embeddeds.reduce(((e,t)=>e.concat(t.columnsFromTree)),this.ownColumns),this.primaryColumns=this.columns.filter((e=>e.isPrimary)),this.hasMultiplePrimaryKeys=this.primaryColumns.length>1,this.hasUUIDGeneratedColumns=this.columns.filter((e=>e.isGenerated||"uuid"===e.generationStrategy)).length>0,this.propertiesMap=this.createPropertiesMap(),this.childEntityMetadatas&&this.childEntityMetadatas.forEach((t=>t.registerColumn(e))))}createPropertiesMap(){const e={};return this.columns.forEach((t=>LA.mergeDeep(e,t.createValueMap(t.propertyPath)))),this.relations.forEach((t=>LA.mergeDeep(e,t.createValueMap(t.propertyPath)))),e}getInsertionReturningColumns(){return this.columns.filter((e=>void 0!==e.default||e.isGenerated||e.isCreateDate||e.isUpdateDate||e.isDeleteDate||e.isVersion))}}class zA{constructor(e){this["@instanceof"]=Symbol.for("Brackets"),this.whereFactory=e}}class VA{constructor(e){this.queryRunner=e}async insert(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.insertedValueSet?e.parentSubject.insertedValueSet:e.parentSubject.entity);const i=e.metadata.getEntityIdMap(t);let n="";i&&(n=await this.getEntityPath(e,i));const r=e.metadata.treeParentRelation.joinColumns.map((t=>t.referencedColumn.getEntityValue(e.insertedValueSet))).join("_");await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[e.metadata.materializedPathColumn.propertyPath]:n+r+"."}).where(e.identifier).execute()}async update(e){let t=e.metadata.treeParentRelation.getEntityValue(e.entity);!t&&e.parentSubject&&e.parentSubject.entity&&(t=e.parentSubject.entity);let i=e.databaseEntity;!i&&t&&(i=e.metadata.treeChildrenRelation.getEntityValue(t).find((t=>Object.entries(e.identifier).every((([e,i])=>t[e]===i)))));const n=e.metadata.treeParentRelation.getEntityValue(i),r=this.getEntityParentReferencedColumnMap(e,n),a=this.getEntityParentReferencedColumnMap(e,t);if(LA.compareIds(r,a))return;let s="";a&&(s=await this.getEntityPath(e,a));let o="";r&&(o=await this.getEntityPath(e,r)||"");const l=e.metadata.treeParentRelation.joinColumns.map((e=>e.referencedColumn.getEntityValue(i))).join("_"),c=e.metadata.materializedPathColumn.propertyPath;await this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set({[c]:()=>`REPLACE(${this.queryRunner.connection.driver.escape(c)}, '${o}${l}.', '${s}${l}.')`}).where(`${c} LIKE :path`,{path:`${o}${l}.%`}).execute()}getEntityParentReferencedColumnMap(e,t){if(t)return FA.getValueMap(t,e.metadata.treeParentRelation.joinColumns.map((e=>e.referencedColumn)).filter((e=>null!=e)),{skipNulls:!0})}getEntityPath(e,t){const i=e.metadata,n=(Array.isArray(t)?t:[t]).map((e=>i.ensureEntityIdMap(e)));return this.queryRunner.manager.createQueryBuilder().select(e.metadata.targetName+"."+e.metadata.materializedPathColumn.propertyPath,"path").from(e.metadata.target,e.metadata.targetName).where(new zA((e=>{for(const t of n)e.orWhere(new zA((e=>e.where(t))))}))).getRawOne().then((e=>e?e.path:""))}}class HA{constructor(e,t,i){this.hasExecutableOperations=!1,this.insertSubjects=[],this.updateSubjects=[],this.removeSubjects=[],this.softRemoveSubjects=[],this.recoverSubjects=[],this.queryRunner=e,this.allSubjects=t,this.options=i,this.validate(),this.recompute()}async execute(){let e;this.options&&!1===this.options.listeners||(e=this.broadcastBeforeEventsForAll(),e.promises.length>0&&await Promise.all(e.promises)),e&&e.count>0&&(this.insertSubjects.forEach((e=>e.recompute())),this.updateSubjects.forEach((e=>e.recompute())),this.removeSubjects.forEach((e=>e.recompute())),this.softRemoveSubjects.forEach((e=>e.recompute())),this.recoverSubjects.forEach((e=>e.recompute())),this.recompute()),this.insertSubjects=new TA(this.insertSubjects).sort("insert"),await this.executeInsertOperations(),this.updateSubjects=this.allSubjects.filter((e=>e.mustBeUpdated)),await this.executeUpdateOperations(),this.removeSubjects=new TA(this.removeSubjects).sort("delete"),await this.executeRemoveOperations(),this.softRemoveSubjects=this.allSubjects.filter((e=>e.mustBeSoftRemoved)),await this.executeSoftRemoveOperations(),this.recoverSubjects=this.allSubjects.filter((e=>e.mustBeRecovered)),await this.executeRecoverOperations(),await this.updateSpecialColumnsInPersistedEntities(),this.options&&!1===this.options.listeners||(e=this.broadcastAfterEventsForAll(),e.promises.length>0&&await Promise.all(e.promises))}validate(){this.allSubjects.forEach((e=>{if(e.mustBeUpdated&&e.mustBeRemoved)throw new Mk(e)}))}recompute(){(new jA).compute(this.allSubjects),this.insertSubjects=this.allSubjects.filter((e=>e.mustBeInserted)),this.updateSubjects=this.allSubjects.filter((e=>e.mustBeUpdated)),this.removeSubjects=this.allSubjects.filter((e=>e.mustBeRemoved)),this.softRemoveSubjects=this.allSubjects.filter((e=>e.mustBeSoftRemoved)),this.recoverSubjects=this.allSubjects.filter((e=>e.mustBeRecovered)),this.hasExecutableOperations=this.insertSubjects.length>0||this.updateSubjects.length>0||this.removeSubjects.length>0||this.softRemoveSubjects.length>0||this.recoverSubjects.length>0}broadcastBeforeEventsForAll(){const e=new $A;return this.insertSubjects.length&&this.insertSubjects.forEach((t=>this.queryRunner.broadcaster.broadcastBeforeInsertEvent(e,t.metadata,t.entity))),this.updateSubjects.length&&this.updateSubjects.forEach((t=>this.queryRunner.broadcaster.broadcastBeforeUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations))),this.removeSubjects.length&&this.removeSubjects.forEach((t=>this.queryRunner.broadcaster.broadcastBeforeRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier))),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach((t=>this.queryRunner.broadcaster.broadcastBeforeSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier))),this.recoverSubjects.length&&this.recoverSubjects.forEach((t=>this.queryRunner.broadcaster.broadcastBeforeRecoverEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier))),e}broadcastAfterEventsForAll(){const e=new $A;return this.insertSubjects.length&&this.insertSubjects.forEach((t=>this.queryRunner.broadcaster.broadcastAfterInsertEvent(e,t.metadata,t.entity))),this.updateSubjects.length&&this.updateSubjects.forEach((t=>this.queryRunner.broadcaster.broadcastAfterUpdateEvent(e,t.metadata,t.entity,t.databaseEntity,t.diffColumns,t.diffRelations))),this.removeSubjects.length&&this.removeSubjects.forEach((t=>this.queryRunner.broadcaster.broadcastAfterRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier))),this.softRemoveSubjects.length&&this.softRemoveSubjects.forEach((t=>this.queryRunner.broadcaster.broadcastAfterSoftRemoveEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier))),this.recoverSubjects.length&&this.recoverSubjects.forEach((t=>this.queryRunner.broadcaster.broadcastAfterRecoverEvent(e,t.metadata,t.entity,t.databaseEntity,t.identifier))),e}async executeInsertOperations(){const[e,t]=this.groupBulkSubjects(this.insertSubjects,"insert");for(const i of t){const t=e[i],n=[],r=[],a=[];if("mongodb"===this.queryRunner.connection.driver.options.type?t.forEach((e=>{e.metadata.createDateColumn&&e.entity&&(e.entity[e.metadata.createDateColumn.databaseName]=new Date),e.metadata.updateDateColumn&&e.entity&&(e.entity[e.metadata.updateDateColumn.databaseName]=new Date),e.createValueSetAndPopChangeMap(),r.push(e),n.push(e.entity)})):"oracle"===this.queryRunner.connection.driver.options.type?t.forEach((e=>{a.push(e)})):t.forEach((e=>{0===e.changeMaps.length||e.metadata.treeType||"oracle"===this.queryRunner.connection.driver.options.type||"sap"===this.queryRunner.connection.driver.options.type?a.push(e):(r.push(e),n.push(e.createValueSetAndPopChangeMap()))})),ok.isMongoEntityManager(this.queryRunner.manager)){const e=await this.queryRunner.manager.insert(t[0].metadata.target,n);t.forEach(((t,i)=>{t.identifier=e.identifiers[i],t.generatedMap=e.generatedMaps[i],t.insertedValueSet=n[i]}))}else{if(n.length>0){const e=await this.queryRunner.manager.createQueryBuilder().insert().into(t[0].metadata.target).values(n).updateEntity(!this.options||!1!==this.options.reload).callListeners(!1).execute();r.forEach(((t,i)=>{t.identifier=e.identifiers[i],t.generatedMap=e.generatedMaps[i],t.insertedValueSet=n[i]}))}if(a.length>0)for(const e of a)e.insertedValueSet=e.createValueSetAndPopChangeMap(),"nested-set"===e.metadata.treeType&&await new qA(this.queryRunner).insert(e),await this.queryRunner.manager.createQueryBuilder().insert().into(e.metadata.target).values(e.insertedValueSet).updateEntity(!this.options||!1!==this.options.reload).callListeners(!1).execute().then((t=>{e.identifier=t.identifiers[0],e.generatedMap=t.generatedMaps[0]})),"closure-table"===e.metadata.treeType?await new UA(this.queryRunner).insert(e):"materialized-path"===e.metadata.treeType&&await new VA(this.queryRunner).insert(e)}t.forEach((e=>{e.generatedMap&&e.metadata.columns.forEach((t=>{const i=t.getEntityValue(e.generatedMap);if(null!=i){const n=this.queryRunner.connection.driver.prepareHydratedValue(i,t);t.setEntityValue(e.generatedMap,n)}}))}))}}async executeUpdateOperations(){const e=async e=>{if(!e.identifier)throw new XC(e);if(ok.isMongoEntityManager(this.queryRunner.manager)){const t=this.cloneMongoSubjectEntity(e);e.metadata.objectIdColumn&&e.metadata.objectIdColumn.propertyName&&delete t[e.metadata.objectIdColumn.propertyName],e.metadata.createDateColumn&&e.metadata.createDateColumn.propertyName&&delete t[e.metadata.createDateColumn.propertyName],e.metadata.updateDateColumn&&e.metadata.updateDateColumn.propertyName&&(t[e.metadata.updateDateColumn.propertyName]=new Date);const i=this.queryRunner.manager;await i.update(e.metadata.target,e.identifier,t)}else{const t=e.createValueSetAndPopChangeMap();switch(e.metadata.treeType){case"nested-set":await new qA(this.queryRunner).update(e);break;case"closure-table":await new UA(this.queryRunner).update(e);break;case"materialized-path":await new VA(this.queryRunner).update(e)}const i=this.queryRunner.manager.createQueryBuilder().update(e.metadata.target).set(t).updateEntity(!this.options||!1!==this.options.reload).callListeners(!1);e.entity?i.whereEntity(e.identifier):i.where(e.identifier);let n=(await i.execute()).generatedMaps[0];n&&(e.metadata.columns.forEach((e=>{const t=e.getEntityValue(n);if(null!=t){const i=this.queryRunner.connection.driver.prepareHydratedValue(t,e);e.setEntityValue(n,i)}})),e.generatedMap||(e.generatedMap={}),Object.assign(e.generatedMap,n))}},t=[],i=[];for(const r of this.updateSubjects)"nested-set"===r.metadata.treeType?t.push(r):i.push(r);const n=new Promise((async(i,n)=>{for(const a of t)try{await e(a)}catch(r){n(r)}i()}));await Promise.all([...i.map(e),n])}async executeRemoveOperations(){const[e,t]=this.groupBulkSubjects(this.removeSubjects,"delete");for(const i of t){const t=e[i],n=t.map((e=>{if(!e.identifier)throw new XC(e);return e.identifier}));if(ok.isMongoEntityManager(this.queryRunner.manager)){const e=this.queryRunner.manager;await e.delete(t[0].metadata.target,n)}else{switch(t[0].metadata.treeType){case"nested-set":await new qA(this.queryRunner).remove(t);break;case"closure-table":await new UA(this.queryRunner).remove(t)}await this.queryRunner.manager.createQueryBuilder().delete().from(t[0].metadata.target).where(n).callListeners(!1).execute()}}}cloneMongoSubjectEntity(e){const t={};if(e.entity)for(const i of e.metadata.columns)LA.mergeDeep(t,i.getEntityValueMap(e.entity));return t}async executeSoftRemoveOperations(){await Promise.all(this.softRemoveSubjects.map((async e=>{if(!e.identifier)throw new XC(e);let t;if(ok.isMongoEntityManager(this.queryRunner.manager)){const i=this.cloneMongoSubjectEntity(e);e.metadata.objectIdColumn&&e.metadata.objectIdColumn.propertyName&&delete i[e.metadata.objectIdColumn.propertyName],e.metadata.createDateColumn&&e.metadata.createDateColumn.propertyName&&delete i[e.metadata.createDateColumn.propertyName],e.metadata.updateDateColumn&&e.metadata.updateDateColumn.propertyName&&(i[e.metadata.updateDateColumn.propertyName]=new Date),e.metadata.deleteDateColumn&&e.metadata.deleteDateColumn.propertyName&&(i[e.metadata.deleteDateColumn.propertyName]=new Date);const n=this.queryRunner.manager;t=await n.update(e.metadata.target,e.identifier,i)}else{const i=this.queryRunner.manager.createQueryBuilder().softDelete().from(e.metadata.target).updateEntity(!this.options||!1!==this.options.reload).callListeners(!1);e.entity?i.whereEntity(e.identifier):i.where(e.identifier),t=await i.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach((t=>{const i=t.getEntityValue(e.generatedMap);if(null!=i){const n=this.queryRunner.connection.driver.prepareHydratedValue(i,t);t.setEntityValue(e.generatedMap,n)}}))})))}async executeRecoverOperations(){await Promise.all(this.recoverSubjects.map((async e=>{if(!e.identifier)throw new XC(e);let t;if(ok.isMongoEntityManager(this.queryRunner.manager)){const i=this.cloneMongoSubjectEntity(e);e.metadata.objectIdColumn&&e.metadata.objectIdColumn.propertyName&&delete i[e.metadata.objectIdColumn.propertyName],e.metadata.createDateColumn&&e.metadata.createDateColumn.propertyName&&delete i[e.metadata.createDateColumn.propertyName],e.metadata.updateDateColumn&&e.metadata.updateDateColumn.propertyName&&(i[e.metadata.updateDateColumn.propertyName]=new Date),e.metadata.deleteDateColumn&&e.metadata.deleteDateColumn.propertyName&&(i[e.metadata.deleteDateColumn.propertyName]=null);const n=this.queryRunner.manager;t=await n.update(e.metadata.target,e.identifier,i)}else{const i=this.queryRunner.manager.createQueryBuilder().restore().from(e.metadata.target).updateEntity(!this.options||!1!==this.options.reload).callListeners(!1);e.entity?i.whereEntity(e.identifier):i.where(e.identifier),t=await i.execute()}e.generatedMap=t.generatedMaps[0],e.generatedMap&&e.metadata.columns.forEach((t=>{const i=t.getEntityValue(e.generatedMap);if(null!=i){const n=this.queryRunner.connection.driver.prepareHydratedValue(i,t);t.setEntityValue(e.generatedMap,n)}}))})))}updateSpecialColumnsInPersistedEntities(){this.insertSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.insertSubjects),this.updateSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.updateSubjects),this.softRemoveSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.softRemoveSubjects),this.recoverSubjects.length&&this.updateSpecialColumnsInInsertedAndUpdatedEntities(this.recoverSubjects),this.removeSubjects.length&&this.removeSubjects.forEach((e=>{e.entity&&e.metadata.primaryColumns.forEach((t=>{t.setEntityValue(e.entity,void 0)}))})),this.allSubjects.forEach((e=>{e.entity&&(e.metadata.relationIds.forEach((t=>{t.setValue(e.entity)})),ok.isMongoEntityManager(this.queryRunner.manager)&&e.metadata.objectIdColumn&&e.metadata.objectIdColumn.databaseName&&e.metadata.objectIdColumn.databaseName!==e.metadata.objectIdColumn.propertyName&&delete e.entity[e.metadata.objectIdColumn.databaseName])}))}updateSpecialColumnsInInsertedAndUpdatedEntities(e){e.forEach((e=>{e.entity&&(e.metadata.columns.forEach((t=>{if(!(e.metadata.childEntityMetadatas.length>0&&-1!==e.metadata.childEntityMetadatas.map((e=>e.target)).indexOf(t.target)||t.isVirtual)){if(t.isNullable){void 0===t.getEntityValue(e.entity)&&t.setEntityValue(e.entity,null)}e.updatedRelationMaps.length>0&&e.updatedRelationMaps.forEach((t=>{t.relation.joinColumns.forEach((i=>{!0!==i.isVirtual&&i.setEntityValue(e.entity,sk.isObject(t.value)?i.referencedColumn.getEntityValue(t.value):t.value)}))}))}})),e.generatedMap&&this.queryRunner.manager.merge(e.metadata.target,e.entity,e.generatedMap))}))}groupBulkSubjects(e,t){const i={},n=[],r=e.some((e=>e.metadata.getInsertionReturningColumns().length>0)),a="delete"===t||this.queryRunner.connection.driver.isReturningSqlSupported("insert")||!1===r;return e.forEach(((e,t)=>{const r=a||e.metadata.isJunction?e.metadata.name:e.metadata.name+"_"+t;i[r]?i[r].push(e):(i[r]=[e],n.push(r))})),[i,n]}}class WA{constructor(e){this["@instanceof"]=Symbol.for("Subject"),this.identifier=void 0,this.entityWithFulfilledIds=void 0,this.databaseEntityLoaded=!1,this.changeMaps=[],this.canBeInserted=!1,this.canBeUpdated=!1,this.mustBeRemoved=!1,this.canBeSoftRemoved=!1,this.canBeRecovered=!1,this.updatedRelationMaps=[],this.diffColumns=[],this.diffRelations=[],this.metadata=e.metadata,this.entity=e.entity,this.parentSubject=e.parentSubject,void 0!==e.canBeInserted&&(this.canBeInserted=e.canBeInserted),void 0!==e.canBeUpdated&&(this.canBeUpdated=e.canBeUpdated),void 0!==e.mustBeRemoved&&(this.mustBeRemoved=e.mustBeRemoved),void 0!==e.canBeSoftRemoved&&(this.canBeSoftRemoved=e.canBeSoftRemoved),void 0!==e.canBeRecovered&&(this.canBeRecovered=e.canBeRecovered),void 0!==e.identifier&&(this.identifier=e.identifier),void 0!==e.changeMaps&&this.changeMaps.push(...e.changeMaps),this.recompute()}get mustBeInserted(){return this.canBeInserted&&!this.databaseEntity}get mustBeUpdated(){return this.canBeUpdated&&this.identifier&&(!1===this.databaseEntityLoaded||this.databaseEntityLoaded&&this.databaseEntity)&&this.changeMaps.length>0}get mustBeSoftRemoved(){return this.canBeSoftRemoved&&this.identifier&&(!1===this.databaseEntityLoaded||this.databaseEntityLoaded&&this.databaseEntity)}get mustBeRecovered(){return this.canBeRecovered&&this.identifier&&(!1===this.databaseEntityLoaded||this.databaseEntityLoaded&&this.databaseEntity)}createValueSetAndPopChangeMap(){const e=[],t=this.changeMaps.reduce(((t,i)=>{let n,r=i.value;if(ok.isSubject(r)&&(r=r.insertedValueSet?r.insertedValueSet:r.entity),this.metadata.isJunction&&i.column)n=i.column.createValueMap(i.column.referencedColumn.getEntityValue(r));else if(i.column)n=i.column.createValueMap(r);else if(i.relation)if(sk.isObject(r)&&!Buffer.isBuffer(r)){const a=i.relation.getRelationIdMap(r);if(void 0===a)return e.push(i),this.canBeUpdated=!0,t;n=i.relation.createValueMap(a),this.updatedRelationMaps.push({relation:i.relation,value:a})}else n=i.relation.createValueMap(r),this.updatedRelationMaps.push({relation:i.relation,value:r});return LA.mergeDeep(t,n),t}),{});return this.changeMaps=e,t}recompute(){this.entity?(this.entityWithFulfilledIds=Object.assign({},this.entity),this.parentSubject&&this.metadata.primaryColumns.forEach((e=>{if(e.relationMetadata&&e.relationMetadata.inverseEntityMetadata===this.parentSubject.metadata){const t=e.referencedColumn.getEntityValue(this.parentSubject.entity);e.setEntityValue(this.entityWithFulfilledIds,t)}})),this.identifier=this.metadata.getEntityIdMap(this.entityWithFulfilledIds)):this.databaseEntity&&(this.identifier=this.metadata.getEntityIdMap(this.databaseEntity))}}class GA{constructor(e){this.subjects=e}build(){this.subjects.forEach((e=>{e.metadata.oneToManyRelations.forEach((t=>{!1!==t.persistenceEnabled&&this.buildForSubjectRelation(e,t)}))}))}buildForSubjectRelation(e,t){var i;let n=[];if(e.databaseEntity){const i=t.getEntityValue(e.databaseEntity);i&&(n=i.map((e=>t.inverseEntityMetadata.getEntityIdMap(e))))}let r=t.getEntityValue(e.entity);if(null===r&&(r=[]),void 0===r)return;const a=[];r.forEach((i=>{let r=t.inverseEntityMetadata.getEntityIdMap(i),s=this.subjects.find((e=>e.entity===i));if(s&&(r=s.identifier),!r){if(!s)return;return void s.changeMaps.push({relation:t.inverseRelation,value:e})}n.find((e=>LA.compareIds(r,e)))||(s||(s=new WA({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:r}),this.subjects.push(s)),s.changeMaps.push({relation:t.inverseRelation,value:e})),a.push(r)})),"disable"!==(null===(i=t.inverseRelation)||void 0===i?void 0:i.orphanedRowAction)&&FA.difference(n,a).forEach((i=>{const n=new WA({metadata:t.inverseEntityMetadata,parentSubject:e,identifier:i});t.inverseRelation&&"nullify"!==t.inverseRelation.orphanedRowAction?"delete"===t.inverseRelation.orphanedRowAction?n.mustBeRemoved=!0:"soft-delete"===t.inverseRelation.orphanedRowAction&&(n.canBeSoftRemoved=!0):(n.canBeUpdated=!0,n.changeMaps=[{relation:t.inverseRelation,value:null}]),this.subjects.push(n)}))}}class KA{constructor(e){this.subjects=e}build(){this.subjects.forEach((e=>{e.metadata.oneToOneRelations.forEach((t=>{t.isOwning||!1===t.persistenceEnabled||this.buildForSubjectRelation(e,t)}))}))}buildForSubjectRelation(e,t){let i;e.databaseEntity&&(i=t.getEntityValue(e.databaseEntity));let n=t.getEntityValue(e.entity);if(void 0===n)return;if(null===n){if(i){const n=new WA({metadata:t.inverseEntityMetadata,parentSubject:e,canBeUpdated:!0,identifier:i,changeMaps:[{relation:t.inverseRelation,value:null}]});this.subjects.push(n)}return}let r=t.inverseEntityMetadata.getEntityIdMap(n),a=this.subjects.find((e=>!!e.entity&&e.entity===n));if(a&&(r=a.identifier),!r){if(!a)return;a.changeMaps.push({relation:t.inverseRelation,value:e})}i&&LA.compareIds(r,i)||(a||(a=new WA({metadata:t.inverseEntityMetadata,canBeUpdated:!0,identifier:r}),this.subjects.push(a)),a.changeMaps.push({relation:t.inverseRelation,value:e}))}}class QA{constructor(e){this.subjects=e}build(){this.subjects.forEach((e=>{e.entity&&e.metadata.manyToManyRelations.forEach((t=>{!1!==t.persistenceEnabled&&this.buildForSubjectRelation(e,t)}))}))}buildForAllRemoval(e){e.databaseEntity&&e.metadata.manyToManyRelations.forEach((t=>{if(!1===t.persistenceEnabled)return;t.getEntityValue(e.databaseEntity).forEach((i=>{const n=new WA({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,i)});this.subjects.push(n)}))}))}buildForSubjectRelation(e,t){let i=[];e.databaseEntity&&(i=t.getEntityValue(e.databaseEntity));let n=t.getEntityValue(e.entity);if(null===n&&(n=[]),!Array.isArray(n))return;n.forEach((n=>{let r=t.inverseEntityMetadata.getEntityIdMap(n);const a=this.subjects.find((e=>e.entity===n));if(a&&(r=a.identifier),!r&&!a)return;if(i.find((e=>LA.compareIds(e,r))))return;const s=t.isOwning?e:a||n,o=t.isOwning?a||n:e,l=new WA({metadata:t.junctionEntityMetadata,parentSubject:e,canBeInserted:!0});this.subjects.push(l),t.junctionEntityMetadata.ownerColumns.forEach((e=>{l.changeMaps.push({column:e,value:s})})),t.junctionEntityMetadata.inverseColumns.forEach((e=>{l.changeMaps.push({column:e,value:o})}))}));const r=[];n.forEach((e=>{let i=t.inverseEntityMetadata.getEntityIdMap(e);const n=this.subjects.find((t=>t.entity===e));n&&(i=n.identifier),null!=i&&r.push(i)}));i.filter((e=>!r.find((t=>LA.compareIds(t,e))))).forEach((i=>{const n=new WA({metadata:t.junctionEntityMetadata,parentSubject:e,mustBeRemoved:!0,identifier:this.buildJunctionIdentifier(e,t,i)});this.subjects.push(n)}))}buildJunctionIdentifier(e,t,i){const n=t.isOwning?e.entity:i,r=t.isOwning?i:e.entity,a={};return t.junctionEntityMetadata.ownerColumns.forEach((e=>{LA.mergeDeep(a,e.createValueMap(e.referencedColumn.getEntityValue(n)))})),t.junctionEntityMetadata.inverseColumns.forEach((e=>{LA.mergeDeep(a,e.createValueMap(e.referencedColumn.getEntityValue(r)))})),a}}class YA{constructor(e,t){this.queryRunner=e,this.subjects=t}async load(e){const t=this.groupByEntityTargets().map((async t=>{const i=[],n=[];if(t.subjects.forEach((e=>{!e.databaseEntity&&e.identifier&&(i.push(e.identifier),n.push(e))})),!i.length)return;const r=[];"save"===e||"soft-remove"===e||"recover"===e?t.subjects.forEach((e=>{e.metadata.relations.forEach((t=>{void 0!==t.getEntityValue(e.entityWithFulfilledIds)&&-1===r.indexOf(t.propertyPath)&&r.push(t.propertyPath)}))})):r.push(...t.subjects[0].metadata.manyToManyRelations.map((e=>e.propertyPath)));const a={loadEagerRelations:!1,loadRelationIds:{relations:r,disableMixedMap:!0},withDeleted:!0};let s=[];if("mongodb"===this.queryRunner.connection.driver.options.type){const e=this.queryRunner.manager.getRepository(t.target);s=await e.findByIds(i,a)}else s=await this.queryRunner.manager.getRepository(t.target).createQueryBuilder().setFindOptions(a).whereInIds(i).getMany();s.forEach((e=>{this.findByPersistEntityLike(t.target,e).forEach((t=>{t.databaseEntity=e,t.identifier||(t.identifier=t.metadata.hasAllPrimaryKeys(e)?t.metadata.getEntityIdMap(e):void 0)}))}));for(let e of n)e.databaseEntityLoaded=!0}));await Promise.all(t)}findByPersistEntityLike(e,t){return this.subjects.filter((i=>!!i.entity&&(i.entity===t||i.metadata.target===e&&i.metadata.compareEntities(i.entityWithFulfilledIds,t))))}groupByEntityTargets(){return this.subjects.reduce(((e,t)=>{let i=e.find((e=>e.target===t.metadata.target));return i||(i={target:t.metadata.target,subjects:[]},e.push(i)),i.subjects.push(t),e}),[])}}class XA{constructor(e){this.allSubjects=e}build(e,t){e.metadata.extractRelationValuesFromEntity(e.entity,e.metadata.relations).forEach((([i,n,r])=>{if(null==n||!i.isCascadeInsert&&!i.isCascadeUpdate&&!i.isCascadeSoftRemove&&!i.isCascadeRecover)return;if(!sk.isObject(n))return;const a=this.findByPersistEntityLike(r.target,n);if(a)return!1===a.canBeInserted&&(a.canBeInserted=!0===i.isCascadeInsert&&"save"===t),!1===a.canBeUpdated&&(a.canBeUpdated=!0===i.isCascadeUpdate&&"save"===t),!1===a.canBeSoftRemoved&&(a.canBeSoftRemoved=!0===i.isCascadeSoftRemove&&"soft-remove"===t),void(!1===a.canBeRecovered&&(a.canBeRecovered=!0===i.isCascadeRecover&&"recover"===t));const s=new WA({metadata:r,parentSubject:e,entity:n,canBeInserted:!0===i.isCascadeInsert&&"save"===t,canBeUpdated:!0===i.isCascadeUpdate&&"save"===t,canBeSoftRemoved:!0===i.isCascadeSoftRemove&&"soft-remove"===t,canBeRecovered:!0===i.isCascadeRecover&&"recover"===t});this.allSubjects.push(s),this.build(s,t)}))}findByPersistEntityLike(e,t){return this.allSubjects.find((i=>!!i.entity&&(i.entity===t||i.metadata.target===e&&i.metadata.compareEntities(i.entityWithFulfilledIds,t))))}}class JA{constructor(e,t,i,n,r,a){this.connection=e,this.queryRunner=t,this.mode=i,this.target=n,this.entity=r,this.options=a}async execute(){if(!this.entity||"object"!=typeof this.entity)return Promise.reject(new dk(this.mode,this.entity));await Promise.resolve();const e=this.queryRunner||this.connection.createQueryRunner();let t=e.data;this.options&&this.options.data&&(e.data=this.options.data);try{const t=Array.isArray(this.entity)?this.entity:[this.entity],r=this.options&&this.options.chunk&&this.options.chunk>0?LA.chunk(t,this.options.chunk):[t],a=await Promise.all(r.map((async t=>{const i=[];t.forEach((e=>{const t=this.target?this.target:e.constructor;if(t===Object)throw new tk(this.mode);let n=this.connection.getMetadata(t).findInheritanceMetadata(e);i.push(new WA({metadata:n,entity:e,canBeInserted:"save"===this.mode,canBeUpdated:"save"===this.mode,mustBeRemoved:"remove"===this.mode,canBeSoftRemoved:"soft-remove"===this.mode,canBeRecovered:"recover"===this.mode}))}));const n=new XA(i);return i.forEach((e=>{n.build(e,this.mode)})),await new YA(e,i).load(this.mode),"save"===this.mode||"soft-remove"===this.mode||"recover"===this.mode?(new GA(i).build(),new KA(i).build(),new QA(i).build()):i.forEach((e=>{e.mustBeRemoved&&new QA(i).buildForAllRemoval(e)})),new HA(e,i,this.options)}))),s=a.filter((e=>e.hasExecutableOperations));if(0===s.length)return;let o=!1;try{e.isTransactionActive||"none"===this.connection.driver.transactionSupport||this.options&&!1===this.options.transaction||(o=!0,await e.startTransaction());for(const e of s)await e.execute();!0===o&&await e.commitTransaction()}catch(i){if(o)try{await e.rollbackTransaction()}catch(n){}throw i}}finally{e.data=t,this.queryRunner||await e.release()}}}class ZA{constructor(e,t){this["@instanceof"]=Symbol.for("EntityManager"),this.repositories=new Map,this.treeRepositories=[],this.plainObjectToEntityTransformer=new gA,this.connection=e,t&&(this.queryRunner=t,sk.assign(this.queryRunner,{manager:this}))}async transaction(e,t){const i="string"==typeof e?e:void 0,n="function"==typeof e?e:t;if(!n)throw new YC("Transaction method requires callback in second parameter if isolation level is supplied.");if(this.queryRunner&&this.queryRunner.isReleased)throw new mk;const r=this.queryRunner||this.connection.createQueryRunner();try{await r.startTransaction(i);const e=await n(r.manager);return await r.commitTransaction(),e}catch(a){try{await r.rollbackTransaction()}catch(s){}throw a}finally{this.queryRunner||await r.release()}}async query(e,t){return this.connection.query(e,t,this.queryRunner)}createQueryBuilder(e,t,i){return t?this.connection.createQueryBuilder(e,t,i||this.queryRunner):this.connection.createQueryBuilder(e||i||this.queryRunner)}hasId(e,t){const i=2===arguments.length?e:e.constructor,n=2===arguments.length?t:e;return this.connection.getMetadata(i).hasId(n)}getId(e,t){const i=2===arguments.length?e:e.constructor,n=2===arguments.length?t:e;return this.connection.getMetadata(i).getEntityIdMixedMap(n)}create(e,t){const i=this.connection.getMetadata(e);if(!t)return i.create(this.queryRunner);if(Array.isArray(t))return t.map((t=>this.create(e,t)));const n=i.create(this.queryRunner);return this.plainObjectToEntityTransformer.transform(n,t,i,!0),n}merge(e,t,...i){const n=this.connection.getMetadata(e);return i.forEach((e=>this.plainObjectToEntityTransformer.transform(t,e,n))),t}async preload(e,t){const i=this.connection.getMetadata(e),n=new vA(this.connection.manager),r=await n.transform(t,i);if(r)return this.merge(e,r,t)}save(e,t,i){let n=arguments.length>1&&("function"==typeof e||ok.isEntitySchema(e)||"string"==typeof e)?e:void 0;const r=n?t:e,a=n?i:t;return ok.isEntitySchema(n)&&(n=n.options.name),Array.isArray(r)&&0===r.length?Promise.resolve(r):new JA(this.connection,this.queryRunner,"save",n,r,a).execute().then((()=>r))}remove(e,t,i){const n=arguments.length>1&&("function"==typeof e||ok.isEntitySchema(e)||"string"==typeof e)?e:void 0,r=n?t:e,a=n?i:t;return Array.isArray(r)&&0===r.length?Promise.resolve(r):new JA(this.connection,this.queryRunner,"remove",n,r,a).execute().then((()=>r))}softRemove(e,t,i){let n=arguments.length>1&&("function"==typeof e||ok.isEntitySchema(e)||"string"==typeof e)?e:void 0;const r=n?t:e,a=n?i:t;return ok.isEntitySchema(n)&&(n=n.options.name),Array.isArray(r)&&0===r.length?Promise.resolve(r):new JA(this.connection,this.queryRunner,"soft-remove",n,r,a).execute().then((()=>r))}recover(e,t,i){let n=arguments.length>1&&("function"==typeof e||ok.isEntitySchema(e)||"string"==typeof e)?e:void 0;const r=n?t:e,a=n?i:t;return ok.isEntitySchema(n)&&(n=n.options.name),Array.isArray(r)&&0===r.length?Promise.resolve(r):new JA(this.connection,this.queryRunner,"recover",n,r,a).execute().then((()=>r))}async insert(e,t){return this.createQueryBuilder().insert().into(e).values(t).execute()}async upsert(e,t,i){const n=this.connection.getMetadata(e);let r,a;r=Array.isArray(i)?{conflictPaths:i}:i,a=Array.isArray(t)?t:[t];const s=n.mapPropertyPathsToColumns(Array.isArray(r.conflictPaths)?r.conflictPaths:Object.keys(r.conflictPaths)),o=n.columns.filter((e=>!s.includes(e)&&a.some((t=>void 0!==e.getEntityValue(t)))));return this.createQueryBuilder().insert().into(e).values(a).orUpdate([...s,...o].map((e=>e.databaseName)),s.map((e=>e.databaseName)),{skipUpdateIfNoValuesChanged:r.skipUpdateIfNoValuesChanged,indexPredicate:r.indexPredicate,upsertType:r.upsertType||this.connection.driver.supportedUpsertTypes[0]}).execute()}update(e,t,i){return null==t||""===t||Array.isArray(t)&&0===t.length?Promise.reject(new YC("Empty criteria(s) are not allowed for the update method.")):"string"==typeof t||"number"==typeof t||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().update(e).set(i).whereInIds(t).execute():this.createQueryBuilder().update(e).set(i).where(t).execute()}delete(e,t){return null==t||""===t||Array.isArray(t)&&0===t.length?Promise.reject(new YC("Empty criteria(s) are not allowed for the delete method.")):"string"==typeof t||"number"==typeof t||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().delete().from(e).whereInIds(t).execute():this.createQueryBuilder().delete().from(e).where(t).execute()}softDelete(e,t){return null==t||""===t||Array.isArray(t)&&0===t.length?Promise.reject(new YC("Empty criteria(s) are not allowed for the delete method.")):"string"==typeof t||"number"==typeof t||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().softDelete().from(e).whereInIds(t).execute():this.createQueryBuilder().softDelete().from(e).where(t).execute()}restore(e,t){return null==t||""===t||Array.isArray(t)&&0===t.length?Promise.reject(new YC("Empty criteria(s) are not allowed for the delete method.")):"string"==typeof t||"number"==typeof t||t instanceof Date||Array.isArray(t)?this.createQueryBuilder().restore().from(e).whereInIds(t).execute():this.createQueryBuilder().restore().from(e).where(t).execute()}exists(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,hA.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getExists()}count(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,hA.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getCount()}countBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getCount()}sum(e,t,i){return this.callAggregateFun(e,"SUM",t,i)}average(e,t,i){return this.callAggregateFun(e,"AVG",t,i)}minimum(e,t,i){return this.callAggregateFun(e,"MIN",t,i)}maximum(e,t,i){return this.callAggregateFun(e,"MAX",t,i)}async callAggregateFun(e,t,i,n={}){const r=this.connection.getMetadata(e),a=await this.createQueryBuilder(e,r.name).setFindOptions({where:n}).select(`${t}(${this.connection.driver.escape(String(i))})`,t).getRawOne();return null===a[t]?null:parseFloat(a[t])}async find(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,hA.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getMany()}async findBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getMany()}findAndCount(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,hA.extractFindManyOptionsAlias(t)||i.name).setFindOptions(t||{}).getManyAndCount()}findAndCountBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t}).getManyAndCount()}async findByIds(e,t){if(!t.length)return Promise.resolve([]);const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).andWhereInIds(t).getMany()}async findOne(e,t){let i=this.connection.getMetadata(e).name;if(t&&t.join&&(i=t.join.alias),!t.where)throw new Error("You must provide selection conditions in order to find a single row.");return this.createQueryBuilder(e,i).setFindOptions({...t,take:1}).getOne()}async findOneBy(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({where:t,take:1}).getOne()}async findOneById(e,t){const i=this.connection.getMetadata(e);return this.createQueryBuilder(e,i.name).setFindOptions({take:1}).whereInIds(i.ensureEntityIdMap(t)).getOne()}async findOneOrFail(e,t){return this.findOne(e,t).then((i=>null===i?Promise.reject(new lk(e,t)):Promise.resolve(i)))}async findOneByOrFail(e,t){return this.findOneBy(e,t).then((i=>null===i?Promise.reject(new lk(e,t)):Promise.resolve(i)))}async clear(e){const t=this.connection.getMetadata(e),i=this.queryRunner||this.connection.createQueryRunner();try{return await i.clearTable(t.tablePath)}finally{this.queryRunner||await i.release()}}async increment(e,t,i,n){const r=this.connection.getMetadata(e),a=r.findColumnWithPropertyPath(i);if(!a)throw new YC(`Column ${i} was not found in ${r.targetName} entity.`);if(isNaN(Number(n)))throw new YC(`Value "${n}" is not a number.`);const s=i.split(".").reduceRight(((e,t)=>({[t]:e})),(()=>this.connection.driver.escape(a.databaseName)+" + "+n));return this.createQueryBuilder(e,"entity").update(e).set(s).where(t).execute()}async decrement(e,t,i,n){const r=this.connection.getMetadata(e),a=r.findColumnWithPropertyPath(i);if(!a)throw new YC(`Column ${i} was not found in ${r.targetName} entity.`);if(isNaN(Number(n)))throw new YC(`Value "${n}" is not a number.`);const s=i.split(".").reduceRight(((e,t)=>({[t]:e})),(()=>this.connection.driver.escape(a.databaseName)+" - "+n));return this.createQueryBuilder(e,"entity").update(e).set(s).where(t).execute()}getRepository(e){const t=this.repositories.get(e);if(t)return t;if("mongodb"===this.connection.driver.options.type){const t=new nA(e,this,this.queryRunner);return this.repositories.set(e,t),t}{const t=new mA(e,this,this.queryRunner);return this.repositories.set(e,t),t}}getTreeRepository(e){if(!1===this.connection.driver.treeSupport)throw new ik(this.connection.driver);const t=this.treeRepositories.find((t=>t.target===e));if(t)return t;const i=new fA(e,this,this.queryRunner);return this.treeRepositories.push(i),i}getMongoRepository(e){return this.connection.getMongoRepository(e)}withRepository(e){const t=e.constructor,{target:i,manager:n,queryRunner:r,...a}=e;return Object.assign(new t(e.target,this),{...a})}getCustomRepository(e){const t=UO().entityRepositories.find((t=>t.target===("function"==typeof e?e:e.constructor)));if(!t)throw new nk(e);const i=t.entity?this.connection.getMetadata(t.entity):void 0,n=new t.target(this,i);if(n instanceof wA)n.manager||(n.manager=this);else{if(!i)throw new pk(e);n.manager=this,n.metadata=i}return n}async release(){if(!this.queryRunner)throw new Ok;return this.queryRunner.release()}}class eN extends ZA{constructor(e,t){super(e,t),this["@instanceof"]=Symbol.for("SqljsEntityManager"),this.driver=e.driver}async loadDatabase(e){await this.driver.load(e)}async saveDatabase(e){await this.driver.save(e)}exportDatabase(){return this.driver.export()}}class tN{create(e,t){return"mongodb"===e.driver.options.type?new iA(e):"sqljs"===e.driver.options.type?new eN(e,t):new ZA(e,t)}}class iN{constructor(e){this["@instanceof"]=Symbol.for("View"),this.indices=[],e&&(this.database=e.database,this.schema=e.schema,this.name=e.name,this.expression=e.expression,this.materialized=!!e.materialized)}clone(){return new iN({database:this.database,schema:this.schema,name:this.name,expression:this.expression,materialized:this.materialized})}addIndex(e){this.indices.push(e)}removeIndex(e){const t=this.indices.find((t=>t.name===e.name));t&&this.indices.splice(this.indices.indexOf(t),1)}static create(e,t){const i={database:e.database,schema:e.schema,name:t.buildTableName(e.tableName,e.schema,e.database),expression:e.expression,materialized:e.tableMetadataArgs.materialized};return new iN(i)}}class nN{static viewMetadataCmp(e,t){return e&&t?e.dependsOn&&(e.dependsOn.has(t.target)||e.dependsOn.has(t.name))?1:t.dependsOn&&(t.dependsOn.has(e.target)||t.dependsOn.has(e.name))?-1:0:0}}class rN{constructor(e){this.connection=e,this["@instanceof"]=Symbol.for("RdbmsSchemaBuilder")}async build(){this.queryRunner=this.connection.createQueryRunner(),this.currentDatabase=this.connection.driver.database,this.currentSchema=this.connection.driver.schema;const e=!("cockroachdb"===this.connection.driver.options.type||"spanner"===this.connection.driver.options.type||"none"===this.connection.options.migrationsTransactionMode);await this.queryRunner.beforeMigration(),e&&await this.queryRunner.startTransaction();try{await this.createMetadataTableIfNecessary(this.queryRunner);const t=this.entityToSyncMetadatas.map((e=>this.getTablePath(e))),i=this.viewEntityToSyncMetadatas.map((e=>this.getTablePath(e)));await this.queryRunner.getTables(t),await this.queryRunner.getViews(i),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),e&&await this.queryRunner.commitTransaction()}catch(t){try{e&&await this.queryRunner.rollbackTransaction()}catch(i){}throw t}finally{await this.queryRunner.afterMigration(),await this.queryRunner.release()}}async createMetadataTableIfNecessary(e){(this.viewEntityToSyncMetadatas.length>0||this.hasGeneratedColumns())&&await this.createTypeormMetadataTable(e)}async log(){this.queryRunner=this.connection.createQueryRunner();try{const e=this.entityToSyncMetadatas.map((e=>this.getTablePath(e))),t=this.viewEntityToSyncMetadatas.map((e=>this.getTablePath(e)));return await this.queryRunner.getTables(e),await this.queryRunner.getViews(t),this.queryRunner.enableSqlMemory(),await this.executeSchemaSyncOperationsInProperOrder(),this.connection.queryResultCache&&await this.connection.queryResultCache.synchronize(this.queryRunner),this.queryRunner.getMemorySql()}finally{this.queryRunner.disableSqlMemory(),await this.queryRunner.release()}}get entityToSyncMetadatas(){return this.connection.entityMetadatas.filter((e=>e.synchronize&&"entity-child"!==e.tableType&&"view"!==e.tableType))}get viewEntityToSyncMetadatas(){return this.connection.entityMetadatas.filter((e=>"view"===e.tableType&&e.synchronize)).sort(nN.viewMetadataCmp)}hasGeneratedColumns(){return this.connection.entityMetadatas.some((e=>e.columns.some((e=>e.generatedType))))}async executeSchemaSyncOperationsInProperOrder(){await this.dropOldViews(),await this.dropOldForeignKeys(),await this.dropOldIndices(),await this.dropOldChecks(),await this.dropOldExclusions(),await this.dropCompositeUniqueConstraints(),await this.renameColumns(),await this.createNewTables(),await this.dropRemovedColumns(),await this.addNewColumns(),await this.updatePrimaryKeys(),await this.updateExistColumns(),await this.createNewIndices(),await this.createNewChecks(),await this.createNewExclusions(),await this.createCompositeUniqueConstraints(),await this.createForeignKeys(),await this.createViews(),await this.createNewViewIndices()}getTablePath(e){const t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema||this.currentSchema,t.database||this.currentDatabase)}async dropOldForeignKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=t.foreignKeys.filter((t=>{const i=e.foreignKeys.find((e=>t.name===e.name&&this.getTablePath(t)===this.getTablePath(e.referencedEntityMetadata)));return!i||i.onDelete&&i.onDelete!==t.onDelete||i.onUpdate&&i.onUpdate!==t.onUpdate}));0!==i.length&&(this.connection.logger.logSchemaBuild(`dropping old foreign keys of ${t.name}: ${i.map((e=>e.name)).join(", ")}`),await this.queryRunner.dropForeignKeys(t,i))}}async renameTables(){}async renameColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;if(e.columns.length!==t.columns.length)continue;const i=e.columns.filter((e=>!e.isVirtualProperty)).filter((e=>!t.columns.find((t=>t.name===e.databaseName&&t.type===this.connection.driver.normalizeType(e)&&t.isNullable===e.isNullable&&t.isUnique===this.connection.driver.normalizeIsUnique(e)))));if(0===i.length||i.length>1)continue;const n=t.columns.filter((t=>!e.columns.find((e=>!e.isVirtualProperty&&e.databaseName===t.name&&this.connection.driver.normalizeType(e)===t.type&&e.isNullable===t.isNullable&&this.connection.driver.normalizeIsUnique(e)===t.isUnique))));if(0===n.length||n.length>1)continue;const r=n[0].clone();r.name=i[0].databaseName,this.connection.logger.logSchemaBuild(`renaming column "${n[0].name}" in "${t.name}" to "${r.name}"`),await this.queryRunner.renameColumn(t,n[0],r)}}async dropOldIndices(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=t.indices.filter((t=>{const i=e.indices.find((e=>e.name===t.name));return!i||!1!==i.synchronize&&(i.isUnique!==t.isUnique||(i.isSpatial!==t.isSpatial||(!(!this.connection.driver.isFullTextColumnTypeSupported()||i.isFulltext===t.isFulltext)||(i.columns.length!==t.columnNames.length||!i.columns.every((e=>-1!==t.columnNames.indexOf(e.databaseName)))))))})).map((async e=>{this.connection.logger.logSchemaBuild(`dropping an index: "${e.name}" from table ${t.name}`),await this.queryRunner.dropIndex(t,e)}));await Promise.all(i)}if("postgres"===this.connection.options.type){const e=this.queryRunner;for(const t of this.viewEntityToSyncMetadatas){const i=this.queryRunner.loadedViews.find((e=>this.getTablePath(e)===this.getTablePath(t)));if(!i)continue;const n=i.indices.filter((e=>{const i=t.indices.find((t=>t.name===e.name));return!i||!1!==i.synchronize&&(i.isUnique!==e.isUnique||(i.isSpatial!==e.isSpatial||(!(!this.connection.driver.isFullTextColumnTypeSupported()||i.isFulltext===e.isFulltext)||(i.columns.length!==e.columnNames.length||!i.columns.every((t=>-1!==e.columnNames.indexOf(t.databaseName)))))))})).map((async t=>{this.connection.logger.logSchemaBuild(`dropping an index: "${t.name}" from view ${i.name}`),await e.dropViewIndex(i,t)}));await Promise.all(n)}}}async dropOldChecks(){if(!Zk.isMySQLFamily(this.connection.driver)&&"aurora-mysql"!==this.connection.driver.options.type)for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=t.checks.filter((t=>!e.checks.find((e=>e.name===t.name))));0!==i.length&&(this.connection.logger.logSchemaBuild(`dropping old check constraint: ${i.map((e=>`"${e.name}"`)).join(", ")} from table "${t.name}"`),await this.queryRunner.dropCheckConstraints(t,i))}}async dropCompositeUniqueConstraints(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=t.uniques.filter((t=>t.columnNames.length>1&&!e.uniques.find((e=>e.name===t.name))));0!==i.length&&(this.connection.logger.logSchemaBuild(`dropping old unique constraint: ${i.map((e=>`"${e.name}"`)).join(", ")} from table "${t.name}"`),await this.queryRunner.dropUniqueConstraints(t,i))}}async dropOldExclusions(){if("postgres"===this.connection.driver.options.type)for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=t.exclusions.filter((t=>!e.exclusions.find((e=>e.name===t.name))));0!==i.length&&(this.connection.logger.logSchemaBuild(`dropping old exclusion constraint: ${i.map((e=>`"${e.name}"`)).join(", ")} from table "${t.name}"`),await this.queryRunner.dropExclusionConstraints(t,i))}}async createNewTables(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(t)continue;this.connection.logger.logSchemaBuild(`creating a new table: ${this.getTablePath(e)}`);const i=Hk.create(e,this.connection.driver);await this.queryRunner.createTable(i,!1,!1),this.queryRunner.loadedTables.push(i)}}async createViews(){for(const e of this.viewEntityToSyncMetadatas){const t=this.queryRunner.loadedViews.find((t=>{const i="string"==typeof t.expression?t.expression.trim():t.expression(this.connection).getQuery(),n="string"==typeof e.expression?e.expression.trim():e.expression(this.connection).getQuery();return this.getTablePath(t)===this.getTablePath(e)&&i===n}));if(t)continue;this.connection.logger.logSchemaBuild(`creating a new view: ${this.getTablePath(e)}`);const i=iN.create(e,this.connection.driver);await this.queryRunner.createView(i,!0),this.queryRunner.loadedViews.push(i)}}async dropOldViews(){const e=[],t=this.viewEntityToSyncMetadatas,i=new Map;for(const a of this.queryRunner.loadedViews){const e=t.find((e=>this.getTablePath(a)===this.getTablePath(e)));e&&i.set(a,e)}for(const a of this.queryRunner.loadedViews){const t=i.get(a);if(!t)continue;("string"==typeof a.expression?a.expression.trim():a.expression(this.connection).getQuery())!==("string"==typeof t.expression?t.expression.trim():t.expression(this.connection).getQuery())&&(this.connection.logger.logSchemaBuild(`dropping an old view: ${a.name}`),e.push(a))}const n=e=>{const t=i.get(e);let r=[e];if(!t)return r;for(const[a,s]of i.entries())a!==e&&s.dependsOn&&(s.dependsOn.has(t.target)||s.dependsOn.has(t.name))&&(r=r.concat(n(a)));return r},r=new Set(e.map((e=>n(e))).reduce(((e,t)=>e.concat(t)),[]).sort(((e,t)=>nN.viewMetadataCmp(i.get(e),i.get(t)))).reverse());for(const a of r)await this.queryRunner.dropView(a);this.queryRunner.loadedViews=this.queryRunner.loadedViews.filter((e=>!r.has(e)))}async dropRemovedColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=t.columns.filter((t=>!e.columns.find((e=>e.isVirtualProperty||e.databaseName===t.name))));0!==i.length&&(this.connection.logger.logSchemaBuild(`columns dropped in ${t.name}: `+i.map((e=>e.name)).join(", ")),await this.queryRunner.dropColumns(t,i))}}async addNewColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=e.columns.filter((e=>!e.isVirtualProperty&&!t.columns.find((t=>t.name===e.databaseName))));if(0===i.length)continue;const n=this.metadataColumnsToTableColumnOptions(i).map((e=>new $k(e)));0!==n.length&&(this.connection.logger.logSchemaBuild("new columns added: "+i.map((e=>e.databaseName)).join(", ")),await this.queryRunner.addColumns(t,n))}}async updatePrimaryKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=e.columns.filter((e=>e.isPrimary));if(t.columns.filter((e=>e.isPrimary)).length!==i.length&&i.length>1){const e=i.map((e=>new $k(Uk.createTableColumnOptions(e,this.connection.driver))));await this.queryRunner.updatePrimaryKeys(t,e)}}}async updateExistColumns(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=this.connection.driver.findChangedColumns(t.columns,e.columns);if(0===i.length)continue;for(const r of i)await this.dropColumnReferencedForeignKeys(this.getTablePath(e),r.databaseName);for(const r of i)await this.dropColumnCompositeIndices(this.getTablePath(e),r.databaseName);if(!Zk.isMySQLFamily(this.connection.driver)&&"aurora-mysql"!==this.connection.driver.options.type&&"spanner"!==this.connection.driver.options.type)for(const r of i)await this.dropColumnCompositeUniques(this.getTablePath(e),r.databaseName);const n=i.map((e=>{const i=t.columns.find((t=>t.name===e.databaseName)),n=Uk.createTableColumnOptions(e,this.connection.driver);return{oldColumn:i,newColumn:new $k(n)}}));0!==n.length&&(this.connection.logger.logSchemaBuild(`columns changed in "${t.name}". updating: `+i.map((e=>e.databaseName)).join(", ")),await this.queryRunner.changeColumns(t,n))}}async createNewIndices(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=e.indices.filter((e=>!t.indices.find((t=>t.name===e.name))&&!0===e.synchronize)).map((e=>Bk.create(e)));0!==i.length&&(this.connection.logger.logSchemaBuild(`adding new indices ${i.map((e=>`"${e.name}"`)).join(", ")} in table "${t.name}"`),await this.queryRunner.createIndices(t,i))}}async createNewViewIndices(){if("postgres"!==this.connection.options.type||!Zk.isPostgresFamily(this.connection.driver))return;const e=this.queryRunner;for(const t of this.viewEntityToSyncMetadatas){const i=this.queryRunner.loadedViews.find((e=>{const i="string"==typeof e.expression?e.expression.trim():e.expression(this.connection).getQuery(),n="string"==typeof t.expression?t.expression.trim():t.expression(this.connection).getQuery();return this.getTablePath(e)===this.getTablePath(t)&&i===n}));if(!i||!i.materialized)continue;const n=t.indices.filter((e=>!i.indices.find((t=>t.name===e.name))&&!0===e.synchronize)).map((e=>Bk.create(e)));0!==n.length&&(this.connection.logger.logSchemaBuild(`adding new indices ${n.map((e=>`"${e.name}"`)).join(", ")} in view "${i.name}"`),await e.createViewIndices(i,n))}}async createNewChecks(){if(!Zk.isMySQLFamily(this.connection.driver)&&"aurora-mysql"!==this.connection.driver.options.type)for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=e.checks.filter((e=>!t.checks.find((t=>t.name===e.name)))).map((e=>zk.create(e)));0!==i.length&&(this.connection.logger.logSchemaBuild(`adding new check constraints: ${i.map((e=>`"${e.name}"`)).join(", ")} in table "${t.name}"`),await this.queryRunner.createCheckConstraints(t,i))}}async createCompositeUniqueConstraints(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=e.uniques.filter((e=>e.columns.length>1&&!t.uniques.find((t=>t.name===e.name)))).map((e=>Fk.create(e)));0!==i.length&&(this.connection.logger.logSchemaBuild(`adding new unique constraints: ${i.map((e=>`"${e.name}"`)).join(", ")} in table "${t.name}"`),await this.queryRunner.createUniqueConstraints(t,i))}}async createNewExclusions(){if("postgres"===this.connection.driver.options.type)for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=e.exclusions.filter((e=>!t.exclusions.find((t=>t.name===e.name)))).map((e=>Vk.create(e)));0!==i.length&&(this.connection.logger.logSchemaBuild(`adding new exclusion constraints: ${i.map((e=>`"${e.name}"`)).join(", ")} in table "${t.name}"`),await this.queryRunner.createExclusionConstraints(t,i))}}async createForeignKeys(){for(const e of this.entityToSyncMetadatas){const t=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===this.getTablePath(e)));if(!t)continue;const i=e.foreignKeys.filter((e=>!t.foreignKeys.find((t=>t.name===e.name&&this.getTablePath(t)===this.getTablePath(e.referencedEntityMetadata)))));if(0===i.length)continue;const n=i.map((e=>qk.create(e,this.connection.driver)));this.connection.logger.logSchemaBuild(`creating a foreign keys: ${i.map((e=>e.name)).join(", ")} on table "${t.name}"`),await this.queryRunner.createForeignKeys(t,n)}}async dropColumnReferencedForeignKeys(e,t){const i=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===e));if(!i)return;const n=[],r=i.foreignKeys.find((e=>-1!==e.columnNames.indexOf(t)));if(r){const e=i.clone();e.foreignKeys=[r],n.push(e),i.removeForeignKey(r)}for(const a of this.queryRunner.loadedTables){const i=a.foreignKeys.filter((i=>this.getTablePath(i)===e&&-1!==i.referencedColumnNames.indexOf(t)));if(i.length>0){const e=a.clone();e.foreignKeys=i,n.push(e),i.forEach((e=>a.removeForeignKey(e)))}}if(n.length>0)for(const a of n)this.connection.logger.logSchemaBuild(`dropping related foreign keys of ${a.name}: ${a.foreignKeys.map((e=>e.name)).join(", ")}`),await this.queryRunner.dropForeignKeys(a,a.foreignKeys)}async dropColumnCompositeIndices(e,t){const i=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===e));if(!i)return;const n=i.indices.filter((e=>e.columnNames.length>1&&-1!==e.columnNames.indexOf(t)));0!==n.length&&(this.connection.logger.logSchemaBuild(`dropping related indices of "${e}"."${t}": ${n.map((e=>e.name)).join(", ")}`),await this.queryRunner.dropIndices(i,n))}async dropColumnCompositeUniques(e,t){const i=this.queryRunner.loadedTables.find((t=>this.getTablePath(t)===e));if(!i)return;const n=i.uniques.filter((e=>e.columnNames.length>1&&-1!==e.columnNames.indexOf(t)));0!==n.length&&(this.connection.logger.logSchemaBuild(`dropping related unique constraints of "${e}"."${t}": ${n.map((e=>e.name)).join(", ")}`),await this.queryRunner.dropUniqueConstraints(i,n))}metadataColumnsToTableColumnOptions(e){return e.map((e=>Uk.createTableColumnOptions(e,this.connection.driver)))}async createTypeormMetadataTable(e){const t=this.currentSchema,i=this.currentDatabase,n=this.connection.driver.buildTableName(this.connection.metadataTableName,t,i),r="spanner"===this.connection.driver.options.type;await e.createTable(new Hk({database:i,schema:t,name:n,columns:[{name:"type",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataType}),isNullable:!1,isPrimary:r},{name:"database",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataDatabase}),isNullable:!0,isPrimary:r},{name:"schema",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataSchema}),isNullable:!0,isPrimary:r},{name:"table",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataTable}),isNullable:!0,isPrimary:r},{name:"name",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataName}),isNullable:!0,isPrimary:r},{name:"value",type:this.connection.driver.normalizeType({type:this.connection.driver.mappedDataTypes.metadataValue}),isNullable:!0,isPrimary:r}]}),!0)}}class aN{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["int","integer","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8","integer","character","varchar","varying character","nchar","native character","nvarchar","text","clob","text","blob","real","double","double precision","float","real","numeric","decimal","boolean","date","time","datetime","json"],this.supportedUpsertTypes=["on-conflict-do-update"],this.withLengthColumnTypes=["character","varchar","varying character","nchar","native character","nvarchar","text","blob","clob"],this.spatialTypes=[],this.withPrecisionColumnTypes=["real","double","double precision","float","real","numeric","decimal","date","time","datetime"],this.withScaleColumnTypes=["real","double","double precision","float","real","numeric","decimal"],this.mappedDataTypes={createDate:"datetime",createDateDefault:"datetime('now')",updateDate:"datetime",updateDateDefault:"datetime('now')",deleteDate:"datetime",deleteDateNullable:!0,version:"integer",treeLevel:"integer",migrationId:"integer",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.cteCapabilities={enabled:!0,requiresRecursiveHint:!0},this.attachedDatabases={},this.connection=e,this.options=e.options,this.database=Zk.buildDriverOptions(this.options).database}async connect(){this.databaseConnection=await this.createDatabaseConnection()}afterConnect(){return Promise.resolve()}async disconnect(){return new Promise(((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close((i=>i?t(i):e()))}))}hasAttachedDatabases(){return!!Object.keys(this.attachedDatabases).length}getAttachedDatabaseHandleByRelativePath(e){var t,i;return null===(i=null===(t=this.attachedDatabases)||void 0===t?void 0:t[e])||void 0===i?void 0:i.attachHandle}getAttachedDatabasePathRelativeByHandle(e){var t;return null===(t=Object.values(this.attachedDatabases).find((({attachHandle:t})=>e===t)))||void 0===t?void 0:t.attachFilepathRelative}createSchemaBuilder(){return new rN(this.connection)}preparePersistentValue(e,t){return t.transformer&&(e=DA.transformTo(t.transformer,e)),null==e?e:t.type===Boolean||"boolean"===t.type?!0===e?1:0:"date"===t.type?RA.mixedDateToDateString(e):"time"===t.type?RA.mixedDateToTimeString(e):"datetime"===t.type||t.type===Date?RA.mixedDateToUtcDatetimeString(e):"json"===t.type||"simple-json"===t.type?RA.simpleJsonToString(e):"simple-array"===t.type?RA.simpleArrayToString(e):"simple-enum"===t.type?RA.simpleEnumToString(e):e}prepareHydratedValue(e,t){return null==e?t.transformer?DA.transformFrom(t.transformer,e):e:(t.type===Boolean||"boolean"===t.type?e=!!e:"datetime"===t.type||t.type===Date?(e&&"string"==typeof e&&(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d/.test(e)&&(e=e.replace(" ","T")),/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d(:\d\d(\.\d\d\d)?)?$/.test(e)&&(e+="Z")),e=RA.normalizeHydratedDate(e)):"date"===t.type?e=RA.mixedDateToDateString(e):"time"===t.type?e=RA.mixedTimeToString(e):"json"===t.type||"simple-json"===t.type?e=RA.stringToSimpleJson(e):"simple-array"===t.type?e=RA.stringToSimpleArray(e):"simple-enum"===t.type?e=RA.stringToSimpleEnum(e,t):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=DA.transformFrom(t.transformer,e)),e)}escapeQueryWithParameters(e,t,i){const n=Object.keys(i).map((e=>"boolean"==typeof i[e]?!0===i[e]?1:0:i[e]instanceof Date?RA.mixedDateToUtcDatetimeString(i[e]):i[e]));return t&&Object.keys(t).length?(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,((e,i,r)=>{if(!t.hasOwnProperty(r))return e;let a=t[r];return i?a.map((e=>(n.push(e),this.createParameter(r,n.length-1)))).join(", "):"function"==typeof a?a():"number"==typeof a?String(a):"boolean"==typeof a?(n.push(+a),this.createParameter(r,n.length-1)):a instanceof Date?(n.push(RA.mixedDateToUtcDatetimeString(a)),this.createParameter(r,n.length-1)):(n.push(a),this.createParameter(r,n.length-1))})),[e,n]):[e,n]}escape(e){return'"'+e+'"'}buildTableName(e,t,i){return e}parseTableName(e){var t;const i=this.database,n=void 0;if(ok.isTable(e)||ok.isView(e)){const t=this.parseTableName(e.schema?`"${e.schema}"."${e.name}"`:e.name);return{database:e.database||t.database||i,schema:e.schema||t.schema||n,tableName:t.tableName}}if(ok.isTableForeignKey(e)){const t=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||t.database||i,schema:e.referencedSchema||t.schema||n,tableName:t.tableName}}if(ok.isEntityMetadata(e))return{database:e.database||i,schema:e.schema||n,tableName:e.tableName};const r=e.split(".");if(3===r.length)return{database:r[0]||i,schema:r[1]||n,tableName:r[2]};if(2===r.length){return{database:null!==(t=this.getAttachedDatabasePathRelativeByHandle(r[0]))&&void 0!==t?t:i,schema:r[0],tableName:r[1]}}return{database:i,schema:n,tableName:e}}normalizeType(e){return e.type===Number||"int"===e.type?"integer":e.type===String?"varchar":e.type===Date?"datetime":e.type===Boolean?"boolean":"uuid"===e.type?"varchar":"simple-array"===e.type||"simple-json"===e.type?"text":"simple-enum"===e.type?"varchar":e.type||""}normalizeDefault(e){const t=e.default;return"number"==typeof t?""+t:"boolean"==typeof t?t?"1":"0":"function"==typeof t?t():"string"==typeof t?`'${t}'`:null!=t?`${t}`:void 0}normalizeIsUnique(e){return e.entityMetadata.uniques.some((t=>1===t.columns.length&&t.columns[0]===e))}getColumnLength(e){return e.length?e.length.toString():""}createFullType(e){let t=e.type;return e.enum?"varchar":(e.length?t+="("+e.length+")":null!==e.precision&&void 0!==e.precision&&null!==e.scale&&void 0!==e.scale?t+="("+e.precision+","+e.scale+")":null!==e.precision&&void 0!==e.precision&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t)}obtainMasterConnection(){return Promise.resolve()}obtainSlaveConnection(){return Promise.resolve()}createGeneratedMap(e,t,i,n){const r=e.generatedColumns.reduce(((e,r)=>{let a;return"increment"===r.generationStrategy&&t&&(a=t-n+i+1),a?LA.mergeDeep(e,r.createValueMap(a)):e}),{});return Object.keys(r).length>0?r:void 0}findChangedColumns(e,t){return t.filter((t=>{const i=e.find((e=>e.name===t.databaseName));if(!i)return!1;return i.name!==t.databaseName||i.type!==this.normalizeType(t)||i.length!==t.length||i.precision!==t.precision||i.scale!==t.scale||this.normalizeDefault(t)!==i.default||i.isPrimary!==t.isPrimary||i.isNullable!==t.isNullable||i.generatedType!==t.generatedType||i.asExpression!==t.asExpression||i.isUnique!==this.normalizeIsUnique(t)||i.enum&&t.enum&&!LA.isArraysEqual(i.enum,t.enum.map((e=>e+"")))||"uuid"!==t.generationStrategy&&i.isGenerated!==t.isGenerated}))}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"?"}createDatabaseConnection(){throw new YC("Do not use AbstractSqlite directly, it has to be used with one of the sqlite drivers")}loadDependencies(){}}class sN{constructor(e,t){this.query=e,this.parameters=t,this["@instanceof"]=Symbol.for("Query")}}class oN{constructor(){this.upQueries=[],this.downQueries=[]}}class lN{constructor(){this.isReleased=!1,this.isTransactionActive=!1,this.data={},this.loadedTables=[],this.loadedViews=[],this.sqlMemoryMode=!1,this.sqlInMemory=new oN,this.transactionDepth=0,this.cachedTablePaths={}}async beforeMigration(){}async afterMigration(){}async getTable(e){return this.loadedTables=await this.loadTables([e]),this.loadedTables.length>0?this.loadedTables[0]:void 0}async getTables(e){return e?(this.loadedTables=await this.loadTables(e),this.loadedTables):await this.loadTables(e)}async getView(e){return this.loadedViews=await this.loadViews([e]),this.loadedViews.length>0?this.loadedViews[0]:void 0}async getViews(e){return this.loadedViews=await this.loadViews(e),this.loadedViews}enableSqlMemory(){this.sqlInMemory=new oN,this.sqlMemoryMode=!0}disableSqlMemory(){this.sqlInMemory=new oN,this.sqlMemoryMode=!1}clearSqlMemory(){this.sqlInMemory=new oN}getMemorySql(){return this.sqlInMemory}async executeMemoryUpSql(){for(const{query:e,parameters:t}of this.sqlInMemory.upQueries)await this.query(e,t)}async executeMemoryDownSql(){for(const{query:e,parameters:t}of this.sqlInMemory.downQueries.reverse())await this.query(e,t)}getReplicationMode(){return this.mode}async getCachedView(e){const t=this.loadedViews.find((t=>t.name===e));if(t)return t;const i=await this.loadViews([e]);if(i.length>0)return this.loadedViews.push(i[0]),i[0];throw new YC(`View "${e}" does not exist.`)}async getCachedTable(e){if(e in this.cachedTablePaths){const t=this.cachedTablePaths[e],i=this.loadedTables.find((e=>this.getTablePath(e)===t));if(i)return i}const t=await this.loadTables([e]);if(t.length>0){const i=this.getTablePath(t[0]),n=this.loadedTables.find((e=>this.getTablePath(e)===i));return n||(this.cachedTablePaths[e]=this.getTablePath(t[0]),this.loadedTables.push(t[0]),t[0])}throw new YC(`Table "${e}" does not exist.`)}replaceCachedTable(e,t){const i=this.getTablePath(e),n=this.loadedTables.find((e=>this.getTablePath(e)===i));for(const[r,a]of Object.entries(this.cachedTablePaths))a===i&&(this.cachedTablePaths[r]=this.getTablePath(t));n&&(n.database=t.database,n.schema=t.schema,n.name=t.name,n.columns=t.columns,n.indices=t.indices,n.foreignKeys=t.foreignKeys,n.uniques=t.uniques,n.checks=t.checks,n.justCreated=t.justCreated,n.engine=t.engine)}getTablePath(e){const t=this.connection.driver.parseTableName(e);return this.connection.driver.buildTableName(t.tableName,t.schema,t.database)}getTypeormMetadataTableName(){const e=this.connection.driver.options;return this.connection.driver.buildTableName(this.connection.metadataTableName,e.schema,e.database)}selectTypeormMetadataSql({database:e,schema:t,table:i,type:n,name:r}){const a=this.connection.createQueryBuilder(),s=a.select().from(this.getTypeormMetadataTableName(),"t").where(`${a.escape("type")} = :type`,{type:n}).andWhere(`${a.escape("name")} = :name`,{name:r});e&&s.andWhere(`${a.escape("database")} = :database`,{database:e}),t&&s.andWhere(`${a.escape("schema")} = :schema`,{schema:t}),i&&s.andWhere(`${a.escape("table")} = :table`,{table:i});const[o,l]=s.getQueryAndParameters();return new sN(o,l)}insertTypeormMetadataSql({database:e,schema:t,table:i,type:n,name:r,value:a}){const[s,o]=this.connection.createQueryBuilder().insert().into(this.getTypeormMetadataTableName()).values({database:e,schema:t,table:i,type:n,name:r,value:a}).getQueryAndParameters();return new sN(s,o)}deleteTypeormMetadataSql({database:e,schema:t,table:i,type:n,name:r}){const a=this.connection.createQueryBuilder(),s=a.delete().from(this.getTypeormMetadataTableName()).where(`${a.escape("type")} = :type`,{type:n}).andWhere(`${a.escape("name")} = :name`,{name:r});e&&s.andWhere(`${a.escape("database")} = :database`,{database:e}),t&&s.andWhere(`${a.escape("schema")} = :schema`,{schema:t}),i&&s.andWhere(`${a.escape("table")} = :table`,{table:i});const[o,l]=s.getQueryAndParameters();return new sN(o,l)}isColumnChanged(e,t,i,n,r=!0){return e.charset!==t.charset||e.collation!==t.collation||e.precision!==t.precision||e.scale!==t.scale||e.width!==t.width||e.zerofill!==t.zerofill||e.unsigned!==t.unsigned||e.asExpression!==t.asExpression||i&&e.default!==t.default||e.onUpdate!==t.onUpdate||e.isNullable!==t.isNullable||n&&e.comment!==t.comment||r&&this.isEnumChanged(e,t)}isEnumChanged(e,t){return!LA.isArraysEqual(e.enum||[],t.enum||[])}isDefaultColumnLength(e,t,i){if(this.connection.hasMetadata(e.name)){const i=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(i){if(this.connection.driver.getColumnLength(i))return!1}}return!!(this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].length)&&this.connection.driver.dataTypeDefaults[t.type].length.toString()===i.toString()}isDefaultColumnPrecision(e,t,i){if(this.connection.hasMetadata(e.name)){const i=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(i&&null!==i.precision&&void 0!==i.precision)return!1}return!(!this.connection.driver.dataTypeDefaults||!this.connection.driver.dataTypeDefaults[t.type]||null===this.connection.driver.dataTypeDefaults[t.type].precision||void 0===this.connection.driver.dataTypeDefaults[t.type].precision)&&this.connection.driver.dataTypeDefaults[t.type].precision===i}isDefaultColumnScale(e,t,i){if(this.connection.hasMetadata(e.name)){const i=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(i&&null!==i.scale&&void 0!==i.scale)return!1}return!(!this.connection.driver.dataTypeDefaults||!this.connection.driver.dataTypeDefaults[t.type]||null===this.connection.driver.dataTypeDefaults[t.type].scale||void 0===this.connection.driver.dataTypeDefaults[t.type].scale)&&this.connection.driver.dataTypeDefaults[t.type].scale===i}async executeQueries(e,t){if(ok.isQuery(e)&&(e=[e]),ok.isQuery(t)&&(t=[t]),this.sqlInMemory.upQueries.push(...e),this.sqlInMemory.downQueries.push(...t),!0===this.sqlMemoryMode)return Promise.resolve();for(const{query:i,parameters:n}of e)await this.query(i,n)}generateIndexName(e,t){return this.connection.namingStrategy.indexName(e,t.columnNames,t.where)}}!function(e){e.VIEW="VIEW",e.MATERIALIZED_VIEW="MATERIALIZED_VIEW",e.GENERATED_COLUMN="GENERATED_COLUMN"}(MA||(MA={}));class cN extends lN{constructor(){super(),this.transactionPromise=null}connect(){return Promise.resolve(this.driver.databaseConnection)}release(){return this.loadedTables=[],this.clearSqlMemory(),Promise.resolve()}async startTransaction(e){if("none"===this.driver.transactionSupport)throw new YC(`Transactions aren't supported by ${this.connection.driver.options.type}.`);if(this.isTransactionActive&&"simple"===this.driver.transactionSupport)throw new ak;if(e&&"READ UNCOMMITTED"!==e&&"SERIALIZABLE"!==e)throw new YC("SQLite only supports SERIALIZABLE and READ UNCOMMITTED isolation");this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}0===this.transactionDepth?(e&&("READ UNCOMMITTED"===e?await this.query("PRAGMA read_uncommitted = true"):await this.query("PRAGMA read_uncommitted = false")),await this.query("BEGIN TRANSACTION")):await this.query(`SAVEPOINT typeorm_${this.transactionDepth}`),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new rk;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_"+(this.transactionDepth-1)):(await this.query("COMMIT"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new rk;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_"+(this.transactionDepth-1)):(await this.query("ROLLBACK"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}stream(e,t,i,n){throw new YC("Stream is not supported by sqlite driver.")}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){return Promise.resolve(!1)}async getCurrentDatabase(){return Promise.resolve(void 0)}async hasSchema(e){throw new YC("This driver does not support table schemas")}async getCurrentSchema(){return Promise.resolve(void 0)}async hasTable(e){const t=`SELECT * FROM "sqlite_master" WHERE "type" = 'table' AND "name" = '${ok.isTable(e)?e.name:e}'`;return!!(await this.query(t)).length}async hasColumn(e,t){const i=ok.isTable(e)?e.name:e,n=`PRAGMA table_xinfo(${this.escapePath(i)})`;return!!(await this.query(n)).find((e=>e.name===t))}async createDatabase(e,t){return Promise.resolve()}async dropDatabase(e,t){return Promise.resolve()}async createSchema(e,t){return Promise.resolve()}async dropSchema(e,t){return Promise.resolve()}async createTable(e,t=!1,i=!0,n=!0){const r=[],a=[];if(t){if(await this.hasTable(e))return Promise.resolve()}r.push(this.createTableSql(e,i)),a.push(this.dropTableSql(e)),n&&e.indices.forEach((t=>{t.name||(t.name=this.connection.namingStrategy.indexName(e,t.columnNames,t.where)),r.push(this.createIndexSql(e,t)),a.push(this.dropIndexSql(t))}));const s=e.columns.filter((e=>e.generatedType&&e.asExpression));for(const o of s){const t=this.insertTypeormMetadataSql({table:e.name,type:MA.GENERATED_COLUMN,name:o.name,value:o.asExpression}),i=this.deleteTypeormMetadataSql({table:e.name,type:MA.GENERATED_COLUMN,name:o.name});r.push(t),a.push(i)}await this.executeQueries(r,a)}async dropTable(e,t,i=!0,n=!0){if(t){if(!(await this.hasTable(e)))return Promise.resolve()}const r=i,a=ok.isTable(e)?e:await this.getCachedTable(e),s=[],o=[];n&&a.indices.forEach((e=>{s.push(this.dropIndexSql(e)),o.push(this.createIndexSql(a,e))})),s.push(this.dropTableSql(a,t)),o.push(this.createTableSql(a,r));const l=a.columns.filter((e=>e.generatedType&&e.asExpression));for(const c of l){const e=this.deleteTypeormMetadataSql({table:a.name,type:MA.GENERATED_COLUMN,name:c.name}),t=this.insertTypeormMetadataSql({table:a.name,type:MA.GENERATED_COLUMN,name:c.name,value:c.asExpression});s.push(e),o.push(t)}await this.executeQueries(s,o)}async createView(e,t=!1){const i=[],n=[];i.push(this.createViewSql(e)),t&&i.push(this.insertViewDefinitionSql(e)),n.push(this.dropViewSql(e)),t&&n.push(this.deleteViewDefinitionSql(e)),await this.executeQueries(i,n)}async dropView(e){const t=ok.isView(e)?e.name:e,i=await this.getCachedView(t),n=[],r=[];n.push(this.deleteViewDefinitionSql(i)),n.push(this.dropViewSql(i)),r.push(this.insertViewDefinitionSql(i)),r.push(this.createViewSql(i)),await this.executeQueries(n,r)}async renameTable(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone();n.name=t;const r=new sN(`ALTER TABLE ${this.escapePath(i.name)} RENAME TO ${this.escapePath(t)}`),a=new sN(`ALTER TABLE ${this.escapePath(t)} RENAME TO ${this.escapePath(i.name)}`);await this.executeQueries(r,a),n.uniques.forEach((e=>{const t=this.connection.namingStrategy.uniqueConstraintName(i,e.columnNames);e.name===t&&(e.name=this.connection.namingStrategy.uniqueConstraintName(n,e.columnNames))})),n.foreignKeys.forEach((e=>{const t=this.connection.namingStrategy.foreignKeyName(i,e.columnNames,this.getTablePath(e),e.referencedColumnNames);e.name===t&&(e.name=this.connection.namingStrategy.foreignKeyName(n,e.columnNames,this.getTablePath(e),e.referencedColumnNames))})),n.indices.forEach((e=>{const t=this.connection.namingStrategy.indexName(i,e.columnNames,e.where);e.name===t&&(e.name=this.connection.namingStrategy.indexName(n,e.columnNames,e.where))})),i.name=n.name,await this.recreateTable(n,i)}async addColumn(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e);return this.addColumns(i,[t])}async addColumns(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone();t.forEach((e=>n.addColumn(e))),await this.recreateTable(n,i)}async renameColumn(e,t,i){const n=ok.isTable(e)?e:await this.getCachedTable(e),r=ok.isTableColumn(t)?t:n.columns.find((e=>e.name===t));if(!r)throw new YC(`Column "${t}" was not found in the "${n.name}" table.`);let a;return ok.isTableColumn(i)?a=i:(a=r.clone(),a.name=i),this.changeColumn(n,r,a)}async changeColumn(e,t,i){const n=ok.isTable(e)?e:await this.getCachedTable(e),r=ok.isTableColumn(t)?t:n.columns.find((e=>e.name===t));if(!r)throw new YC(`Column "${t}" was not found in the "${n.name}" table.`);await this.changeColumns(n,[{oldColumn:r,newColumn:i}])}async changeColumns(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone();t.forEach((e=>{e.newColumn.name!==e.oldColumn.name&&(n.findColumnUniques(e.oldColumn).forEach((t=>{const r=this.connection.namingStrategy.uniqueConstraintName(i,t.columnNames);t.columnNames.splice(t.columnNames.indexOf(e.oldColumn.name),1),t.columnNames.push(e.newColumn.name),t.name===r&&(t.name=this.connection.namingStrategy.uniqueConstraintName(n,t.columnNames))})),n.findColumnForeignKeys(e.oldColumn).forEach((t=>{const r=this.connection.namingStrategy.foreignKeyName(i,t.columnNames,this.getTablePath(t),t.referencedColumnNames);t.columnNames.splice(t.columnNames.indexOf(e.oldColumn.name),1),t.columnNames.push(e.newColumn.name),t.name===r&&(t.name=this.connection.namingStrategy.foreignKeyName(n,t.columnNames,this.getTablePath(t),t.referencedColumnNames))})),n.findColumnIndices(e.oldColumn).forEach((t=>{const r=this.connection.namingStrategy.indexName(i,t.columnNames,t.where);t.columnNames.splice(t.columnNames.indexOf(e.oldColumn.name),1),t.columnNames.push(e.newColumn.name),t.name===r&&(t.name=this.connection.namingStrategy.indexName(n,t.columnNames,t.where))})));const t=n.columns.find((t=>t.name===e.oldColumn.name));t&&(n.columns[n.columns.indexOf(t)]=e.newColumn)})),await this.recreateTable(n,i)}async dropColumn(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableColumn(t)?t:i.findColumnByName(t);if(!n)throw new YC(`Column "${t}" was not found in table "${i.name}"`);await this.dropColumns(i,[n])}async dropColumns(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone();t.forEach((e=>{const t=ok.isTableColumn(e)?e:i.findColumnByName(e);if(!t)throw new Error(`Column "${e}" was not found in table "${i.name}"`);n.removeColumn(t),n.findColumnUniques(t).forEach((e=>n.removeUniqueConstraint(e))),n.findColumnIndices(t).forEach((e=>n.removeIndex(e))),n.findColumnForeignKeys(t).forEach((e=>n.removeForeignKey(e)))})),await this.recreateTable(n,i)}async createPrimaryKey(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone();n.columns.forEach((e=>{t.find((t=>t===e.name))&&(e.isPrimary=!0)})),await this.recreateTable(n,i),i.columns.forEach((e=>{t.find((t=>t===e.name))&&(e.isPrimary=!0)}))}async updatePrimaryKeys(e,t){await Promise.resolve()}async dropPrimaryKey(e){const t=ok.isTable(e)?e:await this.getCachedTable(e),i=t.clone();i.primaryColumns.forEach((e=>{e.isPrimary=!1})),await this.recreateTable(i,t),t.primaryColumns.forEach((e=>{e.isPrimary=!1}))}async createUniqueConstraint(e,t){await this.createUniqueConstraints(e,[t])}async createUniqueConstraints(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone();t.forEach((e=>n.addUniqueConstraint(e))),await this.recreateTable(n,i)}async dropUniqueConstraint(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableUnique(t)?t:i.uniques.find((e=>e.name===t));if(!n)throw new YC(`Supplied unique constraint was not found in table ${i.name}`);await this.dropUniqueConstraints(i,[n])}async dropUniqueConstraints(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone();t.forEach((e=>n.removeUniqueConstraint(e))),await this.recreateTable(n,i)}async createCheckConstraint(e,t){await this.createCheckConstraints(e,[t])}async createCheckConstraints(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone();t.forEach((e=>n.addCheckConstraint(e))),await this.recreateTable(n,i)}async dropCheckConstraint(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableCheck(t)?t:i.checks.find((e=>e.name===t));if(!n)throw new YC(`Supplied check constraint was not found in table ${i.name}`);await this.dropCheckConstraints(i,[n])}async dropCheckConstraints(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone();t.forEach((e=>n.removeCheckConstraint(e))),await this.recreateTable(n,i)}async createExclusionConstraint(e,t){throw new YC("Sqlite does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new YC("Sqlite does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new YC("Sqlite does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new YC("Sqlite does not support exclusion constraints.")}async createForeignKey(e,t){await this.createForeignKeys(e,[t])}async createForeignKeys(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone();t.forEach((e=>n.addForeignKey(e))),await this.recreateTable(n,i)}async dropForeignKey(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableForeignKey(t)?t:i.foreignKeys.find((e=>e.name===t));if(!n)throw new YC(`Supplied foreign key was not found in table ${i.name}`);await this.dropForeignKeys(e,[n])}async dropForeignKeys(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone();t.forEach((e=>n.removeForeignKey(e))),await this.recreateTable(n,i)}async createIndex(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const n=this.createIndexSql(i,t),r=this.dropIndexSql(t);await this.executeQueries(n,r),i.addIndex(t)}async createIndices(e,t){const i=t.map((t=>this.createIndex(e,t)));await Promise.all(i)}async dropIndex(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableIndex(t)?t:i.indices.find((e=>e.name===t));if(!n)throw new YC(`Supplied index ${t} was not found in table ${i.name}`);n.name||(n.name=this.generateIndexName(i,n));const r=this.dropIndexSql(n),a=this.createIndexSql(i,n);await this.executeQueries(r,a),i.removeIndex(n)}async dropIndices(e,t){const i=t.map((t=>this.dropIndex(e,t)));await Promise.all(i)}async clearTable(e){await this.query(`DELETE FROM ${this.escapePath(e)}`)}async clearDatabase(e){let t;e&&this.driver.getAttachedDatabaseHandleByRelativePath(e)&&(t=this.driver.getAttachedDatabaseHandleByRelativePath(e)),await this.query("PRAGMA foreign_keys = OFF");const i=this.isTransactionActive;i||await this.startTransaction();try{const e=t?`SELECT 'DROP VIEW "${t}"."' || name || '";' as query FROM "${t}"."sqlite_master" WHERE "type" = 'view'`:"SELECT 'DROP VIEW \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'view'",n=await this.query(e);await Promise.all(n.map((e=>this.query(e.query))));const r=t?`SELECT 'DROP TABLE "${t}"."' || name || '";' as query FROM "${t}"."sqlite_master" WHERE "type" = 'table' AND "name" != 'sqlite_sequence'`:"SELECT 'DROP TABLE \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'table' AND \"name\" != 'sqlite_sequence'",a=await this.query(r);await Promise.all(a.map((e=>this.query(e.query)))),i||await this.commitTransaction()}catch(n){try{i||await this.rollbackTransaction()}catch(r){}throw n}finally{await this.query("PRAGMA foreign_keys = ON")}}async loadViews(e){if(!(await this.hasTable(this.getTypeormMetadataTableName())))return[];e||(e=[]);const t=e.map((e=>"'"+e+"'")).join(", ");let i=`SELECT "t".* FROM "${this.getTypeormMetadataTableName()}" "t" INNER JOIN "sqlite_master" s ON "s"."name" = "t"."name" AND "s"."type" = 'view' WHERE "t"."type" = '${MA.VIEW}'`;t.length>0&&(i+=` AND "t"."name" IN (${t})`);return(await this.query(i)).map((e=>{const t=new iN;return t.name=e.name,t.expression=e.value,t}))}async loadTableRecords(e,t){let i;const[n,r]=this.splitTablePath(e);return n&&this.driver.getAttachedDatabasePathRelativeByHandle(n)&&(i=this.driver.getAttachedDatabasePathRelativeByHandle(n)),this.query(`SELECT ${i?`'${i}'`:null} as database, ${n?`'${n}'`:null} as schema, * FROM ${n?`"${n}".`:""}${this.escapePath("sqlite_master")} WHERE "type" = '${t}' AND "${"table"===t?"name":"tbl_name"}" IN ('${r}')`)}async loadPragmaRecords(e,t){const[,i]=this.splitTablePath(e);return this.query(`PRAGMA ${t}("${i}")`)}async loadTables(e){if(e&&0===e.length)return[];let t,i=[];if(e){const n=e.filter((e=>1===e.split(".").length)).map((e=>`'${e}'`)),r=e.filter((e=>e.split(".").length>1)),a=e=>{const t=[...r.map((t=>this.loadTableRecords(t,e)))];return n.length&&t.push(this.query(`SELECT * FROM "sqlite_master" WHERE "type" = '${e}' AND "${"table"===e?"name":"tbl_name"}" IN (${n})`)),t};i=(await Promise.all(a("table"))).reduce(((e,t)=>[...e,...t]),[]).filter(Boolean),t=(await Promise.all(a("index"))).reduce(((e,t)=>[...e,...t]),[]).filter(Boolean)}else{const e='SELECT * FROM "sqlite_master" WHERE "type" = \'table\'';i.push(...await this.query(e));const n=i.map((({name:e})=>`'${e}'`)).join(", ");t=await this.query(`SELECT * FROM "sqlite_master" WHERE "type" = 'index' AND "tbl_name" IN (${n})`)}return 0===i.length?[]:Promise.all(i.map((async e=>{const i=e.database&&this.driver.getAttachedDatabaseHandleByRelativePath(e.database)?`${this.driver.getAttachedDatabaseHandleByRelativePath(e.database)}.${e.name}`:e.name,n=e.sql,r=n.includes("WITHOUT ROWID"),a=new Hk({name:i,withoutRowid:r}),[s,o,l]=await Promise.all([this.loadPragmaRecords(i,"table_xinfo"),this.loadPragmaRecords(i,"index_list"),this.loadPragmaRecords(i,"foreign_key_list")]);let c;const d=e.sql;let u,h=d.toUpperCase().indexOf("AUTOINCREMENT");if(-1!==h){c=d.substr(0,h);const e=c.lastIndexOf(","),t=c.lastIndexOf("(");-1!==e?(c=c.substr(e),c=c.substr(0,c.lastIndexOf('"')),c=c.substr(c.indexOf('"')+1)):-1!==t&&(c=c.substr(t),c=c.substr(0,c.lastIndexOf('"')),c=c.substr(c.indexOf('"')+1))}a.columns=await Promise.all(s.map((async e=>{const t=new $k;if(t.name=e.name,t.type=e.type.toLowerCase(),t.default=null!==e.dflt_value&&void 0!==e.dflt_value?e.dflt_value:void 0,t.isNullable=0===e.notnull,t.isPrimary=e.pk>0,t.comment="",t.isGenerated=c===e.name,t.isGenerated&&(t.generationStrategy="increment"),2===e.hidden||3===e.hidden){t.generatedType=2===e.hidden?"VIRTUAL":"STORED";const i=await this.selectTypeormMetadataSql({table:a.name,type:MA.GENERATED_COLUMN,name:t.name}),n=await this.query(i.query,i.parameters);n[0]&&n[0].value?t.asExpression=n[0].value:t.asExpression=""}if("varchar"===t.type){const e=n.match(new RegExp('"('+t.name+")\" varchar CHECK\\s*\\(\\s*\"\\1\"\\s+IN\\s*\\(('[^']+'(?:\\s*,\\s*'[^']+')+)\\s*\\)\\s*\\)"));e&&(t.enum=e[2].substr(1,e[2].length-2).split("','"))}let i=t.type.indexOf("(");if(-1!==i){const e=t.type;let n=e.substr(0,i);if(this.driver.withLengthColumnTypes.find((e=>e===n))){let r=parseInt(e.substring(i+1,e.length-1));r&&(t.length=r.toString(),t.type=n)}if(this.driver.withPrecisionColumnTypes.find((e=>e===n))){const i=new RegExp(`^${n}\\((\\d+),?\\s?(\\d+)?\\)`),r=e.match(i);r&&r[1]&&(t.precision=+r[1]),this.driver.withScaleColumnTypes.find((e=>e===n))&&r&&r[2]&&(t.scale=+r[2]),t.type=n}}return t})));const p=[],m=/CONSTRAINT "([^"]*)" FOREIGN KEY ?\((.*?)\) REFERENCES "([^"]*)"/g;for(;null!==(u=m.exec(n));)p.push({name:u[1],columns:u[2].substr(1,u[2].length-2).split('", "'),referencedTableName:u[3]});const f=LA.uniq(l,(e=>e.id));let g;a.foreignKeys=f.map((e=>{const t=l.filter((t=>t.id===e.id&&t.table===e.table)),i=t.map((e=>e.from)),n=t.map((e=>e.to)),r=p.find((t=>t.referencedTableName===e.table&&t.columns.every((e=>-1!==i.indexOf(e)))));return new qk({name:null==r?void 0:r.name,columnNames:i,referencedTableName:e.table,referencedColumnNames:n,onDelete:e.on_delete,onUpdate:e.on_update})}));const y=[],b=/CONSTRAINT "([^"]*)" UNIQUE ?\((.*?)\)/g;for(;null!==(g=b.exec(n));)y.push({name:g[1],columns:g[2].substr(1,g[2].length-2).split('", "')});const v=o.filter((e=>"u"===e.origin)).map((e=>e.name)).filter(((e,t,i)=>i.indexOf(e)===t)).map((async e=>{const t=o.find((t=>t.name===e)),i=(await this.query(`PRAGMA index_info("${t.name}")`)).sort(((e,t)=>parseInt(e.seqno)-parseInt(t.seqno))).map((e=>e.name));if(1===i.length){const e=a.columns.find((e=>!!i.find((t=>t===e.name))));e&&(e.isUnique=!0)}const n=y.find((e=>e.columns.every((e=>-1!==i.indexOf(e)))));return new Fk({name:n?n.name:this.connection.namingStrategy.uniqueConstraintName(a,i),columnNames:i})}));let w;a.uniques=await Promise.all(v);const T=/CONSTRAINT "([^"]*)" CHECK ?(\(.*?\))([,]|[)]$)/g;for(;null!==(w=T.exec(n));)a.checks.push(new zk({name:w[1],expression:w[2]}));const x=o.filter((e=>"c"===e.origin)).map((e=>e.name)).filter(((e,t,i)=>i.indexOf(e)===t)).map((async i=>{const n=t.find((e=>e.name===i)),r=/WHERE (.*)/.exec(n.sql),s=o.find((e=>e.name===i)),l=(await this.query(`PRAGMA index_info("${s.name}")`)).sort(((e,t)=>parseInt(e.seqno)-parseInt(t.seqno))).map((e=>e.name)),c=`${e.database?`${e.database}.`:""}${s.name}`,d="1"===s.unique||1===s.unique;return new Bk({table:a,name:c,columnNames:l,isUnique:d,where:r?r[1]:void 0})})),E=await Promise.all(x);return a.indices=E.filter((e=>!!e)),a})))}createTableSql(e,t,i){const n=e.columns.filter((e=>e.isPrimary)),r=n.find((e=>e.isGenerated&&"increment"===e.generationStrategy)),a=n.length>1;if(a&&r)throw new YC("Sqlite does not support AUTOINCREMENT on composite primary key");const s=e.columns.map((e=>this.buildCreateColumnSql(e,a))).join(", "),[o]=this.splitTablePath(e.name);let l=`CREATE TABLE ${this.escapePath(e.name)} (${s}`,[c,d]=this.splitTablePath(e.name);const u=i?`${c?`${c}.`:""}${d.replace(/^temporary_/,"")}`:e.name;if(e.columns.filter((e=>e.isUnique)).forEach((t=>{e.uniques.some((e=>1===e.columnNames.length&&e.columnNames[0]===t.name))||e.uniques.push(new Fk({name:this.connection.namingStrategy.uniqueConstraintName(e,[t.name]),columnNames:[t.name]}))})),e.uniques.length>0){l+=`, ${e.uniques.map((e=>`CONSTRAINT "${e.name?e.name:this.connection.namingStrategy.uniqueConstraintName(u,e.columnNames)}" UNIQUE (${e.columnNames.map((e=>`"${e}"`)).join(", ")})`)).join(", ")}`}if(e.checks.length>0){l+=`, ${e.checks.map((e=>`CONSTRAINT "${e.name?e.name:this.connection.namingStrategy.checkConstraintName(u,e.expression)}" CHECK (${e.expression})`)).join(", ")}`}if(e.foreignKeys.length>0&&t){const t=e.foreignKeys.filter((e=>{const[t]=this.splitTablePath(e.referencedTableName);return t===o})).map((e=>{const[,t]=this.splitTablePath(e.referencedTableName),i=e.columnNames.map((e=>`"${e}"`)).join(", ");e.name||(e.name=this.connection.namingStrategy.foreignKeyName(u,e.columnNames,this.getTablePath(e),e.referencedColumnNames));const n=e.referencedColumnNames.map((e=>`"${e}"`)).join(", ");let r=`CONSTRAINT "${e.name}" FOREIGN KEY (${i}) REFERENCES "${t}" (${n})`;return e.onDelete&&(r+=` ON DELETE ${e.onDelete}`),e.onUpdate&&(r+=` ON UPDATE ${e.onUpdate}`),e.deferrable&&(r+=` DEFERRABLE ${e.deferrable}`),r})).join(", ");l+=`, ${t}`}if(n.length>1){l+=`, PRIMARY KEY (${n.map((e=>`"${e.name}"`)).join(", ")})`}return l+=")",e.withoutRowid&&(l+=" WITHOUT ROWID"),new sN(l)}dropTableSql(e,t){const i=ok.isTable(e)?e.name:e,n=t?`DROP TABLE IF EXISTS ${this.escapePath(i)}`:`DROP TABLE ${this.escapePath(i)}`;return new sN(n)}createViewSql(e){return"string"==typeof e.expression?new sN(`CREATE VIEW "${e.name}" AS ${e.expression}`):new sN(`CREATE VIEW "${e.name}" AS ${e.expression(this.connection).getQuery()}`)}insertViewDefinitionSql(e){const t="string"==typeof e.expression?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:MA.VIEW,name:e.name,value:t})}dropViewSql(e){const t=ok.isView(e)?e.name:e;return new sN(`DROP VIEW "${t}"`)}deleteViewDefinitionSql(e){const t=ok.isView(e)?e.name:e;return this.deleteTypeormMetadataSql({type:MA.VIEW,name:t})}createIndexSql(e,t){const i=t.columnNames.map((e=>`"${e}"`)).join(", "),[n,r]=this.splitTablePath(e.name);return new sN(`CREATE ${t.isUnique?"UNIQUE ":""}INDEX ${n?`"${n}".`:""}${this.escapePath(t.name)} ON "${r}" (${i}) ${t.where?"WHERE "+t.where:""}`)}dropIndexSql(e){let t=ok.isTableIndex(e)?e.name:e;return new sN(`DROP INDEX ${this.escapePath(t)}`)}buildCreateColumnSql(e,t){let i='"'+e.name+'"';return ok.isColumnMetadata(e)?i+=" "+this.driver.normalizeType(e):i+=" "+this.connection.driver.createFullType(e),e.enum&&(i+=' CHECK( "'+e.name+'" IN ('+e.enum.map((e=>"'"+e+"'")).join(",")+") )"),e.isPrimary&&!t&&(i+=" PRIMARY KEY"),!0===e.isGenerated&&"increment"===e.generationStrategy&&(i+=" AUTOINCREMENT"),e.collation&&(i+=" COLLATE "+e.collation),!0!==e.isNullable&&(i+=" NOT NULL"),e.asExpression?i+=` AS (${e.asExpression}) ${e.generatedType?e.generatedType:"VIRTUAL"}`:void 0!==e.default&&null!==e.default&&(i+=" DEFAULT ("+e.default+")"),i}async recreateTable(e,t,i=!0){const n=[],r=[];t.indices.forEach((e=>{n.push(this.dropIndexSql(e)),r.push(this.createIndexSql(t,e))}));let[a,s]=this.splitTablePath(e.name),[,o]=this.splitTablePath(t.name);if(e.name=s=`${a?`${a}.`:""}temporary_${s}`,n.push(this.createTableSql(e,!0,!0)),r.push(this.dropTableSql(e)),i){let i=e.columns.filter((e=>!e.generatedType)).map((e=>`"${e.name}"`)),a=t.columns.filter((e=>!e.generatedType)).map((e=>`"${e.name}"`));a.length<i.length?i=e.columns.filter((e=>{const i=t.columns.find((t=>t.name===e.name));return(!i||!i.generatedType)&&(!e.generatedType&&i)})).map((e=>`"${e.name}"`)):a.length>i.length&&(a=t.columns.filter((t=>!t.generatedType&&e.columns.find((e=>e.name===t.name)))).map((e=>`"${e.name}"`))),n.push(new sN(`INSERT INTO ${this.escapePath(e.name)}(${i.join(", ")}) SELECT ${a.join(", ")} FROM ${this.escapePath(t.name)}`)),r.push(new sN(`INSERT INTO ${this.escapePath(t.name)}(${a.join(", ")}) SELECT ${i.join(", ")} FROM ${this.escapePath(e.name)}`))}n.push(this.dropTableSql(t)),r.push(this.createTableSql(t,!0)),n.push(new sN(`ALTER TABLE ${this.escapePath(e.name)} RENAME TO ${this.escapePath(o)}`)),r.push(new sN(`ALTER TABLE ${this.escapePath(t.name)} RENAME TO ${this.escapePath(s)}`)),e.name=t.name,e.indices.forEach((t=>{t.name||(t.name=this.connection.namingStrategy.indexName(e,t.columnNames,t.where)),n.push(this.createIndexSql(e,t)),r.push(this.dropIndexSql(t))})),t.columns.filter((t=>{const i=e.columns.find((e=>e.name===t.name));return t.generatedType&&t.asExpression&&(!i||!i.generatedType&&!i.asExpression)})).forEach((e=>{const i=this.deleteTypeormMetadataSql({table:t.name,type:MA.GENERATED_COLUMN,name:e.name}),a=this.insertTypeormMetadataSql({table:t.name,type:MA.GENERATED_COLUMN,name:e.name,value:e.asExpression});n.push(i),r.push(a)})),e.columns.filter((e=>e.generatedType&&e.asExpression&&!t.columns.some((t=>t.name===e.name)))).forEach((t=>{const i=this.insertTypeormMetadataSql({table:e.name,type:MA.GENERATED_COLUMN,name:t.name,value:t.asExpression}),a=this.deleteTypeormMetadataSql({table:e.name,type:MA.GENERATED_COLUMN,name:t.name});n.push(i),r.push(a)})),e.columns.filter((e=>e.generatedType&&e.asExpression)).forEach((i=>{const a=t.columns.find((e=>e.name===i.name&&e.generatedType&&i.generatedType&&e.asExpression!==i.asExpression));if(!a)return;const s=this.deleteTypeormMetadataSql({table:t.name,type:MA.GENERATED_COLUMN,name:a.name}),o=this.insertTypeormMetadataSql({table:e.name,type:MA.GENERATED_COLUMN,name:i.name,value:i.asExpression});n.push(s),n.push(o);const l=this.insertTypeormMetadataSql({table:e.name,type:MA.GENERATED_COLUMN,name:a.name,value:a.asExpression}),c=this.deleteTypeormMetadataSql({table:t.name,type:MA.GENERATED_COLUMN,name:i.name});r.push(l),r.push(c)})),await this.executeQueries(n,r),this.replaceCachedTable(t,e)}splitTablePath(e){return-1!==e.indexOf(".")?e.split("."):[void 0,e]}escapePath(e,t){return(ok.isTable(e)||ok.isView(e)?e.name:e).replace(/^\.+|\.+$/g,"").split(".").map((e=>t?e:`"${e}"`)).join(".")}}class dN{constructor(e){this.queryRunner=e}async broadcast(e,...t){const i=new $A,n=this[`broadcast${e}Event`];"function"==typeof n&&n.call(this,i,...t),await i.wait()}broadcastBeforeInsertEvent(e,t,i){i&&t.beforeInsertListeners.length&&t.beforeInsertListeners.forEach((t=>{if(t.isAllowed(i)){const n=t.execute(i);n instanceof Promise&&e.promises.push(n),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((n=>{if(this.isAllowedSubscriber(n,t.target)&&n.beforeInsert){const r=n.beforeInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t});r instanceof Promise&&e.promises.push(r),e.count++}}))}broadcastBeforeUpdateEvent(e,t,i,n,r,a){i&&t.beforeUpdateListeners.length&&t.beforeUpdateListeners.forEach((t=>{if(t.isAllowed(i)){const n=t.execute(i);n instanceof Promise&&e.promises.push(n),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((s=>{if(this.isAllowedSubscriber(s,t.target)&&s.beforeUpdate){const o=s.beforeUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:n,updatedColumns:r||[],updatedRelations:a||[]});o instanceof Promise&&e.promises.push(o),e.count++}}))}broadcastBeforeRemoveEvent(e,t,i,n,r){i&&t.beforeRemoveListeners.length&&t.beforeRemoveListeners.forEach((t=>{if(t.isAllowed(i)){const n=t.execute(i);n instanceof Promise&&e.promises.push(n),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((a=>{if(this.isAllowedSubscriber(a,t.target)&&a.beforeRemove){const s=a.beforeRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:n,entityId:t.getEntityIdMixedMap(null!=n?n:r)});s instanceof Promise&&e.promises.push(s),e.count++}}))}broadcastBeforeSoftRemoveEvent(e,t,i,n,r){i&&t.beforeSoftRemoveListeners.length&&t.beforeSoftRemoveListeners.forEach((t=>{if(t.isAllowed(i)){const n=t.execute(i);n instanceof Promise&&e.promises.push(n),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((a=>{if(this.isAllowedSubscriber(a,t.target)&&a.beforeSoftRemove){const s=a.beforeSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:n,entityId:t.getEntityIdMixedMap(null!=n?n:r)});s instanceof Promise&&e.promises.push(s),e.count++}}))}broadcastBeforeRecoverEvent(e,t,i,n,r){i&&t.beforeRecoverListeners.length&&t.beforeRecoverListeners.forEach((t=>{if(t.isAllowed(i)){const n=t.execute(i);n instanceof Promise&&e.promises.push(n),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((a=>{if(this.isAllowedSubscriber(a,t.target)&&a.beforeRecover){const s=a.beforeRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:n,entityId:t.getEntityIdMixedMap(null!=n?n:r)});s instanceof Promise&&e.promises.push(s),e.count++}}))}broadcastAfterInsertEvent(e,t,i){i&&t.afterInsertListeners.length&&t.afterInsertListeners.forEach((t=>{if(t.isAllowed(i)){const n=t.execute(i);n instanceof Promise&&e.promises.push(n),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((n=>{if(this.isAllowedSubscriber(n,t.target)&&n.afterInsert){const r=n.afterInsert({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t});r instanceof Promise&&e.promises.push(r),e.count++}}))}broadcastBeforeTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((t=>{if(t.beforeTransactionStart){const i=t.beforeTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}}))}broadcastAfterTransactionStartEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((t=>{if(t.afterTransactionStart){const i=t.afterTransactionStart({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}}))}broadcastBeforeTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((t=>{if(t.beforeTransactionCommit){const i=t.beforeTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}}))}broadcastAfterTransactionCommitEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((t=>{if(t.afterTransactionCommit){const i=t.afterTransactionCommit({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}}))}broadcastBeforeTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((t=>{if(t.beforeTransactionRollback){const i=t.beforeTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}}))}broadcastAfterTransactionRollbackEvent(e){this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((t=>{if(t.afterTransactionRollback){const i=t.afterTransactionRollback({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});i instanceof Promise&&e.promises.push(i),e.count++}}))}broadcastAfterUpdateEvent(e,t,i,n,r,a){i&&t.afterUpdateListeners.length&&t.afterUpdateListeners.forEach((t=>{if(t.isAllowed(i)){const n=t.execute(i);n instanceof Promise&&e.promises.push(n),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((s=>{if(this.isAllowedSubscriber(s,t.target)&&s.afterUpdate){const o=s.afterUpdate({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:n,updatedColumns:r||[],updatedRelations:a||[]});o instanceof Promise&&e.promises.push(o),e.count++}}))}broadcastAfterRemoveEvent(e,t,i,n,r){i&&t.afterRemoveListeners.length&&t.afterRemoveListeners.forEach((t=>{if(t.isAllowed(i)){const n=t.execute(i);n instanceof Promise&&e.promises.push(n),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((a=>{if(this.isAllowedSubscriber(a,t.target)&&a.afterRemove){const s=a.afterRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:n,entityId:t.getEntityIdMixedMap(null!=n?n:r)});s instanceof Promise&&e.promises.push(s),e.count++}}))}broadcastAfterSoftRemoveEvent(e,t,i,n,r){i&&t.afterSoftRemoveListeners.length&&t.afterSoftRemoveListeners.forEach((t=>{if(t.isAllowed(i)){const n=t.execute(i);n instanceof Promise&&e.promises.push(n),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((a=>{if(this.isAllowedSubscriber(a,t.target)&&a.afterSoftRemove){const s=a.afterSoftRemove({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:n,entityId:t.getEntityIdMixedMap(null!=n?n:r)});s instanceof Promise&&e.promises.push(s),e.count++}}))}broadcastAfterRecoverEvent(e,t,i,n,r){i&&t.afterRecoverListeners.length&&t.afterRecoverListeners.forEach((t=>{if(t.isAllowed(i)){const n=t.execute(i);n instanceof Promise&&e.promises.push(n),e.count++}})),this.queryRunner.connection.subscribers.length&&this.queryRunner.connection.subscribers.forEach((a=>{if(this.isAllowedSubscriber(a,t.target)&&a.afterRecover){const s=a.afterRecover({connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager,entity:i,metadata:t,databaseEntity:n,entityId:t.getEntityIdMixedMap(null!=n?n:r)});s instanceof Promise&&e.promises.push(s),e.count++}}))}broadcastLoadEventsForAll(e,t,i){return this.broadcastLoadEvent(e,t,i)}broadcastLoadEvent(e,t,i){const n=this.queryRunner.connection.subscribers.filter((e=>this.isAllowedSubscriber(e,t.target)&&e.afterLoad));if(t.relations.length||t.afterLoadListeners.length||n.length){const r=i.filter((e=>!(e instanceof Promise)));t.relations.length&&t.relations.forEach((t=>{r.forEach((i=>{if(t.isLazy&&!i.hasOwnProperty(t.propertyName))return;const n=t.getEntityValue(i);sk.isObject(n)&&this.broadcastLoadEvent(e,t.inverseEntityMetadata,Array.isArray(n)?n:[n])}))})),t.afterLoadListeners.length&&t.afterLoadListeners.forEach((t=>{r.forEach((i=>{if(t.isAllowed(i)){const n=t.execute(i);n instanceof Promise&&e.promises.push(n),e.count++}}))})),n.forEach((i=>{r.forEach((n=>{const r=i.afterLoad(n,{entity:n,metadata:t,connection:this.queryRunner.connection,queryRunner:this.queryRunner,manager:this.queryRunner.manager});r instanceof Promise&&e.promises.push(r),e.count++}))}))}}isAllowedSubscriber(e,t){return!e.listenTo||!e.listenTo()||e.listenTo()===Object||e.listenTo()===t||e.listenTo().isPrototypeOf(t)}}class uN{constructor(){this.records=[]}}class hN extends cN{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new dN(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,i=!1){if(this.isReleased)throw new Ik;const n=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const r=+new Date;try{const a=await new Promise((async(i,r)=>{n.executeSql(e,t,(e=>i(e)),(e=>r(e)))})),s=this.driver.options.maxQueryExecutionTime,o=+new Date-r;s&&o>s&&this.driver.connection.logger.logQuerySlow(o,e,t,this);const l=new uN;if("INSERT INTO"===e.substr(0,11))l.raw=a.insertId;else{let e=[];for(let t=0;t<a.rows.length;t++)e.push(a.rows.item(t));l.records=e,l.raw=e}return i?l:l.raw}catch(a){throw this.driver.connection.logger.logQueryError(a,e,t,this),new Nk(e,t,a)}}async startTransaction(){throw new YC("Transactions are not supported by the Cordova driver")}async commitTransaction(){throw new YC("Transactions are not supported by the Cordova driver")}async rollbackTransaction(){throw new YC("Transactions are not supported by the Cordova driver")}async clearDatabase(){await this.query("PRAGMA foreign_keys = OFF");try{const e="SELECT 'DROP VIEW \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'view'",t=await this.query(e),i="SELECT 'DROP TABLE \"' || name || '\";' as query FROM \"sqlite_master\" WHERE \"type\" = 'table' AND \"name\" != 'sqlite_sequence'",n=await this.query(i);await Promise.all(t.map((e=>this.query(e.query)))),await Promise.all(n.map((e=>this.query(e.query))))}finally{await this.query("PRAGMA foreign_keys = ON")}}parametrize(e,t=0){return Object.keys(e).map(((e,t)=>`"${e}"=?`))}}class pN extends aN{constructor(e){super(e),this.transactionSupport="none",this.database=this.options.database,this.loadDependencies()}async disconnect(){return this.queryRunner=void 0,new Promise(((e,t)=>{this.databaseConnection.close(e,t)}))}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new hN(this)),this.queryRunner}async createDatabaseConnection(){const e=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{}),t=await new Promise((t=>{this.sqlite.openDatabase(e,(e=>t(e)))}));return await new Promise(((e,i)=>{t.executeSql("PRAGMA foreign_keys = ON",[],(()=>e()),(e=>i(e)))})),t}loadDependencies(){try{const e=this.options.driver||window.sqlitePlugin;this.sqlite=e}catch(E_){throw new Tk("Cordova-SQLite","cordova-sqlite-storage")}}}class mN extends cN{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new dN(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}query(e,t,i=!1){if(this.isReleased)throw new Ik;return new Promise((async(n,r)=>{const a=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const s=+new Date;a.executeSql(e,t,(r=>{const a=this.driver.options.maxQueryExecutionTime,o=+new Date-s;a&&o>a&&this.driver.connection.logger.logQuerySlow(o,e,t,this);const l=new uN;if((null==r?void 0:r.hasOwnProperty("rowsAffected"))&&(l.affected=r.rowsAffected),null==r?void 0:r.hasOwnProperty("rows")){let e=[];for(let t=0;t<r.rows.length;t++)e.push(r.rows.item(t));l.raw=e,l.records=e}"INSERT INTO"===e.substr(0,11)&&(l.raw=r.insertId),n(i?l:l.raw)}),(i=>{this.driver.connection.logger.logQueryError(i,e,t,this),r(new Nk(e,t,i))}))}))}parametrize(e,t=0){return Object.keys(e).map(((e,t)=>`"${e}"=?`))}}class fN{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["int","integer","tinyint","smallint","mediumint","bigint","unsigned big int","int2","int8","integer","character","varchar","varying character","nchar","native character","nvarchar","text","clob","text","blob","real","double","double precision","float","real","numeric","decimal","boolean","date","time","datetime"],this.supportedUpsertTypes=["on-conflict-do-update"],this.withLengthColumnTypes=["character","varchar","varying character","nchar","native character","nvarchar","text","blob","clob"],this.spatialTypes=[],this.withPrecisionColumnTypes=["real","double","double precision","float","real","numeric","decimal","date","time","datetime"],this.withScaleColumnTypes=["real","double","double precision","float","real","numeric","decimal"],this.mappedDataTypes={createDate:"datetime",createDateDefault:"datetime('now')",updateDate:"datetime",updateDateDefault:"datetime('now')",deleteDate:"datetime",deleteDateNullable:!0,version:"integer",treeLevel:"integer",migrationId:"integer",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.cteCapabilities={enabled:!0,requiresRecursiveHint:!0},this.attachedDatabases={},this.connection=e,this.options=e.options,this.database=this.options.database,this.loadDependencies()}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new mN(this)),this.queryRunner}async connect(){this.databaseConnection=await this.createDatabaseConnection()}afterConnect(){return Promise.resolve()}async disconnect(){return new Promise(((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close(e,t)}))}hasAttachedDatabases(){return!!Object.keys(this.attachedDatabases).length}getAttachedDatabaseHandleByRelativePath(e){var t,i;return null===(i=null===(t=this.attachedDatabases)||void 0===t?void 0:t[e])||void 0===i?void 0:i.attachHandle}getAttachedDatabasePathRelativeByHandle(e){var t;return null===(t=Object.values(this.attachedDatabases).find((({attachHandle:t})=>e===t)))||void 0===t?void 0:t.attachFilepathRelative}createSchemaBuilder(){return new rN(this.connection)}preparePersistentValue(e,t){return t.transformer&&(e=DA.transformTo(t.transformer,e)),null==e?e:t.type===Boolean||"boolean"===t.type?!0===e?1:0:"date"===t.type?RA.mixedDateToDateString(e):"time"===t.type?RA.mixedDateToTimeString(e):"datetime"===t.type||t.type===Date?RA.mixedDateToUtcDatetimeString(e):"simple-array"===t.type?RA.simpleArrayToString(e):"simple-json"===t.type?RA.simpleJsonToString(e):"simple-enum"===t.type?RA.simpleEnumToString(e):e}prepareHydratedValue(e,t){return null==e?t.transformer?DA.transformFrom(t.transformer,e):e:(t.type===Boolean||"boolean"===t.type?e=!!e:"datetime"===t.type||t.type===Date?(e&&"string"==typeof e&&(/^\d\d\d\d-\d\d-\d\d \d\d:\d\d/.test(e)&&(e=e.replace(" ","T")),/^\d\d\d\d-\d\d-\d\dT\d\d:\d\d(:\d\d(\.\d\d\d)?)?$/.test(e)&&(e+="Z")),e=RA.normalizeHydratedDate(e)):"date"===t.type?e=RA.mixedDateToDateString(e):"time"===t.type?e=RA.mixedTimeToString(e):"simple-array"===t.type?e=RA.stringToSimpleArray(e):"simple-json"===t.type?e=RA.stringToSimpleJson(e):"simple-enum"===t.type?e=RA.stringToSimpleEnum(e,t):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=DA.transformFrom(t.transformer,e)),e)}escapeQueryWithParameters(e,t,i){const n=Object.keys(i).map((e=>"boolean"==typeof i[e]?!0===i[e]?1:0:i[e]instanceof Date?RA.mixedDateToUtcDatetimeString(i[e]):i[e]));return t&&Object.keys(t).length?(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,((e,i,r)=>{if(!t.hasOwnProperty(r))return e;let a=t[r];return i?a.map((e=>(n.push(e),this.createParameter(r,n.length-1)))).join(", "):"function"==typeof a?a():"number"==typeof a?String(a):"boolean"==typeof a?(n.push(+a),this.createParameter(r,n.length-1)):a instanceof Date?(n.push(RA.mixedDateToUtcDatetimeString(a)),this.createParameter(r,n.length-1)):(n.push(a),this.createParameter(r,n.length-1))})),[e,n]):[e,n]}escape(e){return'"'+e+'"'}buildTableName(e,t,i){return e}parseTableName(e){var t;const i=this.database,n=void 0;if(ok.isTable(e)||ok.isView(e)){const t=this.parseTableName(e.schema?`"${e.schema}"."${e.name}"`:e.name);return{database:e.database||t.database||i,schema:e.schema||t.schema||n,tableName:t.tableName}}if(ok.isTableForeignKey(e)){const t=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||t.database||i,schema:e.referencedSchema||t.schema||n,tableName:t.tableName}}if(ok.isEntityMetadata(e))return{database:e.database||i,schema:e.schema||n,tableName:e.tableName};const r=e.split(".");if(3===r.length)return{database:r[0]||i,schema:r[1]||n,tableName:r[2]};if(2===r.length){return{database:null!==(t=this.getAttachedDatabasePathRelativeByHandle(r[0]))&&void 0!==t?t:i,schema:r[0],tableName:r[1]}}return{database:i,schema:n,tableName:e}}normalizeType(e){return e.type===Number||"int"===e.type?"integer":e.type===String?"varchar":e.type===Date?"datetime":e.type===Boolean?"boolean":"uuid"===e.type?"varchar":"simple-array"===e.type||"simple-json"===e.type?"text":"simple-enum"===e.type?"varchar":e.type||""}normalizeDefault(e){const t=e.default;return"number"==typeof t?""+t:"boolean"==typeof t?t?"1":"0":"function"==typeof t?t():"string"==typeof t?`'${t}'`:null!=t?`${t}`:void 0}normalizeIsUnique(e){return e.entityMetadata.uniques.some((t=>1===t.columns.length&&t.columns[0]===e))}getColumnLength(e){return e.length?e.length.toString():""}createFullType(e){let t=e.type;return e.enum?"varchar":(e.length?t+="("+e.length+")":null!==e.precision&&void 0!==e.precision&&null!==e.scale&&void 0!==e.scale?t+="("+e.precision+","+e.scale+")":null!==e.precision&&void 0!==e.precision&&(t+="("+e.precision+")"),e.isArray&&(t+=" array"),t)}obtainMasterConnection(){return Promise.resolve()}obtainSlaveConnection(){return Promise.resolve()}createGeneratedMap(e,t,i,n){const r=e.generatedColumns.reduce(((e,r)=>{let a;return"increment"===r.generationStrategy&&t&&(a=t-n+i+1),a?LA.mergeDeep(e,r.createValueMap(a)):e}),{});return Object.keys(r).length>0?r:void 0}findChangedColumns(e,t){return t.filter((t=>{const i=e.find((e=>e.name===t.databaseName));if(!i)return!1;return i.name!==t.databaseName||i.type!==this.normalizeType(t)||i.length!==t.length||i.precision!==t.precision||i.scale!==t.scale||this.normalizeDefault(t)!==i.default||i.isPrimary!==t.isPrimary||i.isNullable!==t.isNullable||i.generatedType!==t.generatedType||i.asExpression!==t.asExpression||i.isUnique!==this.normalizeIsUnique(t)||i.enum&&t.enum&&!LA.isArraysEqual(i.enum,t.enum.map((e=>e+"")))||"uuid"!==t.generationStrategy&&i.isGenerated!==t.isGenerated}))}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"?"}createDatabaseConnection(){return new Promise(((e,t)=>{const i=Object.assign({},{name:this.options.database,location:this.options.location},this.options.extra||{});this.sqlite.openDatabase(i,(i=>{const n=i;n.executeSql("PRAGMA foreign_keys = ON",[],(t=>{e(n)}),(e=>{t(e)}))}),(e=>{t(e)}))}))}loadDependencies(){try{const e=this.options.driver||require("react-native-sqlite-storage");this.sqlite=e}catch(E_){throw new Tk("React-Native","react-native-sqlite-storage")}}}class gN extends cN{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new dN(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async query(e,t,i=!1){if(this.isReleased)throw new Ik;const n=this.driver.connection;return new Promise((async(r,a)=>{const s=await this.connect(),o="INSERT INTO"===e.substr(0,11);n.logger.logQuery(e,t,this);const l=(s,l)=>{const d=this.driver.options.maxQueryExecutionTime,u=+new Date-c;d&&u>d&&n.logger.logQuerySlow(u,e,t,this),s&&(n.logger.logQueryError(s,e,t,this),a(new Nk(e,t,s)));const h=new uN;h.raw=l,!o&&Array.isArray(l)&&(h.records=l),r(i?h:h.raw)},c=+new Date;o?s.execSQL(e,t,l):s.all(e,t,l)}))}parametrize(e,t=0){return Object.keys(e).map(((e,t)=>`"${e}"=?`))}}class yN extends aN{constructor(e){super(e),this.connection=e,this.options=e.options,this.database=this.options.database,this.driver=this.options.driver,this.loadDependencies()}async disconnect(){return new Promise(((e,t)=>{this.queryRunner=void 0,this.databaseConnection.close().then(e).catch(t)}))}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new gN(this)),this.queryRunner}normalizeType(e){return e.type===Buffer?"blob":super.normalizeType(e)}createDatabaseConnection(){return new Promise(((e,t)=>{const i=Object.assign({},{readOnly:this.options.readOnly,key:this.options.key,multithreading:this.options.multithreading,migrate:this.options.migrate,iosFlags:this.options.iosFlags,androidFlags:this.options.androidFlags},this.options.extra||{});new this.sqlite(this.options.database,i,((i,n)=>{if(i)return t(i);n.resultType(this.sqlite.RESULTSASOBJECT),n.execSQL("PRAGMA foreign_keys = ON",[],((i,r)=>{if(i)return t(i);e(n)}))}))}))}loadDependencies(){if(this.sqlite=this.driver,!this.driver)throw new Tk("Nativescript","nativescript-sqlite")}}class bN extends cN{constructor(e){super(),this.isDirty=!1,this.driver=e,this.connection=e.connection,this.broadcaster=new dN(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async flush(){this.isDirty&&(await this.driver.autoSave(),this.isDirty=!1)}async release(){return await this.flush(),super.release()}async commitTransaction(){await super.commitTransaction(),this.isTransactionActive||await this.flush()}async query(e,t=[],i=!1){if(this.isReleased)throw new Ik;const n=e.trim().split(" ",1)[0],r=this.driver.databaseConnection;this.driver.connection.logger.logQuery(e,t,this);const a=+new Date;let s;try{s=r.prepare(e),t&&(t=t.map((e=>void 0!==e?e:null)),s.bind(t));const o=this.driver.options.maxQueryExecutionTime,l=+new Date-a;o&&l>o&&this.driver.connection.logger.logQuerySlow(l,e,t,this);const c=[];for(;s.step();)c.push(s.getAsObject());const d=new uN;return d.affected=r.getRowsModified(),d.records=c,d.raw=c,s.free(),"SELECT"!==n&&(this.isDirty=!0),i?d:d.raw}catch(E_){throw s&&s.free(),this.driver.connection.logger.logQueryError(E_,e,t,this),new Nk(e,t,E_)}}}class vN extends aN{constructor(e){if(super(e),this.options.autoSave&&!this.options.location&&!this.options.autoSaveCallback)throw new _k("location or autoSaveCallback");this.loadDependencies()}async connect(){this.databaseConnection=await this.createDatabaseConnection()}async disconnect(){this.queryRunner=void 0,this.databaseConnection.close()}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new bN(this)),this.queryRunner}async load(e,t=!0){if("string"==typeof e){if("node"===gS.type){if(gS.fileExist(e)){const t=gS.readFileSync(e);return this.createDatabaseConnectionWithImport(t)}if(t)throw new YC(`File ${e} does not exist`);return this.createDatabaseConnectionWithImport()}{let i=null;if(this.options.useLocalForage){if(!window.localforage)throw new YC("localforage is not defined - please import localforage.js into your site");i=await window.localforage.getItem(e)}else i=gS.getGlobalVariable().localStorage.getItem(e);if(null!=i)return this.createDatabaseConnectionWithImport(JSON.parse(i));if(t)throw new YC(`File ${e} does not exist`);return this.createDatabaseConnectionWithImport()}}return this.createDatabaseConnectionWithImport(e)}async save(e){if(!e&&!this.options.location)throw new YC("No location is set, specify a location parameter or add the location option to your configuration");let t="";if(e?t=e:this.options.location&&(t=this.options.location),"node"===gS.type)try{const e=Buffer.from(this.databaseConnection.export());await gS.writeFile(t,e)}catch(E_){throw new YC(`Could not save database, error: ${E_}`)}else{const e=this.databaseConnection.export(),i=[].slice.call(e);if(this.options.useLocalForage){if(!window.localforage)throw new YC("localforage is not defined - please import localforage.js into your site");await window.localforage.setItem(t,JSON.stringify(i))}else gS.getGlobalVariable().localStorage.setItem(t,JSON.stringify(i))}}async autoSave(){var e;this.options.autoSave&&!(null===(e=this.queryRunner)||void 0===e?void 0:e.isTransactionActive)&&(this.options.autoSaveCallback?await this.options.autoSaveCallback(this.export()):await this.save())}export(){return this.databaseConnection.export()}createGeneratedMap(e,t){const i=e.generatedColumns.reduce(((e,t)=>{if(t.isPrimary&&"increment"===t.generationStrategy){const i="SELECT last_insert_rowid()";try{let n=this.databaseConnection.exec(i);return this.connection.logger.logQuery(i),LA.mergeDeep(e,t.createValueMap(n[0].values[0][0]))}catch(E_){this.connection.logger.logQueryError(E_,i,[])}}return e}),{});return Object.keys(i).length>0?i:void 0}createDatabaseConnection(){return this.options.location?this.load(this.options.location,!1):this.createDatabaseConnectionWithImport(this.options.database)}async createDatabaseConnectionWithImport(e){const t="function"==typeof this.sqlite.Database?this.sqlite:await this.sqlite(this.options.sqlJsConfig);return e&&e.length>0?this.databaseConnection=new t.Database(e):this.databaseConnection=new t.Database,this.databaseConnection.exec("PRAGMA foreign_keys = ON"),this.databaseConnection}loadDependencies(){if("browser"===gS.type){const e=this.options.driver||window.SQL;this.sqlite=e}else try{const e=this.options.driver||gS.load("sql.js");this.sqlite=e}catch(E_){throw new Tk("sql.js","sql.js")}}}class wN extends cN{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new dN(this)}async startTransaction(){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(e){throw this.isTransactionActive=!1,e}this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive&&void 0===this.transaction)throw new rk;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transaction=void 0,this.isTransactionActive=!1,this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive&&void 0===this.transaction)throw new rk;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transaction=void 0,this.isTransactionActive=!1,this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async beforeMigration(){const e=await this.connect();return new Promise(((t,i)=>{e.exec([{sql:"PRAGMA foreign_keys = OFF",args:[]}],!1,(e=>e?i(e):t()))}))}async afterMigration(){const e=await this.connect();return new Promise(((t,i)=>{e.exec([{sql:"PRAGMA foreign_keys = ON",args:[]}],!1,(e=>e?i(e):t()))}))}async query(e,t,i=!1){if(this.isReleased)throw new Ik;return new Promise((async(n,r)=>{const a=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const s=+new Date;a.transaction((async a=>{void 0===this.transaction&&(await this.startTransaction(),this.transaction=a),this.transaction.executeSql(e,t,((r,a)=>{const o=this.driver.options.maxQueryExecutionTime,l=+new Date-s;o&&l>o&&this.driver.connection.logger.logQuerySlow(l,e,t,this);const c=new uN;if((null==a?void 0:a.hasOwnProperty("rowsAffected"))&&(c.affected=a.rowsAffected),null==a?void 0:a.hasOwnProperty("rows")){let e=[];for(let t=0;t<a.rows.length;t++)e.push(a.rows.item(t));c.raw=e,c.records=e}e.startsWith("INSERT INTO")&&(c.raw=a.insertId),n(i?c:c.raw)}),((i,n)=>{this.driver.connection.logger.logQueryError(n,e,t,this),r(new Nk(e,t,n))}))}),(async e=>{await this.rollbackTransaction(),r(e)}),(()=>{this.isTransactionActive=!1,this.transaction=void 0}))}))}}class TN extends aN{constructor(e){super(e),this.database=this.options.database,this.sqlite=this.options.driver}async disconnect(){return new Promise(((e,t)=>{try{this.queryRunner=void 0,this.databaseConnection._db.close(),this.databaseConnection=void 0,e()}catch(i){t(i)}}))}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new wN(this)),this.queryRunner}createDatabaseConnection(){return new Promise(((e,t)=>{try{const i=this.sqlite.openDatabase(this.options.database);i.transaction((n=>{n.executeSql("PRAGMA foreign_keys = ON",[],((t,n)=>{e(i)}),((e,i)=>{t({transaction:e,error:i})}))}),(e=>{t(e)}))}catch(i){t(i)}}))}}class xN extends lN{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.client=t,this.broadcaster=new dN(this)}async connect(){return{}}release(){return this.isReleased=!0,this.databaseConnection&&this.databaseConnection.release(),Promise.resolve()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}0===this.transactionDepth?await this.client.startTransaction():await this.query(`SAVEPOINT typeorm_${this.transactionDepth}`),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new rk;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_"+(this.transactionDepth-1)):(await this.client.commitTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new rk;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_"+(this.transactionDepth-1)):(await this.client.rollbackTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new Ik;const n=await this.client.query(e,t),r=new uN;return r.raw=n,(null==n?void 0:n.hasOwnProperty("records"))&&Array.isArray(n.records)&&(r.records=n.records),(null==n?void 0:n.hasOwnProperty("numberOfRecordsUpdated"))&&(r.affected=n.numberOfRecordsUpdated),i?r:r.raw}stream(e,t,i,n){if(this.isReleased)throw new Ik;return new Promise((async(r,a)=>{try{const a=(await this.connect()).query(e,t);i&&a.on("end",i),n&&a.on("error",n),r(a)}catch(s){a(s)}}))}async getDatabases(){return Promise.resolve([])}async getSchemas(e){throw new YC("MySql driver does not support table schemas")}async hasDatabase(e){return!!(await this.query(`SELECT * FROM \`INFORMATION_SCHEMA\`.\`SCHEMATA\` WHERE \`SCHEMA_NAME\` = '${e}'`)).length}async getCurrentDatabase(){return(await this.query("SELECT DATABASE() AS `db_name`"))[0].db_name}async hasSchema(e){throw new YC("MySql driver does not support table schemas")}async getCurrentSchema(){return(await this.query("SELECT SCHEMA() AS `schema_name`"))[0].schema_name}async hasTable(e){const t=this.driver.parseTableName(e),i=`SELECT * FROM \`INFORMATION_SCHEMA\`.\`COLUMNS\` WHERE \`TABLE_SCHEMA\` = '${t.database}' AND \`TABLE_NAME\` = '${t.tableName}'`;return!!(await this.query(i)).length}async hasColumn(e,t){const i=this.driver.parseTableName(e),n=ok.isTableColumn(t)?t.name:t,r=`SELECT * FROM \`INFORMATION_SCHEMA\`.\`COLUMNS\` WHERE \`TABLE_SCHEMA\` = '${i.database}' AND \`TABLE_NAME\` = '${i.tableName}' AND \`COLUMN_NAME\` = '${n}'`;return!!(await this.query(r)).length}async createDatabase(e,t){const i=t?`CREATE DATABASE IF NOT EXISTS \`${e}\``:`CREATE DATABASE \`${e}\``,n=`DROP DATABASE \`${e}\``;await this.executeQueries(new sN(i),new sN(n))}async dropDatabase(e,t){const i=t?`DROP DATABASE IF EXISTS \`${e}\``:`DROP DATABASE \`${e}\``,n=`CREATE DATABASE \`${e}\``;await this.executeQueries(new sN(i),new sN(n))}async createSchema(e,t){throw new YC("Schema create queries are not supported by MySql driver.")}async dropSchema(e,t){throw new YC("Schema drop queries are not supported by MySql driver.")}async createTable(e,t=!1,i=!0){if(t){if(await this.hasTable(e))return Promise.resolve()}const n=[],r=[];return n.push(this.createTableSql(e,i)),r.push(this.dropTableSql(e)),e.indices.forEach((t=>r.push(this.dropIndexSql(e,t)))),i&&e.foreignKeys.forEach((t=>r.push(this.dropForeignKeySql(e,t)))),this.executeQueries(n,r)}async dropTable(e,t,i=!0){if(t){if(!(await this.hasTable(e)))return Promise.resolve()}const n=i,r=this.getTablePath(e),a=await this.getCachedTable(r),s=[],o=[];i&&a.foreignKeys.forEach((e=>s.push(this.dropForeignKeySql(a,e)))),a.indices.forEach((e=>s.push(this.dropIndexSql(a,e)))),s.push(this.dropTableSql(a)),o.push(this.createTableSql(a,n)),await this.executeQueries(s,o)}async createView(e,t=!1){const i=[],n=[];i.push(this.createViewSql(e)),t&&i.push(await this.insertViewDefinitionSql(e)),n.push(this.dropViewSql(e)),t&&n.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(i,n)}async dropView(e){const t=ok.isView(e)?e.name:e,i=await this.getCachedView(t),n=[],r=[];n.push(await this.deleteViewDefinitionSql(i)),n.push(this.dropViewSql(i)),r.push(await this.insertViewDefinitionSql(i)),r.push(this.createViewSql(i)),await this.executeQueries(n,r)}async renameTable(e,t){const i=[],n=[],r=ok.isTable(e)?e:await this.getCachedTable(e),a=r.clone(),{database:s}=this.driver.parseTableName(r);a.name=s?`${s}.${t}`:t,i.push(new sN(`RENAME TABLE ${this.escapePath(r)} TO ${this.escapePath(a)}`)),n.push(new sN(`RENAME TABLE ${this.escapePath(a)} TO ${this.escapePath(r)}`)),a.indices.forEach((e=>{const t=e.columnNames.map((e=>`\`${e}\``)).join(", "),r=this.connection.namingStrategy.indexName(a,e.columnNames,e.where);let s="";e.isUnique&&(s+="UNIQUE "),e.isSpatial&&(s+="SPATIAL "),e.isFulltext&&(s+="FULLTEXT "),i.push(new sN(`ALTER TABLE ${this.escapePath(a)} DROP INDEX \`${e.name}\`, ADD ${s}INDEX \`${r}\` (${t})`)),n.push(new sN(`ALTER TABLE ${this.escapePath(a)} DROP INDEX \`${r}\`, ADD ${s}INDEX \`${e.name}\` (${t})`)),e.name=r})),a.foreignKeys.forEach((e=>{const t=e.columnNames.map((e=>`\`${e}\``)).join(", "),r=e.referencedColumnNames.map((e=>`\`${e}\``)).join(","),s=this.connection.namingStrategy.foreignKeyName(a,e.columnNames);let o=`ALTER TABLE ${this.escapePath(a)} DROP FOREIGN KEY \`${e.name}\`, ADD CONSTRAINT \`${s}\` FOREIGN KEY (${t}) REFERENCES ${this.escapePath(this.getTablePath(e))}(${r})`;e.onDelete&&(o+=` ON DELETE ${e.onDelete}`),e.onUpdate&&(o+=` ON UPDATE ${e.onUpdate}`);let l=`ALTER TABLE ${this.escapePath(a)} DROP FOREIGN KEY \`${s}\`, ADD CONSTRAINT \`${e.name}\` FOREIGN KEY (${t}) REFERENCES ${this.escapePath(this.getTablePath(e))}(${r})`;e.onDelete&&(l+=` ON DELETE ${e.onDelete}`),e.onUpdate&&(l+=` ON UPDATE ${e.onUpdate}`),i.push(new sN(o)),n.push(new sN(l)),e.name=s})),await this.executeQueries(i,n),r.name=a.name,this.replaceCachedTable(r,a)}async addColumn(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone(),r=[],a=[],s=n.primaryColumns.length>0;if(r.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD ${this.buildCreateColumnSql(t,s,!1)}`)),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP COLUMN \`${t.name}\``)),t.isPrimary&&s){const e=n.columns.find((e=>e.isGenerated&&"increment"===e.generationStrategy));if(e){const n=e.clone();n.isGenerated=!1,n.generationStrategy=void 0,r.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${t.name}\` ${this.buildCreateColumnSql(n,!0)}`)),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${n.name}\` ${this.buildCreateColumnSql(t,!0)}`))}const s=n.primaryColumns;let o=s.map((e=>`\`${e.name}\``)).join(", ");if(r.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP PRIMARY KEY`)),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD PRIMARY KEY (${o})`)),s.push(t),o=s.map((e=>`\`${e.name}\``)).join(", "),r.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD PRIMARY KEY (${o})`)),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP PRIMARY KEY`)),e){const n=e.clone();n.isGenerated=!1,n.generationStrategy=void 0,r.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${n.name}\` ${this.buildCreateColumnSql(t,!0)}`)),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${t.name}\` ${this.buildCreateColumnSql(n,!0)}`))}}const o=n.indices.find((e=>1===e.columnNames.length&&e.columnNames[0]===t.name));if(o)r.push(this.createIndexSql(i,o)),a.push(this.dropIndexSql(i,o));else if(t.isUnique){const e=new Bk({name:this.connection.namingStrategy.indexName(i,[t.name]),columnNames:[t.name],isUnique:!0});n.indices.push(e),n.uniques.push(new Fk({name:e.name,columnNames:e.columnNames})),r.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD UNIQUE INDEX \`${e.name}\` (\`${t.name}\`)`)),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP INDEX \`${e.name}\``))}await this.executeQueries(r,a),n.addColumn(t),this.replaceCachedTable(i,n)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const n=ok.isTable(e)?e:await this.getCachedTable(e),r=ok.isTableColumn(t)?t:n.columns.find((e=>e.name===t));if(!r)throw new YC(`Column "${t}" was not found in the "${n.name}" table.`);let a;ok.isTableColumn(i)?a=i:(a=r.clone(),a.name=i),await this.changeColumn(n,r,a)}async changeColumn(e,t,i){const n=ok.isTable(e)?e:await this.getCachedTable(e);let r=n.clone();const a=[],s=[],o=ok.isTableColumn(t)?t:n.columns.find((e=>e.name===t));if(!o)throw new YC(`Column "${t}" was not found in the "${n.name}" table.`);if(i.isGenerated!==o.isGenerated&&"uuid"!==i.generationStrategy||o.type!==i.type||o.length!==i.length||o.generatedType!==i.generatedType)await this.dropColumn(n,o),await this.addColumn(n,i),r=n.clone();else{if(i.name!==o.name){a.push(new sN(`ALTER TABLE ${this.escapePath(n)} CHANGE \`${o.name}\` \`${i.name}\` ${this.buildCreateColumnSql(o,!0,!0)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} CHANGE \`${i.name}\` \`${o.name}\` ${this.buildCreateColumnSql(o,!0,!0)}`)),r.findColumnIndices(o).forEach((e=>{e.columnNames.splice(e.columnNames.indexOf(o.name),1),e.columnNames.push(i.name);const t=e.columnNames.map((e=>`\`${e}\``)).join(", "),l=this.connection.namingStrategy.indexName(r,e.columnNames,e.where);let c="";e.isUnique&&(c+="UNIQUE "),e.isSpatial&&(c+="SPATIAL "),e.isFulltext&&(c+="FULLTEXT "),a.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP INDEX \`${e.name}\`, ADD ${c}INDEX \`${l}\` (${t})`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP INDEX \`${l}\`, ADD ${c}INDEX \`${e.name}\` (${t})`)),e.name=l})),r.findColumnForeignKeys(o).forEach((e=>{e.columnNames.splice(e.columnNames.indexOf(o.name),1),e.columnNames.push(i.name);const t=e.columnNames.map((e=>`\`${e}\``)).join(", "),l=e.referencedColumnNames.map((e=>`\`${e}\``)).join(","),c=this.connection.namingStrategy.foreignKeyName(r,e.columnNames);let d=`ALTER TABLE ${this.escapePath(n)} DROP FOREIGN KEY \`${e.name}\`, ADD CONSTRAINT \`${c}\` FOREIGN KEY (${t}) REFERENCES ${this.escapePath(this.getTablePath(e))}(${l})`;e.onDelete&&(d+=` ON DELETE ${e.onDelete}`),e.onUpdate&&(d+=` ON UPDATE ${e.onUpdate}`);let u=`ALTER TABLE ${this.escapePath(n)} DROP FOREIGN KEY \`${c}\`, ADD CONSTRAINT \`${e.name}\` FOREIGN KEY (${t}) REFERENCES ${this.escapePath(this.getTablePath(e))}(${l})`;e.onDelete&&(u+=` ON DELETE ${e.onDelete}`),e.onUpdate&&(u+=` ON UPDATE ${e.onUpdate}`),a.push(new sN(d)),s.push(new sN(u)),e.name=c}));const e=r.columns.find((e=>e.name===o.name));r.columns[r.columns.indexOf(e)].name=i.name,o.name=i.name}if(this.isColumnChanged(o,i,!0)&&(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} CHANGE \`${o.name}\` ${this.buildCreateColumnSql(i,!0)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} CHANGE \`${i.name}\` ${this.buildCreateColumnSql(o,!0)}`))),i.isPrimary!==o.isPrimary){const e=r.columns.find((e=>e.isGenerated&&"increment"===e.generationStrategy));if(e){const t=e.clone();t.isGenerated=!1,t.generationStrategy=void 0,a.push(new sN(`ALTER TABLE ${this.escapePath(n)} CHANGE \`${e.name}\` ${this.buildCreateColumnSql(t,!0)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} CHANGE \`${t.name}\` ${this.buildCreateColumnSql(e,!0)}`))}const t=r.primaryColumns;if(t.length>0){const e=t.map((e=>`\`${e.name}\``)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP PRIMARY KEY`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD PRIMARY KEY (${e})`))}if(!0===i.isPrimary){t.push(i);r.columns.find((e=>e.name===i.name)).isPrimary=!0;const e=t.map((e=>`\`${e.name}\``)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD PRIMARY KEY (${e})`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP PRIMARY KEY`))}else{const e=t.find((e=>e.name===i.name));t.splice(t.indexOf(e),1);if(r.columns.find((e=>e.name===i.name)).isPrimary=!1,t.length>0){const e=t.map((e=>`\`${e.name}\``)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD PRIMARY KEY (${e})`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP PRIMARY KEY`))}}if(e){const t=e.clone();t.isGenerated=!1,t.generationStrategy=void 0,a.push(new sN(`ALTER TABLE ${this.escapePath(n)} CHANGE \`${t.name}\` ${this.buildCreateColumnSql(e,!0)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} CHANGE \`${e.name}\` ${this.buildCreateColumnSql(t,!0)}`))}}if(i.isUnique!==o.isUnique)if(!0===i.isUnique){const e=new Bk({name:this.connection.namingStrategy.indexName(n,[i.name]),columnNames:[i.name],isUnique:!0});r.indices.push(e),r.uniques.push(new Fk({name:e.name,columnNames:e.columnNames})),a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD UNIQUE INDEX \`${e.name}\` (\`${i.name}\`)`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP INDEX \`${e.name}\``))}else{const e=r.indices.find((e=>1===e.columnNames.length&&!0===e.isUnique&&!!e.columnNames.find((e=>e===i.name))));r.indices.splice(r.indices.indexOf(e),1);const t=r.uniques.find((t=>t.name===e.name));r.uniques.splice(r.uniques.indexOf(t),1),a.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP INDEX \`${e.name}\``)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD UNIQUE INDEX \`${e.name}\` (\`${i.name}\`)`))}}await this.executeQueries(a,s),this.replaceCachedTable(n,r)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:n}of t)await this.changeColumn(e,i,n)}async dropColumn(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableColumn(t)?t:i.findColumnByName(t);if(!n)throw new YC(`Column "${t}" was not found in table "${i.name}"`);const r=i.clone(),a=[],s=[];if(n.isPrimary){const e=r.columns.find((e=>e.isGenerated&&"increment"===e.generationStrategy));if(e){const t=e.clone();t.isGenerated=!1,t.generationStrategy=void 0,a.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${e.name}\` ${this.buildCreateColumnSql(t,!0)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${t.name}\` ${this.buildCreateColumnSql(e,!0)}`))}const t=r.primaryColumns.map((e=>`\`${e.name}\``)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(r)} DROP PRIMARY KEY`)),s.push(new sN(`ALTER TABLE ${this.escapePath(r)} ADD PRIMARY KEY (${t})`));if(r.findColumnByName(n.name).isPrimary=!1,r.primaryColumns.length>0){const e=r.primaryColumns.map((e=>`\`${e.name}\``)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(r)} ADD PRIMARY KEY (${e})`)),s.push(new sN(`ALTER TABLE ${this.escapePath(r)} DROP PRIMARY KEY`))}if(e&&e.name!==n.name){const t=e.clone();t.isGenerated=!1,t.generationStrategy=void 0,a.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${t.name}\` ${this.buildCreateColumnSql(e,!0)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${e.name}\` ${this.buildCreateColumnSql(t,!0)}`))}}const o=r.indices.find((e=>1===e.columnNames.length&&e.columnNames[0]===n.name));if(o)r.indices.splice(r.indices.indexOf(o),1),a.push(this.dropIndexSql(i,o)),s.push(this.createIndexSql(i,o));else if(n.isUnique){const e=this.connection.namingStrategy.uniqueConstraintName(i,[n.name]),t=r.uniques.find((t=>t.name===e));t&&r.uniques.splice(r.uniques.indexOf(t),1);const o=this.connection.namingStrategy.indexName(i,[n.name]),l=r.indices.find((e=>e.name===o));l&&r.indices.splice(r.indices.indexOf(l),1),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP INDEX \`${o}\``)),s.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD UNIQUE INDEX \`${o}\` (\`${n.name}\`)`))}a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP COLUMN \`${n.name}\``)),s.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD ${this.buildCreateColumnSql(n,!0)}`)),await this.executeQueries(a,s),r.removeColumn(n),this.replaceCachedTable(i,r)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone(),r=this.createPrimaryKeySql(i,t),a=this.dropPrimaryKeySql(i);await this.executeQueries(r,a),n.columns.forEach((e=>{t.find((t=>t===e.name))&&(e.isPrimary=!0)})),this.replaceCachedTable(i,n)}async updatePrimaryKeys(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone(),r=t.map((e=>e.name)),a=[],s=[],o=n.columns.find((e=>e.isGenerated&&"increment"===e.generationStrategy));if(o){const e=o.clone();e.isGenerated=!1,e.generationStrategy=void 0,a.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${o.name}\` ${this.buildCreateColumnSql(e,!0)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${e.name}\` ${this.buildCreateColumnSql(o,!0)}`))}const l=n.primaryColumns;if(l.length>0){const e=l.map((e=>`\`${e.name}\``)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP PRIMARY KEY`)),s.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD PRIMARY KEY (${e})`))}n.columns.filter((e=>-1!==r.indexOf(e.name))).forEach((e=>e.isPrimary=!0));const c=r.map((e=>`\`${e}\``)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD PRIMARY KEY (${c})`)),s.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP PRIMARY KEY`));const d=o||t.find((e=>e.isGenerated&&"increment"===e.generationStrategy));if(d){const e=d.clone();e.isGenerated=!1,e.generationStrategy=void 0,a.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${e.name}\` ${this.buildCreateColumnSql(d,!0)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(i)} CHANGE \`${d.name}\` ${this.buildCreateColumnSql(e,!0)}`));const t=n.columns.find((e=>e.name===d.name));t.isGenerated=!0,t.generationStrategy="increment"}await this.executeQueries(a,s),this.replaceCachedTable(i,n)}async dropPrimaryKey(e){const t=ok.isTable(e)?e:await this.getCachedTable(e),i=this.dropPrimaryKeySql(t),n=this.createPrimaryKeySql(t,t.primaryColumns.map((e=>e.name)));await this.executeQueries(i,n),t.primaryColumns.forEach((e=>{e.isPrimary=!1}))}async createUniqueConstraint(e,t){throw new YC("MySql does not support unique constraints. Use unique index instead.")}async createUniqueConstraints(e,t){throw new YC("MySql does not support unique constraints. Use unique index instead.")}async dropUniqueConstraint(e,t){throw new YC("MySql does not support unique constraints. Use unique index instead.")}async dropUniqueConstraints(e,t){throw new YC("MySql does not support unique constraints. Use unique index instead.")}async createCheckConstraint(e,t){throw new YC("MySql does not support check constraints.")}async createCheckConstraints(e,t){throw new YC("MySql does not support check constraints.")}async dropCheckConstraint(e,t){throw new YC("MySql does not support check constraints.")}async dropCheckConstraints(e,t){throw new YC("MySql does not support check constraints.")}async createExclusionConstraint(e,t){throw new YC("MySql does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new YC("MySql does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new YC("MySql does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new YC("MySql does not support exclusion constraints.")}async createForeignKey(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames));const n=this.createForeignKeySql(i,t),r=this.dropForeignKeySql(i,t);await this.executeQueries(n,r),i.addForeignKey(t)}async createForeignKeys(e,t){const i=t.map((t=>this.createForeignKey(e,t)));await Promise.all(i)}async dropForeignKey(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableForeignKey(t)?t:i.foreignKeys.find((e=>e.name===t));if(!n)throw new YC(`Supplied foreign key was not found in table ${i.name}`);const r=this.dropForeignKeySql(i,n),a=this.createForeignKeySql(i,n);await this.executeQueries(r,a),i.removeForeignKey(n)}async dropForeignKeys(e,t){const i=t.map((t=>this.dropForeignKey(e,t)));await Promise.all(i)}async createIndex(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const n=this.createIndexSql(i,t),r=this.dropIndexSql(i,t);await this.executeQueries(n,r),i.addIndex(t,!0)}async createIndices(e,t){const i=t.map((t=>this.createIndex(e,t)));await Promise.all(i)}async dropIndex(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableIndex(t)?t:i.indices.find((e=>e.name===t));if(!n)throw new YC(`Supplied index ${t} was not found in table ${i.name}`);n.name||(n.name=this.generateIndexName(i,n));const r=this.dropIndexSql(i,n),a=this.createIndexSql(i,n);await this.executeQueries(r,a),i.removeIndex(n,!0)}async dropIndices(e,t){const i=t.map((t=>this.dropIndex(e,t)));await Promise.all(i)}async clearTable(e){await this.query(`TRUNCATE TABLE ${this.escapePath(e)}`)}async clearDatabase(e){const t=e||this.driver.database;if(!t)throw new YC("Can not clear database. No database is specified");if(!(await this.hasDatabase(t)))return Promise.resolve();const i=this.isTransactionActive;i||await this.startTransaction();try{const e=`SELECT concat('DROP VIEW IF EXISTS \`', table_schema, '\`.\`', table_name, '\`') AS \`query\` FROM \`INFORMATION_SCHEMA\`.\`VIEWS\` WHERE \`TABLE_SCHEMA\` = '${t}'`,n=await this.query(e);await Promise.all(n.map((e=>this.query(e.query))));const r="SET FOREIGN_KEY_CHECKS = 0;",a=`SELECT concat('DROP TABLE IF EXISTS \`', table_schema, '\`.\`', table_name, '\`') AS \`query\` FROM \`INFORMATION_SCHEMA\`.\`TABLES\` WHERE \`TABLE_SCHEMA\` = '${t}'`,s="SET FOREIGN_KEY_CHECKS = 1;";await this.query(r);const o=await this.query(a);await Promise.all(o.map((e=>this.query(e.query)))),await this.query(s),i||await this.commitTransaction()}catch(n){try{i||await this.rollbackTransaction()}catch(r){}throw n}}async loadViews(e){if(!(await this.hasTable(this.getTypeormMetadataTableName())))return[];e||(e=[]);const t=await this.getCurrentDatabase(),i=e.map((e=>{let{database:i,tableName:n}=this.driver.parseTableName(e);return i||(i=t),`(\`t\`.\`schema\` = '${i}' AND \`t\`.\`name\` = '${n}')`})).join(" OR "),n=`SELECT \`t\`.*, \`v\`.\`check_option\` FROM ${this.escapePath(this.getTypeormMetadataTableName())} \`t\` INNER JOIN \`information_schema\`.\`views\` \`v\` ON \`v\`.\`table_schema\` = \`t\`.\`schema\` AND \`v\`.\`table_name\` = \`t\`.\`name\` WHERE \`t\`.\`type\` = '${MA.VIEW}' ${i?`AND (${i})`:""}`;return(await this.query(n)).map((e=>{const i=new iN,n=e.schema===t?void 0:e.schema;return i.database=e.schema,i.name=this.driver.buildTableName(e.name,void 0,n),i.expression=e.value,i}))}async loadTables(e){if(e&&0===e.length)return[];const t=[],i=await this.getCurrentDatabase();if(e){const n="SELECT TABLE_NAME, TABLE_SCHEMA FROM `INFORMATION_SCHEMA`.`TABLES` WHERE "+e.map((e=>{let[t,n]=e.split(".");return n||(n=t,t=this.driver.database||i),`(\`TABLE_SCHEMA\` = '${t}' AND \`TABLE_NAME\` = '${n}')`})).join(" OR ");t.push(...await this.query(n))}else{const e="SELECT TABLE_NAME, TABLE_SCHEMA FROM `INFORMATION_SCHEMA`.`TABLES`";t.push(...await this.query(e))}if(0===t.length)return[];const n=t.map((({TABLE_NAME:e,TABLE_SCHEMA:t})=>`(\`TABLE_SCHEMA\` = '${t}' AND \`TABLE_NAME\` = '${e}')`)).join(" OR "),r="SELECT * FROM `INFORMATION_SCHEMA`.`COLUMNS` WHERE "+n,a=`SELECT * FROM \`INFORMATION_SCHEMA\`.\`KEY_COLUMN_USAGE\` WHERE \`CONSTRAINT_NAME\` = 'PRIMARY' AND (${n})`,s=`SELECT \`s\`.* FROM \`INFORMATION_SCHEMA\`.\`STATISTICS\` \`s\` LEFT JOIN \`INFORMATION_SCHEMA\`.\`REFERENTIAL_CONSTRAINTS\` \`rc\` ON \`s\`.\`INDEX_NAME\` = \`rc\`.\`CONSTRAINT_NAME\` WHERE (${t.map((({TABLE_NAME:e,TABLE_SCHEMA:t})=>`(\`s\`.\`TABLE_SCHEMA\` = '${t}' AND \`s\`.\`TABLE_NAME\` = '${e}')`)).join(" OR ")}) AND \`s\`.\`INDEX_NAME\` != 'PRIMARY' AND \`rc\`.\`CONSTRAINT_NAME\` IS NULL`,o="SELECT `kcu`.`TABLE_SCHEMA`, `kcu`.`TABLE_NAME`, `kcu`.`CONSTRAINT_NAME`, `kcu`.`COLUMN_NAME`, `kcu`.`REFERENCED_TABLE_SCHEMA`, `kcu`.`REFERENCED_TABLE_NAME`, `kcu`.`REFERENCED_COLUMN_NAME`, `rc`.`DELETE_RULE` `ON_DELETE`, `rc`.`UPDATE_RULE` `ON_UPDATE` FROM `INFORMATION_SCHEMA`.`KEY_COLUMN_USAGE` `kcu` INNER JOIN `INFORMATION_SCHEMA`.`REFERENTIAL_CONSTRAINTS` `rc` ON `rc`.`constraint_name` = `kcu`.`constraint_name` WHERE "+t.map((({TABLE_NAME:e,TABLE_SCHEMA:t})=>`(\`kcu\`.\`TABLE_SCHEMA\` = '${t}' AND \`kcu\`.\`TABLE_NAME\` = '${e}')`)).join(" OR "),[l,c,d,u,h]=await Promise.all([this.query(r),this.query(a),this.query("SELECT `SCHEMA_NAME`, `DEFAULT_CHARACTER_SET_NAME` as `CHARSET`, `DEFAULT_COLLATION_NAME` AS `COLLATION` FROM `INFORMATION_SCHEMA`.`SCHEMATA`"),this.query(s),this.query(o)]);return Promise.all(t.map((async e=>{const t=new Hk,n=d.find((t=>t.SCHEMA_NAME===e.TABLE_SCHEMA)),r=n.COLLATION,a=n.CHARSET,s=e.TABLE_SCHEMA===i?void 0:e.TABLE_SCHEMA;t.database=e.TABLE_SCHEMA,t.name=this.driver.buildTableName(e.TABLE_NAME,void 0,s),t.columns=l.filter((t=>t.TABLE_NAME===e.TABLE_NAME&&t.TABLE_SCHEMA===e.TABLE_SCHEMA)).map((i=>{const n=u.filter((t=>t.TABLE_NAME===e.TABLE_NAME&&t.TABLE_SCHEMA===e.TABLE_SCHEMA&&t.COLUMN_NAME===i.COLUMN_NAME&&0===parseInt(t.NON_UNIQUE,10))),s=this.connection.entityMetadatas.find((e=>this.getTablePath(t)===this.getTablePath(e))),o=n.length>0&&s&&s.indices.some((e=>n.some((t=>e.name===t.INDEX_NAME&&!1===e.synchronize)))),l=n.every((e=>u.some((t=>t.INDEX_NAME===e.INDEX_NAME&&t.COLUMN_NAME!==i.COLUMN_NAME)))),d=new $k;if(d.name=i.COLUMN_NAME,d.type=i.DATA_TYPE.toLowerCase(),d.unsigned=!!d.zerofill||-1!==i.COLUMN_TYPE.indexOf("unsigned"),-1!==this.driver.withWidthColumnTypes.indexOf(d.type)){const e=i.COLUMN_TYPE.substring(i.COLUMN_TYPE.indexOf("(")+1,i.COLUMN_TYPE.indexOf(")"));d.width=e&&!this.isDefaultColumnWidth(t,d,parseInt(e))?parseInt(e):void 0}if(null===i.COLUMN_DEFAULT||void 0===i.COLUMN_DEFAULT?d.default=void 0:d.default="CURRENT_TIMESTAMP"===i.COLUMN_DEFAULT?i.COLUMN_DEFAULT:`'${i.COLUMN_DEFAULT}'`,-1!==i.EXTRA.indexOf("on update")&&(d.onUpdate=i.EXTRA.substring(i.EXTRA.indexOf("on update")+10)),i.GENERATION_EXPRESSION&&(d.asExpression=i.GENERATION_EXPRESSION,d.generatedType=-1!==i.EXTRA.indexOf("VIRTUAL")?"VIRTUAL":"STORED"),d.isUnique=n.length>0&&!o&&!l,d.isNullable="YES"===i.IS_NULLABLE,d.isPrimary=c.some((e=>e.TABLE_NAME===i.TABLE_NAME&&e.TABLE_SCHEMA===i.TABLE_SCHEMA&&e.COLUMN_NAME===i.COLUMN_NAME)),d.zerofill=-1!==i.COLUMN_TYPE.indexOf("zerofill"),d.isGenerated=-1!==i.EXTRA.indexOf("auto_increment"),d.isGenerated&&(d.generationStrategy="increment"),d.comment="string"==typeof i.COLUMN_COMMENT&&0===i.COLUMN_COMMENT.length?void 0:i.COLUMN_COMMENT,i.CHARACTER_SET_NAME&&(d.charset=i.CHARACTER_SET_NAME===a?void 0:i.CHARACTER_SET_NAME),i.COLLATION_NAME&&(d.collation=i.COLLATION_NAME===r?void 0:i.COLLATION_NAME),-1!==this.driver.withLengthColumnTypes.indexOf(d.type)&&i.CHARACTER_MAXIMUM_LENGTH){const e=i.CHARACTER_MAXIMUM_LENGTH.toString();d.length=this.isDefaultColumnLength(t,d,e)?"":e}if("decimal"!==d.type&&"double"!==d.type&&"float"!==d.type||(null===i.NUMERIC_PRECISION||this.isDefaultColumnPrecision(t,d,i.NUMERIC_PRECISION)||(d.precision=parseInt(i.NUMERIC_PRECISION)),null===i.NUMERIC_SCALE||this.isDefaultColumnScale(t,d,i.NUMERIC_SCALE)||(d.scale=parseInt(i.NUMERIC_SCALE))),"enum"===d.type||"simple-enum"===d.type||"set"===d.type){const e=i.COLUMN_TYPE,t=e.substring(e.indexOf("(")+1,e.lastIndexOf(")")).split(",");d.enum=t.map((e=>e.substring(1,e.length-1))),d.length=""}return"datetime"!==d.type&&"time"!==d.type&&"timestamp"!==d.type||null===i.DATETIME_PRECISION||void 0===i.DATETIME_PRECISION||this.isDefaultColumnPrecision(t,d,parseInt(i.DATETIME_PRECISION))||(d.precision=parseInt(i.DATETIME_PRECISION)),d}));const o=LA.uniq(h.filter((t=>t.TABLE_NAME===e.TABLE_NAME&&t.TABLE_SCHEMA===e.TABLE_SCHEMA)),(e=>e.CONSTRAINT_NAME));t.foreignKeys=o.map((e=>{const t=h.filter((t=>t.CONSTRAINT_NAME===e.CONSTRAINT_NAME)),n=e.REFERENCED_TABLE_SCHEMA===i?void 0:e.REFERENCED_TABLE_SCHEMA,r=this.driver.buildTableName(e.REFERENCED_TABLE_NAME,void 0,n);return new qk({name:e.CONSTRAINT_NAME,columnNames:t.map((e=>e.COLUMN_NAME)),referencedDatabase:e.REFERENCED_TABLE_SCHEMA,referencedTableName:r,referencedColumnNames:t.map((e=>e.REFERENCED_COLUMN_NAME)),onDelete:e.ON_DELETE,onUpdate:e.ON_UPDATE})}));const p=LA.uniq(u.filter((t=>t.TABLE_NAME===e.TABLE_NAME&&t.TABLE_SCHEMA===e.TABLE_SCHEMA)),(e=>e.INDEX_NAME));return t.indices=p.map((e=>{const i=u.filter((t=>t.TABLE_SCHEMA===e.TABLE_SCHEMA&&t.TABLE_NAME===e.TABLE_NAME&&t.INDEX_NAME===e.INDEX_NAME)),n=parseInt(e.NON_UNIQUE,10);return new Bk({table:t,name:e.INDEX_NAME,columnNames:i.map((e=>e.COLUMN_NAME)),isUnique:0===n,isSpatial:"SPATIAL"===e.INDEX_TYPE,isFulltext:"FULLTEXT"===e.INDEX_TYPE})})),t})))}createTableSql(e,t){const i=e.columns.map((e=>this.buildCreateColumnSql(e,!0))).join(", ");let n=`CREATE TABLE ${this.escapePath(e)} (${i}`;if(e.columns.filter((e=>e.isUnique)).forEach((t=>{const i=e.indices.some((e=>1===e.columnNames.length&&!!e.isUnique&&-1!==e.columnNames.indexOf(t.name))),n=e.uniques.some((e=>1===e.columnNames.length&&-1!==e.columnNames.indexOf(t.name)));i||n||e.indices.push(new Bk({name:this.connection.namingStrategy.uniqueConstraintName(e,[t.name]),columnNames:[t.name],isUnique:!0}))})),e.uniques.length>0&&e.uniques.forEach((t=>{e.indices.some((e=>e.name===t.name))||e.indices.push(new Bk({name:t.name,columnNames:t.columnNames,isUnique:!0}))})),e.indices.length>0){n+=`, ${e.indices.map((t=>{const i=t.columnNames.map((e=>`\`${e}\``)).join(", ");t.name||(t.name=this.connection.namingStrategy.indexName(e,t.columnNames,t.where));let n="";return t.isUnique&&(n+="UNIQUE "),t.isSpatial&&(n+="SPATIAL "),t.isFulltext&&(n+="FULLTEXT "),`${n}INDEX \`${t.name}\` (${i})`})).join(", ")}`}if(e.foreignKeys.length>0&&t){const t=e.foreignKeys.map((t=>{const i=t.columnNames.map((e=>`\`${e}\``)).join(", ");t.name||(t.name=this.connection.namingStrategy.foreignKeyName(e,t.columnNames));const n=t.referencedColumnNames.map((e=>`\`${e}\``)).join(", ");let r=`CONSTRAINT \`${t.name}\` FOREIGN KEY (${i}) REFERENCES ${this.escapePath(this.getTablePath(t))} (${n})`;return t.onDelete&&(r+=` ON DELETE ${t.onDelete}`),t.onUpdate&&(r+=` ON UPDATE ${t.onUpdate}`),r})).join(", ");n+=`, ${t}`}if(e.primaryColumns.length>0){n+=`, PRIMARY KEY (${e.primaryColumns.map((e=>`\`${e.name}\``)).join(", ")})`}return n+=`) ENGINE=${e.engine||"InnoDB"}`,new sN(n)}dropTableSql(e){return new sN(`DROP TABLE ${this.escapePath(e)}`)}createViewSql(e){return"string"==typeof e.expression?new sN(`CREATE VIEW ${this.escapePath(e)} AS ${e.expression}`):new sN(`CREATE VIEW ${this.escapePath(e)} AS ${e.expression(this.connection).getQuery()}`)}async insertViewDefinitionSql(e){const t=await this.getCurrentDatabase(),i="string"==typeof e.expression?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:MA.VIEW,schema:t,name:e.name,value:i})}dropViewSql(e){return new sN(`DROP VIEW ${this.escapePath(e)}`)}async deleteViewDefinitionSql(e){const t=await this.getCurrentDatabase(),i=ok.isView(e)?e.name:e;return this.deleteTypeormMetadataSql({type:MA.VIEW,schema:t,name:i})}createIndexSql(e,t){const i=t.columnNames.map((e=>`\`${e}\``)).join(", ");let n="";return t.isUnique&&(n+="UNIQUE "),t.isSpatial&&(n+="SPATIAL "),t.isFulltext&&(n+="FULLTEXT "),new sN(`CREATE ${n}INDEX \`${t.name}\` ON ${this.escapePath(e)} (${i})`)}dropIndexSql(e,t){let i=ok.isTableIndex(t)?t.name:t;return new sN(`DROP INDEX \`${i}\` ON ${this.escapePath(e)}`)}createPrimaryKeySql(e,t){const i=t.map((e=>`\`${e}\``)).join(", ");return new sN(`ALTER TABLE ${this.escapePath(e)} ADD PRIMARY KEY (${i})`)}dropPrimaryKeySql(e){return new sN(`ALTER TABLE ${this.escapePath(e)} DROP PRIMARY KEY`)}createForeignKeySql(e,t){const i=t.columnNames.map((e=>`\`${e}\``)).join(", "),n=t.referencedColumnNames.map((e=>`\`${e}\``)).join(",");let r=`ALTER TABLE ${this.escapePath(e)} ADD CONSTRAINT \`${t.name}\` FOREIGN KEY (${i}) REFERENCES ${this.escapePath(this.getTablePath(t))}(${n})`;return t.onDelete&&(r+=` ON DELETE ${t.onDelete}`),t.onUpdate&&(r+=` ON UPDATE ${t.onUpdate}`),new sN(r)}dropForeignKeySql(e,t){const i=ok.isTableForeignKey(t)?t.name:t;return new sN(`ALTER TABLE ${this.escapePath(e)} DROP FOREIGN KEY \`${i}\``)}escapeComment(e){return e&&0!==e.length?`'${e=e.replace(/\\/g,"\\\\").replace(/'/g,"''").replace(/\u0000/g,"")}'`:"''"}escapePath(e){const{database:t,tableName:i}=this.driver.parseTableName(e);return t&&t!==this.driver.database?`\`${t}\`.\`${i}\``:`\`${i}\``}buildCreateColumnSql(e,t,i=!1){let n="";return n=i?this.connection.driver.createFullType(e):`\`${e.name}\` ${this.connection.driver.createFullType(e)}`,e.asExpression&&(n+=` AS (${e.asExpression}) ${e.generatedType?e.generatedType:"VIRTUAL"}`),e.zerofill?n+=" ZEROFILL":e.unsigned&&(n+=" UNSIGNED"),e.enum&&(n+=` (${e.enum.map((e=>"'"+e+"'")).join(", ")})`),e.charset&&(n+=` CHARACTER SET "${e.charset}"`),e.collation&&(n+=` COLLATE "${e.collation}"`),e.isNullable||(n+=" NOT NULL"),e.isNullable&&(n+=" NULL"),e.isPrimary&&!t&&(n+=" PRIMARY KEY"),e.isGenerated&&"increment"===e.generationStrategy&&(n+=" AUTO_INCREMENT"),e.comment&&(n+=` COMMENT ${this.escapeComment(e.comment)}`),void 0!==e.default&&null!==e.default&&(n+=` DEFAULT ${e.default}`),e.onUpdate&&(n+=` ON UPDATE ${e.onUpdate}`),n}isDefaultColumnWidth(e,t,i){if(this.connection.hasMetadata(e.name)){const i=this.connection.getMetadata(e.name).findColumnWithDatabaseName(t.name);if(i&&i.width)return!1}const n=this.connection.driver.dataTypeDefaults&&this.connection.driver.dataTypeDefaults[t.type]&&this.connection.driver.dataTypeDefaults[t.type].width;if(n){const e=-1!==["int","tinyint","smallint","mediumint"].indexOf(t.type);return t.unsigned&&e?n-1===i:n===i}return!1}}class EN{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="nested",this.supportedDataTypes=["bit","int","integer","tinyint","smallint","mediumint","bigint","float","double","double precision","real","decimal","dec","numeric","fixed","bool","boolean","date","datetime","timestamp","time","year","char","nchar","national char","varchar","nvarchar","national varchar","blob","text","tinyblob","tinytext","mediumblob","mediumtext","longblob","longtext","enum","set","binary","varbinary","json","geometry","point","linestring","polygon","multipoint","multilinestring","multipolygon","geometrycollection"],this.supportedUpsertTypes=["on-duplicate-key-update"],this.spatialTypes=["geometry","point","linestring","polygon","multipoint","multilinestring","multipolygon","geometrycollection"],this.withLengthColumnTypes=["char","varchar","nvarchar","binary","varbinary"],this.withWidthColumnTypes=["bit","tinyint","smallint","mediumint","int","integer","bigint"],this.withPrecisionColumnTypes=["decimal","dec","numeric","fixed","float","double","double precision","real","time","datetime","timestamp"],this.withScaleColumnTypes=["decimal","dec","numeric","fixed","float","double","double precision","real"],this.unsignedAndZerofillTypes=["int","integer","smallint","tinyint","mediumint","bigint","decimal","dec","numeric","fixed","float","double","double precision","real"],this.mappedDataTypes={createDate:"datetime",createDatePrecision:6,createDateDefault:"CURRENT_TIMESTAMP(6)",updateDate:"datetime",updateDatePrecision:6,updateDateDefault:"CURRENT_TIMESTAMP(6)",deleteDate:"datetime",deleteDatePrecision:6,deleteDateNullable:!0,version:"int",treeLevel:"int",migrationId:"int",migrationName:"varchar",migrationTimestamp:"bigint",cacheId:"int",cacheIdentifier:"varchar",cacheTime:"bigint",cacheDuration:"int",cacheQuery:"text",cacheResult:"text",metadataType:"varchar",metadataDatabase:"varchar",metadataSchema:"varchar",metadataTable:"varchar",metadataName:"varchar",metadataValue:"text"},this.dataTypeDefaults={varchar:{length:255},nvarchar:{length:255},"national varchar":{length:255},char:{length:1},binary:{length:1},varbinary:{length:255},decimal:{precision:10,scale:0},dec:{precision:10,scale:0},numeric:{precision:10,scale:0},fixed:{precision:10,scale:0},float:{precision:12},double:{precision:22},time:{precision:0},datetime:{precision:0},timestamp:{precision:0},bit:{width:1},int:{width:11},integer:{width:11},tinyint:{width:4},smallint:{width:6},mediumint:{width:9},bigint:{width:20}},this.maxAliasLength=63,this.cteCapabilities={enabled:!1},this.connection=e,this.options=e.options,this.loadDependencies(),this.client=new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,((e,t)=>this.connection.logger.logQuery(e,t)),this.options.serviceConfigOptions,this.options.formatOptions),this.database=Zk.buildDriverOptions(this.options).database}async connect(){if(!this.database){const e=await this.createQueryRunner("master");this.database=await e.getCurrentDatabase(),await e.release()}}afterConnect(){return Promise.resolve()}async disconnect(){}createSchemaBuilder(){return new rN(this.connection)}createQueryRunner(e){return new xN(this,new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,((e,t)=>this.connection.logger.logQuery(e,t)),this.options.serviceConfigOptions,this.options.formatOptions))}escapeQueryWithParameters(e,t,i){const n=Object.keys(i).map((e=>i[e]));return t&&Object.keys(t).length?(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,((e,i,r)=>{if(!t.hasOwnProperty(r))return e;let a=t[r];return i?a.map((e=>(n.push(e),this.createParameter(r,n.length-1)))).join(", "):"function"==typeof a?a():(n.push(a),this.createParameter(r,n.length-1))})),[e,n]):[e,n]}escape(e){return"`"+e+"`"}buildTableName(e,t,i){let n=[e];return i&&n.unshift(i),n.join(".")}parseTableName(e){const t=this.database,i=void 0;if(ok.isTable(e)||ok.isView(e)){const n=this.parseTableName(e.name);return{database:e.database||n.database||t,schema:e.schema||n.schema||i,tableName:n.tableName}}if(ok.isTableForeignKey(e)){const n=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||n.database||t,schema:e.referencedSchema||n.schema||i,tableName:n.tableName}}if(ok.isEntityMetadata(e))return{database:e.database||t,schema:e.schema||i,tableName:e.tableName};const n=e.split(".");return{database:(n.length>1?n[0]:void 0)||t,schema:i,tableName:n.length>1?n[1]:n[0]}}preparePersistentValue(e,t){return t.transformer&&(e=DA.transformTo(t.transformer,e)),this.options.formatOptions&&!1===this.options.formatOptions.castParameters?null==e?e:t.type===Boolean?!0===e?1:0:"date"===t.type?RA.mixedDateToDateString(e):"time"===t.type?RA.mixedDateToTimeString(e):"json"===t.type?JSON.stringify(e):"timestamp"===t.type||"datetime"===t.type||t.type===Date?RA.mixedDateToDate(e):"simple-array"===t.type||"set"===t.type?RA.simpleArrayToString(e):"simple-json"===t.type?RA.simpleJsonToString(e):"enum"===t.type||"simple-enum"===t.type?""+e:e:this.client.preparePersistentValue(e,t)}prepareHydratedValue(e,t){return null==e?t.transformer?DA.transformFrom(t.transformer,e):e:this.options.formatOptions&&!1===this.options.formatOptions.castParameters?(t.type===Boolean||"bool"===t.type||"boolean"===t.type?e=!!e:"datetime"===t.type||t.type===Date?e=RA.normalizeHydratedDate(e):"date"===t.type?e=RA.mixedDateToDateString(e):"json"===t.type?e="string"==typeof e?JSON.parse(e):e:"time"===t.type?e=RA.mixedTimeToString(e):"simple-array"===t.type||"set"===t.type?e=RA.stringToSimpleArray(e):"simple-json"===t.type?e=RA.stringToSimpleJson(e):("enum"===t.type||"simple-enum"===t.type)&&t.enum&&!isNaN(e)&&t.enum.indexOf(parseInt(e))>=0?e=parseInt(e):t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=DA.transformFrom(t.transformer,e)),e):this.client.prepareHydratedValue(e,t)}normalizeType(e){return e.type===Number||"integer"===e.type?"int":e.type===String?"varchar":e.type===Date?"datetime":e.type===Buffer?"blob":e.type===Boolean?"tinyint":"uuid"===e.type?"varchar":"simple-array"===e.type||"simple-json"===e.type?"text":"simple-enum"===e.type?"enum":"double precision"===e.type||"real"===e.type?"double":"dec"===e.type||"numeric"===e.type||"fixed"===e.type?"decimal":"bool"===e.type||"boolean"===e.type?"tinyint":"nvarchar"===e.type||"national varchar"===e.type?"varchar":"nchar"===e.type||"national char"===e.type?"char":e.type||""}normalizeDefault(e){const t=e.default;if(null!==t){if(("enum"===e.type||"simple-enum"===e.type)&&void 0!==t)return`'${t}'`;if("set"===e.type&&void 0!==t)return`'${RA.simpleArrayToString(t)}'`;if("number"==typeof t)return`${t}`;if("boolean"==typeof t)return t?"1":"0";if("function"==typeof t)return t();if("string"==typeof t)return`'${t}'`;if(void 0!==t)return`${t}`}}normalizeIsUnique(e){return e.entityMetadata.indices.some((t=>t.isUnique&&1===t.columns.length&&t.columns[0]===e))}getColumnLength(e){if(e.length)return e.length.toString();if("uuid"===e.generationStrategy)return"36";switch(e.type){case String:case"varchar":case"nvarchar":case"national varchar":case"varbinary":return"255";default:return""}}createFullType(e){let t=e.type;return this.getColumnLength(e)?t+=`(${this.getColumnLength(e)})`:e.width?t+=`(${e.width})`:null!==e.precision&&void 0!==e.precision&&null!==e.scale&&void 0!==e.scale?t+=`(${e.precision},${e.scale})`:null!==e.precision&&void 0!==e.precision&&(t+=`(${e.precision})`),e.isArray&&(t+=" array"),t}obtainMasterConnection(){return new Promise(((e,t)=>{this.poolCluster?this.poolCluster.getConnection("MASTER",((i,n)=>{i?t(i):e(this.prepareDbConnection(n))})):this.pool?this.pool.getConnection(((i,n)=>{i?t(i):e(this.prepareDbConnection(n))})):t(new YC("Connection is not established with mysql database"))}))}obtainSlaveConnection(){return this.poolCluster?new Promise(((e,t)=>{this.poolCluster.getConnection("SLAVE*",((i,n)=>{i?t(i):e(this.prepareDbConnection(n))}))})):this.obtainMasterConnection()}createGeneratedMap(e,t,i){const n=e.generatedColumns.reduce(((e,n)=>{let r;return"increment"===n.generationStrategy&&t.insertId&&(r=t.insertId+i),LA.mergeDeep(e,n.createValueMap(r))}),{});return Object.keys(n).length>0?n:void 0}findChangedColumns(e,t){return t.filter((t=>{const i=e.find((e=>e.name===t.databaseName));if(!i)return!1;let n=t.length;return n||"uuid"!==t.generationStrategy||(n=this.getColumnLength(t)),i.name!==t.databaseName||i.type!==this.normalizeType(t)||i.length!==n||i.width!==t.width||i.precision!==t.precision||i.scale!==t.scale||i.zerofill!==t.zerofill||i.unsigned!==t.unsigned||i.asExpression!==t.asExpression||i.generatedType!==t.generatedType||i.comment!==this.escapeComment(t.comment)||!this.compareDefaultValues(this.normalizeDefault(t),i.default)||i.enum&&t.enum&&!LA.isArraysEqual(i.enum,t.enum.map((e=>e+"")))||i.onUpdate!==t.onUpdate||i.isPrimary!==t.isPrimary||i.isNullable!==t.isNullable||i.isUnique!==this.normalizeIsUnique(t)||"uuid"!==t.generationStrategy&&i.isGenerated!==t.isGenerated}))}isReturningSqlSupported(){return!1}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!0}createParameter(e,t){return"?"}loadDependencies(){const e=this.options.driver||gS.load("typeorm-aurora-data-api-driver");this.DataApiDriver=e,this.DataApiDriver=this.DataApiDriver.default||this.DataApiDriver}createConnectionOptions(e,t){return t=Object.assign({},t,Zk.buildDriverOptions(t)),Object.assign({},{resourceArn:e.resourceArn,secretArn:e.secretArn,database:e.database,region:e.region,type:e.type},{host:t.host,user:t.username,password:t.password,database:t.database,port:t.port,ssl:e.ssl},e.extra||{})}async createPool(e){return{}}prepareDbConnection(e){const{logger:t}=this.connection;return 0===e.listeners("error").length&&e.on("error",(e=>t.log("warn",`MySQL connection raised an error. ${e}`))),e}compareDefaultValues(e,t){return"string"==typeof e&&"string"==typeof t&&(e=e.replace(/^'+|'+$/g,""),t=t.replace(/^'+|'+$/g,"")),e===t}escapeComment(e){return e?e=e.replace(/\u0000/g,""):e}}class _N extends lN{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.mode=t,this.broadcaster=new dN(this)}connect(){return this.databaseConnection?Promise.resolve(this.databaseConnection):(this.databaseConnectionPromise||("slave"===this.mode&&this.driver.isReplicated?this.databaseConnectionPromise=this.driver.obtainSlaveConnection().then((([e,t])=>{this.driver.connectedQueryRunners.push(this),this.databaseConnection=e;const i=e=>this.releasePostgresConnection(e);return this.releaseCallback=e=>{this.databaseConnection.removeListener("error",i),t(e)},this.databaseConnection.on("error",i),this.databaseConnection})):this.databaseConnectionPromise=this.driver.obtainMasterConnection().then((([e,t])=>{this.driver.connectedQueryRunners.push(this),this.databaseConnection=e;const i=e=>this.releasePostgresConnection(e);return this.releaseCallback=e=>{this.databaseConnection.removeListener("error",i),t(e)},this.databaseConnection.on("error",i),this.databaseConnection}))),this.databaseConnectionPromise)}async releasePostgresConnection(e){if(this.isReleased)return;this.isReleased=!0,this.releaseCallback&&(this.releaseCallback(e),this.releaseCallback=void 0);const t=this.driver.connectedQueryRunners.indexOf(this);-1!==t&&this.driver.connectedQueryRunners.splice(t,1)}release(){return this.releasePostgresConnection()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}0===this.transactionDepth?(await this.query("START TRANSACTION"),e&&await this.query("SET TRANSACTION ISOLATION LEVEL "+e)):await this.query(`SAVEPOINT typeorm_${this.transactionDepth}`),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new rk;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_"+(this.transactionDepth-1)):(await this.query("COMMIT"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new rk;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_"+(this.transactionDepth-1)):(await this.query("ROLLBACK"),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new Ik;const n=await this.connect();this.driver.connection.logger.logQuery(e,t,this);try{const r=+new Date,a=await n.query(e,t),s=this.driver.options.maxQueryExecutionTime,o=+new Date-r;s&&o>s&&this.driver.connection.logger.logQuerySlow(o,e,t,this);const l=new uN;if(a){switch(a.hasOwnProperty("rows")&&(l.records=a.rows),a.hasOwnProperty("rowCount")&&(l.affected=a.rowCount),a.command){case"DELETE":case"UPDATE":l.raw=[a.rows,a.rowCount];break;default:l.raw=a.rows}if(!i)return l.raw}return l}catch(r){throw this.driver.connection.logger.logQueryError(r,e,t,this),new Nk(e,t,r)}}async stream(e,t,i,n){const r=this.driver.loadStreamDependency();if(this.isReleased)throw new Ik;const a=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const s=a.query(new r(e,t));return i&&s.on("end",i),n&&s.on("error",n),s}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){return!!(await this.query(`SELECT * FROM pg_database WHERE datname='${e}';`)).length}async getCurrentDatabase(){return(await this.query("SELECT * FROM current_database()"))[0].current_database}async hasSchema(e){return!!(await this.query(`SELECT * FROM "information_schema"."schemata" WHERE "schema_name" = '${e}'`)).length}async getCurrentSchema(){return(await this.query("SELECT * FROM current_schema()"))[0].current_schema}async hasTable(e){const t=this.driver.parseTableName(e);t.schema||(t.schema=await this.getCurrentSchema());const i=`SELECT * FROM "information_schema"."tables" WHERE "table_schema" = '${t.schema}' AND "table_name" = '${t.tableName}'`;return!!(await this.query(i)).length}async hasColumn(e,t){const i=this.driver.parseTableName(e);i.schema||(i.schema=await this.getCurrentSchema());const n=`SELECT * FROM "information_schema"."columns" WHERE "table_schema" = '${i.schema}' AND "table_name" = '${i.tableName}' AND "column_name" = '${t}'`;return!!(await this.query(n)).length}async createDatabase(e,t){if(t){if(await this.hasDatabase(e))return Promise.resolve()}const i=`CREATE DATABASE "${e}"`,n=`DROP DATABASE "${e}"`;await this.executeQueries(new sN(i),new sN(n))}async dropDatabase(e,t){const i=t?`DROP DATABASE IF EXISTS "${e}"`:`DROP DATABASE "${e}"`,n=`CREATE DATABASE "${e}"`;await this.executeQueries(new sN(i),new sN(n))}async createSchema(e,t){const i=-1===e.indexOf(".")?e:e.split(".")[1],n=t?`CREATE SCHEMA IF NOT EXISTS "${i}"`:`CREATE SCHEMA "${i}"`,r=`DROP SCHEMA "${i}" CASCADE`;await this.executeQueries(new sN(n),new sN(r))}async dropSchema(e,t,i){const n=-1===e.indexOf(".")?e:e.split(".")[1],r=t?`DROP SCHEMA IF EXISTS "${n}" ${i?"CASCADE":""}`:`DROP SCHEMA "${n}" ${i?"CASCADE":""}`,a=`CREATE SCHEMA "${n}"`;await this.executeQueries(new sN(r),new sN(a))}async createTable(e,t=!1,i=!0,n=!0){if(t){if(await this.hasTable(e))return Promise.resolve()}const r=[],a=[],s=e.columns.filter((e=>"enum"===e.type||"simple-enum"===e.type)),o=[];for(const c of s){const t=await this.hasEnumType(e,c),i=this.buildEnumName(e,c);t||-1!==o.indexOf(i)||(o.push(i),r.push(this.createEnumTypeSql(e,c,i)),a.push(this.dropEnumTypeSql(e,c,i)))}const l=e.columns.filter((e=>"STORED"===e.generatedType&&e.asExpression));for(const c of l){const t=(await this.getTableNameWithSchema(e.name)).split("."),i=t[1],n=t[0],s=this.insertTypeormMetadataSql({database:this.driver.database,schema:n,table:i,type:MA.GENERATED_COLUMN,name:c.name,value:c.asExpression}),o=this.deleteTypeormMetadataSql({database:this.driver.database,schema:n,table:i,type:MA.GENERATED_COLUMN,name:c.name});r.push(s),a.push(o)}r.push(this.createTableSql(e,i)),a.push(this.dropTableSql(e)),i&&e.foreignKeys.forEach((t=>a.push(this.dropForeignKeySql(e,t)))),n&&e.indices.forEach((t=>{t.name||(t.name=this.connection.namingStrategy.indexName(e,t.columnNames,t.where)),r.push(this.createIndexSql(e,t)),a.push(this.dropIndexSql(e,t))})),await this.executeQueries(r,a)}async dropTable(e,t,i=!0,n=!0){if(t){if(!(await this.hasTable(e)))return Promise.resolve()}const r=i,a=this.getTablePath(e),s=await this.getCachedTable(a),o=[],l=[];n&&s.indices.forEach((e=>{o.push(this.dropIndexSql(s,e)),l.push(this.createIndexSql(s,e))})),i&&s.foreignKeys.forEach((e=>o.push(this.dropForeignKeySql(s,e)))),o.push(this.dropTableSql(s)),l.push(this.createTableSql(s,r));const c=s.columns.filter((e=>e.generatedType&&e.asExpression));for(const d of c){const e=(await this.getTableNameWithSchema(s.name)).split("."),t=e[1],i=e[0],n=this.deleteTypeormMetadataSql({database:this.driver.database,schema:i,table:t,type:MA.GENERATED_COLUMN,name:d.name}),r=this.insertTypeormMetadataSql({database:this.driver.database,schema:i,table:t,type:MA.GENERATED_COLUMN,name:d.name,value:d.asExpression});o.push(n),l.push(r)}await this.executeQueries(o,l)}async createView(e,t=!1){const i=[],n=[];i.push(this.createViewSql(e)),t&&i.push(await this.insertViewDefinitionSql(e)),n.push(this.dropViewSql(e)),t&&n.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(i,n)}async dropView(e){const t=ok.isView(e)?e.name:e,i=await this.getCachedView(t),n=[],r=[];n.push(await this.deleteViewDefinitionSql(i)),n.push(this.dropViewSql(i)),r.push(await this.insertViewDefinitionSql(i)),r.push(this.createViewSql(i)),await this.executeQueries(n,r)}async renameTable(e,t){const i=[],n=[],r=ok.isTable(e)?e:await this.getCachedTable(e),a=r.clone(),{schema:s,tableName:o}=this.driver.parseTableName(r);if(a.name=s?`${s}.${t}`:t,i.push(new sN(`ALTER TABLE ${this.escapePath(r)} RENAME TO "${t}"`)),n.push(new sN(`ALTER TABLE ${this.escapePath(a)} RENAME TO "${o}"`)),a.primaryColumns.length>0&&!a.primaryColumns[0].primaryKeyConstraintName){const e=a.primaryColumns.map((e=>e.name)),t=this.connection.namingStrategy.primaryKeyName(r,e),s=this.connection.namingStrategy.primaryKeyName(a,e);i.push(new sN(`ALTER TABLE ${this.escapePath(a)} RENAME CONSTRAINT "${t}" TO "${s}"`)),n.push(new sN(`ALTER TABLE ${this.escapePath(a)} RENAME CONSTRAINT "${s}" TO "${t}"`))}a.columns.map((e=>{if(e.isGenerated&&"increment"===e.generationStrategy){const t=this.buildSequencePath(r,e.name),s=this.buildSequenceName(r,e.name),o=this.buildSequencePath(a,e.name),l=this.buildSequenceName(a,e.name),c=`ALTER SEQUENCE ${this.escapePath(t)} RENAME TO "${l}"`,d=`ALTER SEQUENCE ${this.escapePath(o)} RENAME TO "${s}"`;i.push(new sN(c)),n.push(new sN(d))}})),a.uniques.forEach((e=>{const t=this.connection.namingStrategy.uniqueConstraintName(r,e.columnNames);if(e.name!==t)return;const s=this.connection.namingStrategy.uniqueConstraintName(a,e.columnNames);i.push(new sN(`ALTER TABLE ${this.escapePath(a)} RENAME CONSTRAINT "${e.name}" TO "${s}"`)),n.push(new sN(`ALTER TABLE ${this.escapePath(a)} RENAME CONSTRAINT "${s}" TO "${e.name}"`)),e.name=s})),a.indices.forEach((e=>{const t=this.connection.namingStrategy.indexName(r,e.columnNames,e.where);if(e.name!==t)return;const{schema:s}=this.driver.parseTableName(a),o=this.connection.namingStrategy.indexName(a,e.columnNames,e.where),l=s?`ALTER INDEX "${s}"."${e.name}" RENAME TO "${o}"`:`ALTER INDEX "${e.name}" RENAME TO "${o}"`,c=s?`ALTER INDEX "${s}"."${o}" RENAME TO "${e.name}"`:`ALTER INDEX "${o}" RENAME TO "${e.name}"`;i.push(new sN(l)),n.push(new sN(c)),e.name=o})),a.foreignKeys.forEach((e=>{const t=this.connection.namingStrategy.foreignKeyName(r,e.columnNames,this.getTablePath(e),e.referencedColumnNames);if(e.name!==t)return;const s=this.connection.namingStrategy.foreignKeyName(a,e.columnNames,this.getTablePath(e),e.referencedColumnNames);i.push(new sN(`ALTER TABLE ${this.escapePath(a)} RENAME CONSTRAINT "${e.name}" TO "${s}"`)),n.push(new sN(`ALTER TABLE ${this.escapePath(a)} RENAME CONSTRAINT "${s}" TO "${e.name}"`)),e.name=s}));const l=a.columns.filter((e=>"enum"===e.type||"simple-enum"===e.type));for(let c of l){if(c.enumName)continue;const e=await this.getUserDefinedTypeName(r,c);i.push(new sN(`ALTER TYPE "${e.schema}"."${e.name}" RENAME TO ${this.buildEnumName(a,c,!1)}`)),n.push(new sN(`ALTER TYPE ${this.buildEnumName(a,c)} RENAME TO "${e.name}"`))}await this.executeQueries(i,n)}async addColumn(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=i.clone(),r=[],a=[];if("enum"===t.type||"simple-enum"===t.type){await this.hasEnumType(i,t)||(r.push(this.createEnumTypeSql(i,t)),a.push(this.dropEnumTypeSql(i,t)))}if(r.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD ${this.buildCreateColumnSql(i,t)}`)),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP COLUMN "${t.name}"`)),t.isPrimary){const e=n.primaryColumns;if(e.length>0){const t=e[0].primaryKeyConstraintName?e[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(n,e.map((e=>e.name))),s=e.map((e=>`"${e.name}"`)).join(", ");r.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP CONSTRAINT "${t}"`)),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD CONSTRAINT "${t}" PRIMARY KEY (${s})`))}e.push(t);const s=e[0].primaryKeyConstraintName?e[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(n,e.map((e=>e.name))),o=e.map((e=>`"${e.name}"`)).join(", ");r.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD CONSTRAINT "${s}" PRIMARY KEY (${o})`)),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP CONSTRAINT "${s}"`))}const s=n.indices.find((e=>1===e.columnNames.length&&e.columnNames[0]===t.name));if(s&&(r.push(this.createIndexSql(i,s)),a.push(this.dropIndexSql(i,s))),t.isUnique){const e=new Fk({name:this.connection.namingStrategy.uniqueConstraintName(i,[t.name]),columnNames:[t.name]});n.uniques.push(e),r.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD CONSTRAINT "${e.name}" UNIQUE ("${t.name}")`)),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP CONSTRAINT "${e.name}"`))}if("STORED"===t.generatedType&&t.asExpression){const e=(await this.getTableNameWithSchema(i.name)).split("."),n=e[1],s=e[0],o=this.insertTypeormMetadataSql({database:this.driver.database,schema:s,table:n,type:MA.GENERATED_COLUMN,name:t.name,value:t.asExpression}),l=this.deleteTypeormMetadataSql({database:this.driver.database,schema:s,table:n,type:MA.GENERATED_COLUMN,name:t.name});r.push(o),a.push(l)}t.comment&&(r.push(new sN(`COMMENT ON COLUMN ${this.escapePath(i)}."${t.name}" IS ${this.escapeComment(t.comment)}`)),a.push(new sN(`COMMENT ON COLUMN ${this.escapePath(i)}."${t.name}" IS ${this.escapeComment(t.comment)}`))),await this.executeQueries(r,a),n.addColumn(t),this.replaceCachedTable(i,n)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const n=ok.isTable(e)?e:await this.getCachedTable(e),r=ok.isTableColumn(t)?t:n.columns.find((e=>e.name===t));if(!r)throw new YC(`Column "${t}" was not found in the "${n.name}" table.`);let a;return ok.isTableColumn(i)?a=i:(a=r.clone(),a.name=i),this.changeColumn(n,r,a)}async changeColumn(e,t,i){const n=ok.isTable(e)?e:await this.getCachedTable(e);let r=n.clone();const a=[],s=[];let o=!1;const l=ok.isTableColumn(t)?t:n.columns.find((e=>e.name===t));if(!l)throw new YC(`Column "${t}" was not found in the "${n.name}" table.`);if(l.type!==i.type||l.length!==i.length||i.isArray!==l.isArray||!l.generatedType&&"STORED"===i.generatedType||l.asExpression!==i.asExpression&&"STORED"===i.generatedType)await this.dropColumn(n,l),await this.addColumn(n,i),r=n.clone();else{if(l.name!==i.name){if(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} RENAME COLUMN "${l.name}" TO "${i.name}"`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} RENAME COLUMN "${i.name}" TO "${l.name}"`)),"enum"===l.type||"simple-enum"===l.type){const e=await this.getUserDefinedTypeName(n,l);a.push(new sN(`ALTER TYPE "${e.schema}"."${e.name}" RENAME TO ${this.buildEnumName(n,i,!1)}`)),s.push(new sN(`ALTER TYPE ${this.buildEnumName(n,i)} RENAME TO "${e.name}"`))}if(!0===l.isPrimary&&!l.primaryKeyConstraintName){const e=r.primaryColumns.map((e=>e.name)),t=this.connection.namingStrategy.primaryKeyName(r,e);e.splice(e.indexOf(l.name),1),e.push(i.name);const o=this.connection.namingStrategy.primaryKeyName(r,e);a.push(new sN(`ALTER TABLE ${this.escapePath(n)} RENAME CONSTRAINT "${t}" TO "${o}"`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} RENAME CONSTRAINT "${o}" TO "${t}"`))}if(!0===l.isGenerated&&"increment"===i.generationStrategy){const e=this.buildSequencePath(n,l.name),t=this.buildSequenceName(n,l.name),r=this.buildSequencePath(n,i.name),o=this.buildSequenceName(n,i.name),c=`ALTER SEQUENCE ${this.escapePath(e)} RENAME TO "${o}"`,d=`ALTER SEQUENCE ${this.escapePath(r)} RENAME TO "${t}"`;a.push(new sN(c)),s.push(new sN(d))}r.findColumnUniques(l).forEach((e=>{const t=this.connection.namingStrategy.uniqueConstraintName(r,e.columnNames);if(e.name!==t)return;e.columnNames.splice(e.columnNames.indexOf(l.name),1),e.columnNames.push(i.name);const o=this.connection.namingStrategy.uniqueConstraintName(r,e.columnNames);a.push(new sN(`ALTER TABLE ${this.escapePath(n)} RENAME CONSTRAINT "${e.name}" TO "${o}"`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} RENAME CONSTRAINT "${o}" TO "${e.name}"`)),e.name=o})),r.findColumnIndices(l).forEach((e=>{const t=this.connection.namingStrategy.indexName(r,e.columnNames,e.where);if(e.name!==t)return;e.columnNames.splice(e.columnNames.indexOf(l.name),1),e.columnNames.push(i.name);const{schema:o}=this.driver.parseTableName(n),c=this.connection.namingStrategy.indexName(r,e.columnNames,e.where),d=o?`ALTER INDEX "${o}"."${e.name}" RENAME TO "${c}"`:`ALTER INDEX "${e.name}" RENAME TO "${c}"`,u=o?`ALTER INDEX "${o}"."${c}" RENAME TO "${e.name}"`:`ALTER INDEX "${c}" RENAME TO "${e.name}"`;a.push(new sN(d)),s.push(new sN(u)),e.name=c})),r.findColumnForeignKeys(l).forEach((e=>{const t=this.connection.namingStrategy.foreignKeyName(r,e.columnNames,this.getTablePath(e),e.referencedColumnNames);if(e.name!==t)return;e.columnNames.splice(e.columnNames.indexOf(l.name),1),e.columnNames.push(i.name);const o=this.connection.namingStrategy.foreignKeyName(r,e.columnNames,this.getTablePath(e),e.referencedColumnNames);a.push(new sN(`ALTER TABLE ${this.escapePath(n)} RENAME CONSTRAINT "${e.name}" TO "${o}"`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} RENAME CONSTRAINT "${o}" TO "${e.name}"`)),e.name=o}));const e=r.columns.find((e=>e.name===l.name));r.columns[r.columns.indexOf(e)].name=i.name,l.name=i.name}if(i.precision===l.precision&&i.scale===l.scale||(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" TYPE ${this.driver.createFullType(i)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" TYPE ${this.driver.createFullType(l)}`))),!("enum"!==i.type&&"simple-enum"!==i.type||"enum"!==l.type&&"simple-enum"!==l.type||LA.isArraysEqual(i.enum,l.enum)&&i.enumName===l.enumName)){const e=i.isArray?"[]":"",t=this.buildEnumName(n,i),r=this.buildEnumName(n,l),c=this.buildEnumName(n,l,!1),d=this.buildEnumName(n,l,!0,!1,!0),u=this.buildEnumName(n,l,!1,!1,!0);a.push(new sN(`ALTER TYPE ${r} RENAME TO ${u}`)),s.push(new sN(`ALTER TYPE ${d} RENAME TO ${c}`)),a.push(this.createEnumTypeSql(n,i,t)),s.push(this.dropEnumTypeSql(n,i,t)),null!==l.default&&void 0!==l.default&&(o=!0,a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${l.name}" DROP DEFAULT`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${l.name}" SET DEFAULT ${l.default}`)));const h=`${t}${e} USING "${i.name}"::"text"::${t}${e}`,p=`${d}${e} USING "${i.name}"::"text"::${d}${e}`;a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" TYPE ${h}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" TYPE ${p}`)),null!==i.default&&void 0!==i.default&&(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" SET DEFAULT ${i.default}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" DROP DEFAULT`))),a.push(this.dropEnumTypeSql(n,l,d)),s.push(this.createEnumTypeSql(n,l,d))}if(l.isNullable!==i.isNullable&&(i.isNullable?(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${l.name}" DROP NOT NULL`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${l.name}" SET NOT NULL`))):(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${l.name}" SET NOT NULL`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${l.name}" DROP NOT NULL`)))),l.comment!==i.comment&&(a.push(new sN(`COMMENT ON COLUMN ${this.escapePath(n)}."${l.name}" IS ${this.escapeComment(i.comment)}`)),s.push(new sN(`COMMENT ON COLUMN ${this.escapePath(n)}."${i.name}" IS ${this.escapeComment(l.comment)}`))),i.isPrimary!==l.isPrimary){const e=r.primaryColumns;if(e.length>0){const t=e[0].primaryKeyConstraintName?e[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,e.map((e=>e.name))),i=e.map((e=>`"${e.name}"`)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP CONSTRAINT "${t}"`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD CONSTRAINT "${t}" PRIMARY KEY (${i})`))}if(!0===i.isPrimary){e.push(i);r.columns.find((e=>e.name===i.name)).isPrimary=!0;const t=e[0].primaryKeyConstraintName?e[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,e.map((e=>e.name))),o=e.map((e=>`"${e.name}"`)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD CONSTRAINT "${t}" PRIMARY KEY (${o})`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP CONSTRAINT "${t}"`))}else{const t=e.find((e=>e.name===i.name));e.splice(e.indexOf(t),1);if(r.columns.find((e=>e.name===i.name)).isPrimary=!1,e.length>0){const t=e[0].primaryKeyConstraintName?e[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,e.map((e=>e.name))),i=e.map((e=>`"${e.name}"`)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD CONSTRAINT "${t}" PRIMARY KEY (${i})`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP CONSTRAINT "${t}"`))}}}if(i.isUnique!==l.isUnique)if(!0===i.isUnique){const e=new Fk({name:this.connection.namingStrategy.uniqueConstraintName(n,[i.name]),columnNames:[i.name]});r.uniques.push(e),a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD CONSTRAINT "${e.name}" UNIQUE ("${i.name}")`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP CONSTRAINT "${e.name}"`))}else{const e=r.uniques.find((e=>1===e.columnNames.length&&!!e.columnNames.find((e=>e===i.name))));r.uniques.splice(r.uniques.indexOf(e),1),a.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP CONSTRAINT "${e.name}"`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD CONSTRAINT "${e.name}" UNIQUE ("${i.name}")`))}if(l.isGenerated!==i.isGenerated&&(l.isGenerated&&("uuid"===l.generationStrategy?(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${l.name}" DROP DEFAULT`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${l.name}" SET DEFAULT ${this.driver.uuidGenerator}`))):"increment"===l.generationStrategy&&(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" DROP DEFAULT`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" SET DEFAULT nextval('${this.escapePath(this.buildSequencePath(n,i))}')`)),a.push(new sN(`DROP SEQUENCE ${this.escapePath(this.buildSequencePath(n,i))}`)),s.push(new sN(`CREATE SEQUENCE IF NOT EXISTS ${this.escapePath(this.buildSequencePath(n,i))} OWNED BY ${this.escapePath(n)}."${i.name}"`)))),"uuid"===i.generationStrategy?!0===i.isGenerated?(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" SET DEFAULT ${this.driver.uuidGenerator}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" DROP DEFAULT`))):(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" DROP DEFAULT`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" SET DEFAULT ${this.driver.uuidGenerator}`))):"increment"===i.generationStrategy&&(!0===i.isGenerated?(a.push(new sN(`CREATE SEQUENCE IF NOT EXISTS ${this.escapePath(this.buildSequencePath(n,i))} OWNED BY ${this.escapePath(n)}."${i.name}"`)),s.push(new sN(`DROP SEQUENCE ${this.escapePath(this.buildSequencePath(n,i))}`)),a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" SET DEFAULT nextval('${this.escapePath(this.buildSequencePath(n,i))}')`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" DROP DEFAULT`))):(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" DROP DEFAULT`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" SET DEFAULT nextval('${this.escapePath(this.buildSequencePath(n,i))}')`)),a.push(new sN(`DROP SEQUENCE ${this.escapePath(this.buildSequencePath(n,i))}`)),s.push(new sN(`CREATE SEQUENCE IF NOT EXISTS ${this.escapePath(this.buildSequencePath(n,i))} OWNED BY ${this.escapePath(n)}."${i.name}"`))))),i.default===l.default||o||(null!==i.default&&void 0!==i.default?(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" SET DEFAULT ${i.default}`)),null!==l.default&&void 0!==l.default?s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" SET DEFAULT ${l.default}`)):s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" DROP DEFAULT`))):null!==l.default&&void 0!==l.default&&(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" DROP DEFAULT`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" SET DEFAULT ${l.default}`)))),(i.spatialFeatureType||"").toLowerCase()===(l.spatialFeatureType||"").toLowerCase()&&i.srid===l.srid||(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" TYPE ${this.driver.createFullType(i)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" TYPE ${this.driver.createFullType(l)}`))),i.generatedType!==l.generatedType&&(!i.generatedType||"VIRTUAL"===i.generatedType)){const e=(await this.getTableNameWithSchema(n.name)).split("."),t=e[1],r=e[0];a.push(new sN(`ALTER TABLE ${this.escapePath(n)} RENAME COLUMN "${l.name}" TO "TEMP_OLD_${l.name}"`)),a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD ${this.buildCreateColumnSql(n,i)}`)),a.push(new sN(`UPDATE ${this.escapePath(n)} SET "${i.name}" = "TEMP_OLD_${l.name}"`)),a.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP COLUMN "TEMP_OLD_${l.name}"`)),a.push(this.deleteTypeormMetadataSql({database:this.driver.database,schema:r,table:t,type:MA.GENERATED_COLUMN,name:l.name})),s.push(this.insertTypeormMetadataSql({database:this.driver.database,schema:r,table:t,type:MA.GENERATED_COLUMN,name:l.name,value:l.asExpression})),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD ${this.buildCreateColumnSql(n,l)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP COLUMN "${i.name}"`))}}await this.executeQueries(a,s),this.replaceCachedTable(n,r)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:n}of t)await this.changeColumn(e,i,n)}async dropColumn(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableColumn(t)?t:i.findColumnByName(t);if(!n)throw new YC(`Column "${t}" was not found in table "${i.name}"`);const r=i.clone(),a=[],s=[];if(n.isPrimary){const e=n.primaryKeyConstraintName?n.primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,r.primaryColumns.map((e=>e.name))),t=r.primaryColumns.map((e=>`"${e.name}"`)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(r)} DROP CONSTRAINT "${e}"`)),s.push(new sN(`ALTER TABLE ${this.escapePath(r)} ADD CONSTRAINT "${e}" PRIMARY KEY (${t})`));if(r.findColumnByName(n.name).isPrimary=!1,r.primaryColumns.length>0){const e=r.primaryColumns[0].primaryKeyConstraintName?r.primaryColumns[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,r.primaryColumns.map((e=>e.name))),t=r.primaryColumns.map((e=>`"${e.name}"`)).join(", ");a.push(new sN(`ALTER TABLE ${this.escapePath(r)} ADD CONSTRAINT "${e}" PRIMARY KEY (${t})`)),s.push(new sN(`ALTER TABLE ${this.escapePath(r)} DROP CONSTRAINT "${e}"`))}}const o=r.indices.find((e=>1===e.columnNames.length&&e.columnNames[0]===n.name));o&&(r.indices.splice(r.indices.indexOf(o),1),a.push(this.dropIndexSql(i,o)),s.push(this.createIndexSql(i,o)));const l=r.checks.find((e=>!!e.columnNames&&1===e.columnNames.length&&e.columnNames[0]===n.name));l&&(r.checks.splice(r.checks.indexOf(l),1),a.push(this.dropCheckConstraintSql(i,l)),s.push(this.createCheckConstraintSql(i,l)));const c=r.uniques.find((e=>1===e.columnNames.length&&e.columnNames[0]===n.name));if(c&&(r.uniques.splice(r.uniques.indexOf(c),1),a.push(this.dropUniqueConstraintSql(i,c)),s.push(this.createUniqueConstraintSql(i,c))),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP COLUMN "${n.name}"`)),s.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD ${this.buildCreateColumnSql(i,n)}`)),"enum"===n.type||"simple-enum"===n.type){if(await this.hasEnumType(i,n)){const e=await this.getUserDefinedTypeName(i,n),t=`"${e.schema}"."${e.name}"`;a.push(this.dropEnumTypeSql(i,n,t)),s.push(this.createEnumTypeSql(i,n,t))}}if("STORED"===n.generatedType){const e=(await this.getTableNameWithSchema(i.name)).split("."),t=e[1],r=e[0],o=this.deleteTypeormMetadataSql({database:this.driver.database,schema:r,table:t,type:MA.GENERATED_COLUMN,name:n.name}),l=this.insertTypeormMetadataSql({database:this.driver.database,schema:r,table:t,type:MA.GENERATED_COLUMN,name:n.name,value:n.asExpression});a.push(o),s.push(l)}await this.executeQueries(a,s),r.removeColumn(n),this.replaceCachedTable(i,r)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t,i){const n=ok.isTable(e)?e:await this.getCachedTable(e),r=n.clone(),a=this.createPrimaryKeySql(n,t,i);r.columns.forEach((e=>{t.find((t=>t===e.name))&&(e.isPrimary=!0)}));const s=this.dropPrimaryKeySql(r);await this.executeQueries(a,s),this.replaceCachedTable(n,r)}async updatePrimaryKeys(e,t){var i;const n=ok.isTable(e)?e:await this.getCachedTable(e),r=n.clone(),a=t.map((e=>e.name)),s=[],o=[],l=r.primaryColumns;if(l.length>0){const e=l[0].primaryKeyConstraintName?l[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,l.map((e=>e.name))),t=l.map((e=>`"${e.name}"`)).join(", ");s.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP CONSTRAINT "${e}"`)),o.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD CONSTRAINT "${e}" PRIMARY KEY (${t})`))}r.columns.filter((e=>-1!==a.indexOf(e.name))).forEach((e=>e.isPrimary=!0));const c=(null===(i=l[0])||void 0===i?void 0:i.primaryKeyConstraintName)?l[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(r,a),d=a.map((e=>`"${e}"`)).join(", ");s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ADD CONSTRAINT "${c}" PRIMARY KEY (${d})`)),o.push(new sN(`ALTER TABLE ${this.escapePath(n)} DROP CONSTRAINT "${c}"`)),await this.executeQueries(s,o),this.replaceCachedTable(n,r)}async dropPrimaryKey(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=this.dropPrimaryKeySql(i),r=this.createPrimaryKeySql(i,i.primaryColumns.map((e=>e.name)),t);await this.executeQueries(n,r),i.primaryColumns.forEach((e=>{e.isPrimary=!1}))}async createUniqueConstraint(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.uniqueConstraintName(i,t.columnNames));const n=this.createUniqueConstraintSql(i,t),r=this.dropUniqueConstraintSql(i,t);await this.executeQueries(n,r),i.addUniqueConstraint(t)}async createUniqueConstraints(e,t){for(const i of t)await this.createUniqueConstraint(e,i)}async dropUniqueConstraint(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableUnique(t)?t:i.uniques.find((e=>e.name===t));if(!n)throw new YC(`Supplied unique constraint was not found in table ${i.name}`);const r=this.dropUniqueConstraintSql(i,n),a=this.createUniqueConstraintSql(i,n);await this.executeQueries(r,a),i.removeUniqueConstraint(n)}async dropUniqueConstraints(e,t){for(const i of t)await this.dropUniqueConstraint(e,i)}async createCheckConstraint(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.checkConstraintName(i,t.expression));const n=this.createCheckConstraintSql(i,t),r=this.dropCheckConstraintSql(i,t);await this.executeQueries(n,r),i.addCheckConstraint(t)}async createCheckConstraints(e,t){const i=t.map((t=>this.createCheckConstraint(e,t)));await Promise.all(i)}async dropCheckConstraint(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableCheck(t)?t:i.checks.find((e=>e.name===t));if(!n)throw new YC(`Supplied check constraint was not found in table ${i.name}`);const r=this.dropCheckConstraintSql(i,n),a=this.createCheckConstraintSql(i,n);await this.executeQueries(r,a),i.removeCheckConstraint(n)}async dropCheckConstraints(e,t){const i=t.map((t=>this.dropCheckConstraint(e,t)));await Promise.all(i)}async createExclusionConstraint(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.exclusionConstraintName(i,t.expression));const n=this.createExclusionConstraintSql(i,t),r=this.dropExclusionConstraintSql(i,t);await this.executeQueries(n,r),i.addExclusionConstraint(t)}async createExclusionConstraints(e,t){const i=t.map((t=>this.createExclusionConstraint(e,t)));await Promise.all(i)}async dropExclusionConstraint(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableExclusion(t)?t:i.exclusions.find((e=>e.name===t));if(!n)throw new YC(`Supplied exclusion constraint was not found in table ${i.name}`);const r=this.dropExclusionConstraintSql(i,n),a=this.createExclusionConstraintSql(i,n);await this.executeQueries(r,a),i.removeExclusionConstraint(n)}async dropExclusionConstraints(e,t){const i=t.map((t=>this.dropExclusionConstraint(e,t)));await Promise.all(i)}async createForeignKey(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames,this.getTablePath(t),t.referencedColumnNames));const n=this.createForeignKeySql(i,t),r=this.dropForeignKeySql(i,t);await this.executeQueries(n,r),i.addForeignKey(t)}async createForeignKeys(e,t){for(const i of t)await this.createForeignKey(e,i)}async dropForeignKey(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableForeignKey(t)?t:i.foreignKeys.find((e=>e.name===t));if(!n)throw new YC(`Supplied foreign key was not found in table ${i.name}`);n.name||(n.name=this.connection.namingStrategy.foreignKeyName(i,n.columnNames,this.getTablePath(n),n.referencedColumnNames));const r=this.dropForeignKeySql(i,n),a=this.createForeignKeySql(i,n);await this.executeQueries(r,a),i.removeForeignKey(n)}async dropForeignKeys(e,t){for(const i of t)await this.dropForeignKey(e,i)}async createIndex(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const n=this.createIndexSql(i,t),r=this.dropIndexSql(i,t);await this.executeQueries(n,r),i.addIndex(t)}async createViewIndex(e,t){const i=ok.isView(e)?e:await this.getCachedView(e);t.name||(t.name=this.generateIndexName(i,t));const n=this.createViewIndexSql(i,t),r=this.dropIndexSql(i,t);await this.executeQueries(n,r),i.addIndex(t)}async createIndices(e,t){for(const i of t)await this.createIndex(e,i)}async createViewIndices(e,t){for(const i of t)await this.createViewIndex(e,i)}async dropIndex(e,t){const i=ok.isTable(e)?e:await this.getCachedTable(e),n=ok.isTableIndex(t)?t:i.indices.find((e=>e.name===t));if(!n)throw new YC(`Supplied index ${t} was not found in table ${i.name}`);n.name||(n.name=this.generateIndexName(i,n));const r=this.dropIndexSql(i,n),a=this.createIndexSql(i,n);await this.executeQueries(r,a),i.removeIndex(n)}async dropViewIndex(e,t){const i=ok.isView(e)?e:await this.getCachedView(e),n=ok.isTableIndex(t)?t:i.indices.find((e=>e.name===t));if(!n)throw new YC(`Supplied index ${t} was not found in view ${i.name}`);n.name||(n.name=this.generateIndexName(i,n));const r=this.dropIndexSql(i,n),a=this.createViewIndexSql(i,n);await this.executeQueries(r,a),i.removeIndex(n)}async dropIndices(e,t){for(const i of t)await this.dropIndex(e,i)}async clearTable(e){await this.query(`TRUNCATE TABLE ${this.escapePath(e)}`)}async clearDatabase(){const e=[];this.connection.entityMetadatas.filter((e=>e.schema)).forEach((t=>{!!e.find((e=>e===t.schema))||e.push(t.schema)})),e.push(this.driver.options.schema||"current_schema()");const t=e.map((e=>"current_schema()"===e?e:"'"+e+"'")).join(", "),i=this.isTransactionActive;i||await this.startTransaction();try{const e=await this.getVersion(),n=`SELECT 'DROP VIEW IF EXISTS "' || schemaname || '"."' || viewname || '" CASCADE;' as "query" FROM "pg_views" WHERE "schemaname" IN (${t}) AND "viewname" NOT IN ('geography_columns', 'geometry_columns', 'raster_columns', 'raster_overviews')`,r=await this.query(n);if(await Promise.all(r.map((e=>this.query(e.query)))),Xk.isGreaterOrEqual(e,"9.3")){const e=`SELECT 'DROP MATERIALIZED VIEW IF EXISTS "' || schemaname || '"."' || matviewname || '" CASCADE;' as "query" FROM "pg_matviews" WHERE "schemaname" IN (${t})`,i=await this.query(e);await Promise.all(i.map((e=>this.query(e.query))))}const a=`SELECT 'DROP TABLE IF EXISTS "' || schemaname || '"."' || tablename || '" CASCADE;' as "query" FROM "pg_tables" WHERE "schemaname" IN (${t}) AND "tablename" NOT IN ('spatial_ref_sys')`,s=await this.query(a);await Promise.all(s.map((e=>this.query(e.query)))),await this.dropEnumTypes(t),i||await this.commitTransaction()}catch(n){try{i||await this.rollbackTransaction()}catch(r){}throw n}}async loadViews(e){if(!(await this.hasTable(this.getTypeormMetadataTableName())))return[];e||(e=[]);const t=await this.getCurrentDatabase(),i=await this.getCurrentSchema(),n=0===e.length?"1=1":e.map((e=>this.driver.parseTableName(e))).map((({schema:e,tableName:t})=>(e||(e=this.driver.options.schema||i),`("t"."schema" = '${e}' AND "t"."name" = '${t}')`))).join(" OR "),r=`SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('m') AND "cnst"."contype" IS NULL AND (${0===e.length?"1=1":e.map((e=>this.driver.parseTableName(e))).map((({schema:e,tableName:t})=>(e||(e=this.driver.options.schema||i),`("ns"."nspname" = '${e}' AND "t"."relname" = '${t}')`))).join(" OR ")})`,a=`SELECT "t".* FROM ${this.escapePath(this.getTypeormMetadataTableName())} "t" INNER JOIN "pg_catalog"."pg_class" "c" ON "c"."relname" = "t"."name" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "c"."relnamespace" AND "n"."nspname" = "t"."schema" WHERE "t"."type" IN ('${MA.VIEW}', '${MA.MATERIALIZED_VIEW}') ${n?`AND (${n})`:""}`,s=await this.query(a),o=await this.query(r);return s.map((e=>{const n=LA.uniq(o.filter((t=>t.table_name===e.name&&t.table_schema===e.schema)),(e=>e.constraint_name)),r=new iN,a=e.schema!==i||this.driver.options.schema?e.schema:void 0;return r.database=t,r.schema=e.schema,r.name=this.driver.buildTableName(e.name,a),r.expression=e.value,r.materialized=e.type===MA.MATERIALIZED_VIEW,r.indices=n.map((e=>{const t=o.filter((t=>t.table_schema===e.table_schema&&t.table_name===e.table_name&&t.constraint_name===e.constraint_name));return new Bk({view:r,name:e.constraint_name,columnNames:t.map((e=>e.column_name)),isUnique:"TRUE"===e.is_unique,where:e.condition,isFulltext:!1})})),r}))}async loadTables(e){if(e&&0===e.length)return[];const t=await this.getCurrentSchema(),i=await this.getCurrentDatabase(),n=[];if(e){const i='SELECT "table_schema", "table_name" FROM "information_schema"."tables" WHERE '+e.map((e=>this.driver.parseTableName(e))).map((({schema:e,tableName:i})=>`("table_schema" = '${e||t}' AND "table_name" = '${i}')`)).join(" OR ");n.push(...await this.query(i))}else{const e='SELECT "table_schema", "table_name" FROM "information_schema"."tables"';n.push(...await this.query(e))}if(0===n.length)return[];const r='SELECT columns.*, pg_catalog.col_description((\'"\' || table_catalog || \'"."\' || table_schema || \'"."\' || table_name || \'"\')::regclass::oid, ordinal_position) AS description, (\'"\' || "udt_schema" || \'"."\' || "udt_name" || \'"\')::"regtype" AS "regtype", pg_catalog.format_type("col_attr"."atttypid", "col_attr"."atttypmod") AS "format_type" FROM "information_schema"."columns" LEFT JOIN "pg_catalog"."pg_attribute" AS "col_attr" ON "col_attr"."attname" = "columns"."column_name" AND "col_attr"."attrelid" = ( SELECT "cls"."oid" FROM "pg_catalog"."pg_class" AS "cls" LEFT JOIN "pg_catalog"."pg_namespace" AS "ns" ON "ns"."oid" = "cls"."relnamespace" WHERE "cls"."relname" = "columns"."table_name" AND "ns"."nspname" = "columns"."table_schema" ) WHERE '+n.map((({table_schema:e,table_name:t})=>`("table_schema" = '${e}' AND "table_name" = '${t}')`)).join(" OR "),a=n.map((({table_schema:e,table_name:t})=>`("ns"."nspname" = '${e}' AND "t"."relname" = '${t}')`)).join(" OR "),s=`SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "cnst"."conname" AS "constraint_name", pg_get_constraintdef("cnst"."oid") AS "expression", CASE "cnst"."contype" WHEN 'p' THEN 'PRIMARY' WHEN 'u' THEN 'UNIQUE' WHEN 'c' THEN 'CHECK' WHEN 'x' THEN 'EXCLUDE' END AS "constraint_type", "a"."attname" AS "column_name" FROM "pg_constraint" "cnst" INNER JOIN "pg_class" "t" ON "t"."oid" = "cnst"."conrelid" INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "cnst"."connamespace" LEFT JOIN "pg_attribute" "a" ON "a"."attrelid" = "cnst"."conrelid" AND "a"."attnum" = ANY ("cnst"."conkey") WHERE "t"."relkind" IN ('r', 'p') AND (${a})`,o=`SELECT "ns"."nspname" AS "table_schema", "t"."relname" AS "table_name", "i"."relname" AS "constraint_name", "a"."attname" AS "column_name", CASE "ix"."indisunique" WHEN 't' THEN 'TRUE' ELSE'FALSE' END AS "is_unique", pg_get_expr("ix"."indpred", "ix"."indrelid") AS "condition", "types"."typname" AS "type_name" FROM "pg_class" "t" INNER JOIN "pg_index" "ix" ON "ix"."indrelid" = "t"."oid" INNER JOIN "pg_attribute" "a" ON "a"."attrelid" = "t"."oid"  AND "a"."attnum" = ANY ("ix"."indkey") INNER JOIN "pg_namespace" "ns" ON "ns"."oid" = "t"."relnamespace" INNER JOIN "pg_class" "i" ON "i"."oid" = "ix"."indexrelid" INNER JOIN "pg_type" "types" ON "types"."oid" = "a"."atttypid" LEFT JOIN "pg_constraint" "cnst" ON "cnst"."conname" = "i"."relname" WHERE "t"."relkind" IN ('r', 'p') AND "cnst"."contype" IS NULL AND (${a})`,l=`SELECT "con"."conname" AS "constraint_name", "con"."nspname" AS "table_schema", "con"."relname" AS "table_name", "att2"."attname" AS "column_name", "ns"."nspname" AS "referenced_table_schema", "cl"."relname" AS "referenced_table_name", "att"."attname" AS "referenced_column_name", "con"."confdeltype" AS "on_delete", "con"."confupdtype" AS "on_update", "con"."condeferrable" AS "deferrable", "con"."condeferred" AS "deferred" FROM ( SELECT UNNEST ("con1"."conkey") AS "parent", UNNEST ("con1"."confkey") AS "child", "con1"."confrelid", "con1"."conrelid", "con1"."conname", "con1"."contype", "ns"."nspname", "cl"."relname", "con1"."condeferrable", CASE WHEN "con1"."condeferred" THEN 'INITIALLY DEFERRED' ELSE 'INITIALLY IMMEDIATE' END as condeferred, CASE "con1"."confdeltype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confdeltype", CASE "con1"."confupdtype" WHEN 'a' THEN 'NO ACTION' WHEN 'r' THEN 'RESTRICT' WHEN 'c' THEN 'CASCADE' WHEN 'n' THEN 'SET NULL' WHEN 'd' THEN 'SET DEFAULT' END as "confupdtype" FROM "pg_class" "cl" INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_constraint" "con1" ON "con1"."conrelid" = "cl"."oid" WHERE "con1"."contype" = 'f' AND (${n.map((({table_schema:e,table_name:t})=>`("ns"."nspname" = '${e}' AND "cl"."relname" = '${t}')`)).join(" OR ")}) ) "con" INNER JOIN "pg_attribute" "att" ON "att"."attrelid" = "con"."confrelid" AND "att"."attnum" = "con"."child" INNER JOIN "pg_class" "cl" ON "cl"."oid" = "con"."confrelid" ${await this.hasSupportForPartitionedTables()?' AND "cl"."relispartition" = \'f\'':""}INNER JOIN "pg_namespace" "ns" ON "cl"."relnamespace" = "ns"."oid" INNER JOIN "pg_attribute" "att2" ON "att2"."attrelid" = "con"."conrelid" AND "att2"."attnum" = "con"."parent"`,[c,d,u,h]=await Promise.all([this.query(r),this.query(s),this.query(o),this.query(l)]);return Promise.all(n.map((async e=>{const n=new Hk,r=(e,i)=>e[i]!==t||this.driver.options.schema&&this.driver.options.schema!==t?e[i]:void 0,a=r(e,"table_schema");n.database=i,n.schema=e.table_schema,n.name=this.driver.buildTableName(e.table_name,a),n.columns=await Promise.all(c.filter((t=>t.table_name===e.table_name&&t.table_schema===e.table_schema)).map((async t=>{const r=d.filter((e=>e.table_name===t.table_name&&e.table_schema===t.table_schema&&e.column_name===t.column_name)),a=new $k;if(a.name=t.column_name,a.type=t.regtype.toLowerCase(),"numeric"!==a.type&&"decimal"!==a.type&&"float"!==a.type||(null===t.numeric_precision||this.isDefaultColumnPrecision(n,a,t.numeric_precision)?null===t.numeric_scale||this.isDefaultColumnScale(n,a,t.numeric_scale)||(a.precision=void 0):a.precision=t.numeric_precision,null===t.numeric_scale||this.isDefaultColumnScale(n,a,t.numeric_scale)?null===t.numeric_precision||this.isDefaultColumnPrecision(n,a,t.numeric_precision)||(a.scale=void 0):a.scale=t.numeric_scale),"interval"!==a.type&&"time without time zone"!==a.type&&"time with time zone"!==a.type&&"timestamp without time zone"!==a.type&&"timestamp with time zone"!==a.type||(a.precision=this.isDefaultColumnPrecision(n,a,t.datetime_precision)?void 0:t.datetime_precision),"USER-DEFINED"===t.data_type||"ARRAY"===t.data_type){const{name:i}=await this.getUserDefinedTypeName(n,a),r=this.buildEnumName(n,a,!1,!0)!==i?i:void 0,s=`SELECT "e"."enumlabel" AS "value" FROM "pg_enum" "e" INNER JOIN "pg_type" "t" ON "t"."oid" = "e"."enumtypid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = '${e.table_schema}' AND "t"."typname" = '${r||i}'`,o=await this.query(s);if(o.length&&(a.type="enum",a.enum=o.map((e=>e.value)),a.enumName=r),"ARRAY"===t.data_type){a.isArray=!0;const e=a.type.replace("[]","");a.type=this.connection.driver.normalizeType({type:e})}}if("geometry"===a.type||"geography"===a.type){const e=`SELECT * FROM (SELECT "f_table_schema" "table_schema", "f_table_name" "table_name", "f_${a.type}_column" "column_name", "srid", "type" FROM "${a.type}_columns") AS _ WHERE "column_name" = '${t.column_name}' AND "table_schema" = '${t.table_schema}' AND "table_name" = '${t.table_name}'`,i=await this.query(e);i.length>0&&(a.spatialFeatureType=i[0].type,a.srid=i[0].srid)}if(-1!==this.driver.withLengthColumnTypes.indexOf(a.type)){let e;if(a.isArray){const i=/\((\d+)\)/.exec(t.format_type);e=i?i[1]:void 0}else t.character_maximum_length&&(e=t.character_maximum_length.toString());e&&(a.length=this.isDefaultColumnLength(n,a,e)?"":e)}a.isNullable="YES"===t.is_nullable;const s=r.find((e=>"PRIMARY"===e.constraint_type));if(s){a.isPrimary=!0;const e=d.filter((e=>e.table_name===t.table_name&&e.table_schema===t.table_schema&&e.column_name!==t.column_name&&"PRIMARY"===e.constraint_type)).map((e=>e.column_name));e.push(t.column_name);const i=this.connection.namingStrategy.primaryKeyName(n,e);s.constraint_name!==i&&(a.primaryKeyConstraintName=s.constraint_name)}const o=r.filter((e=>"UNIQUE"===e.constraint_type)),l=o.every((e=>d.some((i=>"UNIQUE"===i.constraint_type&&i.constraint_name===e.constraint_name&&i.column_name!==t.column_name))));if(a.isUnique=o.length>0&&!l,"YES"===t.is_identity)a.isGenerated=!0,a.generationStrategy="identity",a.generatedIdentity=t.identity_generation;else if(null!==t.column_default&&void 0!==t.column_default){const e=`nextval('${this.buildSequenceName(n,t.column_name)}'::regclass)`,i=`nextval('${this.buildSequencePath(n,t.column_name)}'::regclass)`,r=t.column_default.replace(/"/g,"");r===e||r===i?(a.isGenerated=!0,a.generationStrategy="increment"):"gen_random_uuid()"===t.column_default||/^uuid_generate_v\d\(\)/.test(t.column_default)?"uuid"===a.type?(a.isGenerated=!0,a.generationStrategy="uuid"):a.default=t.column_default:"now()"===t.column_default||-1!==t.column_default.indexOf("'now'::text")?a.default=t.column_default:(a.default=t.column_default.replace(/::[\w\s.\[\]\-"]+/g,""),a.default=a.default.replace(/^(-?\d+)$/,"'$1'"))}if("ALWAYS"===t.is_generated&&t.generation_expression){a.generatedType="STORED";const t=await this.selectTypeormMetadataSql({database:i,schema:e.table_schema,table:e.table_name,type:MA.GENERATED_COLUMN,name:a.name}),n=await this.query(t.query,t.parameters);n[0]&&n[0].value?a.asExpression=n[0].value:a.asExpression=""}return a.comment=t.description?t.description:void 0,t.character_set_name&&(a.charset=t.character_set_name),t.collation_name&&(a.collation=t.collation_name),a})));const s=LA.uniq(d.filter((t=>t.table_name===e.table_name&&t.table_schema===e.table_schema&&"UNIQUE"===t.constraint_type)),(e=>e.constraint_name));n.uniques=s.map((e=>{const t=d.filter((t=>t.constraint_name===e.constraint_name));return new Fk({name:e.constraint_name,columnNames:t.map((e=>e.column_name)),deferrable:e.deferrable?e.deferred:void 0})}));const o=LA.uniq(d.filter((t=>t.table_name===e.table_name&&t.table_schema===e.table_schema&&"CHECK"===t.constraint_type)),(e=>e.constraint_name));n.checks=o.map((e=>{const t=d.filter((t=>t.constraint_name===e.constraint_name));return new zk({name:e.constraint_name,columnNames:t.map((e=>e.column_name)),expression:e.expression.replace(/^\s*CHECK\s*\((.*)\)\s*$/i,"$1")})}));const l=LA.uniq(d.filter((t=>t.table_name===e.table_name&&t.table_schema===e.table_schema&&"EXCLUDE"===t.constraint_type)),(e=>e.constraint_name));n.exclusions=l.map((e=>new Vk({name:e.constraint_name,expression:e.expression.substring(8)})));const p=LA.uniq(h.filter((t=>t.table_name===e.table_name&&t.table_schema===e.table_schema)),(e=>e.constraint_name));n.foreignKeys=p.map((e=>{const t=h.filter((t=>t.constraint_name===e.constraint_name)),i=r(e,"referenced_table_schema"),n=this.driver.buildTableName(e.referenced_table_name,i);return new qk({name:e.constraint_name,columnNames:t.map((e=>e.column_name)),referencedSchema:e.referenced_table_schema,referencedTableName:n,referencedColumnNames:t.map((e=>e.referenced_column_name)),onDelete:e.on_delete,onUpdate:e.on_update,deferrable:e.deferrable?e.deferred:void 0})}));const m=LA.uniq(u.filter((t=>t.table_name===e.table_name&&t.table_schema===e.table_schema)),(e=>e.constraint_name));return n.indices=m.map((e=>{const t=u.filter((t=>t.table_schema===e.table_schema&&t.table_name===e.table_name&&t.constraint_name===e.constraint_name));return new Bk({table:n,name:e.constraint_name,columnNames:t.map((e=>e.column_name)),isUnique:"TRUE"===e.is_unique,where:e.condition,isSpatial:t.every((e=>this.driver.spatialTypes.indexOf(e.type_name)>=0)),isFulltext:!1})})),n})))}createTableSql(e,t){const i=e.columns.map((t=>this.buildCreateColumnSql(e,t))).join(", ");let n=`CREATE TABLE ${this.escapePath(e)} (${i}`;if(e.columns.filter((e=>e.isUnique)).forEach((t=>{e.uniques.some((e=>1===e.columnNames.length&&e.columnNames[0]===t.name))||e.uniques.push(new Fk({name:this.connection.namingStrategy.uniqueConstraintName(e,[t.name]),columnNames:[t.name]}))})),e.uniques.length>0){const t=e.uniques.map((t=>{let i=`CONSTRAINT "${t.name?t.name:this.connection.namingStrategy.uniqueConstraintName(e,t.columnNames)}" UNIQUE (${t.columnNames.map((e=>`"${e}"`)).join(", ")})`;return t.deferrable&&(i+=` DEFERRABLE ${t.deferrable}`),i})).join(", ");n+=`, ${t}`}if(e.checks.length>0){const t=e.checks.map((t=>`CONSTRAINT "${t.name?t.name:this.connection.namingStrategy.checkConstraintName(e,t.expression)}" CHECK (${t.expression})`)).join(", ");n+=`, ${t}`}if(e.exclusions.length>0){const t=e.exclusions.map((t=>`CONSTRAINT "${t.name?t.name:this.connection.namingStrategy.exclusionConstraintName(e,t.expression)}" EXCLUDE ${t.expression}`)).join(", ");n+=`, ${t}`}if(e.foreignKeys.length>0&&t){const t=e.foreignKeys.map((t=>{const i=t.columnNames.map((e=>`"${e}"`)).join(", ");t.name||(t.name=this.connection.namingStrategy.foreignKeyName(e,t.columnNames,this.getTablePath(t),t.referencedColumnNames));const n=t.referencedColumnNames.map((e=>`"${e}"`)).join(", ");let r=`CONSTRAINT "${t.name}" FOREIGN KEY (${i}) REFERENCES ${this.escapePath(this.getTablePath(t))} (${n})`;return t.onDelete&&(r+=` ON DELETE ${t.onDelete}`),t.onUpdate&&(r+=` ON UPDATE ${t.onUpdate}`),t.deferrable&&(r+=` DEFERRABLE ${t.deferrable}`),r})).join(", ");n+=`, ${t}`}const r=e.columns.filter((e=>e.isPrimary));if(r.length>0){const t=r[0].primaryKeyConstraintName?r[0].primaryKeyConstraintName:this.connection.namingStrategy.primaryKeyName(e,r.map((e=>e.name))),i=r.map((e=>`"${e.name}"`)).join(", ");n+=`, CONSTRAINT "${t}" PRIMARY KEY (${i})`}return n+=")",e.columns.filter((e=>e.comment)).forEach((t=>n+=`; COMMENT ON COLUMN ${this.escapePath(e)}."${t.name}" IS ${this.escapeComment(t.comment)}`)),new sN(n)}async getVersion(){return(await this.query("SELECT version()"))[0].version.replace(/^PostgreSQL ([\d\.]+) .*$/,"$1")}dropTableSql(e){return new sN(`DROP TABLE ${this.escapePath(e)}`)}createViewSql(e){const t=e.materialized?"MATERIALIZED ":"",i=this.escapePath(e);return"string"==typeof e.expression?new sN(`CREATE ${t}VIEW ${i} AS ${e.expression}`):new sN(`CREATE ${t}VIEW ${i} AS ${e.expression(this.connection).getQuery()}`)}async insertViewDefinitionSql(e){const t=await this.getCurrentSchema();let{schema:i,tableName:n}=this.driver.parseTableName(e);i||(i=t);const r=e.materialized?MA.MATERIALIZED_VIEW:MA.VIEW,a="string"==typeof e.expression?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:r,schema:i,name:n,value:a})}dropViewSql(e){const t=e.materialized?"MATERIALIZED ":"";return new sN(`DROP ${t}VIEW ${this.escapePath(e)}`)}async deleteViewDefinitionSql(e){const t=await this.getCurrentSchema();let{schema:i,tableName:n}=this.driver.parseTableName(e);i||(i=t);const r=e.materialized?MA.MATERIALIZED_VIEW:MA.VIEW;return this.deleteTypeormMetadataSql({type:r,schema:i,name:n})}async dropEnumTypes(e){const t=`SELECT 'DROP TYPE IF EXISTS "' || n.nspname || '"."' || t.typname || '" CASCADE;' as "query" FROM "pg_type" "t" INNER JOIN "pg_enum" "e" ON "e"."enumtypid" = "t"."oid" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" IN (${e}) GROUP BY "n"."nspname", "t"."typname"`,i=await this.query(t);await Promise.all(i.map((e=>this.query(e.query))))}async hasEnumType(e,t){let{schema:i}=this.driver.parseTableName(e);i||(i=await this.getCurrentSchema());const n=`SELECT "n"."nspname", "t"."typname" FROM "pg_type" "t" INNER JOIN "pg_namespace" "n" ON "n"."oid" = "t"."typnamespace" WHERE "n"."nspname" = '${i}' AND "t"."typname" = '${this.buildEnumName(e,t,!1,!0)}'`;return!!(await this.query(n)).length}createEnumTypeSql(e,t,i){i||(i=this.buildEnumName(e,t));const n=t.enum.map((e=>`'${e.replace("'","''")}'`)).join(", ");return new sN(`CREATE TYPE ${i} AS ENUM(${n})`)}dropEnumTypeSql(e,t,i){return i||(i=this.buildEnumName(e,t)),new sN(`DROP TYPE ${i}`)}createIndexSql(e,t){const i=t.columnNames.map((e=>`"${e}"`)).join(", ");return new sN(`CREATE ${t.isUnique?"UNIQUE ":""}INDEX "${t.name}" ON ${this.escapePath(e)} ${t.isSpatial?"USING GiST ":""}(${i}) ${t.where?"WHERE "+t.where:""}`)}createViewIndexSql(e,t){const i=t.columnNames.map((e=>`"${e}"`)).join(", ");return new sN(`CREATE ${t.isUnique?"UNIQUE ":""}INDEX "${t.name}" ON ${this.escapePath(e)} (${i}) ${t.where?"WHERE "+t.where:""}`)}dropIndexSql(e,t){let i=ok.isTableIndex(t)?t.name:t;const{schema:n}=this.driver.parseTableName(e);return new sN(n?`DROP INDEX "${n}"."${i}"`:`DROP INDEX "${i}"`)}createPrimaryKeySql(e,t,i){const n=i||this.connection.namingStrategy.primaryKeyName(e,t),r=t.map((e=>`"${e}"`)).join(", ");return new sN(`ALTER TABLE ${this.escapePath(e)} ADD CONSTRAINT "${n}" PRIMARY KEY (${r})`)}dropPrimaryKeySql(e){if(!e.primaryColumns.length)throw new YC(`Table ${e} has no primary keys.`);const t=e.primaryColumns.map((e=>e.name)),i=e.primaryColumns[0].primaryKeyConstraintName,n=i||this.connection.namingStrategy.primaryKeyName(e,t);return new sN(`ALTER TABLE ${this.escapePath(e)} DROP CONSTRAINT "${n}"`)}createUniqueConstraintSql(e,t){const i=t.columnNames.map((e=>'"'+e+'"')).join(", ");let n=`ALTER TABLE ${this.escapePath(e)} ADD CONSTRAINT "${t.name}" UNIQUE (${i})`;return t.deferrable&&(n+=` DEFERRABLE ${t.deferrable}`),new sN(n)}dropUniqueConstraintSql(e,t){const i=ok.isTableUnique(t)?t.name:t;return new sN(`ALTER TABLE ${this.escapePath(e)} DROP CONSTRAINT "${i}"`)}createCheckConstraintSql(e,t){return new sN(`ALTER TABLE ${this.escapePath(e)} ADD CONSTRAINT "${t.name}" CHECK (${t.expression})`)}dropCheckConstraintSql(e,t){const i=ok.isTableCheck(t)?t.name:t;return new sN(`ALTER TABLE ${this.escapePath(e)} DROP CONSTRAINT "${i}"`)}createExclusionConstraintSql(e,t){return new sN(`ALTER TABLE ${this.escapePath(e)} ADD CONSTRAINT "${t.name}" EXCLUDE ${t.expression}`)}dropExclusionConstraintSql(e,t){const i=ok.isTableExclusion(t)?t.name:t;return new sN(`ALTER TABLE ${this.escapePath(e)} DROP CONSTRAINT "${i}"`)}createForeignKeySql(e,t){const i=t.columnNames.map((e=>'"'+e+'"')).join(", "),n=t.referencedColumnNames.map((e=>'"'+e+'"')).join(",");let r=`ALTER TABLE ${this.escapePath(e)} ADD CONSTRAINT "${t.name}" FOREIGN KEY (${i}) REFERENCES ${this.escapePath(this.getTablePath(t))}(${n})`;return t.onDelete&&(r+=` ON DELETE ${t.onDelete}`),t.onUpdate&&(r+=` ON UPDATE ${t.onUpdate}`),t.deferrable&&(r+=` DEFERRABLE ${t.deferrable}`),new sN(r)}dropForeignKeySql(e,t){const i=ok.isTableForeignKey(t)?t.name:t;return new sN(`ALTER TABLE ${this.escapePath(e)} DROP CONSTRAINT "${i}"`)}buildSequenceName(e,t){const{tableName:i}=this.driver.parseTableName(e),n=ok.isTableColumn(t)?t.name:t;let r=`${i}_${n}_seq`;return r.length>this.connection.driver.maxAliasLength&&(r=`${i.substring(0,29)}_${n.substring(0,Math.max(29,63-e.name.length-5))}_seq`),r}buildSequencePath(e,t){const{schema:i}=this.driver.parseTableName(e);return i?`${i}.${this.buildSequenceName(e,t)}`:this.buildSequenceName(e,t)}buildEnumName(e,t,i=!0,n,r){const{schema:a,tableName:s}=this.driver.parseTableName(e);let o=t.enumName?t.enumName:`${s}_${t.name.toLowerCase()}_enum`;return a&&i&&(o=`${a}.${o}`),r&&(o+="_old"),o.split(".").map((e=>n?e:`"${e}"`)).join(".")}async getUserDefinedTypeName(e,t){let{schema:i,tableName:n}=this.driver.parseTableName(e);i||(i=await this.getCurrentSchema());const r=await this.query(`SELECT "udt_schema", "udt_name" FROM "information_schema"."columns" WHERE "table_schema" = '${i}' AND "table_name" = '${n}' AND "column_name"='${t.name}'`);let a=r[0].udt_name;return 0===a.indexOf("_")&&(a=a.substr(1,a.length)),{schema:r[0].udt_schema,name:a}}escapeComment(e){return e&&0!==e.length?`'${e=e.replace(/'/g,"''").replace(/\u0000/g,"")}'`:"NULL"}escapePath(e){const{schema:t,tableName:i}=this.driver.parseTableName(e);return t&&t!==this.driver.searchSchema?`"${t}"."${i}"`:`"${i}"`}async getTableNameWithSchema(e){const t=ok.isTable(e)?e.name:e;if(-1===t.indexOf(".")){return`${(await this.query("SELECT current_schema()"))[0].current_schema}.${t}`}return`${t.split(".")[0]}.${t.split(".")[1]}`}buildCreateColumnSql(e,t){let i='"'+t.name+'"';if(!0===t.isGenerated&&"uuid"!==t.generationStrategy)if("identity"===t.generationStrategy){const e=t.generatedIdentity||"BY DEFAULT";i+=` ${t.type} GENERATED ${e} AS IDENTITY`}else"integer"!==t.type&&"int"!==t.type&&"int4"!==t.type||(i+=" SERIAL"),"smallint"!==t.type&&"int2"!==t.type||(i+=" SMALLSERIAL"),"bigint"!==t.type&&"int8"!==t.type||(i+=" BIGSERIAL");return"enum"===t.type||"simple-enum"===t.type?(i+=" "+this.buildEnumName(e,t),t.isArray&&(i+=" array")):t.isGenerated&&"uuid"!==t.type||(i+=" "+this.connection.driver.createFullType(t)),"STORED"===t.generatedType&&t.asExpression&&(i+=` GENERATED ALWAYS AS (${t.asExpression}) STORED`),t.charset&&(i+=' CHARACTER SET "'+t.charset+'"'),t.collation&&(i+=' COLLATE "'+t.collation+'"'),!0!==t.isNullable&&(i+=" NOT NULL"),void 0!==t.default&&null!==t.default&&(i+=" DEFAULT "+t.default),t.isGenerated&&"uuid"===t.generationStrategy&&!t.default&&(i+=` DEFAULT ${this.driver.uuidGenerator}`),i}async hasSupportForPartitionedTables(){return!!(await this.query("SELECT TRUE FROM information_schema.columns WHERE table_name = 'pg_class' and column_name = 'relispartition'")).length}}class SN extends _N{constructor(e,t){super(e,t)}}class CN extends SN{constructor(e,t,i){super(e,i),this.client=t}connect(){return this.databaseConnection?Promise.resolve(this.databaseConnection):(this.databaseConnectionPromise||("slave"===this.mode&&this.driver.isReplicated?this.databaseConnectionPromise=this.driver.obtainSlaveConnection().then((([e,t])=>(this.driver.connectedQueryRunners.push(this),this.databaseConnection=e,this.releaseCallback=t,this.databaseConnection))):this.databaseConnectionPromise=this.driver.obtainMasterConnection().then((([e,t])=>(this.driver.connectedQueryRunners.push(this),this.databaseConnection=e,this.releaseCallback=t,this.databaseConnection)))),this.databaseConnectionPromise)}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}0===this.transactionDepth?await this.client.startTransaction():await this.query(`SAVEPOINT typeorm_${this.transactionDepth}`),this.transactionDepth+=1,await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive)throw new rk;await this.broadcaster.broadcast("BeforeTransactionCommit"),this.transactionDepth>1?await this.query("RELEASE SAVEPOINT typeorm_"+(this.transactionDepth-1)):(await this.client.commitTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive)throw new rk;await this.broadcaster.broadcast("BeforeTransactionRollback"),this.transactionDepth>1?await this.query("ROLLBACK TO SAVEPOINT typeorm_"+(this.transactionDepth-1)):(await this.client.rollbackTransaction(),this.isTransactionActive=!1),this.transactionDepth-=1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new Ik;const n=await this.client.query(e,t),r=new uN;return r.raw=n,(null==n?void 0:n.hasOwnProperty("records"))&&Array.isArray(n.records)&&(r.records=n.records),(null==n?void 0:n.hasOwnProperty("numberOfRecordsUpdated"))&&(r.affected=n.numberOfRecordsUpdated),i?r:r.raw}}class kN extends rA{}class AN extends kN{constructor(e){super(),this.transactionSupport="nested",this.connection=e,this.options=e.options,this.isReplicated=!1,this.loadDependencies(),this.client=new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,((e,t)=>this.connection.logger.logQuery(e,t)),this.options.serviceConfigOptions,this.options.formatOptions),this.database=Zk.buildDriverOptions(this.options).database}async connect(){}async disconnect(){}createQueryRunner(e){return new CN(this,new this.DataApiDriver(this.options.region,this.options.secretArn,this.options.resourceArn,this.options.database,((e,t)=>this.connection.logger.logQuery(e,t)),this.options.serviceConfigOptions,this.options.formatOptions),e)}preparePersistentValue(e,t){return this.options.formatOptions&&!1===this.options.formatOptions.castParameters?super.preparePersistentValue(e,t):(t.transformer&&(e=DA.transformTo(t.transformer,e)),this.client.preparePersistentValue(e,t))}prepareHydratedValue(e,t){return this.options.formatOptions&&!1===this.options.formatOptions.castParameters?super.prepareHydratedValue(e,t):(t.transformer&&(e=DA.transformFrom(t.transformer,e)),this.client.prepareHydratedValue(e,t))}loadDependencies(){const e=this.options.driver||gS.load("typeorm-aurora-data-api-driver"),{pg:t}=e;this.DataApiDriver=t}executeQuery(e,t){return this.connection.query(t)}async afterConnect(){const e=await this.checkMetadataForExtensions();return e.hasExtensions&&await this.enableExtensions(e,this.connection),Promise.resolve()}}class NN extends cN{constructor(e){super(),this.driver=e,this.connection=e.connection,this.broadcaster=new dN(this)}async beforeMigration(){await this.query("PRAGMA foreign_keys = OFF")}async afterMigration(){await this.query("PRAGMA foreign_keys = ON")}async executeSet(e){if(this.isReleased)throw new Ik;return(await this.connect()).executeSet(e,!1)}async query(e,t,i=!1){if(this.isReleased)throw new Ik;const n=await this.connect();this.driver.connection.logger.logQuery(e,t,this);const r=e.substr(0,e.indexOf(" "));try{let a;a=-1!==["BEGIN","ROLLBACK","COMMIT","CREATE","ALTER","DROP"].indexOf(r)?await n.execute(e,!1):-1!==["INSERT","UPDATE","DELETE"].indexOf(r)?await n.run(e,t,!1):await n.query(e,t||[]);const s=new uN;return(null==a?void 0:a.hasOwnProperty("values"))&&(s.raw=a.values,s.records=a.values),(null==a?void 0:a.hasOwnProperty("changes"))&&(s.affected=a.changes.changes,s.raw=a.changes.lastId||a.changes.changes),i?s:s.raw}catch(a){throw this.driver.connection.logger.logQueryError(a,e,t,this),new Nk(e,t,a)}}parametrize(e){return Object.keys(e).map((e=>`"${e}"=?`))}}class ON extends aN{constructor(e){super(e),this.database=this.options.database,this.driver=this.options.driver,this.sqlite=this.options.driver}async connect(){this.databaseConnection=this.createDatabaseConnection(),await this.databaseConnection}async disconnect(){this.queryRunner=void 0;return(await this.databaseConnection).close().then((()=>{this.databaseConnection=void 0}))}createQueryRunner(e){return this.queryRunner||(this.queryRunner=new NN(this)),this.queryRunner}async createDatabaseConnection(){const e=this.options.mode||"no-encryption",t="no-encryption"!==e,i=void 0===this.options.version?1:this.options.version,n=await this.sqlite.createConnection(this.options.database,t,e,i);return await n.open(),await n.query("PRAGMA foreign_keys = ON"),this.options.journalMode&&-1!==["DELETE","TRUNCATE","PERSIST","MEMORY","WAL","OFF"].indexOf(this.options.journalMode)&&await n.query(`PRAGMA journal_mode = ${this.options.journalMode}`),n}loadDependencies(){if(this.sqlite=this.driver,!this.driver)throw new Tk("Capacitor","@capacitor-community/sqlite")}}class MN extends lN{constructor(e,t){super(),this.driver=e,this.connection=e.connection,this.mode=t,this.broadcaster=new dN(this)}async connect(){if(this.session)return Promise.resolve(this.session);const[e]=await this.driver.instanceDatabase.createSession({});return this.session=e,this.sessionTransaction=await e.transaction(),this.session}async release(){return this.isReleased=!0,this.session&&await this.session.delete(),this.session=void 0,Promise.resolve()}async startTransaction(e){this.isTransactionActive=!0;try{await this.broadcaster.broadcast("BeforeTransactionStart")}catch(t){throw this.isTransactionActive=!1,t}await this.connect(),await this.sessionTransaction.begin(),this.connection.logger.logQuery("START TRANSACTION"),await this.broadcaster.broadcast("AfterTransactionStart")}async commitTransaction(){if(!this.isTransactionActive||!this.sessionTransaction)throw new rk;await this.broadcaster.broadcast("BeforeTransactionCommit"),await this.sessionTransaction.commit(),this.connection.logger.logQuery("COMMIT"),this.isTransactionActive=!1,await this.broadcaster.broadcast("AfterTransactionCommit")}async rollbackTransaction(){if(!this.isTransactionActive||!this.sessionTransaction)throw new rk;await this.broadcaster.broadcast("BeforeTransactionRollback"),await this.sessionTransaction.rollback(),this.connection.logger.logQuery("ROLLBACK"),this.isTransactionActive=!1,await this.broadcaster.broadcast("AfterTransactionRollback")}async query(e,t,i=!1){if(this.isReleased)throw new Ik;try{const a=+new Date;let s;await this.connect();const o=e.startsWith("SELECT"),l=o&&!this.isTransactionActive?this.driver.instanceDatabase:this.sessionTransaction;this.isTransactionActive||o||await this.sessionTransaction.begin();try{this.driver.connection.logger.logQuery(e,t,this),s=await l.run({sql:e,params:t?t.reduce(((e,t,i)=>(e["param"+i]=t,e)),{}):void 0,json:!0}),this.isTransactionActive||o||await this.sessionTransaction.commit()}catch(n){try{this.isTransactionActive||o||await this.sessionTransaction.rollback()}catch(r){}throw n}const c=this.driver.options.maxQueryExecutionTime,d=+new Date-a;c&&d>c&&this.driver.connection.logger.logQuerySlow(d,e,t,this);const u=new uN;return u.raw=s,u.records=s?s[0]:[],s&&s[1]&&s[1].rowCountExact&&(u.affected=parseInt(s[1].rowCountExact)),i?u:u.records}catch(a){throw this.driver.connection.logger.logQueryError(a,e,t,this),new Nk(e,t,a)}}async updateDDL(e,t){if(this.isReleased)throw new Ik;this.driver.connection.logger.logQuery(e,t,this);try{const i=+new Date,[n]=await this.driver.instanceDatabase.updateSchema(e);await n.promise();const r=this.driver.options.maxQueryExecutionTime,a=+new Date-i;r&&a>r&&this.driver.connection.logger.logQuerySlow(a,e,t,this)}catch(i){throw this.driver.connection.logger.logQueryError(i,e,t,this),new Nk(e,t,i)}}async stream(e,t,i,n){if(this.isReleased)throw new Ik;try{this.driver.connection.logger.logQuery(e,t,this);const r={sql:e,params:t?t.reduce(((e,t,i)=>(e["param"+i]=t,e)),{}):void 0,json:!0},a=this.driver.instanceDatabase.runStream(r);return i&&a.on("end",i),n&&a.on("error",n),a}catch(r){throw this.driver.connection.logger.logQueryError(r,e,t,this),new Nk(e,t,r)}}async getDatabases(){return Promise.resolve([])}async getSchemas(e){return Promise.resolve([])}async hasDatabase(e){throw new YC("Check database queries are not supported by Spanner driver.")}async getCurrentDatabase(){throw new YC("Check database queries are not supported by Spanner driver.")}async hasSchema(e){return!!(await this.query(`SELECT * FROM "information_schema"."schemata" WHERE "schema_name" = '${e}'`)).length}async getCurrentSchema(){throw new YC("Check schema queries are not supported by Spanner driver.")}async hasTable(e){const t=`SELECT * FROM \`INFORMATION_SCHEMA\`.\`TABLES\` WHERE \`TABLE_CATALOG\` = '' AND \`TABLE_SCHEMA\` = '' AND \`TABLE_TYPE\` = 'BASE TABLE' AND \`TABLE_NAME\` = '${e instanceof Hk?e.name:e}'`;return!!(await this.query(t)).length}async hasColumn(e,t){const i=`SELECT * FROM \`INFORMATION_SCHEMA\`.\`COLUMNS\` WHERE \`TABLE_CATALOG\` = '' AND \`TABLE_SCHEMA\` = '' AND \`TABLE_NAME\` = '${e instanceof Hk?e.name:e}' AND \`COLUMN_NAME\` = '${t}'`;return!!(await this.query(i)).length}async createDatabase(e,t){if(t){if(await this.hasDatabase(e))return Promise.resolve()}const i=`CREATE DATABASE "${e}"`,n=`DROP DATABASE "${e}"`;await this.executeQueries(new sN(i),new sN(n))}async dropDatabase(e,t){const i=t?`DROP DATABASE IF EXISTS "${e}"`:`DROP DATABASE "${e}"`,n=`CREATE DATABASE "${e}"`;await this.executeQueries(new sN(i),new sN(n))}async createSchema(e,t){return Promise.resolve()}async dropSchema(e,t,i){return Promise.resolve()}async createTable(e,t=!1,i=!0,n=!0){if(t){if(await this.hasTable(e))return Promise.resolve()}const r=[],a=[];r.push(this.createTableSql(e,i)),a.push(this.dropTableSql(e)),i&&e.foreignKeys.forEach((t=>a.push(this.dropForeignKeySql(e,t)))),n&&e.indices.forEach((t=>{t.name||(t.name=this.connection.namingStrategy.indexName(e,t.columnNames,t.where)),r.push(this.createIndexSql(e,t)),a.push(this.dropIndexSql(e,t))}));const s=e.columns.filter((e=>e.generatedType&&e.asExpression));for(const o of s){const t=this.insertTypeormMetadataSql({table:e.name,type:MA.GENERATED_COLUMN,name:o.name,value:o.asExpression}),i=this.deleteTypeormMetadataSql({table:e.name,type:MA.GENERATED_COLUMN,name:o.name});r.push(t),a.push(i)}await this.executeQueries(r,a)}async dropTable(e,t,i=!0,n=!0){if(t){if(!(await this.hasTable(e)))return Promise.resolve()}const r=i,a=this.getTablePath(e),s=await this.getCachedTable(a),o=[],l=[];n&&s.indices.forEach((e=>{o.push(this.dropIndexSql(s,e)),l.push(this.createIndexSql(s,e))})),i&&s.foreignKeys.forEach((e=>o.push(this.dropForeignKeySql(s,e)))),o.push(this.dropTableSql(s)),l.push(this.createTableSql(s,r));const c=s.columns.filter((e=>e.generatedType&&e.asExpression));for(const d of c){const e=this.deleteTypeormMetadataSql({table:s.name,type:MA.GENERATED_COLUMN,name:d.name}),t=this.insertTypeormMetadataSql({table:s.name,type:MA.GENERATED_COLUMN,name:d.name,value:d.asExpression});o.push(e),l.push(t)}await this.executeQueries(o,l)}async createView(e){const t=[],i=[];t.push(this.createViewSql(e)),t.push(await this.insertViewDefinitionSql(e)),i.push(this.dropViewSql(e)),i.push(await this.deleteViewDefinitionSql(e)),await this.executeQueries(t,i)}async dropView(e){const t=e instanceof iN?e.name:e,i=await this.getCachedView(t),n=[],r=[];n.push(await this.deleteViewDefinitionSql(i)),n.push(this.dropViewSql(i)),r.push(await this.insertViewDefinitionSql(i)),r.push(this.createViewSql(i)),await this.executeQueries(n,r)}async renameTable(e,t){throw new YC("Rename table queries are not supported by Spanner driver.")}async addColumn(e,t){const i=e instanceof Hk?e:await this.getCachedTable(e),n=i.clone(),r=[],a=[];r.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD ${this.buildCreateColumnSql(t)}`)),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP COLUMN ${this.driver.escape(t.name)}`));const s=n.indices.find((e=>1===e.columnNames.length&&e.columnNames[0]===t.name));if(s)r.push(this.createIndexSql(i,s)),a.push(this.dropIndexSql(i,s));else if(t.isUnique){const e=new Bk({name:this.connection.namingStrategy.indexName(i,[t.name]),columnNames:[t.name],isUnique:!0});n.indices.push(e),n.uniques.push(new Fk({name:e.name,columnNames:e.columnNames})),r.push(this.createIndexSql(i,e)),a.push(this.dropIndexSql(i,e))}if(t.generatedType&&t.asExpression){const e=this.insertTypeormMetadataSql({table:i.name,type:MA.GENERATED_COLUMN,name:t.name,value:t.asExpression}),n=this.deleteTypeormMetadataSql({table:i.name,type:MA.GENERATED_COLUMN,name:t.name});r.push(e),a.push(n)}await this.executeQueries(r,a),n.addColumn(t),this.replaceCachedTable(i,n)}async addColumns(e,t){for(const i of t)await this.addColumn(e,i)}async renameColumn(e,t,i){const n=e instanceof Hk?e:await this.getCachedTable(e),r=t instanceof $k?t:n.columns.find((e=>e.name===t));if(!r)throw new YC(`Column "${t}" was not found in the "${n.name}" table.`);let a;return i instanceof $k?a=i:(a=r.clone(),a.name=i),this.changeColumn(n,r,a)}async changeColumn(e,t,i){const n=e instanceof Hk?e:await this.getCachedTable(e);let r=n.clone();const a=[],s=[],o=t instanceof $k?t:n.columns.find((e=>e.name===t));if(!o)throw new YC(`Column "${t}" was not found in the "${n.name}" table.`);if(o.name!==i.name||o.type!==i.type||o.length!==i.length||o.isArray!==i.isArray||o.generatedType!==i.generatedType||o.asExpression!==i.asExpression)await this.dropColumn(n,o),await this.addColumn(n,i),r=n.clone();else if(i.precision===o.precision&&i.scale===o.scale||(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" TYPE ${this.driver.createFullType(i)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${i.name}" TYPE ${this.driver.createFullType(o)}`))),o.isNullable!==i.isNullable&&(i.isNullable?(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${o.name}" DROP NOT NULL`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${o.name}" SET NOT NULL`))):(a.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${o.name}" SET NOT NULL`)),s.push(new sN(`ALTER TABLE ${this.escapePath(n)} ALTER COLUMN "${o.name}" DROP NOT NULL`)))),i.isUnique!==o.isUnique)if(!0===i.isUnique){const e=new Bk({name:this.connection.namingStrategy.indexName(n,[i.name]),columnNames:[i.name],isUnique:!0});r.indices.push(e),r.uniques.push(new Fk({name:e.name,columnNames:e.columnNames})),a.push(this.createIndexSql(n,e)),s.push(this.dropIndexSql(n,e))}else{const e=r.indices.find((e=>1===e.columnNames.length&&!0===e.isUnique&&!!e.columnNames.find((e=>e===i.name))));r.indices.splice(r.indices.indexOf(e),1);const t=r.uniques.find((t=>t.name===e.name));r.uniques.splice(r.uniques.indexOf(t),1),a.push(this.dropIndexSql(n,e)),s.push(this.createIndexSql(n,e))}await this.executeQueries(a,s),this.replaceCachedTable(n,r)}async changeColumns(e,t){for(const{oldColumn:i,newColumn:n}of t)await this.changeColumn(e,i,n)}async dropColumn(e,t){const i=e instanceof Hk?e:await this.getCachedTable(e),n=t instanceof $k?t:i.findColumnByName(t);if(!n)throw new YC(`Column "${t}" was not found in table "${i.name}"`);const r=i.clone(),a=[],s=[],o=r.indices.find((e=>1===e.columnNames.length&&e.columnNames[0]===n.name));o&&(r.indices.splice(r.indices.indexOf(o),1),a.push(this.dropIndexSql(i,o)),s.push(this.createIndexSql(i,o)));const l=r.checks.find((e=>!!e.columnNames&&1===e.columnNames.length&&e.columnNames[0]===n.name));if(l&&(r.checks.splice(r.checks.indexOf(l),1),a.push(this.dropCheckConstraintSql(i,l)),s.push(this.createCheckConstraintSql(i,l))),a.push(new sN(`ALTER TABLE ${this.escapePath(i)} DROP COLUMN ${this.driver.escape(n.name)}`)),s.push(new sN(`ALTER TABLE ${this.escapePath(i)} ADD ${this.buildCreateColumnSql(n)}`)),n.generatedType&&n.asExpression){const e=this.deleteTypeormMetadataSql({table:i.name,type:MA.GENERATED_COLUMN,name:n.name}),t=this.insertTypeormMetadataSql({table:i.name,type:MA.GENERATED_COLUMN,name:n.name,value:n.asExpression});a.push(e),s.push(t)}await this.executeQueries(a,s),r.removeColumn(n),this.replaceCachedTable(i,r)}async dropColumns(e,t){for(const i of t)await this.dropColumn(e,i)}async createPrimaryKey(e,t){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async updatePrimaryKeys(e,t){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async dropPrimaryKey(e){throw new Error("The keys of a table can't change; you can't add a key column to an existing table or remove a key column from an existing table.")}async createUniqueConstraint(e,t){throw new YC("Spanner does not support unique constraints. Use unique index instead.")}async createUniqueConstraints(e,t){throw new YC("Spanner does not support unique constraints. Use unique index instead.")}async dropUniqueConstraint(e,t){throw new YC("Spanner does not support unique constraints. Use unique index instead.")}async dropUniqueConstraints(e,t){throw new YC("Spanner does not support unique constraints. Use unique index instead.")}async createCheckConstraint(e,t){const i=e instanceof Hk?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.checkConstraintName(i,t.expression));const n=this.createCheckConstraintSql(i,t),r=this.dropCheckConstraintSql(i,t);await this.executeQueries(n,r),i.addCheckConstraint(t)}async createCheckConstraints(e,t){const i=t.map((t=>this.createCheckConstraint(e,t)));await Promise.all(i)}async dropCheckConstraint(e,t){const i=e instanceof Hk?e:await this.getCachedTable(e),n=t instanceof zk?t:i.checks.find((e=>e.name===t));if(!n)throw new YC(`Supplied check constraint was not found in table ${i.name}`);const r=this.dropCheckConstraintSql(i,n),a=this.createCheckConstraintSql(i,n);await this.executeQueries(r,a),i.removeCheckConstraint(n)}async dropCheckConstraints(e,t){const i=t.map((t=>this.dropCheckConstraint(e,t)));await Promise.all(i)}async createExclusionConstraint(e,t){throw new YC("Spanner does not support exclusion constraints.")}async createExclusionConstraints(e,t){throw new YC("Spanner does not support exclusion constraints.")}async dropExclusionConstraint(e,t){throw new YC("Spanner does not support exclusion constraints.")}async dropExclusionConstraints(e,t){throw new YC("Spanner does not support exclusion constraints.")}async createForeignKey(e,t){const i=e instanceof Hk?e:await this.getCachedTable(e);t.name||(t.name=this.connection.namingStrategy.foreignKeyName(i,t.columnNames,this.getTablePath(t),t.referencedColumnNames));const n=this.createForeignKeySql(i,t),r=this.dropForeignKeySql(i,t);await this.executeQueries(n,r),i.addForeignKey(t)}async createForeignKeys(e,t){for(const i of t)await this.createForeignKey(e,i)}async dropForeignKey(e,t){const i=e instanceof Hk?e:await this.getCachedTable(e),n=t instanceof qk?t:i.foreignKeys.find((e=>e.name===t));if(!n)throw new YC(`Supplied foreign key was not found in table ${i.name}`);const r=this.dropForeignKeySql(i,n),a=this.createForeignKeySql(i,n);await this.executeQueries(r,a),i.removeForeignKey(n)}async dropForeignKeys(e,t){for(const i of t)await this.dropForeignKey(e,i)}async createIndex(e,t){const i=e instanceof Hk?e:await this.getCachedTable(e);t.name||(t.name=this.generateIndexName(i,t));const n=this.createIndexSql(i,t),r=this.dropIndexSql(i,t);await this.executeQueries(n,r),i.addIndex(t)}async createIndices(e,t){for(const i of t)await this.createIndex(e,i)}async dropIndex(e,t){const i=e instanceof Hk?e:await this.getCachedTable(e),n=t instanceof Bk?t:i.indices.find((e=>e.name===t));if(!n)throw new YC(`Supplied index ${t} was not found in table ${i.name}`);n.name||(n.name=this.generateIndexName(i,n));const r=this.dropIndexSql(i,n),a=this.createIndexSql(i,n);await this.executeQueries(r,a),i.removeIndex(n)}async dropIndices(e,t){for(const i of t)await this.dropIndex(e,i)}async clearTable(e){await this.query(`DELETE FROM ${this.escapePath(e)} WHERE true`)}async clearDatabase(){const e=await this.query("SELECT concat('DROP INDEX `', INDEX_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`INDEXES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `INDEX_TYPE` = 'INDEX' AND `SPANNER_IS_MANAGED` = false"),t=await this.query("SELECT concat('ALTER TABLE `', TABLE_NAME, '`', ' DROP CONSTRAINT `', CONSTRAINT_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLE_CONSTRAINTS` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `CONSTRAINT_TYPE` = 'FOREIGN KEY'"),i=await this.query("SELECT concat('DROP TABLE `', TABLE_NAME, '`') AS `query` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE'");if(!e.length&&!t.length&&!i.length)return;const n=this.isTransactionActive;n||await this.startTransaction();try{for(let t of e)await this.updateDDL(t.query);for(let e of t)await this.updateDDL(e.query);for(let e of i)await this.updateDDL(e.query);await this.commitTransaction()}catch(r){try{n||await this.rollbackTransaction()}catch(a){}throw r}}async executeMemoryUpSql(){for(const{query:e,parameters:t}of this.sqlInMemory.upQueries)this.isDMLQuery(e)?await this.query(e,t):await this.updateDDL(e,t)}async executeMemoryDownSql(){for(const{query:e,parameters:t}of this.sqlInMemory.downQueries.reverse())this.isDMLQuery(e)?await this.query(e,t):await this.updateDDL(e,t)}async loadViews(e){return Promise.resolve([])}async loadTables(e){if(e&&0===e.length)return[];const t=[];if(e&&e.length){const i=`SELECT \`TABLE_NAME\` FROM \`INFORMATION_SCHEMA\`.\`TABLES\` WHERE \`TABLE_CATALOG\` = '' AND \`TABLE_SCHEMA\` = '' AND \`TABLE_TYPE\` = 'BASE TABLE' AND \`TABLE_NAME\` IN (${e.map((e=>`'${e}'`)).join(", ")})`;t.push(...await this.query(i))}else{const e="SELECT `TABLE_NAME` FROM `INFORMATION_SCHEMA`.`TABLES` WHERE `TABLE_CATALOG` = '' AND `TABLE_SCHEMA` = '' AND `TABLE_TYPE` = 'BASE TABLE'";t.push(...await this.query(e))}if(!t.length)return[];const i=t.map((e=>`'${e.TABLE_NAME}'`)).join(", "),n=`SELECT * FROM \`INFORMATION_SCHEMA\`.\`COLUMNS\` WHERE \`TABLE_CATALOG\` = '' AND \`TABLE_SCHEMA\` = '' AND \`TABLE_NAME\` IN (${i})`,r=`SELECT \`KCU\`.\`TABLE_NAME\`, \`KCU\`.\`COLUMN_NAME\` FROM \`INFORMATION_SCHEMA\`.\`TABLE_CONSTRAINTS\` \`TC\` INNER JOIN \`INFORMATION_SCHEMA\`.\`KEY_COLUMN_USAGE\` \`KCU\` ON \`KCU\`.\`CONSTRAINT_NAME\` = \`TC\`.\`CONSTRAINT_NAME\` WHERE \`TC\`.\`TABLE_CATALOG\` = '' AND \`TC\`.\`TABLE_SCHEMA\` = '' AND \`TC\`.\`CONSTRAINT_TYPE\` = 'PRIMARY KEY' AND \`TC\`.\`TABLE_NAME\` IN (${i})`,a=`SELECT \`I\`.\`TABLE_NAME\`, \`I\`.\`INDEX_NAME\`, \`I\`.\`IS_UNIQUE\`, \`I\`.\`IS_NULL_FILTERED\`, \`IC\`.\`COLUMN_NAME\` FROM \`INFORMATION_SCHEMA\`.\`INDEXES\` \`I\` INNER JOIN \`INFORMATION_SCHEMA\`.\`INDEX_COLUMNS\` \`IC\` ON \`IC\`.\`INDEX_NAME\` = \`I\`.\`INDEX_NAME\` AND \`IC\`.\`TABLE_NAME\` = \`I\`.\`TABLE_NAME\` WHERE \`I\`.\`TABLE_CATALOG\` = '' AND \`I\`.\`TABLE_SCHEMA\` = '' AND \`I\`.\`TABLE_NAME\` IN (${i}) AND \`I\`.\`INDEX_TYPE\` = 'INDEX' AND \`I\`.\`SPANNER_IS_MANAGED\` = false`,s=`SELECT \`TC\`.\`TABLE_NAME\`, \`TC\`.\`CONSTRAINT_NAME\`, \`CC\`.\`CHECK_CLAUSE\`, \`CCU\`.\`COLUMN_NAME\`FROM \`INFORMATION_SCHEMA\`.\`TABLE_CONSTRAINTS\` \`TC\` INNER JOIN \`INFORMATION_SCHEMA\`.\`CONSTRAINT_COLUMN_USAGE\` \`CCU\` ON \`CCU\`.\`CONSTRAINT_NAME\` = \`TC\`.\`CONSTRAINT_NAME\` INNER JOIN \`INFORMATION_SCHEMA\`.\`CHECK_CONSTRAINTS\` \`CC\` ON \`CC\`.\`CONSTRAINT_NAME\` = \`TC\`.\`CONSTRAINT_NAME\` WHERE \`TC\`.\`TABLE_CATALOG\` = '' AND \`TC\`.\`TABLE_SCHEMA\` = '' AND \`TC\`.\`CONSTRAINT_TYPE\` = 'CHECK' AND \`TC\`.\`TABLE_NAME\` IN (${i}) AND \`TC\`.\`CONSTRAINT_NAME\` NOT LIKE 'CK_IS_NOT_NULL%'`,o=`SELECT \`TC\`.\`TABLE_NAME\`, \`TC\`.\`CONSTRAINT_NAME\`, \`KCU\`.\`COLUMN_NAME\`, \`CTU\`.\`TABLE_NAME\` AS \`REFERENCED_TABLE_NAME\`, \`CCU\`.\`COLUMN_NAME\` AS \`REFERENCED_COLUMN_NAME\`, \`RC\`.\`UPDATE_RULE\`, \`RC\`.\`DELETE_RULE\` FROM \`INFORMATION_SCHEMA\`.\`TABLE_CONSTRAINTS\` \`TC\` INNER JOIN \`INFORMATION_SCHEMA\`.\`KEY_COLUMN_USAGE\` \`KCU\` ON \`KCU\`.\`CONSTRAINT_NAME\` = \`TC\`.\`CONSTRAINT_NAME\` INNER JOIN \`INFORMATION_SCHEMA\`.\`CONSTRAINT_TABLE_USAGE\` \`CTU\` ON \`CTU\`.\`CONSTRAINT_NAME\` = \`TC\`.\`CONSTRAINT_NAME\` INNER JOIN \`INFORMATION_SCHEMA\`.\`REFERENTIAL_CONSTRAINTS\` \`RC\` ON \`RC\`.\`CONSTRAINT_NAME\` = \`TC\`.\`CONSTRAINT_NAME\` INNER JOIN \`INFORMATION_SCHEMA\`.\`CONSTRAINT_COLUMN_USAGE\` \`CCU\` ON \`CCU\`.\`CONSTRAINT_NAME\` = \`TC\`.\`CONSTRAINT_NAME\` WHERE \`TC\`.\`TABLE_CATALOG\` = '' AND \`TC\`.\`TABLE_SCHEMA\` = '' AND \`TC\`.\`CONSTRAINT_TYPE\` = 'FOREIGN KEY' AND \`TC\`.\`TABLE_NAME\` IN (${i})`,[l,c,d,u,h]=await Promise.all([this.query(n),this.query(r),this.query(a),this.query(s),this.query(o)]);return Promise.all(t.map((async e=>{const t=new Hk;t.name=this.driver.buildTableName(e.TABLE_NAME),t.columns=await Promise.all(l.filter((t=>t.TABLE_NAME===e.TABLE_NAME)).map((async i=>{const n=d.filter((t=>t.TABLE_NAME===e.TABLE_NAME&&t.COLUMN_NAME===i.COLUMN_NAME&&!0===t.IS_UNIQUE)),r=this.connection.entityMetadatas.find((e=>this.getTablePath(t)===this.getTablePath(e))),a=n.length>0&&r&&r.indices.some((e=>n.some((t=>e.name===t.INDEX_NAME&&!1===e.synchronize)))),s=n.every((e=>d.some((t=>t.INDEX_NAME===e.INDEX_NAME&&t.COLUMN_NAME!==i.COLUMN_NAME)))),o=new $k;o.name=i.COLUMN_NAME;let l=i.SPANNER_TYPE.toLowerCase();if(-1!==l.indexOf("array")&&(o.isArray=!0,l=l.substring(l.indexOf("<")+1,l.indexOf(">"))),-1!==l.indexOf("(")?o.type=l.substring(0,l.indexOf("(")):o.type=l,-1!==this.driver.withLengthColumnTypes.indexOf(o.type)&&(o.length=l.substring(l.indexOf("(")+1,l.indexOf(")"))),"ALWAYS"===i.IS_GENERATED){o.asExpression=i.GENERATION_EXPRESSION,o.generatedType="STORED";const t=await this.selectTypeormMetadataSql({table:e.TABLE_NAME,type:MA.GENERATED_COLUMN,name:o.name}),n=await this.query(t.query,t.parameters);n[0]&&n[0].value?o.asExpression=n[0].value:o.asExpression=""}return o.isUnique=n.length>0&&!a&&!s,o.isNullable="YES"===i.IS_NULLABLE,o.isPrimary=c.some((e=>e.TABLE_NAME===i.TABLE_NAME&&e.COLUMN_NAME===i.COLUMN_NAME)),o})));const i=h.filter((t=>t.TABLE_NAME===e.TABLE_NAME));t.foreignKeys=LA.uniq(i,(e=>e.CONSTRAINT_NAME)).map((e=>{const t=i.filter((t=>t.CONSTRAINT_NAME===e.CONSTRAINT_NAME));return new qk({name:e.CONSTRAINT_NAME,columnNames:LA.uniq(t.map((e=>e.COLUMN_NAME))),referencedDatabase:e.REFERENCED_TABLE_SCHEMA,referencedTableName:e.REFERENCED_TABLE_NAME,referencedColumnNames:LA.uniq(t.map((e=>e.REFERENCED_COLUMN_NAME))),onDelete:e.DELETE_RULE,onUpdate:e.UPDATE_RULE})}));const n=d.filter((t=>t.TABLE_NAME===e.TABLE_NAME));t.indices=LA.uniq(n,(e=>e.INDEX_NAME)).map((e=>{const i=n.filter((t=>t.INDEX_NAME===e.INDEX_NAME));return new Bk({table:t,name:e.INDEX_NAME,columnNames:i.map((e=>e.COLUMN_NAME)),isUnique:e.IS_UNIQUE,isNullFiltered:e.IS_NULL_FILTERED})}));const r=u.filter((t=>t.TABLE_NAME===e.TABLE_NAME));return t.checks=LA.uniq(r,(e=>e.CONSTRAINT_NAME)).map((e=>{const t=r.filter((t=>t.CONSTRAINT_NAME===e.CONSTRAINT_NAME));return new zk({name:e.CONSTRAINT_NAME,columnNames:t.map((e=>e.COLUMN_NAME)),expression:e.CHECK_CLAUSE})})),t})))}createTableSql(e,t){const i=e.columns.map((e=>this.buildCreateColumnSql(e))).join(", ");let n=`CREATE TABLE ${this.escapePath(e)} (${i}`;if(e.columns.filter((e=>e.isUnique)).forEach((t=>{const i=e.indices.some((e=>1===e.columnNames.length&&!!e.isUnique&&-1!==e.columnNames.indexOf(t.name))),n=e.uniques.some((e=>1===e.columnNames.length&&-1!==e.columnNames.indexOf(t.name)));i||n||e.indices.push(new Bk({name:this.connection.namingStrategy.uniqueConstraintName(e,[t.name]),columnNames:[t.name],isUnique:!0}))})),e.uniques.length>0&&e.uniques.forEach((t=>{e.indices.some((e=>e.name===t.name))||e.indices.push(new Bk({name:t.name,columnNames:t.columnNames,isUnique:!0}))})),e.checks.length>0){n+=`, ${e.checks.map((t=>`CONSTRAINT \`${t.name?t.name:this.connection.namingStrategy.checkConstraintName(e,t.expression)}\` CHECK (${t.expression})`)).join(", ")}`}if(e.foreignKeys.length>0&&t){const t=e.foreignKeys.map((t=>{const i=t.columnNames.map((e=>`\`${e}\``)).join(", ");t.name||(t.name=this.connection.namingStrategy.foreignKeyName(e,t.columnNames,this.getTablePath(t),t.referencedColumnNames));const n=t.referencedColumnNames.map((e=>`\`${e}\``)).join(", ");return`CONSTRAINT \`${t.name}\` FOREIGN KEY (${i}) REFERENCES ${this.escapePath(this.getTablePath(t))} (${n})`})).join(", ");n+=`, ${t}`}n+=")";const r=e.columns.filter((e=>e.isPrimary));if(r.length>0){n+=` PRIMARY KEY (${r.map((e=>this.driver.escape(e.name))).join(", ")})`}return new sN(n)}dropTableSql(e){return new sN(`DROP TABLE ${this.escapePath(e)}`)}createViewSql(e){const t=e.materialized?"MATERIALIZED ":"",i=this.escapePath(e),n="string"==typeof e.expression?e.expression:e.expression(this.connection).getQuery();return new sN(`CREATE ${t}VIEW ${i} SQL SECURITY INVOKER AS ${n}`)}async insertViewDefinitionSql(e){let{schema:t,tableName:i}=this.driver.parseTableName(e);const n=e.materialized?MA.MATERIALIZED_VIEW:MA.VIEW,r="string"==typeof e.expression?e.expression.trim():e.expression(this.connection).getQuery();return this.insertTypeormMetadataSql({type:n,schema:t,name:i,value:r})}dropViewSql(e){const t=e.materialized?"MATERIALIZED ":"";return new sN(`DROP ${t}VIEW ${this.escapePath(e)}`)}async deleteViewDefinitionSql(e){let{schema:t,tableName:i}=this.driver.parseTableName(e);const n=e.materialized?MA.MATERIALIZED_VIEW:MA.VIEW;return this.deleteTypeormMetadataSql({type:n,schema:t,name:i})}createIndexSql(e,t){const i=t.columnNames.map((e=>this.driver.escape(e))).join(", ");let n="";return t.isUnique&&(n+="UNIQUE "),t.isNullFiltered&&(n+="NULL_FILTERED "),new sN(`CREATE ${n}INDEX \`${t.name}\` ON ${this.escapePath(e)} (${i})`)}dropIndexSql(e,t){let i=t instanceof Bk?t.name:t;return new sN(`DROP INDEX \`${i}\``)}createCheckConstraintSql(e,t){return new sN(`ALTER TABLE ${this.escapePath(e)} ADD CONSTRAINT \`${t.name}\` CHECK (${t.expression})`)}dropCheckConstraintSql(e,t){const i=t instanceof zk?t.name:t;return new sN(`ALTER TABLE ${this.escapePath(e)} DROP CONSTRAINT \`${i}\``)}createForeignKeySql(e,t){const i=t.columnNames.map((e=>this.driver.escape(e))).join(", "),n=t.referencedColumnNames.map((e=>this.driver.escape(e))).join(",");let r=`ALTER TABLE ${this.escapePath(e)} ADD CONSTRAINT \`${t.name}\` FOREIGN KEY (${i}) REFERENCES ${this.escapePath(this.getTablePath(t))} (${n})`;return new sN(r)}dropForeignKeySql(e,t){const i=t instanceof qk?t.name:t;return new sN(`ALTER TABLE ${this.escapePath(e)} DROP CONSTRAINT \`${i}\``)}escapePath(e){const{tableName:t}=this.driver.parseTableName(e);return`\`${t}\``}buildCreateColumnSql(e){let t=`${this.driver.escape(e.name)} ${this.connection.driver.createFullType(e)}`;return"STORED"===e.generatedType&&e.asExpression?t+=` AS (${e.asExpression}) STORED`:e.isNullable||(t+=" NOT NULL"),t}async executeQueries(e,t){if(e instanceof sN&&(e=[e]),t instanceof sN&&(t=[t]),this.sqlInMemory.upQueries.push(...e),this.sqlInMemory.downQueries.push(...t),!0===this.sqlMemoryMode)return Promise.resolve();for(const{query:i,parameters:n}of e)this.isDMLQuery(i)?await this.query(i,n):await this.updateDDL(i,n)}isDMLQuery(e){return e.startsWith("INSERT")||e.startsWith("UPDATE")||e.startsWith("DELETE")}}class PN{constructor(e){this.isReplicated=!1,this.treeSupport=!0,this.transactionSupport="none",this.supportedDataTypes=["bool","int64","float64","numeric","string","json","bytes","date","timestamp","array"],this.supportedUpsertTypes=[],this.spatialTypes=[],this.withLengthColumnTypes=["string","bytes"],this.withWidthColumnTypes=[],this.withPrecisionColumnTypes=[],this.withScaleColumnTypes=[],this.mappedDataTypes={createDate:"timestamp",createDateDefault:"",updateDate:"timestamp",updateDateDefault:"",deleteDate:"timestamp",deleteDateNullable:!0,version:"int64",treeLevel:"int64",migrationId:"int64",migrationName:"string",migrationTimestamp:"int64",cacheId:"string",cacheIdentifier:"string",cacheTime:"int64",cacheDuration:"int64",cacheQuery:"string",cacheResult:"string",metadataType:"string",metadataDatabase:"string",metadataSchema:"string",metadataTable:"string",metadataName:"string",metadataValue:"string"},this.dataTypeDefaults={},this.maxAliasLength=63,this.cteCapabilities={enabled:!0},this._isReturningSqlSupported={delete:!1,insert:!1,update:!1},this.connection=e,this.options=e.options,this.isReplicated=!!this.options.replication,this.loadDependencies()}async connect(){this.instance=this.spanner.instance(this.options.instanceId),this.instanceDatabase=this.instance.database(this.options.databaseId)}afterConnect(){return Promise.resolve()}async disconnect(){this.instanceDatabase.close()}createSchemaBuilder(){return new rN(this.connection)}createQueryRunner(e){return new MN(this,e)}escapeQueryWithParameters(e,t,i){const n=Object.keys(i).map((e=>i[e]));return t&&Object.keys(t).length?(e=e.replace(/:(\.\.\.)?([A-Za-z0-9_.]+)/g,((e,i,r)=>{if(!t.hasOwnProperty(r))return e;let a=t[r];return null===a?e:i?a.map((e=>(n.push(e),this.createParameter(r,n.length-1)))).join(", "):a instanceof Function?a():(n.push(a),this.createParameter(r,n.length-1))})),[e=e.replace(/([ ]+)?=([ ]+)?:(\.\.\.)?([A-Za-z0-9_.]+)/g,((e,i,n,r,a)=>{if(!t.hasOwnProperty(a))return e;return null===t[a]?" IS NULL":e})),n]):[e,n]}escape(e){return`\`${e}\``}buildTableName(e,t,i){let n=[e];return i&&n.unshift(i),n.join(".")}parseTableName(e){const t=this.database,i=void 0;if(e instanceof Hk||e instanceof iN){const n=this.parseTableName(e.name);return{database:e.database||n.database||t,schema:e.schema||n.schema||i,tableName:n.tableName}}if(e instanceof qk){const n=this.parseTableName(e.referencedTableName);return{database:e.referencedDatabase||n.database||t,schema:e.referencedSchema||n.schema||i,tableName:n.tableName}}if(e instanceof FA)return{database:e.database||t,schema:e.schema||i,tableName:e.tableName};const n=e.split(".");return{database:(n.length>1?n[0]:void 0)||t,schema:i,tableName:n.length>1?n[1]:n[0]}}preparePersistentValue(e,t){if(t.transformer&&(e=DA.transformTo(t.transformer,e)),null==e)return e;if("numeric"===t.type){return(this.options.driver||gS.load("spanner")).Spanner.numeric(e)}return"date"===t.type?RA.mixedDateToDateString(e):"json"===t.type?e:"timestamp"===t.type||t.type===Date?RA.mixedDateToDate(e):e}prepareHydratedValue(e,t){return null==e?t.transformer?DA.transformFrom(t.transformer,e):e:(t.type===Boolean||"bool"===t.type?e=!!e:"timestamp"===t.type||t.type===Date?e=new Date(e):"numeric"===t.type?e=e.value:"date"===t.type?e=RA.mixedDateToDateString(e):"json"===t.type?e="string"==typeof e?JSON.parse(e):e:t.type===Number&&(e=isNaN(+e)?e:parseInt(e)),t.transformer&&(e=DA.transformFrom(t.transformer,e)),e)}normalizeType(e){return e.type===Number?"int64":e.type===String||"uuid"===e.type?"string":e.type===Date?"timestamp":e.type===Buffer?"bytes":e.type===Boolean?"bool":e.type||""}normalizeDefault(e){return""===e.default?`"${e.default}"`:`${e.default}`}normalizeIsUnique(e){return e.entityMetadata.indices.some((t=>t.isUnique&&1===t.columns.length&&t.columns[0]===e))}getColumnLength(e){if(e.length)return e.length.toString();if("uuid"===e.generationStrategy)return"36";switch(e.type){case String:case"string":case"bytes":return"max";default:return""}}createFullType(e){let t=e.type;return this.getColumnLength(e)?t+=`(${this.getColumnLength(e)})`:e.width?t+=`(${e.width})`:null!==e.precision&&void 0!==e.precision&&null!==e.scale&&void 0!==e.scale?t+=`(${e.precision},${e.scale})`:null!==e.precision&&void 0!==e.precision&&(t+=`(${e.precision})`),e.isArray&&(t=`array<${t}>`),t}obtainMasterConnection(){return this.instanceDatabase}obtainSlaveConnection(){return this.instanceDatabase}createGeneratedMap(e,t,i){if(!t)return;if(void 0===t.insertId)return Object.keys(t).reduce(((i,n)=>{const r=e.findColumnWithDatabaseName(n);return r&&LA.mergeDeep(i,r.createValueMap(t[n])),i}),{});const n=e.generatedColumns.reduce(((e,n)=>{let r;return"increment"===n.generationStrategy&&t.insertId&&(r=t.insertId+i),LA.mergeDeep(e,n.createValueMap(r))}),{});return Object.keys(n).length>0?n:void 0}findChangedColumns(e,t){return t.filter((t=>{const i=e.find((e=>e.name===t.databaseName));if(!i)return!1;return i.name!==t.databaseName||i.type!==this.normalizeType(t)||i.length!==this.getColumnLength(t)||i.asExpression!==t.asExpression||i.generatedType!==t.generatedType||i.isPrimary!==t.isPrimary||!this.compareNullableValues(t,i)||i.isUnique!==this.normalizeIsUnique(t)}))}isReturningSqlSupported(e){return this._isReturningSqlSupported[e]}isUUIDGenerationSupported(){return!1}isFullTextColumnTypeSupported(){return!1}createParameter(e,t){return"@param"+t}loadDependencies(){try{const e=this.options.driver||gS.load("spanner");this.spanner=new e.Spanner({projectId:this.options.projectId})}catch(E_){throw console.error(E_),new Tk("Spanner","@google-cloud/spanner")}}compareNullableValues(e,t){return!!e.generatedType||e.isNullable===t.isNullable}compareDefaultValues(e,t){return"string"==typeof e&&"string"==typeof t&&(e=e.replace(/^'+|'+$/g,""),t=t.replace(/^'+|'+$/g,"")),e===t}normalizeDatetimeFunction(e){if(!e)return e;if(-1!==e.toUpperCase().indexOf("CURRENT_TIMESTAMP")||-1!==e.toUpperCase().indexOf("NOW")){const t=e.match(/\(\d+\)/);return t?`CURRENT_TIMESTAMP${t[0]}`:"CURRENT_TIMESTAMP"}return e}escapeComment(e){return e?e=e.replace(/\u0000/g,""):e}}class IN{create(e){const{type:t}=e.options;switch(t){case"mysql":case"mariadb":return new lA(e);case"postgres":return new rA(e);case"cockroachdb":return new aA(e);case"sap":return new oA(e);case"sqlite":return new dA(e);case"better-sqlite3":return new uA(e);case"cordova":return new pN(e);case"nativescript":return new yN(e);case"react-native":return new fN(e);case"sqljs":return new vN(e);case"oracle":return new cA(e);case"mssql":return new sA(e);case"mongodb":return new tA(e);case"expo":return new TN(e);case"aurora-mysql":return new EN(e);case"aurora-postgres":return new AN(e);case"capacitor":return new ON(e);case"spanner":return new PN(e);default:throw new wk(t,["aurora-mysql","aurora-postgres","better-sqlite3","capacitor","cockroachdb","cordova","expo","mariadb","mongodb","mssql","mysql","nativescript","oracle","postgres","react-native","sap","sqlite","sqljs","spanner"])}}}const RN=new class{constructor(){this.instances=[]}get(e){let t=this.instances.find((t=>t.type===e));return t||(t={type:e,object:new e},this.instances.push(t)),t.object}};function LN(e){return RN.get(e)}class DN{constructor(e){this["@instanceof"]=Symbol.for("ColumnMetadata"),this.length="",this.isPrimary=!1,this.isGenerated=!1,this.isNullable=!1,this.isSelect=!0,this.isInsert=!0,this.isUpdate=!0,this.zerofill=!1,this.unsigned=!1,this.isArray=!1,this.isVirtual=!1,this.isVirtualProperty=!1,this.isDiscriminator=!1,this.isTreeLevel=!1,this.isCreateDate=!1,this.isUpdateDate=!1,this.isDeleteDate=!1,this.isVersion=!1,this.isObjectId=!1,this.isNestedSetLeft=!1,this.isNestedSetRight=!1,this.isMaterializedPath=!1,this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.referencedColumn=e.referencedColumn,e.args.target&&(this.target=e.args.target),e.args.propertyName&&(this.propertyName=e.args.propertyName),e.args.options.name&&(this.givenDatabaseName=e.args.options.name),e.args.options.type&&(this.type=e.args.options.type),e.args.options.length&&(this.length=e.args.options.length?e.args.options.length.toString():""),e.args.options.width&&(this.width=e.args.options.width),e.args.options.charset&&(this.charset=e.args.options.charset),e.args.options.collation&&(this.collation=e.args.options.collation),e.args.options.primary&&(this.isPrimary=e.args.options.primary),null===e.args.options.default&&(this.isNullable=!0),void 0!==e.args.options.nullable&&(this.isNullable=e.args.options.nullable),void 0!==e.args.options.select&&(this.isSelect=e.args.options.select),void 0!==e.args.options.insert&&(this.isInsert=e.args.options.insert),void 0!==e.args.options.update&&(this.isUpdate=e.args.options.update),void 0!==e.args.options.readonly&&(this.isUpdate=!e.args.options.readonly),e.args.options.comment&&(this.comment=e.args.options.comment),void 0!==e.args.options.default&&(this.default=e.args.options.default),e.args.options.onUpdate&&(this.onUpdate=e.args.options.onUpdate),e.args.options.generatedIdentity&&(this.generatedIdentity=e.args.options.generatedIdentity),null!==e.args.options.scale&&void 0!==e.args.options.scale&&(this.scale=e.args.options.scale),e.args.options.zerofill&&(this.zerofill=e.args.options.zerofill,this.unsigned=!0),e.args.options.unsigned&&(this.unsigned=e.args.options.unsigned),null!==e.args.options.precision&&(this.precision=e.args.options.precision),e.args.options.enum&&(sk.isObject(e.args.options.enum)&&!Array.isArray(e.args.options.enum)?this.enum=Object.keys(e.args.options.enum).filter((t=>isNaN(+t)&&"function"!=typeof e.args.options.enum[t])).map((t=>e.args.options.enum[t])):this.enum=e.args.options.enum),e.args.options.enumName&&(this.enumName=e.args.options.enumName),e.args.options.primaryKeyConstraintName&&(this.primaryKeyConstraintName=e.args.options.primaryKeyConstraintName),e.args.options.foreignKeyConstraintName&&(this.foreignKeyConstraintName=e.args.options.foreignKeyConstraintName),e.args.options.asExpression&&(this.asExpression=e.args.options.asExpression,this.generatedType=e.args.options.generatedType?e.args.options.generatedType:"VIRTUAL"),e.args.options.hstoreType&&(this.hstoreType=e.args.options.hstoreType),e.args.options.array&&(this.isArray=e.args.options.array),e.args.mode&&(this.isVirtualProperty="virtual-property"===e.args.mode,this.isVirtual="virtual"===e.args.mode,this.isTreeLevel="treeLevel"===e.args.mode,this.isCreateDate="createDate"===e.args.mode,this.isUpdateDate="updateDate"===e.args.mode,this.isDeleteDate="deleteDate"===e.args.mode,this.isVersion="version"===e.args.mode,this.isObjectId="objectId"===e.args.mode),this.isVirtualProperty&&(this.isInsert=!1,this.isUpdate=!1),e.args.options.transformer&&(this.transformer=e.args.options.transformer),e.args.options.spatialFeatureType&&(this.spatialFeatureType=e.args.options.spatialFeatureType),void 0!==e.args.options.srid&&(this.srid=e.args.options.srid),e.args.options.query&&(this.query=e.args.options.query),this.isTreeLevel&&(this.type=e.connection.driver.mappedDataTypes.treeLevel),this.isCreateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.createDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.createDateDefault),void 0===this.precision&&void 0===e.args.options.precision&&e.connection.driver.mappedDataTypes.createDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.createDatePrecision)),this.isUpdateDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.updateDate),this.default||(this.default=()=>e.connection.driver.mappedDataTypes.updateDateDefault),this.onUpdate||(this.onUpdate=e.connection.driver.mappedDataTypes.updateDateDefault),void 0===this.precision&&void 0===e.args.options.precision&&e.connection.driver.mappedDataTypes.updateDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.updateDatePrecision)),this.isDeleteDate&&(this.type||(this.type=e.connection.driver.mappedDataTypes.deleteDate),this.isNullable||(this.isNullable=e.connection.driver.mappedDataTypes.deleteDateNullable),void 0===this.precision&&void 0===e.args.options.precision&&e.connection.driver.mappedDataTypes.deleteDatePrecision&&(this.precision=e.connection.driver.mappedDataTypes.deleteDatePrecision)),this.isVersion&&(this.type=e.connection.driver.mappedDataTypes.version),e.closureType&&(this.closureType=e.closureType),e.nestedSetLeft&&(this.isNestedSetLeft=e.nestedSetLeft),e.nestedSetRight&&(this.isNestedSetRight=e.nestedSetRight),e.materializedPath&&(this.isMaterializedPath=e.materializedPath)}createValueMap(e,t=!1){if(this.embeddedMetadata){const i=[...this.embeddedMetadata.parentPropertyNames],n=(i,r)=>{const a=i.shift();return a?(r[a]={},n(i,r[a]),r):("increment"!==this.generationStrategy&&"rowid"!==this.generationStrategy||"bigint"!==this.type||null===e||(e=String(e)),r[t?this.databaseName:this.propertyName]=e,r)};return n(i,{})}return"increment"!==this.generationStrategy&&"rowid"!==this.generationStrategy||"bigint"!==this.type||null===e||(e=String(e)),{[t?this.databaseName:this.propertyName]:e}}getEntityValueMap(e,t){var i;if(this.embeddedMetadata){const t=[...this.embeddedMetadata.parentPropertyNames],i=this.embeddedMetadata.isArray,n=(e,t)=>{if(void 0===t)return{};const r=e.shift();if(r){const i=n(e,t[r]);return Object.keys(i).length>0?{[r]:i}:{}}return i&&Array.isArray(t)?t.map((e=>({[this.propertyName]:e[this.propertyName]}))):void 0!==t[this.propertyName]?{[this.propertyName]:t[this.propertyName]}:{}},r=n(t,e);return Object.keys(r).length>0?r:void 0}if(this.relationMetadata&&!(null===(i=Object.getOwnPropertyDescriptor(e,this.relationMetadata.propertyName))||void 0===i?void 0:i.get)&&e[this.relationMetadata.propertyName]&&sk.isObject(e[this.relationMetadata.propertyName])){const t=this.relationMetadata.joinColumns.reduce(((t,i)=>{const n=i.referencedColumn.getEntityValueMap(e[this.relationMetadata.propertyName]);return void 0===n?t:LA.mergeDeep(t,n)}),{});return Object.keys(t).length>0?{[this.propertyName]:t}:void 0}return void 0!==e[this.propertyName]?{[this.propertyName]:e[this.propertyName]}:void 0}getEntityValue(e,t=!1){if(null==e)return;let i;if(this.embeddedMetadata){const t=[...this.embeddedMetadata.parentPropertyNames],n=this.embeddedMetadata.isArray,r=(e,t)=>{const i=e.shift();return i&&t?r(e,t[i]):t},a=r(t,e);if(a)if(this.relationMetadata&&this.referencedColumn){const e=this.relationMetadata.getEntityValue(a);i=e&&sk.isObject(e)&&!ok.isFindOperator(e)&&!Buffer.isBuffer(e)?this.referencedColumn.getEntityValue(e):!a[this.propertyName]||!sk.isObject(a[this.propertyName])||ok.isFindOperator(a[this.propertyName])||Buffer.isBuffer(a[this.propertyName])||a[this.propertyName]instanceof Date?a[this.propertyName]:this.referencedColumn.getEntityValue(a[this.propertyName])}else i=this.referencedColumn?this.referencedColumn.getEntityValue(a[this.propertyName]):n&&Array.isArray(a)?a.map((e=>e[this.propertyName])):a[this.propertyName]}else if(this.relationMetadata&&this.referencedColumn){const t=this.relationMetadata.getEntityValue(e);i=t&&sk.isObject(t)&&!ok.isFindOperator(t)&&"function"!=typeof t&&!Buffer.isBuffer(t)?this.referencedColumn.getEntityValue(t):!e[this.propertyName]||!sk.isObject(e[this.propertyName])||ok.isFindOperator(e[this.propertyName])||"function"==typeof e[this.propertyName]||Buffer.isBuffer(e[this.propertyName])||e[this.propertyName]instanceof Date?e[this.propertyName]:this.referencedColumn.getEntityValue(e[this.propertyName])}else i=this.referencedColumn?this.referencedColumn.getEntityValue(e[this.propertyName]):e[this.propertyName];return t&&this.transformer&&(i=DA.transformTo(this.transformer,i)),i}setEntityValue(e,t){if(this.embeddedMetadata){const i=(e,n)=>{const r=e.shift();return r?(n[r.propertyName]||(n[r.propertyName]=r.create()),i(e,n[r.propertyName]),n):(n[this.propertyName]=t,n)};return i([...this.embeddedMetadata.embeddedMetadataTree],e)}!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName?(this.propertyName in e||(e[this.propertyName]={}),e[this.propertyName][this.referencedColumn.propertyName]=t):e[this.propertyName]=t}compareEntityValue(e,t){const i=this.getEntityValue(e);return sk.isObject(i)?i.equals(t):i===t}build(e){return this.propertyPath=this.buildPropertyPath(),this.propertyAliasName=this.propertyPath.replace(".","_"),this.databaseName=this.buildDatabaseName(e),this.databasePath=this.buildDatabasePath(),this.databaseNameWithoutPrefixes=e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,[]),this}buildPropertyPath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.propertyName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.propertyName!==this.propertyName&&(e+="."+this.referencedColumn.propertyName),e}buildDatabasePath(){let e="";return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length&&(e=this.embeddedMetadata.parentPropertyNames.join(".")+"."),e+=this.databaseName,!this.entityMetadata.isJunction&&this.isVirtual&&this.referencedColumn&&this.referencedColumn.databaseName!==this.databaseName&&(e+="."+this.referencedColumn.databaseName),e}buildDatabaseName(e){let t=this.embeddedMetadata?this.embeddedMetadata.parentPrefixes:[];return"mongodb"===e.driver.options.type&&(t=[]),e.namingStrategy.columnName(this.propertyName,this.givenDatabaseName,t)}}class jN{constructor(e){this.isUnique=!1,this.isSpatial=!1,this.isFulltext=!1,this.isNullFiltered=!1,this.synchronize=!0,this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,null!==e.args.synchronize&&void 0!==e.args.synchronize&&(this.synchronize=e.args.synchronize),this.isUnique=!!e.args.unique,this.isSpatial=!!e.args.spatial,this.isFulltext=!!e.args.fulltext,this.isNullFiltered=!!e.args.nullFiltered,this.parser=e.args.parser,this.where=e.args.where,this.isSparse=e.args.sparse,this.isBackground=e.args.background,this.expireAfterSeconds=e.args.expireAfterSeconds,this.givenName=e.args.name,this.givenColumnNames=e.args.columns)}build(e){if(!1===this.synchronize)return this.name=this.givenName,this;const t={};if(this.givenColumnNames){let e=[];if(Array.isArray(this.givenColumnNames))e=this.givenColumnNames.map((e=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+e:e.trim())),e.forEach((e=>t[e]=1));else{const i=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(i)?(e=i.map((e=>String(e))),e.forEach((e=>t[e]=1))):(e=Object.keys(i).map((e=>String(e))),Object.keys(i).forEach((e=>t[e]=i[e])))}this.columns=e.map((e=>{const t=this.entityMetadata.columns.find((t=>t.propertyPath===e));if(t)return[t];const i=this.entityMetadata.relations.find((t=>t.isWithJoinColumn&&t.propertyName===e));if(i)return i.joinColumns;const n=this.givenName?'"'+this.givenName+'" ':"",r=this.entityMetadata.targetName;throw new YC(`Index ${n}contains column that is missing in the entity (${r}): `+e)})).reduce(((e,t)=>e.concat(t)))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce(((e,i)=>{const n=this.entityMetadata.columns.find((e=>e.propertyPath===i));return n&&(e[n.databasePath]=t[i]),e}),{}),this.name=this.givenName?this.givenName:e.indexName(this.entityMetadata.tableName,this.columns.map((e=>e.databaseName)),this.where),this}}class $N{constructor(e){this.isTreeParent=!1,this.isTreeChildren=!1,this.isPrimary=!1,this.isLazy=!1,this.isEager=!1,this.persistenceEnabled=!0,this.isCascadeInsert=!1,this.isCascadeUpdate=!1,this.isCascadeRemove=!1,this.isCascadeSoftRemove=!1,this.isCascadeRecover=!1,this.isNullable=!0,this.createForeignKeyConstraints=!0,this.isOwning=!1,this.isOneToOne=!1,this.isOneToOneOwner=!1,this.isWithJoinColumn=!1,this.isOneToOneNotOwner=!1,this.isOneToMany=!1,this.isManyToOne=!1,this.isManyToMany=!1,this.isManyToManyOwner=!1,this.isManyToManyNotOwner=!1,this.foreignKeys=[],this.joinColumns=[],this.inverseJoinColumns=[],this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata;const t=e.args;this.target=t.target,this.propertyName=t.propertyName,this.relationType=t.relationType,t.inverseSideProperty&&(this.givenInverseSidePropertyFactory=t.inverseSideProperty),this.isLazy=t.isLazy||!1,this.isCascadeInsert=!0===t.options.cascade||Array.isArray(t.options.cascade)&&-1!==t.options.cascade.indexOf("insert"),this.isCascadeUpdate=!0===t.options.cascade||Array.isArray(t.options.cascade)&&-1!==t.options.cascade.indexOf("update"),this.isCascadeRemove=!0===t.options.cascade||Array.isArray(t.options.cascade)&&-1!==t.options.cascade.indexOf("remove"),this.isCascadeSoftRemove=!0===t.options.cascade||Array.isArray(t.options.cascade)&&-1!==t.options.cascade.indexOf("soft-remove"),this.isCascadeRecover=!0===t.options.cascade||Array.isArray(t.options.cascade)&&-1!==t.options.cascade.indexOf("recover"),this.isNullable=!1!==t.options.nullable&&!this.isPrimary,this.onDelete=t.options.onDelete,this.onUpdate=t.options.onUpdate,this.deferrable=t.options.deferrable,this.createForeignKeyConstraints=!1!==t.options.createForeignKeyConstraints,this.isEager=t.options.eager||!1,this.persistenceEnabled=!1!==t.options.persistence,this.orphanedRowAction=t.options.orphanedRowAction||"nullify",this.isTreeParent=t.isTreeParent||!1,this.isTreeChildren=t.isTreeChildren||!1,"function"==typeof t.type?this.type="function"==typeof t.type?t.type():t.type:ok.isEntitySchema(t.type)?this.type=t.type.options.name:sk.isObject(t.type)&&"string"==typeof t.type.name?this.type=t.type.name:this.type=t.type,this.isOneToOne="one-to-one"===this.relationType,this.isOneToMany="one-to-many"===this.relationType,this.isManyToOne="many-to-one"===this.relationType,this.isManyToMany="many-to-many"===this.relationType,this.isOneToOneNotOwner=!!this.isOneToOne,this.isManyToManyNotOwner=!!this.isManyToMany}getRelationIdMap(e){const t=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map((e=>e.referencedColumn));return FA.getValueMap(e,t)}ensureRelationIdMap(e){if(sk.isObject(e))return e;const t=(this.isOwning?this.joinColumns:this.inverseRelation.joinColumns).map((e=>e.referencedColumn));if(t.length>1)throw new YC("Cannot create relation id map for a single value because relation contains multiple referenced columns.");return t[0].createValueMap(e)}getEntityValue(e,t=!1){if(null!=e){if(this.embeddedMetadata){const i=[...this.embeddedMetadata.parentPropertyNames],n=(e,t)=>{const i=e.shift();return i?t[i]?n(e,t[i]):void 0:t},r=n(i,e);return this.isLazy?void 0!==r["__"+this.propertyName+"__"]?r["__"+this.propertyName+"__"]:!0===t?r[this.propertyName]:void 0:r?r[this.isLazy?"__"+this.propertyName+"__":this.propertyName]:void 0}return this.isLazy?void 0!==e["__"+this.propertyName+"__"]?e["__"+this.propertyName+"__"]:!0===t?e[this.propertyName]:void 0:e[this.propertyName]}}setEntityValue(e,t){const i=this.isLazy?"__"+this.propertyName+"__":this.propertyName;if(this.embeddedMetadata){const n=(e,r)=>{const a=e.shift();return a?(r[a.propertyName]||(r[a.propertyName]=a.create()),n(e,r[a.propertyName]),r):(r[i]=t,r)};return n([...this.embeddedMetadata.embeddedMetadataTree],e)}e[i]=t}createValueMap(e){if(this.embeddedMetadata){const t=[...this.embeddedMetadata.parentPropertyNames],i=(t,n)=>{const r=t.shift();return r?(n[r]={},i(t,n[r]),n):(n[this.propertyName]=e,n)};return i(t,{})}return{[this.propertyName]:e}}build(){this.propertyPath=this.buildPropertyPath()}registerForeignKeys(...e){this.foreignKeys.push(...e)}registerJoinColumns(e=[],t=[]){this.joinColumns=e,this.inverseJoinColumns=t,this.isOwning=this.isManyToOne||(this.isManyToMany||this.isOneToOne)&&this.joinColumns.length>0,this.isOneToOneOwner=this.isOneToOne&&this.isOwning,this.isOneToOneNotOwner=this.isOneToOne&&!this.isOwning,this.isManyToManyOwner=this.isManyToMany&&this.isOwning,this.isManyToManyNotOwner=this.isManyToMany&&!this.isOwning,this.isWithJoinColumn=this.isManyToOne||this.isOneToOneOwner}registerJunctionEntityMetadata(e){this.junctionEntityMetadata=e,this.joinTableName=e.tableName,this.inverseRelation&&(this.inverseRelation.junctionEntityMetadata=e,this.joinTableName=e.tableName)}buildInverseSidePropertyPath(){if(this.givenInverseSidePropertyFactory){const e=this.inverseEntityMetadata.propertiesMap;if("function"==typeof this.givenInverseSidePropertyFactory)return this.givenInverseSidePropertyFactory(e);if("string"==typeof this.givenInverseSidePropertyFactory)return this.givenInverseSidePropertyFactory}else{if(this.isTreeParent&&this.entityMetadata.treeChildrenRelation)return this.entityMetadata.treeChildrenRelation.propertyName;if(this.isTreeChildren&&this.entityMetadata.treeParentRelation)return this.entityMetadata.treeParentRelation.propertyName}return""}buildPropertyPath(){return this.embeddedMetadata&&this.embeddedMetadata.parentPropertyNames.length?this.embeddedMetadata.parentPropertyNames.join(".")+"."+this.propertyName:this.propertyName}}class BN{constructor(e){this.columns=[],this.relations=[],this.listeners=[],this.indices=[],this.uniques=[],this.relationIds=[],this.relationCounts=[],this.embeddeds=[],this.isAlwaysUsingConstructor=!0,this.isArray=!1,this.parentPropertyNames=[],this.parentPrefixes=[],this.embeddedMetadataTree=[],this.columnsFromTree=[],this.relationsFromTree=[],this.listenersFromTree=[],this.indicesFromTree=[],this.uniquesFromTree=[],this.relationIdsFromTree=[],this.relationCountsFromTree=[],this.entityMetadata=e.entityMetadata,this.type=e.args.type(),this.propertyName=e.args.propertyName,this.customPrefix=e.args.prefix,this.isArray=e.args.isArray}create(e){return"function"!=typeof this.type?{}:(null==e?void 0:e.fromDeserializer)||!this.isAlwaysUsingConstructor?Object.create(this.type.prototype):new this.type}build(e){return this.embeddeds.forEach((t=>t.build(e))),this.prefix=this.buildPrefix(e),this.parentPropertyNames=this.buildParentPropertyNames(),this.parentPrefixes=this.buildParentPrefixes(),this.propertyPath=this.parentPropertyNames.join("."),this.embeddedMetadataTree=this.buildEmbeddedMetadataTree(),this.columnsFromTree=this.buildColumnsFromTree(),this.relationsFromTree=this.buildRelationsFromTree(),this.listenersFromTree=this.buildListenersFromTree(),this.indicesFromTree=this.buildIndicesFromTree(),this.uniquesFromTree=this.buildUniquesFromTree(),this.relationIdsFromTree=this.buildRelationIdsFromTree(),this.relationCountsFromTree=this.buildRelationCountsFromTree(),e.options.entitySkipConstructor&&(this.isAlwaysUsingConstructor=!e.options.entitySkipConstructor),this}buildPartialPrefix(){if(void 0===this.customPrefix||!0===this.customPrefix)return[this.propertyName];if(""===this.customPrefix||!1===this.customPrefix)return[];if("string"==typeof this.customPrefix)return[this.customPrefix];throw new YC(`Invalid prefix option given for ${this.entityMetadata.targetName}#${this.propertyName}`)}buildPrefix(e){if("mongodb"===e.driver.options.type)return this.propertyName;let t=[];return this.parentEmbeddedMetadata&&t.push(this.parentEmbeddedMetadata.buildPrefix(e)),t.push(...this.buildPartialPrefix()),t.join("_")}buildParentPropertyNames(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPropertyNames().concat(this.propertyName):[this.propertyName]}buildParentPrefixes(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildParentPrefixes().concat(this.buildPartialPrefix()):this.buildPartialPrefix()}buildEmbeddedMetadataTree(){return this.parentEmbeddedMetadata?this.parentEmbeddedMetadata.buildEmbeddedMetadataTree().concat(this):[this]}buildColumnsFromTree(){return this.embeddeds.reduce(((e,t)=>e.concat(t.buildColumnsFromTree())),this.columns)}buildRelationsFromTree(){return this.embeddeds.reduce(((e,t)=>e.concat(t.buildRelationsFromTree())),this.relations)}buildListenersFromTree(){return this.embeddeds.reduce(((e,t)=>e.concat(t.buildListenersFromTree())),this.listeners)}buildIndicesFromTree(){return this.embeddeds.reduce(((e,t)=>e.concat(t.buildIndicesFromTree())),this.indices)}buildUniquesFromTree(){return this.embeddeds.reduce(((e,t)=>e.concat(t.buildUniquesFromTree())),this.uniques)}buildRelationIdsFromTree(){return this.embeddeds.reduce(((e,t)=>e.concat(t.buildRelationIdsFromTree())),this.relationIds)}buildRelationCountsFromTree(){return this.embeddeds.reduce(((e,t)=>e.concat(t.buildRelationCountsFromTree())),this.relationCounts)}}class qN{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}setValue(e){const t=this.relation.getEntityValue(e);if(Array.isArray(t))e[this.propertyName]=t.map((e=>this.relation.inverseEntityMetadata.getEntityIdMixedMap(e))).filter((e=>null!=e));else{const i=this.relation.inverseEntityMetadata.getEntityIdMixedMap(t);void 0!==i&&(e[this.propertyName]=i)}}build(){const e="function"==typeof this.relationNameOrFactory?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new YC(`Cannot find relation ${e}. Wrong relation specified for @RelationId decorator.`);this.relation=t}}class UN{constructor(e){this.entityMetadata=e.entityMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.relationNameOrFactory=e.args.relation,this.alias=e.args.alias,this.queryBuilderFactory=e.args.queryBuilderFactory}build(){const e="function"==typeof this.relationNameOrFactory?this.relationNameOrFactory(this.entityMetadata.propertiesMap):this.relationNameOrFactory,t=this.entityMetadata.findRelationWithPropertyPath(e);if(!t)throw new YC(`Cannot find relation ${e}. Wrong relation specified for @RelationCount decorator.`);this.relation=t}}class FN{}FN.AFTER_LOAD="after-load",FN.BEFORE_INSERT="before-insert",FN.AFTER_INSERT="after-insert",FN.BEFORE_UPDATE="before-update",FN.AFTER_UPDATE="after-update",FN.BEFORE_REMOVE="before-remove",FN.AFTER_REMOVE="after-remove",FN.BEFORE_SOFT_REMOVE="before-soft-remove",FN.AFTER_SOFT_REMOVE="after-soft-remove",FN.BEFORE_RECOVER="before-recover",FN.AFTER_RECOVER="after-recover";class zN{constructor(e){this.columns=[],this.referencedColumns=[],this.columnNames=[],this.referencedColumnNames=[],this.entityMetadata=e.entityMetadata,this.referencedEntityMetadata=e.referencedEntityMetadata,this.columns=e.columns,this.referencedColumns=e.referencedColumns,this.onDelete=e.onDelete||"NO ACTION",this.onUpdate=e.onUpdate||"NO ACTION",this.deferrable=e.deferrable,this.givenName=e.name,e.namingStrategy&&this.build(e.namingStrategy)}build(e){this.columnNames=this.columns.map((e=>e.databaseName)),this.referencedColumnNames=this.referencedColumns.map((e=>e.databaseName)),this.referencedTablePath=this.referencedEntityMetadata.tablePath,this.name=this.givenName?this.givenName:e.foreignKeyName(this.entityMetadata.tableName,this.columnNames,this.referencedEntityMetadata.tableName,this.referencedColumnNames)}}class VN{constructor(e){this.connection=e}build(e,t){var i,n;const r=this.collectReferencedColumns(e,t),a=this.collectInverseReferencedColumns(e,t),s=t.name||this.connection.namingStrategy.joinTableName(e.entityMetadata.tableNameWithoutPrefix,e.inverseEntityMetadata.tableNameWithoutPrefix,e.propertyPath,e.inverseRelation?e.inverseRelation.propertyName:""),o=new FA({connection:this.connection,args:{target:"",name:s,type:"junction",database:t.database||e.entityMetadata.database,schema:t.schema||e.entityMetadata.schema,synchronize:t.synchronize}});o.build();const l=r.map((i=>{const n=t.joinColumns?t.joinColumns.find((e=>!(e.referencedColumnName&&e.referencedColumnName!==i.propertyName||!e.name))):void 0,r=n&&n.name?n.name:this.connection.namingStrategy.joinTableColumnName(e.entityMetadata.tableNameWithoutPrefix,i.propertyName,i.databaseName);return new DN({connection:this.connection,entityMetadata:o,referencedColumn:i,args:{target:"",mode:"virtual",propertyName:r,options:{name:r,length:i.length||!Zk.isMySQLFamily(this.connection.driver)&&"aurora-mysql"!==this.connection.driver.options.type||"uuid"===this.connection.driver.normalizeType(i)||"uuid"!==i.generationStrategy&&"uuid"!==i.type?i.length:"36",width:i.width,type:i.type,precision:i.precision,scale:i.scale,charset:i.charset,collation:i.collation,zerofill:i.zerofill,unsigned:!!i.zerofill||i.unsigned,enum:i.enum,enumName:i.enumName,foreignKeyConstraintName:null==n?void 0:n.foreignKeyConstraintName,nullable:!1,primary:!0}}})})),c=a.map((i=>{const n=t.inverseJoinColumns?t.inverseJoinColumns.find((e=>!(e.referencedColumnName&&e.referencedColumnName!==i.propertyName||!e.name))):void 0,r=n&&n.name?n.name:this.connection.namingStrategy.joinTableInverseColumnName(e.inverseEntityMetadata.tableNameWithoutPrefix,i.propertyName,i.databaseName);return new DN({connection:this.connection,entityMetadata:o,referencedColumn:i,args:{target:"",mode:"virtual",propertyName:r,options:{length:i.length||!Zk.isMySQLFamily(this.connection.driver)&&"aurora-mysql"!==this.connection.driver.options.type||"uuid"===this.connection.driver.normalizeType(i)||"uuid"!==i.generationStrategy&&"uuid"!==i.type?i.length:"36",width:i.width,type:i.type,precision:i.precision,scale:i.scale,charset:i.charset,collation:i.collation,zerofill:i.zerofill,unsigned:!!i.zerofill||i.unsigned,enum:i.enum,enumName:i.enumName,foreignKeyConstraintName:null==n?void 0:n.foreignKeyConstraintName,name:r,nullable:!1,primary:!0}}})}));return this.changeDuplicatedColumnNames(l,c),o.ownerColumns=l,o.inverseColumns=c,o.ownColumns=[...l,...c],o.ownColumns.forEach((t=>t.relationMetadata=e)),o.foreignKeys=e.createForeignKeyConstraints?[new zN({entityMetadata:o,referencedEntityMetadata:e.entityMetadata,columns:l,referencedColumns:r,name:null===(i=l[0])||void 0===i?void 0:i.foreignKeyConstraintName,onDelete:"spanner"===this.connection.driver.options.type?"NO ACTION":e.onDelete||"CASCADE",onUpdate:"oracle"===this.connection.driver.options.type||"spanner"===this.connection.driver.options.type?"NO ACTION":e.onUpdate||"CASCADE"}),new zN({entityMetadata:o,referencedEntityMetadata:e.inverseEntityMetadata,columns:c,referencedColumns:a,name:null===(n=c[0])||void 0===n?void 0:n.foreignKeyConstraintName,onDelete:"spanner"===this.connection.driver.options.type?"NO ACTION":e.inverseRelation?e.inverseRelation.onDelete:"CASCADE",onUpdate:"oracle"===this.connection.driver.options.type||"spanner"===this.connection.driver.options.type?"NO ACTION":e.inverseRelation?e.inverseRelation.onUpdate:"CASCADE"})]:[],o.ownIndices=[new jN({entityMetadata:o,columns:l,args:{target:o.target,synchronize:!0}}),new jN({entityMetadata:o,columns:c,args:{target:o.target,synchronize:!0}})],o}collectReferencedColumns(e,t){const i=!!t.joinColumns&&t.joinColumns.find((e=>!!e.referencedColumnName));return!t.joinColumns||t.joinColumns&&!i?e.entityMetadata.columns.filter((e=>e.isPrimary)):t.joinColumns.map((t=>{const i=e.entityMetadata.columns.find((e=>e.propertyName===t.referencedColumnName));if(!i)throw new YC(`Referenced column ${t.referencedColumnName} was not found in entity ${e.entityMetadata.name}`);return i}))}collectInverseReferencedColumns(e,t){const i=!!t.inverseJoinColumns,n=!!i&&t.inverseJoinColumns.find((e=>!!e.referencedColumnName));return!i||i&&!n?e.inverseEntityMetadata.primaryColumns:t.inverseJoinColumns.map((t=>{const i=e.inverseEntityMetadata.ownColumns.find((e=>e.propertyName===t.referencedColumnName));if(!i)throw new YC(`Referenced column ${t.referencedColumnName} was not found in entity ${e.inverseEntityMetadata.name}`);return i}))}changeDuplicatedColumnNames(e,t){e.forEach((e=>{t.forEach((t=>{if(e.givenDatabaseName===t.givenDatabaseName){const i=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(e.propertyName,1);e.propertyName=i,e.givenDatabaseName=i;const n=this.connection.namingStrategy.joinTableColumnDuplicationPrefix(t.propertyName,2);t.propertyName=n,t.givenDatabaseName=n}}))}))}}class HN{constructor(e){this.connection=e}build(e){const t=new FA({parentClosureEntityMetadata:e,connection:this.connection,args:{target:"",name:e.treeOptions&&e.treeOptions.closureTableName?e.treeOptions.closureTableName:e.tableNameWithoutPrefix,type:"closure-junction"}});return t.build(),e.primaryColumns.forEach((i=>{t.ownColumns.push(new DN({connection:this.connection,entityMetadata:t,closureType:"ancestor",referencedColumn:i,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.ancestorColumnName?e.treeOptions.ancestorColumnName(i):i.propertyName+"_ancestor",options:{primary:!0,length:i.length,type:i.type}}})),t.ownColumns.push(new DN({connection:this.connection,entityMetadata:t,closureType:"descendant",referencedColumn:i,args:{target:"",mode:"virtual",propertyName:e.treeOptions&&e.treeOptions.descendantColumnName?e.treeOptions.descendantColumnName(i):i.propertyName+"_descendant",options:{primary:!0,length:i.length,type:i.type}}}))})),t.ownIndices=[new jN({entityMetadata:t,columns:[t.ownColumns[0]],args:{target:t.target,synchronize:!0}}),new jN({entityMetadata:t,columns:[t.ownColumns[1]],args:{target:t.target,synchronize:!0}})],e.treeLevelColumn&&t.ownColumns.push(new DN({connection:this.connection,entityMetadata:t,args:{target:"",mode:"virtual",propertyName:"level",options:{type:this.connection.driver.mappedDataTypes.treeLevel}}})),t.foreignKeys=[new zN({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[0]],referencedColumns:e.primaryColumns,onDelete:"mssql"===this.connection.driver.options.type?"NO ACTION":"CASCADE"}),new zN({entityMetadata:t,referencedEntityMetadata:e,columns:[t.ownColumns[1]],referencedColumns:e.primaryColumns,onDelete:"mssql"===this.connection.driver.options.type?"NO ACTION":"CASCADE"})],t}}class WN{constructor(e){this.columns=[],this.columnNamesWithOrderingMap={},this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,e.columns&&(this.columns=e.columns),e.args&&(this.target=e.args.target,this.givenName=e.args.name,this.givenColumnNames=e.args.columns,this.deferrable=e.args.deferrable)}build(e){const t={};if(this.givenColumnNames){let e=[];if(Array.isArray(this.givenColumnNames))e=this.givenColumnNames.map((e=>this.embeddedMetadata?this.embeddedMetadata.propertyPath+"."+e:e.trim())),e.forEach((e=>t[e]=1));else{const i=this.givenColumnNames(this.entityMetadata.propertiesMap);Array.isArray(i)?(e=i.map((e=>String(e))),e.forEach((e=>t[e]=1))):(e=Object.keys(i).map((e=>String(e))),Object.keys(i).forEach((e=>t[e]=i[e])))}this.columns=e.map((e=>{const t=this.entityMetadata.columns.find((t=>t.propertyPath===e));if(t)return[t];const i=this.entityMetadata.relations.find((t=>t.isWithJoinColumn&&t.propertyName===e));if(i)return i.joinColumns;const n=this.givenName?'"'+this.givenName+'" ':"",r=this.entityMetadata.targetName;throw new YC(`Unique constraint ${n}contains column that is missing in the entity (${r}): `+e)})).reduce(((e,t)=>e.concat(t)))}return this.columnNamesWithOrderingMap=Object.keys(t).reduce(((e,i)=>{const n=this.entityMetadata.columns.find((e=>e.propertyPath===i));return n&&(e[n.databasePath]=t[i]),e}),{}),this.name=this.givenName?this.givenName:e.uniqueConstraintName(this.entityMetadata.tableName,this.columns.map((e=>e.databaseName))),this}}class GN{constructor(e){this.connection=e}build(e,t){var i;const n=this.collectReferencedColumns(e,t),r=this.collectColumns(e,t,n);if(!n.length||!t.createForeignKeyConstraints)return{foreignKey:void 0,columns:r,uniqueConstraint:void 0};const a=new zN({name:null===(i=e[0])||void 0===i?void 0:i.foreignKeyConstraintName,entityMetadata:t.entityMetadata,referencedEntityMetadata:t.inverseEntityMetadata,namingStrategy:this.connection.namingStrategy,columns:r,referencedColumns:n,onDelete:t.onDelete,onUpdate:t.onUpdate,deferrable:t.deferrable});if(r.every((e=>e.isPrimary))||!t.isOneToOne)return{foreignKey:a,columns:r,uniqueConstraint:void 0};const s=new WN({entityMetadata:t.entityMetadata,columns:a.columns,args:{name:this.connection.namingStrategy.relationConstraintName(t.entityMetadata.tableName,a.columns.map((e=>e.databaseName))),target:t.entityMetadata.target}});return s.build(this.connection.namingStrategy),{foreignKey:a,columns:r,uniqueConstraint:s}}collectReferencedColumns(e,t){const i=e.find((e=>!!e.referencedColumnName)),n=0===e.length&&t.isManyToOne,r=e.length>0&&!i;return n||r?t.inverseEntityMetadata.primaryColumns:e.map((e=>{const i=t.inverseEntityMetadata.ownColumns.find((t=>t.propertyName===e.referencedColumnName));if(!i)throw new YC(`Referenced column ${e.referencedColumnName} was not found in entity ${t.inverseEntityMetadata.name}`);return i}))}collectColumns(e,t,i){return i.map((i=>{const n=e.find((e=>!(e.referencedColumnName&&e.referencedColumnName!==i.propertyName||!e.name))),r=n?n.name:this.connection.namingStrategy.joinColumnName(t.propertyName,i.propertyName);let a=(t.embeddedMetadata?t.embeddedMetadata.columns:t.entityMetadata.ownColumns).find((e=>e.databaseNameWithoutPrefixes===r));return a||(a=new DN({connection:this.connection,entityMetadata:t.entityMetadata,embeddedMetadata:t.embeddedMetadata,args:{target:"",mode:"virtual",propertyName:t.propertyName,options:{name:r,type:i.type,length:i.length||!Zk.isMySQLFamily(this.connection.driver)&&"aurora-mysql"!==this.connection.driver.options.type||"uuid"===this.connection.driver.normalizeType(i)||"uuid"!==i.generationStrategy&&"uuid"!==i.type?i.length:"36",width:i.width,charset:i.charset,collation:i.collation,precision:i.precision,scale:i.scale,zerofill:i.zerofill,unsigned:i.unsigned,comment:i.comment,enum:i.enum,enumName:i.enumName,primary:t.isPrimary,nullable:t.isNullable}}}),t.entityMetadata.registerColumn(a)),a.referencedColumn=i,a.type=i.type,a.relationMetadata=t,a.build(this.connection),a}))}}class KN{constructor(e){this.entityMetadata=e.entityMetadata,this.embeddedMetadata=e.embeddedMetadata,this.target=e.args.target,this.propertyName=e.args.propertyName,this.type=e.args.type}isAllowed(e){return this.entityMetadata.target===e.constructor||"function"==typeof this.entityMetadata.target&&e.constructor.prototype instanceof this.entityMetadata.target}execute(e){if(!this.embeddedMetadata)return e[this.propertyName]();this.callEntityEmbeddedMethod(e,this.embeddedMetadata.propertyPath.split("."))}callEntityEmbeddedMethod(e,t){const i=t.shift();i&&e[i]&&(0===t.length?Array.isArray(e[i])?e[i].map((e=>e[this.propertyName]())):e[i][this.propertyName]():e[i]&&this.callEntityEmbeddedMethod(e[i],t))}}class QN{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.checkConstraintName(this.entityMetadata.tableName,this.expression),this}}class YN{constructor(e){this.entityMetadata=e.entityMetadata,e.args&&(this.target=e.args.target,this.expression=e.args.expression,this.givenName=e.args.name)}build(e){return this.name=this.givenName?this.givenName:e.exclusionConstraintName(this.entityMetadata.tableName,this.expression),this}}class XN{constructor(e,t){this.connection=e,this.metadataArgsStorage=t,this.junctionEntityMetadataBuilder=new VN(e),this.closureJunctionEntityMetadataBuilder=new HN(e),this.relationJoinColumnBuilder=new GN(e)}build(e){const t=(e?this.metadataArgsStorage.filterTables(e):this.metadataArgsStorage.tables).filter((e=>"regular"===e.type||"closure"===e.type||"entity-child"===e.type||"view"===e.type)).map((e=>this.createEntityMetadata(e)));return t.forEach((e=>this.computeParentEntityMetadata(t,e))),t.forEach((e=>{e.childEntityMetadatas=t.filter((t=>"function"==typeof e.target&&"function"==typeof t.target&&mS.isInherited(t.target,e.target)))})),t.filter((e=>"entity-child"!==e.tableType)).forEach((e=>e.build())),t.filter((e=>"entity-child"===e.tableType)).forEach((e=>e.build())),t.filter((e=>"entity-child"!==e.tableType)).forEach((e=>this.computeEntityMetadataStep1(t,e))),t.filter((e=>"entity-child"===e.tableType)).forEach((e=>this.computeEntityMetadataStep1(t,e))),t.forEach((e=>this.computeEntityMetadataStep2(e))),t.forEach((e=>this.computeInverseProperties(e,t))),t.filter((e=>"entity-child"!==e.tableType)).forEach((e=>{e.relations.filter((e=>e.isOneToOne||e.isManyToOne)).forEach((t=>{const i=this.metadataArgsStorage.filterJoinColumns(t.target,t.propertyName),{foreignKey:n,columns:r,uniqueConstraint:a}=this.relationJoinColumnBuilder.build(i,t);if(n&&(t.registerForeignKeys(n),e.foreignKeys.push(n)),r&&t.registerJoinColumns(r),a)if(Zk.isMySQLFamily(this.connection.driver)||"aurora-mysql"===this.connection.driver.options.type||"mssql"===this.connection.driver.options.type||"sap"===this.connection.driver.options.type||"spanner"===this.connection.driver.options.type){const i=new jN({entityMetadata:a.entityMetadata,columns:a.columns,args:{target:a.target,name:a.name,unique:!0,synchronize:!0}});"mssql"===this.connection.driver.options.type&&(i.where=i.columns.map((e=>`${this.connection.driver.escape(e.databaseName)} IS NOT NULL`)).join(" AND ")),"spanner"===this.connection.driver.options.type&&(i.isNullFiltered=!0),t.embeddedMetadata?t.embeddedMetadata.indices.push(i):t.entityMetadata.ownIndices.push(i),this.computeEntityMetadataStep2(e)}else t.embeddedMetadata?t.embeddedMetadata.uniques.push(a):t.entityMetadata.ownUniques.push(a),this.computeEntityMetadataStep2(e);if(n&&"cockroachdb"===this.connection.driver.options.type){const i=new jN({entityMetadata:t.entityMetadata,columns:n.columns,args:{target:t.entityMetadata.target,synchronize:!0}});t.embeddedMetadata?t.embeddedMetadata.indices.push(i):t.entityMetadata.ownIndices.push(i),this.computeEntityMetadataStep2(e)}})),e.relations.filter((e=>e.isManyToMany)).forEach((e=>{const i=this.metadataArgsStorage.findJoinTable(e.target,e.propertyName);if(!i)return;const n=this.junctionEntityMetadataBuilder.build(e,i);e.registerForeignKeys(...n.foreignKeys),e.registerJoinColumns(n.ownIndices[0].columns,n.ownIndices[1].columns),e.registerJunctionEntityMetadata(n),this.computeEntityMetadataStep2(n),this.computeInverseProperties(n,t),t.push(n)}))})),t.forEach((e=>{e.relationsWithJoinColumns=e.relations.filter((e=>e.isWithJoinColumn)),e.hasNonNullableRelations=e.relationsWithJoinColumns.some((e=>!e.isNullable||e.isPrimary))})),t.filter((e=>"closure-table"===e.treeType)).forEach((e=>{const i=this.closureJunctionEntityMetadataBuilder.build(e);e.closureJunctionTable=i,this.computeEntityMetadataStep2(i),this.computeInverseProperties(i,t),t.push(i)})),t.filter((e=>"STI"===e.inheritancePattern&&e.discriminatorColumn)).forEach((e=>this.createKeysForTableInheritance(e))),t.forEach((e=>{e.indices.forEach((e=>e.build(this.connection.namingStrategy)))})),t.forEach((e=>{e.uniques.forEach((e=>e.build(this.connection.namingStrategy)))})),t.forEach((e=>{e.checks.forEach((e=>e.build(this.connection.namingStrategy)))})),t.forEach((e=>{e.exclusions.forEach((e=>e.build(this.connection.namingStrategy)))})),t.filter((e=>"function"==typeof e.target)).forEach((e=>{e.relations.filter((e=>e.isLazy)).forEach((t=>{this.connection.relationLoader.enableLazyLoad(t,e.target.prototype)}))})),t.forEach((e=>{e.columns.forEach((t=>{const i=this.metadataArgsStorage.findGenerated(t.target,t.propertyName);i&&(t.isGenerated=!0,t.generationStrategy=i.strategy,"uuid"===i.strategy?t.type="uuid":"rowid"===i.strategy?t.type="int":t.type=t.type||Number,t.build(this.connection),this.computeEntityMetadataStep2(e))}))})),t}createEntityMetadata(e){const t="function"==typeof e.target?mS.getInheritanceTree(e.target):[e.target],i=this.metadataArgsStorage.findInheritanceType(e.target),n=this.metadataArgsStorage.findTree(e.target);let r;return(i&&"STI"===i.pattern||"entity-child"===e.type)&&(r=this.metadataArgsStorage.filterSingleTableChildren(e.target).map((e=>e.target)).filter((e=>"function"==typeof e)),t.push(...r)),new FA({connection:this.connection,args:e,inheritanceTree:t,tableTree:n,inheritancePattern:i?i.pattern:void 0})}computeParentEntityMetadata(e,t){"entity-child"===t.tableType&&(t.parentEntityMetadata=e.find((e=>-1!==e.inheritanceTree.indexOf(t.target)&&"STI"===e.inheritancePattern)))}computeEntityMetadataStep1(e,t){const i=this.metadataArgsStorage.findInheritanceType(t.target),n=this.metadataArgsStorage.findDiscriminatorValue(t.target);if(t.discriminatorValue=void 0!==n?n.value:t.target.name,t.embeddeds=this.createEmbeddedsRecursively(t,this.metadataArgsStorage.filterEmbeddeds(t.inheritanceTree)).map((e=>("STI"===t.inheritancePattern&&(e.columns=e.columns.map((e=>(e.isNullable=!0,e)))),e))),t.ownColumns=this.metadataArgsStorage.filterColumns(t.inheritanceTree).map((i=>{if("entity-child"===t.tableType)return t.parentEntityMetadata.ownColumns.find((e=>e.propertyName===i.propertyName));const n=new DN({connection:this.connection,entityMetadata:t,args:i});return e.find((e=>"entity-child"===e.tableType&&e.target===i.target))&&(n.isNullable=!0),n})),i&&i.column){const e=i.column&&i.column.name?i.column.name:"type";let n=t.ownColumns.find((t=>t.propertyName===e));n?n.isDiscriminator=!0:(n=new DN({connection:this.connection,entityMetadata:t,args:{target:t.target,mode:"virtual",propertyName:e,options:i.column||{name:e,type:"varchar",nullable:!1}}}),n.isVirtual=!0,n.isDiscriminator=!0,t.ownColumns.push(n))}if("entity-child"===t.tableType){const e=t.parentEntityMetadata.ownColumns.find((e=>e.isDiscriminator));e&&!t.ownColumns.find((t=>t===e))&&t.ownColumns.push(e),t.inheritancePattern=t.parentEntityMetadata.inheritancePattern,!t.treeType&&t.parentEntityMetadata.treeType&&(t.treeType=t.parentEntityMetadata.treeType,t.treeOptions=t.parentEntityMetadata.treeOptions,t.treeParentRelation=t.parentEntityMetadata.treeParentRelation,t.treeLevelColumn=t.parentEntityMetadata.treeLevelColumn)}const{namingStrategy:r}=this.connection;if("materialized-path"===t.treeType)t.ownColumns.push(new DN({connection:this.connection,entityMetadata:t,materializedPath:!0,args:{target:t.target,mode:"virtual",propertyName:"mpath",options:{name:r.materializedPathColumnName,type:String,nullable:!0,default:""}}}));else if("nested-set"===t.treeType){const{left:e,right:i}=r.nestedSetColumnNames;t.ownColumns.push(new DN({connection:this.connection,entityMetadata:t,nestedSetLeft:!0,args:{target:t.target,mode:"virtual",propertyName:e,options:{name:e,type:Number,nullable:!1,default:1}}})),t.ownColumns.push(new DN({connection:this.connection,entityMetadata:t,nestedSetRight:!0,args:{target:t.target,mode:"virtual",propertyName:i,options:{name:i,type:Number,nullable:!1,default:2}}}))}if(t.ownRelations=this.metadataArgsStorage.filterRelations(t.inheritanceTree).map((e=>{if("entity-child"===t.tableType){const i=t.parentEntityMetadata.ownRelations.find((t=>t.propertyName===e.propertyName)),n="function"==typeof e.type?e.type():e.type;if(i.type!==n){const e=Object.create(i);return e.type=n,e}return i}return new $N({entityMetadata:t,args:e})})),t.relationIds=this.metadataArgsStorage.filterRelationIds(t.inheritanceTree).map((e=>"entity-child"===t.tableType?t.parentEntityMetadata.relationIds.find((t=>t.propertyName===e.propertyName)):new qN({entityMetadata:t,args:e}))),t.relationCounts=this.metadataArgsStorage.filterRelationCounts(t.inheritanceTree).map((e=>"entity-child"===t.tableType?t.parentEntityMetadata.relationCounts.find((t=>t.propertyName===e.propertyName)):new UN({entityMetadata:t,args:e}))),t.ownListeners=this.metadataArgsStorage.filterListeners(t.inheritanceTree).map((e=>new KN({entityMetadata:t,args:e}))),t.checks=this.metadataArgsStorage.filterChecks(t.inheritanceTree).map((e=>new QN({entityMetadata:t,args:e}))),"postgres"===this.connection.driver.options.type&&(t.exclusions=this.metadataArgsStorage.filterExclusions(t.inheritanceTree).map((e=>new YN({entityMetadata:t,args:e})))),"cockroachdb"===this.connection.driver.options.type){t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter((e=>!e.unique)).map((e=>new jN({entityMetadata:t,args:e})));const e=this.metadataArgsStorage.filterIndices(t.inheritanceTree).filter((e=>e.unique)).map((e=>new WN({entityMetadata:t,args:{target:e.target,name:e.name,columns:e.columns}})));t.ownUniques.push(...e)}else t.ownIndices=this.metadataArgsStorage.filterIndices(t.inheritanceTree).map((e=>new jN({entityMetadata:t,args:e})));if(Zk.isMySQLFamily(this.connection.driver)||"aurora-mysql"===this.connection.driver.options.type||"sap"===this.connection.driver.options.type||"spanner"===this.connection.driver.options.type){const e=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map((e=>new jN({entityMetadata:t,args:{target:e.target,name:e.name,columns:e.columns,unique:!0,synchronize:!0}})));t.ownIndices.push(...e)}else{const e=this.metadataArgsStorage.filterUniques(t.inheritanceTree).map((e=>new WN({entityMetadata:t,args:e})));t.ownUniques.push(...e)}}createEmbeddedsRecursively(e,t){return t.map((t=>{const i=new BN({entityMetadata:e,args:t}),n="function"==typeof i.type?mS.getInheritanceTree(i.type):[i.type];return i.columns=this.metadataArgsStorage.filterColumns(n).map((t=>new DN({connection:this.connection,entityMetadata:e,embeddedMetadata:i,args:t}))),i.relations=this.metadataArgsStorage.filterRelations(n).map((t=>new $N({entityMetadata:e,embeddedMetadata:i,args:t}))),i.listeners=this.metadataArgsStorage.filterListeners(n).map((t=>new KN({entityMetadata:e,embeddedMetadata:i,args:t}))),i.indices=this.metadataArgsStorage.filterIndices(n).map((t=>new jN({entityMetadata:e,embeddedMetadata:i,args:t}))),i.uniques=this.metadataArgsStorage.filterUniques(n).map((t=>new WN({entityMetadata:e,embeddedMetadata:i,args:t}))),i.relationIds=this.metadataArgsStorage.filterRelationIds(n).map((t=>new qN({entityMetadata:e,args:t}))),i.relationCounts=this.metadataArgsStorage.filterRelationCounts(n).map((t=>new UN({entityMetadata:e,args:t}))),i.embeddeds=this.createEmbeddedsRecursively(e,this.metadataArgsStorage.filterEmbeddeds(n)),i.embeddeds.forEach((e=>e.parentEmbeddedMetadata=i)),e.allEmbeddeds.push(i),i}))}computeEntityMetadataStep2(e){e.embeddeds.forEach((e=>e.build(this.connection))),e.embeddeds.forEach((e=>{e.columnsFromTree.forEach((e=>e.build(this.connection))),e.relationsFromTree.forEach((e=>e.build()))})),e.ownColumns.forEach((e=>e.build(this.connection))),e.ownRelations.forEach((e=>e.build())),e.relations=e.embeddeds.reduce(((e,t)=>e.concat(t.relationsFromTree)),e.ownRelations),e.eagerRelations=e.relations.filter((e=>e.isEager)),e.lazyRelations=e.relations.filter((e=>e.isLazy)),e.oneToOneRelations=e.relations.filter((e=>e.isOneToOne)),e.oneToManyRelations=e.relations.filter((e=>e.isOneToMany)),e.manyToOneRelations=e.relations.filter((e=>e.isManyToOne)),e.manyToManyRelations=e.relations.filter((e=>e.isManyToMany)),e.ownerOneToOneRelations=e.relations.filter((e=>e.isOneToOneOwner)),e.ownerManyToManyRelations=e.relations.filter((e=>e.isManyToManyOwner)),e.treeParentRelation=e.relations.find((e=>e.isTreeParent)),e.treeChildrenRelation=e.relations.find((e=>e.isTreeChildren)),e.columns=e.embeddeds.reduce(((e,t)=>e.concat(t.columnsFromTree)),e.ownColumns),e.listeners=e.embeddeds.reduce(((e,t)=>e.concat(t.listenersFromTree)),e.ownListeners),e.afterLoadListeners=e.listeners.filter((e=>e.type===FN.AFTER_LOAD)),e.afterInsertListeners=e.listeners.filter((e=>e.type===FN.AFTER_INSERT)),e.afterUpdateListeners=e.listeners.filter((e=>e.type===FN.AFTER_UPDATE)),e.afterRemoveListeners=e.listeners.filter((e=>e.type===FN.AFTER_REMOVE)),e.afterSoftRemoveListeners=e.listeners.filter((e=>e.type===FN.AFTER_SOFT_REMOVE)),e.afterRecoverListeners=e.listeners.filter((e=>e.type===FN.AFTER_RECOVER)),e.beforeInsertListeners=e.listeners.filter((e=>e.type===FN.BEFORE_INSERT)),e.beforeUpdateListeners=e.listeners.filter((e=>e.type===FN.BEFORE_UPDATE)),e.beforeRemoveListeners=e.listeners.filter((e=>e.type===FN.BEFORE_REMOVE)),e.beforeSoftRemoveListeners=e.listeners.filter((e=>e.type===FN.BEFORE_SOFT_REMOVE)),e.beforeRecoverListeners=e.listeners.filter((e=>e.type===FN.BEFORE_RECOVER)),e.indices=e.embeddeds.reduce(((e,t)=>e.concat(t.indicesFromTree)),e.ownIndices),e.uniques=e.embeddeds.reduce(((e,t)=>e.concat(t.uniquesFromTree)),e.ownUniques),e.primaryColumns=e.columns.filter((e=>e.isPrimary)),e.nonVirtualColumns=e.columns.filter((e=>!e.isVirtual)),e.ancestorColumns=e.columns.filter((e=>"ancestor"===e.closureType)),e.descendantColumns=e.columns.filter((e=>"descendant"===e.closureType)),e.hasMultiplePrimaryKeys=e.primaryColumns.length>1,e.generatedColumns=e.columns.filter((e=>e.isGenerated||e.isObjectId)),e.hasUUIDGeneratedColumns=e.columns.filter((e=>e.isGenerated||"uuid"===e.generationStrategy)).length>0,e.createDateColumn=e.columns.find((e=>e.isCreateDate)),e.updateDateColumn=e.columns.find((e=>e.isUpdateDate)),e.deleteDateColumn=e.columns.find((e=>e.isDeleteDate)),e.versionColumn=e.columns.find((e=>e.isVersion)),e.discriminatorColumn=e.columns.find((e=>e.isDiscriminator)),e.treeLevelColumn=e.columns.find((e=>e.isTreeLevel)),e.nestedSetLeftColumn=e.columns.find((e=>e.isNestedSetLeft)),e.nestedSetRightColumn=e.columns.find((e=>e.isNestedSetRight)),e.materializedPathColumn=e.columns.find((e=>e.isMaterializedPath)),e.objectIdColumn=e.columns.find((e=>e.isObjectId)),e.foreignKeys.forEach((e=>e.build(this.connection.namingStrategy))),e.propertiesMap=e.createPropertiesMap(),e.relationIds.forEach((e=>e.build())),e.relationCounts.forEach((e=>e.build())),e.embeddeds.forEach((e=>{e.relationIdsFromTree.forEach((e=>e.build())),e.relationCountsFromTree.forEach((e=>e.build()))}))}computeInverseProperties(e,t){e.relations.forEach((i=>{const n=t.find((e=>e.target===i.type||"string"==typeof i.type&&(e.targetName===i.type||e.givenTableName===i.type)));if(!n)throw new YC("Entity metadata for "+e.name+"#"+i.propertyPath+" was not found. Check if you specified a correct entity object and if it's connected in the connection options.");i.inverseEntityMetadata=n,i.inverseSidePropertyPath=i.buildInverseSidePropertyPath(),i.inverseRelation=n.relations.find((e=>e.propertyPath===i.inverseSidePropertyPath))}))}createKeysForTableInheritance(e){e.indices.push(new jN({entityMetadata:e,columns:[e.discriminatorColumn],args:{target:e.target,unique:!1}}))}}class JN extends YC{static createEntitySchemaIsRequiredException(e){return new JN(`EntitySchema is required for ${e} embedded field`)}static createTargetIsRequired(e){return new JN(`Target field is required for ${e} embedded EntitySchema`)}constructor(e){super(e)}}class ZN{transform(e){const t=new fS;return e.forEach((e=>{var i;const n=e.options,r={target:n.target||n.name,name:n.tableName,database:n.database,schema:n.schema,type:n.type||"regular",orderBy:n.orderBy,synchronize:n.synchronize,withoutRowid:!!n.withoutRowid,expression:n.expression};t.tables.push(r);const{inheritance:a}=n;a&&t.inheritances.push({target:n.target,pattern:null!==(i=a.pattern)&&void 0!==i?i:"STI",column:a.column?"string"==typeof a.column?{name:a.column}:a.column:void 0}),this.transformColumnsRecursive(n,t)})),t}transformColumnsRecursive(e,t){Object.keys(e.columns).forEach((i=>{const n=e.columns[i];let r="regular";n.createDate&&(r="createDate"),n.updateDate&&(r="updateDate"),n.deleteDate&&(r="deleteDate"),n.version&&(r="version"),n.treeChildrenCount&&(r="treeChildrenCount"),n.treeLevel&&(r="treeLevel"),n.objectId&&(r="objectId");const a={target:e.target||e.name,mode:r,propertyName:i,options:{type:n.type,name:n.objectId?"_id":n.name,primaryKeyConstraintName:n.primaryKeyConstraintName,length:n.length,width:n.width,nullable:n.nullable,readonly:n.readonly,update:n.update,select:n.select,insert:n.insert,primary:n.primary,unique:n.unique,comment:n.comment,default:n.default,onUpdate:n.onUpdate,precision:n.precision,scale:n.scale,zerofill:n.zerofill,unsigned:n.unsigned,charset:n.charset,collation:n.collation,enum:n.enum,enumName:n.enumName,asExpression:n.asExpression,generatedType:n.generatedType,hstoreType:n.hstoreType,array:n.array,transformer:n.transformer,spatialFeatureType:n.spatialFeatureType,srid:n.srid}};if(t.columns.push(a),n.generated){const r={target:e.target||e.name,propertyName:i,strategy:"string"==typeof n.generated?n.generated:"increment"};t.generations.push(r)}n.unique&&t.uniques.push({target:e.target||e.name,columns:[i]})})),e.relations&&Object.keys(e.relations).forEach((i=>{const n=e.relations[i],r={target:e.target||e.name,propertyName:i,relationType:n.type,isLazy:n.lazy||!1,type:n.target,inverseSideProperty:n.inverseSide,isTreeParent:n.treeParent,isTreeChildren:n.treeChildren,options:{eager:n.eager||!1,cascade:n.cascade,nullable:n.nullable,onDelete:n.onDelete,onUpdate:n.onUpdate,deferrable:n.deferrable,createForeignKeyConstraints:n.createForeignKeyConstraints,persistence:n.persistence,orphanedRowAction:n.orphanedRowAction}};if(t.relations.push(r),n.joinColumn)if("boolean"==typeof n.joinColumn){const n={target:e.target||e.name,propertyName:i};t.joinColumns.push(n)}else{const r=Array.isArray(n.joinColumn)?n.joinColumn:[n.joinColumn];for(const n of r){const r={target:e.target||e.name,propertyName:i,name:n.name,referencedColumnName:n.referencedColumnName,foreignKeyConstraintName:n.foreignKeyConstraintName};t.joinColumns.push(r)}}if(n.joinTable)if("boolean"==typeof n.joinTable){const n={target:e.target||e.name,propertyName:i};t.joinTables.push(n)}else{const r={target:e.target||e.name,propertyName:i,name:n.joinTable.name,database:n.joinTable.database,schema:n.joinTable.schema,joinColumns:n.joinTable.joinColumn?[n.joinTable.joinColumn]:n.joinTable.joinColumns,inverseJoinColumns:n.joinTable.inverseJoinColumn?[n.joinTable.inverseJoinColumn]:n.joinTable.inverseJoinColumns};t.joinTables.push(r)}})),e.relationIds&&Object.keys(e.relationIds).forEach((i=>{const n=e.relationIds[i],r={propertyName:i,relation:n.relationName,target:e.target||e.name,alias:n.alias,queryBuilderFactory:n.queryBuilderFactory};t.relationIds.push(r)})),e.indices&&e.indices.forEach((i=>{const n={target:e.target||e.name,name:i.name,unique:!0===i.unique,spatial:!0===i.spatial,fulltext:!0===i.fulltext,nullFiltered:!0===i.nullFiltered,parser:i.parser,synchronize:!1!==i.synchronize,where:i.where,sparse:i.sparse,columns:i.columns};t.indices.push(n)})),e.uniques&&e.uniques.forEach((i=>{const n={target:e.target||e.name,name:i.name,columns:i.columns,deferrable:i.deferrable};t.uniques.push(n)})),e.checks&&e.checks.forEach((i=>{const n={target:e.target||e.name,name:i.name,expression:i.expression};t.checks.push(n)})),e.exclusions&&e.exclusions.forEach((i=>{const n={target:e.target||e.name,name:i.name,expression:i.expression};t.exclusions.push(n)})),e.embeddeds&&Object.keys(e.embeddeds).forEach((i=>{const n=e.embeddeds[i];if(!n.schema)throw JN.createEntitySchemaIsRequiredException(i);const r=n.schema.options;t.embeddeds.push({target:e.target||e.name,propertyName:i,isArray:!0===n.array,prefix:void 0!==n.prefix?n.prefix:void 0,type:()=>(null==r?void 0:r.target)||r.name}),this.transformColumnsRecursive(r,t)}))}}class eO{constructor(e){this.connection=e}async buildMigrations(e){const[t,i]=LA.splitClassesAndStrings(e);return[...t,...await(this.connection.logger,[])].map((e=>LN(e)))}async buildSubscribers(e){const[t,i]=LA.splitClassesAndStrings(e||[]),n=[...t,...await(this.connection.logger,[])];return UO().filterSubscribers(n).map((e=>LN(e.target)))}async buildEntityMetadatas(e){const[t,i]=LA.splitClassesAndStrings(e||[]),n=t.filter((e=>!ok.isEntitySchema(e))),r=t.filter((e=>ok.isEntitySchema(e))),a=[...n,...await(this.connection.logger,[])];a.forEach((e=>{ok.isEntitySchema(e)&&r.push(e)}));const s=new XN(this.connection,UO()).build(a),o=(new ZN).transform(r);return[...s,...new XN(this.connection,o).build()]}}class tO{constructor(e,t,i,n,r){this.expressionMap=e,this.driver=t,this.rawRelationIdResults=i,this.rawRelationCountResults=n,this.queryRunner=r}transform(e,t){const i=this.group(e,t),n=[];return i.forEach((e=>{const i=this.transformRawResultsGroup(e,t);void 0===i||Object.values(i).every((e=>null===e))||n.push(i)})),n}group(e,t){const i=new Map,n=[];return"view"===t.metadata.tableType?n.push(...t.metadata.columns.map((e=>Zk.buildAlias(this.driver,void 0,t.name,e.databaseName)))):n.push(...t.metadata.primaryColumns.map((e=>Zk.buildAlias(this.driver,void 0,t.name,e.databaseName)))),e.forEach((e=>{const t=n.map((t=>{const i=e[t];return Buffer.isBuffer(i)?i.toString("hex"):sk.isObject(i)?JSON.stringify(i):i})).join("_"),r=i.get(t);r?r.push(e):i.set(t,[e])})),i}transformRawResultsGroup(e,t){let i=t.metadata;if(i.discriminatorColumn){const n=e.map((e=>e[Zk.buildAlias(this.driver,void 0,t.name,t.metadata.discriminatorColumn.databaseName)])),r=i.childEntityMetadatas.find((e=>void 0!==n.find((t=>t===e.discriminatorValue))));r&&(i=r)}let n=i.create(this.queryRunner,{fromDeserializer:!0,pojo:-1!==this.expressionMap.options.indexOf("create-pojo")});const r=this.transformColumns(e,t,n,i),a=this.transformJoins(e,n,t,i),s=this.transformRelationIds(e,t,n,i),o=this.transformRelationCounts(e,t,n);if(r)return n;return 0===i.primaryColumns.filter((e=>!1===e.isVirtual)).length&&(a||s||o)?n:void 0}transformColumns(e,t,i,n){let r=!1;return n.columns.forEach((a=>{if(n.childEntityMetadatas.length>0&&-1!==n.childEntityMetadatas.findIndex((e=>e.target===a.target)))return;const s=e[0][Zk.buildAlias(this.driver,void 0,t.name,a.databaseName)];void 0===s||a.isVirtual||this.expressionMap.selects.find((e=>e.selection===t.name||e.selection===t.name+"."+a.propertyPath))&&(a.setEntityValue(i,this.driver.prepareHydratedValue(s,a)),null!==s&&(r=!0))})),r}transformJoins(e,t,i,n){let r=!1;return this.expressionMap.joinAttributes.forEach((a=>{if(!a.metadata)return;if(!a.isSelected)return;if(a.relation&&!n.relations.find((e=>e===a.relation)))return;if(a.mapToProperty){if(a.mapToPropertyParentAlias!==i.name)return}else if(!a.relation||a.parentAlias!==i.name||a.relationPropertyPath!==a.relation.propertyPath)return;let s=this.transform(e,a.alias);s=a.isMany?s:s[0],s=a.isMany||void 0!==s?s:null,void 0!==s&&(a.mapToPropertyPropertyName?t[a.mapToPropertyPropertyName]=s:a.relation.setEntityValue(t,s),r=!0)})),r}transformRelationIds(e,t,i,n){let r=!1;return this.rawRelationIdResults.forEach(((n,a)=>{if(n.relationIdAttribute.parentAlias!==t.name)return;const s=n.relationIdAttribute.relation,o=this.createValueMapFromJoinColumns(s,n.relationIdAttribute.parentAlias,e);if(null==o)return;this.prepareDataForTransformRelationIds();const l=this.hashEntityIds(s,o),c=this.relationIdMaps[a][l]||[],d=n.relationIdAttribute.mapToPropertyPropertyPath.split("."),u=(e,t,i)=>{const n=e.shift();return n&&0===e.length?(t[n]=i,t):n&&e.length>0?void u(e,t[n],i):t};s.isOneToOne||s.isManyToOne?void 0!==c[0]&&(u(d,i,c[0]),r=!0):(u(d,i,c),r=r||c.length>0)})),r}transformRelationCounts(e,t,i){let n=!1;return this.rawRelationCountResults.filter((e=>e.relationCountAttribute.parentAlias===t.name)).forEach((r=>{const a=r.relationCountAttribute.relation;let s;s=a.isOneToMany?a.inverseRelation.joinColumns[0].referencedColumn.databaseName:a.isOwning?a.joinColumns[0].referencedColumn.databaseName:a.inverseRelation.joinColumns[0].referencedColumn.databaseName;const o=e[0][Zk.buildAlias(this.driver,void 0,t.name,s)];null!=o&&(i[r.relationCountAttribute.mapToPropertyPropertyName]=0,r.results.filter((e=>e.parentId===o)).forEach((e=>{i[r.relationCountAttribute.mapToPropertyPropertyName]=parseInt(e.cnt),n=!0})))})),n}createValueMapFromJoinColumns(e,t,i){let n;return n=e.isManyToOne||e.isOneToOneOwner?e.entityMetadata.primaryColumns.map((e=>e)):e.isOneToMany||e.isOneToOneNotOwner?e.inverseRelation.joinColumns.map((e=>e)):e.isOwning?e.joinColumns.map((e=>e)):e.inverseRelation.inverseJoinColumns.map((e=>e)),n.reduce(((n,r)=>(i.forEach((i=>{e.isManyToOne||e.isOneToOneOwner?n[r.databaseName]=this.driver.prepareHydratedValue(i[Zk.buildAlias(this.driver,void 0,t,r.databaseName)],r):n[r.databaseName]=this.driver.prepareHydratedValue(i[Zk.buildAlias(this.driver,void 0,t,r.referencedColumn.databaseName)],r.referencedColumn)})),n)),{})}extractEntityPrimaryIds(e,t){let i;return i=e.isManyToOne||e.isOneToOneOwner?e.entityMetadata.primaryColumns.map((e=>e)):e.isOneToMany||e.isOneToOneNotOwner?e.inverseRelation.joinColumns.map((e=>e)):e.isOwning?e.joinColumns.map((e=>e)):e.inverseRelation.inverseJoinColumns.map((e=>e)),i.reduce(((e,i)=>(e[i.databaseName]=t[i.databaseName],e)),{})}prepareDataForTransformRelationIds(){this.relationIdMaps||(this.relationIdMaps=this.rawRelationIdResults.map((e=>{const t=e.relationIdAttribute.relation;let i;return i=t.isManyToOne||t.isOneToOneOwner?t.joinColumns:t.isOneToMany||t.isOneToOneNotOwner?t.inverseEntityMetadata.primaryColumns:t.isOwning?t.inverseJoinColumns:t.inverseRelation.joinColumns,e.results.reduce(((n,r)=>{let a=i.reduce(((e,i)=>{let n=r[i.databaseName];return t.isOneToMany||t.isOneToOneNotOwner?(i.isVirtual&&i.referencedColumn&&i.referencedColumn.propertyName!==i.propertyName&&(n=i.referencedColumn.createValueMap(n)),LA.mergeDeep(e,i.createValueMap(n))):(!i.isPrimary&&i.referencedColumn.referencedColumn&&(n=i.referencedColumn.referencedColumn.createValueMap(n)),LA.mergeDeep(e,i.referencedColumn.createValueMap(n)))}),{});if(1!==i.length||e.relationIdAttribute.disableMixedMap||(a=t.isOneToMany||t.isOneToOneNotOwner?i[0].getEntityValue(a):i[0].referencedColumn.getEntityValue(a)),void 0!==a){const e=this.hashEntityIds(t,r);n[e]?n[e].push(a):n[e]=[a]}return n}),{})})))}hashEntityIds(e,t){const i=this.extractEntityPrimaryIds(e,t);return JSON.stringify(i)}}class iO{static isAliasProperty(e){if("string"!=typeof e||-1===e.indexOf("."))return!1;const[t,i]=e.split(".");return!(!t||!i)&&(-1===e.indexOf("(")&&-1===e.indexOf(")"))}}class nO{constructor(e,t,i){this.connection=e,this.queryExpressionMap=t,this.isSelectedEvaluated=!1,this.relationEvaluated=!1,i&&sk.assign(this,i)}get isMany(){return void 0!==this.isMappingMany?this.isMappingMany:!!this.relation&&(this.relation.isManyToMany||this.relation.isOneToMany)}get isSelected(){if(!this.isSelectedEvaluated){let e=()=>{for(const e of this.queryExpressionMap.selects){if(e.selection===this.alias.name)return!0;if(this.metadata&&this.metadata.columns.find((t=>e.selection===this.alias.name+"."+t.propertyPath)))return!0}return!1};this.isSelectedCache=e(),this.isSelectedEvaluated=!0}return this.isSelectedCache}get tablePath(){return this.metadata?this.metadata.tablePath:this.entityOrProperty}get parentAlias(){if(iO.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."))}get relationPropertyPath(){if(iO.isAliasProperty(this.entityOrProperty))return this.entityOrProperty.substr(this.entityOrProperty.indexOf(".")+1)}get relation(){if(!this.relationEvaluated){let e=()=>{if(!iO.isAliasProperty(this.entityOrProperty))return;const e=this.queryExpressionMap.findAliasByName(this.parentAlias);let t=e.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(t)return t;if(e.metadata.parentEntityMetadata&&(t=e.metadata.parentEntityMetadata.findRelationWithPropertyPath(this.relationPropertyPath),t))return t;throw new YC(`Relation with property path ${this.relationPropertyPath} in entity was not found.`)};this.relationCache=e.bind(this)(),this.relationEvaluated=!0}return this.relationCache}get metadata(){return this.relation?this.relation.inverseEntityMetadata:this.connection.hasMetadata(this.entityOrProperty)?this.connection.getMetadata(this.entityOrProperty):this.mapAsEntity&&this.connection.hasMetadata(this.mapAsEntity)?this.connection.getMetadata(this.mapAsEntity):void 0}get junctionAlias(){if(!this.relation)throw new YC("Cannot get junction table for join without relation.");if("string"!=typeof this.entityOrProperty)throw new YC("Junction property is not defined.");const e=this.entityOrProperty.substr(0,this.entityOrProperty.indexOf("."));return this.relation.isOwning?Zk.buildAlias(this.connection.driver,void 0,e,this.alias.name):Zk.buildAlias(this.connection.driver,void 0,this.alias.name,e)}get mapToPropertyParentAlias(){if(this.mapToProperty)return this.mapToProperty.split(".")[0]}get mapToPropertyPropertyName(){if(this.mapToProperty)return this.mapToProperty.split(".")[1]}}class rO{constructor(e,t){this.queryExpressionMap=e,this.disableMixedMap=!1,sk.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!iO.isAliasProperty(this.relationName))throw new YC("Given value must be a string representation of alias property");return this.relationName.substr(0,this.relationName.indexOf("."))}get relationPropertyPath(){if(!iO.isAliasProperty(this.relationName))throw new YC("Given value must be a string representation of alias property");return this.relationName.substr(this.relationName.indexOf(".")+1)}get relation(){if(!iO.isAliasProperty(this.relationName))throw new YC("Given value must be a string representation of alias property");const e=this.queryExpressionMap.findAliasByName(this.parentAlias).metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!e)throw new YC(`Relation with property path ${this.relationPropertyPath} in entity was not found.`);return e}get junctionAlias(){const[e,t]=this.relationName.split(".");return e+"_"+t+"_rid"}get junctionMetadata(){return this.relation.junctionEntityMetadata}get mapToPropertyParentAlias(){return this.mapToProperty.substr(0,this.mapToProperty.indexOf("."))}get mapToPropertyPropertyPath(){return this.mapToProperty.substr(this.mapToProperty.indexOf(".")+1)}}class aO{constructor(e,t){this.expressionMap=e,sk.assign(this,t||{})}get joinInverseSideMetadata(){return this.relation.inverseEntityMetadata}get parentAlias(){if(!iO.isAliasProperty(this.relationName))throw new YC("Given value must be a string representation of alias property");return this.relationName.split(".")[0]}get relationProperty(){if(!iO.isAliasProperty(this.relationName))throw new YC("Given value is a string representation of alias property");return this.relationName.split(".")[1]}get junctionAlias(){const[e,t]=this.relationName.split(".");return e+"_"+t+"_rc"}get relation(){if(!iO.isAliasProperty(this.relationName))throw new YC("Given value is a string representation of alias property");const[e,t]=this.relationName.split("."),i=this.expressionMap.findAliasByName(e).metadata.findRelationWithPropertyPath(t);if(!i)throw new YC(`Relation with property path ${t} in entity was not found.`);return i}get metadata(){if(!iO.isAliasProperty(this.relationName))throw new YC("Given value is a string representation of alias property");const e=this.relationName.split(".")[0];return this.expressionMap.findAliasByName(e).metadata}get mapToPropertyPropertyName(){return this.mapToProperty.split(".")[1]}}let sO=class{constructor(e,t,i){this.connection=e,this.queryRunner=t,this.relationIdAttributes=i}async load(e){const t=this.relationIdAttributes.map((async t=>{if(t.relation.isManyToOne||t.relation.isOneToOneOwner){if(t.queryBuilderFactory)throw new YC("Additional condition can not be used with ManyToOne or OneToOne owner relations.");const i={},n=e.map((e=>{const n={},r=[];t.relation.joinColumns.forEach((i=>{n[i.databaseName]=this.connection.driver.prepareHydratedValue(e[Zk.buildAlias(this.connection.driver,void 0,t.parentAlias,i.databaseName)],i.referencedColumn);const a=`${i.databaseName}:${n[i.databaseName]}`;-1===r.indexOf(a)&&r.push(a)})),t.relation.entityMetadata.primaryColumns.forEach((i=>{n[i.databaseName]=this.connection.driver.prepareHydratedValue(e[Zk.buildAlias(this.connection.driver,void 0,t.parentAlias,i.databaseName)],i);const a=`${i.databaseName}:${n[i.databaseName]}`;-1===r.indexOf(a)&&r.push(a)})),r.sort();const a=r.join("::");return i[a]?null:(i[a]=!0,n)})).filter((e=>e));return{relationIdAttribute:t,results:n}}if(t.relation.isOneToMany||t.relation.isOneToOneNotOwner){const i=t.relation,n=i.isOwning?i.joinColumns:i.inverseRelation.joinColumns,r=i.inverseEntityMetadata.target,a=i.inverseEntityMetadata.tableName,s=t.alias||a,o={},l={},c=e.map(((e,i)=>{const r=[],a={},c=n.map((n=>{const o=n.databaseName+i,l=e[Zk.buildAlias(this.connection.driver,void 0,t.parentAlias,n.referencedColumn.databaseName)],c=`${s}:${n.propertyPath}:${l}`;return-1!==r.indexOf(c)?"":(r.push(c),a[o]=l,s+"."+n.propertyPath+" = :"+o)})).filter((e=>e)).join(" AND ");r.sort();const d=r.join("::");return o[d]?"":(o[d]=!0,Object.assign(l,a),c)})).filter((e=>e)).map((e=>"("+e+")")).join(" OR ");if(!c)return{relationIdAttribute:t,results:[]};const d=this.connection.createQueryBuilder(this.queryRunner);LA.uniq([...n,...i.inverseRelation.entityMetadata.primaryColumns],(e=>e.propertyPath)).forEach((e=>{d.addSelect(s+"."+e.propertyPath,e.databaseName)})),d.from(r,s).where("("+c+")").setParameters(l),t.queryBuilderFactory&&t.queryBuilderFactory(d);const u=await d.getRawMany();return u.forEach((e=>{n.forEach((t=>{e[t.databaseName]=this.connection.driver.prepareHydratedValue(e[t.databaseName],t.referencedColumn)})),i.inverseRelation.entityMetadata.primaryColumns.forEach((t=>{e[t.databaseName]=this.connection.driver.prepareHydratedValue(e[t.databaseName],t)}))})),{relationIdAttribute:t,results:u}}{const i=t.relation,n=i.isOwning?i.joinColumns:i.inverseRelation.inverseJoinColumns,r=i.isOwning?i.inverseJoinColumns:i.inverseRelation.joinColumns,a=t.junctionAlias,s=t.joinInverseSideMetadata.tableName,o=t.alias||s,l=i.isOwning?i.junctionEntityMetadata.tableName:i.inverseRelation.junctionEntityMetadata.tableName,c=e.map((e=>n.reduce(((i,n)=>(i[n.propertyPath]=e[Zk.buildAlias(this.connection.driver,void 0,t.parentAlias,n.referencedColumn.databaseName)],i)),{})));if(0===c.length)return{relationIdAttribute:t,results:[]};const d={},u={},h=c.map(((e,t)=>{const i=[],n={},r=Object.keys(e).map((r=>{const s=r+t,o=e[r],l=`${a}:${r}:${o}`;return-1!==i.indexOf(l)?"":(i.push(l),n[s]=o,a+"."+r+" = :"+s)})).filter((e=>e)).join(" AND ");i.sort();const s=i.join("::");return u[s]?"":(u[s]=!0,Object.assign(d,n),r)})).filter((e=>e)),p=r.map((e=>a+"."+e.propertyPath+" = "+o+"."+e.referencedColumn.propertyPath)).join(" AND "),m=h.map((e=>"("+e+" AND "+p+")")).join(" OR "),f=this.connection.createQueryBuilder(this.queryRunner);r.forEach((e=>{f.addSelect(a+"."+e.propertyPath,e.databaseName).addOrderBy(a+"."+e.propertyPath)})),n.forEach((e=>{f.addSelect(a+"."+e.propertyPath,e.databaseName).addOrderBy(a+"."+e.propertyPath)})),f.from(s,o).innerJoin(l,a,m).setParameters(d),t.queryBuilderFactory&&t.queryBuilderFactory(f);const g=await f.getRawMany();return g.forEach((e=>{[...n,...r].forEach((t=>{e[t.databaseName]=this.connection.driver.prepareHydratedValue(e[t.databaseName],t.referencedColumn)}))})),{relationIdAttribute:t,results:g}}}));return Promise.all(t)}};class oO{constructor(e,t){this.connection=e,this.queryRunner=t}load(e,t,i){const n=Array.isArray(t)?t:[t],r=Array.isArray(i)?i:i?[i]:void 0;return e.isManyToMany?this.loadForManyToMany(e,n,r):e.isManyToOne||e.isOneToOneOwner?this.loadForManyToOneAndOneToOneOwner(e,n,r):this.loadForOneToManyAndOneToOneNotOwner(e,n,r)}async loadManyToManyRelationIdsAndGroup(e,t,i,n){const r=e.isManyToMany||e.isOneToMany,a=Array.isArray(t)?t:[t];if(!i&&!(i=await this.connection.relationLoader.load(e,t,this.queryRunner,n)).length)return a.map((e=>({entity:e,related:r?[]:void 0})));const s=await this.load(e,t,i),o=Array.isArray(i)?i:[i];let l=[],c=[];return e.isManyToManyOwner?(l=e.junctionEntityMetadata.inverseColumns.map((e=>e.referencedColumn)),c=e.junctionEntityMetadata.ownerColumns.map((e=>e.referencedColumn))):e.isManyToManyNotOwner?(l=e.junctionEntityMetadata.ownerColumns.map((e=>e.referencedColumn)),c=e.junctionEntityMetadata.inverseColumns.map((e=>e.referencedColumn))):e.isManyToOne||e.isOneToOneOwner?(l=e.joinColumns.map((e=>e.referencedColumn)),c=e.entityMetadata.primaryColumns):(e.isOneToMany||e.isOneToOneNotOwner)&&(l=e.inverseRelation.entityMetadata.primaryColumns,c=e.inverseRelation.joinColumns.map((e=>e.referencedColumn))),a.map((t=>{const i={entity:t,related:r?[]:void 0},n=s.filter((e=>c.every((i=>i.compareEntityValue(t,e[i.entityMetadata.name+"_"+i.propertyAliasName])))));return n.length?(o.forEach((t=>{n.forEach((n=>{l.every((i=>i.compareEntityValue(t,n[Zk.buildAlias(this.connection.driver,void 0,i.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+i.propertyPath.replace(".","_"))])))&&(r?i.related.push(t):i.related=t)}))})),i):i}))}loadForManyToMany(e,t,i){const n=e.junctionEntityMetadata,r=n.name,a=e.isOwning?n.ownerColumns:n.inverseColumns,s=e.isOwning?n.inverseColumns:n.ownerColumns,o=this.connection.createQueryBuilder(this.queryRunner);a.forEach((e=>{const t=Zk.buildAlias(this.connection.driver,void 0,e.referencedColumn.entityMetadata.name+"_"+e.referencedColumn.propertyPath.replace(".","_"));o.addSelect(r+"."+e.propertyPath,t)})),s.forEach((t=>{const i=Zk.buildAlias(this.connection.driver,void 0,t.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+t.referencedColumn.propertyPath.replace(".","_"));o.addSelect(r+"."+t.propertyPath,i)}));let l="";if(1===a.length){const e=t.map((e=>a[0].referencedColumn.getEntityValue(e)));e.every((e=>"number"==typeof e))?l=`${r}.${a[0].propertyPath} IN (${e.join(", ")})`:(o.setParameter("values1",e),l=r+"."+a[0].propertyPath+" IN (:...values1)")}else l="("+t.map(((e,t)=>a.map((i=>{const n="entity1_"+t+"_"+i.propertyName;return o.setParameter(n,i.referencedColumn.getEntityValue(e)),r+"."+i.propertyPath+" = :"+n})).join(" AND "))).map((e=>"("+e+")")).join(" OR ")+")";let c="";if(i)if(1===s.length){const e=i.map((e=>s[0].referencedColumn.getEntityValue(e)));e.every((e=>"number"==typeof e))?c=`${r}.${s[0].propertyPath} IN (${e.join(", ")})`:(o.setParameter("values2",e),c=r+"."+s[0].propertyPath+" IN (:...values2)")}else c="("+i.map(((e,t)=>s.map((i=>{const n="entity2_"+t+"_"+i.propertyName;return o.setParameter(n,i.referencedColumn.getEntityValue(e)),r+"."+i.propertyPath+" = :"+n})).join(" AND "))).map((e=>"("+e+")")).join(" OR ")+")";const d=[l,c].filter((e=>e.length>0)).join(" AND ");return o.from(n.target,r).where(d).getRawMany()}loadForManyToOneAndOneToOneOwner(e,t,i){const n=e.entityMetadata.targetName,r=e.joinColumns.every((t=>!!e.entityMetadata.nonVirtualColumns.find((e=>e===t))));if(i&&r){let n=[];if(t.forEach((t=>{let r={};e.entityMetadata.primaryColumns.forEach((e=>{const i=e.entityMetadata.name+"_"+e.propertyPath.replace(".","_");r[i]=e.getEntityValue(t)})),i.forEach((i=>{e.joinColumns.forEach((n=>{const a=n.getEntityValue(t),s=n.referencedColumn.getEntityValue(i);if(void 0!==a&&void 0!==s&&a===s){const t=n.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+n.referencedColumn.propertyPath.replace(".","_");r[t]=s}}))})),Object.keys(r).length===e.entityMetadata.primaryColumns.length+e.joinColumns.length&&n.push(r)})),n.length===t.length)return Promise.resolve(n)}const a=this.connection.createQueryBuilder(this.queryRunner);e.entityMetadata.primaryColumns.forEach((e=>{const t=Zk.buildAlias(this.connection.driver,void 0,e.entityMetadata.name+"_"+e.propertyPath.replace(".","_"));a.addSelect(n+"."+e.propertyPath,t)})),e.joinColumns.forEach((t=>{const i=Zk.buildAlias(this.connection.driver,void 0,t.referencedColumn.entityMetadata.name+"_"+e.propertyPath.replace(".","_")+"_"+t.referencedColumn.propertyPath.replace(".","_"));a.addSelect(n+"."+t.propertyPath,i)}));let s="";if(1===e.entityMetadata.primaryColumns.length){const i=t.map((t=>e.entityMetadata.primaryColumns[0].getEntityValue(t)));i.every((e=>"number"==typeof e))?s=`${n}.${e.entityMetadata.primaryColumns[0].propertyPath} IN (${i.join(", ")})`:(a.setParameter("values",i),s=n+"."+e.entityMetadata.primaryColumns[0].propertyPath+" IN (:...values)")}else s=t.map(((t,i)=>e.entityMetadata.primaryColumns.map(((e,r)=>{const s="entity"+i+"_"+r;return a.setParameter(s,e.getEntityValue(t)),n+"."+e.propertyPath+" = :"+s})).join(" AND "))).map((e=>"("+e+")")).join(" OR ");return a.from(e.entityMetadata.target,n).where(s).getRawMany()}loadForOneToManyAndOneToOneNotOwner(e,t,i){if((e=e.inverseRelation).entityMetadata.primaryColumns.length===e.joinColumns.length){if(e.entityMetadata.primaryColumns.every((t=>-1!==e.joinColumns.indexOf(t))))return Promise.resolve(t.map((t=>{const i={};return e.joinColumns.forEach((function(n){const r=n.referencedColumn.getEntityValue(t),a=n.referencedColumn.entityMetadata.name+"_"+n.referencedColumn.propertyPath.replace(".","_"),s=n.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+n.propertyPath.replace(".","_");i[a]=r,i[s]=r})),i})))}const n=e.entityMetadata.targetName,r=this.connection.createQueryBuilder(this.queryRunner);e.entityMetadata.primaryColumns.forEach((t=>{const i=Zk.buildAlias(this.connection.driver,void 0,t.entityMetadata.name+"_"+e.inverseRelation.propertyPath.replace(".","_")+"_"+t.propertyPath.replace(".","_"));r.addSelect(n+"."+t.propertyPath,i)})),e.joinColumns.forEach((e=>{const t=Zk.buildAlias(this.connection.driver,void 0,e.referencedColumn.entityMetadata.name+"_"+e.referencedColumn.propertyPath.replace(".","_"));r.addSelect(n+"."+e.propertyPath,t)}));let a="";if(1===e.joinColumns.length){const i=t.map((t=>e.joinColumns[0].referencedColumn.getEntityValue(t)));i.every((e=>"number"==typeof e))?a=`${n}.${e.joinColumns[0].propertyPath} IN (${i.join(", ")})`:(r.setParameter("values",i),a=n+"."+e.joinColumns[0].propertyPath+" IN (:...values)")}else a=t.map(((t,i)=>e.joinColumns.map(((e,a)=>{const s="entity"+i+"_"+a;return r.setParameter(s,e.referencedColumn.getEntityValue(t)),n+"."+e.propertyPath+" = :"+s})).join(" AND "))).map((e=>"("+e+")")).join(" OR ");return r.from(e.entityMetadata.target,n).where(a).getRawMany()}}class lO{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationIds.forEach((e=>{const t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationIdAttributes.push(t)})),this.expressionMap.joinAttributes.forEach((e=>{e.metadata&&!e.metadata.isJunction&&e.metadata.relationIds.forEach((t=>{const i=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationIdAttributes.push(i)}))}))}metadataToAttribute(e,t){return new rO(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}}class cO{constructor(e,t,i){this.connection=e,this.queryRunner=t,this.relationCountAttributes=i}async load(e){const t=(e,t,i)=>i.indexOf(e)===t,i=this.relationCountAttributes.map((async i=>{if(i.relation.isOneToMany){const n=i.relation,r=n.inverseRelation,a=r.joinColumns[0].referencedColumn.propertyName,s=n.inverseEntityMetadata.target,o=n.inverseEntityMetadata.tableName,l=i.alias||o,c=r.propertyName;let d=e.map((e=>e[i.parentAlias+"_"+a])).filter((e=>!!e));if(d=d.filter(t),0===d.length)return{relationCountAttribute:i,results:[]};const u=this.connection.createQueryBuilder(this.queryRunner);return u.select(l+"."+c,"parentId").addSelect("COUNT(*)","cnt").from(s,l).where(l+"."+c+" IN (:...ids)").addGroupBy(l+"."+c).setParameter("ids",d),i.queryBuilderFactory&&i.queryBuilderFactory(u),{relationCountAttribute:i,results:await u.getRawMany()}}{let n,r,a,s;i.relation.isOwning?(n=i.relation.joinColumns[0].referencedColumn.databaseName,r=i.relation.inverseJoinColumns[0].referencedColumn.databaseName,a=i.relation.junctionEntityMetadata.columns[0],s=i.relation.junctionEntityMetadata.columns[1]):(n=i.relation.inverseRelation.inverseJoinColumns[0].referencedColumn.databaseName,r=i.relation.inverseRelation.joinColumns[0].referencedColumn.databaseName,a=i.relation.junctionEntityMetadata.columns[1],s=i.relation.junctionEntityMetadata.columns[0]);let o=e.map((e=>e[i.parentAlias+"_"+n])).filter((e=>!!e));if(o=o.filter(t),0===o.length)return{relationCountAttribute:i,results:[]};const l=i.junctionAlias,c=i.joinInverseSideMetadata.tableName,d=i.alias||c,u=i.relation.junctionEntityMetadata.tableName,h=l+"."+a.propertyName+" IN ("+o.map((e=>isNaN(e)?"'"+e+"'":e))+") AND "+l+"."+s.propertyName+" = "+d+"."+r,p=this.connection.createQueryBuilder(this.queryRunner);return p.select(l+"."+a.propertyName,"parentId").addSelect("COUNT("+p.escape(d)+"."+p.escape(r)+")","cnt").from(c,d).innerJoin(u,l,h).addGroupBy(l+"."+a.propertyName),i.queryBuilderFactory&&i.queryBuilderFactory(p),{relationCountAttribute:i,results:await p.getRawMany()}}}));return Promise.all(i)}}class dO{constructor(e){this.expressionMap=e}transform(){this.expressionMap.mainAlias&&this.expressionMap.mainAlias.metadata.relationCounts.forEach((e=>{const t=this.metadataToAttribute(this.expressionMap.mainAlias.name,e);this.expressionMap.relationCountAttributes.push(t)})),this.expressionMap.joinAttributes.forEach((e=>{e.metadata&&!e.metadata.isJunction&&e.metadata.relationCounts.forEach((t=>{const i=this.metadataToAttribute(e.alias.name,t);this.expressionMap.relationCountAttributes.push(i)}))}))}metadataToAttribute(e,t){return new aO(this.expressionMap,{relationName:e+"."+t.relation.propertyName,mapToProperty:e+"."+t.propertyName,alias:t.alias,queryBuilderFactory:t.queryBuilderFactory})}}class uO{constructor(e){sk.assign(this,e||{})}get target(){return this.metadata.target}get hasMetadata(){return!!this._metadata}set metadata(e){this._metadata=e}get metadata(){if(!this._metadata)throw new YC(`Cannot get entity metadata for the given alias "${this.name}"`);return this._metadata}}class hO{constructor(e){var t;this.connection=e,this.relationLoadStrategy="join",this.queryEntity=!1,this.aliases=[],this.queryType="select",this.selects=[],this.maxExecutionTime=0,this.selectDistinct=!1,this.selectDistinctOn=[],this.extraReturningColumns=[],this.onConflict="",this.onIgnore=!1,this.joinAttributes=[],this.relationIdAttributes=[],this.relationCountAttributes=[],this.wheres=[],this.havings=[],this.orderBys={},this.groupBys=[],this.withDeleted=!1,this.parameters={},this.disableEscaping=!0,this.enableRelationIdValues=!1,this.extraAppendedAndWhereCondition="",this.subQuery=!1,this.aliasNamePrefixingEnabled=!0,this.cache=!1,this.options=[],this.insertColumns=[],this.whereEntities=[],this.updateEntity=!0,this.callListeners=!0,this.useTransaction=!1,this.nativeParameters={},this.locallyGenerated={},this.commonTableExpressions=[],e.options.relationLoadStrategy&&(this.relationLoadStrategy=e.options.relationLoadStrategy),this.timeTravel=(null===(t=e.options)||void 0===t?void 0:t.timeTravelQueries)||!1}get allOrderBys(){if(!Object.keys(this.orderBys).length&&this.mainAlias.hasMetadata&&-1===this.options.indexOf("disable-global-order")){const e=this.mainAlias.metadata.orderBy||{};return Object.keys(e).reduce(((t,i)=>(t[this.mainAlias.name+"."+i]=e[i],t)),{})}return this.orderBys}setMainAlias(e){return this.mainAlias=e,e}createAlias(e){let t=e.name;!t&&e.tablePath&&(t=e.tablePath),t||"function"!=typeof e.target||(t=e.target.name),t||"string"!=typeof e.target||(t=e.target);const i=new uO;return i.type=e.type,t&&(i.name=t),e.metadata&&(i.metadata=e.metadata),e.target&&!i.hasMetadata&&(i.metadata=this.connection.getMetadata(e.target)),e.tablePath&&(i.tablePath=e.tablePath),e.subQuery&&(i.subQuery=e.subQuery),this.aliases.push(i),i}findAliasByName(e){const t=this.aliases.find((t=>t.name===e));if(!t)throw new YC(`"${e}" alias was not found. Maybe you forgot to join it?`);return t}findColumnByAliasExpression(e){const[t,i]=e.split(".");return this.findAliasByName(t).metadata.findColumnWithPropertyName(i)}get relationMetadata(){if(!this.mainAlias)throw new YC("Entity to work with is not specified!");const e=this.mainAlias.metadata.findRelationWithPropertyPath(this.relationPropertyPath);if(!e)throw new YC(`Relation ${this.relationPropertyPath} was not found in entity ${this.mainAlias.name}`);return e}clone(){const e=new hO(this.connection);return e.queryType=this.queryType,e.selects=this.selects.map((e=>e)),e.maxExecutionTime=this.maxExecutionTime,e.selectDistinct=this.selectDistinct,e.selectDistinctOn=this.selectDistinctOn,this.aliases.forEach((t=>e.aliases.push(new uO(t)))),e.relationLoadStrategy=this.relationLoadStrategy,e.mainAlias=this.mainAlias,e.valuesSet=this.valuesSet,e.returning=this.returning,e.onConflict=this.onConflict,e.onIgnore=this.onIgnore,e.onUpdate=this.onUpdate,e.joinAttributes=this.joinAttributes.map((e=>new nO(this.connection,this,e))),e.relationIdAttributes=this.relationIdAttributes.map((e=>new rO(this,e))),e.relationCountAttributes=this.relationCountAttributes.map((e=>new aO(this,e))),e.wheres=this.wheres.map((e=>({...e}))),e.havings=this.havings.map((e=>({...e}))),e.orderBys=Object.assign({},this.orderBys),e.groupBys=this.groupBys.map((e=>e)),e.limit=this.limit,e.offset=this.offset,e.skip=this.skip,e.take=this.take,e.lockMode=this.lockMode,e.onLocked=this.onLocked,e.lockVersion=this.lockVersion,e.lockTables=this.lockTables,e.withDeleted=this.withDeleted,e.parameters=Object.assign({},this.parameters),e.disableEscaping=this.disableEscaping,e.enableRelationIdValues=this.enableRelationIdValues,e.extraAppendedAndWhereCondition=this.extraAppendedAndWhereCondition,e.subQuery=this.subQuery,e.aliasNamePrefixingEnabled=this.aliasNamePrefixingEnabled,e.cache=this.cache,e.cacheId=this.cacheId,e.cacheDuration=this.cacheDuration,e.relationPropertyPath=this.relationPropertyPath,e.of=this.of,e.insertColumns=this.insertColumns,e.whereEntities=this.whereEntities,e.updateEntity=this.updateEntity,e.callListeners=this.callListeners,e.useTransaction=this.useTransaction,e.timeTravel=this.timeTravel,e.nativeParameters=Object.assign({},this.nativeParameters),e.comment=this.comment,e.commonTableExpressions=this.commonTableExpressions.map((e=>({alias:e.alias,queryBuilder:"string"==typeof e.queryBuilder?e.queryBuilder:e.queryBuilder.clone(),options:e.options}))),e}}class pO{constructor(e,t,i=!0,n=!1,r,a){this["@instanceof"]=Symbol.for("FindOperator"),this._type=e,this._value=t,this._useParameter=i,this._multipleParameters=n,this._getSql=r,this._objectLiteralParameters=a}get useParameter(){return ok.isFindOperator(this._value)?this._value.useParameter:this._useParameter}get multipleParameters(){return ok.isFindOperator(this._value)?this._value.multipleParameters:this._multipleParameters}get type(){return this._type}get value(){return ok.isFindOperator(this._value)?this._value.value:this._value}get objectLiteralParameters(){return ok.isFindOperator(this._value)?this._value.objectLiteralParameters:this._objectLiteralParameters}get child(){if(ok.isFindOperator(this._value))return this._value}get getSql(){return ok.isFindOperator(this._value)?this._value.getSql:this._getSql}transformValue(e){this._value instanceof pO?this._value.transformValue(e):this._value=Array.isArray(this._value)&&this._multipleParameters?this._value.map((t=>e&&DA.transformTo(e,t))):DA.transformTo(e,this._value)}}const mO=/[.*+\-?^${}()|[\]\\]/g;class fO{constructor(e,t){this["@instanceof"]=Symbol.for("QueryBuilder"),this.parameterIndex=0,ok.isDataSource(e)?(this.connection=e,this.queryRunner=t,this.expressionMap=new hO(this.connection)):(this.connection=e.connection,this.queryRunner=e.queryRunner,this.expressionMap=e.expressionMap.clone())}get alias(){if(!this.expressionMap.mainAlias)throw new YC("Main alias is not set");return this.expressionMap.mainAlias.name}select(e,t){this.expressionMap.queryType="select",Array.isArray(e)?this.expressionMap.selects=e.map((e=>({selection:e}))):e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);const i=require("./SelectQueryBuilder").SelectQueryBuilder;return ok.isSelectQueryBuilder(this)?this:new i(this)}insert(){this.expressionMap.queryType="insert";const e=require("./InsertQueryBuilder").InsertQueryBuilder;return ok.isInsertQueryBuilder(this)?this:new e(this)}update(e,t){const i=t||e;if("function"==typeof(e=ok.isEntitySchema(e)?e.options.name:e)||"string"==typeof e){const t=this.createFromAlias(e);this.expressionMap.setMainAlias(t)}this.expressionMap.queryType="update",this.expressionMap.valuesSet=i;const n=require("./UpdateQueryBuilder").UpdateQueryBuilder;return ok.isUpdateQueryBuilder(this)?this:new n(this)}delete(){this.expressionMap.queryType="delete";const e=require("./DeleteQueryBuilder").DeleteQueryBuilder;return ok.isDeleteQueryBuilder(this)?this:new e(this)}softDelete(){this.expressionMap.queryType="soft-delete";const e=require("./SoftDeleteQueryBuilder").SoftDeleteQueryBuilder;return ok.isSoftDeleteQueryBuilder(this)?this:new e(this)}restore(){this.expressionMap.queryType="restore";const e=require("./SoftDeleteQueryBuilder").SoftDeleteQueryBuilder;return ok.isSoftDeleteQueryBuilder(this)?this:new e(this)}relation(e,t){const i=2===arguments.length?e:void 0,n=2===arguments.length?t:e;if(this.expressionMap.queryType="relation",this.expressionMap.relationPropertyPath=n,i){const e=this.createFromAlias(i);this.expressionMap.setMainAlias(e)}const r=require("./RelationQueryBuilder").RelationQueryBuilder;return ok.isRelationQueryBuilder(this)?this:new r(this)}hasRelation(e,t){const i=this.connection.getMetadata(e);return(Array.isArray(t)?t:[t]).every((e=>!!i.findRelationWithPropertyPath(e)))}hasParameter(e){var t;return(null===(t=this.parentQueryBuilder)||void 0===t?void 0:t.hasParameter(e))||e in this.expressionMap.parameters}setParameter(e,t){if("function"==typeof t)throw new YC(`Function parameter isn't supported in the parameters. Please check "${e}" parameter.`);if(!e.match(/^([A-Za-z0-9_.]+)$/))throw new YC("QueryBuilder parameter keys may only contain numbers, letters, underscores, or periods.");return this.parentQueryBuilder&&this.parentQueryBuilder.setParameter(e,t),this.expressionMap.parameters[e]=t,this}setParameters(e){for(const[t,i]of Object.entries(e))this.setParameter(t,i);return this}createParameter(e){let t;do{t="orm_param_"+this.parameterIndex++}while(this.hasParameter(t));return this.setParameter(t,e),`:${t}`}setNativeParameters(e){return this.parentQueryBuilder&&this.parentQueryBuilder.setNativeParameters(e),Object.keys(e).forEach((t=>{this.expressionMap.nativeParameters[t]=e[t]})),this}getParameters(){const e=Object.assign({},this.expressionMap.parameters);if(this.expressionMap.mainAlias&&this.expressionMap.mainAlias.hasMetadata){const t=this.expressionMap.mainAlias.metadata;if(t.discriminatorColumn&&t.parentEntityMetadata){const i=t.childEntityMetadatas.filter((e=>e.discriminatorColumn)).map((e=>e.discriminatorValue));i.push(t.discriminatorValue),e.discriminatorColumnValues=i}}return e}printSql(){const[e,t]=this.getQueryAndParameters();return this.connection.logger.logQuery(e,t),this}getSql(){return this.getQueryAndParameters()[0]}getQueryAndParameters(){const e=this.getQuery(),t=this.getParameters();return this.connection.driver.escapeQueryWithParameters(e,t,this.expressionMap.nativeParameters)}async execute(){const[e,t]=this.getQueryAndParameters(),i=this.obtainQueryRunner();try{return await i.query(e,t)}finally{i!==this.queryRunner&&await i.release()}}createQueryBuilder(){return new this.constructor(this.connection,this.queryRunner)}clone(){return new this.constructor(this)}comment(e){return this.expressionMap.comment=e,this}disableEscaping(){return this.expressionMap.disableEscaping=!1,this}escape(e){return this.expressionMap.disableEscaping?this.connection.driver.escape(e):e}setQueryRunner(e){return this.queryRunner=e,this}callListeners(e){return this.expressionMap.callListeners=e,this}useTransaction(e){return this.expressionMap.useTransaction=e,this}addCommonTableExpression(e,t,i){return this.expressionMap.commonTableExpressions.push({queryBuilder:e,alias:t,options:i||{}}),this}getTableName(e){return e.split(".").map((e=>""===e?e:this.escape(e))).join(".")}getMainTableName(){if(!this.expressionMap.mainAlias)throw new YC('Entity where values should be inserted is not specified. Call "qb.into(entity)" method to specify it.');return this.expressionMap.mainAlias.hasMetadata?this.expressionMap.mainAlias.metadata.tablePath:this.expressionMap.mainAlias.tablePath}createFromAlias(e,t){if(this.connection.hasMetadata(e)){const i=this.connection.getMetadata(e);return this.expressionMap.createAlias({type:"from",name:t,metadata:this.connection.getMetadata(e),tablePath:i.tablePath})}{if("string"==typeof e){const i="("===e.substr(0,1)&&")"===e.substr(-1);return this.expressionMap.createAlias({type:"from",name:t,tablePath:i?void 0:e,subQuery:i?e:void 0})}const i=e(this.subQuery());this.setParameters(i.getParameters());const n=i.getQuery();return this.expressionMap.createAlias({type:"from",name:t,subQuery:n})}}replacePropertyNames(e){return e}replacePropertyNamesForTheWholeQuery(e){const t={};for(const r of this.expressionMap.aliases){if(!r.hasMetadata)continue;const e=this.expressionMap.aliasNamePrefixingEnabled&&r.name?`${r.name}.`:"";t[e]||(t[e]={});for(const i of r.metadata.relations)i.joinColumns.length>0&&(t[e][i.propertyPath]=i.joinColumns[0].databaseName);for(const i of r.metadata.relations){const n=[...i.joinColumns,...i.inverseJoinColumns];for(const r of n){const n=`${i.propertyPath}.${r.referencedColumn.propertyPath}`;t[e][n]=r.databaseName}}for(const i of r.metadata.columns)t[e][i.databaseName]=i.databaseName;for(const i of r.metadata.columns)t[e][i.propertyName]=i.databaseName;for(const i of r.metadata.columns)t[e][i.propertyPath]=i.databaseName}const i=Object.keys(t),n=i.map((e=>(e=>e.replace(mO,"\\$&"))(e))).join("|");return i.length>0&&(e=e.replace(new RegExp("([ =(]|^.{0})"+(n?"("+n+")":"")+"([^ =(),]+)(?=[ =),]|.{0}$)","gm"),((...e)=>{let i,r,a;if(n){if(i=e[0],r=e[1],a=e[3],t[e[2]][a])return`${r}${this.escape(e[2].substring(0,e[2].length-1))}.${this.escape(t[e[2]][a])}`}else if(i=e[0],r=e[1],a=e[2],t[""][a])return`${r}${this.escape(t[""][a])}`;return i}))),e}createComment(){return this.expressionMap.comment?`/* ${this.expressionMap.comment.replace("*/","")} */ `:""}createTimeTravelQuery(){return"select"===this.expressionMap.queryType&&this.expressionMap.timeTravel?` AS OF SYSTEM TIME ${this.expressionMap.timeTravel}`:""}createWhereExpression(){const e=[],t=this.createWhereClausesExpression(this.expressionMap.wheres);if(t.length>0&&"1=1"!==t&&e.push(this.replacePropertyNames(t)),this.expressionMap.mainAlias.hasMetadata){const t=this.expressionMap.mainAlias.metadata;if("select"===this.expressionMap.queryType&&!this.expressionMap.withDeleted&&t.deleteDateColumn){const i=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+t.deleteDateColumn.propertyName:t.deleteDateColumn.propertyName,n=`${this.replacePropertyNames(i)} IS NULL`;e.push(n)}if(t.discriminatorColumn&&t.parentEntityMetadata){const i=this.expressionMap.aliasNamePrefixingEnabled?this.expressionMap.mainAlias.name+"."+t.discriminatorColumn.databaseName:t.discriminatorColumn.databaseName,n=`${this.replacePropertyNames(i)} IN (:...discriminatorColumnValues)`;e.push(n)}}if(this.expressionMap.extraAppendedAndWhereCondition){const t=this.replacePropertyNames(this.expressionMap.extraAppendedAndWhereCondition);e.push(t)}let i="";return i+=this.createTimeTravelQuery(),e.length?1===e.length?i+=` WHERE ${e[0]}`:i+=` WHERE ( ${e.join(" ) AND ( ")} )`:i+="",i}createReturningExpression(e){const t=this.getReturningColumns(),i=this.connection.driver;if("string"!=typeof this.expressionMap.returning&&this.expressionMap.extraReturningColumns.length>0&&i.isReturningSqlSupported(e)&&t.push(...this.expressionMap.extraReturningColumns.filter((e=>-1===t.indexOf(e)))),t.length){let e=t.map((e=>{const t=this.escape(e.databaseName);return"mssql"===i.options.type?"insert"===this.expressionMap.queryType||"update"===this.expressionMap.queryType||"soft-delete"===this.expressionMap.queryType||"restore"===this.expressionMap.queryType?"INSERTED."+t:this.escape(this.getMainTableName())+"."+t:t})).join(", ");return"oracle"===i.options.type&&(e+=" INTO "+t.map((e=>this.createParameter({type:i.columnTypeToNativeParameter(e.type),dir:i.oracle.BIND_OUT}))).join(", ")),"mssql"===i.options.type&&("insert"!==this.expressionMap.queryType&&"update"!==this.expressionMap.queryType||(e+=" INTO @OutputTable")),e}return"string"==typeof this.expressionMap.returning?this.expressionMap.returning:""}getReturningColumns(){const e=[];return Array.isArray(this.expressionMap.returning)&&this.expressionMap.returning.forEach((t=>{this.expressionMap.mainAlias.hasMetadata&&e.push(...this.expressionMap.mainAlias.metadata.findColumnsWithPropertyPath(t))})),e}createWhereClausesExpression(e){return e.map(((e,t)=>{const i=this.createWhereConditionExpression(e.condition);switch(e.type){case"and":return(t>0?"AND ":"")+i;case"or":return(t>0?"OR ":"")+i}return i})).join(" ").trim()}createWhereConditionExpression(e,t=!1){if("string"==typeof e)return e;if(Array.isArray(e))return 0===e.length?"1=1":1!==e.length||t?"("+this.createWhereClausesExpression(e)+")":this.createWhereClausesExpression(e);const{driver:i}=this.connection;switch(e.operator){case"lessThan":return`${e.parameters[0]} < ${e.parameters[1]}`;case"lessThanOrEqual":return`${e.parameters[0]} <= ${e.parameters[1]}`;case"arrayContains":return`${e.parameters[0]} @> ${e.parameters[1]}`;case"jsonContains":return`${e.parameters[0]} ::jsonb @> ${e.parameters[1]}`;case"arrayContainedBy":return`${e.parameters[0]} <@ ${e.parameters[1]}`;case"arrayOverlap":return`${e.parameters[0]} && ${e.parameters[1]}`;case"moreThan":return`${e.parameters[0]} > ${e.parameters[1]}`;case"moreThanOrEqual":return`${e.parameters[0]} >= ${e.parameters[1]}`;case"notEqual":return`${e.parameters[0]} != ${e.parameters[1]}`;case"equal":return`${e.parameters[0]} = ${e.parameters[1]}`;case"ilike":return"postgres"===i.options.type||"cockroachdb"===i.options.type?`${e.parameters[0]} ILIKE ${e.parameters[1]}`:`UPPER(${e.parameters[0]}) LIKE UPPER(${e.parameters[1]})`;case"like":return`${e.parameters[0]} LIKE ${e.parameters[1]}`;case"between":return`${e.parameters[0]} BETWEEN ${e.parameters[1]} AND ${e.parameters[2]}`;case"in":return e.parameters.length<=1?"0=1":`${e.parameters[0]} IN (${e.parameters.slice(1).join(", ")})`;case"any":return"cockroachdb"===i.options.type?`${e.parameters[0]}::STRING = ANY(${e.parameters[1]}::STRING[])`:`${e.parameters[0]} = ANY(${e.parameters[1]})`;case"isNull":return`${e.parameters[0]} IS NULL`;case"not":return`NOT(${this.createWhereConditionExpression(e.condition)})`;case"brackets":return`${this.createWhereConditionExpression(e.condition,!0)}`;case"and":return e.parameters.join(" AND ")}throw new TypeError(`Unsupported FindOperator ${pO.constructor.name}`)}createCteExpression(){if(!this.hasCommonTableExpressions())return"";const e=this.connection.driver.cteCapabilities.requiresRecursiveHint;return"WITH "+this.expressionMap.commonTableExpressions.map((t=>{const i="string"==typeof t.queryBuilder?t.queryBuilder:t.queryBuilder.getQuery();if("string"!=typeof t.queryBuilder){if(t.queryBuilder.hasCommonTableExpressions())throw new YC(`Nested CTEs aren't supported (CTE: ${t.alias})`);if(!this.connection.driver.cteCapabilities.writable&&!ok.isSelectQueryBuilder(t.queryBuilder))throw new YC(`Only select queries are supported in CTEs in ${this.connection.options.type} (CTE: ${t.alias})`);this.setParameters(t.queryBuilder.getParameters())}let n=this.escape(t.alias);if(t.options.columnNames){const e=t.options.columnNames.map((e=>this.escape(e)));if(ok.isSelectQueryBuilder(t.queryBuilder)&&t.queryBuilder.expressionMap.selects.length&&t.options.columnNames.length!==t.queryBuilder.expressionMap.selects.length)throw new YC(`cte.options.columnNames length (${t.options.columnNames.length}) doesn't match subquery select list length ${t.queryBuilder.expressionMap.selects.length} (CTE: ${t.alias})`);n+=`(${e.join(", ")})`}const r=t.options.recursive&&e?"RECURSIVE":"";let a="";return this.connection.driver.cteCapabilities.materializedHint&&void 0!==t.options.materialized&&(a=t.options.materialized?"MATERIALIZED":"NOT MATERIALIZED"),[r,n,"AS",a,`(${i})`].filter(Boolean).join(" ")})).join(", ")+" "}getWhereInIdsCondition(e){const t=this.expressionMap.mainAlias.metadata,i=(Array.isArray(e)?e:[e]).map((e=>t.ensureEntityIdMap(e)));if(!t.hasMultiplePrimaryKeys){const e=t.primaryColumns[0];if(!e.transformer&&!e.relationMetadata&&!e.embeddedMetadata)return{[e.propertyName]:(n=i.map((t=>e.getEntityValue(t,!1))),new pO("in",n,!0,!0))}}var n;return new zA((e=>{for(const t of i)e.orWhere(new zA((e=>e.where(t))))}))}getExistsCondition(e){const t=e.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select("1").setOption("disable-global-order");return[`EXISTS (${t.getQuery()})`,t.getParameters()]}findColumnsForPropertyPath(e){let t=this.expressionMap.mainAlias;const i=[],n=e.split(".");for(;n.length>1;){const e=n[0];if(!(null==t?void 0:t.hasMetadata))break;if(t.metadata.hasEmbeddedWithPropertyPath(e))n.unshift(`${n.shift()}.${n.shift()}`);else{if(!t.metadata.hasRelationWithPropertyPath(e))break;{const r=this.expressionMap.joinAttributes.find((t=>t.relationPropertyPath===e));if(!(null==r?void 0:r.alias)){const t=i.length>0?`${i.join(".")}.${e}`:e;throw new Error(`Cannot find alias for relation at ${t}`)}t=r.alias,i.push(...e.split(".")),n.shift()}}}if(!t)throw new Error(`Cannot find alias for property ${e}`);const r=n.join("."),a=t.metadata.findColumnsWithPropertyPath(r);if(!a.length)throw new vk(e,t.metadata);return[t,i,a]}createPropertyPath(e,t,i=""){const n=[];for(const r of Object.keys(t)){const a=i?`${i}.${r}`:r;if(null===t[r]||"object"!=typeof t[r]||ok.isFindOperator(t[r]))n.push(a);else if(e.hasEmbeddedWithPropertyPath(a)){const i=this.createPropertyPath(e,t[r],a);n.push(...i)}else if(e.hasRelationWithPropertyPath(a)){const i=e.findRelationWithPropertyPath(a);if("one-to-one"===i.relationType||"many-to-one"===i.relationType){const e=i.joinColumns.map((e=>e.referencedColumn)).filter((e=>!!e));if(e.length>0&&e.every((e=>e.getEntityValue(t[r],!1)))){n.push(a);continue}}if("one-to-many"===i.relationType||"many-to-many"===i.relationType)throw new Error(`Cannot query across ${i.relationType} for property ${a}`);const s=i.inverseEntityMetadata.primaryColumns;if(s.length>0&&s.every((e=>e.getEntityValue(t[r],!1)))){const e=s.map((e=>`${a}.${e.propertyPath}`));n.push(...e);continue}const o=this.createPropertyPath(i.inverseEntityMetadata,t[r]).map((e=>`${a}.${e}`));n.push(...o)}else n.push(a)}return n}*getPredicates(e){if(this.expressionMap.mainAlias.hasMetadata){const t=this.createPropertyPath(this.expressionMap.mainAlias.metadata,e);for(const i of t){const[t,n,r]=this.findColumnsForPropertyPath(i);for(const i of r){let r=e;for(const e of n){if(!r||!(e in r)){r={};break}r=r[e]}const a=this.expressionMap.aliasNamePrefixingEnabled?`${t.name}.${i.propertyPath}`:i.propertyPath,s=i.getEntityValue(r,!0);yield[a,s]}}}else for(const t of Object.keys(e)){const i=e[t],n=this.expressionMap.aliasNamePrefixingEnabled?`${this.alias}.${t}`:t;yield[n,i]}}getWherePredicateCondition(e,t){if(ok.isFindOperator(t)){let i=[];if(t.useParameter)if(t.objectLiteralParameters)this.setParameters(t.objectLiteralParameters);else if(t.multipleParameters)for(const e of t.value)i.push(this.createParameter(e));else i.push(this.createParameter(t.value));if("raw"===t.type)return t.getSql?t.getSql(e):{operator:"equal",parameters:[e,t.value]};if("not"===t.type)return t.child?{operator:t.type,condition:this.getWherePredicateCondition(e,t.child)}:{operator:"notEqual",parameters:[e,...i]};if("and"===t.type){const i=t.value;return{operator:t.type,parameters:i.map((t=>this.createWhereConditionExpression(this.getWherePredicateCondition(e,t))))}}return{operator:t.type,parameters:[e,...i]}}return{operator:"equal",parameters:[e,this.createParameter(t)]}}getWhereCondition(e){if("string"==typeof e)return e;if(ok.isBrackets(e)){const t=this.createQueryBuilder();return t.parentQueryBuilder=this,t.expressionMap.mainAlias=this.expressionMap.mainAlias,t.expressionMap.aliasNamePrefixingEnabled=this.expressionMap.aliasNamePrefixingEnabled,t.expressionMap.parameters=this.expressionMap.parameters,t.expressionMap.nativeParameters=this.expressionMap.nativeParameters,t.expressionMap.wheres=[],e.whereFactory(t),{operator:ok.isNotBrackets(e)?"not":"brackets",condition:t.expressionMap.wheres}}if("function"==typeof e)return e(this);const t=Array.isArray(e)?e:[e],i=[];for(const n of t){const e=[];for(const[t,i]of this.getPredicates(n))e.push({type:"and",condition:this.getWherePredicateCondition(t,i)});i.push({type:"or",condition:e})}return 1===i.length?i[0].condition:i}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner()}hasCommonTableExpressions(){return this.expressionMap.commonTableExpressions.length>0}}class gO extends fO{constructor(){super(...arguments),this["@instanceof"]=Symbol.for("SelectQueryBuilder"),this.findOptions={},this.selects=[],this.joins=[],this.conditions="",this.orderBys=[],this.relationMetadatas=[]}getQuery(){let e=this.createComment();return e+=this.createCteExpression(),e+=this.createSelectExpression(),e+=this.createJoinExpression(),e+=this.createWhereExpression(),e+=this.createGroupByExpression(),e+=this.createHavingExpression(),e+=this.createOrderByExpression(),e+=this.createLimitOffsetExpression(),e+=this.createLockExpression(),e=e.trim(),this.expressionMap.subQuery&&(e="("+e+")"),this.replacePropertyNamesForTheWholeQuery(e)}setFindOptions(e){return this.findOptions=e,this.applyFindOptions(),this}subQuery(){const e=this.createQueryBuilder();return e.expressionMap.subQuery=!0,e.parentQueryBuilder=this,e}select(e,t){if(this.expressionMap.queryType="select",Array.isArray(e))this.expressionMap.selects=e.map((e=>({selection:e})));else if("function"==typeof e){const i=e(this.subQuery());this.setParameters(i.getParameters()),this.expressionMap.selects.push({selection:i.getQuery(),aliasName:t})}else e&&(this.expressionMap.selects=[{selection:e,aliasName:t}]);return this}addSelect(e,t){if(!e)return this;if(Array.isArray(e))this.expressionMap.selects=this.expressionMap.selects.concat(e.map((e=>({selection:e}))));else if("function"==typeof e){const i=e(this.subQuery());this.setParameters(i.getParameters()),this.expressionMap.selects.push({selection:i.getQuery(),aliasName:t})}else e&&this.expressionMap.selects.push({selection:e,aliasName:t});return this}maxExecutionTime(e){return this.expressionMap.maxExecutionTime=e,this}distinct(e=!0){return this.expressionMap.selectDistinct=e,this}distinctOn(e){return this.expressionMap.selectDistinctOn=e,this}fromDummy(){var e;return this.from(null!==(e=this.connection.driver.dummyTableName)&&void 0!==e?e:"(SELECT 1 AS dummy_column)","dummy_table")}from(e,t){const i=this.createFromAlias(e,t);return this.expressionMap.setMainAlias(i),this}addFrom(e,t){const i=this.createFromAlias(e,t);return this.expressionMap.mainAlias||this.expressionMap.setMainAlias(i),this}innerJoin(e,t,i,n){return this.join("INNER",e,t,i,n),this}leftJoin(e,t,i,n){return this.join("LEFT",e,t,i,n),this}innerJoinAndSelect(e,t,i,n){return this.addSelect(t),this.innerJoin(e,t,i,n),this}leftJoinAndSelect(e,t,i,n){return this.addSelect(t),this.leftJoin(e,t,i,n),this}innerJoinAndMapMany(e,t,i,n,r){return this.addSelect(i),this.join("INNER",t,i,n,r,e,!0),this}innerJoinAndMapOne(e,t,i,n,r,a){return this.addSelect(i),this.join("INNER",t,i,n,r,e,!1,a),this}leftJoinAndMapMany(e,t,i,n,r){return this.addSelect(i),this.join("LEFT",t,i,n,r,e,!0),this}leftJoinAndMapOne(e,t,i,n,r,a){return this.addSelect(i),this.join("LEFT",t,i,n,r,e,!1,a),this}loadRelationIdAndMap(e,t,i,n){const r=new rO(this.expressionMap);return r.mapToProperty=e,r.relationName=t,"string"==typeof i&&(r.alias=i),"object"==typeof i&&i.disableMixedMap&&(r.disableMixedMap=!0),r.queryBuilderFactory=n,this.expressionMap.relationIdAttributes.push(r),r.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:r.junctionAlias,metadata:r.relation.junctionEntityMetadata}),this}loadRelationCountAndMap(e,t,i,n){const r=new aO(this.expressionMap);return r.mapToProperty=e,r.relationName=t,r.alias=i,r.queryBuilderFactory=n,this.expressionMap.relationCountAttributes.push(r),this.expressionMap.createAlias({type:"other",name:r.junctionAlias}),r.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"other",name:r.junctionAlias,metadata:r.relation.junctionEntityMetadata}),this}loadAllRelationIds(e){return this.expressionMap.mainAlias.metadata.relations.forEach((t=>{void 0!==e&&void 0!==e.relations&&-1===e.relations.indexOf(t.propertyPath)||this.loadRelationIdAndMap(this.expressionMap.mainAlias.name+"."+t.propertyPath,this.expressionMap.mainAlias.name+"."+t.propertyPath,e)})),this}where(e,t){this.expressionMap.wheres=[];const i=this.getWhereCondition(e);return i&&(this.expressionMap.wheres=[{type:"simple",condition:i}]),t&&this.setParameters(t),this}andWhere(e,t){return this.expressionMap.wheres.push({type:"and",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}orWhere(e,t){return this.expressionMap.wheres.push({type:"or",condition:this.getWhereCondition(e)}),t&&this.setParameters(t),this}whereExists(e){return this.where(...this.getExistsCondition(e))}andWhereExists(e){return this.andWhere(...this.getExistsCondition(e))}orWhereExists(e){return this.orWhere(...this.getExistsCondition(e))}whereInIds(e){return this.where(this.getWhereInIdsCondition(e))}andWhereInIds(e){return this.andWhere(this.getWhereInIdsCondition(e))}orWhereInIds(e){return this.orWhere(this.getWhereInIdsCondition(e))}having(e,t){return this.expressionMap.havings.push({type:"simple",condition:e}),t&&this.setParameters(t),this}andHaving(e,t){return this.expressionMap.havings.push({type:"and",condition:e}),t&&this.setParameters(t),this}orHaving(e,t){return this.expressionMap.havings.push({type:"or",condition:e}),t&&this.setParameters(t),this}groupBy(e){return this.expressionMap.groupBys=e?[e]:[],this}addGroupBy(e){return this.expressionMap.groupBys.push(e),this}timeTravelQuery(e){return"cockroachdb"===this.connection.driver.options.type&&(this.expressionMap.timeTravel=void 0===e?"follower_read_timestamp()":e),this}orderBy(e,t="ASC",i){if(void 0!==t&&"ASC"!==t&&"DESC"!==t)throw new YC('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(void 0!==i&&"NULLS FIRST"!==i&&"NULLS LAST"!==i)throw new YC('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return this.expressionMap.orderBys=e?"object"==typeof e?e:i?{[e]:{order:t,nulls:i}}:{[e]:t}:{},this}addOrderBy(e,t="ASC",i){if(void 0!==t&&"ASC"!==t&&"DESC"!==t)throw new YC('SelectQueryBuilder.addOrderBy "order" can accept only "ASC" and "DESC" values.');if(void 0!==i&&"NULLS FIRST"!==i&&"NULLS LAST"!==i)throw new YC('SelectQueryBuilder.addOrderBy "nulls" can accept only "NULLS FIRST" and "NULLS LAST" values.');return this.expressionMap.orderBys[e]=i?{order:t,nulls:i}:t,this}limit(e){if(this.expressionMap.limit=this.normalizeNumber(e),void 0!==this.expressionMap.limit&&isNaN(this.expressionMap.limit))throw new YC('Provided "limit" value is not a number. Please provide a numeric value.');return this}offset(e){if(this.expressionMap.offset=this.normalizeNumber(e),void 0!==this.expressionMap.offset&&isNaN(this.expressionMap.offset))throw new YC('Provided "offset" value is not a number. Please provide a numeric value.');return this}take(e){if(this.expressionMap.take=this.normalizeNumber(e),void 0!==this.expressionMap.take&&isNaN(this.expressionMap.take))throw new YC('Provided "take" value is not a number. Please provide a numeric value.');return this}skip(e){if(this.expressionMap.skip=this.normalizeNumber(e),void 0!==this.expressionMap.skip&&isNaN(this.expressionMap.skip))throw new YC('Provided "skip" value is not a number. Please provide a numeric value.');return this}useIndex(e){return this.expressionMap.useIndex=e,this}setLock(e,t,i){return this.expressionMap.lockMode=e,this.expressionMap.lockVersion=t,this.expressionMap.lockTables=i,this}setOnLocked(e){return this.expressionMap.onLocked=e,this}withDeleted(){return this.expressionMap.withDeleted=!0,this}async getRawOne(){return(await this.getRawMany())[0]}async getRawMany(){if("optimistic"===this.expressionMap.lockMode)throw new Ek;this.expressionMap.queryEntity=!1;const e=this.obtainQueryRunner();let t=!1;try{!0===this.expressionMap.useTransaction&&!1===e.isTransactionActive&&(await e.startTransaction(),t=!0);const i=await this.loadRawResults(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(n){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getRawAndEntities(){const e=this.obtainQueryRunner();let t=!1;try{!0===this.expressionMap.useTransaction&&!1===e.isTransactionActive&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;const i=await this.executeEntitiesAndRawResults(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(n){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getOne(){const e=(await this.getRawAndEntities()).entities[0];if(e&&"optimistic"===this.expressionMap.lockMode&&this.expressionMap.lockVersion){const t=this.expressionMap.mainAlias.metadata;if(this.expressionMap.lockVersion instanceof Date){const i=t.updateDateColumn.getEntityValue(e);if(i.getTime()!==this.expressionMap.lockVersion.getTime())throw new uk(t.name,this.expressionMap.lockVersion,i)}else{const i=t.versionColumn.getEntityValue(e);if(i!==this.expressionMap.lockVersion)throw new uk(t.name,this.expressionMap.lockVersion,i)}}return void 0===e?null:e}async getOneOrFail(){const e=await this.getOne();if(!e)throw new lk(this.expressionMap.mainAlias.target,this.expressionMap.parameters);return e}async getMany(){if("optimistic"===this.expressionMap.lockMode)throw new Ek;return(await this.getRawAndEntities()).entities}async getCount(){if("optimistic"===this.expressionMap.lockMode)throw new Ek;const e=this.obtainQueryRunner();let t=!1;try{!0===this.expressionMap.useTransaction&&!1===e.isTransactionActive&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!1;const i=await this.executeCountQuery(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(n){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getExists(){if("optimistic"===this.expressionMap.lockMode)throw new Ek;const e=this.obtainQueryRunner();let t=!1;try{!0===this.expressionMap.useTransaction&&!1===e.isTransactionActive&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!1;const i=await this.executeExistsQuery(e);return t&&await e.commitTransaction(),i}catch(i){if(t)try{await e.rollbackTransaction()}catch(n){}throw i}finally{e!==this.queryRunner&&await e.release()}}async getManyAndCount(){if("optimistic"===this.expressionMap.lockMode)throw new Ek;const e=this.obtainQueryRunner();let t=!1;try{!0===this.expressionMap.useTransaction&&!1===e.isTransactionActive&&(await e.startTransaction(),t=!0),this.expressionMap.queryEntity=!0;const i=await this.executeEntitiesAndRawResults(e);this.expressionMap.queryEntity=!1;const n=this.expressionMap.cacheId;this.expressionMap.cacheId=n?`${n}-count`:n;const r=await this.executeCountQuery(e),a=[i.entities,r];return t&&await e.commitTransaction(),a}catch(i){if(t)try{await e.rollbackTransaction()}catch(n){}throw i}finally{e!==this.queryRunner&&await e.release()}}async stream(){this.expressionMap.queryEntity=!1;const[e,t]=this.getQueryAndParameters(),i=this.obtainQueryRunner();let n=!1;try{!0===this.expressionMap.useTransaction&&!1===i.isTransactionActive&&(await i.startTransaction(),n=!0);const r=()=>{if(i!==this.queryRunner)return i.release()},a=i.stream(e,t,r,r);return n&&await i.commitTransaction(),a}catch(r){if(n)try{await i.rollbackTransaction()}catch(a){}throw r}}cache(e,t){return"boolean"==typeof e?this.expressionMap.cache=e:"number"==typeof e?(this.expressionMap.cache=!0,this.expressionMap.cacheDuration=e):"string"!=typeof e&&"number"!=typeof e||(this.expressionMap.cache=!0,this.expressionMap.cacheId=e),t&&(this.expressionMap.cacheDuration=t),this}setOption(e){return this.expressionMap.options.push(e),this}join(e,t,i,n,r,a,s,o){r&&this.setParameters(r);const l=new nO(this.connection,this.expressionMap);l.direction=e,l.mapAsEntity=o,l.mapToProperty=a,l.isMappingMany=s,l.entityOrProperty=t,l.condition=n,this.expressionMap.joinAttributes.push(l);const c=l.metadata;if(c){if(c.deleteDateColumn&&!this.expressionMap.withDeleted){const e=`${i}.${c.deleteDateColumn.propertyName} IS NULL`;l.condition=l.condition?` ${l.condition} AND ${e}`:`${e}`}l.alias=this.expressionMap.createAlias({type:"join",name:i,metadata:c}),l.relation&&l.relation.junctionEntityMetadata&&this.expressionMap.createAlias({type:"join",name:l.junctionAlias,metadata:l.relation.junctionEntityMetadata})}else{let e="";if("function"==typeof t){const i=t(this.subQuery());this.setParameters(i.getParameters()),e=i.getQuery()}else e=t;const n="function"==typeof t||"("===t.substr(0,1)&&")"===t.substr(-1);l.alias=this.expressionMap.createAlias({type:"join",name:i,tablePath:!1===n?t:void 0,subQuery:!0===n?e:void 0})}}createSelectExpression(){if(!this.expressionMap.mainAlias)throw new YC("Cannot build query because main alias is not set (call qb#from method)");const e=[],t=[];if(this.expressionMap.mainAlias.hasMetadata){const i=this.expressionMap.mainAlias.metadata;e.push(...this.buildEscapedEntityColumnSelects(this.expressionMap.mainAlias.name,i)),t.push(...this.findEntityColumnSelects(this.expressionMap.mainAlias.name,i))}this.expressionMap.joinAttributes.forEach((i=>{if(i.metadata)e.push(...this.buildEscapedEntityColumnSelects(i.alias.name,i.metadata)),t.push(...this.findEntityColumnSelects(i.alias.name,i.metadata));else{const n=this.expressionMap.selects.some((e=>e.selection===i.alias.name));if(n){e.push({selection:this.escape(i.alias.name)+".*"});const n=this.expressionMap.selects.find((e=>e.selection===i.alias.name));t.push(n)}}})),this.expressionMap.selects.filter((e=>-1===t.indexOf(e))).forEach((t=>e.push({selection:this.replacePropertyNames(t.selection),aliasName:t.aliasName}))),0===e.length&&e.push({selection:"*"});let i="";this.expressionMap.useIndex&&Zk.isMySQLFamily(this.connection.driver)&&(i=` USE INDEX (${this.expressionMap.useIndex})`);const n=this.expressionMap.aliases.filter((e=>"from"===e.type&&(e.tablePath||e.subQuery))).map((e=>e.subQuery?e.subQuery+" "+this.escape(e.name):this.getTableName(e.tablePath)+" "+this.escape(e.name))),r=this.createSelectDistinctExpression(),a=e.map((e=>e.selection+(e.aliasName?" AS "+this.escape(e.aliasName):""))).join(", ");return r+a+" FROM "+n.join(", ")+this.createTableLockExpression()+i}createSelectDistinctExpression(){const{selectDistinct:e,selectDistinctOn:t,maxExecutionTime:i}=this.expressionMap,{driver:n}=this.connection;let r="SELECT ";if(i>0&&Zk.isMySQLFamily(n)&&(r+=`/*+ MAX_EXECUTION_TIME(${this.expressionMap.maxExecutionTime}) */ `),Zk.isPostgresFamily(n)&&t.length>0){const e=t.map((e=>this.replacePropertyNames(e))).join(", ");r=`SELECT DISTINCT ON (${e}) `}else e&&(r="SELECT DISTINCT ");return r}createJoinExpression(){return this.expressionMap.joinAttributes.map((e=>{const t=e.relation,i=e.tablePath,n=e.alias.name;let r=e.condition?" AND ("+e.condition+")":"";const a=e.parentAlias;if(!a||!t){const t=e.alias.subQuery?e.alias.subQuery:this.getTableName(i);return" "+e.direction+" JOIN "+t+" "+this.escape(n)+this.createTableLockExpression()+(e.condition?" ON "+this.replacePropertyNames(e.condition):"")}if(t.isManyToOne||t.isOneToOneOwner){const s=t.joinColumns.map((e=>n+"."+e.referencedColumn.propertyPath+"="+a+"."+t.propertyPath+"."+e.referencedColumn.propertyPath)).join(" AND ");return" "+e.direction+" JOIN "+this.getTableName(i)+" "+this.escape(n)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(s+r)}if(t.isOneToMany||t.isOneToOneNotOwner){const s=t.inverseRelation.joinColumns.map((e=>("entity-child"===t.inverseEntityMetadata.tableType&&t.inverseEntityMetadata.discriminatorColumn&&(r+=" AND "+n+"."+t.inverseEntityMetadata.discriminatorColumn.databaseName+"='"+t.inverseEntityMetadata.discriminatorValue+"'"),n+"."+t.inverseRelation.propertyPath+"."+e.referencedColumn.propertyPath+"="+a+"."+e.referencedColumn.propertyPath))).join(" AND ");return" "+e.direction+" JOIN "+this.getTableName(i)+" "+this.escape(n)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(s+r)}{const s=t.junctionEntityMetadata.tablePath,o=e.junctionAlias;let l="",c="";return t.isOwning?(l=t.joinColumns.map((e=>o+"."+e.propertyPath+"="+a+"."+e.referencedColumn.propertyPath)).join(" AND "),c=t.inverseJoinColumns.map((e=>n+"."+e.referencedColumn.propertyPath+"="+o+"."+e.propertyPath)).join(" AND ")):(l=t.inverseRelation.inverseJoinColumns.map((e=>o+"."+e.propertyPath+"="+a+"."+e.referencedColumn.propertyPath)).join(" AND "),c=t.inverseRelation.joinColumns.map((e=>n+"."+e.referencedColumn.propertyPath+"="+o+"."+e.propertyPath)).join(" AND "))," "+e.direction+" JOIN "+this.getTableName(s)+" "+this.escape(o)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(l)+" "+e.direction+" JOIN "+this.getTableName(i)+" "+this.escape(n)+this.createTableLockExpression()+" ON "+this.replacePropertyNames(c+r)}})).join(" ")}createGroupByExpression(){return this.expressionMap.groupBys&&this.expressionMap.groupBys.length?" GROUP BY "+this.replacePropertyNames(this.expressionMap.groupBys.join(", ")):""}createOrderByExpression(){const e=this.expressionMap.allOrderBys;return 0===Object.keys(e).length?"":" ORDER BY "+Object.keys(e).map((t=>{const i="string"==typeof e[t]?e[t]:e[t].order+" "+e[t].nulls,n=this.expressionMap.selects.find((e=>e.selection===t));if(n&&!n.aliasName&&-1!==t.indexOf(".")){const e=t.split("."),n=e[0],r=e.slice(1).join("."),a=this.expressionMap.aliases.find((e=>e.name===n));if(a){const e=a.metadata.findColumnWithPropertyPath(r);if(e){const t=Zk.buildAlias(this.connection.driver,void 0,n,e.databaseName);return this.escape(t)+" "+i}}}return this.replacePropertyNames(t)+" "+i})).join(", ")}createLimitOffsetExpression(){let e=this.expressionMap.offset,t=this.expressionMap.limit;if(e||t||0!==this.expressionMap.joinAttributes.length||(e=this.expressionMap.skip,t=this.expressionMap.take),"mssql"===this.connection.driver.options.type){let i="";if((t||e)&&Object.keys(this.expressionMap.allOrderBys).length<=0&&(i=" ORDER BY (SELECT NULL)"),t&&e)return i+" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return i+" OFFSET 0 ROWS FETCH NEXT "+t+" ROWS ONLY";if(e)return i+" OFFSET "+e+" ROWS"}else if(Zk.isMySQLFamily(this.connection.driver)||"aurora-mysql"===this.connection.driver.options.type||"sap"===this.connection.driver.options.type||"spanner"===this.connection.driver.options.type){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)throw new Rk}else if(Zk.isSQLiteFamily(this.connection.driver)){if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" LIMIT -1 OFFSET "+e}else if("oracle"===this.connection.driver.options.type){if(t&&e)return" OFFSET "+e+" ROWS FETCH NEXT "+t+" ROWS ONLY";if(t)return" FETCH NEXT "+t+" ROWS ONLY";if(e)return" OFFSET "+e+" ROWS"}else{if(t&&e)return" LIMIT "+t+" OFFSET "+e;if(t)return" LIMIT "+t;if(e)return" OFFSET "+e}return""}createTableLockExpression(){if("mssql"===this.connection.driver.options.type)switch(this.expressionMap.lockMode){case"pessimistic_read":return" WITH (HOLDLOCK, ROWLOCK)";case"pessimistic_write":return" WITH (UPDLOCK, ROWLOCK)";case"dirty_read":return" WITH (NOLOCK)"}return""}createLockExpression(){const e=this.connection.driver;let t="";if(this.expressionMap.lockTables){if(!Zk.isPostgresFamily(e)&&"cockroachdb"!==e.options.type)throw new YC("Lock tables not supported in selected driver");if(this.expressionMap.lockTables.length<1)throw new YC("lockTables cannot be an empty array");t=" OF "+this.expressionMap.lockTables.join(", ")}let i="";switch("nowait"===this.expressionMap.onLocked?i=" NOWAIT":"skip_locked"===this.expressionMap.onLocked&&(i=" SKIP LOCKED"),this.expressionMap.lockMode){case"pessimistic_read":if("mysql"===e.options.type||"aurora-mysql"===e.options.type)return Zk.isReleaseVersionOrGreater(e,"8.0.0")?" FOR SHARE"+t+i:" LOCK IN SHARE MODE";if("mariadb"===e.options.type)return" LOCK IN SHARE MODE";if(Zk.isPostgresFamily(e))return" FOR SHARE"+t+i;if("oracle"===e.options.type)return" FOR UPDATE";if("mssql"===e.options.type)return"";throw new ZC;case"pessimistic_write":if(Zk.isMySQLFamily(e)||"aurora-mysql"===e.options.type||"oracle"===e.options.type)return" FOR UPDATE"+i;if(Zk.isPostgresFamily(e)||"cockroachdb"===e.options.type)return" FOR UPDATE"+t+i;if("mssql"===e.options.type)return"";throw new ZC;case"pessimistic_partial_write":if(Zk.isPostgresFamily(e))return" FOR UPDATE"+t+" SKIP LOCKED";if(Zk.isMySQLFamily(e))return" FOR UPDATE SKIP LOCKED";throw new ZC;case"pessimistic_write_or_fail":if(Zk.isPostgresFamily(e)||"cockroachdb"===e.options.type)return" FOR UPDATE"+t+" NOWAIT";if(Zk.isMySQLFamily(e))return" FOR UPDATE NOWAIT";throw new ZC;case"for_no_key_update":if(Zk.isPostgresFamily(e)||"cockroachdb"===e.options.type)return" FOR NO KEY UPDATE"+t+i;throw new ZC;case"for_key_share":if(Zk.isPostgresFamily(e))return" FOR KEY SHARE"+t+i;throw new ZC;default:return""}}createHavingExpression(){if(!this.expressionMap.havings||!this.expressionMap.havings.length)return"";const e=this.expressionMap.havings.map(((e,t)=>{switch(e.type){case"and":return(t>0?"AND ":"")+this.replacePropertyNames(e.condition);case"or":return(t>0?"OR ":"")+this.replacePropertyNames(e.condition);default:return this.replacePropertyNames(e.condition)}})).join(" ");return e.length?" HAVING "+e:""}buildEscapedEntityColumnSelects(e,t){const i=this.expressionMap.selects.some((t=>t.selection===e)),n=[];if(i&&n.push(...t.columns.filter((e=>!0===e.isSelect))),n.push(...t.columns.filter((t=>this.expressionMap.selects.some((i=>i.selection===e+"."+t.propertyPath))))),0===n.length)return[];const r=this.expressionMap.queryEntity?t.primaryColumns.filter((e=>-1===n.indexOf(e))):[],a=[...n,...r],s=[],o=this.escape(e);return a.forEach((t=>{let n=o+"."+this.escape(t.databaseName);if(t.isVirtualProperty&&t.query&&(n=`(${t.query(o)})`),-1!==this.connection.driver.spatialTypes.indexOf(t.type)){if(Zk.isMySQLFamily(this.connection.driver)||"aurora-mysql"===this.connection.driver.options.type){const e=this.connection.driver.options.legacySpatialSupport;n=`${e?"AsText":"ST_AsText"}(${n})`}Zk.isPostgresFamily(this.connection.driver)&&(n=t.precision?`ST_AsGeoJSON(${n}, ${t.precision})::json`:`ST_AsGeoJSON(${n})::json`),"mssql"===this.connection.driver.options.type&&(n=`${n}.ToString()`)}const r=this.expressionMap.selects.filter((i=>i.selection===e+"."+t.propertyPath));r.length?r.forEach((i=>{s.push({selection:n,aliasName:i.aliasName?i.aliasName:Zk.buildAlias(this.connection.driver,void 0,e,t.databaseName),virtual:i.virtual})})):s.push({selection:n,aliasName:Zk.buildAlias(this.connection.driver,void 0,e,t.databaseName),virtual:i})})),s}findEntityColumnSelects(e,t){const i=this.expressionMap.selects.find((t=>t.selection===e));return i?[i]:this.expressionMap.selects.filter((i=>t.columns.some((t=>i.selection===e+"."+t.propertyPath))))}computeCountExpression(){const e=this.expressionMap.mainAlias.name,t=this.expressionMap.mainAlias.metadata.primaryColumns,i=this.escape(e);if(0===this.expressionMap.joinAttributes.length&&0===this.expressionMap.relationIdAttributes.length&&0===this.expressionMap.relationCountAttributes.length)return"COUNT(1)";if("cockroachdb"===this.connection.driver.options.type||Zk.isPostgresFamily(this.connection.driver))return"COUNT(DISTINCT("+t.map((e=>`${i}.${this.escape(e.databaseName)}`)).join(", ")+"))";if(Zk.isMySQLFamily(this.connection.driver))return"COUNT(DISTINCT "+t.map((e=>`${i}.${this.escape(e.databaseName)}`)).join(", ")+")";if("mssql"===this.connection.driver.options.type){const e=t.map((e=>`${i}.${this.escape(e.databaseName)}`)).join(", '|;|', ");return 1===t.length?`COUNT(DISTINCT(${e}))`:`COUNT(DISTINCT(CONCAT(${e})))`}if("spanner"===this.connection.driver.options.type){if(1===t.length)return`COUNT(DISTINCT(${i}.${this.escape(t[0].databaseName)}))`;return`COUNT(DISTINCT(CONCAT(${t.map((e=>`CAST(${i}.${this.escape(e.databaseName)} AS STRING)`)).join(", '|;|', ")})))`}return"COUNT(DISTINCT("+t.map((e=>`${i}.${this.escape(e.databaseName)}`)).join(" || '|;|' || ")+"))"}async executeCountQuery(e){const t=this.computeCountExpression(),i=await this.clone().orderBy().groupBy().offset(void 0).limit(void 0).skip(void 0).take(void 0).select(t,"cnt").setOption("disable-global-order").loadRawResults(e);return i&&i[0]&&i[0].cnt?parseInt(i[0].cnt):0}async executeExistsQuery(e){return(await this.connection.createQueryBuilder().fromDummy().select("1","row_exists").whereExists(this).limit(1).loadRawResults(e)).length>0}applyFindOptions(){if(this.expressionMap.mainAlias.metadata){if(this.findOptions.relationLoadStrategy&&(this.expressionMap.relationLoadStrategy=this.findOptions.relationLoadStrategy),this.findOptions.comment&&this.comment(this.findOptions.comment),this.findOptions.withDeleted&&this.withDeleted(),this.findOptions.select){const e=Array.isArray(this.findOptions.select)?LA.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select;this.buildSelect(e,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.select(this.selects),this.selects=[],this.findOptions.relations){const e=Array.isArray(this.findOptions.relations)?LA.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations;this.buildRelations(e,"object"==typeof this.findOptions.select?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),!1!==this.findOptions.loadEagerRelations&&"join"===this.expressionMap.relationLoadStrategy&&this.buildEagerRelations(e,"object"==typeof this.findOptions.select?this.findOptions.select:void 0,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name)}if(this.selects.length&&this.addSelect(this.selects),this.findOptions.where&&(this.conditions=this.buildWhere(this.findOptions.where,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.conditions.length&&this.andWhere("("!==this.conditions.substr(0,1)?"("+this.conditions+")":this.conditions)),this.findOptions.order&&this.buildOrder(this.findOptions.order,this.expressionMap.mainAlias.metadata,this.expressionMap.mainAlias.name),this.joins.length&&this.joins.forEach((e=>{e.select&&!e.selection?"inner"===e.type?this.innerJoinAndSelect(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):this.leftJoinAndSelect(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):"inner"===e.type?this.innerJoin(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias):this.leftJoin(`${e.parentAlias}.${e.relationMetadata.propertyPath}`,e.alias)})),void 0!==this.findOptions.skip&&this.skip(this.findOptions.skip),void 0!==this.findOptions.take&&this.take(this.findOptions.take),"number"==typeof this.findOptions.cache||"boolean"==typeof this.findOptions.cache?this.cache(this.findOptions.cache):"object"==typeof this.findOptions.cache&&this.cache(this.findOptions.cache.id,this.findOptions.cache.milliseconds),this.findOptions.join&&(this.findOptions.join.leftJoin&&Object.keys(this.findOptions.join.leftJoin).forEach((e=>{this.leftJoin(this.findOptions.join.leftJoin[e],e)})),this.findOptions.join.innerJoin&&Object.keys(this.findOptions.join.innerJoin).forEach((e=>{this.innerJoin(this.findOptions.join.innerJoin[e],e)})),this.findOptions.join.leftJoinAndSelect&&Object.keys(this.findOptions.join.leftJoinAndSelect).forEach((e=>{this.leftJoinAndSelect(this.findOptions.join.leftJoinAndSelect[e],e)})),this.findOptions.join.innerJoinAndSelect&&Object.keys(this.findOptions.join.innerJoinAndSelect).forEach((e=>{this.innerJoinAndSelect(this.findOptions.join.innerJoinAndSelect[e],e)}))),this.findOptions.lock)if("optimistic"===this.findOptions.lock.mode)this.setLock(this.findOptions.lock.mode,this.findOptions.lock.version);else if("pessimistic_read"===this.findOptions.lock.mode||"pessimistic_write"===this.findOptions.lock.mode||"dirty_read"===this.findOptions.lock.mode||"pessimistic_partial_write"===this.findOptions.lock.mode||"pessimistic_write_or_fail"===this.findOptions.lock.mode||"for_no_key_update"===this.findOptions.lock.mode||"for_key_share"===this.findOptions.lock.mode){const e=this.findOptions.lock.tables?this.findOptions.lock.tables.map((e=>{const t=this.expressionMap.aliases.find((t=>t.metadata.tableNameWithoutPrefix===e));if(!t)throw new YC(`"${e}" is not part of this query`);return this.escape(t.name)})):void 0;this.setLock(this.findOptions.lock.mode,void 0,e),this.findOptions.lock.onLocked&&this.setOnLocked(this.findOptions.lock.onLocked)}!0===this.findOptions.loadRelationIds?this.loadAllRelationIds():"object"==typeof this.findOptions.loadRelationIds&&this.loadAllRelationIds(this.findOptions.loadRelationIds),!1!==this.findOptions.loadEagerRelations&&hA.joinEagerRelations(this,this.expressionMap.mainAlias.name,this.expressionMap.mainAlias.metadata),!0===this.findOptions.transaction&&(this.expressionMap.useTransaction=!0)}}concatRelationMetadata(e){this.relationMetadatas.push(e)}async executeEntitiesAndRawResults(e){if(!this.expressionMap.mainAlias)throw new YC('Alias is not set. Use "from" method to set an alias.');if(("pessimistic_read"===this.expressionMap.lockMode||"pessimistic_write"===this.expressionMap.lockMode||"pessimistic_partial_write"===this.expressionMap.lockMode||"pessimistic_write_or_fail"===this.expressionMap.lockMode||"for_no_key_update"===this.expressionMap.lockMode||"for_key_share"===this.expressionMap.lockMode)&&!e.isTransactionActive)throw new Ck;if("optimistic"===this.expressionMap.lockMode){const e=this.expressionMap.mainAlias.metadata;if(!e.versionColumn&&!e.updateDateColumn)throw new xk(e.name)}const t=new sO(this.connection,e,this.expressionMap.relationIdAttributes),i=new cO(this.connection,e,this.expressionMap.relationCountAttributes);new lO(this.expressionMap).transform();new dO(this.expressionMap).transform();let n=[],r=[];if((this.expressionMap.skip||this.expressionMap.take)&&this.expressionMap.joinAttributes.length>0){const[t,i]=this.createOrderByCombinedWithSelectExpression("distinctAlias"),r=this.expressionMap.mainAlias.metadata,a=this.expressionMap.mainAlias.name,s=r.primaryColumns.map((e=>{const t=this.escape("distinctAlias"),n=this.escape(Zk.buildAlias(this.connection.driver,void 0,a,e.databaseName));i[n]||(i[n]="ASC");const r=Zk.buildAlias(this.connection.driver,void 0,"ids_"+a,e.databaseName);return`${t}.${n} AS ${this.escape(r)}`})),o=this.clone(),l=o.expressionMap.timeTravel;if(n=await new gO(this.connection,e).select(`DISTINCT ${s.join(", ")}`).addSelect(t).from(`(${o.orderBy().timeTravelQuery(!1).getQuery()})`,"distinctAlias").timeTravelQuery(l).offset(this.expressionMap.skip).limit(this.expressionMap.take).orderBy(i).cache(this.expressionMap.cache&&this.expressionMap.cacheId?`${this.expressionMap.cacheId}-pagination`:this.expressionMap.cache,this.expressionMap.cacheDuration).setParameters(this.getParameters()).setNativeParameters(this.expressionMap.nativeParameters).getRawMany(),n.length>0){let t="";const i={};if(r.hasMultiplePrimaryKeys)t=n.map(((e,t)=>r.primaryColumns.map((n=>{const r=`orm_distinct_ids_${t}_${n.databaseName}`,s=Zk.buildAlias(this.connection.driver,void 0,"ids_"+a,n.databaseName);return i[r]=e[s],`${a}.${n.propertyPath}=:${r}`})).join(" AND "))).join(" OR ");else{const e=Zk.buildAlias(this.connection.driver,void 0,"ids_"+a,r.primaryColumns[0].databaseName),s=n.map((t=>t[e])),o=s.every((e=>"number"==typeof e));o?t=`${a}.${r.primaryColumns[0].propertyPath} IN (${s.join(", ")})`:(i.orm_distinct_ids=s,t=a+"."+r.primaryColumns[0].propertyPath+" IN (:...orm_distinct_ids)")}n=await this.clone().mergeExpressionMap({extraAppendedAndWhereCondition:t}).setParameters(i).loadRawResults(e)}}else n=await this.loadRawResults(e);if(n.length>0){const a=await t.load(n),s=await i.load(n),o=new tO(this.expressionMap,this.connection.driver,a,s,this.queryRunner);r=o.transform(n,this.expressionMap.mainAlias),!0===this.expressionMap.callListeners&&this.expressionMap.mainAlias.hasMetadata&&await e.broadcaster.broadcast("Load",this.expressionMap.mainAlias.metadata,r)}if("query"===this.expressionMap.relationLoadStrategy){const t=new oO(this.connection,e);await Promise.all(this.relationMetadatas.map((async e=>{const i=e.inverseEntityMetadata.target,n=e.inverseEntityMetadata.targetName,a=Array.isArray(this.findOptions.select)?LA.propertyPathsToTruthyObject(this.findOptions.select):this.findOptions.select,s=Array.isArray(this.findOptions.relations)?LA.propertyPathsToTruthyObject(this.findOptions.relations):this.findOptions.relations,o=this.createQueryBuilder().select(n).from(i,n).setFindOptions({select:a?LA.deepValue(a,e.propertyPath):void 0,order:this.findOptions.order?LA.deepValue(this.findOptions.order,e.propertyPath):void 0,relations:s?LA.deepValue(s,e.propertyPath):void 0,withDeleted:this.findOptions.withDeleted,relationLoadStrategy:this.findOptions.relationLoadStrategy});if(r.length>0){const i=await t.loadManyToManyRelationIdsAndGroup(e,r,void 0,o);r.forEach((t=>{const n=i.find((e=>e.entity===t));if(n){const i=void 0===n.related?null:n.related;e.setEntityValue(t,i)}}))}})))}return{raw:n,entities:r}}createOrderByCombinedWithSelectExpression(e){const t=this.expressionMap.allOrderBys,i=Object.keys(t).map((t=>{if(-1!==t.indexOf(".")){const i=t.split("."),n=i[0],r=i.slice(1).join("."),a=this.expressionMap.findAliasByName(n).metadata.findColumnWithPropertyPath(r);return this.escape(e)+"."+this.escape(Zk.buildAlias(this.connection.driver,void 0,n,a.databaseName))}return this.expressionMap.selects.find((e=>e.selection===t||e.aliasName===t))?this.escape(e)+"."+this.escape(t):""})).join(", "),n={};return Object.keys(t).forEach((i=>{if(-1!==i.indexOf(".")){const r=i.split("."),a=r[0],s=r.slice(1).join("."),o=this.expressionMap.findAliasByName(a).metadata.findColumnWithPropertyPath(s);n[this.escape(e)+"."+this.escape(Zk.buildAlias(this.connection.driver,void 0,a,o.databaseName))]=t[i]}else this.expressionMap.selects.find((e=>e.selection===i||e.aliasName===i))?n[this.escape(e)+"."+this.escape(i)]=t[i]:n[i]=t[i]})),[i,n]}async loadRawResults(e){const[t,i]=this.getQueryAndParameters(),n=t+" -- PARAMETERS: "+JSON.stringify(i),r="object"==typeof this.connection.options.cache?this.connection.options.cache:{};let a;const s=r.alwaysEnabled&&this.expressionMap.cache||this.expressionMap.cache;let o=!1;if(this.connection.queryResultCache&&s)try{if(a=await this.connection.queryResultCache.getFromCache({identifier:this.expressionMap.cacheId,query:n,duration:this.expressionMap.cacheDuration||r.duration||1e3},e),a&&!this.connection.queryResultCache.isExpired(a))return JSON.parse(a.result)}catch(c){if(!r.ignoreErrors)throw c;o=!0}const l=await e.query(t,i,!0);if(!o&&this.connection.queryResultCache&&s)try{await this.connection.queryResultCache.storeInCache({identifier:this.expressionMap.cacheId,query:n,time:(new Date).getTime(),duration:this.expressionMap.cacheDuration||r.duration||1e3,result:JSON.stringify(l.records)},a,e)}catch(c){if(!r.ignoreErrors)throw c}return l.records}mergeExpressionMap(e){return sk.assign(this.expressionMap,e),this}normalizeNumber(e){return"number"==typeof e||null==e?e:Number(e)}obtainQueryRunner(){return this.queryRunner||this.connection.createQueryRunner("slave")}buildSelect(e,t,i,n){for(let r in e){if(void 0===e[r]||!1===e[r])continue;const a=n?n+"."+r:r,s=t.findColumnWithPropertyPathStrict(a),o=t.findEmbeddedWithPropertyPath(a),l=t.findRelationWithPropertyPath(a);if(!o&&!s&&!l)throw new vk(a,t);s?this.selects.push(i+"."+a):o&&this.buildSelect(e[r],t,i,a)}}buildRelations(e,t,i,n,r){e&&Object.keys(e).forEach((a=>{const s=e[a],o=r?r+"."+a:a,l=i.findEmbeddedWithPropertyPath(o),c=i.findRelationWithPropertyPath(o);if(!l&&!c)throw new vk(o,i);if(l)this.buildRelations(s,"object"==typeof t?LA.deepValue(t,l.propertyPath):void 0,i,n,o);else if(c){let e=n+"_"+o.replace(".","_");e=Zk.buildAlias(this.connection.driver,{joiner:"__"},n,e),!0!==s&&"object"!=typeof s||("query"===this.expressionMap.relationLoadStrategy?this.concatRelationMetadata(c):(this.joins.push({type:"left",select:!0,selection:t&&"object"==typeof t[a]?t[a]:void 0,alias:e,parentAlias:n,relationMetadata:c}),t&&"object"==typeof t[a]&&this.buildSelect(t[a],c.inverseEntityMetadata,e))),"object"==typeof s&&"join"===this.expressionMap.relationLoadStrategy&&this.buildRelations(s,"object"==typeof t?LA.deepValue(t,c.propertyPath):void 0,c.inverseEntityMetadata,e,void 0)}}))}buildEagerRelations(e,t,i,n,r){e&&Object.keys(e).forEach((a=>{const s=e[a],o=r?r+"."+a:a,l=i.findEmbeddedWithPropertyPath(o),c=i.findRelationWithPropertyPath(o);if(!l&&!c)throw new vk(o,i);if(l)this.buildEagerRelations(s,"object"==typeof t?LA.deepValue(t,l.propertyPath):void 0,i,n,o);else if(c){let e=n+"_"+o.replace(".","_");e=Zk.buildAlias(this.connection.driver,{joiner:"__"},n,e),!0!==s&&"object"!=typeof s||c.inverseEntityMetadata.eagerRelations.forEach((i=>{let n=e+"_"+i.propertyPath.replace(".","_");n=Zk.buildAlias(this.connection.driver,{joiner:"__"},e,n);this.joins.find((e=>e.alias===n))||this.joins.push({type:"left",select:!0,alias:n,parentAlias:e,selection:void 0,relationMetadata:i}),t&&"object"==typeof t[a]&&this.buildSelect(t[a],c.inverseEntityMetadata,e)})),"object"==typeof s&&this.buildEagerRelations(s,"object"==typeof t?LA.deepValue(t,c.propertyPath):void 0,c.inverseEntityMetadata,e,void 0)}}))}buildOrder(e,t,i,n){for(let r in e){if(void 0===e[r])continue;const a=n?n+"."+r:r,s=t.findColumnWithPropertyPathStrict(a),o=t.findEmbeddedWithPropertyPath(a),l=t.findRelationWithPropertyPath(a);if(!o&&!s&&!l)throw new vk(a,t);if(s){let t="object"==typeof e[r]?e[r].direction:e[r];t="DESC"===t||"desc"===t||-1===t?"DESC":"ASC";let n="object"==typeof e[r]?e[r].nulls:void 0;n="first"===(null==n?void 0:n.toLowerCase())?"NULLS FIRST":"last"===(null==n?void 0:n.toLowerCase())?"NULLS LAST":void 0;let s=`${i}.${a}`;this.addOrderBy(s,t,n)}else if(o)this.buildOrder(e[r],t,i,a);else if(l){let t=i+"_"+a.replace(".","_");t=Zk.buildAlias(this.connection.driver,{joiner:"__"},i,t);this.joins.find((e=>e.alias===t))||this.joins.push({type:"left",select:!1,alias:t,parentAlias:i,selection:void 0,relationMetadata:l}),this.buildOrder(e[r],l.inverseEntityMetadata,t)}}}buildWhere(e,t,i,n){let r="";if(Array.isArray(e)&&e.length)r="("+e.map((e=>this.buildWhere(e,t,i,n))).filter((e=>!!e)).map((e=>"("+e+")")).join(" OR ")+")";else{let a=[];for(let r in e){if(void 0===e[r]||null===e[r])continue;const s=n?n+"."+r:r,o=t.findColumnWithPropertyPathStrict(s),l=t.findEmbeddedWithPropertyPath(s),c=t.findRelationWithPropertyPath(s);if(!l&&!o&&!c)throw new vk(s,t);if(o){let t=`${i}.${s}`;o.isVirtualProperty&&o.query&&(t=`(${o.query(i)})`);let n=e[r];ok.isEqualOperator(e[r])&&(n=e[r].value),o.transformer&&(n instanceof pO?n.transformValue(o.transformer):n=DA.transformTo(o.transformer,n)),a.push(this.createWhereConditionExpression(this.getWherePredicateCondition(t,n)))}else if(l){const n=this.buildWhere(e[r],t,i,s);n&&a.push(n)}else if(c){if("object"==typeof e[r]){const t=Object.keys(e[r]).every((t=>void 0===e[r][t]));if(t)continue}if(ok.isFindOperator(e[r]))if("moreThan"===e[r].type||"lessThan"===e[r].type||"moreThanOrEqual"===e[r].type||"lessThanOrEqual"===e[r].type){let t="";"moreThan"===e[r].type?t=">":"lessThan"===e[r].type?t="<":"moreThanOrEqual"===e[r].type?t=">=":"lessThanOrEqual"===e[r].type&&(t="<=");const n=this.subQuery();if(c.isManyToManyOwner)n.select("COUNT(*)").from(c.joinTableName,c.joinTableName).where(c.joinColumns.map((e=>`${c.joinTableName}.${e.propertyName} = ${i}.${e.referencedColumn.propertyName}`)).join(" AND "));else if(c.isManyToManyNotOwner)n.select("COUNT(*)").from(c.inverseRelation.joinTableName,c.inverseRelation.joinTableName).where(c.inverseRelation.inverseJoinColumns.map((e=>`${c.inverseRelation.joinTableName}.${e.propertyName} = ${i}.${e.referencedColumn.propertyName}`)).join(" AND "));else{if(!c.isOneToMany)throw new Error("This relation isn't supported by given find operator");n.select("COUNT(*)").from(c.inverseEntityMetadata.target,c.inverseEntityMetadata.tableName).where(c.inverseRelation.joinColumns.map((e=>`${c.inverseEntityMetadata.tableName}.${e.propertyName} = ${i}.${e.referencedColumn.propertyName}`)).join(" AND "))}this.andWhere(n.getSql()+" "+t+" "+parseInt(e[r].value))}else{if(!(c.isManyToOne||c.isOneToOne&&c.isOneToOneOwner))throw new Error("This relation isn't supported by given find operator");{const t=`${i}.${s}`;a.push(this.createWhereConditionExpression(this.getWherePredicateCondition(t,e[r])))}}else{let t=i+"_"+c.propertyPath.replace(".","_");t=Zk.buildAlias(this.connection.driver,{joiner:"__"},i,t);this.joins.find((e=>e.alias===t))||this.joins.push({type:"left",select:!1,selection:void 0,alias:t,parentAlias:i,relationMetadata:c});const n=this.buildWhere(e[r],c.inverseEntityMetadata,t);n&&a.push(n)}}}r=a.join(" AND ")}return r}}class yO{constructor(e){this.options=e}logQuery(e,t,i){this.isLogEnabledFor("query")&&this.writeLog("query",{type:"query",prefix:"query",message:e,format:"sql",parameters:t},i)}logQueryError(e,t,i,n){this.isLogEnabledFor("query-error")&&this.writeLog("warn",[{type:"query-error",prefix:"query failed",message:t,format:"sql",parameters:i},{type:"query-error",prefix:"error",message:e}],n)}logQuerySlow(e,t,i,n){this.isLogEnabledFor("query-slow")&&this.writeLog("warn",[{type:"query-slow",prefix:"query is slow",message:t,format:"sql",parameters:i,additionalInfo:{time:e}},{type:"query-slow",prefix:"execution time",message:e}],n)}logSchemaBuild(e,t){this.isLogEnabledFor("schema-build")&&this.writeLog("schema",{type:"schema-build",message:e},t)}logMigration(e,t){this.isLogEnabledFor("migration")||this.writeLog("log",{type:"migration",message:e},t)}log(e,t,i){switch(e){case"log":if(!this.isLogEnabledFor("log"))return;this.writeLog("log",{type:"log",message:t},i);break;case"info":if(!this.isLogEnabledFor("info"))return;this.writeLog("info",{type:"info",prefix:"info",message:t},i);break;case"warn":if(!this.isLogEnabledFor("warn"))return;this.writeLog("warn",{type:"warn",message:t},i)}}isLogEnabledFor(e){switch(e){case"query":return"all"===this.options||!0===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("query");case"error":case"query-error":return"all"===this.options||!0===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("error");case"query-slow":case"migration":return!0;case"schema":case"schema-build":return"all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("schema");case"log":return"all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("log");case"info":return"all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("info");case"warn":return"all"===this.options||Array.isArray(this.options)&&-1!==this.options.indexOf("warn");default:return!1}}prepareLogMessages(e,t){t={addColonToPrefix:!0,appendParameterAsComment:!0,highlightSql:!0,...t};const i=Array.isArray(e)?e:[e];for(let n of i){if("object"!=typeof n&&(n={message:n}),"sql"===n.format){let e=String(n.message);t.appendParameterAsComment&&n.parameters&&n.parameters.length&&(e+=` -- PARAMETERS: ${this.stringifyParams(n.parameters)}`),t.highlightSql&&(e=gS.highlightSql(e)),n.message=e}t.addColonToPrefix&&n.prefix&&(n.prefix+=":")}return i}stringifyParams(e){try{return JSON.stringify(e)}catch(t){return e}}}class bO extends yO{writeLog(e,t,i){var n;const r=this.prepareLogMessages(t,{highlightSql:!1});for(let a of r)switch(null!==(n=a.type)&&void 0!==n?n:e){case"log":case"schema-build":case"migration":console.log(a.message);break;case"info":case"query":a.prefix?console.info(a.prefix,a.message):console.info(a.message);break;case"warn":case"query-slow":a.prefix?console.warn(a.prefix,a.message):console.warn(a.message);break;case"error":case"query-error":a.prefix?console.error(a.prefix,a.message):console.error(a.message)}}}class vO extends yO{writeLog(e,t,i){var n;const r=this.prepareLogMessages(t);for(let a of r)switch(null!==(n=a.type)&&void 0!==n?n:e){case"log":case"schema-build":case"migration":gS.log(String(a.message));break;case"info":case"query":a.prefix?gS.logInfo(a.prefix,a.message):gS.log(String(a.message));break;case"warn":case"query-slow":a.prefix?gS.logWarn(a.prefix,a.message):console.warn(gS.warn(String(a.message)));break;case"error":case"query-error":a.prefix?gS.logError(a.prefix,String(a.message)):console.error(gS.error(String(a.message)))}}}class wO{logQuery(){throw new Error("This logger is not applicable in a browser context")}logQueryError(){throw new Error("This logger is not applicable in a browser context")}logQuerySlow(){throw new Error("This logger is not applicable in a browser context")}logSchemaBuild(){throw new Error("This logger is not applicable in a browser context")}logMigration(){throw new Error("This logger is not applicable in a browser context")}log(){throw new Error("This logger is not applicable in a browser context")}}class TO extends wO{}var xO,EO,_O={exports:{}};function SO(){if(EO)return xO;EO=1;var e=1e3,t=60*e,i=60*t,n=24*i,r=7*n,a=365.25*n;function s(e,t,i,n){var r=t>=1.5*i;return Math.round(e/i)+" "+n+(r?"s":"")}return xO=function(o,l){l=l||{};var c=typeof o;if("string"===c&&o.length>0)return function(s){if((s=String(s)).length>100)return;var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(s);if(!o)return;var l=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return l*a;case"weeks":case"week":case"w":return l*r;case"days":case"day":case"d":return l*n;case"hours":case"hour":case"hrs":case"hr":case"h":return l*i;case"minutes":case"minute":case"mins":case"min":case"m":return l*t;case"seconds":case"second":case"secs":case"sec":case"s":return l*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return}}(o);if("number"===c&&isFinite(o))return l.long?function(r){var a=Math.abs(r);if(a>=n)return s(r,a,n,"day");if(a>=i)return s(r,a,i,"hour");if(a>=t)return s(r,a,t,"minute");if(a>=e)return s(r,a,e,"second");return r+" ms"}(o):function(r){var a=Math.abs(r);if(a>=n)return Math.round(r/n)+"d";if(a>=i)return Math.round(r/i)+"h";if(a>=t)return Math.round(r/t)+"m";if(a>=e)return Math.round(r/e)+"s";return r+"ms"}(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))},xO}var CO=function(e){function t(e){let n,r,a,s=null;function o(...e){if(!o.enabled)return;const i=o,r=Number(new Date),a=r-(n||r);i.diff=a,i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,r)=>{if("%%"===n)return"%";s++;const a=t.formatters[r];if("function"==typeof a){const t=e[s];n=a.call(i,t),e.splice(s,1),s--}return n})),t.formatArgs.call(i,e);(i.log||t.log).apply(i,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=i,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(r!==t.namespaces&&(r=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function i(e,i){const n=t(this.namespace+(void 0===i?":":i)+e);return n.log=this.log,n}function n(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(n),...t.skips.map(n).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let i;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length;for(i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let i,n;for(i=0,n=t.skips.length;i<n;i++)if(t.skips[i].test(e))return!1;for(i=0,n=t.names.length;i<n;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=SO(),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((i=>{t[i]=e[i]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let i=0;for(let t=0;t<e.length;t++)i=(i<<5)-i+e.charCodeAt(t),i|=0;return t.colors[Math.abs(i)%t.colors.length]},t.enable(t.load()),t};!function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const i="color: "+this.color;t.splice(1,0,i,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(r=n))})),t.splice(r,0,i)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(i){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(i){}!e&&"undefined"!=typeof process&&"env"in process&&(e={}.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=CO(t);const{formatters:i}=e.exports;i.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}}(_O,_O.exports);var kO=_O.exports;class AO extends yO{constructor(){super(...arguments),this.logger={log:kO.debug("typeorm:log"),info:kO.debug("typeorm:info"),warn:kO.debug("typeorm:warn"),error:kO.debug("typeorm:error"),query:kO.debug("typeorm:query:log"),"query-error":kO.debug("typeorm:query:error"),"query-slow":kO.debug("typeorm:query:slow"),"schema-build":kO.debug("typeorm:schema"),migration:kO.debug("typeorm:migration")}}isLogEnabledFor(e){switch(e){case"query":return this.logger.query.enabled;case"query-error":return this.logger["query-error"].enabled;case"query-slow":return!0;case"schema":case"schema-build":return this.logger["schema-build"].enabled;case"migration":return this.logger.migration.enabled;case"log":return this.logger.log.enabled;case"info":return this.logger.info.enabled;case"warn":return this.logger.warn.enabled;default:return!1}}writeLog(e,t,i){var n;const r=this.prepareLogMessages(t,{appendParameterAsComment:!1});for(let a of r){const t=null!==(n=a.type)&&void 0!==n?n:e;t in this.logger&&(a.prefix?this.logger[t](a.prefix,a.message):this.logger[t](a.message),a.parameters&&a.parameters.length&&this.logger[t]("parameters:",a.parameters))}}}class NO{create(e,t){if(sk.isObject(e))return e;if(e)switch(e){case"simple-console":return new bO(t);case"file":return new TO(t);case"advanced-console":return new vO(t);case"debug":return new AO}return new vO(t)}}class OO{constructor(e,t){this.connection=e,this.clientType=t,this.redis=this.loadRedis()}async connect(){const e=this.connection.options.cache;if("redis"===this.clientType)this.client=this.redis.createClient({...null==e?void 0:e.options,legacyMode:!0}),"object"==typeof this.connection.options.cache&&this.connection.options.cache.ignoreErrors&&this.client.on("error",(e=>{this.connection.logger.log("warn",e)})),"connect"in this.client&&await this.client.connect();else if("ioredis"===this.clientType)e&&e.port?e.options?this.client=new this.redis(e.port,e.options):this.client=new this.redis(e.port):e&&e.options?this.client=new this.redis(e.options):this.client=new this.redis;else if("ioredis/cluster"===this.clientType)if(e&&e.options&&Array.isArray(e.options))this.client=new this.redis.Cluster(e.options);else{if(!(e&&e.options&&e.options.startupNodes))throw new YC(`options.startupNodes required for ${this.clientType}.`);this.client=new this.redis.Cluster(e.options.startupNodes,e.options.options)}}async disconnect(){return new Promise(((e,t)=>{this.client.quit(((i,n)=>{if(i)return t(i);e(),this.client=void 0}))}))}async synchronize(e){}getFromCache(e,t){return new Promise(((t,i)=>{e.identifier?this.client.get(e.identifier,((e,n)=>{if(e)return i(e);t(JSON.parse(n))})):e.query?this.client.get(e.query,((e,n)=>{if(e)return i(e);t(JSON.parse(n))})):t(void 0)}))}isExpired(e){return e.time+e.duration<(new Date).getTime()}async storeInCache(e,t,i){return new Promise(((t,i)=>{e.identifier?this.client.set(e.identifier,JSON.stringify(e),"PX",e.duration,((e,n)=>{if(e)return i(e);t()})):e.query&&this.client.set(e.query,JSON.stringify(e),"PX",e.duration,((e,n)=>{if(e)return i(e);t()}))}))}async clear(e){return new Promise(((e,t)=>{this.client.flushdb(((i,n)=>{if(i)return t(i);e()}))}))}async remove(e,t){await Promise.all(e.map((e=>this.deleteKey(e))))}deleteKey(e){return new Promise(((t,i)=>{this.client.del(e,((e,n)=>{if(e)return i(e);t()}))}))}loadRedis(){try{return"ioredis/cluster"===this.clientType?gS.load("ioredis"):gS.load(this.clientType)}catch(E_){throw new YC(`Cannot use cache because ${this.clientType} is not installed. Please run "npm i ${this.clientType} --save".`)}}}let MO;const PO=new Uint8Array(16);function IO(){if(!MO&&(MO="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!MO))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return MO(PO)}const RO=[];for(let aZ=0;aZ<256;++aZ)RO.push((aZ+256).toString(16).slice(1));const LO={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function DO(e,t,i){if(LO.randomUUID&&!t&&!e)return LO.randomUUID();const n=(e=e||{}).random||(e.rng||IO)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=n[e];return t}return function(e,t=0){return RO[e[t+0]]+RO[e[t+1]]+RO[e[t+2]]+RO[e[t+3]]+"-"+RO[e[t+4]]+RO[e[t+5]]+"-"+RO[e[t+6]]+RO[e[t+7]]+"-"+RO[e[t+8]]+RO[e[t+9]]+"-"+RO[e[t+10]]+RO[e[t+11]]+RO[e[t+12]]+RO[e[t+13]]+RO[e[t+14]]+RO[e[t+15]]}(n)}class jO{constructor(e){this.connection=e;const{schema:t}=this.connection.driver.options,i=this.connection.driver.database,n=("object"==typeof this.connection.options.cache?this.connection.options.cache:{}).tableName||"query-result-cache";this.queryResultCacheDatabase=i,this.queryResultCacheSchema=t,this.queryResultCacheTable=this.connection.driver.buildTableName(n,t,i)}async connect(){}async disconnect(){}async synchronize(e){e=this.getQueryRunner(e);const t=this.connection.driver;await e.hasTable(this.queryResultCacheTable)||await e.createTable(new Hk({database:this.queryResultCacheDatabase,schema:this.queryResultCacheSchema,name:this.queryResultCacheTable,columns:[{name:"id",isPrimary:!0,isNullable:!1,type:t.normalizeType({type:t.mappedDataTypes.cacheId}),generationStrategy:"spanner"===t.options.type?"uuid":"increment",isGenerated:!0},{name:"identifier",type:t.normalizeType({type:t.mappedDataTypes.cacheIdentifier}),isNullable:!0},{name:"time",type:t.normalizeType({type:t.mappedDataTypes.cacheTime}),isPrimary:!1,isNullable:!1},{name:"duration",type:t.normalizeType({type:t.mappedDataTypes.cacheDuration}),isPrimary:!1,isNullable:!1},{name:"query",type:t.normalizeType({type:t.mappedDataTypes.cacheQuery}),isPrimary:!1,isNullable:!1},{name:"result",type:t.normalizeType({type:t.mappedDataTypes.cacheResult}),isNullable:!1}]}))}getFromCache(e,t){t=this.getQueryRunner(t);const i=this.connection.createQueryBuilder(t).select().from(this.queryResultCacheTable,"cache");return e.identifier?i.where(`${i.escape("cache")}.${i.escape("identifier")} = :identifier`).setParameters({identifier:"mssql"===this.connection.driver.options.type?new Gk(e.identifier,"nvarchar"):e.identifier}).getRawOne():e.query?"oracle"===this.connection.driver.options.type?i.where(`dbms_lob.compare(${i.escape("cache")}.${i.escape("query")}, :query) = 0`,{query:e.query}).getRawOne():i.where(`${i.escape("cache")}.${i.escape("query")} = :query`).setParameters({query:"mssql"===this.connection.driver.options.type?new Gk(e.query,"nvarchar"):e.query}).getRawOne():Promise.resolve(void 0)}isExpired(e){const t="string"==typeof e.duration?parseInt(e.duration):e.duration;return("string"==typeof e.time?parseInt(e.time):e.time)+t<(new Date).getTime()}async storeInCache(e,t,i){const n=void 0===i||"slave"===(null==i?void 0:i.getReplicationMode());(void 0===i||n)&&(i=this.connection.createQueryRunner("master"));let r=e;if("mssql"===this.connection.driver.options.type&&(r={identifier:new Gk(e.identifier,"nvarchar"),time:new Gk(e.time,"bigint"),duration:new Gk(e.duration,"int"),query:new Gk(e.query,"nvarchar"),result:new Gk(e.result,"nvarchar")}),t&&t.identifier){const e=i.manager.createQueryBuilder().update(this.queryResultCacheTable).set(r);e.where(`${e.escape("identifier")} = :condition`,{condition:r.identifier}),await e.execute()}else if(t&&t.query){const e=i.manager.createQueryBuilder().update(this.queryResultCacheTable).set(r);"oracle"===this.connection.driver.options.type?e.where('dbms_lob.compare("query", :condition) = 0',{condition:r.query}):e.where(`${e.escape("query")} = :condition`,{condition:r.query}),await e.execute()}else"spanner"!==this.connection.driver.options.type||r.id||(r.id=DO()),await i.manager.createQueryBuilder().insert().into(this.queryResultCacheTable).values(r).execute();n&&await i.release()}async clear(e){return this.getQueryRunner(e).clearTable(this.queryResultCacheTable)}async remove(e,t){let i=t||this.getQueryRunner();await Promise.all(e.map((e=>{const t=i.manager.createQueryBuilder();return t.delete().from(this.queryResultCacheTable).where(`${t.escape("identifier")} = :identifier`,{identifier:e}).execute()}))),t||await i.release()}getQueryRunner(e){return e||this.connection.createQueryRunner()}}class $O{constructor(e){this.connection=e}create(){if(!this.connection.options.cache)throw new YC("To use cache you need to enable it in connection options by setting cache: true or providing some caching options. Example: { host: ..., username: ..., cache: true }");const e=this.connection.options.cache;return e.provider&&"function"==typeof e.provider?e.provider(this.connection):"redis"===e.type||"ioredis"===e.type||"ioredis/cluster"===e.type?new OO(this.connection,e.type):new jO(this.connection)}}class BO{constructor(e){this.connection=e}load(e,t,i,n){return i&&i.isReleased&&(i=void 0),e.isManyToOne||e.isOneToOneOwner?this.loadManyToOneOrOneToOneOwner(e,t,i,n):e.isOneToMany||e.isOneToOneNotOwner?this.loadOneToManyOrOneToOneNotOwner(e,t,i,n):e.isManyToManyOwner?this.loadManyToManyOwner(e,t,i,n):this.loadManyToManyNotOwner(e,t,i,n)}loadManyToOneOrOneToOneOwner(e,t,i,n){const r=Array.isArray(t)?t:[t],a=e.entityMetadata.name,s=n||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),o=s.expressionMap.mainAlias.name,l=e.entityMetadata.primaryColumns,c=(e.isOwning?e.joinColumns:e.inverseRelation.joinColumns).map((t=>`${e.entityMetadata.name}.${t.propertyName} = ${o}.${t.referencedColumn.propertyName}`)).join(" AND ");if(s.innerJoin(e.entityMetadata.target,a,c),1===l.length)s.where(`${a}.${l[0].propertyPath} IN (:...${a+"_"+l[0].propertyName})`),s.setParameter(a+"_"+l[0].propertyName,r.map((e=>l[0].getEntityValue(e,!0))));else{const e=r.map(((e,t)=>l.map(((i,n)=>{const r=a+"_entity_"+t+"_"+n;return s.setParameter(r,i.getEntityValue(e,!0)),a+"."+i.propertyPath+" = :"+r})).join(" AND "))).map((e=>"("+e+")")).join(" OR ");s.where(e)}return hA.joinEagerRelations(s,s.alias,s.expressionMap.mainAlias.metadata),s.getMany()}loadOneToManyOrOneToOneNotOwner(e,t,i,n){const r=Array.isArray(t)?t:[t],a=e.inverseRelation.joinColumns,s=n||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.inverseRelation.entityMetadata.target,e.propertyName),o=s.expressionMap.mainAlias.name;if(1===a.length)s.where(`${o}.${a[0].propertyPath} IN (:...${o+"_"+a[0].propertyName})`),s.setParameter(o+"_"+a[0].propertyName,r.map((e=>a[0].referencedColumn.getEntityValue(e,!0))));else{const e=r.map(((e,t)=>a.map(((i,n)=>{const r=o+"_entity_"+t+"_"+n;return s.setParameter(r,i.referencedColumn.getEntityValue(e,!0)),o+"."+i.propertyPath+" = :"+r})).join(" AND "))).map((e=>"("+e+")")).join(" OR ");s.where(e)}return hA.joinEagerRelations(s,s.alias,s.expressionMap.mainAlias.metadata),s.getMany()}loadManyToManyOwner(e,t,i,n){const r=Array.isArray(t)?t:[t],a=e.joinColumns.reduce(((e,t)=>(e[t.propertyName]=r.map((e=>t.referencedColumn.getEntityValue(e,!0))),e)),{}),s=n||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),o=s.expressionMap.mainAlias.name,l=e.junctionEntityMetadata.tableName,c=e.joinColumns.map((e=>`${l}.${e.propertyName} IN (:...${e.propertyName})`)),d=e.inverseJoinColumns.map((e=>`${l}.${e.propertyName}=${o}.${e.referencedColumn.propertyName}`));return s.innerJoin(l,l,[...c,...d].join(" AND ")).setParameters(a),hA.joinEagerRelations(s,s.alias,s.expressionMap.mainAlias.metadata),s.getMany()}loadManyToManyNotOwner(e,t,i,n){const r=Array.isArray(t)?t:[t],a=n||this.connection.createQueryBuilder(i).select(e.propertyName).from(e.type,e.propertyName),s=a.expressionMap.mainAlias.name,o=e.junctionEntityMetadata.tableName,l=e.inverseRelation.joinColumns.map((e=>`${o}.${e.propertyName} = ${s}.${e.referencedColumn.propertyName}`)),c=e.inverseRelation.inverseJoinColumns.map((e=>`${o}.${e.propertyName} IN (:...${e.propertyName})`)),d=e.inverseRelation.inverseJoinColumns.reduce(((e,t)=>(e[t.propertyName]=r.map((e=>t.referencedColumn.getEntityValue(e,!0))),e)),{});return a.innerJoin(o,o,[...l,...c].join(" AND ")).setParameters(d),hA.joinEagerRelations(a,a.alias,a.expressionMap.mainAlias.metadata),a.getMany()}enableLazyLoad(e,t,i){const n=this,r="__"+e.propertyName+"__",a="__promise_"+e.propertyName+"__",s="__has_"+e.propertyName+"__",o=(e,t)=>(e[r]=t,e[s]=!0,delete e[a],t),l=(e,t)=>(delete e[s],delete e[r],e[a]=t,t.then((i=>e[a]===t?o(e,i):i)),t);Object.defineProperty(t,e.propertyName,{get:function(){if(!0===this[s]||void 0!==this[r])return Promise.resolve(this[r]);if(this[a])return this[a];const t=n.load(e,this,i).then((t=>e.isOneToOne||e.isManyToOne?0===t.length?null:t[0]:t));return l(this,t)},set:function(e){e instanceof Promise?l(this,e):o(this,e)},configurable:!0,enumerable:!1})}}class qO{constructor(e){this["@instanceof"]=Symbol.for("DataSource"),this.migrations=[],this.subscribers=[],this.entityMetadatas=[],this.entityMetadatasMap=new Map,this.name=e.name||"default",this.options=e,this.logger=(new NO).create(this.options.logger,this.options.logging),this.driver=(new IN).create(this),this.manager=this.createEntityManager(),this.namingStrategy=e.namingStrategy||new QC,this.metadataTableName=e.metadataTableName||"typeorm_metadata",this.queryResultCache=e.cache?new $O(this).create():void 0,this.relationLoader=new BO(this),this.relationIdLoader=new oO(this),this.isInitialized=!1}get isConnected(){return this.isInitialized}get mongoManager(){if(!ok.isMongoEntityManager(this.manager))throw new YC("MongoEntityManager is only available for MongoDB databases.");return this.manager}get sqljsManager(){if(!ok.isSqljsEntityManager(this.manager))throw new YC("SqljsEntityManager is only available for Sqljs databases.");return this.manager}setOptions(e){return Object.assign(this.options,e),(e.logger||e.logging)&&(this.logger=(new NO).create(e.logger||this.options.logger,e.logging||this.options.logging)),e.namingStrategy&&(this.namingStrategy=e.namingStrategy),e.cache&&(this.queryResultCache=new $O(this).create()),e.database&&(this.driver.database=Zk.buildDriverOptions(this.options).database),this}async initialize(){if(this.isInitialized)throw new JC(this.name);await this.driver.connect(),this.queryResultCache&&await this.queryResultCache.connect(),sk.assign(this,{isInitialized:!0});try{await this.buildMetadatas(),await this.driver.afterConnect(),this.options.dropSchema&&await this.dropDatabase(),this.options.migrationsRun&&await this.runMigrations({transaction:this.options.migrationsTransactionMode}),this.options.synchronize&&await this.synchronize()}catch(e){throw await this.destroy(),e}return this}async connect(){return this.initialize()}async destroy(){if(!this.isInitialized)throw new Lk(this.name);await this.driver.disconnect(),this.queryResultCache&&await this.queryResultCache.disconnect(),sk.assign(this,{isInitialized:!1})}async close(){return this.destroy()}async synchronize(e=!1){if(!this.isInitialized)throw new Lk(this.name);e&&await this.dropDatabase();const t=this.driver.createSchemaBuilder();await t.build()}async dropDatabase(){const e=this.createQueryRunner();try{if("mssql"===this.driver.options.type||Zk.isMySQLFamily(this.driver)||"aurora-mysql"===this.driver.options.type||Zk.isSQLiteFamily(this.driver)){const t=[];if(this.entityMetadatas.forEach((e=>{e.database&&-1===t.indexOf(e.database)&&t.push(e.database)})),0===t.length&&this.driver.database&&t.push(this.driver.database),0===t.length)await e.clearDatabase();else for(const i of t)await e.clearDatabase(i)}else await e.clearDatabase()}finally{await e.release()}}async runMigrations(e){if(!this.isInitialized)throw new Lk(this.name);const t=new Kk(this);t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1;return await t.executePendingMigrations()}async undoLastMigration(e){if(!this.isInitialized)throw new Lk(this.name);const t=new Kk(this);t.transaction=e&&e.transaction||"all",t.fake=e&&e.fake||!1,await t.undoLastMigration()}async showMigrations(){if(!this.isInitialized)throw new Lk(this.name);const e=new Kk(this);return await e.showMigrations()}hasMetadata(e){return!!this.findMetadata(e)}getMetadata(e){const t=this.findMetadata(e);if(!t)throw new ck(e);return t}getRepository(e){return this.manager.getRepository(e)}getTreeRepository(e){return this.manager.getTreeRepository(e)}getMongoRepository(e){if("mongodb"!==this.driver.options.type)throw new YC("You can use getMongoRepository only for MongoDB connections.");return this.manager.getRepository(e)}getCustomRepository(e){return this.manager.getCustomRepository(e)}async transaction(e,t){return this.manager.transaction(e,t)}async query(e,t,i){if(ok.isMongoEntityManager(this.manager))throw new YC("Queries aren't supported by MongoDB.");if(i&&i.isReleased)throw new mk;const n=i||this.createQueryRunner();try{return await n.query(e,t)}finally{i||await n.release()}}createQueryBuilder(e,t,i){if(ok.isMongoEntityManager(this.manager))throw new YC("Query Builder is not supported by MongoDB.");if(t){t=Zk.buildAlias(this.driver,void 0,t);const n=this.getMetadata(e);return new gO(this,i).select(t).from(n.target,t)}return new gO(this,e)}createQueryRunner(e="master"){const t=this.driver.createQueryRunner(e),i=this.createEntityManager(t);return Object.assign(t,{manager:i}),t}getManyToManyMetadata(e,t){const i=this.getMetadata(e).findRelationWithPropertyPath(t);if(!i)throw new YC(`Relation "${t}" was not found in ${e} entity.`);if(!i.isManyToMany)throw new YC(`Relation "${e}#${t}" does not have a many-to-many relationship.You can use this method only on many-to-many relations.`);return i.junctionEntityMetadata}createEntityManager(e){return(new tN).create(this,e)}findMetadata(e){const t=this.entityMetadatasMap.get(e);if(t)return t;for(let[i,n]of this.entityMetadatasMap){if(ok.isEntitySchema(e)&&n.name===e.options.name)return n;if("string"==typeof e)if(-1!==e.indexOf(".")){if(n.tablePath===e)return n}else if(n.name===e||n.tableName===e)return n;if(sk.isObjectWithName(e)&&"string"==typeof e.name)if(-1!==e.name.indexOf(".")){if(n.tablePath===e.name)return n}else if(n.name===e.name||n.tableName===e.name)return n}}async buildMetadatas(){const e=new eO(this),t=new eA,i=sk.mixedListToArray(this.options.subscribers||[]),n=await e.buildSubscribers(i);sk.assign(this,{subscribers:n});const r=sk.mixedListToArray(this.options.entities||[]),a=await e.buildEntityMetadatas(r);sk.assign(this,{entityMetadatas:a,entityMetadatasMap:new Map(a.map((e=>[e.target,e])))});const s=sk.mixedListToArray(this.options.migrations||[]),o=await e.buildMigrations(s);sk.assign(this,{migrations:o}),t.validateMany(this.entityMetadatas.filter((e=>"view"!==e.tableType)),this.driver);for(let l of a)ok.isBaseEntityConstructor(l.target)&&l.target.useDataSource(this)}}function UO(){const e=gS.getGlobalVariable();return e.typeormMetadataArgsStorage||(e.typeormMetadataArgsStorage=new fS),e.typeormMetadataArgsStorage}function FO(e,t){return function(i,n){let r;"string"==typeof e||"function"==typeof e?r=e:e&&(t=e,r=e.type),t||(t={});const a=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",i,n):void 0;if(!r&&a&&(r=a),!t.type&&r&&(t.type=r),"hstore"!==t.type||t.hstoreType||(t.hstoreType=a===Object?"object":"string"),"function"==typeof e)UO().embeddeds.push({target:i.constructor,propertyName:n,isArray:a===Array||!0===t.array,prefix:void 0!==t.prefix?t.prefix:void 0,type:e});else{if(!t.type)throw new Pk(i,n);!0===t.unique&&UO().uniques.push({target:i.constructor,columns:[n]}),UO().columns.push({target:i.constructor,propertyName:n,mode:"regular",options:t}),t.generated&&UO().generations.push({target:i.constructor,propertyName:n,strategy:"string"==typeof t.generated?t.generated:"increment"})}}}function zO(e,t){return function(i,n){let r;"string"==typeof e||e===String||e===Boolean||e===Number?r=e:t=Object.assign({},e),t||(t={});const a=Reflect&&Reflect.getMetadata?Reflect.getMetadata("design:type",i,n):void 0;if(!r&&a&&(r=a),!t.type&&r&&(t.type=r),!t.type)throw new Pk(i,n);if(t.nullable)throw new hk(i,n);t.primary=!0,UO().columns.push({target:i.constructor,propertyName:n,mode:"regular",options:t}),t.generated&&UO().generations.push({target:i.constructor,propertyName:n,strategy:"string"==typeof t.generated?t.generated:"increment"})}}function VO(e,t){const i=(sk.isObject(e)?e:t)||{},n="string"==typeof e?e:i.name;return function(e){UO().tables.push({target:e,name:n,type:"regular",orderBy:i.orderBy?i.orderBy:void 0,engine:i.engine?i.engine:void 0,database:i.database?i.database:void 0,schema:i.schema?i.schema:void 0,synchronize:i.synchronize,withoutRowid:i.withoutRowid})}}var HO=Object.defineProperty,WO=Object.getOwnPropertyDescriptor,GO=(e,t,i,n)=>{for(var r,a=n>1?void 0:n?WO(t,i):t,s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&HO(t,i,a),a};let KO=class{constructor(){e(this,"id",void 0),e(this,"isActive",void 0),e(this,"file",void 0)}};GO([zO({type:"varchar"})],KO.prototype,"id",2),GO([FO({type:"boolean"})],KO.prototype,"isActive",2),GO([FO({type:"blob",length:255})],KO.prototype,"file",2),KO=GO([VO("test")],KO);var QO=Object.defineProperty,YO=Object.getOwnPropertyDescriptor,XO=(e,t,i,n)=>{for(var r,a=n>1?void 0:n?YO(t,i):t,s=e.length-1;s>=0;s--)(r=e[s])&&(a=(n?r(t,i,a):r(a))||a);return n&&a&&QO(t,i,a),a};let JO=class{constructor(){e(this,"id",void 0),e(this,"store",void 0)}};XO([zO({type:"varchar"})],JO.prototype,"id",2),XO([FO({type:"text"})],JO.prototype,"store",2),JO=XO([VO("state")],JO);var ZO={exports:{}};const eM=s(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));!function(e,t){var i=void 0,n=function(t){return i||(i=new Promise((function(i,n){var r,a=void 0!==t?t:{},s=a.onAbort;a.onAbort=function(e){n(new Error(e)),s&&s(e)},a.postRun=a.postRun||[],a.postRun.push((function(){i(a)})),e=void 0,r||(r=void 0!==a?a:{}),r.onRuntimeInitialized=function(){function e(e,t){switch(typeof t){case"boolean":Q(e,t?1:0);break;case"number":H(e,t);break;case"string":G(e,t,-1,-1);break;case"object":if(null===t)W(e);else if(null!=t.length){var i=Et(t);K(e,i,t.length,-1),At(i)}else Y(e,"Wrong API use : tried to return a value of an unknown type ("+t+").",-1);break;default:W(e)}}function t(e,t){for(var i=[],n=0;n<e;n+=1){var r=Z(t+4*n,"i32"),a=q(r);if(1===a||2===a)r=V(r);else if(3===a)r=F(r);else if(4===a){r=U(a=r),a=z(a);for(var s=new Uint8Array(r),o=0;o<r;o+=1)s[o]=_[a+o];r=s}else r=null;i.push(r)}return i}function i(e,t){this.La=e,this.db=t,this.Ja=1,this.fb=[]}function n(e,t){if(this.db=t,t=D(e)+1,this.Ya=kt(t),null===this.Ya)throw Error("Unable to allocate memory for the SQL string");L(e,S,this.Ya,t),this.eb=this.Ya,this.Ua=this.ib=null}function a(e){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),null!=e){var t=this.filename,i="/",n=t;if(i&&(i="string"==typeof i?i:Ce(i),n=t?ie(i+"/"+t):i),t=rt(!0,!0),n=qe(n,4095&(void 0!==t?t:438)|32768,0),e){if("string"==typeof e){i=Array(e.length);for(var r=0,a=e.length;r<a;++r)i[r]=e.charCodeAt(r);e=i}Qe(n,146|t),i=Xe(n,577),tt(i,e,0,e.length,0),Je(i),Qe(n,t)}}this.handleError(l(this.filename,s)),this.db=Z(s,"i32"),J(this.db),this.Za={},this.Na={}}var s=It(4),o=r.cwrap,l=o("sqlite3_open","number",["string","number"]),c=o("sqlite3_close_v2","number",["number"]),d=o("sqlite3_exec","number",["number","string","number","number","number"]),u=o("sqlite3_changes","number",["number"]),h=o("sqlite3_prepare_v2","number",["number","string","number","number","number"]),p=o("sqlite3_sql","string",["number"]),m=o("sqlite3_normalized_sql","string",["number"]),f=o("sqlite3_prepare_v2","number",["number","number","number","number","number"]),g=o("sqlite3_bind_text","number",["number","number","number","number","number"]),y=o("sqlite3_bind_blob","number",["number","number","number","number","number"]),b=o("sqlite3_bind_double","number",["number","number","number"]),v=o("sqlite3_bind_int","number",["number","number","number"]),w=o("sqlite3_bind_parameter_index","number",["number","string"]),T=o("sqlite3_step","number",["number"]),x=o("sqlite3_errmsg","string",["number"]),E=o("sqlite3_column_count","number",["number"]),C=o("sqlite3_data_count","number",["number"]),k=o("sqlite3_column_double","number",["number","number"]),A=o("sqlite3_column_text","string",["number","number"]),N=o("sqlite3_column_blob","number",["number","number"]),O=o("sqlite3_column_bytes","number",["number","number"]),M=o("sqlite3_column_type","number",["number","number"]),P=o("sqlite3_column_name","string",["number","number"]),I=o("sqlite3_reset","number",["number"]),j=o("sqlite3_clear_bindings","number",["number"]),$=o("sqlite3_finalize","number",["number"]),B=o("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),q=o("sqlite3_value_type","number",["number"]),U=o("sqlite3_value_bytes","number",["number"]),F=o("sqlite3_value_text","string",["number"]),z=o("sqlite3_value_blob","number",["number"]),V=o("sqlite3_value_double","number",["number"]),H=o("sqlite3_result_double","",["number","number"]),W=o("sqlite3_result_null","",["number"]),G=o("sqlite3_result_text","",["number","string","number","number"]),K=o("sqlite3_result_blob","",["number","number","number","number"]),Q=o("sqlite3_result_int","",["number","number"]),Y=o("sqlite3_result_error","",["number","string","number"]),X=o("sqlite3_aggregate_context","number",["number","number"]),J=o("RegisterExtensionFunctions","number",["number"]);i.prototype.bind=function(e){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(e)?this.xb(e):null==e||"object"!=typeof e||this.yb(e)},i.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var e=T(this.La);switch(e){case 100:return!0;case 101:return!1;default:throw this.db.handleError(e)}},i.prototype.sb=function(e){return null==e&&(e=this.Ja,this.Ja+=1),k(this.La,e)},i.prototype.Cb=function(e){if(null==e&&(e=this.Ja,this.Ja+=1),e=A(this.La,e),"function"!=typeof BigInt)throw Error("BigInt is not supported");return BigInt(e)},i.prototype.Db=function(e){return null==e&&(e=this.Ja,this.Ja+=1),A(this.La,e)},i.prototype.getBlob=function(e){null==e&&(e=this.Ja,this.Ja+=1);var t=O(this.La,e);e=N(this.La,e);for(var i=new Uint8Array(t),n=0;n<t;n+=1)i[n]=_[e+n];return i},i.prototype.get=function(e,t){t=t||{},null!=e&&this.bind(e)&&this.step(),e=[];for(var i=C(this.La),n=0;n<i;n+=1)switch(M(this.La,n)){case 1:var r=t.useBigInt?this.Cb(n):this.sb(n);e.push(r);break;case 2:e.push(this.sb(n));break;case 3:e.push(this.Db(n));break;case 4:e.push(this.getBlob(n));break;default:e.push(null)}return e},i.prototype.getColumnNames=function(){for(var e=[],t=E(this.La),i=0;i<t;i+=1)e.push(P(this.La,i));return e},i.prototype.getAsObject=function(e,t){e=this.get(e,t),t=this.getColumnNames();for(var i={},n=0;n<t.length;n+=1)i[t[n]]=e[n];return i},i.prototype.getSQL=function(){return p(this.La)},i.prototype.getNormalizedSQL=function(){return m(this.La)},i.prototype.run=function(e){return null!=e&&this.bind(e),this.step(),this.reset()},i.prototype.nb=function(e,t){null==t&&(t=this.Ja,this.Ja+=1);var i=Et(e=se(e));this.fb.push(i),this.db.handleError(g(this.La,t,i,e.length-1,0))},i.prototype.wb=function(e,t){null==t&&(t=this.Ja,this.Ja+=1);var i=Et(e);this.fb.push(i),this.db.handleError(y(this.La,t,i,e.length,0))},i.prototype.mb=function(e,t){null==t&&(t=this.Ja,this.Ja+=1),this.db.handleError((e===(0|e)?v:b)(this.La,t,e))},i.prototype.zb=function(e){null==e&&(e=this.Ja,this.Ja+=1),y(this.La,e,0,0,0)},i.prototype.ob=function(e,t){switch(null==t&&(t=this.Ja,this.Ja+=1),typeof e){case"string":return void this.nb(e,t);case"number":return void this.mb(e,t);case"bigint":return void this.nb(e.toString(),t);case"boolean":return void this.mb(e+0,t);case"object":if(null===e)return void this.zb(t);if(null!=e.length)return void this.wb(e,t)}throw"Wrong API use : tried to bind a value of an unknown type ("+e+")."},i.prototype.yb=function(e){var t=this;return Object.keys(e).forEach((function(i){var n=w(t.La,i);0!==n&&t.ob(e[i],n)})),!0},i.prototype.xb=function(e){for(var t=0;t<e.length;t+=1)this.ob(e[t],t+1);return!0},i.prototype.reset=function(){return this.freemem(),0===j(this.La)&&0===I(this.La)},i.prototype.freemem=function(){for(var e;void 0!==(e=this.fb.pop());)At(e)},i.prototype.free=function(){this.freemem();var e=0===$(this.La);return delete this.db.Za[this.La],this.La=0,e},n.prototype.next=function(){if(null===this.Ya)return{done:!0};if(null!==this.Ua&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var e=Mt(),t=It(4);ee(s),ee(t);try{this.db.handleError(f(this.db.db,this.eb,-1,s,t)),this.eb=Z(t,"i32");var n=Z(s,"i32");return 0===n?(this.gb(),{done:!0}):(this.Ua=new i(n,this.db),this.db.Za[n]=this.Ua,{value:this.Ua,done:!1})}catch(r){throw this.ib=R(this.eb),this.gb(),r}finally{Pt(e)}},n.prototype.gb=function(){At(this.Ya),this.Ya=null},n.prototype.getRemainingSQL=function(){return null!==this.ib?this.ib:R(this.eb)},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(n.prototype[Symbol.iterator]=function(){return this}),a.prototype.run=function(e,t){if(!this.db)throw"Database closed";if(t){e=this.prepare(e,t);try{e.step()}finally{e.free()}}else this.handleError(d(this.db,e,0,0,s));return this},a.prototype.exec=function(e,t,n){if(!this.db)throw"Database closed";var r=Mt(),a=null;try{var o=D(e)+1,l=It(o);L(e,_,l,o);var c=l,d=It(4);for(e=[];0!==Z(c,"i8");){ee(s),ee(d),this.handleError(f(this.db,c,-1,s,d));var u=Z(s,"i32");if(c=Z(d,"i32"),0!==u){for(o=null,a=new i(u,this),null!=t&&a.bind(t);a.step();)null===o&&(o={columns:a.getColumnNames(),values:[]},e.push(o)),o.values.push(a.get(null,n));a.free()}}return e}catch(h){throw a&&a.free(),h}finally{Pt(r)}},a.prototype.each=function(e,t,i,n,r){"function"==typeof t&&(n=i,i=t,t=void 0),e=this.prepare(e,t);try{for(;e.step();)i(e.getAsObject(null,r))}finally{e.free()}if("function"==typeof n)return n()},a.prototype.prepare=function(e,t){if(ee(s),this.handleError(h(this.db,e,-1,s,0)),0===(e=Z(s,"i32")))throw"Nothing to prepare";var n=new i(e,this);return null!=t&&n.bind(t),this.Za[e]=n},a.prototype.iterateStatements=function(e){return new n(e,this)},a.prototype.export=function(){Object.values(this.Za).forEach((function(e){e.free()})),Object.values(this.Na).forEach(xt),this.Na={},this.handleError(c(this.db));var e=it(this.filename);return this.handleError(l(this.filename,s)),this.db=Z(s,"i32"),e},a.prototype.close=function(){null!==this.db&&(Object.values(this.Za).forEach((function(e){e.free()})),Object.values(this.Na).forEach(xt),this.Na={},this.handleError(c(this.db)),He("/"+this.filename),this.db=null)},a.prototype.handleError=function(e){if(0===e)return null;throw e=x(this.db),Error(e)},a.prototype.getRowsModified=function(){return u(this.db)},a.prototype.create_function=function(i,n){Object.prototype.hasOwnProperty.call(this.Na,i)&&(xt(this.Na[i]),delete this.Na[i]);var r=Tt((function(i,r,a){r=t(r,a);try{var s=n.apply(null,r)}catch(uM){return void Y(i,uM,-1)}e(i,s)}),"viii");return this.Na[i]=r,this.handleError(B(this.db,i,n.length,1,0,r,0,0,0)),this},a.prototype.create_aggregate=function(i,n){var r=n.init||function(){return null},a=n.finalize||function(e){return e},s=n.step;if(!s)throw"An aggregate function must have a step function in "+i;var o={};Object.hasOwnProperty.call(this.Na,i)&&(xt(this.Na[i]),delete this.Na[i]),n=i+"__finalize",Object.hasOwnProperty.call(this.Na,n)&&(xt(this.Na[n]),delete this.Na[n]);var l=Tt((function(e,i,n){var a=X(e,1);Object.hasOwnProperty.call(o,a)||(o[a]=r()),i=t(i,n),i=[o[a]].concat(i);try{o[a]=s.apply(null,i)}catch(Ai){delete o[a],Y(e,Ai,-1)}}),"viii"),c=Tt((function(t){var i=X(t,1);try{var n=a(o[i])}catch(Lc){return delete o[i],void Y(t,Lc,-1)}e(t,n),delete o[i]}),"vi");return this.Na[i]=l,this.Na[n]=c,this.handleError(B(this.db,i,s.length-1,1,0,0,l,c,0)),this},r.Database=a};var o,l,c,d,u,h,p=Object.assign({},r),m="./this.program",f="object"==typeof window,g="function"==typeof importScripts,y="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,b="";y?(b=g?eM.dirname(b)+"/":__dirname+"/",h=()=>{u||(d=eM,u=eM)},o=function(e,t){return h(),e=u.normalize(e),d.readFileSync(e,t?void 0:"utf8")},c=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),l=(e,t,i)=>{h(),e=u.normalize(e),d.readFile(e,(function(e,n){e?i(e):t(n.buffer)}))},1<process.argv.length&&(m=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),e.exports=r,r.inspect=function(){return"[Emscripten Module object]"}):(f||g)&&(g?b=self.location.href:"undefined"!=typeof document&&document.currentScript&&(b=document.currentScript.src),b=0!==b.indexOf("blob:")?b.substr(0,b.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},g&&(c=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),l=(e,t,i)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{200==n.status||0==n.status&&n.response?t(n.response):i()},n.onerror=i,n.send(null)});var v,w=r.print||console.log.bind(console),T=r.printErr||console.warn.bind(console);Object.assign(r,p),p=null,r.thisProgram&&(m=r.thisProgram),r.wasmBinary&&(v=r.wasmBinary),r.noExitRuntime,"object"!=typeof WebAssembly&&K("no native wasm support detected");var x,E,_,S,C,k,A,N,O,M=!1,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function I(e,t,i){var n=t+i;for(i=t;e[i]&&!(i>=n);)++i;if(16<i-t&&e.buffer&&P)return P.decode(e.subarray(t,i));for(n="";t<i;){var r=e[t++];if(128&r){var a=63&e[t++];if(192==(224&r))n+=String.fromCharCode((31&r)<<6|a);else{var s=63&e[t++];65536>(r=224==(240&r)?(15&r)<<12|a<<6|s:(7&r)<<18|a<<12|s<<6|63&e[t++])?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else n+=String.fromCharCode(r)}return n}function R(e,t){return e?I(S,e,t):""}function L(e,t,i,n){if(!(0<n))return 0;var r=i;n=i+n-1;for(var a=0;a<e.length;++a){var s=e.charCodeAt(a);if(55296<=s&&57343>=s)s=65536+((1023&s)<<10)|1023&e.charCodeAt(++a);if(127>=s){if(i>=n)break;t[i++]=s}else{if(2047>=s){if(i+1>=n)break;t[i++]=192|s>>6}else{if(65535>=s){if(i+2>=n)break;t[i++]=224|s>>12}else{if(i+3>=n)break;t[i++]=240|s>>18,t[i++]=128|s>>12&63}t[i++]=128|s>>6&63}t[i++]=128|63&s}}return t[i]=0,i-r}function D(e){for(var t=0,i=0;i<e.length;++i){var n=e.charCodeAt(i);127>=n?t++:2047>=n?t+=2:55296<=n&&57343>=n?(t+=4,++i):t+=3}return t}function j(){var e=x.buffer;E=e,r.HEAP8=_=new Int8Array(e),r.HEAP16=C=new Int16Array(e),r.HEAP32=k=new Int32Array(e),r.HEAPU8=S=new Uint8Array(e),r.HEAPU16=new Uint16Array(e),r.HEAPU32=A=new Uint32Array(e),r.HEAPF32=N=new Float32Array(e),r.HEAPF64=O=new Float64Array(e)}var $,B=[],q=[],U=[];function F(){var e=r.preRun.shift();B.unshift(e)}var z,V,H,W=0,G=null;function K(e){throw r.onAbort&&r.onAbort(e),T(e="Aborted("+e+")"),M=!0,new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info.")}function Q(){return z.startsWith("data:application/octet-stream;base64,")}if(z="sql-wasm.wasm",!Q()){var Y=z;z=r.locateFile?r.locateFile(Y,b):b+Y}function X(){var e=z;try{if(e==z&&v)return new Uint8Array(v);if(c)return c(e);throw"both async and sync fetching of the wasm failed"}catch(_h){K(_h)}}function J(e){for(;0<e.length;)e.shift()(r)}function Z(e,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":return _[e>>0];case"i16":return C[e>>1];case"i32":case"i64":return k[e>>2];case"float":return N[e>>2];case"double":return O[e>>3];case"*":return A[e>>2];default:K("invalid type for getValue: "+t)}return null}function ee(e){var t="i32";switch(t.endsWith("*")&&(t="*"),t){case"i1":case"i8":_[e>>0]=0;break;case"i16":C[e>>1]=0;break;case"i32":k[e>>2]=0;break;case"i64":H=[0,(V=0,1<=+Math.abs(V)?0<V?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],k[e>>2]=H[0],k[e+4>>2]=H[1];break;case"float":N[e>>2]=0;break;case"double":O[e>>3]=0;break;case"*":A[e>>2]=0;break;default:K("invalid type for setValue: "+t)}}var te=(e,t)=>{for(var i=0,n=e.length-1;0<=n;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i;i--)e.unshift("..");return e},ie=e=>{var t="/"===e.charAt(0),i="/"===e.substr(-1);return(e=te(e.split("/").filter((e=>!!e)),!t).join("/"))||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e},ne=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."},re=e=>{if("/"===e)return"/";var t=(e=(e=ie(e)).replace(/\/$/,"")).lastIndexOf("/");return-1===t?e:e.substr(t+1)};function ae(){for(var e="",t=!1,i=arguments.length-1;-1<=i&&!t;i--){if("string"!=typeof(t=0<=i?arguments[i]:"/"))throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t="/"===t.charAt(0)}return e=te(e.split("/").filter((e=>!!e)),!t).join("/"),(t?"/":"")+e||"."}function se(e,t){var i=Array(D(e)+1);return e=L(e,i,0,i.length),t&&(i.length=e),i}var oe=[];function le(e,t){oe[e]={input:[],output:[],Xa:t},$e(e,pe)}var ce,de,ue,he,pe={open:function(e){var t=oe[e.node.rdev];if(!t)throw new Ee(43);e.tty=t,e.seekable=!1},close:function(e){e.tty.Xa.fsync(e.tty)},fsync:function(e){e.tty.Xa.fsync(e.tty)},read:function(e,t,i,n){if(!e.tty||!e.tty.Xa.tb)throw new Ee(60);for(var r=0,a=0;a<n;a++){try{var s=e.tty.Xa.tb(e.tty)}catch(R_){throw new Ee(29)}if(void 0===s&&0===r)throw new Ee(6);if(null==s)break;r++,t[i+a]=s}return r&&(e.node.timestamp=Date.now()),r},write:function(e,t,i,n){if(!e.tty||!e.tty.Xa.jb)throw new Ee(60);try{for(var r=0;r<n;r++)e.tty.Xa.jb(e.tty,t[i+r])}catch(P_){throw new Ee(29)}return n&&(e.node.timestamp=Date.now()),r}},me={tb:function(e){if(!e.input.length){var t=null;if(y){var i=Buffer.alloc(256),n=0;try{n=d.readSync(process.stdin.fd,i,0,256,-1)}catch(Ah){if(!Ah.toString().includes("EOF"))throw Ah;n=0}t=0<n?i.slice(0,n).toString("utf-8"):null}else"undefined"!=typeof window&&"function"==typeof window.prompt?null!==(t=window.prompt("Input: "))&&(t+="\n"):"function"==typeof readline&&(null!==(t=readline())&&(t+="\n"));if(!t)return null;e.input=se(t,!0)}return e.input.shift()},jb:function(e,t){null===t||10===t?(w(I(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&0<e.output.length&&(w(I(e.output,0)),e.output=[])}},fe={jb:function(e,t){null===t||10===t?(T(I(e.output,0)),e.output=[]):0!=t&&e.output.push(t)},fsync:function(e){e.output&&0<e.output.length&&(T(I(e.output,0)),e.output=[])}},ge={Qa:null,Ra:function(){return ge.createNode(null,"/",16895,0)},createNode:function(e,t,i,n){if(24576==(61440&i)||4096==(61440&i))throw new Ee(63);return ge.Qa||(ge.Qa={dir:{node:{Pa:ge.Ga.Pa,Oa:ge.Ga.Oa,lookup:ge.Ga.lookup,ab:ge.Ga.ab,rename:ge.Ga.rename,unlink:ge.Ga.unlink,rmdir:ge.Ga.rmdir,readdir:ge.Ga.readdir,symlink:ge.Ga.symlink},stream:{Ta:ge.Ha.Ta}},file:{node:{Pa:ge.Ga.Pa,Oa:ge.Ga.Oa},stream:{Ta:ge.Ha.Ta,read:ge.Ha.read,write:ge.Ha.write,lb:ge.Ha.lb,bb:ge.Ha.bb,cb:ge.Ha.cb}},link:{node:{Pa:ge.Ga.Pa,Oa:ge.Ga.Oa,readlink:ge.Ga.readlink},stream:{}},pb:{node:{Pa:ge.Ga.Pa,Oa:ge.Ga.Oa},stream:je}}),16384==(61440&(i=Oe(e,t,i,n)).mode)?(i.Ga=ge.Qa.dir.node,i.Ha=ge.Qa.dir.stream,i.Ia={}):32768==(61440&i.mode)?(i.Ga=ge.Qa.file.node,i.Ha=ge.Qa.file.stream,i.Ma=0,i.Ia=null):40960==(61440&i.mode)?(i.Ga=ge.Qa.link.node,i.Ha=ge.Qa.link.stream):8192==(61440&i.mode)&&(i.Ga=ge.Qa.pb.node,i.Ha=ge.Qa.pb.stream),i.timestamp=Date.now(),e&&(e.Ia[t]=i,e.timestamp=i.timestamp),i},Jb:function(e){return e.Ia?e.Ia.subarray?e.Ia.subarray(0,e.Ma):new Uint8Array(e.Ia):new Uint8Array(0)},qb:function(e,t){var i=e.Ia?e.Ia.length:0;i>=t||(t=Math.max(t,i*(1048576>i?2:1.125)>>>0),0!=i&&(t=Math.max(t,256)),i=e.Ia,e.Ia=new Uint8Array(t),0<e.Ma&&e.Ia.set(i.subarray(0,e.Ma),0))},Gb:function(e,t){if(e.Ma!=t)if(0==t)e.Ia=null,e.Ma=0;else{var i=e.Ia;e.Ia=new Uint8Array(t),i&&e.Ia.set(i.subarray(0,Math.min(t,e.Ma))),e.Ma=t}},Ga:{Pa:function(e){var t={};return t.dev=8192==(61440&e.mode)?e.id:1,t.ino=e.id,t.mode=e.mode,t.nlink=1,t.uid=0,t.gid=0,t.rdev=e.rdev,16384==(61440&e.mode)?t.size=4096:32768==(61440&e.mode)?t.size=e.Ma:40960==(61440&e.mode)?t.size=e.link.length:t.size=0,t.atime=new Date(e.timestamp),t.mtime=new Date(e.timestamp),t.ctime=new Date(e.timestamp),t.Ab=4096,t.blocks=Math.ceil(t.size/t.Ab),t},Oa:function(e,t){void 0!==t.mode&&(e.mode=t.mode),void 0!==t.timestamp&&(e.timestamp=t.timestamp),void 0!==t.size&&ge.Gb(e,t.size)},lookup:function(){throw _e[44]},ab:function(e,t,i,n){return ge.createNode(e,t,i,n)},rename:function(e,t,i){if(16384==(61440&e.mode)){try{var n=Ne(t,i)}catch(P_){}if(n)for(var r in n.Ia)throw new Ee(55)}delete e.parent.Ia[e.name],e.parent.timestamp=Date.now(),e.name=i,t.Ia[i]=e,t.timestamp=e.parent.timestamp,e.parent=t},unlink:function(e,t){delete e.Ia[t],e.timestamp=Date.now()},rmdir:function(e,t){var i,n=Ne(e,t);for(i in n.Ia)throw new Ee(55);delete e.Ia[t],e.timestamp=Date.now()},readdir:function(e){var t,i=[".",".."];for(t in e.Ia)e.Ia.hasOwnProperty(t)&&i.push(t);return i},symlink:function(e,t,i){return(e=ge.createNode(e,t,41471,0)).link=i,e},readlink:function(e){if(40960!=(61440&e.mode))throw new Ee(28);return e.link}},Ha:{read:function(e,t,i,n,r){var a=e.node.Ia;if(r>=e.node.Ma)return 0;if(8<(e=Math.min(e.node.Ma-r,n))&&a.subarray)t.set(a.subarray(r,r+e),i);else for(n=0;n<e;n++)t[i+n]=a[r+n];return e},write:function(e,t,i,n,r,a){if(t.buffer===_.buffer&&(a=!1),!n)return 0;if((e=e.node).timestamp=Date.now(),t.subarray&&(!e.Ia||e.Ia.subarray)){if(a)return e.Ia=t.subarray(i,i+n),e.Ma=n;if(0===e.Ma&&0===r)return e.Ia=t.slice(i,i+n),e.Ma=n;if(r+n<=e.Ma)return e.Ia.set(t.subarray(i,i+n),r),n}if(ge.qb(e,r+n),e.Ia.subarray&&t.subarray)e.Ia.set(t.subarray(i,i+n),r);else for(a=0;a<n;a++)e.Ia[r+a]=t[i+a];return e.Ma=Math.max(e.Ma,r+n),n},Ta:function(e,t,i){if(1===i?t+=e.position:2===i&&32768==(61440&e.node.mode)&&(t+=e.node.Ma),0>t)throw new Ee(28);return t},lb:function(e,t,i){ge.qb(e.node,t+i),e.node.Ma=Math.max(e.node.Ma,t+i)},bb:function(e,t,i,n,r){if(32768!=(61440&e.node.mode))throw new Ee(43);if(e=e.node.Ia,2&r||e.buffer!==E){if((0<i||i+t<e.length)&&(e=e.subarray?e.subarray(i,i+t):Array.prototype.slice.call(e,i,i+t)),i=!0,t=65536*Math.ceil(t/65536),(r=Ot(65536,t))?(S.fill(0,r,r+t),t=r):t=0,!t)throw new Ee(48);_.set(e,t)}else i=!1,t=e.byteOffset;return{Fb:t,vb:i}},cb:function(e,t,i,n,r){if(32768!=(61440&e.node.mode))throw new Ee(43);return 2&r||ge.Ha.write(e,t,0,n,i,!1),0}}},ye=null,be={},ve=[],we=1,Te=null,xe=!0,Ee=null,_e={},Se=(e,t={})=>{if(!(e=ae("/",e)))return{path:"",node:null};if(8<(t=Object.assign({rb:!0,kb:0},t)).kb)throw new Ee(32);e=te(e.split("/").filter((e=>!!e)),!1);for(var i=ye,n="/",r=0;r<e.length;r++){var a=r===e.length-1;if(a&&t.parent)break;if(i=Ne(i,e[r]),n=ie(n+"/"+e[r]),i.Va&&(!a||a&&t.rb)&&(i=i.Va.root),!a||t.Sa)for(a=0;40960==(61440&i.mode);)if(i=We(n),n=ae(ne(n),i),i=Se(n,{kb:t.kb+1}).node,40<a++)throw new Ee(32)}return{path:n,node:i}},Ce=e=>{for(var t;;){if(e===e.parent)return e=e.Ra.ub,t?"/"!==e[e.length-1]?e+"/"+t:e+t:e;t=t?e.name+"/"+t:e.name,e=e.parent}},ke=(e,t)=>{for(var i=0,n=0;n<t.length;n++)i=(i<<5)-i+t.charCodeAt(n)|0;return(e+i>>>0)%Te.length},Ae=e=>{var t=ke(e.parent.id,e.name);if(Te[t]===e)Te[t]=e.Wa;else for(t=Te[t];t;){if(t.Wa===e){t.Wa=e.Wa;break}t=t.Wa}},Ne=(e,t)=>{var i;if(i=(i=Ie(e,"x"))?i:e.Ga.lookup?0:2)throw new Ee(i,e);for(i=Te[ke(e.id,t)];i;i=i.Wa){var n=i.name;if(i.parent.id===e.id&&n===t)return i}return e.Ga.lookup(e,t)},Oe=(e,t,i,n)=>(e=new _t(e,t,i,n),t=ke(e.parent.id,e.name),e.Wa=Te[t],Te[t]=e),Me={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Pe=e=>{var t=["r","w","rw"][3&e];return 512&e&&(t+="w"),t},Ie=(e,t)=>xe?0:!t.includes("r")||292&e.mode?t.includes("w")&&!(146&e.mode)||t.includes("x")&&!(73&e.mode)?2:0:2,Re=(e,t)=>{try{return Ne(e,t),20}catch(Sh){}return Ie(e,"wx")},Le=(e,t,i)=>{try{var n=Ne(e,t)}catch(Ah){return Ah.Ka}if(e=Ie(e,"wx"))return e;if(i){if(16384!=(61440&n.mode))return 54;if(n===n.parent||"/"===Ce(n))return 10}else if(16384==(61440&n.mode))return 31;return 0},De=(e,t)=>(ue||((ue=function(){this.$a={}}).prototype={},Object.defineProperties(ue.prototype,{object:{get:function(){return this.node},set:function(e){this.node=e}},flags:{get:function(){return this.$a.flags},set:function(e){this.$a.flags=e}},position:{get:function(){return this.$a.position},set:function(e){this.$a.position=e}}})),e=Object.assign(new ue,e),t=((e=0)=>{for(;4096>=e;e++)if(!ve[e])return e;throw new Ee(33)})(t),e.fd=t,ve[t]=e),je={open:e=>{e.Ha=be[e.node.rdev].Ha,e.Ha.open&&e.Ha.open(e)},Ta:()=>{throw new Ee(70)}},$e=(e,t)=>{be[e]={Ha:t}},Be=(e,t)=>{var i="/"===t,n=!t;if(i&&ye)throw new Ee(10);if(!i&&!n){var r=Se(t,{rb:!1});if(t=r.path,(r=r.node).Va)throw new Ee(10);if(16384!=(61440&r.mode))throw new Ee(54)}t={type:e,Kb:{},ub:t,Eb:[]},(e=e.Ra(t)).Ra=t,t.root=e,i?ye=e:r&&(r.Va=t,r.Ra&&r.Ra.Eb.push(t))},qe=(e,t,i)=>{var n=Se(e,{parent:!0}).node;if(!(e=re(e))||"."===e||".."===e)throw new Ee(28);var r=Re(n,e);if(r)throw new Ee(r);if(!n.Ga.ab)throw new Ee(63);return n.Ga.ab(n,e,t,i)},Ue=(e,t)=>qe(e,1023&(void 0!==t?t:511)|16384,0),Fe=(e,t,i)=>{void 0===i&&(i=t,t=438),qe(e,8192|t,i)},ze=(e,t)=>{if(!ae(e))throw new Ee(44);var i=Se(t,{parent:!0}).node;if(!i)throw new Ee(44);t=re(t);var n=Re(i,t);if(n)throw new Ee(n);if(!i.Ga.symlink)throw new Ee(63);i.Ga.symlink(i,t,e)},Ve=e=>{var t=Se(e,{parent:!0}).node;e=re(e);var i=Ne(t,e),n=Le(t,e,!0);if(n)throw new Ee(n);if(!t.Ga.rmdir)throw new Ee(63);if(i.Va)throw new Ee(10);t.Ga.rmdir(t,e),Ae(i)},He=e=>{var t=Se(e,{parent:!0}).node;if(!t)throw new Ee(44);e=re(e);var i=Ne(t,e),n=Le(t,e,!1);if(n)throw new Ee(n);if(!t.Ga.unlink)throw new Ee(63);if(i.Va)throw new Ee(10);t.Ga.unlink(t,e),Ae(i)},We=e=>{if(!(e=Se(e).node))throw new Ee(44);if(!e.Ga.readlink)throw new Ee(28);return ae(Ce(e.parent),e.Ga.readlink(e))},Ge=(e,t)=>{if(!(e=Se(e,{Sa:!t}).node))throw new Ee(44);if(!e.Ga.Pa)throw new Ee(63);return e.Ga.Pa(e)},Ke=e=>Ge(e,!0),Qe=(e,t)=>{if(!(e="string"==typeof e?Se(e,{Sa:!0}).node:e).Ga.Oa)throw new Ee(63);e.Ga.Oa(e,{mode:4095&t|-4096&e.mode,timestamp:Date.now()})},Ye=(e,t)=>{if(0>t)throw new Ee(28);if(!(e="string"==typeof e?Se(e,{Sa:!0}).node:e).Ga.Oa)throw new Ee(63);if(16384==(61440&e.mode))throw new Ee(31);if(32768!=(61440&e.mode))throw new Ee(28);var i=Ie(e,"w");if(i)throw new Ee(i);e.Ga.Oa(e,{size:t,timestamp:Date.now()})},Xe=(e,t,i)=>{if(""===e)throw new Ee(44);if("string"==typeof t){var n=Me[t];if(void 0===n)throw Error("Unknown file open mode: "+t);t=n}if(i=64&t?4095&(void 0===i?438:i)|32768:0,"object"==typeof e)var a=e;else{e=ie(e);try{a=Se(e,{Sa:!(131072&t)}).node}catch(P_){}}if(n=!1,64&t)if(a){if(128&t)throw new Ee(20)}else a=qe(e,i,0),n=!0;if(!a)throw new Ee(44);if(8192==(61440&a.mode)&&(t&=-513),65536&t&&16384!=(61440&a.mode))throw new Ee(54);if(!n&&(i=a?40960==(61440&a.mode)?32:16384==(61440&a.mode)&&("r"!==Pe(t)||512&t)?31:Ie(a,Pe(t)):44))throw new Ee(i);return 512&t&&!n&&Ye(a,0),t&=-131713,(a=De({node:a,path:Ce(a),flags:t,seekable:!0,position:0,Ha:a.Ha,Ib:[],error:!1})).Ha.open&&a.Ha.open(a),!r.logReadFiles||1&t||(he||(he={}),e in he||(he[e]=1)),a},Je=e=>{if(null===e.fd)throw new Ee(8);e.hb&&(e.hb=null);try{e.Ha.close&&e.Ha.close(e)}catch(_h){throw _h}finally{ve[e.fd]=null}e.fd=null},Ze=(e,t,i)=>{if(null===e.fd)throw new Ee(8);if(!e.seekable||!e.Ha.Ta)throw new Ee(70);if(0!=i&&1!=i&&2!=i)throw new Ee(28);e.position=e.Ha.Ta(e,t,i),e.Ib=[]},et=(e,t,i,n,r)=>{if(0>n||0>r)throw new Ee(28);if(null===e.fd)throw new Ee(8);if(1==(2097155&e.flags))throw new Ee(8);if(16384==(61440&e.node.mode))throw new Ee(31);if(!e.Ha.read)throw new Ee(28);var a=void 0!==r;if(a){if(!e.seekable)throw new Ee(70)}else r=e.position;return t=e.Ha.read(e,t,i,n,r),a||(e.position+=t),t},tt=(e,t,i,n,r)=>{if(0>n||0>r)throw new Ee(28);if(null===e.fd)throw new Ee(8);if(0==(2097155&e.flags))throw new Ee(8);if(16384==(61440&e.node.mode))throw new Ee(31);if(!e.Ha.write)throw new Ee(28);e.seekable&&1024&e.flags&&Ze(e,0,2);var a=void 0!==r;if(a){if(!e.seekable)throw new Ee(70)}else r=e.position;return t=e.Ha.write(e,t,i,n,r,void 0),a||(e.position+=t),t},it=e=>{var t,i=Xe(e,i||0);e=Ge(e).size;var n=new Uint8Array(e);return et(i,n,0,e,0),t=n,Je(i),t},nt=()=>{Ee||(Ee=function(e,t){this.node=t,this.Hb=function(e){this.Ka=e},this.Hb(e),this.message="FS error"},Ee.prototype=Error(),Ee.prototype.constructor=Ee,[44].forEach((e=>{_e[e]=new Ee(e),_e[e].stack="<generic error, no stack>"})))},rt=(e,t)=>{var i=0;return e&&(i|=365),t&&(i|=146),i},at=(e,t,i)=>{e=ie("/dev/"+e);var n=rt(!!t,!!i);de||(de=64);var r=de++<<8|0;$e(r,{open:e=>{e.seekable=!1},close:()=>{i&&i.buffer&&i.buffer.length&&i(10)},read:(e,i,n,r)=>{for(var a=0,s=0;s<r;s++){try{var o=t()}catch(mt){throw new Ee(29)}if(void 0===o&&0===a)throw new Ee(6);if(null==o)break;a++,i[n+s]=o}return a&&(e.node.timestamp=Date.now()),a},write:(e,t,n,r)=>{for(var a=0;a<r;a++)try{i(t[n+a])}catch(s){throw new Ee(29)}return r&&(e.node.timestamp=Date.now()),a}}),Fe(e,n,r)},st={};function ot(e,t,i){if("/"===t.charAt(0))return t;if(e=-100===e?"/":ht(e).path,0==t.length){if(!i)throw new Ee(44);return e}return ie(e+"/"+t)}function lt(e,t,i){try{var n=e(t)}catch(Ah){if(Ah&&Ah.node&&ie(t)!==ie(Ce(Ah.node)))return-54;throw Ah}return k[i>>2]=n.dev,k[i+8>>2]=n.ino,k[i+12>>2]=n.mode,A[i+16>>2]=n.nlink,k[i+20>>2]=n.uid,k[i+24>>2]=n.gid,k[i+28>>2]=n.rdev,H=[n.size>>>0,(V=n.size,1<=+Math.abs(V)?0<V?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],k[i+40>>2]=H[0],k[i+44>>2]=H[1],k[i+48>>2]=4096,k[i+52>>2]=n.blocks,H=[Math.floor(n.atime.getTime()/1e3)>>>0,(V=Math.floor(n.atime.getTime()/1e3),1<=+Math.abs(V)?0<V?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],k[i+56>>2]=H[0],k[i+60>>2]=H[1],A[i+64>>2]=0,H=[Math.floor(n.mtime.getTime()/1e3)>>>0,(V=Math.floor(n.mtime.getTime()/1e3),1<=+Math.abs(V)?0<V?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],k[i+72>>2]=H[0],k[i+76>>2]=H[1],A[i+80>>2]=0,H=[Math.floor(n.ctime.getTime()/1e3)>>>0,(V=Math.floor(n.ctime.getTime()/1e3),1<=+Math.abs(V)?0<V?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],k[i+88>>2]=H[0],k[i+92>>2]=H[1],A[i+96>>2]=0,H=[n.ino>>>0,(V=n.ino,1<=+Math.abs(V)?0<V?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],k[i+104>>2]=H[0],k[i+108>>2]=H[1],0}var ct,dt=void 0;function ut(){return k[(dt+=4)-4>>2]}function ht(e){if(!(e=ve[e]))throw new Ee(8);return e}function pt(e){return A[e>>2]+4294967296*k[e+4>>2]}function ft(e){var t=D(e)+1,i=kt(t);return i&&L(e,_,i,t),i}ct=y?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now();var gt={};function yt(){if(!bt){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:m||"./this.program"};for(e in gt)void 0===gt[e]?delete t[e]:t[e]=gt[e];var i=[];for(e in t)i.push(e+"="+t[e]);bt=i}return bt}var bt,vt=void 0,wt=[];function Tt(e,t){if(!vt){vt=new WeakMap;var i=$.length;if(vt)for(var n=0;n<0+i;n++){var r=$.get(n);r&&vt.set(r,n)}}if(vt.has(e))return vt.get(e);if(wt.length)i=wt.pop();else{try{$.grow(1)}catch(R_){if(!(R_ instanceof RangeError))throw R_;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}i=$.length-1}try{$.set(i,e)}catch(R_){if(!(R_ instanceof TypeError))throw R_;if("function"==typeof WebAssembly.Function){n=WebAssembly.Function,r={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var a={parameters:[],results:"v"==t[0]?[]:[r[t[0]]]},s=1;s<t.length;++s)a.parameters.push(r[t[s]]);t=new n(a,e)}else{for(n=[1,96],r=t.slice(0,1),a={i:127,p:127,j:126,f:125,d:124},128>(s=(t=t.slice(1)).length)?n.push(s):n.push(s%128|128,s>>7),s=0;s<t.length;++s)n.push(a[t[s]]);"v"==r?n.push(0):n.push(1,a[r]),t=[0,97,115,109,1,0,0,0,1],128>(r=n.length)?t.push(r):t.push(r%128|128,r>>7),t.push.apply(t,n),t.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),t=new WebAssembly.Module(new Uint8Array(t)),t=new WebAssembly.Instance(t,{e:{f:e}}).exports.f}$.set(i,t)}return vt.set(e,i),i}function xt(e){vt.delete($.get(e)),wt.push(e)}function Et(e){var t=kt(e.length);return e.subarray||e.slice||(e=new Uint8Array(e)),S.set(e,t),t}function _t(e,t,i,n){e||(e=this),this.parent=e,this.Ra=e.Ra,this.Va=null,this.id=we++,this.name=t,this.mode=i,this.Ga={},this.Ha={},this.rdev=n}Object.defineProperties(_t.prototype,{read:{get:function(){return 365==(365&this.mode)},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return 146==(146&this.mode)},set:function(e){e?this.mode|=146:this.mode&=-147}}}),nt(),Te=Array(4096),Be(ge,"/"),Ue("/tmp"),Ue("/home"),Ue("/home/web_user"),(()=>{Ue("/dev"),$e(259,{read:()=>0,write:(e,t,i,n)=>n}),Fe("/dev/null",259),le(1280,me),le(1536,fe),Fe("/dev/tty",1280),Fe("/dev/tty1",1536);var e=function(){if("object"==typeof crypto&&"function"==typeof crypto.getRandomValues){var e=new Uint8Array(1);return()=>(crypto.getRandomValues(e),e[0])}if(y)try{var t=eM;return()=>t.randomBytes(1)[0]}catch(Sh){}return()=>K("randomDevice")}();at("random",e),at("urandom",e),Ue("/dev/shm"),Ue("/dev/shm/tmp")})(),(()=>{Ue("/proc");var e=Ue("/proc/self");Ue("/proc/self/fd"),Be({Ra:()=>{var t=Oe(e,"fd",16895,73);return t.Ga={lookup:(e,t)=>{var i=ve[+t];if(!i)throw new Ee(8);return(e={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>i.path}}).parent=e}},t}},"/proc/self/fd")})();var St={a:function(e,t,i,n){K("Assertion failed: "+R(e)+", at: "+[t?R(t):"unknown filename",i,n?R(n):"unknown function"])},h:function(e,t){try{return e=R(e),Qe(e,t),0}catch(Sh){if(void 0===st||!(Sh instanceof Ee))throw Sh;return-Sh.Ka}},H:function(e,t,i){try{if(t=ot(e,t=R(t)),-8&i)return-28;var n=Se(t,{Sa:!0}).node;return n?(e="",4&i&&(e+="r"),2&i&&(e+="w"),1&i&&(e+="x"),e&&Ie(n,e)?-2:0):-44}catch(Ah){if(void 0===st||!(Ah instanceof Ee))throw Ah;return-Ah.Ka}},i:function(e,t){try{var i=ve[e];if(!i)throw new Ee(8);return Qe(i.node,t),0}catch(Ch){if(void 0===st||!(Ch instanceof Ee))throw Ch;return-Ch.Ka}},g:function(e){try{var t=ve[e];if(!t)throw new Ee(8);var i=t.node,n="string"==typeof i?Se(i,{Sa:!0}).node:i;if(!n.Ga.Oa)throw new Ee(63);return n.Ga.Oa(n,{timestamp:Date.now()}),0}catch(Ah){if(void 0===st||!(Ah instanceof Ee))throw Ah;return-Ah.Ka}},b:function(e,t,i){dt=i;try{var n=ht(e);switch(t){case 0:var r=ut();return 0>r?-28:De(n,r).fd;case 1:case 2:case 6:case 7:return 0;case 3:return n.flags;case 4:return r=ut(),n.flags|=r,0;case 5:return r=ut(),C[r+0>>1]=2,0;case 16:case 8:default:return-28;case 9:return k[Ct()>>2]=28,-1}}catch(P_){if(void 0===st||!(P_ instanceof Ee))throw P_;return-P_.Ka}},G:function(e,t){try{var i=ht(e);return lt(Ge,i.path,t)}catch(Ch){if(void 0===st||!(Ch instanceof Ee))throw Ch;return-Ch.Ka}},l:function(e,t,i){try{if(t=i+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*i:NaN,isNaN(t))return-61;var n=ve[e];if(!n)throw new Ee(8);if(0==(2097155&n.flags))throw new Ee(28);return Ye(n.node,t),0}catch(Ah){if(void 0===st||!(Ah instanceof Ee))throw Ah;return-Ah.Ka}},B:function(e,t){try{if(0===t)return-28;var i=D("/")+1;return t<i?-68:(L("/",S,e,t),i)}catch(Ch){if(void 0===st||!(Ch instanceof Ee))throw Ch;return-Ch.Ka}},E:function(e,t){try{return e=R(e),lt(Ke,e,t)}catch(Sh){if(void 0===st||!(Sh instanceof Ee))throw Sh;return-Sh.Ka}},y:function(e,t,i){try{return t=ot(e,t=R(t)),"/"===(t=ie(t))[t.length-1]&&(t=t.substr(0,t.length-1)),Ue(t,i),0}catch(Ch){if(void 0===st||!(Ch instanceof Ee))throw Ch;return-Ch.Ka}},D:function(e,t,i,n){try{t=R(t);var r=256&n;return t=ot(e,t,4096&n),lt(r?Ke:Ge,t,i)}catch(P_){if(void 0===st||!(P_ instanceof Ee))throw P_;return-P_.Ka}},v:function(e,t,i,n){dt=n;try{t=ot(e,t=R(t));var r=n?ut():0;return Xe(t,i,r).fd}catch(P_){if(void 0===st||!(P_ instanceof Ee))throw P_;return-P_.Ka}},t:function(e,t,i,n){try{if(t=ot(e,t=R(t)),0>=n)return-28;var r=We(t),a=Math.min(n,D(r)),s=_[i+a];return L(r,S,i,n+1),_[i+a]=s,a}catch(R_){if(void 0===st||!(R_ instanceof Ee))throw R_;return-R_.Ka}},s:function(e){try{return e=R(e),Ve(e),0}catch(_h){if(void 0===st||!(_h instanceof Ee))throw _h;return-_h.Ka}},F:function(e,t){try{return e=R(e),lt(Ge,e,t)}catch(Sh){if(void 0===st||!(Sh instanceof Ee))throw Sh;return-Sh.Ka}},p:function(e,t,i){try{return t=ot(e,t=R(t)),0===i?He(t):512===i?Ve(t):K("Invalid flags passed to unlinkat"),0}catch(Ch){if(void 0===st||!(Ch instanceof Ee))throw Ch;return-Ch.Ka}},o:function(e,t,i){try{if(t=ot(e,t=R(t),!0),i){var n=pt(i),r=k[i+8>>2];a=1e3*n+r/1e6,s=1e3*(n=pt(i+=16))+(r=k[i+8>>2])/1e6}else var a=Date.now(),s=a;e=a;var o=Se(t,{Sa:!0}).node;return o.Ga.Oa(o,{timestamp:Math.max(e,s)}),0}catch(Uh){if(void 0===st||!(Uh instanceof Ee))throw Uh;return-Uh.Ka}},e:function(){return Date.now()},j:function(e,t){e=new Date(1e3*pt(e)),k[t>>2]=e.getSeconds(),k[t+4>>2]=e.getMinutes(),k[t+8>>2]=e.getHours(),k[t+12>>2]=e.getDate(),k[t+16>>2]=e.getMonth(),k[t+20>>2]=e.getFullYear()-1900,k[t+24>>2]=e.getDay();var i=new Date(e.getFullYear(),0,1);k[t+28>>2]=(e.getTime()-i.getTime())/864e5|0,k[t+36>>2]=-60*e.getTimezoneOffset();var n=new Date(e.getFullYear(),6,1).getTimezoneOffset();i=i.getTimezoneOffset(),k[t+32>>2]=0|(n!=i&&e.getTimezoneOffset()==Math.min(i,n))},w:function(e,t,i,n,r,a){try{var s=ht(n);if(0!=(2&t)&&0==(2&i)&&2!=(2097155&s.flags))throw new Ee(2);if(1==(2097155&s.flags))throw new Ee(2);if(!s.Ha.bb)throw new Ee(43);var o=s.Ha.bb(s,e,r,t,i),l=o.Fb;return k[a>>2]=o.vb,l}catch(B_){if(void 0===st||!(B_ instanceof Ee))throw B_;return-B_.Ka}},x:function(e,t,i,n,r,a){try{var s=ht(r);if(2&i){var o=S.slice(e,e+t);s&&s.Ha.cb&&s.Ha.cb(s,o,a,t,n)}}catch(Uh){if(void 0===st||!(Uh instanceof Ee))throw Uh;return-Uh.Ka}},n:function e(t,i,n){e.Bb||(e.Bb=!0,function(e,t,i){function n(e){return(e=e.toTimeString().match(/\(([A-Za-z ]+)\)$/))?e[1]:"GMT"}var r=(new Date).getFullYear(),a=new Date(r,0,1),s=new Date(r,6,1);r=a.getTimezoneOffset();var o=s.getTimezoneOffset();k[e>>2]=60*Math.max(r,o),k[t>>2]=Number(r!=o),e=n(a),t=n(s),e=ft(e),t=ft(t),o<r?(A[i>>2]=e,A[i+4>>2]=t):(A[i>>2]=t,A[i+4>>2]=e)}(t,i,n))},q:function(){return 2147483648},d:ct,c:function(e){var t=S.length;if(2147483648<(e>>>=0))return!1;for(var i=1;4>=i;i*=2){var n=t*(1+.2/i);n=Math.min(n,e+100663296);var r=Math;n=Math.max(e,n),r=r.min.call(r,2147483648,n+(65536-n%65536)%65536);e:{try{x.grow(r-E.byteLength+65535>>>16),j();var a=1;break e}catch(__){}a=void 0}if(a)return!0}return!1},z:function(e,t){var i=0;return yt().forEach((function(n,r){var a=t+i;for(r=A[e+4*r>>2]=a,a=0;a<n.length;++a)_[r++>>0]=n.charCodeAt(a);_[r>>0]=0,i+=n.length+1})),0},A:function(e,t){var i=yt();A[e>>2]=i.length;var n=0;return i.forEach((function(e){n+=e.length+1})),A[t>>2]=n,0},f:function(e){try{var t=ht(e);return Je(t),0}catch(Sh){if(void 0===st||!(Sh instanceof Ee))throw Sh;return Sh.Ka}},m:function(e,t){try{var i=ht(e);return _[t>>0]=i.tty?2:16384==(61440&i.mode)?3:40960==(61440&i.mode)?7:4,0}catch(Ch){if(void 0===st||!(Ch instanceof Ee))throw Ch;return Ch.Ka}},u:function(e,t,i,n){try{e:{var r=ht(e);e=t;for(var a=t=0;a<i;a++){var s=A[e>>2],o=A[e+4>>2];e+=8;var l=et(r,_,s,o);if(0>l){var c=-1;break e}if(t+=l,l<o)break}c=t}return A[n>>2]=c,0}catch(d){if(void 0===st||!(d instanceof Ee))throw d;return d.Ka}},k:function(e,t,i,n,r){try{if(t=i+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*i:NaN,isNaN(t))return 61;var a=ht(e);return Ze(a,t,n),H=[a.position>>>0,(V=a.position,1<=+Math.abs(V)?0<V?(0|Math.min(+Math.floor(V/4294967296),4294967295))>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],k[r>>2]=H[0],k[r+4>>2]=H[1],a.hb&&0===t&&0===n&&(a.hb=null),0}catch(__){if(void 0===st||!(__ instanceof Ee))throw __;return __.Ka}},C:function(e){try{var t=ht(e);return t.Ha&&t.Ha.fsync?t.Ha.fsync(t):0}catch(Sh){if(void 0===st||!(Sh instanceof Ee))throw Sh;return Sh.Ka}},r:function(e,t,i,n){try{e:{var r=ht(e);e=t;for(var a=t=0;a<i;a++){var s=A[e>>2],o=A[e+4>>2];e+=8;var l=tt(r,_,s,o);if(0>l){var c=-1;break e}t+=l}c=t}return A[n>>2]=c,0}catch(d){if(void 0===st||!(d instanceof Ee))throw d;return d.Ka}}};!function(){function e(e){r.asm=e.exports,x=r.asm.I,j(),$=r.asm.Aa,q.unshift(r.asm.J),W--,r.monitorRunDependencies&&r.monitorRunDependencies(W),0==W&&G&&(e=G,G=null,e())}function t(t){e(t.instance)}function i(e){return function(){if(!v&&(f||g)){if("function"==typeof fetch&&!z.startsWith("file://"))return fetch(z,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+z+"'";return e.arrayBuffer()})).catch((function(){return X()}));if(l)return new Promise((function(e,t){l(z,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return X()}))}().then((function(e){return WebAssembly.instantiate(e,n)})).then((function(e){return e})).then(e,(function(e){T("failed to asynchronously prepare wasm: "+e),K(e)}))}var n={a:St};if(W++,r.monitorRunDependencies&&r.monitorRunDependencies(W),r.instantiateWasm)try{return r.instantiateWasm(n,e)}catch(Ah){return T("Module.instantiateWasm callback failed with error: "+Ah),!1}v||"function"!=typeof WebAssembly.instantiateStreaming||Q()||z.startsWith("file://")||y||"function"!=typeof fetch?i(t):fetch(z,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,n).then(t,(function(e){return T("wasm streaming compile failed: "+e),T("falling back to ArrayBuffer instantiation"),i(t)}))}))}(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.J).apply(null,arguments)},r._sqlite3_free=function(){return(r._sqlite3_free=r.asm.K).apply(null,arguments)},r._sqlite3_value_double=function(){return(r._sqlite3_value_double=r.asm.L).apply(null,arguments)},r._sqlite3_value_text=function(){return(r._sqlite3_value_text=r.asm.M).apply(null,arguments)};var Ct=r.___errno_location=function(){return(Ct=r.___errno_location=r.asm.N).apply(null,arguments)};r._sqlite3_prepare_v2=function(){return(r._sqlite3_prepare_v2=r.asm.O).apply(null,arguments)},r._sqlite3_step=function(){return(r._sqlite3_step=r.asm.P).apply(null,arguments)},r._sqlite3_finalize=function(){return(r._sqlite3_finalize=r.asm.Q).apply(null,arguments)},r._sqlite3_reset=function(){return(r._sqlite3_reset=r.asm.R).apply(null,arguments)},r._sqlite3_value_int=function(){return(r._sqlite3_value_int=r.asm.S).apply(null,arguments)},r._sqlite3_clear_bindings=function(){return(r._sqlite3_clear_bindings=r.asm.T).apply(null,arguments)},r._sqlite3_value_blob=function(){return(r._sqlite3_value_blob=r.asm.U).apply(null,arguments)},r._sqlite3_value_bytes=function(){return(r._sqlite3_value_bytes=r.asm.V).apply(null,arguments)},r._sqlite3_value_type=function(){return(r._sqlite3_value_type=r.asm.W).apply(null,arguments)},r._sqlite3_result_blob=function(){return(r._sqlite3_result_blob=r.asm.X).apply(null,arguments)},r._sqlite3_result_double=function(){return(r._sqlite3_result_double=r.asm.Y).apply(null,arguments)},r._sqlite3_result_error=function(){return(r._sqlite3_result_error=r.asm.Z).apply(null,arguments)},r._sqlite3_result_int=function(){return(r._sqlite3_result_int=r.asm._).apply(null,arguments)},r._sqlite3_result_int64=function(){return(r._sqlite3_result_int64=r.asm.$).apply(null,arguments)},r._sqlite3_result_null=function(){return(r._sqlite3_result_null=r.asm.aa).apply(null,arguments)},r._sqlite3_result_text=function(){return(r._sqlite3_result_text=r.asm.ba).apply(null,arguments)},r._sqlite3_sql=function(){return(r._sqlite3_sql=r.asm.ca).apply(null,arguments)},r._sqlite3_aggregate_context=function(){return(r._sqlite3_aggregate_context=r.asm.da).apply(null,arguments)},r._sqlite3_column_count=function(){return(r._sqlite3_column_count=r.asm.ea).apply(null,arguments)},r._sqlite3_data_count=function(){return(r._sqlite3_data_count=r.asm.fa).apply(null,arguments)},r._sqlite3_column_blob=function(){return(r._sqlite3_column_blob=r.asm.ga).apply(null,arguments)},r._sqlite3_column_bytes=function(){return(r._sqlite3_column_bytes=r.asm.ha).apply(null,arguments)},r._sqlite3_column_double=function(){return(r._sqlite3_column_double=r.asm.ia).apply(null,arguments)},r._sqlite3_column_text=function(){return(r._sqlite3_column_text=r.asm.ja).apply(null,arguments)},r._sqlite3_column_type=function(){return(r._sqlite3_column_type=r.asm.ka).apply(null,arguments)},r._sqlite3_column_name=function(){return(r._sqlite3_column_name=r.asm.la).apply(null,arguments)},r._sqlite3_bind_blob=function(){return(r._sqlite3_bind_blob=r.asm.ma).apply(null,arguments)},r._sqlite3_bind_double=function(){return(r._sqlite3_bind_double=r.asm.na).apply(null,arguments)},r._sqlite3_bind_int=function(){return(r._sqlite3_bind_int=r.asm.oa).apply(null,arguments)},r._sqlite3_bind_text=function(){return(r._sqlite3_bind_text=r.asm.pa).apply(null,arguments)},r._sqlite3_bind_parameter_index=function(){return(r._sqlite3_bind_parameter_index=r.asm.qa).apply(null,arguments)},r._sqlite3_normalized_sql=function(){return(r._sqlite3_normalized_sql=r.asm.ra).apply(null,arguments)},r._sqlite3_errmsg=function(){return(r._sqlite3_errmsg=r.asm.sa).apply(null,arguments)},r._sqlite3_exec=function(){return(r._sqlite3_exec=r.asm.ta).apply(null,arguments)},r._sqlite3_changes=function(){return(r._sqlite3_changes=r.asm.ua).apply(null,arguments)},r._sqlite3_close_v2=function(){return(r._sqlite3_close_v2=r.asm.va).apply(null,arguments)},r._sqlite3_create_function_v2=function(){return(r._sqlite3_create_function_v2=r.asm.wa).apply(null,arguments)},r._sqlite3_open=function(){return(r._sqlite3_open=r.asm.xa).apply(null,arguments)};var kt=r._malloc=function(){return(kt=r._malloc=r.asm.ya).apply(null,arguments)},At=r._free=function(){return(At=r._free=r.asm.za).apply(null,arguments)};r._RegisterExtensionFunctions=function(){return(r._RegisterExtensionFunctions=r.asm.Ba).apply(null,arguments)};var Nt,Ot=r._emscripten_builtin_memalign=function(){return(Ot=r._emscripten_builtin_memalign=r.asm.Ca).apply(null,arguments)},Mt=r.stackSave=function(){return(Mt=r.stackSave=r.asm.Da).apply(null,arguments)},Pt=r.stackRestore=function(){return(Pt=r.stackRestore=r.asm.Ea).apply(null,arguments)},It=r.stackAlloc=function(){return(It=r.stackAlloc=r.asm.Fa).apply(null,arguments)};function Rt(){function e(){if(!Nt&&(Nt=!0,r.calledRun=!0,!M)){if(r.noFSInit||ce||(ce=!0,nt(),r.stdin=r.stdin,r.stdout=r.stdout,r.stderr=r.stderr,r.stdin?at("stdin",r.stdin):ze("/dev/tty","/dev/stdin"),r.stdout?at("stdout",null,r.stdout):ze("/dev/tty","/dev/stdout"),r.stderr?at("stderr",null,r.stderr):ze("/dev/tty1","/dev/stderr"),Xe("/dev/stdin",0),Xe("/dev/stdout",1),Xe("/dev/stderr",1)),xe=!1,J(q),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;){var e=r.postRun.shift();U.unshift(e)}J(U)}}if(!(0<W)){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)F();J(B),0<W||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),e()}),1)):e())}}if(r.UTF8ToString=R,r.stackAlloc=It,r.stackSave=Mt,r.stackRestore=Pt,r.cwrap=function(e,t,i,n){var a=(i=i||[]).every((e=>"number"===e||"boolean"===e));return"string"!==t&&a&&!n?r["_"+e]:function(){return function(e,t,i,n){var a={string:e=>{var t=0;if(null!=e&&0!==e){var i=1+(e.length<<2);t=It(i),L(e,S,t,i)}return t},array:e=>{var t=It(e.length);return _.set(e,t),t}};e=r["_"+e];var s=[],o=0;if(n)for(var l=0;l<n.length;l++){var c=a[i[l]];c?(0===o&&(o=Mt()),s[l]=c(n[l])):s[l]=n[l]}return function(e){return 0!==o&&Pt(o),"string"===t?R(e):"boolean"===t?!!e:e}(i=e.apply(null,s))}(e,t,i,arguments)}},G=function e(){Nt||Rt(),Nt||(G=e)},r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return Rt(),a})),i)};e.exports=n,e.exports.default=n}(ZO);const tM=a(ZO.exports),iM={entities:[KO,JO],migrations:[class{async up(e){await e.query('\n            CREATE TABLE "test" (\n                "id" integer PRIMARY KEY NOT NULL,\n                "isActive" boolean NOT NULL,\n                "file" blob NOT NULL\n            )\n        ')}async down(e){await e.query('\n            DROP TABLE "test"\n        ')}},class{async up(e){await e.query('\n            CREATE TABLE "state" (\n                "id" text PRIMARY KEY NOT NULL,\n                "store" text NOT NULL\n            )\n        ')}async down(e){await e.query('\n            DROP TABLE "state"\n        ')}}],migrationsRun:!0,logging:["error","query","schema"]};class nM{static async initLocalForage(){try{const e=await Ep((()=>i.import("./localforage-legacy-cb0c3500.js").then((e=>e.l))));nM.localForage=e.default,window.localforage=nM.localForage}catch(e){console.log("Error with initLocalForage: ",e)}}static async initSqlJs(){try{const e=await tM({locateFile:e=>`/static/assets/sql.js/${e}`});window.SQL=e}catch(e){console.log("Error with initSqlite: ",e)}}static configureNativeConnection(){try{const e=new uS(pS);return nM.connection=new qO({type:"capacitor",database:nM.dbName,driver:e,migrationsTransactionMode:"none",...iM}),nM.connection}catch(e){console.log("Error with configureNativeConnection: ",e)}}static configureWebConnection(){try{return nM.localForage.config({description:"quest",driver:nM.localForage.INDEXEDDB}),nM.connection=new qO({type:"sqljs",autoSave:!0,location:nM.dbName,useLocalForage:!0,...iM}),nM.connection}catch(e){console.log("Error with configureWebConnection: ",e)}}static async initConnection(){try{var e;if(nM.connection)return;let t;await nM.initLocalForage(),await nM.initSqlJs(),t="web"===nS.getPlatform()?nM.configureWebConnection():nM.configureNativeConnection(),await(null===(e=t)||void 0===e?void 0:e.initialize())}catch(t){console.log("Error with initConnection: ",t)}}}e(nM,"dbName","fitrem_db"),e(nM,"connection",null),e(nM,"localForage",void 0);const rM=async()=>{var e;return null===(e=nM.connection)||void 0===e?void 0:e.getRepository(JO)};const aM=["timerStatus"],sM=new class{async getItem(e){await nM.initConnection();try{const t=await rM(),i=await(null==t?void 0:t.findOne({where:{id:e}}));return i?(console.log("***GET_ITEM",null==i?void 0:i.store),i.store):null}catch(t){return console.log("Error GET_ITEM:",t),null}}async setItem(e,t){try{const i=await rM();await(null==i?void 0:i.upsert({id:e,store:t},{conflictPaths:["id"],skipUpdateIfNoValuesChanged:!0})),console.log("***SET_ITEM: ",await(null==i?void 0:i.find({})))}catch(i){console.log("Error with SET_ITEM",i)}}async removeItem(e){await new Promise((t=>t(e))).then((e=>console.log(e)))}},oM=(lM?F_(lM):F_)(H_(Q_(((...e)=>({rehydrated:!1,...Y_(...e)})),{name:"combineStore",partialize:e=>Object.fromEntries(Object.entries(e).filter((([e])=>!aM.includes(e)))),storage:G_((()=>sM)),onRehydrateStorage:e=>(console.log("hydration starts"),(e,t)=>{t?console.log("an error happened during hydration",t):(oM.setState({rehydrated:!0}),console.log("hydration finished",e))})})));var lM;function cM({isOpen:e,setIsOpen:t}){return ee.jsx(CE,{isOpen:e,header:"",subHeader:"Nice choice",message:"Let's do it!",buttons:["OK"],onDidDismiss:()=>{t(!1),history.back()}})}const dM=()=>{const{unsetTimer:e}=oM(),{timerInterval:t,setTimerInterval:i}=oM(),[n,r]=V.useState(t),[a,s]=V.useState(!1);return ee.jsxs(qE,{id:"profile__content",children:[ee.jsx(rE,{children:ee.jsx(yE,{color:"warning",children:ee.jsx(eE,{slot:"start",children:ee.jsx(XE,{defaultHref:"/timer"})})})}),ee.jsxs(iE,{children:[ee.jsxs(nE,{children:[ee.jsx(pE,{children:ee.jsxs(tE,{children:[ee.jsxs(fE,{children:[ee.jsx("h2",{children:"Timer Settings"}),ee.jsxs("p",{children:["Your timer is set to ring in ",n.toString()," seconds.",ee.jsx(ZE,{slot:"icon-only",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M256 80a176 176 0 10176 176A176 176 0 00256 80z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path d='M200 202.29s.84-17.5 19.57-32.57C230.68 160.77 244 158.18 256 158c10.93-.14 20.69 1.67 26.53 4.45 10 4.76 29.47 16.38 29.47 41.09 0 26-17 37.81-36.37 50.8S251 281.43 251 296' stroke-linecap='round' stroke-miterlimit='10' stroke-width='28' class='ionicon-fill-none'/><circle cx='250' cy='348' r='20'/></svg>",color:"primary"})]})]}),ee.jsxs(hE,{min:5,max:60,step:5,snaps:!0,color:"primary",value:n,onIonChange:e=>r(e.detail.value),children:[ee.jsx(oE,{slot:"start",children:"5 sec"}),ee.jsx(oE,{slot:"end",children:"60 sec"})]}),ee.jsx(fE,{children:ee.jsx("small",{children:"If you wish to change the settings drag the nob to the desired time interval (5 to 60 seconds)."})})]})}),ee.jsx(pE,{children:ee.jsx(tE,{children:ee.jsx(fE,{})})}),ee.jsx(pE,{children:ee.jsx(tE,{children:ee.jsx(TE,{expand:"block",onClick:()=>{i(n),s(!0),e()},children:"Save"})})})]}),ee.jsx(cM,{isOpen:a,setIsOpen:s})]})]})};var uM="undefined"==typeof window?V.useEffect:V.useLayoutEffect,hM=(e,t)=>0===e||e===t?0:"number"==typeof t?e-t:0,pM=e=>({position:"relative",width:e,height:e}),mM={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},fM=(e,t,i,n,r)=>{if(0===n)return t;return t+i*((r?n-e:e)/n)},gM=e=>{var t,i;return null!=(i=null==(t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,i,n)=>`#${t}${t}${i}${i}${n}${n}`)).substring(1).match(/.{2}/g))?void 0:t.map((e=>parseInt(e,16))))?i:[]},yM=(e,t)=>{var i;let{colors:n,colorsTime:r,isSmoothColorTransition:a=!0}=e;if("string"==typeof n)return n;let s=null!=(i=null==r?void 0:r.findIndex(((e,i)=>e>=t&&t>=r[i+1])))?i:-1;if(!r||-1===s)return n[0];if(!a)return n[s];let o=r[s]-t,l=r[s]-r[s+1],c=gM(n[s]),d=gM(n[s+1]),u=!!e.isGrowing;return`rgb(${c.map(((e,t)=>0|fM(o,e,d[t]-e,l,u))).join(",")})`},bM=e=>{let{duration:t,initialRemainingTime:i,updateInterval:n,size:r=180,strokeWidth:a=12,trailStrokeWidth:s,isPlaying:o=!1,isGrowing:l=!1,rotation:c="clockwise",onComplete:d,onUpdate:u}=e,h=V.useRef(),p=Math.max(a,null!=s?s:0),{path:m,pathLength:f}=((e,t,i)=>{let n=e/2,r=t/2,a=n-r,s=2*a,o="clockwise"===i?"1,0":"0,1";return{path:`m ${n},${r} a ${a},${a} 0 ${o} 0,${s} a ${a},${a} 0 ${o} 0,-${s}`,pathLength:2*Math.PI*a}})(r,p,c),{elapsedTime:g}=(({isPlaying:e,duration:t,startAt:i=0,updateInterval:n=0,onComplete:r,onUpdate:a})=>{let[s,o]=V.useState(i),l=V.useRef(0),c=V.useRef(i),d=V.useRef(-1e3*i),u=V.useRef(null),h=V.useRef(null),p=V.useRef(null),m=e=>{let i=e/1e3;if(null===h.current)return h.current=i,void(u.current=requestAnimationFrame(m));let r=i-h.current,a=l.current+r;h.current=i,l.current=a;let s=c.current+(0===n?a:(a/n|0)*n),d=c.current+a,p="number"==typeof t&&d>=t;o(p?t:s),p||(u.current=requestAnimationFrame(m))},f=()=>{u.current&&cancelAnimationFrame(u.current),p.current&&clearTimeout(p.current),h.current=null},g=V.useCallback((t=>{f(),l.current=0;let n="number"==typeof t?t:i;c.current=n,o(n),e&&(u.current=requestAnimationFrame(m))}),[e,i]);return uM((()=>{if(null==a||a(s),t&&s>=t){d.current+=1e3*t;let{shouldRepeat:e=!1,delay:i=0,newStartAt:n}=(null==r?void 0:r(d.current/1e3))||{};e&&(p.current=setTimeout((()=>g(n)),1e3*i))}}),[s,t]),uM((()=>(e&&(u.current=requestAnimationFrame(m)),f)),[e,t,n]),{elapsedTime:s,reset:g}})({isPlaying:o,duration:t,startAt:hM(t,i),updateInterval:n,onUpdate:"function"==typeof u?e=>{let i=Math.ceil(t-e);i!==h.current&&(h.current=i,u(i))}:void 0,onComplete:"function"==typeof d?e=>{var i;let{shouldRepeat:n,delay:r,newInitialRemainingTime:a}=null!=(i=d(e))?i:{};if(n)return{shouldRepeat:n,delay:r,newStartAt:hM(t,a)}}:void 0}),y=t-g;return{elapsedTime:g,path:m,pathLength:f,remainingTime:Math.ceil(y),rotation:c,size:r,stroke:yM(e,y),strokeDashoffset:fM(g,0,f,t,l),strokeWidth:a}},vM=e=>{let{children:t,strokeLinecap:i,trailColor:n,trailStrokeWidth:r}=e,{path:a,pathLength:s,stroke:o,strokeDashoffset:l,remainingTime:c,elapsedTime:d,size:u,strokeWidth:h}=bM(e);return H.createElement("div",{style:pM(u)},H.createElement("svg",{viewBox:`0 0 ${u} ${u}`,width:u,height:u,xmlns:"http://www.w3.org/2000/svg"},H.createElement("path",{d:a,fill:"none",stroke:null!=n?n:"#d9d9d9",strokeWidth:null!=r?r:h}),H.createElement("path",{d:a,fill:"none",stroke:o,strokeLinecap:null!=i?i:"round",strokeWidth:h,strokeDasharray:s,strokeDashoffset:l})),"function"==typeof t&&H.createElement("div",{style:mM},t({remainingTime:c,elapsedTime:d,color:o})))};vM.displayName="CountdownCircleTimer";class wM extends Error{}class TM extends wM{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class xM extends wM{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class EM extends wM{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class _M extends wM{}class SM extends wM{constructor(e){super(`Invalid unit ${e}`)}}class CM extends wM{}class kM extends wM{constructor(){super("Zone is an abstract class")}}const AM="numeric",NM="short",OM="long",MM={year:AM,month:AM,day:AM},PM={year:AM,month:NM,day:AM},IM={year:AM,month:NM,day:AM,weekday:NM},RM={year:AM,month:OM,day:AM},LM={year:AM,month:OM,day:AM,weekday:OM},DM={hour:AM,minute:AM},jM={hour:AM,minute:AM,second:AM},$M={hour:AM,minute:AM,second:AM,timeZoneName:NM},BM={hour:AM,minute:AM,second:AM,timeZoneName:OM},qM={hour:AM,minute:AM,hourCycle:"h23"},UM={hour:AM,minute:AM,second:AM,hourCycle:"h23"},FM={hour:AM,minute:AM,second:AM,hourCycle:"h23",timeZoneName:NM},zM={hour:AM,minute:AM,second:AM,hourCycle:"h23",timeZoneName:OM},VM={year:AM,month:AM,day:AM,hour:AM,minute:AM},HM={year:AM,month:AM,day:AM,hour:AM,minute:AM,second:AM},WM={year:AM,month:NM,day:AM,hour:AM,minute:AM},GM={year:AM,month:NM,day:AM,hour:AM,minute:AM,second:AM},KM={year:AM,month:NM,day:AM,weekday:NM,hour:AM,minute:AM},QM={year:AM,month:OM,day:AM,hour:AM,minute:AM,timeZoneName:NM},YM={year:AM,month:OM,day:AM,hour:AM,minute:AM,second:AM,timeZoneName:NM},XM={year:AM,month:OM,day:AM,weekday:OM,hour:AM,minute:AM,timeZoneName:OM},JM={year:AM,month:OM,day:AM,weekday:OM,hour:AM,minute:AM,second:AM,timeZoneName:OM};class ZM{get type(){throw new kM}get name(){throw new kM}get ianaName(){return this.name}get isUniversal(){throw new kM}offsetName(e,t){throw new kM}formatOffset(e,t){throw new kM}offset(e){throw new kM}equals(e){throw new kM}get isValid(){throw new kM}}let eP=null;class tP extends ZM{static get instance(){return null===eP&&(eP=new tP),eP}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return GP(e,t,i)}formatOffset(e,t){return XP(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}let iP={};const nP={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let rP={};class aP extends ZM{static create(e){return rP[e]||(rP[e]=new aP(e)),rP[e]}static resetCache(){rP={},iP={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(E_){return!1}}constructor(e){super(),this.zoneName=e,this.valid=aP.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:i}){return GP(e,t,i,this.name)}formatOffset(e,t){return XP(this.offset(e),t)}offset(e){const t=new Date(e);if(isNaN(t))return NaN;const i=(n=this.name,iP[n]||(iP[n]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:n,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),iP[n]);var n;let[r,a,s,o,l,c,d]=i.formatToParts?function(e,t){const i=e.formatToParts(t),n=[];for(let r=0;r<i.length;r++){const{type:e,value:t}=i[r],a=nP[e];"era"===e?n[a]=t:NP(a)||(n[a]=parseInt(t,10))}return n}(i,t):function(e,t){const i=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,r,a,s,o,l,c,d]=n;return[s,r,a,o,l,c,d]}(i,t);"BC"===o&&(r=1-Math.abs(r));let u=+t;const h=u%1e3;return u-=h>=0?h:1e3+h,(VP({year:r,month:a,day:s,hour:24===l?0:l,minute:c,second:d,millisecond:0})-u)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let sP={};let oP={};function lP(e,t={}){const i=JSON.stringify([e,t]);let n=oP[i];return n||(n=new Intl.DateTimeFormat(e,t),oP[i]=n),n}let cP={};let dP={};let uP=null;function hP(e,t,i,n){const r=e.listingMode();return"error"===r?null:"en"===r?i(t):n(t)}class pP{constructor(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:n,floor:r,...a}=i;if(!t||Object.keys(a).length>0){const t={useGrouping:!1,...i};i.padTo>0&&(t.minimumIntegerDigits=i.padTo),this.inf=function(e,t={}){const i=JSON.stringify([e,t]);let n=cP[i];return n||(n=new Intl.NumberFormat(e,t),cP[i]=n),n}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return DP(this.floor?Math.floor(e):qP(e,3),this.padTo)}}class mP{constructor(e,t,i){let n;if(this.opts=i,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,i=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&aP.create(i).valid?(n=i,this.dt=e):(n="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const r={...this.opts};r.timeZone=r.timeZone||n,this.dtf=lP(t,r)}format(){return this.originalZone?this.formatToParts().map((({value:e})=>e)).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map((e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e})):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class fP{constructor(e,t,i){this.opts={style:"long",...i},!t&&PP()&&(this.rtf=function(e,t={}){const{base:i,...n}=t,r=JSON.stringify([e,n]);let a=dP[r];return a||(a=new Intl.RelativeTimeFormat(e,t),dP[r]=a),a}(e,i))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,i="always",n=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===i&&a){const i="days"===e;switch(t){case 1:return i?"tomorrow":`next ${r[e][0]}`;case-1:return i?"yesterday":`last ${r[e][0]}`;case 0:return i?"today":`this ${r[e][0]}`}}const s=Object.is(t,-0)||t<0,o=Math.abs(t),l=1===o,c=r[e],d=n?l?c[1]:c[2]||c[1]:l?r[e][0]:e;return s?`${o} ${d} ago`:`in ${o} ${d}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}class gP{static fromOpts(e){return gP.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,t,i,n=!1){const r=e||AP.defaultLocale,a=r||(n?"en-US":uP||(uP=(new Intl.DateTimeFormat).resolvedOptions().locale,uP)),s=t||AP.defaultNumberingSystem,o=i||AP.defaultOutputCalendar;return new gP(a,s,o,r)}static resetCache(){uP=null,oP={},cP={},dP={}}static fromObject({locale:e,numberingSystem:t,outputCalendar:i}={}){return gP.create(e,t,i)}constructor(e,t,i,n){const[r,a,s]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const i=e.indexOf("-u-");if(-1===i)return[e];{let t,n;try{t=lP(e).resolvedOptions(),n=e}catch(E_){const a=e.substring(0,i);t=lP(a).resolvedOptions(),n=a}const{numberingSystem:r,calendar:a}=t;return[n,r,a]}}(e);this.locale=r,this.numberingSystem=t||a||null,this.outputCalendar=i||s||null,this.intl=function(e,t,i){return i||t?(e.includes("-u-")||(e+="-u"),i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=n,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?gP.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return hP(this,e,iI,(()=>{const i=t?{month:e,day:"numeric"}:{month:e},n=t?"format":"standalone";return this.monthsCache[n][e]||(this.monthsCache[n][e]=function(e){const t=[];for(let i=1;i<=12;i++){const n=vL.utc(2009,i,1);t.push(e(n))}return t}((e=>this.extract(e,i,"month")))),this.monthsCache[n][e]}))}weekdays(e,t=!1){return hP(this,e,sI,(()=>{const i=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=function(e){const t=[];for(let i=1;i<=7;i++){const n=vL.utc(2016,11,13+i);t.push(e(n))}return t}((e=>this.extract(e,i,"weekday")))),this.weekdaysCache[n][e]}))}meridiems(){return hP(this,void 0,(()=>oI),(()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[vL.utc(2016,11,13,9),vL.utc(2016,11,13,19)].map((t=>this.extract(t,e,"dayperiod")))}return this.meridiemCache}))}eras(e){return hP(this,e,uI,(()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[vL.utc(-40,1,1),vL.utc(2017,1,1)].map((e=>this.extract(e,t,"era")))),this.eraCache[e]}))}extract(e,t,i){const n=this.dtFormatter(e,t).formatToParts().find((e=>e.type.toLowerCase()===i));return n?n.value:null}numberFormatter(e={}){return new pP(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new mP(e,this.intl,t)}relFormatter(e={}){return new fP(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const i=JSON.stringify([e,t]);let n=sP[i];return n||(n=new Intl.ListFormat(e,t),sP[i]=n),n}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}let yP=null;class bP extends ZM{static get utcInstance(){return null===yP&&(yP=new bP(0)),yP}static instance(e){return 0===e?bP.utcInstance:new bP(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new bP(KP(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${XP(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${XP(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return XP(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class vP extends ZM{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function wP(e,t){if(NP(e)||null===e)return t;if(e instanceof ZM)return e;if("string"==typeof e){const i=e.toLowerCase();return"default"===i?t:"local"===i||"system"===i?tP.instance:"utc"===i||"gmt"===i?bP.utcInstance:bP.parseSpecifier(i)||aP.create(e)}return OP(e)?bP.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new vP(e)}let TP,xP=()=>Date.now(),EP="system",_P=null,SP=null,CP=null,kP=60,AP=class{static get now(){return xP}static set now(e){xP=e}static set defaultZone(e){EP=e}static get defaultZone(){return wP(EP,tP.instance)}static get defaultLocale(){return _P}static set defaultLocale(e){_P=e}static get defaultNumberingSystem(){return SP}static set defaultNumberingSystem(e){SP=e}static get defaultOutputCalendar(){return CP}static set defaultOutputCalendar(e){CP=e}static get twoDigitCutoffYear(){return kP}static set twoDigitCutoffYear(e){kP=e%100}static get throwOnInvalid(){return TP}static set throwOnInvalid(e){TP=e}static resetCaches(){gP.resetCache(),aP.resetCache()}};function NP(e){return void 0===e}function OP(e){return"number"==typeof e}function MP(e){return"number"==typeof e&&e%1==0}function PP(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(E_){return!1}}function IP(e,t,i){if(0!==e.length)return e.reduce(((e,n)=>{const r=[t(n),n];return e&&i(e[0],r[0])===e[0]?e:r}),null)[1]}function RP(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function LP(e,t,i){return MP(e)&&e>=t&&e<=i}function DP(e,t=2){let i;return i=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),i}function jP(e){return NP(e)||null===e||""===e?void 0:parseInt(e,10)}function $P(e){return NP(e)||null===e||""===e?void 0:parseFloat(e)}function BP(e){if(!NP(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function qP(e,t,i=!1){const n=10**t;return(i?Math.trunc:Math.round)(e*n)/n}function UP(e){return e%4==0&&(e%100!=0||e%400==0)}function FP(e){return UP(e)?366:365}function zP(e,t){const i=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===i?UP(e+(t-i)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function VP(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function HP(e){const t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,i=e-1,n=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return 4===t||3===n?53:52}function WP(e){return e>99?e:e>AP.twoDigitCutoffYear?1900+e:2e3+e}function GP(e,t,i,n=null){const r=new Date(e),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(a.timeZone=n);const s={timeZoneName:t,...a},o=new Intl.DateTimeFormat(i,s).formatToParts(r).find((e=>"timezonename"===e.type.toLowerCase()));return o?o.value:null}function KP(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);const n=parseInt(t,10)||0;return 60*i+(i<0||Object.is(i,-0)?-n:n)}function QP(e){const t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new CM(`Invalid unit value ${e}`);return t}function YP(e,t){const i={};for(const n in e)if(RP(e,n)){const r=e[n];if(null==r)continue;i[t(n)]=QP(r)}return i}function XP(e,t){const i=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),r=e>=0?"+":"-";switch(t){case"short":return`${r}${DP(i,2)}:${DP(n,2)}`;case"narrow":return`${r}${i}${n>0?`:${n}`:""}`;case"techie":return`${r}${DP(i,2)}${DP(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function JP(e){return function(e,t){return t.reduce(((t,i)=>(t[i]=e[i],t)),{})}(e,["hour","minute","second","millisecond"])}const ZP=["January","February","March","April","May","June","July","August","September","October","November","December"],eI=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tI=["J","F","M","A","M","J","J","A","S","O","N","D"];function iI(e){switch(e){case"narrow":return[...tI];case"short":return[...eI];case"long":return[...ZP];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const nI=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],rI=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],aI=["M","T","W","T","F","S","S"];function sI(e){switch(e){case"narrow":return[...aI];case"short":return[...rI];case"long":return[...nI];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const oI=["AM","PM"],lI=["Before Christ","Anno Domini"],cI=["BC","AD"],dI=["B","A"];function uI(e){switch(e){case"narrow":return[...dI];case"short":return[...cI];case"long":return[...lI];default:return null}}function hI(e,t){let i="";for(const n of e)n.literal?i+=n.val:i+=t(n.val);return i}const pI={D:MM,DD:PM,DDD:RM,DDDD:LM,t:DM,tt:jM,ttt:$M,tttt:BM,T:qM,TT:UM,TTT:FM,TTTT:zM,f:VM,ff:WM,fff:QM,ffff:XM,F:HM,FF:GM,FFF:YM,FFFF:JM};class mI{static create(e,t={}){return new mI(e,t)}static parseFormat(e){let t=null,i="",n=!1;const r=[];for(let a=0;a<e.length;a++){const s=e.charAt(a);"'"===s?(i.length>0&&r.push({literal:n||/^\s+$/.test(i),val:i}),t=null,i="",n=!n):n||s===t?i+=s:(i.length>0&&r.push({literal:/^\s+$/.test(i),val:i}),i=s,t=s)}return i.length>0&&r.push({literal:n||/^\s+$/.test(i),val:i}),r}static macroTokenToFormatOpts(e){return pI[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0){if(this.opts.forceSimple)return DP(e,t);const i={...this.opts};return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)}formatDateTimeFromString(e,t){const i="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,r=(t,i)=>this.loc.extract(e,t,i),a=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",s=()=>i?function(e){return oI[e.hour<12?0:1]}(e):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),o=(t,n)=>i?function(e,t){return iI(t)[e.month-1]}(e,t):r(n?{month:t}:{month:t,day:"numeric"},"month"),l=(t,n)=>i?function(e,t){return sI(t)[e.weekday-1]}(e,t):r(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),c=t=>{const i=mI.macroTokenToFormatOpts(t);return i?this.formatWithSystemDefault(e,i):t},d=t=>i?function(e,t){return uI(t)[e.year<0?0:1]}(e,t):r({era:t},"era");return hI(mI.parseFormat(t),(t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return a({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return a({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return s();case"d":return n?r({day:"numeric"},"day"):this.num(e.day);case"dd":return n?r({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return n?r({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?r({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return o("short",!0);case"LLLL":return o("long",!0);case"LLLLL":return o("narrow",!0);case"M":return n?r({month:"numeric"},"month"):this.num(e.month);case"MM":return n?r({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return o("short",!1);case"MMMM":return o("long",!1);case"MMMMM":return o("narrow",!1);case"y":return n?r({year:"numeric"},"year"):this.num(e.year);case"yy":return n?r({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?r({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?r({year:"numeric"},"year"):this.num(e.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return c(t)}}))}formatDurationFromString(e,t){const i=e=>{switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},n=mI.parseFormat(t),r=n.reduce(((e,{literal:t,val:i})=>t?e:e.concat(i)),[]),a=e.shiftTo(...r.map(i).filter((e=>e)));return hI(n,(e=>t=>{const n=i(t);return n?this.num(e.get(n),t.length):t})(a))}}class fI{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const gI=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function yI(...e){const t=e.reduce(((e,t)=>e+t.source),"");return RegExp(`^${t}$`)}function bI(...e){return t=>e.reduce((([e,i,n],r)=>{const[a,s,o]=r(t,n);return[{...e,...a},s||i,o]}),[{},null,1]).slice(0,2)}function vI(e,...t){if(null==e)return[null,null];for(const[i,n]of t){const t=i.exec(e);if(t)return n(t)}return[null,null]}function wI(...e){return(t,i)=>{const n={};let r;for(r=0;r<e.length;r++)n[e[r]]=jP(t[i+r]);return[n,null,i+r]}}const TI=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,xI=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,EI=RegExp(`${xI.source}${`(?:${TI.source}?(?:\\[(${gI.source})\\])?)?`}`),_I=RegExp(`(?:T${EI.source})?`),SI=wI("weekYear","weekNumber","weekDay"),CI=wI("year","ordinal"),kI=RegExp(`${xI.source} ?(?:${TI.source}|(${gI.source}))?`),AI=RegExp(`(?: ${kI.source})?`);function NI(e,t,i){const n=e[t];return NP(n)?i:jP(n)}function OI(e,t){return[{hours:NI(e,t,0),minutes:NI(e,t+1,0),seconds:NI(e,t+2,0),milliseconds:BP(e[t+3])},null,t+4]}function MI(e,t){const i=!e[t]&&!e[t+1],n=KP(e[t+1],e[t+2]);return[{},i?null:bP.instance(n),t+3]}function PI(e,t){return[{},e[t]?aP.create(e[t]):null,t+1]}const II=RegExp(`^T?${xI.source}$`),RI=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function LI(e){const[t,i,n,r,a,s,o,l,c]=e,d="-"===t[0],u=l&&"-"===l[0],h=(e,t=!1)=>void 0!==e&&(t||e&&d)?-e:e;return[{years:h($P(i)),months:h($P(n)),weeks:h($P(r)),days:h($P(a)),hours:h($P(s)),minutes:h($P(o)),seconds:h($P(l),"-0"===l),milliseconds:h(BP(c),u)}]}const DI={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function jI(e,t,i,n,r,a,s){const o={year:2===t.length?WP(jP(t)):jP(t),month:eI.indexOf(i)+1,day:jP(n),hour:jP(r),minute:jP(a)};return s&&(o.second=jP(s)),e&&(o.weekday=e.length>3?nI.indexOf(e)+1:rI.indexOf(e)+1),o}const $I=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function BI(e){const[,t,i,n,r,a,s,o,l,c,d,u]=e,h=jI(t,r,n,i,a,s,o);let p;return p=l?DI[l]:c?0:KP(d,u),[h,new bP(p)]}const qI=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,UI=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,FI=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function zI(e){const[,t,i,n,r,a,s,o]=e;return[jI(t,r,n,i,a,s,o),bP.utcInstance]}function VI(e){const[,t,i,n,r,a,s,o]=e;return[jI(t,o,i,n,r,a,s),bP.utcInstance]}const HI=yI(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,_I),WI=yI(/(\d{4})-?W(\d\d)(?:-?(\d))?/,_I),GI=yI(/(\d{4})-?(\d{3})/,_I),KI=yI(EI),QI=bI((function(e,t){return[{year:NI(e,t),month:NI(e,t+1,1),day:NI(e,t+2,1)},null,t+3]}),OI,MI,PI),YI=bI(SI,OI,MI,PI),XI=bI(CI,OI,MI,PI),JI=bI(OI,MI,PI);const ZI=bI(OI);const eR=yI(/(\d{4})-(\d\d)-(\d\d)/,AI),tR=yI(kI),iR=bI(OI,MI,PI);const nR="Invalid Duration",rR={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},aR={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...rR},sR=365.2425,oR=30.436875,lR={years:{quarters:4,months:12,weeks:52.1775,days:sR,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:oR,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...rR},cR=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],dR=cR.slice(0).reverse();function uR(e,t,i=!1){const n={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new mR(n)}function hR(e,t){var i;let n=null!==(i=t.milliseconds)&&void 0!==i?i:0;for(const r of dR.slice(1))t[r]&&(n+=t[r]*e[r].milliseconds);return n}function pR(e,t){const i=hR(e,t)<0?-1:1;cR.reduceRight(((n,r)=>{if(NP(t[r]))return n;if(n){const a=t[n]*i,s=e[r][n],o=Math.floor(a/s);t[r]+=o*i,t[n]-=o*s*i}return r}),null),cR.reduce(((i,n)=>{if(NP(t[n]))return i;if(i){const r=t[i]%1;t[i]-=r,t[n]+=r*e[i][n]}return n}),null)}class mR{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let i=t?lR:aR;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||gP.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}static fromMillis(e,t){return mR.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new CM("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new mR({values:YP(e,mR.normalizeUnit),loc:gP.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(OP(e))return mR.fromMillis(e);if(mR.isDuration(e))return e;if("object"==typeof e)return mR.fromObject(e);throw new CM(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[i]=function(e){return vI(e,[RI,LI])}(e);return i?mR.fromObject(i,t):mR.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[i]=function(e){return vI(e,[II,ZI])}(e);return i?mR.fromObject(i,t):mR.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new CM("need to specify a reason the Duration is invalid");const i=e instanceof fI?e:new fI(e,t);if(AP.throwOnInvalid)throw new EM(i);return new mR({invalid:i})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new SM(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const i={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?mI.create(this.loc,i).formatDurationFromString(this,e):nR}toHuman(e={}){if(!this.isValid)return nR;const t=cR.map((t=>{const i=this.values[t];return NP(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:t.slice(0,-1)}).format(i)})).filter((e=>e));return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(t)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=qP(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();if(t<0||t>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1};return vL.fromMillis(t,{zone:"UTC"}).toISOTime(e)}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.isValid?hR(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=mR.fromDurationLike(e),i={};for(const n of cR)(RP(t.values,n)||RP(this.values,n))&&(i[n]=t.get(n)+this.get(n));return uR(this,{values:i},!0)}minus(e){if(!this.isValid)return this;const t=mR.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const i of Object.keys(this.values))t[i]=QP(e(this.values[i],i));return uR(this,{values:t},!0)}get(e){return this[mR.normalizeUnit(e)]}set(e){if(!this.isValid)return this;return uR(this,{values:{...this.values,...YP(e,mR.normalizeUnit)}})}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:i,matrix:n}={}){return uR(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:n,conversionAccuracy:i})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return pR(this.matrix,e),uR(this,{values:e},!0)}rescale(){if(!this.isValid)return this;return uR(this,{values:function(e){const t={};for(const[i,n]of Object.entries(e))0!==n&&(t[i]=n);return t}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map((e=>mR.normalizeUnit(e)));const t={},i={},n=this.toObject();let r;for(const a of cR)if(e.indexOf(a)>=0){r=a;let e=0;for(const t in i)e+=this.matrix[t][a]*i[t],i[t]=0;OP(n[a])&&(e+=n[a]);const s=Math.trunc(e);t[a]=s,i[a]=(1e3*e-1e3*s)/1e3}else OP(n[a])&&(i[a]=n[a]);for(const a in i)0!==i[a]&&(t[r]+=a===r?i[a]:i[a]/this.matrix[r][a]);return pR(this.matrix,t),uR(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return uR(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(const n of cR)if(t=this.values[n],i=e.values[n],!(void 0===t||0===t?void 0===i||0===i:t===i))return!1;var t,i;return!0}}const fR="Invalid Interval";class gR{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new CM("need to specify a reason the Interval is invalid");const i=e instanceof fI?e:new fI(e,t);if(AP.throwOnInvalid)throw new xM(i);return new gR({invalid:i})}static fromDateTimes(e,t){const i=wL(e),n=wL(t),r=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?gR.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:gR.invalid("missing or invalid end"):gR.invalid("missing or invalid start")}(i,n);return null==r?new gR({start:i,end:n}):r}static after(e,t){const i=mR.fromDurationLike(t),n=wL(e);return gR.fromDateTimes(n,n.plus(i))}static before(e,t){const i=mR.fromDurationLike(t),n=wL(e);return gR.fromDateTimes(n.minus(i),n)}static fromISO(e,t){const[i,n]=(e||"").split("/",2);if(i&&n){let e,r,a,s;try{e=vL.fromISO(i,t),r=e.isValid}catch(n){r=!1}try{a=vL.fromISO(n,t),s=a.isValid}catch(n){s=!1}if(r&&s)return gR.fromDateTimes(e,a);if(r){const i=mR.fromISO(n,t);if(i.isValid)return gR.after(e,i)}else if(s){const e=mR.fromISO(i,t);if(e.isValid)return gR.before(a,e)}}return gR.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const t=this.start.startOf(e),i=this.end.startOf(e);return Math.floor(i.diff(t,e).get(e))+(i.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&(this.s<=e&&this.e>e)}set({start:e,end:t}={}){return this.isValid?gR.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(wL).filter((e=>this.contains(e))).sort(),i=[];let{s:n}=this,r=0;for(;n<this.e;){const e=t[r]||this.e,a=+e>+this.e?this.e:e;i.push(gR.fromDateTimes(n,a)),n=a,r+=1}return i}splitBy(e){const t=mR.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let i,{s:n}=this,r=1;const a=[];for(;n<this.e;){const e=this.start.plus(t.mapUnits((e=>e*r)));i=+e>+this.e?this.e:e,a.push(gR.fromDateTimes(n,i)),n=i,r+=1}return a}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e==+e.s}abutsEnd(e){return!!this.isValid&&+e.e==+this.s}engulfs(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)}equals(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,i=this.e<e.e?this.e:e.e;return t>=i?null:gR.fromDateTimes(t,i)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,i=this.e>e.e?this.e:e.e;return gR.fromDateTimes(t,i)}static merge(e){const[t,i]=e.sort(((e,t)=>e.s-t.s)).reduce((([e,t],i)=>t?t.overlaps(i)||t.abutsStart(i)?[e,t.union(i)]:[e.concat([t]),i]:[e,i]),[[],null]);return i&&t.push(i),t}static xor(e){let t=null,i=0;const n=[],r=e.map((e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}])),a=Array.prototype.concat(...r).sort(((e,t)=>e.time-t.time));for(const s of a)i+="s"===s.type?1:-1,1===i?t=s.time:(t&&+t!=+s.time&&n.push(gR.fromDateTimes(t,s.time)),t=null);return gR.merge(n)}difference(...e){return gR.xor([this].concat(e)).map((e=>this.intersection(e))).filter((e=>e&&!e.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:fR}toLocaleString(e=MM,t={}){return this.isValid?mI.create(this.s.loc.clone(t),e).formatInterval(this):fR}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:fR}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:fR}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:fR}toFormat(e,{separator:t="  "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:fR}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):mR.invalid(this.invalidReason)}mapEndpoints(e){return gR.fromDateTimes(e(this.s),e(this.e))}}class yR{static hasDST(e=AP.defaultZone){const t=vL.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return aP.isValidZone(e)}static normalizeZone(e){return wP(e,AP.defaultZone)}static months(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null,outputCalendar:r="gregory"}={}){return(n||gP.create(t,i,r)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null,outputCalendar:r="gregory"}={}){return(n||gP.create(t,i,r)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null}={}){return(n||gP.create(t,i,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:i=null,locObj:n=null}={}){return(n||gP.create(t,i,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return gP.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return gP.create(t,null,"gregory").eras(e)}static features(){return{relative:PP()}}}function bR(e,t){const i=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=i(t)-i(e);return Math.floor(mR.fromMillis(n).as("days"))}function vR(e,t,i,n){let[r,a,s,o]=function(e,t,i){const n=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const i=bR(e,t);return(i-i%7)/7}],["days",bR]],r={},a=e;let s,o;for(const[l,c]of n)i.indexOf(l)>=0&&(s=l,r[l]=c(e,t),o=a.plus(r),o>t?(r[l]--,(e=a.plus(r))>t&&(o=e,r[l]--,e=a.plus(r))):e=o);return[e,r,o,s]}(e,t,i);const l=t-r,c=i.filter((e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0));0===c.length&&(s<t&&(s=r.plus({[o]:1})),s!==r&&(a[o]=(a[o]||0)+l/(s-r)));const d=mR.fromObject(a,n);return c.length>0?mR.fromMillis(l,n).shiftTo(...c).plus(d):d}const wR={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},TR={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},xR=wR.hanidec.replace(/[\[|\]]/g,"").split("");function ER({numberingSystem:e},t=""){return new RegExp(`${wR[e||"latn"]}${t}`)}const _R="missing Intl.DateTimeFormat.formatToParts support";function SR(e,t=(e=>e)){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(-1!==e[i].search(wR.hanidec))t+=xR.indexOf(e[i]);else for(const e in TR){const[i,r]=TR[e];n>=i&&n<=r&&(t+=n-i)}}return parseInt(t,10)}return t}(e))}}const CR=`[ ${String.fromCharCode(160)}]`,kR=new RegExp(CR,"g");function AR(e){return e.replace(/\./g,"\\.?").replace(kR,CR)}function NR(e){return e.replace(/\./g,"").replace(kR," ").toLowerCase()}function OR(e,t){return null===e?null:{regex:RegExp(e.map(AR).join("|")),deser:([i])=>e.findIndex((e=>NR(i)===NR(e)))+t}}function MR(e,t){return{regex:e,deser:([,e,t])=>KP(e,t),groups:t}}function PR(e){return{regex:e,deser:([e])=>e}}const IR={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let RR=null;function LR(e,t){return Array.prototype.concat(...e.map((e=>function(e,t){if(e.literal)return e;const i=jR(mI.macroTokenToFormatOpts(e.val),t);return null==i||i.includes(void 0)?e:i}(e,t))))}function DR(e,t,i){const n=LR(mI.parseFormat(i),e),r=n.map((t=>function(e,t){const i=ER(t),n=ER(t,"{2}"),r=ER(t,"{3}"),a=ER(t,"{4}"),s=ER(t,"{6}"),o=ER(t,"{1,2}"),l=ER(t,"{1,3}"),c=ER(t,"{1,6}"),d=ER(t,"{1,9}"),u=ER(t,"{2,4}"),h=ER(t,"{4,6}"),p=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},m=(m=>{if(e.literal)return p(m);switch(m.val){case"G":return OR(t.eras("short"),0);case"GG":return OR(t.eras("long"),0);case"y":return SR(c);case"yy":case"kk":return SR(u,WP);case"yyyy":case"kkkk":return SR(a);case"yyyyy":return SR(h);case"yyyyyy":return SR(s);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return SR(o);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return SR(n);case"MMM":return OR(t.months("short",!0),1);case"MMMM":return OR(t.months("long",!0),1);case"LLL":return OR(t.months("short",!1),1);case"LLLL":return OR(t.months("long",!1),1);case"o":case"S":return SR(l);case"ooo":case"SSS":return SR(r);case"u":return PR(d);case"uu":return PR(o);case"uuu":case"E":case"c":return SR(i);case"a":return OR(t.meridiems(),0);case"EEE":return OR(t.weekdays("short",!1),1);case"EEEE":return OR(t.weekdays("long",!1),1);case"ccc":return OR(t.weekdays("short",!0),1);case"cccc":return OR(t.weekdays("long",!0),1);case"Z":case"ZZ":return MR(new RegExp(`([+-]${o.source})(?::(${n.source}))?`),2);case"ZZZ":return MR(new RegExp(`([+-]${o.source})(${n.source})?`),2);case"z":return PR(/[a-z_+-/]{1,256}?/i);case" ":return PR(/[^\S\n\r]/);default:return p(m)}})(e)||{invalidReason:_R};return m.token=e,m}(t,e))),a=r.find((e=>e.invalidReason));if(a)return{input:t,tokens:n,invalidReason:a.invalidReason};{const[e,i]=function(e){const t=e.map((e=>e.regex)).reduce(((e,t)=>`${e}(${t.source})`),"");return[`^${t}$`,e]}(r),a=RegExp(e,"i"),[s,o]=function(e,t,i){const n=e.match(t);if(n){const e={};let t=1;for(const r in i)if(RP(i,r)){const a=i[r],s=a.groups?a.groups+1:1;!a.literal&&a.token&&(e[a.token.val[0]]=a.deser(n.slice(t,t+s))),t+=s}return[n,e]}return[n,{}]}(t,a,i),[l,c,d]=o?function(e){let t,i=null;NP(e.z)||(i=aP.create(e.z)),NP(e.Z)||(i||(i=new bP(e.Z)),t=e.Z),NP(e.q)||(e.M=3*(e.q-1)+1),NP(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),NP(e.u)||(e.S=BP(e.u));const n=Object.keys(e).reduce(((t,i)=>{const n=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(i);return n&&(t[n]=e[i]),t}),{});return[n,i,t]}(o):[null,null,void 0];if(RP(o,"a")&&RP(o,"H"))throw new _M("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:a,rawMatches:s,matches:o,result:l,zone:c,specificOffset:d}}}function jR(e,t){if(!e)return null;const i=mI.create(t,e).dtFormatter((RR||(RR=vL.fromMillis(1555555555555)),RR)),n=i.formatToParts(),r=i.resolvedOptions();return n.map((t=>function(e,t,i){const{type:n,value:r}=e;if("literal"===n){const e=/^\s+$/.test(r);return{literal:!e,val:e?" ":r}}const a=t[n];let s=n;"hour"===n&&(s=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":i.hour12?"hour12":"hour24");let o=IR[s];if("object"==typeof o&&(o=o[a]),o)return{literal:!1,val:o}}(t,e,r)))}const $R=[0,31,59,90,120,151,181,212,243,273,304,334],BR=[0,31,60,91,121,152,182,213,244,274,305,335];function qR(e,t){return new fI("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function UR(e,t,i){const n=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const r=n.getUTCDay();return 0===r?7:r}function FR(e,t,i){return i+(UP(e)?BR:$R)[t-1]}function zR(e,t){const i=UP(e)?BR:$R,n=i.findIndex((e=>e<t));return{month:n+1,day:t-i[n]}}function VR(e){const{year:t,month:i,day:n}=e,r=FR(t,i,n),a=UR(t,i,n);let s,o=Math.floor((r-a+10)/7);return o<1?(s=t-1,o=HP(s)):o>HP(t)?(s=t+1,o=1):s=t,{weekYear:s,weekNumber:o,weekday:a,...JP(e)}}function HR(e){const{weekYear:t,weekNumber:i,weekday:n}=e,r=UR(t,1,4),a=FP(t);let s,o=7*i+n-r-3;o<1?(s=t-1,o+=FP(s)):o>a?(s=t+1,o-=FP(t)):s=t;const{month:l,day:c}=zR(s,o);return{year:s,month:l,day:c,...JP(e)}}function WR(e){const{year:t,month:i,day:n}=e;return{year:t,ordinal:FR(t,i,n),...JP(e)}}function GR(e){const{year:t,ordinal:i}=e,{month:n,day:r}=zR(t,i);return{year:t,month:n,day:r,...JP(e)}}function KR(e){const t=MP(e.year),i=LP(e.month,1,12),n=LP(e.day,1,zP(e.year,e.month));return t?i?!n&&qR("day",e.day):qR("month",e.month):qR("year",e.year)}function QR(e){const{hour:t,minute:i,second:n,millisecond:r}=e,a=LP(t,0,23)||24===t&&0===i&&0===n&&0===r,s=LP(i,0,59),o=LP(n,0,59),l=LP(r,0,999);return a?s?o?!l&&qR("millisecond",r):qR("second",n):qR("minute",i):qR("hour",t)}const YR="Invalid DateTime",XR=864e13;function JR(e){return new fI("unsupported zone",`the zone "${e.name}" is not supported`)}function ZR(e){return null===e.weekData&&(e.weekData=VR(e.c)),e.weekData}function eL(e,t){const i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new vL({...i,...t,old:i})}function tL(e,t,i){let n=e-60*t*1e3;const r=i.offset(n);if(t===r)return[n,t];n-=60*(r-t)*1e3;const a=i.offset(n);return r===a?[n,r]:[e-60*Math.min(r,a)*1e3,Math.max(r,a)]}function iL(e,t){const i=new Date(e+=60*t*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function nL(e,t,i){return tL(VP(e),t,i)}function rL(e,t){const i=e.o,n=e.c.year+Math.trunc(t.years),r=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),a={...e.c,year:n,month:r,day:Math.min(e.c.day,zP(n,r))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},s=mR.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),o=VP(a);let[l,c]=tL(o,i,e.zone);return 0!==s&&(l+=s,c=e.zone.offset(l)),{ts:l,o:c}}function aL(e,t,i,n,r,a){const{setZone:s,zone:o}=i;if(e&&0!==Object.keys(e).length||t){const n=t||o,r=vL.fromObject(e,{...i,zone:n,specificOffset:a});return s?r:r.setZone(o)}return vL.invalid(new fI("unparsable",`the input "${r}" can't be parsed as ${n}`))}function sL(e,t,i=!0){return e.isValid?mI.create(gP.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function oL(e,t){const i=e.c.year>9999||e.c.year<0;let n="";return i&&e.c.year>=0&&(n+="+"),n+=DP(e.c.year,i?6:4),t?(n+="-",n+=DP(e.c.month),n+="-",n+=DP(e.c.day)):(n+=DP(e.c.month),n+=DP(e.c.day)),n}function lL(e,t,i,n,r,a){let s=DP(e.c.hour);return t?(s+=":",s+=DP(e.c.minute),0===e.c.millisecond&&0===e.c.second&&i||(s+=":")):s+=DP(e.c.minute),0===e.c.millisecond&&0===e.c.second&&i||(s+=DP(e.c.second),0===e.c.millisecond&&n||(s+=".",s+=DP(e.c.millisecond,3))),r&&(e.isOffsetFixed&&0===e.offset&&!a?s+="Z":e.o<0?(s+="-",s+=DP(Math.trunc(-e.o/60)),s+=":",s+=DP(Math.trunc(-e.o%60))):(s+="+",s+=DP(Math.trunc(e.o/60)),s+=":",s+=DP(Math.trunc(e.o%60)))),a&&(s+="["+e.zone.ianaName+"]"),s}const cL={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},dL={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},uL={ordinal:1,hour:0,minute:0,second:0,millisecond:0},hL=["year","month","day","hour","minute","second","millisecond"],pL=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],mL=["year","ordinal","hour","minute","second","millisecond"];function fL(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new SM(e);return t}function gL(e,t){const i=wP(t.zone,AP.defaultZone),n=gP.fromObject(t),r=AP.now();let a,s;if(NP(e.year))a=r;else{for(const i of hL)NP(e[i])&&(e[i]=cL[i]);const t=KR(e)||QR(e);if(t)return vL.invalid(t);const n=i.offset(r);[a,s]=nL(e,n,i)}return new vL({ts:a,zone:i,loc:n,o:s})}function yL(e,t,i){const n=!!NP(i.round)||i.round,r=(e,r)=>{e=qP(e,n||i.calendary?0:2,!0);return t.loc.clone(i).relFormatter(i).format(e,r)},a=n=>i.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n);if(i.unit)return r(a(i.unit),i.unit);for(const s of i.units){const e=a(s);if(Math.abs(e)>=1)return r(e,s)}return r(e>t?-0:0,i.units[i.units.length-1])}function bL(e){let t,i={};return e.length>0&&"object"==typeof e[e.length-1]?(i=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[i,t]}class vL{constructor(e){const t=e.zone||AP.defaultZone;let i=e.invalid||(Number.isNaN(e.ts)?new fI("invalid input"):null)||(t.isValid?null:JR(t));this.ts=NP(e.ts)?AP.now():e.ts;let n=null,r=null;if(!i){if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,r]=[e.old.c,e.old.o];else{const e=t.offset(this.ts);n=iL(this.ts,e),i=Number.isNaN(n.year)?new fI("invalid input"):null,n=i?null:n,r=i?null:e}}this._zone=t,this.loc=e.loc||gP.create(),this.invalid=i,this.weekData=null,this.c=n,this.o=r,this.isLuxonDateTime=!0}static now(){return new vL({})}static local(){const[e,t]=bL(arguments),[i,n,r,a,s,o,l]=t;return gL({year:i,month:n,day:r,hour:a,minute:s,second:o,millisecond:l},e)}static utc(){const[e,t]=bL(arguments),[i,n,r,a,s,o,l]=t;return e.zone=bP.utcInstance,gL({year:i,month:n,day:r,hour:a,minute:s,second:o,millisecond:l},e)}static fromJSDate(e,t={}){const i=(n=e,"[object Date]"===Object.prototype.toString.call(n)?e.valueOf():NaN);var n;if(Number.isNaN(i))return vL.invalid("invalid input");const r=wP(t.zone,AP.defaultZone);return r.isValid?new vL({ts:i,zone:r,loc:gP.fromObject(t)}):vL.invalid(JR(r))}static fromMillis(e,t={}){if(OP(e))return e<-XR||e>XR?vL.invalid("Timestamp out of range"):new vL({ts:e,zone:wP(t.zone,AP.defaultZone),loc:gP.fromObject(t)});throw new CM(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(OP(e))return new vL({ts:1e3*e,zone:wP(t.zone,AP.defaultZone),loc:gP.fromObject(t)});throw new CM("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const i=wP(t.zone,AP.defaultZone);if(!i.isValid)return vL.invalid(JR(i));const n=AP.now(),r=NP(t.specificOffset)?i.offset(n):t.specificOffset,a=YP(e,fL),s=!NP(a.ordinal),o=!NP(a.year),l=!NP(a.month)||!NP(a.day),c=o||l,d=a.weekYear||a.weekNumber,u=gP.fromObject(t);if((c||s)&&d)throw new _M("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&s)throw new _M("Can't mix ordinal dates with month/day");const h=d||a.weekday&&!c;let p,m,f=iL(n,r);h?(p=pL,m=dL,f=VR(f)):s?(p=mL,m=uL,f=WR(f)):(p=hL,m=cL);let g=!1;for(const E of p){NP(a[E])?a[E]=g?m[E]:f[E]:g=!0}const y=h?function(e){const t=MP(e.weekYear),i=LP(e.weekNumber,1,HP(e.weekYear)),n=LP(e.weekday,1,7);return t?i?!n&&qR("weekday",e.weekday):qR("week",e.week):qR("weekYear",e.weekYear)}(a):s?function(e){const t=MP(e.year),i=LP(e.ordinal,1,FP(e.year));return t?!i&&qR("ordinal",e.ordinal):qR("year",e.year)}(a):KR(a),b=y||QR(a);if(b)return vL.invalid(b);const v=h?HR(a):s?GR(a):a,[w,T]=nL(v,r,i),x=new vL({ts:w,zone:i,o:T,loc:u});return a.weekday&&c&&e.weekday!==x.weekday?vL.invalid("mismatched weekday",`you can't specify both a weekday of ${a.weekday} and a date of ${x.toISO()}`):x}static fromISO(e,t={}){const[i,n]=function(e){return vI(e,[HI,QI],[WI,YI],[GI,XI],[KI,JI])}(e);return aL(i,n,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[i,n]=function(e){return vI(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[$I,BI])}(e);return aL(i,n,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[i,n]=function(e){return vI(e,[qI,zI],[UI,zI],[FI,VI])}(e);return aL(i,n,t,"HTTP",t)}static fromFormat(e,t,i={}){if(NP(e)||NP(t))throw new CM("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:r=null}=i,a=gP.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0}),[s,o,l,c]=function(e,t,i){const{result:n,zone:r,specificOffset:a,invalidReason:s}=DR(e,t,i);return[n,r,a,s]}(a,e,t);return c?vL.invalid(c):aL(s,o,i,`format ${t}`,e,l)}static fromString(e,t,i={}){return vL.fromFormat(e,t,i)}static fromSQL(e,t={}){const[i,n]=function(e){return vI(e,[eR,QI],[tR,iR])}(e);return aL(i,n,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new CM("need to specify a reason the DateTime is invalid");const i=e instanceof fI?e:new fI(e,t);if(AP.throwOnInvalid)throw new TM(i);return new vL({invalid:i})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const i=jR(e,gP.fromObject(t));return i?i.map((e=>e?e.val:null)).join(""):null}static expandFormat(e,t={}){return LR(mI.parseFormat(e),gP.fromObject(t)).map((e=>e.val)).join("")}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?ZR(this).weekYear:NaN}get weekNumber(){return this.isValid?ZR(this).weekNumber:NaN}get weekday(){return this.isValid?ZR(this).weekday:NaN}get ordinal(){return this.isValid?WR(this.c).ordinal:NaN}get monthShort(){return this.isValid?yR.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?yR.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?yR.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?yR.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,i=VP(this.c),n=this.zone.offset(i-e),r=this.zone.offset(i+e),a=this.zone.offset(i-n*t),s=this.zone.offset(i-r*t);if(a===s)return[this];const o=i-a*t,l=i-s*t,c=iL(o,a),d=iL(l,s);return c.hour===d.hour&&c.minute===d.minute&&c.second===d.second&&c.millisecond===d.millisecond?[eL(this,{ts:o}),eL(this,{ts:l})]:[this]}get isInLeapYear(){return UP(this.year)}get daysInMonth(){return zP(this.year,this.month)}get daysInYear(){return this.isValid?FP(this.year):NaN}get weeksInWeekYear(){return this.isValid?HP(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:i,calendar:n}=mI.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:i,outputCalendar:n}}toUTC(e=0,t={}){return this.setZone(bP.instance(e),t)}toLocal(){return this.setZone(AP.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:i=!1}={}){if((e=wP(e,AP.defaultZone)).equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||i){const t=e.offset(this.ts),i=this.toObject();[n]=nL(i,t,e)}return eL(this,{ts:n,zone:e})}return vL.invalid(JR(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:i}={}){return eL(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:i})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=YP(e,fL),i=!NP(t.weekYear)||!NP(t.weekNumber)||!NP(t.weekday),n=!NP(t.ordinal),r=!NP(t.year),a=!NP(t.month)||!NP(t.day),s=r||a,o=t.weekYear||t.weekNumber;if((s||n)&&o)throw new _M("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(a&&n)throw new _M("Can't mix ordinal dates with month/day");let l;i?l=HR({...VR(this.c),...t}):NP(t.ordinal)?(l={...this.toObject(),...t},NP(t.day)&&(l.day=Math.min(zP(l.year,l.month),l.day))):l=GR({...WR(this.c),...t});const[c,d]=nL(l,this.o,this.zone);return eL(this,{ts:c,o:d})}plus(e){if(!this.isValid)return this;return eL(this,rL(this,mR.fromDurationLike(e)))}minus(e){if(!this.isValid)return this;return eL(this,rL(this,mR.fromDurationLike(e).negate()))}startOf(e){if(!this.isValid)return this;const t={},i=mR.normalizeUnit(e);switch(i){case"years":t.month=1;case"quarters":case"months":t.day=1;case"weeks":case"days":t.hour=0;case"hours":t.minute=0;case"minutes":t.second=0;case"seconds":t.millisecond=0}if("weeks"===i&&(t.weekday=1),"quarters"===i){const e=Math.ceil(this.month/3);t.month=3*(e-1)+1}return this.set(t)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,t={}){return this.isValid?mI.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):YR}toLocaleString(e=MM,t={}){return this.isValid?mI.create(this.loc.clone(t),e).formatDateTime(this):YR}toLocaleParts(e={}){return this.isValid?mI.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:i=!1,includeOffset:n=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const a="extended"===e;let s=oL(this,a);return s+="T",s+=lL(this,a,t,i,n,r),s}toISODate({format:e="extended"}={}){return this.isValid?oL(this,"extended"===e):null}toISOWeekDate(){return sL(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:i=!0,includePrefix:n=!1,extendedZone:r=!1,format:a="extended"}={}){if(!this.isValid)return null;return(n?"T":"")+lL(this,"extended"===a,t,e,i,r)}toRFC2822(){return sL(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return sL(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?oL(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:i=!0}={}){let n="HH:mm:ss.SSS";return(t||e)&&(i&&(n+=" "),t?n+="z":e&&(n+="ZZ")),sL(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():YR}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",i={}){if(!this.isValid||!e.isValid)return mR.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...i},r=(o=t,Array.isArray(o)?o:[o]).map(mR.normalizeUnit),a=e.valueOf()>this.valueOf(),s=vR(a?this:e,a?e:this,r,n);var o;return a?s.negate():s}diffNow(e="milliseconds",t={}){return this.diff(vL.now(),e,t)}until(e){return this.isValid?gR.fromDateTimes(this,e):this}hasSame(e,t){if(!this.isValid)return!1;const i=e.valueOf(),n=this.setZone(e.zone,{keepLocalTime:!0});return n.startOf(t)<=i&&i<=n.endOf(t)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||vL.fromObject({},{zone:this.zone}),i=e.padding?this<t?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],r=e.unit;return Array.isArray(e.unit)&&(n=e.unit,r=void 0),yL(t,this.plus(i),{...e,numeric:"always",units:n,unit:r})}toRelativeCalendar(e={}){return this.isValid?yL(e.base||vL.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(vL.isDateTime))throw new CM("min requires all arguments be DateTimes");return IP(e,(e=>e.valueOf()),Math.min)}static max(...e){if(!e.every(vL.isDateTime))throw new CM("max requires all arguments be DateTimes");return IP(e,(e=>e.valueOf()),Math.max)}static fromFormatExplain(e,t,i={}){const{locale:n=null,numberingSystem:r=null}=i;return DR(gP.fromOpts({locale:n,numberingSystem:r,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,i={}){return vL.fromFormatExplain(e,t,i)}static get DATE_SHORT(){return MM}static get DATE_MED(){return PM}static get DATE_MED_WITH_WEEKDAY(){return IM}static get DATE_FULL(){return RM}static get DATE_HUGE(){return LM}static get TIME_SIMPLE(){return DM}static get TIME_WITH_SECONDS(){return jM}static get TIME_WITH_SHORT_OFFSET(){return $M}static get TIME_WITH_LONG_OFFSET(){return BM}static get TIME_24_SIMPLE(){return qM}static get TIME_24_WITH_SECONDS(){return UM}static get TIME_24_WITH_SHORT_OFFSET(){return FM}static get TIME_24_WITH_LONG_OFFSET(){return zM}static get DATETIME_SHORT(){return VM}static get DATETIME_SHORT_WITH_SECONDS(){return HM}static get DATETIME_MED(){return WM}static get DATETIME_MED_WITH_SECONDS(){return GM}static get DATETIME_MED_WITH_WEEKDAY(){return KM}static get DATETIME_FULL(){return QM}static get DATETIME_FULL_WITH_SECONDS(){return YM}static get DATETIME_HUGE(){return XM}static get DATETIME_HUGE_WITH_SECONDS(){return JM}}function wL(e){if(vL.isDateTime(e))return e;if(e&&e.valueOf&&OP(e.valueOf()))return vL.fromJSDate(e);if(e&&"object"==typeof e)return vL.fromObject(e);throw new CM(`Unknown datetime argument: ${e}, of type ${typeof e}`)}const TL=({timerInterval:e,timerKey:t,timerDuration:i,timerActive:n,unsetTimer:r})=>{const a=i?(i-Date.now())/1e3:1*e;return ee.jsx(vM,{isPlaying:n,size:300,strokeWidth:22,colors:["#004777","#F7B801","#A30000","#A30000"],colorsTime:[7,5,2,0],rotation:"clockwise",duration:1*e,initialRemainingTime:a>0?a:1*e,onComplete:()=>{r()},children:({remainingTime:e})=>((e,t)=>{const i=mR.fromMillis(1e3*e).toFormat("mm:ss");return ee.jsxs("div",{className:"time-wrapper",children:[ee.jsx("div",{children:t?"NEXT BREAK IS IN":"CLICK PLAY BUTTON"}),ee.jsx("div",{className:"timer-digits",children:ee.jsx("div",{children:i})})]})})(e,n)},t)},xL=({timerStatus:e,timerHandler:t})=>ee.jsx(TE,{color:"success",expand:"full",onClick:t,children:ee.jsx(ZE,{icon:"running"===e?"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M224 432h-80V80h80zM368 432h-80V80h80z'/></svg>":"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M96 448l320-192L96 64v384z'/></svg>",size:"large"})}),EL=()=>ee.jsxs(cE,{contentId:"profile__content",children:[ee.jsx(rE,{children:ee.jsx(yE,{color:"tertiary",children:ee.jsx(gE,{children:"Menu"})})}),ee.jsxs(iE,{className:"ion-padding",children:[ee.jsxs(lE,{children:[ee.jsx(uE,{children:ee.jsxs(xE,{lines:"full",button:!0,routerLink:"/timer",children:[ee.jsx(ZE,{slot:"start",icon:y_}),ee.jsx(oE,{children:"Start Your Workout"})]})}),ee.jsx(uE,{children:ee.jsxs(xE,{lines:"full",button:!0,href:"https://backpackgym.com/contact",children:[ee.jsx(ZE,{slot:"start",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M464 384.39a32 32 0 01-13-2.77 15.77 15.77 0 01-2.71-1.54l-82.71-58.22A32 32 0 01352 295.7v-79.4a32 32 0 0113.58-26.16l82.71-58.22a15.77 15.77 0 012.71-1.54 32 32 0 0145 29.24v192.76a32 32 0 01-32 32zM268 400H84a68.07 68.07 0 01-68-68V180a68.07 68.07 0 0168-68h184.48A67.6 67.6 0 01336 179.52V332a68.07 68.07 0 01-68 68z'/></svg>"}),ee.jsx(oE,{children:"Video Tutorial"})]})}),ee.jsx(uE,{children:ee.jsxs(xE,{lines:"full",button:!0,href:"https://backpackgym.com/contact",children:[ee.jsx(ZE,{slot:"start",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448.67 154.45L274.1 68.2a41.1 41.1 0 00-36.2 0L63.33 154.45A55.6 55.6 0 0032 204.53v184.61c0 30.88 25.42 56 56.67 56h334.66c31.25 0 56.67-25.12 56.67-56V204.53a55.6 55.6 0 00-31.33-50.08zM252.38 96.82a8.22 8.22 0 017.24 0L429 180.48l-172 85a8.22 8.22 0 01-7.24 0L80.35 181.81z'/></svg>"}),ee.jsx(oE,{children:"Contact"})]})}),ee.jsx(uE,{children:ee.jsx(xE,{lines:"none",children:ee.jsxs(eE,{slot:"end",children:[ee.jsx(TE,{href:"https://facebook.com/backpackgym",children:ee.jsx(ZE,{slot:"icon-only",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M480 257.35c0-123.7-100.3-224-224-224s-224 100.3-224 224c0 111.8 81.9 204.47 189 221.29V322.12h-56.89v-64.77H221V208c0-56.13 33.45-87.16 84.61-87.16 24.51 0 50.15 4.38 50.15 4.38v55.13H327.5c-27.81 0-36.51 17.26-36.51 35v42h62.12l-9.92 64.77H291v156.54c107.1-16.81 189-109.48 189-221.31z' fill-rule='evenodd'/></svg>"})}),ee.jsx(TE,{href:"https://facebook.com/backpackgym",children:ee.jsx(ZE,{slot:"icon-only",icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M349.33 69.33a93.62 93.62 0 0193.34 93.34v186.66a93.62 93.62 0 01-93.34 93.34H162.67a93.62 93.62 0 01-93.34-93.34V162.67a93.62 93.62 0 0193.34-93.34h186.66m0-37.33H162.67C90.8 32 32 90.8 32 162.67v186.66C32 421.2 90.8 480 162.67 480h186.66C421.2 480 480 421.2 480 349.33V162.67C480 90.8 421.2 32 349.33 32z'/><path d='M377.33 162.67a28 28 0 1128-28 27.94 27.94 0 01-28 28zM256 181.33A74.67 74.67 0 11181.33 256 74.75 74.75 0 01256 181.33m0-37.33a112 112 0 10112 112 112 112 0 00-112-112z'/></svg>"})})]})})}),ee.jsx(uE,{children:ee.jsx(xE,{className:"bpg-block",onClick:()=>{window.location.href="https://backpackgym.com"}})})]}),ee.jsx("div",{slot:"fixed",className:"app-info",children:ee.jsxs("p",{children:["Presented by Backpack Gym ",ee.jsx("br",{}),"App version 1.0.1"]})})]})]}),_L=()=>ee.jsxs(QE,{slot:"bottom",color:"warning",children:[ee.jsxs(WE,{className:"my-tab-button",tab:"home",href:"/home",children:[ee.jsx(ZE,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M261.56 101.28a8 8 0 00-11.06 0L66.4 277.15a8 8 0 00-2.47 5.79L63.9 448a32 32 0 0032 32H192a16 16 0 0016-16V328a8 8 0 018-8h80a8 8 0 018 8v136a16 16 0 0016 16h96.06a32 32 0 0032-32V282.94a8 8 0 00-2.47-5.79z'/><path d='M490.91 244.15l-74.8-71.56V64a16 16 0 00-16-16h-48a16 16 0 00-16 16v32l-57.92-55.38C272.77 35.14 264.71 32 256 32c-8.68 0-16.72 3.14-22.14 8.63l-212.7 203.5c-6.22 6-7 15.87-1.34 22.37A16 16 0 0043 267.56L250.5 69.28a8 8 0 0111.06 0l207.52 198.28a16 16 0 0022.59-.44c6.14-6.36 5.63-16.86-.76-22.97z'/></svg>"}),ee.jsx(oE,{children:"Home"}),ee.jsx(Zx,{color:"danger",children:"1"})]}),ee.jsxs(WE,{className:"my-tab-button",tab:"timer",href:"/timer",children:[ee.jsx(ZE,{icon:y_}),ee.jsx(oE,{children:"Timer"})]}),ee.jsxs(WE,{className:"my-tab-button",tab:"settings",href:"/timer-configuration",children:[ee.jsx(ZE,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><circle cx='256' cy='256' r='48'/><path d='M470.39 300l-.47-.38-31.56-24.75a16.11 16.11 0 01-6.1-13.33v-11.56a16 16 0 016.11-13.22L469.92 212l.47-.38a26.68 26.68 0 005.9-34.06l-42.71-73.9a1.59 1.59 0 01-.13-.22A26.86 26.86 0 00401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 01-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 01-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 00298.76 26h-85.52a26.92 26.92 0 00-26.45 22.39l-.09.56-5.57 39.67a16 16 0 01-8.13 11.82 175.21 175.21 0 00-10 5.82 15.92 15.92 0 01-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 00-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 005.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 016.1 13.33v11.56a16 16 0 01-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 00-5.9 34.06l42.71 73.9a1.59 1.59 0 01.13.22 26.86 26.86 0 0032.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0114.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 018.19 11.82l5.56 39.59.12.72A27.22 27.22 0 00213.24 486h85.52a26.92 26.92 0 0026.45-22.39l.09-.56 5.57-39.67a16 16 0 018.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0114.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0032.48-11.34 2.53 2.53 0 01.13-.22l42.71-73.89a26.7 26.7 0 00-5.89-34.11zm-134.48-40.24a80 80 0 11-83.66-83.67 80.21 80.21 0 0183.66 83.67z'/></svg>"}),ee.jsx(oE,{children:"Settings"})]})]}),SL=({timerStatus:e,unsetTimer:t})=>ee.jsx(TE,{color:"danger",expand:"full",disabled:"running"===e,onClick:t,children:ee.jsx(ZE,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M434.67 285.59v-29.8c0-98.73-80.24-178.79-179.2-178.79a179 179 0 00-140.14 67.36m-38.53 82v29.8C76.8 355 157 435 256 435a180.45 180.45 0 00140-66.92' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M32 256l44-44 46 44M480 256l-44 44-46-44' class='ionicon-fill-none ionicon-stroke-width'/></svg>",size:"large"})});var CL;!function(e){e[e.Sunday=1]="Sunday",e[e.Monday=2]="Monday",e[e.Tuesday=3]="Tuesday",e[e.Wednesday=4]="Wednesday",e[e.Thursday=5]="Thursday",e[e.Friday=6]="Friday",e[e.Saturday=7]="Saturday"}(CL||(CL={}));const kL=rS("LocalNotifications",{web:()=>Ep((()=>i.import("./web-legacy-a03eb1e7.js"))).then((e=>new e.LocalNotificationsWeb))}),AL=async e=>{try{if("granted"!==(await kL.requestPermissions()).display)throw new Error("Permissions haven't been granted");await kL.schedule({notifications:[{title:"Friendly Reminder",body:"Get up and workout",id:1,schedule:{at:new Date(Date.now()+e)},extra:{data:"Pass data to your handler"},iconColor:"#FF7F50",sound:"birds.wav"}]})}catch(t){console.log(t)}};function NL(e){return null!==e&&"object"==typeof e&&"constructor"in e&&e.constructor===Object}function OL(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((i=>{void 0===e[i]?e[i]=t[i]:NL(t[i])&&NL(e[i])&&Object.keys(t[i]).length>0&&OL(e[i],t[i])}))}const ML={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function PL(){const e="undefined"!=typeof document?document:{};return OL(e,ML),e}const IL={document:ML,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"==typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!=typeof setTimeout&&clearTimeout(e)}};function RL(){const e="undefined"!=typeof window?window:{};return OL(e,IL),e}function LL(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function DL(){return Date.now()}function jL(e,t){void 0===t&&(t="x");const i=RL();let n,r,a;const s=function(e){const t=RL();let i;return t.getComputedStyle&&(i=t.getComputedStyle(e,null)),!i&&e.currentStyle&&(i=e.currentStyle),i||(i=e.style),i}(e);return i.WebKitCSSMatrix?(r=s.transform||s.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map((e=>e.replace(",","."))).join(", ")),a=new i.WebKitCSSMatrix("none"===r?"":r)):(a=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=a.toString().split(",")),"x"===t&&(r=i.WebKitCSSMatrix?a.m41:16===n.length?parseFloat(n[12]):parseFloat(n[4])),"y"===t&&(r=i.WebKitCSSMatrix?a.m42:16===n.length?parseFloat(n[13]):parseFloat(n[5])),r||0}function $L(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function BL(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(null!=r&&(i=r,!("undefined"!=typeof window&&void 0!==window.HTMLElement?i instanceof HTMLElement:i&&(1===i.nodeType||11===i.nodeType)))){const i=Object.keys(Object(r)).filter((e=>t.indexOf(e)<0));for(let t=0,n=i.length;t<n;t+=1){const n=i[t],a=Object.getOwnPropertyDescriptor(r,n);void 0!==a&&a.enumerable&&($L(e[n])&&$L(r[n])?r[n].__swiper__?e[n]=r[n]:BL(e[n],r[n]):!$L(e[n])&&$L(r[n])?(e[n]={},r[n].__swiper__?e[n]=r[n]:BL(e[n],r[n])):e[n]=r[n])}}}var i;return e}function qL(e,t,i){e.style.setProperty(t,i)}function UL(e){let{swiper:t,targetPosition:i,side:n}=e;const r=RL(),a=-t.translate;let s,o=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=i>a?"next":"prev",d=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,u=()=>{s=(new Date).getTime(),null===o&&(o=s);const e=Math.max(Math.min((s-o)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let h=a+c*(i-a);if(d(h,i)&&(h=i),t.wrapperEl.scrollTo({[n]:h}),d(h,i))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:h})})),void r.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=r.requestAnimationFrame(u)};u()}function FL(e){return e.querySelector(".swiper-slide-transform")||e.shadowRoot&&e.shadowRoot.querySelector(".swiper-slide-transform")||e}function zL(e,t){return void 0===t&&(t=""),[...e.children].filter((e=>e.matches(t)))}function VL(e,t){void 0===t&&(t=[]);const i=document.createElement(e);return i.classList.add(...Array.isArray(t)?t:[t]),i}function HL(e,t){return RL().getComputedStyle(e,null).getPropertyValue(t)}function WL(e){let t,i=e;if(i){for(t=0;null!==(i=i.previousSibling);)1===i.nodeType&&(t+=1);return t}}function GL(e,t){const i=[];let n=e.parentElement;for(;n;)t?n.matches(t)&&i.push(n):i.push(n),n=n.parentElement;return i}function KL(e,t,i){const n=RL();return i?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}let QL,YL,XL;function JL(){return QL||(QL=function(){const e=RL(),t=PL();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),QL}function ZL(e){return void 0===e&&(e={}),YL||(YL=function(e){let{userAgent:t}=void 0===e?{}:e;const i=JL(),n=RL(),r=n.navigator.platform,a=t||n.navigator.userAgent,s={ios:!1,android:!1},o=n.screen.width,l=n.screen.height,c=a.match(/(Android);?[\s\/]+([\d.]+)?/);let d=a.match(/(iPad).*OS\s([\d_]+)/);const u=a.match(/(iPod)(.*OS\s([\d_]+))?/),h=!d&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===r;let m="MacIntel"===r;return!d&&m&&i.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${o}x${l}`)>=0&&(d=a.match(/(Version)\/([\d.]+)/),d||(d=[0,1,"13_0_0"]),m=!1),c&&!p&&(s.os="android",s.android=!0),(d||h||u)&&(s.os="ios",s.ios=!0),s}(e)),YL}function eD(){return XL||(XL=function(){const e=RL();let t=!1;function i(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(i()){const i=String(e.navigator.userAgent);if(i.includes("Version/")){const[e,n]=i.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));t=e<16||16===e&&n<2}}return{isSafari:t||i(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),XL}var tD={on(e,t,i){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;const r=i?"unshift":"push";return e.split(" ").forEach((e=>{n.eventsListeners[e]||(n.eventsListeners[e]=[]),n.eventsListeners[e][r](t)})),n},once(e,t,i){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!=typeof t)return n;function r(){n.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];t.apply(n,a)}return r.__emitterProxy=t,n.on(e,r,i)},onAny(e,t){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!=typeof e)return i;const n=t?"unshift":"push";return i.eventsAnyListeners.indexOf(e)<0&&i.eventsAnyListeners[n](e),i},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const i=t.eventsAnyListeners.indexOf(e);return i>=0&&t.eventsAnyListeners.splice(i,1),t},off(e,t){const i=this;return!i.eventsListeners||i.destroyed?i:i.eventsListeners?(e.split(" ").forEach((e=>{void 0===t?i.eventsListeners[e]=[]:i.eventsListeners[e]&&i.eventsListeners[e].forEach(((n,r)=>{(n===t||n.__emitterProxy&&n.__emitterProxy===t)&&i.eventsListeners[e].splice(r,1)}))})),i):i},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,i,n;for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];"string"==typeof a[0]||Array.isArray(a[0])?(t=a[0],i=a.slice(1,a.length),n=e):(t=a[0].events,i=a[0].data,n=a[0].context||e),i.unshift(n);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(n,[t,...i])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(n,i)}))})),e}};const iD=(e,t)=>{if(!e||e.destroyed||!e.params)return;const i=t.closest(e.isElement?"swiper-slide":`.${e.params.slideClass}`);if(i){let t=i.querySelector(`.${e.params.lazyPreloaderClass}`);!t&&e.isElement&&(i.shadowRoot?t=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`):requestAnimationFrame((()=>{i.shadowRoot&&(t=i.shadowRoot.querySelector(`.${e.params.lazyPreloaderClass}`),t&&t.remove())}))),t&&t.remove()}},nD=(e,t)=>{if(!e.slides[t])return;const i=e.slides[t].querySelector('[loading="lazy"]');i&&i.removeAttribute("loading")},rD=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const i=e.slides.length;if(!i||!t||t<0)return;t=Math.min(t,i);const n="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const i=r,a=[i-t];return a.push(...Array.from({length:t}).map(((e,t)=>i+n+t))),void e.slides.forEach(((t,i)=>{a.includes(t.column)&&nD(e,i)}))}const a=r+n-1;if(e.params.rewind||e.params.loop)for(let s=r-t;s<=a+t;s+=1){const t=(s%i+i)%i;(t<r||t>a)&&nD(e,t)}else for(let s=Math.max(r-t,0);s<=Math.min(a+t,i-1);s+=1)s!==r&&(s>a||s<r)&&nD(e,s)};var aD={updateSize:function(){const e=this;let t,i;const n=e.el;t=void 0!==e.params.width&&null!==e.params.width?e.params.width:n.clientWidth,i=void 0!==e.params.height&&null!==e.params.height?e.params.height:n.clientHeight,0===t&&e.isHorizontal()||0===i&&e.isVertical()||(t=t-parseInt(HL(n,"padding-left")||0,10)-parseInt(HL(n,"padding-right")||0,10),i=i-parseInt(HL(n,"padding-top")||0,10)-parseInt(HL(n,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(i)&&(i=0),Object.assign(e,{width:t,height:i,size:e.isHorizontal()?t:i}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function i(e,i){return parseFloat(e.getPropertyValue(t(i))||0)}const n=e.params,{wrapperEl:r,slidesEl:a,size:s,rtlTranslate:o,wrongRTL:l}=e,c=e.virtual&&n.virtual.enabled,d=c?e.virtual.slides.length:e.slides.length,u=zL(a,`.${e.params.slideClass}, swiper-slide`),h=c?e.virtual.slides.length:u.length;let p=[];const m=[],f=[];let g=n.slidesOffsetBefore;"function"==typeof g&&(g=n.slidesOffsetBefore.call(e));let y=n.slidesOffsetAfter;"function"==typeof y&&(y=n.slidesOffsetAfter.call(e));const b=e.snapGrid.length,v=e.slidesGrid.length;let w=n.spaceBetween,T=-g,x=0,E=0;if(void 0===s)return;"string"==typeof w&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*s:"string"==typeof w&&(w=parseFloat(w)),e.virtualSize=-w,u.forEach((e=>{o?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),n.centeredSlides&&n.cssMode&&(qL(r,"--swiper-centered-offset-before",""),qL(r,"--swiper-centered-offset-after",""));const _=n.grid&&n.grid.rows>1&&e.grid;let S;_&&e.grid.initSlides(h);const C="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>void 0!==n.breakpoints[e].slidesPerView)).length>0;for(let k=0;k<h;k+=1){let r;if(S=0,u[k]&&(r=u[k]),_&&e.grid.updateSlide(k,r,h,t),!u[k]||"none"!==HL(r,"display")){if("auto"===n.slidesPerView){C&&(u[k].style[t("width")]="");const a=getComputedStyle(r),s=r.style.transform,o=r.style.webkitTransform;if(s&&(r.style.transform="none"),o&&(r.style.webkitTransform="none"),n.roundLengths)S=e.isHorizontal()?KL(r,"width",!0):KL(r,"height",!0);else{const e=i(a,"width"),t=i(a,"padding-left"),n=i(a,"padding-right"),s=i(a,"margin-left"),o=i(a,"margin-right"),l=a.getPropertyValue("box-sizing");if(l&&"border-box"===l)S=e+s+o;else{const{clientWidth:i,offsetWidth:a}=r;S=e+t+n+s+o+(a-i)}}s&&(r.style.transform=s),o&&(r.style.webkitTransform=o),n.roundLengths&&(S=Math.floor(S))}else S=(s-(n.slidesPerView-1)*w)/n.slidesPerView,n.roundLengths&&(S=Math.floor(S)),u[k]&&(u[k].style[t("width")]=`${S}px`);u[k]&&(u[k].swiperSlideSize=S),f.push(S),n.centeredSlides?(T=T+S/2+x/2+w,0===x&&0!==k&&(T=T-s/2-w),0===k&&(T=T-s/2-w),Math.abs(T)<.001&&(T=0),n.roundLengths&&(T=Math.floor(T)),E%n.slidesPerGroup==0&&p.push(T),m.push(T)):(n.roundLengths&&(T=Math.floor(T)),(E-Math.min(e.params.slidesPerGroupSkip,E))%e.params.slidesPerGroup==0&&p.push(T),m.push(T),T=T+S+w),e.virtualSize+=S+w,x=S,E+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+y,o&&l&&("slide"===n.effect||"coverflow"===n.effect)&&(r.style.width=`${e.virtualSize+w}px`),n.setWrapperSize&&(r.style[t("width")]=`${e.virtualSize+w}px`),_&&e.grid.updateWrapperSize(S,p,t),!n.centeredSlides){const t=[];for(let i=0;i<p.length;i+=1){let r=p[i];n.roundLengths&&(r=Math.floor(r)),p[i]<=e.virtualSize-s&&t.push(r)}p=t,Math.floor(e.virtualSize-s)-Math.floor(p[p.length-1])>1&&p.push(e.virtualSize-s)}if(c&&n.loop){const t=f[0]+w;if(n.slidesPerGroup>1){const i=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),r=t*n.slidesPerGroup;for(let e=0;e<i;e+=1)p.push(p[p.length-1]+r)}for(let i=0;i<e.virtual.slidesBefore+e.virtual.slidesAfter;i+=1)1===n.slidesPerGroup&&p.push(p[p.length-1]+t),m.push(m[m.length-1]+t),e.virtualSize+=t}if(0===p.length&&(p=[0]),0!==w){const i=e.isHorizontal()&&o?"marginLeft":t("marginRight");u.filter(((e,t)=>!(n.cssMode&&!n.loop)||t!==u.length-1)).forEach((e=>{e.style[i]=`${w}px`}))}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;f.forEach((t=>{e+=t+(w||0)})),e-=w;const t=e-s;p=p.map((e=>e<=0?-g:e>t?t+y:e))}if(n.centerInsufficientSlides){let e=0;if(f.forEach((t=>{e+=t+(w||0)})),e-=w,e<s){const t=(s-e)/2;p.forEach(((e,i)=>{p[i]=e-t})),m.forEach(((e,i)=>{m[i]=e+t}))}}if(Object.assign(e,{slides:u,snapGrid:p,slidesGrid:m,slidesSizesGrid:f}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){qL(r,"--swiper-centered-offset-before",-p[0]+"px"),qL(r,"--swiper-centered-offset-after",e.size/2-f[f.length-1]/2+"px");const t=-e.snapGrid[0],i=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+i))}if(h!==d&&e.emit("slidesLengthChange"),p.length!==b&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),m.length!==v&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),!(c||n.cssMode||"slide"!==n.effect&&"fade"!==n.effect)){const t=`${n.containerModifierClass}backface-hidden`,i=e.el.classList.contains(t);h<=n.maxBackfaceHiddenSlides?i||e.el.classList.add(t):i&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,i=[],n=t.virtual&&t.params.virtual.enabled;let r,a=0;"number"==typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const s=e=>n?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{i.push(e)}));else for(r=0;r<Math.ceil(t.params.slidesPerView);r+=1){const e=t.activeIndex+r;if(e>t.slides.length&&!n)break;i.push(s(e))}else i.push(s(t.activeIndex));for(r=0;r<i.length;r+=1)if(void 0!==i[r]){const e=i[r].offsetHeight;a=e>a?e:a}(a||0===a)&&(t.wrapperEl.style.height=`${a}px`)},updateSlidesOffset:function(){const e=this,t=e.slides,i=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=(e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop)-i-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,i=t.params,{slides:n,rtlTranslate:r,snapGrid:a}=t;if(0===n.length)return;void 0===n[0].swiperSlideOffset&&t.updateSlidesOffset();let s=-e;r&&(s=e),n.forEach((e=>{e.classList.remove(i.slideVisibleClass)})),t.visibleSlidesIndexes=[],t.visibleSlides=[];let o=i.spaceBetween;"string"==typeof o&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*t.size:"string"==typeof o&&(o=parseFloat(o));for(let l=0;l<n.length;l+=1){const e=n[l];let c=e.swiperSlideOffset;i.cssMode&&i.centeredSlides&&(c-=n[0].swiperSlideOffset);const d=(s+(i.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),u=(s-a[0]+(i.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),h=-(s-c),p=h+t.slidesSizesGrid[l];(h>=0&&h<t.size-1||p>1&&p<=t.size||h<=0&&p>=t.size)&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l),n[l].classList.add(i.slideVisibleClass)),e.progress=r?-d:d,e.originalProgress=r?-u:u}},updateProgress:function(e){const t=this;if(void 0===e){const i=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*i||0}const i=t.params,n=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:a,isEnd:s,progressLoop:o}=t;const l=a,c=s;if(0===n)r=0,a=!0,s=!0;else{r=(e-t.minTranslate())/n;const i=Math.abs(e-t.minTranslate())<1,o=Math.abs(e-t.maxTranslate())<1;a=i||r<=0,s=o||r>=1,i&&(r=0),o&&(r=1)}if(i.loop){const i=t.getSlideIndexByData(0),n=t.getSlideIndexByData(t.slides.length-1),r=t.slidesGrid[i],a=t.slidesGrid[n],s=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);o=l>=r?(l-r)/s:(l+s-a)/s,o>1&&(o-=1)}Object.assign(t,{progress:r,progressLoop:o,isBeginning:a,isEnd:s}),(i.watchSlidesProgress||i.centeredSlides&&i.autoHeight)&&t.updateSlidesProgress(e),a&&!l&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(l&&!a||c&&!s)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function(){const e=this,{slides:t,params:i,slidesEl:n,activeIndex:r}=e,a=e.virtual&&i.virtual.enabled,s=e=>zL(n,`.${i.slideClass}${e}, swiper-slide${e}`)[0];let o;if(t.forEach((e=>{e.classList.remove(i.slideActiveClass,i.slideNextClass,i.slidePrevClass)})),a)if(i.loop){let t=r-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),o=s(`[data-swiper-slide-index="${t}"]`)}else o=s(`[data-swiper-slide-index="${r}"]`);else o=t[r];if(o){o.classList.add(i.slideActiveClass);let e=function(e,t){const i=[];for(;e.nextElementSibling;){const n=e.nextElementSibling;t?n.matches(t)&&i.push(n):i.push(n),e=n}return i}(o,`.${i.slideClass}, swiper-slide`)[0];i.loop&&!e&&(e=t[0]),e&&e.classList.add(i.slideNextClass);let n=function(e,t){const i=[];for(;e.previousElementSibling;){const n=e.previousElementSibling;t?n.matches(t)&&i.push(n):i.push(n),e=n}return i}(o,`.${i.slideClass}, swiper-slide`)[0];i.loop&&0===!n&&(n=t[t.length-1]),n&&n.classList.add(i.slidePrevClass)}e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,i=t.rtlTranslate?t.translate:-t.translate,{snapGrid:n,params:r,activeIndex:a,realIndex:s,snapIndex:o}=t;let l,c=e;const d=e=>{let i=e-t.virtual.slidesBefore;return i<0&&(i=t.virtual.slides.length+i),i>=t.virtual.slides.length&&(i-=t.virtual.slides.length),i};if(void 0===c&&(c=function(e){const{slidesGrid:t,params:i}=e,n=e.rtlTranslate?e.translate:-e.translate;let r;for(let a=0;a<t.length;a+=1)void 0!==t[a+1]?n>=t[a]&&n<t[a+1]-(t[a+1]-t[a])/2?r=a:n>=t[a]&&n<t[a+1]&&(r=a+1):n>=t[a]&&(r=a);return i.normalizeSlideIndex&&(r<0||void 0===r)&&(r=0),r}(t)),n.indexOf(i)>=0)l=n.indexOf(i);else{const e=Math.min(r.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/r.slidesPerGroup)}if(l>=n.length&&(l=n.length-1),c===a)return l!==o&&(t.snapIndex=l,t.emit("snapIndexChange")),void(t.params.loop&&t.virtual&&t.params.virtual.enabled&&(t.realIndex=d(c)));let u;u=t.virtual&&r.virtual.enabled&&r.loop?d(c):t.slides[c]?parseInt(t.slides[c].getAttribute("data-swiper-slide-index")||c,10):c,Object.assign(t,{previousSnapIndex:o,snapIndex:l,previousRealIndex:s,realIndex:u,previousIndex:a,activeIndex:c}),t.initialized&&rD(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(s!==u&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const i=this,n=i.params;let r=e.closest(`.${n.slideClass}, swiper-slide`);!r&&i.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!r&&e.matches&&e.matches(`.${n.slideClass}, swiper-slide`)&&(r=e)}));let a,s=!1;if(r)for(let o=0;o<i.slides.length;o+=1)if(i.slides[o]===r){s=!0,a=o;break}if(!r||!s)return i.clickedSlide=void 0,void(i.clickedIndex=void 0);i.clickedSlide=r,i.virtual&&i.params.virtual.enabled?i.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):i.clickedIndex=a,n.slideToClickedSlide&&void 0!==i.clickedIndex&&i.clickedIndex!==i.activeIndex&&i.slideToClickedSlide()}};var sD={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:i,translate:n,wrapperEl:r}=this;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;let a=jL(r,e);return a+=this.cssOverflowAdjustment(),i&&(a=-a),a||0},setTranslate:function(e,t){const i=this,{rtlTranslate:n,params:r,wrapperEl:a,progress:s}=i;let o,l=0,c=0;i.isHorizontal()?l=n?-e:e:c=e,r.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),i.previousTranslate=i.translate,i.translate=i.isHorizontal()?l:c,r.cssMode?a[i.isHorizontal()?"scrollLeft":"scrollTop"]=i.isHorizontal()?-l:-c:r.virtualTranslate||(i.isHorizontal()?l-=i.cssOverflowAdjustment():c-=i.cssOverflowAdjustment(),a.style.transform=`translate3d(${l}px, ${c}px, 0px)`);const d=i.maxTranslate()-i.minTranslate();o=0===d?0:(e-i.minTranslate())/d,o!==s&&i.updateProgress(e),i.emit("setTranslate",i.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,i,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),void 0===n&&(n=!0);const a=this,{params:s,wrapperEl:o}=a;if(a.animating&&s.preventInteractionOnTransition)return!1;const l=a.minTranslate(),c=a.maxTranslate();let d;if(d=n&&e>l?l:n&&e<c?c:e,a.updateProgress(d),s.cssMode){const e=a.isHorizontal();if(0===t)o[e?"scrollLeft":"scrollTop"]=-d;else{if(!a.support.smoothScroll)return UL({swiper:a,targetPosition:-d,side:e?"left":"top"}),!0;o.scrollTo({[e?"left":"top"]:-d,behavior:"smooth"})}return!0}return 0===t?(a.setTransition(0),a.setTranslate(d),i&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionEnd"))):(a.setTransition(t),a.setTranslate(d),i&&(a.emit("beforeTransitionStart",t,r),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,i&&a.emit("transitionEnd"))}),a.wrapperEl.addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd))),!0}};function oD(e){let{swiper:t,runCallbacks:i,direction:n,step:r}=e;const{activeIndex:a,previousIndex:s}=t;let o=n;if(o||(o=a>s?"next":a<s?"prev":"reset"),t.emit(`transition${r}`),i&&a!==s){if("reset"===o)return void t.emit(`slideResetTransition${r}`);t.emit(`slideChangeTransition${r}`),"next"===o?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}var lD={setTransition:function(e,t){const i=this;i.params.cssMode||(i.wrapperEl.style.transitionDuration=`${e}ms`,i.wrapperEl.style.transitionDelay=0===e?"0ms":""),i.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const i=this,{params:n}=i;n.cssMode||(n.autoHeight&&i.updateAutoHeight(),oD({swiper:i,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const i=this,{params:n}=i;i.animating=!1,n.cssMode||(i.setTransition(0),oD({swiper:i,runCallbacks:e,direction:t,step:"End"}))}};var cD={slideTo:function(e,t,i,n,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"string"==typeof e&&(e=parseInt(e,10));const a=this;let s=e;s<0&&(s=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:u,rtlTranslate:h,wrapperEl:p,enabled:m}=a;if(a.animating&&o.preventInteractionOnTransition||!m&&!n&&!r)return!1;const f=Math.min(a.params.slidesPerGroupSkip,s);let g=f+Math.floor((s-f)/a.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const y=-l[g];if(o.normalizeSlideIndex)for(let v=0;v<c.length;v+=1){const e=-Math.floor(100*y),t=Math.floor(100*c[v]),i=Math.floor(100*c[v+1]);void 0!==c[v+1]?e>=t&&e<i-(i-t)/2?s=v:e>=t&&e<i&&(s=v+1):e>=t&&(s=v)}if(a.initialized&&s!==u){if(!a.allowSlideNext&&(h?y>a.translate&&y>a.minTranslate():y<a.translate&&y<a.minTranslate()))return!1;if(!a.allowSlidePrev&&y>a.translate&&y>a.maxTranslate()&&(u||0)!==s)return!1}let b;if(s!==(d||0)&&i&&a.emit("beforeSlideChangeStart"),a.updateProgress(y),b=s>u?"next":s<u?"prev":"reset",h&&-y===a.translate||!h&&y===a.translate)return a.updateActiveIndex(s),o.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),"slide"!==o.effect&&a.setTranslate(y),"reset"!==b&&(a.transitionStart(i,b),a.transitionEnd(i,b)),!1;if(o.cssMode){const e=a.isHorizontal(),i=h?y:-y;if(0===t){const t=a.virtual&&a.params.virtual.enabled;t&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),t&&!a._cssModeVirtualInitialSet&&a.params.initialSlide>0?(a._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{p[e?"scrollLeft":"scrollTop"]=i}))):p[e?"scrollLeft":"scrollTop"]=i,t&&requestAnimationFrame((()=>{a.wrapperEl.style.scrollSnapType="",a._immediateVirtual=!1}))}else{if(!a.support.smoothScroll)return UL({swiper:a,targetPosition:i,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:i,behavior:"smooth"})}return!0}return a.setTransition(t),a.setTranslate(y),a.updateActiveIndex(s),a.updateSlidesClasses(),a.emit("beforeTransitionStart",t,n),a.transitionStart(i,b),0===t?a.transitionEnd(i,b):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(e){a&&!a.destroyed&&e.target===this&&(a.wrapperEl.removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(i,b))}),a.wrapperEl.addEventListener("transitionend",a.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,i,n){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===i&&(i=!0),"string"==typeof e){e=parseInt(e,10)}const r=this;let a=e;return r.params.loop&&(r.virtual&&r.params.virtual.enabled?a+=r.virtual.slidesBefore:a=r.getSlideIndexByData(a)),r.slideTo(a,t,i,n)},slideNext:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const n=this,{enabled:r,params:a,animating:s}=n;if(!r)return n;let o=a.slidesPerGroup;"auto"===a.slidesPerView&&1===a.slidesPerGroup&&a.slidesPerGroupAuto&&(o=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<a.slidesPerGroupSkip?1:o,c=n.virtual&&a.virtual.enabled;if(a.loop){if(s&&!c&&a.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&a.cssMode)return requestAnimationFrame((()=>{n.slideTo(n.activeIndex+l,e,t,i)})),!0}return a.rewind&&n.isEnd?n.slideTo(0,e,t,i):n.slideTo(n.activeIndex+l,e,t,i)},slidePrev:function(e,t,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const n=this,{params:r,snapGrid:a,slidesGrid:s,rtlTranslate:o,enabled:l,animating:c}=n;if(!l)return n;const d=n.virtual&&r.virtual.enabled;if(r.loop){if(c&&!d&&r.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}function u(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const h=u(o?n.translate:-n.translate),p=a.map((e=>u(e)));let m=a[p.indexOf(h)-1];if(void 0===m&&r.cssMode){let e;a.forEach(((t,i)=>{h>=t&&(e=i)})),void 0!==e&&(m=a[e>0?e-1:e])}let f=0;if(void 0!==m&&(f=s.indexOf(m),f<0&&(f=n.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(f=f-n.slidesPerViewDynamic("previous",!0)+1,f=Math.max(f,0))),r.rewind&&n.isBeginning){const r=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(r,e,t,i)}return r.loop&&0===n.activeIndex&&r.cssMode?(requestAnimationFrame((()=>{n.slideTo(f,e,t,i)})),!0):n.slideTo(f,e,t,i)},slideReset:function(e,t,i){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,i)},slideToClosest:function(e,t,i,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===n&&(n=.5);const r=this;let a=r.activeIndex;const s=Math.min(r.params.slidesPerGroupSkip,a),o=s+Math.floor((a-s)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[o]){const e=r.snapGrid[o];l-e>(r.snapGrid[o+1]-e)*n&&(a+=r.params.slidesPerGroup)}else{const e=r.snapGrid[o-1];l-e<=(r.snapGrid[o]-e)*n&&(a-=r.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,r.slidesGrid.length-1),r.slideTo(a,e,t,i)},slideToClickedSlide:function(){const e=this,{params:t,slidesEl:i}=e,n="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let r,a=e.clickedIndex;const s=e.isElement?"swiper-slide":`.${t.slideClass}`;if(t.loop){if(e.animating)return;r=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?a<e.loopedSlides-n/2||a>e.slides.length-e.loopedSlides+n/2?(e.loopFix(),a=e.getSlideIndex(zL(i,`${s}[data-swiper-slide-index="${r}"]`)[0]),LL((()=>{e.slideTo(a)}))):e.slideTo(a):a>e.slides.length-n?(e.loopFix(),a=e.getSlideIndex(zL(i,`${s}[data-swiper-slide-index="${r}"]`)[0]),LL((()=>{e.slideTo(a)}))):e.slideTo(a)}else e.slideTo(a)}};var dD={loopCreate:function(e){const t=this,{params:i,slidesEl:n}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;zL(n,`.${i.slideClass}, swiper-slide`).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)})),t.loopFix({slideRealIndex:e,direction:i.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:i=!0,direction:n,setTranslate:r,activeSlideIndex:a,byController:s,byMousewheel:o}=void 0===e?{}:e;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:d,allowSlideNext:u,slidesEl:h,params:p}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled)return i&&(p.centeredSlides||0!==l.snapIndex?p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=u,void l.emit("loopFix");const m="auto"===p.slidesPerView?l.slidesPerViewDynamic():Math.ceil(parseFloat(p.slidesPerView,10));let f=p.loopedSlides||m;f%p.slidesPerGroup!=0&&(f+=p.slidesPerGroup-f%p.slidesPerGroup),l.loopedSlides=f;const g=[],y=[];let b=l.activeIndex;void 0===a?a=l.getSlideIndex(l.slides.filter((e=>e.classList.contains(p.slideActiveClass)))[0]):b=a;const v="next"===n||!n,w="prev"===n||!n;let T=0,x=0;if(a<f){T=Math.max(f-a,p.slidesPerGroup);for(let e=0;e<f-a;e+=1){const t=e-Math.floor(e/c.length)*c.length;g.push(c.length-t-1)}}else if(a>l.slides.length-2*f){x=Math.max(a-(l.slides.length-2*f),p.slidesPerGroup);for(let e=0;e<x;e+=1){const t=e-Math.floor(e/c.length)*c.length;y.push(t)}}if(w&&g.forEach((e=>{l.slides[e].swiperLoopMoveDOM=!0,h.prepend(l.slides[e]),l.slides[e].swiperLoopMoveDOM=!1})),v&&y.forEach((e=>{l.slides[e].swiperLoopMoveDOM=!0,h.append(l.slides[e]),l.slides[e].swiperLoopMoveDOM=!1})),l.recalcSlides(),"auto"===p.slidesPerView&&l.updateSlides(),p.watchSlidesProgress&&l.updateSlidesOffset(),i)if(g.length>0&&w)if(void 0===t){const e=l.slidesGrid[b],t=l.slidesGrid[b+T]-e;o?l.setTranslate(l.translate-t):(l.slideTo(b+T,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=t,l.touchEventsData.currentTranslate=l.translate))}else r&&(l.slideToLoop(t,0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(y.length>0&&v)if(void 0===t){const e=l.slidesGrid[b],t=l.slidesGrid[b-x]-e;o?l.setTranslate(l.translate-t):(l.slideTo(b-x,0,!1,!0),r&&(l.touches[l.isHorizontal()?"startX":"startY"]+=t,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(t,0,!1,!0);if(l.allowSlidePrev=d,l.allowSlideNext=u,l.controller&&l.controller.control&&!s){const e={slideRealIndex:t,direction:n,setTranslate:r,activeSlideIndex:a,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===p.slidesPerView&&i})})):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...e,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView&&i})}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:i}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const n=[];e.slides.forEach((e=>{const t=void 0===e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;n[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),n.forEach((e=>{i.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};var uD={setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const i="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),i.style.cursor="move",i.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}};function hD(e){const t=this,i=PL(),n=RL(),r=t.touchEventsData;r.evCache.push(e);const{params:a,touches:s,enabled:o}=t;if(!o)return;if(!a.simulateTouch&&"mouse"===e.pointerType)return;if(t.animating&&a.preventInteractionOnTransition)return;!t.animating&&a.cssMode&&a.loop&&t.loopFix();let l=e;l.originalEvent&&(l=l.originalEvent);let c=l.target;if("wrapper"===a.touchEventsTarget&&!t.wrapperEl.contains(c))return;if("which"in l&&3===l.which)return;if("button"in l&&l.button>0)return;if(r.isTouched&&r.isMoved)return;const d=!!a.noSwipingClass&&""!==a.noSwipingClass,u=e.composedPath?e.composedPath():e.path;d&&l.target&&l.target.shadowRoot&&u&&(c=u[0]);const h=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,p=!(!l.target||!l.target.shadowRoot);if(a.noSwiping&&(p?function(e,t){return void 0===t&&(t=this),function t(i){if(!i||i===PL()||i===RL())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(e);return n||i.getRootNode?n||t(i.getRootNode().host):null}(t)}(h,c):c.closest(h)))return void(t.allowClick=!0);if(a.swipeHandler&&!c.closest(a.swipeHandler))return;s.currentX=l.pageX,s.currentY=l.pageY;const m=s.currentX,f=s.currentY,g=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,y=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(g&&(m<=y||m>=n.innerWidth-y)){if("prevent"!==g)return;e.preventDefault()}Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),s.startX=m,s.startY=f,r.touchStartTime=DL(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,a.threshold>0&&(r.allowThresholdMove=!1);let b=!0;c.matches(r.focusableElements)&&(b=!1,"SELECT"===c.nodeName&&(r.isTouched=!1)),i.activeElement&&i.activeElement.matches(r.focusableElements)&&i.activeElement!==c&&i.activeElement.blur();const v=b&&t.allowTouchMove&&a.touchStartPreventDefault;!a.touchStartForcePreventDefault&&!v||c.isContentEditable||l.preventDefault(),a.freeMode&&a.freeMode.enabled&&t.freeMode&&t.animating&&!a.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",l)}function pD(e){const t=PL(),i=this,n=i.touchEventsData,{params:r,touches:a,rtlTranslate:s,enabled:o}=i;if(!o)return;if(!r.simulateTouch&&"mouse"===e.pointerType)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched)return void(n.startMoving&&n.isScrolling&&i.emit("touchMoveOpposite",l));const c=n.evCache.findIndex((e=>e.pointerId===l.pointerId));c>=0&&(n.evCache[c]=l);const d=n.evCache.length>1?n.evCache[0]:l,u=d.pageX,h=d.pageY;if(l.preventedByNestedSwiper)return a.startX=u,void(a.startY=h);if(!i.allowTouchMove)return l.target.matches(n.focusableElements)||(i.allowClick=!1),void(n.isTouched&&(Object.assign(a,{startX:u,startY:h,prevX:i.touches.currentX,prevY:i.touches.currentY,currentX:u,currentY:h}),n.touchStartTime=DL()));if(r.touchReleaseOnEdges&&!r.loop)if(i.isVertical()){if(h<a.startY&&i.translate<=i.maxTranslate()||h>a.startY&&i.translate>=i.minTranslate())return n.isTouched=!1,void(n.isMoved=!1)}else if(u<a.startX&&i.translate<=i.maxTranslate()||u>a.startX&&i.translate>=i.minTranslate())return;if(t.activeElement&&l.target===t.activeElement&&l.target.matches(n.focusableElements))return n.isMoved=!0,void(i.allowClick=!1);if(n.allowTouchCallbacks&&i.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;a.currentX=u,a.currentY=h;const p=a.currentX-a.startX,m=a.currentY-a.startY;if(i.params.threshold&&Math.sqrt(p**2+m**2)<i.params.threshold)return;if(void 0===n.isScrolling){let e;i.isHorizontal()&&a.currentY===a.startY||i.isVertical()&&a.currentX===a.startX?n.isScrolling=!1:p*p+m*m>=25&&(e=180*Math.atan2(Math.abs(m),Math.abs(p))/Math.PI,n.isScrolling=i.isHorizontal()?e>r.touchAngle:90-e>r.touchAngle)}if(n.isScrolling&&i.emit("touchMoveOpposite",l),void 0===n.startMoving&&(a.currentX===a.startX&&a.currentY===a.startY||(n.startMoving=!0)),n.isScrolling||i.zoom&&i.params.zoom&&i.params.zoom.enabled&&n.evCache.length>1)return void(n.isTouched=!1);if(!n.startMoving)return;i.allowClick=!1,!r.cssMode&&l.cancelable&&l.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&l.stopPropagation();let f=i.isHorizontal()?p:m,g=i.isHorizontal()?a.currentX-a.previousX:a.currentY-a.previousY;r.oneWayMovement&&(f=Math.abs(f)*(s?1:-1),g=Math.abs(g)*(s?1:-1)),a.diff=f,f*=r.touchRatio,s&&(f=-f,g=-g);const y=i.touchesDirection;i.swipeDirection=f>0?"prev":"next",i.touchesDirection=g>0?"prev":"next";const b=i.params.loop&&!r.cssMode,v="next"===i.swipeDirection&&i.allowSlideNext||"prev"===i.swipeDirection&&i.allowSlidePrev;if(!n.isMoved){if(b&&v&&i.loopFix({direction:i.swipeDirection}),n.startTranslate=i.getTranslate(),i.setTransition(0),i.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});i.wrapperEl.dispatchEvent(e)}n.allowMomentumBounce=!1,!r.grabCursor||!0!==i.allowSlideNext&&!0!==i.allowSlidePrev||i.setGrabCursor(!0),i.emit("sliderFirstMove",l)}let w;n.isMoved&&y!==i.touchesDirection&&b&&v&&Math.abs(f)>=1&&(i.loopFix({direction:i.swipeDirection,setTranslate:!0}),w=!0),i.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=f+n.startTranslate;let T=!0,x=r.resistanceRatio;if(r.touchReleaseOnEdges&&(x=0),f>0?(b&&v&&!w&&n.currentTranslate>(r.centeredSlides?i.minTranslate()-i.size/2:i.minTranslate())&&i.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>i.minTranslate()&&(T=!1,r.resistance&&(n.currentTranslate=i.minTranslate()-1+(-i.minTranslate()+n.startTranslate+f)**x))):f<0&&(b&&v&&!w&&n.currentTranslate<(r.centeredSlides?i.maxTranslate()+i.size/2:i.maxTranslate())&&i.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:i.slides.length-("auto"===r.slidesPerView?i.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),n.currentTranslate<i.maxTranslate()&&(T=!1,r.resistance&&(n.currentTranslate=i.maxTranslate()+1-(i.maxTranslate()-n.startTranslate-f)**x))),T&&(l.preventedByNestedSwiper=!0),!i.allowSlideNext&&"next"===i.swipeDirection&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!i.allowSlidePrev&&"prev"===i.swipeDirection&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),i.allowSlidePrev||i.allowSlideNext||(n.currentTranslate=n.startTranslate),r.threshold>0){if(!(Math.abs(f)>r.threshold||n.allowThresholdMove))return void(n.currentTranslate=n.startTranslate);if(!n.allowThresholdMove)return n.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,n.currentTranslate=n.startTranslate,void(a.diff=i.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY)}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&i.freeMode||r.watchSlidesProgress)&&(i.updateActiveIndex(),i.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&i.freeMode&&i.freeMode.onTouchMove(),i.updateProgress(n.currentTranslate),i.setTranslate(n.currentTranslate))}function mD(e){const t=this,i=t.touchEventsData,n=i.evCache.findIndex((t=>t.pointerId===e.pointerId));if(n>=0&&i.evCache.splice(n,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(e.type)){if(!(["pointercancel","contextmenu"].includes(e.type)&&(t.browser.isSafari||t.browser.isWebView)))return}const{params:r,touches:a,rtlTranslate:s,slidesGrid:o,enabled:l}=t;if(!l)return;if(!r.simulateTouch&&"mouse"===e.pointerType)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),i.allowTouchCallbacks&&t.emit("touchEnd",c),i.allowTouchCallbacks=!1,!i.isTouched)return i.isMoved&&r.grabCursor&&t.setGrabCursor(!1),i.isMoved=!1,void(i.startMoving=!1);r.grabCursor&&i.isMoved&&i.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const d=DL(),u=d-i.touchStartTime;if(t.allowClick){const e=c.path||c.composedPath&&c.composedPath();t.updateClickedSlide(e&&e[0]||c.target,e),t.emit("tap click",c),u<300&&d-i.lastClickTime<300&&t.emit("doubleTap doubleClick",c)}if(i.lastClickTime=DL(),LL((()=>{t.destroyed||(t.allowClick=!0)})),!i.isTouched||!i.isMoved||!t.swipeDirection||0===a.diff||i.currentTranslate===i.startTranslate)return i.isTouched=!1,i.isMoved=!1,void(i.startMoving=!1);let h;if(i.isTouched=!1,i.isMoved=!1,i.startMoving=!1,h=r.followFinger?s?t.translate:-t.translate:-i.currentTranslate,r.cssMode)return;if(r.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:h});let p=0,m=t.slidesSizesGrid[0];for(let v=0;v<o.length;v+=v<r.slidesPerGroupSkip?1:r.slidesPerGroup){const e=v<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;void 0!==o[v+e]?h>=o[v]&&h<o[v+e]&&(p=v,m=o[v+e]-o[v]):h>=o[v]&&(p=v,m=o[o.length-1]-o[o.length-2])}let f=null,g=null;r.rewind&&(t.isBeginning?g=r.virtual&&r.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(f=0));const y=(h-o[p])/m,b=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(y>=r.longSwipesRatio?t.slideTo(r.rewind&&t.isEnd?f:p+b):t.slideTo(p)),"prev"===t.swipeDirection&&(y>1-r.longSwipesRatio?t.slideTo(p+b):null!==g&&y<0&&Math.abs(y)>r.longSwipesRatio?t.slideTo(g):t.slideTo(p))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(c.target===t.navigation.nextEl||c.target===t.navigation.prevEl)?c.target===t.navigation.nextEl?t.slideTo(p+b):t.slideTo(p):("next"===t.swipeDirection&&t.slideTo(null!==f?f:p+b),"prev"===t.swipeDirection&&t.slideTo(null!==g?g:p))}}function fD(){const e=this,{params:t,el:i}=e;if(i&&0===i.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:r,snapGrid:a}=e,s=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const o=s&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||o?e.params.loop&&!s?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=r,e.allowSlideNext=n,e.params.watchOverflow&&a!==e.snapGrid&&e.checkOverflow()}function gD(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function yD(){const e=this,{wrapperEl:t,rtlTranslate:i,enabled:n}=e;if(!n)return;let r;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const a=e.maxTranslate()-e.minTranslate();r=0===a?0:(e.translate-e.minTranslate())/a,r!==e.progress&&e.updateProgress(i?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function bD(e){const t=this;iD(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}let vD=!1;function wD(){}const TD=(e,t)=>{const i=PL(),{params:n,el:r,wrapperEl:a,device:s}=e,o=!!n.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;r[l]("pointerdown",e.onTouchStart,{passive:!1}),i[l]("pointermove",e.onTouchMove,{passive:!1,capture:o}),i[l]("pointerup",e.onTouchEnd,{passive:!0}),i[l]("pointercancel",e.onTouchEnd,{passive:!0}),i[l]("pointerout",e.onTouchEnd,{passive:!0}),i[l]("pointerleave",e.onTouchEnd,{passive:!0}),i[l]("contextmenu",e.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&r[l]("click",e.onClick,!0),n.cssMode&&a[l]("scroll",e.onScroll),n.updateOnWindowResize?e[c](s.ios||s.android?"resize orientationchange observerUpdate":"resize observerUpdate",fD,!0):e[c]("observerUpdate",fD,!0),r[l]("load",e.onLoad,{capture:!0})};var xD={attachEvents:function(){const e=this,t=PL(),{params:i}=e;e.onTouchStart=hD.bind(e),e.onTouchMove=pD.bind(e),e.onTouchEnd=mD.bind(e),i.cssMode&&(e.onScroll=yD.bind(e)),e.onClick=gD.bind(e),e.onLoad=bD.bind(e),vD||(t.addEventListener("touchstart",wD),vD=!0),TD(e,"on")},detachEvents:function(){TD(this,"off")}};const ED=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var _D={setBreakpoint:function(){const e=this,{realIndex:t,initialized:i,params:n,el:r}=e,a=n.breakpoints;if(!a||a&&0===Object.keys(a).length)return;const s=e.getBreakpoint(a,e.params.breakpointsBase,e.el);if(!s||e.currentBreakpoint===s)return;const o=(s in a?a[s]:void 0)||e.originalParams,l=ED(e,n),c=ED(e,o),d=n.enabled;l&&!c?(r.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),e.emitContainerClasses()):!l&&c&&(r.classList.add(`${n.containerModifierClass}grid`),(o.grid.fill&&"column"===o.grid.fill||!o.grid.fill&&"column"===n.grid.fill)&&r.classList.add(`${n.containerModifierClass}grid-column`),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{if(void 0===o[t])return;const i=n[t]&&n[t].enabled,r=o[t]&&o[t].enabled;i&&!r&&e[t].disable(),!i&&r&&e[t].enable()}));const u=o.direction&&o.direction!==n.direction,h=n.loop&&(o.slidesPerView!==n.slidesPerView||u),p=n.loop;u&&i&&e.changeDirection(),BL(e.params,o);const m=e.params.enabled,f=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),d&&!m?e.disable():!d&&m&&e.enable(),e.currentBreakpoint=s,e.emit("_beforeBreakpoint",o),i&&(h?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!p&&f?(e.loopCreate(t),e.updateSlides()):p&&!f&&e.loopDestroy()),e.emit("breakpoint",o)},getBreakpoint:function(e,t,i){if(void 0===t&&(t="window"),!e||"container"===t&&!i)return;let n=!1;const r=RL(),a="window"===t?r.innerHeight:i.clientHeight,s=Object.keys(e).map((e=>{if("string"==typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:a*t,point:e}}return{value:e,point:e}}));s.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let o=0;o<s.length;o+=1){const{point:e,value:a}=s[o];"window"===t?r.matchMedia(`(min-width: ${a}px)`).matches&&(n=e):a<=i.clientWidth&&(n=e)}return n||"max"}};var SD={addClasses:function(){const e=this,{classNames:t,params:i,rtl:n,el:r,device:a}=e,s=function(e,t){const i=[];return e.forEach((e=>{"object"==typeof e?Object.keys(e).forEach((n=>{e[n]&&i.push(t+n)})):"string"==typeof e&&i.push(t+e)})),i}(["initialized",i.direction,{"free-mode":e.params.freeMode&&i.freeMode.enabled},{autoheight:i.autoHeight},{rtl:n},{grid:i.grid&&i.grid.rows>1},{"grid-column":i.grid&&i.grid.rows>1&&"column"===i.grid.fill},{android:a.android},{ios:a.ios},{"css-mode":i.cssMode},{centered:i.cssMode&&i.centeredSlides},{"watch-progress":i.watchSlidesProgress}],i.containerModifierClass);t.push(...s),r.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e.classList.remove(...t),this.emitContainerClasses()}};var CD={checkOverflow:function(){const e=this,{isLocked:t,params:i}=e,{slidesOffsetBefore:n}=i;if(n){const t=e.slides.length-1,i=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*n;e.isLocked=e.size>i}else e.isLocked=1===e.snapGrid.length;!0===i.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===i.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},kD={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function AD(e,t){return function(i){void 0===i&&(i={});const n=Object.keys(i)[0],r=i[n];"object"==typeof r&&null!==r?(!0===e[n]&&(e[n]={enabled:!0}),"navigation"===n&&e[n]&&e[n].enabled&&!e[n].prevEl&&!e[n].nextEl&&(e[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&e[n]&&e[n].enabled&&!e[n].el&&(e[n].auto=!0),n in e&&"enabled"in r?("object"!=typeof e[n]||"enabled"in e[n]||(e[n].enabled=!0),e[n]||(e[n]={enabled:!1}),BL(t,i)):BL(t,i)):BL(t,i)}}const ND={eventsEmitter:tD,update:aD,translate:sD,transition:lD,slide:cD,loop:dD,grabCursor:uD,events:xD,breakpoints:_D,checkOverflow:CD,classes:SD},OD={};let MD=class e{constructor(){let t,i;for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?i=r[0]:[t,i]=r,i||(i={}),i=BL({},i),t&&!i.el&&(i.el=t);const s=PL();if(i.el&&"string"==typeof i.el&&s.querySelectorAll(i.el).length>1){const t=[];return s.querySelectorAll(i.el).forEach((n=>{const r=BL({},i,{el:n});t.push(new e(r))})),t}const o=this;o.__swiper__=!0,o.support=JL(),o.device=ZL({userAgent:i.userAgent}),o.browser=eD(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],i.modules&&Array.isArray(i.modules)&&o.modules.push(...i.modules);const l={};o.modules.forEach((e=>{e({params:i,swiper:o,extendParams:AD(i,l),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})}));const c=BL({},kD,l);return o.params=BL({},c,OD,i),o.originalParams=BL({},o.params),o.passedParams=BL({},i),o.params&&o.params.on&&Object.keys(o.params.on).forEach((e=>{o.on(e,o.params.on[e])})),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===o.params.direction,isVertical:()=>"vertical"===o.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getSlideIndex(e){const{slidesEl:t,params:i}=this,n=WL(zL(t,`.${i.slideClass}, swiper-slide`)[0]);return WL(e)-n}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0])}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=zL(e,`.${t.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),r=(i.maxTranslate()-n)*e+n;i.translateTo(r,void 0===t?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((i=>{const n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:i,slides:n,slidesGrid:r,slidesSizesGrid:a,size:s,activeIndex:o}=this;let l=1;if("number"==typeof i.slidesPerView)return i.slidesPerView;if(i.centeredSlides){let e,t=n[o]?n[o].swiperSlideSize:0;for(let i=o+1;i<n.length;i+=1)n[i]&&!e&&(t+=n[i].swiperSlideSize,l+=1,t>s&&(e=!0));for(let i=o-1;i>=0;i-=1)n[i]&&!e&&(t+=n[i].swiperSlideSize,l+=1,t>s&&(e=!0))}else if("current"===e)for(let c=o+1;c<n.length;c+=1){(t?r[c]+a[c]-r[o]<s:r[c]-r[o]<s)&&(l+=1)}else for(let c=o-1;c>=0;c-=1){r[o]-r[c]<s&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;function n(){const t=e.rtlTranslate?-1*e.translate:e.translate,i=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(i),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&iD(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),i.freeMode&&i.freeMode.enabled&&!i.cssMode)n(),i.autoHeight&&e.updateAutoHeight();else{if(("auto"===i.slidesPerView||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const t=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(t.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||n()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const i=this,n=i.params.direction;return e||(e="horizontal"===n?"vertical":"horizontal"),e===n||"horizontal"!==e&&"vertical"!==e||(i.el.classList.remove(`${i.params.containerModifierClass}${n}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if("string"==typeof i&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&"SWIPER-CONTAINER"===i.parentNode.host.nodeName&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let r=(()=>{if(i&&i.shadowRoot&&i.shadowRoot.querySelector){return i.shadowRoot.querySelector(n())}return zL(i,n())[0]})();return!r&&t.params.createElements&&(r=VL("div",t.params.wrapperClass),i.append(r),zL(i,`.${t.params.slideClass}`).forEach((e=>{r.append(e)}))),Object.assign(t,{el:i,wrapperEl:r,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:r,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:"rtl"===i.dir.toLowerCase()||"rtl"===HL(i,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===i.dir.toLowerCase()||"rtl"===HL(i,"direction")),wrongRTL:"-webkit-box"===HL(r,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const i=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&i.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach((e=>{e.complete?iD(t,e):e.addEventListener("load",(e=>{iD(t,e.target)}))})),rD(t),t.initialized=!0,rD(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const i=this,{params:n,el:r,wrapperEl:a,slides:s}=i;return void 0===i.params||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),r.removeAttribute("style"),a.removeAttribute("style"),s&&s.length&&s.forEach((e=>{e.classList.remove(n.slideVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),i.emit("destroy"),Object.keys(i.eventsListeners).forEach((e=>{i.off(e)})),!1!==e&&(i.el.swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(E_){}try{delete t[e]}catch(E_){}}))}(i)),i.destroyed=!0),null}static extendDefaults(e){BL(OD,e)}static get extendedDefaults(){return OD}static get defaults(){return kD}static installModule(t){e.prototype.__modules__||(e.prototype.__modules__=[]);const i=e.prototype.__modules__;"function"==typeof t&&i.indexOf(t)<0&&i.push(t)}static use(t){return Array.isArray(t)?(t.forEach((t=>e.installModule(t))),e):(e.installModule(t),e)}};Object.keys(ND).forEach((e=>{Object.keys(ND[e]).forEach((t=>{MD.prototype[t]=ND[e][t]}))})),MD.use([function(e){let{swiper:t,on:i,emit:n}=e;const r=RL();let a=null,s=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(n("beforeResize"),n("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&n("orientationchange")};i("init",(()=>{t.params.resizeObserver&&void 0!==r.ResizeObserver?t&&!t.destroyed&&t.initialized&&(a=new ResizeObserver((e=>{s=r.requestAnimationFrame((()=>{const{width:i,height:n}=t;let r=i,a=n;e.forEach((e=>{let{contentBoxSize:i,contentRect:n,target:s}=e;s&&s!==t.el||(r=n?n.width:(i[0]||i).inlineSize,a=n?n.height:(i[0]||i).blockSize)})),r===i&&a===n||o()}))})),a.observe(t.el)):(r.addEventListener("resize",o),r.addEventListener("orientationchange",l))})),i("destroy",(()=>{s&&r.cancelAnimationFrame(s),a&&a.unobserve&&t.el&&(a.unobserve(t.el),a=null),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",l)}))},function(e){let{swiper:t,extendParams:i,on:n,emit:r}=e;const a=[],s=RL(),o=function(e,i){void 0===i&&(i={});const n=new(s.MutationObserver||s.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void r("observerUpdate",e[0]);const i=function(){r("observerUpdate",e[0])};s.requestAnimationFrame?s.requestAnimationFrame(i):s.setTimeout(i,0)}));n.observe(e,{attributes:void 0===i.attributes||i.attributes,childList:void 0===i.childList||i.childList,characterData:void 0===i.characterData||i.characterData}),a.push(n)};i({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=GL(t.hostEl);for(let t=0;t<e.length;t+=1)o(e[t])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}})),n("destroy",(()=>{a.forEach((e=>{e.disconnect()})),a.splice(0,a.length)}))}]);const PD=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function ID(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function RD(e,t){const i=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>i.indexOf(e)<0)).forEach((i=>{void 0===e[i]?e[i]=t[i]:ID(t[i])&&ID(e[i])&&Object.keys(t[i]).length>0?t[i].__swiper__?e[i]=t[i]:RD(e[i],t[i]):e[i]=t[i]}))}function LD(e){return void 0===e&&(e={}),e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function DD(e){return void 0===e&&(e={}),e.pagination&&void 0===e.pagination.el}function jD(e){return void 0===e&&(e={}),e.scrollbar&&void 0===e.scrollbar.el}function $D(e){void 0===e&&(e="");const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e)),i=[];return t.forEach((e=>{i.indexOf(e)<0&&i.push(e)})),i.join(" ")}function BD(e){return void 0===e&&(e=""),e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}function qD(){return qD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},qD.apply(this,arguments)}function UD(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function FD(e){const t=[];return H.Children.toArray(e).forEach((e=>{UD(e)?t.push(e):e.props&&e.props.children&&FD(e.props.children).forEach((e=>t.push(e)))})),t}function zD(e){const t=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return H.Children.toArray(e).forEach((e=>{if(UD(e))t.push(e);else if(e.props&&e.props.slot&&i[e.props.slot])i[e.props.slot].push(e);else if(e.props&&e.props.children){const n=FD(e.props.children);n.length>0?n.forEach((e=>t.push(e))):i["container-end"].push(e)}else i["container-end"].push(e)})),{slides:t,slots:i}}function VD(e,t){return"undefined"==typeof window?V.useEffect(e,t):V.useLayoutEffect(e,t)}const HD=V.createContext(null),WD=V.createContext(null),GD=V.forwardRef((function(e,t){let{className:i,tag:n="div",wrapperTag:r="div",children:a,onSwiper:s,...o}=void 0===e?{}:e,l=!1;const[c,d]=V.useState("swiper"),[u,h]=V.useState(null),[p,m]=V.useState(!1),f=V.useRef(!1),g=V.useRef(null),y=V.useRef(null),b=V.useRef(null),v=V.useRef(null),w=V.useRef(null),T=V.useRef(null),x=V.useRef(null),E=V.useRef(null),{params:_,passedParams:S,rest:C,events:k}=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);const i={on:{}},n={},r={};RD(i,kD),i._emitClasses=!0,i.init=!1;const a={},s=PD.map((e=>e.replace(/_/,""))),o=Object.assign({},e);return Object.keys(o).forEach((o=>{void 0!==e[o]&&(s.indexOf(o)>=0?ID(e[o])?(i[o]={},r[o]={},RD(i[o],e[o]),RD(r[o],e[o])):(i[o]=e[o],r[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"==typeof e[o]?t?n[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:i.on[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:a[o]=e[o])})),["navigation","pagination","scrollbar"].forEach((e=>{!0===i[e]&&(i[e]={}),!1===i[e]&&delete i[e]})),{params:i,passedParams:r,rest:a,events:n}}(o),{slides:A,slots:N}=zD(a),O=()=>{m(!p)};Object.assign(_.on,{_containerClasses(e,t){d(t)}});const M=()=>{Object.assign(_.on,k),l=!0;const e={..._};if(delete e.wrapperClass,y.current=new MD(e),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=A;const e={cache:!1,slides:A,renderExternal:h,renderExternalUpdate:!1};RD(y.current.params.virtual,e),RD(y.current.originalParams.virtual,e)}};g.current||M(),y.current&&y.current.on("_beforeBreakpoint",O);return V.useEffect((()=>()=>{y.current&&y.current.off("_beforeBreakpoint",O)})),V.useEffect((()=>{!f.current&&y.current&&(y.current.emitSlidesClasses(),f.current=!0)})),VD((()=>{if(t&&(t.current=g.current),g.current)return y.current.destroyed&&M(),function(e,t){let{el:i,nextEl:n,prevEl:r,paginationEl:a,scrollbarEl:s,swiper:o}=e;LD(t)&&n&&r&&(o.params.navigation.nextEl=n,o.originalParams.navigation.nextEl=n,o.params.navigation.prevEl=r,o.originalParams.navigation.prevEl=r),DD(t)&&a&&(o.params.pagination.el=a,o.originalParams.pagination.el=a),jD(t)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(i)}({el:g.current,nextEl:w.current,prevEl:T.current,paginationEl:x.current,scrollbarEl:E.current,swiper:y.current},_),s&&s(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}}),[]),VD((()=>{!l&&k&&y.current&&Object.keys(k).forEach((e=>{y.current.on(e,k[e])}));const e=function(e,t,i,n,r){const a=[];if(!t)return a;const s=e=>{a.indexOf(e)<0&&a.push(e)};if(i&&n){const e=n.map(r),t=i.map(r);e.join("")!==t.join("")&&s("children"),n.length!==i.length&&s("children")}return PD.filter((e=>"_"===e[0])).map((e=>e.replace(/_/,""))).forEach((i=>{if(i in e&&i in t)if(ID(e[i])&&ID(t[i])){const n=Object.keys(e[i]),r=Object.keys(t[i]);n.length!==r.length?s(i):(n.forEach((n=>{e[i][n]!==t[i][n]&&s(i)})),r.forEach((n=>{e[i][n]!==t[i][n]&&s(i)})))}else e[i]!==t[i]&&s(i)})),a}(S,b.current,A,v.current,(e=>e.key));return b.current=S,v.current=A,e.length&&y.current&&!y.current.destroyed&&function(e){let{swiper:t,slides:i,passedParams:n,changedParams:r,nextEl:a,prevEl:s,scrollbarEl:o,paginationEl:l}=e;const c=r.filter((e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e)),{params:d,pagination:u,navigation:h,scrollbar:p,virtual:m,thumbs:f}=t;let g,y,b,v,w,T,x,E;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&d.thumbs&&!d.thumbs.swiper&&(g=!0),r.includes("controller")&&n.controller&&n.controller.control&&d.controller&&!d.controller.control&&(y=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(d.pagination||!1===d.pagination)&&u&&!u.el&&(b=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(d.scrollbar||!1===d.scrollbar)&&p&&!p.el&&(v=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||s)&&(n.navigation.nextEl||a)&&(d.navigation||!1===d.navigation)&&h&&!h.prevEl&&!h.nextEl&&(w=!0);const _=e=>{t[e]&&(t[e].destroy(),"navigation"===e?(t.isElement&&(t[e].prevEl.remove(),t[e].nextEl.remove()),d[e].prevEl=void 0,d[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(t.isElement&&t[e].el.remove(),d[e].el=void 0,t[e].el=void 0))};r.includes("loop")&&t.isElement&&(d.loop&&!n.loop?T=!0:!d.loop&&n.loop?x=!0:E=!0),c.forEach((e=>{if(ID(d[e])&&ID(n[e]))RD(d[e],n[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in n[e])||n[e].enabled||_(e);else{const t=n[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?d[e]=n[e]:!1===t&&_(e)}})),c.includes("controller")&&!y&&t.controller&&t.controller.control&&d.controller&&d.controller.control&&(t.controller.control=d.controller.control),r.includes("children")&&i&&m&&d.virtual.enabled&&(m.slides=i,m.update(!0)),r.includes("children")&&i&&d.loop&&(E=!0),g&&f.init()&&f.update(!0);y&&(t.controller.control=d.controller.control),b&&(!t.isElement||l&&"string"!=typeof l||(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(d.pagination.el=l),u.init(),u.render(),u.update()),v&&(!t.isElement||o&&"string"!=typeof o||(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(d.scrollbar.el=o),p.init(),p.updateSize(),p.setTranslate()),w&&(t.isElement&&(a&&"string"!=typeof a||(a=document.createElement("div"),a.classList.add("swiper-button-next"),a.innerHTML=t.hostEl.constructor.nextButtonSvg,a.part.add("button-next"),t.el.appendChild(a)),s&&"string"!=typeof s||(s=document.createElement("div"),s.classList.add("swiper-button-prev"),s.innerHTML=t.hostEl.constructor.prevButtonSvg,s.part.add("button-prev"),t.el.appendChild(s))),a&&(d.navigation.nextEl=a),s&&(d.navigation.prevEl=s),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),(T||E)&&t.loopDestroy(),(x||E)&&t.loopCreate(),t.update()}({swiper:y.current,slides:A,passedParams:S,changedParams:e,nextEl:w.current,prevEl:T.current,scrollbarEl:E.current,paginationEl:x.current}),()=>{k&&y.current&&Object.keys(k).forEach((e=>{y.current.off(e,k[e])}))}})),VD((()=>{(e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())})(y.current)}),[u]),H.createElement(n,qD({ref:g,className:$D(`${c}${i?` ${i}`:""}`)},C),H.createElement(WD.Provider,{value:y.current},N["container-start"],H.createElement(r,{className:BD(_.wrapperClass)},N["wrapper-start"],_.virtual?function(e,t,i){if(!i)return null;const n=e=>{let i=e;return e<0?i=t.length+e:i>=t.length&&(i-=t.length),i},r=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${i.offset}px`}:{top:`${i.offset}px`},{from:a,to:s}=i,o=e.params.loop?-t.length:0,l=e.params.loop?2*t.length:t.length,c=[];for(let d=o;d<l;d+=1)d>=a&&d<=s&&c.push(t[n(d)]);return c.map(((t,i)=>H.cloneElement(t,{swiper:e,style:r,key:`slide-${i}`})))}(y.current,A,u):A.map(((e,t)=>H.cloneElement(e,{swiper:y.current,swiperSlideIndex:t}))),N["wrapper-end"]),LD(_)&&H.createElement(H.Fragment,null,H.createElement("div",{ref:T,className:"swiper-button-prev"}),H.createElement("div",{ref:w,className:"swiper-button-next"})),jD(_)&&H.createElement("div",{ref:E,className:"swiper-scrollbar"}),DD(_)&&H.createElement("div",{ref:x,className:"swiper-pagination"}),N["container-end"]))}));GD.displayName="Swiper";const KD=V.forwardRef((function(e,t){let{tag:i="div",children:n,className:r="",swiper:a,zoom:s,lazy:o,virtualIndex:l,swiperSlideIndex:c,...d}=void 0===e?{}:e;const u=V.useRef(null),[h,p]=V.useState("swiper-slide"),[m,f]=V.useState(!1);function g(e,t,i){t===u.current&&p(i)}VD((()=>{if(void 0!==c&&(u.current.swiperSlideIndex=c),t&&(t.current=u.current),u.current&&a){if(!a.destroyed)return a.on("_slideClass",g),()=>{a&&a.off("_slideClass",g)};"swiper-slide"!==h&&p("swiper-slide")}})),VD((()=>{a&&u.current&&!a.destroyed&&p(a.getSlideClasses(u.current))}),[a]);const y={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},b=()=>"function"==typeof n?n(y):n;return H.createElement(i,qD({ref:u,className:$D(`${h}${r?` ${r}`:""}`),"data-swiper-slide-index":l,onLoad:()=>{f(!0)}},d),s&&H.createElement(HD.Provider,{value:y},H.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"==typeof s?s:void 0},b(),o&&!m&&H.createElement("div",{className:"swiper-lazy-preloader"}))),!s&&H.createElement(HD.Provider,{value:y},b(),o&&!m&&H.createElement("div",{className:"swiper-lazy-preloader"})))}));function QD(e,t,i,n){return e.params.createElements&&Object.keys(n).forEach((r=>{if(!i[r]&&!0===i.auto){let a=zL(e.el,`.${n[r]}`)[0];a||(a=VL("div",n[r]),a.className=n[r],e.el.append(a)),i[r]=a,t[r]=a}})),i}function YD(e){let{swiper:t,extendParams:i,on:n,emit:r}=e;i({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,prevEl:null};const a=e=>(Array.isArray(e)?e:[e]).filter((e=>!!e));function s(e){let i;return e&&"string"==typeof e&&t.isElement&&(i=t.el.querySelector(e),i)?i:(e&&("string"==typeof e&&(i=[...document.querySelectorAll(e)]),t.params.uniqueNavElements&&"string"==typeof e&&i.length>1&&1===t.el.querySelectorAll(e).length&&(i=t.el.querySelector(e))),e&&!i?e:i)}function o(e,i){const n=t.params.navigation;(e=a(e)).forEach((e=>{e&&(e.classList[i?"add":"remove"](...n.disabledClass.split(" ")),"BUTTON"===e.tagName&&(e.disabled=i),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](n.lockClass))}))}function l(){const{nextEl:e,prevEl:i}=t.navigation;if(t.params.loop)return o(i,!1),void o(e,!1);o(i,t.isBeginning&&!t.params.rewind),o(e,t.isEnd&&!t.params.rewind)}function c(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function d(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const e=t.params.navigation;if(t.params.navigation=QD(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;let i=s(e.nextEl),n=s(e.prevEl);Object.assign(t.navigation,{nextEl:i,prevEl:n}),i=a(i),n=a(n);const r=(i,n)=>{i&&i.addEventListener("click","next"===n?d:c),!t.enabled&&i&&i.classList.add(...e.lockClass.split(" "))};i.forEach((e=>r(e,"next"))),n.forEach((e=>r(e,"prev")))}function h(){let{nextEl:e,prevEl:i}=t.navigation;e=a(e),i=a(i);const n=(e,i)=>{e.removeEventListener("click","next"===i?d:c),e.classList.remove(...t.params.navigation.disabledClass.split(" "))};e.forEach((e=>n(e,"next"))),i.forEach((e=>n(e,"prev")))}n("init",(()=>{!1===t.params.navigation.enabled?p():(u(),l())})),n("toEdge fromEdge lock unlock",(()=>{l()})),n("destroy",(()=>{h()})),n("enable disable",(()=>{let{nextEl:e,prevEl:i}=t.navigation;e=a(e),i=a(i),t.enabled?l():[...e,...i].filter((e=>!!e)).forEach((e=>e.classList.add(t.params.navigation.lockClass)))})),n("click",((e,i)=>{let{nextEl:n,prevEl:s}=t.navigation;n=a(n),s=a(s);const o=i.target;if(t.params.navigation.hideOnClick&&!s.includes(o)&&!n.includes(o)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===o||t.pagination.el.contains(o)))return;let e;n.length?e=n[0].classList.contains(t.params.navigation.hiddenClass):s.length&&(e=s[0].classList.contains(t.params.navigation.hiddenClass)),r(!0===e?"navigationShow":"navigationHide"),[...n,...s].filter((e=>!!e)).forEach((e=>e.classList.toggle(t.params.navigation.hiddenClass)))}}));const p=()=>{t.el.classList.add(...t.params.navigation.navigationDisabledClass.split(" ")),h()};Object.assign(t.navigation,{enable:()=>{t.el.classList.remove(...t.params.navigation.navigationDisabledClass.split(" ")),u(),l()},disable:p,update:l,init:u,destroy:h})}function XD(e){return void 0===e&&(e=""),`.${e.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function JD(e){let{swiper:t,extendParams:i,on:n,emit:r}=e;const a="swiper-pagination";let s;i({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${a}-bullet`,bulletActiveClass:`${a}-bullet-active`,modifierClass:`${a}-`,currentClass:`${a}-current`,totalClass:`${a}-total`,hiddenClass:`${a}-hidden`,progressbarFillClass:`${a}-progressbar-fill`,progressbarOppositeClass:`${a}-progressbar-opposite`,clickableClass:`${a}-clickable`,lockClass:`${a}-lock`,horizontalClass:`${a}-horizontal`,verticalClass:`${a}-vertical`,paginationDisabledClass:`${a}-disabled`}}),t.pagination={el:null,bullets:[]};let o=0;const l=e=>(Array.isArray(e)?e:[e]).filter((e=>!!e));function c(){return!t.params.pagination.el||!t.pagination.el||Array.isArray(t.pagination.el)&&0===t.pagination.el.length}function d(e,i){const{bulletActiveClass:n}=t.params.pagination;e&&(e=e[("prev"===i?"previous":"next")+"ElementSibling"])&&(e.classList.add(`${n}-${i}`),(e=e[("prev"===i?"previous":"next")+"ElementSibling"])&&e.classList.add(`${n}-${i}-${i}`))}function u(e){const i=e.target.closest(XD(t.params.pagination.bulletClass));if(!i)return;e.preventDefault();const n=WL(i)*t.params.slidesPerGroup;if(t.params.loop){if(t.realIndex===n)return;const e=t.realIndex,i=t.getSlideIndexByData(n),r=t.getSlideIndexByData(t.realIndex),a=n=>{const r=t.activeIndex;t.loopFix({direction:n,activeSlideIndex:i,slideTo:!1});r===t.activeIndex&&t.slideToLoop(e,0,!1,!0)};if(i>t.slides.length-t.loopedSlides)a(i>r?"next":"prev");else if(t.params.centeredSlides){const e="auto"===t.params.slidesPerView?t.slidesPerViewDynamic():Math.ceil(parseFloat(t.params.slidesPerView,10));i<Math.floor(e/2)&&a("prev")}t.slideToLoop(n)}else t.slideTo(n)}function h(){const e=t.rtl,i=t.params.pagination;if(c())return;let n,a,u=t.pagination.el;u=l(u);const h=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,p=t.params.loop?Math.ceil(h/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(a=t.previousRealIndex||0,n=t.params.slidesPerGroup>1?Math.floor(t.realIndex/t.params.slidesPerGroup):t.realIndex):void 0!==t.snapIndex?(n=t.snapIndex,a=t.previousSnapIndex):(a=t.previousIndex||0,n=t.activeIndex||0),"bullets"===i.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const r=t.pagination.bullets;let l,c,h;if(i.dynamicBullets&&(s=KL(r[0],t.isHorizontal()?"width":"height",!0),u.forEach((e=>{e.style[t.isHorizontal()?"width":"height"]=s*(i.dynamicMainBullets+4)+"px"})),i.dynamicMainBullets>1&&void 0!==a&&(o+=n-(a||0),o>i.dynamicMainBullets-1?o=i.dynamicMainBullets-1:o<0&&(o=0)),l=Math.max(n-o,0),c=l+(Math.min(r.length,i.dynamicMainBullets)-1),h=(c+l)/2),r.forEach((e=>{const t=[...["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${i.bulletActiveClass}${e}`))].map((e=>"string"==typeof e&&e.includes(" ")?e.split(" "):e)).flat();e.classList.remove(...t)})),u.length>1)r.forEach((e=>{const r=WL(e);r===n?e.classList.add(...i.bulletActiveClass.split(" ")):t.isElement&&e.setAttribute("part","bullet"),i.dynamicBullets&&(r>=l&&r<=c&&e.classList.add(...`${i.bulletActiveClass}-main`.split(" ")),r===l&&d(e,"prev"),r===c&&d(e,"next"))}));else{const e=r[n];if(e&&e.classList.add(...i.bulletActiveClass.split(" ")),t.isElement&&r.forEach(((e,t)=>{e.setAttribute("part",t===n?"bullet-active":"bullet")})),i.dynamicBullets){const e=r[l],t=r[c];for(let n=l;n<=c;n+=1)r[n]&&r[n].classList.add(...`${i.bulletActiveClass}-main`.split(" "));d(e,"prev"),d(t,"next")}}if(i.dynamicBullets){const n=Math.min(r.length,i.dynamicMainBullets+4),a=(s*n-s)/2-h*s,o=e?"right":"left";r.forEach((e=>{e.style[t.isHorizontal()?o:"top"]=`${a}px`}))}}u.forEach(((e,a)=>{if("fraction"===i.type&&(e.querySelectorAll(XD(i.currentClass)).forEach((e=>{e.textContent=i.formatFractionCurrent(n+1)})),e.querySelectorAll(XD(i.totalClass)).forEach((e=>{e.textContent=i.formatFractionTotal(p)}))),"progressbar"===i.type){let r;r=i.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const a=(n+1)/p;let s=1,o=1;"horizontal"===r?s=a:o=a,e.querySelectorAll(XD(i.progressbarFillClass)).forEach((e=>{e.style.transform=`translate3d(0,0,0) scaleX(${s}) scaleY(${o})`,e.style.transitionDuration=`${t.params.speed}ms`}))}"custom"===i.type&&i.renderCustom?(e.innerHTML=i.renderCustom(t,n+1,p),0===a&&r("paginationRender",e)):(0===a&&r("paginationRender",e),r("paginationUpdate",e)),t.params.watchOverflow&&t.enabled&&e.classList[t.isLocked?"add":"remove"](i.lockClass)}))}function p(){const e=t.params.pagination;if(c())return;const i=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length;let n=t.pagination.el;n=l(n);let a="";if("bullets"===e.type){let n=t.params.loop?Math.ceil(i/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&n>i&&(n=i);for(let i=0;i<n;i+=1)e.renderBullet?a+=e.renderBullet.call(t,i,e.bulletClass):a+=`<${e.bulletElement} ${t.isElement?'part="bullet"':""} class="${e.bulletClass}"></${e.bulletElement}>`}"fraction"===e.type&&(a=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`),"progressbar"===e.type&&(a=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`),t.pagination.bullets=[],n.forEach((i=>{"custom"!==e.type&&(i.innerHTML=a||""),"bullets"===e.type&&t.pagination.bullets.push(...i.querySelectorAll(XD(e.bulletClass)))})),"custom"!==e.type&&r("paginationRender",n[0])}function m(){t.params.pagination=QD(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let i;"string"==typeof e.el&&t.isElement&&(i=t.el.querySelector(e.el)),i||"string"!=typeof e.el||(i=[...document.querySelectorAll(e.el)]),i||(i=e.el),i&&0!==i.length&&(t.params.uniqueNavElements&&"string"==typeof e.el&&Array.isArray(i)&&i.length>1&&(i=[...t.el.querySelectorAll(e.el)],i.length>1&&(i=i.filter((e=>GL(e,".swiper")[0]===t.el))[0])),Array.isArray(i)&&1===i.length&&(i=i[0]),Object.assign(t.pagination,{el:i}),i=l(i),i.forEach((i=>{"bullets"===e.type&&e.clickable&&i.classList.add(...(e.clickableClass||"").split(" ")),i.classList.add(e.modifierClass+e.type),i.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass),"bullets"===e.type&&e.dynamicBullets&&(i.classList.add(`${e.modifierClass}${e.type}-dynamic`),o=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&i.classList.add(e.progressbarOppositeClass),e.clickable&&i.addEventListener("click",u),t.enabled||i.classList.add(e.lockClass)})))}function f(){const e=t.params.pagination;if(c())return;let i=t.pagination.el;i&&(i=l(i),i.forEach((i=>{i.classList.remove(e.hiddenClass),i.classList.remove(e.modifierClass+e.type),i.classList.remove(t.isHorizontal()?e.horizontalClass:e.verticalClass),e.clickable&&(i.classList.remove(...(e.clickableClass||"").split(" ")),i.removeEventListener("click",u))}))),t.pagination.bullets&&t.pagination.bullets.forEach((t=>t.classList.remove(...e.bulletActiveClass.split(" "))))}n("changeDirection",(()=>{if(!t.pagination||!t.pagination.el)return;const e=t.params.pagination;let{el:i}=t.pagination;i=l(i),i.forEach((i=>{i.classList.remove(e.horizontalClass,e.verticalClass),i.classList.add(t.isHorizontal()?e.horizontalClass:e.verticalClass)}))})),n("init",(()=>{!1===t.params.pagination.enabled?g():(m(),p(),h())})),n("activeIndexChange",(()=>{void 0===t.snapIndex&&h()})),n("snapIndexChange",(()=>{h()})),n("snapGridLengthChange",(()=>{p(),h()})),n("destroy",(()=>{f()})),n("enable disable",(()=>{let{el:e}=t.pagination;e&&(e=l(e),e.forEach((e=>e.classList[t.enabled?"remove":"add"](t.params.pagination.lockClass))))})),n("lock unlock",(()=>{h()})),n("click",((e,i)=>{const n=i.target,a=l(t.pagination.el);if(t.params.pagination.el&&t.params.pagination.hideOnClick&&a&&a.length>0&&!n.classList.contains(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&n===t.navigation.nextEl||t.navigation.prevEl&&n===t.navigation.prevEl))return;const e=a[0].classList.contains(t.params.pagination.hiddenClass);r(!0===e?"paginationShow":"paginationHide"),a.forEach((e=>e.classList.toggle(t.params.pagination.hiddenClass)))}}));const g=()=>{t.el.classList.add(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=l(e),e.forEach((e=>e.classList.add(t.params.pagination.paginationDisabledClass)))),f()};Object.assign(t.pagination,{enable:()=>{t.el.classList.remove(t.params.pagination.paginationDisabledClass);let{el:e}=t.pagination;e&&(e=l(e),e.forEach((e=>e.classList.remove(t.params.pagination.paginationDisabledClass)))),m(),p(),h()},disable:g,render:p,update:h,init:m,destroy:f})}function ZD(e){const{effect:t,swiper:i,on:n,setTranslate:r,setTransition:a,overwriteParams:s,perspective:o,recreateShadows:l,getEffectParams:c}=e;let d;n("beforeInit",(()=>{if(i.params.effect!==t)return;i.classNames.push(`${i.params.containerModifierClass}${t}`),o&&o()&&i.classNames.push(`${i.params.containerModifierClass}3d`);const e=s?s():{};Object.assign(i.params,e),Object.assign(i.originalParams,e)})),n("setTranslate",(()=>{i.params.effect===t&&r()})),n("setTransition",((e,n)=>{i.params.effect===t&&a(n)})),n("transitionEnd",(()=>{if(i.params.effect===t&&l){if(!c||!c().slideShadows)return;i.slides.forEach((e=>{e.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((e=>e.remove()))})),l()}})),n("virtualUpdate",(()=>{i.params.effect===t&&(i.slides.length||(d=!0),requestAnimationFrame((()=>{d&&i.slides&&i.slides.length&&(r(),d=!1)})))}))}function ej(e,t){const i=FL(t);return i!==t&&(i.style.backfaceVisibility="hidden",i.style["-webkit-backface-visibility"]="hidden"),i}function tj(e){let{swiper:t,duration:i,transformElements:n,allSlides:r}=e;const{activeIndex:a}=t;if(t.params.virtualTranslate&&0!==i){let e,i=!1;e=r?n:n.filter((e=>{const i=e.classList.contains("swiper-slide-transform")?(e=>{if(!e.parentElement)return t.slides.filter((t=>t.shadowRoot&&t.shadowRoot===e.parentNode))[0];return e.parentElement})(e):e;return t.getSlideIndex(i)===a})),e.forEach((e=>{!function(e,t){t&&e.addEventListener("transitionend",(function i(n){n.target===e&&(t.call(e,n),e.removeEventListener("transitionend",i))}))}(e,(()=>{if(i)return;if(!t||t.destroyed)return;i=!0,t.animating=!1;const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});t.wrapperEl.dispatchEvent(e)}))}))}}function ij(e){let{swiper:t,extendParams:i,on:n}=e;i({fadeEffect:{crossFade:!1}});ZD({effect:"fade",swiper:t,on:n,setTranslate:()=>{const{slides:e}=t;t.params.fadeEffect;for(let i=0;i<e.length;i+=1){const e=t.slides[i];let n=-e.swiperSlideOffset;t.params.virtualTranslate||(n-=t.translate);let r=0;t.isHorizontal()||(r=n,n=0);const a=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(e.progress),0):1+Math.min(Math.max(e.progress,-1),0),s=ej(0,e);s.style.opacity=a,s.style.transform=`translate3d(${n}px, ${r}px, 0px)`}},setTransition:e=>{const i=t.slides.map((e=>FL(e)));i.forEach((t=>{t.style.transitionDuration=`${e}ms`})),tj({swiper:t,duration:e,transformElements:i,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function nj(e){let{swiper:t,extendParams:i,on:n}=e;i({cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}});const r=(e,t,i)=>{let n=i?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),r=i?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");n||(n=VL("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(i?"left":"top")).split(" ")),e.append(n)),r||(r=VL("div",("swiper-slide-shadow-cube swiper-slide-shadow-"+(i?"right":"bottom")).split(" ")),e.append(r)),n&&(n.style.opacity=Math.max(-t,0)),r&&(r.style.opacity=Math.max(t,0))};ZD({effect:"cube",swiper:t,on:n,setTranslate:()=>{const{el:e,wrapperEl:i,slides:n,width:a,height:s,rtlTranslate:o,size:l,browser:c}=t,d=t.params.cubeEffect,u=t.isHorizontal(),h=t.virtual&&t.params.virtual.enabled;let p,m=0;d.shadow&&(u?(p=t.wrapperEl.querySelector(".swiper-cube-shadow"),p||(p=VL("div","swiper-cube-shadow"),t.wrapperEl.append(p)),p.style.height=`${a}px`):(p=e.querySelector(".swiper-cube-shadow"),p||(p=VL("div","swiper-cube-shadow"),e.append(p))));for(let t=0;t<n.length;t+=1){const e=n[t];let i=t;h&&(i=parseInt(e.getAttribute("data-swiper-slide-index"),10));let a=90*i,s=Math.floor(a/360);o&&(a=-a,s=Math.floor(-a/360));const c=Math.max(Math.min(e.progress,1),-1);let p=0,f=0,g=0;i%4==0?(p=4*-s*l,g=0):(i-1)%4==0?(p=0,g=4*-s*l):(i-2)%4==0?(p=l+4*s*l,g=l):(i-3)%4==0&&(p=-l,g=3*l+4*l*s),o&&(p=-p),u||(f=p,p=0);const y=`rotateX(${u?0:-a}deg) rotateY(${u?a:0}deg) translate3d(${p}px, ${f}px, ${g}px)`;c<=1&&c>-1&&(m=90*i+90*c,o&&(m=90*-i-90*c)),e.style.transform=y,d.slideShadows&&r(e,c,u)}if(i.style.transformOrigin=`50% 50% -${l/2}px`,i.style["-webkit-transform-origin"]=`50% 50% -${l/2}px`,d.shadow)if(u)p.style.transform=`translate3d(0px, ${a/2+d.shadowOffset}px, ${-a/2}px) rotateX(90deg) rotateZ(0deg) scale(${d.shadowScale})`;else{const e=Math.abs(m)-90*Math.floor(Math.abs(m)/90),t=1.5-(Math.sin(2*e*Math.PI/360)/2+Math.cos(2*e*Math.PI/360)/2),i=d.shadowScale,n=d.shadowScale/t,r=d.shadowOffset;p.style.transform=`scale3d(${i}, 1, ${n}) translate3d(0px, ${s/2+r}px, ${-s/2/n}px) rotateX(-90deg)`}const f=(c.isSafari||c.isWebView)&&c.needPerspectiveFix?-l/2:0;i.style.transform=`translate3d(0px,0,${f}px) rotateX(${t.isHorizontal()?0:m}deg) rotateY(${t.isHorizontal()?-m:0}deg)`,i.style.setProperty("--swiper-cube-translate-z",`${f}px`)},setTransition:e=>{const{el:i,slides:n}=t;if(n.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),t.params.cubeEffect.shadow&&!t.isHorizontal()){const t=i.querySelector(".swiper-cube-shadow");t&&(t.style.transitionDuration=`${e}ms`)}},recreateShadows:()=>{const e=t.isHorizontal();t.slides.forEach((t=>{const i=Math.max(Math.min(t.progress,1),-1);r(t,i,e)}))},getEffectParams:()=>t.params.cubeEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0})})}function rj(e,t,i){const n=`swiper-slide-shadow${i?`-${i}`:""}${e?` swiper-slide-shadow-${e}`:""}`,r=FL(t);let a=r.querySelector(`.${n.split(" ").join(".")}`);return a||(a=VL("div",n.split(" ")),r.append(a)),a}function aj(e){let{swiper:t,extendParams:i,on:n}=e;i({flipEffect:{slideShadows:!0,limitRotation:!0}});const r=(e,i)=>{let n=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-left"):e.querySelector(".swiper-slide-shadow-top"),r=t.isHorizontal()?e.querySelector(".swiper-slide-shadow-right"):e.querySelector(".swiper-slide-shadow-bottom");n||(n=rj("flip",e,t.isHorizontal()?"left":"top")),r||(r=rj("flip",e,t.isHorizontal()?"right":"bottom")),n&&(n.style.opacity=Math.max(-i,0)),r&&(r.style.opacity=Math.max(i,0))};ZD({effect:"flip",swiper:t,on:n,setTranslate:()=>{const{slides:e,rtlTranslate:i}=t,n=t.params.flipEffect;for(let a=0;a<e.length;a+=1){const s=e[a];let o=s.progress;t.params.flipEffect.limitRotation&&(o=Math.max(Math.min(s.progress,1),-1));const l=s.swiperSlideOffset;let c=-180*o,d=0,u=t.params.cssMode?-l-t.translate:-l,h=0;t.isHorizontal()?i&&(c=-c):(h=u,u=0,d=-c,c=0),s.style.zIndex=-Math.abs(Math.round(o))+e.length,n.slideShadows&&r(s,o);const p=`translate3d(${u}px, ${h}px, 0px) rotateX(${d}deg) rotateY(${c}deg)`;ej(0,s).style.transform=p}},setTransition:e=>{const i=t.slides.map((e=>FL(e)));i.forEach((t=>{t.style.transitionDuration=`${e}ms`,t.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach((t=>{t.style.transitionDuration=`${e}ms`}))})),tj({swiper:t,duration:e,transformElements:i})},recreateShadows:()=>{t.params.flipEffect,t.slides.forEach((e=>{let i=e.progress;t.params.flipEffect.limitRotation&&(i=Math.max(Math.min(e.progress,1),-1)),r(e,i)}))},getEffectParams:()=>t.params.flipEffect,perspective:()=>!0,overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}KD.displayName="SwiperSlide";const sj=()=>{const e=V.useContext(WD);return ee.jsx("div",{className:"test",children:ee.jsxs("div",{className:"swiper__container",children:[ee.jsx("button",{className:"swiper__btn_left",onClick:()=>{e.slidePrev()},children:ee.jsx(ZE,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M321.94 98L158.82 237.78a24 24 0 000 36.44L321.94 414c15.57 13.34 39.62 2.28 39.62-18.22v-279.6c0-20.5-24.05-31.56-39.62-18.18z'/></svg>",className:"swiper__icon_left"})}),ee.jsx("button",{className:"swiper__btn_right",onClick:()=>{e.slideNext()},children:ee.jsx(ZE,{icon:"data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M190.06 414l163.12-139.78a24 24 0 000-36.44L190.06 98c-15.57-13.34-39.62-2.28-39.62 18.22v279.6c0 20.5 24.05 31.56 39.62 18.18z'/></svg>",size:"large",className:"swiper__icon_right"})})]})})};var oj="undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{};const lj=a(oj);var cj,dj=void 0!==r?r:"undefined"!=typeof window?window:{},uj=eM;"undefined"!=typeof document?cj=document:(cj=dj["__GLOBAL_DOCUMENT_CACHE@4"])||(cj=dj["__GLOBAL_DOCUMENT_CACHE@4"]=uj);var hj=cj;const pj=a(hj);var mj={exports:{}};!function(e,t){function i(e){if(e&&"object"==typeof e){var t=e.which||e.keyCode||e.charCode;t&&(e=t)}if("number"==typeof e)return s[e];var i,a=String(e);return(i=n[a.toLowerCase()])?i:(i=r[a.toLowerCase()])||(1===a.length?a.charCodeAt(0):void 0)}i.isEventKey=function(e,t){if(e&&"object"==typeof e){var i=e.which||e.keyCode||e.charCode;if(null==i)return!1;if("string"==typeof t){var a;if(a=n[t.toLowerCase()])return a===i;if(a=r[t.toLowerCase()])return a===i}else if("number"==typeof t)return t===i;return!1}};var n=(t=e.exports=i).code=t.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},r=t.aliases={windows:91,"":16,"":18,"":17,"":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
            	 * Programatically add the following
            	 */
for(a=97;a<123;a++)n[String.fromCharCode(a)]=a-32;for(var a=48;a<58;a++)n[a-48]=a;for(a=1;a<13;a++)n["f"+a]=a+111;for(a=0;a<10;a++)n["numpad "+a]=a+96;var s=t.names=t.title={};for(a in n)s[n[a]]=a;for(var o in r)n[o]=r[o]}(mj,mj.exports);const fj=a(mj.exports);const gj=a((function(e,t){var i,n=null;try{i=JSON.parse(e,t)}catch(r){n=r}return[n,i]}));var yj={exports:{}};const bj=s(vu);var vj=function(e){if(!e)return!1;var t=wj.call(e);return"[object Function]"===t||"function"==typeof e&&"[object RegExp]"!==t||"undefined"!=typeof window&&(e===window.setTimeout||e===window.alert||e===window.confirm||e===window.prompt)},wj=Object.prototype.toString;var Tj=oj;var xj=function(e,t){return void 0===t&&(t=!1),function(i,n,r){if(i)e(i);else if(n.statusCode>=400&&n.statusCode<=599){var a=r;if(t)if(Tj.TextDecoder){var s=function(e){void 0===e&&(e="");return e.toLowerCase().split(";").reduce((function(e,t){var i=t.split("="),n=i[0],r=i[1];return"charset"===n.trim()?r.trim():e}),"utf-8")}(n.headers&&n.headers["content-type"]);try{a=new TextDecoder(s).decode(r)}catch(E_){}}else a=String.fromCharCode.apply(null,new Uint8Array(r));e({cause:a})}else e(null,r)}},Ej=oj,_j=bj,Sj=vj;Aj.httpHandler=xj;
/**
             * @license
             * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
             * Copyright (c) 2014 David Bjrklund
             * Available under the MIT license
             * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
             */
var Cj=function(e){var t={};return e?(e.trim().split("\n").forEach((function(e){var i=e.indexOf(":"),n=e.slice(0,i).trim().toLowerCase(),r=e.slice(i+1).trim();void 0===t[n]?t[n]=r:Array.isArray(t[n])?t[n].push(r):t[n]=[t[n],r]})),t):t};function kj(e,t,i){var n=e;return Sj(t)?(i=t,"string"==typeof e&&(n={uri:e})):n=_j({},t,{uri:e}),n.callback=i,n}function Aj(e,t,i){return Nj(t=kj(e,t,i))}function Nj(e){if(void 0===e.callback)throw new Error("callback argument missing");var t=!1,i=function(i,n,r){t||(t=!0,e.callback(i,n,r))};function n(){var e=void 0;if(e=l.response?l.response:l.responseText||function(e){try{if("document"===e.responseType)return e.responseXML;var t=e.responseXML&&"parsererror"===e.responseXML.documentElement.nodeName;if(""===e.responseType&&!t)return e.responseXML}catch(E_){}return null}(l),f)try{e=JSON.parse(e)}catch(E_){}return e}function r(e){return clearTimeout(c),e instanceof Error||(e=new Error(""+(e||"Unknown XMLHttpRequest Error"))),e.statusCode=0,i(e,g)}function a(){if(!o){var t;clearTimeout(c),t=e.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var r=g,a=null;return 0!==t?(r={body:n(),statusCode:t,method:u,headers:{},url:d,rawRequest:l},l.getAllResponseHeaders&&(r.headers=Cj(l.getAllResponseHeaders()))):a=new Error("Internal XMLHttpRequest Error"),i(a,r,r.body)}}var s,o,l=e.xhr||null;l||(l=e.cors||e.useXDR?new Aj.XDomainRequest:new Aj.XMLHttpRequest);var c,d=l.url=e.uri||e.url,u=l.method=e.method||"GET",h=e.body||e.data,p=l.headers=e.headers||{},m=!!e.sync,f=!1,g={body:void 0,headers:{},statusCode:0,method:u,url:d,rawRequest:l};if("json"in e&&!1!==e.json&&(f=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==u&&"HEAD"!==u&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),h=JSON.stringify(!0===e.json?h:e.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(a,0)},l.onload=a,l.onerror=r,l.onprogress=function(){},l.onabort=function(){o=!0},l.ontimeout=r,l.open(u,d,!m,e.username,e.password),m||(l.withCredentials=!!e.withCredentials),!m&&e.timeout>0&&(c=setTimeout((function(){if(!o){o=!0,l.abort("timeout");var e=new Error("XMLHttpRequest timeout");e.code="ETIMEDOUT",r(e)}}),e.timeout)),l.setRequestHeader)for(s in p)p.hasOwnProperty(s)&&l.setRequestHeader(s,p[s]);else if(e.headers&&!function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}(e.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in e&&(l.responseType=e.responseType),"beforeSend"in e&&"function"==typeof e.beforeSend&&e.beforeSend(l),l.send(h||null),l}yj.exports=Aj,yj.exports.default=Aj,Aj.XMLHttpRequest=Ej.XMLHttpRequest||function(){},Aj.XDomainRequest="withCredentials"in new Aj.XMLHttpRequest?Aj.XMLHttpRequest:Ej.XDomainRequest,function(e,t){for(var i=0;i<e.length;i++)t(e[i])}(["get","put","post","patch","head","delete"],(function(e){Aj["delete"===e?"del":e]=function(t,i,n){return(i=kj(t,i,n)).method=e.toUpperCase(),Nj(i)}}));const Oj=a(yj.exports);var Mj={exports:{}},Pj=hj,Ij=Object.create||function(){function e(){}return function(t){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return e.prototype=t,new e}}();function Rj(e,t){this.name="ParsingError",this.code=e.code,this.message=t||e.message}function Lj(e){function t(e,t,i,n){return 3600*(0|e)+60*(0|t)+(0|i)+(0|n)/1e3}var i=e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?t(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?t(i[1],i[2],0,i[4]):t(0,i[1],i[2],i[4]):null}function Dj(){this.values=Ij(null)}function jj(e,t,i,n){var r=n?e.split(n):[e];for(var a in r)if("string"==typeof r[a]){var s=r[a].split(i);if(2===s.length)t(s[0].trim(),s[1].trim())}}function $j(e,t,i){var n=e;function r(){var t=Lj(e);if(null===t)throw new Rj(Rj.Errors.BadTimeStamp,"Malformed timestamp: "+n);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function a(){e=e.replace(/^\s+/,"")}if(a(),t.startTime=r(),a(),"--\x3e"!==e.substr(0,3))throw new Rj(Rj.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);e=e.substr(3),a(),t.endTime=r(),a(),function(e,t){var n=new Dj;jj(e,(function(e,t){switch(e){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===t){n.set(e,i[r].region);break}break;case"vertical":n.alt(e,t,["rl","lr"]);break;case"line":var a=t.split(","),s=a[0];n.integer(e,s),n.percent(e,s)&&n.set("snapToLines",!1),n.alt(e,s,["auto"]),2===a.length&&n.alt("lineAlign",a[1],["start","center","end"]);break;case"position":a=t.split(","),n.percent(e,a[0]),2===a.length&&n.alt("positionAlign",a[1],["start","center","end"]);break;case"size":n.percent(e,t);break;case"align":n.alt(e,t,["start","center","end","left","right"])}}),/:/,/\s/),t.region=n.get("region",null),t.vertical=n.get("vertical","");try{t.line=n.get("line","auto")}catch(E_){}t.lineAlign=n.get("lineAlign","start"),t.snapToLines=n.get("snapToLines",!0),t.size=n.get("size",100);try{t.align=n.get("align","center")}catch(E_){t.align=n.get("align","middle")}try{t.position=n.get("position","auto")}catch(E_){t.position=n.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},t.align)}t.positionAlign=n.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},t.align)}(e,t)}Rj.prototype=Ij(Error.prototype),Rj.prototype.constructor=Rj,Rj.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Dj.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,i){return i?this.has(e)?this.values[e]:t[i]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,i){for(var n=0;n<i.length;++n)if(t===i[n]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var Bj=Pj.createElement&&Pj.createElement("textarea"),qj={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Uj={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},Fj={v:"title",lang:"lang"},zj={rt:"ruby"};function Vj(e,t){function i(){if(!t)return null;var e,i=t.match(/^([^<]*)(<[^>]*>?)?/);return e=i[1]?i[1]:i[2],t=t.substr(e.length),e}function n(e){return Bj.innerHTML=e,e=Bj.textContent,Bj.textContent="",e}function r(e,t){return!zj[t.localName]||zj[t.localName]===e.localName}function a(t,i){var n=qj[t];if(!n)return null;var r=e.document.createElement(n),a=Fj[t];return a&&i&&(r[a]=i.trim()),r}for(var s,o=e.document.createElement("div"),l=o,c=[];null!==(s=i());)if("<"!==s[0])l.appendChild(e.document.createTextNode(n(s)));else{if("/"===s[1]){c.length&&c[c.length-1]===s.substr(2).replace(">","")&&(c.pop(),l=l.parentNode);continue}var d,u=Lj(s.substr(1,s.length-2));if(u){d=e.document.createProcessingInstruction("timestamp",u),l.appendChild(d);continue}var h=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h)continue;if(!(d=a(h[1],h[3])))continue;if(!r(l,d))continue;if(h[2]){var p=h[2].split(".");p.forEach((function(e){var t=/^bg_/.test(e),i=t?e.slice(3):e;if(Uj.hasOwnProperty(i)){var n=t?"background-color":"color",r=Uj[i];d.style[n]=r}})),d.className=p.join(" ")}c.push(h[1]),l.appendChild(d),l=d}return o}var Hj=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Wj(e){for(var t=0;t<Hj.length;t++){var i=Hj[t];if(e>=i[0]&&e<=i[1])return!0}return!1}function Gj(e){var t=[],i="";if(!e||!e.childNodes)return"ltr";function n(e,t){for(var i=t.childNodes.length-1;i>=0;i--)e.push(t.childNodes[i])}function r(e){if(!e||!e.length)return null;var t=e.pop(),i=t.textContent||t.innerText;if(i){var a=i.match(/^.*(\n|\r)/);return a?(e.length=0,a[0]):i}return"ruby"===t.tagName?r(e):t.childNodes?(n(e,t),r(e)):void 0}for(n(t,e);i=r(t);)for(var a=0;a<i.length;a++)if(Wj(i.charCodeAt(a)))return"rtl";return"ltr"}function Kj(){}function Qj(e,t,i){Kj.call(this),this.cue=t,this.cueDiv=Vj(e,t.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=e.document.createElement("div"),n={direction:Gj(this.cueDiv),writingMode:""===t.vertical?"horizontal-tb":"lr"===t.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===t.align?"center":t.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var r=0;switch(t.positionAlign){case"start":case"line-left":r=t.position;break;case"center":r=t.position-t.size/2;break;case"end":case"line-right":r=t.position-t.size}""===t.vertical?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(t.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(t.size,"%")}),this.move=function(e){this.applyStyles({top:this.formatStyle(e.top,"px"),bottom:this.formatStyle(e.bottom,"px"),left:this.formatStyle(e.left,"px"),right:this.formatStyle(e.right,"px"),height:this.formatStyle(e.height,"px"),width:this.formatStyle(e.width,"px")})}}function Yj(e){var t,i,n,r;if(e.div){i=e.div.offsetHeight,n=e.div.offsetWidth,r=e.div.offsetTop;var a=(a=e.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();e=e.div.getBoundingClientRect(),t=a?Math.max(a[0]&&a[0].height||0,e.height/a.length):0}this.left=e.left,this.right=e.right,this.top=e.top||r,this.height=e.height||i,this.bottom=e.bottom||r+(e.height||i),this.width=e.width||n,this.lineHeight=void 0!==t?t:e.lineHeight}function Xj(e,t,i,n){var r=new Yj(t),a=t.cue,s=function(e){if("number"==typeof e.line&&(e.snapToLines||e.line>=0&&e.line<=100))return e.line;if(!e.track||!e.track.textTrackList||!e.track.textTrackList.mediaElement)return-1;for(var t=e.track,i=t.textTrackList,n=0,r=0;r<i.length&&i[r]!==t;r++)"showing"===i[r].mode&&n++;return-1*++n}(a),o=[];if(a.snapToLines){var l;switch(a.vertical){case"":o=["+y","-y"],l="height";break;case"rl":o=["+x","-x"],l="width";break;case"lr":o=["-x","+x"],l="width"}var c=r.lineHeight,d=c*Math.round(s),u=i[l]+c,h=o[0];Math.abs(d)>u&&(d=d<0?-1:1,d*=Math.ceil(u/c)*c),s<0&&(d+=""===a.vertical?i.height:i.width,o=o.reverse()),r.move(h,d)}else{var p=r.lineHeight/i.height*100;switch(a.lineAlign){case"center":s-=p/2;break;case"end":s-=p}switch(a.vertical){case"":t.applyStyles({top:t.formatStyle(s,"%")});break;case"rl":t.applyStyles({left:t.formatStyle(s,"%")});break;case"lr":t.applyStyles({right:t.formatStyle(s,"%")})}o=["+y","-x","+x","-y"],r=new Yj(t)}var m=function(e,t){for(var r,a=new Yj(e),s=1,o=0;o<t.length;o++){for(;e.overlapsOppositeAxis(i,t[o])||e.within(i)&&e.overlapsAny(n);)e.move(t[o]);if(e.within(i))return e;var l=e.intersectPercentage(i);s>l&&(r=new Yj(e),s=l),e=new Yj(a)}return r||a}(r,o);t.move(m.toCSSCompatValues(i))}function Jj(){}Kj.prototype.applyStyles=function(e,t){for(var i in t=t||this.div,e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},Kj.prototype.formatStyle=function(e,t){return 0===e?0:e+t},Qj.prototype=Ij(Kj.prototype),Qj.prototype.constructor=Qj,Yj.prototype.move=function(e,t){switch(t=void 0!==t?t:this.lineHeight,e){case"+x":this.left+=t,this.right+=t;break;case"-x":this.left-=t,this.right-=t;break;case"+y":this.top+=t,this.bottom+=t;break;case"-y":this.top-=t,this.bottom-=t}},Yj.prototype.overlaps=function(e){return this.left<e.right&&this.right>e.left&&this.top<e.bottom&&this.bottom>e.top},Yj.prototype.overlapsAny=function(e){for(var t=0;t<e.length;t++)if(this.overlaps(e[t]))return!0;return!1},Yj.prototype.within=function(e){return this.top>=e.top&&this.bottom<=e.bottom&&this.left>=e.left&&this.right<=e.right},Yj.prototype.overlapsOppositeAxis=function(e,t){switch(t){case"+x":return this.left<e.left;case"-x":return this.right>e.right;case"+y":return this.top<e.top;case"-y":return this.bottom>e.bottom}},Yj.prototype.intersectPercentage=function(e){return Math.max(0,Math.min(this.right,e.right)-Math.max(this.left,e.left))*Math.max(0,Math.min(this.bottom,e.bottom)-Math.max(this.top,e.top))/(this.height*this.width)},Yj.prototype.toCSSCompatValues=function(e){return{top:this.top-e.top,bottom:e.bottom-this.bottom,left:this.left-e.left,right:e.right-this.right,height:this.height,width:this.width}},Yj.getSimpleBoxPosition=function(e){var t=e.div?e.div.offsetHeight:e.tagName?e.offsetHeight:0,i=e.div?e.div.offsetWidth:e.tagName?e.offsetWidth:0,n=e.div?e.div.offsetTop:e.tagName?e.offsetTop:0;return{left:(e=e.div?e.div.getBoundingClientRect():e.tagName?e.getBoundingClientRect():e).left,right:e.right,top:e.top||n,height:e.height||t,bottom:e.bottom||n+(e.height||t),width:e.width||i}},Jj.StringDecoder=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}},Jj.convertCueToDOMTree=function(e,t){return e&&t?Vj(e,t):null};Jj.processCues=function(e,t,i){if(!e||!t||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=e.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",i.appendChild(n),function(e){for(var t=0;t<e.length;t++)if(e[t].hasBeenReset||!e[t].displayState)return!0;return!1}(t)){var r=[],a=Yj.getSimpleBoxPosition(n),s={font:Math.round(.05*a.height*100)/100+"px sans-serif"};!function(){for(var i,o,l=0;l<t.length;l++)o=t[l],i=new Qj(e,o,s),n.appendChild(i.div),Xj(0,i,a,r),o.displayState=i.div,r.push(Yj.getSimpleBoxPosition(i))}()}else for(var o=0;o<t.length;o++)n.appendChild(t[o].displayState)},Jj.Parser=function(e,t,i){i||(i=t,t={}),t||(t={}),this.window=e,this.vttjs=t,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},Jj.Parser.prototype={reportOrThrowError:function(e){if(!(e instanceof Rj))throw e;this.onparsingerror&&this.onparsingerror(e)},parse:function(e){var t=this;function i(){for(var e=t.buffer,i=0;i<e.length&&"\r"!==e[i]&&"\n"!==e[i];)++i;var n=e.substr(0,i);return"\r"===e[i]&&++i,"\n"===e[i]&&++i,t.buffer=e.substr(i),n}function n(e){e.match(/X-TIMESTAMP-MAP/)?jj(e,(function(e,i){if("X-TIMESTAMP-MAP"===e)!function(e){var i=new Dj;jj(e,(function(e,t){switch(e){case"MPEGT":i.integer(e+"S",t);break;case"LOCA":i.set(e+"L",Lj(t))}}),/[^\d]:/,/,/),t.ontimestampmap&&t.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}(i)}),/=/):jj(e,(function(e,i){if("Region"===e)!function(e){var i=new Dj;if(jj(e,(function(e,t){switch(e){case"id":i.set(e,t);break;case"width":i.percent(e,t);break;case"lines":i.integer(e,t);break;case"regionanchor":case"viewportanchor":var n=t.split(",");if(2!==n.length)break;var r=new Dj;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;i.set(e+"X",r.get("x")),i.set(e+"Y",r.get("y"));break;case"scroll":i.alt(e,t,["up"])}}),/=/,/\s/),i.has("id")){var n=new(t.vttjs.VTTRegion||t.window.VTTRegion);n.width=i.get("width",100),n.lines=i.get("lines",3),n.regionAnchorX=i.get("regionanchorX",0),n.regionAnchorY=i.get("regionanchorY",100),n.viewportAnchorX=i.get("viewportanchorX",0),n.viewportAnchorY=i.get("viewportanchorY",100),n.scroll=i.get("scroll",""),t.onregion&&t.onregion(n),t.regionList.push({id:i.get("id"),region:n})}}(i)}),/:/)}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var r;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var a=(r=i()).match(/^WEBVTT([ \t].*)?$/);if(!a||!a[0])throw new Rj(Rj.Errors.BadSignature);t.state="HEADER"}for(var s=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(s?s=!1:r=i(),t.state){case"HEADER":/:/.test(r)?n(r):r||(t.state="ID");continue;case"NOTE":r||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){t.state="NOTE";break}if(!r)continue;t.cue=new(t.vttjs.VTTCue||t.window.VTTCue)(0,0,"");try{t.cue.align="center"}catch(E_){t.cue.align="middle"}if(t.state="CUE",-1===r.indexOf("--\x3e")){t.cue.id=r;continue}case"CUE":try{$j(r,t.cue,t.regionList)}catch(E_){t.reportOrThrowError(E_),t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var o=-1!==r.indexOf("--\x3e");if(!r||o&&(s=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=r.replace(/\u2028/g,"\n").replace(/u2029/g,"\n");continue;case"BADCUE":r||(t.state="ID");continue}}}catch(E_){t.reportOrThrowError(E_),"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var e=this;try{if(e.buffer+=e.decoder.decode(),(e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state)throw new Rj(Rj.Errors.BadSignature)}catch(E_){e.reportOrThrowError(E_)}return e.onflush&&e.onflush(),this}};var Zj=Jj,e$={"":1,lr:1,rl:1},t$={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function i$(e){return"string"==typeof e&&(!!t$[e.toLowerCase()]&&e.toLowerCase())}function n$(e,t,i){this.hasBeenReset=!1;var n="",r=!1,a=e,s=t,o=i,l=null,c="",d=!0,u="auto",h="start",p="auto",m="auto",f=100,g="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(e){n=""+e}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(e){r=!!e}},startTime:{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");a=e,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");s=e,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(e){o=""+e,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(e){l=e,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(e){var t=function(e){return"string"==typeof e&&!!e$[e.toLowerCase()]&&e.toLowerCase()}(e);if(!1===t)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=t,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return d},set:function(e){d=!!e,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");u=e,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(e){var t=i$(e);t?(h=t,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");p=e,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(e){var t=i$(e);t?(m=t,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return f},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");f=e,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(e){var t=i$(e);if(!t)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");g=t,this.hasBeenReset=!0}}}),this.displayState=void 0}n$.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var r$=n$,a$={"":!0,up:!0};function s$(e){return"number"==typeof e&&e>=0&&e<=100}var o$=function(){var e=100,t=3,i=0,n=100,r=0,a=100,s="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return e},set:function(t){if(!s$(t))throw new Error("Width must be between 0 and 100.");e=t}},lines:{enumerable:!0,get:function(){return t},set:function(e){if("number"!=typeof e)throw new TypeError("Lines must be set to a number.");t=e}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(e){if(!s$(e))throw new Error("RegionAnchorX must be between 0 and 100.");n=e}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(e){if(!s$(e))throw new Error("RegionAnchorY must be between 0 and 100.");i=e}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(e){if(!s$(e))throw new Error("ViewportAnchorY must be between 0 and 100.");a=e}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(e){if(!s$(e))throw new Error("ViewportAnchorX must be between 0 and 100.");r=e}},scroll:{enumerable:!0,get:function(){return s},set:function(e){var t=function(e){return"string"==typeof e&&!!a$[e.toLowerCase()]&&e.toLowerCase()}(e);!1===t?console.warn("Scroll: an invalid or illegal string was specified."):s=t}}})},l$=oj,c$=Mj.exports={WebVTT:Zj,VTTCue:r$,VTTRegion:o$};l$.vttjs=c$,l$.WebVTT=c$.WebVTT;var d$=c$.VTTCue,u$=c$.VTTRegion,h$=l$.VTTCue,p$=l$.VTTRegion;c$.shim=function(){l$.VTTCue=d$,l$.VTTRegion=u$},c$.restore=function(){l$.VTTCue=h$,l$.VTTRegion=p$},l$.VTTCue||c$.shim();const m$=a(Mj.exports);var f$={exports:{}};!function(e,t){!function(t){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,s={buildAbsoluteURL:function(e,t,i){if(i=i||{},e=e.trim(),!(t=t.trim())){if(!i.alwaysNormalize)return e;var r=s.parseURL(e);if(!r)throw new Error("Error trying to parse base URL.");return r.path=s.normalizePath(r.path),s.buildURLFromParts(r)}var a=s.parseURL(t);if(!a)throw new Error("Error trying to parse relative URL.");if(a.scheme)return i.alwaysNormalize?(a.path=s.normalizePath(a.path),s.buildURLFromParts(a)):t;var o=s.parseURL(e);if(!o)throw new Error("Error trying to parse base URL.");if(!o.netLoc&&o.path&&"/"!==o.path[0]){var l=n.exec(o.path);o.netLoc=l[1],o.path=l[2]}o.netLoc&&!o.path&&(o.path="/");var c={scheme:o.scheme,netLoc:a.netLoc,path:null,params:a.params,query:a.query,fragment:a.fragment};if(!a.netLoc&&(c.netLoc=o.netLoc,"/"!==a.path[0]))if(a.path){var d=o.path,u=d.substring(0,d.lastIndexOf("/")+1)+a.path;c.path=s.normalizePath(u)}else c.path=o.path,a.params||(c.params=o.params,a.query||(c.query=o.query));return null===c.path&&(c.path=i.alwaysNormalize?s.normalizePath(a.path):a.path),s.buildURLFromParts(c)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(r,"");e.length!==(e=e.replace(a,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=s}()}(f$);const g$=a(f$.exports);var y$="http://example.com",b$=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=t.length,s=0;s<a;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();function v$(e){for(var t=function(e){return lj.atob?lj.atob(e):Buffer.from(e,"base64").toString("binary")}(e),i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}/*! @name m3u8-parser @version 6.2.0 @license Apache-2.0 */class w$ extends b${constructor(){super(),this.buffer=""}push(e){let t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)}}const T$=String.fromCharCode(9),x$=function(e){const t=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),i={};return t[1]&&(i.length=parseInt(t[1],10)),t[2]&&(i.offset=parseInt(t[2],10)),i},E$=function(e){const t={};if(!e)return t;const i=e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))'));let n,r=i.length;for(;r--;)""!==i[r]&&(n=/([^=]*)=(.*)/.exec(i[r]).slice(1),n[0]=n[0].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^\s+|\s+$/g,""),n[1]=n[1].replace(/^['"](.*)['"]$/g,"$1"),t[n[0]]=n[1]);return t};class _$ extends b${constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let t,i;if(0===(e=e.trim()).length)return;if("#"!==e[0])return void this.trigger("data",{type:"uri",uri:e});this.tagMappers.reduce(((t,i)=>{const n=i(e);return n===e?t:t.concat([n])}),[e]).forEach((e=>{for(let t=0;t<this.customParsers.length;t++)if(this.customParsers[t].call(this,e))return;if(0===e.indexOf("#EXT"))if(e=e.replace("\r",""),t=/^#EXTM3U/.exec(e),t)this.trigger("data",{type:"tag",tagType:"m3u"});else{if(t=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(e),t)return i={type:"tag",tagType:"inf"},t[1]&&(i.duration=parseFloat(t[1])),t[2]&&(i.title=t[2]),void this.trigger("data",i);if(t=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"targetduration"},t[1]&&(i.duration=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-VERSION:([0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"version"},t[1]&&(i.version=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"media-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(e),t)return i={type:"tag",tagType:"discontinuity-sequence"},t[1]&&(i.number=parseInt(t[1],10)),void this.trigger("data",i);if(t=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"playlist-type"},t[1]&&(i.playlistType=t[1]),void this.trigger("data",i);if(t=/^#EXT-X-BYTERANGE:(.*)?$/.exec(e),t)return i=bu(x$(t[1]),{type:"tag",tagType:"byterange"}),void this.trigger("data",i);if(t=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(e),t)return i={type:"tag",tagType:"allow-cache"},t[1]&&(i.allowed=!/NO/.test(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-MAP:(.*)$/.exec(e),t){if(i={type:"tag",tagType:"map"},t[1]){const e=E$(t[1]);e.URI&&(i.uri=e.URI),e.BYTERANGE&&(i.byterange=x$(e.BYTERANGE))}this.trigger("data",i)}else if(t=/^#EXT-X-STREAM-INF:(.*)$/.exec(e),t){if(i={type:"tag",tagType:"stream-inf"},t[1]){if(i.attributes=E$(t[1]),i.attributes.RESOLUTION){const e=i.attributes.RESOLUTION.split("x"),t={};e[0]&&(t.width=parseInt(e[0],10)),e[1]&&(t.height=parseInt(e[1],10)),i.attributes.RESOLUTION=t}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}this.trigger("data",i)}else{if(t=/^#EXT-X-MEDIA:(.*)$/.exec(e),t)return i={type:"tag",tagType:"media"},t[1]&&(i.attributes=E$(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-ENDLIST/.exec(e),t)this.trigger("data",{type:"tag",tagType:"endlist"});else if(t=/^#EXT-X-DISCONTINUITY/.exec(e),t)this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(t=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(e),t)return i={type:"tag",tagType:"program-date-time"},t[1]&&(i.dateTimeString=t[1],i.dateTimeObject=new Date(t[1])),void this.trigger("data",i);if(t=/^#EXT-X-KEY:(.*)$/.exec(e),t)return i={type:"tag",tagType:"key"},t[1]&&(i.attributes=E$(t[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i);if(t=/^#EXT-X-START:(.*)$/.exec(e),t)return i={type:"tag",tagType:"start"},t[1]&&(i.attributes=E$(t[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-out-cont"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-OUT:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-out"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-CUE-IN:(.*)?$/.exec(e),t)return i={type:"tag",tagType:"cue-in"},t[1]?i.data=t[1]:i.data="",void this.trigger("data",i);if(t=/^#EXT-X-SKIP:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"skip"},i.attributes=E$(t[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(T$)),void this.trigger("data",i);if(t=/^#EXT-X-PART:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"part"},i.attributes=E$(t[1]),["DURATION"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),["INDEPENDENT","GAP"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))})),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=x$(i.attributes.BYTERANGE)),void this.trigger("data",i);if(t=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"server-control"},i.attributes=E$(t[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/.test(i.attributes[e]))})),void this.trigger("data",i);if(t=/^#EXT-X-PART-INF:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"part-inf"},i.attributes=E$(t[1]),["PART-TARGET"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),void this.trigger("data",i);if(t=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"preload-hint"},i.attributes=E$(t[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach((function(e){if(i.attributes.hasOwnProperty(e)){i.attributes[e]=parseInt(i.attributes[e],10);const t="BYTERANGE-LENGTH"===e?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[t]=i.attributes[e],delete i.attributes[e]}})),void this.trigger("data",i);if(t=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(e),t&&t[1])return i={type:"tag",tagType:"rendition-report"},i.attributes=E$(t[1]),["LAST-MSN","LAST-PART"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseInt(i.attributes[e],10))})),void this.trigger("data",i);if(t=/^#EXT-X-DATERANGE:(.*)$/.exec(e),t&&t[1]){i={type:"tag",tagType:"daterange"},i.attributes=E$(t[1]),["ID","CLASS"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=String(i.attributes[e]))})),["START-DATE","END-DATE"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=new Date(i.attributes[e]))})),["DURATION","PLANNED-DURATION"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=parseFloat(i.attributes[e]))})),["END-ON-NEXT"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=/YES/i.test(i.attributes[e]))})),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach((function(e){i.attributes.hasOwnProperty(e)&&(i.attributes[e]=i.attributes[e].toString(16))}));const e=/^X-([A-Z]+-)+[A-Z]+$/;for(const t in i.attributes){if(!e.test(t))continue;const n=/[0-9A-Fa-f]{6}/g.test(i.attributes[t]),r=/^\d+(\.\d+)?$/.test(i.attributes[t]);i.attributes[t]=n?i.attributes[t].toString(16):r?parseFloat(i.attributes[t]):String(i.attributes[t])}this.trigger("data",i)}else t=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(e),t?this.trigger("data",{type:"tag",tagType:"independent-segments"}):this.trigger("data",{type:"tag",data:e.slice(4)})}}}else this.trigger("data",{type:"comment",text:e.slice(1)})}))}addParser({expression:e,customType:t,dataParser:i,segment:n}){"function"!=typeof i&&(i=e=>e),this.customParsers.push((r=>{if(e.exec(r))return this.trigger("data",{type:"custom",data:i(r),customType:t,segment:n}),!0}))}addTagMapper({expression:e,map:t}){this.tagMappers.push((i=>e.test(i)?t(i):i))}}const S$=function(e){const t={};return Object.keys(e).forEach((function(i){var n;t[(n=i,n.toLowerCase().replace(/-(\w)/g,(e=>e[1].toUpperCase())))]=e[i]})),t},C$=function(e){const{serverControl:t,targetDuration:i,partTargetDuration:n}=e;if(!t)return;const r="#EXT-X-SERVER-CONTROL",a="holdBack",s="partHoldBack",o=i&&3*i,l=n&&2*n;i&&!t.hasOwnProperty(a)&&(t[a]=o,this.trigger("info",{message:`${r} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&t[a]<o&&(this.trigger("warn",{message:`${r} clamping HOLD-BACK (${t[a]}) to targetDuration * 3 (${o})`}),t[a]=o),n&&!t.hasOwnProperty(s)&&(t[s]=3*n,this.trigger("info",{message:`${r} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${t[s]}).`})),n&&t[s]<l&&(this.trigger("warn",{message:`${r} clamping PART-HOLD-BACK (${t[s]}) to partTargetDuration * 2 (${l}).`}),t[s]=l)};class k$ extends b${constructor(){super(),this.lineStream=new w$,this.parseStream=new _$,this.lineStream.pipe(this.parseStream);const e=this,t=[];let i,n,r={},a=!1;const s=function(){},o={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}};let l=0;this.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};let c=0,d=0;const u={};this.on("end",(()=>{r.uri||!r.parts&&!r.preloadHints||(!r.map&&i&&(r.map=i),!r.key&&n&&(r.key=n),r.timeline||"number"!=typeof l||(r.timeline=l),this.manifest.preloadSegment=r)})),this.parseStream.on("data",(function(h){let p,m;({tag(){({version(){h.version&&(this.manifest.version=h.version)},"allow-cache"(){this.manifest.allowCache=h.allowed,"allowed"in h||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const e={};"length"in h&&(r.byterange=e,e.length=h.length,"offset"in h||(h.offset=c)),"offset"in h&&(r.byterange=e,e.offset=h.offset),c=e.offset+e.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),h.duration>0&&(r.duration=h.duration),0===h.duration&&(r.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=t},key(){if(h.attributes)if("NONE"!==h.attributes.METHOD)if(h.attributes.URI){if("com.apple.streamingkeydelivery"===h.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:h.attributes});if("com.microsoft.playready"===h.attributes.KEYFORMAT)return this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.microsoft.playready"]={uri:h.attributes.URI});if("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"===h.attributes.KEYFORMAT){return-1===["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(h.attributes.METHOD)?void this.trigger("warn",{message:"invalid key method provided for Widevine"}):("SAMPLE-AES-CENC"===h.attributes.METHOD&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),"data:text/plain;base64,"!==h.attributes.URI.substring(0,23)?void this.trigger("warn",{message:"invalid key URI provided for Widevine"}):h.attributes.KEYID&&"0x"===h.attributes.KEYID.substring(0,2)?(this.manifest.contentProtection=this.manifest.contentProtection||{},void(this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:h.attributes.KEYFORMAT,keyId:h.attributes.KEYID.substring(2)},pssh:v$(h.attributes.URI.split(",")[1])})):void this.trigger("warn",{message:"invalid key ID provided for Widevine"}))}h.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),n={method:h.attributes.METHOD||"AES-128",uri:h.attributes.URI},void 0!==h.attributes.IV&&(n.iv=h.attributes.IV)}else this.trigger("warn",{message:"ignoring key declaration without URI"});else n=null;else this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence"(){isFinite(h.number)?this.manifest.mediaSequence=h.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+h.number})},"discontinuity-sequence"(){isFinite(h.number)?(this.manifest.discontinuitySequence=h.number,l=h.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+h.number})},"playlist-type"(){/VOD|EVENT/.test(h.playlistType)?this.manifest.playlistType=h.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+h.playlist})},map(){i={},h.uri&&(i.uri=h.uri),h.byterange&&(i.byterange=h.byterange),n&&(i.key=n)},"stream-inf"(){this.manifest.playlists=t,this.manifest.mediaGroups=this.manifest.mediaGroups||o,h.attributes?(r.attributes||(r.attributes={}),bu(r.attributes,h.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||o,!(h.attributes&&h.attributes.TYPE&&h.attributes["GROUP-ID"]&&h.attributes.NAME))return void this.trigger("warn",{message:"ignoring incomplete or missing media group"});const e=this.manifest.mediaGroups[h.attributes.TYPE];e[h.attributes["GROUP-ID"]]=e[h.attributes["GROUP-ID"]]||{},p=e[h.attributes["GROUP-ID"]],m={default:/yes/i.test(h.attributes.DEFAULT)},m.default?m.autoselect=!0:m.autoselect=/yes/i.test(h.attributes.AUTOSELECT),h.attributes.LANGUAGE&&(m.language=h.attributes.LANGUAGE),h.attributes.URI&&(m.uri=h.attributes.URI),h.attributes["INSTREAM-ID"]&&(m.instreamId=h.attributes["INSTREAM-ID"]),h.attributes.CHARACTERISTICS&&(m.characteristics=h.attributes.CHARACTERISTICS),h.attributes.FORCED&&(m.forced=/yes/i.test(h.attributes.FORCED)),p[h.attributes.NAME]=m},discontinuity(){l+=1,r.discontinuity=!0,this.manifest.discontinuityStarts.push(t.length)},"program-date-time"(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=h.dateTimeString,this.manifest.dateTimeObject=h.dateTimeObject),r.dateTimeString=h.dateTimeString,r.dateTimeObject=h.dateTimeObject},targetduration(){!isFinite(h.duration)||h.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+h.duration}):(this.manifest.targetDuration=h.duration,C$.call(this,this.manifest))},start(){h.attributes&&!isNaN(h.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:h.attributes["TIME-OFFSET"],precise:h.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out"(){r.cueOut=h.data},"cue-out-cont"(){r.cueOutCont=h.data},"cue-in"(){r.cueIn=h.data},skip(){this.manifest.skip=S$(h.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",h.attributes,["SKIPPED-SEGMENTS"])},part(){a=!0;const e=this.manifest.segments.length,t=S$(h.attributes);r.parts=r.parts||[],r.parts.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=d),d=t.byterange.offset+t.byterange.length);const i=r.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${i} for segment #${e}`,h.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(((e,t)=>{e.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${t} lacks required attribute(s): LAST-PART`})}))},"server-control"(){const e=this.manifest.serverControl=S$(h.attributes);e.hasOwnProperty("canBlockReload")||(e.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),C$.call(this,this.manifest),e.canSkipDateranges&&!e.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const e=this.manifest.segments.length,t=S$(h.attributes),i=t.type&&"PART"===t.type;r.preloadHints=r.preloadHints||[],r.preloadHints.push(t),t.byterange&&(t.byterange.hasOwnProperty("offset")||(t.byterange.offset=i?d:0,i&&(d=t.byterange.offset+t.byterange.length)));const n=r.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${n} for segment #${e}`,h.attributes,["TYPE","URI"]),t.type)for(let a=0;a<r.preloadHints.length-1;a++){const i=r.preloadHints[a];i.type&&(i.type===t.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${n} for segment #${e} has the same TYPE ${t.type} as preload hint #${a}`}))}},"rendition-report"(){const e=S$(h.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(e);const t=this.manifest.renditionReports.length-1,i=["LAST-MSN","URI"];a&&i.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${t}`,h.attributes,i)},"part-inf"(){this.manifest.partInf=S$(h.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",h.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),C$.call(this,this.manifest)},daterange(){this.manifest.daterange=this.manifest.daterange||[],this.manifest.daterange.push(S$(h.attributes));const e=this.manifest.daterange.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${e}`,h.attributes,["ID","START-DATE"]);const t=this.manifest.daterange[e];t.endDate&&t.startDate&&new Date(t.endDate)<new Date(t.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),t.duration&&t.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),t.plannedDuration&&t.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const i=!!t.endOnNext;if(i&&!t.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),i&&(t.duration||t.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),t.duration&&t.endDate){const i=t.startDate,n=i.setSeconds(i.getSeconds()+t.duration);this.manifest.daterange[e].endDate=new Date(n)}if(t&&!this.manifest.dateTimeString&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),u[t.id]){for(const n in u[t.id])if(u[t.id][n]!==t[n]){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes and same attribute values"});break}}else u[t.id]=t},"independent-segments"(){this.manifest.independentSegments=!0}}[h.tagType]||s).call(e)},uri(){r.uri=h.uri,t.push(r),this.manifest.targetDuration&&!("duration"in r)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),r.duration=this.manifest.targetDuration),n&&(r.key=n),r.timeline=l,i&&(r.map=i),d=0,r={}},comment(){},custom(){h.segment?(r.custom=r.custom||{},r.custom[h.customType]=h.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[h.customType]=h.data)}})[h.type].call(e)}))}warnOnMissingAttributes_(e,t,i){const n=[];i.forEach((function(e){t.hasOwnProperty(e)||n.push(e)})),n.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${n.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push("\n"),this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var A$={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},N$=["video","audio","text"],O$=["Video","Audio","Text"],M$=function(e){return e?e.replace(/avc1\.(\d+)\.(\d+)/i,(function(e,t,i){return"avc1."+("00"+Number(t).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})):e},P$=function(e){void 0===e&&(e="");var t=e.split(","),i=[];return t.forEach((function(e){var t;e=e.trim(),N$.forEach((function(n){var r=A$[n].exec(e.toLowerCase());if(r&&!(r.length<=1)){t=n;var a=e.substring(0,r[1].length),s=e.replace(a,"");i.push({type:a,details:s,mediaType:n})}})),t||i.push({type:e,details:"",mediaType:"unknown"})})),i},I$=function(e){return void 0===e&&(e=""),A$.audio.test(e.trim().toLowerCase())},R$=function(e){if(e&&"string"==typeof e){var t,i=e.toLowerCase().split(",").map((function(e){return M$(e.trim())})),n="video";1===i.length&&I$(i[0])?n="audio":1===i.length&&(void 0===(t=i[0])&&(t=""),A$.text.test(t.trim().toLowerCase()))&&(n="application");var r="mp4";return i.every((function(e){return A$.mp4.test(e)}))?r="mp4":i.every((function(e){return A$.webm.test(e)}))?r="webm":i.every((function(e){return A$.ogg.test(e)}))&&(r="ogg"),n+"/"+r+';codecs="'+e+'"'}},L$=function(e){return void 0===e&&(e=""),lj.MediaSource&&lj.MediaSource.isTypeSupported&&lj.MediaSource.isTypeSupported(R$(e))||!1},D$=function(e){return void 0===e&&(e=""),e.toLowerCase().split(",").every((function(e){e=e.trim();for(var t=0;t<O$.length;t++){if(A$["muxer"+O$[t]].test(e))return!0}return!1}))},j$="mp4a.40.2",$$=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,B$=/^application\/dash\+xml/i,q$=function(e){return $$.test(e)?"hls":B$.test(e)?"dash":"application/vnd.videojs.vhs+json"===e?"vhs-json":null},U$=function(e){return"function"===ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},F$=function(e){return e instanceof Uint8Array?e:(Array.isArray(e)||U$(e)||e instanceof ArrayBuffer||(e="number"!=typeof e||"number"==typeof e&&e!=e?0:[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},z$=lj.BigInt||Number,V$=[z$("0x1"),z$("0x100"),z$("0x10000"),z$("0x1000000"),z$("0x100000000"),z$("0x10000000000"),z$("0x1000000000000"),z$("0x100000000000000"),z$("0x10000000000000000")];!function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}();var H$=function(e,t){var i=void 0===t?{}:t,n=i.signed,r=void 0!==n&&n,a=i.le,s=void 0!==a&&a;e=F$(e);var o=s?"reduce":"reduceRight",l=(e[o]?e[o]:Array.prototype[o]).call(e,(function(t,i,n){var r=s?n:Math.abs(n+1-e.length);return t+z$(i)*V$[r]}),z$(0));if(r){var c=V$[e.length]/z$(2)-z$(1);(l=z$(l))>c&&(l-=c,l-=c,l-=z$(2))}return Number(l)},W$=function(e,t){var i=(void 0===t?{}:t).le,n=void 0!==i&&i;("bigint"!=typeof e&&"number"!=typeof e||"number"==typeof e&&e!=e)&&(e=0);for(var r=function(e){return Math.ceil(function(e){return e.toString(2).length}(e)/8)}(e=z$(e)),a=new Uint8Array(new ArrayBuffer(r)),s=0;s<r;s++){var o=n?s:Math.abs(s+1-a.length);a[o]=Number(e/V$[s]&z$(255)),e<0&&(a[o]=Math.abs(~a[o]),a[o]-=0===s?1:2)}return a},G$=function(e,t){if("string"!=typeof e&&e&&"function"==typeof e.toString&&(e=e.toString()),"string"!=typeof e)return new Uint8Array;t||(e=unescape(encodeURIComponent(e)));for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i},K$=function(e,t,i){var n=void 0===i?{}:i,r=n.offset,a=void 0===r?0:r,s=n.mask,o=void 0===s?[]:s;e=F$(e);var l=(t=F$(t)).every?t.every:Array.prototype.every;return t.length&&e.length-a>=t.length&&l.call(t,(function(t,i){return t===(o[i]?o[i]&e[a+i]:e[a+i])}))},Q$="http://example.com",Y$=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=lj.location&&lj.location.href||"");var i="function"==typeof lj.URL,n=/^\/\//.test(e),r=!lj.location&&!/\/\//i.test(e);if(i?e=new lj.URL(e,lj.location||Q$):/\/\//i.test(e)||(e=g$.buildAbsoluteURL(lj.location&&lj.location.href||"",e)),i){var a=new URL(t,e);return r?a.href.slice(18):n?a.href.slice(a.protocol.length):a.href}return g$.buildAbsoluteURL(e,t)};function X$(e){for(var t=function(e){return lj.atob?lj.atob(e):Buffer.from(e,"base64").toString("binary")}(e),i=new Uint8Array(t.length),n=0;n<t.length;n++)i[n]=t.charCodeAt(n);return i}var J$={},Z$={};function eB(e,t){return void 0===t&&(t=Object),t&&"function"==typeof t.freeze?t.freeze(e):e}var tB=eB({HTML:"text/html",isHTML:function(e){return e===tB.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),iB=eB({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===iB.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Z$.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Z$.find=function(e,t,i){if(void 0===i&&(i=Array.prototype),e&&"function"==typeof i.find)return i.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];if(t.call(void 0,r,n,e))return r}},Z$.freeze=eB,Z$.MIME_TYPE=tB,Z$.NAMESPACE=iB;var nB=Z$,rB=nB.find,aB=nB.NAMESPACE;function sB(e){return""!==e}function oB(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function lB(e){if(!e)return[];var t=function(e){return e?e.split(/[\t\n\f\r ]+/).filter(sB):[]}(e);return Object.keys(t.reduce(oB,{}))}function cB(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function dB(e,t){var i=e.prototype;if(!(i instanceof t)){function n(){}n.prototype=t.prototype,cB(i,n=new n),e.prototype=i=n}i.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),i.constructor=e)}var uB={},hB=uB.ELEMENT_NODE=1,pB=uB.ATTRIBUTE_NODE=2,mB=uB.TEXT_NODE=3,fB=uB.CDATA_SECTION_NODE=4,gB=uB.ENTITY_REFERENCE_NODE=5,yB=uB.ENTITY_NODE=6,bB=uB.PROCESSING_INSTRUCTION_NODE=7,vB=uB.COMMENT_NODE=8,wB=uB.DOCUMENT_NODE=9,TB=uB.DOCUMENT_TYPE_NODE=10,xB=uB.DOCUMENT_FRAGMENT_NODE=11,EB=uB.NOTATION_NODE=12,_B={},SB={};_B.INDEX_SIZE_ERR=(SB[1]="Index size error",1),_B.DOMSTRING_SIZE_ERR=(SB[2]="DOMString size error",2);var CB=_B.HIERARCHY_REQUEST_ERR=(SB[3]="Hierarchy request error",3);_B.WRONG_DOCUMENT_ERR=(SB[4]="Wrong document",4),_B.INVALID_CHARACTER_ERR=(SB[5]="Invalid character",5),_B.NO_DATA_ALLOWED_ERR=(SB[6]="No data allowed",6),_B.NO_MODIFICATION_ALLOWED_ERR=(SB[7]="No modification allowed",7);var kB=_B.NOT_FOUND_ERR=(SB[8]="Not found",8);_B.NOT_SUPPORTED_ERR=(SB[9]="Not supported",9);var AB=_B.INUSE_ATTRIBUTE_ERR=(SB[10]="Attribute in use",10);function NB(e,t){if(t instanceof Error)var i=t;else i=this,Error.call(this,SB[e]),this.message=SB[e],Error.captureStackTrace&&Error.captureStackTrace(this,NB);return i.code=e,t&&(this.message=this.message+": "+t),i}function OB(){}function MB(e,t){this._node=e,this._refresh=t,PB(this)}function PB(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var i=e._refresh(e._node);if(vq(e,"length",i.length),!e.$$length||i.length<e.$$length)for(var n=i.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];cB(i,e),e._inc=t}}function IB(){}function RB(e,t){for(var i=e.length;i--;)if(e[i]===t)return i}function LB(e,t,i,n){if(n?t[RB(t,n)]=i:t[t.length++]=i,e){i.ownerElement=e;var r=e.ownerDocument;r&&(n&&FB(r,e,n),function(e,t,i){e&&e._inc++;var n=i.namespaceURI;n===aB.XMLNS&&(t._nsMap[i.prefix?i.localName:""]=i.value)}(r,e,i))}}function DB(e,t,i){var n=RB(t,i);if(!(n>=0))throw new NB(kB,new Error(e.tagName+"@"+i));for(var r=t.length-1;n<r;)t[n]=t[++n];if(t.length=r,e){var a=e.ownerDocument;a&&(FB(a,e,i),i.ownerElement=null)}}function jB(){}function $B(){}function BB(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function qB(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(qB(e,t))return!0}while(e=e.nextSibling)}function UB(){this.ownerDocument=this}function FB(e,t,i,n){e&&e._inc++,i.namespaceURI===aB.XMLNS&&delete t._nsMap[i.prefix?i.localName:""]}function zB(e,t,i){if(e&&e._inc){e._inc++;var n=t.childNodes;if(i)n[n.length++]=i;else{for(var r=t.firstChild,a=0;r;)n[a++]=r,r=r.nextSibling;n.length=a,delete n[n.length]}}}function VB(e,t){var i=t.previousSibling,n=t.nextSibling;return i?i.nextSibling=n:e.firstChild=n,n?n.previousSibling=i:e.lastChild=i,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,zB(e.ownerDocument,e),t}function HB(e){return e&&e.nodeType===$B.DOCUMENT_TYPE_NODE}function WB(e){return e&&e.nodeType===$B.ELEMENT_NODE}function GB(e){return e&&e.nodeType===$B.TEXT_NODE}function KB(e,t){var i=e.childNodes||[];if(rB(i,WB)||HB(t))return!1;var n=rB(i,HB);return!(t&&n&&i.indexOf(n)>i.indexOf(t))}function QB(e,t){var i=e.childNodes||[];if(rB(i,(function(e){return WB(e)&&e!==t})))return!1;var n=rB(i,HB);return!(t&&n&&i.indexOf(n)>i.indexOf(t))}function YB(e,t,i){if(!function(e){return e&&(e.nodeType===$B.DOCUMENT_NODE||e.nodeType===$B.DOCUMENT_FRAGMENT_NODE||e.nodeType===$B.ELEMENT_NODE)}(e))throw new NB(CB,"Unexpected parent node type "+e.nodeType);if(i&&i.parentNode!==e)throw new NB(kB,"child not in parent");if(!function(e){return e&&(WB(e)||GB(e)||HB(e)||e.nodeType===$B.DOCUMENT_FRAGMENT_NODE||e.nodeType===$B.COMMENT_NODE||e.nodeType===$B.PROCESSING_INSTRUCTION_NODE)}(t)||HB(t)&&e.nodeType!==$B.DOCUMENT_NODE)throw new NB(CB,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function XB(e,t,i){var n=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===$B.DOCUMENT_FRAGMENT_NODE){var a=r.filter(WB);if(a.length>1||rB(r,GB))throw new NB(CB,"More than one element or text in fragment");if(1===a.length&&!KB(e,i))throw new NB(CB,"Element in fragment can not be inserted before doctype")}if(WB(t)&&!KB(e,i))throw new NB(CB,"Only one element can be added and only after doctype");if(HB(t)){if(rB(n,HB))throw new NB(CB,"Only one doctype is allowed");var s=rB(n,WB);if(i&&n.indexOf(s)<n.indexOf(i))throw new NB(CB,"Doctype can only be inserted before an element");if(!i&&s)throw new NB(CB,"Doctype can not be appended since element is present")}}function JB(e,t,i){var n=e.childNodes||[],r=t.childNodes||[];if(t.nodeType===$B.DOCUMENT_FRAGMENT_NODE){var a=r.filter(WB);if(a.length>1||rB(r,GB))throw new NB(CB,"More than one element or text in fragment");if(1===a.length&&!QB(e,i))throw new NB(CB,"Element in fragment can not be inserted before doctype")}if(WB(t)&&!QB(e,i))throw new NB(CB,"Only one element can be added and only after doctype");if(HB(t)){function o(e){return HB(e)&&e!==i}if(rB(n,o))throw new NB(CB,"Only one doctype is allowed");var s=rB(n,WB);if(i&&n.indexOf(s)<n.indexOf(i))throw new NB(CB,"Doctype can only be inserted before an element")}}function ZB(e,t,i,n){YB(e,t,i),e.nodeType===$B.DOCUMENT_NODE&&(n||XB)(e,t,i);var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===xB){var a=t.firstChild;if(null==a)return t;var s=t.lastChild}else a=s=t;var o=i?i.previousSibling:e.lastChild;a.previousSibling=o,s.nextSibling=i,o?o.nextSibling=a:e.firstChild=a,null==i?e.lastChild=s:i.previousSibling=s;do{a.parentNode=e}while(a!==s&&(a=a.nextSibling));return zB(e.ownerDocument||e,e),t.nodeType==xB&&(t.firstChild=t.lastChild=null),t}function eq(){this._nsMap={}}function tq(){}function iq(){}function nq(){}function rq(){}function aq(){}function sq(){}function oq(){}function lq(){}function cq(){}function dq(){}function uq(){}function hq(){}function pq(e,t){var i=[],n=9==this.nodeType&&this.documentElement||this,r=n.prefix,a=n.namespaceURI;if(a&&null==r&&null==(r=n.lookupPrefix(a)))var s=[{namespace:a,prefix:null}];return gq(this,i,e,t,s),i.join("")}function mq(e,t,i){var n=e.prefix||"",r=e.namespaceURI;if(!r)return!1;if("xml"===n&&r===aB.XML||r===aB.XMLNS)return!1;for(var a=i.length;a--;){var s=i[a];if(s.prefix===n)return s.namespace!==r}return!0}function fq(e,t,i){e.push(" ",t,'="',i.replace(/[<>&"\t\n\r]/g,BB),'"')}function gq(e,t,i,n,r){if(r||(r=[]),n){if(!(e=n(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case hB:var a=e.attributes,s=a.length,o=e.firstChild,l=e.tagName,c=l;if(!(i=aB.isHTML(e.namespaceURI)||i)&&!e.prefix&&e.namespaceURI){for(var d,u=0;u<a.length;u++)if("xmlns"===a.item(u).name){d=a.item(u).value;break}if(!d)for(var h=r.length-1;h>=0;h--){if(""===(p=r[h]).prefix&&p.namespace===e.namespaceURI){d=p.namespace;break}}if(d!==e.namespaceURI)for(h=r.length-1;h>=0;h--){var p;if((p=r[h]).namespace===e.namespaceURI){p.prefix&&(c=p.prefix+":"+l);break}}}t.push("<",c);for(var m=0;m<s;m++){"xmlns"==(f=a.item(m)).prefix?r.push({prefix:f.localName,namespace:f.value}):"xmlns"==f.nodeName&&r.push({prefix:"",namespace:f.value})}for(m=0;m<s;m++){var f,g,y;if(mq(f=a.item(m),0,r))fq(t,(g=f.prefix||"")?"xmlns:"+g:"xmlns",y=f.namespaceURI),r.push({prefix:g,namespace:y});gq(f,t,i,n,r)}if(l===c&&mq(e,0,r))fq(t,(g=e.prefix||"")?"xmlns:"+g:"xmlns",y=e.namespaceURI),r.push({prefix:g,namespace:y});if(o||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(t.push(">"),i&&/^script$/i.test(l))for(;o;)o.data?t.push(o.data):gq(o,t,i,n,r.slice()),o=o.nextSibling;else for(;o;)gq(o,t,i,n,r.slice()),o=o.nextSibling;t.push("</",c,">")}else t.push("/>");return;case wB:case xB:for(o=e.firstChild;o;)gq(o,t,i,n,r.slice()),o=o.nextSibling;return;case pB:return fq(t,e.name,e.value);case mB:return t.push(e.data.replace(/[<&>]/g,BB));case fB:return t.push("<![CDATA[",e.data,"]]>");case vB:return t.push("\x3c!--",e.data,"--\x3e");case TB:var b=e.publicId,v=e.systemId;if(t.push("<!DOCTYPE ",e.name),b)t.push(" PUBLIC ",b),v&&"."!=v&&t.push(" ",v),t.push(">");else if(v&&"."!=v)t.push(" SYSTEM ",v,">");else{var w=e.internalSubset;w&&t.push(" [",w,"]"),t.push(">")}return;case bB:return t.push("<?",e.target," ",e.data,"?>");case gB:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function yq(e,t,i){var n;switch(t.nodeType){case hB:(n=t.cloneNode(!1)).ownerDocument=e;case xB:break;case pB:i=!0}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,i)for(var r=t.firstChild;r;)n.appendChild(yq(e,r,i)),r=r.nextSibling;return n}function bq(e,t,i){var n=new t.constructor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var a=t[r];"object"!=typeof a&&a!=n[r]&&(n[r]=a)}switch(t.childNodes&&(n.childNodes=new OB),n.ownerDocument=e,n.nodeType){case hB:var s=t.attributes,o=n.attributes=new IB,l=s.length;o._ownerElement=n;for(var c=0;c<l;c++)n.setAttributeNode(bq(e,s.item(c),!0));break;case pB:i=!0}if(i)for(var d=t.firstChild;d;)n.appendChild(bq(e,d,i)),d=d.nextSibling;return n}function vq(e,t,i){e[t]=i}_B.INVALID_STATE_ERR=(SB[11]="Invalid state",11),_B.SYNTAX_ERR=(SB[12]="Syntax error",12),_B.INVALID_MODIFICATION_ERR=(SB[13]="Invalid modification",13),_B.NAMESPACE_ERR=(SB[14]="Invalid namespace",14),_B.INVALID_ACCESS_ERR=(SB[15]="Invalid access",15),NB.prototype=Error.prototype,cB(_B,NB),OB.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var i=[],n=0;n<this.length;n++)gq(this[n],i,e,t);return i.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}},MB.prototype.item=function(e){return PB(this),this[e]||null},dB(MB,OB),IB.prototype={length:0,item:OB.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var i=this[t];if(i.nodeName==e)return i}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new NB(AB);var i=this.getNamedItem(e.nodeName);return LB(this._ownerElement,this,e,i),i},setNamedItemNS:function(e){var t,i=e.ownerElement;if(i&&i!=this._ownerElement)throw new NB(AB);return t=this.getNamedItemNS(e.namespaceURI,e.localName),LB(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return DB(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var i=this.getNamedItemNS(e,t);return DB(this._ownerElement,this,i),i},getNamedItemNS:function(e,t){for(var i=this.length;i--;){var n=this[i];if(n.localName==t&&n.namespaceURI==e)return n}return null}},jB.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,i){var n=new UB;if(n.implementation=this,n.childNodes=new OB,n.doctype=i||null,i&&n.appendChild(i),t){var r=n.createElementNS(e,t);n.appendChild(r)}return n},createDocumentType:function(e,t,i){var n=new sq;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=i||"",n}},$B.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return ZB(this,e,t)},replaceChild:function(e,t){ZB(this,e,t,JB),t&&this.removeChild(t)},removeChild:function(e){return VB(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return bq(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==mB&&e.nodeType==mB?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var i=t._nsMap;if(i)for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&i[n]===e)return n;t=t.nodeType==pB?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var i=t._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,e))return i[e];t=t.nodeType==pB?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},cB(uB,$B),cB(uB,$B.prototype),UB.prototype={nodeName:"#document",nodeType:wB,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==xB){for(var i=e.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,t),i=n}return e}return ZB(this,e,t),e.ownerDocument=this,null===this.documentElement&&e.nodeType===hB&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),VB(this,e)},replaceChild:function(e,t){ZB(this,e,t,JB),e.ownerDocument=this,t&&this.removeChild(t),WB(e)&&(this.documentElement=e)},importNode:function(e,t){return yq(this,e,t)},getElementById:function(e){var t=null;return qB(this.documentElement,(function(i){if(i.nodeType==hB&&i.getAttribute("id")==e)return t=i,!0})),t},getElementsByClassName:function(e){var t=lB(e);return new MB(this,(function(i){var n=[];return t.length>0&&qB(i.documentElement,(function(r){if(r!==i&&r.nodeType===hB){var a=r.getAttribute("class");if(a){var s=e===a;if(!s){var o=lB(a);s=t.every((l=o,function(e){return l&&-1!==l.indexOf(e)}))}s&&n.push(r)}}var l})),n}))},createElement:function(e){var t=new eq;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new OB,(t.attributes=new IB)._ownerElement=t,t},createDocumentFragment:function(){var e=new dq;return e.ownerDocument=this,e.childNodes=new OB,e},createTextNode:function(e){var t=new nq;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new rq;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new aq;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var i=new uq;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=e,i.nodeValue=i.data=t,i},createAttribute:function(e){var t=new tq;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new cq;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var i=new eq,n=t.split(":"),r=i.attributes=new IB;return i.childNodes=new OB,i.ownerDocument=this,i.nodeName=t,i.tagName=t,i.namespaceURI=e,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,r._ownerElement=i,i},createAttributeNS:function(e,t){var i=new tq,n=t.split(":");return i.ownerDocument=this,i.nodeName=t,i.name=t,i.namespaceURI=e,i.specified=!0,2==n.length?(i.prefix=n[0],i.localName=n[1]):i.localName=t,i}},dB(UB,$B),eq.prototype={nodeType:hB,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var i=this.ownerDocument.createAttribute(e);i.value=i.nodeValue=""+t,this.setAttributeNode(i)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===xB?this.insertBefore(e,null):function(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,zB(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);i&&this.removeAttributeNode(i)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var i=this.getAttributeNodeNS(e,t);return i&&i.value||""},setAttributeNS:function(e,t,i){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new MB(this,(function(t){var i=[];return qB(t,(function(n){n===t||n.nodeType!=hB||"*"!==e&&n.tagName!=e||i.push(n)})),i}))},getElementsByTagNameNS:function(e,t){return new MB(this,(function(i){var n=[];return qB(i,(function(r){r===i||r.nodeType!==hB||"*"!==e&&r.namespaceURI!==e||"*"!==t&&r.localName!=t||n.push(r)})),n}))}},UB.prototype.getElementsByTagName=eq.prototype.getElementsByTagName,UB.prototype.getElementsByTagNameNS=eq.prototype.getElementsByTagNameNS,dB(eq,$B),tq.prototype.nodeType=pB,dB(tq,$B),iq.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(SB[CB])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,i){i=this.data.substring(0,e)+i+this.data.substring(e+t),this.nodeValue=this.data=i,this.length=i.length}},dB(iq,$B),nq.prototype={nodeName:"#text",nodeType:mB,splitText:function(e){var t=this.data,i=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}},dB(nq,iq),rq.prototype={nodeName:"#comment",nodeType:vB},dB(rq,iq),aq.prototype={nodeName:"#cdata-section",nodeType:fB},dB(aq,iq),sq.prototype.nodeType=TB,dB(sq,$B),oq.prototype.nodeType=EB,dB(oq,$B),lq.prototype.nodeType=yB,dB(lq,$B),cq.prototype.nodeType=gB,dB(cq,$B),dq.prototype.nodeName="#document-fragment",dq.prototype.nodeType=xB,dB(dq,$B),uq.prototype.nodeType=bB,dB(uq,$B),hq.prototype.serializeToString=function(e,t,i){return pq.call(e,t,i)},$B.prototype.toString=pq;try{if(Object.defineProperty){function sZ(e){switch(e.nodeType){case hB:case xB:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(sZ(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(MB.prototype,"length",{get:function(){return PB(this),this.$$length}}),Object.defineProperty($B.prototype,"textContent",{get:function(){return sZ(this)},set:function(e){switch(this.nodeType){case hB:case xB:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),vq=function(e,t,i){e["$$"+t]=i}}}catch(E_){}J$.DocumentType=sq,J$.DOMException=NB,J$.DOMImplementation=jB,J$.Element=eq,J$.Node=$B,J$.NodeList=OB,J$.XMLSerializer=hq;var wq={},Tq={};!function(e){var t=Z$.freeze;e.XML_ENTITIES=t({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=t({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),e.entityMap=e.HTML_ENTITIES}(Tq);var xq={},Eq=Z$.NAMESPACE,_q=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Sq=new RegExp("[\\-\\.0-9"+_q.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),Cq=new RegExp("^"+_q.source+Sq.source+"*(?::"+_q.source+Sq.source+"*)?$"),kq=0,Aq=1,Nq=2,Oq=3,Mq=4,Pq=5,Iq=6,Rq=7;function Lq(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,Lq)}function Dq(){}function jq(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function $q(e,t,i,n,r,a){function s(e,t,n){i.attributeNames.hasOwnProperty(e)&&a.fatalError("Attribute "+e+" redefined"),i.addValue(e,t.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),n)}for(var o,l=++t,c=kq;;){var d=e.charAt(l);switch(d){case"=":if(c===Aq)o=e.slice(t,l),c=Oq;else{if(c!==Nq)throw new Error("attribute equal must after attrName");c=Oq}break;case"'":case'"':if(c===Oq||c===Aq){if(c===Aq&&(a.warning('attribute value must after "="'),o=e.slice(t,l)),t=l+1,!((l=e.indexOf(d,t))>0))throw new Error("attribute value no end '"+d+"' match");s(o,u=e.slice(t,l),t-1),c=Pq}else{if(c!=Mq)throw new Error('attribute value must after "="');s(o,u=e.slice(t,l),t),a.warning('attribute "'+o+'" missed start quot('+d+")!!"),t=l+1,c=Pq}break;case"/":switch(c){case kq:i.setTagName(e.slice(t,l));case Pq:case Iq:case Rq:c=Rq,i.closed=!0;case Mq:case Aq:break;case Nq:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),c==kq&&i.setTagName(e.slice(t,l)),l;case">":switch(c){case kq:i.setTagName(e.slice(t,l));case Pq:case Iq:case Rq:break;case Mq:case Aq:"/"===(u=e.slice(t,l)).slice(-1)&&(i.closed=!0,u=u.slice(0,-1));case Nq:c===Nq&&(u=o),c==Mq?(a.warning('attribute "'+u+'" missed quot(")!'),s(o,u,t)):(Eq.isHTML(n[""])&&u.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+u+'" missed value!! "'+u+'" instead!!'),s(u,u,t));break;case Oq:throw new Error("attribute value missed!!")}return l;case"":d=" ";default:if(d<=" ")switch(c){case kq:i.setTagName(e.slice(t,l)),c=Iq;break;case Aq:o=e.slice(t,l),c=Nq;break;case Mq:var u=e.slice(t,l);a.warning('attribute "'+u+'" missed quot(")!!'),s(o,u,t);case Pq:c=Iq}else switch(c){case Nq:i.tagName,Eq.isHTML(n[""])&&o.match(/^(?:disabled|checked|selected)$/i)||a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,t),t=l,c=Aq;break;case Pq:a.warning('attribute space is required"'+o+'"!!');case Iq:c=Aq,t=l;break;case Oq:c=Mq,t=l;break;case Rq:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}function Bq(e,t,i){for(var n=e.tagName,r=null,a=e.length;a--;){var s=e[a],o=s.qName,l=s.value;if((h=o.indexOf(":"))>0)var c=s.prefix=o.slice(0,h),d=o.slice(h+1),u="xmlns"===c&&d;else d=o,c=null,u="xmlns"===o&&"";s.localName=d,!1!==u&&(null==r&&(r={},Fq(i,i={})),i[u]=r[u]=l,s.uri=Eq.XMLNS,t.startPrefixMapping(u,l))}for(a=e.length;a--;){(c=(s=e[a]).prefix)&&("xml"===c&&(s.uri=Eq.XML),"xmlns"!==c&&(s.uri=i[c||""]))}var h;(h=n.indexOf(":"))>0?(c=e.prefix=n.slice(0,h),d=e.localName=n.slice(h+1)):(c=null,d=e.localName=n);var p=e.uri=i[c||""];if(t.startElement(p,d,n,e),!e.closed)return e.currentNSMap=i,e.localNSMap=r,!0;if(t.endElement(p,d,n),r)for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&t.endPrefixMapping(c)}function qq(e,t,i,n,r){if(/^(?:script|textarea)$/i.test(i)){var a=e.indexOf("</"+i+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(i)?(r.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,n),r.characters(s,0,s.length),a)}return t+1}function Uq(e,t,i,n){var r=n[i];return null==r&&((r=e.lastIndexOf("</"+i+">"))<t&&(r=e.lastIndexOf("</"+i)),n[i]=r),r<t}function Fq(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}function zq(e,t,i,n){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(r=e.indexOf("--\x3e",t+4))>t?(i.comment(e,t+4,r-t-4),r+3):(n.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var r=e.indexOf("]]>",t+9);return i.startCDATA(),i.characters(e,t+9,r-t-9),i.endCDATA(),r+3}var a=function(e,t){var i,n=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;r.lastIndex=t,r.exec(e);for(;i=r.exec(e);)if(n.push(i),i[1])return n}(e,t),s=a.length;if(s>1&&/!doctype/i.test(a[0][0])){var o=a[1][0],l=!1,c=!1;s>3&&(/^public$/i.test(a[2][0])?(l=a[3][0],c=s>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var d=a[s-1];return i.startDTD(o,l,c),i.endDTD(),d.index+d[0].length}return-1}function Vq(e,t,i){var n=e.indexOf("?>",t);if(n){var r=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,i.processingInstruction(r[1],r[2]),n+2):-1}return-1}function Hq(){this.attributeNames={}}Lq.prototype=new Error,Lq.prototype.name=Lq.name,Dq.prototype={parse:function(e,t,i){var n=this.domBuilder;n.startDocument(),Fq(t,t={}),function(e,t,i,n,r){function a(e){if(e>65535){var t=55296+((e-=65536)>>10),i=56320+(1023&e);return String.fromCharCode(t,i)}return String.fromCharCode(e)}function s(e){var t=e.slice(1,-1);return Object.hasOwnProperty.call(i,t)?i[t]:"#"===t.charAt(0)?a(parseInt(t.substr(1).replace("x","0x"))):(r.error("entity not found:"+e),e)}function o(t){if(t>f){var i=e.substring(f,t).replace(/&#?\w+;/g,s);h&&l(f),n.characters(i,0,t-f),f=t}}function l(t,i){for(;t>=d&&(i=u.exec(e));)c=i.index,d=c+i[0].length,h.lineNumber++;h.columnNumber=t-c+1}var c=0,d=0,u=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,p=[{currentNSMap:t}],m={},f=0;for(;;){try{var g=e.indexOf("<",f);if(g<0){if(!e.substr(f).match(/^\s*$/)){var y=n.doc,b=y.createTextNode(e.substr(f));y.appendChild(b),n.currentElement=b}return}switch(g>f&&o(g),e.charAt(g+1)){case"/":var v=e.indexOf(">",g+3),w=e.substring(g+2,v).replace(/[ \t\n\r]+$/g,""),T=p.pop();v<0?(w=e.substring(g+2).replace(/[\s<].*/,""),r.error("end tag name: "+w+" is not complete:"+T.tagName),v=g+1+w.length):w.match(/\s</)&&(w=w.replace(/[\s<].*/,""),r.error("end tag name: "+w+" maybe not complete"),v=g+1+w.length);var x=T.localNSMap,E=T.tagName==w;if(E||T.tagName&&T.tagName.toLowerCase()==w.toLowerCase()){if(n.endElement(T.uri,T.localName,w),x)for(var _ in x)Object.prototype.hasOwnProperty.call(x,_)&&n.endPrefixMapping(_);E||r.fatalError("end tag name: "+w+" is not match the current start tagName:"+T.tagName)}else p.push(T);v++;break;case"?":h&&l(g),v=Vq(e,g,n);break;case"!":h&&l(g),v=zq(e,g,n,r);break;default:h&&l(g);var S=new Hq,C=p[p.length-1].currentNSMap,k=(v=$q(e,g,S,C,s,r),S.length);if(!S.closed&&Uq(e,v,S.tagName,m)&&(S.closed=!0,i.nbsp||r.warning("unclosed xml attribute")),h&&k){for(var A=jq(h,{}),N=0;N<k;N++){var O=S[N];l(O.offset),O.locator=jq(h,{})}n.locator=A,Bq(S,n,C)&&p.push(S),n.locator=h}else Bq(S,n,C)&&p.push(S);Eq.isHTML(S.uri)&&!S.closed?v=qq(e,v,S.tagName,s,n):v++}}catch(E_){if(E_ instanceof Lq)throw E_;r.error("element parse error: "+E_),v=-1}v>f?f=v:o(Math.max(g,f)+1)}}(e,t,i,n,this.errorHandler),n.endDocument()}},Hq.prototype={setTagName:function(e){if(!Cq.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,i){if(!Cq.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:i}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},xq.XMLReader=Dq,xq.ParseError=Lq;var Wq=Z$,Gq=Tq,Kq=xq,Qq=J$.DOMImplementation,Yq=Wq.NAMESPACE,Xq=Kq.ParseError,Jq=Kq.XMLReader;function Zq(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028]/g,"\n")}function eU(e){this.options=e||{locator:{}}}function tU(){this.cdata=!1}function iU(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function nU(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function rU(e,t,i){return"string"==typeof e?e.substr(t,i):e.length>=t+i||t?new java.lang.String(e,t,i)+"":e}function aU(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}eU.prototype.parseFromString=function(e,t){var i=this.options,n=new Jq,r=i.domBuilder||new tU,a=i.errorHandler,s=i.locator,o=i.xmlns||{},l=/\/x?html?$/.test(t),c=l?Gq.HTML_ENTITIES:Gq.XML_ENTITIES;s&&r.setDocumentLocator(s),n.errorHandler=function(e,t,i){if(!e){if(t instanceof tU)return t;e=t}var n={},r=e instanceof Function;function a(t){var a=e[t];!a&&r&&(a=2==e.length?function(i){e(t,i)}:e),n[t]=a&&function(e){a("[xmldom "+t+"]\t"+e+nU(i))}||function(){}}return i=i||{},a("warning"),a("error"),a("fatalError"),n}(a,r,s),n.domBuilder=i.domBuilder||r,l&&(o[""]=Yq.HTML),o.xml=o.xml||Yq.XML;var d=i.normalizeLineEndings||Zq;return e&&"string"==typeof e?n.parse(d(e),o,c):n.errorHandler.error("invalid doc source"),r.doc},tU.prototype={startDocument:function(){this.doc=(new Qq).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,i,n){var r=this.doc,a=r.createElementNS(e,i||t),s=n.length;aU(this,a),this.currentElement=a,this.locator&&iU(this.locator,a);for(var o=0;o<s;o++){e=n.getURI(o);var l=n.getValue(o),c=(i=n.getQName(o),r.createAttributeNS(e,i));this.locator&&iU(n.getLocator(o),c),c.value=c.nodeValue=l,a.setAttributeNode(c)}},endElement:function(e,t,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var i=this.doc.createProcessingInstruction(e,t);this.locator&&iU(this.locator,i),aU(this,i)},ignorableWhitespace:function(e,t,i){},characters:function(e,t,i){if(e=rU.apply(this,arguments)){if(this.cdata)var n=this.doc.createCDATASection(e);else n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&iU(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,i){e=rU.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&iU(this.locator,n),aU(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var r=n.createDocumentType(e,t,i);this.locator&&iU(this.locator,r),aU(this,r),this.doc.doctype=r}},warning:function(e){console.warn("[xmldom warning]\t"+e,nU(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,nU(this.locator))},fatalError:function(e){throw new Xq(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){tU.prototype[e]=function(){return null}})),wq.__DOMHandler=tU,wq.normalizeLineEndings=Zq,wq.DOMParser=eU;var sU=wq.DOMParser;/*! @name mpd-parser @version 1.2.2 @license Apache-2.0 */const oU=e=>!!e&&"object"==typeof e,lU=(...e)=>e.reduce(((e,t)=>("object"!=typeof t||Object.keys(t).forEach((i=>{Array.isArray(e[i])&&Array.isArray(t[i])?e[i]=e[i].concat(t[i]):oU(e[i])&&oU(t[i])?e[i]=lU(e[i],t[i]):e[i]=t[i]})),e)),{}),cU=e=>Object.keys(e).map((t=>e[t])),dU=e=>e.reduce(((e,t)=>e.concat(t)),[]),uU=e=>{if(!e.length)return[];const t=[];for(let i=0;i<e.length;i++)t.push(e[i]);return t};var hU="INVALID_NUMBER_OF_PERIOD",pU="DASH_EMPTY_MANIFEST",mU="DASH_INVALID_XML",fU="NO_BASE_URL",gU="SEGMENT_TIME_UNSPECIFIED",yU="UNSUPPORTED_UTC_TIMING_SCHEME";const bU=({baseUrl:e="",source:t="",range:i="",indexRange:n=""})=>{const r={uri:t,resolvedUri:Y$(e||"",t)};if(i||n){const e=(i||n).split("-");let t,a=lj.BigInt?lj.BigInt(e[0]):parseInt(e[0],10),s=lj.BigInt?lj.BigInt(e[1]):parseInt(e[1],10);a<Number.MAX_SAFE_INTEGER&&"bigint"==typeof a&&(a=Number(a)),s<Number.MAX_SAFE_INTEGER&&"bigint"==typeof s&&(s=Number(s)),t="bigint"==typeof s||"bigint"==typeof a?lj.BigInt(s)-lj.BigInt(a)+lj.BigInt(1):s-a+1,"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),r.byterange={length:t,offset:a}}return r},vU=e=>(e&&"number"!=typeof e&&(e=parseInt(e,10)),isNaN(e)?null:e),wU={static(e){const{duration:t,timescale:i=1,sourceDuration:n,periodDuration:r}=e,a=vU(e.endNumber),s=t/i;return"number"==typeof a?{start:0,end:a}:"number"==typeof r?{start:0,end:r/s}:{start:0,end:n/s}},dynamic(e){const{NOW:t,clientOffset:i,availabilityStartTime:n,timescale:r=1,duration:a,periodStart:s=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=e,c=vU(e.endNumber),d=(t+i)/1e3,u=n+s,h=d+o-u,p=Math.ceil(h*r/a),m=Math.floor((d-u-l)*r/a),f=Math.floor((d-u)*r/a);return{start:Math.max(0,m),end:"number"==typeof c?c:Math.min(p,f)}}},TU=e=>{const{type:t,duration:i,timescale:n=1,periodDuration:r,sourceDuration:a}=e,{start:s,end:o}=wU[t](e),l=((e,t)=>{const i=[];for(let n=e;n<t;n++)i.push(n);return i})(s,o).map((e=>t=>{const{duration:i,timescale:n=1,periodStart:r,startNumber:a=1}=e;return{number:a+t,duration:i/n,timeline:r,time:t*i}})(e));if("static"===t){const e=l.length-1,t="number"==typeof r?r:a;l[e].duration=t-i/n*e}return l},xU=e=>{const{baseUrl:t,initialization:i={},sourceDuration:n,indexRange:r="",periodStart:a,presentationTime:s,number:o=0,duration:l}=e;if(!t)throw new Error(fU);const c=bU({baseUrl:t,source:i.sourceURL,range:i.range}),d=bU({baseUrl:t,source:t,indexRange:r});if(d.map=c,l){const t=TU(e);t.length&&(d.duration=t[0].duration,d.timeline=t[0].timeline)}else n&&(d.duration=n,d.timeline=a);return d.presentationTime=s||a,d.number=o,[d]},EU=(e,t,i)=>{const n=e.sidx.map?e.sidx.map:null,r=e.sidx.duration,a=e.timeline||0,s=e.sidx.byterange,o=s.offset+s.length,l=t.timescale,c=t.references.filter((e=>1!==e.referenceType)),d=[],u=e.endList?"static":"dynamic",h=e.sidx.timeline;let p,m=h,f=e.mediaSequence||0;p="bigint"==typeof t.firstOffset?lj.BigInt(o)+t.firstOffset:o+t.firstOffset;for(let g=0;g<c.length;g++){const e=t.references[g],s=e.referencedSize,o=e.subsegmentDuration;let c;c="bigint"==typeof p?p+lj.BigInt(s)-lj.BigInt(1):p+s-1;const y=xU({baseUrl:i,timescale:l,timeline:a,periodStart:h,presentationTime:m,number:f,duration:o,sourceDuration:r,indexRange:`${p}-${c}`,type:u})[0];n&&(y.map=n),d.push(y),p+="bigint"==typeof p?lj.BigInt(s):s,m+=o/l,f++}return e.segments=d,e},_U=["AUDIO","SUBTITLES"],SU=e=>{return(t=e,i=({timeline:e})=>e,cU(t.reduce(((e,t)=>(t.forEach((t=>{e[i(t)]=t})),e)),{}))).sort(((e,t)=>e.timeline>t.timeline?1:-1));var t,i},CU=e=>{let t=[];var i,n;return i=e,n=(e,i,n,r)=>{t=t.concat(e.playlists||[])},_U.forEach((function(e){for(var t in i.mediaGroups[e])for(var r in i.mediaGroups[e][t]){var a=i.mediaGroups[e][t][r];n(a,e,t,r)}})),t},kU=({playlist:e,mediaSequence:t})=>{e.mediaSequence=t,e.segments.forEach(((t,i)=>{t.number=e.mediaSequence+i}))},AU=({oldManifest:e,newManifest:t})=>{const i=e.playlists.concat(CU(e)),n=t.playlists.concat(CU(t));return t.timelineStarts=SU([e.timelineStarts,t.timelineStarts]),(({oldPlaylists:e,newPlaylists:t,timelineStarts:i})=>{t.forEach((t=>{t.discontinuitySequence=i.findIndex((function({timeline:e}){return e===t.timeline}));const n=((e,t)=>{for(let i=0;i<e.length;i++)if(e[i].attributes.NAME===t)return e[i];return null})(e,t.attributes.NAME);if(!n)return;if(t.sidx)return;const r=t.segments[0],a=n.segments.findIndex((function(e){return Math.abs(e.presentationTime-r.presentationTime)<.016666666666666666}));if(-1===a)return kU({playlist:t,mediaSequence:n.mediaSequence+n.segments.length}),t.segments[0].discontinuity=!0,t.discontinuityStarts.unshift(0),void((!n.segments.length&&t.timeline>n.timeline||n.segments.length&&t.timeline>n.segments[n.segments.length-1].timeline)&&t.discontinuitySequence--);n.segments[a].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,t.discontinuityStarts.unshift(0),t.discontinuitySequence--),kU({playlist:t,mediaSequence:n.segments[a].number})}))})({oldPlaylists:i,newPlaylists:n,timelineStarts:t.timelineStarts}),t},NU=e=>e&&e.uri+"-"+(e=>{let t;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?lj.BigInt(e.offset)+lj.BigInt(e.length)-lj.BigInt(1):e.offset+e.length-1,`${e.offset}-${t}`})(e.byterange),OU=e=>{const t=e.reduce((function(e,t){return e[t.attributes.baseUrl]||(e[t.attributes.baseUrl]=[]),e[t.attributes.baseUrl].push(t),e}),{});let i=[];return Object.values(t).forEach((e=>{const t=cU(e.reduce(((e,t)=>{const i=t.attributes.id+(t.attributes.lang||"");return e[i]?(t.segments&&(t.segments[0]&&(t.segments[0].discontinuity=!0),e[i].segments.push(...t.segments)),t.attributes.contentProtection&&(e[i].attributes.contentProtection=t.attributes.contentProtection)):(e[i]=t,e[i].attributes.timelineStarts=[]),e[i].attributes.timelineStarts.push({start:t.attributes.periodStart,timeline:t.attributes.periodStart}),e}),{}));i=i.concat(t)})),i.map((e=>(e.discontinuityStarts=((e,t)=>e.reduce(((e,i,n)=>(i[t]&&e.push(n),e)),[]))(e.segments||[],"discontinuity"),e)))},MU=(e,t)=>{const i=NU(e.sidx),n=i&&t[i]&&t[i].sidx;return n&&EU(e,n,e.sidx.resolvedUri),e},PU=(e,t={})=>{if(!Object.keys(t).length)return e;for(const i in e)e[i]=MU(e[i],t);return e},IU=({attributes:e,segments:t,sidx:i,discontinuityStarts:n})=>{const r={attributes:{NAME:e.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:e.width,height:e.height},CODECS:e.codecs,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuityStarts:n,timelineStarts:e.timelineStarts,segments:t};return e.frameRate&&(r.attributes["FRAME-RATE"]=e.frameRate),e.contentProtection&&(r.contentProtection=e.contentProtection),e.serviceLocation&&(r.attributes.serviceLocation=e.serviceLocation),i&&(r.sidx=i),r},RU=({attributes:e})=>"video/mp4"===e.mimeType||"video/webm"===e.mimeType||"video"===e.contentType,LU=({attributes:e})=>"audio/mp4"===e.mimeType||"audio/webm"===e.mimeType||"audio"===e.contentType,DU=({attributes:e})=>"text/vtt"===e.mimeType||"text"===e.contentType,jU=e=>e?Object.keys(e).reduce(((t,i)=>{const n=e[i];return t.concat(n.playlists)}),[]):[],$U=({dashPlaylists:e,locations:t,contentSteering:i,sidxMapping:n={},previousManifest:r,eventStream:a})=>{if(!e.length)return{};const{sourceDuration:s,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:c}=e[0].attributes,d=OU(e.filter(RU)).map(IU),u=OU(e.filter(LU)),h=OU(e.filter(DU)),p=e.map((e=>e.attributes.captionServices)).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:s,playlists:PU(d,n)};c>=0&&(m.minimumUpdatePeriod=1e3*c),t&&(m.locations=t),i&&(m.contentSteering=i),"dynamic"===o&&(m.suggestedPresentationDelay=l),a&&a.length>0&&(m.eventStream=a);const f=0===m.playlists.length,g=u.length?((e,t={},i=!1)=>{let n;const r=e.reduce(((e,r)=>{const a=r.attributes.role&&r.attributes.role.value||"",s=r.attributes.lang||"";let o=r.attributes.label||"main";if(s&&!r.attributes.label){const e=a?` (${a})`:"";o=`${r.attributes.lang}${e}`}e[o]||(e[o]={language:s,autoselect:!0,default:"main"===a,playlists:[],uri:""});const l=MU((({attributes:e,segments:t,sidx:i,mediaSequence:n,discontinuitySequence:r,discontinuityStarts:a},s)=>{const o={attributes:{NAME:e.id,BANDWIDTH:e.bandwidth,CODECS:e.codecs,"PROGRAM-ID":1},uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,discontinuitySequence:r,discontinuityStarts:a,timelineStarts:e.timelineStarts,mediaSequence:n,segments:t};return e.contentProtection&&(o.contentProtection=e.contentProtection),e.serviceLocation&&(o.attributes.serviceLocation=e.serviceLocation),i&&(o.sidx=i),s&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o})(r,i),t);return e[o].playlists.push(l),void 0===n&&"main"===a&&(n=r,n.default=!0),e}),{});n||(r[Object.keys(r)[0]].default=!0);return r})(u,n,f):null,y=h.length?((e,t={})=>e.reduce(((e,i)=>{const n=i.attributes.label||i.attributes.lang||"text";return e[n]||(e[n]={language:n,default:!1,autoselect:!1,playlists:[],uri:""}),e[n].playlists.push(MU((({attributes:e,segments:t,mediaSequence:i,discontinuityStarts:n,discontinuitySequence:r})=>{void 0===t&&(t=[{uri:e.baseUrl,timeline:e.periodStart,resolvedUri:e.baseUrl||"",duration:e.sourceDuration,number:0}],e.duration=e.sourceDuration);const a={NAME:e.id,BANDWIDTH:e.bandwidth,"PROGRAM-ID":1};e.codecs&&(a.CODECS=e.codecs);const s={attributes:a,uri:"",endList:"static"===e.type,timeline:e.periodStart,resolvedUri:e.baseUrl||"",targetDuration:e.duration,timelineStarts:e.timelineStarts,discontinuityStarts:n,discontinuitySequence:r,mediaSequence:i,segments:t};return e.serviceLocation&&(s.attributes.serviceLocation=e.serviceLocation),s})(i),t)),e}),{}))(h,n):null,b=d.concat(jU(g),jU(y)),v=b.map((({timelineStarts:e})=>e));var w,T;return m.timelineStarts=SU(v),w=b,T=m.timelineStarts,w.forEach((e=>{e.mediaSequence=0,e.discontinuitySequence=T.findIndex((function({timeline:t}){return t===e.timeline})),e.segments&&e.segments.forEach(((e,t)=>{e.number=t}))})),g&&(m.mediaGroups.AUDIO.audio=g),y&&(m.mediaGroups.SUBTITLES.subs=y),p.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=p.reduce(((e,t)=>t?(t.forEach((t=>{const{channel:i,language:n}=t;e[n]={autoselect:!1,default:!1,instreamId:i,language:n},t.hasOwnProperty("aspectRatio")&&(e[n].aspectRatio=t.aspectRatio),t.hasOwnProperty("easyReader")&&(e[n].easyReader=t.easyReader),t.hasOwnProperty("3D")&&(e[n]["3D"]=t["3D"])})),e):e),{})),r?AU({oldManifest:r,newManifest:m}):m},BU=(e,t,i)=>{const{NOW:n,clientOffset:r,availabilityStartTime:a,timescale:s=1,periodStart:o=0,minimumUpdatePeriod:l=0}=e,c=(n+r)/1e3+l-(a+o);return Math.ceil((c*s-t)/i)},qU=(e,t)=>{const{type:i,minimumUpdatePeriod:n=0,media:r="",sourceDuration:a,timescale:s=1,startNumber:o=1,periodStart:l}=e,c=[];let d=-1;for(let u=0;u<t.length;u++){const h=t[u],p=h.d,m=h.r||0,f=h.t||0;let g;if(d<0&&(d=f),f&&f>d&&(d=f),m<0){const o=u+1;g=o===t.length?"dynamic"===i&&n>0&&r.indexOf("$Number$")>0?BU(e,d,p):(a*s-d)/p:(t[o].t-d)/p}else g=m+1;const y=o+c.length+g;let b=o+c.length;for(;b<y;)c.push({number:b,duration:p/s,time:d,timeline:l}),d+=p,b++}return c},UU=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,FU=(e,t)=>e.replace(UU,(e=>(t,i,n,r)=>{if("$$"===t)return"$";if(void 0===e[i])return t;const a=""+e[i];return"RepresentationID"===i?a:(r=n?parseInt(r,10):1,a.length>=r?a:`${new Array(r-a.length+1).join("0")}${a}`)})(t)),zU=(e,t)=>{const i={RepresentationID:e.id,Bandwidth:e.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=e,r=bU({baseUrl:e.baseUrl,source:FU(n.sourceURL,i),range:n.range}),a=((e,t)=>e.duration||t?e.duration?TU(e):qU(e,t):[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}])(e,t);return a.map((t=>{i.Number=t.number,i.Time=t.time;const n=FU(e.media||"",i),a=e.timescale||1,s=e.presentationTimeOffset||0,o=e.periodStart+(t.time-s)/a;return{uri:n,timeline:t.timeline,duration:t.duration,resolvedUri:Y$(e.baseUrl||"",n),map:r,number:t.number,presentationTime:o}}))},VU=(e,t)=>{const{duration:i,segmentUrls:n=[],periodStart:r}=e;if(!i&&!t||i&&t)throw new Error(gU);const a=n.map((t=>((e,t)=>{const{baseUrl:i,initialization:n={}}=e,r=bU({baseUrl:i,source:n.sourceURL,range:n.range}),a=bU({baseUrl:i,source:t.media,range:t.mediaRange});return a.map=r,a})(e,t)));let s;i&&(s=TU(e)),t&&(s=qU(e,t));return s.map(((t,i)=>{if(a[i]){const n=a[i],s=e.timescale||1,o=e.presentationTimeOffset||0;return n.timeline=t.timeline,n.duration=t.duration,n.number=t.number,n.presentationTime=r+(t.time-o)/s,n}})).filter((e=>e))},HU=({attributes:e,segmentInfo:t})=>{let i,n;t.template?(n=zU,i=lU(e,t.template)):t.base?(n=xU,i=lU(e,t.base)):t.list&&(n=VU,i=lU(e,t.list));const r={attributes:e};if(!n)return r;const a=n(i,t.segmentTimeline);if(i.duration){const{duration:e,timescale:t=1}=i;i.duration=e/t}else a.length?i.duration=a.reduce(((e,t)=>Math.max(e,Math.ceil(t.duration))),0):i.duration=0;return r.attributes=i,r.segments=a,t.base&&i.indexRange&&(r.sidx=a[0],r.segments=[]),r},WU=(e,t)=>uU(e.childNodes).filter((({tagName:e})=>e===t)),GU=e=>e.textContent.trim(),KU=e=>{const t=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);if(!t)return 0;const[i,n,r,a,s,o]=t.slice(1);return 31536e3*parseFloat(i||0)+2592e3*parseFloat(n||0)+86400*parseFloat(r||0)+3600*parseFloat(a||0)+60*parseFloat(s||0)+parseFloat(o||0)},QU={mediaPresentationDuration:e=>KU(e),availabilityStartTime(e){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t=e)&&(t+="Z"),Date.parse(t)/1e3;var t},minimumUpdatePeriod:e=>KU(e),suggestedPresentationDelay:e=>KU(e),type:e=>e,timeShiftBufferDepth:e=>KU(e),start:e=>KU(e),width:e=>parseInt(e,10),height:e=>parseInt(e,10),bandwidth:e=>parseInt(e,10),frameRate:e=>(e=>parseFloat(e.split("/").reduce(((e,t)=>e/t))))(e),startNumber:e=>parseInt(e,10),timescale:e=>parseInt(e,10),presentationTimeOffset:e=>parseInt(e,10),duration(e){const t=parseInt(e,10);return isNaN(t)?KU(e):t},d:e=>parseInt(e,10),t:e=>parseInt(e,10),r:e=>parseInt(e,10),presentationTime:e=>parseInt(e,10),DEFAULT:e=>e},YU=e=>e&&e.attributes?uU(e.attributes).reduce(((e,t)=>{const i=QU[t.name]||QU.DEFAULT;return e[t.name]=i(t.value),e}),{}):{},XU={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},JU=(e,t)=>t.length?dU(e.map((function(e){return t.map((function(t){const i=GU(t),n=Y$(e.baseUrl,i),r=lU(YU(t),{baseUrl:n});return n!==i&&!r.serviceLocation&&e.serviceLocation&&(r.serviceLocation=e.serviceLocation),r}))}))):e,ZU=e=>{const t=WU(e,"SegmentTemplate")[0],i=WU(e,"SegmentList")[0],n=i&&WU(i,"SegmentURL").map((e=>lU({tag:"SegmentURL"},YU(e)))),r=WU(e,"SegmentBase")[0],a=i||t,s=a&&WU(a,"SegmentTimeline")[0],o=i||r||t,l=o&&WU(o,"Initialization")[0],c=t&&YU(t);c&&l?c.initialization=l&&YU(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const d={template:c,segmentTimeline:s&&WU(s,"S").map((e=>YU(e))),list:i&&lU(YU(i),{segmentUrls:n,initialization:YU(l)}),base:r&&lU(YU(r),{initialization:YU(l)})};return Object.keys(d).forEach((e=>{d[e]||delete d[e]})),d},eF=e=>dU(WU(e.node,"EventStream").map((t=>{const i=YU(t),n=i.schemeIdUri;return WU(t,"Event").map((t=>{const r=YU(t),a=r.presentationTime||0,s=i.timescale||1,o=r.duration||0,l=a/s+e.attributes.start;return{schemeIdUri:n,value:i.value,id:r.id,start:l,end:l+o/s,messageData:GU(t)||r.messageData,contentEncoding:i.contentEncoding,presentationTimeOffset:i.presentationTimeOffset||0}}))}))),tF=(e,t,i)=>n=>{const r=YU(n),a=JU(t,WU(n,"BaseURL")),s=WU(n,"Role")[0],o={role:YU(s)};let l=lU(e,r,o);const c=WU(n,"Accessibility")[0],d=(e=>{if("urn:scte:dash:cc:cea-608:2015"===e.schemeIdUri)return("string"!=typeof e.value?[]:e.value.split(";")).map((e=>{let t,i;return i=e,/^CC\d=/.test(e)?[t,i]=e.split("="):/^CC\d$/.test(e)&&(t=e),{channel:t,language:i}}));if("urn:scte:dash:cc:cea-708:2015"===e.schemeIdUri)return("string"!=typeof e.value?[]:e.value.split(";")).map((e=>{const t={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){const[i,n=""]=e.split("=");t.channel=i,t.language=e,n.split(",").forEach((e=>{const[i,n]=e.split(":");"lang"===i?t.language=n:"er"===i?t.easyReader=Number(n):"war"===i?t.aspectRatio=Number(n):"3D"===i&&(t["3D"]=Number(n))}))}else t.language=e;return t.channel&&(t.channel="SERVICE"+t.channel),t}))})(YU(c));d&&(l=lU(l,{captionServices:d}));const u=WU(n,"Label")[0];if(u&&u.childNodes.length){const e=u.childNodes[0].nodeValue.trim();l=lU(l,{label:e})}const h=WU(n,"ContentProtection").reduce(((e,t)=>{const i=YU(t);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const n=XU[i.schemeIdUri];if(n){e[n]={attributes:i};const r=WU(t,"cenc:pssh")[0];if(r){const t=GU(r);e[n].pssh=t&&X$(t)}}return e}),{});Object.keys(h).length&&(l=lU(l,{contentProtection:h}));const p=ZU(n),m=WU(n,"Representation"),f=lU(i,p);return dU(m.map(((e,t,i)=>n=>{const r=WU(n,"BaseURL"),a=JU(t,r),s=lU(e,YU(n)),o=ZU(n);return a.map((e=>({segmentInfo:lU(i,o),attributes:lU(s,e)})))})(l,a,f)))},iF=(e,t)=>(i,n)=>{const r=JU(t,WU(i.node,"BaseURL")),a=lU(e,{periodStart:i.attributes.start});"number"==typeof i.attributes.duration&&(a.periodDuration=i.attributes.duration);const s=WU(i.node,"AdaptationSet"),o=ZU(i.node);return dU(s.map(tF(a,r,o)))},nF=(e,t)=>{if(e.length>1&&t({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!e.length)return null;const i=lU({serverURL:GU(e[0])},YU(e[0]));return i.queryBeforeStart="true"===i.queryBeforeStart,i},rF=e=>{if(""===e)throw new Error(pU);const t=new sU;let i,n;try{i=t.parseFromString(e,"application/xml"),n=i&&"MPD"===i.documentElement.tagName?i.documentElement:null}catch(E_){}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(mU);return n},aF=(e,t={})=>{const i=((e,t={})=>{const{manifestUri:i="",NOW:n=Date.now(),clientOffset:r=0,eventHandler:a=function(){}}=t,s=WU(e,"Period");if(!s.length)throw new Error(hU);const o=WU(e,"Location"),l=YU(e),c=JU([{baseUrl:i}],WU(e,"BaseURL")),d=WU(e,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=r,o.length&&(l.locations=o.map(GU));const u=[];return s.forEach(((e,t)=>{const i=YU(e),n=u[t-1];i.start=(({attributes:e,priorPeriodAttributes:t,mpdType:i})=>"number"==typeof e.start?e.start:t&&"number"==typeof t.start&&"number"==typeof t.duration?t.start+t.duration:t||"static"!==i?null:0)({attributes:i,priorPeriodAttributes:n?n.attributes:null,mpdType:l.type}),u.push({node:e,attributes:i})})),{locations:l.locations,contentSteeringInfo:nF(d,a),representationInfo:dU(u.map(iF(l,c))),eventStream:dU(u.map(eF))}})(rF(e),t),n=i.representationInfo.map(HU);return $U({dashPlaylists:n,locations:i.locations,contentSteering:i.contentSteeringInfo,sidxMapping:t.sidxMapping,previousManifest:t.previousManifest,eventStream:i.eventStream})},sF=e=>(e=>{const t=WU(e,"UTCTiming")[0];if(!t)return null;const i=YU(t);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;default:throw new Error(yU)}return i})(rF(e));var oF=Math.pow(2,32),lF=function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.getBigUint64?(t=i.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:i.getUint32(0)*oF+i.getUint32(4)},cF=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength),i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),references:[],referenceId:t.getUint32(4),timescale:t.getUint32(8)},n=12;0===i.version?(i.earliestPresentationTime=t.getUint32(n),i.firstOffset=t.getUint32(n+4),n+=8):(i.earliestPresentationTime=lF(e.subarray(n)),i.firstOffset=lF(e.subarray(n+8)),n+=16),n+=2;var r=t.getUint16(n);for(n+=2;r>0;n+=12,r--)i.references.push({referenceType:(128&e[n])>>>7,referencedSize:2147483647&t.getUint32(n),subsegmentDuration:t.getUint32(n+4),startsWithSap:!!(128&e[n+8]),sapType:(112&e[n+8])>>>4,sapDeltaTime:268435455&t.getUint32(n+8)});return i};const dF=a(cF);var uF=F$([73,68,51]),hF=function e(t,i){return void 0===i&&(i=0),(t=F$(t)).length-i<10||!K$(t,uF,{offset:i})?i:(i+=function(e,t){void 0===t&&(t=0);var i=(e=F$(e))[t+5],n=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return(16&i)>>4?n+20:n+10}(t,i),e(t,i))},pF=function(e){return"string"==typeof e?G$(e):e},mF=function e(t,i,n){void 0===n&&(n=!1),i=function(e){return Array.isArray(e)?e.map((function(e){return pF(e)})):[pF(e)]}(i),t=F$(t);var r=[];if(!i.length)return r;for(var a=0;a<t.length;){var s=(t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3])>>>0,o=t.subarray(a+4,a+8);if(0===s)break;var l=a+s;if(l>t.length){if(n)break;l=t.length}var c=t.subarray(a+8,l);K$(o,i[0])&&(1===i.length?r.push(c):r.push.apply(r,e(c,i.slice(1),n))),a=l}return r},fF={EBML:F$([26,69,223,163]),DocType:F$([66,130]),Segment:F$([24,83,128,103]),SegmentInfo:F$([21,73,169,102]),Tracks:F$([22,84,174,107]),Track:F$([174]),TrackNumber:F$([215]),DefaultDuration:F$([35,227,131]),TrackEntry:F$([174]),TrackType:F$([131]),FlagDefault:F$([136]),CodecID:F$([134]),CodecPrivate:F$([99,162]),VideoTrack:F$([224]),AudioTrack:F$([225]),Cluster:F$([31,67,182,117]),Timestamp:F$([231]),TimestampScale:F$([42,215,177]),BlockGroup:F$([160]),BlockDuration:F$([155]),Block:F$([161]),SimpleBlock:F$([163])},gF=[128,64,32,16,8,4,2,1],yF=function(e,t,i,n){void 0===i&&(i=!0),void 0===n&&(n=!1);var r=function(e){for(var t=1,i=0;i<gF.length&&!(e&gF[i]);i++)t++;return t}(e[t]),a=e.subarray(t,t+r);return i&&((a=Array.prototype.slice.call(e,t,t+r))[0]^=gF[r-1]),{length:r,value:H$(a,{signed:n}),bytes:a}},bF=function e(t){return"string"==typeof t?t.match(/.{1,2}/g).map((function(t){return e(t)})):"number"==typeof t?W$(t):t},vF=function e(t,i,n){if(n>=i.length)return i.length;var r=yF(i,n,!1);if(K$(t.bytes,r.bytes))return n;var a=yF(i,n+r.length);return e(t,i,n+a.length+a.value+r.length)},wF=function e(t,i){i=function(e){return Array.isArray(e)?e.map((function(e){return bF(e)})):[bF(e)]}(i),t=F$(t);var n=[];if(!i.length)return n;for(var r=0;r<t.length;){var a=yF(t,r,!1),s=yF(t,r+a.length),o=r+a.length+s.length;127===s.value&&(s.value=vF(a,t,o),s.value!==t.length&&(s.value-=o));var l=o+s.value>t.length?t.length:o+s.value,c=t.subarray(o,l);K$(i[0],a.bytes)&&(1===i.length?n.push(c):n=n.concat(e(c,i.slice(1)))),r+=a.length+s.length+c.length}return n},TF=F$([0,0,0,1]),xF=F$([0,0,1]),EF=F$([0,0,3]),_F=function(e){for(var t=[],i=1;i<e.length-2;)K$(e.subarray(i,i+3),EF)&&(t.push(i+2),i++),i++;if(0===t.length)return e;var n=e.length-t.length,r=new Uint8Array(n),a=0;for(i=0;i<n;a++,i++)a===t[0]&&(a++,t.shift()),r[i]=e[a];return r},SF=function(e,t,i,n){void 0===n&&(n=1/0),e=F$(e),i=[].concat(i);for(var r,a=0,s=0;a<e.length&&(s<n||r);){var o=void 0;if(K$(e.subarray(a),TF)?o=4:K$(e.subarray(a),xF)&&(o=3),o){if(s++,r)return _F(e.subarray(r,a));var l=void 0;"h264"===t?l=31&e[a+o]:"h265"===t&&(l=e[a+o]>>1&63),-1!==i.indexOf(l)&&(r=a+o),a+=o+("h264"===t?1:2)}else a++}return e.subarray(0,0)},CF={webm:F$([119,101,98,109]),matroska:F$([109,97,116,114,111,115,107,97]),flac:F$([102,76,97,67]),ogg:F$([79,103,103,83]),ac3:F$([11,119]),riff:F$([82,73,70,70]),avi:F$([65,86,73]),wav:F$([87,65,86,69]),"3gp":F$([102,116,121,112,51,103]),mp4:F$([102,116,121,112]),fmp4:F$([115,116,121,112]),mov:F$([102,116,121,112,113,116]),moov:F$([109,111,111,118]),moof:F$([109,111,111,102])},kF={aac:function(e){var t=hF(e);return K$(e,[255,16],{offset:t,mask:[255,22]})},mp3:function(e){var t=hF(e);return K$(e,[255,2],{offset:t,mask:[255,6]})},webm:function(e){var t=wF(e,[fF.EBML,fF.DocType])[0];return K$(t,CF.webm)},mkv:function(e){var t=wF(e,[fF.EBML,fF.DocType])[0];return K$(t,CF.matroska)},mp4:function(e){return!kF["3gp"](e)&&!kF.mov(e)&&(!(!K$(e,CF.mp4,{offset:4})&&!K$(e,CF.fmp4,{offset:4}))||(!(!K$(e,CF.moof,{offset:4})&&!K$(e,CF.moov,{offset:4}))||void 0))},mov:function(e){return K$(e,CF.mov,{offset:4})},"3gp":function(e){return K$(e,CF["3gp"],{offset:4})},ac3:function(e){var t=hF(e);return K$(e,CF.ac3,{offset:t})},ts:function(e){if(e.length<189&&e.length>=1)return 71===e[0];for(var t=0;t+188<e.length&&t<188;){if(71===e[t]&&71===e[t+188])return!0;t+=1}return!1},flac:function(e){var t=hF(e);return K$(e,CF.flac,{offset:t})},ogg:function(e){return K$(e,CF.ogg)},avi:function(e){return K$(e,CF.riff)&&K$(e,CF.avi,{offset:8})},wav:function(e){return K$(e,CF.riff)&&K$(e,CF.wav,{offset:8})},h264:function(e){return function(e,t,i){return SF(e,"h264",t,i)}(e,7,3).length},h265:function(e){return function(e,t,i){return SF(e,"h265",t,i)}(e,[32,33],3).length}},AF=Object.keys(kF).filter((function(e){return"ts"!==e&&"h264"!==e&&"h265"!==e})).concat(["ts","h264","h265"]);AF.forEach((function(e){var t=kF[e];kF[e]=function(e){return t(F$(e))}}));var NF,OF,MF,PF,IF=kF,RF=function(e){e=F$(e);for(var t=0;t<AF.length;t++){var i=AF[t];if(IF[i](e))return i}return""},LF=9e4;var DF=LF,jF=(NF=function(e){return e*LF},OF=function(e,t){return e*t},MF=function(e){return e/LF},PF=function(e,t){return e/t},"8.5.2");
/**
             * @license
             * Video.js 8.5.2 <http://videojs.com/>
             * Copyright Brightcove, Inc. <https://www.brightcove.com/>
             * Available under Apache License Version 2.0
             * <https://github.com/videojs/video.js/blob/main/LICENSE>
             *
             * Includes vtt.js <https://github.com/mozilla/vtt.js>
             * Available under Apache License Version 2.0
             * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
             */const $F={},BF=function(e,t){return $F[e]=$F[e]||[],t&&($F[e]=$F[e].concat(t)),$F[e]},qF=function(e,t){const i=BF(e).indexOf(t);return!(i<=-1)&&($F[e]=$F[e].slice(),$F[e].splice(i,1),!0)},UF={prefixed:!0},FF=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],zF=FF[0];let VF;for(let oZ=0;oZ<FF.length;oZ++)if(FF[oZ][1]in pj){VF=FF[oZ];break}if(VF){for(let lZ=0;lZ<VF.length;lZ++)UF[zF[lZ]]=VF[lZ];UF.prefixed=VF[0]!==zF[0]}let HF=[];const WF=function e(t){let i,n="info";const r=function(...e){i("log",n,e)};return i=((e,t)=>(i,n,r)=>{const a=t.levels[n],s=new RegExp(`^(${a})$`);if("log"!==i&&r.unshift(i.toUpperCase()+":"),r.unshift(e+":"),HF){HF.push([].concat(r));const e=HF.length-1e3;HF.splice(0,e>0?e:0)}if(!lj.console)return;let o=lj.console[i];o||"debug"!==i||(o=lj.console.info||lj.console.log),o&&a&&s.test(i)&&o[Array.isArray(r)?"apply":"call"](lj.console,r)})(t,r),r.createLogger=i=>e(t+": "+i),r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},r.level=e=>{if("string"==typeof e){if(!r.levels.hasOwnProperty(e))throw new Error(`"${e}" in not a valid log level`);n=e}return n},(r.history=()=>HF?[].concat(HF):[]).filter=e=>(HF||[]).filter((t=>new RegExp(`.*${e}.*`).test(t[0]))),r.history.clear=()=>{HF&&(HF.length=0)},r.history.disable=()=>{null!==HF&&(HF.length=0,HF=null)},r.history.enable=()=>{null===HF&&(HF=[])},r.error=(...e)=>i("error",n,e),r.warn=(...e)=>i("warn",n,e),r.debug=(...e)=>i("debug",n,e),r}("VIDEOJS"),GF=WF.createLogger,KF=Object.prototype.toString,QF=function(e){return JF(e)?Object.keys(e):[]};function YF(e,t){QF(e).forEach((i=>t(e[i],i)))}function XF(e,t,i=0){return QF(e).reduce(((i,n)=>t(i,e[n],n)),i)}function JF(e){return!!e&&"object"==typeof e}function ZF(e){return JF(e)&&"[object Object]"===KF.call(e)&&e.constructor===Object}function ez(...e){const t={};return e.forEach((e=>{e&&YF(e,((e,i)=>{ZF(e)?(ZF(t[i])||(t[i]={}),t[i]=ez(t[i],e)):t[i]=e}))})),t}function tz(e={}){const t=[];for(const i in e)if(e.hasOwnProperty(i)){const n=e[i];t.push(n)}return t}function iz(e,t,i,n=!0){const r=i=>Object.defineProperty(e,t,{value:i,enumerable:!0,writable:!0}),a={configurable:!0,enumerable:!0,get(){const e=i();return r(e),e}};return n&&(a.set=r),Object.defineProperty(e,t,a)}var nz=Object.freeze({__proto__:null,each:YF,reduce:XF,isObject:JF,isPlain:ZF,merge:ez,values:tz,defineLazyProperty:iz});let rz,az=!1,sz=null,oz=!1,lz=!1,cz=!1,dz=!1,uz=!1,hz=null,pz=null,mz=null,fz=!1,gz=!1,yz=!1,bz=!1;const vz=Boolean(Sz()&&("ontouchstart"in lj||lj.navigator.maxTouchPoints||lj.DocumentTouch&&lj.document instanceof lj.DocumentTouch)),wz=lj.navigator&&lj.navigator.userAgentData;if(wz&&(oz="Android"===wz.platform,cz=Boolean(wz.brands.find((e=>"Microsoft Edge"===e.brand))),dz=Boolean(wz.brands.find((e=>"Chromium"===e.brand))),uz=!cz&&dz,hz=pz=(wz.brands.find((e=>"Chromium"===e.brand))||{}).version||null,gz="Windows"===wz.platform),!dz){const cZ=lj.navigator&&lj.navigator.userAgent||"";az=/iPod/i.test(cZ),sz=function(){const e=cZ.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),oz=/Android/i.test(cZ),rz=function(){const e=cZ.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const t=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return t&&i?parseFloat(e[1]+"."+e[2]):t||null}(),lz=/Firefox/i.test(cZ),cz=/Edg/i.test(cZ),dz=/Chrome/i.test(cZ)||/CriOS/i.test(cZ),uz=!cz&&dz,hz=pz=function(){const e=cZ.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),mz=function(){const e=/MSIE\s(\d+)\.\d/.exec(cZ);let t=e&&parseFloat(e[1]);return!t&&/Trident\/7.0/i.test(cZ)&&/rv:11.0/.test(cZ)&&(t=11),t}(),fz=/Safari/i.test(cZ)&&!uz&&!oz&&!cz,gz=/Windows/i.test(cZ),yz=/iPad/i.test(cZ)||fz&&vz&&!/iPhone/i.test(cZ),bz=/iPhone/i.test(cZ)&&!yz}const Tz=bz||yz||az,xz=(fz||Tz)&&!uz;var Ez=Object.freeze({__proto__:null,get IS_IPOD(){return az},get IOS_VERSION(){return sz},get IS_ANDROID(){return oz},get ANDROID_VERSION(){return rz},get IS_FIREFOX(){return lz},get IS_EDGE(){return cz},get IS_CHROMIUM(){return dz},get IS_CHROME(){return uz},get CHROMIUM_VERSION(){return hz},get CHROME_VERSION(){return pz},get IE_VERSION(){return mz},get IS_SAFARI(){return fz},get IS_WINDOWS(){return gz},get IS_IPAD(){return yz},get IS_IPHONE(){return bz},TOUCH_ENABLED:vz,IS_IOS:Tz,IS_ANY_SAFARI:xz});function _z(e){return"string"==typeof e&&Boolean(e.trim())}function Sz(){return pj===lj.document}function Cz(e){return JF(e)&&1===e.nodeType}function kz(){try{return lj.parent!==lj.self}catch(Uh){return!0}}function Az(e){return function(t,i){if(!_z(t))return pj[e](null);_z(i)&&(i=pj.querySelector(i));const n=Cz(i)?i:pj;return n[e]&&n[e](t)}}function Nz(e="div",t={},i={},n){const r=pj.createElement(e);return Object.getOwnPropertyNames(t).forEach((function(e){const i=t[e];"textContent"===e?Oz(r,i):r[e]===i&&"tabIndex"!==e||(r[e]=i)})),Object.getOwnPropertyNames(i).forEach((function(e){r.setAttribute(e,i[e])})),n&&Qz(r,n),r}function Oz(e,t){return void 0===e.textContent?e.innerText=t:e.textContent=t,e}function Mz(e,t){t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e)}function Pz(e,t){return function(e){if(e.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}(t),e.classList.contains(t)}function Iz(e,...t){return e.classList.add(...t.reduce(((e,t)=>e.concat(t.split(/\s+/))),[])),e}function Rz(e,...t){return e?(e.classList.remove(...t.reduce(((e,t)=>e.concat(t.split(/\s+/))),[])),e):(WF.warn("removeClass was called with an element that doesn't exist"),null)}function Lz(e,t,i){return"function"==typeof i&&(i=i(e,t)),"boolean"!=typeof i&&(i=void 0),t.split(/\s+/).forEach((t=>e.classList.toggle(t,i))),e}function Dz(e,t){Object.getOwnPropertyNames(t).forEach((function(i){const n=t[i];null==n||!1===n?e.removeAttribute(i):e.setAttribute(i,!0===n?"":n)}))}function jz(e){const t={},i=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(e&&e.attributes&&e.attributes.length>0){const n=e.attributes;for(let e=n.length-1;e>=0;e--){const r=n[e].name;let a=n[e].value;i.includes(r)&&(a=null!==a),t[r]=a}}return t}function $z(e,t){return e.getAttribute(t)}function Bz(e,t,i){e.setAttribute(t,i)}function qz(e,t){e.removeAttribute(t)}function Uz(){pj.body.focus(),pj.onselectstart=function(){return!1}}function Fz(){pj.onselectstart=function(){return!0}}function zz(e){if(e&&e.getBoundingClientRect&&e.parentNode){const t=e.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach((e=>{void 0!==t[e]&&(i[e]=t[e])})),i.height||(i.height=parseFloat(eV(e,"height"))),i.width||(i.width=parseFloat(eV(e,"width"))),i}}function Vz(e){if(!e||e&&!e.offsetParent)return{left:0,top:0,width:0,height:0};const t=e.offsetWidth,i=e.offsetHeight;let n=0,r=0;for(;e.offsetParent&&e!==pj[UF.fullscreenElement];)n+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;return{left:n,top:r,width:t,height:i}}function Hz(e,t){const i={x:0,y:0};if(Tz){let t=e;for(;t&&"html"!==t.nodeName.toLowerCase();){const e=eV(t,"transform");if(/^matrix/.test(e)){const t=e.slice(7,-1).split(/,\s/).map(Number);i.x+=t[4],i.y+=t[5]}else if(/^matrix3d/.test(e)){const t=e.slice(9,-1).split(/,\s/).map(Number);i.x+=t[12],i.y+=t[13]}t=t.parentNode}}const n={},r=Vz(t.target),a=Vz(e),s=a.width,o=a.height;let l=t.offsetY-(a.top-r.top),c=t.offsetX-(a.left-r.left);return t.changedTouches&&(c=t.changedTouches[0].pageX-a.left,l=t.changedTouches[0].pageY+a.top,Tz&&(c-=i.x,l-=i.y)),n.y=1-Math.max(0,Math.min(1,l/o)),n.x=Math.max(0,Math.min(1,c/s)),n}function Wz(e){return JF(e)&&3===e.nodeType}function Gz(e){for(;e.firstChild;)e.removeChild(e.firstChild);return e}function Kz(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map((e=>("function"==typeof e&&(e=e()),Cz(e)||Wz(e)?e:"string"==typeof e&&/\S/.test(e)?pj.createTextNode(e):void 0))).filter((e=>e))}function Qz(e,t){return Kz(t).forEach((t=>e.appendChild(t))),e}function Yz(e,t){return Qz(Gz(e),t)}function Xz(e){return void 0===e.button&&void 0===e.buttons||(0===e.button&&void 0===e.buttons||("mouseup"===e.type&&0===e.button&&0===e.buttons||0===e.button&&1===e.buttons))}const Jz=Az("querySelector"),Zz=Az("querySelectorAll");function eV(e,t){if(!e||!t)return"";if("function"==typeof lj.getComputedStyle){let i;try{i=lj.getComputedStyle(e)}catch(E_){return""}return i?i.getPropertyValue(t)||i[t]:""}return""}function tV(e){[...pj.styleSheets].forEach((t=>{try{const i=[...t.cssRules].map((e=>e.cssText)).join(""),n=pj.createElement("style");n.textContent=i,e.document.head.appendChild(n)}catch(E_){const n=pj.createElement("link");n.rel="stylesheet",n.type=t.type,n.media=t.media.mediaText,n.href=t.href,e.document.head.appendChild(n)}}))}var iV=Object.freeze({__proto__:null,isReal:Sz,isEl:Cz,isInFrame:kz,createEl:Nz,textContent:Oz,prependTo:Mz,hasClass:Pz,addClass:Iz,removeClass:Rz,toggleClass:Lz,setAttributes:Dz,getAttributes:jz,getAttribute:$z,setAttribute:Bz,removeAttribute:qz,blockTextSelection:Uz,unblockTextSelection:Fz,getBoundingClientRect:zz,findPosition:Vz,getPointerPosition:Hz,isTextNode:Wz,emptyEl:Gz,normalizeContent:Kz,appendContent:Qz,insertContent:Yz,isSingleLeftClick:Xz,$:Jz,$$:Zz,computedStyle:eV,copyStyleSheetsToWindow:tV});let nV,rV=!1;const aV=function(){if(!1===nV.options.autoSetup)return;const e=Array.prototype.slice.call(pj.getElementsByTagName("video")),t=Array.prototype.slice.call(pj.getElementsByTagName("audio")),i=Array.prototype.slice.call(pj.getElementsByTagName("video-js")),n=e.concat(t,i);if(n&&n.length>0)for(let r=0,a=n.length;r<a;r++){const e=n[r];if(!e||!e.getAttribute){sV(1);break}if(void 0===e.player){null!==e.getAttribute("data-setup")&&nV(e)}}else rV||sV(1)};function sV(e,t){Sz()&&(t&&(nV=t),lj.setTimeout(aV,e))}function oV(){rV=!0,lj.removeEventListener("load",oV)}Sz()&&("complete"===pj.readyState?oV():lj.addEventListener("load",oV));const lV=function(e){const t=pj.createElement("style");return t.className=e,t},cV=function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.textContent=t};var dV=new WeakMap;let uV,hV=3;function pV(){return hV++}function mV(e,t){if(!dV.has(e))return;const i=dV.get(e);0===i.handlers[t].length&&(delete i.handlers[t],e.removeEventListener?e.removeEventListener(t,i.dispatcher,!1):e.detachEvent&&e.detachEvent("on"+t,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&dV.delete(e)}function fV(e,t,i,n){i.forEach((function(i){e(t,i,n)}))}function gV(e){if(e.fixed_)return e;function t(){return!0}function i(){return!1}if(!e||!e.isPropagationStopped||!e.isImmediatePropagationStopped){const n=e||lj.event;e={};for(const t in n)"layerX"!==t&&"layerY"!==t&&"keyLocation"!==t&&"webkitMovementX"!==t&&"webkitMovementY"!==t&&"path"!==t&&("returnValue"===t&&n.preventDefault||(e[t]=n[t]));if(e.target||(e.target=e.srcElement||pj),e.relatedTarget||(e.relatedTarget=e.fromElement===e.target?e.toElement:e.fromElement),e.preventDefault=function(){n.preventDefault&&n.preventDefault(),e.returnValue=!1,n.returnValue=!1,e.defaultPrevented=!0},e.defaultPrevented=!1,e.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),e.cancelBubble=!0,n.cancelBubble=!0,e.isPropagationStopped=t},e.isPropagationStopped=i,e.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),e.isImmediatePropagationStopped=t,e.stopPropagation()},e.isImmediatePropagationStopped=i,null!==e.clientX&&void 0!==e.clientX){const t=pj.documentElement,i=pj.body;e.pageX=e.clientX+(t&&t.scrollLeft||i&&i.scrollLeft||0)-(t&&t.clientLeft||i&&i.clientLeft||0),e.pageY=e.clientY+(t&&t.scrollTop||i&&i.scrollTop||0)-(t&&t.clientTop||i&&i.clientTop||0)}e.which=e.charCode||e.keyCode,null!==e.button&&void 0!==e.button&&(e.button=1&e.button?0:4&e.button?1:2&e.button?2:0)}return e.fixed_=!0,e}const yV=function(){if("boolean"!=typeof uV){uV=!1;try{const e=Object.defineProperty({},"passive",{get(){uV=!0}});lj.addEventListener("test",null,e),lj.removeEventListener("test",null,e)}catch(E_){}}return uV},bV=["touchstart","touchmove"];function vV(e,t,i){if(Array.isArray(t))return fV(vV,e,t,i);dV.has(e)||dV.set(e,{});const n=dV.get(e);if(n.handlers||(n.handlers={}),n.handlers[t]||(n.handlers[t]=[]),i.guid||(i.guid=pV()),n.handlers[t].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(t,i){if(n.disabled)return;t=gV(t);const r=n.handlers[t.type];if(r){const n=r.slice(0);for(let r=0,a=n.length;r<a&&!t.isImmediatePropagationStopped();r++)try{n[r].call(e,t,i)}catch(E_){WF.error(E_)}}}),1===n.handlers[t].length)if(e.addEventListener){let i=!1;yV()&&bV.indexOf(t)>-1&&(i={passive:!0}),e.addEventListener(t,n.dispatcher,i)}else e.attachEvent&&e.attachEvent("on"+t,n.dispatcher)}function wV(e,t,i){if(!dV.has(e))return;const n=dV.get(e);if(!n.handlers)return;if(Array.isArray(t))return fV(wV,e,t,i);const r=function(e,t){n.handlers[t]=[],mV(e,t)};if(void 0===t){for(const t in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},t)&&r(e,t);return}const a=n.handlers[t];if(a)if(i){if(i.guid)for(let e=0;e<a.length;e++)a[e].guid===i.guid&&a.splice(e--,1);mV(e,t)}else r(e,t)}function TV(e,t,i){const n=dV.has(e)?dV.get(e):{},r=e.parentNode||e.ownerDocument;if("string"==typeof t?t={type:t,target:e}:t.target||(t.target=e),t=gV(t),n.dispatcher&&n.dispatcher.call(e,t,i),r&&!t.isPropagationStopped()&&!0===t.bubbles)TV.call(null,r,t,i);else if(!r&&!t.defaultPrevented&&t.target&&t.target[t.type]){dV.has(t.target)||dV.set(t.target,{});const e=dV.get(t.target);t.target[t.type]&&(e.disabled=!0,"function"==typeof t.target[t.type]&&t.target[t.type](),e.disabled=!1)}return!t.defaultPrevented}function xV(e,t,i){if(Array.isArray(t))return fV(xV,e,t,i);const n=function(){wV(e,t,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||pV(),vV(e,t,n)}function EV(e,t,i){const n=function(){wV(e,t,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||pV(),vV(e,t,n)}var _V=Object.freeze({__proto__:null,fixEvent:gV,on:vV,off:wV,trigger:TV,one:xV,any:EV});const SV=30,CV=function(e,t,i){t.guid||(t.guid=pV());const n=t.bind(e);return n.guid=i?i+"_"+t.guid:t.guid,n},kV=function(e,t){let i=lj.performance.now();return function(...n){const r=lj.performance.now();r-i>=t&&(e(...n),i=r)}},AV=function(e,t,i,n=lj){let r;const a=function(){const a=this,s=arguments;let o=function(){r=null,o=null,i||e.apply(a,s)};!r&&i&&e.apply(a,s),n.clearTimeout(r),r=n.setTimeout(o,t)};return a.cancel=()=>{n.clearTimeout(r),r=null},a};var NV=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:SV,bind_:CV,throttle:kV,debounce:AV});let OV;class MV{on(e,t){const i=this.addEventListener;this.addEventListener=()=>{},vV(this,e,t),this.addEventListener=i}off(e,t){wV(this,e,t)}one(e,t){const i=this.addEventListener;this.addEventListener=()=>{},xV(this,e,t),this.addEventListener=i}any(e,t){const i=this.addEventListener;this.addEventListener=()=>{},EV(this,e,t),this.addEventListener=i}trigger(e){const t=e.type||e;"string"==typeof e&&(e={type:t}),e=gV(e),this.allowedEvents_[t]&&this["on"+t]&&this["on"+t](e),TV(this,e)}queueTrigger(e){OV||(OV=new Map);const t=e.type||e;let i=OV.get(this);i||(i=new Map,OV.set(this,i));const n=i.get(t);i.delete(t),lj.clearTimeout(n);const r=lj.setTimeout((()=>{i.delete(t),0===i.size&&(i=null,OV.delete(this)),this.trigger(e)}),0);i.set(t,r)}}MV.prototype.allowedEvents_={},MV.prototype.addEventListener=MV.prototype.on,MV.prototype.removeEventListener=MV.prototype.off,MV.prototype.dispatchEvent=MV.prototype.trigger;const PV=e=>"function"==typeof e.name?e.name():"string"==typeof e.name?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e,IV=e=>e instanceof MV||!!e.eventBusEl_&&["on","one","off","trigger"].every((t=>"function"==typeof e[t])),RV=e=>"string"==typeof e&&/\S/.test(e)||Array.isArray(e)&&!!e.length,LV=(e,t,i)=>{if(!e||!e.nodeName&&!IV(e))throw new Error(`Invalid target for ${PV(t)}#${i}; must be a DOM node or evented object.`)},DV=(e,t,i)=>{if(!RV(e))throw new Error(`Invalid event type for ${PV(t)}#${i}; must be a non-empty string or array.`)},jV=(e,t,i)=>{if("function"!=typeof e)throw new Error(`Invalid listener for ${PV(t)}#${i}; must be a function.`)},$V=(e,t,i)=>{const n=t.length<3||t[0]===e||t[0]===e.eventBusEl_;let r,a,s;return n?(r=e.eventBusEl_,t.length>=3&&t.shift(),[a,s]=t):[r,a,s]=t,LV(r,e,i),DV(a,e,i),jV(s,e,i),s=CV(e,s),{isTargetingSelf:n,target:r,type:a,listener:s}},BV=(e,t,i,n)=>{LV(e,e,t),e.nodeName?_V[t](e,i,n):e[t](i,n)},qV={on(...e){const{isTargetingSelf:t,target:i,type:n,listener:r}=$V(this,e,"on");if(BV(i,"on",n,r),!t){const e=()=>this.off(i,n,r);e.guid=r.guid;const t=()=>this.off("dispose",e);t.guid=r.guid,BV(this,"on","dispose",e),BV(i,"on","dispose",t)}},one(...e){const{isTargetingSelf:t,target:i,type:n,listener:r}=$V(this,e,"one");if(t)BV(i,"one",n,r);else{const e=(...t)=>{this.off(i,n,e),r.apply(null,t)};e.guid=r.guid,BV(i,"one",n,e)}},any(...e){const{isTargetingSelf:t,target:i,type:n,listener:r}=$V(this,e,"any");if(t)BV(i,"any",n,r);else{const e=(...t)=>{this.off(i,n,e),r.apply(null,t)};e.guid=r.guid,BV(i,"any",n,e)}},off(e,t,i){if(!e||RV(e))wV(this.eventBusEl_,e,t);else{const n=e,r=t;LV(n,this,"off"),DV(r,this,"off"),jV(i,this,"off"),i=CV(this,i),this.off("dispose",i),n.nodeName?(wV(n,r,i),wV(n,"dispose",i)):IV(n)&&(n.off(r,i),n.off("dispose",i))}},trigger(e,t){LV(this.eventBusEl_,this,"trigger");const i=e&&"string"!=typeof e?e.type:e;if(!RV(i))throw new Error(`Invalid event type for ${PV(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return TV(this.eventBusEl_,e,t)}};function UV(e,t={}){const{eventBusKey:i}=t;if(i){if(!e[i].nodeName)throw new Error(`The eventBusKey "${i}" does not refer to an element.`);e.eventBusEl_=e[i]}else e.eventBusEl_=Nz("span",{className:"vjs-event-bus"});return Object.assign(e,qV),e.eventedCallbacks&&e.eventedCallbacks.forEach((e=>{e()})),e.on("dispose",(()=>{e.off(),[e,e.el_,e.eventBusEl_].forEach((function(e){e&&dV.has(e)&&dV.delete(e)})),lj.setTimeout((()=>{e.eventBusEl_=null}),0)})),e}const FV={state:{},setState(e){let t;return"function"==typeof e&&(e=e()),YF(e,((e,i)=>{this.state[i]!==e&&(t=t||{},t[i]={from:this.state[i],to:e}),this.state[i]=e})),t&&IV(this)&&this.trigger({changes:t,type:"statechanged"}),t}};function zV(e,t){return Object.assign(e,FV),e.state=Object.assign({},e.state,t),"function"==typeof e.handleStateChanged&&IV(e)&&e.on("statechanged",e.handleStateChanged),e}const VV=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toLowerCase()))},HV=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toUpperCase()))},WV=function(e,t){return HV(e)===HV(t)};var GV=Object.freeze({__proto__:null,toLowerCase:VV,toTitleCase:HV,titleCaseEquals:WV});class KV{constructor(e,t,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=ez({},this.options_),t=this.options_=ez(this.options_,t),this.id_=t.id||t.el&&t.el.id,!this.id_){const t=e&&e.id&&e.id()||"no_player";this.id_=`${t}_component_${pV()}`}this.name_=t.name||null,t.el?this.el_=t.el:!1!==t.createEl&&(this.el_=this.createEl()),t.className&&this.el_&&t.className.split(" ").forEach((e=>this.addClass(e))),["on","off","one","any","trigger"].forEach((e=>{this[e]=void 0})),!1!==t.evented&&(UV(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),zV(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,!1!==t.initChildren&&this.initChildren(),this.ready(i),!1!==t.reportTouchActivity&&this.enableTouchActivity()}on(e,t){}off(e,t){}one(e,t){}any(e,t){}trigger(e,t){}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let e=this.children_.length-1;e>=0;e--)this.children_[e].dispose&&this.children_[e].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return Boolean(this.isDisposed_)}player(){return this.player_}options(e){return e?(this.options_=ez(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,t,i){return Nz(e,t,i)}localize(e,t,i=e){const n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[n],s=n&&n.split("-")[0],o=r&&r[s];let l=i;return a&&a[e]?l=a[e]:o&&o[e]&&(l=o[e]),t&&(l=l.replace(/\{(\d+)\}/g,(function(e,i){const n=t[i-1];let r=n;return void 0===n&&(r=e),r}))),l}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce(((e,t)=>e.concat(t)),[]);let t=this;for(let i=0;i<e.length;i++)if(t=t.getChild(e[i]),!t||!t.getChild)return;return t}setIcon(e,t=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",n=Nz("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),r=pj.createElementNS(i,"svg");r.setAttributeNS(null,"viewBox","0 0 512 512");const a=pj.createElementNS(i,"use");return r.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),n.appendChild(r),this.iconIsSet_?t.replaceChild(n,t.querySelector(".vjs-icon-placeholder")):t.appendChild(n),this.iconIsSet_=!0,n}addChild(e,t={},i=this.children_.length){let n,r;if("string"==typeof e){r=HV(e);const i=t.componentClass||r;t.name=r;const a=KV.getComponent(i);if(!a)throw new Error(`Component ${i} does not exist`);if("function"!=typeof a)return null;n=new a(this.player_||this,t)}else n=e;if(n.parentComponent_&&n.parentComponent_.removeChild(n),this.children_.splice(i,0,n),n.parentComponent_=this,"function"==typeof n.id&&(this.childIndex_[n.id()]=n),r=r||n.name&&HV(n.name()),r&&(this.childNameIndex_[r]=n,this.childNameIndex_[VV(r)]=n),"function"==typeof n.el&&n.el()){let e=null;this.children_[i+1]&&(this.children_[i+1].el_?e=this.children_[i+1].el_:Cz(this.children_[i+1])&&(e=this.children_[i+1])),this.contentEl().insertBefore(n.el(),e)}return n}removeChild(e){if("string"==typeof e&&(e=this.getChild(e)),!e||!this.children_)return;let t=!1;for(let n=this.children_.length-1;n>=0;n--)if(this.children_[n]===e){t=!0,this.children_.splice(n,1);break}if(!t)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[HV(e.name())]=null,this.childNameIndex_[VV(e.name())]=null;const i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const t=this.options_,i=e=>{const i=e.name;let n=e.opts;if(void 0!==t[i]&&(n=t[i]),!1===n)return;!0===n&&(n={}),n.playerOptions=this.options_.playerOptions;const r=this.addChild(i,n);r&&(this[i]=r)};let n;const r=KV.getComponent("Tech");n=Array.isArray(e)?e:Object.keys(e),n.concat(Object.keys(this.options_).filter((function(e){return!n.some((function(t){return"string"==typeof t?e===t:e===t.name}))}))).map((t=>{let i,n;return"string"==typeof t?(i=t,n=e[i]||this.options_[i]||{}):(i=t.name,n=t),{name:i,opts:n}})).filter((e=>{const t=KV.getComponent(e.opts.componentClass||HV(e.name));return t&&!r.isTech(t)})).forEach(i)}}buildCSSClass(){return""}ready(e,t=!1){if(e)return this.isReady_?void(t?e.call(this):this.setTimeout(e,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(e))}triggerReady(){this.isReady_=!0,this.setTimeout((function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach((function(e){e.call(this)}),this),this.trigger("ready")}),1)}$(e,t){return Jz(e,t||this.contentEl())}$$(e,t){return Zz(e,t||this.contentEl())}hasClass(e){return Pz(this.el_,e)}addClass(...e){Iz(this.el_,...e)}removeClass(...e){Rz(this.el_,...e)}toggleClass(e,t){Lz(this.el_,e,t)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return $z(this.el_,e)}setAttribute(e,t){Bz(this.el_,e,t)}removeAttribute(e){qz(this.el_,e)}width(e,t){return this.dimension("width",e,t)}height(e,t){return this.dimension("height",e,t)}dimensions(e,t){this.width(e,!0),this.height(t)}dimension(e,t,i){if(void 0!==t)return null!==t&&t==t||(t=0),-1!==(""+t).indexOf("%")||-1!==(""+t).indexOf("px")?this.el_.style[e]=t:this.el_.style[e]="auto"===t?"":t+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;const n=this.el_.style[e],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+HV(e)],10)}currentDimension(e){let t=0;if("width"!==e&&"height"!==e)throw new Error("currentDimension only accepts width or height value");if(t=eV(this.el_,e),t=parseFloat(t),0===t||isNaN(t)){const i=`offset${HV(e)}`;t=this.el_[i]}return t}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(fj.isEventKey(e,"Tab")||e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,t=null;let i;this.on("touchstart",(function(n){1===n.touches.length&&(t={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=lj.performance.now(),i=!0)})),this.on("touchmove",(function(e){if(e.touches.length>1)i=!1;else if(t){const n=e.touches[0].pageX-t.pageX,r=e.touches[0].pageY-t.pageY;Math.sqrt(n*n+r*r)>10&&(i=!1)}}));const n=function(){i=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",(function(n){if(t=null,!0===i){lj.performance.now()-e<200&&(n.preventDefault(),this.trigger("tap"))}}))}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=CV(this.player(),this.player().reportUserActivity);let t;this.on("touchstart",(function(){e(),this.clearInterval(t),t=this.setInterval(e,250)}));const i=function(i){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(e,t){var i;return e=CV(this,e),this.clearTimersOnDispose_(),i=lj.setTimeout((()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()}),t),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),lj.clearTimeout(e)),e}setInterval(e,t){e=CV(this,e),this.clearTimersOnDispose_();const i=lj.setInterval(e,t);return this.setIntervalIds_.add(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),lj.clearInterval(e)),e}requestAnimationFrame(e){var t;return this.clearTimersOnDispose_(),e=CV(this,e),t=lj.requestAnimationFrame((()=>{this.rafIds_.has(t)&&this.rafIds_.delete(t),e()})),this.rafIds_.add(t),t}requestNamedAnimationFrame(e,t){if(this.namedRafs_.has(e))return;this.clearTimersOnDispose_(),t=CV(this,t);const i=this.requestAnimationFrame((()=>{t(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)}));return this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),lj.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",(()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach((([e,t])=>{this[e].forEach(((e,i)=>this[t](i)))})),this.clearingTimersOnDispose_=!1})))}static registerComponent(e,t){if("string"!=typeof e||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const i=KV.getComponent("Tech"),n=i&&i.isTech(t),r=KV===t||KV.prototype.isPrototypeOf(t.prototype);if(n||!r){let t;throw t=n?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error(`Illegal component, "${e}"; ${t}.`)}e=HV(e),KV.components_||(KV.components_={});const a=KV.getComponent("Player");if("Player"===e&&a&&a.players){const e=a.players,t=Object.keys(e);if(e&&t.length>0&&t.map((t=>e[t])).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return KV.components_[e]=t,KV.components_[VV(e)]=t,t}static getComponent(e){if(e&&KV.components_)return KV.components_[e]}}function QV(e,t,i,n){return function(e,t,i){if("number"!=typeof t||t<0||t>i)throw new Error(`Failed to execute '${e}' on 'TimeRanges': The index provided (${t}) is non-numeric or out of bounds (0-${i}).`)}(e,n,i.length-1),i[n][t]}function YV(e){let t;return t=void 0===e||0===e.length?{length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:{length:e.length,start:QV.bind(null,"start",0,e),end:QV.bind(null,"end",1,e)},lj.Symbol&&lj.Symbol.iterator&&(t[lj.Symbol.iterator]=()=>(e||[]).values()),t}function XV(e,t){return Array.isArray(e)?YV(e):void 0===e||void 0===t?YV():YV([[e,t]])}KV.registerComponent("Component",KV);const JV=function(e,t){e=e<0?0:e;let i=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600);const a=Math.floor(t/60%60),s=Math.floor(t/3600);return(isNaN(e)||e===1/0)&&(r=n=i="-"),r=r>0||s>0?r+":":"",n=((r||a>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,r+n+i};let ZV=JV;function eH(e){ZV=e}function tH(){ZV=JV}function iH(e,t=e){return ZV(e,t)}var nH=Object.freeze({__proto__:null,createTimeRanges:XV,createTimeRange:XV,setFormatTime:eH,resetFormatTime:tH,formatTime:iH});function rH(e,t){let i,n,r=0;if(!t)return 0;e&&e.length||(e=XV(0,0));for(let a=0;a<e.length;a++)i=e.start(a),n=e.end(a),n>t&&(n=t),r+=n-i;return r/t}function aH(e){if(e instanceof aH)return e;"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:JF(e)&&("number"==typeof e.code&&(this.code=e.code),Object.assign(this,e)),this.message||(this.message=aH.defaultMessages[this.code]||"")}aH.prototype.code=0,aH.prototype.message="",aH.prototype.status=null,aH.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],aH.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(let dZ=0;dZ<aH.errorTypes.length;dZ++)aH[aH.errorTypes[dZ]]=dZ,aH.prototype[aH.errorTypes[dZ]]=dZ;function sH(e){return null!=e&&"function"==typeof e.then}function oH(e){sH(e)&&e.then(null,(e=>{}))}const lH=function(e){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(((t,i,n)=>(e[i]&&(t[i]=e[i]),t)),{cues:e.cues&&Array.prototype.map.call(e.cues,(function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}}))})};var cH=function(e){const t=e.$$("track"),i=Array.prototype.map.call(t,(e=>e.track));return Array.prototype.map.call(t,(function(e){const t=lH(e.track);return e.src&&(t.src=e.src),t})).concat(Array.prototype.filter.call(e.textTracks(),(function(e){return-1===i.indexOf(e)})).map(lH))},dH=function(e,t){return e.forEach((function(e){const i=t.addRemoteTextTrack(e).track;!e.src&&e.cues&&e.cues.forEach((e=>i.addCue(e)))})),t.textTracks()};const uH="vjs-modal-dialog";class hH extends KV{constructor(e,t){super(e,t),this.handleKeyDown_=e=>this.handleKeyDown(e),this.close_=e=>this.close(e),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=Nz("div",{className:`${uH}-content`},{role:"document"}),this.descEl_=Nz("p",{className:`${uH}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Oz(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${uH} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(!this.opened_){const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}}opened(e){return"boolean"==typeof e&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if("boolean"==typeof e){const t=this.closeable_=!!e;let i=this.getChild("closeButton");if(t&&!i){const e=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=e,this.on(i,"close",this.close_)}!t&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const t=this.contentEl(),i=t.parentNode,n=t.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(t),this.empty(),Yz(t,e),this.trigger("modalfill"),n?i.insertBefore(t,n):i.appendChild(t);const r=this.getChild("closeButton");r&&i.appendChild(r.el_)}empty(){this.trigger("beforemodalempty"),Gz(this.contentEl()),this.trigger("modalempty")}content(e){return void 0!==e&&(this.content_=e),this.content_}conditionalFocus_(){const e=pj.activeElement,t=this.player_.el_;this.previouslyActiveEl_=null,(t.contains(e)||t===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(e.stopPropagation(),fj.isEventKey(e,"Escape")&&this.closeable())return e.preventDefault(),void this.close();if(!fj.isEventKey(e,"Tab"))return;const t=this.focusableEls_(),i=this.el_.querySelector(":focus");let n;for(let r=0;r<t.length;r++)if(i===t[r]){n=r;break}pj.activeElement===this.el_&&(n=0),e.shiftKey&&0===n?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||n!==t.length-1||(t[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,(e=>(e instanceof lj.HTMLAnchorElement||e instanceof lj.HTMLAreaElement)&&e.hasAttribute("href")||(e instanceof lj.HTMLInputElement||e instanceof lj.HTMLSelectElement||e instanceof lj.HTMLTextAreaElement||e instanceof lj.HTMLButtonElement)&&!e.hasAttribute("disabled")||e instanceof lj.HTMLIFrameElement||e instanceof lj.HTMLObjectElement||e instanceof lj.HTMLEmbedElement||e.hasAttribute("tabindex")&&-1!==e.getAttribute("tabindex")||e.hasAttribute("contenteditable")))}}hH.prototype.options_={pauseOnOpen:!0,temporary:!0},KV.registerComponent("ModalDialog",hH);class pH extends MV{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let t=0;t<e.length;t++)this.addTrack(e[t])}addTrack(e){const t=this.tracks_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.tracks_[t]}}),-1===this.tracks_.indexOf(e)&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},IV(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let t;for(let i=0,n=this.length;i<n;i++)if(this[i]===e){t=this[i],t.off&&t.off(),this.tracks_.splice(i,1);break}t&&this.trigger({track:t,type:"removetrack",target:this})}getTrackById(e){let t=null;for(let i=0,n=this.length;i<n;i++){const n=this[i];if(n.id===e){t=n;break}}return t}}pH.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const uZ in pH.prototype.allowedEvents_)pH.prototype["on"+uZ]=null;const mH=function(e,t){for(let i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].enabled=!1)};const fH=function(e,t){for(let i=0;i<e.length;i++)Object.keys(e[i]).length&&t.id!==e[i].id&&(e[i].selected=!1)};class gH extends pH{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_);-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class yH{constructor(e){yH.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const t=this.length||0;let i=0;const n=e.length;this.cues_=e,this.length_=e.length;const r=function(e){""+e in this||Object.defineProperty(this,""+e,{get(){return this.cues_[e]}})};if(t<n)for(i=t;i<n;i++)r.call(this,i)}getCueById(e){let t=null;for(let i=0,n=this.length;i<n;i++){const n=this[i];if(n.id===e){t=n;break}}return t}}const bH={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},vH={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},wH={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},TH={disabled:"disabled",hidden:"hidden",showing:"showing"};class xH extends MV{constructor(e={}){super();const t={id:e.id||"vjs_track_"+pV(),kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const n in t)Object.defineProperty(this,n,{get:()=>t[n],set(){}});Object.defineProperty(this,"label",{get:()=>i,set(e){e!==i&&(i=e,this.trigger("labelchange"))}})}}const EH=function(e){const t=["protocol","hostname","port","pathname","search","hash","host"],i=pj.createElement("a");i.href=e;const n={};for(let r=0;r<t.length;r++)n[t[r]]=i[t[r]];return"http:"===n.protocol&&(n.host=n.host.replace(/:80$/,"")),"https:"===n.protocol&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=lj.location.protocol),n.host||(n.host=lj.location.host),n},_H=function(e){if(!e.match(/^https?:\/\//)){const t=pj.createElement("a");t.href=e,e=t.href}return e},SH=function(e){if("string"==typeof e){const t=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);if(t)return t.pop().toLowerCase()}return""},CH=function(e,t=lj.location){const i=EH(e);return(":"===i.protocol?t.protocol:i.protocol)+i.host!==t.protocol+t.host};var kH=Object.freeze({__proto__:null,parseUrl:EH,getAbsoluteURL:_H,getFileExtension:SH,isCrossOrigin:CH});const AH=function(e,t){const i=new lj.WebVTT.Parser(lj,lj.vttjs,lj.WebVTT.StringDecoder()),n=[];i.oncue=function(e){t.addCue(e)},i.onparsingerror=function(e){n.push(e)},i.onflush=function(){t.trigger({type:"loadeddata",target:t})},i.parse(e),n.length>0&&(lj.console&&lj.console.groupCollapsed&&lj.console.groupCollapsed(`Text Track parsing errors for ${t.src}`),n.forEach((e=>WF.error(e))),lj.console&&lj.console.groupEnd&&lj.console.groupEnd()),i.flush()},NH=function(e,t){const i={uri:e},n=CH(e);n&&(i.cors=n);const r="use-credentials"===t.tech_.crossOrigin();r&&(i.withCredentials=r),Oj(i,CV(this,(function(e,i,n){if(e)return WF.error(e,i);t.loaded_=!0,"function"!=typeof lj.WebVTT?t.tech_&&t.tech_.any(["vttjsloaded","vttjserror"],(e=>{if("vttjserror"!==e.type)return AH(n,t);WF.error(`vttjs failed to load, stopping trying to process ${t.src}`)})):AH(n,t)})))};class OH extends xH{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const t=ez(e,{kind:wH[e.kind]||"subtitles",language:e.language||e.srclang||""});let i=TH[t.mode]||"disabled";const n=t.default;"metadata"!==t.kind&&"chapters"!==t.kind||(i="hidden"),super(t),this.tech_=t.tech,this.cues_=[],this.activeCues_=[],this.preload_=!1!==this.tech_.preloadTextTracks;const r=new yH(this.cues_),a=new yH(this.activeCues_);let s=!1;this.timeupdateHandler=CV(this,(function(e={}){this.tech_.isDisposed()||(this.tech_.isReady_?(this.activeCues=this.activeCues,s&&(this.trigger("cuechange"),s=!1),"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))):"timeupdate"!==e.type&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler)))}));this.tech_.one("dispose",(()=>{this.stopTracking()})),"disabled"!==i&&this.startTracking(),Object.defineProperties(this,{default:{get:()=>n,set(){}},mode:{get:()=>i,set(e){TH[e]&&i!==e&&(i=e,this.preload_||"disabled"===i||0!==this.cues.length||NH(this.src,this),this.stopTracking(),"disabled"!==i&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?r:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(0===this.cues.length)return a;const e=this.tech_.currentTime(),t=[];for(let i=0,n=this.cues.length;i<n;i++){const n=this.cues[i];n.startTime<=e&&n.endTime>=e&&t.push(n)}if(s=!1,t.length!==this.activeCues_.length)s=!0;else for(let i=0;i<t.length;i++)-1===this.activeCues_.indexOf(t[i])&&(s=!0);return this.activeCues_=t,a.setCues_(this.activeCues_),a},set(){}}}),t.src?(this.src=t.src,this.preload_||(this.loaded_=!0),(this.preload_||"subtitles"!==t.kind&&"captions"!==t.kind)&&NH(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let t=e;if(t.constructor&&"VTTCue"!==t.constructor.name){t=new lj.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const i in e)i in t||(t[i]=e[i]);t.id=e.id,t.originalCue_=e}const i=this.tech_.textTracks();for(let n=0;n<i.length;n++)i[n]!==this&&i[n].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)}removeCue(e){let t=this.cues_.length;for(;t--;){const i=this.cues_[t];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(t,1),this.cues.setCues_(this.cues_);break}}}}OH.prototype.allowedEvents_={cuechange:"cuechange"};class MH extends xH{constructor(e={}){const t=ez(e,{kind:vH[e.kind]||""});super(t);let i=!1;Object.defineProperty(this,"enabled",{get:()=>i,set(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("enabledchange"))}}),t.enabled&&(this.enabled=t.enabled),this.loaded_=!0}}class PH extends xH{constructor(e={}){const t=ez(e,{kind:bH[e.kind]||""});super(t);let i=!1;Object.defineProperty(this,"selected",{get:()=>i,set(e){"boolean"==typeof e&&e!==i&&(i=e,this.trigger("selectedchange"))}}),t.selected&&(this.selected=t.selected)}}class IH extends MV{constructor(e={}){let t;super();const i=new OH(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get:()=>t},track:{get:()=>i}}),t=IH.NONE,i.addEventListener("loadeddata",(()=>{t=IH.LOADED,this.trigger({type:"load",target:this})}))}}IH.prototype.allowedEvents_={load:"load"},IH.NONE=0,IH.LOADING=1,IH.LOADED=2,IH.ERROR=3;const RH={audio:{ListClass:class extends pH{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].enabled){mH(e,e[t]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&mH(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,mH(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}},TrackClass:MH,capitalName:"Audio"},video:{ListClass:class extends pH{constructor(e=[]){for(let t=e.length-1;t>=0;t--)if(e[t].selected){fH(e,e[t]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let e=0;e<this.length;e++)if(this[e].selected)return e;return-1},set(){}})}addTrack(e){e.selected&&fH(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,fH(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}},TrackClass:PH,capitalName:"Video"},text:{ListClass:gH,TrackClass:OH,capitalName:"Text"}};Object.keys(RH).forEach((function(e){RH[e].getterName=`${e}Tracks`,RH[e].privateName=`${e}Tracks_`}));const LH={remoteText:{ListClass:gH,TrackClass:OH,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:class{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let t=0,i=e.length;t<i;t++)this.addTrackElement_(e[t])}addTrackElement_(e){const t=this.trackElements_.length;""+t in this||Object.defineProperty(this,t,{get(){return this.trackElements_[t]}}),-1===this.trackElements_.indexOf(e)&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let t;for(let i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i].track){t=this.trackElements_[i];break}return t}removeTrackElement_(e){for(let t=0,i=this.trackElements_.length;t<i;t++)if(e===this.trackElements_[t]){this.trackElements_[t].track&&"function"==typeof this.trackElements_[t].track.off&&this.trackElements_[t].track.off(),"function"==typeof this.trackElements_[t].off&&this.trackElements_[t].off(),this.trackElements_.splice(t,1);break}}},TrackClass:IH,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},DH=Object.assign({},RH,LH);LH.names=Object.keys(LH),RH.names=Object.keys(RH),DH.names=[].concat(LH.names).concat(RH.names);class jH extends KV{constructor(e={},t=function(){}){e.reportTouchActivity=!1,super(null,e,t),this.onDurationChange_=e=>this.onDurationChange(e),this.trackProgress_=e=>this.trackProgress(e),this.trackCurrentTime_=e=>this.trackCurrentTime(e),this.stopTrackingCurrentTime_=e=>this.stopTrackingCurrentTime(e),this.disposeSourceHandler_=e=>this.disposeSourceHandler(e),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",(function(){this.hasStarted_=!0})),this.on("loadstart",(function(){this.hasStarted_=!1})),DH.names.forEach((t=>{const i=DH[t];e&&e[i.getterName]&&(this[i.privateName]=e[i.getterName])})),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((t=>{!1===e[`native${t}Tracks`]&&(this[`featuresNative${t}Tracks`]=!1)})),!1===e.nativeCaptions||!1===e.nativeTextTracks?this.featuresNativeTextTracks=!1:!0!==e.nativeCaptions&&!0!==e.nativeTextTracks||(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=!1!==e.preloadTextTracks,this.autoRemoteTextTracks_=new DH.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",(()=>this.setTimeout((()=>this.triggerSourceset(e)),1))),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(CV(this,(function(){const e=this.bufferedPercent();this.bufferedPercent_!==e&&this.trigger("progress"),this.bufferedPercent_=e,1===e&&this.stopTrackingProgress()})),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return XV(0,0)}bufferedPercent(){return rH(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(RH.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){(e=[].concat(e)).forEach((e=>{const t=this[`${e}Tracks`]()||[];let i=t.length;for(;i--;){const n=t[i];"text"===e&&this.removeRemoteTextTrack(n),t.removeTrack(n)}}))}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let t=e.length;for(;t--;){const i=e[t];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return void 0!==e&&(this.error_=new aH(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?XV(0,0):XV()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){RH.names.forEach((e=>{const t=RH[e],i=()=>{this.trigger(`${e}trackchange`)},n=this[t.getterName]();n.addEventListener("removetrack",i),n.addEventListener("addtrack",i),this.on("dispose",(()=>{n.removeEventListener("removetrack",i),n.removeEventListener("addtrack",i)}))}))}addWebVttScript_(){if(!lj.WebVTT)if(pj.body.contains(this.el())){if(!this.options_["vtt.js"]&&ZF(m$)&&Object.keys(m$).length>0)return void this.trigger("vttjsloaded");const e=pj.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",(()=>{e.onload=null,e.onerror=null})),lj.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),t=this.remoteTextTracks(),i=t=>e.addTrack(t.track),n=t=>e.removeTrack(t.track);t.on("addtrack",i),t.on("removetrack",n),this.addWebVttScript_();const r=()=>this.trigger("texttrackchange"),a=()=>{r();for(let t=0;t<e.length;t++){const i=e[t];i.removeEventListener("cuechange",r),"showing"===i.mode&&i.addEventListener("cuechange",r)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",(function(){t.off("addtrack",i),t.off("removetrack",n),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let t=0;t<e.length;t++){e[t].removeEventListener("cuechange",r)}}))}addTextTrack(e,t,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return function(e,t,i,n,r={}){const a=e.textTracks();r.kind=t,i&&(r.label=i),n&&(r.language=n),r.tech=e;const s=new DH.text.TrackClass(r);return a.addTrack(s),s}(this,e,t,i)}createRemoteTextTrack(e){const t=ez(e,{tech:this});return new LH.remoteTextEl.TrackClass(t)}addRemoteTextTrack(e={},t){const i=this.createRemoteTextTrack(e);return"boolean"!=typeof t&&(t=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),!1===t&&this.ready((()=>this.autoRemoteTextTracks_.addTrack(i.track))),i}removeRemoteTextTrack(e){const t=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(t),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const t=pV();return!this.isReady_||this.paused()?(this.queuedHanders_.add(t),this.one("playing",(()=>{this.queuedHanders_.has(t)&&(this.queuedHanders_.delete(t),e())}))):this.requestNamedAnimationFrame(t,e),t}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,t){return jH.canPlayType(e.type)}static isTech(e){return e.prototype instanceof jH||e instanceof jH||e===jH}static registerTech(e,t){if(jH.techs_||(jH.techs_={}),!jH.isTech(t))throw new Error(`Tech ${e} must be a Tech`);if(!jH.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!jH.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=HV(e),jH.techs_[e]=t,jH.techs_[VV(e)]=t,"Tech"!==e&&jH.defaultTechOrder_.push(e),t}static getTech(e){if(e)return jH.techs_&&jH.techs_[e]?jH.techs_[e]:(e=HV(e),lj&&lj.videojs&&lj.videojs[e]?(WF.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),lj.videojs[e]):void 0)}}DH.names.forEach((function(e){const t=DH[e];jH.prototype[t.getterName]=function(){return this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName]}})),jH.prototype.featuresVolumeControl=!0,jH.prototype.featuresMuteControl=!0,jH.prototype.featuresFullscreenResize=!1,jH.prototype.featuresPlaybackRate=!1,jH.prototype.featuresProgressEvents=!1,jH.prototype.featuresSourceset=!1,jH.prototype.featuresTimeupdateEvents=!1,jH.prototype.featuresNativeTextTracks=!1,jH.prototype.featuresVideoFrameCallback=!1,jH.withSourceHandlers=function(e){e.registerSourceHandler=function(t,i){let n=e.sourceHandlers;n||(n=e.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,t)},e.canPlayType=function(t){const i=e.sourceHandlers||[];let n;for(let e=0;e<i.length;e++)if(n=i[e].canPlayType(t),n)return n;return""},e.selectSourceHandler=function(t,i){const n=e.sourceHandlers||[];let r;for(let e=0;e<n.length;e++)if(r=n[e].canHandleSource(t,i),r)return n[e];return null},e.canPlaySource=function(t,i){const n=e.selectSourceHandler(t,i);return n?n.canHandleSource(t,i):""};["seekable","seeking","duration"].forEach((function(e){const t=this[e];"function"==typeof t&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):t.apply(this,arguments)})}),e.prototype),e.prototype.setSource=function(t){let i=e.selectSourceHandler(t,this.options_);i||(e.nativeSourceHandler?i=e.nativeSourceHandler:WF.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),i!==e.nativeSourceHandler&&(this.currentSource_=t),this.sourceHandler_=i.handleSource(t,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},e.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},KV.registerComponent("Tech",jH),jH.registerTech("Tech",jH),jH.defaultTechOrder_=[];const $H={},BH={},qH={};function UH(e,t,i){e.setTimeout((()=>GH(t,$H[t.type],i,e)),1)}function FH(e,t,i,n=null){const r="call"+HV(i),a=e.reduce(WH(r),n),s=a===qH,o=s?null:t[i](a);return function(e,t,i,n){for(let r=e.length-1;r>=0;r--){const a=e[r];a[t]&&a[t](n,i)}}(e,i,o,s),o}const zH={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},VH={setCurrentTime:1,setMuted:1,setVolume:1},HH={play:1,pause:1};function WH(e){return(t,i)=>t===qH?qH:i[e]?i[e](t):t}function GH(e={},t=[],i,n,r=[],a=!1){const[s,...o]=t;if("string"==typeof s)GH(e,$H[s],i,n,r,a);else if(s){const t=function(e,t){const i=BH[e.id()];let n=null;if(null==i)return n=t(e),BH[e.id()]=[[t,n]],n;for(let r=0;r<i.length;r++){const[e,a]=i[r];e===t&&(n=a)}return null===n&&(n=t(e),i.push([t,n])),n}(n,s);if(!t.setSource)return r.push(t),GH(e,o,i,n,r,a);t.setSource(Object.assign({},e),(function(s,l){if(s)return GH(e,o,i,n,r,a);r.push(t),GH(l,e.type===l.type?o:$H[l.type],i,n,r,a)}))}else o.length?GH(e,o,i,n,r,a):a?i(e,r):GH(e,$H["*"],i,n,r,!0)}const KH={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},QH=function(e=""){const t=SH(e);return KH[t.toLowerCase()]||""},YH=function(e){if(Array.isArray(e)){let t=[];e.forEach((function(e){e=YH(e),Array.isArray(e)?t=t.concat(e):JF(e)&&t.push(e)})),e=t}else e="string"==typeof e&&e.trim()?[XH({src:e})]:JF(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[XH(e)]:[];return e};function XH(e){if(!e.type){const t=QH(e.src);t&&(e.type=t)}return e}KV.registerComponent("MediaLoader",class extends KV{constructor(e,t,i){if(super(e,ez({createEl:!1},t),i),t.playerOptions.sources&&0!==t.playerOptions.sources.length)e.src(t.playerOptions.sources);else for(let n=0,r=t.playerOptions.techOrder;n<r.length;n++){const t=HV(r[n]);let i=jH.getTech(t);if(t||(i=KV.getComponent(t)),i&&i.isSupported()){e.loadTech_(t);break}}}});class JH extends KV{constructor(e,t){super(e,t),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=e=>this.handleMouseOver(e),this.handleMouseOut_=e=>this.handleMouseOut(e),this.handleClick_=e=>this.handleClick(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.emitTapEvents(),this.enable()}createEl(e="div",t={},i={}){t=Object.assign({className:this.buildCSSClass(),tabIndex:0},t),"button"===e&&WF.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),i=Object.assign({role:"button"},i),this.tabIndex_=t.tabIndex;const n=Nz(e,t,i);return this.player_.options_.experimentalSvgIcons||n.appendChild(Nz("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=Nz("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,t=this.el()){if(void 0===e)return this.controlText_||"Need Text";const i=this.localize(e);this.controlText_=e,Oz(this.controlTextEl_,i),this.nonIconControl||this.player_.options_.noUITitleAttributes||t.setAttribute("title",i)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){fj.isEventKey(e,"Space")||fj.isEventKey(e,"Enter")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}KV.registerComponent("ClickableComponent",JH);class ZH extends JH{constructor(e,t){super(e,t),this.update(),this.update_=e=>this.update(e),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return Nz("div",{className:"vjs-poster"})}crossOrigin(e){if(void 0===e)return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;null===e||"anonymous"===e||"use-credentials"===e?this.$("img")&&(this.$("img").crossOrigin=e):this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}update(e){const t=this.player().poster();this.setSrc(t),t?this.show():this.hide()}setSrc(e){e?(this.$("img")||this.el_.appendChild(Nz("picture",{className:"vjs-poster",tabIndex:-1},{},Nz("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e):this.el_.textContent=""}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?oH(this.player_.play()):this.player_.pause())}}ZH.prototype.crossorigin=ZH.prototype.crossOrigin,KV.registerComponent("PosterImage",ZH);const eW="#222",tW="#ccc",iW={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function nW(e,t){let i;if(4===e.length)i=e[1]+e[1]+e[2]+e[2]+e[3]+e[3];else{if(7!==e.length)throw new Error("Invalid color code provided, "+e+"; must be formatted as e.g. #f0e or #f604e2.");i=e.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+t+")"}function rW(e,t,i){try{e.style[t]=i}catch(E_){return}}function aW(e){return e?`${e}px`:""}KV.registerComponent("TextTrackDisplay",class extends KV{constructor(e,t,i){super(e,t,i);const n=e=>{this.updateDisplayOverlay(),this.updateDisplay(e)};e.on("loadstart",(e=>this.toggleDisplay(e))),e.on("texttrackchange",(e=>this.updateDisplay(e))),e.on("loadedmetadata",(e=>{this.updateDisplayOverlay(),this.preselectTrack(e)})),e.ready(CV(this,(function(){if(e.tech_&&e.tech_.featuresNativeTextTracks)return void this.hide();e.on("fullscreenchange",n),e.on("playerresize",n);const t=lj.screen.orientation||lj,i=lj.screen.orientation?"change":"orientationchange";t.addEventListener(i,n),e.on("dispose",(()=>t.removeEventListener(i,n)));const r=this.options_.playerOptions.tracks||[];for(let e=0;e<r.length;e++)this.player_.addRemoteTextTrack(r[e],!0);this.preselectTrack()})))}preselectTrack(){const e={captions:1,subtitles:1},t=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage;let n,r,a;for(let s=0;s<t.length;s++){const o=t[s];i&&i.enabled&&i.language&&i.language===o.language&&o.kind in e?o.kind===i.kind?a=o:a||(a=o):i&&!i.enabled?(a=null,n=null,r=null):o.default&&("descriptions"!==o.kind||n?o.kind in e&&!r&&(r=o):n=o)}a?a.mode="showing":r?r.mode="showing":n&&(n.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){"function"==typeof lj.WebVTT&&lj.WebVTT.processCues(lj,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),t=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),t){const t=[];for(let i=0;i<e.length;++i){const n=e[i];"showing"===n.mode&&t.push(n)}return void this.updateForTrack(t)}let i=null,n=null,r=e.length;for(;r--;){const t=e[r];"showing"===t.mode&&("descriptions"===t.kind?i=t:n=t)}n?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(n)):i&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i))}updateDisplayOverlay(){if(!this.player_.videoHeight()||!lj.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),t=this.player_.currentHeight(),i=e/t,n=this.player_.videoWidth()/this.player_.videoHeight();let r=0,a=0;Math.abs(i-n)>.1&&(i>n?r=Math.round((e-t*n)/2):a=Math.round((t-e/n)/2)),rW(this.el_,"insetInline",aW(r)),rW(this.el_,"insetBlock",aW(a))}updateDisplayState(e){const t=this.player_.textTrackSettings.getValues(),i=e.activeCues;let n=i.length;for(;n--;){const e=i[n];if(!e)continue;const r=e.displayState;if(t.color&&(r.firstChild.style.color=t.color),t.textOpacity&&rW(r.firstChild,"color",nW(t.color||"#fff",t.textOpacity)),t.backgroundColor&&(r.firstChild.style.backgroundColor=t.backgroundColor),t.backgroundOpacity&&rW(r.firstChild,"backgroundColor",nW(t.backgroundColor||"#000",t.backgroundOpacity)),t.windowColor&&(t.windowOpacity?rW(r,"backgroundColor",nW(t.windowColor,t.windowOpacity)):r.style.backgroundColor=t.windowColor),t.edgeStyle&&("dropshadow"===t.edgeStyle?r.firstChild.style.textShadow=`2px 2px 3px ${eW}, 2px 2px 4px ${eW}, 2px 2px 5px ${eW}`:"raised"===t.edgeStyle?r.firstChild.style.textShadow=`1px 1px ${eW}, 2px 2px ${eW}, 3px 3px ${eW}`:"depressed"===t.edgeStyle?r.firstChild.style.textShadow=`1px 1px ${tW}, 0 1px ${tW}, -1px -1px ${eW}, 0 -1px ${eW}`:"uniform"===t.edgeStyle&&(r.firstChild.style.textShadow=`0 0 4px ${eW}, 0 0 4px ${eW}, 0 0 4px ${eW}, 0 0 4px ${eW}`)),t.fontPercent&&1!==t.fontPercent){const e=lj.parseFloat(r.style.fontSize);r.style.fontSize=e*t.fontPercent+"px",r.style.height="auto",r.style.top="auto"}t.fontFamily&&"default"!==t.fontFamily&&("small-caps"===t.fontFamily?r.firstChild.style.fontVariant="small-caps":r.firstChild.style.fontFamily=iW[t.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),"function"!=typeof lj.WebVTT||e.every((e=>!e.activeCues)))return;const t=[];for(let i=0;i<e.length;++i){const n=e[i];for(let e=0;e<n.activeCues.length;++e)t.push(n.activeCues[e])}lj.WebVTT.processCues(lj,t,this.el_);for(let i=0;i<e.length;++i){const t=e[i];for(let e=0;e<t.activeCues.length;++e){const n=t.activeCues[e].displayState;Iz(n,"vjs-text-track-cue","vjs-text-track-cue-"+(t.language?t.language:i)),t.language&&Bz(n,"lang",t.language)}this.player_.textTrackSettings&&this.updateDisplayState(t)}}});KV.registerComponent("LoadingSpinner",class extends KV{createEl(){const e=this.player_.isAudio(),t=this.localize(e?"Audio Player":"Video Player"),i=Nz("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[t])}),n=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return n.appendChild(i),n}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}});class sW extends JH{createEl(e,t={},i={}){const n=Nz("button",t=Object.assign({className:this.buildCSSClass()},t),i=Object.assign({type:"button"},i));return this.player_.options_.experimentalSvgIcons||n.appendChild(Nz("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(n),n}addChild(e,t={}){const i=this.constructor.name;return WF.warn(`Adding an actionable (user controllable) child to a Button (${i}) is not supported; use a ClickableComponent instead.`),KV.prototype.addChild.call(this,e,t)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){fj.isEventKey(e,"Space")||fj.isEventKey(e,"Enter")?e.stopPropagation():super.handleKeyDown(e)}}KV.registerComponent("Button",sW);class oW extends sW{constructor(e,t){super(e,t),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",(e=>this.handleMouseDown(e)))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const t=this.player_.play();if(this.mouseused_&&e.clientX&&e.clientY)return oH(t),void(this.player_.tech(!0)&&this.player_.tech(!0).focus());const i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(!n)return void this.player_.tech(!0).focus();const r=()=>n.focus();sH(t)?t.then(r,(()=>{})):this.setTimeout(r,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}oW.prototype.controlText_="Play Video",KV.registerComponent("BigPlayButton",oW);KV.registerComponent("CloseButton",class extends sW{constructor(e,t){super(e,t),this.setIcon("cancel"),this.controlText(t&&t.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){fj.isEventKey(e,"Esc")?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}});class lW extends sW{constructor(e,t={}){super(e,t),t.replay=void 0===t.replay||t.replay,this.setIcon("play"),this.on(e,"play",(e=>this.handlePlay(e))),this.on(e,"pause",(e=>this.handlePause(e))),t.replay&&this.on(e,"ended",(e=>this.handleEnded(e)))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?oH(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",(e=>this.handleSeeked(e)))}}lW.prototype.controlText_="Play",KV.registerComponent("PlayToggle",lW);class cW extends KV{constructor(e,t){super(e,t),this.on(e,["timeupdate","ended"],(e=>this.updateContent(e))),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),t=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),i=Nz("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return t.appendChild(i),this.contentEl_=Nz("span",{className:`${e}-display`},{role:"presentation"}),t.appendChild(this.contentEl_),t}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}updateTextNode_(e=0){e=iH(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",(()=>{if(!this.contentEl_)return;let e=this.textNode_;e&&this.contentEl_.firstChild!==e&&(e=null,WF.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=pj.createTextNode(this.formattedTime_),this.textNode_&&(e?this.contentEl_.replaceChild(this.textNode_,e):this.contentEl_.appendChild(this.textNode_))})))}updateContent(e){}}cW.prototype.labelText_="Time",cW.prototype.controlText_="Time",KV.registerComponent("TimeDisplay",cW);class dW extends cW{buildCSSClass(){return"vjs-current-time"}updateContent(e){let t;t=this.player_.ended()?this.player_.duration():this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(t)}}dW.prototype.labelText_="Current Time",dW.prototype.controlText_="Current Time",KV.registerComponent("CurrentTimeDisplay",dW);class uW extends cW{constructor(e,t){super(e,t);const i=e=>this.updateContent(e);this.on(e,"durationchange",i),this.on(e,"loadstart",i),this.on(e,"loadedmetadata",i)}buildCSSClass(){return"vjs-duration"}updateContent(e){const t=this.player_.duration();this.updateTextNode_(t)}}uW.prototype.labelText_="Duration",uW.prototype.controlText_="Duration",KV.registerComponent("DurationDisplay",uW);KV.registerComponent("TimeDivider",class extends KV{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),t=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return t.appendChild(i),e.appendChild(t),e}});class hW extends cW{constructor(e,t){super(e,t),this.on(e,"durationchange",(e=>this.updateContent(e)))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return!1!==this.options_.displayNegative&&e.insertBefore(Nz("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if("number"!=typeof this.player_.duration())return;let t;t=this.player_.ended()?0:this.player_.remainingTimeDisplay?this.player_.remainingTimeDisplay():this.player_.remainingTime(),this.updateTextNode_(t)}}hW.prototype.labelText_="Remaining Time",hW.prototype.controlText_="Remaining Time",KV.registerComponent("RemainingTimeDisplay",hW);KV.registerComponent("LiveDisplay",class extends KV{constructor(e,t){super(e,t),this.updateShowing(),this.on(this.player(),"durationchange",(e=>this.updateShowing(e)))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Nz("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Nz("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(pj.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}});class pW extends sW{constructor(e,t){super(e,t),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=e=>this.updateLiveEdgeStatus(e),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=Nz("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}function mW(e,t,i){return e=Number(e),Math.min(i,Math.max(t,isNaN(e)?t:e))}pW.prototype.controlText_="Seek to live, currently playing live",KV.registerComponent("SeekToLive",pW);var fW=Object.freeze({__proto__:null,clamp:mW});class gW extends KV{constructor(e,t){super(e,t),this.handleMouseDown_=e=>this.handleMouseDown(e),this.handleMouseUp_=e=>this.handleMouseUp(e),this.handleKeyDown_=e=>this.handleKeyDown(e),this.handleClick_=e=>this.handleClick(e),this.handleMouseMove_=e=>this.handleMouseMove(e),this.update_=e=>this.update(e),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,t={},i={}){return t.className=t.className+" vjs-slider",t=Object.assign({tabIndex:0},t),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,t,i)}handleMouseDown(e){const t=this.bar.el_.ownerDocument;"mousedown"===e.type&&e.preventDefault(),"touchstart"!==e.type||uz||e.preventDefault(),Uz(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(t,"mousemove",this.handleMouseMove_),this.on(t,"mouseup",this.handleMouseUp_),this.on(t,"touchmove",this.handleMouseMove_),this.on(t,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const t=this.bar.el_.ownerDocument;Fz(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove_),this.off(t,"mouseup",this.handleMouseUp_),this.off(t,"touchmove",this.handleMouseMove_),this.off(t,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",(()=>{const t=this.vertical()?"height":"width";this.bar.el().style[t]=(100*e).toFixed(2)+"%"}))),e}getProgress(){return Number(mW(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const t=Hz(this.el_,e);return this.vertical()?t.y:t.x}handleKeyDown(e){fj.isEventKey(e,"Left")||fj.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepBack()):fj.isEventKey(e,"Right")||fj.isEventKey(e,"Up")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(void 0===e)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}KV.registerComponent("Slider",gW);const yW=(e,t)=>mW(e/t*100,0,100).toFixed(2)+"%";KV.registerComponent("LoadProgressBar",class extends KV{constructor(e,t){super(e,t),this.partEls_=[],this.on(e,"progress",(e=>this.update(e)))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),t=Nz("span",{className:"vjs-control-text"}),i=Nz("span",{textContent:this.localize("Loaded")}),n=pj.createTextNode(": ");return this.percentageEl_=Nz("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(t),t.appendChild(i),t.appendChild(n),t.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",(()=>{const e=this.player_.liveTracker,t=this.player_.buffered(),i=e&&e.isLive()?e.seekableEnd():this.player_.duration(),n=this.player_.bufferedEnd(),r=this.partEls_,a=yW(n,i);this.percent_!==a&&(this.el_.style.width=a,Oz(this.percentageEl_,a),this.percent_=a);for(let s=0;s<t.length;s++){const e=t.start(s),i=t.end(s);let a=r[s];a||(a=this.el_.appendChild(Nz()),r[s]=a),a.dataset.start===e&&a.dataset.end===i||(a.dataset.start=e,a.dataset.end=i,a.style.left=yW(e,n),a.style.width=yW(i-e,n))}for(let s=r.length;s>t.length;s--)this.el_.removeChild(r[s-1]);r.length=t.length}))}});KV.registerComponent("TimeTooltip",class extends KV{constructor(e,t){super(e,t),this.update=kV(CV(this,this.update),SV)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,t,i){const n=Vz(this.el_),r=zz(this.player_.el()),a=e.width*t;if(!r||!n)return;const s=e.left-r.left+a,o=e.width-a+(r.right-e.right);let l=n.width/2;s<l?l+=l-s:o<l&&(l=o),l<0?l=0:l>n.width&&(l=n.width),l=Math.round(l),this.el_.style.right=`-${l}px`,this.write(i)}write(e){Oz(this.el_,e)}updateTime(e,t,i,n){this.requestNamedAnimationFrame("TimeTooltip#updateTime",(()=>{let r;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const e=this.player_.liveTracker.liveWindow(),i=e-t*e;r=(i<1?"":"-")+iH(i,e)}else r=iH(i,a);this.update(e,t,r),n&&n()}))}});class bW extends KV{constructor(e,t){super(e,t),this.setIcon("circle"),this.update=kV(CV(this,this.update),SV)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,t){const i=this.getChild("timeTooltip");if(!i)return;const n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,t,n)}}bW.prototype.options_={children:[]},Tz||oz||bW.prototype.options_.children.push("timeTooltip"),KV.registerComponent("PlayProgressBar",bW);class vW extends KV{constructor(e,t){super(e,t),this.update=kV(CV(this,this.update),SV)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t){const i=t*this.player_.duration();this.getChild("timeTooltip").updateTime(e,t,i,(()=>{this.el_.style.left=e.width*t+"px"}))}}vW.prototype.options_={children:["timeTooltip"]},KV.registerComponent("MouseTimeDisplay",vW);class wW extends gW{constructor(e,t){super(e,t),this.setEventHandlers_()}setEventHandlers_(){this.update_=CV(this,this.update),this.update=kV(this.update_,SV),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in pj&&"visibilityState"in pj&&this.on(pj,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){"hidden"===pj.visibilityState?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(this.player_.ended()||this.player_.paused()||this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,SV))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&"ended"!==e.type||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if("hidden"===pj.visibilityState)return;const t=super.update();return this.requestNamedAnimationFrame("SeekBar#update",(()=>{const e=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),i=this.player_.liveTracker;let n=this.player_.duration();i&&i.isLive()&&(n=this.player_.liveTracker.liveCurrentTime()),this.percent_!==t&&(this.el_.setAttribute("aria-valuenow",(100*t).toFixed(2)),this.percent_=t),this.currentTime_===e&&this.duration_===n||(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[iH(e,n),iH(n,n)],"{1} of {2}")),this.currentTime_=e,this.duration_=n),this.bar&&this.bar.update(zz(this.el()),this.getProgress())})),t}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){const e=this.getCurrentTime_();let t;const i=this.player_.liveTracker;return i&&i.isLive()?(t=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t}handleMouseDown(e){Xz(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,t=!1){if(!Xz(e)||isNaN(this.player_.duration()))return;let i;t||this.player_.scrubbing()||this.player_.scrubbing(!0);const n=this.calculateDistance(e),r=this.player_.liveTracker;if(r&&r.isLive()){if(n>=.99)return void r.seekToLiveEdge();const e=r.seekableStart(),t=r.liveCurrentTime();if(i=e+n*r.liveWindow(),i>=t&&(i=t),i<=e&&(i=e+.1),i===1/0)return}else i=n*this.player_.duration(),i===this.player_.duration()&&(i-=.1);this.userSeek_(i)}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?oH(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+5)}stepBack(){this.userSeek_(this.player_.currentTime()-5)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const t=this.player_.liveTracker;if(fj.isEventKey(e,"Space")||fj.isEventKey(e,"Enter"))e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(fj.isEventKey(e,"Home"))e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(fj.isEventKey(e,"End"))e.preventDefault(),e.stopPropagation(),t&&t.isLive()?this.userSeek_(t.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(fj(e))){e.preventDefault(),e.stopPropagation();const i=10*(fj.codes[fj(e)]-fj.codes[0])/100;t&&t.isLive()?this.userSeek_(t.seekableStart()+t.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else fj.isEventKey(e,"PgDn")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-60)):fj.isEventKey(e,"PgUp")?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+60)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in pj&&"visibilityState"in pj&&this.off(pj,"visibilitychange",this.toggleVisibility_),super.dispose()}}wW.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Tz||oz||wW.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),KV.registerComponent("SeekBar",wW);class TW extends KV{constructor(e,t){super(e,t),this.handleMouseMove=kV(CV(this,this.handleMouseMove),SV),this.throttledHandleMouseSeek=kV(CV(this,this.handleMouseSeek),SV),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.handleMouseDownHandler_=e=>this.handleMouseDown(e),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const t=this.getChild("seekBar");if(!t)return;const i=t.getChild("playProgressBar"),n=t.getChild("mouseTimeDisplay");if(!i&&!n)return;const r=t.el(),a=Vz(r);let s=Hz(r,e).x;s=mW(s,0,1),n&&n.update(a,s),i&&i.update(a,t.getProgress())}handleMouseSeek(e){const t=this.getChild("seekBar");t&&t.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach((e=>e.disable&&e.disable())),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&oH(this.player_.play())}}enable(){this.children().forEach((e=>e.enable&&e.enable())),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const t=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(t,"mousemove",this.throttledHandleMouseSeek),this.on(t,"touchmove",this.throttledHandleMouseSeek),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.getChild("seekBar");t&&t.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}TW.prototype.options_={children:["seekBar"]},KV.registerComponent("ProgressControl",TW);class xW extends sW{constructor(e,t){super(e,t),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],(e=>this.handlePictureInPictureChange(e))),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],(e=>this.handlePictureInPictureEnabledChange(e))),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],(()=>this.handlePictureInPictureAudioModeChange())),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){"audio"===this.player_.currentType().substring(0,5)||this.player_.audioPosterMode()||this.player_.audioOnlyMode()?(this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()):this.show()}handlePictureInPictureEnabledChange(){pj.pictureInPictureEnabled&&!1===this.player_.disablePictureInPicture()||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in lj?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){"function"==typeof pj.exitPictureInPicture&&super.show()}}xW.prototype.controlText_="Picture-in-Picture",KV.registerComponent("PictureInPictureToggle",xW);class EW extends sW{constructor(e,t){super(e,t),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",(e=>this.handleFullscreenChange(e))),!1===pj[e.fsApi_.fullscreenEnabled]&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}EW.prototype.controlText_="Fullscreen",KV.registerComponent("FullscreenToggle",EW);KV.registerComponent("VolumeLevel",class extends KV{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}});KV.registerComponent("VolumeLevelTooltip",class extends KV{constructor(e,t){super(e,t),this.update=kV(CV(this,this.update),SV)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,t,i,n){if(!i){const i=zz(this.el_),n=zz(this.player_.el()),r=e.width*t;if(!n||!i)return;const a=e.left-n.left+r,s=e.width-r+(n.right-e.right);let o=i.width/2;a<o?o+=o-a:s<o&&(o=s),o<0?o=0:o>i.width&&(o=i.width),this.el_.style.right=`-${o}px`}this.write(`${n}%`)}write(e){Oz(this.el_,e)}updateVolume(e,t,i,n,r){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",(()=>{this.update(e,t,i,n.toFixed(0)),r&&r()}))}});class _W extends KV{constructor(e,t){super(e,t),this.update=kV(CV(this,this.update),SV)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,t,i){const n=100*t;this.getChild("volumeLevelTooltip").updateVolume(e,t,i,n,(()=>{i?this.el_.style.bottom=e.height*t+"px":this.el_.style.left=e.width*t+"px"}))}}_W.prototype.options_={children:["volumeLevelTooltip"]},KV.registerComponent("MouseVolumeLevelDisplay",_W);class SW extends gW{constructor(e,t){super(e,t),this.on("slideractive",(e=>this.updateLastVolume_(e))),this.on(e,"volumechange",(e=>this.updateARIAAttributes(e))),e.ready((()=>this.updateARIAAttributes()))}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Xz(e)&&super.handleMouseDown(e)}handleMouseMove(e){const t=this.getChild("mouseVolumeLevelDisplay");if(t){const i=this.el(),n=zz(i),r=this.vertical();let a=Hz(i,e);a=r?a.y:a.x,a=mW(a,0,1),t.update(n,a,r)}Xz(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const t=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")}volumeAsPercentage_(){return Math.round(100*this.player_.volume())}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",(()=>{0===this.player_.volume()&&this.player_.lastVolume_(e)}))}}SW.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Tz||oz||SW.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay"),SW.prototype.playerEvent="volumechange",KV.registerComponent("VolumeBar",SW);class CW extends KV{constructor(e,t={}){t.vertical=t.vertical||!1,(void 0===t.volumeBar||ZF(t.volumeBar))&&(t.volumeBar=t.volumeBar||{},t.volumeBar.vertical=t.vertical),super(e,t),function(e,t){t.tech_&&!t.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(this,e),this.throttledHandleMouseMove=kV(CV(this,this.handleMouseMove),SV),this.handleMouseUpHandler_=e=>this.handleMouseUp(e),this.on("mousedown",(e=>this.handleMouseDown(e))),this.on("touchstart",(e=>this.handleMouseDown(e))),this.on("mousemove",(e=>this.handleMouseMove(e))),this.on(this.volumeBar,["focus","slideractive"],(()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")})),this.on(this.volumeBar,["blur","sliderinactive"],(()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")}))}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const t=this.el_.ownerDocument;this.on(t,"mousemove",this.throttledHandleMouseMove),this.on(t,"touchmove",this.throttledHandleMouseMove),this.on(t,"mouseup",this.handleMouseUpHandler_),this.on(t,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const t=this.el_.ownerDocument;this.off(t,"mousemove",this.throttledHandleMouseMove),this.off(t,"touchmove",this.throttledHandleMouseMove),this.off(t,"mouseup",this.handleMouseUpHandler_),this.off(t,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}CW.prototype.options_={children:["volumeBar"]},KV.registerComponent("VolumeControl",CW);class kW extends sW{constructor(e,t){super(e,t),function(e,t){t.tech_&&!t.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(t,"loadstart",(function(){t.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")}))}(this,e),this.on(e,["loadstart","volumechange"],(e=>this.update(e)))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.volume(),i=this.player_.lastVolume_();if(0===t){const e=i<.1?.1:i;this.player_.volume(e),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let t=3;this.setIcon("volume-high"),Tz&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),0===e||this.player_.muted()?(this.setIcon("volume-mute"),t=0):e<.33?(this.setIcon("volume-low"),t=1):e<.67&&(this.setIcon("volume-medium"),t=2),Rz(this.el_,[0,1,2,3].reduce(((e,t)=>e+`${t?" ":""}vjs-vol-${t}`),"")),Iz(this.el_,`vjs-vol-${t}`)}updateControlText_(){const e=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}}kW.prototype.controlText_="Mute",KV.registerComponent("MuteToggle",kW);class AW extends KV{constructor(e,t={}){void 0!==t.inline?t.inline=t.inline:t.inline=!0,(void 0===t.volumeControl||ZF(t.volumeControl))&&(t.volumeControl=t.volumeControl||{},t.volumeControl.vertical=!t.inline),super(e,t),this.handleKeyPressHandler_=e=>this.handleKeyPress(e),this.on(e,["loadstart"],(e=>this.volumePanelState_(e))),this.on(this.muteToggle,"keyup",(e=>this.handleKeyPress(e))),this.on(this.volumeControl,"keyup",(e=>this.handleVolumeControlKeyUp(e))),this.on("keydown",(e=>this.handleKeyPress(e))),this.on("mouseover",(e=>this.handleMouseOver(e))),this.on("mouseout",(e=>this.handleMouseOut(e))),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){fj.isEventKey(e,"Esc")&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),vV(pj,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),wV(pj,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){fj.isEventKey(e,"Esc")&&this.handleMouseOut()}}AW.prototype.options_={children:["muteToggle","volumeControl"]},KV.registerComponent("VolumePanel",AW);KV.registerComponent("SkipForward",class extends sW{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const t=this.player_.currentTime(),i=this.player_.liveTracker,n=i&&i.isLive()?i.seekableEnd():this.player_.duration();let r;r=t+this.skipTime<=n?t+this.skipTime:n,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}});class NW extends sW{constructor(e,t){super(e,t),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const t=this.player_.currentTime(),i=this.player_.liveTracker,n=i&&i.isLive()&&i.seekableStart();let r;r=n&&t-this.skipTime<=n?n:t>=this.skipTime?t-this.skipTime:0,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}NW.prototype.controlText_="Skip Backward",KV.registerComponent("SkipBackward",NW);class OW extends KV{constructor(e,t){super(e,t),t&&(this.menuButton_=t.menuButton),this.focusedChild_=-1,this.on("keydown",(e=>this.handleKeyDown(e))),this.boundHandleBlur_=e=>this.handleBlur(e),this.boundHandleTapClick_=e=>this.handleTapClick(e)}addEventListenerForItem(e){e instanceof KV&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof KV&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){"string"==typeof e&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const t=this.addChild(e);t&&this.addEventListenerForItem(t)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=Nz(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const t=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return t.appendChild(this.contentEl_),vV(t,"click",(function(e){e.preventDefault(),e.stopImmediatePropagation()})),t}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const t=e.relatedTarget||pj.activeElement;if(!this.children().some((e=>e.el()===t))){const e=this.menuButton_;e&&e.buttonPressed_&&t!==e.el().firstChild&&e.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const t=this.children();if(!Array.isArray(t))return;const i=t.filter((t=>t.el()===e.target))[0];if(!i)return;"CaptionSettingsMenuItem"!==i.name()&&this.menuButton_.focus()}}handleKeyDown(e){fj.isEventKey(e,"Left")||fj.isEventKey(e,"Down")?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(fj.isEventKey(e,"Right")||fj.isEventKey(e,"Up"))&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;void 0!==this.focusedChild_&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const t=this.children().slice();t.length&&t[0].hasClass("vjs-menu-title")&&t.shift(),t.length>0&&(e<0?e=0:e>=t.length&&(e=t.length-1),this.focusedChild_=e,t[e].el_.focus())}}KV.registerComponent("Menu",OW);class MW extends KV{constructor(e,t={}){super(e,t),this.menuButton_=new sW(e,t),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=sW.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const n=e=>this.handleClick(e);this.handleMenuKeyUp_=e=>this.handleMenuKeyUp(e),this.on(this.menuButton_,"tap",n),this.on(this.menuButton_,"click",n),this.on(this.menuButton_,"keydown",(e=>this.handleKeyDown(e))),this.on(this.menuButton_,"mouseenter",(()=>{this.addClass("vjs-hover"),this.menu.show(),vV(pj,"keyup",this.handleMenuKeyUp_)})),this.on("mouseleave",(e=>this.handleMouseLeave(e))),this.on("keydown",(e=>this.handleSubmenuKeyDown(e)))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new OW(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const t=Nz("li",{className:"vjs-menu-title",textContent:HV(this.options_.title),tabIndex:-1}),i=new KV(this.player_,{el:t});e.addItem(i)}if(this.items=this.createItems(),this.items)for(let t=0;t<this.items.length;t++)e.addItem(this.items[t]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";return`vjs-menu-button ${e} ${sW.prototype.buildCSSClass()} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,t=this.menuButton_.el()){return this.menuButton_.controlText(e,t)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),wV(pj,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){fj.isEventKey(e,"Esc")||fj.isEventKey(e,"Tab")?(this.buttonPressed_&&this.unpressButton(),fj.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus())):(fj.isEventKey(e,"Up")||fj.isEventKey(e,"Down"))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(fj.isEventKey(e,"Esc")||fj.isEventKey(e,"Tab"))&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(fj.isEventKey(e,"Esc")||fj.isEventKey(e,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),fj.isEventKey(e,"Tab")||(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Tz&&kz())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}KV.registerComponent("MenuButton",MW);class PW extends MW{constructor(e,t){const i=t.tracks;if(super(e,t),this.items.length<=1&&this.hide(),!i)return;const n=CV(this,this.update);i.addEventListener("removetrack",n),i.addEventListener("addtrack",n),i.addEventListener("labelchange",n),this.player_.on("ready",n),this.player_.on("dispose",(function(){i.removeEventListener("removetrack",n),i.removeEventListener("addtrack",n),i.removeEventListener("labelchange",n)}))}}KV.registerComponent("TrackButton",PW);const IW=["Tab","Esc","Up","Down","Right","Left"];class RW extends JH{constructor(e,t){super(e,t),this.selectable=t.selectable,this.isSelected_=t.selected||!1,this.multiSelectable=t.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,t,i){this.nonIconControl=!0;const n=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},t),i),r=Nz("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?n.appendChild(r):n.replaceChild(r,n.querySelector(".vjs-icon-placeholder")),n}handleKeyDown(e){IW.some((t=>fj.isEventKey(e,t)))||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}KV.registerComponent("MenuItem",RW);class LW extends RW{constructor(e,t){const i=t.track,n=e.textTracks();t.label=i.label||i.language||"Unknown",t.selected="showing"===i.mode,super(e,t),this.track=i,this.kinds=(t.kinds||[t.kind||this.track.kind]).filter(Boolean);const r=(...e)=>{this.handleTracksChange.apply(this,e)},a=(...e)=>{this.handleSelectedLanguageChange.apply(this,e)};if(e.on(["loadstart","texttrackchange"],r),n.addEventListener("change",r),n.addEventListener("selectedlanguagechange",a),this.on("dispose",(function(){e.off(["loadstart","texttrackchange"],r),n.removeEventListener("change",r),n.removeEventListener("selectedlanguagechange",a)})),void 0===n.onchange){let e;this.on(["tap","click"],(function(){if("object"!=typeof lj.Event)try{e=new lj.Event("change")}catch(t){}e||(e=pj.createEvent("Event"),e.initEvent("change",!0,!0)),n.dispatchEvent(e)}))}this.handleTracksChange()}handleClick(e){const t=this.track,i=this.player_.textTracks();if(super.handleClick(e),i)for(let n=0;n<i.length;n++){const e=i[n];-1!==this.kinds.indexOf(e.kind)&&(e===t?"showing"!==e.mode&&(e.mode="showing"):"disabled"!==e.mode&&(e.mode="disabled"))}}handleTracksChange(e){const t="showing"===this.track.mode;t!==this.isSelected_&&this.selected(t)}handleSelectedLanguageChange(e){if("showing"===this.track.mode){const e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}KV.registerComponent("TextTrackMenuItem",LW);class DW extends LW{constructor(e,t){t.track={player:e,kind:t.kind,kinds:t.kinds,default:!1,mode:"disabled"},t.kinds||(t.kinds=[t.kind]),t.label?t.track.label=t.label:t.track.label=t.kinds.join(" and ")+" off",t.selectable=!0,t.multiSelectable=!1,super(e,t)}handleTracksChange(e){const t=this.player().textTracks();let i=!0;for(let n=0,r=t.length;n<r;n++){const e=t[n];if(this.options_.kinds.indexOf(e.kind)>-1&&"showing"===e.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){const t=this.player().textTracks();let i=!0;for(let n=0,r=t.length;n<r;n++){const e=t[n];if(["captions","descriptions","subtitles"].indexOf(e.kind)>-1&&"showing"===e.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}KV.registerComponent("OffTextTrackMenuItem",DW);class jW extends PW{constructor(e,t={}){t.tracks=e.textTracks(),super(e,t)}createItems(e=[],t=LW){let i;this.label_&&(i=`${this.label_} off`),e.push(new DW(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;const n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let r=0;r<n.length;r++){const i=n[r];if(this.kinds_.indexOf(i.kind)>-1){const n=new t(this.player_,{track:i,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});n.addClass(`vjs-${i.kind}-menu-item`),e.push(n)}}return e}}KV.registerComponent("TextTrackButton",jW);class $W extends RW{constructor(e,t){const i=t.track,n=t.cue,r=e.currentTime();t.selectable=!0,t.multiSelectable=!1,t.label=n.text,t.selected=n.startTime<=r&&r<n.endTime,super(e,t),this.track=i,this.cue=n}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}KV.registerComponent("ChaptersTrackMenuItem",$W);class BW extends jW{constructor(e,t,i){super(e,t,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach((e=>{e.selected(this.track_.activeCues[0]===e.cue)}))}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&"chapters"!==e.track.kind)return;const t=this.findChaptersTrack();t!==this.track_?(this.setTrack(t),super.update()):(!this.items||t&&t.cues&&t.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let t=e.length-1;t>=0;t--){const i=e[t];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(HV(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const t=this.track_.cues;if(!t)return e;for(let i=0,n=t.length;i<n;i++){const n=t[i],r=new $W(this.player_,{track:this.track_,cue:n});e.push(r)}return e}}BW.prototype.kind_="chapters",BW.prototype.controlText_="Chapters",KV.registerComponent("ChaptersButton",BW);class qW extends jW{constructor(e,t,i){super(e,t,i),this.setIcon("audio-description");const n=e.textTracks(),r=CV(this,this.handleTracksChange);n.addEventListener("change",r),this.on("dispose",(function(){n.removeEventListener("change",r)}))}handleTracksChange(e){const t=this.player().textTracks();let i=!1;for(let n=0,r=t.length;n<r;n++){const e=t[n];if(e.kind!==this.kind_&&"showing"===e.mode){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}qW.prototype.kind_="descriptions",qW.prototype.controlText_="Descriptions",KV.registerComponent("DescriptionsButton",qW);class UW extends jW{constructor(e,t,i){super(e,t,i),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}UW.prototype.kind_="subtitles",UW.prototype.controlText_="Subtitles",KV.registerComponent("SubtitlesButton",UW);class FW extends LW{constructor(e,t){t.track={player:e,kind:t.kind,label:t.kind+" settings",selectable:!1,default:!1,mode:"disabled"},t.selectable=!1,t.name="CaptionSettingsMenuItem",super(e,t),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+t.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}KV.registerComponent("CaptionSettingsMenuItem",FW);class zW extends jW{constructor(e,t,i){super(e,t,i),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new FW(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}zW.prototype.kind_="captions",zW.prototype.controlText_="Captions",KV.registerComponent("CaptionsButton",zW);class VW extends LW{createEl(e,t,i){const n=super.createEl(e,t,i),r=n.querySelector(".vjs-menu-item-text");return"captions"===this.options_.track.kind&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",n):r.appendChild(Nz("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(Nz("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),n}}KV.registerComponent("SubsCapsMenuItem",VW);class HW extends jW{constructor(e,t={}){super(e,t),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(HV(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new FW(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,VW),e}}HW.prototype.kinds_=["captions","subtitles"],HW.prototype.controlText_="Subtitles",KV.registerComponent("SubsCapsButton",HW);class WW extends RW{constructor(e,t){const i=t.track,n=e.audioTracks();t.label=i.label||i.language||"Unknown",t.selected=i.enabled,super(e,t),this.track=i,this.addClass(`vjs-${i.kind}-menu-item`);const r=(...e)=>{this.handleTracksChange.apply(this,e)};n.addEventListener("change",r),this.on("dispose",(()=>{n.removeEventListener("change",r)}))}createEl(e,t,i){const n=super.createEl(e,t,i),r=n.querySelector(".vjs-menu-item-text");return["main-desc","description"].indexOf(this.options_.track.kind)>=0&&(r.appendChild(Nz("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(Nz("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),n}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const e=this.player_.audioTracks();for(let t=0;t<e.length;t++){const i=e[t];i!==this.track&&(i.enabled=i===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}KV.registerComponent("AudioTrackMenuItem",WW);class GW extends PW{constructor(e,t={}){t.tracks=e.audioTracks(),super(e,t),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const t=this.player_.audioTracks();for(let i=0;i<t.length;i++){const n=t[i];e.push(new WW(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return e}}GW.prototype.controlText_="Audio Track",KV.registerComponent("AudioTrackButton",GW);class KW extends RW{constructor(e,t){const i=t.rate,n=parseFloat(i,10);t.label=i,t.selected=n===e.playbackRate(),t.selectable=!0,t.multiSelectable=!1,super(e,t),this.label=i,this.rate=n,this.on(e,"ratechange",(e=>this.update(e)))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}KW.prototype.contentElType="button",KV.registerComponent("PlaybackRateMenuItem",KW);class QW extends MW{constructor(e,t){super(e,t),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",(e=>this.updateVisibility(e))),this.on(e,"ratechange",(e=>this.updateLabel(e))),this.on(e,"playbackrateschange",(e=>this.handlePlaybackRateschange(e)))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Nz("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),t=[];for(let i=e.length-1;i>=0;i--)t.push(new KW(this.player(),{rate:e[i]+"x"}));return t}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}QW.prototype.controlText_="Playback Rate",KV.registerComponent("PlaybackRateMenuButton",QW);class YW extends KV{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",t={},i={}){return t.className||(t.className=this.buildCSSClass()),super.createEl(e,t,i)}}KV.registerComponent("Spacer",YW);KV.registerComponent("CustomControlSpacer",class extends YW{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}});class XW extends KV{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}XW.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]},KV.registerComponent("ControlBar",XW);class JW extends hH{constructor(e,t){super(e,t),this.on(e,"error",(e=>this.open(e)))}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}JW.prototype.options_=Object.assign({},hH.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),KV.registerComponent("ErrorDisplay",JW);const ZW="vjs-text-track-settings",eG=["#000","Black"],tG=["#00F","Blue"],iG=["#0FF","Cyan"],nG=["#0F0","Green"],rG=["#F0F","Magenta"],aG=["#F00","Red"],sG=["#FFF","White"],oG=["#FF0","Yellow"],lG=["1","Opaque"],cG=["0.5","Semi-Transparent"],dG=["0","Transparent"],uG={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[eG,sG,aG,nG,tG,oG,rG,iG]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[lG,cG,dG]},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[sG,eG,aG,nG,tG,oG,rG,iG]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:e=>"1.00"===e?null:Number(e)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[lG,cG]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[dG,cG,lG]}};function hG(e,t){if(t&&(e=t(e)),e&&"none"!==e)return e}uG.windowColor.options=uG.backgroundColor.options;KV.registerComponent("TextTrackSettings",class extends hH{constructor(e,t){t.temporary=!1,super(e,t),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.endDialog=Nz("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),void 0===t.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.on(this.$(".vjs-done-button"),"click",(()=>{this.saveSettings(),this.close()})),this.on(this.$(".vjs-default-button"),"click",(()=>{this.setDefaults(),this.updateDisplay()})),YF(uG,(e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})),this.options_.persistTextTrackSettings&&this.restoreSettings()}dispose(){this.endDialog=null,super.dispose()}createElSelect_(e,t="",i="label"){const n=uG[e],r=n.id.replace("%s",this.id_),a=[t,r].join(" ").trim();return[`<${i} id="${r}" class="${"label"===i?"vjs-label":""}">`,this.localize(n.label),`</${i}>`,`<select aria-labelledby="${a}">`].concat(n.options.map((e=>{const t=r+"-"+e[1].replace(/\W+/g,"");return[`<option id="${t}" value="${e[0]}" `,`aria-labelledby="${a} ${t}">`,this.localize(e[1]),"</option>"].join("")}))).concat("</select>").join("")}createElFgColor_(){const e=`captions-text-legend-${this.id_}`;return['<fieldset class="vjs-fg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text"),"</legend>",'<span class="vjs-text-color">',this.createElSelect_("color",e),"</span>",'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",e),"</span>","</fieldset>"].join("")}createElBgColor_(){const e=`captions-background-${this.id_}`;return['<fieldset class="vjs-bg vjs-track-setting">',`<legend id="${e}">`,this.localize("Text Background"),"</legend>",'<span class="vjs-bg-color">',this.createElSelect_("backgroundColor",e),"</span>",'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",e),"</span>","</fieldset>"].join("")}createElWinColor_(){const e=`captions-window-${this.id_}`;return['<fieldset class="vjs-window vjs-track-setting">',`<legend id="${e}">`,this.localize("Caption Area Background"),"</legend>",'<span class="vjs-window-color">',this.createElSelect_("windowColor",e),"</span>",'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",e),"</span>","</fieldset>"].join("")}createElColors_(){return Nz("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})}createElFont_(){return Nz("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})}createElControls_(){const e=this.localize("restore all settings to the default values");return Nz("div",{className:"vjs-track-settings-controls",innerHTML:[`<button type="button" class="vjs-default-button" title="${e}">`,this.localize("Reset"),`<span class="vjs-control-text"> ${e}</span>`,"</button>",`<button type="button" class="vjs-done-button">${this.localize("Done")}</button>`].join("")})}content(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return XF(uG,((e,t,i)=>{const n=function(e,t){return hG(e.options[e.options.selectedIndex].value,t)}(this.$(t.selector),t.parser);return void 0!==n&&(e[i]=n),e}),{})}setValues(e){YF(uG,((t,i)=>{!function(e,t,i){if(t)for(let n=0;n<e.options.length;n++)if(hG(e.options[n].value,i)===t){e.selectedIndex=n;break}}(this.$(t.selector),e[i],t.parser)}))}setDefaults(){YF(uG,(e=>{const t=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=t}))}restoreSettings(){let e;try{e=JSON.parse(lj.localStorage.getItem(ZW))}catch(t){WF.warn(t)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?lj.localStorage.setItem(ZW,JSON.stringify(e)):lj.localStorage.removeItem(ZW)}catch(t){WF.warn(t)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}conditionalBlur_(){this.previouslyActiveEl_=null;const e=this.player_.controlBar,t=e&&e.subsCapsButton,i=e&&e.captionsButton;t?t.focus():i&&i.focus()}handleLanguagechange(){this.fill()}});KV.registerComponent("ResizeManager",class extends KV{constructor(e,t){let i=t.ResizeObserver||lj.ResizeObserver;null===t.ResizeObserver&&(i=!1);super(e,ez({createEl:!i,reportTouchActivity:!1},t)),this.ResizeObserver=t.ResizeObserver||lj.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=AV((()=>{this.resizeHandler()}),100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const e=this.debouncedHandler_;let t=this.unloadListener_=function(){wV(this,"resize",e),wV(this,"unload",t),t=null};vV(this.el_.contentWindow,"unload",t),vV(this.el_.contentWindow,"resize",e)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}});const pG={trackingThreshold:20,liveTolerance:15};KV.registerComponent("LiveTracker",class extends KV{constructor(e,t){super(e,ez(pG,t,{createEl:!1})),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=e=>this.handlePlay(e),this.handleFirstTimeupdate_=e=>this.handleFirstTimeupdate(e),this.handleSeeked_=e=>this.handleSeeked(e),this.seekToLiveEdge_=e=>this.seekToLiveEdge(e),this.reset_(),this.on(this.player_,"durationchange",(e=>this.handleDurationchange(e))),this.on(this.player_,"canplay",(()=>this.toggleTracking()))}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const t=Number(lj.performance.now().toFixed(4)),i=-1===this.lastTime_?0:(t-this.lastTime_)/1e3;this.lastTime_=t,this.pastSeekEnd_=this.pastSeekEnd()+i;const n=this.liveCurrentTime(),r=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(n-r)>this.options_.liveTolerance;this.timeupdateSeen_&&n!==1/0||(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,SV),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),t=[];let i=e?e.length:0;for(;i--;)t.push(e.end(i));return t.length?t.sort()[t.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),t=[];let i=e?e.length:0;for(;i--;)t.push(e.start(i));return t.length?t.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return-1!==this.lastSeekEnd_&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return"number"==typeof this.trackingInterval_}seekToLiveEdge(){this.seekedBehindLive_=!1,this.atLiveEdge()||(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}});KV.registerComponent("TitleBar",class extends KV{constructor(e,t){super(e,t),this.on("statechanged",(e=>this.updateDom_())),this.updateDom_()}createEl(){return this.els={title:Nz("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${pV()}`}),description:Nz("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${pV()}`})},Nz("div",{className:"vjs-title-bar"},{},tz(this.els))}updateDom_(){const e=this.player_.tech_,t=e&&e.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach((e=>{const n=this.state[e],r=this.els[e],a=i[e];Gz(r),n&&Oz(r,n),t&&(t.removeAttribute(a),n&&t.setAttribute(a,r.id))})),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,t=e&&e.el_;t&&(t.removeAttribute("aria-labelledby"),t.removeAttribute("aria-describedby")),super.dispose(),this.els=null}});const mG=e=>{const t=e.el();if(t.hasAttribute("src"))return e.triggerSourceset(t.src),!0;const i=e.$$("source"),n=[];let r="";if(!i.length)return!1;for(let a=0;a<i.length;a++){const e=i[a].src;e&&-1===n.indexOf(e)&&n.push(e)}return!!n.length&&(1===n.length&&(r=n[0]),e.triggerSourceset(r),!0)},fG=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(e){const t=pj.createElement(this.nodeName.toLowerCase());t.innerHTML=e;const i=pj.createDocumentFragment();for(;t.childNodes.length;)i.appendChild(t.childNodes[0]);return this.innerText="",lj.Element.prototype.appendChild.call(this,i),this.innerHTML}}),gG=(e,t)=>{let i={};for(let n=0;n<e.length&&(i=Object.getOwnPropertyDescriptor(e[n],t),!(i&&i.set&&i.get));n++);return i.enumerable=!0,i.configurable=!0,i},yG=function(e){const t=e.el();if(t.resetSourceWatch_)return;const i={},n=(e=>gG([e.el(),lj.HTMLMediaElement.prototype,lj.Element.prototype,fG],"innerHTML"))(e),r=i=>(...n)=>{const r=i.apply(t,n);return mG(e),r};["append","appendChild","insertAdjacentHTML"].forEach((e=>{t[e]&&(i[e]=t[e],t[e]=r(i[e]))})),Object.defineProperty(t,"innerHTML",ez(n,{set:r(n.set)})),t.resetSourceWatch_=()=>{t.resetSourceWatch_=null,Object.keys(i).forEach((e=>{t[e]=i[e]})),Object.defineProperty(t,"innerHTML",n)},e.one("sourceset",t.resetSourceWatch_)},bG=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?_H(lj.Element.prototype.getAttribute.call(this,"src")):""},set(e){return lj.Element.prototype.setAttribute.call(this,"src",e),e}}),vG=function(e){if(!e.featuresSourceset)return;const t=e.el();if(t.resetSourceset_)return;const i=(e=>gG([e.el(),lj.HTMLMediaElement.prototype,bG],"src"))(e),n=t.setAttribute,r=t.load;Object.defineProperty(t,"src",ez(i,{set:n=>{const r=i.set.call(t,n);return e.triggerSourceset(t.src),r}})),t.setAttribute=(i,r)=>{const a=n.call(t,i,r);return/src/i.test(i)&&e.triggerSourceset(t.src),a},t.load=()=>{const i=r.call(t);return mG(e)||(e.triggerSourceset(""),yG(e)),i},t.currentSrc?e.triggerSourceset(t.currentSrc):mG(e)||yG(e),t.resetSourceset_=()=>{t.resetSourceset_=null,t.load=r,t.setAttribute=n,Object.defineProperty(t,"src",i),t.resetSourceWatch_&&t.resetSourceWatch_()}};class wG extends jH{constructor(e,t){super(e,t);const i=e.source;let n=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&"VIDEO"===this.el_.tagName,i&&(this.el_.currentSrc!==i.src||e.tag&&3===e.tag.initNetworkState_)?this.setSource(i):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const e=this.el_.childNodes;let t=e.length;const i=[];for(;t--;){const r=e[t];"track"===r.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(r),this.remoteTextTracks().addTrack(r.track),this.textTracks().addTrack(r.track),n||this.el_.hasAttribute("crossorigin")||!CH(r.src)||(n=!0)):i.push(r))}for(let n=0;n<i.length;n++)this.el_.removeChild(i[n])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&n&&WF.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),this.restoreMetadataTracksInIOSNativePlayer_(),(vz||bz)&&!0===e.nativeControlsForTouch&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),wG.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){vG(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let t;const i=()=>{t=[];for(let i=0;i<e.length;i++){const n=e[i];"metadata"===n.kind&&t.push({track:n,storedMode:n.mode})}};i(),e.addEventListener("change",i),this.on("dispose",(()=>e.removeEventListener("change",i)));const n=()=>{for(let e=0;e<t.length;e++){const i=t[e];"disabled"===i.track.mode&&i.track.mode!==i.storedMode&&(i.track.mode=i.storedMode)}e.removeEventListener("change",n)};this.on("webkitbeginfullscreen",(()=>{e.removeEventListener("change",i),e.removeEventListener("change",n),e.addEventListener("change",n)})),this.on("webkitendfullscreen",(()=>{e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",n)}))}overrideNative_(e,t){if(t!==this[`featuresNative${e}Tracks`])return;const i=e.toLowerCase();this[`${i}TracksListeners_`]&&Object.keys(this[`${i}TracksListeners_`]).forEach((e=>{this.el()[`${i}Tracks`].removeEventListener(e,this[`${i}TracksListeners_`][e])})),this[`featuresNative${e}Tracks`]=!t,this[`${i}TracksListeners_`]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const t=RH[e],i=this.el()[t.getterName],n=this[t.getterName]();if(!this[`featuresNative${t.capitalName}Tracks`]||!i||!i.addEventListener)return;const r={change:t=>{const i={type:"change",target:n,currentTarget:n,srcElement:n};n.trigger(i),"text"===e&&this[LH.remoteText.getterName]().trigger(i)},addtrack(e){n.addTrack(e.track)},removetrack(e){n.removeTrack(e.track)}},a=function(){const e=[];for(let t=0;t<n.length;t++){let r=!1;for(let e=0;e<i.length;e++)if(i[e]===n[t]){r=!0;break}r||e.push(n[t])}for(;e.length;)n.removeTrack(e.shift())};this[t.getterName+"Listeners_"]=r,Object.keys(r).forEach((e=>{const t=r[e];i.addEventListener(e,t),this.on("dispose",(n=>i.removeEventListener(e,t)))})),this.on("loadstart",a),this.on("dispose",(e=>this.off("loadstart",a)))}proxyNativeTracks_(){RH.names.forEach((e=>{this.proxyNativeTracksForType_(e)}))}createEl(){let e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){const t=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(t,e),wG.disposeMediaElement(e),e=t}else{e=pj.createElement("video");const t=ez({},this.options_.tag&&jz(this.options_.tag));vz&&!0===this.options_.nativeControlsForTouch||delete t.controls,Dz(e,Object.assign(t,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&Bz(e,"preload",this.options_.preload),void 0!==this.options_.disablePictureInPicture&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const t=["loop","muted","playsinline","autoplay"];for(let i=0;i<t.length;i++){const n=t[i],r=this.options_[n];void 0!==r&&(r?Bz(e,n,n):qz(e,n),e[n]=r)}return e}handleLateInit_(e){if(0===e.networkState||3===e.networkState)return;if(0===e.readyState){let e=!1;const t=function(){e=!0};this.on("loadstart",t);const i=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",i),void this.ready((function(){this.off("loadstart",t),this.off("loadedmetadata",i),e||this.trigger("loadstart")}))}const t=["loadstart"];t.push("loadedmetadata"),e.readyState>=2&&t.push("loadeddata"),e.readyState>=3&&t.push("canplay"),e.readyState>=4&&t.push("canplaythrough"),this.ready((function(){t.forEach((function(e){this.trigger(e)}),this)}))}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&xz?this.el_.fastSeek(e):this.el_.currentTime=e}catch(E_){WF(E_,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&oz&&uz&&0===this.el_.currentTime){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},t=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",t),this.on("dispose",(()=>{this.off("webkitbeginfullscreen",t),this.off("webkitendfullscreen",e)}))}supportsFullScreen(){return"function"==typeof this.el_.webkitEnterFullScreen}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)oH(this.el_.play()),this.setTimeout((function(){e.pause();try{e.webkitEnterFullScreen()}catch(E_){this.trigger("fullscreenerror",E_)}}),0);else try{e.webkitEnterFullScreen()}catch(E_){this.trigger("fullscreenerror",E_)}}exitFullScreen(){this.el_.webkitDisplayingFullscreen?this.el_.webkitExitFullScreen():this.trigger("fullscreenerror",new Error("The video is not fullscreen"))}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(void 0===e)return this.el_.src;this.setSrc(e)}reset(){wG.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,t,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,t,i):super.addTextTrack(e,t,i)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const t=pj.createElement("track");return e.kind&&(t.kind=e.kind),e.label&&(t.label=e.label),(e.language||e.srclang)&&(t.srclang=e.language||e.srclang),e.default&&(t.default=e.default),e.id&&(t.id=e.id),e.src&&(t.src=e.src),t}addRemoteTextTrack(e,t){const i=super.addRemoteTextTrack(e,t);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const t=this.$$("track");let i=t.length;for(;i--;)e!==t[i]&&e!==t[i].track||this.el().removeChild(t[i])}}getVideoPlaybackQuality(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();const e={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),lj.performance&&(e.creationTime=lj.performance.now()),e}}iz(wG,"TEST_VID",(function(){if(!Sz())return;const e=pj.createElement("video"),t=pj.createElement("track");return t.kind="captions",t.srclang="en",t.label="English",e.appendChild(t),e})),wG.isSupported=function(){try{wG.TEST_VID.volume=.5}catch(E_){return!1}return!(!wG.TEST_VID||!wG.TEST_VID.canPlayType)},wG.canPlayType=function(e){return wG.TEST_VID.canPlayType(e)},wG.canPlaySource=function(e,t){return wG.canPlayType(e.type)},wG.canControlVolume=function(){try{const e=wG.TEST_VID.volume;wG.TEST_VID.volume=e/2+.1;const t=e!==wG.TEST_VID.volume;return t&&Tz?(lj.setTimeout((()=>{wG&&wG.prototype&&(wG.prototype.featuresVolumeControl=e!==wG.TEST_VID.volume)})),!1):t}catch(E_){return!1}},wG.canMuteVolume=function(){try{const e=wG.TEST_VID.muted;return wG.TEST_VID.muted=!e,wG.TEST_VID.muted?Bz(wG.TEST_VID,"muted","muted"):qz(wG.TEST_VID,"muted"),e!==wG.TEST_VID.muted}catch(E_){return!1}},wG.canControlPlaybackRate=function(){if(oz&&uz&&pz<58)return!1;try{const e=wG.TEST_VID.playbackRate;return wG.TEST_VID.playbackRate=e/2+.1,e!==wG.TEST_VID.playbackRate}catch(E_){return!1}},wG.canOverrideAttributes=function(){try{const e=()=>{};Object.defineProperty(pj.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(pj.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(pj.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(pj.createElement("audio"),"innerHTML",{get:e,set:e})}catch(E_){return!1}return!0},wG.supportsNativeTextTracks=function(){return xz||Tz&&uz},wG.supportsNativeVideoTracks=function(){return!(!wG.TEST_VID||!wG.TEST_VID.videoTracks)},wG.supportsNativeAudioTracks=function(){return!(!wG.TEST_VID||!wG.TEST_VID.audioTracks)},wG.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach((function([e,t]){iz(wG.prototype,e,(()=>wG[t]()),!0)})),wG.prototype.featuresVolumeControl=wG.canControlVolume(),wG.prototype.movingMediaElementInDOM=!Tz,wG.prototype.featuresFullscreenResize=!0,wG.prototype.featuresProgressEvents=!0,wG.prototype.featuresTimeupdateEvents=!0,wG.prototype.featuresVideoFrameCallback=!(!wG.TEST_VID||!wG.TEST_VID.requestVideoFrameCallback),wG.disposeMediaElement=function(e){if(e){for(e.parentNode&&e.parentNode.removeChild(e);e.hasChildNodes();)e.removeChild(e.firstChild);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(E_){}}()}},wG.resetMediaElement=function(e){if(!e)return;const t=e.querySelectorAll("source");let i=t.length;for(;i--;)e.removeChild(t[i]);e.removeAttribute("src"),"function"==typeof e.load&&function(){try{e.load()}catch(E_){}}()},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(e){wG.prototype[e]=function(){return this.el_[e]||this.el_.hasAttribute(e)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(e){wG.prototype["set"+HV(e)]=function(t){this.el_[e]=t,t?this.el_.setAttribute(e,e):this.el_.removeAttribute(e)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach((function(e){wG.prototype[e]=function(){return this.el_[e]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach((function(e){wG.prototype["set"+HV(e)]=function(t){this.el_[e]=t}})),["pause","load","play"].forEach((function(e){wG.prototype[e]=function(){return this.el_[e]()}})),jH.withSourceHandlers(wG),wG.nativeSourceHandler={},wG.nativeSourceHandler.canPlayType=function(e){try{return wG.TEST_VID.canPlayType(e)}catch(E_){return""}},wG.nativeSourceHandler.canHandleSource=function(e,t){if(e.type)return wG.nativeSourceHandler.canPlayType(e.type);if(e.src){const t=SH(e.src);return wG.nativeSourceHandler.canPlayType(`video/${t}`)}return""},wG.nativeSourceHandler.handleSource=function(e,t,i){t.setSrc(e.src)},wG.nativeSourceHandler.dispose=function(){},wG.registerSourceHandler(wG.nativeSourceHandler),jH.registerTech("Html5",wG);const TG=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],xG={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},EG=["tiny","xsmall","small","medium","large","xlarge","huge"],_G={};EG.forEach((e=>{const t="x"===e.charAt(0)?`x-${e.substring(1)}`:e;_G[e]=`vjs-layout-${t}`}));const SG={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class CG extends KV{constructor(e,t,i){if(e.id=e.id||t.id||`vjs_video_${pV()}`,(t=Object.assign(CG.getTagSettings(e),t)).initChildren=!1,t.createEl=!1,t.evented=!1,t.reportTouchActivity=!1,!t.language){const i=e.closest("[lang]");i&&(t.language=i.getAttribute("lang"))}if(super(null,t,i),this.boundDocumentFullscreenChange_=e=>this.documentFullscreenChange_(e),this.boundFullWindowOnEscKey_=e=>this.fullWindowOnEscKey(e),this.boundUpdateStyleEl_=e=>this.updateStyleEl_(e),this.boundApplyInitTime_=e=>this.applyInitTime_(e),this.boundUpdateCurrentBreakpoint_=e=>this.updateCurrentBreakpoint_(e),this.boundHandleTechClick_=e=>this.handleTechClick_(e),this.boundHandleTechDoubleClick_=e=>this.handleTechDoubleClick_(e),this.boundHandleTechTouchStart_=e=>this.handleTechTouchStart_(e),this.boundHandleTechTouchMove_=e=>this.handleTechTouchMove_(e),this.boundHandleTechTouchEnd_=e=>this.handleTechTouchEnd_(e),this.boundHandleTechTap_=e=>this.handleTechTap_(e),this.isFullscreen_=!1,this.log=GF(this.id_),this.fsApi_=UF,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&jz(e),this.language(this.options_.language),t.languages){const e={};Object.getOwnPropertyNames(t.languages).forEach((function(i){e[i.toLowerCase()]=t.languages[i]})),this.languages_=e}else this.languages_=CG.prototype.options_.languages;this.resetCache_(),this.poster_=t.poster||"",this.controls_=!!t.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),t.plugins&&Object.keys(t.plugins).forEach((e=>{if("function"!=typeof this[e])throw new Error(`plugin "${e}" does not exist`)})),this.scrubbing_=!1,this.el_=this.createEl(),UV(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(vV(pj,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const n=ez(this.options_);if(t.plugins&&Object.keys(t.plugins).forEach((e=>{this[e](t.plugins[e])})),t.debug&&this.debug(!0),this.options_.playerOptions=n,this.middleware_=[],this.playbackRates(t.playbackRates),t.experimentalSvgIcons){const e=(new lj.DOMParser).parseFromString('<svg xmlns="http://www.w3.org/2000/svg">\n  <defs>\n    <symbol viewBox="0 0 16 16" id="vjs-icon-play">\n      <path d="M2 1v14l12-7z"></path>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-pause">\n       <path d="M10 4H5v16h5V4zm9 0h-5v16h5V4z"/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-audio">\n      <g><rect fill=\'none\' height=\'24\' width=\'24\'/></g><g><path d=\'M12,3c-4.97,0-9,4.03-9,9v7c0,1.1,0.9,2,2,2h4v-8H5v-1c0-3.87,3.13-7,7-7s7,3.13,7,7v1h-4v8h4c1.1,0,2-0.9,2-2v-7 C21,7.03,16.97,3,12,3z\'/></g>\n    </symbol>\n    <symbol viewBox="0 0 576 512" id="vjs-icon-captions">\n      <path d=\'M0 96C0 60.7 28.7 32 64 32H512c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM200 208c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48s21.5-48 48-48zm144 48c0-26.5 21.5-48 48-48c14.2 0 27 6.1 35.8 16c8.8 9.9 24 10.7 33.9 1.9s10.7-24 1.9-33.9c-17.5-19.6-43.1-32-71.5-32c-53 0-96 43-96 96s43 96 96 96c28.4 0 54-12.4 71.5-32c8.8-9.9 8-25-1.9-33.9s-25-8-33.9 1.9c-8.8 9.9-21.6 16-35.8 16c-26.5 0-48-21.5-48-48z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-subtitles">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM4 12h4v2H4v-2zm10 6H4v-2h10v2zm6 0h-4v-2h4v2zm0-4H10v-2h10v2z\'/>\n    </symbol>\n    <symbol viewBox="0 0 448 512" id="vjs-icon-fullscreen-enter">\n      <path d=\'M0 180V56c0-13.3 10.7-24 24-24h124c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H64v84c0 6.6-5.4 12-12 12H12c-6.6 0-12-5.4-12-12zM288 44v40c0 6.6 5.4 12 12 12h84v84c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12V56c0-13.3-10.7-24-24-24H300c-6.6 0-12 5.4-12 12zm148 276h-40c-6.6 0-12 5.4-12 12v84h-84c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h124c13.3 0 24-10.7 24-24V332c0-6.6-5.4-12-12-12zM160 468v-40c0-6.6-5.4-12-12-12H64v-84c0-6.6-5.4-12-12-12H12c-6.6 0-12 5.4-12 12v124c0 13.3 10.7 24 24 24h124c6.6 0 12-5.4 12-12z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-fullscreen-exit">\n      <path d="M16,9h5a1,1,0,0,0,0-2H17V3a1,1,0,0,0-2,0V8A1,1,0,0,0,16,9ZM8,15H3a1,1,0,0,0,0,2H7v4a1,1,0,0,0,2,0V16A1,1,0,0,0,8,15ZM8,2A1,1,0,0,0,7,3V7H3A1,1,0,0,0,3,9H8A1,1,0,0,0,9,8V3A1,1,0,0,0,8,2ZM21,15H16a1,1,0,0,0-1,1v5a1,1,0,0,0,2,0V17h4a1,1,0,0,0,0-2Z"/>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-play-circle">\n      <path d=\'M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zM188.3 147.1c7.6-4.2 16.8-4.1 24.3 .5l144 88c7.1 4.4 11.5 12.1 11.5 20.5s-4.4 16.1-11.5 20.5l-144 88c-7.4 4.5-16.7 4.7-24.3 .5s-12.3-12.2-12.3-20.9V168c0-8.7 4.7-16.7 12.3-20.9z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-mute">\n      <path d=\'M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-low">\n      <path d="M0 0h24v24H0z" fill="none"/><path d="M7 9v6h4l5 5V4l-5 5H7z"/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-medium">\n      <path d="M0 0h24v24H0z" fill="none"/><path d="M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-volume-high">\n      <path d="M0 0h24v24H0z" fill="none"/><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-spinner">\n      <path d=\'M304 48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zm0 416a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM48 304a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm464-48a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM142.9 437A48 48 0 1 0 75 369.1 48 48 0 1 0 142.9 437zm0-294.2A48 48 0 1 0 75 75a48 48 0 1 0 67.9 67.9zM369.1 437A48 48 0 1 0 437 369.1 48 48 0 1 0 369.1 437z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">\n      <path d=\'M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-chapters">\n      <path d=\'M3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm4 4h14v-2H7v2zm0 4h14v-2H7v2zM7 7v2h14V7H7z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-downloading">\n      <path d=\'M18.32,4.26C16.84,3.05,15.01,2.25,13,2.05v2.02c1.46,0.18,2.79,0.76,3.9,1.62L18.32,4.26z M19.93,11h2.02 c-0.2-2.01-1-3.84-2.21-5.32L18.31,7.1C19.17,8.21,19.75,9.54,19.93,11z M18.31,16.9l1.43,1.43c1.21-1.48,2.01-3.32,2.21-5.32 h-2.02C19.75,14.46,19.17,15.79,18.31,16.9z M13,19.93v2.02c2.01-0.2,3.84-1,5.32-2.21l-1.43-1.43 C15.79,19.17,14.46,19.75,13,19.93z M15.59,10.59L13,13.17V7h-2v6.17l-2.59-2.59L7,12l5,5l5-5L15.59,10.59z M11,19.93v2.02 c-5.05-0.5-9-4.76-9-9.95s3.95-9.45,9-9.95v2.02C7.05,4.56,4,7.92,4,12S7.05,19.44,11,19.93z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download">\n      <path d=\'M18,15v3H6v-3H4v3c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2v-3H18z M17,11l-1.41-1.41L13,12.17V4h-2v8.17L8.41,9.59L7,11l5,5 L17,11z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download-done">\n      <polygon points=\'20.13,5.41 18.72,4 9.53,13.19 5.28,8.95 3.87,10.36 9.53,16.02\'/><rect height=\'2\' width=\'14\' x=\'5\' y=\'18\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-file-download-off">\n      <path d=\'M18,15.17V15h2v2.17L18,15.17z M15.41,12.59L17,11l-1.41-1.41L14,11.17L15.41,12.59z M13,10.17V4h-2v4.17L13,10.17z M21.19,21.19l-1.78-1.78L2.81,2.81L1.39,4.22l6.19,6.19L7,11l5,5l0.59-0.59L15.17,18H6v-3H4v3c0,1.1,0.9,2,2,2h11.17l2.61,2.61 L21.19,21.19z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-share">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-cog">\n      <path d=\'M0,0h24v24H0V0z\' fill=\'none\'/><path d=\'M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z\'/>\n    </symbol>\n    <symbol viewBox="0 0 448 512" id="vjs-icon-square">\n      <path d=\'M384 80c8.8 0 16 7.2 16 16V416c0 8.8-7.2 16-16 16H64c-8.8 0-16-7.2-16-16V96c0-8.8 7.2-16 16-16H384zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64z\'/>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-circle">\n      <path d=\'M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-circle-outline">\n      <path d=\'M12,2C6.47,2,2,6.47,2,12c0,5.53,4.47,10,10,10s10-4.47,10-10C22,6.47,17.53,2,12,2z M12,20c-4.42,0-8-3.58-8-8 c0-4.42,3.58-8,8-8s8,3.58,8,8C20,16.42,16.42,20,12,20z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-circle-inner-circle">\n      <path d=\'M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-cancel">\n      <path d=\'M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-repeat">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-replay">\n      <path d=\'M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">\n      <path d=\'m17.68852 98-8.69633 8.69633 8.69633 8.69634 2.48665-2.48434-4.31928-4.31928h1.3011c4.93015 0 9.07149 1.72189 12.42399 5.16511 3.35251 3.44322 5.02876 7.63753 5.02876 12.58345h3.54972c0-2.95809-.55264-5.7293-1.657-8.3127-1.10435-2.5834-2.62238-4.84095-4.555-6.77357-1.93262-1.93262-4.19017-3.45065-6.77357-4.55501-2.5834-1.10435-5.35462-1.65699-8.31271-1.65699H15.5l4.61508-4.61509zm-8.07929 21.65879v13.86144h11.35631v5.00796H9.60923V143h12.699c.83466 0 1.55075-.29818 2.14693-.89436.59619-.59619.89436-1.30996.89436-2.14462v-7.78117c0-.83466-.29817-1.55075-.89436-2.14693-.59618-.59618-1.31227-.89436-2.14693-.89436h-8.22719v-5.09578h11.26848v-4.38399z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">\n      <path d=\'M42.314792 125.62978c0-4.99676-1.693476-9.23445-5.080438-12.71305-3.386962-3.47861-7.570851-5.21791-12.551676-5.21791h-1.314946l4.363203 4.3632-2.510335 2.51034-8.786174-8.78619L25.2206 97l2.450567 2.45057-4.662053 4.66205h1.374714c2.988489 0 5.787713.55785 8.397671 1.67355 2.609949 1.11571 4.891163 2.64981 6.843654 4.60229 1.952481 1.95248 3.486576 4.2337 4.602275 6.84365 1.115709 2.60995 1.673563 5.40917 1.673563 8.39767zM8.1829433 142v-19.65677H3.17603v-4.5433h9.642939V142Zm13.6299297 0c-1.155923 0-2.126398-.39251-2.911424-1.17755-.778861-.77885-1.168286-1.74624-1.168286-2.90215v-16.04066c0-1.15593.392524-2.1264 1.17755-2.91144.77886-.77885 1.746237-1.16827 2.90216-1.16827h7.695814c1.155914 0 2.126388.39251 2.911425 1.17755.77885.77886 1.168275 1.74623 1.168275 2.90216v16.04066c0 1.15591-.392513 2.12639-1.177549 2.91142-.778851.77885-1.746237 1.16828-2.902151 1.16828Zm.556316-4.63603h6.583172v-15.02074h-6.583172z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">\n      <path d=\'m26.046875 97-8.732422 8.73242 8.732422 8.73242 2.496094-2.49414-4.335938-4.33789h1.306641c4.950749 0 9.108097 1.72991 12.474609 5.1875 3.366504 3.4576 5.050781 7.66818 5.050781 12.63477h3.564454c0-2.97045-.555098-5.75152-1.664063-8.3457-1.108965-2.59419-2.633522-4.86205-4.574219-6.80274-1.940688-1.94069-4.208545-3.46525-6.802734-4.57422-2.59419-1.10897-5.375262-1.66406-8.345703-1.66406h-1.367188l4.634766-4.63477zM2.5546875 117.53125v4.6875H12.851562v5.25H5.8730469v4.6875h6.9785151v5.15625H2.5546875V142H13.361328c1.06088 0 1.950319-.39495 2.667969-1.18555.71765-.79059 1.076172-1.7727 1.076172-2.9414v-16.2168c0-1.1687-.358522-2.14886-1.076172-2.93945-.71765-.79059-1.607089-1.18555-2.667969-1.18555zm22.4824215.14063c-1.148936 0-2.110612.38991-2.884765 1.16406-.780292.78029-1.171875 1.74365-1.171875 2.89258v15.94336c0 1.14892.387966 2.1106 1.162109 2.88476.780302.78029 1.745595 1.17188 2.894531 1.17188h7.648438c1.148936 0 2.110613-.38795 2.884765-1.16211.780294-.78029 1.169922-1.74561 1.169922-2.89453v-15.94336c0-1.14893-.386013-2.11061-1.160156-2.88477-.780293-.78029-1.745595-1.17187-2.894531-1.17187zm.552735 4.51757h6.544922v14.92969h-6.544922z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">\n      <path d=\'m29.50843 97-2.43193 2.42962 4.6253 4.6253h-1.3642c-2.96464 0-5.74198.55386-8.3311 1.66066-2.58912 1.1068-4.85167 2.62819-6.78857 4.56508-1.93689 1.9369-3.45828 4.19945-4.56508 6.78857-1.1068 2.58911-1.66066 5.36646-1.66066 8.3311h3.55757c0-4.95687 1.67996-9.16047 5.03989-12.6113 3.35992-3.45084 7.51042-5.17654 12.45149-5.17654h1.30398l-4.32653 4.32883 2.48984 2.48984 8.71558-8.71558zm-9.78332 21.60945v13.8898h11.38144v5.01905H19.72511V142h12.72711c.83651 0 1.55186-.29884 2.14937-.89634.5975-.59751.89634-1.31286.89634-2.14936v-7.7984c0-.83651-.29884-1.55418-.89634-2.15168-.59751-.5975-1.31286-.89634-2.14937-.89634h-8.2454v-5.10706h11.29111v-4.39137z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">\n      <path d=\'m23.118923 97-2.385761 2.38349 4.537491 4.53749h-1.338298c-2.908354 0-5.632974.54335-8.172936 1.62913-2.539963 1.08579-4.759558 2.57829-6.659682 4.47842-1.900125 1.90012-3.39263 4.11972-4.478415 6.65968-1.085785 2.53996-1.629134 5.26458-1.629134 8.17294h3.490028c0-4.86277 1.648071-8.98656 4.944206-12.37188 3.296134-3.38532 7.367841-5.07826 12.215097-5.07826h1.279222l-4.244383 4.24665 2.442565 2.44257 8.550114-8.55012zm-9.520322 21.44913v4.42161h4.871497V142h4.512496v-23.55087zm18.136328 0c-1.124919 0-2.06632.37811-2.824287 1.13608-.763982.76398-1.147437 1.70845-1.147437 2.83337v15.61197c0 1.12492.380382 2.06631 1.138349 2.82428.763983.76398 1.708456 1.14517 2.833375 1.14517h7.489021c1.12492 0 2.06632-.37811 2.82428-1.13608.76399-.76398 1.14517-1.70845 1.14517-2.83337v-15.61197c0-1.12492-.37811-2.06632-1.13608-2.82429-.76398-.76398-1.70845-1.14516-2.83337-1.14516zm.540773 4.42161h6.407468v14.61676h-6.407468z\'/>\n    </symbol>\n    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">\n      <path d=\'m25.548631 97-2.436697 2.43438 4.634367 4.63436H26.37943c-2.970448 0-5.753239.55495-8.347429 1.66392-2.594191 1.10897-4.861176 2.63334-6.801867 4.57403-1.940693 1.94069-3.465063 4.20767-4.57403 6.80187-1.108967 2.59419-1.663916 5.37698-1.663916 8.34742h3.56454c0-4.96658 1.683258-9.17841 5.049766-12.63601 3.366507-3.4576 7.525145-5.18669 12.475891-5.18669h1.306534l-4.335002 4.33733 2.494714 2.49471 8.73266-8.73266zm-11.552266 20.53092v4.68774h10.296787v5.24934h-6.978237v4.68774h6.978237v5.15652H13.996365V142h10.807333c1.060879 0 1.94879-.39527 2.666443-1.18586.717653-.79059 1.076789-1.77158 1.076789-2.94028v-16.2168c0-1.1687-.359136-2.14969-1.076789-2.94028-.717653-.79059-1.605564-1.18586-2.666443-1.18586zm21.173741.16708c-1.148937 0-2.110436.38851-2.884586 1.16266-.780294.78029-1.171935 1.74493-1.171935 2.89387v15.94296c0 1.14894.388502 2.11043 1.162652 2.88458.780294.78029 1.744932 1.16962 2.893869 1.16962h7.648904c1.14894 0 2.11044-.38619 2.88459-1.16033.78029-.7803 1.16961-1.74493 1.16961-2.89387v-15.94296c0-1.14894-.38618-2.11044-1.16033-2.88459-.78029-.78029-1.74493-1.17194-2.89387-1.17194zm.552317 4.51602h6.541957v14.93115h-6.541957z\'/>\n    </symbol>\n    <symbol viewBox="0 0 512 512" xmlns:sketch=\'http://www.bohemiancoding.com/sketch/ns\' id="vjs-icon-audio-description">\n      <g id=\'Page-1\' stroke=\'none\' stroke-width=\'1\' sketch:type=\'MSPage\'><g id=\'AD\' sketch:type=\'MSArtboardGroup\'><g id=\'g24\' sketch:type=\'MSLayerGroup\' transform=\'translate(226.904216, 162.124958)\'><path d=\'M0.385466989,219.226204 L0.385466989,0.867948105 C50.7660025,-0.149278544 89.4938709,-2.16027378 118.016886,17.9940357 C145.39121,37.3362698 166.750707,74.9591545 162.906445,123.318579 C158.839382,174.474203 121.571663,217.457893 73.1311827,221.793795 C49.0460488,223.949377 1.1583283,221.793795 1.1583283,221.793795 C1.1583283,221.793795 0.318395733,220.441758 0.385466989,219.226204 M49.1404882,164.421786 C80.5703101,165.681697 102.34881,147.788744 105.636072,119.036417 C110.038491,80.5268177 84.4473371,55.4838492 47.5943801,58.2399576 L47.5943801,161.852062 C47.5585317,163.318404 48.1702678,164.071194 49.1404882,164.421786\' id=\'path26\' sketch:type=\'MSShapeGroup\'></path></g><g id=\'g28\' sketch:type=\'MSLayerGroup\' transform=\'translate(383.779991, 168.926023)\'><path d=\'M0,212.402042 C13.3360014,216.111401 17.386874,201.342635 23.2151349,190.99422 C35.936702,168.422877 45.5086182,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77564916,7.35260805 5.41542574,10.3142944 C18.5814362,34.0755999 30.7818519,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042\' id=\'path30\' sketch:type=\'MSShapeGroup\'></path></g><g id=\'g32\' sketch:type=\'MSLayerGroup\' transform=\'translate(425.153705, 168.926023)\'><path d=\'M0,212.402042 C13.3360014,216.111401 17.3841758,201.340502 23.2151349,190.99422 C35.936702,168.422877 45.5066909,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77487823,7.35346107 5.41542574,10.3142944 C18.5814362,34.0755999 30.7822374,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042\' id=\'path34\' sketch:type=\'MSShapeGroup\'></path></g><g id=\'g36\' sketch:type=\'MSLayerGroup\' transform=\'translate(466.260868, 168.926023)\'><path d=\'M0,212.402042 C13.3360014,216.111401 17.3841758,201.340502 23.2151349,190.99422 C35.936702,168.422877 45.5066909,139.400143 45.6604922,106.220214 C45.8813648,58.6259492 27.3172746,23.7033002 10.059532,0.0383859113 L1.54919183,0.0383859113 C0.96289654,3.91152436 3.77487823,7.35303456 5.41542574,10.3142944 C18.5814362,34.0755999 30.7818519,66.8674044 30.9556975,104.507776 C31.1545985,147.683822 16.7932549,183.786198 0,212.402042\' id=\'path38\' sketch:type=\'MSShapeGroup\'></path></g><path d=\'M4.4765625,383.005158 L72.5800993,383.005158 L91.1530552,354.521486 L155.321745,354.386058 C155.321745,354.386058 155.386889,373.799083 155.386889,383.005158 L204.142681,383.005158 L204.142681,160.308263 L145.326586,160.308263 C139.673713,169.845383 4.4765625,383.005158 4.4765625,383.005158 L4.4765625,383.005158 Z M157.144233,237.722611 L157.144233,308.881058 L116.6914,308.610203 L157.144233,237.722611 L157.144233,237.722611 Z\' id=\'path22\' sketch:type=\'MSShapeGroup\'></path></g></g>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-next-item">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-previous-item">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M6 6h2v12H6zm3.5 6l8.5 6V6z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-shuffle">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-cast">\n      <path d=\'M0 0h24v24H0z\' fill=\'none\'/><path d=\'M0 0h24v24H0z\' fill=\'none\' opacity=\'.1\'/><path d=\'M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z\'/>\n    </symbol>\n    <symbol viewBox="0 0 24 24" id="vjs-icon-picture-in-picture-enter">\n      <path d=\'M0 0h24v24H0V0z\' fill=\'none\'/><path d=\'M19 11h-8v6h8v-6zm4 8V4.98C23 3.88 22.1 3 21 3H3c-1.1 0-2 .88-2 1.98V19c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H3V4.97h18v14.05z\'/>\n    </symbol>\n    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">\n      <path d=\'M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z\'/><path fill=\'none\' d=\'M-1-3h24v24H-1z\'/>\n    </symbol>\n    <symbol viewBox="0 0 320 512" id="vjs-icon-facebook">\n      <path d=\'M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z\'/>\n    </symbol>\n    <symbol viewBox="0 0 448 512" id="vjs-icon-linkedin">\n      <path d=\'M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z\'/>\n    </symbol>\n    <symbol viewBox="0 0 512 512" id="vjs-icon-twitter">\n      <path d=\'M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z\'/>\n    </symbol>\n    <symbol viewBox="0 0 320 512" id="vjs-icon-tumblr">\n      <path d=\'M309.8 480.3c-13.6 14.5-50 31.7-97.4 31.7-120.8 0-147-88.8-147-140.6v-144H17.9c-5.5 0-10-4.5-10-10v-68c0-7.2 4.5-13.6 11.3-16 62-21.8 81.5-76 84.3-117.1.8-11 6.5-16.3 16.1-16.3h70.9c5.5 0 10 4.5 10 10v115.2h83c5.5 0 10 4.4 10 9.9v81.7c0 5.5-4.5 10-10 10h-83.4V360c0 34.2 23.7 53.6 68 35.8 4.8-1.9 9-3.2 12.7-2.2 3.5.9 5.8 3.4 7.4 7.9l22 64.3c1.8 5 3.3 10.6-.4 14.5z\'/>\n    </symbol>\n    <symbol viewBox="0 0 496 512" id="vjs-icon-pinterest">\n      <path d=\'M496 256c0 137-111 248-248 248-25.6 0-50.2-3.9-73.4-11.1 10.1-16.5 25.2-43.5 30.8-65 3-11.6 15.4-59 15.4-59 8.1 15.4 31.7 28.5 56.8 28.5 74.8 0 128.7-68.8 128.7-154.3 0-81.9-66.9-143.2-152.9-143.2-107 0-163.9 71.8-163.9 150.1 0 36.4 19.4 81.7 50.3 96.1 4.7 2.2 7.2 1.2 8.3-3.3.8-3.4 5-20.3 6.9-28.1.6-2.5.3-4.7-1.7-7.1-10.1-12.5-18.3-35.3-18.3-56.6 0-54.7 41.4-107.6 112-107.6 60.9 0 103.6 41.5 103.6 100.9 0 67.1-33.9 113.6-78 113.6-24.3 0-42.6-20.1-36.7-44.8 7-29.5 20.5-61.3 20.5-82.6 0-19-10.2-34.9-31.4-34.9-24.9 0-44.9 25.7-44.9 60.2 0 22 7.4 36.8 7.4 36.8s-24.5 103.8-29 123.2c-5 21.4-3 51.6-.9 71.2C65.4 450.9 0 361.1 0 256 0 119 111 8 248 8s248 111 248 248z\'/>\n    </symbol>\n  </defs>\n</svg>',"image/svg+xml");if(e.querySelector("parsererror"))WF.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const t=e.documentElement;t.style.display="none",this.el_.appendChild(t),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio("audio"===e.nodeName.toLowerCase()),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),vz&&this.addClass("vjs-touch-enabled"),Tz||this.addClass("vjs-workinghover"),CG.players[this.id_]=this;const r=jF.split(".")[0];this.addClass(`vjs-v${r}`),this.userActive(!0),this.reportUserActivity(),this.one("play",(e=>this.listenForUserActivity_(e))),this.on("keydown",(e=>this.handleKeyDown(e))),this.on("languagechange",(e=>this.handleLanguagechange(e))),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",(()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)}))}dispose(){this.trigger("dispose"),this.off("dispose"),wV(pj,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),wV(pj,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),CG.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),BH[this.id()]=null,DH.names.forEach((e=>{const t=this[DH[e].getterName]();t&&t.off&&t.off()})),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e,t=this.tag,i=this.playerElIngest_=t.parentNode&&t.parentNode.hasAttribute&&t.parentNode.hasAttribute("data-vjs-player");const n="video-js"===this.tag.tagName.toLowerCase();i?e=this.el_=t.parentNode:n||(e=this.el_=super.createEl("div"));const r=jz(t);if(n){for(e=this.el_=t,t=this.tag=pj.createElement("video");e.children.length;)t.appendChild(e.firstChild);Pz(e,"video-js")||Iz(e,"video-js"),e.appendChild(t),i=this.playerElIngest_=e,Object.keys(e).forEach((i=>{try{t[i]=e[i]}catch(E_){}}))}if(t.setAttribute("tabindex","-1"),r.tabindex="-1",uz&&gz&&(t.setAttribute("role","application"),r.role="application"),t.removeAttribute("width"),t.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach((function(i){n&&"class"===i||e.setAttribute(i,r[i]),n&&t.setAttribute(i,r[i])})),t.playerId=t.id,t.id+="_html5_api",t.className="vjs-tech",t.player=e.player=this,this.addClass("vjs-paused"),!0!==lj.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=lV("vjs-styles-dimensions");const e=Jz(".vjs-styles-defaults"),t=Jz("head");t.insertBefore(this.styleEl_,e?e.nextSibling:t.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const a=t.getElementsByTagName("a");for(let s=0;s<a.length;s++){const e=a.item(s);Iz(e,"vjs-hidden"),e.setAttribute("hidden","hidden")}return t.initNetworkState_=t.networkState,t.parentNode&&!i&&t.parentNode.insertBefore(e,t),Mz(t,e),this.children_.unshift(t),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=e,e}crossOrigin(e){if(void 0===e)return this.techGet_("crossOrigin");null===e||"anonymous"===e||"use-credentials"===e?(this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)):WF.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,t){const i=e+"_";if(void 0===t)return this[i]||0;if(""===t||"auto"===t)return this[i]=void 0,void this.updateStyleEl_();const n=parseFloat(t);isNaN(n)?WF.error(`Improper value "${t}" supplied for for ${e}`):(this[i]=n,this.updateStyleEl_())}fluid(e){if(void 0===e)return!!this.fluid_;var t,i;this.fluid_=!!e,IV(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),i=()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)},IV(t=this)?i():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(i))):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(void 0===e)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(void 0===e)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(!0===lj.VIDEOJS_NO_DYNAMIC_STYLE){const e="number"==typeof this.width_?this.width_:this.options_.width,t="number"==typeof this.height_?this.height_:this.options_.height,i=this.tech_&&this.tech_.el();return void(i&&(e>=0&&(i.width=e),t>=0&&(i.height=t)))}let e,t,i,n;i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";const r=i.split(":"),a=r[1]/r[0];e=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/a:this.videoWidth()||300,t=void 0!==this.height_?this.height_:e*a,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),cV(this.styleEl_,`\n      .${n} {\n        width: ${e}px;\n        height: ${t}px;\n      }\n\n      .${n}.vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: ${100*a}%;\n      }\n    `)}loadTech_(e,t){this.tech_&&this.unloadTech_();const i=HV(e),n=e.charAt(0).toLowerCase()+e.slice(1);"Html5"!==i&&this.tag&&(jH.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let r=this.autoplay();("string"==typeof this.autoplay()||!0===this.autoplay()&&this.options_.normalizeAutoplay)&&(r=!1);const a={source:t,autoplay:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${n}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};DH.names.forEach((e=>{const t=DH[e];a[t.getterName]=this[t.privateName]})),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[n]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),t&&t.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const s=jH.getTech(e);if(!s)throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);this.tech_=new s(a),this.tech_.ready(CV(this,this.handleTechReady_),!0),dH(this.textTracksJson_||[],this.tech_),TG.forEach((e=>{this.on(this.tech_,e,(t=>this[`handleTech${HV(e)}_`](t)))})),Object.keys(xG).forEach((e=>{this.on(this.tech_,e,(t=>{0===this.tech_.playbackRate()&&this.tech_.seeking()?this.queuedCallbacks_.push({callback:this[`handleTech${xG[e]}_`].bind(this),event:t}):this[`handleTech${xG[e]}_`](t)}))})),this.on(this.tech_,"loadstart",(e=>this.handleTechLoadStart_(e))),this.on(this.tech_,"sourceset",(e=>this.handleTechSourceset_(e))),this.on(this.tech_,"waiting",(e=>this.handleTechWaiting_(e))),this.on(this.tech_,"ended",(e=>this.handleTechEnded_(e))),this.on(this.tech_,"seeking",(e=>this.handleTechSeeking_(e))),this.on(this.tech_,"play",(e=>this.handleTechPlay_(e))),this.on(this.tech_,"pause",(e=>this.handleTechPause_(e))),this.on(this.tech_,"durationchange",(e=>this.handleTechDurationChange_(e))),this.on(this.tech_,"fullscreenchange",((e,t)=>this.handleTechFullscreenChange_(e,t))),this.on(this.tech_,"fullscreenerror",((e,t)=>this.handleTechFullscreenError_(e,t))),this.on(this.tech_,"enterpictureinpicture",(e=>this.handleTechEnterPictureInPicture_(e))),this.on(this.tech_,"leavepictureinpicture",(e=>this.handleTechLeavePictureInPicture_(e))),this.on(this.tech_,"error",(e=>this.handleTechError_(e))),this.on(this.tech_,"posterchange",(e=>this.handleTechPosterChange_(e))),this.on(this.tech_,"textdata",(e=>this.handleTechTextData_(e))),this.on(this.tech_,"ratechange",(e=>this.handleTechRateChange_(e))),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===i&&this.tag||Mz(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){DH.names.forEach((e=>{const t=DH[e];this[t.privateName]=this[t.getterName]()})),this.textTracksJson_=cH(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return void 0===e&&WF.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"),this.tech_}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(!0===this.autoplay()&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||"string"!=typeof e)return;const t=()=>{const e=this.muted();this.muted(!0);const t=()=>{this.muted(e)};this.playTerminatedQueue_.push(t);const i=this.play();if(sH(i))return i.catch((e=>{throw t(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${e||""}`)}))};let i;return"any"!==e||this.muted()?i="muted"!==e||this.muted()?this.play():t():(i=this.play(),sH(i)&&(i=i.catch(t))),sH(i)?i.then((()=>{this.trigger({type:"autoplay-success",autoplay:e})})).catch((()=>{this.trigger({type:"autoplay-failure",autoplay:e})})):void 0}updateSourceCaches_(e=""){let t=e,i="";"string"!=typeof t&&(t=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],t&&!i&&(i=((e,t)=>{if(!t)return"";if(e.cache_.source.src===t&&e.cache_.source.type)return e.cache_.source.type;const i=e.cache_.sources.filter((e=>e.src===t));if(i.length)return i[0].type;const n=e.$$("source");for(let r=0;r<n.length;r++){const e=n[r];if(e.type&&e.src&&e.src===t)return e.type}return QH(t)})(this,t)),this.cache_.source=ez({},e,{src:t,type:i});const n=this.cache_.sources.filter((e=>e.src&&e.src===t)),r=[],a=this.$$("source"),s=[];for(let o=0;o<a.length;o++){const e=jz(a[o]);r.push(e),e.src&&e.src===t&&s.push(e.src)}s.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=t}handleTechSourceset_(e){if(!this.changingSrc_){let t=e=>this.updateSourceCaches_(e);const i=this.currentSource().src,n=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(n)&&(!this.lastSource_||this.lastSource_.tech!==n&&this.lastSource_.player!==i)&&(t=()=>{}),t(n),e.src||this.tech_.any(["sourceset","loadstart"],(e=>{if("sourceset"===e.type)return;const t=this.techGet_("currentSrc");this.lastSource_.tech=t,this.updateSourceCaches_(t)}))}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(void 0===e)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((e=>e.callback(e.event))),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),t=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",t))};this.on("timeupdate",t)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.click&&!1===this.options_.userActions.click||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.click?this.options_.userActions.click.call(this,e):this.paused()?oH(this.play()):this.pause()))}handleTechDoubleClick_(e){if(!this.controls_)return;const t=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),(t=>t.contains(e.target)));t||void 0!==this.options_&&void 0!==this.options_.userActions&&void 0!==this.options_.userActions.doubleClick&&!1===this.options_.userActions.doubleClick||(void 0!==this.options_&&void 0!==this.options_.userActions&&"function"==typeof this.options_.userActions.doubleClick?this.options_.userActions.doubleClick.call(this,e):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const t=e.target.player;if(t&&t!==this)return;const i=this.el();let n=pj[this.fsApi_.fullscreenElement]===i;!n&&i.matches&&(n=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(n)}handleTechFullscreenChange_(e,t){t&&(t.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",(()=>{this.removeClass("vjs-ios-native-fs")}))),this.isFullscreen(t.isFullscreen))}handleTechFullscreenError_(e,t){this.trigger("fullscreenerror",t)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,t){this.ready((function(){if(e in VH)return function(e,t,i,n){return t[i](e.reduce(WH(i),n))}(this.middleware_,this.tech_,e,t);if(e in HH)return FH(this.middleware_,this.tech_,e,t);try{this.tech_&&this.tech_[e](t)}catch(E_){throw WF(E_),E_}}),!0)}techGet_(e){if(this.tech_&&this.tech_.isReady_){if(e in zH)return function(e,t,i){return e.reduceRight(WH(i),t[i]())}(this.middleware_,this.tech_,e);if(e in HH)return FH(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(E_){if(void 0===this.tech_[e])throw WF(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,E_),E_;if("TypeError"===E_.name)throw WF(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,E_),this.tech_.isReady_=!1,E_;throw WF(E_),E_}}}play(){return new Promise((e=>{this.play_(e)}))}play_(e=oH){this.playCallbacks_.push(e);const t=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc())),i=Boolean(xz||Tz);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!t)return this.waitToPlay_=e=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),void(!t&&i&&this.load());const n=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),null===n?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(n)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach((function(e){e()}))}runPlayCallbacks_(e){const t=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],t.forEach((function(t){t(e)}))}pause(){this.techCall_("pause")}paused(){return!1!==this.techGet_("paused")}played(){return this.techGet_("played")||XV(0,0)}scrubbing(e){if(void 0===e)return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){return void 0===e?(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime):(e<0&&(e=0),this.isReady_&&!this.changingSrc_&&this.tech_&&this.tech_.isReady_?(this.techCall_("setCurrentTime",e),this.cache_.initTime=0,void(isFinite(e)&&(this.cache_.currentTime=Number(e)))):(this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),void this.one("canplay",this.boundApplyInitTime_)))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(void 0===e)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(e=parseFloat(e))<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return e&&e.length||(e=XV(0,0)),e}bufferedPercent(){return rH(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),t=this.duration();let i=e.end(e.length-1);return i>t&&(i=t),i}volume(e){let t;return void 0!==e?(t=Math.max(0,Math.min(1,e)),this.cache_.volume=t,this.techCall_("setVolume",t),void(t>0&&this.lastVolume_(t))):(t=parseFloat(this.techGet_("volume")),isNaN(t)?1:t)}muted(e){if(void 0===e)return this.techGet_("muted")||!1;this.techCall_("setMuted",e)}defaultMuted(e){return void 0!==e&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(void 0===e||0===e)return this.cache_.lastVolume;this.cache_.lastVolume=e}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(void 0!==e){const t=this.isFullscreen_;return this.isFullscreen_=Boolean(e),this.isFullscreen_!==t&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),void this.toggleFullscreenClass_()}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const t=this;return new Promise(((i,n)=>{function r(){t.off("fullscreenerror",s),t.off("fullscreenchange",a)}function a(){r(),i()}function s(e,t){r(),n(t)}t.one("fullscreenchange",a),t.one("fullscreenerror",s);const o=t.requestFullscreenHelper_(e);o&&(o.then(r,r),o.then(i,n))}))}requestFullscreenHelper_(e){let t;if(this.fsApi_.prefixed||(t=this.options_.fullscreen&&this.options_.fullscreen.options||{},void 0!==e&&(t=e)),this.fsApi_.requestFullscreen){const e=this.el_[this.fsApi_.requestFullscreen](t);return e&&e.then((()=>this.isFullscreen(!0)),(()=>this.isFullscreen(!1))),e}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise(((t,i)=>{function n(){e.off("fullscreenerror",a),e.off("fullscreenchange",r)}function r(){n(),t()}function a(e,t){n(),i(t)}e.one("fullscreenchange",r),e.one("fullscreenerror",a);const s=e.exitFullscreenHelper_();s&&(s.then(n,n),s.then(t,i))}))}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=pj[this.fsApi_.exitFullscreen]();return e&&oH(e.then((()=>this.isFullscreen(!1)))),e}this.tech_.supportsFullScreen()&&!0==!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=pj.documentElement.style.overflow,vV(pj,"keydown",this.boundFullWindowOnEscKey_),pj.documentElement.style.overflow="hidden",Iz(pj.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){fj.isEventKey(e,"Esc")&&!0===this.isFullscreen()&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,wV(pj,"keydown",this.boundFullWindowOnEscKey_),pj.documentElement.style.overflow=this.docOrigOverflow,Rz(pj.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(void 0===e)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){return void 0!==e?(this.isInPictureInPicture_=!!e,void this.togglePictureInPictureClass_()):!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&lj.documentPictureInPicture){const e=pj.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(Nz("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),lj.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then((t=>(tV(t),this.el_.parentNode.insertBefore(e,this.el_),t.document.body.appendChild(this.el_),t.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger("enterpictureinpicture"),t.addEventListener("pagehide",(t=>{const i=t.target.querySelector(".video-js");e.parentNode.replaceChild(i,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")})),t)))}return"pictureInPictureEnabled"in pj&&!1===this.disablePictureInPicture()?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){return lj.documentPictureInPicture&&lj.documentPictureInPicture.window?(lj.documentPictureInPicture.window.close(),Promise.resolve()):"pictureInPictureEnabled"in pj?pj.exitPictureInPicture():void 0}handleKeyDown(e){const{userActions:t}=this.options_;if(!t||!t.hotkeys)return;(e=>{const t=e.tagName.toLowerCase();if(e.isContentEditable)return!0;if("input"===t)return-1===["button","checkbox","hidden","radio","reset","submit"].indexOf(e.type);return-1!==["textarea"].indexOf(t)})(this.el_.ownerDocument.activeElement)||("function"==typeof t.hotkeys?t.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const t=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=(e=>fj.isEventKey(e,"f")),muteKey:n=(e=>fj.isEventKey(e,"m")),playPauseKey:r=(e=>fj.isEventKey(e,"k")||fj.isEventKey(e,"Space"))}=t;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const t=KV.getComponent("FullscreenToggle");!1!==pj[this.fsApi_.fullscreenEnabled]&&t.prototype.handleClick.call(this,e)}else if(n.call(this,e)){e.preventDefault(),e.stopPropagation();KV.getComponent("MuteToggle").prototype.handleClick.call(this,e)}else if(r.call(this,e)){e.preventDefault(),e.stopPropagation();KV.getComponent("PlayToggle").prototype.handleClick.call(this,e)}}canPlayType(e){let t;for(let i=0,n=this.options_.techOrder;i<n.length;i++){const r=n[i];let a=jH.getTech(r);if(a||(a=KV.getComponent(r)),a){if(a.isSupported()&&(t=a.canPlayType(e),t))return t}else WF.error(`The "${r}" tech is undefined. Skipped browser support check for that tech.`)}return""}selectSource(e){const t=this.options_.techOrder.map((e=>[e,jH.getTech(e)])).filter((([e,t])=>t?t.isSupported():(WF.error(`The "${e}" tech is undefined. Skipped browser support check for that tech.`),!1))),i=function(e,t,i){let n;return e.some((e=>t.some((t=>{if(n=i(e,t),n)return!0})))),n};let n;const r=([e,t],i)=>{if(t.canPlaySource(i,this.options_[e.toLowerCase()]))return{source:i,tech:e}};var a;return n=this.options_.sourceOrder?i(e,t,(a=r,(e,t)=>a(t,e))):i(t,e,r),n||!1}handleSrc_(e,t){if(void 0===e)return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=YH(e);if(i.length){if(this.changingSrc_=!0,t||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),UH(this,i[0],((e,n)=>{this.middleware_=n,t||(this.cache_.sources=i),this.updateSourceCaches_(e);if(this.src_(e))return i.length>1?this.handleSrc_(i.slice(1)):(this.changingSrc_=!1,this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0),void this.triggerReady());var r,a;r=n,a=this.tech_,r.forEach((e=>e.setTech&&e.setTech(a)))})),i.length>1){const e=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},t=()=>{this.off("error",e)};this.one("error",e),this.one("playing",t),this.resetRetryOnError_=()=>{this.off("error",e),this.off("playing",t)}}}else this.setTimeout((function(){this.error({code:4,message:this.options_.notSupportedMessage})}),0)}src(e){return this.handleSrc_(e,!1)}src_(e){const t=this.selectSource([e]);return!t||(WV(t.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(t.tech,t.source),this.tech_.ready((()=>{this.changingSrc_=!1})),!1))}load(){this.tech_&&this.tech_.vhs?this.src(this.currentSource()):this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{oH(this.play().then((()=>this.doReset_())))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),IV(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:t,progressControl:i,remainingTimeDisplay:n}=this.controlBar||{},{seekBar:r}=i||{};e&&e.updateContent(),t&&t.updateContent(),n&&n.updateContent(),r&&(r.update(),r.loadProgressBar&&r.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),t=[];return 0!==Object.keys(e).length&&t.push(e),this.cache_.sources||t}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){return void 0!==e?(this.techCall_("setPreload",e),void(this.options_.preload=e)):this.techGet_("preload")}autoplay(e){if(void 0===e)return this.options_.autoplay||!1;let t;"string"==typeof e&&/(any|play|muted)/.test(e)||!0===e&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_("string"==typeof e?e:"play"),t=!1):this.options_.autoplay=!!e,t=void 0===t?this.options_.autoplay:t,this.tech_&&this.techCall_("setAutoplay",t)}playsinline(e){return void 0!==e&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){return void 0!==e?(this.techCall_("setLoop",e),void(this.options_.loop=e)):this.techGet_("loop")}poster(e){if(void 0===e)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(void 0===e)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(void 0===e)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(void 0===e)return this.error_||null;if(BF("beforeerror").forEach((t=>{const i=t(this,e);JF(i)&&!Array.isArray(i)||"string"==typeof i||"number"==typeof i||null===i?e=i:this.log.error("please return a value that MediaError expects in beforeerror hooks")})),this.options_.suppressNotSupportedError&&e&&4===e.code){const t=function(){this.error(e)};return this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],t),void this.one("loadstart",(function(){this.off(["click","touchstart"],t)}))}if(null===e)return this.error_=null,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close());this.error_=new aH(e),this.addClass("vjs-error"),WF.error(`(CODE:${this.error_.code} ${aH.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),BF("error").forEach((e=>e(this,this.error_)))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(void 0===e)return this.userActive_;if((e=!!e)!==this.userActive_){if(this.userActive_=e,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(e){e.stopPropagation(),e.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,t,i;const n=CV(this,this.reportUserActivity),r=function(t){n(),this.clearInterval(e)};this.on("mousedown",(function(){n(),this.clearInterval(e),e=this.setInterval(n,250)})),this.on("mousemove",(function(e){e.screenX===t&&e.screenY===i||(t=e.screenX,i=e.screenY,n())})),this.on("mouseup",r),this.on("mouseleave",r);const a=this.getChild("controlBar");let s;!a||Tz||oz||(a.on("mouseenter",(function(e){0!==this.player().options_.inactivityTimeout&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0})),a.on("mouseleave",(function(e){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout}))),this.on("keydown",n),this.on("keyup",n);this.setInterval((function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(s);const e=this.options_.inactivityTimeout;e<=0||(s=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),e))}),250)}playbackRate(e){if(void 0===e)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",e)}defaultPlaybackRate(e){return void 0!==e?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(void 0===e)return!!this.isAudio_;this.isAudio_=!!e}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),t=this.getChild("ControlBar"),i=t&&t.currentHeight();e.forEach((e=>{e!==t&&e.el_&&!e.hasClass("vjs-hidden")&&(e.hide(),this.audioOnlyCache_.hiddenChildren.push(e))})),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach((e=>e.show())),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if("boolean"!=typeof e||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const e=[];return this.isInPictureInPicture()&&e.push(this.exitPictureInPicture()),this.isFullscreen()&&e.push(this.exitFullscreen()),this.audioPosterMode()&&e.push(this.audioPosterMode(!1)),Promise.all(e).then((()=>this.enableAudioOnlyUI_()))}return Promise.resolve().then((()=>this.disableAudioOnlyUI_()))}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){if("boolean"!=typeof e||e===this.audioPosterMode_)return this.audioPosterMode_;if(this.audioPosterMode_=e,e){if(this.audioOnlyMode()){return this.audioOnlyMode(!1).then((()=>{this.enablePosterModeUI_()}))}return Promise.resolve().then((()=>{this.enablePosterModeUI_()}))}return Promise.resolve().then((()=>{this.disablePosterModeUI_()}))}addTextTrack(e,t,i){if(this.tech_)return this.tech_.addTextTrack(e,t,i)}addRemoteTextTrack(e,t){if(this.tech_)return this.tech_.addRemoteTextTrack(e,t)}removeRemoteTextTrack(e={}){let{track:t}=e;if(t||(t=e),this.tech_)return this.tech_.removeRemoteTextTrack(t)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(void 0===e)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),IV(this)&&this.trigger("languagechange"))}languages(){return ez(CG.prototype.options_.languages,this.languages_)}toJSON(){const e=ez(this.options_),t=e.tracks;e.tracks=[];for(let i=0;i<t.length;i++){let n=t[i];n=ez(n),n.player=void 0,e.tracks[i]=n}return e}createModal(e,t){(t=t||{}).content=e||"";const i=new hH(this,t);return this.addChild(i),i.on("dispose",(()=>{this.removeChild(i)})),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),t=this.currentWidth();for(let i=0;i<EG.length;i++){const n=EG[i];if(t<=this.breakpoints_[n]){if(e===n)return;e&&this.removeClass(_G[e]),this.addClass(_G[n]),this.breakpoint_=n;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return void 0===e||(this.breakpoint_="",this.breakpoints_=Object.assign({},SG,e),this.updateCurrentBreakpoint_()),Object.assign(this.breakpoints_)}responsive(e){if(void 0===e)return this.responsive_;return(e=Boolean(e))!==this.responsive_?(this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e):void 0}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return _G[this.breakpoint_]||""}loadMedia(e,t){if(!e||"object"!=typeof e)return;const i=this.crossOrigin();this.reset(),this.cache_.media=ez(e);const{artist:n,artwork:r,description:a,poster:s,src:o,textTracks:l,title:c}=this.cache_.media;!r&&s&&(this.cache_.media.artwork=[{src:s,type:QH(s)}]),i&&this.crossOrigin(i),o&&this.src(o),s&&this.poster(s),Array.isArray(l)&&l.forEach((e=>this.addRemoteTextTrack(e,!1))),this.titleBar&&this.titleBar.update({title:c,description:a||n||""}),this.ready(t)}getMedia(){if(!this.cache_.media){const e=this.poster(),t={src:this.currentSources(),textTracks:Array.prototype.map.call(this.remoteTextTracks(),(e=>({kind:e.kind,label:e.label,language:e.language,src:e.src})))};return e&&(t.poster=e,t.artwork=[{src:t.poster,type:QH(t.poster)}]),t}return ez(this.cache_.media)}static getTagSettings(e){const t={sources:[],tracks:[]},i=jz(e),n=i["data-setup"];if(Pz(e,"vjs-fill")&&(i.fill=!0),Pz(e,"vjs-fluid")&&(i.fluid=!0),null!==n){const[e,t]=gj(n||"{}");e&&WF.error(e),Object.assign(i,t)}if(Object.assign(t,i),e.hasChildNodes()){const i=e.childNodes;for(let e=0,n=i.length;e<n;e++){const n=i[e],r=n.nodeName.toLowerCase();"source"===r?t.sources.push(jz(n)):"track"===r&&t.tracks.push(jz(n))}}return t}debug(e){if(void 0===e)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(void 0===e)return this.cache_.playbackRates;Array.isArray(e)&&e.every((e=>"number"==typeof e))&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}DH.names.forEach((function(e){const t=DH[e];CG.prototype[t.getterName]=function(){return this.tech_?this.tech_[t.getterName]():(this[t.privateName]=this[t.privateName]||new t.ListClass,this[t.privateName])}})),CG.prototype.crossorigin=CG.prototype.crossOrigin,CG.players={};const kG=lj.navigator;CG.prototype.options_={techOrder:jH.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:kG&&(kG.languages&&kG.languages[0]||kG.userLanguage||kG.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1},["ended","seeking","seekable","networkState","readyState"].forEach((function(e){CG.prototype[e]=function(){return this.techGet_(e)}})),TG.forEach((function(e){CG.prototype[`handleTech${HV(e)}_`]=function(){return this.trigger(e)}})),KV.registerComponent("Player",CG);const AG="plugin",NG="activePlugins_",OG={},MG=e=>OG.hasOwnProperty(e),PG=e=>MG(e)?OG[e]:void 0,IG=(e,t)=>{e[NG]=e[NG]||{},e[NG][t]=!0},RG=(e,t,i)=>{const n=(i?"before":"")+"pluginsetup";e.trigger(n,t),e.trigger(n+":"+t.name,t)},LG=(e,t)=>(t.prototype.name=e,function(...i){RG(this,{name:e,plugin:t,instance:null},!0);const n=new t(...[this,...i]);return this[e]=()=>n,RG(this,n.getEventHash()),n});class DG{constructor(e){if(this.constructor===DG)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),UV(this),delete this.trigger,zV(this,this.constructor.defaultState),IG(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,t={}){return TV(this.eventBusEl_,e,this.getEventHash(t))}handleStateChanged(e){}dispose(){const{name:e,player:t}=this;this.trigger("dispose"),this.off(),t.off("dispose",this.dispose),t[NG][e]=!1,this.player=this.state=null,t[e]=LG(e,OG[e])}static isBasic(e){const t="string"==typeof e?PG(e):e;return"function"==typeof t&&!DG.prototype.isPrototypeOf(t.prototype)}static registerPlugin(e,t){if("string"!=typeof e)throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(MG(e))WF.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(CG.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if("function"!=typeof t)throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof t}.`);return OG[e]=t,e!==AG&&(DG.isBasic(t)?CG.prototype[e]=function(e,t){const i=function(){RG(this,{name:e,plugin:t,instance:null},!0);const i=t.apply(this,arguments);return IG(this,e),RG(this,{name:e,plugin:t,instance:i}),i};return Object.keys(t).forEach((function(e){i[e]=t[e]})),i}(e,t):CG.prototype[e]=LG(e,t)),t}static deregisterPlugin(e){if(e===AG)throw new Error("Cannot de-register base plugin.");MG(e)&&(delete OG[e],delete CG.prototype[e])}static getPlugins(e=Object.keys(OG)){let t;return e.forEach((e=>{const i=PG(e);i&&(t=t||{},t[e]=i)})),t}static getPluginVersion(e){const t=PG(e);return t&&t.VERSION||""}}function jG(e,t,i,n){return function(e,t){let i=!1;return function(...n){return i||WF.warn(e),i=!0,t.apply(this,n)}}(`${t} is deprecated and will be removed in ${e}.0; please use ${i} instead.`,n)}DG.getPlugin=PG,DG.BASE_PLUGIN_NAME=AG,DG.registerPlugin(AG,DG),CG.prototype.usingPlugin=function(e){return!!this[NG]&&!0===this[NG][e]},CG.prototype.hasPlugin=function(e){return!!MG(e)};const $G=e=>0===e.indexOf("#")?e.slice(1):e;function BG(e,t,i){let n=BG.getPlayer(e);if(n)return t&&WF.warn(`Player "${e}" is already initialised. Options will not be applied.`),i&&n.ready(i),n;const r="string"==typeof e?Jz("#"+$G(e)):e;if(!Cz(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a="getRootNode"in r&&r.getRootNode()instanceof lj.ShadowRoot?r.getRootNode():r.ownerDocument.body;r.ownerDocument.defaultView&&a.contains(r)||WF.warn("The element supplied is not included in the DOM"),!0===(t=t||{}).restoreEl&&(t.restoreEl=(r.parentNode&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),BF("beforesetup").forEach((e=>{const i=e(r,ez(t));JF(i)&&!Array.isArray(i)?t=ez(t,i):WF.error("please return an object in beforesetup hooks")}));const s=KV.getComponent("Player");return n=new s(r,t,i),BF("setup").forEach((e=>e(n))),n}if(BG.hooks_=$F,BG.hooks=BF,BG.hook=function(e,t){BF(e,t)},BG.hookOnce=function(e,t){BF(e,[].concat(t).map((t=>{const i=(...n)=>(qF(e,i),t(...n));return i})))},BG.removeHook=qF,!0!==lj.VIDEOJS_NO_DYNAMIC_STYLE&&Sz()){let hZ=Jz(".vjs-styles-defaults");if(!hZ){hZ=lV("vjs-styles-defaults");const pZ=Jz("head");pZ&&pZ.insertBefore(hZ,pZ.firstChild),cV(hZ,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid:not(.vjs-audio-only-mode) {\n        padding-top: 56.25%\n      }\n    ")}}sV(1,BG),BG.VERSION=jF,BG.options=CG.prototype.options_,BG.getPlayers=()=>CG.players,BG.getPlayer=e=>{const t=CG.players;let i;if("string"==typeof e){const n=$G(e),r=t[n];if(r)return r;i=Jz("#"+n)}else i=e;if(Cz(i)){const{player:e,playerId:n}=i;if(e||t[n])return e||t[n]}},BG.getAllPlayers=()=>Object.keys(CG.players).map((e=>CG.players[e])).filter(Boolean),BG.players=CG.players,BG.getComponent=KV.getComponent,BG.registerComponent=(e,t)=>(jH.isTech(t)&&WF.warn(`The ${e} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),KV.registerComponent.call(KV,e,t)),BG.getTech=jH.getTech,BG.registerTech=jH.registerTech,BG.use=function(e,t){$H[e]=$H[e]||[],$H[e].push(t)},Object.defineProperty(BG,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(BG.middleware,"TERMINATOR",{value:qH,writeable:!1,enumerable:!0}),BG.browser=Ez,BG.obj=nz,BG.mergeOptions=jG(9,"videojs.mergeOptions","videojs.obj.merge",ez),BG.defineLazyProperty=jG(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",iz),BG.bind=jG(9,"videojs.bind","native Function.prototype.bind",CV),BG.registerPlugin=DG.registerPlugin,BG.deregisterPlugin=DG.deregisterPlugin,BG.plugin=(e,t)=>(WF.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),DG.registerPlugin(e,t)),BG.getPlugins=DG.getPlugins,BG.getPlugin=DG.getPlugin,BG.getPluginVersion=DG.getPluginVersion,BG.addLanguage=function(e,t){return e=(""+e).toLowerCase(),BG.options.languages=ez(BG.options.languages,{[e]:t}),BG.options.languages[e]},BG.log=WF,BG.createLogger=GF,BG.time=nH,BG.createTimeRange=jG(9,"videojs.createTimeRange","videojs.time.createTimeRanges",XV),BG.createTimeRanges=jG(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",XV),BG.formatTime=jG(9,"videojs.formatTime","videojs.time.formatTime",iH),BG.setFormatTime=jG(9,"videojs.setFormatTime","videojs.time.setFormatTime",eH),BG.resetFormatTime=jG(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",tH),BG.parseUrl=jG(9,"videojs.parseUrl","videojs.url.parseUrl",EH),BG.isCrossOrigin=jG(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",CH),BG.EventTarget=MV,BG.any=EV,BG.on=vV,BG.one=xV,BG.off=wV,BG.trigger=TV,BG.xhr=Oj,BG.TextTrack=OH,BG.AudioTrack=MH,BG.VideoTrack=PH,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((e=>{BG[e]=function(){return WF.warn(`videojs.${e}() is deprecated; use videojs.dom.${e}() instead`),iV[e].apply(null,arguments)}})),BG.computedStyle=jG(9,"videojs.computedStyle","videojs.dom.computedStyle",eV),BG.dom=iV,BG.fn=NV,BG.num=fW,BG.str=GV,BG.url=kH;/*! @name videojs-contrib-quality-levels @version 4.0.0 @license Apache-2.0 */
class qG{constructor(e){let t=this;return t.id=e.id,t.label=t.id,t.width=e.width,t.height=e.height,t.bitrate=e.bandwidth,t.frameRate=e.frameRate,t.enabled_=e.enabled,Object.defineProperty(t,"enabled",{get:()=>t.enabled_(),set(e){t.enabled_(e)}}),t}}class UG extends BG.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get:()=>e.selectedIndex_}),Object.defineProperty(e,"length",{get:()=>e.levels_.length}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let t=this.getQualityLevelById(e.id);if(t)return t;const i=this.levels_.length;return t=new qG(e),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(t),this.trigger({qualityLevel:t,type:"addqualitylevel"}),t}removeQualityLevel(e){let t=null;for(let i=0,n=this.length;i<n;i++)if(this[i]===e){t=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return t&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),t}getQualityLevelById(e){for(let t=0,i=this.length;t<i;t++){const i=this[t];if(i.id===e)return i}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}UG.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const mZ in UG.prototype.allowedEvents_)UG.prototype["on"+mZ]=null;var FG="4.0.0";const zG=function(e){return function(e,t){const i=e.qualityLevels,n=new UG,r=function(){n.dispose(),e.qualityLevels=i,e.off("dispose",r)};return e.on("dispose",r),e.qualityLevels=()=>n,e.qualityLevels.VERSION=FG,n}(this,BG.obj.merge({},e))};BG.registerPlugin("qualityLevels",zG),zG.VERSION=FG;/*! @name @videojs/http-streaming @version 3.5.3 @license Apache-2.0 */
const VG=function(e,t){if(/^[a-z]+:/i.test(t))return t;/^data:/.test(e)&&(e=lj.location&&lj.location.href||"");var i="function"==typeof lj.URL,n=/^\/\//.test(e),r=!lj.location&&!/\/\//i.test(e);if(i?e=new lj.URL(e,lj.location||y$):/\/\//i.test(e)||(e=g$.buildAbsoluteURL(lj.location&&lj.location.href||"",e)),i){var a=new URL(t,e);return r?a.href.slice(18):n?a.href.slice(a.protocol.length):a.href}return g$.buildAbsoluteURL(e,t)},HG=(e,t)=>t&&t.responseURL&&e!==t.responseURL?t.responseURL:e,WG=e=>BG.log.debug?BG.log.debug.bind(BG,"VHS:",`${e} >`):function(){};function GG(...e){const t=BG.obj||BG;return(t.merge||t.mergeOptions).apply(t,e)}function KG(...e){const t=BG.time||BG;return(t.createTimeRanges||t.createTimeRanges).apply(t,e)}const QG=1/30,YG=.1,XG=function(e,t){const i=[];let n;if(e&&e.length)for(n=0;n<e.length;n++)t(e.start(n),e.end(n))&&i.push([e.start(n),e.end(n)]);return KG(i)},JG=function(e,t){return XG(e,(function(e,i){return e-YG<=t&&i+YG>=t}))},ZG=function(e,t){return XG(e,(function(e){return e-QG>=t}))},eK=e=>{const t=[];if(!e||!e.length)return"";for(let i=0;i<e.length;i++)t.push(e.start(i)+" => "+e.end(i));return t.join(", ")},tK=e=>{const t=[];for(let i=0;i<e.length;i++)t.push({start:e.start(i),end:e.end(i)});return t},iK=function(e){if(e&&e.length&&e.end)return e.end(e.length-1)},nK=function(e,t){let i=0;if(!e||!e.length)return i;for(let n=0;n<e.length;n++){const r=e.start(n),a=e.end(n);t>a||(i+=t>r&&t<=a?a-t:a-r)}return i},rK=(e,t)=>{if(!t.preload)return t.duration;let i=0;return(t.parts||[]).forEach((function(e){i+=e.duration})),(t.preloadHints||[]).forEach((function(t){"PART"===t.type&&(i+=e.partTargetDuration)})),i},aK=e=>(e.segments||[]).reduce(((e,t,i)=>(t.parts?t.parts.forEach((function(n,r){e.push({duration:n.duration,segmentIndex:i,partIndex:r,part:n,segment:t})})):e.push({duration:t.duration,segmentIndex:i,partIndex:null,segment:t,part:null}),e)),[]),sK=e=>{const t=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return t&&t.parts||[]},oK=({preloadSegment:e})=>{if(!e)return;const{parts:t,preloadHints:i}=e;let n=(i||[]).reduce(((e,t)=>e+("PART"===t.type?1:0)),0);return n+=t&&t.length?t.length:0,n},lK=(e,t)=>{if(t.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;const i=sK(t).length>0;return i&&t.serverControl&&t.serverControl.partHoldBack?t.serverControl.partHoldBack:i&&t.partTargetDuration?3*t.partTargetDuration:t.serverControl&&t.serverControl.holdBack?t.serverControl.holdBack:t.targetDuration?3*t.targetDuration:0},cK=function(e,t,i){if(void 0===t&&(t=e.mediaSequence+e.segments.length),t<e.mediaSequence)return 0;const n=function(e,t){let i=0,n=t-e.mediaSequence,r=e.segments[n];if(r){if(void 0!==r.start)return{result:r.start,precise:!0};if(void 0!==r.end)return{result:r.end-r.duration,precise:!0}}for(;n--;){if(r=e.segments[n],void 0!==r.end)return{result:i+r.end,precise:!0};if(i+=rK(e,r),void 0!==r.start)return{result:i+r.start,precise:!0}}return{result:i,precise:!1}}(e,t);if(n.precise)return n.result;const r=function(e,t){let i,n=0,r=t-e.mediaSequence;for(;r<e.segments.length;r++){if(i=e.segments[r],void 0!==i.start)return{result:i.start-n,precise:!0};if(n+=rK(e,i),void 0!==i.end)return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}}(e,t);return r.precise?r.result:n.result+i},dK=function(e,t,i){if(!e)return 0;if("number"!=typeof i&&(i=0),void 0===t){if(e.totalDuration)return e.totalDuration;if(!e.endList)return lj.Infinity}return cK(e,t,i)},uK=function({defaultDuration:e,durationList:t,startIndex:i,endIndex:n}){let r=0;if(i>n&&([i,n]=[n,i]),i<0){for(let t=i;t<Math.min(0,n);t++)r+=e;i=0}for(let a=i;a<n;a++)r+=t[a].duration;return r},hK=function(e,t,i,n){if(!e||!e.segments)return null;if(e.endList)return dK(e);if(null===t)return null;t=t||0;let r=cK(e,e.mediaSequence+e.segments.length,t);return i&&(r-=n="number"==typeof n?n:lK(null,e)),Math.max(0,r)},pK=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},mK=function(e){return e.excludeUntil&&e.excludeUntil===1/0},fK=function(e){const t=pK(e);return!e.disabled&&!t},gK=function(e,t){return t.attributes&&t.attributes[e]},yK=(e,t)=>{if(1===e.playlists.length)return!0;const i=t.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===e.playlists.filter((e=>!!fK(e)&&(e.attributes.BANDWIDTH||0)<i)).length},bK=(e,t)=>!(!e&&!t||!e&&t||e&&!t)&&(e===t||(!(!e.id||!t.id||e.id!==t.id)||(!(!e.resolvedUri||!t.resolvedUri||e.resolvedUri!==t.resolvedUri)||!(!e.uri||!t.uri||e.uri!==t.uri)))),vK=function(e,t){const i=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{};let n=!1;for(const r in i){for(const e in i[r])if(n=t(i[r][e]),n)break;if(n)break}return!!n},wK=e=>{if(!e||!e.playlists||!e.playlists.length){return vK(e,(e=>e.playlists&&e.playlists.length||e.uri))}for(let t=0;t<e.playlists.length;t++){const i=e.playlists[t],n=i.attributes&&i.attributes.CODECS;if(n&&n.split(",").every((e=>I$(e))))continue;if(!vK(e,(e=>bK(i,e))))return!1}return!0};var TK={liveEdgeDelay:lK,duration:dK,seekable:function(e,t,i){const n=t||0,r=hK(e,t,!0,i);return null===r?KG():KG(n,r)},getMediaInfoForTime:function({playlist:e,currentTime:t,startingSegmentIndex:i,startingPartIndex:n,startTime:r,exactManifestTimings:a}){let s=t-r;const o=aK(e);let l=0;for(let c=0;c<o.length;c++){const e=o[c];if(i===e.segmentIndex&&("number"!=typeof n||"number"!=typeof e.partIndex||n===e.partIndex)){l=c;break}}if(s<0){if(l>0)for(let t=l-1;t>=0;t--){const i=o[t];if(s+=i.duration,a){if(s<0)continue}else if(s+QG<=0)continue;return{partIndex:i.partIndex,segmentIndex:i.segmentIndex,startTime:r-uK({defaultDuration:e.targetDuration,durationList:o,startIndex:l,endIndex:t})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:t}}if(l<0){for(let i=l;i<0;i++)if(s-=e.targetDuration,s<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:t};l=0}for(let c=l;c<o.length;c++){const t=o[c];if(s-=t.duration,a){if(s>0)continue}else if(s-QG>=0)continue;return{partIndex:t.partIndex,segmentIndex:t.segmentIndex,startTime:r+uK({defaultDuration:e.targetDuration,durationList:o,startIndex:l,endIndex:c})}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:t}},isEnabled:fK,isDisabled:function(e){return e.disabled},isExcluded:pK,isIncompatible:mK,playlistEnd:hK,isAes:function(e){for(let t=0;t<e.segments.length;t++)if(e.segments[t].key)return!0;return!1},hasAttribute:gK,estimateSegmentRequestTime:function(e,t,i,n=0){if(!gK("BANDWIDTH",i))return NaN;return(e*i.attributes.BANDWIDTH-8*n)/t},isLowestEnabledRendition:yK,isAudioOnly:wK,playlistMatch:bK,segmentDurationWithParts:rK};const{log:xK}=BG,EK=(e,t)=>`${e}-${t}`,_K=(e,t,i)=>`placeholder-uri-${e}-${t}-${i}`,SK=(e,t)=>{e.mediaGroups&&["AUDIO","SUBTITLES"].forEach((i=>{if(e.mediaGroups[i])for(const n in e.mediaGroups[i])for(const r in e.mediaGroups[i][n]){const a=e.mediaGroups[i][n][r];t(a,i,n,r)}}))},CK=({playlist:e,uri:t,id:i})=>{e.id=i,e.playlistErrors_=0,t&&(e.uri=t),e.attributes=e.attributes||{}},kK=(e,t,i=_K)=>{e.uri=t;for(let r=0;r<e.playlists.length;r++)if(!e.playlists[r].uri){const t=`placeholder-uri-${r}`;e.playlists[r].uri=t}const n=wK(e);SK(e,((t,r,a,s)=>{if(!t.playlists||!t.playlists.length){if(n&&"AUDIO"===r&&!t.uri)for(let t=0;t<e.playlists.length;t++){const i=e.playlists[t];if(i.attributes&&i.attributes.AUDIO&&i.attributes.AUDIO===a)return}t.playlists=[bu({},t)]}t.playlists.forEach((function(t,n){const o=i(r,a,s,t),l=EK(n,o);t.uri?t.resolvedUri=t.resolvedUri||VG(e.uri,t.uri):(t.uri=0===n?o:l,t.resolvedUri=t.uri),t.id=t.id||l,t.attributes=t.attributes||{},e.playlists[t.id]=t,e.playlists[t.uri]=t}))})),(e=>{let t=e.playlists.length;for(;t--;){const i=e.playlists[t];CK({playlist:i,id:EK(t,i.uri)}),i.resolvedUri=VG(e.uri,i.uri),e.playlists[i.id]=i,e.playlists[i.uri]=i,i.attributes.BANDWIDTH||xK.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}})(e),(e=>{SK(e,(t=>{t.uri&&(t.resolvedUri=VG(e.uri,t.uri))}))})(e)};class AK{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(null!==this.offset_)return;if(!e.length)return;const[t]=e;void 0!==t.programDateTime&&(this.offset_=t.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[t]=e,i=t.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=e.reduce(((e,t)=>(e.set(t.id,t),e)),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(null===this.offset_)return[];const e={},t=[];this.pendingDateRanges_.forEach(((i,n)=>{if(!this.processedDateRanges_.has(n)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),t.push(i),i.class))if(e[i.class]){const t=e[i.class].push(i);i.classListIndex=t-1}else e[i.class]=[i],i.classListIndex=0}));for(const i of t){const t=e[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&t[i.classListIndex+1]?i.endTime=t[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return t}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach(((t,i)=>{t.startDate.getTime()<e&&this.processedDateRanges_.delete(i)}))}}const{EventTarget:NK}=BG,OK=(e,t)=>{if(!e)return t;const i=GG(e,t);if(e.preloadHints&&!t.preloadHints&&delete i.preloadHints,e.parts&&!t.parts)delete i.parts;else if(e.parts&&t.parts)for(let n=0;n<t.parts.length;n++)e.parts&&e.parts[n]&&(i.parts[n]=GG(e.parts[n],t.parts[n]));return!e.skipped&&t.skipped&&(i.skipped=!1),e.preload&&!t.preload&&(i.preload=!1),i},MK=(e,t)=>{!e.resolvedUri&&e.uri&&(e.resolvedUri=VG(t,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=VG(t,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=VG(t,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=VG(t,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach((e=>{e.resolvedUri||(e.resolvedUri=VG(t,e.uri))})),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach((e=>{e.resolvedUri||(e.resolvedUri=VG(t,e.uri))}))},PK=function(e){const t=e.segments||[],i=e.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints)for(let e=0;e<i.preloadHints.length;e++)if("MAP"===i.preloadHints[e].type)return t;i.duration=e.targetDuration,i.preload=!0,t.push(i)}return t},IK=(e,t)=>e===t||e.segments&&t.segments&&e.segments.length===t.segments.length&&e.endList===t.endList&&e.mediaSequence===t.mediaSequence&&e.preloadSegment===t.preloadSegment,RK=(e,t,i=IK)=>{const n=GG(e,{}),r=n.playlists[t.id];if(!r)return null;if(i(r,t))return null;t.segments=PK(t);const a=GG(r,t);if(a.preloadSegment&&!t.preloadSegment&&delete a.preloadSegment,r.segments){if(t.skip){t.segments=t.segments||[];for(let e=0;e<t.skip.skippedSegments;e++)t.segments.unshift({skipped:!0})}a.segments=((e,t,i)=>{const n=e.slice(),r=t.slice();i=i||0;const a=[];let s;for(let o=0;o<r.length;o++){const e=n[o+i],t=r[o];e?(s=e.map||s,a.push(OK(e,t))):(s&&!t.map&&(t.map=s),a.push(t))}return a})(r.segments,t.segments,t.mediaSequence-r.mediaSequence)}a.segments.forEach((e=>{MK(e,a.resolvedUri)}));for(let s=0;s<n.playlists.length;s++)n.playlists[s].id===t.id&&(n.playlists[s]=a);return n.playlists[t.id]=a,n.playlists[t.uri]=a,SK(e,((e,i,n,r)=>{if(e.playlists)for(let s=0;s<e.playlists.length;s++)t.id===e.playlists[s].id&&(e.playlists[s]=a)})),n},LK=(e,t)=>{const i=e.segments||[],n=i[i.length-1],r=n&&n.parts&&n.parts[n.parts.length-1],a=r&&r.duration||n&&n.duration;return t&&a?1e3*a:500*(e.partTargetDuration||e.targetDuration||10)};class DK extends NK{constructor(e,t,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=WG("PlaylistLoader");const{withCredentials:n=!1}=i;this.src=e,this.vhs_=t,this.withCredentials=n,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;const r=t.options_;this.customTagParsers=r&&r.customTagParsers||[],this.customTagMappers=r&&r.customTagMappers||[],this.llhls=r&&r.llhls,this.dateRangesStorage_=new AK,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const t=this.dateRangesStorage_.getDateRangesToProcess();t.length&&this.addDateRangesToTextTrack_&&this.addDateRangesToTextTrack_(t)}handleMediaupdatetimeout_(){if("HAVE_METADATA"!==this.state)return;const e=this.media();let t=VG(this.main.uri,e.uri);this.llhls&&(t=((e,t)=>{if(t.endList||!t.serverControl)return e;const i={};if(t.serverControl.canBlockReload){const{preloadSegment:e}=t;let n=t.mediaSequence+t.segments.length;if(e){const r=e.parts||[],a=oK(t)-1;a>-1&&a!==r.length-1&&(i._HLS_part=a),(a>-1||r.length)&&n--}i._HLS_msn=n}if(t.serverControl&&t.serverControl.canSkipUntil&&(i._HLS_skip=t.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){const t=new lj.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach((function(e){i.hasOwnProperty(e)&&t.searchParams.set(e,i[e])})),e=t.toString()}return e})(t,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:t,withCredentials:this.withCredentials},((e,t)=>{if(this.request)return e?this.playlistRequestError(this.request,this.media(),"HAVE_METADATA"):void this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}))}playlistRequestError(e,t,i){const{uri:n,id:r}=t;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[r],status:e.status,message:`HLS playlist request error at URL: ${n}.`,responseText:e.responseText,code:e.status>=500?4:2},this.trigger("error")}parseManifest_({url:e,manifestString:t}){return(({onwarn:e,oninfo:t,manifestString:i,customTagParsers:n=[],customTagMappers:r=[],llhls:a})=>{const s=new k$;e&&s.on("warn",e),t&&s.on("info",t),n.forEach((e=>s.addParser(e))),r.forEach((e=>s.addTagMapper(e))),s.push(i),s.end();const o=s.manifest;if(a||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach((function(e){o.hasOwnProperty(e)&&delete o[e]})),o.segments&&o.segments.forEach((function(e){["parts","preloadHints"].forEach((function(t){e.hasOwnProperty(t)&&delete e[t]}))}))),!o.targetDuration){let t=10;o.segments&&o.segments.length&&(t=o.segments.reduce(((e,t)=>Math.max(e,t.duration)),0)),e&&e(`manifest has no targetDuration defaulting to ${t}`),o.targetDuration=t}const l=sK(o);if(l.length&&!o.partTargetDuration){const t=l.reduce(((e,t)=>Math.max(e,t.duration)),0);e&&(e(`manifest has no partTargetDuration defaulting to ${t}`),xK.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=t}return o})({onwarn:({message:t})=>this.logger_(`m3u8-parser warn for ${e}: ${t}`),oninfo:({message:t})=>this.logger_(`m3u8-parser info for ${e}: ${t}`),manifestString:t,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}haveMetadata({playlistString:e,playlistObject:t,url:i,id:n}){this.request=null,this.state="HAVE_METADATA";const r=t||this.parseManifest_({url:i,manifestString:e});r.lastRequest=Date.now(),CK({playlist:r,uri:i,id:n});const a=RK(this.main,r);this.targetDuration=r.partTargetDuration||r.targetDuration,this.pendingMedia_=null,a?(this.main=a,this.media_=this.main.playlists[n]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(LK(this.media(),!!a)),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),lj.clearTimeout(this.mediaUpdateTimeout),lj.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new AK,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,t){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);if("string"==typeof e){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(lj.clearTimeout(this.finalRenditionTimeout),t){const t=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;return void(this.finalRenditionTimeout=lj.setTimeout(this.media.bind(this,e,!1),t))}const i=this.state,n=!this.media_||e.id!==this.media_.id,r=this.main.playlists[e.id];if(r&&r.endList||e.endList&&e.segments.length)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,void(n&&(this.trigger("mediachanging"),"HAVE_MAIN_MANIFEST"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")));if(this.updateMediaUpdateTimeout_(LK(e,!0)),n){if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e,this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials},((t,n)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=HG(e.resolvedUri,n),t)return this.playlistRequestError(this.request,e,i);this.haveMetadata({playlistString:n.responseText,url:e.uri,id:e.id}),"HAVE_MAIN_MANIFEST"===i?this.trigger("loadedmetadata"):this.trigger("mediachange")}}))}}pause(){this.mediaUpdateTimeout&&(lj.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(lj.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const t=this.media();if(e){const e=t?(t.partTargetDuration||t.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=lj.setTimeout((()=>{this.mediaUpdateTimeout=null,this.load()}),e)}else this.started?t&&!t.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(lj.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.media()&&!this.media().endList&&(this.mediaUpdateTimeout=lj.setTimeout((()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)}),e))}start(){if(this.started=!0,"object"==typeof this.src)return this.src.uri||(this.src.uri=lj.location.href),this.src.resolvedUri=this.src.uri,void setTimeout((()=>{this.setupInitialPlaylist(this.src)}),0);this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},((e,t)=>{if(!this.request)return;if(this.request=null,e)return this.error={status:t.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:t.responseText,code:2},"HAVE_NOTHING"===this.state&&(this.started=!1),this.trigger("error");this.src=HG(this.src,t);const i=this.parseManifest_({manifestString:t.responseText,url:this.src});this.setupInitialPlaylist(i)}))}srcUri(){return"string"==typeof this.src?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists)return this.main=e,kK(this.main,this.srcUri()),e.playlists.forEach((e=>{e.segments=PK(e),e.segments.forEach((t=>{MK(t,e.resolvedUri)}))})),this.trigger("loadedplaylist"),void(this.request||this.media(this.main.playlists[0]));const t=this.srcUri()||lj.location.href;this.main=((e,t)=>{const i=EK(0,t),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:lj.location.href,resolvedUri:lj.location.href,playlists:[{uri:t,id:i,resolvedUri:t,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[t]=n.playlists[0],n})(0,t),this.haveMetadata({playlistObject:e,url:t,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}}const{xhr:jK}=BG,$K=function(e,t,i,n){const r="arraybuffer"===e.responseType?e.response:e.responseText;!t&&r&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=r.byteLength||r.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),i.headers&&(e.responseHeaders=i.headers),t&&"ETIMEDOUT"===t.code&&(e.timedout=!0),t||e.aborted||200===i.statusCode||206===i.statusCode||0===i.statusCode||(t=new Error("XHR Failed with a response of: "+(e&&(r||e.responseText)))),n(t,e)},BK=function(){const e=function e(t,i){t=GG({timeout:45e3},t);const n=e.beforeRequest||BG.Vhs.xhr.beforeRequest,r=e._requestCallbackSet||BG.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||BG.Vhs.xhr._responseCallbackSet;n&&"function"==typeof n&&(BG.log.warn("beforeRequest is deprecated, use onRequest instead."),r.add(n));const s=!0===BG.Vhs.xhr.original?jK:BG.Vhs.xhr,o=((e,t)=>{if(!e||!e.size)return;let i=t;return e.forEach((e=>{i=e(i)})),i})(r,t);r.delete(n);const l=s(o||t,(function(e,t){return((e,t,i,n)=>{e&&e.size&&e.forEach((e=>{e(t,i,n)}))})(a,l,e,t),$K(l,e,t,i)})),c=l.abort;return l.abort=function(){return l.aborted=!0,c.apply(l,arguments)},l.uri=t.uri,l.requestTime=Date.now(),l};return e.original=!0,e},qK=function(e){const t={};return e.byterange&&(t.Range=function(e){let t;const i=e.offset;return t="bigint"==typeof e.offset||"bigint"==typeof e.length?lj.BigInt(e.offset)+lj.BigInt(e.length)-lj.BigInt(1):e.offset+e.length-1,"bytes="+i+"-"+t}(e.byterange)),t},UK=function(e,t){return e.start(t)+"-"+e.end(t)},FK=function(e,t){const i=e.toString(16);return"00".substring(0,2-i.length)+i+(t%2?" ":"")},zK=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},VK=function(e){const t={};return Object.keys(e).forEach((i=>{const n=e[i];U$(n)?t[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[i]=n})),t},HK=function(e){const t=e.byterange||{length:1/0,offset:0};return[t.length,t.offset,e.resolvedUri].join(",")},WK=function(e){return e.resolvedUri},GK=e=>{const t=Array.prototype.slice.call(e),i=16;let n,r,a="";for(let s=0;s<t.length/i;s++)n=t.slice(s*i,s*i+i).map(FK).join(""),r=t.slice(s*i,s*i+i).map(zK).join(""),a+=n+" "+r+"\n";return a};var KK=Object.freeze({__proto__:null,createTransferableMessage:VK,initSegmentId:HK,segmentKeyId:WK,hexDump:GK,tagDump:({bytes:e})=>GK(e),textRanges:e=>{let t,i="";for(t=0;t<e.length;t++)i+=UK(e,t)+" ";return i}});const QK=({playlist:e,time:t,callback:i})=>{if(!i)throw new Error("getProgramTime: callback must be provided");if(!e||void 0===t)return i({message:"getProgramTime: playlist and time must be provided"});const n=((e,t)=>{if(!t||!t.segments||0===t.segments.length)return null;let i,n=0;for(let a=0;a<t.segments.length&&(i=t.segments[a],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,!(e<=n));a++);const r=t.segments[t.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>n){if(e>n+.25*r.duration)return null;i=r}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}})(t,e);if(!n)return i({message:"valid programTime was not found"});if("estimate"===n.type)return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const r={mediaSeconds:t},a=((e,t)=>{if(!t.dateTimeObject)return null;const i=t.videoTimingInfo.transmuxerPrependedSeconds,n=e-(t.videoTimingInfo.transmuxedPresentationStart+i);return new Date(t.dateTimeObject.getTime()+1e3*n)})(t,n.segment);return a&&(r.programDateTime=a.toISOString()),i(null,r)},YK=({programTime:e,playlist:t,retryCount:i=2,seekTo:n,pauseAfterSeek:r=!0,tech:a,callback:s})=>{if(!s)throw new Error("seekToProgramTime: callback must be provided");if(void 0===e||!t||!n)return s({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!t.endList&&!a.hasStarted_)return s({message:"player must be playing a live stream to start buffering"});if(!(e=>{if(!e.segments||0===e.segments.length)return!1;for(let t=0;t<e.segments.length;t++)if(!e.segments[t].dateTimeObject)return!1;return!0})(t))return s({message:"programDateTime tags must be provided in the manifest "+t.resolvedUri});const o=((e,t)=>{let i;try{i=new Date(e)}catch(E_){return null}if(!t||!t.segments||0===t.segments.length)return null;let n=t.segments[0];if(i<new Date(n.dateTimeObject))return null;for(let l=0;l<t.segments.length-1&&(n=t.segments[l],!(i<new Date(t.segments[l+1].dateTimeObject)));l++);const r=t.segments[t.segments.length-1],a=r.dateTimeObject,s=r.videoTimingInfo?(o=r.videoTimingInfo).transmuxedPresentationEnd-o.transmuxedPresentationStart-o.transmuxerPrependedSeconds:r.duration+.25*r.duration;var o;return i>new Date(a.getTime()+1e3*s)?null:(i>new Date(a)&&(n=r),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:TK.duration(t,t.mediaSequence+t.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})})(e,t);if(!o)return s({message:`${e} was not found in the stream`});const l=o.segment,c=((e,t)=>{let i,n;try{i=new Date(e),n=new Date(t)}catch(E_){}const r=i.getTime();return(n.getTime()-r)/1e3})(l.dateTimeObject,e);if("estimate"===o.type)return 0===i?s({message:`${e} is not buffered yet. Try again`}):(n(o.estimatedStart+c),void a.one("seeked",(()=>{YK({programTime:e,playlist:t,retryCount:i-1,seekTo:n,pauseAfterSeek:r,tech:a,callback:s})})));const d=l.start+c;a.one("seeked",(()=>s(null,a.currentTime()))),r&&a.pause(),n(d)},XK=(e,t)=>{if(4===e.readyState)return t()},JK=(e,t,i)=>{let n,r=[],a=!1;const s=function(e,t,n,r){return t.abort(),a=!0,i(e,t,n,r)},o=function(e,t){if(a)return;if(e)return s(e,t,"",r);const i=t.responseText.substring(r&&r.byteLength||0,t.responseText.length);if(r=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t=t.filter((function(e){return e&&(e.byteLength||e.length)&&"string"!=typeof e})),t.length<=1)return F$(t[0]);var n=t.reduce((function(e,t,i){return e+(t.byteLength||t.length)}),0),r=new Uint8Array(n),a=0;return t.forEach((function(e){e=F$(e),r.set(e,a),a+=e.byteLength})),r}(r,G$(i,!0)),n=n||hF(r),r.length<10||n&&r.length<n+2)return XK(t,(()=>s(e,t,"",r)));const o=RF(r);return"ts"===o&&r.length<188||!o&&r.length<376?XK(t,(()=>s(e,t,"",r))):s(null,t,o,r)},l={uri:e,beforeSend(e){e.overrideMimeType("text/plain; charset=x-user-defined"),e.addEventListener("progress",(function({total:t,loaded:i}){return $K(e,null,{statusCode:e.status},o)}))}},c=t(l,(function(e,t){return $K(c,e,t,o)}));return c},{EventTarget:ZK}=BG,eQ=function(e,t){if(!IK(e,t))return!1;if(e.sidx&&t.sidx&&(e.sidx.offset!==t.sidx.offset||e.sidx.length!==t.sidx.length))return!1;if(!e.sidx&&t.sidx||e.sidx&&!t.sidx)return!1;if(e.segments&&!t.segments||!e.segments&&t.segments)return!1;if(!e.segments&&!t.segments)return!0;for(let i=0;i<e.segments.length;i++){const n=e.segments[i],r=t.segments[i];if(n.uri!==r.uri)return!1;if(!n.byterange&&!r.byterange)continue;const a=n.byterange,s=r.byterange;if(a&&!s||!a&&s)return!1;if(a.offset!==s.offset||a.length!==s.length)return!1}return!0},tQ=(e,t,i,n)=>`placeholder-uri-${e}-${t}-${n.attributes.NAME||i}`,iQ=(e,t,i)=>{let n=!0,r=GG(e,{duration:t.duration,minimumUpdatePeriod:t.minimumUpdatePeriod,timelineStarts:t.timelineStarts});for(let a=0;a<t.playlists.length;a++){const e=t.playlists[a];if(e.sidx){const t=NU(e.sidx);i&&i[t]&&i[t].sidx&&EU(e,i[t].sidx,e.sidx.resolvedUri)}const s=RK(r,e,eQ);s&&(r=s,n=!1)}return SK(t,((e,t,i,a)=>{if(e.playlists&&e.playlists.length){const s=e.playlists[0].id,o=RK(r,e.playlists[0],eQ);o&&(r=o,a in r.mediaGroups[t][i]||(r.mediaGroups[t][i][a]=e),r.mediaGroups[t][i][a].playlists[0]=r.playlists[s],n=!1)}})),((e,t)=>{SK(e,((i,n,r,a)=>{a in t.mediaGroups[n][r]||delete e.mediaGroups[n][r][a]}))})(r,t),t.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(n=!1),n?null:r},nQ=(e,t)=>(Boolean(!e.map&&!t.map)||Boolean(e.map&&t.map&&e.map.byterange.offset===t.map.byterange.offset&&e.map.byterange.length===t.map.byterange.length))&&e.uri===t.uri&&e.byterange.offset===t.byterange.offset&&e.byterange.length===t.byterange.length,rQ=(e,t)=>{const i={};for(const n in e){const r=e[n].sidx;if(r){const e=NU(r);if(!t[e])break;const n=t[e].sidxInfo;nQ(n,r)&&(i[e]=t[e])}}return i};class aQ extends ZK{constructor(e,t,i={},n){super(),this.mainPlaylistLoader_=n||this,n||(this.isMain_=!0);const{withCredentials:r=!1}=i;if(this.vhs_=t,this.withCredentials=r,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",(()=>{this.refreshXml_()})),this.on("mediaupdatetimeout",(()=>{this.refreshMedia_(this.media().id)})),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=WG("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}requestErrored_(e,t,i){return!this.request||(this.request=null,e?(this.error="object"!=typeof e||e instanceof Error?{status:t.status,message:"DASH request error at URL: "+t.uri,response:t.response,code:2}:e,i&&(this.state=i),this.trigger("error"),!0):void 0)}addSidxSegments_(e,t,i){const n=e.sidx&&NU(e.sidx);if(!e.sidx||!n||this.mainPlaylistLoader_.sidxMapping_[n])return void(this.mediaRequest_=lj.setTimeout((()=>i(!1)),0));const r=HG(e.sidx.resolvedUri),a=(r,a)=>{if(this.requestErrored_(r,a,t))return;const s=this.mainPlaylistLoader_.sidxMapping_;let o;try{o=dF(F$(a.response).subarray(8))}catch(E_){return void this.requestErrored_(E_,a,t)}return s[n]={sidxInfo:e.sidx,sidx:o},EU(e,o,e.sidx.resolvedUri),i(!0)};this.request=JK(r,this.vhs_.xhr,((t,i,n,s)=>{if(t)return a(t,i);if(!n||"mp4"!==n)return a({status:i.status,message:`Unsupported ${n||"unknown"} container type for sidx segment at URL: ${r}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},i);const{offset:o,length:l}=e.sidx.byterange;if(s.length>=l+o)return a(t,{response:s.subarray(o,o+l),status:i.status,uri:i.uri});this.request=this.vhs_.xhr({uri:r,responseType:"arraybuffer",headers:qK({byterange:e.sidx.byterange})},a)}))}dispose(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},lj.clearTimeout(this.minimumUpdatePeriodTimeout_),lj.clearTimeout(this.mediaRequest_),lj.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);const t=this.state;if("string"==typeof e){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList)return this.state="HAVE_METADATA",this.media_=e,void(i&&(this.trigger("mediachanging"),this.trigger("mediachange")));i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,t,(i=>{this.haveMetadata({startingState:t,playlist:e})})))}haveMetadata({startingState:e,playlist:t}){this.state="HAVE_METADATA",this.loadedPlaylists_[t.id]=t,this.mediaRequest_=null,this.refreshMedia_(t.id),"HAVE_MAIN_MANIFEST"===e?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),lj.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(lj.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),"HAVE_NOTHING"===this.state&&(this.started=!1)}load(e){lj.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const t=this.media();if(e){const e=t?t.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=lj.setTimeout((()=>this.load()),e)}else this.started?t&&!t.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist"):this.start()}start(){this.started=!0,this.isMain_?this.requestMain_(((e,t)=>{this.haveMain_(),this.hasPendingRequest()||this.media_||this.media(this.mainPlaylistLoader_.main.playlists[0])})):this.mediaRequest_=lj.setTimeout((()=>this.haveMain_()),0)}requestMain_(e){this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},((t,i)=>{if(this.requestErrored_(t,i))return void("HAVE_NOTHING"===this.state&&(this.started=!1));const n=i.responseText!==this.mainPlaylistLoader_.mainXml_;return this.mainPlaylistLoader_.mainXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?this.mainLoaded_=Date.parse(i.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=HG(this.mainPlaylistLoader_.srcUrl,i),n?(this.handleMain_(),void this.syncClientServerClock_((()=>e(i,n)))):e(i,n)}))}syncClientServerClock_(e){const t=sF(this.mainPlaylistLoader_.mainXml_);return null===t?(this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()):"DIRECT"===t.method?(this.mainPlaylistLoader_.clientOffset_=t.value-Date.now(),e()):void(this.request=this.vhs_.xhr({uri:VG(this.mainPlaylistLoader_.srcUrl,t.value),method:t.method,withCredentials:this.withCredentials},((i,n)=>{if(!this.request)return;if(i)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();let r;r="HEAD"===t.method?n.responseHeaders&&n.responseHeaders.date?Date.parse(n.responseHeaders.date):this.mainLoaded_:Date.parse(n.responseText),this.mainPlaylistLoader_.clientOffset_=r-Date.now(),e()})))}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main;let t=(({mainXml:e,srcUrl:t,clientOffset:i,sidxMapping:n,previousManifest:r})=>{const a=aF(e,{manifestUri:t,clientOffset:i,sidxMapping:n,previousManifest:r});return kK(a,t,tQ),a})({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e});e&&(t=iQ(e,t,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=t||e;const i=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];return i&&i!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=i),(!e||t&&t.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(t),Boolean(t)}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(lj.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let t=e.main&&e.main.minimumUpdatePeriod;0===t&&(e.media()?t=1e3*e.media().targetDuration:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),"number"!=typeof t||t<=0?t<0&&this.logger_(`found invalid minimumUpdatePeriod of ${t}, not setting a timeout`):this.createMUPTimeout_(t)}createMUPTimeout_(e){const t=this.mainPlaylistLoader_;t.minimumUpdatePeriodTimeout_=lj.setTimeout((()=>{t.minimumUpdatePeriodTimeout_=null,t.trigger("minimumUpdatePeriod"),t.createMUPTimeout_(e)}),e)}refreshXml_(){this.requestMain_(((e,t)=>{t&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=((e,t)=>{let i=rQ(e.playlists,t);return SK(e,((e,n,r,a)=>{if(e.playlists&&e.playlists.length){const n=e.playlists;i=GG(i,rQ(n,t))}})),i})(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,(e=>{this.refreshMedia_(this.media().id)})))}))}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const t=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==t[e];if(i?this.media_=t[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const e=()=>{this.media().endList||(this.mediaUpdateTimeout=lj.setTimeout((()=>{this.trigger("mediaupdatetimeout"),e()}),LK(this.media(),Boolean(i))))};e()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const e=this.mainPlaylistLoader_.main.eventStream.map((e=>({cueTime:e.start,frames:[{data:e.messageData}]})));this.addMetadataToTextTrack("EventStream",e,this.mainPlaylistLoader_.main.duration)}}}var sQ={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const oQ=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},lQ=function(e){return function(){const t=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch(E_){const i=new BlobBuilder;return i.append(e),URL.createObjectURL(i.getBlob())}}(e),i=oQ(new Worker(t));i.objURL=t;const n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(t),n.call(this)},i}},cQ=function(e){return`var browserWorkerPolyFill = ${oQ.toString()};\nbrowserWorkerPolyFill(self);\n`+e},dQ=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},uQ=cQ(dQ((function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=function(){this.init=function(){var e={};this.on=function(t,i){e[t]||(e[t]=[]),e[t]=e[t].concat(i)},this.off=function(t,i){var n;return!!e[t]&&(n=e[t].indexOf(i),e[t]=e[t].slice(),e[t].splice(n,1),n>-1)},this.trigger=function(t){var i,n,r,a;if(i=e[t])if(2===arguments.length)for(r=i.length,n=0;n<r;++n)i[n].call(this,arguments[1]);else{for(a=[],n=arguments.length,n=1;n<arguments.length;++n)a.push(arguments[n]);for(r=i.length,n=0;n<r;++n)i[n].apply(this,a)}},this.dispose=function(){e={}}}};t.prototype.pipe=function(e){return this.on("data",(function(t){e.push(t)})),this.on("done",(function(t){e.flush(t)})),this.on("partialdone",(function(t){e.partialFlush(t)})),this.on("endedtimeline",(function(t){e.endTimeline(t)})),this.on("reset",(function(t){e.reset(t)})),e},t.prototype.push=function(e){this.trigger("data",e)},t.prototype.flush=function(e){this.trigger("done",e)},t.prototype.partialFlush=function(e){this.trigger("partialdone",e)},t.prototype.endTimeline=function(e){this.trigger("endedtimeline",e)},t.prototype.reset=function(e){this.trigger("reset",e)};var i,n,r,a,s,o,l,c,d,u,h,p,m,f,g,y,b,v,w,T,x,E,_,S,C,k,A,N,O,M,P,I,R,L,D,j,$,B,q,U,F=t,z=Math.pow(2,32),V={getUint64:function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength);return i.getBigUint64?(t=i.getBigUint64(0))<Number.MAX_SAFE_INTEGER?Number(t):t:i.getUint32(0)*z+i.getUint32(4)},MAX_UINT32:z},H=V.MAX_UINT32;!function(){var e;if(E={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(e in E)E.hasOwnProperty(e)&&(E[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);_=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),S=new Uint8Array([0,0,0,1]),k=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),N={video:k,audio:A},P=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),M=new Uint8Array([0,0,0,0,0,0,0,0]),I=new Uint8Array([0,0,0,0,0,0,0,0]),R=I,L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),D=I,O=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),i=function(e){var t,i,n=[],r=0;for(t=1;t<arguments.length;t++)n.push(arguments[t]);for(t=n.length;t--;)r+=n[t].byteLength;for(i=new Uint8Array(r+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(e,4),t=0,r=8;t<n.length;t++)i.set(n[t],r),r+=n[t].byteLength;return i},n=function(){return i(E.dinf,i(E.dref,P))},r=function(e){return i(E.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},g=function(e){return i(E.hdlr,N[e])},f=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(t[12]=e.samplerate>>>24&255,t[13]=e.samplerate>>>16&255,t[14]=e.samplerate>>>8&255,t[15]=255&e.samplerate),i(E.mdhd,t)},m=function(e){return i(E.mdia,f(e),g(e.type),o(e))},s=function(e){return i(E.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},o=function(e){return i(E.minf,"video"===e.type?i(E.vmhd,O):i(E.smhd,M),n(),b(e))},l=function(e,t){for(var n=[],r=t.length;r--;)n[r]=w(t[r]);return i.apply(null,[E.moof,s(e)].concat(n))},c=function(e){for(var t=e.length,n=[];t--;)n[t]=h(e[t]);return i.apply(null,[E.moov,u(4294967295)].concat(n).concat(d(e)))},d=function(e){for(var t=e.length,n=[];t--;)n[t]=T(e[t]);return i.apply(null,[E.mvex].concat(n))},u=function(e){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return i(E.mvhd,t)},y=function(e){var t,n,r=e.samples||[],a=new Uint8Array(4+r.length);for(n=0;n<r.length;n++)t=r[n].flags,a[n+4]=t.dependsOn<<4|t.isDependedOn<<2|t.hasRedundancy;return i(E.sdtp,a)},b=function(e){return i(E.stbl,v(e),i(E.stts,D),i(E.stsc,R),i(E.stsz,L),i(E.stco,I))},v=function(e){return i(E.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?j(e):$(e))},j=function(e){var t,n,r=e.sps||[],a=e.pps||[],s=[],o=[];for(t=0;t<r.length;t++)s.push((65280&r[t].byteLength)>>>8),s.push(255&r[t].byteLength),s=s.concat(Array.prototype.slice.call(r[t]));for(t=0;t<a.length;t++)o.push((65280&a[t].byteLength)>>>8),o.push(255&a[t].byteLength),o=o.concat(Array.prototype.slice.call(a[t]));if(n=[E.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),i(E.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([r.length],s,[a.length],o))),i(E.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],e.sarRatio){var l=e.sarRatio[0],c=e.sarRatio[1];n.push(i(E.pasp,new Uint8Array([(4278190080&l)>>24,(16711680&l)>>16,(65280&l)>>8,255&l,(4278190080&c)>>24,(16711680&c)>>16,(65280&c)>>8,255&c])))}return i.apply(null,n)},$=function(e){return i(E.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),r(e))},p=function(e){var t=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return i(E.tkhd,t)},w=function(e){var t,n,r,a,s,o;return t=i(E.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),s=Math.floor(e.baseMediaDecodeTime/H),o=Math.floor(e.baseMediaDecodeTime%H),n=i(E.tfdt,new Uint8Array([1,0,0,0,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),92,"audio"===e.type?(r=x(e,92),i(E.traf,t,n,r)):(a=y(e),r=x(e,a.length+92),i(E.traf,t,n,r,a))},h=function(e){return e.duration=e.duration||4294967295,i(E.trak,p(e),m(e))},T=function(e){var t=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(t[t.length-1]=0),i(E.trex,t)},U=function(e,t){var i=0,n=0,r=0,a=0;return e.length&&(void 0!==e[0].duration&&(i=1),void 0!==e[0].size&&(n=2),void 0!==e[0].flags&&(r=4),void 0!==e[0].compositionTimeOffset&&(a=8)),[0,0,i|n|r|a,1,(4278190080&e.length)>>>24,(16711680&e.length)>>>16,(65280&e.length)>>>8,255&e.length,(4278190080&t)>>>24,(16711680&t)>>>16,(65280&t)>>>8,255&t]},q=function(e,t){var n,r,a,s,o,l;for(t+=20+16*(s=e.samples||[]).length,a=U(s,t),(r=new Uint8Array(a.length+16*s.length)).set(a),n=a.length,l=0;l<s.length;l++)o=s[l],r[n++]=(4278190080&o.duration)>>>24,r[n++]=(16711680&o.duration)>>>16,r[n++]=(65280&o.duration)>>>8,r[n++]=255&o.duration,r[n++]=(4278190080&o.size)>>>24,r[n++]=(16711680&o.size)>>>16,r[n++]=(65280&o.size)>>>8,r[n++]=255&o.size,r[n++]=o.flags.isLeading<<2|o.flags.dependsOn,r[n++]=o.flags.isDependedOn<<6|o.flags.hasRedundancy<<4|o.flags.paddingValue<<1|o.flags.isNonSyncSample,r[n++]=61440&o.flags.degradationPriority,r[n++]=15&o.flags.degradationPriority,r[n++]=(4278190080&o.compositionTimeOffset)>>>24,r[n++]=(16711680&o.compositionTimeOffset)>>>16,r[n++]=(65280&o.compositionTimeOffset)>>>8,r[n++]=255&o.compositionTimeOffset;return i(E.trun,r)},B=function(e,t){var n,r,a,s,o,l;for(t+=20+8*(s=e.samples||[]).length,a=U(s,t),(n=new Uint8Array(a.length+8*s.length)).set(a),r=a.length,l=0;l<s.length;l++)o=s[l],n[r++]=(4278190080&o.duration)>>>24,n[r++]=(16711680&o.duration)>>>16,n[r++]=(65280&o.duration)>>>8,n[r++]=255&o.duration,n[r++]=(4278190080&o.size)>>>24,n[r++]=(16711680&o.size)>>>16,n[r++]=(65280&o.size)>>>8,n[r++]=255&o.size;return i(E.trun,n)},x=function(e,t){return"audio"===e.type?B(e,t):q(e,t)};var W,G,K,Q,Y,X,J,Z,ee={ftyp:a=function(){return i(E.ftyp,_,S,_,C)},mdat:function(e){return i(E.mdat,e)},moof:l,moov:c,initSegment:function(e){var t,i=a(),n=c(e);return(t=new Uint8Array(i.byteLength+n.byteLength)).set(i),t.set(n,i.byteLength),t}},te=function(e,t){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=t,i.compositionTimeOffset=e.pts-e.dts,i.duration=e.duration,i.size=4*e.length,i.size+=e.byteLength,e.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},ie={groupNalsIntoFrames:function(e){var t,i,n=[],r=[];for(r.byteLength=0,r.nalCount=0,r.duration=0,n.byteLength=0,t=0;t<e.length;t++)"access_unit_delimiter_rbsp"===(i=e[t]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return r.length&&(!n.duration||n.duration<=0)&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.length,r.duration+=n.duration,r.push(n),r},groupFramesIntoGops:function(e){var t,i,n=[],r=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=e[0].pts,n.dts=e[0].dts,r.byteLength=0,r.nalCount=0,r.duration=0,r.pts=e[0].pts,r.dts=e[0].dts,t=0;t<e.length;t++)(i=e[t]).keyFrame?(n.length&&(r.push(n),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return r.length&&n.duration<=0&&(n.duration=r[r.length-1].duration),r.byteLength+=n.byteLength,r.nalCount+=n.nalCount,r.duration+=n.duration,r.push(n),r},extendFirstKeyFrame:function(e){var t;return!e[0][0].keyFrame&&e.length>1&&(t=e.shift(),e.byteLength-=t.byteLength,e.nalCount-=t.nalCount,e[0][0].dts=t.dts,e[0][0].pts=t.pts,e[0][0].duration+=t.duration),e},generateSampleTable:function(e,t){var i,n,r,a,s,o=t||0,l=[];for(i=0;i<e.length;i++)for(a=e[i],n=0;n<a.length;n++)s=a[n],o+=(r=te(s,o)).size,l.push(r);return l},concatenateNalData:function(e){var t,i,n,r,a,s,o=0,l=e.byteLength,c=e.nalCount,d=new Uint8Array(l+4*c),u=new DataView(d.buffer);for(t=0;t<e.length;t++)for(r=e[t],i=0;i<r.length;i++)for(a=r[i],n=0;n<a.length;n++)s=a[n],u.setUint32(o,s.data.byteLength),o+=4,d.set(s.data,o),o+=s.data.byteLength;return d},generateSampleTableForFrame:function(e,t){var i,n=[];return i=te(e,t||0),n.push(i),n},concatenateNalDataForFrame:function(e){var t,i,n=0,r=e.byteLength,a=e.length,s=new Uint8Array(r+4*a),o=new DataView(s.buffer);for(t=0;t<e.length;t++)i=e[t],o.setUint32(n,i.data.byteLength),n+=4,s.set(i.data,n),n+=i.data.byteLength;return s}},ne=[33,16,5,32,164,27],re=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],ae=function(e){for(var t=[];e--;)t.push(0);return t},se=9e4;X=function(e,t){return G(Y(e,t))},J=function(e,t){return K(Q(e),t)},Z=function(e,t,i){return Q(i?e:e-t)};var oe={ONE_SECOND_IN_TS:se,secondsToVideoTs:G=function(e){return e*se},secondsToAudioTs:K=function(e,t){return e*t},videoTsToSeconds:Q=function(e){return e/se},audioTsToSeconds:Y=function(e,t){return e/t},audioTsToVideoTs:X,videoTsToAudioTs:J,metadataTsToSeconds:Z},le=function(){if(!W){var e={96e3:[ne,[227,64],ae(154),[56]],88200:[ne,[231],ae(170),[56]],64e3:[ne,[248,192],ae(240),[56]],48e3:[ne,[255,192],ae(268),[55,148,128],ae(54),[112]],44100:[ne,[255,192],ae(268),[55,163,128],ae(84),[112]],32e3:[ne,[255,192],ae(268),[55,234],ae(226),[112]],24e3:[ne,[255,192],ae(268),[55,255,128],ae(268),[111,112],ae(126),[224]],16e3:[ne,[255,192],ae(268),[55,255,128],ae(268),[111,255],ae(269),[223,108],ae(195),[1,192]],12e3:[re,ae(268),[3,127,248],ae(268),[6,255,240],ae(268),[13,255,224],ae(268),[27,253,128],ae(259),[56]],11025:[re,ae(268),[3,127,248],ae(268),[6,255,240],ae(268),[13,255,224],ae(268),[27,255,192],ae(268),[55,175,128],ae(108),[112]],8e3:[re,ae(268),[3,121,16],ae(47),[7]]};t=e,W=Object.keys(t).reduce((function(e,i){return e[i]=new Uint8Array(t[i].reduce((function(e,t){return e.concat(t)}),[])),e}),{})}var t;return W},ce=oe,de={prefixWithSilence:function(e,t,i,n){var r,a,s,o,l,c=0,d=0,u=0;if(t.length&&(r=ce.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),a=Math.ceil(ce.ONE_SECOND_IN_TS/(e.samplerate/1024)),i&&n&&(c=r-Math.max(i,n),u=(d=Math.floor(c/a))*a),!(d<1||u>ce.ONE_SECOND_IN_TS/2))){for((s=le()[e.samplerate])||(s=t[0].data),o=0;o<d;o++)l=t[0],t.splice(0,0,{data:s,dts:l.dts-a,pts:l.pts-a});return e.baseMediaDecodeTime-=Math.floor(ce.videoTsToAudioTs(u,e.samplerate)),u}},trimAdtsFramesByEarliestDts:function(e,t,i){return t.minSegmentDts>=i?e:(t.minSegmentDts=1/0,e.filter((function(e){return e.dts>=i&&(t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),t.minSegmentPts=t.minSegmentDts,!0)})))},generateSampleTable:function(e){var t,i,n=[];for(t=0;t<e.length;t++)i=e[t],n.push({size:i.data.byteLength,duration:1024});return n},concatenateFrameData:function(e){var t,i,n=0,r=new Uint8Array(function(e){var t,i=0;for(t=0;t<e.length;t++)i+=e[t].data.byteLength;return i}(e));for(t=0;t<e.length;t++)i=e[t],r.set(i.data,n),n+=i.data.byteLength;return r}},ue=oe.ONE_SECOND_IN_TS,he={clearDtsInfo:function(e){delete e.minSegmentDts,delete e.maxSegmentDts,delete e.minSegmentPts,delete e.maxSegmentPts},calculateTrackBaseMediaDecodeTime:function(e,t){var i,n=e.minSegmentDts;return t||(n-=e.timelineStartInfo.dts),i=e.timelineStartInfo.baseMediaDecodeTime,i+=n,i=Math.max(0,i),"audio"===e.type&&(i*=e.samplerate/ue,i=Math.floor(i)),i},collectDtsInfo:function(e,t){"number"==typeof t.pts&&(void 0===e.timelineStartInfo.pts&&(e.timelineStartInfo.pts=t.pts),void 0===e.minSegmentPts?e.minSegmentPts=t.pts:e.minSegmentPts=Math.min(e.minSegmentPts,t.pts),void 0===e.maxSegmentPts?e.maxSegmentPts=t.pts:e.maxSegmentPts=Math.max(e.maxSegmentPts,t.pts)),"number"==typeof t.dts&&(void 0===e.timelineStartInfo.dts&&(e.timelineStartInfo.dts=t.dts),void 0===e.minSegmentDts?e.minSegmentDts=t.dts:e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),void 0===e.maxSegmentDts?e.maxSegmentDts=t.dts:e.maxSegmentDts=Math.max(e.maxSegmentDts,t.dts))}},pe={parseSei:function(e){for(var t=0,i={payloadType:-1,payloadSize:0},n=0,r=0;t<e.byteLength&&128!==e[t];){for(;255===e[t];)n+=255,t++;for(n+=e[t++];255===e[t];)r+=255,t++;if(r+=e[t++],!i.payload&&4===n){if("GA94"===String.fromCharCode(e[t+3],e[t+4],e[t+5],e[t+6])){i.payloadType=n,i.payloadSize=r,i.payload=e.subarray(t,t+r);break}i.payload=void 0}t+=r,n=0,r=0}return i},parseUserData:function(e){return 181!==e.payload[0]||49!=(e.payload[1]<<8|e.payload[2])||"GA94"!==String.fromCharCode(e.payload[3],e.payload[4],e.payload[5],e.payload[6])||3!==e.payload[7]?null:e.payload.subarray(8,e.payload.length-1)},parseCaptionPackets:function(e,t){var i,n,r,a,s=[];if(!(64&t[0]))return s;for(n=31&t[0],i=0;i<n;i++)a={type:3&t[(r=3*i)+2],pts:e},4&t[r+2]&&(a.ccData=t[r+3]<<8|t[r+4],s.push(a));return s},discardEmulationPreventionBytes:function(e){for(var t,i,n=e.byteLength,r=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var s=0;for(a=0;a<t;s++,a++)s===r[0]&&(s++,r.shift()),i[a]=e[s];return i},USER_DATA_REGISTERED_ITU_T_T35:4},me=F,fe=pe,ge=function(e){e=e||{},ge.prototype.init.call(this),this.parse708captions_="boolean"!=typeof e.parse708captions||e.parse708captions,this.captionPackets_=[],this.ccStreams_=[new Ce(0,0),new Ce(0,1),new Ce(1,0),new Ce(1,1)],this.parse708captions_&&(this.cc708Stream_=new Te({captionServices:e.captionServices})),this.reset(),this.ccStreams_.forEach((function(e){e.on("data",this.trigger.bind(this,"data")),e.on("partialdone",this.trigger.bind(this,"partialdone")),e.on("done",this.trigger.bind(this,"done"))}),this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};ge.prototype=new me,ge.prototype.push=function(e){var t,i,n;if("sei_rbsp"===e.nalUnitType&&(t=fe.parseSei(e.escapedRBSP)).payload&&t.payloadType===fe.USER_DATA_REGISTERED_ITU_T_T35&&(i=fe.parseUserData(t)))if(e.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(e.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=fe.parseCaptionPackets(e.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==e.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=e.dts}},ge.prototype.flushCCStreams=function(e){this.ccStreams_.forEach((function(t){return"flush"===e?t.flush():t.partialFlush()}),this)},ge.prototype.flushStream=function(e){this.captionPackets_.length?(this.captionPackets_.forEach((function(e,t){e.presortIndex=t})),this.captionPackets_.sort((function(e,t){return e.pts===t.pts?e.presortIndex-t.presortIndex:e.pts-t.pts})),this.captionPackets_.forEach((function(e){e.type<2?this.dispatchCea608Packet(e):this.dispatchCea708Packet(e)}),this),this.captionPackets_.length=0,this.flushCCStreams(e)):this.flushCCStreams(e)},ge.prototype.flush=function(){return this.flushStream("flush")},ge.prototype.partialFlush=function(){return this.flushStream("partialFlush")},ge.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach((function(e){e.reset()}))},ge.prototype.dispatchCea608Packet=function(e){this.setsTextOrXDSActive(e)?this.activeCea608Channel_[e.type]=null:this.setsChannel1Active(e)?this.activeCea608Channel_[e.type]=0:this.setsChannel2Active(e)&&(this.activeCea608Channel_[e.type]=1),null!==this.activeCea608Channel_[e.type]&&this.ccStreams_[(e.type<<1)+this.activeCea608Channel_[e.type]].push(e)},ge.prototype.setsChannel1Active=function(e){return 4096==(30720&e.ccData)},ge.prototype.setsChannel2Active=function(e){return 6144==(30720&e.ccData)},ge.prototype.setsTextOrXDSActive=function(e){return 256==(28928&e.ccData)||4138==(30974&e.ccData)||6186==(30974&e.ccData)},ge.prototype.dispatchCea708Packet=function(e){this.parse708captions_&&this.cc708Stream_.push(e)};var ye={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},be=function(e){return 32<=e&&e<=127||160<=e&&e<=255},ve=function(e){this.windowNum=e,this.reset()};ve.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ve.prototype.getText=function(){return this.rows.join("\n")},ve.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ve.prototype.newLine=function(e){for(this.rows.length>=this.virtualRowCount&&"function"==typeof this.beforeRowOverflow&&this.beforeRowOverflow(e),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ve.prototype.isEmpty=function(){return 0===this.rows.length||1===this.rows.length&&""===this.rows[0]},ve.prototype.addText=function(e){this.rows[this.rowIdx]+=e},ve.prototype.backspace=function(){if(!this.isEmpty()){var e=this.rows[this.rowIdx];this.rows[this.rowIdx]=e.substr(0,e.length-1)}};var we=function(e,t,i){this.serviceNum=e,this.text="",this.currentWindow=new ve(-1),this.windows=[],this.stream=i,"string"==typeof t&&this.createTextDecoder(t)};we.prototype.init=function(e,t){this.startPts=e;for(var i=0;i<8;i++)this.windows[i]=new ve(i),"function"==typeof t&&(this.windows[i].beforeRowOverflow=t)},we.prototype.setCurrentWindow=function(e){this.currentWindow=this.windows[e]},we.prototype.createTextDecoder=function(e){if("undefined"==typeof TextDecoder)this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(e)}catch(t){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+e+" encoding. "+t})}};var Te=function(e){e=e||{},Te.prototype.init.call(this);var t,i=this,n=e.captionServices||{},r={};Object.keys(n).forEach((e=>{t=n[e],/^SERVICE/.test(e)&&(r[e]=t.encoding)})),this.serviceEncodings=r,this.current708Packet=null,this.services={},this.push=function(e){3===e.type?(i.new708Packet(),i.add708Bytes(e)):(null===i.current708Packet&&i.new708Packet(),i.add708Bytes(e))}};Te.prototype=new me,Te.prototype.new708Packet=function(){null!==this.current708Packet&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Te.prototype.add708Bytes=function(e){var t=e.ccData,i=t>>>8,n=255&t;this.current708Packet.ptsVals.push(e.pts),this.current708Packet.data.push(i),this.current708Packet.data.push(n)},Te.prototype.push708Packet=function(){var e=this.current708Packet,t=e.data,i=null,n=null,r=0,a=t[r++];for(e.seq=a>>6,e.sizeCode=63&a;r<t.length;r++)n=31&(a=t[r++]),7===(i=a>>5)&&n>0&&(i=a=t[r++]),this.pushServiceBlock(i,r,n),n>0&&(r+=n-1)},Te.prototype.pushServiceBlock=function(e,t,i){var n,r=t,a=this.current708Packet.data,s=this.services[e];for(s||(s=this.initService(e,r));r<t+i&&r<a.length;r++)n=a[r],be(n)?r=this.handleText(r,s):24===n?r=this.multiByteCharacter(r,s):16===n?r=this.extendedCommands(r,s):128<=n&&n<=135?r=this.setCurrentWindow(r,s):152<=n&&n<=159?r=this.defineWindow(r,s):136===n?r=this.clearWindows(r,s):140===n?r=this.deleteWindows(r,s):137===n?r=this.displayWindows(r,s):138===n?r=this.hideWindows(r,s):139===n?r=this.toggleWindows(r,s):151===n?r=this.setWindowAttributes(r,s):144===n?r=this.setPenAttributes(r,s):145===n?r=this.setPenColor(r,s):146===n?r=this.setPenLocation(r,s):143===n?s=this.reset(r,s):8===n?s.currentWindow.backspace():12===n?s.currentWindow.clearText():13===n?s.currentWindow.pendingNewLine=!0:14===n?s.currentWindow.clearText():141===n&&r++},Te.prototype.extendedCommands=function(e,t){var i=this.current708Packet.data[++e];return be(i)&&(e=this.handleText(e,t,{isExtended:!0})),e},Te.prototype.getPts=function(e){return this.current708Packet.ptsVals[Math.floor(e/2)]},Te.prototype.initService=function(e,t){var i,n,r=this;return(i="SERVICE"+e)in this.serviceEncodings&&(n=this.serviceEncodings[i]),this.services[e]=new we(e,n,r),this.services[e].init(this.getPts(t),(function(t){r.flushDisplayed(t,r.services[e])})),this.services[e]},Te.prototype.handleText=function(e,t,i){var n,r,a=i&&i.isExtended,s=i&&i.isMultiByte,o=this.current708Packet.data,l=a?4096:0,c=o[e],d=o[e+1],u=t.currentWindow;return t.textDecoder_&&!a?(s?(r=[c,d],e++):r=[c],n=t.textDecoder_.decode(new Uint8Array(r))):n=function(e){var t=ye[e]||e;return 4096&e&&e===t?"":String.fromCharCode(t)}(l|c),u.pendingNewLine&&!u.isEmpty()&&u.newLine(this.getPts(e)),u.pendingNewLine=!1,u.addText(n),e},Te.prototype.multiByteCharacter=function(e,t){var i=this.current708Packet.data,n=i[e+1],r=i[e+2];return be(n)&&be(r)&&(e=this.handleText(++e,t,{isMultiByte:!0})),e},Te.prototype.setCurrentWindow=function(e,t){var i=7&this.current708Packet.data[e];return t.setCurrentWindow(i),e},Te.prototype.defineWindow=function(e,t){var i=this.current708Packet.data,n=i[e],r=7&n;t.setCurrentWindow(r);var a=t.currentWindow;return n=i[++e],a.visible=(32&n)>>5,a.rowLock=(16&n)>>4,a.columnLock=(8&n)>>3,a.priority=7&n,n=i[++e],a.relativePositioning=(128&n)>>7,a.anchorVertical=127&n,n=i[++e],a.anchorHorizontal=n,n=i[++e],a.anchorPoint=(240&n)>>4,a.rowCount=15&n,n=i[++e],a.columnCount=63&n,n=i[++e],a.windowStyle=(56&n)>>3,a.penStyle=7&n,a.virtualRowCount=a.rowCount+1,e},Te.prototype.setWindowAttributes=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.winAttr;return n=i[++e],r.fillOpacity=(192&n)>>6,r.fillRed=(48&n)>>4,r.fillGreen=(12&n)>>2,r.fillBlue=3&n,n=i[++e],r.borderType=(192&n)>>6,r.borderRed=(48&n)>>4,r.borderGreen=(12&n)>>2,r.borderBlue=3&n,n=i[++e],r.borderType+=(128&n)>>5,r.wordWrap=(64&n)>>6,r.printDirection=(48&n)>>4,r.scrollDirection=(12&n)>>2,r.justify=3&n,n=i[++e],r.effectSpeed=(240&n)>>4,r.effectDirection=(12&n)>>2,r.displayEffect=3&n,e},Te.prototype.flushDisplayed=function(e,t){for(var i=[],n=0;n<8;n++)t.windows[n].visible&&!t.windows[n].isEmpty()&&i.push(t.windows[n].getText());t.endPts=e,t.text=i.join("\n\n"),this.pushCaption(t),t.startPts=e},Te.prototype.pushCaption=function(e){""!==e.text&&(this.trigger("data",{startPts:e.startPts,endPts:e.endPts,text:e.text,stream:"cc708_"+e.serviceNum}),e.text="",e.startPts=e.endPts)},Te.prototype.displayWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible=1);return e},Te.prototype.hideWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible=0);return e},Te.prototype.toggleWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&(t.windows[r].visible^=1);return e},Te.prototype.clearWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&t.windows[r].clearText();return e},Te.prototype.deleteWindows=function(e,t){var i=this.current708Packet.data[++e],n=this.getPts(e);this.flushDisplayed(n,t);for(var r=0;r<8;r++)i&1<<r&&t.windows[r].reset();return e},Te.prototype.setPenAttributes=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.penAttr;return n=i[++e],r.textTag=(240&n)>>4,r.offset=(12&n)>>2,r.penSize=3&n,n=i[++e],r.italics=(128&n)>>7,r.underline=(64&n)>>6,r.edgeType=(56&n)>>3,r.fontStyle=7&n,e},Te.prototype.setPenColor=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.penColor;return n=i[++e],r.fgOpacity=(192&n)>>6,r.fgRed=(48&n)>>4,r.fgGreen=(12&n)>>2,r.fgBlue=3&n,n=i[++e],r.bgOpacity=(192&n)>>6,r.bgRed=(48&n)>>4,r.bgGreen=(12&n)>>2,r.bgBlue=3&n,n=i[++e],r.edgeRed=(48&n)>>4,r.edgeGreen=(12&n)>>2,r.edgeBlue=3&n,e},Te.prototype.setPenLocation=function(e,t){var i=this.current708Packet.data,n=i[e],r=t.currentWindow.penLoc;return t.currentWindow.pendingNewLine=!0,n=i[++e],r.row=15&n,n=i[++e],r.column=63&n,e},Te.prototype.reset=function(e,t){var i=this.getPts(e);return this.flushDisplayed(i,t),this.initService(t.serviceNum,e)};var xe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ee=function(e){return null===e?"":(e=xe[e]||e,String.fromCharCode(e))},_e=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Se=function(){for(var e=[],t=15;t--;)e.push({text:"",indent:0,offset:0});return e},Ce=function(e,t){Ce.prototype.init.call(this),this.field_=e||0,this.dataChannel_=t||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(e){var t,i,n,r,a;if((t=32639&e.ccData)!==this.lastControlCode_){if(4096==(61440&t)?this.lastControlCode_=t:t!==this.PADDING_&&(this.lastControlCode_=null),n=t>>>8,r=255&t,t!==this.PADDING_)if(t===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(t===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(e.pts),this.flushDisplayed(e.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=e.pts;else if(t===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(e.pts);else if(t===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(e.pts);else if(t===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(e.pts);else if(t===this.CARRIAGE_RETURN_)this.clearFormatting(e.pts),this.flushDisplayed(e.pts),this.shiftRowsUp_(),this.startPts_=e.pts;else if(t===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(t===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(e.pts),this.displayed_=Se();else if(t===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Se();else if(t===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(e.pts),this.displayed_=Se()),this.mode_="paintOn",this.startPts_=e.pts;else if(this.isSpecialCharacter(n,r))a=Ee((n=(3&n)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isExtCharacter(n,r))"popOn"===this.mode_?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),a=Ee((n=(3&n)<<8)|r),this[this.mode_](e.pts,a),this.column_++;else if(this.isMidRowCode(n,r))this.clearFormatting(e.pts),this[this.mode_](e.pts," "),this.column_++,14==(14&r)&&this.addFormatting(e.pts,["i"]),1==(1&r)&&this.addFormatting(e.pts,["u"]);else if(this.isOffsetControlCode(n,r)){const e=3&r;this.nonDisplayed_[this.row_].offset=e,this.column_+=e}else if(this.isPAC(n,r)){var s=_e.indexOf(7968&t);if("rollUp"===this.mode_&&(s-this.rollUpRows_+1<0&&(s=this.rollUpRows_-1),this.setRollUp(e.pts,s)),s!==this.row_&&(this.clearFormatting(e.pts),this.row_=s),1&r&&-1===this.formatting_.indexOf("u")&&this.addFormatting(e.pts,["u"]),16==(16&t)){const e=(14&t)>>1;this.column_=4*e,this.nonDisplayed_[this.row_].indent+=e}this.isColorPAC(r)&&14==(14&r)&&this.addFormatting(e.pts,["i"])}else this.isNormalChar(n)&&(0===r&&(r=null),a=Ee(n),a+=Ee(r),this[this.mode_](e.pts,a),this.column_+=a.length)}else this.lastControlCode_=null}};Ce.prototype=new me,Ce.prototype.flushDisplayed=function(e){const t=e=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+e+"."})},i=[];this.displayed_.forEach(((e,n)=>{if(e&&e.text&&e.text.length){try{e.text=e.text.trim()}catch(E_){t(n)}e.text.length&&i.push({text:e.text,line:n+1,position:10+Math.min(70,10*e.indent)+2.5*e.offset})}else null==e&&t(n)})),i.length&&this.trigger("data",{startPts:this.startPts_,endPts:e,content:i,stream:this.name_})},Ce.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Se(),this.nonDisplayed_=Se(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Ce.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Ce.prototype.isSpecialCharacter=function(e,t){return e===this.EXT_&&t>=48&&t<=63},Ce.prototype.isExtCharacter=function(e,t){return(e===this.EXT_+1||e===this.EXT_+2)&&t>=32&&t<=63},Ce.prototype.isMidRowCode=function(e,t){return e===this.EXT_&&t>=32&&t<=47},Ce.prototype.isOffsetControlCode=function(e,t){return e===this.OFFSET_&&t>=33&&t<=35},Ce.prototype.isPAC=function(e,t){return e>=this.BASE_&&e<this.BASE_+8&&t>=64&&t<=127},Ce.prototype.isColorPAC=function(e){return e>=64&&e<=79||e>=96&&e<=127},Ce.prototype.isNormalChar=function(e){return e>=32&&e<=127},Ce.prototype.setRollUp=function(e,t){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(e),this.nonDisplayed_=Se(),this.displayed_=Se()),void 0!==t&&t!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[t-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]={text:"",indent:0,offset:0};void 0===t&&(t=this.row_),this.topRow_=t-this.rollUpRows_+1},Ce.prototype.addFormatting=function(e,t){this.formatting_=this.formatting_.concat(t);var i=t.reduce((function(e,t){return e+"<"+t+">"}),"");this[this.mode_](e,i)},Ce.prototype.clearFormatting=function(e){if(this.formatting_.length){var t=this.formatting_.reverse().reduce((function(e,t){return e+"</"+t+">"}),"");this.formatting_=[],this[this.mode_](e,t)}},Ce.prototype.popOn=function(e,t){var i=this.nonDisplayed_[this.row_].text;i+=t,this.nonDisplayed_[this.row_].text=i},Ce.prototype.rollUp=function(e,t){var i=this.displayed_[this.row_].text;i+=t,this.displayed_[this.row_].text=i},Ce.prototype.shiftRowsUp_=function(){var e;for(e=0;e<this.topRow_;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.row_+1;e<15;e++)this.displayed_[e]={text:"",indent:0,offset:0};for(e=this.topRow_;e<this.row_;e++)this.displayed_[e]=this.displayed_[e+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},Ce.prototype.paintOn=function(e,t){var i=this.displayed_[this.row_].text;i+=t,this.displayed_[this.row_].text=i};var ke={CaptionStream:ge,Cea608Stream:Ce,Cea708Stream:Te},Ae={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ne=F,Oe="shared",Me=function(e,t){var i=1;for(e>t&&(i=-1);Math.abs(t-e)>4294967296;)e+=8589934592*i;return e},Pe=function(e){var t,i;Pe.prototype.init.call(this),this.type_=e||Oe,this.push=function(e){this.type_!==Oe&&e.type!==this.type_||(void 0===i&&(i=e.dts),e.dts=Me(e.dts,i),e.pts=Me(e.pts,i),t=e.dts,this.trigger("data",e))},this.flush=function(){i=t,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){i=void 0,t=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Pe.prototype=new Ne;var Ie,Re={TimestampRolloverStream:Pe,handleRollover:Me},Le=(e,t,i)=>{if(!e)return-1;for(var n=i;n<e.length;n++)if(e[n]===t)return n;return-1},De=Le,je=3,$e=function(e,t,i){var n,r="";for(n=t;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r},Be=function(e,t,i){return decodeURIComponent($e(e,t,i))},qe=function(e,t,i){return unescape($e(e,t,i))},Ue=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},Fe={APIC:function(e){var t,i,n=1;e.data[0]===je&&((t=De(e.data,0,n))<0||(e.mimeType=qe(e.data,n,t),n=t+1,e.pictureType=e.data[n],n++,(i=De(e.data,0,n))<0||(e.description=Be(e.data,n,i),n=i+1,"--\x3e"===e.mimeType?e.url=qe(e.data,n,e.data.length):e.pictureData=e.data.subarray(n,e.data.length))))},"T*":function(e){e.data[0]===je&&(e.value=Be(e.data,1,e.data.length).replace(/\0*$/,""),e.values=e.value.split("\0"))},TXXX:function(e){var t;e.data[0]===je&&-1!==(t=De(e.data,0,1))&&(e.description=Be(e.data,1,t),e.value=Be(e.data,t+1,e.data.length).replace(/\0*$/,""),e.data=e.value)},"W*":function(e){e.url=qe(e.data,0,e.data.length).replace(/\0.*$/,"")},WXXX:function(e){var t;e.data[0]===je&&-1!==(t=De(e.data,0,1))&&(e.description=Be(e.data,1,t),e.url=qe(e.data,t+1,e.data.length).replace(/\0.*$/,""))},PRIV:function(e){var t;for(t=0;t<e.data.length;t++)if(0===e.data[t]){e.owner=qe(e.data,0,t);break}e.privateData=e.data.subarray(t+1),e.data=e.privateData}},ze={parseId3Frames:function(e){var t,i=10,n=0,r=[];if(!(e.length<10||e[0]!=="I".charCodeAt(0)||e[1]!=="D".charCodeAt(0)||e[2]!=="3".charCodeAt(0))){n=Ue(e.subarray(6,10)),n+=10,64&e[5]&&(i+=4,i+=Ue(e.subarray(10,14)),n-=Ue(e.subarray(16,20)));do{if((t=Ue(e.subarray(i+4,i+8)))<1)break;var a={id:String.fromCharCode(e[i],e[i+1],e[i+2],e[i+3]),data:e.subarray(i+10,i+t+10)};a.key=a.id,Fe[a.id]?Fe[a.id](a):"T"===a.id[0]?Fe["T*"](a):"W"===a.id[0]&&Fe["W*"](a),r.push(a),i+=10,i+=t}while(i<n);return r}},parseSyncSafeInteger:Ue,frameParsers:Fe},Ve=F,He=Ae,We=ze;Ie=function(e){var t,i={descriptor:e&&e.descriptor},n=0,r=[],a=0;if(Ie.prototype.init.call(this),this.dispatchType=He.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(t=0;t<i.descriptor.length;t++)this.dispatchType+=("00"+i.descriptor[t].toString(16)).slice(-2);this.push=function(e){var t,i,s,o,l;if("timed-metadata"===e.type)if(e.dataAlignmentIndicator&&(a=0,r.length=0),0===r.length&&(e.data.length<10||e.data[0]!=="I".charCodeAt(0)||e.data[1]!=="D".charCodeAt(0)||e.data[2]!=="3".charCodeAt(0)))this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});else if(r.push(e),a+=e.data.byteLength,1===r.length&&(n=We.parseSyncSafeInteger(e.data.subarray(6,10)),n+=10),!(a<n)){for(t={data:new Uint8Array(n),frames:[],pts:r[0].pts,dts:r[0].dts},l=0;l<n;)t.data.set(r[0].data.subarray(0,n-l),l),l+=r[0].data.byteLength,a-=r[0].data.byteLength,r.shift();i=10,64&t.data[5]&&(i+=4,i+=We.parseSyncSafeInteger(t.data.subarray(10,14)),n-=We.parseSyncSafeInteger(t.data.subarray(16,20)));do{if((s=We.parseSyncSafeInteger(t.data.subarray(i+4,i+8)))<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if((o={id:String.fromCharCode(t.data[i],t.data[i+1],t.data[i+2],t.data[i+3]),data:t.data.subarray(i+10,i+s+10)}).key=o.id,We.frameParsers[o.id]?We.frameParsers[o.id](o):"T"===o.id[0]?We.frameParsers["T*"](o):"W"===o.id[0]&&We.frameParsers["W*"](o),"com.apple.streaming.transportStreamTimestamp"===o.owner){var c=o.data,d=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;d*=4,d+=3&c[7],o.timeStamp=d,void 0===t.pts&&void 0===t.dts&&(t.pts=o.timeStamp,t.dts=o.timeStamp),this.trigger("timestamp",o)}t.frames.push(o),i+=10,i+=s}while(i<n);this.trigger("data",t)}}},Ie.prototype=new Ve;var Ge,Ke,Qe,Ye=Ie,Xe=F,Je=ke,Ze=Ae,et=Re.TimestampRolloverStream,tt=188;Ge=function(){var e=new Uint8Array(tt),t=0;Ge.prototype.init.call(this),this.push=function(i){var n,r=0,a=tt;for(t?((n=new Uint8Array(i.byteLength+t)).set(e.subarray(0,t)),n.set(i,t),t=0):n=i;a<n.byteLength;)71!==n[r]||71!==n[a]?(r++,a++):(this.trigger("data",n.subarray(r,a)),r+=tt,a+=tt);r<n.byteLength&&(e.set(n.subarray(r),0),t=n.byteLength-r)},this.flush=function(){t===tt&&71===e[0]&&(this.trigger("data",e),t=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){t=0,this.trigger("reset")}},Ge.prototype=new Xe,Ke=function(){var e,t,i,n;Ke.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,e=function(e,n){var r=0;n.payloadUnitStartIndicator&&(r+=e[r]+1),"pat"===n.type?t(e.subarray(r),n):i(e.subarray(r),n)},t=function(e,t){t.section_number=e[7],t.last_section_number=e[8],n.pmtPid=(31&e[10])<<8|e[11],t.pmtPid=n.pmtPid},i=function(e,t){var i,r;if(1&e[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&e[1])<<8|e[2])-4,r=12+((15&e[10])<<8|e[11]);r<i;){var a=e[r],s=(31&e[r+1])<<8|e[r+2];a===Ze.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=s:a===Ze.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=s:a===Ze.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][s]=a),r+=5+((15&e[r+3])<<8|e[r+4])}t.programMapTable=n.programMapTable}},this.push=function(t){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&t[1]),i.pid=31&t[1],i.pid<<=8,i.pid|=t[2],(48&t[3])>>>4>1&&(n+=t[n]+1),0===i.pid)i.type="pat",e(t.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",e(t.subarray(n),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([t,n,i]):this.processPes_(t,n,i)},this.processPes_=function(e,t,i){i.pid===this.programMapTable.video?i.streamType=Ze.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=Ze.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=e.subarray(t),this.trigger("data",i)}},Ke.prototype=new Xe,Ke.STREAM_TYPES={h264:27,adts:15},Qe=function(){var e,t=this,i=!1,n={data:[],size:0},r={data:[],size:0},a={data:[],size:0},s=function(e,i,n){var r,a,s=new Uint8Array(e.size),o={type:i},l=0,c=0;if(e.data.length&&!(e.size<9)){for(o.trackId=e.data[0].pid,l=0;l<e.data.length;l++)a=e.data[l],s.set(a.data,c),c+=a.data.byteLength;!function(e,t){var i;const n=e[0]<<16|e[1]<<8|e[2];t.data=new Uint8Array,1===n&&(t.packetLength=6+(e[4]<<8|e[5]),t.dataAlignmentIndicator=0!=(4&e[6]),192&(i=e[7])&&(t.pts=(14&e[9])<<27|(255&e[10])<<20|(254&e[11])<<12|(255&e[12])<<5|(254&e[13])>>>3,t.pts*=4,t.pts+=(6&e[13])>>>1,t.dts=t.pts,64&i&&(t.dts=(14&e[14])<<27|(255&e[15])<<20|(254&e[16])<<12|(255&e[17])<<5|(254&e[18])>>>3,t.dts*=4,t.dts+=(6&e[18])>>>1)),t.data=e.subarray(9+e[8]))}(s,o),r="video"===i||o.packetLength<=e.size,(n||r)&&(e.size=0,e.data.length=0),r&&t.trigger("data",o)}};Qe.prototype.init.call(this),this.push=function(o){({pat:function(){},pes:function(){var e,t;switch(o.streamType){case Ze.H264_STREAM_TYPE:e=n,t="video";break;case Ze.ADTS_STREAM_TYPE:e=r,t="audio";break;case Ze.METADATA_STREAM_TYPE:e=a,t="timed-metadata";break;default:return}o.payloadUnitStartIndicator&&s(e,t,!0),e.data.push(o),e.size+=o.data.byteLength},pmt:function(){var n={type:"metadata",tracks:[]};null!==(e=o.programMapTable).video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),i=!0,t.trigger("data",n)}})[o.type]()},this.reset=function(){n.size=0,n.data.length=0,r.size=0,r.data.length=0,this.trigger("reset")},this.flushStreams_=function(){s(n,"video"),s(r,"audio"),s(a,"timed-metadata")},this.flush=function(){if(!i&&e){var n={type:"metadata",tracks:[]};null!==e.video&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.video,codec:"avc",type:"video"}),null!==e.audio&&n.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+e.audio,codec:"adts",type:"audio"}),t.trigger("data",n)}i=!1,this.flushStreams_(),this.trigger("done")}},Qe.prototype=new Xe;var it={PAT_PID:0,MP2T_PACKET_LENGTH:tt,TransportPacketStream:Ge,TransportParseStream:Ke,ElementaryStream:Qe,TimestampRolloverStream:et,CaptionStream:Je.CaptionStream,Cea608Stream:Je.Cea608Stream,Cea708Stream:Je.Cea708Stream,MetadataStream:Ye};for(var nt in Ze)Ze.hasOwnProperty(nt)&&(it[nt]=Ze[nt]);var rt,at=it,st=F,ot=oe.ONE_SECOND_IN_TS,lt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];rt=function(e){var t,i=0;rt.prototype.init.call(this),this.skipWarn_=function(e,t){this.trigger("log",{level:"warn",message:`adts skiping bytes ${e} to ${t} in frame ${i} outside syncword`})},this.push=function(n){var r,a,s,o,l,c=0;if(e||(i=0),"audio"===n.type){var d;for(t&&t.length?(s=t,(t=new Uint8Array(s.byteLength+n.data.byteLength)).set(s),t.set(n.data,s.byteLength)):t=n.data;c+7<t.length;)if(255===t[c]&&240==(246&t[c+1])){if("number"==typeof d&&(this.skipWarn_(d,c),d=null),a=2*(1&~t[c+1]),r=(3&t[c+3])<<11|t[c+4]<<3|(224&t[c+5])>>5,l=(o=1024*(1+(3&t[c+6])))*ot/lt[(60&t[c+2])>>>2],t.byteLength-c<r)break;this.trigger("data",{pts:n.pts+i*l,dts:n.dts+i*l,sampleCount:o,audioobjecttype:1+(t[c+2]>>>6&3),channelcount:(1&t[c+2])<<2|(192&t[c+3])>>>6,samplerate:lt[(60&t[c+2])>>>2],samplingfrequencyindex:(60&t[c+2])>>>2,samplesize:16,data:t.subarray(c+7+a,c+r)}),i++,c+=r}else"number"!=typeof d&&(d=c),c++;"number"==typeof d&&(this.skipWarn_(d,c),d=null),t=t.subarray(c)}},this.flush=function(){i=0,this.trigger("done")},this.reset=function(){t=void 0,this.trigger("reset")},this.endTimeline=function(){t=void 0,this.trigger("endedtimeline")}},rt.prototype=new st;var ct,dt=rt;ct=function(e){var t=e.byteLength,i=0,n=0;this.length=function(){return 8*t},this.bitsAvailable=function(){return 8*t+n},this.loadWord=function(){var r=e.byteLength-t,a=new Uint8Array(4),s=Math.min(4,t);if(0===s)throw new Error("no bytes available");a.set(e.subarray(r,r+s)),i=new DataView(a.buffer).getUint32(0),n=8*s,t-=s},this.skipBits=function(e){var r;n>e?(i<<=e,n-=e):(e-=n,e-=8*(r=Math.floor(e/8)),t-=r,this.loadWord(),i<<=e,n-=e)},this.readBits=function(e){var r=Math.min(n,e),a=i>>>32-r;return(n-=r)>0?i<<=r:t>0&&this.loadWord(),(r=e-r)>0?a<<r|this.readBits(r):a},this.skipLeadingZeros=function(){var e;for(e=0;e<n;++e)if(0!=(i&2147483648>>>e))return i<<=e,n-=e,e;return this.loadWord(),e+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var e=this.skipLeadingZeros();return this.readBits(e+1)-1},this.readExpGolomb=function(){var e=this.readUnsignedExpGolomb();return 1&e?1+e>>>1:-1*(e>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var ut,ht,pt,mt=F,ft=ct;ht=function(){var e,t,i=0;ht.prototype.init.call(this),this.push=function(n){var r;t?((r=new Uint8Array(t.byteLength+n.data.byteLength)).set(t),r.set(n.data,t.byteLength),t=r):t=n.data;for(var a=t.byteLength;i<a-3;i++)if(1===t[i+2]){e=i+5;break}for(;e<a;)switch(t[e]){case 0:if(0!==t[e-1]){e+=2;break}if(0!==t[e-2]){e++;break}i+3!==e-2&&this.trigger("data",t.subarray(i+3,e-2));do{e++}while(1!==t[e]&&e<a);i=e-2,e+=3;break;case 1:if(0!==t[e-1]||0!==t[e-2]){e+=3;break}this.trigger("data",t.subarray(i+3,e-2)),i=e-2,e+=3;break;default:e+=3}t=t.subarray(i),e-=i,i=0},this.reset=function(){t=null,i=0,this.trigger("reset")},this.flush=function(){t&&t.byteLength>3&&this.trigger("data",t.subarray(i+3)),t=null,i=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},ht.prototype=new mt,pt={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},ut=function(){var e,t,i,n,r,a,s,o=new ht;ut.prototype.init.call(this),e=this,this.push=function(e){"video"===e.type&&(t=e.trackId,i=e.pts,n=e.dts,o.push(e))},o.on("data",(function(s){var o={trackId:t,pts:i,dts:n,data:s,nalUnitTypeCode:31&s[0]};switch(o.nalUnitTypeCode){case 5:o.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:o.nalUnitType="sei_rbsp",o.escapedRBSP=r(s.subarray(1));break;case 7:o.nalUnitType="seq_parameter_set_rbsp",o.escapedRBSP=r(s.subarray(1)),o.config=a(o.escapedRBSP);break;case 8:o.nalUnitType="pic_parameter_set_rbsp";break;case 9:o.nalUnitType="access_unit_delimiter_rbsp"}e.trigger("data",o)})),o.on("done",(function(){e.trigger("done")})),o.on("partialdone",(function(){e.trigger("partialdone")})),o.on("reset",(function(){e.trigger("reset")})),o.on("endedtimeline",(function(){e.trigger("endedtimeline")})),this.flush=function(){o.flush()},this.partialFlush=function(){o.partialFlush()},this.reset=function(){o.reset()},this.endTimeline=function(){o.endTimeline()},s=function(e,t){var i,n=8,r=8;for(i=0;i<e;i++)0!==r&&(r=(n+t.readExpGolomb()+256)%256),n=0===r?n:r},r=function(e){for(var t,i,n=e.byteLength,r=[],a=1;a<n-2;)0===e[a]&&0===e[a+1]&&3===e[a+2]?(r.push(a+2),a+=2):a++;if(0===r.length)return e;t=n-r.length,i=new Uint8Array(t);var s=0;for(a=0;a<t;s++,a++)s===r[0]&&(s++,r.shift()),i[a]=e[s];return i},a=function(e){var t,i,n,r,a,o,l,c,d,u,h,p,m=0,f=0,g=0,y=0,b=[1,1];if(i=(t=new ft(e)).readUnsignedByte(),r=t.readUnsignedByte(),n=t.readUnsignedByte(),t.skipUnsignedExpGolomb(),pt[i]&&(3===(a=t.readUnsignedExpGolomb())&&t.skipBits(1),t.skipUnsignedExpGolomb(),t.skipUnsignedExpGolomb(),t.skipBits(1),t.readBoolean()))for(h=3!==a?8:12,p=0;p<h;p++)t.readBoolean()&&s(p<6?16:64,t);if(t.skipUnsignedExpGolomb(),0===(o=t.readUnsignedExpGolomb()))t.readUnsignedExpGolomb();else if(1===o)for(t.skipBits(1),t.skipExpGolomb(),t.skipExpGolomb(),l=t.readUnsignedExpGolomb(),p=0;p<l;p++)t.skipExpGolomb();if(t.skipUnsignedExpGolomb(),t.skipBits(1),c=t.readUnsignedExpGolomb(),d=t.readUnsignedExpGolomb(),0===(u=t.readBits(1))&&t.skipBits(1),t.skipBits(1),t.readBoolean()&&(m=t.readUnsignedExpGolomb(),f=t.readUnsignedExpGolomb(),g=t.readUnsignedExpGolomb(),y=t.readUnsignedExpGolomb()),t.readBoolean()&&t.readBoolean()){switch(t.readUnsignedByte()){case 1:b=[1,1];break;case 2:b=[12,11];break;case 3:b=[10,11];break;case 4:b=[16,11];break;case 5:b=[40,33];break;case 6:b=[24,11];break;case 7:b=[20,11];break;case 8:b=[32,11];break;case 9:b=[80,33];break;case 10:b=[18,11];break;case 11:b=[15,11];break;case 12:b=[64,33];break;case 13:b=[160,99];break;case 14:b=[4,3];break;case 15:b=[3,2];break;case 16:b=[2,1];break;case 255:b=[t.readUnsignedByte()<<8|t.readUnsignedByte(),t.readUnsignedByte()<<8|t.readUnsignedByte()]}b&&(b[0],b[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:r,width:16*(c+1)-2*m-2*f,height:(2-u)*(d+1)*16-2*g-2*y,sarRatio:b}}},ut.prototype=new mt;var gt,yt={H264Stream:ut,NalByteStream:ht},bt=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],vt=function(e,t){var i=e[t+6]<<21|e[t+7]<<14|e[t+8]<<7|e[t+9];return i=i>=0?i:0,(16&e[t+5])>>4?i+20:i+10},wt=function(e,t){return e.length-t<10||e[t]!=="I".charCodeAt(0)||e[t+1]!=="D".charCodeAt(0)||e[t+2]!=="3".charCodeAt(0)?t:(t+=vt(e,t),wt(e,t))},Tt=function(e){return e[0]<<21|e[1]<<14|e[2]<<7|e[3]},xt={isLikelyAacData:function(e){var t=wt(e,0);return e.length>=t+2&&255==(255&e[t])&&240==(240&e[t+1])&&16==(22&e[t+1])},parseId3TagSize:vt,parseAdtsSize:function(e,t){var i=(224&e[t+5])>>5,n=e[t+4]<<3;return 6144&e[t+3]|n|i},parseType:function(e,t){return e[t]==="I".charCodeAt(0)&&e[t+1]==="D".charCodeAt(0)&&e[t+2]==="3".charCodeAt(0)?"timed-metadata":!0&e[t]&&240==(240&e[t+1])?"audio":null},parseSampleRate:function(e){for(var t=0;t+5<e.length;){if(255===e[t]&&240==(246&e[t+1]))return bt[(60&e[t+2])>>>2];t++}return null},parseAacTimestamp:function(e){var t,i,n;t=10,64&e[5]&&(t+=4,t+=Tt(e.subarray(10,14)));do{if((i=Tt(e.subarray(t+4,t+8)))<1)return null;if("PRIV"===String.fromCharCode(e[t],e[t+1],e[t+2],e[t+3])){n=e.subarray(t+10,t+i+10);for(var r=0;r<n.byteLength;r++)if(0===n[r]){var a=unescape(function(e,t,i){var n,r="";for(n=t;n<i;n++)r+="%"+("00"+e[n].toString(16)).slice(-2);return r}(n,0,r));if("com.apple.streaming.transportStreamTimestamp"===a){var s=n.subarray(r+1),o=(1&s[3])<<30|s[4]<<22|s[5]<<14|s[6]<<6|s[7]>>>2;return o*=4,o+=3&s[7]}break}}t+=10,t+=i}while(t<e.byteLength);return null}},Et=xt;(gt=function(){var e=new Uint8Array,t=0;gt.prototype.init.call(this),this.setTimestamp=function(e){t=e},this.push=function(i){var n,r,a,s,o=0,l=0;for(e.length?(s=e.length,(e=new Uint8Array(i.byteLength+s)).set(e.subarray(0,s)),e.set(i,s)):e=i;e.length-l>=3;)if(e[l]!=="I".charCodeAt(0)||e[l+1]!=="D".charCodeAt(0)||e[l+2]!=="3".charCodeAt(0))if(255!=(255&e[l])||240!=(240&e[l+1]))l++;else{if(e.length-l<7)break;if(l+(o=Et.parseAdtsSize(e,l))>e.length)break;a={type:"audio",data:e.subarray(l,l+o),pts:t,dts:t},this.trigger("data",a),l+=o}else{if(e.length-l<10)break;if(l+(o=Et.parseId3TagSize(e,l))>e.length)break;r={type:"timed-metadata",data:e.subarray(l,l+o)},this.trigger("data",r),l+=o}n=e.length-l,e=n>0?e.subarray(l):new Uint8Array},this.reset=function(){e=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){e=new Uint8Array,this.trigger("endedtimeline")}}).prototype=new F;var _t,St,Ct,kt,At=F,Nt=ee,Ot=ie,Mt=de,Pt=he,It=at,Rt=oe,Lt=dt,Dt=yt.H264Stream,jt=gt,$t=xt.isLikelyAacData,Bt=oe.ONE_SECOND_IN_TS,qt=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Ut=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],Ft=function(e,t){t.stream=e,this.trigger("log",t)},zt=function(e,t){for(var i=Object.keys(t),n=0;n<i.length;n++){var r=i[n];"headOfPipeline"!==r&&t[r].on&&t[r].on("log",Ft.bind(e,r))}},Vt=function(e,t){var i;if(e.length!==t.length)return!1;for(i=0;i<e.length;i++)if(e[i]!==t[i])return!1;return!0},Ht=function(e,t,i,n,r,a){return{start:{dts:e,pts:e+(i-t)},end:{dts:e+(n-t),pts:e+(r-i)},prependedContentDuration:a,baseMediaDecodeTime:e}};St=function(e,t){var i,n=[],r=0,a=0,s=1/0;i=(t=t||{}).firstSequenceNumber||0,St.prototype.init.call(this),this.push=function(t){Pt.collectDtsInfo(e,t),e&&qt.forEach((function(i){e[i]=t[i]})),n.push(t)},this.setEarliestDts=function(e){r=e},this.setVideoBaseMediaDecodeTime=function(e){s=e},this.setAudioAppendStart=function(e){a=e},this.flush=function(){var o,l,c,d,u,h,p;0!==n.length?(o=Mt.trimAdtsFramesByEarliestDts(n,e,r),e.baseMediaDecodeTime=Pt.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),p=Mt.prefixWithSilence(e,o,a,s),e.samples=Mt.generateSampleTable(o),c=Nt.mdat(Mt.concatenateFrameData(o)),n=[],l=Nt.moof(i,[e]),d=new Uint8Array(l.byteLength+c.byteLength),i++,d.set(l),d.set(c,l.byteLength),Pt.clearDtsInfo(e),u=Math.ceil(1024*Bt/e.samplerate),o.length&&(h=o.length*u,this.trigger("segmentTimingInfo",Ht(Rt.audioTsToVideoTs(e.baseMediaDecodeTime,e.samplerate),o[0].dts,o[0].pts,o[0].dts+h,o[0].pts+h,p||0)),this.trigger("timingInfo",{start:o[0].pts,end:o[0].pts+h})),this.trigger("data",{track:e,boxes:d}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")},this.reset=function(){Pt.clearDtsInfo(e),n=[],this.trigger("reset")}},St.prototype=new At,_t=function(e,t){var i,n,r,a=[],s=[];i=(t=t||{}).firstSequenceNumber||0,_t.prototype.init.call(this),delete e.minPTS,this.gopCache_=[],this.push=function(t){Pt.collectDtsInfo(e,t),"seq_parameter_set_rbsp"!==t.nalUnitType||n||(n=t.config,e.sps=[t.data],Ut.forEach((function(t){e[t]=n[t]}),this)),"pic_parameter_set_rbsp"!==t.nalUnitType||r||(r=t.data,e.pps=[t.data]),a.push(t)},this.flush=function(){for(var n,r,o,l,c,d,u,h,p=0;a.length&&"access_unit_delimiter_rbsp"!==a[0].nalUnitType;)a.shift();if(0===a.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(n=Ot.groupNalsIntoFrames(a),(o=Ot.groupFramesIntoGops(n))[0][0].keyFrame||((r=this.getGopForFusion_(a[0],e))?(p=r.duration,o.unshift(r),o.byteLength+=r.byteLength,o.nalCount+=r.nalCount,o.pts=r.pts,o.dts=r.dts,o.duration+=r.duration):o=Ot.extendFirstKeyFrame(o)),s.length){var m;if(!(m=t.alignGopsAtEnd?this.alignGopsAtEnd_(o):this.alignGopsAtStart_(o)))return this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Pt.clearDtsInfo(e),o=m}Pt.collectDtsInfo(e,o),e.samples=Ot.generateSampleTable(o),c=Nt.mdat(Ot.concatenateNalData(o)),e.baseMediaDecodeTime=Pt.calculateTrackBaseMediaDecodeTime(e,t.keepOriginalTimestamps),this.trigger("processedGopsInfo",o.map((function(e){return{pts:e.pts,dts:e.dts,byteLength:e.byteLength}}))),u=o[0],h=o[o.length-1],this.trigger("segmentTimingInfo",Ht(e.baseMediaDecodeTime,u.dts,u.pts,h.dts+h.duration,h.pts+h.duration,p)),this.trigger("timingInfo",{start:o[0].pts,end:o[o.length-1].pts+o[o.length-1].duration}),this.gopCache_.unshift({gop:o.pop(),pps:e.pps,sps:e.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),a=[],this.trigger("baseMediaDecodeTime",e.baseMediaDecodeTime),this.trigger("timelineStartInfo",e.timelineStartInfo),l=Nt.moof(i,[e]),d=new Uint8Array(l.byteLength+c.byteLength),i++,d.set(l),d.set(c,l.byteLength),this.trigger("data",{track:e,boxes:d}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),a=[],this.gopCache_.length=0,s.length=0,this.trigger("reset")},this.resetStream_=function(){Pt.clearDtsInfo(e),n=void 0,r=void 0},this.getGopForFusion_=function(t){var i,n,r,a,s,o=1/0;for(s=0;s<this.gopCache_.length;s++)r=(a=this.gopCache_[s]).gop,e.pps&&Vt(e.pps[0],a.pps[0])&&e.sps&&Vt(e.sps[0],a.sps[0])&&(r.dts<e.timelineStartInfo.dts||(i=t.dts-r.dts-r.duration)>=-1e4&&i<=45e3&&(!n||o>i)&&(n=a,o=i));return n?n.gop:null},this.alignGopsAtStart_=function(e){var t,i,n,r,a,o,l,c;for(a=e.byteLength,o=e.nalCount,l=e.duration,t=i=0;t<s.length&&i<e.length&&(n=s[t],r=e[i],n.pts!==r.pts);)r.pts>n.pts?t++:(i++,a-=r.byteLength,o-=r.nalCount,l-=r.duration);return 0===i?e:i===e.length?null:((c=e.slice(i)).byteLength=a,c.duration=l,c.nalCount=o,c.pts=c[0].pts,c.dts=c[0].dts,c)},this.alignGopsAtEnd_=function(e){var t,i,n,r,a,o,l;for(t=s.length-1,i=e.length-1,a=null,o=!1;t>=0&&i>=0;){if(n=s[t],r=e[i],n.pts===r.pts){o=!0;break}n.pts>r.pts?t--:(t===s.length-1&&(a=i),i--)}if(!o&&null===a)return null;if(0===(l=o?i:a))return e;var c=e.slice(l),d=c.reduce((function(e,t){return e.byteLength+=t.byteLength,e.duration+=t.duration,e.nalCount+=t.nalCount,e}),{byteLength:0,duration:0,nalCount:0});return c.byteLength=d.byteLength,c.duration=d.duration,c.nalCount=d.nalCount,c.pts=c[0].pts,c.dts=c[0].dts,c},this.alignGopsWith=function(e){s=e}},_t.prototype=new At,kt=function(e,t){this.numberOfTracks=0,this.metadataStream=t,void 0!==(e=e||{}).remux?this.remuxTracks=!!e.remux:this.remuxTracks=!0,"boolean"==typeof e.keepOriginalTimestamps?this.keepOriginalTimestamps=e.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,kt.prototype.init.call(this),this.push=function(e){return e.content||e.text?this.pendingCaptions.push(e):e.frames?this.pendingMetadata.push(e):(this.pendingTracks.push(e.track),this.pendingBytes+=e.boxes.byteLength,"video"===e.track.type&&(this.videoTrack=e.track,this.pendingBoxes.push(e.boxes)),void("audio"===e.track.type&&(this.audioTrack=e.track,this.pendingBoxes.unshift(e.boxes))))}},kt.prototype=new At,kt.prototype.flush=function(e){var t,i,n,r,a=0,s={captions:[],captionStreams:{},metadata:[],info:{}},o=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==e&&"AudioSegmentStream"!==e)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}if(this.videoTrack?(o=this.videoTrack.timelineStartInfo.pts,Ut.forEach((function(e){s.info[e]=this.videoTrack[e]}),this)):this.audioTrack&&(o=this.audioTrack.timelineStartInfo.pts,qt.forEach((function(e){s.info[e]=this.audioTrack[e]}),this)),this.videoTrack||this.audioTrack){for(1===this.pendingTracks.length?s.type=this.pendingTracks[0].type:s.type="combined",this.emittedTracks+=this.pendingTracks.length,n=Nt.initSegment(this.pendingTracks),s.initSegment=new Uint8Array(n.byteLength),s.initSegment.set(n),s.data=new Uint8Array(this.pendingBytes),r=0;r<this.pendingBoxes.length;r++)s.data.set(this.pendingBoxes[r],a),a+=this.pendingBoxes[r].byteLength;for(r=0;r<this.pendingCaptions.length;r++)(t=this.pendingCaptions[r]).startTime=Rt.metadataTsToSeconds(t.startPts,o,this.keepOriginalTimestamps),t.endTime=Rt.metadataTsToSeconds(t.endPts,o,this.keepOriginalTimestamps),s.captionStreams[t.stream]=!0,s.captions.push(t);for(r=0;r<this.pendingMetadata.length;r++)(i=this.pendingMetadata[r]).cueTime=Rt.metadataTsToSeconds(i.pts,o,this.keepOriginalTimestamps),s.metadata.push(i);for(s.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",s),r=0;r<s.captions.length;r++)t=s.captions[r],this.trigger("caption",t);for(r=0;r<s.metadata.length;r++)i=s.metadata[r],this.trigger("id3Frame",i)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},kt.prototype.setRemux=function(e){this.remuxTracks=e},Ct=function(e){var t,i,n=this,r=!0;Ct.prototype.init.call(this),e=e||{},this.baseMediaDecodeTime=e.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="aac",r.metadataStream=new It.MetadataStream,r.aacStream=new jt,r.audioTimestampRolloverStream=new It.TimestampRolloverStream("audio"),r.timedMetadataTimestampRolloverStream=new It.TimestampRolloverStream("timed-metadata"),r.adtsStream=new Lt,r.coalesceStream=new kt(e,r.metadataStream),r.headOfPipeline=r.aacStream,r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),r.metadataStream.on("timestamp",(function(e){r.aacStream.setTimestamp(e.timeStamp)})),r.aacStream.on("data",(function(a){"timed-metadata"!==a.type&&"audio"!==a.type||r.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new St(i,e),r.audioSegmentStream.on("log",n.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!t}))})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),zt(this,r)},this.setupTsPipeline=function(){var r={};this.transmuxPipeline_=r,r.type="ts",r.metadataStream=new It.MetadataStream,r.packetStream=new It.TransportPacketStream,r.parseStream=new It.TransportParseStream,r.elementaryStream=new It.ElementaryStream,r.timestampRolloverStream=new It.TimestampRolloverStream,r.adtsStream=new Lt,r.h264Stream=new Dt,r.captionStream=new It.CaptionStream(e),r.coalesceStream=new kt(e,r.metadataStream),r.headOfPipeline=r.packetStream,r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),r.timestampRolloverStream.pipe(r.h264Stream),r.timestampRolloverStream.pipe(r.adtsStream),r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),r.elementaryStream.on("data",(function(a){var s;if("metadata"===a.type){for(s=a.tracks.length;s--;)t||"video"!==a.tracks[s].type?i||"audio"!==a.tracks[s].type||((i=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(t=a.tracks[s]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime;t&&!r.videoSegmentStream&&(r.coalesceStream.numberOfTracks++,r.videoSegmentStream=new _t(t,e),r.videoSegmentStream.on("log",n.getLogTrigger_("videoSegmentStream")),r.videoSegmentStream.on("timelineStartInfo",(function(t){i&&!e.keepOriginalTimestamps&&(i.timelineStartInfo=t,r.audioSegmentStream.setEarliestDts(t.dts-n.baseMediaDecodeTime))})),r.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),r.videoSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"videoSegmentTimingInfo")),r.videoSegmentStream.on("baseMediaDecodeTime",(function(e){i&&r.audioSegmentStream.setVideoBaseMediaDecodeTime(e)})),r.videoSegmentStream.on("timingInfo",n.trigger.bind(n,"videoTimingInfo")),r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),i&&!r.audioSegmentStream&&(r.coalesceStream.numberOfTracks++,r.audioSegmentStream=new St(i,e),r.audioSegmentStream.on("log",n.getLogTrigger_("audioSegmentStream")),r.audioSegmentStream.on("timingInfo",n.trigger.bind(n,"audioTimingInfo")),r.audioSegmentStream.on("segmentTimingInfo",n.trigger.bind(n,"audioSegmentTimingInfo")),r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),n.trigger("trackinfo",{hasAudio:!!i,hasVideo:!!t})}})),r.coalesceStream.on("data",this.trigger.bind(this,"data")),r.coalesceStream.on("id3Frame",(function(e){e.dispatchType=r.metadataStream.dispatchType,n.trigger("id3Frame",e)})),r.coalesceStream.on("caption",this.trigger.bind(this,"caption")),r.coalesceStream.on("done",this.trigger.bind(this,"done")),zt(this,r)},this.setBaseMediaDecodeTime=function(n){var r=this.transmuxPipeline_;e.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,Pt.clearDtsInfo(i),r.audioTimestampRolloverStream&&r.audioTimestampRolloverStream.discontinuity()),t&&(r.videoSegmentStream&&(r.videoSegmentStream.gopCache_=[]),t.timelineStartInfo.dts=void 0,t.timelineStartInfo.pts=void 0,Pt.clearDtsInfo(t),r.captionStream.reset()),r.timestampRolloverStream&&r.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(e){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e)},this.setRemux=function(t){var i=this.transmuxPipeline_;e.remux=t,i&&i.coalesceStream&&i.coalesceStream.setRemux(t)},this.alignGopsWith=function(e){t&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e)},this.getLogTrigger_=function(e){var t=this;return function(i){i.stream=e,t.trigger("log",i)}},this.push=function(e){if(r){var t=$t(e);t&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():t||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),r=!1}this.transmuxPipeline_.headOfPipeline.push(e)},this.flush=function(){r=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Ct.prototype=new At;var Wt,Gt,Kt,Qt,Yt,Xt={Transmuxer:Ct,VideoSegmentStream:_t,AudioSegmentStream:St,AUDIO_PROPERTIES:qt,VIDEO_PROPERTIES:Ut,generateSegmentTimingInfo:Ht},Jt=function(e){return e>>>0},Zt=function(e){var t="";return t+=String.fromCharCode(e[0]),t+=String.fromCharCode(e[1]),t+=String.fromCharCode(e[2]),t+=String.fromCharCode(e[3])},ei=Jt,ti=Zt,ii=function(e,t){var i,n,r,a,s,o=[];if(!t.length)return null;for(i=0;i<e.byteLength;)n=ei(e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3]),r=ti(e.subarray(i+4,i+8)),a=n>1?i+n:e.byteLength,r===t[0]&&(1===t.length?o.push(e.subarray(i+8,a)):(s=ii(e.subarray(i+8,a),t.slice(1))).length&&(o=o.concat(s))),i=a;return o},ni=Jt,ri=V.getUint64,ai=function(e){var t={version:e[0],flags:new Uint8Array(e.subarray(1,4))};return 1===t.version?t.baseMediaDecodeTime=ri(e.subarray(4)):t.baseMediaDecodeTime=ni(e[4]<<24|e[5]<<16|e[6]<<8|e[7]),t},si=function(e){return{isLeading:(12&e[0])>>>2,dependsOn:3&e[0],isDependedOn:(192&e[1])>>>6,hasRedundancy:(48&e[1])>>>4,paddingValue:(14&e[1])>>>1,isNonSyncSample:1&e[1],degradationPriority:e[2]<<8|e[3]}},oi=si,li=function(e){var t,i={version:e[0],flags:new Uint8Array(e.subarray(1,4)),samples:[]},n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=1&i.flags[2],a=4&i.flags[2],s=1&i.flags[1],o=2&i.flags[1],l=4&i.flags[1],c=8&i.flags[1],d=n.getUint32(4),u=8;for(r&&(i.dataOffset=n.getInt32(u),u+=4),a&&d&&(t={flags:oi(e.subarray(u,u+4))},u+=4,s&&(t.duration=n.getUint32(u),u+=4),o&&(t.size=n.getUint32(u),u+=4),c&&(1===i.version?t.compositionTimeOffset=n.getInt32(u):t.compositionTimeOffset=n.getUint32(u),u+=4),i.samples.push(t),d--);d--;)t={},s&&(t.duration=n.getUint32(u),u+=4),o&&(t.size=n.getUint32(u),u+=4),l&&(t.flags=oi(e.subarray(u,u+4)),u+=4),c&&(1===i.version?t.compositionTimeOffset=n.getInt32(u):t.compositionTimeOffset=n.getUint32(u),u+=4),i.samples.push(t);return i},ci=function(e){var t,i=new DataView(e.buffer,e.byteOffset,e.byteLength),n={version:e[0],flags:new Uint8Array(e.subarray(1,4)),trackId:i.getUint32(4)},r=1&n.flags[2],a=2&n.flags[2],s=8&n.flags[2],o=16&n.flags[2],l=32&n.flags[2],c=65536&n.flags[0],d=131072&n.flags[0];return t=8,r&&(t+=4,n.baseDataOffset=i.getUint32(12),t+=4),a&&(n.sampleDescriptionIndex=i.getUint32(t),t+=4),s&&(n.defaultSampleDuration=i.getUint32(t),t+=4),o&&(n.defaultSampleSize=i.getUint32(t),t+=4),l&&(n.defaultSampleFlags=i.getUint32(t)),c&&(n.durationIsEmpty=!0),!r&&d&&(n.baseDataOffsetIsMoof=!0),n},di=(Wt="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},pe.discardEmulationPreventionBytes),ui=ke.CaptionStream,hi=ii,pi=ai,mi=li,fi=ci,gi=Wt,yi=function(e,t){for(var i=e,n=0;n<t.length;n++){var r=t[n];if(i<r.size)return r;i-=r.size}return null},bi=function(e,t){var i=hi(e,["moof","traf"]),n=hi(e,["mdat"]),r={},a=[];return n.forEach((function(e,t){var n=i[t];a.push({mdat:e,traf:n})})),a.forEach((function(e){var i,n,a=e.mdat,s=e.traf,o=hi(s,["tfhd"]),l=fi(o[0]),c=l.trackId,d=hi(s,["tfdt"]),u=d.length>0?pi(d[0]).baseMediaDecodeTime:0,h=hi(s,["trun"]);t===c&&h.length>0&&(i=function(e,t,i){var n=t,r=i.defaultSampleDuration||0,a=i.defaultSampleSize||0,s=i.trackId,o=[];return e.forEach((function(e){var t=mi(e).samples;t.forEach((function(e){void 0===e.duration&&(e.duration=r),void 0===e.size&&(e.size=a),e.trackId=s,e.dts=n,void 0===e.compositionTimeOffset&&(e.compositionTimeOffset=0),"bigint"==typeof n?(e.pts=n+gi.BigInt(e.compositionTimeOffset),n+=gi.BigInt(e.duration)):(e.pts=n+e.compositionTimeOffset,n+=e.duration)})),o=o.concat(t)})),o}(h,u,l),n=function(e,t,i){var n,r,a,s,o=new DataView(e.buffer,e.byteOffset,e.byteLength),l={logs:[],seiNals:[]};for(r=0;r+4<e.length;r+=a)if(a=o.getUint32(r),r+=4,!(a<=0))switch(31&e[r]){case 6:var c=e.subarray(r+1,r+1+a),d=yi(r,t);if(n={nalUnitType:"sei_rbsp",size:a,data:c,escapedRBSP:di(c),trackId:i},d)n.pts=d.pts,n.dts=d.dts,s=d;else{if(!s){l.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+r+" for trackId "+i+". See mux.js#223."});break}n.pts=s.pts,n.dts=s.dts}l.seiNals.push(n)}return l}(a,i,c),r[c]||(r[c]={seiNals:[],logs:[]}),r[c].seiNals=r[c].seiNals.concat(n.seiNals),r[c].logs=r[c].logs.concat(n.logs))})),r},vi=function(){var e,t,i,n,r,a,s=!1;this.isInitialized=function(){return s},this.init=function(t){e=new ui,s=!0,a=!!t&&t.isPartial,e.on("data",(function(e){e.startTime=e.startPts/n,e.endTime=e.endPts/n,r.captions.push(e),r.captionStreams[e.stream]=!0})),e.on("log",(function(e){r.logs.push(e)}))},this.isNewInit=function(e,t){return!(e&&0===e.length||t&&"object"==typeof t&&0===Object.keys(t).length)&&(i!==e[0]||n!==t[i])},this.parse=function(e,a,s){var o;if(!this.isInitialized())return null;if(!a||!s)return null;if(this.isNewInit(a,s))i=a[0],n=s[i];else if(null===i||!n)return t.push(e),null;for(;t.length>0;){var l=t.shift();this.parse(l,a,s)}return o=function(e,t,i){if(null===t)return null;var n=bi(e,t)[t]||{};return{seiNals:n.seiNals,logs:n.logs,timescale:i}}(e,i,n),o&&o.logs&&(r.logs=r.logs.concat(o.logs)),null!==o&&o.seiNals?(this.pushNals(o.seiNals),this.flushStream(),r):r.logs.length?{logs:r.logs,captions:[],captionStreams:[]}:null},this.pushNals=function(t){if(!this.isInitialized()||!t||0===t.length)return null;t.forEach((function(t){e.push(t)}))},this.flushStream=function(){if(!this.isInitialized())return null;a?e.partialFlush():e.flush()},this.clearParsedCaptions=function(){r.captions=[],r.captionStreams={},r.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;e.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){t=[],i=null,n=null,r?this.clearParsedCaptions():r={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},wi=function(e){for(var t=0,i=String.fromCharCode(e[t]),n="";"\0"!==i;)n+=i,t++,i=String.fromCharCode(e[t]);return n+=i},Ti=V.getUint64,xi=function(e,t){var i="\0"!==t.scheme_id_uri,n=0===e&&Ei(t.presentation_time_delta)&&i,r=1===e&&Ei(t.presentation_time)&&i;return!(e>1)&&n||r},Ei=function(e){return void 0!==e||null!==e},_i={parseEmsgBox:function(e){var t,i,n,r,a,s,o,l=4,c=e[0];if(0===c)l+=(t=wi(e.subarray(l))).length,l+=(i=wi(e.subarray(l))).length,n=(d=new DataView(e.buffer)).getUint32(l),l+=4,a=d.getUint32(l),l+=4,s=d.getUint32(l),l+=4,o=d.getUint32(l),l+=4;else if(1===c){var d;n=(d=new DataView(e.buffer)).getUint32(l),l+=4,r=Ti(e.subarray(l)),l+=8,s=d.getUint32(l),l+=4,o=d.getUint32(l),l+=4,l+=(t=wi(e.subarray(l))).length,l+=(i=wi(e.subarray(l))).length}var u={scheme_id_uri:t,value:i,timescale:n||1,presentation_time:r,presentation_time_delta:a,event_duration:s,id:o,message_data:new Uint8Array(e.subarray(l,e.byteLength))};return xi(c,u)?u:void 0},scaleTime:function(e,t,i,n){return e||0===e?e/t:n+i/t}},Si=Jt,Ci=function(e){return("00"+e.toString(16)).slice(-2)},ki=ii,Ai=Zt,Ni=_i,Oi=ci,Mi=li,Pi=ai,Ii=V.getUint64,Ri=Wt,Li=ze.parseId3Frames;Gt=function(e,t){var i=ki(t,["moof","traf"]).reduce((function(t,i){var n,r=ki(i,["tfhd"])[0],a=Si(r[4]<<24|r[5]<<16|r[6]<<8|r[7]),s=e[a]||9e4,o=ki(i,["tfdt"])[0],l=new DataView(o.buffer,o.byteOffset,o.byteLength);let c;return"bigint"==typeof(n=1===o[0]?Ii(o.subarray(4,12)):l.getUint32(4))?c=n/Ri.BigInt(s):"number"!=typeof n||isNaN(n)||(c=n/s),c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),c<t&&(t=c),t}),1/0);return"bigint"==typeof i||isFinite(i)?i:0},Qt=function(e){var t=0===e[0]?12:20;return Si(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])},Kt=function(e){var t=ki(e,["moov","trak"]),i=[];return t.forEach((function(e){var t,n,r={},a=ki(e,["tkhd"])[0];a&&(n=(t=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0),r.id=0===n?t.getUint32(12):t.getUint32(20));var s=ki(e,["mdia","hdlr"])[0];if(s){var o=Ai(s.subarray(8,12));r.type="vide"===o?"video":"soun"===o?"audio":o}var l=ki(e,["mdia","minf","stbl","stsd"])[0];if(l){var c=l.subarray(8);r.codec=Ai(c.subarray(4,8));var d,u=ki(c,[r.codec])[0];u&&(/^[asm]vc[1-9]$/i.test(r.codec)?(d=u.subarray(78),"avcC"===Ai(d.subarray(4,8))&&d.length>11?(r.codec+=".",r.codec+=Ci(d[9]),r.codec+=Ci(d[10]),r.codec+=Ci(d[11])):r.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(r.codec)?(d=u.subarray(28),"esds"===Ai(d.subarray(4,8))&&d.length>20&&0!==d[19]?(r.codec+="."+Ci(d[19]),r.codec+="."+Ci(d[20]>>>2&63).replace(/^0/,"")):r.codec="mp4a.40.2"):r.codec=r.codec.toLowerCase())}var h=ki(e,["mdia","mdhd"])[0];h&&(r.timescale=Qt(h)),i.push(r)})),i},Yt=function(e,t=0){return ki(e,["emsg"]).map((e=>{var i=Ni.parseEmsgBox(new Uint8Array(e)),n=Li(i.message_data);return{cueTime:Ni.scaleTime(i.presentation_time,i.timescale,i.presentation_time_delta,t),duration:Ni.scaleTime(i.event_duration,i.timescale),frames:n}}))};var Di=Gt,ji=Kt,$i=Yt,Bi=Ae,qi=function(e){var t=31&e[1];return t<<=8,t|=e[2]},Ui=function(e){return!!(64&e[1])},Fi=function(e){var t=0;return(48&e[3])>>>4>1&&(t+=e[4]+1),t},zi=function(e){switch(e){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Vi={parseType:function(e,t){var i=qi(e);return 0===i?"pat":i===t?"pmt":t?"pes":null},parsePat:function(e){var t=Ui(e),i=4+Fi(e);return t&&(i+=e[i]+1),(31&e[i+10])<<8|e[i+11]},parsePmt:function(e){var t={},i=Ui(e),n=4+Fi(e);if(i&&(n+=e[n]+1),1&e[n+5]){var r;r=3+((15&e[n+1])<<8|e[n+2])-4;for(var a=12+((15&e[n+10])<<8|e[n+11]);a<r;){var s=n+a;t[(31&e[s+1])<<8|e[s+2]]=e[s],a+=5+((15&e[s+3])<<8|e[s+4])}return t}},parsePayloadUnitStartIndicator:Ui,parsePesType:function(e,t){switch(t[qi(e)]){case Bi.H264_STREAM_TYPE:return"video";case Bi.ADTS_STREAM_TYPE:return"audio";case Bi.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(e){if(!Ui(e))return null;var t=4+Fi(e);if(t>=e.byteLength)return null;var i,n=null;return 192&(i=e[t+7])&&((n={}).pts=(14&e[t+9])<<27|(255&e[t+10])<<20|(254&e[t+11])<<12|(255&e[t+12])<<5|(254&e[t+13])>>>3,n.pts*=4,n.pts+=(6&e[t+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&e[t+14])<<27|(255&e[t+15])<<20|(254&e[t+16])<<12|(255&e[t+17])<<5|(254&e[t+18])>>>3,n.dts*=4,n.dts+=(6&e[t+18])>>>1)),n},videoPacketContainsKeyFrame:function(e){for(var t=4+Fi(e),i=e.subarray(t),n=0,r=0,a=!1;r<i.byteLength-3;r++)if(1===i[r+2]){n=r+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}r+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===zi(31&i[r+3])&&(a=!0);do{n++}while(1!==i[n]&&n<i.length);r=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===zi(31&i[r+3])&&(a=!0),r=n-2,n+=3;break;default:n+=3}return i=i.subarray(r),n-=r,r=0,i&&i.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===zi(31&i[r+3])&&(a=!0),a}},Hi=Ae,Wi=Re.handleRollover,Gi={};Gi.ts=Vi,Gi.aac=xt;var Ki=oe.ONE_SECOND_IN_TS,Qi=188,Yi=71,Xi=function(e,t,i){for(var n,r,a,s,o=0,l=Qi,c=!1;l<=e.byteLength;)if(e[o]!==Yi||e[l]!==Yi&&l!==e.byteLength)o++,l++;else{if(n=e.subarray(o,l),"pes"===Gi.ts.parseType(n,t.pid))r=Gi.ts.parsePesType(n,t.table),a=Gi.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&a&&(s=Gi.ts.parsePesTime(n))&&(s.type="audio",i.audio.push(s),c=!0);if(c)break;o+=Qi,l+=Qi}for(o=(l=e.byteLength)-Qi,c=!1;o>=0;)if(e[o]!==Yi||e[l]!==Yi&&l!==e.byteLength)o--,l--;else{if(n=e.subarray(o,l),"pes"===Gi.ts.parseType(n,t.pid))r=Gi.ts.parsePesType(n,t.table),a=Gi.ts.parsePayloadUnitStartIndicator(n),"audio"===r&&a&&(s=Gi.ts.parsePesTime(n))&&(s.type="audio",i.audio.push(s),c=!0);if(c)break;o-=Qi,l-=Qi}},Ji=function(e,t,i){for(var n,r,a,s,o,l,c,d=0,u=Qi,h=!1,p={data:[],size:0};u<e.byteLength;)if(e[d]!==Yi||e[u]!==Yi)d++,u++;else{if(n=e.subarray(d,u),"pes"===Gi.ts.parseType(n,t.pid))if(r=Gi.ts.parsePesType(n,t.table),a=Gi.ts.parsePayloadUnitStartIndicator(n),"video"===r&&(a&&!h&&(s=Gi.ts.parsePesTime(n))&&(s.type="video",i.video.push(s),h=!0),!i.firstKeyFrame)){if(a&&0!==p.size){for(o=new Uint8Array(p.size),l=0;p.data.length;)c=p.data.shift(),o.set(c,l),l+=c.byteLength;if(Gi.ts.videoPacketContainsKeyFrame(o)){var m=Gi.ts.parsePesTime(o);m?(i.firstKeyFrame=m,i.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}p.size=0}p.data.push(n),p.size+=n.byteLength}if(h&&i.firstKeyFrame)break;d+=Qi,u+=Qi}for(d=(u=e.byteLength)-Qi,h=!1;d>=0;)if(e[d]!==Yi||e[u]!==Yi)d--,u--;else{if(n=e.subarray(d,u),"pes"===Gi.ts.parseType(n,t.pid))r=Gi.ts.parsePesType(n,t.table),a=Gi.ts.parsePayloadUnitStartIndicator(n),"video"===r&&a&&(s=Gi.ts.parsePesTime(n))&&(s.type="video",i.video.push(s),h=!0);if(h)break;d-=Qi,u-=Qi}},Zi=function(e){var t={pid:null,table:null},i={};for(var n in function(e,t){for(var i,n=0,r=Qi;r<e.byteLength;)if(e[n]!==Yi||e[r]!==Yi)n++,r++;else{switch(i=e.subarray(n,r),Gi.ts.parseType(i,t.pid)){case"pat":t.pid=Gi.ts.parsePat(i);break;case"pmt":var a=Gi.ts.parsePmt(i);t.table=t.table||{},Object.keys(a).forEach((function(e){t.table[e]=a[e]}))}n+=Qi,r+=Qi}}(e,t),t.table){if(t.table.hasOwnProperty(n))switch(t.table[n]){case Hi.H264_STREAM_TYPE:i.video=[],Ji(e,t,i),0===i.video.length&&delete i.video;break;case Hi.ADTS_STREAM_TYPE:i.audio=[],Xi(e,t,i),0===i.audio.length&&delete i.audio}}return i},en=function(e,t){var i;return i=Gi.aac.isLikelyAacData(e)?function(e){for(var t,i=!1,n=0,r=null,a=null,s=0,o=0;e.length-o>=3;){switch(Gi.aac.parseType(e,o)){case"timed-metadata":if(e.length-o<10){i=!0;break}if((s=Gi.aac.parseId3TagSize(e,o))>e.length){i=!0;break}null===a&&(t=e.subarray(o,o+s),a=Gi.aac.parseAacTimestamp(t)),o+=s;break;case"audio":if(e.length-o<7){i=!0;break}if((s=Gi.aac.parseAdtsSize(e,o))>e.length){i=!0;break}null===r&&(t=e.subarray(o,o+s),r=Gi.aac.parseSampleRate(t)),n++,o+=s;break;default:o++}if(i)return null}if(null===r||null===a)return null;var l=Ki/r;return{audio:[{type:"audio",dts:a,pts:a},{type:"audio",dts:a+1024*n*l,pts:a+1024*n*l}]}}(e):Zi(e),i&&(i.audio||i.video)?(function(e,t){if(e.audio&&e.audio.length){var i=t;(void 0===i||isNaN(i))&&(i=e.audio[0].dts),e.audio.forEach((function(e){e.dts=Wi(e.dts,i),e.pts=Wi(e.pts,i),e.dtsTime=e.dts/Ki,e.ptsTime=e.pts/Ki}))}if(e.video&&e.video.length){var n=t;if((void 0===n||isNaN(n))&&(n=e.video[0].dts),e.video.forEach((function(e){e.dts=Wi(e.dts,n),e.pts=Wi(e.pts,n),e.dtsTime=e.dts/Ki,e.ptsTime=e.pts/Ki})),e.firstKeyFrame){var r=e.firstKeyFrame;r.dts=Wi(r.dts,n),r.pts=Wi(r.pts,n),r.dtsTime=r.dts/Ki,r.ptsTime=r.pts/Ki}}}(i,t),i):null};class tn{constructor(e,t){this.options=t||{},this.self=e,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Xt.Transmuxer(this.options),function(e,t){t.on("data",(function(t){const i=t.initSegment;t.initSegment={data:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength};const n=t.data;t.data=n.buffer,e.postMessage({action:"data",segment:t,byteOffset:n.byteOffset,byteLength:n.byteLength},[t.data])})),t.on("done",(function(t){e.postMessage({action:"done"})})),t.on("gopInfo",(function(t){e.postMessage({action:"gopInfo",gopInfo:t})})),t.on("videoSegmentTimingInfo",(function(t){const i={start:{decode:oe.videoTsToSeconds(t.start.dts),presentation:oe.videoTsToSeconds(t.start.pts)},end:{decode:oe.videoTsToSeconds(t.end.dts),presentation:oe.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:oe.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(i.prependedContentDuration=oe.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:i})})),t.on("audioSegmentTimingInfo",(function(t){const i={start:{decode:oe.videoTsToSeconds(t.start.dts),presentation:oe.videoTsToSeconds(t.start.pts)},end:{decode:oe.videoTsToSeconds(t.end.dts),presentation:oe.videoTsToSeconds(t.end.pts)},baseMediaDecodeTime:oe.videoTsToSeconds(t.baseMediaDecodeTime)};t.prependedContentDuration&&(i.prependedContentDuration=oe.videoTsToSeconds(t.prependedContentDuration)),e.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:i})})),t.on("id3Frame",(function(t){e.postMessage({action:"id3Frame",id3Frame:t})})),t.on("caption",(function(t){e.postMessage({action:"caption",caption:t})})),t.on("trackinfo",(function(t){e.postMessage({action:"trackinfo",trackInfo:t})})),t.on("audioTimingInfo",(function(t){e.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:oe.videoTsToSeconds(t.start),end:oe.videoTsToSeconds(t.end)}})})),t.on("videoTimingInfo",(function(t){e.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:oe.videoTsToSeconds(t.start),end:oe.videoTsToSeconds(t.end)}})})),t.on("log",(function(t){e.postMessage({action:"log",log:t})}))}(this.self,this.transmuxer)}pushMp4Captions(e){this.captionParser||(this.captionParser=new vi,this.captionParser.init());const t=new Uint8Array(e.data,e.byteOffset,e.byteLength),i=this.captionParser.parse(t,e.trackIds,e.timescales);this.self.postMessage({action:"mp4Captions",captions:i&&i.captions||[],logs:i&&i.logs||[],data:t.buffer},[t.buffer])}probeMp4StartTime({timescales:e,data:t}){const i=Di(e,t);this.self.postMessage({action:"probeMp4StartTime",startTime:i,data:t},[t.buffer])}probeMp4Tracks({data:e}){const t=ji(e);this.self.postMessage({action:"probeMp4Tracks",tracks:t,data:e},[e.buffer])}probeEmsgID3({data:e,offset:t}){const i=$i(e,t);this.self.postMessage({action:"probeEmsgID3",id3Frames:i,emsgData:e},[e.buffer])}probeTs({data:e,baseStartTime:t}){const i="number"!=typeof t||isNaN(t)?void 0:t*oe.ONE_SECOND_IN_TS,n=en(e,i);let r=null;n&&(r={hasVideo:n.video&&2===n.video.length||!1,hasAudio:n.audio&&2===n.audio.length||!1},r.hasVideo&&(r.videoStart=n.video[0].ptsTime),r.hasAudio&&(r.audioStart=n.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:r,data:e},[e.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(e){const t=new Uint8Array(e.data,e.byteOffset,e.byteLength);this.transmuxer.push(t)}reset(){this.transmuxer.reset()}setTimestampOffset(e){const t=e.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(oe.secondsToVideoTs(t)))}setAudioAppendStart(e){this.transmuxer.setAudioAppendStart(Math.ceil(oe.secondsToVideoTs(e.appendStart)))}setRemux(e){this.transmuxer.setRemux(e.remux)}flush(e){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(e){this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice())}}self.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new tn(self,e.data.options):(this.messageHandlers||(this.messageHandlers=new tn(self)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}})));var hQ=lQ(uQ);const pQ=e=>{const{transmuxer:t,bytes:i,audioAppendStart:n,gopsToAlignWith:r,remux:a,onData:s,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:c,onVideoSegmentTimingInfo:d,onAudioSegmentTimingInfo:u,onId3:h,onCaptions:p,onDone:m,onEndedTimeline:f,onTransmuxerLog:g,isEndOfTimeline:y}=e,b={buffer:[]};let v=y;if(t.onmessage=i=>{t.currentTransmux===e&&("data"===i.data.action&&((e,t,i)=>{const{type:n,initSegment:r,captions:a,captionStreams:s,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:c}=e.data.segment;t.buffer.push({captions:a,captionStreams:s,metadata:o});const d=e.data.segment.boxes||{data:e.data.segment.data},u={type:n,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};void 0!==l&&(u.videoFrameDtsTime=l),void 0!==c&&(u.videoFramePtsTime=c),i(u)})(i,b,s),"trackinfo"===i.data.action&&o(i.data.trackInfo),"gopInfo"===i.data.action&&((e,t)=>{t.gopInfo=e.data.gopInfo})(i,b),"audioTimingInfo"===i.data.action&&l(i.data.audioTimingInfo),"videoTimingInfo"===i.data.action&&c(i.data.videoTimingInfo),"videoSegmentTimingInfo"===i.data.action&&d(i.data.videoSegmentTimingInfo),"audioSegmentTimingInfo"===i.data.action&&u(i.data.audioSegmentTimingInfo),"id3Frame"===i.data.action&&h([i.data.id3Frame],i.data.id3Frame.dispatchType),"caption"===i.data.action&&p(i.data.caption),"endedtimeline"===i.data.action&&(v=!1,f()),"log"===i.data.action&&g(i.data.log),"transmuxed"===i.data.type&&(v||(t.onmessage=null,(({transmuxedData:e,callback:t})=>{e.buffer=[],t(e)})({transmuxedData:b,callback:m}),mQ(t))))},n&&t.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(r)&&t.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),void 0!==a&&t.postMessage({action:"setRemux",remux:a}),i.byteLength){const e=i instanceof ArrayBuffer?i:i.buffer,n=i instanceof ArrayBuffer?0:i.byteOffset;t.postMessage({action:"push",data:e,byteOffset:n,byteLength:i.byteLength},[e])}y&&t.postMessage({action:"endTimeline"}),t.postMessage({action:"flush"})},mQ=e=>{e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),"function"==typeof e.currentTransmux?e.currentTransmux():pQ(e.currentTransmux))},fQ=(e,t)=>{e.postMessage({action:t}),mQ(e)},gQ=(e,t)=>{if(!t.currentTransmux)return t.currentTransmux=e,void fQ(t,e);t.transmuxQueue.push(fQ.bind(null,t,e))},yQ=e=>{if(!e.transmuxer.currentTransmux)return e.transmuxer.currentTransmux=e,void pQ(e);e.transmuxer.transmuxQueue.push(e)};var bQ=e=>{gQ("reset",e)},vQ=e=>{const t=new hQ;t.currentTransmux=null,t.transmuxQueue=[];const i=t.terminate;return t.terminate=()=>(t.currentTransmux=null,t.transmuxQueue.length=0,i.call(t)),t.postMessage({action:"init",options:e}),t};const wQ=function(e){const t=e.transmuxer,i=e.endAction||e.action,n=e.callback,r=bu({},e,{endAction:null,transmuxer:null,callback:null}),a=r=>{r.data.action===i&&(t.removeEventListener("message",a),r.data.data&&(r.data.data=new Uint8Array(r.data.data,e.byteOffset||0,e.byteLength||r.data.data.byteLength),e.data&&(e.data=r.data.data)),n(r.data))};if(t.addEventListener("message",a),e.data){const i=e.data instanceof ArrayBuffer;r.byteOffset=i?0:e.data.byteOffset,r.byteLength=e.data.byteLength;const n=[i?e.data:e.data.buffer];t.postMessage(r,n)}else t.postMessage(r)},TQ=2,xQ=-101,EQ=-102,_Q=e=>{e.forEach((e=>{e.abort()}))},SQ=(e,t)=>t.timedout?{status:t.status,message:"HLS request timed-out at URL: "+t.uri,code:xQ,xhr:t}:t.aborted?{status:t.status,message:"HLS request aborted at URL: "+t.uri,code:EQ,xhr:t}:e?{status:t.status,message:"HLS request errored at URL: "+t.uri,code:TQ,xhr:t}:"arraybuffer"===t.responseType&&0===t.response.byteLength?{status:t.status,message:"Empty HLS response at URL: "+t.uri,code:TQ,xhr:t}:null,CQ=(e,t,i)=>(n,r)=>{const a=r.response,s=SQ(n,r);if(s)return i(s,e);if(16!==a.byteLength)return i({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:TQ,xhr:r},e);const o=new DataView(a),l=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]);for(let e=0;e<t.length;e++)t[e].bytes=l;return i(null,e)},kQ=(e,t)=>{const i=RF(e.map.bytes);if("mp4"!==i){const n=e.map.resolvedUri||e.map.uri;return t({internal:!0,message:`Found unsupported ${i||"unknown"} container for initialization segment at URL: ${n}`,code:TQ})}wQ({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:({tracks:i,data:n})=>(e.map.bytes=n,i.forEach((function(t){e.map.tracks=e.map.tracks||{},e.map.tracks[t.type]||(e.map.tracks[t.type]=t,"number"==typeof t.id&&t.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[t.id]=t.timescale))})),t(null))})},AQ=({segment:e,finishProcessingFn:t,responseType:i})=>(n,r)=>{const a=SQ(n,r);if(a)return t(a,e);const s="arraybuffer"!==i&&r.responseText?(e=>{const t=new Uint8Array(new ArrayBuffer(e.length));for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t.buffer})(r.responseText.substring(e.lastReachedChar||0)):r.response;return e.stats=(e=>({bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}))(r),e.key?e.encryptedBytes=new Uint8Array(s):e.bytes=new Uint8Array(s),t(null,e)},NQ=({segment:e,bytes:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})=>{const p=e.map&&e.map.tracks||{},m=Boolean(p.audio&&p.video);let f=n.bind(null,e,"audio","start");const g=n.bind(null,e,"audio","end");let y=n.bind(null,e,"video","start");const b=n.bind(null,e,"video","end");wQ({action:"probeTs",transmuxer:e.transmuxer,data:t,baseStartTime:e.baseStartTime,callback:n=>{e.bytes=t=n.data;const p=n.result;p&&(i(e,{hasAudio:p.hasAudio,hasVideo:p.hasVideo,isMuxed:m}),i=null,p.hasAudio&&!m&&f(p.audioStart),p.hasVideo&&y(p.videoStart),f=null,y=null),yQ({bytes:t,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,remux:m,onData:t=>{t.type="combined"===t.type?"video":t.type,d(e,t)},onTrackInfo:t=>{i&&(m&&(t.isMuxed=!0),i(e,t))},onAudioTimingInfo:e=>{f&&void 0!==e.start&&(f(e.start),f=null),g&&void 0!==e.end&&g(e.end)},onVideoTimingInfo:e=>{y&&void 0!==e.start&&(y(e.start),y=null),b&&void 0!==e.end&&b(e.end)},onVideoSegmentTimingInfo:e=>{r(e)},onAudioSegmentTimingInfo:e=>{a(e)},onId3:(t,i)=>{s(e,t,i)},onCaptions:t=>{o(e,[t])},isEndOfTimeline:l,onEndedTimeline:()=>{c()},onTransmuxerLog:h,onDone:t=>{u&&(t.type="combined"===t.type?"video":t.type,u(null,e,t))}})}})},OQ=({segment:e,bytes:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})=>{let p=new Uint8Array(t);if(function(e){return mF(e,["moof"]).length>0}(p)){e.isFmp4=!0;const{tracks:r}=e.map,a={isFmp4:!0,hasVideo:!!r.video,hasAudio:!!r.audio};r.audio&&r.audio.codec&&"enca"!==r.audio.codec&&(a.audioCodec=r.audio.codec),r.video&&r.video.codec&&"encv"!==r.video.codec&&(a.videoCodec=r.video.codec),r.video&&r.audio&&(a.isMuxed=!0),i(e,a);const l=(t,i)=>{d(e,{data:p,type:a.hasAudio&&!a.isMuxed?"audio":"video"}),i&&i.length&&s(e,i),t&&t.length&&o(e,t),u(null,e,{})};wQ({action:"probeMp4StartTime",timescales:e.map.timescales,data:p,transmuxer:e.transmuxer,callback:({data:i,startTime:s})=>{t=i.buffer,e.bytes=p=i,a.hasAudio&&!a.isMuxed&&n(e,"audio","start",s),a.hasVideo&&n(e,"video","start",s),wQ({action:"probeEmsgID3",data:p,transmuxer:e.transmuxer,offset:s,callback:({emsgData:n,id3Frames:a})=>{t=n.buffer,e.bytes=p=n,r.video&&i.byteLength&&e.transmuxer?wQ({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:e.transmuxer,data:p,timescales:e.map.timescales,trackIds:[r.video.id],callback:i=>{t=i.data.buffer,e.bytes=p=i.data,i.logs.forEach((function(e){h(GG(e,{stream:"mp4CaptionParser"}))})),l(i.captions,a)}}):l(void 0,a)}})}})}else if(e.transmuxer){if(void 0===e.container&&(e.container=RF(p)),"ts"!==e.container&&"aac"!==e.container)return i(e,{hasAudio:!1,hasVideo:!1}),void u(null,e,{});NQ({segment:e,bytes:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})}else u(null,e,{})},MQ=function({id:e,key:t,encryptedBytes:i,decryptionWorker:n},r){const a=t=>{if(t.data.source===e){n.removeEventListener("message",a);const e=t.data.decrypted;r(new Uint8Array(e.bytes,e.byteOffset,e.byteLength))}};let s;n.addEventListener("message",a),s=t.bytes.slice?t.bytes.slice():new Uint32Array(Array.prototype.slice.call(t.bytes)),n.postMessage(VK({source:e,encrypted:i,key:s,iv:t.iv}),[i.buffer,s.buffer])},PQ=({activeXhrs:e,decryptionWorker:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})=>{let p=0,m=!1;return(f,g)=>{if(!m){if(f)return m=!0,_Q(e),u(f,g);if(p+=1,p===e.length){const p=function(){if(g.encryptedBytes)return(({decryptionWorker:e,segment:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})=>{MQ({id:t.requestId,key:t.key,encryptedBytes:t.encryptedBytes,decryptionWorker:e},(e=>{t.bytes=e,OQ({segment:t,bytes:t.bytes,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})}))})({decryptionWorker:t,segment:g,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h});OQ({segment:g,bytes:g.bytes,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d,doneFn:u,onTransmuxerLog:h})};if(g.endOfAllRequests=Date.now(),g.map&&g.map.encryptedBytes&&!g.map.bytes)return MQ({decryptionWorker:t,id:g.requestId+"-init",encryptedBytes:g.map.encryptedBytes,key:g.map.key},(t=>{g.map.bytes=t,kQ(g,(t=>{if(t)return _Q(e),u(t,g);p()}))}));p()}}}},IQ=({segment:e,progressFn:t,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:a,id3Fn:s,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:d})=>i=>{if(!i.target.aborted)return e.stats=GG(e.stats,(e=>{const t=e.target,i={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-t.requestTime||0};return i.bytesReceived=e.loaded,i.bandwidth=Math.floor(i.bytesReceived/i.roundTripTime*8*1e3),i})(i)),!e.stats.firstBytesReceivedAt&&e.stats.bytesReceived&&(e.stats.firstBytesReceivedAt=Date.now()),t(i,e)},RQ=({xhr:e,xhrOptions:t,decryptionWorker:i,segment:n,abortFn:r,progressFn:a,trackInfoFn:s,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:f,onTransmuxerLog:g})=>{const y=[],b=PQ({activeXhrs:y,decryptionWorker:i,trackInfoFn:s,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m,doneFn:f,onTransmuxerLog:g});if(n.key&&!n.key.bytes){const i=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&i.push(n.map.key);const r=e(GG(t,{uri:n.key.resolvedUri,responseType:"arraybuffer"}),CQ(n,i,b));y.push(r)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const i=e(GG(t,{uri:n.map.key.resolvedUri,responseType:"arraybuffer"}),CQ(n,[n.map.key],b));y.push(i)}const i=GG(t,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:qK(n.map)}),r=(({segment:e,finishProcessingFn:t})=>(i,n)=>{const r=SQ(i,n);if(r)return t(r,e);const a=new Uint8Array(n.response);if(e.map.key)return e.map.encryptedBytes=a,t(null,e);e.map.bytes=a,kQ(e,(function(i){if(i)return i.xhr=n,i.status=n.status,t(i,e);t(null,e)}))})({segment:n,finishProcessingFn:b}),a=e(i,r);y.push(a)}const v=GG(t,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:qK(n)}),w=e(v,AQ({segment:n,finishProcessingFn:b,responseType:v.responseType}));w.addEventListener("progress",IQ({segment:n,progressFn:a,trackInfoFn:s,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:d,captionsFn:u,isEndOfTimeline:h,endedTimelineFn:p,dataFn:m})),y.push(w);const T={};return y.forEach((e=>{e.addEventListener("loadend",(({loadendState:e,abortFn:t})=>i=>{i.target.aborted&&t&&!e.calledAbortFn&&(t(),e.calledAbortFn=!0)})({loadendState:T,abortFn:r}))})),()=>_Q(y)},LQ=WG("CodecUtils"),DQ=(e,t)=>{const i=t.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&i.AUDIO&&e.mediaGroups.AUDIO[i.AUDIO]},jQ=function(e){const t={};return e.forEach((({mediaType:e,type:i,details:n})=>{t[e]=t[e]||[],t[e].push(M$(`${i}${n}`))})),Object.keys(t).forEach((function(e){if(t[e].length>1)return LQ(`multiple ${e} codecs found as attributes: ${t[e].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),void(t[e]=null);t[e]=t[e][0]})),t},$Q=function(e){let t=0;return e.audio&&t++,e.video&&t++,t},BQ=function(e,t){const i=t.attributes||{},n=jQ(function(e){const t=e.attributes||{};if(t.CODECS)return P$(t.CODECS)}(t)||[]);if(DQ(e,t)&&!n.audio&&!((e,t)=>{if(!DQ(e,t))return!0;const i=t.attributes||{},n=e.mediaGroups.AUDIO[i.AUDIO];for(const r in n)if(!n[r].uri&&!n[r].playlists)return!0;return!1})(e,t)){const t=jQ(function(e,t){if(!e.mediaGroups.AUDIO||!t)return null;var i=e.mediaGroups.AUDIO[t];if(!i)return null;for(var n in i){var r=i[n];if(r.default&&r.playlists)return P$(r.playlists[0].attributes.CODECS)}return null}(e,i.AUDIO)||[]);t.audio&&(n.audio=t.audio)}return n},qQ=WG("PlaylistSelector"),UQ=function(e){if(!e||!e.playlist)return;const t=e.playlist;return JSON.stringify({id:t.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:t.attributes&&t.attributes.CODECS||""})},FQ=function(e,t){if(!e)return"";const i=lj.getComputedStyle(e);return i?i[t]:""},zQ=function(e,t){const i=e.slice();e.sort((function(e,n){const r=t(e,n);return 0===r?i.indexOf(e)-i.indexOf(n):r}))},VQ=function(e,t){let i,n;return e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||lj.Number.MAX_VALUE,t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||lj.Number.MAX_VALUE,i-n};let HQ=function(e,t,i,n,r,a){if(!e)return;const s={bandwidth:t,width:i,height:n,limitRenditionByPlayerDimensions:r};let o=e.playlists;TK.isAudioOnly(e)&&(o=a.getAudioTrackPlaylists_(),s.audioOnly=!0);let l=o.map((e=>{let t;const i=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width,n=e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height;return t=e.attributes&&e.attributes.BANDWIDTH,t=t||lj.Number.MAX_VALUE,{bandwidth:t,width:i,height:n,playlist:e}}));zQ(l,((e,t)=>e.bandwidth-t.bandwidth)),l=l.filter((e=>!TK.isIncompatible(e.playlist)));let c=l.filter((e=>TK.isEnabled(e.playlist)));c.length||(c=l.filter((e=>!TK.isDisabled(e.playlist))));const d=c.filter((e=>e.bandwidth*sQ.BANDWIDTH_VARIANCE<t));let u=d[d.length-1];const h=d.filter((e=>e.bandwidth===u.bandwidth))[0];if(!1===r){const e=h||c[0]||l[0];if(e&&e.playlist){let t="sortedPlaylistReps";return h&&(t="bandwidthBestRep"),c[0]&&(t="enabledPlaylistReps"),qQ(`choosing ${UQ(e)} using ${t} with options`,s),e.playlist}return qQ("could not choose a playlist with options",s),null}const p=d.filter((e=>e.width&&e.height));zQ(p,((e,t)=>e.width-t.width));const m=p.filter((e=>e.width===i&&e.height===n));u=m[m.length-1];const f=m.filter((e=>e.bandwidth===u.bandwidth))[0];let g,y,b,v;if(f||(g=p.filter((e=>e.width>i||e.height>n)),y=g.filter((e=>e.width===g[0].width&&e.height===g[0].height)),u=y[y.length-1],b=y.filter((e=>e.bandwidth===u.bandwidth))[0]),a.leastPixelDiffSelector){const e=p.map((e=>(e.pixelDiff=Math.abs(e.width-i)+Math.abs(e.height-n),e)));zQ(e,((e,t)=>e.pixelDiff===t.pixelDiff?t.bandwidth-e.bandwidth:e.pixelDiff-t.pixelDiff)),v=e[0]}const w=v||b||f||h||c[0]||l[0];if(w&&w.playlist){let e="sortedPlaylistReps";return v?e="leastPixelDiffRep":b?e="resolutionPlusOneRep":f?e="resolutionBestRep":h?e="bandwidthBestRep":c[0]&&(e="enabledPlaylistReps"),qQ(`choosing ${UQ(w)} using ${e} with options`,s),w.playlist}return qQ("could not choose a playlist with options",s),null};const WQ=function(){const e=this.useDevicePixelRatio&&lj.devicePixelRatio||1;return HQ(this.playlists.main,this.systemBandwidth,parseInt(FQ(this.tech_.el(),"width"),10)*e,parseInt(FQ(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.playlistController_)},GQ=({inbandTextTracks:e,metadataArray:t,timestampOffset:i,videoDuration:n})=>{if(!t)return;const r=lj.WebKitDataCue||lj.VTTCue,a=e.metadataTrack_;if(!a)return;if(t.forEach((e=>{const t=e.cueTime+i;!("number"!=typeof t||lj.isNaN(t)||t<0)&&t<1/0&&e.frames&&e.frames.length&&e.frames.forEach((e=>{const i=new r(t,t,e.value||e.url||e.data||"");i.frame=e,i.value=e,function(e){Object.defineProperties(e.frame,{id:{get:()=>(BG.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key)},value:{get:()=>(BG.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data)},privateData:{get:()=>(BG.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data)}})}(i),a.addCue(i)}))})),!a.cues||!a.cues.length)return;const s=a.cues,o=[];for(let d=0;d<s.length;d++)s[d]&&o.push(s[d]);const l=o.reduce(((e,t)=>{const i=e[t.startTime]||[];return i.push(t),e[t.startTime]=i,e}),{}),c=Object.keys(l).sort(((e,t)=>Number(e)-Number(t)));c.forEach(((e,t)=>{const i=l[e],r=isFinite(n)?n:0,a=Number(c[t+1])||r;i.forEach((e=>{e.endTime=a}))}))},KQ={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},QQ=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),YQ=(e,t,i)=>{e.metadataTrack_||(e.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,BG.browser.IS_ANY_SAFARI||(e.metadataTrack_.inBandMetadataTrackDispatchType=t))},XQ=function(e,t,i){let n,r;if(i&&i.cues)for(n=i.cues.length;n--;)r=i.cues[n],r.startTime>=e&&r.endTime<=t&&i.removeCue(r)},JQ=e=>"number"==typeof e&&isFinite(e),ZQ=1/60,eY=e=>{const{startOfSegment:t,duration:i,segment:n,part:r,playlist:{mediaSequence:a,id:s,segments:o=[]},mediaIndex:l,partIndex:c,timeline:d}=e,u=o.length-1;let h="mediaIndex/partIndex increment";e.getMediaInfoForTime?h=`getMediaInfoForTime (${e.getMediaInfoForTime})`:e.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(h+=` with independent ${e.independent}`);const p="number"==typeof c,m=e.segment.uri?"segment":"pre-segment",f=p?oK({preloadSegment:n})-1:0;return`${m} [${a+l}/${a+u}]`+(p?` part [${c}/${f}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(p?` part start/end [${r.start} => ${r.end}]`:"")+` startOfSegment [${t}]`+` duration [${i}]`+` timeline [${d}]`+` selected by [${h}]`+` playlist [${s}]`},tY=e=>`${e}TimingInfo`,iY=({timelineChangeController:e,currentTimeline:t,segmentTimeline:i,loaderType:n,audioDisabled:r})=>{if(t===i)return!1;if("audio"===n){const t=e.lastTimelineChange({type:"main"});return!t||t.to!==i}if("main"===n&&r){const t=e.pendingTimelineChange({type:"audio"});return!t||t.to!==i}return!1},nY=({segmentDuration:e,maxDuration:t})=>!!e&&Math.round(e)>t+QG,rY=(e,t)=>{if("hls"!==t)return null;const i=(e=>{let t=0;return["video","audio"].forEach((function(i){const n=e[`${i}TimingInfo`];if(!n)return;const{start:r,end:a}=n;let s;"bigint"==typeof r||"bigint"==typeof a?s=lj.BigInt(a)-lj.BigInt(r):"number"==typeof r&&"number"==typeof a&&(s=a-r),void 0!==s&&s>t&&(t=s)})),"bigint"==typeof t&&t<Number.MAX_SAFE_INTEGER&&(t=Number(t)),t})({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!i)return null;const n=e.playlist.targetDuration,r=nY({segmentDuration:i,maxDuration:2*n}),a=nY({segmentDuration:i,maxDuration:n}),s=`Segment with index ${e.mediaIndex} from playlist ${e.playlist.id} has a duration of ${i} when the reported duration is ${e.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return r||a?{severity:r?"warn":"info",message:s}:null};class aY extends BG.EventTarget{constructor(e,t={}){if(super(),!e)throw new TypeError("Initialization settings are required");if("function"!=typeof e.currentTime)throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",(()=>{this.isEndOfStream_()||(this.ended_=!1)})),this.fetchAtBuffer_=!1,this.replaceSegmentsUntil_=-1,this.logger_=WG(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(e){e!==this.state_&&(this.logger_(`${this.state_} -> ${e}`),this.state_=e,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",(()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})),"main"===this.loaderType_&&this.timelineChangeController_.on("pendingtimelinechange",(()=>{this.hasEnoughInfoToAppend_()&&this.processCallQueue_()})),"audio"===this.loaderType_&&this.timelineChangeController_.on("timelinechange",(()=>{this.hasEnoughInfoToLoad_()&&this.processLoadQueue_(),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}))}createTransmuxer_(){return vQ({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&lj.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,lj.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return"APPENDING"!==this.state||this.pendingSegment_?!this.pendingSegment_||this.pendingSegment_.requestId!==e:(this.state="READY",!0)}error(e){return void 0!==e&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&bQ(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return KG();if("main"===this.loaderType_){const{hasAudio:t,hasVideo:i,isMuxed:n}=e;if(i&&t&&!this.audioDisabled_&&!n)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,t=!1){if(!e)return null;const i=HK(e);let n=this.initSegments_[i];return t&&!n&&e.bytes&&(this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),n||e}segmentKey(e,t=!1){if(!e)return null;const i=WK(e);let n=this.keyCache_[i];this.cacheEncryptionKeys_&&t&&!n&&e.bytes&&(this.keyCache_[i]=n={resolvedUri:e.resolvedUri,bytes:e.bytes});const r={resolvedUri:(n||e).resolvedUri};return n&&(r.bytes=n.bytes),r}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),this.playlist_)return"INIT"===this.state&&this.couldBeginLoading_()?this.init_():void(!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY"))}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,t={}){if(!e)return;const i=this.playlist_,n=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=t,"INIT"===this.state&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},"main"===this.loaderType_&&this.syncController_.setDateTimeMappingForStart(e));let r=null;if(i&&(i.id?r=i.id:i.uri&&(r=i.uri)),this.logger_(`playlist update [${r} => ${e.id||e.uri}]`),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri){if(null!==this.mediaIndex){!e.endList&&"number"==typeof e.partTargetDuration?this.resetLoader():this.resyncLoader()}return this.currentMediaInfo_=void 0,void this.trigger("playlistupdate")}const a=e.mediaSequence-i.mediaSequence;if(this.logger_(`live window shift [${a}]`),null!==this.mediaIndex)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const e=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!e.parts||!e.parts.length||!e.parts[this.partIndex])){const e=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=e}}n&&(n.mediaIndex-=a,n.mediaIndex<0?(n.mediaIndex=null,n.partIndex=null):(n.mediaIndex>=0&&(n.segment=e.segments[n.mediaIndex]),n.partIndex>=0&&n.segment.parts&&(n.part=n.segment.parts[n.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&(lj.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return null===this.checkBufferTimeout_}resetLoaderProperties(){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0}}resetEverything(e){this.resetLoaderProperties(),this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.resyncLoader()}resyncLoader(){this.transmuxer_&&bQ(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,t,i=(()=>{}),n=!1){if(t===1/0&&(t=this.duration_()),t<=e)return void this.logger_("skipping remove because end ${end} is <= start ${start}");if(!this.sourceUpdater_||!this.getMediaInfo_())return void this.logger_("skipping remove because no source updater or starting media info");let r=1;const a=()=>{r--,0===r&&i()};!n&&this.audioDisabled_||(r++,this.sourceUpdater_.removeAudio(e,t,a)),(n||"main"===this.loaderType_)&&(this.gopBuffer_=((e,t,i,n)=>{const r=Math.ceil((t-n)*DF),a=Math.ceil((i-n)*DF),s=e.slice();let o=e.length;for(;o--&&!(e[o].pts<=a););if(-1===o)return s;let l=o+1;for(;l--&&!(e[l].pts<=r););return l=Math.max(l,0),s.splice(l,o-l+1),s})(this.gopBuffer_,e,t,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,t,a));for(const s in this.inbandTextTracks_)XQ(e,t,this.inbandTextTracks_[s]);XQ(e,t,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&lj.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=lj.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&lj.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=lj.setTimeout(this.monitorBufferTick_.bind(this),500)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();e&&("number"==typeof e.timestampOffset&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e))}isEndOfStream_(e=this.mediaIndex,t=this.playlist_,i=this.partIndex){if(!t||!this.mediaSource_)return!1;const n="number"==typeof e&&t.segments[e],r=e+1===t.segments.length,a=!n||!n.parts||i+1===n.parts.length;return t.endList&&"open"===this.mediaSource_.readyState&&r&&a}chooseNextRequest_(){const e=this.buffered_(),t=iK(e)||0,i=nK(e,this.currentTime_()),n=!this.hasPlayed_()&&i>=1,r=i>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||n||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());const s={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(s.isSyncRequest)s.mediaIndex=function(e,t,i){t=t||[];const n=[];let r=0;for(let a=0;a<t.length;a++){const s=t[a];if(e===s.timeline&&(n.push(a),r+=s.duration,r>i))return a}return 0===n.length?0:n[n.length-1]}(this.currentTimeline_,a,t);else if(null!==this.mediaIndex){const e=a[this.mediaIndex],i="number"==typeof this.partIndex?this.partIndex:-1;s.startOfSegment=e.end?e.end:t,e.parts&&e.parts[i+1]?(s.mediaIndex=this.mediaIndex,s.partIndex=i+1):s.mediaIndex=this.mediaIndex+1}else{const{segmentIndex:e,startTime:i,partIndex:n}=TK.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?t:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});s.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${t}`:`currentTime ${this.currentTime_()}`,s.mediaIndex=e,s.startOfSegment=i,s.partIndex=n}const o=a[s.mediaIndex];let l=o&&"number"==typeof s.partIndex&&o.parts&&o.parts[s.partIndex];if(!o||"number"==typeof s.partIndex&&!l)return null;"number"!=typeof s.partIndex&&o.parts&&(s.partIndex=0,l=o.parts[0]);const c=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&l&&!c&&!l.independent)if(0===s.partIndex){const e=a[s.mediaIndex-1],t=e.parts&&e.parts.length&&e.parts[e.parts.length-1];t&&t.independent&&(s.mediaIndex-=1,s.partIndex=e.parts.length-1,s.independent="previous segment")}else o.parts[s.partIndex-1].independent&&(s.partIndex-=1,s.independent="previous part");const d=this.mediaSource_&&"ended"===this.mediaSource_.readyState;return s.mediaIndex>=a.length-1&&d&&!this.seeking_()?null:this.generateSegmentInfo_(s)}generateSegmentInfo_(e){const{independent:t,playlist:i,mediaIndex:n,startOfSegment:r,isSyncRequest:a,partIndex:s,forceTimestampOffset:o,getMediaInfoForTime:l}=e,c=i.segments[n],d="number"==typeof s&&c.parts[s],u={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||c.resolvedUri,mediaIndex:n,partIndex:d?s:null,isSyncRequest:a,startOfSegment:r,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:c.timeline,duration:d&&d.duration||c.duration,segment:c,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:l,independent:t},h=void 0!==o?o:this.isPendingTimestampOffset_;u.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:c.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:h});const p=iK(this.sourceUpdater_.audioBuffered());return"number"==typeof p&&(u.audioAppendStart=p-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(u.gopsToAlignWith=((e,t,i)=>{if(null==t||!e.length)return[];const n=Math.ceil((t-i+3)*DF);let r;for(r=0;r<e.length&&!(e[r].pts>n);r++);return e.slice(r)})(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),u}timestampOffsetForSegment_(e){return(({segmentTimeline:e,currentTimeline:t,startOfSegment:i,buffered:n,overrideCheck:r})=>r||e!==t?e<t?i:n.length?n.end(n.length-1):i:null)(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return;if(Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const t=this.currentTime_(),i=e.bandwidth,n=this.pendingSegment_.duration,r=TK.estimateSegmentRequestTime(n,i,this.playlist_,e.bytesReceived),a=function(e,t,i=1){return((e.length?e.end(e.length-1):0)-t)/i}(this.buffered_(),t,this.vhs_.tech_.playbackRate())-1;if(r<=a)return;const s=function(e){const{main:t,currentTime:i,bandwidth:n,duration:r,segmentDuration:a,timeUntilRebuffer:s,currentTimeline:o,syncController:l}=e,c=t.playlists.filter((e=>!TK.isIncompatible(e)));let d=c.filter(TK.isEnabled);d.length||(d=c.filter((e=>!TK.isDisabled(e))));const u=d.filter(TK.hasAttribute.bind(null,"BANDWIDTH")).map((e=>{const t=l.getSyncPoint(e,r,o,i)?1:2;return{playlist:e,rebufferingImpact:TK.estimateSegmentRequestTime(a,n,e)*t-s}})),h=u.filter((e=>e.rebufferingImpact<=0));return zQ(h,((e,t)=>VQ(t.playlist,e.playlist))),h.length?h[0]:(zQ(u,((e,t)=>e.rebufferingImpact-t.rebufferingImpact)),u[0]||null)}({main:this.vhs_.playlists.main,currentTime:t,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!s)return;const o=r-a-s.rebufferingImpact;let l=.5;a<=QG&&(l=1),!s.playlist||s.playlist.uri===this.playlist_.uri||o<l||(this.bandwidth=s.playlist.attributes.BANDWIDTH*sQ.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${eY(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,t){this.earlyAbortWhenNeeded_(t.stats),this.checkForAbort_(t.requestId)||this.trigger("progress")}handleTrackInfo_(e,t){this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId)||this.checkForIllegalMediaSwitch(t)||(t=t||{},function(e,t){if(!e&&!t||!e&&t||e&&!t)return!1;if(e===t)return!0;const i=Object.keys(e).sort(),n=Object.keys(t).sort();if(i.length!==n.length)return!1;for(let r=0;r<i.length;r++){const a=i[r];if(a!==n[r])return!1;if(e[a]!==t[a])return!1}return!0}(this.currentMediaInfo_,t)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=t,this.currentMediaInfo_=t,this.logger_("trackinfo update",t),this.trigger("trackinfo")),this.checkForAbort_(e.requestId)||(this.pendingSegment_.trackInfo=t,this.hasEnoughInfoToAppend_()&&this.processCallQueue_()))}handleTimingInfo_(e,t,i,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const r=this.pendingSegment_,a=tY(t);r[a]=r[a]||{},r[a][i]=n,this.logger_(`timinginfo: ${t} - ${i} - ${n}`),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}handleCaptions_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(0===t.length)return void this.logger_("SegmentLoader received no captions from a caption event");if(!this.pendingSegment_.hasAppendedData_)return void this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,t));const i=null===this.sourceUpdater_.videoTimestampOffset()?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),n={};t.forEach((e=>{n[e.stream]=n[e.stream]||{startTime:1/0,captions:[],endTime:0};const t=n[e.stream];t.startTime=Math.min(t.startTime,e.startTime+i),t.endTime=Math.max(t.endTime,e.endTime+i),t.captions.push(e)})),Object.keys(n).forEach((e=>{const{startTime:t,endTime:r,captions:a}=n[e],s=this.inbandTextTracks_;this.logger_(`adding cues from ${t} -> ${r} for ${e}`),function(e,t,i){if(!e[i]){t.trigger({type:"usage",name:"vhs-608"});let n=i;/^cc708_/.test(i)&&(n="SERVICE"+i.split("_")[1]);const r=t.textTracks().getTrackById(n);if(r)e[i]=r;else{let r=i,a=i,s=!1;const o=(t.options_.vhs&&t.options_.vhs.captionServices||{})[n];o&&(r=o.label,a=o.language,s=o.default),e[i]=t.addRemoteTextTrack({kind:"captions",id:n,default:s,label:r,language:a},!1).track}}}(s,this.vhs_.tech_,e),XQ(t,r,s[e]),function({inbandTextTracks:e,captionArray:t,timestampOffset:i}){if(!t)return;const n=lj.WebKitDataCue||lj.VTTCue;t.forEach((t=>{const r=t.stream;t.content?t.content.forEach((a=>{const s=new n(t.startTime+i,t.endTime+i,a.text);s.line=a.line,s.align="left",s.position=a.position,s.positionAlign="line-left",e[r].addCue(s)})):e[r].addCue(new n(t.startTime+i,t.endTime+i,t.text))}))}({captionArray:a,inbandTextTracks:s,timestampOffset:i})})),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,t,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;this.pendingSegment_.hasAppendedData_?this.addMetadataToTextTrack(i,t,this.duration_()):this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,t,i))}processMetadataQueue_(){this.metadataQueue_.id3.forEach((e=>e())),this.metadataQueue_.caption.forEach((e=>e())),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach((e=>e()))}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach((e=>e()))}hasEnoughInfoToLoad_(){if("audio"!==this.loaderType_)return!0;const e=this.pendingSegment_;return!!e&&(!this.getCurrentMediaInfo_()||!iY({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready())return!1;if(this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,t=this.getCurrentMediaInfo_();if(!e||!t)return!1;const{hasAudio:i,hasVideo:n,isMuxed:r}=t;return!(n&&!e.videoTimingInfo)&&(!(i&&!this.audioDisabled_&&!r&&!e.audioTimingInfo)&&!iY({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,t){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_())return void this.callQueue_.push(this.handleData_.bind(this,e,t));const i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),"closed"!==this.mediaSource_.readyState){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[tY(t.type)].start;else{const e=this.getCurrentMediaInfo_(),t="main"===this.loaderType_&&e&&e.hasVideo;let n;t&&(n=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:t,firstVideoFrameTimeForData:n,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,t.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:"main"===this.loaderType_});const e=this.chooseNextRequest_();if(e.mediaIndex!==i.mediaIndex||e.partIndex!==i.partIndex)return void this.logger_("sync segment was incorrect, not appending");this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,t)}}updateAppendInitSegmentStatus(e,t){"main"!==this.loaderType_||"number"!=typeof e.timestampOffset||e.changedTimestampOffset||(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[t]!==e.playlist&&(this.appendInitSegment_[t]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:t,map:i,playlist:n}){if(i){const e=HK(i);if(this.activeInitSegmentId_===e)return null;t=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=e}return t&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=n,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,t):null}handleQuotaExceededError_({segmentInfo:e,type:t,bytes:i},n){const r=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();r.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+tK(r).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+tK(a).join(", "));const s=r.length?r.start(0):0,o=r.length?r.end(r.length-1):0,l=a.length?a.start(0):0,c=a.length?a.end(a.length-1):0;if(o-s<=1&&c-l<=1)return this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${i.byteLength}, audio buffer: ${tK(r).join(", ")}, video buffer: ${tK(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),void this.trigger("error");this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:t,bytes:i}));const d=this.currentTime_()-1;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${d}`),this.remove(0,d,(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, retrying append in 1s"),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=lj.setTimeout((()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()}),1e3)}),!0)}handleAppendError_({segmentInfo:e,type:t,bytes:i},n){n&&(22!==n.code?(this.logger_("Received non QUOTA_EXCEEDED_ERR on append",n),this.error(`${t} append of ${i.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`),this.trigger("appenderror")):this.handleQuotaExceededError_({segmentInfo:e,type:t,bytes:i}))}appendToSourceBuffer_({segmentInfo:e,type:t,initSegment:i,data:n,bytes:r}){if(!r){const e=[n];let t=n.byteLength;i&&(e.unshift(i),t+=i.byteLength),r=(e=>{let t,i=0;return e.bytes&&(t=new Uint8Array(e.bytes),e.segments.forEach((e=>{t.set(e,i),i+=e.byteLength}))),t})({bytes:t,segments:e})}this.sourceUpdater_.appendBuffer({segmentInfo:e,type:t,bytes:r},this.handleAppendError_.bind(this,{segmentInfo:e,type:t,bytes:r}))}handleSegmentTimingInfo_(e,t,i){if(!this.pendingSegment_||t!==this.pendingSegment_.requestId)return;const n=this.pendingSegment_.segment,r=`${e}TimingInfo`;n[r]||(n[r]={}),n[r].transmuxerPrependedSeconds=i.prependedContentDuration||0,n[r].transmuxedPresentationStart=i.start.presentation,n[r].transmuxedDecodeStart=i.start.decode,n[r].transmuxedPresentationEnd=i.end.presentation,n[r].transmuxedDecodeEnd=i.end.decode,n[r].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,t){const{type:i,data:n}=t;if(!n||!n.byteLength)return;if("audio"===i&&this.audioDisabled_)return;const r=this.getInitSegmentAndUpdateState_({type:i,initSegment:t.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:r,data:n})}loadSegment_(e){this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),"number"==typeof e.timestampOffset&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.hasEnoughInfoToLoad_()?this.updateTransmuxerAndRequestSegment_(e):this.loadQueue_.push((()=>{const t=bu({},e,{forceTimestampOffset:!0});bu(e,this.generateSegmentInfo_(t)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)}))}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const t=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),n=null!==this.mediaIndex,r=e.timeline!==this.currentTimeline_&&e.timeline>0,a=i||n&&r;this.logger_(`Requesting ${eY(e)}`),t.map&&!t.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=RQ({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:t,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:t,level:i,stream:n})=>{this.logger_(`${eY(e)} logged from transmuxer stream ${n} as a ${i}: ${t}`)}})}trimBackBuffer_(e){const t=((e,t,i)=>{let n=t-sQ.BACK_BUFFER_LENGTH;e.length&&(n=Math.max(n,e.start(0)));const r=t-i;return Math.min(r,n)})(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);t>0&&this.remove(0,t)}createSimplifiedSegmentObj_(e){const t=e.segment,i=e.part,n={resolvedUri:i?i.resolvedUri:t.resolvedUri,byterange:i?i.byterange:t.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part},r=e.playlist.segments[e.mediaIndex-1];if(r&&r.timeline===t.timeline&&(r.videoTimingInfo?n.baseStartTime=r.videoTimingInfo.transmuxedDecodeEnd:r.audioTimingInfo&&(n.baseStartTime=r.audioTimingInfo.transmuxedDecodeEnd)),t.key){const i=t.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);n.key=this.segmentKey(t.key),n.key.iv=i}return t.map&&(n.map=this.initSegmentForMap(t.map)),n}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,t){this.pendingSegment_.byteLength=t.bytesReceived,e<ZQ?this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record 0.016666666666666666`):(this.bandwidth=t.bandwidth,this.roundTrip=t.roundTripTime)}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,t,i){if(this.callQueue_.length)return void this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,t,i));if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return;if(t.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===EQ)return;return this.pause(),e.code===xQ?void this.handleTimeout_():(this.mediaRequestsErrored+=1,this.error(e),void this.trigger("error"))}const n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,t.stats),n.endOfAllRequests=t.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=((e,t,i)=>{if(!t.length)return e;if(i)return t.slice();const n=t[0].pts;let r=0;for(;r<e.length&&!(e[r].pts>=n);r++);return e.slice(0,r).concat(t)})(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(n)}setTimeMapping_(e){const t=this.syncController_.mappingForTimeline(e);null!==t&&(this.timeMapping_=t)}updateMediaSecondsLoaded_(e){"number"==typeof e.start&&"number"==typeof e.end?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return null!==e&&("main"===this.loaderType_&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset())}trueSegmentStart_({currentStart:e,playlist:t,mediaIndex:i,firstVideoFrameTimeForData:n,currentVideoTimestampOffset:r,useVideoTimingInfo:a,videoTimingInfo:s,audioTimingInfo:o}){if(void 0!==e)return e;if(!a)return o.start;const l=t.segments[i-1];return 0!==i&&l&&void 0!==l.start&&l.end===n+r?s.start:n}waitForAppendsToComplete_(e){const t=this.getCurrentMediaInfo_(e);if(!t)return this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),void this.trigger("error");const{hasAudio:i,hasVideo:n,isMuxed:r}=t,a="main"===this.loaderType_&&n,s=!this.audioDisabled_&&i&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_)return e.timingInfo||"number"!=typeof e.timestampOffset||(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),void this.checkAppendsDone_(e);a&&e.waitingOnAppends++,s&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),s&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,0===e.waitingOnAppends&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const t=((e,t,i)=>"main"===e&&t&&i?i.hasAudio||i.hasVideo?t.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!t.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null)(this.loaderType_,this.getCurrentMediaInfo_(),e);return!!t&&(this.error({message:t,playlistExclusionDuration:1/0}),this.trigger("error"),!0)}updateSourceBufferTimestampOffset_(e){if(null===e.timestampOffset||"number"!=typeof e.timingInfo.start||e.changedTimestampOffset||"main"!==this.loaderType_)return;let t=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),t=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),t=!0),t&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:t,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&"number"==typeof e.transmuxedDecodeStart?e.transmuxedDecodeStart:t&&"number"==typeof t.transmuxedDecodeStart?t.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const t=this.getMediaInfo_(),i="main"===this.loaderType_&&t&&t.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end="number"==typeof i.end?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());const e=this.pendingSegment_;this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:"main"===this.loaderType_});const t=rY(e,this.sourceType_);if(t&&("warn"===t.severity?BG.log.warn(t.message):this.logger_(t.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_))return void this.logger_(`Throwing away un-appended sync request ${eY(e)}`);this.logger_(`Appended ${eY(e)}`),this.addSegmentMetadataCue_(e),this.currentTime_()>=this.replaceSegmentsUntil_&&(this.replaceSegmentsUntil_=-1,this.fetchAtBuffer_=!0),this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),"main"!==this.loaderType_||this.audioDisabled_||this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const i=e.segment,n=e.part,r=i.end&&this.currentTime_()-i.end>3*e.playlist.targetDuration,a=n&&n.end&&this.currentTime_()-n.end>3*e.playlist.partTargetDuration;if(r||a)return this.logger_(`bad ${r?"segment":"part"} ${eY(e)}`),void this.resetEverything();null!==this.mediaIndex&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<ZQ)return void this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record 0.016666666666666666`);const t=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,n=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(n-t)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const t=e.segment,i=t.start,n=t.end;if(!JQ(i)||!JQ(n))return;XQ(i,n,this.segmentMetadataTrack_);const r=lj.WebKitDataCue||lj.VTTCue,a={custom:t.custom,dateTimeObject:t.dateTimeObject,dateTimeString:t.dateTimeString,programDateTime:t.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:n},s=new r(i,n,JSON.stringify(a));s.value=a,this.segmentMetadataTrack_.addCue(s)}set replaceSegmentsUntil(e){this.logger_(`Replacing currently buffered segments until ${e}`),this.replaceSegmentsUntil_=e}}function sY(){}const oY=function(e){return"string"!=typeof e?e:e.replace(/./,(e=>e.toUpperCase()))},lY=["video","audio"],cY=(e,t)=>{const i=t[`${e}Buffer`];return i&&i.updating||t.queuePending[e]},dY=(e,t)=>{if(0===t.queue.length)return;let i=0,n=t.queue[i];if("mediaSource"!==n.type){if("mediaSource"!==e&&t.ready()&&"closed"!==t.mediaSource.readyState&&!cY(e,t)){if(n.type!==e){if(i=((e,t)=>{for(let i=0;i<t.length;i++){const n=t[i];if("mediaSource"===n.type)return null;if(n.type===e)return i}return null})(e,t.queue),null===i)return;n=t.queue[i]}return t.queue.splice(i,1),t.queuePending[e]=n,n.action(e,t),n.doneFn?void 0:(t.queuePending[e]=null,void dY(e,t))}}else t.updating()||"closed"===t.mediaSource.readyState||(t.queue.shift(),n.action(t),n.doneFn&&n.doneFn(),dY("audio",t),dY("video",t))},uY=(e,t)=>{const i=t[`${e}Buffer`],n=oY(e);i&&(i.removeEventListener("updateend",t[`on${n}UpdateEnd_`]),i.removeEventListener("error",t[`on${n}Error_`]),t.codecs[e]=null,t[`${e}Buffer`]=null)},hY=(e,t)=>e&&t&&-1!==Array.prototype.indexOf.call(e.sourceBuffers,t),pY=(e,t,i)=>(n,r)=>{const a=r[`${n}Buffer`];if(hY(r.mediaSource,a)){r.logger_(`Appending segment ${t.mediaIndex}'s ${e.length} bytes to ${n}Buffer`);try{a.appendBuffer(e)}catch(E_){r.logger_(`Error with code ${E_.code} `+(22===E_.code?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${t.mediaIndex} to ${n}Buffer`),r.queuePending[n]=null,i(E_)}}},mY=(e,t)=>(i,n)=>{const r=n[`${i}Buffer`];if(hY(n.mediaSource,r)){n.logger_(`Removing ${e} to ${t} from ${i}Buffer`);try{r.remove(e,t)}catch(E_){n.logger_(`Remove ${e} to ${t} from ${i}Buffer failed`)}}},fY=e=>(t,i)=>{const n=i[`${t}Buffer`];hY(i.mediaSource,n)&&(i.logger_(`Setting ${t}timestampOffset to ${e}`),n.timestampOffset=e)},gY=e=>(t,i)=>{e()},yY=e=>t=>{if("open"===t.mediaSource.readyState){t.logger_(`Calling mediaSource endOfStream(${e||""})`);try{t.mediaSource.endOfStream(e)}catch(E_){BG.log.warn("Failed to call media source endOfStream",E_)}}},bY=e=>t=>{t.logger_(`Setting mediaSource duration to ${e}`);try{t.mediaSource.duration=e}catch(E_){BG.log.warn("Failed to set media source duration",E_)}},vY=()=>(e,t)=>{if("open"!==t.mediaSource.readyState)return;const i=t[`${e}Buffer`];if(hY(t.mediaSource,i)){t.logger_(`calling abort on ${e}Buffer`);try{i.abort()}catch(E_){BG.log.warn(`Failed to abort on ${e}Buffer`,E_)}}},wY=(e,t)=>i=>{const n=oY(e),r=R$(t);i.logger_(`Adding ${e}Buffer with codec ${t} to mediaSource`);const a=i.mediaSource.addSourceBuffer(r);a.addEventListener("updateend",i[`on${n}UpdateEnd_`]),a.addEventListener("error",i[`on${n}Error_`]),i.codecs[e]=t,i[`${e}Buffer`]=a},TY=e=>t=>{const i=t[`${e}Buffer`];if(uY(e,t),hY(t.mediaSource,i)){t.logger_(`Removing ${e}Buffer with codec ${t.codecs[e]} from mediaSource`);try{t.mediaSource.removeSourceBuffer(i)}catch(E_){BG.log.warn(`Failed to removeSourceBuffer ${e}Buffer`,E_)}}},xY=e=>(t,i)=>{const n=i[`${t}Buffer`],r=R$(e);hY(i.mediaSource,n)&&i.codecs[t]!==e&&(i.logger_(`changing ${t}Buffer codec from ${i.codecs[t]} to ${e}`),n.changeType(r),i.codecs[t]=e)},EY=({type:e,sourceUpdater:t,action:i,doneFn:n,name:r})=>{t.queue.push({type:e,action:i,doneFn:n,name:r}),dY(e,t)},_Y=(e,t)=>i=>{if(t.queuePending[e]){const i=t.queuePending[e].doneFn;t.queuePending[e]=null,i&&i(t[`${e}Error_`])}dY(e,t)};class SY extends BG.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>dY("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=WG("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=_Y("video",this),this.onAudioUpdateEnd_=_Y("audio",this),this.onVideoError_=e=>{this.videoError_=e},this.onAudioError_=e=>{this.audioError_=e},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,t){EY({type:"mediaSource",sourceUpdater:this,action:wY(e,t),name:"addSourceBuffer"})}abort(e){EY({type:e,sourceUpdater:this,action:vY(e),name:"abort"})}removeSourceBuffer(e){this.canRemoveSourceBuffer()?EY({type:"mediaSource",sourceUpdater:this,action:TY(e),name:"removeSourceBuffer"}):BG.log.error("removeSourceBuffer is not supported!")}canRemoveSourceBuffer(){return!BG.browser.IS_FIREFOX&&lj.MediaSource&&lj.MediaSource.prototype&&"function"==typeof lj.MediaSource.prototype.removeSourceBuffer}static canChangeType(){return lj.SourceBuffer&&lj.SourceBuffer.prototype&&"function"==typeof lj.SourceBuffer.prototype.changeType}canChangeType(){return this.constructor.canChangeType()}changeType(e,t){this.canChangeType()?EY({type:e,sourceUpdater:this,action:xY(t),name:"changeType"}):BG.log.error("changeType is not supported!")}addOrChangeSourceBuffers(e){if(!e||"object"!=typeof e||0===Object.keys(e).length)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach((t=>{const i=e[t];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(t,i);this.canChangeType()&&this.changeType(t,i)}))}appendBuffer(e,t){const{segmentInfo:i,type:n,bytes:r}=e;if(this.processedAppend_=!0,"audio"===n&&this.videoBuffer&&!this.videoAppendQueued_)return this.delayedAudioAppendQueue_.push([e,t]),void this.logger_(`delayed audio append of ${r.length} until video append`);if(EY({type:n,sourceUpdater:this,action:pY(r,i||{mediaIndex:-1},t),doneFn:t,name:"appendBuffer"}),"video"===n){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const e=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${e.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,e.forEach((e=>{this.appendBuffer.apply(this,e)}))}}audioBuffered(){return hY(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:KG()}videoBuffered(){return hY(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:KG()}buffered(){const e=hY(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,t=hY(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return t&&!e?this.audioBuffered():e&&!t?this.videoBuffered():function(e,t){let i=null,n=null,r=0;const a=[],s=[];if(!(e&&e.length&&t&&t.length))return KG();let o=e.length;for(;o--;)a.push({time:e.start(o),type:"start"}),a.push({time:e.end(o),type:"end"});for(o=t.length;o--;)a.push({time:t.start(o),type:"start"}),a.push({time:t.end(o),type:"end"});for(a.sort((function(e,t){return e.time-t.time})),o=0;o<a.length;o++)"start"===a[o].type?(r++,2===r&&(i=a[o].time)):"end"===a[o].type&&(r--,1===r&&(n=a[o].time)),null!==i&&null!==n&&(s.push([i,n]),i=null,n=null);return KG(s)}(this.audioBuffered(),this.videoBuffered())}setDuration(e,t=sY){EY({type:"mediaSource",sourceUpdater:this,action:bY(e),name:"duration",doneFn:t})}endOfStream(e=null,t=sY){"string"!=typeof e&&(e=void 0),EY({type:"mediaSource",sourceUpdater:this,action:yY(e),name:"endOfStream",doneFn:t})}removeAudio(e,t,i=sY){this.audioBuffered().length&&0!==this.audioBuffered().end(0)?EY({type:"audio",sourceUpdater:this,action:mY(e,t),doneFn:i,name:"remove"}):i()}removeVideo(e,t,i=sY){this.videoBuffered().length&&0!==this.videoBuffered().end(0)?EY({type:"video",sourceUpdater:this,action:mY(e,t),doneFn:i,name:"remove"}):i()}updating(){return!(!cY("audio",this)&&!cY("video",this))}audioTimestampOffset(e){return void 0!==e&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(EY({type:"audio",sourceUpdater:this,action:fY(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return void 0!==e&&this.videoBuffer&&this.videoTimestampOffset!==e&&(EY({type:"video",sourceUpdater:this,action:fY(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&EY({type:"audio",sourceUpdater:this,action:gY(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&EY({type:"video",sourceUpdater:this,action:gY(e),name:"callback"})}dispose(){this.trigger("dispose"),lY.forEach((e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`]((()=>uY(e,this)))})),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const CY=e=>decodeURIComponent(escape(String.fromCharCode.apply(null,e))),kY=new Uint8Array("\n\n".split("").map((e=>e.charCodeAt(0))));class AY extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class NY extends aY{constructor(e,t={}){super(e,t),this.mediaSource_=null,this.subtitlesTrack_=null,this.loaderType_="subtitle",this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}createTransmuxer_(){return null}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return KG();const e=this.subtitlesTrack_.cues;return KG([[e[0].startTime,e[e.length-1].startTime]])}initSegmentForMap(e,t=!1){if(!e)return null;const i=HK(e);let n=this.initSegments_[i];if(t&&!n&&e.bytes){const t=kY.byteLength+e.bytes.byteLength,r=new Uint8Array(t);r.set(e.bytes),r.set(kY,e.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:r}}return n||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return void 0===e||(this.subtitlesTrack_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_()),this.subtitlesTrack_}remove(e,t){XQ(e,t,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){const e=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};return this.syncController_.one("timestampoffset",e),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,t,i){if(!this.subtitlesTrack_)return void(this.state="READY");if(this.saveTransferStats_(t.stats),!this.pendingSegment_)return this.state="READY",void(this.mediaRequestsAborted+=1);if(e)return e.code===xQ&&this.handleTimeout_(),e.code===EQ?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,void this.stopForError(e);const n=this.pendingSegment_;this.saveBandwidthRelatedStats_(n.duration,t.stats),t.key&&this.segmentKey(t.key,!0),this.state="APPENDING",this.trigger("appending");const r=n.segment;if(r.map&&(r.map.bytes=t.map.bytes),n.bytes=t.bytes,"function"!=typeof lj.WebVTT&&"function"==typeof this.loadVttJs)return this.state="WAITING_ON_VTTJS",void this.loadVttJs().then((()=>this.segmentRequestFinished_(e,t,i)),(()=>this.stopForError({message:"Error loading vtt.js"})));r.requested=!0;try{this.parseVTTCues_(n)}catch(E_){return void this.stopForError({message:E_.message})}if(this.updateTimeMapping_(n,this.syncController_.timelines[n.timeline],this.playlist_),n.cues.length?n.timingInfo={start:n.cues[0].startTime,end:n.cues[n.cues.length-1].endTime}:n.timingInfo={start:n.startOfSegment,end:n.startOfSegment+n.duration},n.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");n.byteLength=n.bytes.byteLength,this.mediaSecondsLoaded+=r.duration,n.cues.forEach((e=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new lj.VTTCue(e.startTime,e.endTime,e.text):e)})),function(e){const t=e.cues;if(!t)return;const i={};for(let n=t.length-1;n>=0;n--){const r=t[n],a=`${r.startTime}-${r.endTime}-${r.text}`;i[a]?e.removeCue(r):i[a]=r}}(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(){}updateTimingInfoEnd_(){}parseVTTCues_(e){let t,i=!1;if("function"!=typeof lj.WebVTT)throw new AY;"function"==typeof lj.TextDecoder?t=new lj.TextDecoder("utf8"):(t=lj.WebVTT.StringDecoder(),i=!0);const n=new lj.WebVTT.Parser(lj,lj.vttjs,t);if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},n.oncue=e.cues.push.bind(e.cues),n.ontimestampmap=t=>{e.timestampmap=t},n.onparsingerror=e=>{BG.log.warn("Error encountered when parsing cues: "+e.message)},e.segment.map){let t=e.segment.map.bytes;i&&(t=CY(t)),n.parse(t)}let r=e.bytes;i&&(r=CY(r)),n.parse(r),n.flush()}updateTimeMapping_(e,t,i){const n=e.segment;if(!t)return;if(!e.cues.length)return void(n.empty=!0);const r=e.timestampmap,a=r.MPEGTS/DF-r.LOCAL+t.mapping;if(e.cues.forEach((e=>{e.startTime+=a,e.endTime+=a})),!i.syncInfo){const t=e.cues[0].startTime,r=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(t,r-n.duration)}}}}const OY=function(e,t){const i=e.cues;for(let n=0;n<i.length;n++){const e=i[n];if(t>=e.adStartTime&&t<=e.adEndTime)return e}return null},MY=[{name:"VOD",run:(e,t,i,n,r)=>{if(i!==1/0){return{time:0,segmentIndex:0,partIndex:null}}return null}},{name:"ProgramDateTime",run:(e,t,i,n,r)=>{if(!Object.keys(e.timelineToDatetimeMappings).length)return null;let a=null,s=null;const o=aK(t);r=r||0;for(let l=0;l<o.length;l++){const i=o[t.endList||0===r?l:o.length-(l+1)],n=i.segment,c=e.timelineToDatetimeMappings[n.timeline];if(!c||!n.dateTimeObject)continue;let d=n.dateTimeObject.getTime()/1e3+c;if(n.parts&&"number"==typeof i.partIndex)for(let e=0;e<i.partIndex;e++)d+=n.parts[e].duration;const u=Math.abs(r-d);if(null!==s&&(0===u||s<u))break;s=u,a={time:d,segmentIndex:i.segmentIndex,partIndex:i.partIndex}}return a}},{name:"Segment",run:(e,t,i,n,r)=>{let a=null,s=null;r=r||0;const o=aK(t);for(let l=0;l<o.length;l++){const e=o[t.endList||0===r?l:o.length-(l+1)],i=e.segment,c=e.part&&e.part.start||i&&i.start;if(i.timeline===n&&void 0!==c){const t=Math.abs(r-c);if(null!==s&&s<t)break;(!a||null===s||s>=t)&&(s=t,a={time:c,segmentIndex:e.segmentIndex,partIndex:e.partIndex})}}return a}},{name:"Discontinuity",run:(e,t,i,n,r)=>{let a=null;if(r=r||0,t.discontinuityStarts&&t.discontinuityStarts.length){let i=null;for(let n=0;n<t.discontinuityStarts.length;n++){const s=t.discontinuityStarts[n],o=t.discontinuitySequence+n+1,l=e.discontinuities[o];if(l){const e=Math.abs(r-l.time);if(null!==i&&i<e)break;(!a||null===i||i>=e)&&(i=e,a={time:l.time,segmentIndex:s,partIndex:null})}}}return a}},{name:"Playlist",run:(e,t,i,n,r)=>{if(t.syncInfo){return{time:t.syncInfo.time,segmentIndex:t.syncInfo.mediaSequence-t.mediaSequence,partIndex:null}}return null}}];class PY extends BG.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={},this.logger_=WG("SyncController")}getSyncPoint(e,t,i,n){const r=this.runStrategies_(e,t,i,n);return r.length?this.selectSyncPoint_(r,{key:"time",value:n}):null}getExpiredTime(e,t){if(!e||!e.segments)return null;const i=this.runStrategies_(e,t,e.discontinuitySequence,0);if(!i.length)return null;const n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+uK({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:n.segmentIndex,endIndex:0}))}runStrategies_(e,t,i,n){const r=[];for(let a=0;a<MY.length;a++){const s=MY[a],o=s.run(this,e,t,i,n);o&&(o.strategy=s.name,r.push({strategy:s.name,syncPoint:o}))}return r}selectSyncPoint_(e,t){let i=e[0].syncPoint,n=Math.abs(e[0].syncPoint[t.key]-t.value),r=e[0].strategy;for(let a=1;a<e.length;a++){const s=Math.abs(e[a].syncPoint[t.key]-t.value);s<n&&(n=s,i=e[a].syncPoint,r=e[a].strategy)}return this.logger_(`syncPoint for [${t.key}: ${t.value}] chosen with strategy [${r}]: [time:${i.time}, segmentIndex:${i.segmentIndex}`+("number"==typeof i.partIndex?`,partIndex:${i.partIndex}`:"")+"]"),i}saveExpiredSegmentInfo(e,t){const i=t.mediaSequence-e.mediaSequence;if(i>86400)BG.log.warn(`Not saving expired segment info. Media sequence gap ${i} is too large.`);else for(let n=i-1;n>=0;n--){const i=e.segments[n];if(i&&void 0!==i.start){t.syncInfo={mediaSequence:e.mediaSequence+n,time:i.start},this.logger_(`playlist refresh sync: [time:${t.syncInfo.time}, mediaSequence: ${t.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const t=e.segments[0],i=t.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[t.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:t}){const i=this.calculateSegmentTimeMapping_(e,e.timingInfo,t),n=e.segment;i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:n.start}));const r=n.dateTimeObject;n.discontinuity&&t&&r&&(this.timelineToDatetimeMappings[n.timeline]=-r.getTime()/1e3)}timestampOffsetForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].time}mappingForTimeline(e){return void 0===this.timelines[e]?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,t,i){const n=e.segment,r=e.part;let a,s,o=this.timelines[e.timeline];if("number"==typeof e.timestampOffset)o={time:e.startOfSegment,mapping:e.startOfSegment-t.start},i&&(this.timelines[e.timeline]=o,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${o.time}] [mapping: ${o.mapping}]`)),a=e.startOfSegment,s=t.end+o.mapping;else{if(!o)return!1;a=t.start+o.mapping,s=t.end+o.mapping}return r&&(r.start=a,r.end=s),(!n.start||a<n.start)&&(n.start=a),n.end=s,!0}saveDiscontinuitySyncInfo_(e){const t=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(t.discontinuityStarts&&t.discontinuityStarts.length)for(let n=0;n<t.discontinuityStarts.length;n++){const r=t.discontinuityStarts[n],a=t.discontinuitySequence+n+1,s=r-e.mediaIndex,o=Math.abs(s);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>o){let n;n=s<0?i.start-uK({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex,endIndex:r}):i.end+uK({defaultDuration:t.targetDuration,durationList:t.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[a]={time:n,accuracy:o}}}}dispose(){this.trigger("dispose"),this.off()}}class IY extends BG.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:t,to:i}){return"number"==typeof t&&"number"==typeof i&&(this.pendingTimelineChanges_[e]={type:e,from:t,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:t,to:i}){return"number"==typeof t&&"number"==typeof i&&(this.lastTimelineChanges_[e]={type:e,from:t,to:i},delete this.pendingTimelineChanges_[e],this.trigger("timelinechange")),this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const RY=cQ(dQ((function(){var e=function(){function e(){this.listeners={}}var t=e.prototype;return t.on=function(e,t){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},t.off=function(e,t){if(!this.listeners[e])return!1;var i=this.listeners[e].indexOf(t);return this.listeners[e]=this.listeners[e].slice(0),this.listeners[e].splice(i,1),i>-1},t.trigger=function(e){var t=this.listeners[e];if(t)if(2===arguments.length)for(var i=t.length,n=0;n<i;++n)t[n].call(this,arguments[1]);else for(var r=Array.prototype.slice.call(arguments,1),a=t.length,s=0;s<a;++s)t[s].apply(this,r)},t.dispose=function(){this.listeners={}},t.pipe=function(e){this.on("data",(function(t){e.push(t)}))},e}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */let t=null;class i{constructor(e){let i,n,r;t||(t=function(){const e=[[[],[],[],[],[]],[[],[],[],[],[]]],t=e[0],i=e[1],n=t[4],r=i[4];let a,s,o;const l=[],c=[];let d,u,h,p,m,f;for(a=0;a<256;a++)c[(l[a]=a<<1^283*(a>>7))^a]=a;for(s=o=0;!n[s];s^=d||1,o=c[o]||1)for(p=o^o<<1^o<<2^o<<3^o<<4,p=p>>8^255&p^99,n[s]=p,r[p]=s,h=l[u=l[d=l[s]]],f=16843009*h^65537*u^257*d^16843008*s,m=257*l[p]^16843008*p,a=0;a<4;a++)t[a][s]=m=m<<24^m>>>8,i[a][p]=f=f<<24^f>>>8;for(a=0;a<5;a++)t[a]=t[a].slice(0),i[a]=i[a].slice(0);return e}()),this._tables=[[t[0][0].slice(),t[0][1].slice(),t[0][2].slice(),t[0][3].slice(),t[0][4].slice()],[t[1][0].slice(),t[1][1].slice(),t[1][2].slice(),t[1][3].slice(),t[1][4].slice()]];const a=this._tables[0][4],s=this._tables[1],o=e.length;let l=1;if(4!==o&&6!==o&&8!==o)throw new Error("Invalid aes key size");const c=e.slice(0),d=[];for(this._key=[c,d],i=o;i<4*o+28;i++)r=c[i-1],(i%o==0||8===o&&i%o==4)&&(r=a[r>>>24]<<24^a[r>>16&255]<<16^a[r>>8&255]<<8^a[255&r],i%o==0&&(r=r<<8^r>>>24^l<<24,l=l<<1^283*(l>>7))),c[i]=c[i-o]^r;for(n=0;i;n++,i--)r=c[3&n?i:i-4],d[n]=i<=4||n<4?r:s[0][a[r>>>24]]^s[1][a[r>>16&255]]^s[2][a[r>>8&255]]^s[3][a[255&r]]}decrypt(e,t,i,n,r,a){const s=this._key[1];let o,l,c,d=e^s[0],u=n^s[1],h=i^s[2],p=t^s[3];const m=s.length/4-2;let f,g=4;const y=this._tables[1],b=y[0],v=y[1],w=y[2],T=y[3],x=y[4];for(f=0;f<m;f++)o=b[d>>>24]^v[u>>16&255]^w[h>>8&255]^T[255&p]^s[g],l=b[u>>>24]^v[h>>16&255]^w[p>>8&255]^T[255&d]^s[g+1],c=b[h>>>24]^v[p>>16&255]^w[d>>8&255]^T[255&u]^s[g+2],p=b[p>>>24]^v[d>>16&255]^w[u>>8&255]^T[255&h]^s[g+3],g+=4,d=o,u=l,h=c;for(f=0;f<4;f++)r[(3&-f)+a]=x[d>>>24]<<24^x[u>>16&255]<<16^x[h>>8&255]<<8^x[255&p]^s[g++],o=d,d=u,u=h,h=p,p=o}}class n extends e{constructor(){super(e),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(e){this.jobs.push(e),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const r=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24};class a{constructor(e,t,i,s){const o=a.STEP,l=new Int32Array(e.buffer),c=new Uint8Array(e.byteLength);let d=0;for(this.asyncStream_=new n,this.asyncStream_.push(this.decryptChunk_(l.subarray(d,d+o),t,i,c)),d=o;d<l.length;d+=o)i=new Uint32Array([r(l[d-4]),r(l[d-3]),r(l[d-2]),r(l[d-1])]),this.asyncStream_.push(this.decryptChunk_(l.subarray(d,d+o),t,i,c));this.asyncStream_.push((function(){var e;/*! @name aes-decrypter @version 4.0.1 @license Apache-2.0 */s(null,(e=c).subarray(0,e.byteLength-e[e.byteLength-1]))}))}static get STEP(){return 32e3}decryptChunk_(e,t,n,a){return function(){const s=function(e,t,n){const a=new Int32Array(e.buffer,e.byteOffset,e.byteLength>>2),s=new i(Array.prototype.slice.call(t)),o=new Uint8Array(e.byteLength),l=new Int32Array(o.buffer);let c,d,u,h,p,m,f,g,y;for(c=n[0],d=n[1],u=n[2],h=n[3],y=0;y<a.length;y+=4)p=r(a[y]),m=r(a[y+1]),f=r(a[y+2]),g=r(a[y+3]),s.decrypt(p,m,f,g,l,y),l[y]=r(l[y]^c),l[y+1]=r(l[y+1]^d),l[y+2]=r(l[y+2]^u),l[y+3]=r(l[y+3]^h),c=p,d=m,u=f,h=g;return o}(e,t,n);a.set(s,e.byteOffset)}}}var s,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};s="undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{};var l=s.BigInt||Number;l("0x1"),l("0x100"),l("0x10000"),l("0x1000000"),l("0x100000000"),l("0x10000000000"),l("0x1000000000000"),l("0x100000000000000"),l("0x10000000000000000"),function(){var e=new Uint16Array([65484]),t=new Uint8Array(e.buffer,e.byteOffset,e.byteLength);255===t[0]||t[0]}();const c=function(e){const t={};return Object.keys(e).forEach((i=>{const n=e[i];var r;r=n,("function"===ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer)?t[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:t[i]=n})),t};self.onmessage=function(e){const t=e.data,i=new Uint8Array(t.encrypted.bytes,t.encrypted.byteOffset,t.encrypted.byteLength),n=new Uint32Array(t.key.bytes,t.key.byteOffset,t.key.byteLength/4),r=new Uint32Array(t.iv.bytes,t.iv.byteOffset,t.iv.byteLength/4);new a(i,n,r,(function(e,i){self.postMessage(c({source:t.source,decrypted:i}),[i.buffer])}))}})));var LY=lQ(RY);const DY=e=>{let t=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(t="main-desc"),t},jY=(e,t)=>{e.abort(),e.pause(),t&&t.activePlaylistLoader&&(t.activePlaylistLoader.pause(),t.activePlaylistLoader=null)},$Y=(e,t)=>{t.activePlaylistLoader=e,e.load()},BY={AUDIO:(e,t)=>()=>{const{segmentLoaders:{[e]:i},mediaTypes:{[e]:n},excludePlaylist:r}=t;jY(i,n);const a=n.activeTrack(),s=n.activeGroup(),o=(s.filter((e=>e.default))[0]||s[0]).id,l=n.tracks[o];if(a!==l){BG.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const e in n.tracks)n.tracks[e].enabled=n.tracks[e]===l;n.onTrackChanged()}else r({error:{message:"Problem encountered loading the default audio track."}})},SUBTITLES:(e,t)=>()=>{const{segmentLoaders:{[e]:i},mediaTypes:{[e]:n}}=t;BG.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),jY(i,n);const r=n.activeTrack();r&&(r.mode="disabled"),n.onTrackChanged()}},qY={AUDIO:(e,t,i)=>{if(!t)return;const{tech:n,requestOptions:r,segmentLoaders:{[e]:a}}=i;t.on("loadedmetadata",(()=>{const e=t.media();a.playlist(e,r),(!n.paused()||e.endList&&"none"!==n.preload())&&a.load()})),t.on("loadedplaylist",(()=>{a.playlist(t.media(),r),n.paused()||a.load()})),t.on("error",BY[e](e,i))},SUBTITLES:(e,t,i)=>{const{tech:n,requestOptions:r,segmentLoaders:{[e]:a},mediaTypes:{[e]:s}}=i;t.on("loadedmetadata",(()=>{const e=t.media();a.playlist(e,r),a.track(s.activeTrack()),(!n.paused()||e.endList&&"none"!==n.preload())&&a.load()})),t.on("loadedplaylist",(()=>{a.playlist(t.media(),r),n.paused()||a.load()})),t.on("error",BY[e](e,i))}},UY={AUDIO:(e,t)=>{const{vhs:i,sourceType:n,segmentLoaders:{[e]:r},requestOptions:a,main:{mediaGroups:s},mediaTypes:{[e]:{groups:o,tracks:l,logger_:c}},mainPlaylistLoader:d}=t,u=wK(d.main);s[e]&&0!==Object.keys(s[e]).length||(s[e]={main:{default:{default:!0}}},u&&(s[e].main.default.playlists=d.main.playlists));for(const h in s[e]){o[h]||(o[h]=[]);for(const r in s[e][h]){let p,m=s[e][h][r];if(u?(c(`AUDIO group '${h}' label '${r}' is a main playlist`),m.isMainPlaylist=!0,p=null):p="vhs-json"===n&&m.playlists?new DK(m.playlists[0],i,a):m.resolvedUri?new DK(m.resolvedUri,i,a):m.playlists&&"dash"===n?new aQ(m.playlists[0],i,a,d):null,m=GG({id:r,playlistLoader:p},m),qY[e](e,m.playlistLoader,t),o[h].push(m),void 0===l[r]){const e=new BG.AudioTrack({id:r,kind:DY(m),enabled:!1,language:m.language,default:m.default,label:r});l[r]=e}}}r.on("error",BY[e](e,t))},SUBTITLES:(e,t)=>{const{tech:i,vhs:n,sourceType:r,segmentLoaders:{[e]:a},requestOptions:s,main:{mediaGroups:o},mediaTypes:{[e]:{groups:l,tracks:c}},mainPlaylistLoader:d}=t;for(const u in o[e]){l[u]||(l[u]=[]);for(const a in o[e][u]){if(!n.options_.useForcedSubtitles&&o[e][u][a].forced)continue;let h,p=o[e][u][a];if("hls"===r)h=new DK(p.resolvedUri,n,s);else if("dash"===r){const e=p.playlists.filter((e=>e.excludeUntil!==1/0));if(!e.length)return;h=new aQ(p.playlists[0],n,s,d)}else"vhs-json"===r&&(h=new DK(p.playlists?p.playlists[0]:p.resolvedUri,n,s));if(p=GG({id:a,playlistLoader:h},p),qY[e](e,p.playlistLoader,t),l[u].push(p),void 0===c[a]){const e=i.addRemoteTextTrack({id:a,kind:"subtitles",default:p.default&&p.autoselect,language:p.language,label:a},!1).track;c[a]=e}}}a.on("error",BY[e](e,t))},"CLOSED-CAPTIONS":(e,t)=>{const{tech:i,main:{mediaGroups:n},mediaTypes:{[e]:{groups:r,tracks:a}}}=t;for(const s in n[e]){r[s]||(r[s]=[]);for(const t in n[e][s]){const o=n[e][s][t];if(!/^(?:CC|SERVICE)/.test(o.instreamId))continue;const l=i.options_.vhs&&i.options_.vhs.captionServices||{};let c={label:t,language:o.language,instreamId:o.instreamId,default:o.default&&o.autoselect};if(l[c.instreamId]&&(c=GG(c,l[c.instreamId])),void 0===c.default&&delete c.default,r[s].push(GG({id:t},o)),void 0===a[t]){const e=i.addRemoteTextTrack({id:c.instreamId,kind:"captions",default:c.default,language:c.language,label:c.label},!1).track;a[t]=e}}}}},FY=(e,t)=>{for(let i=0;i<e.length;i++){if(bK(t,e[i]))return!0;if(e[i].playlists&&FY(e[i].playlists,t))return!0}return!1},zY={AUDIO:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:i}}}=t;for(const e in i)if(i[e].enabled)return i[e];return null},SUBTITLES:(e,t)=>()=>{const{mediaTypes:{[e]:{tracks:i}}}=t;for(const e in i)if("showing"===i[e].mode||"hidden"===i[e].mode)return i[e];return null}},VY=e=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((t=>{UY[t](t,e)}));const{mediaTypes:t,mainPlaylistLoader:i,tech:n,vhs:r,segmentLoaders:{AUDIO:a,main:s}}=e;["AUDIO","SUBTITLES"].forEach((i=>{t[i].activeGroup=((e,t)=>i=>{const{mainPlaylistLoader:n,mediaTypes:{[e]:{groups:r}}}=t,a=n.media();if(!a)return null;let s=null;a.attributes[e]&&(s=r[a.attributes[e]]);const o=Object.keys(r);if(!s)if("AUDIO"===e&&o.length>1&&wK(t.main))for(let e=0;e<o.length;e++){const t=r[o[e]];if(FY(t,a)){s=t;break}}else r.main?s=r.main:1===o.length&&(s=r[o[0]]);return void 0===i?s:null!==i&&s&&s.filter((e=>e.id===i.id))[0]||null})(i,e),t[i].activeTrack=zY[i](i,e),t[i].onGroupChanged=((e,t)=>()=>{const{segmentLoaders:{[e]:i,main:n},mediaTypes:{[e]:r}}=t,a=r.activeTrack(),s=r.getActiveGroup(),o=r.activePlaylistLoader,l=r.lastGroup_;s&&l&&s.id===l.id||(r.lastGroup_=s,r.lastTrack_=a,jY(i,r),s&&!s.isMainPlaylist&&(s.playlistLoader?(i.resyncLoader(),$Y(s.playlistLoader,r)):o&&n.resetEverything()))})(i,e),t[i].onGroupChanging=((e,t)=>()=>{const{segmentLoaders:{[e]:i},mediaTypes:{[e]:n}}=t;n.lastGroup_=null,i.abort(),i.pause()})(i,e),t[i].onTrackChanged=((e,t)=>()=>{const{mainPlaylistLoader:i,segmentLoaders:{[e]:n,main:r},mediaTypes:{[e]:a}}=t,s=a.activeTrack(),o=a.getActiveGroup(),l=a.activePlaylistLoader,c=a.lastTrack_;if((!c||!s||c.id!==s.id)&&(a.lastGroup_=o,a.lastTrack_=s,jY(n,a),o)){if(o.isMainPlaylist){if(!s||!c||s.id===c.id)return;const e=t.vhs.playlistController_,n=e.selectPlaylist();if(e.media()===n)return;return a.logger_(`track change. Switching main audio from ${c.id} to ${s.id}`),i.pause(),r.resetEverything(),void e.fastQualityChange_(n)}if("AUDIO"===e){if(!o.playlistLoader)return r.setAudio(!0),void r.resetEverything();n.setAudio(!0),r.setAudio(!1)}l!==o.playlistLoader?(n.track&&n.track(s),n.resetEverything(),$Y(o.playlistLoader,a)):$Y(o.playlistLoader,a)}})(i,e),t[i].getActiveGroup=((e,{mediaTypes:t})=>()=>{const i=t[e].activeTrack();return i?t[e].activeGroup(i):null})(i,e)}));const o=t.AUDIO.activeGroup();if(o){const e=(o.filter((e=>e.default))[0]||o[0]).id;t.AUDIO.tracks[e].enabled=!0,t.AUDIO.onGroupChanged(),t.AUDIO.onTrackChanged();t.AUDIO.getActiveGroup().playlistLoader?(s.setAudio(!1),a.setAudio(!0)):s.setAudio(!0)}i.on("mediachange",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanged()))})),i.on("mediachanging",(()=>{["AUDIO","SUBTITLES"].forEach((e=>t[e].onGroupChanging()))}));const l=()=>{t.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",t.SUBTITLES.onTrackChanged),r.on("dispose",(()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",t.SUBTITLES.onTrackChanged)})),n.clearTracks("audio");for(const c in t.AUDIO.tracks)n.audioTracks().addTrack(t.AUDIO.tracks[c])};let HY;const WY=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],GY=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]};class KY extends BG.EventTarget{constructor(e){super();const{src:t,withCredentials:i,tech:n,bandwidth:r,externVhs:a,useCueTags:s,playlistExclusionDuration:o,enableLowInitialPlaylist:l,sourceType:c,cacheEncryptionKeys:d,bufferBasedABR:u,leastPixelDiffSelector:h,captionServices:p}=e;if(!t)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:m}=e;null==m&&(m=1/0),HY=a,this.bufferBasedABR=Boolean(u),this.leastPixelDiffSelector=Boolean(h),this.withCredentials=i,this.tech_=n,this.vhs_=n.vhs,this.sourceType_=c,this.useCueTags_=s,this.playlistExclusionDuration=o,this.maxPlaylistRetries=m,this.enableLowInitialPlaylist=l,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:m,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=(()=>{const e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach((t=>{e[t]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:sY,activeTrack:sY,getActiveGroup:sY,onGroupChanged:sY,onTrackChanged:sY,lastTrack_:null,logger_:WG(`MediaGroups[${t}]`)}})),e})(),this.mediaSource=new lj.MediaSource,this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.seekable_=KG(),this.hasPlayed_=!1,this.syncController_=new PY(e),this.segmentMetadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new LY,this.sourceUpdater_=new SY(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new IY;const f={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:p,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:r,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_="dash"===this.sourceType_?new aQ(t,this.vhs_,GG(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new DK(t,this.vhs_,GG(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new aY(GG(f,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new aY(GG(f,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new NY(GG(f,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise(((e,t)=>{function i(){n.off("vttjserror",r),e()}function r(){n.off("vttjsloaded",i),t()}n.one("vttjsloaded",i),n.one("vttjserror",r),n.addWebVttScript_()}))}),e),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",(()=>this.startABRTimer_())),this.tech_.on("pause",(()=>this.stopABRTimer_())),this.tech_.on("play",(()=>this.startABRTimer_()))),WY.forEach((e=>{this[e+"_"]=GY.bind(this,e)})),this.logger_=WG("pc"),this.triggeredFmp4Usage=!1,"none"===this.tech_.preload()?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const g="none"===this.tech_.preload()?"play":"loadstart";this.tech_.one(g,(()=>{const e=Date.now();this.tech_.one("loadeddata",(()=>{this.timeToLoadedData__=Date.now()-e,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends}))}))}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),t=this.audioAppendsToLoadedData_();return-1===e||-1===t?-1:e+t}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const t=this.selectPlaylist();t&&this.shouldSwitchToMedia_(t)&&this.switchMedia_(t,e)}switchMedia_(e,t,i){const n=this.media(),r=n&&(n.id||n.uri),a=e.id||e.uri;r&&r!==a&&(this.logger_(`switch media ${r} -> ${a} from ${t}`),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${t}`})),this.mainPlaylistLoader_.media(e,i)}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=lj.setInterval((()=>this.checkABR_()),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(lj.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),t=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return t;const i=e.mediaGroups.AUDIO,n=Object.keys(i);let r;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{const e=i.main||n.length&&i[n[0]];for(const t in e)if(e[t].default){r={label:t};break}}if(!r)return t;const a=[];for(const s in i)if(i[s][r.label]){const t=i[s][r.label];if(t.playlists&&t.playlists.length)a.push.apply(a,t.playlists);else if(t.uri)a.push(t);else if(e.playlists.length)for(let i=0;i<e.playlists.length;i++){const t=e.playlists[i];t.attributes&&t.attributes.AUDIO&&t.attributes.AUDIO===s&&a.push(t)}}return a.length?a:t}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",(()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;yK(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,e.endList&&"none"!==this.tech_.preload()&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),VY({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",(()=>{this.trigger("selectedinitialmedia")}))})),this.mainPlaylistLoader_.on("loadedplaylist",(()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){let t;if(this.excludeUnsupportedVariants_(),this.enableLowInitialPlaylist&&(t=this.selectInitialPlaylist()),t||(t=this.selectPlaylist()),!t||!this.shouldSwitchToMedia_(t))return;this.initialMedia_=t,this.switchMedia_(this.initialMedia_,"initial");if(!("vhs-json"===this.sourceType_&&this.initialMedia_.segments))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)})),this.mainPlaylistLoader_.on("error",(()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})})),this.mainPlaylistLoader_.on("mediachanging",(()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()})),this.mainPlaylistLoader_.on("mediachange",(()=>{const e=this.mainPlaylistLoader_.media(),t=1.5*e.targetDuration*1e3;yK(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=t,this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})})),this.mainPlaylistLoader_.on("playlistunchanged",(()=>{const e=this.mainPlaylistLoader_.media();if("playlist-unchanged"===e.lastExcludeReason_)return;this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))})),this.mainPlaylistLoader_.on("renditiondisabled",(()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})})),this.mainPlaylistLoader_.on("renditionenabled",(()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}))}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,t){const i=e.mediaGroups||{};let n=!0;const r=Object.keys(i.AUDIO);for(const a in i.AUDIO)for(const e in i.AUDIO[a]){i.AUDIO[a][e].uri||(n=!1)}n&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),HY.Playlist.isAes(t)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),r.length&&Object.keys(i.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const t=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),n=this.bufferLowWaterLine(),r=this.bufferHighWaterLine();return function({currentPlaylist:e,buffered:t,currentTime:i,nextPlaylist:n,bufferLowWaterLine:r,bufferHighWaterLine:a,duration:s,bufferBasedABR:o,log:l}){if(!n)return BG.log.warn("We received no playlist to switch to. Please check your stream."),!1;const c=`allowing switch ${e&&e.id||"null"} -> ${n.id}`;if(!e)return l(`${c} as current playlist is not set`),!0;if(n.id===e.id)return!1;const d=Boolean(JG(t,i).length);if(!e.endList)return d||"number"!=typeof e.partTargetDuration?(l(`${c} as current playlist is live`),!0):(l(`not ${c} as current playlist is live llhls, but currentTime isn't in buffered.`),!1);const u=nK(t,i),h=o?sQ.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:sQ.MAX_BUFFER_LOW_WATER_LINE;if(s<h)return l(`${c} as duration < max low water line (${s} < ${h})`),!0;const p=n.attributes.BANDWIDTH,m=e.attributes.BANDWIDTH;if(p<m&&(!o||u<a)){let e=`${c} as next bandwidth < current bandwidth (${p} < ${m})`;return o&&(e+=` and forwardBuffer < bufferHighWaterLine (${u} < ${a})`),l(e),!0}if((!o||p>m)&&u>=r){let e=`${c} as forwardBuffer >= bufferLowWaterLine (${u} >= ${r})`;return o&&(e+=` and next bandwidth > current bandwidth (${p} > ${m})`),l(e),!0}return l(`not ${c} as no switching criteria met`),!1}({buffered:this.tech_.buffered(),currentTime:i,currentPlaylist:t,nextPlaylist:e,bufferLowWaterLine:n,bufferHighWaterLine:r,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",(()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")})),this.mainSegmentLoader_.on("timeout",(()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()})),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",(()=>{this.trigger("progress")})),this.mainSegmentLoader_.on("error",(()=>{const e=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:e.playlist,error:e})})),this.mainSegmentLoader_.on("appenderror",(()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")})),this.mainSegmentLoader_.on("syncinfoupdate",(()=>{this.onSyncInfoUpdate_()})),this.mainSegmentLoader_.on("timestampoffset",(()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})})),this.audioSegmentLoader_.on("syncinfoupdate",(()=>{this.onSyncInfoUpdate_()})),this.audioSegmentLoader_.on("appenderror",(()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")})),this.mainSegmentLoader_.on("ended",(()=>{this.logger_("main segment loader ended"),this.onEndOfStream()})),this.mainSegmentLoader_.on("earlyabort",(e=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:10}))}));const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const e=this.getCodecsOrExclude_();e&&this.sourceUpdater_.addOrChangeSourceBuffers(e)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",(()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("fmp4",(()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)})),this.audioSegmentLoader_.on("ended",(()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}))}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}fastQualityChange_(e=this.selectPlaylist()){e!==this.mainPlaylistLoader_.media()?(this.switchMedia_(e,"fast-quality"),this.resetMainLoaderReplaceSegments()):this.logger_("skipping fastQualityChange because new media is same as old")}resetMainLoaderReplaceSegments(){const e=this.tech_.buffered(),t=e.end(e.length-1);this.mainSegmentLoader_.replaceSegmentsUntil=t,this.mainSegmentLoader_.resetLoaderProperties(),this.mainSegmentLoader_.resetLoader()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0)?this.tech_.setCurrentTime(e.end(e.length-1)):void 0}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const t=this.seekable();if(!t.length)return!1;const i=t.end(0);let n=i;if(e.start){const r=e.start.timeOffset;n=r<0?Math.max(i+r,t.start(0)):Math.min(i,r)}this.trigger("firstplay"),this.tech_.setCurrentTime(n)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();void 0!==e&&"function"==typeof e.then&&e.then(null,(e=>{}))}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const t=this.duration();e[e.length-1].endTime=isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const t=this.mainSegmentLoader_.getCurrentMediaInfo_();e=!t||t.hasVideo?e&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const t=this.syncController_.getExpiredTime(e,this.duration());if(null===t)return!1;const i=HY.Playlist.playlistEnd(e,t),n=this.tech_.currentTime(),r=this.tech_.buffered();if(!r.length)return i-n<=YG;const a=r.end(r.length-1);return a-n<=YG&&i-a<=YG}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:t={},playlistExclusionDuration:i}){if(e=e||this.mainPlaylistLoader_.media(),i=i||t.playlistExclusionDuration||this.playlistExclusionDuration,!e)return this.error=t,void("open"!==this.mediaSource.readyState?this.trigger("error"):this.sourceUpdater_.endOfStream("network"));e.playlistErrors_++;const n=this.mainPlaylistLoader_.main.playlists,r=n.filter(fK),a=1===r.length&&r[0]===e;if(1===n.length&&i!==1/0)return BG.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){let t=!1;n.forEach((i=>{if(i===e)return;const n=i.excludeUntil;void 0!==n&&n!==1/0&&(t=!0,delete i.excludeUntil)})),t&&(BG.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let s;s=e.playlistErrors_>this.maxPlaylistRetries?1/0:Date.now()+1e3*i,e.excludeUntil=s,t.reason&&(e.lastExcludeReason_=t.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const o=this.selectPlaylist();if(!o)return this.error="Playback cannot continue. No available working or supported playlists.",void this.trigger("error");const l=t.internal?this.logger_:BG.log.warn,c=t.message?" "+t.message:"";l(`${t.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${c} Switching to playlist ${o.id}.`),o.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),o.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=o.targetDuration/2*1e3||5e3,u="number"==typeof o.lastRequest&&Date.now()-o.lastRequest<=d;return this.switchMedia_(o,"exclude",a||u)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,t){const i=[],n="all"===e;(n||"main"===e)&&i.push(this.mainPlaylistLoader_);const r=[];(n||"audio"===e)&&r.push("AUDIO"),(n||"subtitle"===e)&&(r.push("CLOSED-CAPTIONS"),r.push("SUBTITLES")),r.forEach((e=>{const t=this.mediaTypes_[e]&&this.mediaTypes_[e].activePlaylistLoader;t&&i.push(t)})),["main","audio","subtitle"].forEach((t=>{const n=this[`${t}SegmentLoader_`];!n||e!==t&&"all"!==e||i.push(n)})),i.forEach((e=>t.forEach((t=>{"function"==typeof e[t]&&e[t]()}))))}setCurrentTime(e){const t=JG(this.tech_.buffered(),e);return this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media()&&this.mainPlaylistLoader_.media().segments?t&&t.length?e:(this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.resetEverything(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.resetEverything(),void this.load()):0}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:HY.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}onSyncInfoUpdate_(){let e;if(!this.mainPlaylistLoader_)return;let t=this.mainPlaylistLoader_.media();if(!t)return;let i=this.syncController_.getExpiredTime(t,this.duration());if(null===i)return;const n=this.mainPlaylistLoader_.main,r=HY.Playlist.seekable(t,i,HY.Playlist.liveEdgeDelay(n,t));if(0===r.length)return;if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(t=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),i=this.syncController_.getExpiredTime(t,this.duration()),null===i)return;if(e=HY.Playlist.seekable(t,i,HY.Playlist.liveEdgeDelay(n,t)),0===e.length)return}let a,s;this.seekable_&&this.seekable_.length&&(a=this.seekable_.end(0),s=this.seekable_.start(0)),e?e.start(0)>r.end(0)||r.start(0)>e.end(0)?this.seekable_=r:this.seekable_=KG([[e.start(0)>r.start(0)?e.start(0):r.start(0),e.end(0)<r.end(0)?e.end(0):r.end(0)]]):this.seekable_=r,this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===a&&this.seekable_.start(0)===s||(this.logger_(`seekable updated [${eK(this.seekable_)}]`),this.tech_.trigger("seekablechanged"))}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),"open"!==this.mediaSource.readyState)return this.updateDuration_=this.updateDuration.bind(this,e),void this.mediaSource.addEventListener("sourceopen",this.updateDuration_);if(e){const e=this.seekable();if(!e.length)return;return void((isNaN(this.mediaSource.duration)||this.mediaSource.duration<e.end(e.length-1))&&this.sourceUpdater_.setDuration(e.end(e.length-1)))}const t=this.tech_.buffered();let i=HY.Playlist.duration(this.mainPlaylistLoader_.media());t.length>0&&(i=Math.max(i,t.end(t.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach((e=>{const t=this.mediaTypes_[e].groups;for(const i in t)t[i].forEach((e=>{e.playlistLoader&&e.playlistLoader.dispose()}))})),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,t=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=!e||!!this.audioSegmentLoader_.getCurrentMediaInfo_();return!(!t||!i)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},t=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const i=BQ(this.main(),t),n={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(n.video=i.video||e.main.videoCodec||"avc1.4d400d"),e.main.isMuxed&&(n.video+=`,${i.audio||e.main.audioCodec||j$}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(n.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||j$,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!n.audio&&!n.video)return void this.excludePlaylist({playlistToExclude:t,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});const a={};let s;if(["video","audio"].forEach((function(t){if(n.hasOwnProperty(t)&&(i=e[t].isFmp4,r=n[t],!(i?L$(r):D$(r)))){const i=e[t].isFmp4?"browser":"muxer";a[i]=a[i]||[],a[i].push(n[t]),"audio"===t&&(s=i)}var i,r})),r&&s&&t.attributes.AUDIO){const e=t.attributes.AUDIO;this.main().playlists.forEach((i=>{(i.attributes&&i.attributes.AUDIO)===e&&i!==t&&(i.excludeUntil=1/0)})),this.logger_(`excluding audio group ${e} as ${s} does not support codec(s): "${n.audio}"`)}if(!Object.keys(a).length){if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const e=[];if(["video","audio"].forEach((t=>{const i=(P$(this.sourceUpdater_.codecs[t]||"")[0]||{}).type,r=(P$(n[t]||"")[0]||{}).type;i&&r&&i.toLowerCase()!==r.toLowerCase()&&e.push(`"${this.sourceUpdater_.codecs[t]}" -> "${n[t]}"`)})),e.length)return void this.excludePlaylist({playlistToExclude:t,error:{message:`Codec switching not supported: ${e.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0})}return n}{const e=Object.keys(a).reduce(((e,t)=>(e&&(e+=", "),e+=`${t} does not support codec(s): "${a[t].join(",")}"`)),"")+".";this.excludePlaylist({playlistToExclude:t,error:{internal:!0,message:e},playlistExclusionDuration:1/0})}}tryToCreateSourceBuffers_(){if("open"!==this.mediaSource.readyState||this.sourceUpdater_.hasCreatedSourceBuffers())return;if(!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const t=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(t)}excludeUnsupportedVariants_(){const e=this.main().playlists,t=[];Object.keys(e).forEach((i=>{const n=e[i];if(-1!==t.indexOf(n.id))return;t.push(n.id);const r=BQ(this.main,n),a=[];!r.audio||D$(r.audio)||L$(r.audio)||a.push(`audio codec ${r.audio}`),!r.video||D$(r.video)||L$(r.video)||a.push(`video codec ${r.video}`),r.text&&"stpp.ttml.im1t"===r.text&&a.push(`text codec ${r.text}`),a.length&&(n.excludeUntil=1/0,this.logger_(`excluding ${n.id} for unsupported: ${a.join(", ")}`))}))}excludeIncompatibleVariants_(e){const t=[],i=this.main().playlists,n=jQ(P$(e)),r=$Q(n),a=n.video&&P$(n.video)[0]||null,s=n.audio&&P$(n.audio)[0]||null;Object.keys(i).forEach((e=>{const n=i[e];if(-1!==t.indexOf(n.id)||n.excludeUntil===1/0)return;t.push(n.id);const o=[],l=BQ(this.mainPlaylistLoader_.main,n),c=$Q(l);if(l.audio||l.video){if(c!==r&&o.push(`codec count "${c}" !== "${r}"`),!this.sourceUpdater_.canChangeType()){const e=l.video&&P$(l.video)[0]||null,t=l.audio&&P$(l.audio)[0]||null;e&&a&&e.type.toLowerCase()!==a.type.toLowerCase()&&o.push(`video codec "${e.type}" !== "${a.type}"`),t&&s&&t.type.toLowerCase()!==s.type.toLowerCase()&&o.push(`audio codec "${t.type}" !== "${s.type}"`)}o.length&&(n.excludeUntil=1/0,this.logger_(`excluding ${n.id}: ${o.join(" && ")}`))}}))}updateAdCues_(e){let t=0;const i=this.seekable();i.length&&(t=i.start(0)),function(e,t,i=0){if(!e.segments)return;let n,r=i;for(let a=0;a<e.segments.length;a++){const i=e.segments[a];if(n||(n=OY(t,r+i.duration/2)),n){if("cueIn"in i){n.endTime=r,n.adEndTime=r,r+=i.duration,n=null;continue}if(r<n.endTime){r+=i.duration;continue}n.endTime+=i.duration}else if("cueOut"in i&&(n=new lj.VTTCue(r,r+i.duration,i.cueOut),n.adStartTime=r,n.adEndTime=r+parseFloat(i.cueOut),t.addCue(n)),"cueOutCont"in i){const[e,a]=i.cueOutCont.split("/").map(parseFloat);n=new lj.VTTCue(r,r+i.duration,""),n.adStartTime=r-e,n.adEndTime=n.adStartTime+a,t.addCue(n)}r+=i.duration}}(e,this.cueTagsTrack_,t)}goalBufferLength(){const e=this.tech_.currentTime(),t=sQ.GOAL_BUFFER_LENGTH,i=sQ.GOAL_BUFFER_LENGTH_RATE,n=Math.max(t,sQ.MAX_GOAL_BUFFER_LENGTH);return Math.min(t+e*i,n)}bufferLowWaterLine(){const e=this.tech_.currentTime(),t=sQ.BUFFER_LOW_WATER_LINE,i=sQ.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(t,sQ.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(t,sQ.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(t+e*i,this.bufferBasedABR?r:n)}bufferHighWaterLine(){return sQ.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){YQ(this.inbandTextTracks_,"com.apple.streaming",this.tech_),(({inbandTextTracks:e,dateRanges:t})=>{const i=e.metadataTrack_;if(!i)return;const n=lj.WebKitDataCue||lj.VTTCue;t.forEach((e=>{for(const t of Object.keys(e)){if(QQ.has(t))continue;const r=new n(e.startTime,e.endTime,"");r.id=e.id,r.type="com.apple.quicktime.HLS",r.value={key:KQ[t],data:e[t]},"scte35Out"!==t&&"scte35In"!==t||(r.value.data=new Uint8Array(r.value.data.match(/[\da-f]{2}/gi)).buffer),i.addCue(r)}e.processDateRange()}))})({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,t,i){const n=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();YQ(this.inbandTextTracks_,e,this.tech_),GQ({inbandTextTracks:this.inbandTextTracks_,metadataArray:t,timestampOffset:n,videoDuration:i})}}class QY{constructor(e,t,i){const{playlistController_:n}=e,r=n.fastQualityChange_.bind(n);if(t.attributes){const e=t.attributes.RESOLUTION;this.width=e&&e.width,this.height=e&&e.height,this.bandwidth=t.attributes.BANDWIDTH,this.frameRate=t.attributes["FRAME-RATE"]}var a,s,o;this.codecs=BQ(n.main(),t),this.playlist=t,this.id=i,this.enabled=(a=e.playlists,s=t.id,o=r,e=>{const t=a.main.playlists[s],i=mK(t),n=fK(t);return void 0===e?n:(e?delete t.disabled:t.disabled=!0,e===n||i||(o(),e?a.trigger("renditionenabled"):a.trigger("renditiondisabled")),e)})}}const YY=["seeking","seeked","pause","playing","error"];class XY{constructor(e){this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=WG("PlaybackWatcher"),this.logger_("initialize");const t=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),n=()=>this.techWaiting_(),r=()=>this.resetTimeUpdate_(),a=this.playlistController_,s=["main","subtitle","audio"],o={};s.forEach((e=>{o[e]={reset:()=>this.resetSegmentDownloads_(e),updateend:()=>this.checkSegmentDownloads_(e)},a[`${e}SegmentLoader_`].on("appendsdone",o[e].updateend),a[`${e}SegmentLoader_`].on("playlistupdate",o[e].reset),this.tech_.on(["seeked","seeking"],o[e].reset)}));const l=e=>{["main","audio"].forEach((t=>{a[`${t}SegmentLoader_`][e]("appended",this.seekingAppendCheck_)}))};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),l("off"))},this.clearSeekingAppendCheck_=()=>l("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),l("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",n),this.tech_.on(YY,r),this.tech_.on("canplay",i),this.tech_.one("play",t),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",n),this.tech_.off(YY,r),this.tech_.off("canplay",i),this.tech_.off("play",t),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),s.forEach((e=>{a[`${e}SegmentLoader_`].off("appendsdone",o[e].updateend),a[`${e}SegmentLoader_`].off("playlistupdate",o[e].reset),this.tech_.off(["seeked","seeking"],o[e].reset)})),this.checkCurrentTimeTimeout_&&lj.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&lj.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=lj.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const t=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=t.buffered_()}checkSegmentDownloads_(e){const t=this.playlistController_,i=t[`${e}SegmentLoader_`],n=i.buffered_(),r=function(e,t){if(e===t)return!1;if(!e&&t||!t&&e)return!0;if(e.length!==t.length)return!0;for(let i=0;i<e.length;i++)if(e.start(i)!==t.start(i)||e.end(i)!==t.end(i))return!0;return!1}(this[`${e}Buffered_`],n);this[`${e}Buffered_`]=n,r?this.resetSegmentDownloads_(e):(this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:i.playlist_&&i.playlist_.id,buffered:tK(n)}),this[`${e}StalledDownloads_`]<10||(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),"subtitle"!==e&&t.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0})))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),t=this.tech_.buffered();if(this.lastRecordedTime===e&&(!t.length||e+YG>=t.end(t.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&e===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):e===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=e)}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const e=this.seekable(),t=this.tech_.currentTime();let i;if(this.afterSeekableWindow_(e,t,this.media(),this.allowSeeksWithinUnsafeLiveWindow)){i=e.end(e.length-1)}if(this.beforeSeekableWindow_(e,t)){const t=e.start(0);i=t+(t===e.end(0)?0:YG)}if(void 0!==i)return this.logger_(`Trying to seek outside of seekable at time ${t} with seekable range ${eK(e)}. Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0;const n=this.playlistController_.sourceUpdater_,r=this.tech_.buffered(),a=n.audioBuffer?n.audioBuffered():null,s=n.videoBuffer?n.videoBuffered():null,o=this.media(),l=o.partTargetDuration?o.partTargetDuration:2*(o.targetDuration-QG),c=[a,s];for(let u=0;u<c.length;u++){if(!c[u])continue;if(nK(c[u],t)<l)return!1}const d=ZG(r,t);return 0!==d.length&&(i=d.start(0)+YG,this.logger_(`Buffered region starts (${d.start(0)})  just beyond seek point (${t}). Seeking to ${i}.`),this.tech_.setCurrentTime(i),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),t=this.tech_.buffered(),i=JG(t,e);return i.length&&e+3<=i.end(0)?(this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${i.start(0)} -> ${i.end(0)}]. Attempting to resume playback by seeking to the current time.`),void this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"})):void 0}techWaiting_(){const e=this.seekable(),t=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,t)){const i=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${t}. Seeking to live point (seekable end) ${i}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const i=this.tech_.vhs.playlistController_.sourceUpdater_,n=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:t}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(t),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const r=ZG(n,t);return r.length>0&&(this.logger_(`Stopped at ${t} and seeking to ${r.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(t),!0)}afterSeekableWindow_(e,t,i,n=!1){if(!e.length)return!1;let r=e.end(e.length-1)+YG;const a=!i.endList,s="number"==typeof i.partTargetDuration;return a&&(s||n)&&(r=e.end(e.length-1)+3*i.targetDuration),t>r}beforeSeekableWindow_(e,t){return!!(e.length&&e.start(0)>0&&t<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:t,currentTime:i}){if(!e)return;let n;if(e.length&&t.length){const r=JG(e,i-3),a=JG(e,i),s=JG(t,i);s.length&&!a.length&&r.length&&(n={start:r.end(0),end:s.end(0)})}else{ZG(e,i).length||(n=this.gapFromVideoUnderflow_(e,i))}return!!n&&(this.logger_(`Encountered a gap in video from ${n.start} to ${n.end}. Seeking to current time ${i}`),!0)}skipTheGap_(e){const t=this.tech_.buffered(),i=this.tech_.currentTime(),n=ZG(t,i);this.resetTimeUpdate_(),0!==n.length&&i===e&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",n.start(0)),this.tech_.setCurrentTime(n.start(0)+QG),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}))}gapFromVideoUnderflow_(e,t){const i=function(e){if(e.length<2)return KG();const t=[];for(let i=1;i<e.length;i++){const n=e.end(i-1),r=e.start(i);t.push([n,r])}return KG(t)}(e);for(let n=0;n<i.length;n++){const e=i.start(n),r=i.end(n);if(t-e<4&&t-e>2)return{start:e,end:r}}return null}}const JY={errorInterval:30,getSource(e){return e(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource())}},ZY=function(e,t){let i=0,n=0;const r=GG(JY,t);e.ready((()=>{e.trigger({type:"usage",name:"vhs-error-reload-initialized"})}));const a=function(){n&&e.currentTime(n)},s=function(t){null!=t&&(n=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(t),e.trigger({type:"usage",name:"vhs-error-reload"}),e.play())},o=function(){if(Date.now()-i<1e3*r.errorInterval)e.trigger({type:"usage",name:"vhs-error-reload-canceled"});else{if(r.getSource&&"function"==typeof r.getSource)return i=Date.now(),r.getSource.call(e,s);BG.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},l=function(){e.off("loadedmetadata",a),e.off("error",o),e.off("dispose",l)};e.on("error",o),e.on("dispose",l),e.reloadSourceOnError=function(t){l(),ZY(e,t)}},eX=function(e){ZY(this,e)};var tX="3.5.3";const iX={PlaylistLoader:DK,Playlist:TK,utils:KK,STANDARD_PLAYLIST_SELECTOR:WQ,INITIAL_PLAYLIST_SELECTOR:function(){const e=this.playlists.main.playlists.filter(TK.isEnabled);zQ(e,((e,t)=>VQ(e,t)));return e.filter((e=>!!BQ(this.playlists.main,e).video))[0]||null},lastBandwidthSelector:WQ,movingAverageBandwidthSelector:function(e){let t=-1,i=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){const n=this.useDevicePixelRatio&&lj.devicePixelRatio||1;return t<0&&(t=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(t=e*this.systemBandwidth+(1-e)*t,i=this.systemBandwidth),HQ(this.playlists.main,t,parseInt(FQ(this.tech_.el(),"width"),10)*n,parseInt(FQ(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},comparePlaylistBandwidth:VQ,comparePlaylistResolution:function(e,t){let i,n;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||lj.Number.MAX_VALUE,t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||lj.Number.MAX_VALUE,i===n&&e.attributes.BANDWIDTH&&t.attributes.BANDWIDTH?e.attributes.BANDWIDTH-t.attributes.BANDWIDTH:i-n},xhr:BK()};Object.keys(sQ).forEach((e=>{Object.defineProperty(iX,e,{get:()=>(BG.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),sQ[e]),set(t){BG.log.warn(`using Vhs.${e} is UNSAFE be sure you know what you are doing`),"number"!=typeof t||t<0?BG.log.warn(`value of Vhs.${e} must be greater than or equal to 0`):sQ[e]=t}})}));const nX="videojs-vhs",rX=function(e,t){const i=t.media();let n=-1;for(let r=0;r<e.length;r++)if(e[r].id===i.id){n=r;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})};iX.canPlaySource=function(){return BG.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const aX=({player:e,sourceKeySystems:t,audioMedia:i,mainPlaylists:n})=>{if(!e.eme.initializeMediaKeys)return Promise.resolve();const r=((e,t)=>e.reduce(((e,i)=>{if(!i.contentProtection)return e;const n=t.reduce(((e,t)=>{const n=i.contentProtection[t];return n&&n.pssh&&(e[t]={pssh:n.pssh}),e}),{});return Object.keys(n).length&&e.push(n),e}),[]))(i?n.concat([i]):n,Object.keys(t)),a=[],s=[];return r.forEach((t=>{s.push(new Promise(((t,i)=>{e.tech_.one("keysessioncreated",t)}))),a.push(new Promise(((i,n)=>{e.eme.initializeMediaKeys({keySystems:t},(e=>{e?n(e):i()}))})))})),Promise.race([Promise.all(a),Promise.race(s)])},sX=({player:e,sourceKeySystems:t,media:i,audioMedia:n})=>{const r=((e,t,i)=>{if(!e)return e;let n={};t&&t.attributes&&t.attributes.CODECS&&(n=jQ(P$(t.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);const r=R$(n.video),a=R$(n.audio),s={};for(const o in e)s[o]={},a&&(s[o].audioContentType=a),r&&(s[o].videoContentType=r),t.contentProtection&&t.contentProtection[o]&&t.contentProtection[o].pssh&&(s[o].pssh=t.contentProtection[o].pssh),"string"==typeof e[o]&&(s[o].url=e[o]);return GG(e,s)})(t,i,n);return!!r&&(e.currentSource().keySystems=r,!(r&&!e.eme)||(BG.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1))},oX=()=>{if(!lj.localStorage)return null;const e=lj.localStorage.getItem(nX);if(!e)return null;try{return JSON.parse(e)}catch(E_){return null}},lX=(e,t)=>{e._requestCallbackSet||(e._requestCallbackSet=new Set),e._requestCallbackSet.add(t)},cX=(e,t)=>{e._responseCallbackSet||(e._responseCallbackSet=new Set),e._responseCallbackSet.add(t)},dX=(e,t)=>{e._requestCallbackSet&&(e._requestCallbackSet.delete(t),e._requestCallbackSet.size||delete e._requestCallbackSet)},uX=(e,t)=>{e._responseCallbackSet&&(e._responseCallbackSet.delete(t),e._responseCallbackSet.size||delete e._responseCallbackSet)};iX.supportsNativeHls=function(){if(!pj||!pj.createElement)return!1;const e=pj.createElement("video");if(!BG.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some((function(t){return/maybe|probably/i.test(e.canPlayType(t))}))}(),iX.supportsNativeDash=!!(pj&&pj.createElement&&BG.getTech("Html5").isSupported())&&/maybe|probably/i.test(pj.createElement("video").canPlayType("application/dash+xml")),iX.supportsTypeNatively=e=>"hls"===e?iX.supportsNativeHls:"dash"===e&&iX.supportsNativeDash,iX.isSupported=function(){return BG.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")},iX.xhr.onRequest=function(e){lX(iX.xhr,e)},iX.xhr.onResponse=function(e){cX(iX.xhr,e)},iX.xhr.offRequest=function(e){dX(iX.xhr,e)},iX.xhr.offResponse=function(e){uX(iX.xhr,e)};const hX=BG.getComponent("Component");class pX extends hX{constructor(e,t,i){if(super(t,i.vhs),"number"==typeof i.initialBandwidth&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=WG("VhsHandler"),t.options_&&t.options_.playerId){const e=BG.getPlayer(t.options_.playerId);this.player_=e}if(this.tech_=t,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&t.overrideNativeAudioTracks&&t.overrideNativeVideoTracks)t.overrideNativeAudioTracks(!0),t.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(t.featuresNativeVideoTracks||t.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(pj,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],(e=>{const t=pj.fullscreenElement||pj.webkitFullscreenElement||pj.mozFullScreenElement||pj.msFullscreenElement;t&&t.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()})),this.on(this.tech_,"seeking",(function(){this.ignoreNextSeekingEvent_?this.ignoreNextSeekingEvent_=!1:this.setCurrentTime(this.tech_.currentTime())})),this.on(this.tech_,"error",(function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()})),this.on(this.tech_,"play",this.play)}setOptions_(){if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=!1!==this.options_.llhls,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,"number"!=typeof this.options_.playlistExclusionDuration&&(this.options_.playlistExclusionDuration=60),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){const e=oX();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=sQ.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===sQ.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach((e=>{void 0!==this.source_[e]&&(this.options_[e]=this.source_[e])})),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio}src(e,t){if(!e)return;var i;this.setOptions_(),this.options_.src=0===(i=this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")?JSON.parse(i.substring(i.indexOf(",")+1)):i,this.options_.tech=this.tech_,this.options_.externVhs=iX,this.options_.sourceType=q$(t),this.options_.seekTo=e=>{this.tech_.setCurrentTime(e)},this.playlistController_=new KY(this.options_);const n=GG({liveRangeSafeTimeDelta:YG},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new XY(n),this.playlistController_.on("error",(()=>{const e=BG.players[this.tech_.options_.playerId];let t=this.playlistController_.error;"object"!=typeof t||t.code?"string"==typeof t&&(t={message:t,code:3}):t.code=3,e.error(t)}));const r=this.options_.bufferBasedABR?iX.movingAverageBandwidthSelector(.55):iX.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=iX.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(e){this.playlistController_.selectPlaylist=e.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(e){this.playlistController_.mainSegmentLoader_.throughput.rate=e,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let e=this.playlistController_.mainSegmentLoader_.bandwidth;const t=lj.navigator.connection||lj.navigator.mozConnection||lj.navigator.webkitConnection,i=1e7;if(this.options_.useNetworkInformationApi&&t){const n=1e3*t.downlink*1e3;e=n>=i&&e>=i?Math.max(e,n):n}return e},set(e){this.playlistController_.mainSegmentLoader_.bandwidth=e,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const e=1/(this.bandwidth||1);let t;t=this.throughput>0?1/this.throughput:0;return Math.floor(1/(e+t))},set(){BG.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>tK(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>tK(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",(()=>{this.options_.useBandwidthFromLocalStorage&&(e=>{if(!lj.localStorage)return!1;let t=oX();t=t?GG(t,e):e;try{lj.localStorage.setItem(nX,JSON.stringify(t))}catch(E_){return!1}})({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})})),this.playlistController_.on("selectedinitialmedia",(()=>{var e;(e=this).representations=()=>{const t=e.playlistController_.main(),i=wK(t)?e.playlistController_.getAudioTrackPlaylists_():t.playlists;return i?i.filter((e=>!mK(e))).map(((t,i)=>new QY(e,t,t.id))):[]}})),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",(()=>{this.setupEme_()})),this.on(this.playlistController_,"progress",(function(){this.tech_.trigger("progress")})),this.on(this.playlistController_,"firstplay",(function(){this.ignoreNextSeekingEvent_=!0})),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=lj.URL.createObjectURL(this.playlistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),aX({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then((()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()})).catch((e=>{this.logger_("error while creating EME key session",e),this.player_.error({message:"Failed to initialize media keys for EME",code:3})}))}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,t=sX({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});this.player_.tech_.on("keystatuschange",(e=>{if("output-restricted"!==e.status)return;const t=this.playlistController_.main();if(!t||!t.playlists)return;const i=[];t.playlists.forEach((e=>{e&&e.attributes&&e.attributes.RESOLUTION&&e.attributes.RESOLUTION.height>=720&&(!e.excludeUntil||e.excludeUntil<1/0)&&(e.excludeUntil=1/0,i.push(e))})),i.length&&(BG.log.warn('DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.',...i),this.playlistController_.mainSegmentLoader_.resetEverything(),this.playlistController_.fastQualityChange_())})),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),t?this.createKeySessions_():this.playlistController_.sourceUpdater_.initializedEme()}setupQualityLevels_(){const e=BG.players[this.tech_.options_.playerId];e&&e.qualityLevels&&!this.qualityLevels_&&(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",(()=>{!function(e,t){t.representations().forEach((t=>{e.addQualityLevel(t)})),rX(e,t.playlists)}(this.qualityLevels_,this)})),this.playlists.on("mediachange",(()=>{rX(this.qualityLevels_,this.playlists)})))}static version(){return{"@videojs/http-streaming":tX,"mux.js":"7.0.0","mpd-parser":"1.1.1","m3u8-parser":"7.1.0","aes-decrypter":"4.0.1"}}version(){return this.constructor.version()}canChangeType(){return SY.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&lj.URL.revokeObjectURL&&(lj.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,t){return QK({playlist:this.playlistController_.media(),time:e,callback:t})}seekToProgramTime(e,t,i=!0,n=2){return YK({programTime:e,playlist:this.playlistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:t})}setupXhrHooks_(){this.xhr.onRequest=e=>{lX(this.xhr,e)},this.xhr.onResponse=e=>{cX(this.xhr,e)},this.xhr.offRequest=e=>{dX(this.xhr,e)},this.xhr.offResponse=e=>{uX(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}}const mX={name:"videojs-http-streaming",VERSION:tX,canHandleSource(e,t={}){const i=GG(BG.options,t);return mX.canPlayType(e.type,i)},handleSource(e,t,i={}){const n=GG(BG.options,i);return t.vhs=new pX(e,t,n),t.vhs.xhr=BK(),t.vhs.setupXhrHooks_(),t.vhs.src(e.src,e.type),t.vhs},canPlayType(e,t){const i=q$(e);if(!i)return"";const n=mX.getOverrideNative(t);return!iX.supportsTypeNatively(i)||n?"maybe":""},getOverrideNative(e={}){const{vhs:t={}}=e,i=!(BG.browser.IS_ANY_SAFARI||BG.browser.IS_IOS),{overrideNative:n=i}=t;return n}};L$("avc1.4d400d,mp4a.40.2")&&BG.getTech("Html5").registerSourceHandler(mX,0),BG.VhsHandler=pX,BG.VhsSourceHandler=mX,BG.Vhs=iX,BG.use||BG.registerComponent("Vhs",iX),BG.options.vhs=BG.options.vhs||{},BG.getPlugin&&BG.getPlugin("reloadSourceOnError")||BG.registerPlugin("reloadSourceOnError",eX);const fX={controls:!1,fluid:!0,controlBar:{volumePanel:{inline:!1}}},gX=({options:e})=>{const t=V.useRef(),i=V.useRef();return V.useEffect((()=>(i.current=BG(t.current,{...fX,...e}).ready((function(){})),()=>{i.current&&i.current.dispose()})),[e]),ee.jsx("video",{ref:t,className:"video-js"})};function yX({isOpen:e,setIsOpen:t}){return ee.jsxs(qE,{children:[ee.jsx(rE,{children:ee.jsx(yE,{children:ee.jsx(gE,{children:"Inline Modal"})})}),ee.jsx(iE,{className:"ion-padding",children:ee.jsxs(kE,{isOpen:e,children:[ee.jsx(rE,{children:ee.jsxs(yE,{children:[ee.jsx(gE,{children:"Description"}),ee.jsx(eE,{slot:"end",children:ee.jsx(TE,{onClick:()=>t(!1),children:"Close"})})]})}),ee.jsx(iE,{className:"ion-padding",children:ee.jsxs(ee.Fragment,{children:[ee.jsx("div",{children:"Exercises"}),ee.jsx(gX,{options:{autoplay:"false",responsive:!0,loop:!0,videoWidth:480,videoHeight:680,poster:"/assets/icons/step_000.jpg",sources:[{src:"/assets/icons/Step_jacks_wo_bounce0030-0150.mp4",type:"video/mp4"}]}}),ee.jsx("div",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni illum quidem recusandae ducimus quos reprehenderit. Veniam, molestias quos, dolorum consequuntur nisi deserunt omnis id illo sit cum qui. Eaque, dicta."})]})})]})})]})}const bX=()=>{nS.getPlatform();const[e,t]=V.useState(!1);return ee.jsxs(ee.Fragment,{children:[ee.jsxs("div",{children:[ee.jsxs(GD,{modules:[JD,YD,nj,ij,aj],slidesPerView:1,loop:!0,pagination:{clickable:!0},simulateTouch:!1,touchRatio:1,speed:800,observer:!0,observeParents:!0,observeSlideChildren:!0,className:"mySwiper",children:[ee.jsxs(KD,{children:[ee.jsx("p",{className:"track__exercises",children:"Biceps Curls#1"}),ee.jsx("div",{className:"ion-text-uppercase",children:ee.jsx("p",{className:"track__category",children:"Track: Upper Body#1"})}),ee.jsx(aE,{src:"/assets/icons/step_000.jpg",alt:"img",className:"swiper__image"})]}),ee.jsxs(KD,{children:[ee.jsx("p",{className:"track__exercises",children:"Biceps Curls#2"}),ee.jsx("div",{className:"ion-text-uppercase",children:ee.jsx("p",{className:"track__category",children:"Track: Upper Body#2"})}),ee.jsx(aE,{src:"/assets/icons/step_015.jpg",alt:"img",className:"swiper__image"})]}),ee.jsxs(KD,{children:[ee.jsx("p",{className:"track__exercises",children:"Biceps Curls#3"}),ee.jsx("div",{className:"ion-text-uppercase",children:ee.jsx("p",{className:"track__category",children:"Track: Upper Body#3"})}),ee.jsx(aE,{src:"/assets/icons/step_030.jpg",alt:"img",className:"swiper__image"})]}),ee.jsx(sj,{})]}),ee.jsx(nE,{children:ee.jsxs(pE,{children:[ee.jsx(tE,{children:ee.jsx(TE,{expand:"full",onClick:()=>t(!0),children:"EXPLAIN"})}),ee.jsx(tE,{children:ee.jsx(TE,{expand:"full",children:"MARK DOWN"})}),ee.jsx(tE,{children:ee.jsx(TE,{expand:"full",children:"SKIP"})})]})})]}),e?ee.jsx(yX,{isOpen:e,setIsOpen:t}):null]})},vX=()=>{const[e,t]=V.useState(!0),{timerInterval:i,timerStatus:n,timerKey:r,timerDuration:a,timerPausedTime:s,setTimerStatus:o,setTimerDuration:l,setTimerPausedTime:c,unsetTimer:d}=oM();return ee.jsxs(ee.Fragment,{children:[ee.jsx(EL,{}),ee.jsxs(qE,{id:"profile__content",children:[ee.jsx(rE,{children:ee.jsx(rE,{children:ee.jsxs(yE,{color:"warning",children:[ee.jsx(eE,{slot:"start",children:ee.jsx(dE,{})}),ee.jsx(gE,{children:"Timer"})]})})}),ee.jsx(iE,{children:e?ee.jsx(bX,{}):ee.jsxs(nE,{children:[ee.jsx(pE,{children:ee.jsx(tE,{className:"timer-content",children:ee.jsx(TL,{timerKey:r,timerInterval:i,timerDuration:s?Date.now()+s:a,timerActive:"running"===n,unsetTimer:d})})}),ee.jsxs(pE,{className:"ion-text-center",children:[ee.jsx(tE,{children:ee.jsx(xL,{timerHandler:"running"===n?()=>{o("pause"),c(),(async()=>{kL.cancel({notifications:[{id:1}]})})()}:()=>{s?(l(s),AL(s)):(l(1e3*i),AL(1e3*i)),o("running")},timerStatus:n})}),ee.jsx(tE,{children:ee.jsx(SL,{unsetTimer:d,timerStatus:n})})]})]})}),ee.jsx(_L,{})]})]})};function wX(e,t){return function(){return e.apply(t,arguments)}}const{toString:TX}=Object.prototype,{getPrototypeOf:xX}=Object,EX=(e=>t=>{const i=TX.call(t);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),_X=e=>(e=e.toLowerCase(),t=>EX(t)===e),SX=e=>t=>typeof t===e,{isArray:CX}=Array,kX=SX("undefined");const AX=_X("ArrayBuffer");const NX=SX("string"),OX=SX("function"),MX=SX("number"),PX=e=>null!==e&&"object"==typeof e,IX=e=>{if("object"!==EX(e))return!1;const t=xX(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},RX=_X("Date"),LX=_X("File"),DX=_X("Blob"),jX=_X("FileList"),$X=_X("URLSearchParams");function BX(e,t,{allOwnKeys:i=!1}={}){if(null==e)return;let n,r;if("object"!=typeof e&&(e=[e]),CX(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let s;for(n=0;n<a;n++)s=r[n],t.call(null,e[s],s,e)}}function qX(e,t){t=t.toLowerCase();const i=Object.keys(e);let n,r=i.length;for(;r-- >0;)if(n=i[r],t===n.toLowerCase())return n;return null}const UX="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,FX=e=>!kX(e)&&e!==UX;const zX=(VX="undefined"!=typeof Uint8Array&&xX(Uint8Array),e=>VX&&e instanceof VX);var VX;const HX=_X("HTMLFormElement"),WX=(({hasOwnProperty:e})=>(t,i)=>e.call(t,i))(Object.prototype),GX=_X("RegExp"),KX=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};BX(i,((i,r)=>{let a;!1!==(a=t(i,r,e))&&(n[r]=a||i)})),Object.defineProperties(e,n)},QX="abcdefghijklmnopqrstuvwxyz",YX="0123456789",XX={DIGIT:YX,ALPHA:QX,ALPHA_DIGIT:QX+QX.toUpperCase()+YX};const JX=_X("AsyncFunction"),ZX={isArray:CX,isArrayBuffer:AX,isBuffer:function(e){return null!==e&&!kX(e)&&null!==e.constructor&&!kX(e.constructor)&&OX(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||OX(e.append)&&("formdata"===(t=EX(e))||"object"===t&&OX(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&AX(e.buffer),t},isString:NX,isNumber:MX,isBoolean:e=>!0===e||!1===e,isObject:PX,isPlainObject:IX,isUndefined:kX,isDate:RX,isFile:LX,isBlob:DX,isRegExp:GX,isFunction:OX,isStream:e=>PX(e)&&OX(e.pipe),isURLSearchParams:$X,isTypedArray:zX,isFileList:jX,forEach:BX,merge:function e(){const{caseless:t}=FX(this)&&this||{},i={},n=(n,r)=>{const a=t&&qX(i,r)||r;IX(i[a])&&IX(n)?i[a]=e(i[a],n):IX(n)?i[a]=e({},n):CX(n)?i[a]=n.slice():i[a]=n};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&BX(arguments[r],n);return i},extend:(e,t,i,{allOwnKeys:n}={})=>(BX(t,((t,n)=>{i&&OX(t)?e[n]=wX(t,i):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let r,a,s;const o={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)s=r[a],n&&!n(s,e,t)||o[s]||(t[s]=e[s],o[s]=!0);e=!1!==i&&xX(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:EX,kindOfTest:_X,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return-1!==n&&n===i},toArray:e=>{if(!e)return null;if(CX(e))return e;let t=e.length;if(!MX(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=i.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let i;const n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:HX,hasOwnProperty:WX,hasOwnProp:WX,reduceDescriptors:KX,freezeMethods:e=>{KX(e,((t,i)=>{if(OX(e)&&-1!==["arguments","caller","callee"].indexOf(i))return!1;const n=e[i];OX(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")}))}))},toObjectSet:(e,t)=>{const i={},n=e=>{e.forEach((e=>{i[e]=!0}))};return CX(e)?n(e):n(String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,i){return t.toUpperCase()+i})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:qX,global:UX,isContextDefined:FX,ALPHABET:XX,generateString:(e=16,t=XX.ALPHA_DIGIT)=>{let i="";const{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&OX(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),i=(e,n)=>{if(PX(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const r=CX(e)?[]:{};return BX(e,((e,t)=>{const a=i(e,n+1);!kX(a)&&(r[t]=a)})),t[n]=void 0,r}}return e};return i(e,0)},isAsyncFn:JX,isThenable:e=>e&&(PX(e)||OX(e))&&OX(e.then)&&OX(e.catch)};function eJ(e,t,i,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r)}ZX.inherits(eJ,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ZX.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const tJ=eJ.prototype,iJ={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{iJ[e]={value:e}})),Object.defineProperties(eJ,iJ),Object.defineProperty(tJ,"isAxiosError",{value:!0}),eJ.from=(e,t,i,n,r,a)=>{const s=Object.create(tJ);return ZX.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),eJ.call(s,e.message,t,i,n,r),s.cause=e,s.name=e.name,a&&Object.assign(s,a),s};function nJ(e){return ZX.isPlainObject(e)||ZX.isArray(e)}function rJ(e){return ZX.endsWith(e,"[]")?e.slice(0,-2):e}function aJ(e,t,i){return e?e.concat(t).map((function(e,t){return e=rJ(e),!i&&t?"["+e+"]":e})).join(i?".":""):t}const sJ=ZX.toFlatObject(ZX,{},null,(function(e){return/^is[A-Z]/.test(e)}));function oJ(e,t,i){if(!ZX.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(i=ZX.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ZX.isUndefined(t[e])}))).metaTokens,r=i.visitor||c,a=i.dots,s=i.indexes,o=(i.Blob||"undefined"!=typeof Blob&&Blob)&&ZX.isSpecCompliantForm(t);if(!ZX.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ZX.isDate(e))return e.toISOString();if(!o&&ZX.isBlob(e))throw new eJ("Blob is not supported. Use a Buffer instead.");return ZX.isArrayBuffer(e)||ZX.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,i,r){let o=e;if(e&&!r&&"object"==typeof e)if(ZX.endsWith(i,"{}"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else if(ZX.isArray(e)&&function(e){return ZX.isArray(e)&&!e.some(nJ)}(e)||(ZX.isFileList(e)||ZX.endsWith(i,"[]"))&&(o=ZX.toArray(e)))return i=rJ(i),o.forEach((function(e,n){!ZX.isUndefined(e)&&null!==e&&t.append(!0===s?aJ([i],n,a):null===s?i:i+"[]",l(e))})),!1;return!!nJ(e)||(t.append(aJ(r,i,a),l(e)),!1)}const d=[],u=Object.assign(sJ,{defaultVisitor:c,convertValue:l,isVisitable:nJ});if(!ZX.isObject(e))throw new TypeError("data must be an object");return function e(i,n){if(!ZX.isUndefined(i)){if(-1!==d.indexOf(i))throw Error("Circular reference detected in "+n.join("."));d.push(i),ZX.forEach(i,(function(i,a){!0===(!(ZX.isUndefined(i)||null===i)&&r.call(t,i,ZX.isString(a)?a.trim():a,n,u))&&e(i,n?n.concat(a):[a])})),d.pop()}}(e),t}function lJ(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function cJ(e,t){this._pairs=[],e&&oJ(e,this,t)}const dJ=cJ.prototype;function uJ(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function hJ(e,t,i){if(!t)return e;const n=i&&i.encode||uJ,r=i&&i.serialize;let a;if(a=r?r(t,i):ZX.isURLSearchParams(t)?t.toString():new cJ(t,i).toString(n),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}dJ.append=function(e,t){this._pairs.push([e,t])},dJ.toString=function(e){const t=e?function(t){return e.call(this,t,lJ)}:lJ;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const pJ=class{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ZX.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},mJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fJ={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:cJ,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},isStandardBrowserEnv:(()=>{let e;return("undefined"==typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!=typeof window&&"undefined"!=typeof document)})(),isStandardBrowserWebWorkerEnv:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};function gJ(e){function t(e,i,n,r){let a=e[r++];const s=Number.isFinite(+a),o=r>=e.length;if(a=!a&&ZX.isArray(n)?n.length:a,o)return ZX.hasOwnProp(n,a)?n[a]=[n[a],i]:n[a]=i,!s;n[a]&&ZX.isObject(n[a])||(n[a]=[]);return t(e,i,n[a],r)&&ZX.isArray(n[a])&&(n[a]=function(e){const t={},i=Object.keys(e);let n;const r=i.length;let a;for(n=0;n<r;n++)a=i[n],t[a]=e[a];return t}(n[a])),!s}if(ZX.isFormData(e)&&ZX.isFunction(e.entries)){const i={};return ZX.forEachEntry(e,((e,n)=>{t(function(e){return ZX.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,i,0)})),i}return null}const yJ={transitional:mJ,adapter:fJ.isNode?"http":"xhr",transformRequest:[function(e,t){const i=t.getContentType()||"",n=i.indexOf("application/json")>-1,r=ZX.isObject(e);r&&ZX.isHTMLForm(e)&&(e=new FormData(e));if(ZX.isFormData(e))return n&&n?JSON.stringify(gJ(e)):e;if(ZX.isArrayBuffer(e)||ZX.isBuffer(e)||ZX.isStream(e)||ZX.isFile(e)||ZX.isBlob(e))return e;if(ZX.isArrayBufferView(e))return e.buffer;if(ZX.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return oJ(e,new fJ.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return fJ.isNode&&ZX.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=ZX.isFileList(e))||i.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return oJ(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType("application/json",!1),function(e,t,i){if(ZX.isString(e))try{return(t||JSON.parse)(e),ZX.trim(e)}catch(E_){if("SyntaxError"!==E_.name)throw E_}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||yJ.transitional,i=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&ZX.isString(e)&&(i&&!this.responseType||n)){const i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(E_){if(i){if("SyntaxError"===E_.name)throw eJ.from(E_,eJ.ERR_BAD_RESPONSE,this,null,this.response);throw E_}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fJ.classes.FormData,Blob:fJ.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ZX.forEach(["delete","get","head","post","put","patch"],(e=>{yJ.headers[e]={}}));const bJ=yJ,vJ=ZX.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wJ=Symbol("internals");function TJ(e){return e&&String(e).trim().toLowerCase()}function xJ(e){return!1===e||null==e?e:ZX.isArray(e)?e.map(xJ):String(e)}function EJ(e,t,i,n,r){return ZX.isFunction(n)?n.call(this,t,i):(r&&(t=i),ZX.isString(t)?ZX.isString(n)?-1!==t.indexOf(n):ZX.isRegExp(n)?n.test(t):void 0:void 0)}class _J{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function r(e,t,i){const r=TJ(t);if(!r)throw new Error("header name must be a non-empty string");const a=ZX.findKey(n,r);(!a||void 0===n[a]||!0===i||void 0===i&&!1!==n[a])&&(n[a||t]=xJ(e))}const a=(e,t)=>ZX.forEach(e,((e,i)=>r(e,i,t)));return ZX.isPlainObject(e)||e instanceof this.constructor?a(e,t):ZX.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a((e=>{const t={};let i,n,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),i=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!i||t[i]&&vJ[i]||("set-cookie"===i?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+", "+n:n)})),t})(e),t):null!=e&&r(t,e,i),this}get(e,t){if(e=TJ(e)){const i=ZX.findKey(this,e);if(i){const e=this[i];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}(e);if(ZX.isFunction(t))return t.call(this,e,i);if(ZX.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=TJ(e)){const i=ZX.findKey(this,e);return!(!i||void 0===this[i]||t&&!EJ(0,this[i],i,t))}return!1}delete(e,t){const i=this;let n=!1;function r(e){if(e=TJ(e)){const r=ZX.findKey(i,e);!r||t&&!EJ(0,i[r],r,t)||(delete i[r],n=!0)}}return ZX.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const r=t[i];e&&!EJ(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,i={};return ZX.forEach(this,((n,r)=>{const a=ZX.findKey(i,r);if(a)return t[a]=xJ(n),void delete t[r];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,i)=>t.toUpperCase()+i))}(r):String(r).trim();s!==r&&delete t[r],t[s]=xJ(n),i[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ZX.forEach(this,((i,n)=>{null!=i&&!1!==i&&(t[n]=e&&ZX.isArray(i)?i.join(", "):i)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach((e=>i.set(e))),i}static accessor(e){const t=(this[wJ]=this[wJ]={accessors:{}}).accessors,i=this.prototype;function n(e){const n=TJ(e);t[n]||(!function(e,t){const i=ZX.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+i,{value:function(e,i,r){return this[n].call(this,t,e,i,r)},configurable:!0})}))}(i,e),t[n]=!0)}return ZX.isArray(e)?e.forEach(n):n(e),this}}_J.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ZX.reduceDescriptors(_J.prototype,(({value:e},t)=>{let i=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[i]=e}}})),ZX.freezeMethods(_J);const SJ=_J;function CJ(e,t){const i=this||bJ,n=t||i,r=SJ.from(n.headers);let a=n.data;return ZX.forEach(e,(function(e){a=e.call(i,a,r.normalize(),t?t.status:void 0)})),r.normalize(),a}function kJ(e){return!(!e||!e.__CANCEL__)}function AJ(e,t,i){eJ.call(this,null==e?"canceled":e,eJ.ERR_CANCELED,t,i),this.name="CanceledError"}ZX.inherits(AJ,eJ,{__CANCEL__:!0});const NJ=fJ.isStandardBrowserEnv?{write:function(e,t,i,n,r,a){const s=[];s.push(e+"="+encodeURIComponent(t)),ZX.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),ZX.isString(n)&&s.push("path="+n),ZX.isString(r)&&s.push("domain="+r),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function OJ(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const MJ=fJ.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let i;function n(i){let n=i;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return i=n(window.location.href),function(e){const t=ZX.isString(e)?n(e):e;return t.protocol===i.protocol&&t.host===i.host}}():function(){return!0};function PJ(e,t){let i=0;const n=function(e,t){e=e||10;const i=new Array(e),n=new Array(e);let r,a=0,s=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=n[s];r||(r=l),i[a]=o,n[a]=l;let d=s,u=0;for(;d!==a;)u+=i[d++],d%=e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),l-r<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}}(50,250);return r=>{const a=r.loaded,s=r.lengthComputable?r.total:void 0,o=a-i,l=n(o);i=a;const c={loaded:a,total:s,progress:s?a/s:void 0,bytes:o,rate:l||void 0,estimated:l&&s&&a<=s?(s-a)/l:void 0,event:r};c[t?"download":"upload"]=!0,e(c)}}const IJ="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,i){let n=e.data;const r=SJ.from(e.headers).normalize(),a=e.responseType;let s;function o(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}ZX.isFormData(n)&&(fJ.isStandardBrowserEnv||fJ.isStandardBrowserWebWorkerEnv?r.setContentType(!1):r.setContentType("multipart/form-data;",!1));let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",i=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";r.set("Authorization","Basic "+btoa(t+":"+i))}const c=OJ(e.baseURL,e.url);function d(){if(!l)return;const n=SJ.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,i){const n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(new eJ("Request failed with status code "+i.status,[eJ.ERR_BAD_REQUEST,eJ.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):e(i)}((function(e){t(e),o()}),(function(e){i(e),o()}),{data:a&&"text"!==a&&"json"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:n,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),hJ(c,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(d)},l.onabort=function(){l&&(i(new eJ("Request aborted",eJ.ECONNABORTED,e,l)),l=null)},l.onerror=function(){i(new eJ("Network Error",eJ.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const n=e.transitional||mJ;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new eJ(t,n.clarifyTimeoutError?eJ.ETIMEDOUT:eJ.ECONNABORTED,e,l)),l=null},fJ.isStandardBrowserEnv){const t=(e.withCredentials||MJ(c))&&e.xsrfCookieName&&NJ.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===n&&r.setContentType(null),"setRequestHeader"in l&&ZX.forEach(r.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),ZX.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&"json"!==a&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",PJ(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",PJ(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{l&&(i(!t||t.type?new AJ(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const u=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(c);u&&-1===fJ.protocols.indexOf(u)?i(new eJ("Unsupported protocol "+u+":",eJ.ERR_BAD_REQUEST,e)):l.send(n||null)}))},RJ={http:null,xhr:IJ};ZX.forEach(RJ,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(E_){}Object.defineProperty(e,"adapterName",{value:t})}}));const LJ=e=>{e=ZX.isArray(e)?e:[e];const{length:t}=e;let i,n;for(let r=0;r<t&&(i=e[r],!(n=ZX.isString(i)?RJ[i.toLowerCase()]:i));r++);if(!n){if(!1===n)throw new eJ(`Adapter ${i} is not supported by the environment`,"ERR_NOT_SUPPORT");throw new Error(ZX.hasOwnProp(RJ,i)?`Adapter '${i}' is not available in the build`:`Unknown adapter '${i}'`)}if(!ZX.isFunction(n))throw new TypeError("adapter is not a function");return n};function DJ(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new AJ(null,e)}function jJ(e){DJ(e),e.headers=SJ.from(e.headers),e.data=CJ.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return LJ(e.adapter||bJ.adapter)(e).then((function(t){return DJ(e),t.data=CJ.call(e,e.transformResponse,t),t.headers=SJ.from(t.headers),t}),(function(t){return kJ(t)||(DJ(e),t&&t.response&&(t.response.data=CJ.call(e,e.transformResponse,t.response),t.response.headers=SJ.from(t.response.headers))),Promise.reject(t)}))}const $J=e=>e instanceof SJ?e.toJSON():e;function BJ(e,t){t=t||{};const i={};function n(e,t,i){return ZX.isPlainObject(e)&&ZX.isPlainObject(t)?ZX.merge.call({caseless:i},e,t):ZX.isPlainObject(t)?ZX.merge({},t):ZX.isArray(t)?t.slice():t}function r(e,t,i){return ZX.isUndefined(t)?ZX.isUndefined(e)?void 0:n(void 0,e,i):n(e,t,i)}function a(e,t){if(!ZX.isUndefined(t))return n(void 0,t)}function s(e,t){return ZX.isUndefined(t)?ZX.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function o(i,r,a){return a in t?n(i,r):a in e?n(void 0,i):void 0}const l={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(e,t)=>r($J(e),$J(t),!0)};return ZX.forEach(Object.keys(Object.assign({},e,t)),(function(n){const a=l[n]||r,s=a(e[n],t[n],n);ZX.isUndefined(s)&&a!==o||(i[n]=s)})),i}const qJ="1.5.0",UJ={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{UJ[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}}));const FJ={};UJ.transitional=function(e,t,i){function n(e,t){return"[Axios v1.5.0] Transitional option '"+e+"'"+t+(i?". "+i:"")}return(i,r,a)=>{if(!1===e)throw new eJ(n(r," has been removed"+(t?" in "+t:"")),eJ.ERR_DEPRECATED);return t&&!FJ[r]&&(FJ[r]=!0,console.warn(n(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(i,r,a)}};const zJ={assertOptions:function(e,t,i){if("object"!=typeof e)throw new eJ("options must be an object",eJ.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const a=n[r],s=t[a];if(s){const t=e[a],i=void 0===t||s(t,a,e);if(!0!==i)throw new eJ("option "+a+" must be "+i,eJ.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new eJ("Unknown option "+a,eJ.ERR_BAD_OPTION)}},validators:UJ},VJ=zJ.validators;class HJ{constructor(e){this.defaults=e,this.interceptors={request:new pJ,response:new pJ}}request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=BJ(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:r}=t;void 0!==i&&zJ.assertOptions(i,{silentJSONParsing:VJ.transitional(VJ.boolean),forcedJSONParsing:VJ.transitional(VJ.boolean),clarifyTimeoutError:VJ.transitional(VJ.boolean)},!1),null!=n&&(ZX.isFunction(n)?t.paramsSerializer={serialize:n}:zJ.assertOptions(n,{encode:VJ.function,serialize:VJ.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=r&&ZX.merge(r.common,r[t.method]);r&&ZX.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=SJ.concat(a,r);const s=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!o){const e=[jJ.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let h=t;for(u=0;u<d;){const e=s[u++],t=s[u++];try{h=e(h)}catch(p){t.call(this,p);break}}try{c=jJ.call(this,h)}catch(p){return Promise.reject(p)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return hJ(OJ((e=BJ(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}ZX.forEach(["delete","get","head","options"],(function(e){HJ.prototype[e]=function(t,i){return this.request(BJ(i||{},{method:e,url:t,data:(i||{}).data}))}})),ZX.forEach(["post","put","patch"],(function(e){function t(t){return function(i,n,r){return this.request(BJ(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}HJ.prototype[e]=t(),HJ.prototype[e+"Form"]=t(!0)}));const WJ=HJ;class GJ{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const i=this;this.promise.then((e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e((function(e,n,r){i.reason||(i.reason=new AJ(e,n,r),t(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;const t=new GJ((function(t){e=t}));return{token:t,cancel:e}}}const KJ=GJ;const QJ={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(QJ).forEach((([e,t])=>{QJ[t]=e}));const YJ=QJ;const XJ=function e(t){const i=new WJ(t),n=wX(WJ.prototype.request,i);return ZX.extend(n,WJ.prototype,i,{allOwnKeys:!0}),ZX.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(BJ(t,i))},n}(bJ);XJ.Axios=WJ,XJ.CanceledError=AJ,XJ.CancelToken=KJ,XJ.isCancel=kJ,XJ.VERSION=qJ,XJ.toFormData=oJ,XJ.AxiosError=eJ,XJ.Cancel=XJ.CanceledError,XJ.all=function(e){return Promise.all(e)},XJ.spread=function(e){return function(t){return e.apply(null,t)}},XJ.isAxiosError=function(e){return ZX.isObject(e)&&!0===e.isAxiosError},XJ.mergeConfig=BJ,XJ.AxiosHeaders=SJ,XJ.formToJSON=e=>gJ(ZX.isHTMLForm(e)?new FormData(e):e),XJ.getAdapter=LJ,XJ.HttpStatusCode=YJ,XJ.default=XJ;const JJ=XJ;var ZJ,eZ;!function(e){e.Documents="DOCUMENTS",e.Data="DATA",e.Library="LIBRARY",e.Cache="CACHE",e.External="EXTERNAL",e.ExternalStorage="EXTERNAL_STORAGE"}(ZJ||(ZJ={})),t("E",eZ),function(e){e.UTF8="utf8",e.ASCII="ascii",e.UTF16="utf16"}(eZ||t("E",eZ={}));const tZ=rS("Filesystem",{web:()=>Ep((()=>i.import("./web-legacy-83be23ec.js"))).then((e=>new e.FilesystemWeb))});const iZ=async(e,t)=>{try{const i=await async function(e){const t=await fetch(e).then((e=>e.blob()));return new Promise(((e,i)=>{const n=new FileReader;n.readAsDataURL(t),n.onerror=i,n.onload=()=>{"string"==typeof n.result?e(n.result):i("base64 format isn't string")}}))}(e),n=await tZ.writeFile({path:`${t}`,data:i,directory:ZJ.Data});return(e=>yg(window,e))("hybrid")?(console.log("Base64 file for hybrid platform"),{filePath:n.uri,webviewPath:nS.convertFileSrc(n.uri)}):(console.log("Base64 file for web platform"),{filePath:t,webviewPath:`${t}`})}catch(i){console.log("Error with writing base64 file ",i)}},nZ=()=>{const e="track.mp4",t="/assets/icons/Step_jacks_wo_bounce0030-0150.mp4",[i,n]=V.useState();V.useEffect((()=>{}),[]);const[r,a]=V.useState("");V.useState();const{showConfirmationAlert:s,ConfirmationAlert:o}=(()=>{const[e,t]=V.useState(!1),[i,n]=V.useState(""),[r,a]=V.useState();return{showConfirmationAlert:(e,i)=>{n(e),a((()=>i)),t(!0)},ConfirmationAlert:ee.jsx(CE,{isOpen:e,message:i,buttons:[{text:"Cancel",role:"cancel",handler:()=>{t(!1)}},{text:"Confirm",handler:()=>{r&&r(),t(!1)}}]})}})(),[l,c]=V.useState();V.useEffect((()=>{d()}),[]);const d=async()=>{var e;const t=null===(e=nM.connection)||void 0===e?void 0:e.getRepository(KO),i=await(null==t?void 0:t.find({}));c(i)},u=t;return ee.jsxs(ee.Fragment,{children:[ee.jsx(EL,{}),ee.jsxs(qE,{id:"profile__content",children:[ee.jsx(rE,{children:ee.jsx(rE,{children:ee.jsxs(yE,{color:"warning",children:[ee.jsx(eE,{slot:"start",children:ee.jsx(dE,{})}),ee.jsx(gE,{children:"Home"})]})})}),ee.jsxs(iE,{fullscreen:!0,className:"ion-padding",children:[ee.jsx(xE,{children:ee.jsx("iframe",{width:"560",height:"315",src:"data:video/mp4;base64, "+i,title:"TestFitRem",allowFullScreen:!0})}),ee.jsxs(xE,{children:[ee.jsx(sE,{type:"text",value:r,onIonInput:e=>a(e.target.value)}),ee.jsx(TE,{slot:"end",onClick:async()=>{var e;const t=await JJ.request({url:u,method:"get",responseType:"arraybuffer"}),i=null===(e=nM.connection)||void 0===e?void 0:e.getRepository(KO);await(null==i?void 0:i.save({id:Date.now().toString(),isActive:!0,isActive2:!1,name:r,jsonTest:JSON.stringify({id:Math.random(),nest:{nested:!0}}),file:Buffer.from(t.data).toString("base64")}));const n=await(null==i?void 0:i.find({}));c(n)},disabled:""===r.trim(),children:"ADD"}),ee.jsx(TE,{slot:"end",onClick:()=>iZ(t,e),children:"ADD TRACK"}),ee.jsx(TE,{slot:"end",onClick:()=>(async e=>{try{await tZ.deleteFile({path:e,directory:ZJ.Data}),console.log("Track was removed successfully")}catch(t){console.log("Error with removing track ",t)}})(e),children:"DELETE"}),ee.jsx(TE,{slot:"end",onClick:()=>(async e=>{try{const t=await tZ.readFile({path:e,directory:ZJ.Data});return console.log("*********** read"),t.data}catch(t){return console.error("Error with reading",t),null}})(e).then((e=>n(e))),children:"READ"})]}),ee.jsx("h3",{children:"THE SQLITE DATA"}),null==l?void 0:l.map((e=>ee.jsxs(xE,{children:[ee.jsx("iframe",{width:"300",height:"315",src:"data:video/mp4;base64, "+e.file,title:"TestFitRem",allowFullScreen:!0}),ee.jsx(TE,{onClick:()=>(async e=>{try{var t;const i=null===(t=nM.connection)||void 0===t?void 0:t.getRepository(KO);if(i){const t=await i.findOne({where:{id:e}});t?await i.remove(t):console.log("can't rename input:",t.id)}else console.log("Connection to DB is absent");const n=await(null==i?void 0:i.find({}));c(n)}catch(i){alert(i.message)}})(null==e?void 0:e.id),children:"DELETE"})]},null==e?void 0:e.id))),o]}),ee.jsx(_L,{})]})]})};((e={})=>{"undefined"!=typeof document&&document.documentElement.classList.add("ion-ce"),Mg(Object.assign({},e))})();const rZ=()=>{const{rehydrated:e}=oM();return ee.jsx(DE,{children:e?ee.jsx(g_,{children:ee.jsxs(HE,{children:[ee.jsx(xp,{exact:!0,path:"/home",children:ee.jsx(nZ,{})}),ee.jsx(xp,{exact:!0,path:"/timer",children:ee.jsx(vX,{})}),ee.jsx(xp,{exact:!0,path:"/timer-configuration",children:ee.jsx(dM,{})}),ee.jsx(xp,{exact:!0,path:"/",children:ee.jsx(yp,{to:"/home"})})]})}):ee.jsx(mE,{className:"spinner"})})};window.addEventListener("DOMContentLoaded",(async()=>{try{const e=document.getElementById("root");du(e).render(ee.jsx(rZ,{}))}catch(E_){console.log(E_)}})),window.Buffer=xS.Buffer}}}))}();
